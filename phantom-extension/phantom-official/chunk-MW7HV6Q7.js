import{d as er}from"./chunk-JABDXU4V.js";import{a as rr,d as sr,e as nr,f as ir}from"./chunk-VKPLOSOF.js";import{a as q,c as ne,d as Y,f as tr,h as Me}from"./chunk-MVKAEI3Z.js";import{a as Zt,c as Rt}from"./chunk-L3N7XTZJ.js";import{A as Gt,F as jt,G as qt,H as _e,I as Yt,f as Ce,i as zt,m as _t}from"./chunk-Q7EFTJLZ.js";import{a as Jt}from"./chunk-PTJHYG2U.js";import{a as Z}from"./chunk-CEZMY2VY.js";import{b as Fe,g as Qt}from"./chunk-KXXMDE73.js";import{d as $t,f as O,h as Kt,k as L}from"./chunk-TN4WWJWX.js";import{a as Xt}from"./chunk-4CYOLQKB.js";import{a as Wt}from"./chunk-CSP4JV2R.js";import{a as or,b as ar}from"./chunk-GSCCCNRG.js";import{e as Dt}from"./chunk-6R5SHFYO.js";import{h as vt,i as Ct,j as Ft}from"./chunk-RP4HT6XN.js";import{a as Nt}from"./chunk-BYWSHP5V.js";import{c as Vt,d as se}from"./chunk-K5HHPSTF.js";import{G as Bt,J as ve,M as Ht,T as Ot,ib as M,p as x,v as Ke}from"./chunk-6C52MCLT.js";import{Zb as Ut,ra as Mt,s as Te,ta as It,yb as Et,zb as Lt}from"./chunk-OERJXOXU.js";import{a as kt}from"./chunk-QPRXGMQJ.js";import{a as bt,c as oe}from"./chunk-BRFTXGI6.js";import{a as vr}from"./chunk-HYOCMEEG.js";import{L as ht,M as Pt,P as be,Q as wt,W as xt,X as At,ea as Tt,g as ft}from"./chunk-7X5IGQSF.js";import{$b as tt,Ac as at,Ad as j,Bc as te,Bd as lt,Fc as de,Gd as re,Nd as dt,Za as Ve,ac as rt,ee as mt,ge as Ne,he as pt,pc as nt,re as ut,td as ct,te as $e,vc as ze,wc as xe,yc as Ae,zc as it}from"./chunk-M4V43KDP.js";import{H as we,K as ot,L as st}from"./chunk-46FGAK6J.js";import{H as w,K as le,L as E,M as z,Oa as yt,Q as gt,S as St,Ua as T,fa as me,x as g}from"./chunk-HG4P4WCJ.js";import{r as et}from"./chunk-Q24656HF.js";import{z as _}from"./chunk-VU23O6LP.js";import{D as Je,E as Pe,F as Oe,O as Ze}from"./chunk-YTFWYDJ6.js";import{_ as Re,a as k}from"./chunk-O2FNG2JZ.js";import{f as b,h as p,i as v,m as Buffer,n as u}from"./chunk-3KENBVE7.js";p();u();var Ge=b(k());var cr=({value:e,onChange:t})=>{let{t:r}=g();return Ge.default.createElement(Cr,null,Ge.default.createElement(Qt,{placeholder:r("assetListSearch"),value:e,onChange:n=>{"value"in n.target&&typeof n.target.value=="string"&&t(n.target.value)},showClearIcon:!!e,onClear:()=>{t("")}}))},Cr=x.div`
  padding: 14px 0 14px;
  background: ${w.colors.legacy.bgWallet};
  position: relative;
  border-bottom: none;

  &:after {
    content: "";
    position: absolute;
    bottom: 0;
    left: -20px;
    width: calc(100% + 40px);
    border-bottom: 1px solid ${w.colors.legacy.borderPrimary};
  }
`;p();u();var l=b(k());p();u();p();u();p();u();p();u();var R=b(k()),Fr=({navigateToPublicAddresses:e,toastController:t})=>{let{t:r}=g(),n=te(),o=Ne(),{PRIVACY_STATE_DISPLAY_METADATA:a}=Ie(),{mutateAsync:i}=Ae();return R.default.createElement(E,{direction:"column",width:"100%",gap:16},R.default.createElement(T,{rows:["public","private","invisible"].map(s=>{let{icon:S,title:f,description:d}=a[s],h=S,m=s===o;return{type:"radio",id:`privacy-state--${s}`,active:m,alignStartNodeItems:"ascender",start:R.default.createElement(h,{size:18,color:"accentPrimary"}),topLeft:{text:f},bottomLeft:{component:()=>R.default.createElement(z,{align:"left",font:"label",color:"textSecondary",children:d})},onPress:()=>{m||i({privacyState:s},{onSuccess:()=>{n.onPrivacyStateUpdated(s),t.success(r("settingsManageUserProfileUpdatePrivacyStateToast"),{id:"privacy-state-toast"})},onError:()=>t.error(r("settingsManageUserProfileUpdatePrivacyStateToastFailure"),{id:"privacy-state-toast"})})}}})}),R.default.createElement(T,{rows:[{type:"drawer",disabled:o==="invisible",start:R.default.createElement(le.Search,{size:18,color:"accentPrimary"}),topLeft:{text:r("settingsClaimUsernameManageAddressesTitle")},topRight:o==="invisible"?{text:r("pastParticipleDisabled")}:void 0,onPress:e}]}))},Ie=()=>{let{t:e}=g(),t=Ne(),r=(0,R.useMemo)(()=>({public:{title:e("settingsManageUserProfilePrivacyStatePublic"),icon:le.Globe,description:e("settingsManageUserProfilePrivacyStatePublicDescription")},private:{title:e("settingsManageUserProfilePrivacyStatePrivate"),icon:le.Lock,description:e("settingsManageUserProfilePrivacyStatePrivateDescription")},invisible:{title:e("settingsManageUserProfilePrivacyStateInvisible"),icon:le.EyeOff,description:e("settingsManageUserProfilePrivacyStateInvisibleDescription")},hidden:{title:e("settingsManageUserProfilePrivacyStatePublic"),icon:le.Globe,description:e("settingsManageUserProfilePrivacyStatePublicDescription")}}),[e]);return{currentPrivacyState:r[t],PRIVACY_STATE_DISPLAY_METADATA:r}};p();u();var pe=b(yt()),ee=b(k()),Mr=({accountAvatarGenerator:e,toastController:t})=>{let{t:r}=g(),n=te(),o=ct(),{data:a=[]}=j(),i=pt(),{mutateAsync:s,isPending:S}=Ae(),f=(0,ee.useMemo)(()=>o.map(d=>{let h=Ve.getChainID(d),A=a.filter(C=>C.addresses.some(U=>(0,pe.default)(U.networkID,d))).map(C=>{let U=a.findIndex(y=>(0,pe.default)(y.identifier,C.identifier)),B=C.addresses.find(y=>(0,pe.default)(y.networkID,d))?.address;if(!B)throw new Error(`Unable to find address for Chain (${d}) in account: ${C.identifier}`);let P=C.addresses.some(y=>(0,pe.default)(i?.[d],y.address));return{start:e(C.name,C.icon,U),topLeft:{text:C.name,font:"body"},bottomLeft:{text:rt(B||"")},active:P,disabled:S,type:"radio",onPress:async()=>{try{let y={...i,[d]:B};await s({addresses:y}),t.success(r("settingsManageUserProfileUpdatePublicAddressToast")),n.onPublicAddressesUpdated(Object.entries(y).filter(([I,F])=>!!F).map(([I])=>I))}catch(y){_.captureError(y,"account"),t.error(r("settingsManageUserProfileUpdatePublicAddressToastFailure"))}}}});return A.length===1&&A[0]?.type==="check"&&A[0]?.active&&(A[0].disabled=!0),ee.default.createElement(E,{key:d,direction:"column",gap:16},ee.default.createElement(E,{direction:"row",gap:12,alignItems:"center",justifyContent:"flex-start"},ee.default.createElement(kt,{networkID:d,size:24}),ee.default.createElement(z,{font:"captionSemibold",color:"textPrimary",children:r(Ve.getChainName(h))})),ee.default.createElement(T,{rows:A}))}),[e,a,o,S,n,s,i,r,t]);return ee.default.createElement(E,{direction:"column",width:"100%",gap:24},f)};p();u();var je=b(yt()),ue=b(k()),Ir=({accountAvatarGenerator:e,toastController:t})=>{let{t:r}=g(),n=te(),{data:o=[]}=j(),{data:a}=xe(),{mutateAsync:i}=it(),{mutateAsync:s}=at(),S=(0,ue.useMemo)(()=>o.filter(f=>tt(f)).map(f=>{let d=o.findIndex(m=>(0,je.default)(m.identifier,f.identifier)),h=a?.some(m=>(0,je.default)(m.accountHash,f.identifier))||!1;return{type:"check",active:h,start:e(f.name,f.icon,d),topLeft:{text:f.name,font:"body"},onPress:async()=>{try{let m=a?.length??0;h?(await s(f.identifier),m--):(await i(f.identifier),m++),t.success(r("settingsManageUserProfileUpdateLinkedWalletsToast")),n.onLinkedWalletsUpdated(m,o.length)}catch(m){_.captureError(m,"account"),t.error(r("settingsManageUserProfileUpdateLinkedWalletsToastFailure"))}}}}),[o,a,e,t,r,n,s,i]);return ue.default.createElement(E,{width:"100%"},ue.default.createElement(T,{rows:S}))};p();u();var Q=b(k()),kr=({accountAvatarGenerator:e,toastController:t})=>{let{t:r}=g(),n=te(),{data:o=[]}=j(),{data:a=[]}=re("all"),{data:i}=we(),s=Object.values(i||{}).filter(P=>P?.isExistingAuthFactor).length,{mutateAsync:S}=ot(),{mutateAsync:f}=st(),d=Er(),[h,m]=(0,Q.useMemo)(()=>{let P=Object.keys(i||{}),y=new Set,I=new Set;for(let F of o)F.type==="seed"||F.type==="seedless"?F.seedIdentifier&&P.includes(F.seedIdentifier)&&y.add(F.seedIdentifier):F.type==="privateKey"&&F.privateKeyIdentifier&&P.includes(F.privateKeyIdentifier)&&I.add(F.privateKeyIdentifier);return[[...y],[...I]]},[o,i]),A=(0,Q.useCallback)(P=>{(async()=>{try{let y=s;i?.[P]?.isExistingAuthFactor?(await f({authenticationPublicKey:i[P]?.authenticationPublicKey}),y--):(await S({secretIdentifier:P}),y++),t.success(r("settingsManageUserProfileUpdateAuthFactorsToast")),n.onAuthFactorsUpdated(y,h.length+m.length)}catch(y){_.captureError(y,"account"),t.error(r("settingsManageUserProfileUpdateAuthFactorsToastFailure"))}})()},[S,i,n,f,r,t,s,m.length,h.length]),C=h.map(P=>{let y=i?.[P]?.isExistingAuthFactor??!1,I=y&&s===1,F=a.findIndex(ce=>ce.identifier===P);return d({accountAvatarGenerator:e,secretType:"secret-phrase",secretIndex:F,secretId:P,isActive:y,accounts:de(o,P),onPress:A,disabled:I})}),U=m.map((P,y)=>{let I=i?.[P]?.isExistingAuthFactor??!1,F=I&&s===1;return d({accountAvatarGenerator:e,secretType:"private-key",secretIndex:y,secretId:P,isActive:I,accounts:de(o,P),onPress:A,disabled:F})}),B=[...C,...U];return Q.default.createElement(E,{width:"100%"},Q.default.createElement(T,{rows:B}))},Er=()=>{let{t:e}=g(),t=(0,Q.useCallback)((o,a)=>{switch(o){case"secret-phrase":return e("addAccountSecretPhraseDefaultLabel",{number:a+1});case"private-key":return e("addAccountPrivateKeyDefaultLabel",{number:a+1});default:return""}},[e]),r=(0,Q.useCallback)(o=>o===1?e("settingsClaimUsernameNoOfAccountsSingular"):o>0?e("settingsClaimUsernameNoOfAccounts",{noOfAccounts:o}):e("settingsClaimUsernameEmptyAccounts"),[e]);return(0,Q.useCallback)(({accountAvatarGenerator:o,secretId:a,secretType:i,secretIndex:s,accounts:S,isActive:f,onPress:d,disabled:h})=>{let m=S[0],A=t(i,s),C=r(S.length),U=m?o(m?.name||"",m?.icon,0):void 0;return{key:`auth-factor-${a}`,type:"check",active:f,topLeft:A,bottomLeft:{text:C,before:U},onPress:()=>d(a),disabled:h}},[r,t])};p();u();var G=b(k());var Lr=({navigateToEditUsername:e,navigateToAuthFactors:t,navigateToEditBiography:r,navigateToSyncedAccounts:n,navigateToPrivacyState:o,navigateToFollowers:a})=>{let{t:i}=g(),s=mt(),{data:S,isPending:f}=ze(),d=S?.biography,{data:h,isPending:m}=we(),A=Object.values(h||{}),C=A.filter(J=>J?.isExistingAuthFactor)?.length?.toString(),U=m||A?.length===0,{data:B,isPending:P}=xe(),y=P?void 0:B?.length?.toString()||"0",{currentPrivacyState:I}=Ie(),F=I?.icon,{data:ce}=ze(),{isPending:ye}=Mt(ce?.id),{formattedFollowers:he}=It(ce?.id),We=(0,G.useMemo)(()=>{let J=[{type:"drawer",topLeft:{text:i("settingsManageUserProfileAboutUsername")},topRight:s&&{text:`@${s}`},onPress:e}];return r&&J.push({type:"drawer",topLeft:{text:i("settingsManageUserProfileAboutBio")},topRight:{text:d},disabled:f,onPress:r}),J},[d,f,r,e,i,s]),De=(0,G.useMemo)(()=>{let J=[{type:"drawer",topLeft:{text:i("settingsManageUserProfileAuthFactors")},topRight:!U&&{text:C},disabled:U,onPress:t},{type:"drawer",topLeft:{text:i("settingsManageUserProfileLinkedWallets")},topRight:y&&{text:y},disabled:P,onPress:n},{type:"drawer",topLeft:{text:i("settingsManageUserProfilePrivacy")},topRight:!f&&{text:I.title,before:G.default.createElement(F,{size:16,color:"textSecondary"})},disabled:f,onPress:o}];return a&&J.unshift({type:"drawer",topLeft:{text:i("followers")},topRight:{text:he},disabled:ye,onPress:a}),J},[F,U,I.title,C,he,ye,P,f,t,a,o,n,y,i]);return G.default.createElement(E,{gap:24,width:"100%"},G.default.createElement(E,{gap:"section",width:"100%"},G.default.createElement(z,{font:"title3Semibold",color:"textSecondary",children:i("settingsManageUserProfileAbout")}),G.default.createElement(T,{rows:We})),G.default.createElement(E,{gap:"section",width:"100%"},G.default.createElement(z,{font:"title3Semibold",color:"textSecondary",children:i("settingsManageUserProfileManage")}),G.default.createElement(T,{rows:De})))};p();u();var W=b(k());p();u();var Ee=b(k()),Le=(0,Ee.memo)(({children:e})=>Ee.default.createElement(z,{font:"bodySemibold",display:"inline",children:e}));var Ye=W.default.memo(({type:e,onSuccess:t,isMobile:r=!1})=>{let{t:n}=g(),[o,a]=W.default.useState(!1),i=e==="privateKey",s=n(i?"exportSecretPrivateKey":"exportSecretRecoveryPhrase"),S=i?"exportPrivateKey":"exportMnemonic",f=(0,W.useMemo)(()=>[{key:"warning-1",icon:W.default.createElement(me,{icon:"Key",backgroundColor:"accentAlert",shape:"square"}),title:W.default.createElement(Te,{i18nKey:i?"exportSecretPrivateKeyInfo1":"exportSecretRecoveryPhraseInfo1",components:[W.default.createElement(Le,null)]})},{key:"warning-2",icon:W.default.createElement(me,{icon:"EyeOff",backgroundColor:"accentAlert",shape:"square"}),title:W.default.createElement(Te,{i18nKey:i?"exportSecretPrivateKeyInfo2":"exportSecretRecoveryPhraseInfo2",components:[W.default.createElement(Le,null)]})},{key:"warning-3",icon:W.default.createElement(me,{icon:"AlertOctagon",backgroundColor:"accentAlert",shape:"square"}),title:n("exportSecretInfo3")}],[n,i]);return W.default.createElement(zt,{marginX:r?0:"-16",marginBottom:r?0:"-16",mobileTitleSheetInset:r,image:W.default.createElement(me,{icon:"ShieldWarning",size:64,backgroundColor:"accentAlert",shape:"circle"}),title:n("exportSecretShowSecretRecoveryPhraseModalTitle",{secretNameText:s}),items:f,primaryButton:{theme:"secondary",children:n("commandContinue"),onAction:t,disabled:!o,testID:"primary-button"},displayEvent:{event:S},footer:{checkbox:{shape:"square",label:{text:W.default.createElement(Te,{i18nKey:"exportSecretWillNotShare",values:{secretNameText:s.toLowerCase()},components:[W.default.createElement(Le,null)]})},checked:o,onChange:()=>a(d=>!d),id:"export-secret-warning-checkbox",testID:"export-secret-warning-checkbox"}}})});var fe=b(k());var lr=({onSuccess:e,type:t})=>{let{t:r}=g(),n=t==="privateKey",o=r(n?"exportSecretShowPrivateKey":"exportSecretShowSecretRecoveryPhrase");return fe.default.createElement(fe.default.Fragment,null,fe.default.createElement(L,{shouldWrap:!0},o),fe.default.createElement(Ye,{onSuccess:e,type:t}))};p();u();var N=b(k());p();u();var ie=b(k());var dr=ie.default.memo(({indexes:e,wordlist:t})=>ie.default.createElement(Dr,null,e.length&&t.length?e.map((r,n)=>ie.default.createElement(Ur,{key:n},ie.default.createElement(Br,null,`${n+1}.`),ie.default.createElement(Hr,{"data-testid":`secret-recovery-phrase-word-input-${n}`,readOnly:!0,autoComplete:"off",autoCorrect:"off",spellCheck:!1,value:t[r],pattern:"[A-Za-z\\s]+"}))):Array.from({length:e?e.length:12},(r,n)=>ie.default.createElement(Wr,{key:n})))),Ur=x(Z).attrs({align:"center",justify:"center"})`
  box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.25);
  color: ${w.colors.legacy.textPrimary};
  background: ${w.colors.legacy.bgArea};
  border: 1px solid ${w.colors.legacy.borderSecondary};
  border-radius: 6px;
  align-self: center;
  height: 41px;
`,Wr=x(Jt).attrs({backgroundColor:w.colors.legacy.borderPrimary,borderRadius:"6px",height:"41px"})``,Dr=x.div`
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  row-gap: 10px;
  column-gap: 4.5px;
  width: 100%;
`,Br=x(M).attrs({size:14,weight:400,color:w.colors.legacy.textSecondary})`
  padding-left: 8px;
  padding-right: 2px;
`,Hr=x.input`
  color: ${w.colors.legacy.textPrimary};
  background: none;
  border: none;
  width: 100%;
  font-size: 14px;
  font-weight: 500;
  padding: 0;
`;p();u();var ge=b(k());var mr=({type:e})=>{let{t}=g(),r=e==="privateKey"?t("exportSecretPrivateKey"):t("exportSecretRecoveryPhrase");return ge.default.createElement(Or,{"data-testid":`warning-island-${e}`},ge.default.createElement(_t,{color:w.colors.legacy.accentAlert,title:ge.default.createElement(Nt,{i18nKey:"exportSecretWarningPrimaryInterpolated",values:{secretNameText:r}},"Do ",ge.default.createElement("u",null,"not")," share your ",r,"!"),description:t("exportSecretWarningSecondaryInterpolated",{secretNameText:r})}))},Or=x.div`
  margin-bottom: 20px;
`;var pr=({accountIdentifier:e,password:t})=>{let{t:r}=g(),{popDetailView:n}=O(),[{indexes:o,wordlist:a},i]=(0,N.useState)({indexes:[],wordlist:[]}),{data:s}=lt(e);return(0,N.useEffect)(()=>{(async()=>{if((s?.type==="seed"||s?.type==="seedless")&&s?.seedIdentifier)try{let S=await t.foldAsync(m=>Dt(Buffer.from(m).toString("utf-8"),s.seedIdentifier));if(!S)throw new Error("Could not get mnemonic");let f=await Wt(),d=S.fold(f.fromEntropy),h=Array.from(await d.getIndexes());i({indexes:h,wordlist:f.wordlist}),_.addBreadcrumb("account",`\u2705 Exported S*ed for Account: ${e}`,"info"),oe.capture("exportMnemonic")}catch{throw _.addBreadcrumb("account",`\u{1F6AB} Failed to Export S*ed for Account: "${e}", account: "${JSON.stringify(s)}"`,"error"),new Error("Could not get mnemonic")}else _.addBreadcrumb("account",`\u{1F6AB} Failed to Export S*ed: Account: "${JSON.stringify(s)}"`,"error")})()},[s,e,t]),N.default.createElement(N.default.Fragment,null,N.default.createElement(L,{shouldWrap:!0},r("exportSecretYourSecretRecoveryPhrase")),N.default.createElement(q,null,N.default.createElement(Y,null,N.default.createElement(mr,{type:"mnemonic"}),N.default.createElement(dr,{indexes:o,wordlist:a}))),N.default.createElement(Vt,{onClick:()=>{n(),n(),n()}},r("pastParticipleDone")))};p();u();var c=b(k());var Qe=({navigationCallback:e})=>{let{t}=g(),{data:r=[]}=j(),{data:n=[]}=re("all"),a=!(n?.length>0),i=$e(d=>d.editableAccountMetadata),s=$e(d=>d.setEditableAccountMetadata),S=(0,c.useCallback)(d=>{s&&s({...i,seedIdentifier:d})},[i,s]),f=(0,c.useCallback)(d=>{S(d),e(d)},[S,e]);return c.default.createElement(c.default.Fragment,null,c.default.createElement(L,{icon:c.default.createElement(Ht,{fill:w.colors.legacy.textSecondary})},t("settingsSelectSecretPhrase")),c.default.createElement(q,null,a?c.default.createElement(z,{children:t("addAccountNoSecretPhrases"),font:"labelBold"}):c.default.createElement(E,{gap:8},c.default.createElement(Nr,null,n?.map((d,h)=>c.default.createElement(Vr,{key:`seed-select-${d.identifier}`,accounts:de(r,d.identifier),seedIdentifier:d.identifier,onClick:f,index:h}))))))},Vr=({accounts:e,seedIdentifier:t,index:r,onClick:n})=>{let{t:o}=g(),[a,i]=(0,c.useState)(!1),[s,S]=(0,c.useState)(!1),f=(0,c.useCallback)(()=>{i(!a)},[a,i]),d=(0,c.useCallback)(()=>{s||n(t)},[s,n,t]),h=(0,c.useMemo)(()=>e.length>1?o(a?"addAccountHideAccountsForSeed":"addAccountShowAccountsForSeed",{numOfAccounts:e.length}):e.length===1?o(a?"addAccountHideAccountForSeed":"addAccountShowAccountForSeed"):o("addAccountZeroAccountsForSeed"),[e.length,a,o]),m=(0,c.useMemo)(()=>e.length>=1?{onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),onClick:f}:null,[e.length,f]);return c.default.createElement($r,{onClick:d},c.default.createElement(fr,null,c.default.createElement(Kr,null,c.default.createElement(_r,null,c.default.createElement(Gr,null,o("addAccountSecretPhraseDefaultLabel",{number:r+1})),c.default.createElement(qr,{...m},h)),c.default.createElement(Z,{width:"fit-content"},c.default.createElement(gr,null,c.default.createElement(Ke,{fill:w.colors.legacy.textSecondary,width:10})))),c.default.createElement(zr,{accounts:e,expanded:a})))},zr=({accounts:e,expanded:t})=>{let[r,{height:n}]=$t(),o=(0,c.useMemo)(()=>({initial:{opacity:0,height:0},animate:{opacity:1,height:n},exit:{opacity:0,height:0},transition:{delay:0,duration:.2}}),[n]);return c.default.createElement(gt,{mode:"wait"},t&&e.length>0&&c.default.createElement(ur,{...o},c.default.createElement(ur,{ref:r},c.default.createElement(Yr,null,e.map((a,i)=>c.default.createElement(Z,{key:`account-${a.identifier}`,justify:"flex-start"},c.default.createElement(rr,{size:24,accountIcon:a.icon,accountName:a.name,accountIndex:i}),c.default.createElement(jr,{style:{marginLeft:6}},a.name)))))))},Nr=x.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 12px;
`,$r=x(Z).attrs({align:"center"})`
  position: relative;
  cursor: pointer;
  background-color: ${w.colors.legacy.bgRow};
  border-radius: 8px;
  &:hover {
    background-color: ${w.colors.legacy.bgButton};
  }
`,Kr=x(Z).attrs({justify:"space-between"})`
  padding: 15px;
`,_r=x.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
`,Gr=x(M).attrs({size:16,weight:500,lineHeight:19})``,jr=x(M).attrs({size:15,weight:500,lineHeight:19})``,qr=x(M).attrs({size:13,weight:500,lineHeight:19})`
  color: ${w.colors.legacy.accentPrimary};
  margin-top: 2px;
`,fr=x.div`
  display: flex;
  flex-direction: column;
  width: 100%;
`,Yr=x(fr)`
  border-top: 1px solid ${w.colors.legacy.bgWallet};
  padding: 15px;
  align-items: flex-start;
  gap: 12px;
`,ur=x(St.div)`
  overflow: hidden;
`,zn=({accounts:e,seedMetas:t,onClick:r,selectedSeedIdentifier:n})=>{let{t:o}=g(),a=(0,c.useMemo)(()=>{if(!t||!n)return 0;let s=t.find(S=>S.identifier===n);return s?t.indexOf(s):0},[t,n]),i=(0,c.useMemo)(()=>!e||!n?[]:e.filter(s=>(s.type==="seed"||s.type==="seedless")&&s.seedIdentifier===n),[e,n]);return c.default.createElement(Qr,null,c.default.createElement(Rr,null,o("addAccountSecretPhraseLabel")),c.default.createElement(Xr,{onClick:r,"data-testid":"select-secret-phrase-button"},c.default.createElement(Z,{justify:"space-between"},c.default.createElement(Z,null,c.default.createElement(Jr,null,o("addAccountSecretPhraseDefaultLabel",{number:a+1})," ",c.default.createElement(Zr,null,"(",i.length>1?o("addAccountNumAccountsForSeed",{numOfAccounts:i.length}):o("addAccountOneAccountsForSeed"),")"))),c.default.createElement(gr,null,c.default.createElement(Ke,{fill:w.colors.legacy.textSecondary,width:10})))),c.default.createElement(Sr,null,o("addAccountSelectSeedDescription")))},Qr=x(Zt)`
  width: 100%;
  position: relative;
`,Xr=x(Rt)`
  padding: 8px 16px 8px 12px;
`,gr=x.div`
  svg {
    transform: rotate(270deg) translateX(2px);
  }
`,Jr=x(M).attrs({size:16,weight:400,lineHeight:19})``,Zr=x(M).attrs({size:16,weight:400,lineHeight:19,as:"span"})`
  display: inline-flex;
  padding: 0 8px;
  color: ${w.colors.legacy.textSecondary};
`,Sr=x(M).attrs({size:14,weight:400,lineHeight:19,textAlign:"left"})`
  margin-top: 8px;
  color: ${w.colors.legacy.textSecondary};
`,Rr=x(Sr)`
  margin-top: 24px;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  svg {
    margin-left: 6px;
  }
`;p();u();var X=b(k());var Se=[0,1,5,10,15,30,60,240,480],yr=()=>{let{t:e}=g(),{popDetailView:t}=O(),{data:r}=be(),{mutateAsync:n}=wt(),o=(0,X.useCallback)(async i=>{try{let s=Oe(i);await n({lockTimeInMs:s}),oe.capture("changeLockTimerDuration",{data:{mins:i}}),t(),r!==s&&Ce.success(e("changeLockTimerToast"))}catch(s){console.error(s)}},[r,t,n,e]),a=(0,X.useMemo)(()=>{if(r===void 0)return[];let i=Je(r);return eo(i),Se.map(s=>({topLeft:{text:Pe(e,Oe(s))},active:i===s,type:"check",onClick:()=>o(s)}))},[r,o,e]);return X.default.createElement(X.default.Fragment,null,X.default.createElement(L,null,e("changeLockTimerPrimaryText")),X.default.createElement(q,null,X.default.createElement(T,{rows:a})))},eo=async e=>{if(!Se.includes(e)){let t=Se.findIndex(r=>r>e);t?Se.splice(t,0,e):Se.push(e)}};p();u();var D=b(k());var to={currentPassword:"",password:"",confirmPassword:""},ro={currentPassword:void 0,password:void 0,confirmPassword:void 0},hr=()=>{let{t:e}=g(),{popDetailView:t}=O(),[r,n]=(0,D.useState)(to),{currentPassword:o,password:a,confirmPassword:i}=r,[s,S]=(0,D.useState)(ro),f=s.password??s.confirmPassword??s.currentPassword,d=!o||!a||!i,[h,m]=(0,D.useState)(!1),A=U=>{let B=U.currentTarget.name,P=U.currentTarget.value;n({...r,[B]:P})};return D.default.createElement(Me,{onSubmit:async U=>{U.preventDefault(),m(!0);let B,P=sr(a)??ir(o,a),y=nr(a,i);if(P||y)return S({...s,password:P,confirmPassword:y}),m(!1);try{if(!await jt(o))throw new Error("Incorrect password");await qt(o,i),m(!1),t(),Ce.success(e("changePasswordToast"))}catch(I){_.captureError(I,"account"),B=I?.message.includes("Incorrect password")?e("changePasswordErrorIncorrectCurrentPassword"):e("changePasswordErrorGeneric"),S({...s,currentPassword:B}),m(!1)}}},D.default.createElement(L,null,e("changePasswordPrimaryText")),D.default.createElement(ne,{size:"large"},D.default.createElement(Y,null,D.default.createElement(Bt,null),D.default.createElement(M,{size:26,weight:500},e("changePasswordPrimaryText")),D.default.createElement(tr,null,D.default.createElement(Fe,{type:"password",name:"currentPassword",placeholder:e("changePasswordCurrentPassword"),warning:!!s.currentPassword,onChange:A}),D.default.createElement(Fe,{type:"password",name:"password",placeholder:e("changePasswordNewPassword"),warning:!!s.password,onChange:A}),D.default.createElement(Fe.WithWarning,{type:"password",name:"confirmPassword",placeholder:e("changePasswordConfirmNewPassword"),warning:!!s.confirmPassword,warningMessage:f,onChange:A}))),D.default.createElement(se,{primaryText:e("commandSave"),secondaryText:e("commandCancel"),onSecondaryClicked:t,primaryDisabled:d||h,primaryLoading:h})))};p();u();var V=b(k());var oo=x.div`
  border: 1px solid ${w.colors.legacy.accentWarning};
  border-radius: 6px;
  padding: 8px 16px;
`,Pr=V.default.memo(()=>{let{t:e}=g(),{downloadLogs:t,goSupportDesk:r,isFetching:n}=ar();return V.default.createElement(Me,{onSubmit:t},V.default.createElement(L,null,e("settingsDownloadApplicationLogs")),V.default.createElement(ne,{size:"medium"},V.default.createElement("div",null),V.default.createElement(Y,null,V.default.createElement(Xt,{diameter:96,color:Ze(w.colors.legacy.accentPrimary,.1)},V.default.createElement(Ot,null)),V.default.createElement(M,{size:28,weight:500,lineHeight:34,margin:"20px 0 0",maxWidth:"280px"},e("settingsDownloadApplicationLogs")),V.default.createElement(M,{size:16,color:w.colors.legacy.textSecondary,lineHeight:19,margin:"0 0 4px"},e("settingsDownloadApplicationLogsHelper")),V.default.createElement(oo,null,V.default.createElement(M,{size:14,color:w.colors.legacy.accentWarning,lineHeight:20,weight:500},e("settingsDownloadApplicationLogsWarning")))),V.default.createElement(se,{primaryDisabled:n,primaryText:e("commandDownload"),secondaryText:e("settingsSupportDesk"),onSecondaryClicked:r})))});p();u();var $=b(k());var wr=({seedIdentifier:e})=>{let{t}=g(),{hideSettingsMenu:r}=Kt(),{mutate:n}=dt(),{data:o=[]}=re("all"),a=o.findIndex(S=>S.identifier===e)??0,i=(0,$.useCallback)(()=>{n({seedIdentifier:e}),oe.capture("walletSeeds",{data:{numOfSeeds:o?.length}}),r()},[r,n,e,o]),{popDetailView:s}=O();return $.default.createElement($.default.Fragment,null,$.default.createElement(L,null,t("settingsRemoveSecretPhrase")),$.default.createElement(ne,{size:"large"},$.default.createElement("div",null),$.default.createElement(Y,null,$.default.createElement(ve,null),$.default.createElement(M,{size:28,weight:500,lineHeight:34},t("removeSeedPrimaryText",{number:a+1})),$.default.createElement(M,{size:16,color:w.colors.legacy.textSecondary,lineHeight:19,maxWidth:"312px"},t("removeSeedSecondaryText",{number:a+1}))),$.default.createElement(se,{primaryText:t("commandContinue"),secondaryText:t("commandCancel"),primaryTheme:"primary",onPrimaryClicked:i,onSecondaryClicked:s})))};p();u();var K=b(k()),xr=b(vr());var so=new bt,Ar=()=>{let{t:e}=g(),{mutateAsync:t}=Et(),{mutateAsync:r}=Lt(),[n,o]=(0,K.useState)("idle"),a=n==="resetting",i=async()=>{o("resetting"),oe.capture("resetApp"),await so.clear(),await or.logOut(),await Gt(),await t(!0),await r(!0),xr.default.runtime.reload()},{popDetailView:s}=O();return K.default.createElement(K.default.Fragment,null,K.default.createElement(L,null,e("settingsResetApp")),K.default.createElement(ne,{size:"large"},K.default.createElement("div",null),K.default.createElement(Y,null,K.default.createElement(ve,null),K.default.createElement(M,{size:28,weight:500,lineHeight:34},e("resetSeedPrimaryText")),K.default.createElement(M,{size:16,color:w.colors.legacy.textSecondary,lineHeight:19,maxWidth:"312px"},e("resetSeedSecondaryText"))),K.default.createElement(se,{primaryDisabled:a,primaryLoading:a,primaryText:e("commandContinue"),secondaryText:e("commandCancel"),primaryTheme:"primary",onPrimaryClicked:i,onSecondaryClicked:s})))};var no=e=>e.type==="seed"||e.type==="seedless",Ua=()=>{let{t:e}=g(),{pushDetailViewCallback:t,pushDetailView:r}=O(),{data:n=[]}=j(),o=n.filter(no),a=o.filter(H=>H.type==="seed"),i=o.filter(H=>H.type==="seedless"),{additionalPermissionRows:s}=io(),{data:S=[]}=re("recoverable-only"),f=ut(),{data:d}=be(),{data:h,isPending:m}=ht(),{mutate:A}=Pt(),{data:C,isPending:U}=xt(),{mutate:B}=At(),P=(0,l.useCallback)(()=>{A({isAnalyticsOptedOut:!h})},[h,A]),y=(0,l.useCallback)(()=>{B({showWalletShortcuts:!C}),Ut.invalidateQueries({queryKey:[er]})},[C,B]),I=(0,l.useCallback)(H=>{r(l.default.createElement(Yt,{password:H,isSettings:!0}))},[r]),F=t(l.default.createElement(_e,{type:"seedless",onSuccess:I})),ce=(0,l.useMemo)(()=>{let H=[{topLeft:{text:e("settingsChangePasswordPrimary")},type:"drawer",onClick:t(l.default.createElement(hr,null))},{topLeft:{text:e("settingsAutoLockTimerPrimary")},topRight:{text:Pe(e,d)},type:"drawer",onClick:t(l.default.createElement(yr,null))}];return S.length&&H.splice(1,0,{topLeft:{text:e("seedlessResetPinPrimaryText")},type:"drawer",onClick:F}),H},[S.length,d,t,F,e]),ye=(0,l.useMemo)(()=>{let H=[{topLeft:{text:e("settingsResetApp"),color:"accentAlert"},onClick:t(l.default.createElement(Ar,null))}];return f&&H.unshift({topLeft:{text:e("settingsRemoveSecretPhrase"),color:"accentAlert"},onClick:t(l.default.createElement(Qe,{navigationCallback:Be=>r(l.default.createElement(wr,{seedIdentifier:Be}))}))}),H},[r,t,f,e]),he=(0,l.useMemo)(()=>m?[]:[{id:"toggleAnalytics",active:!h,type:"toggle",topLeft:{text:e("settingsSecurityAnalyticsPrimary")},onClick:P}],[h,m,P,e]),We=(0,l.useMemo)(()=>[{topLeft:{text:e("settingsDownloadApplicationLogs")},type:"drawer",onClick:t(l.default.createElement(Pr,null))}],[t,e]),De=(0,l.useMemo)(()=>U?[]:[{id:"toggleWalletShortcuts",topLeft:{text:e("settingsWalletShortcutsPrimary")},active:C??ft,type:"toggle",onClick:y}],[C,U,y,e]),J=(0,l.useMemo)(()=>{let H=[],Be=Tr=>{let Xe=o.find(He=>He.seedIdentifier===Tr);if(!Xe)return;let br=He=>{r(l.default.createElement(lr,{type:"mnemonic",onSuccess:()=>r(l.default.createElement(pr,{accountIdentifier:Xe.identifier,password:He}))}))};r(l.default.createElement(_e,{type:"mnemonic",onSuccess:br}))};return(a.length||i.length)&&H.push({topLeft:{text:e("exportSecretShowSecretRecoveryPhrase")},type:"drawer",onClick:t(l.default.createElement(Qe,{navigationCallback:Be}))}),H},[t,r,o,a.length,i.length,e]);return l.default.createElement(l.default.Fragment,null,l.default.createElement(L,null,e("settingsSecurityPrimary")),l.default.createElement(q,null,l.default.createElement(E,{gap:"section"},l.default.createElement(T,{rows:ce}),l.default.createElement(T,{rows:We}),s.length>0?l.default.createElement(T,{rows:s}):null,l.default.createElement(T,{rows:De}),l.default.createElement(E,{gap:"list"},l.default.createElement(T,{rows:he}),l.default.createElement(E,{paddingX:4},l.default.createElement(z,{font:"caption",children:e("settingsSecurityAnalyticsHelper"),color:"textSecondary"}))),l.default.createElement(T,{rows:J}),l.default.createElement(T,{rows:ye}))))};function io(){let e=nt(),{t}=g(),r=Re(v.IS_FIREFOX),n=et.isFeatureEnabled("always-show-all-sites-permissions"),[o,a]=(0,l.useState)(null),[i,s]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let m=!0;return(async()=>{let A=await vt();m&&a(A)})(),()=>{m=!1}},[a]);let[S,f]=(0,l.useState)(!1),d=(0,l.useCallback)(async()=>{f(!0);try{let m=!!o;if(m)await Ft(),e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:m,newValue:!1}}),a(!1);else{let A=await Ct();e.capture("allSitesPermissions",{data:{uiContext:"settings",oldValue:m,newValue:A}}),a(A)}}catch(m){m instanceof Error&&m.message.includes("You cannot remove required permissions")?s(!0):(console.error("Failed to set permissions"),console.error(m))}finally{f(!1)}},[o,e]),h=(0,l.useMemo)(()=>r||n?o===null?[]:[{id:"toggleAllSitesPermissions",active:o,disabled:i||S,onClick:d,type:"toggle",topLeft:t("settingsAllSitesPermissionsTitle"),helperText:t(i?"settingsAllSitesPermissionsDisabled":"settingsAllSitesPermissionsSubtitle")}]:[],[r,n,o,i,S,d,t]);return(0,l.useMemo)(()=>({additionalPermissionRows:h}),[h])}p();u();var ae=b(k());var _a=()=>{let{t:e}=g(),{popDetailView:t}=O(),{currencyRows:r,searchQuery:n,setSearchQuery:o}=Tt({goBack:t});return ae.default.createElement(ae.default.Fragment,null,ae.default.createElement(L,null,e("settingsCurrency")),ae.default.createElement(cr,{value:n,onChange:o}),ae.default.createElement(q,null,ae.default.createElement(T,{rows:r})))};export{Qe as a,zn as b,dr as c,mr as d,Fr as e,Mr as f,Ir as g,kr as h,Lr as i,lr as j,pr as k,cr as l,_a as m,yr as n,hr as o,Pr as p,wr as q,Ua as r};
//# sourceMappingURL=chunk-MW7HV6Q7.js.map

import{da as Kge}from"./chunk-7X5IGQSF.js";import{$ as O0,$a as qe,B as ege,Bb as Bge,Cb as J$,D as tge,E as rge,H as nge,I as ige,Ic as irt,J as kI,K as gr,L as le,La as G$,Ma as Ige,Mc as zp,Na as va,Pa as Tge,Ra as p8,Rc as Lge,Rd as g8,Sa as kge,T as lge,Ta as PP,W as et,Wa as H$,X as hl,Xa as $$,Y as Us,Z as dge,Za as Se,_ as Yo,a as Qz,aa as kP,ab as xI,b as EP,ba as fge,bb as vge,c as Ce,ca as c8,d as II,da as u8,e as t8,ea as l8,eb as Pg,ec as Nge,f as r8,fa as pge,fb as ml,fc as Dge,fd as Fge,ga as hge,ha as mge,hb as Y$,ia as yge,ib as X$,ja as gge,ka as bge,kb as Z$,la as Lp,ma as R0,md as y8,na as vP,o as n8,oa as _ge,ob as xge,oe as qge,p as i8,pa as d8,pc as um,q as o8,qa as xP,r as Ne,ra as Sge,rc as Uge,s as Zye,sa as V$,sb as Pge,t as W$,ta as f8,tb as yl,u as Jye,ua as wge,ub as h8,w as IP,wa as vI,xa as Age,ya as Ege,yb as PI,z as Qye,zb as OI}from"./chunk-M4V43KDP.js";import{F as q$,a as Ed,b as Sf,c as Wt,d as rrt,e as F$,h as wf,i as s8,l as Kye,p as Af}from"./chunk-7LN3AER5.js";import{i as fn,j as cge,k as uge,l as TP,m as cm}from"./chunk-46FGAK6J.js";import{B as RP,C as b8,D as jge,Na as art,d as qn,e as Mge,va as CI,wa as srt,x as zge,y as C0,z as ort}from"./chunk-HG4P4WCJ.js";import{B as If,N as Cge,r as RI}from"./chunk-Q24656HF.js";import{a as e8,b as P0}from"./chunk-7KFKYD5L.js";import{k as m8,m as Oge,r as zu,s as Rge,t as OP,w as Ft,z as at}from"./chunk-VU23O6LP.js";import{c as Lu}from"./chunk-RFTHTXRF.js";import{$ as K$,C as Hye,U as $ye,V as zr,W as We,X as Yye,a as Wye,aa as Ef,c as Vye,ca as a8,e as vg,ga as Xye,h as TI,i as na,l as xg,m as bi,u as tt,v as j$,w as Gye}from"./chunk-YTFWYDJ6.js";import{N as oge,O as sge,P as age,a as Es,i as v,ia as nrt}from"./chunk-O2FNG2JZ.js";import{b as qye,c as _,d as jye,f as Oe,g as z$,h as u,i as h,j as Zz,k as Jz,l as EI,m as Buffer,n as l}from"./chunk-3KENBVE7.js";var vbe=_((zbr,kbe)=>{"use strict";u();l();var Z8="qpzry9x8gf2tvdw0s3jn54khce6mua7l",f9={};for(GP=0;GP<Z8.length;GP++){if(X8=Z8.charAt(GP),f9[X8]!==void 0)throw new TypeError(X8+" is ambiguous");f9[X8]=GP}var X8,GP;function qI(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Ibe(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=qI(e)^n>>5}for(e=qI(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=qI(e)^i&31}return e}function Ort(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=Ibe(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5)throw new Error("Non 5-bit word");n=qI(n)^s,i+=Z8.charAt(s)}for(o=0;o<6;++o)n=qI(n);for(n^=1,o=0;o<6;++o){var a=n>>(5-o)*5&31;i+=Z8.charAt(a)}return i}function Tbe(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var o=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var a=Ibe(o);if(typeof a=="string")return a;for(var c=[],d=0;d<s.length;++d){var f=s.charAt(d),p=f9[f];if(p===void 0)return"Unknown character "+f;a=qI(a)^p,!(d+6>=s.length)&&c.push(p)}return a!==1?"Invalid checksum for "+t:{prefix:o,words:c}}function Rrt(){var t=Tbe.apply(null,arguments);if(typeof t=="object")return t}function Crt(t){var e=Tbe.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function J8(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],c=0;c<t.length;++c)for(i=i<<e|t[c],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function Brt(t){var e=J8(t,8,5,!0);if(Array.isArray(e))return e}function Mrt(t){var e=J8(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function Nrt(t){var e=J8(t,5,8,!1);if(Array.isArray(e))return e}function Drt(t){var e=J8(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}kbe.exports={decodeUnsafe:Rrt,decode:Crt,encode:Ort,toWordsUnsafe:Brt,toWords:Mrt,fromWordsUnsafe:Nrt,fromWords:Drt}});var U_e=_(fT=>{"use strict";u();l();var UY=Zz(),lT=Jz(),w_e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;fT.Buffer=ke;fT.SlowBuffer=Xot;fT.INSPECT_MAX_BYTES=50;var zF=2147483647;fT.kMaxLength=zF;ke.TYPED_ARRAY_SUPPORT=Vot();!ke.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Vot(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(ke.prototype,"parent",{enumerable:!0,get:function(){if(ke.isBuffer(this))return this.buffer}});Object.defineProperty(ke.prototype,"offset",{enumerable:!0,get:function(){if(ke.isBuffer(this))return this.byteOffset}});function Wg(t){if(t>zF)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,ke.prototype),e}function ke(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return qY(t)}return T_e(t,e,r)}ke.poolSize=8192;function T_e(t,e,r){if(typeof t=="string")return Hot(t,e);if(ArrayBuffer.isView(t))return $ot(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Sm(t,ArrayBuffer)||t&&Sm(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Sm(t,SharedArrayBuffer)||t&&Sm(t.buffer,SharedArrayBuffer)))return zY(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return ke.from(n,e,r);let i=Yot(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return ke.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}ke.from=function(t,e,r){return T_e(t,e,r)};Object.setPrototypeOf(ke.prototype,Uint8Array.prototype);Object.setPrototypeOf(ke,Uint8Array);function k_e(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Got(t,e,r){return k_e(t),t<=0?Wg(t):e!==void 0?typeof r=="string"?Wg(t).fill(e,r):Wg(t).fill(e):Wg(t)}ke.alloc=function(t,e,r){return Got(t,e,r)};function qY(t){return k_e(t),Wg(t<0?0:jY(t)|0)}ke.allocUnsafe=function(t){return qY(t)};ke.allocUnsafeSlow=function(t){return qY(t)};function Hot(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ke.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=v_e(t,e)|0,n=Wg(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function LY(t){let e=t.length<0?0:jY(t.length)|0,r=Wg(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function $ot(t){if(Sm(t,Uint8Array)){let e=new Uint8Array(t);return zY(e.buffer,e.byteOffset,e.byteLength)}return LY(t)}function zY(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,ke.prototype),n}function Yot(t){if(ke.isBuffer(t)){let e=jY(t.length)|0,r=Wg(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||WY(t.length)?Wg(0):LY(t);if(t.type==="Buffer"&&Array.isArray(t.data))return LY(t.data)}function jY(t){if(t>=zF)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+zF.toString(16)+" bytes");return t|0}function Xot(t){return+t!=t&&(t=0),ke.alloc(+t)}ke.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ke.prototype};ke.compare=function(e,r){if(Sm(e,Uint8Array)&&(e=ke.from(e,e.offset,e.byteLength)),Sm(r,Uint8Array)&&(r=ke.from(r,r.offset,r.byteLength)),!ke.isBuffer(e)||!ke.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};ke.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ke.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ke.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=ke.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(Sm(s,Uint8Array))o+s.length>i.length?(ke.isBuffer(s)||(s=ke.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(ke.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function v_e(t,e){if(ke.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Sm(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return FY(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return D_e(t).length;default:if(i)return n?-1:FY(t).length;e=(""+e).toLowerCase(),i=!0}}ke.byteLength=v_e;function Zot(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return ast(this,e,r);case"utf8":case"utf-8":return P_e(this,e,r);case"ascii":return ost(this,e,r);case"latin1":case"binary":return sst(this,e,r);case"base64":return nst(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cst(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}ke.prototype._isBuffer=!0;function nA(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}ke.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)nA(this,r,r+1);return this};ke.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)nA(this,r,r+3),nA(this,r+1,r+2);return this};ke.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)nA(this,r,r+7),nA(this,r+1,r+6),nA(this,r+2,r+5),nA(this,r+3,r+4);return this};ke.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?P_e(this,0,e):Zot.apply(this,arguments)};ke.prototype.toLocaleString=ke.prototype.toString;ke.prototype.equals=function(e){if(!ke.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ke.compare(this,e)===0};ke.prototype.inspect=function(){let e="",r=fT.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};w_e&&(ke.prototype[w_e]=ke.prototype.inspect);ke.prototype.compare=function(e,r,n,i,o){if(Sm(e,Uint8Array)&&(e=ke.from(e,e.offset,e.byteLength)),!ke.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,a=n-r,c=Math.min(s,a),d=this.slice(i,o),f=e.slice(r,n);for(let p=0;p<c;++p)if(d[p]!==f[p]){s=d[p],a=f[p];break}return s<a?-1:a<s?1:0};function x_e(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,WY(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=ke.from(e,n)),ke.isBuffer(e))return e.length===0?-1:A_e(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):A_e(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function A_e(t,e,r,n,i){let o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function c(f,p){return o===1?f[p]:f.readUInt16BE(p*o)}let d;if(i){let f=-1;for(d=r;d<s;d++)if(c(t,d)===c(e,f===-1?0:d-f)){if(f===-1&&(f=d),d-f+1===a)return f*o}else f!==-1&&(d-=d-f),f=-1}else for(r+a>s&&(r=s-a),d=r;d>=0;d--){let f=!0;for(let p=0;p<a;p++)if(c(t,d+p)!==c(e,p)){f=!1;break}if(f)return d}return-1}ke.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};ke.prototype.indexOf=function(e,r,n){return x_e(this,e,r,n,!0)};ke.prototype.lastIndexOf=function(e,r,n){return x_e(this,e,r,n,!1)};function Jot(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(WY(a))return s;t[r+s]=a}return s}function Qot(t,e,r,n){return FF(FY(e,t.length-r),t,r,n)}function est(t,e,r,n){return FF(fst(e),t,r,n)}function tst(t,e,r,n){return FF(D_e(e),t,r,n)}function rst(t,e,r,n){return FF(pst(e,t.length-r),t,r,n)}ke.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Jot(this,e,r,n);case"utf8":case"utf-8":return Qot(this,e,r,n);case"ascii":case"latin1":case"binary":return est(this,e,r,n);case"base64":return tst(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rst(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};ke.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function nst(t,e,r){return e===0&&r===t.length?UY.fromByteArray(t):UY.fromByteArray(t.slice(e,r))}function P_e(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){let c,d,f,p;switch(a){case 1:o<128&&(s=o);break;case 2:c=t[i+1],(c&192)===128&&(p=(o&31)<<6|c&63,p>127&&(s=p));break;case 3:c=t[i+1],d=t[i+2],(c&192)===128&&(d&192)===128&&(p=(o&15)<<12|(c&63)<<6|d&63,p>2047&&(p<55296||p>57343)&&(s=p));break;case 4:c=t[i+1],d=t[i+2],f=t[i+3],(c&192)===128&&(d&192)===128&&(f&192)===128&&(p=(o&15)<<18|(c&63)<<12|(d&63)<<6|f&63,p>65535&&p<1114112&&(s=p))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return ist(n)}var E_e=4096;function ist(t){let e=t.length;if(e<=E_e)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=E_e));return r}function ost(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function sst(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function ast(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=hst[t[o]];return i}function cst(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}ke.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,ke.prototype),i};function Ls(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}ke.prototype.readUintLE=ke.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ls(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};ke.prototype.readUintBE=ke.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ls(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};ke.prototype.readUint8=ke.prototype.readUInt8=function(e,r){return e=e>>>0,r||Ls(e,1,this.length),this[e]};ke.prototype.readUint16LE=ke.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Ls(e,2,this.length),this[e]|this[e+1]<<8};ke.prototype.readUint16BE=ke.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Ls(e,2,this.length),this[e]<<8|this[e+1]};ke.prototype.readUint32LE=ke.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Ls(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ke.prototype.readUint32BE=ke.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Ls(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ke.prototype.readBigUInt64LE=W0(function(e){e=e>>>0,dT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&vO(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});ke.prototype.readBigUInt64BE=W0(function(e){e=e>>>0,dT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&vO(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});ke.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ls(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};ke.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ls(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};ke.prototype.readInt8=function(e,r){return e=e>>>0,r||Ls(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ke.prototype.readInt16LE=function(e,r){e=e>>>0,r||Ls(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ke.prototype.readInt16BE=function(e,r){e=e>>>0,r||Ls(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ke.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Ls(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ke.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Ls(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ke.prototype.readBigInt64LE=W0(function(e){e=e>>>0,dT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&vO(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});ke.prototype.readBigInt64BE=W0(function(e){e=e>>>0,dT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&vO(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});ke.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Ls(e,4,this.length),lT.read(this,e,!0,23,4)};ke.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Ls(e,4,this.length),lT.read(this,e,!1,23,4)};ke.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Ls(e,8,this.length),lT.read(this,e,!0,52,8)};ke.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Ls(e,8,this.length),lT.read(this,e,!1,52,8)};function wl(t,e,r,n,i,o){if(!ke.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}ke.prototype.writeUintLE=ke.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;wl(this,e,r,n,a,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};ke.prototype.writeUintBE=ke.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;wl(this,e,r,n,a,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};ke.prototype.writeUint8=ke.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||wl(this,e,r,1,255,0),this[r]=e&255,r+1};ke.prototype.writeUint16LE=ke.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||wl(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};ke.prototype.writeUint16BE=ke.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||wl(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};ke.prototype.writeUint32LE=ke.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||wl(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};ke.prototype.writeUint32BE=ke.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||wl(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function O_e(t,e,r,n,i){N_e(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function R_e(t,e,r,n,i){N_e(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}ke.prototype.writeBigUInt64LE=W0(function(e,r=0){return O_e(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ke.prototype.writeBigUInt64BE=W0(function(e,r=0){return R_e(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ke.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);wl(this,e,r,n,c-1,-c)}let o=0,s=1,a=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&a===0&&this[r+o-1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};ke.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);wl(this,e,r,n,c-1,-c)}let o=n-1,s=1,a=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[r+o+1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};ke.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||wl(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};ke.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||wl(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};ke.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||wl(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};ke.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||wl(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};ke.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||wl(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};ke.prototype.writeBigInt64LE=W0(function(e,r=0){return O_e(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});ke.prototype.writeBigInt64BE=W0(function(e,r=0){return R_e(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function C_e(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B_e(t,e,r,n,i){return e=+e,r=r>>>0,i||C_e(t,e,r,4,34028234663852886e22,-34028234663852886e22),lT.write(t,e,r,n,23,4),r+4}ke.prototype.writeFloatLE=function(e,r,n){return B_e(this,e,r,!0,n)};ke.prototype.writeFloatBE=function(e,r,n){return B_e(this,e,r,!1,n)};function M_e(t,e,r,n,i){return e=+e,r=r>>>0,i||C_e(t,e,r,8,17976931348623157e292,-17976931348623157e292),lT.write(t,e,r,n,52,8),r+8}ke.prototype.writeDoubleLE=function(e,r,n){return M_e(this,e,r,!0,n)};ke.prototype.writeDoubleBE=function(e,r,n){return M_e(this,e,r,!1,n)};ke.prototype.copy=function(e,r,n,i){if(!ke.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};ke.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ke.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=ke.isBuffer(e)?e:ke.from(e,i),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%a]}return this};var uT={};function KY(t,e,r){uT[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}KY("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);KY("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);KY("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=I_e(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=I_e(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function I_e(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function ust(t,e,r){dT(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&vO(e,t.length-(r+1))}function N_e(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new uT.ERR_OUT_OF_RANGE("value",a,t)}ust(n,i,o)}function dT(t,e){if(typeof t!="number")throw new uT.ERR_INVALID_ARG_TYPE(e,"number",t)}function vO(t,e,r){throw Math.floor(t)!==t?(dT(t,r),new uT.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new uT.ERR_BUFFER_OUT_OF_BOUNDS:new uT.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var lst=/[^+/0-9A-Za-z-_]/g;function dst(t){if(t=t.split("=")[0],t=t.trim().replace(lst,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function FY(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function fst(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function pst(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function D_e(t){return UY.toByteArray(dst(t))}function FF(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Sm(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function WY(t){return t!==t}var hst=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function W0(t){return typeof BigInt>"u"?mst:t}function mst(){throw new Error("BigInt not supported")}});var jF=_(Wu=>{"use strict";u();l();Object.defineProperty(Wu,"__esModule",{value:!0});Wu.output=Wu.exists=Wu.hash=Wu.bytes=Wu.bool=Wu.number=void 0;function qF(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Wu.number=qF;function L_e(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Wu.bool=L_e;function VY(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Wu.bytes=VY;function z_e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");qF(t.outputLen),qF(t.blockLen)}Wu.hash=z_e;function F_e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Wu.exists=F_e;function q_e(t,e){VY(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Wu.output=q_e;var yst={number:qF,bool:L_e,bytes:VY,hash:z_e,exists:F_e,output:q_e};Wu.default=yst});var j_e=_(KF=>{"use strict";u();l();Object.defineProperty(KF,"__esModule",{value:!0});KF.crypto=void 0;KF.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var pT=_(jr=>{"use strict";u();l();Object.defineProperty(jr,"__esModule",{value:!0});jr.randomBytes=jr.wrapConstructorWithOpts=jr.wrapConstructor=jr.checkOpts=jr.Hash=jr.concatBytes=jr.toBytes=jr.utf8ToBytes=jr.asyncLoop=jr.nextTick=jr.hexToBytes=jr.bytesToHex=jr.isLE=jr.rotr=jr.createView=jr.u32=jr.u8=void 0;var WF=j_e(),gst=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);jr.u8=gst;var bst=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));jr.u32=bst;var _st=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);jr.createView=_st;var Sst=(t,e)=>t<<32-e|t>>>e;jr.rotr=Sst;jr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!jr.isLE)throw new Error("Non little-endian hardware is not supported");var wst=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ast(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=wst[t[r]];return e}jr.bytesToHex=Ast;function Est(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}jr.hexToBytes=Est;var Ist=async()=>{};jr.nextTick=Ist;async function Tst(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,jr.nextTick)(),n+=o)}}jr.asyncLoop=Tst;function K_e(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}jr.utf8ToBytes=K_e;function HY(t){if(typeof t=="string"&&(t=K_e(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}jr.toBytes=HY;function kst(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}jr.concatBytes=kst;var GY=class{clone(){return this._cloneInto()}};jr.Hash=GY;var vst=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function xst(t,e){if(e!==void 0&&(typeof e!="object"||!vst(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}jr.checkOpts=xst;function Pst(t){let e=n=>t().update(HY(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}jr.wrapConstructor=Pst;function Ost(t){let e=(n,i)=>t(i).update(HY(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}jr.wrapConstructorWithOpts=Ost;function Rst(t=32){if(WF.crypto.web)return WF.crypto.web.getRandomValues(new Uint8Array(t));if(WF.crypto.node)return new Uint8Array(WF.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}jr.randomBytes=Rst});var XY=_(VF=>{"use strict";u();l();Object.defineProperty(VF,"__esModule",{value:!0});VF.SHA2=void 0;var $Y=jF(),xO=pT();function Cst(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,d=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+d,a,n)}var YY=class extends xO.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,xO.createView)(this.buffer)}update(e){$Y.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,xO.toBytes)(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=(0,xO.createView)(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$Y.default.exists(this),$Y.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let p=s;p<i;p++)r[p]=0;Cst(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=(0,xO.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=c/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)a.setUint32(4*p,f[p],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};VF.SHA2=YY});var QY=_(Rf=>{"use strict";u();l();Object.defineProperty(Rf,"__esModule",{value:!0});Rf.add=Rf.toBig=Rf.split=Rf.fromBig=void 0;var GF=BigInt(2**32-1),ZY=BigInt(32);function JY(t,e=!1){return e?{h:Number(t&GF),l:Number(t>>ZY&GF)}:{h:Number(t>>ZY&GF)|0,l:Number(t&GF)|0}}Rf.fromBig=JY;function W_e(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=JY(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}Rf.split=W_e;var Bst=(t,e)=>BigInt(t>>>0)<<ZY|BigInt(e>>>0);Rf.toBig=Bst;var Mst=(t,e,r)=>t>>>r,Nst=(t,e,r)=>t<<32-r|e>>>r,Dst=(t,e,r)=>t>>>r|e<<32-r,Ust=(t,e,r)=>t<<32-r|e>>>r,Lst=(t,e,r)=>t<<64-r|e>>>r-32,zst=(t,e,r)=>t>>>r-32|e<<64-r,Fst=(t,e)=>e,qst=(t,e)=>t,jst=(t,e,r)=>t<<r|e>>>32-r,Kst=(t,e,r)=>e<<r|t>>>32-r,Wst=(t,e,r)=>e<<r-32|t>>>64-r,Vst=(t,e,r)=>t<<r-32|e>>>64-r;function V_e(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}Rf.add=V_e;var Gst=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Hst=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,$st=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Yst=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Xst=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Zst=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,Jst={fromBig:JY,split:W_e,toBig:Rf.toBig,shrSH:Mst,shrSL:Nst,rotrSH:Dst,rotrSL:Ust,rotrBH:Lst,rotrBL:zst,rotr32H:Fst,rotr32L:qst,rotlSH:jst,rotlSL:Kst,rotlBH:Wst,rotlBL:Vst,add:V_e,add3L:Gst,add3H:Hst,add4L:$st,add4H:Yst,add5H:Zst,add5L:Xst};Rf.default=Jst});var G_e=_(Cf=>{"use strict";u();l();Object.defineProperty(Cf,"__esModule",{value:!0});Cf.sha384=Cf.sha512_256=Cf.sha512_224=Cf.sha512=Cf.SHA512=void 0;var Qst=XY(),Ar=QY(),HF=pT(),[eat,tat]=Ar.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),V0=new Uint32Array(80),G0=new Uint32Array(80),iA=class extends Qst.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:d,El:f,Fh:p,Fl:m,Gh:y,Gl:g,Hh:b,Hl:S}=this;return[e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,S]}set(e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,S){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=d|0,this.El=f|0,this.Fh=p|0,this.Fl=m|0,this.Gh=y|0,this.Gl=g|0,this.Hh=b|0,this.Hl=S|0}process(e,r){for(let L=0;L<16;L++,r+=4)V0[L]=e.getUint32(r),G0[L]=e.getUint32(r+=4);for(let L=16;L<80;L++){let j=V0[L-15]|0,Z=G0[L-15]|0,se=Ar.default.rotrSH(j,Z,1)^Ar.default.rotrSH(j,Z,8)^Ar.default.shrSH(j,Z,7),Ee=Ar.default.rotrSL(j,Z,1)^Ar.default.rotrSL(j,Z,8)^Ar.default.shrSL(j,Z,7),be=V0[L-2]|0,fe=G0[L-2]|0,w=Ar.default.rotrSH(be,fe,19)^Ar.default.rotrBH(be,fe,61)^Ar.default.shrSH(be,fe,6),R=Ar.default.rotrSL(be,fe,19)^Ar.default.rotrBL(be,fe,61)^Ar.default.shrSL(be,fe,6),B=Ar.default.add4L(Ee,R,G0[L-7],G0[L-16]),C=Ar.default.add4H(B,se,w,V0[L-7],V0[L-16]);V0[L]=C|0,G0[L]=B|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:d,Dl:f,Eh:p,El:m,Fh:y,Fl:g,Gh:b,Gl:S,Hh:P,Hl:U}=this;for(let L=0;L<80;L++){let j=Ar.default.rotrSH(p,m,14)^Ar.default.rotrSH(p,m,18)^Ar.default.rotrBH(p,m,41),Z=Ar.default.rotrSL(p,m,14)^Ar.default.rotrSL(p,m,18)^Ar.default.rotrBL(p,m,41),se=p&y^~p&b,Ee=m&g^~m&S,be=Ar.default.add5L(U,Z,Ee,tat[L],G0[L]),fe=Ar.default.add5H(be,P,j,se,eat[L],V0[L]),w=be|0,R=Ar.default.rotrSH(n,i,28)^Ar.default.rotrBH(n,i,34)^Ar.default.rotrBH(n,i,39),B=Ar.default.rotrSL(n,i,28)^Ar.default.rotrBL(n,i,34)^Ar.default.rotrBL(n,i,39),C=n&o^n&a^o&a,O=i&s^i&c^s&c;P=b|0,U=S|0,b=y|0,S=g|0,y=p|0,g=m|0,{h:p,l:m}=Ar.default.add(d|0,f|0,fe|0,w|0),d=a|0,f=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let N=Ar.default.add3L(w,B,O);n=Ar.default.add3H(N,fe,R,C),i=N|0}({h:n,l:i}=Ar.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Ar.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=Ar.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:d,l:f}=Ar.default.add(this.Dh|0,this.Dl|0,d|0,f|0),{h:p,l:m}=Ar.default.add(this.Eh|0,this.El|0,p|0,m|0),{h:y,l:g}=Ar.default.add(this.Fh|0,this.Fl|0,y|0,g|0),{h:b,l:S}=Ar.default.add(this.Gh|0,this.Gl|0,b|0,S|0),{h:P,l:U}=Ar.default.add(this.Hh|0,this.Hl|0,P|0,U|0),this.set(n,i,o,s,a,c,d,f,p,m,y,g,b,S,P,U)}roundClean(){V0.fill(0),G0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Cf.SHA512=iA;var eX=class extends iA{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},tX=class extends iA{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},rX=class extends iA{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Cf.sha512=(0,HF.wrapConstructor)(()=>new iA);Cf.sha512_224=(0,HF.wrapConstructor)(()=>new eX);Cf.sha512_256=(0,HF.wrapConstructor)(()=>new tX);Cf.sha384=(0,HF.wrapConstructor)(()=>new rX)});var H_e=_(hT=>{"use strict";u();l();Object.defineProperty(hT,"__esModule",{value:!0});hT.sha224=hT.sha256=void 0;var rat=XY(),Bf=pT(),nat=(t,e,r)=>t&e^~t&r,iat=(t,e,r)=>t&e^t&r^e&r,oat=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),H0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$0=new Uint32Array(64),$F=class extends rat.SHA2{constructor(){super(64,32,8,!1),this.A=H0[0]|0,this.B=H0[1]|0,this.C=H0[2]|0,this.D=H0[3]|0,this.E=H0[4]|0,this.F=H0[5]|0,this.G=H0[6]|0,this.H=H0[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,r,n,i,o,s,a,c]}set(e,r,n,i,o,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let p=0;p<16;p++,r+=4)$0[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let m=$0[p-15],y=$0[p-2],g=(0,Bf.rotr)(m,7)^(0,Bf.rotr)(m,18)^m>>>3,b=(0,Bf.rotr)(y,17)^(0,Bf.rotr)(y,19)^y>>>10;$0[p]=b+$0[p-7]+g+$0[p-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:d,H:f}=this;for(let p=0;p<64;p++){let m=(0,Bf.rotr)(a,6)^(0,Bf.rotr)(a,11)^(0,Bf.rotr)(a,25),y=f+m+nat(a,c,d)+oat[p]+$0[p]|0,b=((0,Bf.rotr)(n,2)^(0,Bf.rotr)(n,13)^(0,Bf.rotr)(n,22))+iat(n,i,o)|0;f=d,d=c,c=a,a=s+y|0,s=o,o=i,i=n,n=y+b|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(n,i,o,s,a,c,d,f)}roundClean(){$0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},nX=class extends $F{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};hT.sha256=(0,Bf.wrapConstructor)(()=>new $F);hT.sha224=(0,Bf.wrapConstructor)(()=>new nX)});var J_e=_(ai=>{"use strict";u();l();var sat=ai&&ai.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aat=ai&&ai.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wm=ai&&ai.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},cat=ai&&ai.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&sat(e,t,r);return aat(e,t),e},$_e=ai&&ai.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ai,"__esModule",{value:!0});ai.deserializeUnchecked=ai.deserialize=ai.serialize=ai.BinaryReader=ai.BinaryWriter=ai.BorshError=ai.baseDecode=ai.baseEncode=void 0;var Y0=$_e(Lu()),Y_e=$_e(P0()),uat=cat(EP()),lat=typeof TextDecoder!="function"?uat.TextDecoder:TextDecoder,dat=new lat("utf-8",{fatal:!0});function fat(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),Y_e.default.encode(Buffer.from(t))}ai.baseEncode=fat;function pat(t){return Buffer.from(Y_e.default.decode(t))}ai.baseDecode=pat;var iX=1024,sa=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};ai.BorshError=sa;var YF=class{constructor(){this.buf=Buffer.alloc(iX),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(iX)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Y0.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Y0.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Y0.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Y0.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(iX)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};ai.BinaryWriter=YF;function Am(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new sa("Reached the end of buffer when deserializing")}throw o}}}var Vu=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new Y0.default(e,"le")}readU128(){let e=this.readBuffer(16);return new Y0.default(e,"le")}readU256(){let e=this.readBuffer(32);return new Y0.default(e,"le")}readU512(){let e=this.readBuffer(64);return new Y0.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new sa(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return dat.decode(r)}catch(n){throw new sa(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};wm([Am],Vu.prototype,"readU8",null);wm([Am],Vu.prototype,"readU16",null);wm([Am],Vu.prototype,"readU32",null);wm([Am],Vu.prototype,"readU64",null);wm([Am],Vu.prototype,"readU128",null);wm([Am],Vu.prototype,"readU256",null);wm([Am],Vu.prototype,"readU512",null);wm([Am],Vu.prototype,"readString",null);wm([Am],Vu.prototype,"readFixedArray",null);wm([Am],Vu.prototype,"readArray",null);ai.BinaryReader=Vu;function X_e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function oA(t,e,r,n,i){try{if(typeof n=="string")i[`write${X_e(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new sa(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new sa(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)oA(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{oA(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),oA(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{oA(t,e,s,n.key,i),oA(t,e,o,n.value,i)});break}default:throw new sa(`FieldType ${n} unrecognized`)}else Z_e(t,r,i)}catch(o){throw o instanceof sa&&o.addToFieldPath(e),o}}function Z_e(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new sa(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{oA(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),oA(t,s,e[s],a,r);break}}}else throw new sa(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function hat(t,e,r=YF){let n=new r;return Z_e(t,e,n),n.toArray()}ai.serialize=hat;function sA(t,e,r,n){try{if(typeof r=="string")return n[`read${X_e(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(sA(t,null,r[0],n));return i}else return n.readArray(()=>sA(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?sA(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let a=sA(t,e,r.key,n),c=sA(t,e,r.value,n);i.set(a,c)}return i}return oX(t,r,n)}catch(i){throw i instanceof sa&&i.addToFieldPath(e),i}}function oX(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new sa(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=sA(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new sa(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=sA(t,o,s,r);return new e({[o]:a})}throw new sa(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function mat(t,e,r,n=Vu){let i=new n(r),o=oX(t,e,i);if(i.offset<r.length)throw new sa(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}ai.deserialize=mat;function yat(t,e,r,n=Vu){let i=new n(r);return oX(t,e,i)}ai.deserializeUnchecked=yat});var sSe=_(Ti=>{"use strict";u();l();Object.defineProperty(Ti,"__esModule",{value:!0});Ti.shake256=Ti.shake128=Ti.keccak_512=Ti.keccak_384=Ti.keccak_256=Ti.keccak_224=Ti.sha3_512=Ti.sha3_384=Ti.sha3_256=Ti.sha3_224=Ti.Keccak=Ti.keccakP=void 0;var mT=jF(),RO=QY(),OO=pT(),[tSe,rSe,nSe]=[[],[],[]],gat=BigInt(0),PO=BigInt(1),bat=BigInt(2),_at=BigInt(7),Sat=BigInt(256),wat=BigInt(113);for(let t=0,e=PO,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],tSe.push(2*(5*n+r)),rSe.push((t+1)*(t+2)/2%64);let i=gat;for(let o=0;o<7;o++)e=(e<<PO^(e>>_at)*wat)%Sat,e&bat&&(i^=PO<<(PO<<BigInt(o))-PO);nSe.push(i)}var[Aat,Eat]=RO.default.split(nSe,!0),Q_e=(t,e,r)=>r>32?RO.default.rotlBH(t,e,r):RO.default.rotlSH(t,e,r),eSe=(t,e,r)=>r>32?RO.default.rotlBL(t,e,r):RO.default.rotlSL(t,e,r);function iSe(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,d=r[c],f=r[c+1],p=Q_e(d,f,1)^r[a],m=eSe(d,f,1)^r[a+1];for(let y=0;y<50;y+=10)t[s+y]^=p,t[s+y+1]^=m}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=rSe[s],c=Q_e(i,o,a),d=eSe(i,o,a),f=tSe[s];i=t[f],o=t[f+1],t[f]=c,t[f+1]=d}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Aat[n],t[1]^=Eat[n]}r.fill(0)}Ti.keccakP=iSe;var CO=class t extends OO.Hash{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,mT.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,OO.u32)(this.state)}keccak(){iSe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){mT.default.exists(this);let{blockLen:r,state:n}=this;e=(0,OO.toBytes)(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){mT.default.exists(this,!1),mT.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return mT.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(mT.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};Ti.Keccak=CO;var X0=(t,e,r)=>(0,OO.wrapConstructor)(()=>new CO(e,t,r));Ti.sha3_224=X0(6,144,224/8);Ti.sha3_256=X0(6,136,256/8);Ti.sha3_384=X0(6,104,384/8);Ti.sha3_512=X0(6,72,512/8);Ti.keccak_224=X0(1,144,224/8);Ti.keccak_256=X0(1,136,256/8);Ti.keccak_384=X0(1,104,384/8);Ti.keccak_512=X0(1,72,512/8);var oSe=(t,e,r)=>(0,OO.wrapConstructorWithOpts)((n={})=>new CO(e,t,n.dkLen===void 0?r:n.dkLen,!0));Ti.shake128=oSe(31,168,128/8);Ti.shake256=oSe(31,136,256/8)});var cSe=_(BO=>{"use strict";u();l();Object.defineProperty(BO,"__esModule",{value:!0});BO.hmac=void 0;var XF=jF(),aSe=pT(),ZF=class extends aSe.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,XF.default.hash(e);let n=(0,aSe.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return XF.default.exists(this),this.iHash.update(e),this}digestInto(e){XF.default.exists(this),XF.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Iat=(t,e,r)=>new ZF(t,e).update(r).digest();BO.hmac=Iat;BO.hmac.create=(t,e)=>new ZF(t,e)});var So=_(He=>{"use strict";u();l();Object.defineProperty(He,"__esModule",{value:!0});var Gt=U_e(),Tat=G_e(),kat=Qz(),vat=Lu(),xat=P0(),fX=H_e(),sX=J_e(),vSe=Ce(),pX=II(),A=t8(),Pat=r8(),Oat=n8(),Rat=i8(),uSe=sSe(),Cat=cSe(),Bat=o8();function VO(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function CX(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Q0=CX(kat),lSe=VO(vat),aa=VO(xat),W=CX(vSe),Mat=VO(Pat),Nat=VO(Oat),Dat=VO(Rat),f3=CX(Bat);Q0.utils.sha512Sync=(...t)=>Tat.sha512(Q0.utils.concatBytes(...t));var Uat=Q0.utils.randomPrivateKey,dSe=()=>{let t=Q0.utils.randomPrivateKey(),e=r3(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},r3=Q0.sync.getPublicKey;function fSe(t){try{return Q0.Point.fromHex(t,!0),!0}catch{return!1}}var BX=(t,e)=>Q0.sync.sign(t,e.slice(0,32)),Lat=Q0.sync.verify,Er=t=>Gt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Gt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Gt.Buffer.from(t),UO=class{constructor(e){Object.assign(this,e)}encode(){return Gt.Buffer.from(sX.serialize(DO,this))}static decode(e){return sX.deserialize(DO,this,e)}static decodeUnchecked(e){return sX.deserializeUnchecked(DO,this,e)}},hX=class extends UO{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},DO=new Map,xSe,PSe=32,Rd=32;function zat(t){return t._bn!==void 0}var pSe=1;xSe=Symbol.toStringTag;var rt=class t extends UO{constructor(e){if(super({}),this._bn=void 0,zat(e))this._bn=e._bn;else{if(typeof e=="string"){let r=aa.default.decode(e);if(r.length!=Rd)throw new Error("Invalid public key input");this._bn=new lSe.default(r)}else this._bn=new lSe.default(e);if(this._bn.byteLength()>Rd)throw new Error("Invalid public key input")}}static unique(){let e=new t(pSe);return pSe+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return aa.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Gt.Buffer);if(e.length===Rd)return e;let r=Gt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[xSe](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Gt.Buffer.concat([e.toBuffer(),Gt.Buffer.from(r),n.toBuffer()]),o=fX.sha256(i);return new t(o)}static createProgramAddressSync(e,r){let n=Gt.Buffer.alloc(0);e.forEach(function(o){if(o.length>PSe)throw new TypeError("Max seed length exceeded");n=Gt.Buffer.concat([n,Er(o)])}),n=Gt.Buffer.concat([n,r.toBuffer(),Gt.Buffer.from("ProgramDerivedAddress")]);let i=fX.sha256(n);if(fSe(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat(Gt.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return fSe(r.toBytes())}};rt.default=new rt("11111111111111111111111111111111");DO.set(rt,{kind:"struct",fields:[["_bn","u256"]]});var mX=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=Er(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Er(Uat()),this._publicKey=Er(r3(this._secretKey))}get publicKey(){return new rt(this._publicKey)}get secretKey(){return Gt.Buffer.concat([this._secretKey,this._publicKey],64)}},Fat=new rt("BPFLoader1111111111111111111111111111111111"),J0=1232,p3=127,yT=64,LO=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(LO.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var zO=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(zO.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Z0=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Z0.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var uA=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},Xr=(t="publicKey")=>W.blob(32,t),qat=(t="signature")=>W.blob(64,t),cA=(t="string")=>{let e=W.struct([W.u32("length"),W.u32("lengthPadding"),W.blob(W.offset(W.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,a)=>{let c={chars:Gt.Buffer.from(o,"utf8")};return n(c,s,a)},i.alloc=o=>W.u32().span+W.u32().span+Gt.Buffer.from(o,"utf8").length,i},jat=(t="authorized")=>W.struct([Xr("staker"),Xr("withdrawer")],t),Kat=(t="lockup")=>W.struct([W.ns64("unixTimestamp"),W.ns64("epoch"),Xr("custodian")],t),Wat=(t="voteInit")=>W.struct([Xr("nodePubkey"),Xr("authorizedVoter"),Xr("authorizedWithdrawer"),W.u8("commission")],t),Vat=(t="voteAuthorizeWithSeedArgs")=>W.struct([W.u32("voteAuthorizationType"),Xr("currentAuthorityDerivedKeyOwnerPubkey"),cA("currentAuthorityDerivedKeySeed"),Xr("newAuthorized")],t);function OSe(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return OSe({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Al(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Od(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function An(t,e){if(!t)throw new Error(e||"Assertion failed")}var n3=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let a=s.toBase58(),c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let a of s.keys){let c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];An(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{An(r.length>0,"Expected at least one writable signer key");let[c]=r[0];An(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...r.map(([c])=>new rt(c)),...n.map(([c])=>new rt(c)),...i.map(([c])=>new rt(c)),...o.map(([c])=>new rt(c))];return[s,a]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let a=new rt(o),c=e.findIndex(d=>d.equals(a));c>=0&&(An(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(o))}return[n,i]}},Tm=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new rt(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:aa.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new uA(this.staticAccountKeys)}static compile(e){let r=n3.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new uA(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:aa.default.encode(a.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];Od(r,e);let n=this.instructions.map(p=>{let{accounts:m,programIdIndex:y}=p,g=Array.from(aa.default.decode(p.data)),b=[];Od(b,m.length);let S=[];return Od(S,g.length),{programIdIndex:y,keyIndicesCount:Gt.Buffer.from(b),keyIndices:m,dataLength:Gt.Buffer.from(S),data:g}}),i=[];Od(i,n.length);let o=Gt.Buffer.alloc(J0);Gt.Buffer.from(i).copy(o);let s=i.length;n.forEach(p=>{let y=W.struct([W.u8("programIdIndex"),W.blob(p.keyIndicesCount.length,"keyIndicesCount"),W.seq(W.u8("keyIndex"),p.keyIndices.length,"keyIndices"),W.blob(p.dataLength.length,"dataLength"),W.seq(W.u8("userdatum"),p.data.length,"data")]).encode(p,o,s);s+=y}),o=o.slice(0,s);let a=W.struct([W.blob(1,"numRequiredSignatures"),W.blob(1,"numReadonlySignedAccounts"),W.blob(1,"numReadonlyUnsignedAccounts"),W.blob(r.length,"keyCount"),W.seq(Xr("key"),e,"keys"),Xr("recentBlockhash")]),c={numRequiredSignatures:Gt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Gt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Gt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Gt.Buffer.from(r),keys:this.accountKeys.map(p=>Er(p.toBytes())),recentBlockhash:aa.default.decode(this.recentBlockhash)},d=Gt.Buffer.alloc(2048),f=a.encode(c,d);return o.copy(d,f),d.slice(0,f+o.length)}static from(e){let r=[...e],n=r.shift();if(n!==(n&p3))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=r.shift(),o=r.shift(),s=Al(r),a=[];for(let m=0;m<s;m++){let y=r.slice(0,Rd);r=r.slice(Rd),a.push(new rt(Gt.Buffer.from(y)))}let c=r.slice(0,Rd);r=r.slice(Rd);let d=Al(r),f=[];for(let m=0;m<d;m++){let y=r.shift(),g=Al(r),b=r.slice(0,g);r=r.slice(g);let S=Al(r),P=r.slice(0,S),U=aa.default.encode(Gt.Buffer.from(P));r=r.slice(S),f.push({programIdIndex:y,accounts:b,data:U})}let p={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:aa.default.encode(Gt.Buffer.from(c)),accountKeys:a,instructions:f};return new t(p)}},gT=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new uA(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=n3.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let f of o){let p=r.extractTableLookup(f);if(p!==void 0){let[m,{writable:y,readonly:g}]=p;n.push(m),i.writable.push(...y),i.readonly.push(...g)}}let[s,a]=r.getMessageComponents(),d=new uA(a,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:n})}serialize(){let e=Array();Od(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();Od(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Od(o,this.addressTableLookups.length);let s=W.struct([W.u8("prefix"),W.struct([W.u8("numRequiredSignatures"),W.u8("numReadonlySignedAccounts"),W.u8("numReadonlyUnsignedAccounts")],"header"),W.blob(e.length,"staticAccountKeysLength"),W.seq(Xr(),this.staticAccountKeys.length,"staticAccountKeys"),Xr("recentBlockhash"),W.blob(n.length,"instructionsLength"),W.blob(r.length,"serializedInstructions"),W.blob(o.length,"addressTableLookupsLength"),W.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(J0),d=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:aa.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,d)}serializeInstructions(){let e=0,r=new Uint8Array(J0);for(let n of this.compiledInstructions){let i=Array();Od(i,n.accountKeyIndexes.length);let o=Array();Od(o,n.data.length);let s=W.struct([W.u8("programIdIndex"),W.blob(i.length,"encodedAccountKeyIndexesLength"),W.seq(W.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),W.blob(o.length,"encodedDataLength"),W.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(J0);for(let n of this.addressTableLookups){let i=Array();Od(i,n.writableIndexes.length);let o=Array();Od(o,n.readonlyIndexes.length);let s=W.struct([Xr("accountKey"),W.blob(i.length,"encodedWritableIndexesLength"),W.seq(W.u8(),n.writableIndexes.length,"writableIndexes"),W.blob(o.length,"encodedReadonlyIndexesLength"),W.seq(W.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=r.shift(),i=n&p3;An(n!==i,"Expected versioned message but received legacy message");let o=i;An(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},a=[],c=Al(r);for(let g=0;g<c;g++)a.push(new rt(r.splice(0,Rd)));let d=aa.default.encode(r.splice(0,Rd)),f=Al(r),p=[];for(let g=0;g<f;g++){let b=r.shift(),S=Al(r),P=r.splice(0,S),U=Al(r),L=new Uint8Array(r.splice(0,U));p.push({programIdIndex:b,accountKeyIndexes:P,data:L})}let m=Al(r),y=[];for(let g=0;g<m;g++){let b=new rt(r.splice(0,Rd)),S=Al(r),P=r.splice(0,S),U=Al(r),L=r.splice(0,U);y.push({accountKey:b,writableIndexes:P,readonlyIndexes:L})}return new t({header:s,staticAccountKeys:a,recentBlockhash:d,compiledInstructions:p,addressTableLookups:y})}},MX={deserializeMessageVersion(t){let e=t[0],r=e&p3;return r===e?"legacy":r},deserialize:t=>{let e=MX.deserializeMessageVersion(t);if(e==="legacy")return Tm.from(t);if(e===0)return gT.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};He.TransactionStatus=void 0;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})(He.TransactionStatus||(He.TransactionStatus={}));var Gat=Gt.Buffer.alloc(yT).fill(0),Qn=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Gt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Jn=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Qn(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let b=0;b<r.length;b++)if(r[b].programId===void 0)throw new Error(`Transaction instruction index ${b} has undefined program id`);let i=[],o=[];r.forEach(b=>{b.keys.forEach(P=>{o.push({...P})});let S=b.programId.toString();i.includes(S)||i.push(S)}),i.forEach(b=>{o.push({pubkey:new rt(b),isSigner:!1,isWritable:!1})});let s=[];o.forEach(b=>{let S=b.pubkey.toString(),P=s.findIndex(U=>U.pubkey.toString()===S);P>-1?(s[P].isWritable=s[P].isWritable||b.isWritable,s[P].isSigner=s[P].isSigner||b.isSigner):s.push(b)}),s.sort(function(b,S){return b.isSigner!==S.isSigner?b.isSigner?-1:1:b.isWritable!==S.isWritable?b.isWritable?-1:1:b.pubkey.toBase58().localeCompare(S.pubkey.toBase58())});let a=s.findIndex(b=>b.pubkey.equals(n));if(a>-1){let[b]=s.splice(a,1);b.isSigner=!0,b.isWritable=!0,s.unshift(b)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let b of this.signatures){let S=s.findIndex(P=>P.pubkey.equals(b.publicKey));if(S>-1)s[S].isSigner||(s[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${b.publicKey.toString()}`)}let c=0,d=0,f=0,p=[],m=[];s.forEach(({pubkey:b,isSigner:S,isWritable:P})=>{S?(p.push(b.toString()),c+=1,P||(d+=1)):(m.push(b.toString()),P||(f+=1))});let y=p.concat(m),g=r.map(b=>{let{data:S,programId:P}=b;return{programIdIndex:y.indexOf(P.toString()),accounts:b.keys.map(U=>y.indexOf(U.pubkey.toString())),data:aa.default.encode(S)}});return g.forEach(b=>{An(b.programIdIndex>=0),b.accounts.forEach(S=>An(S>=0))}),new Tm({header:{numRequiredSignatures:c,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:f},accountKeys:y,recentBlockhash:e,instructions:g})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=BX(n,i.secretKey);this._addSignature(i.publicKey,Er(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){An(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Gt.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(r)return!1}else if(!Lat(n,e,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];Od(n,r.length);let i=n.length+r.length*64+e.length,o=Gt.Buffer.alloc(i);return An(r.length<256),Gt.Buffer.from(n).copy(o,0),r.forEach(({signature:s},a)=>{s!==null&&(An(s.length===64,"signature has invalid length"),Gt.Buffer.from(s).copy(o,n.length+a*64))}),e.copy(o,n.length+r.length*64),An(o.length<=J0,`Transaction too large: ${o.length} > ${J0}`),o}get keys(){return An(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return An(this.instructions.length===1),this.instructions[0].programId}get data(){return An(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=Al(r),i=[];for(let o=0;o<n;o++){let s=r.slice(0,yT);r=r.slice(yT),i.push(aa.default.encode(Gt.Buffer.from(s)))}return t.populate(Tm.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==aa.default.encode(Gat)?null:aa.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let a=e.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new Qn({keys:o,programId:e.accountKeys[i.programIdIndex],data:aa.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},yX=class t{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,d=s-a;An(d>0,"Message header is invalid");let f=e.staticAccountKeys.length-s-c;An(f>=0,"Message header is invalid");let p=e.getAccountKeys(r),m=p.get(0);if(m===void 0)throw new Error("Failed to decompile message because no account keys were found");let y=[];for(let g of i){let b=[];for(let P of g.accountKeyIndexes){let U=p.get(P);if(U===void 0)throw new Error(`Failed to find key for account key index ${P}`);let L=P<s,j;L?j=P<d:P<p.staticAccountKeys.length?j=P-s<f:j=P-p.staticAccountKeys.length<p.accountKeysFromLookups.writable.length,b.push({pubkey:U,isSigner:P<n.numRequiredSignatures,isWritable:j})}let S=p.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);y.push(new Qn({programId:S,data:Er(g.data),keys:b}))}return new t({payerKey:m,instructions:y,recentBlockhash:o})}compileToLegacyMessage(){return Tm.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return gT.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},gX=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)An(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(yT));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();Od(r,this.signatures.length);let n=W.struct([W.blob(r.length,"encodedSignaturesLength"),W.seq(qat(),this.signatures.length,"signatures"),W.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=Al(r);for(let s=0;s<i;s++)n.push(new Uint8Array(r.splice(0,yT)));let o=MX.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));An(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=BX(r,i.secretKey)}}addSignature(e,r){An(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));An(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},Em=new rt("SysvarC1ock11111111111111111111111111111111"),Hat=new rt("SysvarEpochSchedu1e111111111111111111111111"),$at=new rt("Sysvar1nstructions1111111111111111111111111"),QF=new rt("SysvarRecentB1ockHashes11111111111111111111"),bT=new rt("SysvarRent111111111111111111111111111111111"),Yat=new rt("SysvarRewards111111111111111111111111111111"),Xat=new rt("SysvarS1otHashes111111111111111111111111111"),Zat=new rt("SysvarS1otHistory11111111111111111111111111"),e3=new rt("SysvarStakeHistory1111111111111111111111111");async function t3(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function aA(t){return new Promise(e=>setTimeout(e,t))}function yn(t,e){let r=t.layout.span>=0?t.layout.span:OSe(t,e),n=Gt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function Wn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}var RSe=W.nu64("lamportsPerSignature"),CSe=W.struct([W.u32("version"),W.u32("state"),Xr("authorizedPubkey"),Xr("nonce"),W.struct([RSe],"feeCalculator")]),bX=CSe.span,i3=class t{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=CSe.decode(Er(e),0);return new t({authorizedPubkey:new rt(r.authorizedPubkey),nonce:new rt(r.nonce).toString(),feeCalculator:r.feeCalculator})}},Jat=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},Qat=t=>e=>{let r=vSe.blob(t,e),{encode:n,decode:i}=Jat(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return pX.toBigIntLE(Gt.Buffer.from(c))},o.encode=(s,a,c)=>{let d=pX.toBufferLE(s,t);return n(d,a,c)},o},_T=Qat(8),_X=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=W.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(ki))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=Wn(ki.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new rt(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=Wn(ki.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=Wn(ki.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new rt(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=Wn(ki.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:o}=Wn(ki.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new rt(r),seed:n,space:i,programId:new rt(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=Wn(ki.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new rt(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=Wn(ki.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new rt(r),seed:n,programId:new rt(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:o,programId:s}=Wn(ki.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new rt(r),seed:n,lamports:i,space:o,programId:new rt(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=Wn(ki.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new rt(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Wn(ki.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Wn(ki.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=Wn(ki.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new rt(r)}}static checkProgramId(e){if(!e.equals(Ca.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},ki=Object.freeze({Create:{index:0,layout:W.struct([W.u32("instruction"),W.ns64("lamports"),W.ns64("space"),Xr("programId")])},Assign:{index:1,layout:W.struct([W.u32("instruction"),Xr("programId")])},Transfer:{index:2,layout:W.struct([W.u32("instruction"),_T("lamports")])},CreateWithSeed:{index:3,layout:W.struct([W.u32("instruction"),Xr("base"),cA("seed"),W.ns64("lamports"),W.ns64("space"),Xr("programId")])},AdvanceNonceAccount:{index:4,layout:W.struct([W.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:W.struct([W.u32("instruction"),Xr("authorized")])},AuthorizeNonceAccount:{index:7,layout:W.struct([W.u32("instruction"),Xr("authorized")])},Allocate:{index:8,layout:W.struct([W.u32("instruction"),W.ns64("space")])},AllocateWithSeed:{index:9,layout:W.struct([W.u32("instruction"),Xr("base"),cA("seed"),W.ns64("space"),Xr("programId")])},AssignWithSeed:{index:10,layout:W.struct([W.u32("instruction"),Xr("base"),cA("seed"),Xr("programId")])},TransferWithSeed:{index:11,layout:W.struct([W.u32("instruction"),_T("lamports"),cA("seed"),Xr("programId")])},UpgradeNonceAccount:{index:12,layout:W.struct([W.u32("instruction")])}}),Ca=class t{constructor(){}static createAccount(e){let r=ki.Create,n=yn(r,{lamports:e.lamports,space:e.space,programId:Er(e.programId.toBuffer())});return new Qn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=ki.TransferWithSeed;r=yn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Er(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=ki.Transfer;r=yn(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Qn({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=ki.AssignWithSeed;r=yn(i,{base:Er(e.basePubkey.toBuffer()),seed:e.seed,programId:Er(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ki.Assign;r=yn(i,{programId:Er(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Qn({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=ki.CreateWithSeed,n=yn(r,{base:Er(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Er(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Qn({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new Jn;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:bX,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:bX,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=ki.InitializeNonceAccount,n=yn(r,{authorized:Er(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:QF,isSigner:!1,isWritable:!1},{pubkey:bT,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Qn(i)}static nonceAdvance(e){let r=ki.AdvanceNonceAccount,n=yn(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:QF,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Qn(i)}static nonceWithdraw(e){let r=ki.WithdrawNonceAccount,n=yn(r,{lamports:e.lamports});return new Qn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:QF,isSigner:!1,isWritable:!1},{pubkey:bT,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=ki.AuthorizeNonceAccount,n=yn(r,{authorized:Er(e.newAuthorizedPubkey.toBuffer())});return new Qn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=ki.AllocateWithSeed;r=yn(i,{base:Er(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Er(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ki.Allocate;r=yn(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Qn({keys:n,programId:this.programId,data:r})}};Ca.programId=new rt("11111111111111111111111111111111");var ect=J0-300,ST=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let p=await e.getMinimumBalanceForRentExemption(o.length),m=await e.getAccountInfo(n.publicKey,"confirmed"),y=null;if(m!==null){if(m.executable)return console.error("Program load failed, account is already executable"),!1;m.data.length!==o.length&&(y=y||new Jn,y.add(Ca.allocate({accountPubkey:n.publicKey,space:o.length}))),m.owner.equals(i)||(y=y||new Jn,y.add(Ca.assign({accountPubkey:n.publicKey,programId:i}))),m.lamports<p&&(y=y||new Jn,y.add(Ca.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:p-m.lamports})))}else y=new Jn().add(Ca.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:p>0?p:1,space:o.length,programId:i}));y!==null&&await t3(e,y,[r,n],{commitment:"confirmed"})}let s=W.struct([W.u32("instruction"),W.u32("offset"),W.u32("bytesLength"),W.u32("bytesLengthPadding"),W.seq(W.u8("byte"),W.offset(W.u32(),-8),"bytes")]),a=t.chunkSize,c=0,d=o,f=[];for(;d.length>0;){let p=d.slice(0,a),m=Gt.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:p,bytesLength:0,bytesLengthPadding:0},m);let y=new Jn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:m});f.push(t3(e,y,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await aA(1e3/4),c+=a,d=d.slice(a)}await Promise.all(f);{let p=W.struct([W.u32("instruction")]),m=Gt.Buffer.alloc(p.span);p.encode({instruction:1},m);let y=new Jn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:bT,isSigner:!1,isWritable:!1}],programId:i,data:m});await t3(e,y,[r,n],{commitment:"confirmed"})}return!0}};ST.chunkSize=ect;var tct=new rt("BPFLoader2111111111111111111111111111111111"),SX=class{static getMinNumSignatures(e){return ST.getMinNumSignatures(e)}static load(e,r,n,i,o){return ST.load(e,r,n,o,i)}},rct=Object.prototype.toString,nct=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function NO(t,e){var r,n,i,o,s,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return NO(t.toJSON(),e);if(c=rct.call(t),c==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=NO(t[r],!0)+",";return n>-1&&(i+=NO(t[r],!0)),i+"]"}else if(c==="[object Object]"){for(o=nct(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],a=NO(t[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var ict=function(t){var e=NO(t,!1);if(e!==void 0)return""+e},hSe=ict,MO=32;function aX(t){let e=0;for(;t>1;)t/=2,e++;return e}function oct(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}var o3=class{constructor(e,r,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=aX(oct(e+MO+1))-aX(MO)-1,n=this.getSlotsInEpoch(r),i=e-(n-MO);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=r%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MO:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+aX(MO)):this.slotsPerEpoch}},FO=class extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}},sct={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},It=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}},act=globalThis.fetch,wX=class extends Nat.default{constructor(e,r,n){let i=o=>{let s=Dat.default(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},cct=160,uct=64,lct=cct/uct,dct=1e3/lct;function fct(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}var mSe=56,qO=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=fct(pct,e),n=e.length-mSe;An(n>=0,"lookup table is invalid"),An(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=W.struct([W.seq(Xr(),i,"addresses")]).decode(e.slice(mSe));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new rt(r.authority[0]):void 0,addresses:o.map(s=>new rt(s))}}},pct={index:1,layout:W.struct([W.u32("typeIndex"),_T("deactivationSlot"),W.nu64("lastExtendedSlot"),W.u8("lastExtendedStartIndex"),W.u8(),W.seq(Xr(),W.offset(W.u8(),-1),"authority")])},hct=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function mct(t){let e=t.match(hct);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${n}${c}${o}`}var rs=A.coerce(A.instance(rt),A.string(),t=>new rt(t)),BSe=A.tuple([A.string(),A.literal("base64")]),NX=A.coerce(A.instance(Gt.Buffer),BSe,t=>Gt.Buffer.from(t[0],"base64")),MSe=30*1e3;function yct(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function co(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function NSe(t){return A.union([A.type({jsonrpc:A.literal("2.0"),id:A.string(),result:t}),A.type({jsonrpc:A.literal("2.0"),id:A.string(),error:A.type({code:A.unknown(),message:A.string(),data:A.optional(A.any())})})])}var gct=NSe(A.unknown());function Mr(t){return A.coerce(NSe(t),gct,e=>"error"in e?e:{...e,result:A.create(e.result,t)})}function ts(t){return Mr(A.type({context:A.type({slot:A.number()}),value:t}))}function h3(t){return A.type({context:A.type({slot:A.number()}),value:t})}function cX(t,e){return t===0?new gT({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new rt(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:aa.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Tm(e)}var bct=A.type({foundation:A.number(),foundationTerm:A.number(),initial:A.number(),taper:A.number(),terminal:A.number()}),_ct=Mr(A.array(A.nullable(A.type({epoch:A.number(),effectiveSlot:A.number(),amount:A.number(),postBalance:A.number(),commission:A.optional(A.nullable(A.number()))})))),Sct=A.type({total:A.number(),validator:A.number(),foundation:A.number(),epoch:A.number()}),wct=A.type({epoch:A.number(),slotIndex:A.number(),slotsInEpoch:A.number(),absoluteSlot:A.number(),blockHeight:A.optional(A.number()),transactionCount:A.optional(A.number())}),Act=A.type({slotsPerEpoch:A.number(),leaderScheduleSlotOffset:A.number(),warmup:A.boolean(),firstNormalEpoch:A.number(),firstNormalSlot:A.number()}),Ect=A.record(A.string(),A.array(A.number())),dA=A.nullable(A.union([A.type({}),A.string()])),Ict=A.type({err:dA}),Tct=A.literal("receivedSignature"),kct=A.type({"solana-core":A.string(),"feature-set":A.optional(A.number())}),ySe=ts(A.type({err:A.nullable(A.union([A.type({}),A.string()])),logs:A.nullable(A.array(A.string())),accounts:A.optional(A.nullable(A.array(A.nullable(A.type({executable:A.boolean(),owner:A.string(),lamports:A.number(),data:A.array(A.string()),rentEpoch:A.optional(A.number())}))))),unitsConsumed:A.optional(A.number()),returnData:A.optional(A.nullable(A.type({programId:A.string(),data:A.tuple([A.string(),A.literal("base64")])})))})),vct=ts(A.type({byIdentity:A.record(A.string(),A.array(A.number())),range:A.type({firstSlot:A.number(),lastSlot:A.number()})}));function xct(t,e,r,n,i,o){let s=r||act,a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(f,p)=>{let m=await new Promise((y,g)=>{try{n(f,p,(b,S)=>y([b,S]))}catch(b){g(b)}});return await s(...m)}),new Mat.default(async(f,p)=>{let m={method:"POST",body:f,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},vut)};try{let y=5,g,b=500;for(;c?g=await c(t,m):g=await s(t,m),!(g.status!==429||i===!0||(y-=1,y===0));)console.log(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${b}ms delay...`),await aA(b),b*=2;let S=await g.text();g.ok?p(null,S):p(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(y){y instanceof Error&&p(y)}},{})}function Pct(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(o,s)=>{if(o){i(o);return}n(s)})})}function Oct(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){n(o);return}r(s)})})}var Rct=Mr(bct),Cct=Mr(Sct),Bct=Mr(wct),Mct=Mr(Act),Nct=Mr(Ect),Dct=Mr(A.number()),Uct=ts(A.type({total:A.number(),circulating:A.number(),nonCirculating:A.number(),nonCirculatingAccounts:A.array(rs)})),AX=A.type({amount:A.string(),uiAmount:A.nullable(A.number()),decimals:A.number(),uiAmountString:A.optional(A.string())}),Lct=ts(A.array(A.type({address:rs,amount:A.string(),uiAmount:A.nullable(A.number()),decimals:A.number(),uiAmountString:A.optional(A.string())}))),zct=ts(A.array(A.type({pubkey:rs,account:A.type({executable:A.boolean(),owner:rs,lamports:A.number(),data:NX,rentEpoch:A.number()})}))),EX=A.type({program:A.string(),parsed:A.unknown(),space:A.number()}),Fct=ts(A.array(A.type({pubkey:rs,account:A.type({executable:A.boolean(),owner:rs,lamports:A.number(),data:EX,rentEpoch:A.number()})}))),qct=ts(A.array(A.type({lamports:A.number(),address:rs}))),jO=A.type({executable:A.boolean(),owner:rs,lamports:A.number(),data:NX,rentEpoch:A.number()}),jct=A.type({pubkey:rs,account:jO}),Kct=A.coerce(A.union([A.instance(Gt.Buffer),EX]),A.union([BSe,EX]),t=>Array.isArray(t)?A.create(t,NX):t),IX=A.type({executable:A.boolean(),owner:rs,lamports:A.number(),data:Kct,rentEpoch:A.number()}),Wct=A.type({pubkey:rs,account:IX}),Vct=A.type({state:A.union([A.literal("active"),A.literal("inactive"),A.literal("activating"),A.literal("deactivating")]),active:A.number(),inactive:A.number()}),Gct=Mr(A.array(A.type({signature:A.string(),slot:A.number(),err:dA,memo:A.nullable(A.string()),blockTime:A.optional(A.nullable(A.number()))}))),Hct=Mr(A.array(A.type({signature:A.string(),slot:A.number(),err:dA,memo:A.nullable(A.string()),blockTime:A.optional(A.nullable(A.number()))}))),$ct=A.type({subscription:A.number(),result:h3(jO)}),Yct=A.type({pubkey:rs,account:jO}),Xct=A.type({subscription:A.number(),result:h3(Yct)}),Zct=A.type({parent:A.number(),slot:A.number(),root:A.number()}),Jct=A.type({subscription:A.number(),result:Zct}),Qct=A.union([A.type({type:A.union([A.literal("firstShredReceived"),A.literal("completed"),A.literal("optimisticConfirmation"),A.literal("root")]),slot:A.number(),timestamp:A.number()}),A.type({type:A.literal("createdBank"),parent:A.number(),slot:A.number(),timestamp:A.number()}),A.type({type:A.literal("frozen"),slot:A.number(),timestamp:A.number(),stats:A.type({numTransactionEntries:A.number(),numSuccessfulTransactions:A.number(),numFailedTransactions:A.number(),maxTransactionsPerEntry:A.number()})}),A.type({type:A.literal("dead"),slot:A.number(),timestamp:A.number(),err:A.string()})]),eut=A.type({subscription:A.number(),result:Qct}),tut=A.type({subscription:A.number(),result:h3(A.union([Ict,Tct]))}),rut=A.type({subscription:A.number(),result:A.number()}),nut=A.type({pubkey:A.string(),gossip:A.nullable(A.string()),tpu:A.nullable(A.string()),rpc:A.nullable(A.string()),version:A.nullable(A.string())}),gSe=A.type({votePubkey:A.string(),nodePubkey:A.string(),activatedStake:A.number(),epochVoteAccount:A.boolean(),epochCredits:A.array(A.tuple([A.number(),A.number(),A.number()])),commission:A.number(),lastVote:A.number(),rootSlot:A.nullable(A.number())}),iut=Mr(A.type({current:A.array(gSe),delinquent:A.array(gSe)})),out=A.union([A.literal("processed"),A.literal("confirmed"),A.literal("finalized")]),sut=A.type({slot:A.number(),confirmations:A.nullable(A.number()),err:dA,confirmationStatus:A.optional(out)}),aut=ts(A.array(A.nullable(sut))),cut=Mr(A.number()),DSe=A.type({accountKey:rs,writableIndexes:A.array(A.number()),readonlyIndexes:A.array(A.number())}),DX=A.type({signatures:A.array(A.string()),message:A.type({accountKeys:A.array(A.string()),header:A.type({numRequiredSignatures:A.number(),numReadonlySignedAccounts:A.number(),numReadonlyUnsignedAccounts:A.number()}),instructions:A.array(A.type({accounts:A.array(A.number()),data:A.string(),programIdIndex:A.number()})),recentBlockhash:A.string(),addressTableLookups:A.optional(A.array(DSe))})}),USe=A.type({pubkey:rs,signer:A.boolean(),writable:A.boolean(),source:A.optional(A.union([A.literal("transaction"),A.literal("lookupTable")]))}),LSe=A.type({accountKeys:A.array(USe),signatures:A.array(A.string())}),zSe=A.type({parsed:A.unknown(),program:A.string(),programId:rs}),FSe=A.type({accounts:A.array(rs),data:A.string(),programId:rs}),uut=A.union([FSe,zSe]),lut=A.union([A.type({parsed:A.unknown(),program:A.string(),programId:A.string()}),A.type({accounts:A.array(A.string()),data:A.string(),programId:A.string()})]),qSe=A.coerce(uut,lut,t=>"accounts"in t?A.create(t,FSe):A.create(t,zSe)),jSe=A.type({signatures:A.array(A.string()),message:A.type({accountKeys:A.array(USe),instructions:A.array(qSe),recentBlockhash:A.string(),addressTableLookups:A.optional(A.nullable(A.array(DSe)))})}),s3=A.type({accountIndex:A.number(),mint:A.string(),owner:A.optional(A.string()),uiTokenAmount:AX}),KSe=A.type({writable:A.array(rs),readonly:A.array(rs)}),m3=A.type({err:dA,fee:A.number(),innerInstructions:A.optional(A.nullable(A.array(A.type({index:A.number(),instructions:A.array(A.type({accounts:A.array(A.number()),data:A.string(),programIdIndex:A.number()}))})))),preBalances:A.array(A.number()),postBalances:A.array(A.number()),logMessages:A.optional(A.nullable(A.array(A.string()))),preTokenBalances:A.optional(A.nullable(A.array(s3))),postTokenBalances:A.optional(A.nullable(A.array(s3))),loadedAddresses:A.optional(KSe),computeUnitsConsumed:A.optional(A.number())}),UX=A.type({err:dA,fee:A.number(),innerInstructions:A.optional(A.nullable(A.array(A.type({index:A.number(),instructions:A.array(qSe)})))),preBalances:A.array(A.number()),postBalances:A.array(A.number()),logMessages:A.optional(A.nullable(A.array(A.string()))),preTokenBalances:A.optional(A.nullable(A.array(s3))),postTokenBalances:A.optional(A.nullable(A.array(s3))),loadedAddresses:A.optional(KSe),computeUnitsConsumed:A.optional(A.number())}),ET=A.union([A.literal(0),A.literal("legacy")]),fA=A.type({pubkey:A.string(),lamports:A.number(),postBalance:A.nullable(A.number()),rewardType:A.nullable(A.string()),commission:A.optional(A.nullable(A.number()))}),dut=Mr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),transactions:A.array(A.type({transaction:DX,meta:A.nullable(m3),version:A.optional(ET)})),rewards:A.optional(A.array(fA)),blockTime:A.nullable(A.number()),blockHeight:A.nullable(A.number())}))),fut=Mr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),rewards:A.optional(A.array(fA)),blockTime:A.nullable(A.number()),blockHeight:A.nullable(A.number())}))),put=Mr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),transactions:A.array(A.type({transaction:LSe,meta:A.nullable(m3),version:A.optional(ET)})),rewards:A.optional(A.array(fA)),blockTime:A.nullable(A.number()),blockHeight:A.nullable(A.number())}))),hut=Mr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),transactions:A.array(A.type({transaction:jSe,meta:A.nullable(UX),version:A.optional(ET)})),rewards:A.optional(A.array(fA)),blockTime:A.nullable(A.number()),blockHeight:A.nullable(A.number())}))),mut=Mr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),transactions:A.array(A.type({transaction:LSe,meta:A.nullable(UX),version:A.optional(ET)})),rewards:A.optional(A.array(fA)),blockTime:A.nullable(A.number()),blockHeight:A.nullable(A.number())}))),yut=Mr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),rewards:A.optional(A.array(fA)),blockTime:A.nullable(A.number()),blockHeight:A.nullable(A.number())}))),gut=Mr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),transactions:A.array(A.type({transaction:DX,meta:A.nullable(m3)})),rewards:A.optional(A.array(fA)),blockTime:A.nullable(A.number())}))),bSe=Mr(A.nullable(A.type({blockhash:A.string(),previousBlockhash:A.string(),parentSlot:A.number(),signatures:A.array(A.string()),blockTime:A.nullable(A.number())}))),uX=Mr(A.nullable(A.type({slot:A.number(),meta:m3,blockTime:A.optional(A.nullable(A.number())),transaction:DX,version:A.optional(ET)}))),JF=Mr(A.nullable(A.type({slot:A.number(),transaction:jSe,meta:A.nullable(UX),blockTime:A.optional(A.nullable(A.number())),version:A.optional(ET)}))),but=ts(A.type({blockhash:A.string(),feeCalculator:A.type({lamportsPerSignature:A.number()})})),_ut=ts(A.type({blockhash:A.string(),lastValidBlockHeight:A.number()})),Sut=A.type({slot:A.number(),numTransactions:A.number(),numSlots:A.number(),samplePeriodSecs:A.number()}),wut=Mr(A.array(Sut)),Aut=ts(A.nullable(A.type({feeCalculator:A.type({lamportsPerSignature:A.number()})}))),Eut=Mr(A.string()),Iut=Mr(A.string()),Tut=A.type({err:dA,logs:A.array(A.string()),signature:A.string()}),kut=A.type({result:h3(Tut),subscription:A.number()}),vut={"solana-client":"js/0.0.0-development"},TX=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let d={};return async f=>{let{commitment:p,config:m}=co(f),y=this._buildArgs([],p,void 0,m),g=hSe(y);return d[g]=d[g]??(async()=>{try{let b=await this._rpcRequest("getBlockHeight",y),S=A.create(b,Mr(A.number()));if("error"in S)throw new It(S.error,"failed to get block height information");return S.result}finally{delete d[g]}})(),await d[g]}})();let n,i,o,s,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,o=r.fetch,s=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=yct(e),this._rpcWsEndpoint=n||mct(e),this._rpcClient=xct(e,i,o,s,a,c),this._rpcRequest=Pct(this._rpcClient),this._rpcBatchRequest=Oct(this._rpcClient),this._rpcWebSocket=new wX(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgs([e.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),a=A.create(s,ts(A.number()));if("error"in a)throw new It(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=A.create(r,Mr(A.nullable(A.number())));if("error"in n)throw new It(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=A.create(e,Mr(A.number()));if("error"in r)throw new It(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=A.create(e,Dct);if("error"in r)throw new It(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=A.create(n,Uct);if("error"in i)throw new It(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),o=A.create(i,ts(AX));if("error"in o)throw new It(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),o=A.create(i,ts(AX));if("error"in o)throw new It(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:o}=co(n),s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),d=A.create(c,zct);if("error"in d)throw new It(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=A.create(s,Fct);if("error"in a)throw new It(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),o=A.create(i,qct);if("error"in o)throw new It(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),o=A.create(i,Lct);if("error"in o)throw new It(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgs([e.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=A.create(s,ts(A.nullable(jO)));if("error"in a)throw new It(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=A.create(s,ts(A.nullable(IX)));if("error"in a)throw new It(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=co(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=A.create(a,ts(A.array(A.nullable(IX))));if("error"in c)throw new It(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=co(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=A.create(a,ts(A.array(A.nullable(jO))));if("error"in c)throw new It(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:o}=co(r),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),a=await this._rpcRequest("getStakeActivation",s),c=A.create(a,Mr(Vct));if("error"in c)throw new It(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=co(r),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],n,o||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),d=A.create(c,Mr(A.array(jct)));if("error"in d)throw new It(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=A.create(s,Mr(A.array(Wct)));if("error"in a)throw new It(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=aa.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return An(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,o=!1,s=new Promise((c,d)=>{try{n=this.onSignature(r,(p,m)=>{n=void 0;let y={context:m,value:p};c({__type:He.TransactionStatus.PROCESSED,response:y})},e);let f=new Promise(p=>{n==null?p():i=this._onSubscriptionStateChange(n,m=>{m==="subscribed"&&p()})});(async()=>{if(await f,o)return;let p=await this.getSignatureStatus(r);if(o||p==null)return;let{context:m,value:y}=p;if(y!=null)if(y?.err)d(y.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(y.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(y.confirmationStatus==="processed"||y.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:He.TransactionStatus.PROCESSED,response:{context:m,value:y}})}})()}catch(f){d(f)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let o=!1,s=new Promise(p=>{let m=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let y=await m();if(!o){for(;y<=n;)if(await aA(1e3),o||(y=await m(),o))return;p({__type:He.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),d=this.getCancellationPromise(r),f;try{let p=await Promise.race([d,c,s]);if(p.__type===He.TransactionStatus.PROCESSED)f=p.response;else throw new LO(i)}finally{o=!0,a()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1,c=new Promise(y=>{let g=o,b=null,S=async()=>{try{let{context:P,value:U}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return b=P.slot,U?.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(o!==g){y({__type:He.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:b});return}if(await aA(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:d,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),p=this.getCancellationPromise(r),m;try{let y=await Promise.race([p,f,c]);if(y.__type===He.TransactionStatus.PROCESSED)m=y.response;else{let g;for(;;){let b=await this.getSignatureStatus(s);if(b==null)break;if(b.context.slot<(y.slotInWhichNonceDidAdvance??n)){await aA(400);continue}g=b;break}if(g?.value){let b=e||"finalized",{confirmationStatus:S}=g.value;switch(b){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new Z0(s);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new Z0(s);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new Z0(s);break;default:}m={context:g.context,value:{err:g.value.err}}}else throw new Z0(s)}}finally{a=!0,d()}return m}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(c=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:He.TransactionStatus.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),a;try{let c=await Promise.race([s,i]);if(c.__type===He.TransactionStatus.PROCESSED)a=c.response;else throw new zO(r,c.timeoutMs/1e3)}finally{clearTimeout(n),o()}return a}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=A.create(e,Mr(A.array(nut)));if("error"in r)throw new It(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=A.create(n,iut);if("error"in i)throw new It(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=co(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlot",i),s=A.create(o,Mr(A.number()));if("error"in s)throw new It(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:r,config:n}=co(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=A.create(o,Mr(A.string()));if("error"in s)throw new It(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),o=A.create(i,Mr(A.array(rs)));if("error"in o)throw new It(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);An(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),o=A.create(i,aut);if("error"in o)throw new It(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){let{commitment:r,config:n}=co(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=A.create(o,Mr(A.number()));if("error"in s)throw new It(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=A.create(n,Rct);if("error"in i)throw new It(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:o}=co(n),s=this._buildArgs([e.map(d=>d.toBase58())],i,void 0,{...o,epoch:r??o?.epoch}),a=await this._rpcRequest("getInflationReward",s),c=A.create(a,_ct);if("error"in c)throw new It(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=A.create(e,Cct);if("error"in r)throw new It(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=co(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=A.create(o,Bct);if("error"in s)throw new It(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=A.create(e,Mct);if("error"in r)throw new It(r.error,"failed to get epoch schedule");let n=r.result;return new o3(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=A.create(e,Nct);if("error"in r)throw new It(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=A.create(i,cut);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=A.create(n,but);if("error"in i)throw new It(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=A.create(r,wut);if("error"in n)throw new It(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=A.create(i,Aut);if("error"in o)throw new It(o.error,"failed to get fee calculator");let{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){let n=Er(e.serialize()).toString("base64"),i=this._buildArgs([n],r),o=await this._rpcRequest("getFeeForMessage",i),s=A.create(o,ts(A.nullable(A.number())));if("error"in s)throw new It(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=co(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=A.create(o,_ut);if("error"in s)throw new It(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=A.create(e,Mr(kct));if("error"in r)throw new It(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=A.create(e,Mr(A.string()));if("error"in r)throw new It(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=A.create(s,put);if("error"in a)throw a.error;return a.result}case"none":{let a=A.create(s,fut);if("error"in a)throw a.error;return a.result}default:{let a=A.create(s,dut);if("error"in a)throw a.error;let{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:d,meta:f,version:p})=>({meta:f,transaction:{...d,message:cX(p,d.message)},version:p}))}:null}}}catch(a){throw new It(a,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=A.create(s,mut);if("error"in a)throw a.error;return a.result}case"none":{let a=A.create(s,yut);if("error"in a)throw a.error;return a.result}default:{let a=A.create(s,hut);if("error"in a)throw a.error;return a.result}}}catch(a){throw new It(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:a,...c}=e;n=a,r=c}let i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getBlockProduction",i),s=A.create(o,vct);if("error"in s)throw new It(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getTransaction",o),a=A.create(s,uX);if("error"in a)throw new It(a.error,"failed to get transaction");let c=a.result;return c&&{...c,transaction:{...c.transaction,message:cX(c.version,c.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=co(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=A.create(s,JF);if("error"in a)throw new It(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=co(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=A.create(c,JF);if("error"in d)throw new It(d.error,"failed to get transactions");return d.result})}async getTransactions(e,r){let{commitment:n,config:i}=co(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=A.create(c,uX);if("error"in d)throw new It(d.error,"failed to get transactions");let f=d.result;return f&&{...f,transaction:{...f.transaction,message:cX(f.version,f.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),o=A.create(i,gut);if("error"in o)throw new It(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");let a={...s,transactions:s.transactions.map(({transaction:c,meta:d})=>{let f=new Tm(c.message);return{meta:d,transaction:{...c,message:f}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:d})=>({meta:d,transaction:Jn.populate(c.message,c.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),o=await this._rpcRequest("getBlocks",i),s=A.create(o,Mr(A.array(A.number())));if("error"in s)throw new It(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=A.create(i,bSe);if("error"in o)throw new It(o.error,"failed to get block");let s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=A.create(i,bSe);if("error"in o)throw new It(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),o=A.create(i,uX);if("error"in o)throw new It(o.error,"failed to get transaction");let s=o.result;if(!s)return s;let a=new Tm(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:Jn.populate(a,c)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=A.create(i,JF);if("error"in o)throw new It(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,r){let n=e.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let a=A.create(s,JF);if("error"in a)throw new It(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<o));)try{let c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{let c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=A.create(o,Gct);if("error"in s)throw new It(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getSignaturesForAddress",i),s=A.create(o,Hct);if("error"in s)throw new It(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=new qO({key:e,state:qO.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=i3.fromAccountData(i.data)),{context:n,value:o}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=A.create(n,Eut);if("error"in i)throw new It(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await aA(100);let n=Date.now()-this._blockhashInfo.lastFetch>=MSe;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await aA(dct/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=co(e),i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=A.create(o,ts(A.number()));if("error"in s)throw new It(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){let b=e.serialize(),S=Gt.Buffer.from(b).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let P=r||{};P.encoding="base64","commitment"in P||(P.commitment=this.commitment);let U=[S,P],L=await this._rpcRequest("simulateTransaction",U),j=A.create(L,ySe);if("error"in j)throw new Error("failed to simulate transaction: "+j.error.message);return j.result}let i;if(e instanceof Jn){let g=e;i=new Jn,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=Jn.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(i.nonceInfo&&o)i.sign(...o);else{let g=this._disableBlockhashCaching;for(;;){let b=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=b.lastValidBlockHeight,i.recentBlockhash=b.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}let s=i._compile(),a=s.serialize(),d=i._serialize(a).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(n){let g=(Array.isArray(n)?n:s.nonProgramIds()).map(b=>b.toBase58());f.accounts={encoding:"base64",addresses:g}}o&&(f.sigVerify=!0);let p=[d,f],m=await this._rpcRequest("simulateTransaction",p),y=A.create(m,ySe);if("error"in y){let g;if("data"in y.error&&(g=y.error.data.logs,g&&Array.isArray(g))){let b=`
    `,S=b+g.join(b);console.error(y.error.message,S)}throw new FO("failed to simulate transaction: "+y.error.message,g)}return y.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){let a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}let o=e.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(e,r){let n=Er(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,o=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let s=[e,n],a=await this._rpcRequest("sendTransaction",s),c=A.create(a,Iut);if("error"in c){let d;throw"data"in c.error&&(d=c.error.data.logs),new FO("failed to send transaction: "+c.error.message,d)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var n;let i=this._subscriptionHashByClientSubscriptionId[e];if(i==null)return()=>{};let o=(n=this._subscriptionStateChangeCallbacksByHash)[i]||(n[i]=new Set);return o.add(r),()=>{o.delete(r),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let a=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,o,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=A.create(e,$ct);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=hSe([e.method,r]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[i];An(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=A.create(e,Xct);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=A.create(e,kut);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=A.create(e,Jct);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=A.create(e,eut);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let o=r||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let o=r||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=A.create(e,tut);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){r(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,r,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(c,d)=>{r(c,d);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=A.create(e,rut);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},a3=class t{constructor(e){this._keypair=void 0,this._keypair=e??dSe()}static generate(){return new t(dSe())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=r3(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=r3(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new rt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},Vg=Object.freeze({CreateLookupTable:{index:0,layout:W.struct([W.u32("instruction"),_T("recentSlot"),W.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:W.struct([W.u32("instruction")])},ExtendLookupTable:{index:2,layout:W.struct([W.u32("instruction"),_T(),W.seq(Xr(),W.offset(W.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:W.struct([W.u32("instruction")])},CloseLookupTable:{index:4,layout:W.struct([W.u32("instruction")])}}),kX=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=W.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Vg))if(s.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=Wn(Vg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=Wn(Vg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new rt(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(KO.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},KO=class{constructor(){}static createLookupTable(e){let[r,n]=rt.findProgramAddressSync([e.authority.toBuffer(),pX.toBufferLE(BigInt(e.recentSlot),8)],this.programId),i=Vg.CreateLookupTable,o=yn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ca.programId,isSigner:!1,isWritable:!1}];return[new Qn({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=Vg.FreezeLookupTable,n=yn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Qn({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=Vg.ExtendLookupTable,n=yn(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ca.programId,isSigner:!1,isWritable:!1}),new Qn({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=Vg.DeactivateLookupTable,n=yn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Qn({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=Vg.CloseLookupTable,n=yn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Qn({programId:this.programId,keys:i,data:n})}};KO.programId=new rt("AddressLookupTab1e1111111111111111111111111");var vX=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=W.u8("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Im))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=Wn(Im.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=Wn(Im.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=Wn(Im.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=Wn(Im.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(WO.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},Im=Object.freeze({RequestUnits:{index:0,layout:W.struct([W.u8("instruction"),W.u32("units"),W.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:W.struct([W.u8("instruction"),W.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:W.struct([W.u8("instruction"),W.u32("units")])},SetComputeUnitPrice:{index:3,layout:W.struct([W.u8("instruction"),_T("microLamports")])}}),WO=class{constructor(){}static requestUnits(e){let r=Im.RequestUnits,n=yn(r,e);return new Qn({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=Im.RequestHeapFrame,n=yn(r,e);return new Qn({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=Im.SetComputeUnitLimit,n=yn(r,e);return new Qn({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=Im.SetComputeUnitPrice,n=yn(r,{microLamports:BigInt(e.microLamports)});return new Qn({keys:[],programId:this.programId,data:n})}};WO.programId=new rt("ComputeBudget111111111111111111111111111111");var _Se=64,SSe=32,wSe=64,ASe=W.struct([W.u8("numSignatures"),W.u8("padding"),W.u16("signatureOffset"),W.u16("signatureInstructionIndex"),W.u16("publicKeyOffset"),W.u16("publicKeyInstructionIndex"),W.u16("messageDataOffset"),W.u16("messageDataSize"),W.u16("messageInstructionIndex")]),c3=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;An(r.length===SSe,`Public Key must be ${SSe} bytes but received ${r.length} bytes`),An(i.length===wSe,`Signature must be ${wSe} bytes but received ${i.length} bytes`);let s=ASe.span,a=s+r.length,c=a+i.length,d=1,f=Gt.Buffer.alloc(c+n.length),p=o??65535;return ASe.encode({numSignatures:d,padding:0,signatureOffset:a,signatureInstructionIndex:p,publicKeyOffset:s,publicKeyInstructionIndex:p,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:p},f),f.fill(r,s),f.fill(i,a),f.fill(n,c),new Qn({keys:[],programId:t.programId,data:f})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;An(r.length===_Se,`Private key must be ${_Se} bytes but received ${r.length} bytes`);try{let o=a3.fromSecretKey(r),s=o.publicKey.toBytes(),a=BX(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};c3.programId=new rt("Ed25519SigVerify111111111111111111111111111");f3.utils.hmacSha256Sync=(t,...e)=>{let r=Cat.hmac.create(fX.sha256,t);return e.forEach(n=>r.update(n)),r.digest()};var xut=(t,e)=>f3.signSync(t,e,{der:!1,recovered:!0});f3.utils.isValidPrivateKey;var Put=f3.getPublicKey,ESe=32,lX=20,ISe=64,Out=11,dX=W.struct([W.u8("numSignatures"),W.u16("signatureOffset"),W.u8("signatureInstructionIndex"),W.u16("ethAddressOffset"),W.u8("ethAddressInstructionIndex"),W.u16("messageDataOffset"),W.u16("messageDataSize"),W.u8("messageInstructionIndex"),W.blob(20,"ethAddress"),W.blob(64,"signature"),W.u8("recoveryId")]),u3=class t{constructor(){}static publicKeyToEthAddress(e){An(e.length===ISe,`Public key must be ${ISe} bytes but received ${e.length} bytes`);try{return Gt.Buffer.from(uSe.keccak_256(Er(e))).slice(-lX)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,a;typeof r=="string"?r.startsWith("0x")?a=Gt.Buffer.from(r.substr(2),"hex"):a=Gt.Buffer.from(r,"hex"):a=r,An(a.length===lX,`Address must be ${lX} bytes but received ${a.length} bytes`);let c=1+Out,d=c,f=c+a.length,p=f+i.length+1,m=1,y=Gt.Buffer.alloc(dX.span+n.length);return dX.encode({numSignatures:m,signatureOffset:f,signatureInstructionIndex:s,ethAddressOffset:d,ethAddressInstructionIndex:s,messageDataOffset:p,messageDataSize:n.length,messageInstructionIndex:s,signature:Er(i),ethAddress:Er(a),recoveryId:o},y),y.fill(Er(n),dX.span),new Qn({keys:[],programId:t.programId,data:y})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;An(r.length===ESe,`Private key must be ${ESe} bytes but received ${r.length} bytes`);try{let o=Er(r),s=Put(o,!1).slice(1),a=Gt.Buffer.from(uSe.keccak_256(Er(n))),[c,d]=xut(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:d,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};u3.programId=new rt("KeccakSecp256k11111111111111111111111111111");var WSe=new rt("StakeConfig11111111111111111111111111111111"),l3=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},lA=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};lA.default=new lA(0,0,rt.default);var xX=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=W.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(zs))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=Wn(zs.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new l3(new rt(r.staker),new rt(r.withdrawer)),lockup:new lA(n.unixTimestamp,n.epoch,new rt(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Wn(zs.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=Wn(zs.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new rt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=Wn(zs.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new rt(o),newAuthorizedPubkey:new rt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Wn(zs.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Wn(zs.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Wn(zs.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Wn(zs.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(wT.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},zs=Object.freeze({Initialize:{index:0,layout:W.struct([W.u32("instruction"),jat(),Kat()])},Authorize:{index:1,layout:W.struct([W.u32("instruction"),Xr("newAuthorized"),W.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:W.struct([W.u32("instruction")])},Split:{index:3,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},Withdraw:{index:4,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},Deactivate:{index:5,layout:W.struct([W.u32("instruction")])},Merge:{index:7,layout:W.struct([W.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:W.struct([W.u32("instruction"),Xr("newAuthorized"),W.u32("stakeAuthorizationType"),cA("authoritySeed"),Xr("authorityOwner")])}}),Rut=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),wT=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||lA.default,s=zs.Initialize,a=yn(s,{authorized:{staker:Er(n.staker.toBuffer()),withdrawer:Er(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Er(o.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:bT,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Qn(c)}static createAccountWithSeed(e){let r=new Jn;r.add(Ca.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new Jn;r.add(Ca.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=zs.Delegate,s=yn(o);return new Jn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Em,isSigner:!1,isWritable:!1},{pubkey:e3,isSigner:!1,isWritable:!1},{pubkey:WSe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=zs.Authorize,c=yn(a,{newAuthorized:Er(i.toBuffer()),stakeAuthorizationType:o.index}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Em,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new Jn().add({keys:d,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,d=zs.AuthorizeWithSeed,f=yn(d,{newAuthorized:Er(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Er(o.toBuffer())}),p=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Em,isSigner:!1,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!1,isWritable:!1}),new Jn().add({keys:p,programId:this.programId,data:f})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=zs.Split,a=yn(s,{lamports:o});return new Qn({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){let r=new Jn;return r.add(Ca.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,c=new Jn;return c.add(Ca.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=zs.Merge,s=yn(o);return new Jn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Em,isSigner:!1,isWritable:!1},{pubkey:e3,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=zs.Withdraw,c=yn(a,{lamports:o}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Em,isSigner:!1,isWritable:!1},{pubkey:e3,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new Jn().add({keys:d,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=zs.Deactivate,o=yn(i);return new Jn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Em,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};wT.programId=new rt("Stake11111111111111111111111111111111111111");wT.space=200;var d3=class{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},PX=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=W.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Gg))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=Wn(Gg.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new d3(new rt(r.nodePubkey),new rt(r.authorizedVoter),new rt(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=Wn(Gg.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new rt(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=Wn(Gg.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new rt(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new rt(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Wn(Gg.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Gg=Object.freeze({InitializeAccount:{index:0,layout:W.struct([W.u32("instruction"),Wat()])},Authorize:{index:1,layout:W.struct([W.u32("instruction"),Xr("newAuthorized"),W.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:W.struct([W.u32("instruction"),Vat()])}}),Cut=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),AT=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=Gg.InitializeAccount,s=yn(o,{voteInit:{nodePubkey:Er(i.nodePubkey.toBuffer()),authorizedVoter:Er(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Er(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:bT,isSigner:!1,isWritable:!1},{pubkey:Em,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new Qn(a)}static createAccount(e){let r=new Jn;return r.add(Ca.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=Gg.Authorize,a=yn(s,{newAuthorized:Er(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Em,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Jn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,c=Gg.AuthorizeWithSeed,d=yn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Er(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Er(o.toBuffer()),voteAuthorizationType:s.index}}),f=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Em,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Jn().add({keys:f,programId:this.programId,data:d})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=Gg.Withdraw,a=yn(s,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Jn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}};AT.programId=new rt("Vote111111111111111111111111111111111111111");AT.space=3731;var VSe=new rt("Va1idator1nfo111111111111111111111111111111"),But=A.type({name:A.string(),website:A.optional(A.string()),details:A.optional(A.string()),keybaseUsername:A.optional(A.string())}),OX=class t{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(Al(r)!==2)return null;let i=[];for(let o=0;o<2;o++){let s=new rt(r.slice(0,Rd));r=r.slice(Rd);let a=r.slice(0,1)[0]===1;r=r.slice(1),i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals(VSe)&&i[1].isSigner){let o=cA().decode(Gt.Buffer.from(r)),s=JSON.parse(o);return A.assert(s,But),new t(i[1].publicKey,s)}return null}},Mut=new rt("Vote111111111111111111111111111111111111111"),Nut=W.struct([Xr("nodePubkey"),Xr("authorizedWithdrawer"),W.u8("commission"),W.nu64(),W.seq(W.struct([W.nu64("slot"),W.u32("confirmationCount")]),W.offset(W.u32(),-8),"votes"),W.u8("rootSlotValid"),W.nu64("rootSlot"),W.nu64(),W.seq(W.struct([W.nu64("epoch"),Xr("authorizedVoter")]),W.offset(W.u32(),-8),"authorizedVoters"),W.struct([W.seq(W.struct([Xr("authorizedPubkey"),W.nu64("epochOfLastAuthorizedSwitch"),W.nu64("targetEpoch")]),32,"buf"),W.nu64("idx"),W.u8("isEmpty")],"priorVoters"),W.nu64(),W.seq(W.struct([W.nu64("epoch"),W.nu64("credits"),W.nu64("prevCredits")]),W.offset(W.u32(),-8),"epochCredits"),W.struct([W.nu64("slot"),W.nu64("timestamp")],"lastTimestamp")]),RX=class t{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=Nut.decode(Er(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new rt(n.nodePubkey),authorizedWithdrawer:new rt(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(Dut),priorVoters:Uut(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function Dut({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new rt(t)}}function TSe({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new rt(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function Uut({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(TSe),...t.slice(0,e).map(TSe)]}var kSe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Lut(t,e){let r=e===!1?"http":"https";if(!t)return kSe[r].devnet;let n=kSe[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function zut(t,e,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;let s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),c=o&&o.commitment,f=(await(i?t.confirmTransaction(i,c):t.confirmTransaction(a,c))).value;if(f.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(f)})`);return a}var Fut=1e9;He.Account=mX;He.AddressLookupTableAccount=qO;He.AddressLookupTableInstruction=kX;He.AddressLookupTableProgram=KO;He.Authorized=l3;He.BLOCKHASH_CACHE_TIMEOUT_MS=MSe;He.BPF_LOADER_DEPRECATED_PROGRAM_ID=Fat;He.BPF_LOADER_PROGRAM_ID=tct;He.BpfLoader=SX;He.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Im;He.ComputeBudgetInstruction=vX;He.ComputeBudgetProgram=WO;He.Connection=TX;He.Ed25519Program=c3;He.Enum=hX;He.EpochSchedule=o3;He.FeeCalculatorLayout=RSe;He.Keypair=a3;He.LAMPORTS_PER_SOL=Fut;He.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Vg;He.Loader=ST;He.Lockup=lA;He.MAX_SEED_LENGTH=PSe;He.Message=Tm;He.MessageAccountKeys=uA;He.MessageV0=gT;He.NONCE_ACCOUNT_LENGTH=bX;He.NonceAccount=i3;He.PACKET_DATA_SIZE=J0;He.PUBLIC_KEY_LENGTH=Rd;He.PublicKey=rt;He.SIGNATURE_LENGTH_IN_BYTES=yT;He.SOLANA_SCHEMA=DO;He.STAKE_CONFIG_ID=WSe;He.STAKE_INSTRUCTION_LAYOUTS=zs;He.SYSTEM_INSTRUCTION_LAYOUTS=ki;He.SYSVAR_CLOCK_PUBKEY=Em;He.SYSVAR_EPOCH_SCHEDULE_PUBKEY=Hat;He.SYSVAR_INSTRUCTIONS_PUBKEY=$at;He.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=QF;He.SYSVAR_RENT_PUBKEY=bT;He.SYSVAR_REWARDS_PUBKEY=Yat;He.SYSVAR_SLOT_HASHES_PUBKEY=Xat;He.SYSVAR_SLOT_HISTORY_PUBKEY=Zat;He.SYSVAR_STAKE_HISTORY_PUBKEY=e3;He.Secp256k1Program=u3;He.SendTransactionError=FO;He.SolanaJSONRPCError=It;He.SolanaJSONRPCErrorCode=sct;He.StakeAuthorizationLayout=Rut;He.StakeInstruction=xX;He.StakeProgram=wT;He.Struct=UO;He.SystemInstruction=_X;He.SystemProgram=Ca;He.Transaction=Jn;He.TransactionExpiredBlockheightExceededError=LO;He.TransactionExpiredNonceInvalidError=Z0;He.TransactionExpiredTimeoutError=zO;He.TransactionInstruction=Qn;He.TransactionMessage=yX;He.VALIDATOR_INFO_KEY=VSe;He.VERSION_PREFIX_MASK=p3;He.VOTE_PROGRAM_ID=Mut;He.ValidatorInfo=OX;He.VersionedMessage=MX;He.VersionedTransaction=gX;He.VoteAccount=RX;He.VoteAuthorizationLayout=Cut;He.VoteInit=d3;He.VoteInstruction=PX;He.VoteProgram=AT;He.clusterApiUrl=Lut;He.sendAndConfirmRawTransaction=zut;He.sendAndConfirmTransaction=t3});var Ma=_(Ba=>{"use strict";u();l();Object.defineProperty(Ba,"__esModule",{value:!0});Ba.isElementCollectionFixedSizeBeet=Ba.isFixableBeet=Ba.assertFixedSizeBeet=Ba.isFixedSizeBeet=Ba.BEET_TYPE_ARG_INNER=Ba.BEET_TYPE_ARG_LEN=Ba.BEET_PACKAGE=void 0;var qut=zp();Ba.BEET_PACKAGE="@metaplex-foundation/beet";Ba.BEET_TYPE_ARG_LEN="len";Ba.BEET_TYPE_ARG_INNER="Beet<{innner}>";function GSe(t){return Object.keys(t).includes("byteSize")}Ba.isFixedSizeBeet=GSe;function jut(t,e=`${t} should have been a fixed beet`){(0,qut.strict)(GSe(t),e)}Ba.assertFixedSizeBeet=jut;function Kut(t){return typeof t.toFixedFromData=="function"&&typeof t.toFixedFromValue=="function"}Ba.isFixableBeet=Kut;function Wut(t){let e=Object.keys(t);return e.includes("length")&&e.includes("elementByteSize")&&e.includes("lenPrefixByteSize")}Ba.isElementCollectionFixedSizeBeet=Wut});var e_=_(Kr=>{"use strict";u();l();var Vut=Kr&&Kr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.numbersTypeMap=Kr.bool=Kr.i512=Kr.i256=Kr.i128=Kr.i64=Kr.i32=Kr.i16=Kr.i8=Kr.u512=Kr.u256=Kr.u128=Kr.u64=Kr.u32=Kr.u16=Kr.u8=void 0;var IT=Vut(Lu()),uo=Ma();Kr.u8={write:function(t,e,r){t.writeUInt8(r,e)},read:function(t,e){return t.readUInt8(e)},byteSize:1,description:"u8"};Kr.u16={write:function(t,e,r){t.writeUInt16LE(r,e)},read:function(t,e){return t.readUInt16LE(e)},byteSize:2,description:"u16"};Kr.u32={write:function(t,e,r){t.writeUInt32LE(r,e)},read:function(t,e){return t.readUInt32LE(e)},byteSize:4,description:"u32"};function y3(t,e){return{write:function(r,n,i){let s=(IT.default.isBN(i)?i:new IT.default(i)).toArray("le",this.byteSize);Buffer.from(s).copy(r,n,0,this.byteSize)},read:function(r,n){let i=r.slice(n,n+this.byteSize);return new IT.default(i,"le")},byteSize:t,description:e}}Kr.u64=y3(8,"u64");Kr.u128=y3(16,"u128");Kr.u256=y3(32,"u256");Kr.u512=y3(64,"u512");Kr.i8={write:function(t,e,r){t.writeInt8(r,e)},read:function(t,e){return t.readInt8(e)},byteSize:1,description:"i8"};Kr.i16={write:function(t,e,r){t.writeInt16LE(r,e)},read:function(t,e){return t.readInt16LE(e)},byteSize:2,description:"i16"};Kr.i32={write:function(t,e,r){t.writeInt32LE(r,e)},read:function(t,e){return t.readInt32LE(e)},byteSize:4,description:"i32"};function g3(t,e){let r=t*8;return{write:function(n,i,o){let a=(IT.default.isBN(o)?o:new IT.default(o)).toTwos(r).toArray("le",this.byteSize);Buffer.from(a).copy(n,i,0,this.byteSize)},read:function(n,i){let o=n.slice(i,i+this.byteSize);return new IT.default(o,"le").fromTwos(r)},byteSize:t,description:e}}Kr.i64=g3(8,"i64");Kr.i128=g3(16,"i128");Kr.i256=g3(32,"i256");Kr.i512=g3(64,"i512");Kr.bool={write:function(t,e,r){let n=r?1:0;Kr.u8.write(t,e,n)},read:function(t,e){return Kr.u8.read(t,e)===1},byteSize:1,description:"bool"};Kr.numbersTypeMap={u8:{beet:"u8",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"number"},u16:{beet:"u16",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"number"},u32:{beet:"u32",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"number"},i8:{beet:"i8",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"number"},i16:{beet:"i16",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"number"},i32:{beet:"i32",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"number"},bool:{beet:"bool",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"boolean"},u64:{beet:"u64",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE},u128:{beet:"u128",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE},u256:{beet:"u256",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE},u512:{beet:"u512",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE},i64:{beet:"i64",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE},i128:{beet:"i128",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE},i256:{beet:"i256",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE},i512:{beet:"i512",isFixable:!1,sourcePack:uo.BEET_PACKAGE,ts:"bignum",pack:uo.BEET_PACKAGE}}});var $Se=_((bxr,HSe)=>{u();l();var TT=1e3,kT=TT*60,vT=kT*60,pA=vT*24,Gut=pA*7,Hut=pA*365.25;HSe.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return $ut(t);if(r==="number"&&isFinite(t))return e.long?Xut(t):Yut(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function $ut(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Hut;case"weeks":case"week":case"w":return r*Gut;case"days":case"day":case"d":return r*pA;case"hours":case"hour":case"hrs":case"hr":case"h":return r*vT;case"minutes":case"minute":case"mins":case"min":case"m":return r*kT;case"seconds":case"second":case"secs":case"sec":case"s":return r*TT;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Yut(t){var e=Math.abs(t);return e>=pA?Math.round(t/pA)+"d":e>=vT?Math.round(t/vT)+"h":e>=kT?Math.round(t/kT)+"m":e>=TT?Math.round(t/TT)+"s":t+"ms"}function Xut(t){var e=Math.abs(t);return e>=pA?b3(t,e,pA,"day"):e>=vT?b3(t,e,vT,"hour"):e>=kT?b3(t,e,kT,"minute"):e>=TT?b3(t,e,TT,"second"):t+" ms"}function b3(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var XSe=_((wxr,YSe)=>{u();l();function Zut(t){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=$Se(),r.destroy=d,Object.keys(t).forEach(f=>{r[f]=t[f]}),r.names=[],r.skips=[],r.formatters={};function e(f){let p=0;for(let m=0;m<f.length;m++)p=(p<<5)-p+f.charCodeAt(m),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=e;function r(f){let p,m=null,y,g;function b(...S){if(!b.enabled)return;let P=b,U=Number(new Date),L=U-(p||U);P.diff=L,P.prev=p,P.curr=U,p=U,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let j=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(se,Ee)=>{if(se==="%%")return"%";j++;let be=r.formatters[Ee];if(typeof be=="function"){let fe=S[j];se=be.call(P,fe),S.splice(j,1),j--}return se}),r.formatArgs.call(P,S),(P.log||r.log).apply(P,S)}return b.namespace=f,b.useColors=r.useColors(),b.color=r.selectColor(f),b.extend=n,b.destroy=r.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(y!==r.namespaces&&(y=r.namespaces,g=r.enabled(f)),g),set:S=>{m=S}}),typeof r.init=="function"&&r.init(b),b}function n(f,p){let m=r(this.namespace+(typeof p>"u"?":":p)+f);return m.log=this.log,m}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let p,m=(typeof f=="string"?f:"").split(/[\s,]+/),y=m.length;for(p=0;p<y;p++)m[p]&&(f=m[p].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function o(){let f=[...r.names.map(a),...r.skips.map(a).map(p=>"-"+p)].join(",");return r.enable(""),f}function s(f){if(f[f.length-1]==="*")return!0;let p,m;for(p=0,m=r.skips.length;p<m;p++)if(r.skips[p].test(f))return!1;for(p=0,m=r.names.length;p<m;p++)if(r.names[p].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function c(f){return f instanceof Error?f.stack||f.message:f}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}YSe.exports=Zut});var LX=_((Cd,_3)=>{u();l();Cd.formatArgs=Qut;Cd.save=elt;Cd.load=tlt;Cd.useColors=Jut;Cd.storage=rlt();Cd.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Cd.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Jut(){return typeof self<"u"&&self.process&&(self.process.type==="renderer"||self.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof self<"u"&&self.console&&(self.console.firebug||self.console.exception&&self.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Qut(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+_3.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Cd.log=console.debug||console.log||(()=>{});function elt(t){try{t?Cd.storage.setItem("debug",t):Cd.storage.removeItem("debug")}catch{}}function tlt(){let t;try{t=Cd.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=h.DEBUG),t}function rlt(){try{return localStorage}catch{}}_3.exports=XSe()(Cd);var{formatters:nlt}=_3.exports;nlt.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var qX=_((kxr,QSe)=>{"use strict";u();l();var ZSe={white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97},JSe={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107},zX={},FX={},GO={};Object.keys(ZSe).forEach(function(t){var e=zX[t]="\x1B["+ZSe[t]+"m",r=FX[t]="\x1B[39m";GO[t]=function(n){return e+n+r}});Object.keys(JSe).forEach(function(t){var e=zX[t]="\x1B["+JSe[t]+"m",r=FX[t]="\x1B[49m";GO[t]=function(n){return e+n+r}});QSe.exports=GO;GO.open=zX;GO.close=FX});var Hg=_(ns=>{"use strict";u();l();var twe=ns&&ns.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ns,"__esModule",{value:!0});ns.UnreachableCaseError=ns.stringify=ns.bytes=ns.beetBytes=ns.logTrace=ns.logDebug=ns.logInfo=ns.logError=void 0;var S3=twe(LX()),ilt=twe(qX()),ewe=Ma(),{brightBlack:rwe}=ilt.default;ns.logError=(0,S3.default)("beet:error");ns.logInfo=(0,S3.default)("beet:info");ns.logDebug=(0,S3.default)("beet:debug");ns.logTrace=(0,S3.default)("beet:trace");function olt(t,e=!1){let r;if((0,ewe.isFixableBeet)(t))r="? B";else if((0,ewe.isElementCollectionFixedSizeBeet)(t)){let n=e?"length":t.length,i=t.lenPrefixByteSize;r=i>0?`${i} + (${t.elementByteSize} * ${n}) B  (${t.byteSize} B)`:`(${t.elementByteSize} * ${n}) B (${t.byteSize} B)`}else r=`${t.byteSize} B`;return rwe(r)}ns.beetBytes=olt;function slt(t){return rwe(`${t} B`)}ns.bytes=slt;function alt(t){return t.toString==="function"?t.toString():t}ns.stringify=alt;var jX=class extends Error{constructor(e){super(`Unreachable case: ${e}`)}};ns.UnreachableCaseError=jX});var PT=_(xT=>{"use strict";u();l();Object.defineProperty(xT,"__esModule",{value:!0});xT.fixBeetFromValue=xT.fixBeetFromData=void 0;var w3=Ma(),nwe=Hg();function clt(t,e,r){if((0,w3.isFixedSizeBeet)(t))return t;if((0,w3.isFixableBeet)(t))return t.toFixedFromData(e,r);throw new nwe.UnreachableCaseError(t)}xT.fixBeetFromData=clt;function ult(t,e){if((0,w3.isFixedSizeBeet)(t))return t;if((0,w3.isFixableBeet)(t))return t.toFixedFromValue(e);throw new nwe.UnreachableCaseError(t)}xT.fixBeetFromValue=ult});var A3=_(Na=>{"use strict";u();l();Object.defineProperty(Na,"__esModule",{value:!0});Na.collectionsTypeMap=Na.uint8Array=Na.fixedSizeUint8Array=Na.fixedSizeBuffer=Na.array=Na.fixedSizeArray=Na.uniformFixedSizeArray=void 0;var OT=Ma(),hA=zp(),t_=e_(),RT=Ma(),owe=Hg(),iwe=PT();function llt(t,e,r=!1){let n=t.byteSize*e,i=r?4+n:n;return{write:function(o,s,a){hA.strict.equal(a.length,e,`array length ${a.length} should match len ${e}`),r&&(t_.u32.write(o,s,e),s+=4);for(let c=0;c<e;c++)t.write(o,s+c*t.byteSize,a[c])},read:function(o,s){if(r){let c=t_.u32.read(o,s);hA.strict.equal(c,e,"invalid byte size"),s+=4}let a=new Array(e);for(let c=0;c<e;c++)a[c]=t.read(o,s+c*t.byteSize);return a},byteSize:i,length:e,elementByteSize:t.byteSize,lenPrefixByteSize:4,description:`Array<${t.description}>(${e})`}}Na.uniformFixedSizeArray=llt;function KX(t,e){let r=t.length,n=r===0?"<EMPTY>":t[0].description;return{write:function(i,o,s){hA.strict.equal(s.length,r,`array length ${s.length} should match len ${r}`),t_.u32.write(i,o,r);let a=o+4;for(let c=0;c<r;c++){let d=t[c];d.write(i,a,s[c]),a+=d.byteSize}},read:function(i,o){let s=t_.u32.read(i,o);hA.strict.equal(s,r,"invalid byte size");let a=o+4,c=new Array(r);for(let d=0;d<r;d++){let f=t[d];c[d]=f.read(i,a),a+=f.byteSize}return c},byteSize:4+e,length:r,description:`Array<${n}>(${r})[ 4 + ${e} ]`}}Na.fixedSizeArray=KX;function dlt(t){return{toFixedFromData(e,r){let n=t_.u32.read(e,r);(0,owe.logTrace)(`${this.description}[${n}]`);let i=r+4,o=i,s=new Array(n);for(let a=0;a<n;a++){let c=(0,iwe.fixBeetFromData)(t,e,o);s[a]=c,o+=c.byteSize}return KX(s,o-i)},toFixedFromValue(e){(0,hA.strict)(Array.isArray(e),`${e} should be an array`);let r=0,n=new Array(e.length);for(let i=0;i<e.length;i++){let o=(0,iwe.fixBeetFromValue)(t,e[i]);n[i]=o,r+=o.byteSize}return KX(n,r)},description:"array"}}Na.array=dlt;function swe(t){return{write:function(e,r,n){n.copy(e,r,0,t)},read:function(e,r){return e.slice(r,r+t)},byteSize:t,description:`Buffer(${t})`}}Na.fixedSizeBuffer=swe;function WX(t,e=!1){let r=swe(t),n=e?t+4:t;return{write:function(i,o,s){hA.strict.equal(s.byteLength,t,`Uint8Array length ${s.byteLength} should match len ${t}`),e&&(t_.u32.write(i,o,t),o+=4);let a=Buffer.from(s);r.write(i,o,a)},read:function(i,o){if(e){let a=t_.u32.read(i,o);hA.strict.equal(a,t,"invalid byte size"),o+=4}let s=r.read(i,o);return Uint8Array.from(s)},byteSize:n,description:`Uint8Array(${t})`}}Na.fixedSizeUint8Array=WX;Na.uint8Array={toFixedFromData(t,e){let r=t_.u32.read(t,e);return(0,owe.logTrace)(`${this.description}[${r}]`),WX(r,!0)},toFixedFromValue(t){let e=t.byteLength;return WX(e,!0)},description:"Uint8Array"};Na.collectionsTypeMap={Array:{beet:"array",isFixable:!0,sourcePack:RT.BEET_PACKAGE,ts:"Array",arg:OT.BEET_TYPE_ARG_LEN},FixedSizeArray:{beet:"fixedSizeArray",isFixable:!1,sourcePack:RT.BEET_PACKAGE,ts:"Array",arg:OT.BEET_TYPE_ARG_LEN},UniformFixedSizeArray:{beet:"uniformFixedSizeArray",isFixable:!1,sourcePack:RT.BEET_PACKAGE,ts:"Array",arg:OT.BEET_TYPE_ARG_LEN},Buffer:{beet:"fixedSizeBuffer",isFixable:!1,sourcePack:RT.BEET_PACKAGE,ts:"Buffer",arg:OT.BEET_TYPE_ARG_LEN},FixedSizeUint8Array:{beet:"fixedSizeUint8Array",isFixable:!1,sourcePack:RT.BEET_PACKAGE,ts:"Uint8Array",arg:OT.BEET_TYPE_ARG_LEN},Uint8Array:{beet:"uint8Array",isFixable:!0,sourcePack:RT.BEET_PACKAGE,ts:"Uint8Array",arg:OT.BEET_TYPE_ARG_LEN}}});var XX=_(El=>{"use strict";u();l();Object.defineProperty(El,"__esModule",{value:!0});El.compositesTypeMap=El.coption=El.coptionSome=El.coptionNone=El.isNoneBuffer=El.isSomeBuffer=void 0;var HO=zp(),VX=Ma(),awe=Ma(),uwe=Hg(),cwe=PT(),lwe=0,dwe=1;function $X(t,e){return t[e]===dwe}El.isSomeBuffer=$X;function YX(t,e){return t[e]===lwe}El.isNoneBuffer=YX;function GX(t){return(0,uwe.logTrace)(`coptionNone(${t})`),{write:function(e,r,n){(0,HO.strict)(n==null,"coptionNone can only handle `null` values"),e[r]=lwe},read:function(e,r){return(0,HO.strict)(YX(e,r),"coptionNone can only handle `NONE` data"),null},byteSize:1,description:`COption<None(${t})>`}}El.coptionNone=GX;function HX(t){let e=1+t.byteSize,r={write:function(n,i,o){(0,VX.assertFixedSizeBeet)(t,`coption inner type ${t.description} needs to be fixed before calling write`),(0,HO.strict)(o!=null,"coptionSome cannot handle `null` values"),n[i]=dwe,t.write(n,i+1,o)},read:function(n,i){return(0,VX.assertFixedSizeBeet)(t,`coption inner type ${t.description} needs to be fixed before calling read`),(0,HO.strict)($X(n,i),"coptionSome can only handle `SOME` data"),t.read(n,i+1)},description:`COption<${t.description}>[1 + ${t.byteSize}]`,byteSize:e,inner:t};return(0,uwe.logTrace)(r.description),r}El.coptionSome=HX;function flt(t){return{toFixedFromData(e,r){if($X(e,r)){let n=(0,cwe.fixBeetFromData)(t,e,r+1);return HX(n)}else return(0,HO.strict)(YX(e,r),`Expected ${e} to hold a COption`),GX(t.description)},toFixedFromValue(e){return e==null?GX(t.description):HX((0,cwe.fixBeetFromValue)(t,e))},description:`COption<${t.description}>`}}El.coption=flt;El.compositesTypeMap={option:{beet:"coption",isFixable:!0,sourcePack:awe.BEET_PACKAGE,ts:"COption<Inner>",arg:VX.BEET_TYPE_ARG_INNER,pack:awe.BEET_PACKAGE}}});var QX=_(km=>{"use strict";u();l();Object.defineProperty(km,"__esModule",{value:!0});km.stringTypeMap=km.utf8String=km.fixedSizeUtf8String=void 0;var ZX=Ma(),fwe=zp(),JX=e_(),plt=Hg(),hlt=t=>({write:function(e,r,n){let i=Buffer.from(n,"utf8");fwe.strict.equal(i.byteLength,t,`${n} has invalid byte size`),JX.u32.write(e,r,t),i.copy(e,r+4,0,t)},read:function(e,r){let n=JX.u32.read(e,r);return fwe.strict.equal(n,t,"invalid byte size"),e.slice(r+4,r+4+t).toString("utf8")},elementByteSize:1,length:t,lenPrefixByteSize:4,byteSize:4+t,description:`Utf8String(4 + ${t})`});km.fixedSizeUtf8String=hlt;km.utf8String={toFixedFromData(t,e){let r=JX.u32.read(t,e);return(0,plt.logTrace)(`${this.description}[${r}]`),(0,km.fixedSizeUtf8String)(r)},toFixedFromValue(t){let e=Buffer.from(t).byteLength;return(0,km.fixedSizeUtf8String)(e)},description:"Utf8String"};km.stringTypeMap={fixedSizeString:{beet:"fixedSizeUtf8String",isFixable:!1,sourcePack:ZX.BEET_PACKAGE,ts:"string",arg:ZX.BEET_TYPE_ARG_LEN},string:{beet:"utf8String",isFixable:!0,sourcePack:ZX.BEET_PACKAGE,ts:"string"}}});var rZ=_(CT=>{"use strict";u();l();Object.defineProperty(CT,"__esModule",{value:!0});CT.BeetReader=CT.BeetWriter=void 0;var mlt=zp(),eZ=class{constructor(e){this.buf=Buffer.alloc(e),this._offset=0}get buffer(){return this.buf}get offset(){return this._offset}maybeResize(e){this._offset+e>this.buf.length&&mlt.strict.fail(`We shouldn't ever need to resize, but ${this._offset+e} > ${this.buf.length}`)}write(e,r){this.maybeResize(e.byteSize),e.write(this.buf,this._offset,r),this._offset+=e.byteSize}writeStruct(e,r){for(let[n,i]of r){let o=e[n];this.write(i,o)}}};CT.BeetWriter=eZ;var tZ=class{constructor(e,r=0){this.buffer=e,this._offset=r}get offset(){return this._offset}read(e){let r=e.read(this.buffer,this._offset);return this._offset+=e.byteSize,r}readStruct(e){let r={};for(let[n,i]of e)r[n]=this.read(i);return r}};CT.BeetReader=tZ});var I3=_(r_=>{"use strict";u();l();Object.defineProperty(r_,"__esModule",{value:!0});r_.BeetArgsStruct=r_.isBeetStruct=r_.BeetStruct=void 0;var pwe=rZ(),$g=Hg(),mA=class t{constructor(e,r,n=t.description){if(this.fields=e,this.construct=r,this.description=n,this.byteSize=this.getByteSize(),$g.logDebug.enabled){let i=e.map(([o,s])=>`${String(o)}: ${s.description} ${(0,$g.beetBytes)(s)}`).join(`
  `);(0,$g.logDebug)(`struct ${n} {
  ${i}
} ${(0,$g.beetBytes)(this)}`)}}read(e,r){let[n]=this.deserialize(e,r);return n}write(e,r,n){let[i,o]=this.serialize(n);i.copy(e,r,0,o)}deserialize(e,r=0){$g.logTrace.enabled&&((0,$g.logTrace)("deserializing [%s] from %d bytes buffer",this.description,e.byteLength),(0,$g.logTrace)(e),(0,$g.logTrace)(e.toJSON().data));let n=new pwe.BeetReader(e,r),i=n.readStruct(this.fields);return[this.construct(i),n.offset]}serialize(e,r=this.byteSize){(0,$g.logTrace)("serializing [%s] %o to %d bytes buffer",this.description,e,r);let n=new pwe.BeetWriter(r);return n.writeStruct(e,this.fields),[n.buffer,n.offset]}getByteSize(){return this.fields.reduce((e,[r,n])=>e+n.byteSize,0)}get type(){return t.TYPE}};r_.BeetStruct=mA;mA.description="BeetStruct";mA.TYPE="BeetStruct";function ylt(t){return t.type===mA.TYPE}r_.isBeetStruct=ylt;var E3=class t extends mA{constructor(e,r=t.description){super(e,n=>n,r)}};r_.BeetArgsStruct=E3;E3.description="BeetArgsStruct"});var iZ=_(vm=>{"use strict";u();l();var glt=vm&&vm.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vm,"__esModule",{value:!0});vm.FixableBeetArgsStruct=vm.isFixableBeetStruct=vm.FixableBeetStruct=void 0;var hwe=PT(),T3=I3(),blt=Ma(),_lt=zp(),nZ=Hg(),Slt=glt(qX()),{brightBlack:wlt}=Slt.default,yA=class t{constructor(e,r,n=t.description){this.fields=e,this.construct=r,this.description=n;let i=0;if(nZ.logDebug.enabled){let o=e.map(([a,c])=>((0,blt.isFixedSizeBeet)(c)&&(i+=c.byteSize),`${a}: ${c.description} ${(0,nZ.beetBytes)(c)}`)).join(`
  `),s=`> ${i} B`;(0,nZ.logDebug)(`struct ${n} {
  ${o}
} ${wlt(s)}`)}}deserialize(e,r=0){return this.toFixedFromData(e,r).deserialize(e,r)}serialize(e,r){return this.toFixedFromValue(e).serialize(e,r)}toFixedFromData(e,r){let n=r,i=new Array(this.fields.length);for(let o=0;o<this.fields.length;o++){let[s,a]=this.fields[o],c=(0,hwe.fixBeetFromData)(a,e,n);i[o]=[s,c],n+=c.byteSize}return this.description!==t.description?new T3.BeetStruct(i,this.construct,this.description):new T3.BeetStruct(i,this.construct)}toFixedFromValue(e){let r=Object.keys(e),n=new Array(this.fields.length);for(let i=0;i<this.fields.length;i++){let[o,s]=this.fields[i];(0,_lt.strict)(r.includes(o),`Value with keys [ ${r} ] should include struct key '${o}' but doesn't.`);let a=e[o],c=(0,hwe.fixBeetFromValue)(s,a);n[i]=[o,c]}return this.description!==t.description?new T3.BeetStruct(n,this.construct,this.description):new T3.BeetStruct(n,this.construct)}get type(){return t.TYPE}};vm.FixableBeetStruct=yA;yA.description="FixableBeetStruct";yA.TYPE="FixableBeetStruct";function Alt(t){return t.type===yA.TYPE}vm.isFixableBeetStruct=Alt;var k3=class t extends yA{constructor(e,r=t.description){super(e,n=>n,r)}};vm.FixableBeetArgsStruct=k3;k3.description="FixableBeetArgsStruct"});var v3=_(BT=>{"use strict";u();l();Object.defineProperty(BT,"__esModule",{value:!0});BT.unitTypeMap=BT.unit=void 0;var Elt=Ma();BT.unit={write:function(t,e,r){},read:function(t,e){},byteSize:0,description:"unit"};BT.unitTypeMap={unit:{beet:"unit",isFixable:!1,sourcePack:Elt.BEET_PACKAGE,ts:"void"}}});var oZ=_(xm=>{"use strict";u();l();Object.defineProperty(xm,"__esModule",{value:!0});xm.enumsTypeMap=xm.dataEnum=xm.uniformDataEnum=xm.fixedScalarEnum=void 0;var n_=Ma(),th=e_(),MT=zp(),Ilt=I3(),Tlt=iZ(),klt=v3();function mwe(t,e){return e?`${t}`:t}function vlt(t){let e=Object.keys(t);return{write(r,n,i){let o=typeof i=="number",s=mwe(i,o);if(e.includes(s)||MT.strict.fail(`${i} should be a variant of the provided enum type, i.e. [ ${Object.values(t).join(", ")} ], but isn't`),o)th.u8.write(r,n,i);else{let a=t[s];th.u8.write(r,n,a)}},read(r,n){let i=th.u8.read(r,n),o=typeof i=="number",s=mwe(i,o);return e.includes(s)||MT.strict.fail(`${i} should be a of a variant of the provided enum type, i.e. [ ${Object.values(t).join(", ")} ], but isn't`),o?i:t[s]},byteSize:th.u8.byteSize,description:"Enum"}}xm.fixedScalarEnum=vlt;function xlt(t){return{write:function(e,r,n){th.u8.write(e,r,n.kind),t.write(e,r+1,n.data)},read:function(e,r){let n=th.u8.read(e,r),i=t.read(e,r+1);return{kind:n,data:i}},byteSize:1+t.byteSize,description:`UniformDataEnum<${t.description}>`}}xm.uniformDataEnum=xlt;function ywe(t,e,r){return{write(n,i,o){th.u8.write(n,i,e),t.write(n,i+th.u8.byteSize,o)},read(n,i){let o=t.read(n,i+th.u8.byteSize);return{__kind:r,...o}},byteSize:t.byteSize+th.u8.byteSize,description:`EnumData<${t.description}>`}}function Plt(t){for(let[e,r]of t)(0,MT.strict)((0,Ilt.isBeetStruct)(r)||(0,Tlt.isFixableBeetStruct)(r)||r===klt.unit,"dataEnum: variants must be a data beet struct or a scalar unit");return{toFixedFromData(e,r){let n=th.u8.read(e,r),i=t[n];(0,MT.strict)(i!=null,`Discriminant ${n} out of range for ${t.length} variants`);let[o,s]=i,a=(0,n_.isFixedSizeBeet)(s)?s:s.toFixedFromData(e,r+1);return ywe(a,n,o)},toFixedFromValue(e){if(e.__kind==null){let d=Object.keys(e).join(", "),f=t.map(([p])=>p).join(", ");MT.strict.fail(`Value with fields [ ${d} ] is missing __kind, which needs to be set to one of [ ${f} ]`)}let r=t.findIndex(([d])=>d===e.__kind);if(r<0){let d=t.map(([f])=>f).join(", ");MT.strict.fail(`${e.__kind} is not a valid kind, needs to be one of [ ${d} ]`)}let n=t[r],{__kind:i,...o}=e,[s,a]=n,c=(0,n_.isFixedSizeBeet)(a)?a:a.toFixedFromValue(o);return ywe(c,r,s)},description:`DataEnum<${t.length} variants>`}}xm.dataEnum=Plt;xm.enumsTypeMap={fixedScalarEnum:{beet:"fixedScalarEnum",isFixable:!1,sourcePack:n_.BEET_PACKAGE,ts:"<TypeName>",arg:n_.BEET_TYPE_ARG_INNER,pack:n_.BEET_PACKAGE},dataEnum:{beet:"dataEnum",isFixable:!1,sourcePack:n_.BEET_PACKAGE,ts:"DataEnum<Kind, Inner>",arg:n_.BEET_TYPE_ARG_INNER,pack:n_.BEET_PACKAGE}}});var sZ=_(NT=>{"use strict";u();l();Object.defineProperty(NT,"__esModule",{value:!0});NT.aliasesTypeMap=NT.bytes=void 0;var gwe=A3();NT.bytes=gwe.uint8Array;NT.aliasesTypeMap={bytes:gwe.collectionsTypeMap.Uint8Array}});var uZ=_(i_=>{"use strict";u();l();Object.defineProperty(i_,"__esModule",{value:!0});i_.tuplesTypeMap=i_.tuple=i_.fixedSizeTuple=void 0;var bwe=Ma(),aZ=zp(),_we=PT();function cZ(t){let e=t.length,r=t.map(o=>o.description),n=t.map(o=>o.byteSize),i=n.reduce((o,s)=>o+s,0);return{write:function(o,s,a){aZ.strict.equal(a.length,e,`tuple value element size ${a.length} should match len ${e}`);let c=s;for(let d=0;d<e;d++){let f=a[d],p=t[d];p.write(o,c,f),c+=p.byteSize}},read:function(o,s){let a=[],c=s;for(let d=0;d<e;d++){let f=t[d];a[d]=f.read(o,c),c+=f.byteSize}return a},byteSize:i,length:e,description:`FixedSizeTuple<${r.join(",")}>[ ${n.join(", ")} ]`}}i_.fixedSizeTuple=cZ;function Olt(t){let e=t.length,r=t.map(n=>n.description);return{toFixedFromData(n,i){let o=i,s=new Array(e);for(let a=0;a<e;a++){let c=(0,_we.fixBeetFromData)(t[a],n,o);s[a]=c,o+=c.byteSize}return cZ(s)},toFixedFromValue(n){(0,aZ.strict)(Array.isArray(n),`${n} should be an array of tuple values`),aZ.strict.equal(n.length,e,`There should be ${e} tuple values, but there are ${n.length}`);let i=new Array(e);for(let o=0;o<n.length;o++){let s=(0,_we.fixBeetFromValue)(t[o],n[o]);i[o]=s}return cZ(i)},description:`Tuple<${r.join(",")}>`}}i_.tuple=Olt;i_.tuplesTypeMap={Tuple:{beet:"tuple",isFixable:!0,sourcePack:bwe.BEET_PACKAGE,ts:"[__tuple_elements__]"},FixedSizeTuple:{beet:"fixedSizeTuple",isFixable:!1,sourcePack:bwe.BEET_PACKAGE,ts:"[__tuple_elements__]"}}});var fZ=_(DT=>{"use strict";u();l();Object.defineProperty(DT,"__esModule",{value:!0});DT.mapsTypeMap=DT.map=void 0;var $O=Ma(),dZ=e_(),Rlt=Hg(),lZ=zp();function x3(t,e,r,n){let i=(0,$O.isFixedSizeBeet)(t),o=(0,$O.isFixedSizeBeet)(e);function s(){if(i&&o){let d=t.byteSize+e.byteSize;return{elementByteSize:d,byteSize:4+n*d}}else if(i){let d=0;for(let[p,m]of r.values())d+=m.byteSize;return{elementByteSize:t.byteSize+Math.ceil(d/n),byteSize:4+t.byteSize*n+d}}else if(o){let d=0;for(let[p,m]of r.values())d+=p.byteSize;return{elementByteSize:Math.ceil(d/n)+e.byteSize,byteSize:4+d+e.byteSize*n}}else{let d=0,f=0;for(let[m,y]of r.values())d+=m.byteSize,f+=y.byteSize;return{elementByteSize:Math.ceil(d/n+f/n),byteSize:4+d+f}}}let{elementByteSize:a,byteSize:c}=s();return{write:function(d,f,p){let m=f+4,y=0;for(let[g,b]of p.entries()){let S=i?t:null,P=o?e:null;if(S==null||P==null){let U=r.get(g);(0,lZ.strict)(U!=null,`Should be able to find beet els for ${(0,Rlt.stringify)(g)}, but could not`),S??(S=U[0]),P??(P=U[1])}S.write(d,m,g),m+=S.byteSize,P.write(d,m,b),m+=P.byteSize,y++}dZ.u32.write(d,f,y),lZ.strict.equal(y,n,`Expected map to have size ${n}, but has ${y}.`)},read:function(d,f){let p=dZ.u32.read(d,f);lZ.strict.equal(p,n,`Expected map to have size ${n}, but has ${p}.`);let m=f+4,y=new Map;for(let g=0;g<p;g++){let b=i?t:t.toFixedFromData(d,m),S=b.read(d,m);m+=b.byteSize;let P=o?e:e.toFixedFromData(d,m),U=P.read(d,m);m+=P.byteSize,y.set(S,U)}return y},elementByteSize:a,byteSize:c,length:n,lenPrefixByteSize:4,description:`Map<${t.description}, ${e.description}>`}}function Clt(t,e){let r=(0,$O.isFixedSizeBeet)(t),n=(0,$O.isFixedSizeBeet)(e);return{toFixedFromData(i,o){let s=dZ.u32.read(i,o),a=o+4;if(r&&n)return x3(t,e,new Map,s);let c=new Map;for(let d=0;d<s;d++){let f=r?t:t.toFixedFromData(i,a),p=f.read(i,a);a+=f.byteSize;let m=n?e:e.toFixedFromData(i,a);a+=m.byteSize,c.set(p,[f,m])}return x3(t,e,c,s)},toFixedFromValue(i){let o=i.size;if(r&&n)return x3(t,e,new Map,o);let s=new Map;for(let[a,c]of i){let d=r?t:t.toFixedFromValue(a),f=n?e:e.toFixedFromValue(c);s.set(a,[d,f])}return x3(t,e,s,o)},description:`FixableMap<${t.description}, ${e.description}>`}}DT.map=Clt;DT.mapsTypeMap={Map:{beet:"map",isFixable:!0,sourcePack:$O.BEET_PACKAGE,ts:"Map"}}});var yZ=_(UT=>{"use strict";u();l();Object.defineProperty(UT,"__esModule",{value:!0});UT.setsTypeMap=UT.set=void 0;var mZ=Ma(),hZ=e_(),Blt=Hg(),pZ=zp();function P3(t,e,r){let n=(0,mZ.isFixedSizeBeet)(t);function i(){if(n){let a=t.byteSize;return{elementByteSize:a,byteSize:4+r*a}}else{let a=0;for(let d of e.values())a+=d.byteSize;return{elementByteSize:Math.ceil(a/r),byteSize:4+a}}}let{elementByteSize:o,byteSize:s}=i();return{write:function(a,c,d){let f=c+4,p=0;for(let m of d.keys()){let y=n?t:null;if(y==null){let g=e.get(m);(0,pZ.strict)(g!=null,`Should be able to find beet el for ${(0,Blt.stringify)(m)}, but could not`),y??(y=g)}y.write(a,f,m),f+=y.byteSize,p++}hZ.u32.write(a,c,p),pZ.strict.equal(p,r,`Expected set to have size ${r}, but has ${p}.`)},read:function(a,c){let d=hZ.u32.read(a,c);pZ.strict.equal(d,r,`Expected set to have size ${r}, but has ${d}.`);let f=c+4,p=new Set;for(let m=0;m<d;m++){let y=n?t:t.toFixedFromData(a,f),g=y.read(a,f);f+=y.byteSize,p.add(g)}return p},elementByteSize:o,byteSize:s,length:r,lenPrefixByteSize:4,description:`Set<${t.description}>`}}function Mlt(t){let e=(0,mZ.isFixedSizeBeet)(t);return{toFixedFromData(r,n){let i=hZ.u32.read(r,n),o=n+4;if(e)return P3(t,new Map,i);let s=new Map;for(let a=0;a<i;a++){let c=e?t:t.toFixedFromData(r,o),d=c.read(r,o);o+=c.byteSize,s.set(d,c)}return P3(t,s,i)},toFixedFromValue(r){let n=r.size;if(e)return P3(t,new Map,n);let i=new Map;for(let o of r){let s=e?t:t.toFixedFromValue(o);i.set(o,s)}return P3(t,i,n)},description:`FixableSet<${t.description}>`}}UT.set=Mlt;UT.setsTypeMap={Set:{beet:"set",isFixable:!0,sourcePack:mZ.BEET_PACKAGE,ts:"Set"}}});var pe=_(lo=>{"use strict";u();l();var Nlt=lo&&lo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gu=lo&&lo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Nlt(e,t,r)};Object.defineProperty(lo,"__esModule",{value:!0});lo.supportedTypeMap=void 0;var Dlt=A3(),Ult=XX(),Llt=e_(),zlt=QX(),Flt=oZ(),qlt=sZ(),jlt=uZ(),Klt=fZ(),Wlt=v3(),Vlt=yZ();Gu(sZ(),lo);Gu(A3(),lo);Gu(XX(),lo);Gu(oZ(),lo);Gu(fZ(),lo);Gu(e_(),lo);Gu(yZ(),lo);Gu(QX(),lo);Gu(uZ(),lo);Gu(v3(),lo);Gu(PT(),lo);Gu(rZ(),lo);Gu(I3(),lo);Gu(iZ(),lo);Gu(Ma(),lo);lo.supportedTypeMap={...Dlt.collectionsTypeMap,...zlt.stringTypeMap,...Ult.compositesTypeMap,...Flt.enumsTypeMap,...Llt.numbersTypeMap,...qlt.aliasesTypeMap,...jlt.tuplesTypeMap,...Klt.mapsTypeMap,...Vlt.setsTypeMap,...Wlt.unitTypeMap}});var Dwe=_(qT=>{"use strict";u();l();var gZ=Zz(),zT=Jz(),Swe=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;qT.Buffer=ve;qT.SlowBuffer=Zlt;qT.INSPECT_MAX_BYTES=50;var O3=2147483647;qT.kMaxLength=O3;ve.TYPED_ARRAY_SUPPORT=Glt();!ve.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Glt(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(ve.prototype,"parent",{enumerable:!0,get:function(){if(ve.isBuffer(this))return this.buffer}});Object.defineProperty(ve.prototype,"offset",{enumerable:!0,get:function(){if(ve.isBuffer(this))return this.byteOffset}});function Yg(t){if(t>O3)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,ve.prototype),e}function ve(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return wZ(t)}return Iwe(t,e,r)}ve.poolSize=8192;function Iwe(t,e,r){if(typeof t=="string")return $lt(t,e);if(ArrayBuffer.isView(t))return Ylt(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Pm(t,ArrayBuffer)||t&&Pm(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Pm(t,SharedArrayBuffer)||t&&Pm(t.buffer,SharedArrayBuffer)))return _Z(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return ve.from(n,e,r);let i=Xlt(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return ve.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}ve.from=function(t,e,r){return Iwe(t,e,r)};Object.setPrototypeOf(ve.prototype,Uint8Array.prototype);Object.setPrototypeOf(ve,Uint8Array);function Twe(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Hlt(t,e,r){return Twe(t),t<=0?Yg(t):e!==void 0?typeof r=="string"?Yg(t).fill(e,r):Yg(t).fill(e):Yg(t)}ve.alloc=function(t,e,r){return Hlt(t,e,r)};function wZ(t){return Twe(t),Yg(t<0?0:AZ(t)|0)}ve.allocUnsafe=function(t){return wZ(t)};ve.allocUnsafeSlow=function(t){return wZ(t)};function $lt(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ve.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=kwe(t,e)|0,n=Yg(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function bZ(t){let e=t.length<0?0:AZ(t.length)|0,r=Yg(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Ylt(t){if(Pm(t,Uint8Array)){let e=new Uint8Array(t);return _Z(e.buffer,e.byteOffset,e.byteLength)}return bZ(t)}function _Z(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,ve.prototype),n}function Xlt(t){if(ve.isBuffer(t)){let e=AZ(t.length)|0,r=Yg(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||IZ(t.length)?Yg(0):bZ(t);if(t.type==="Buffer"&&Array.isArray(t.data))return bZ(t.data)}function AZ(t){if(t>=O3)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+O3.toString(16)+" bytes");return t|0}function Zlt(t){return+t!=t&&(t=0),ve.alloc(+t)}ve.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ve.prototype};ve.compare=function(e,r){if(Pm(e,Uint8Array)&&(e=ve.from(e,e.offset,e.byteLength)),Pm(r,Uint8Array)&&(r=ve.from(r,r.offset,r.byteLength)),!ve.isBuffer(e)||!ve.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};ve.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ve.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ve.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=ve.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(Pm(s,Uint8Array))o+s.length>i.length?(ve.isBuffer(s)||(s=ve.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(ve.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function kwe(t,e){if(ve.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Pm(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return SZ(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Nwe(t).length;default:if(i)return n?-1:SZ(t).length;e=(""+e).toLowerCase(),i=!0}}ve.byteLength=kwe;function Jlt(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return cdt(this,e,r);case"utf8":case"utf-8":return xwe(this,e,r);case"ascii":return sdt(this,e,r);case"latin1":case"binary":return adt(this,e,r);case"base64":return idt(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return udt(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}ve.prototype._isBuffer=!0;function gA(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}ve.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)gA(this,r,r+1);return this};ve.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)gA(this,r,r+3),gA(this,r+1,r+2);return this};ve.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)gA(this,r,r+7),gA(this,r+1,r+6),gA(this,r+2,r+5),gA(this,r+3,r+4);return this};ve.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?xwe(this,0,e):Jlt.apply(this,arguments)};ve.prototype.toLocaleString=ve.prototype.toString;ve.prototype.equals=function(e){if(!ve.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ve.compare(this,e)===0};ve.prototype.inspect=function(){let e="",r=qT.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Swe&&(ve.prototype[Swe]=ve.prototype.inspect);ve.prototype.compare=function(e,r,n,i,o){if(Pm(e,Uint8Array)&&(e=ve.from(e,e.offset,e.byteLength)),!ve.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,a=n-r,c=Math.min(s,a),d=this.slice(i,o),f=e.slice(r,n);for(let p=0;p<c;++p)if(d[p]!==f[p]){s=d[p],a=f[p];break}return s<a?-1:a<s?1:0};function vwe(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,IZ(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=ve.from(e,n)),ve.isBuffer(e))return e.length===0?-1:wwe(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):wwe(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function wwe(t,e,r,n,i){let o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function c(f,p){return o===1?f[p]:f.readUInt16BE(p*o)}let d;if(i){let f=-1;for(d=r;d<s;d++)if(c(t,d)===c(e,f===-1?0:d-f)){if(f===-1&&(f=d),d-f+1===a)return f*o}else f!==-1&&(d-=d-f),f=-1}else for(r+a>s&&(r=s-a),d=r;d>=0;d--){let f=!0;for(let p=0;p<a;p++)if(c(t,d+p)!==c(e,p)){f=!1;break}if(f)return d}return-1}ve.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};ve.prototype.indexOf=function(e,r,n){return vwe(this,e,r,n,!0)};ve.prototype.lastIndexOf=function(e,r,n){return vwe(this,e,r,n,!1)};function Qlt(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(IZ(a))return s;t[r+s]=a}return s}function edt(t,e,r,n){return R3(SZ(e,t.length-r),t,r,n)}function tdt(t,e,r,n){return R3(pdt(e),t,r,n)}function rdt(t,e,r,n){return R3(Nwe(e),t,r,n)}function ndt(t,e,r,n){return R3(hdt(e,t.length-r),t,r,n)}ve.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Qlt(this,e,r,n);case"utf8":case"utf-8":return edt(this,e,r,n);case"ascii":case"latin1":case"binary":return tdt(this,e,r,n);case"base64":return rdt(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ndt(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};ve.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function idt(t,e,r){return e===0&&r===t.length?gZ.fromByteArray(t):gZ.fromByteArray(t.slice(e,r))}function xwe(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){let c,d,f,p;switch(a){case 1:o<128&&(s=o);break;case 2:c=t[i+1],(c&192)===128&&(p=(o&31)<<6|c&63,p>127&&(s=p));break;case 3:c=t[i+1],d=t[i+2],(c&192)===128&&(d&192)===128&&(p=(o&15)<<12|(c&63)<<6|d&63,p>2047&&(p<55296||p>57343)&&(s=p));break;case 4:c=t[i+1],d=t[i+2],f=t[i+3],(c&192)===128&&(d&192)===128&&(f&192)===128&&(p=(o&15)<<18|(c&63)<<12|(d&63)<<6|f&63,p>65535&&p<1114112&&(s=p))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return odt(n)}var Awe=4096;function odt(t){let e=t.length;if(e<=Awe)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Awe));return r}function sdt(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function adt(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function cdt(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=mdt[t[o]];return i}function udt(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}ve.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,ve.prototype),i};function Fs(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}ve.prototype.readUintLE=ve.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Fs(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};ve.prototype.readUintBE=ve.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Fs(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};ve.prototype.readUint8=ve.prototype.readUInt8=function(e,r){return e=e>>>0,r||Fs(e,1,this.length),this[e]};ve.prototype.readUint16LE=ve.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Fs(e,2,this.length),this[e]|this[e+1]<<8};ve.prototype.readUint16BE=ve.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Fs(e,2,this.length),this[e]<<8|this[e+1]};ve.prototype.readUint32LE=ve.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Fs(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ve.prototype.readUint32BE=ve.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Fs(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ve.prototype.readBigUInt64LE=o_(function(e){e=e>>>0,FT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&YO(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});ve.prototype.readBigUInt64BE=o_(function(e){e=e>>>0,FT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&YO(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});ve.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Fs(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};ve.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Fs(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};ve.prototype.readInt8=function(e,r){return e=e>>>0,r||Fs(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ve.prototype.readInt16LE=function(e,r){e=e>>>0,r||Fs(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ve.prototype.readInt16BE=function(e,r){e=e>>>0,r||Fs(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ve.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Fs(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ve.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Fs(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ve.prototype.readBigInt64LE=o_(function(e){e=e>>>0,FT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&YO(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});ve.prototype.readBigInt64BE=o_(function(e){e=e>>>0,FT(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&YO(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});ve.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Fs(e,4,this.length),zT.read(this,e,!0,23,4)};ve.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Fs(e,4,this.length),zT.read(this,e,!1,23,4)};ve.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Fs(e,8,this.length),zT.read(this,e,!0,52,8)};ve.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Fs(e,8,this.length),zT.read(this,e,!1,52,8)};function Il(t,e,r,n,i,o){if(!ve.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}ve.prototype.writeUintLE=ve.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;Il(this,e,r,n,a,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};ve.prototype.writeUintBE=ve.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;Il(this,e,r,n,a,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};ve.prototype.writeUint8=ve.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Il(this,e,r,1,255,0),this[r]=e&255,r+1};ve.prototype.writeUint16LE=ve.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Il(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};ve.prototype.writeUint16BE=ve.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Il(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};ve.prototype.writeUint32LE=ve.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Il(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};ve.prototype.writeUint32BE=ve.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Il(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Pwe(t,e,r,n,i){Mwe(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function Owe(t,e,r,n,i){Mwe(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}ve.prototype.writeBigUInt64LE=o_(function(e,r=0){return Pwe(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ve.prototype.writeBigUInt64BE=o_(function(e,r=0){return Owe(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ve.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);Il(this,e,r,n,c-1,-c)}let o=0,s=1,a=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&a===0&&this[r+o-1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};ve.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);Il(this,e,r,n,c-1,-c)}let o=n-1,s=1,a=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[r+o+1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};ve.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Il(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};ve.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Il(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};ve.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Il(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};ve.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Il(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};ve.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Il(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};ve.prototype.writeBigInt64LE=o_(function(e,r=0){return Pwe(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});ve.prototype.writeBigInt64BE=o_(function(e,r=0){return Owe(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Rwe(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Cwe(t,e,r,n,i){return e=+e,r=r>>>0,i||Rwe(t,e,r,4,34028234663852886e22,-34028234663852886e22),zT.write(t,e,r,n,23,4),r+4}ve.prototype.writeFloatLE=function(e,r,n){return Cwe(this,e,r,!0,n)};ve.prototype.writeFloatBE=function(e,r,n){return Cwe(this,e,r,!1,n)};function Bwe(t,e,r,n,i){return e=+e,r=r>>>0,i||Rwe(t,e,r,8,17976931348623157e292,-17976931348623157e292),zT.write(t,e,r,n,52,8),r+8}ve.prototype.writeDoubleLE=function(e,r,n){return Bwe(this,e,r,!0,n)};ve.prototype.writeDoubleBE=function(e,r,n){return Bwe(this,e,r,!1,n)};ve.prototype.copy=function(e,r,n,i){if(!ve.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};ve.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ve.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=ve.isBuffer(e)?e:ve.from(e,i),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%a]}return this};var LT={};function EZ(t,e,r){LT[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}EZ("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);EZ("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);EZ("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Ewe(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Ewe(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Ewe(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function ldt(t,e,r){FT(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&YO(e,t.length-(r+1))}function Mwe(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new LT.ERR_OUT_OF_RANGE("value",a,t)}ldt(n,i,o)}function FT(t,e){if(typeof t!="number")throw new LT.ERR_INVALID_ARG_TYPE(e,"number",t)}function YO(t,e,r){throw Math.floor(t)!==t?(FT(t,r),new LT.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new LT.ERR_BUFFER_OUT_OF_BOUNDS:new LT.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var ddt=/[^+/0-9A-Za-z-_]/g;function fdt(t){if(t=t.split("=")[0],t=t.trim().replace(ddt,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function SZ(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function pdt(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function hdt(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function Nwe(t){return gZ.toByteArray(fdt(t))}function R3(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Pm(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function IZ(t){return t!==t}var mdt=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function o_(t){return typeof BigInt>"u"?ydt:t}function ydt(){throw new Error("BigInt not supported")}});var B3=_(Hu=>{"use strict";u();l();Object.defineProperty(Hu,"__esModule",{value:!0});Hu.output=Hu.exists=Hu.hash=Hu.bytes=Hu.bool=Hu.number=void 0;function C3(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Hu.number=C3;function Uwe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Hu.bool=Uwe;function TZ(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Hu.bytes=TZ;function Lwe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");C3(t.outputLen),C3(t.blockLen)}Hu.hash=Lwe;function zwe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Hu.exists=zwe;function Fwe(t,e){TZ(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Hu.output=Fwe;var gdt={number:C3,bool:Uwe,bytes:TZ,hash:Lwe,exists:zwe,output:Fwe};Hu.default=gdt});var qwe=_(M3=>{"use strict";u();l();Object.defineProperty(M3,"__esModule",{value:!0});M3.crypto=void 0;M3.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var jT=_(Wr=>{"use strict";u();l();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.randomBytes=Wr.wrapConstructorWithOpts=Wr.wrapConstructor=Wr.checkOpts=Wr.Hash=Wr.concatBytes=Wr.toBytes=Wr.utf8ToBytes=Wr.asyncLoop=Wr.nextTick=Wr.hexToBytes=Wr.bytesToHex=Wr.isLE=Wr.rotr=Wr.createView=Wr.u32=Wr.u8=void 0;var N3=qwe(),bdt=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Wr.u8=bdt;var _dt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Wr.u32=_dt;var Sdt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Wr.createView=Sdt;var wdt=(t,e)=>t<<32-e|t>>>e;Wr.rotr=wdt;Wr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Wr.isLE)throw new Error("Non little-endian hardware is not supported");var Adt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Edt(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Adt[t[r]];return e}Wr.bytesToHex=Edt;function Idt(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}Wr.hexToBytes=Idt;var Tdt=async()=>{};Wr.nextTick=Tdt;async function kdt(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,Wr.nextTick)(),n+=o)}}Wr.asyncLoop=kdt;function jwe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Wr.utf8ToBytes=jwe;function vZ(t){if(typeof t=="string"&&(t=jwe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Wr.toBytes=vZ;function vdt(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}Wr.concatBytes=vdt;var kZ=class{clone(){return this._cloneInto()}};Wr.Hash=kZ;var xdt=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function Pdt(t,e){if(e!==void 0&&(typeof e!="object"||!xdt(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Wr.checkOpts=Pdt;function Odt(t){let e=n=>t().update(vZ(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Wr.wrapConstructor=Odt;function Rdt(t){let e=(n,i)=>t(i).update(vZ(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Wr.wrapConstructorWithOpts=Rdt;function Cdt(t=32){if(N3.crypto.web)return N3.crypto.web.getRandomValues(new Uint8Array(t));if(N3.crypto.node)return new Uint8Array(N3.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Wr.randomBytes=Cdt});var OZ=_(D3=>{"use strict";u();l();Object.defineProperty(D3,"__esModule",{value:!0});D3.SHA2=void 0;var xZ=B3(),XO=jT();function Bdt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,d=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+d,a,n)}var PZ=class extends XO.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,XO.createView)(this.buffer)}update(e){xZ.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,XO.toBytes)(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=(0,XO.createView)(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){xZ.default.exists(this),xZ.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let p=s;p<i;p++)r[p]=0;Bdt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=(0,XO.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=c/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)a.setUint32(4*p,f[p],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};D3.SHA2=PZ});var BZ=_(Mf=>{"use strict";u();l();Object.defineProperty(Mf,"__esModule",{value:!0});Mf.add=Mf.toBig=Mf.split=Mf.fromBig=void 0;var U3=BigInt(2**32-1),RZ=BigInt(32);function CZ(t,e=!1){return e?{h:Number(t&U3),l:Number(t>>RZ&U3)}:{h:Number(t>>RZ&U3)|0,l:Number(t&U3)|0}}Mf.fromBig=CZ;function Kwe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=CZ(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}Mf.split=Kwe;var Mdt=(t,e)=>BigInt(t>>>0)<<RZ|BigInt(e>>>0);Mf.toBig=Mdt;var Ndt=(t,e,r)=>t>>>r,Ddt=(t,e,r)=>t<<32-r|e>>>r,Udt=(t,e,r)=>t>>>r|e<<32-r,Ldt=(t,e,r)=>t<<32-r|e>>>r,zdt=(t,e,r)=>t<<64-r|e>>>r-32,Fdt=(t,e,r)=>t>>>r-32|e<<64-r,qdt=(t,e)=>e,jdt=(t,e)=>t,Kdt=(t,e,r)=>t<<r|e>>>32-r,Wdt=(t,e,r)=>e<<r|t>>>32-r,Vdt=(t,e,r)=>e<<r-32|t>>>64-r,Gdt=(t,e,r)=>t<<r-32|e>>>64-r;function Wwe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}Mf.add=Wwe;var Hdt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),$dt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Ydt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Xdt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Zdt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Jdt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,Qdt={fromBig:CZ,split:Kwe,toBig:Mf.toBig,shrSH:Ndt,shrSL:Ddt,rotrSH:Udt,rotrSL:Ldt,rotrBH:zdt,rotrBL:Fdt,rotr32H:qdt,rotr32L:jdt,rotlSH:Kdt,rotlSL:Wdt,rotlBH:Vdt,rotlBL:Gdt,add:Wwe,add3L:Hdt,add3H:$dt,add4L:Ydt,add4H:Xdt,add5H:Jdt,add5L:Zdt};Mf.default=Qdt});var Vwe=_(Nf=>{"use strict";u();l();Object.defineProperty(Nf,"__esModule",{value:!0});Nf.sha384=Nf.sha512_256=Nf.sha512_224=Nf.sha512=Nf.SHA512=void 0;var eft=OZ(),Ir=BZ(),L3=jT(),[tft,rft]=Ir.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),s_=new Uint32Array(80),a_=new Uint32Array(80),bA=class extends eft.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:d,El:f,Fh:p,Fl:m,Gh:y,Gl:g,Hh:b,Hl:S}=this;return[e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,S]}set(e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,S){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=d|0,this.El=f|0,this.Fh=p|0,this.Fl=m|0,this.Gh=y|0,this.Gl=g|0,this.Hh=b|0,this.Hl=S|0}process(e,r){for(let L=0;L<16;L++,r+=4)s_[L]=e.getUint32(r),a_[L]=e.getUint32(r+=4);for(let L=16;L<80;L++){let j=s_[L-15]|0,Z=a_[L-15]|0,se=Ir.default.rotrSH(j,Z,1)^Ir.default.rotrSH(j,Z,8)^Ir.default.shrSH(j,Z,7),Ee=Ir.default.rotrSL(j,Z,1)^Ir.default.rotrSL(j,Z,8)^Ir.default.shrSL(j,Z,7),be=s_[L-2]|0,fe=a_[L-2]|0,w=Ir.default.rotrSH(be,fe,19)^Ir.default.rotrBH(be,fe,61)^Ir.default.shrSH(be,fe,6),R=Ir.default.rotrSL(be,fe,19)^Ir.default.rotrBL(be,fe,61)^Ir.default.shrSL(be,fe,6),B=Ir.default.add4L(Ee,R,a_[L-7],a_[L-16]),C=Ir.default.add4H(B,se,w,s_[L-7],s_[L-16]);s_[L]=C|0,a_[L]=B|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:d,Dl:f,Eh:p,El:m,Fh:y,Fl:g,Gh:b,Gl:S,Hh:P,Hl:U}=this;for(let L=0;L<80;L++){let j=Ir.default.rotrSH(p,m,14)^Ir.default.rotrSH(p,m,18)^Ir.default.rotrBH(p,m,41),Z=Ir.default.rotrSL(p,m,14)^Ir.default.rotrSL(p,m,18)^Ir.default.rotrBL(p,m,41),se=p&y^~p&b,Ee=m&g^~m&S,be=Ir.default.add5L(U,Z,Ee,rft[L],a_[L]),fe=Ir.default.add5H(be,P,j,se,tft[L],s_[L]),w=be|0,R=Ir.default.rotrSH(n,i,28)^Ir.default.rotrBH(n,i,34)^Ir.default.rotrBH(n,i,39),B=Ir.default.rotrSL(n,i,28)^Ir.default.rotrBL(n,i,34)^Ir.default.rotrBL(n,i,39),C=n&o^n&a^o&a,O=i&s^i&c^s&c;P=b|0,U=S|0,b=y|0,S=g|0,y=p|0,g=m|0,{h:p,l:m}=Ir.default.add(d|0,f|0,fe|0,w|0),d=a|0,f=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let N=Ir.default.add3L(w,B,O);n=Ir.default.add3H(N,fe,R,C),i=N|0}({h:n,l:i}=Ir.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Ir.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=Ir.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:d,l:f}=Ir.default.add(this.Dh|0,this.Dl|0,d|0,f|0),{h:p,l:m}=Ir.default.add(this.Eh|0,this.El|0,p|0,m|0),{h:y,l:g}=Ir.default.add(this.Fh|0,this.Fl|0,y|0,g|0),{h:b,l:S}=Ir.default.add(this.Gh|0,this.Gl|0,b|0,S|0),{h:P,l:U}=Ir.default.add(this.Hh|0,this.Hl|0,P|0,U|0),this.set(n,i,o,s,a,c,d,f,p,m,y,g,b,S,P,U)}roundClean(){s_.fill(0),a_.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Nf.SHA512=bA;var MZ=class extends bA{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},NZ=class extends bA{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},DZ=class extends bA{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Nf.sha512=(0,L3.wrapConstructor)(()=>new bA);Nf.sha512_224=(0,L3.wrapConstructor)(()=>new MZ);Nf.sha512_256=(0,L3.wrapConstructor)(()=>new NZ);Nf.sha384=(0,L3.wrapConstructor)(()=>new DZ)});var Hwe=_((jPr,Gwe)=>{u();l();var nft=e8(),ift="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Gwe.exports=nft(ift)});var $we=_(KT=>{"use strict";u();l();Object.defineProperty(KT,"__esModule",{value:!0});KT.sha224=KT.sha256=void 0;var oft=OZ(),Df=jT(),sft=(t,e,r)=>t&e^~t&r,aft=(t,e,r)=>t&e^t&r^e&r,cft=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c_=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u_=new Uint32Array(64),z3=class extends oft.SHA2{constructor(){super(64,32,8,!1),this.A=c_[0]|0,this.B=c_[1]|0,this.C=c_[2]|0,this.D=c_[3]|0,this.E=c_[4]|0,this.F=c_[5]|0,this.G=c_[6]|0,this.H=c_[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,r,n,i,o,s,a,c]}set(e,r,n,i,o,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let p=0;p<16;p++,r+=4)u_[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let m=u_[p-15],y=u_[p-2],g=(0,Df.rotr)(m,7)^(0,Df.rotr)(m,18)^m>>>3,b=(0,Df.rotr)(y,17)^(0,Df.rotr)(y,19)^y>>>10;u_[p]=b+u_[p-7]+g+u_[p-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:d,H:f}=this;for(let p=0;p<64;p++){let m=(0,Df.rotr)(a,6)^(0,Df.rotr)(a,11)^(0,Df.rotr)(a,25),y=f+m+sft(a,c,d)+cft[p]+u_[p]|0,b=((0,Df.rotr)(n,2)^(0,Df.rotr)(n,13)^(0,Df.rotr)(n,22))+aft(n,i,o)|0;f=d,d=c,c=a,a=s+y|0,s=o,o=i,i=n,n=y+b|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(n,i,o,s,a,c,d,f)}roundClean(){u_.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},UZ=class extends z3{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};KT.sha256=(0,Df.wrapConstructor)(()=>new z3);KT.sha224=(0,Df.wrapConstructor)(()=>new UZ)});var Xwe=_(($Pr,Ywe)=>{u();l();var uft=e8(),lft="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Ywe.exports=uft(lft)});var tAe=_(ci=>{"use strict";u();l();var dft=ci&&ci.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fft=ci&&ci.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Om=ci&&ci.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},pft=ci&&ci.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&dft(e,t,r);return fft(e,t),e},Zwe=ci&&ci.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ci,"__esModule",{value:!0});ci.deserializeUnchecked=ci.deserialize=ci.serialize=ci.BinaryReader=ci.BinaryWriter=ci.BorshError=ci.baseDecode=ci.baseEncode=void 0;var l_=Zwe(Lu()),Jwe=Zwe(Xwe()),hft=pft(EP()),mft=typeof TextDecoder!="function"?hft.TextDecoder:TextDecoder,yft=new mft("utf-8",{fatal:!0});function gft(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),Jwe.default.encode(Buffer.from(t))}ci.baseEncode=gft;function bft(t){return Buffer.from(Jwe.default.decode(t))}ci.baseDecode=bft;var LZ=1024,ca=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};ci.BorshError=ca;var F3=class{constructor(){this.buf=Buffer.alloc(LZ),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(LZ)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l_.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l_.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l_.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l_.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(LZ)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};ci.BinaryWriter=F3;function Rm(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new ca("Reached the end of buffer when deserializing")}throw o}}}var $u=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new l_.default(e,"le")}readU128(){let e=this.readBuffer(16);return new l_.default(e,"le")}readU256(){let e=this.readBuffer(32);return new l_.default(e,"le")}readU512(){let e=this.readBuffer(64);return new l_.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new ca(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return yft.decode(r)}catch(n){throw new ca(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};Om([Rm],$u.prototype,"readU8",null);Om([Rm],$u.prototype,"readU16",null);Om([Rm],$u.prototype,"readU32",null);Om([Rm],$u.prototype,"readU64",null);Om([Rm],$u.prototype,"readU128",null);Om([Rm],$u.prototype,"readU256",null);Om([Rm],$u.prototype,"readU512",null);Om([Rm],$u.prototype,"readString",null);Om([Rm],$u.prototype,"readFixedArray",null);Om([Rm],$u.prototype,"readArray",null);ci.BinaryReader=$u;function Qwe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function _A(t,e,r,n,i){try{if(typeof n=="string")i[`write${Qwe(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new ca(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new ca(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)_A(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{_A(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),_A(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{_A(t,e,s,n.key,i),_A(t,e,o,n.value,i)});break}default:throw new ca(`FieldType ${n} unrecognized`)}else eAe(t,r,i)}catch(o){throw o instanceof ca&&o.addToFieldPath(e),o}}function eAe(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new ca(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{_A(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),_A(t,s,e[s],a,r);break}}}else throw new ca(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function _ft(t,e,r=F3){let n=new r;return eAe(t,e,n),n.toArray()}ci.serialize=_ft;function SA(t,e,r,n){try{if(typeof r=="string")return n[`read${Qwe(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(SA(t,null,r[0],n));return i}else return n.readArray(()=>SA(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?SA(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let a=SA(t,e,r.key,n),c=SA(t,e,r.value,n);i.set(a,c)}return i}return zZ(t,r,n)}catch(i){throw i instanceof ca&&i.addToFieldPath(e),i}}function zZ(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new ca(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=SA(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new ca(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=SA(t,o,s,r);return new e({[o]:a})}throw new ca(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Sft(t,e,r,n=$u){let i=new n(r),o=zZ(t,e,i);if(i.offset<r.length)throw new ca(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}ci.deserialize=Sft;function wft(t,e,r,n=$u){let i=new n(r);return zZ(t,e,i)}ci.deserializeUnchecked=wft});var uAe=_(vi=>{"use strict";u();l();Object.defineProperty(vi,"__esModule",{value:!0});vi.shake256=vi.shake128=vi.keccak_512=vi.keccak_384=vi.keccak_256=vi.keccak_224=vi.sha3_512=vi.sha3_384=vi.sha3_256=vi.sha3_224=vi.Keccak=vi.keccakP=void 0;var WT=B3(),QO=BZ(),JO=jT(),[iAe,oAe,sAe]=[[],[],[]],Aft=BigInt(0),ZO=BigInt(1),Eft=BigInt(2),Ift=BigInt(7),Tft=BigInt(256),kft=BigInt(113);for(let t=0,e=ZO,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],iAe.push(2*(5*n+r)),oAe.push((t+1)*(t+2)/2%64);let i=Aft;for(let o=0;o<7;o++)e=(e<<ZO^(e>>Ift)*kft)%Tft,e&Eft&&(i^=ZO<<(ZO<<BigInt(o))-ZO);sAe.push(i)}var[vft,xft]=QO.default.split(sAe,!0),rAe=(t,e,r)=>r>32?QO.default.rotlBH(t,e,r):QO.default.rotlSH(t,e,r),nAe=(t,e,r)=>r>32?QO.default.rotlBL(t,e,r):QO.default.rotlSL(t,e,r);function aAe(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,d=r[c],f=r[c+1],p=rAe(d,f,1)^r[a],m=nAe(d,f,1)^r[a+1];for(let y=0;y<50;y+=10)t[s+y]^=p,t[s+y+1]^=m}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=oAe[s],c=rAe(i,o,a),d=nAe(i,o,a),f=iAe[s];i=t[f],o=t[f+1],t[f]=c,t[f+1]=d}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=vft[n],t[1]^=xft[n]}r.fill(0)}vi.keccakP=aAe;var eR=class t extends JO.Hash{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,WT.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,JO.u32)(this.state)}keccak(){aAe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){WT.default.exists(this);let{blockLen:r,state:n}=this;e=(0,JO.toBytes)(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){WT.default.exists(this,!1),WT.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return WT.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(WT.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};vi.Keccak=eR;var d_=(t,e,r)=>(0,JO.wrapConstructor)(()=>new eR(e,t,r));vi.sha3_224=d_(6,144,224/8);vi.sha3_256=d_(6,136,256/8);vi.sha3_384=d_(6,104,384/8);vi.sha3_512=d_(6,72,512/8);vi.keccak_224=d_(1,144,224/8);vi.keccak_256=d_(1,136,256/8);vi.keccak_384=d_(1,104,384/8);vi.keccak_512=d_(1,72,512/8);var cAe=(t,e,r)=>(0,JO.wrapConstructorWithOpts)((n={})=>new eR(e,t,n.dkLen===void 0?r:n.dkLen,!0));vi.shake128=cAe(31,168,128/8);vi.shake256=cAe(31,136,256/8)});var dAe=_(tR=>{"use strict";u();l();Object.defineProperty(tR,"__esModule",{value:!0});tR.hmac=void 0;var q3=B3(),lAe=jT(),j3=class extends lAe.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,q3.default.hash(e);let n=(0,lAe.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return q3.default.exists(this),this.iHash.update(e),this}digestInto(e){q3.default.exists(this),q3.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Pft=(t,e,r)=>new j3(t,e).update(r).digest();tR.hmac=Pft;tR.hmac.create=(t,e)=>new j3(t,e)});var YAe=_($e=>{"use strict";u();l();Object.defineProperty($e,"__esModule",{value:!0});var Ht=Dwe(),Oft=Vwe(),Rft=Qz(),Cft=Lu(),Bft=Hwe(),GZ=$we(),FZ=tAe(),OAe=Ce(),HZ=II(),E=t8(),Mft=r8(),Nft=n8(),Dft=i8(),fAe=uAe(),Uft=dAe(),Lft=o8();function pR(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function fJ(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var h_=fJ(Rft),pAe=pR(Cft),ua=pR(Bft),V=fJ(OAe),zft=pR(Mft),Fft=pR(Nft),qft=pR(Dft),nq=fJ(Lft);h_.utils.sha512Sync=(...t)=>Oft.sha512(h_.utils.concatBytes(...t));var jft=h_.utils.randomPrivateKey,hAe=()=>{let t=h_.utils.randomPrivateKey(),e=H3(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},H3=h_.sync.getPublicKey;function mAe(t){try{return h_.Point.fromHex(t,!0),!0}catch{return!1}}var pJ=(t,e)=>h_.sync.sign(t,e.slice(0,32)),Kft=h_.sync.verify,Tr=t=>Ht.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Ht.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Ht.Buffer.from(t),oR=class{constructor(e){Object.assign(this,e)}encode(){return Ht.Buffer.from(FZ.serialize(iR,this))}static decode(e){return FZ.deserialize(iR,this,e)}static decodeUnchecked(e){return FZ.deserializeUnchecked(iR,this,e)}},$Z=class extends oR{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},iR=new Map,RAe,CAe=32,Md=32;function Wft(t){return t._bn!==void 0}var yAe=1;RAe=Symbol.toStringTag;var nt=class t extends oR{constructor(e){if(super({}),this._bn=void 0,Wft(e))this._bn=e._bn;else{if(typeof e=="string"){let r=ua.default.decode(e);if(r.length!=Md)throw new Error("Invalid public key input");this._bn=new pAe.default(r)}else this._bn=new pAe.default(e);if(this._bn.byteLength()>Md)throw new Error("Invalid public key input")}}static unique(){let e=new t(yAe);return yAe+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ua.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Ht.Buffer);if(e.length===Md)return e;let r=Ht.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[RAe](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Ht.Buffer.concat([e.toBuffer(),Ht.Buffer.from(r),n.toBuffer()]),o=GZ.sha256(i);return new t(o)}static createProgramAddressSync(e,r){let n=Ht.Buffer.alloc(0);e.forEach(function(o){if(o.length>CAe)throw new TypeError("Max seed length exceeded");n=Ht.Buffer.concat([n,Tr(o)])}),n=Ht.Buffer.concat([n,r.toBuffer(),Ht.Buffer.from("ProgramDerivedAddress")]);let i=GZ.sha256(n);if(mAe(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat(Ht.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return mAe(r.toBytes())}};nt.default=new nt("11111111111111111111111111111111");iR.set(nt,{kind:"struct",fields:[["_bn","u256"]]});var YZ=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=Tr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Tr(jft()),this._publicKey=Tr(H3(this._secretKey))}get publicKey(){return new nt(this._publicKey)}get secretKey(){return Ht.Buffer.concat([this._secretKey,this._publicKey],64)}},Vft=new nt("BPFLoader1111111111111111111111111111111111"),p_=1232,iq=127,VT=64,sR=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(sR.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var aR=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(aR.prototype,"name",{value:"TransactionExpiredTimeoutError"});var f_=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(f_.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var EA=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},Zr=(t="publicKey")=>V.blob(32,t),Gft=(t="signature")=>V.blob(64,t),AA=(t="string")=>{let e=V.struct([V.u32("length"),V.u32("lengthPadding"),V.blob(V.offset(V.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,a)=>{let c={chars:Ht.Buffer.from(o,"utf8")};return n(c,s,a)},i.alloc=o=>V.u32().span+V.u32().span+Ht.Buffer.from(o,"utf8").length,i},Hft=(t="authorized")=>V.struct([Zr("staker"),Zr("withdrawer")],t),$ft=(t="lockup")=>V.struct([V.ns64("unixTimestamp"),V.ns64("epoch"),Zr("custodian")],t),Yft=(t="voteInit")=>V.struct([Zr("nodePubkey"),Zr("authorizedVoter"),Zr("authorizedWithdrawer"),V.u8("commission")],t),Xft=(t="voteAuthorizeWithSeedArgs")=>V.struct([V.u32("voteAuthorizationType"),Zr("currentAuthorityDerivedKeyOwnerPubkey"),AA("currentAuthorityDerivedKeySeed"),Zr("newAuthorized")],t);function BAe(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return BAe({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Tl(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Bd(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function En(t,e){if(!t)throw new Error(e||"Assertion failed")}var $3=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let a=s.toBase58(),c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let a of s.keys){let c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];En(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{En(r.length>0,"Expected at least one writable signer key");let[c]=r[0];En(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...r.map(([c])=>new nt(c)),...n.map(([c])=>new nt(c)),...i.map(([c])=>new nt(c)),...o.map(([c])=>new nt(c))];return[s,a]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let a=new nt(o),c=e.findIndex(d=>d.equals(a));c>=0&&(En(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(o))}return[n,i]}},Mm=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new nt(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ua.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new EA(this.staticAccountKeys)}static compile(e){let r=$3.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new EA(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ua.default.encode(a.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];Bd(r,e);let n=this.instructions.map(p=>{let{accounts:m,programIdIndex:y}=p,g=Array.from(ua.default.decode(p.data)),b=[];Bd(b,m.length);let S=[];return Bd(S,g.length),{programIdIndex:y,keyIndicesCount:Ht.Buffer.from(b),keyIndices:m,dataLength:Ht.Buffer.from(S),data:g}}),i=[];Bd(i,n.length);let o=Ht.Buffer.alloc(p_);Ht.Buffer.from(i).copy(o);let s=i.length;n.forEach(p=>{let y=V.struct([V.u8("programIdIndex"),V.blob(p.keyIndicesCount.length,"keyIndicesCount"),V.seq(V.u8("keyIndex"),p.keyIndices.length,"keyIndices"),V.blob(p.dataLength.length,"dataLength"),V.seq(V.u8("userdatum"),p.data.length,"data")]).encode(p,o,s);s+=y}),o=o.slice(0,s);let a=V.struct([V.blob(1,"numRequiredSignatures"),V.blob(1,"numReadonlySignedAccounts"),V.blob(1,"numReadonlyUnsignedAccounts"),V.blob(r.length,"keyCount"),V.seq(Zr("key"),e,"keys"),Zr("recentBlockhash")]),c={numRequiredSignatures:Ht.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ht.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ht.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ht.Buffer.from(r),keys:this.accountKeys.map(p=>Tr(p.toBytes())),recentBlockhash:ua.default.decode(this.recentBlockhash)},d=Ht.Buffer.alloc(2048),f=a.encode(c,d);return o.copy(d,f),d.slice(0,f+o.length)}static from(e){let r=[...e],n=r.shift();if(n!==(n&iq))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=r.shift(),o=r.shift(),s=Tl(r),a=[];for(let m=0;m<s;m++){let y=r.slice(0,Md);r=r.slice(Md),a.push(new nt(Ht.Buffer.from(y)))}let c=r.slice(0,Md);r=r.slice(Md);let d=Tl(r),f=[];for(let m=0;m<d;m++){let y=r.shift(),g=Tl(r),b=r.slice(0,g);r=r.slice(g);let S=Tl(r),P=r.slice(0,S),U=ua.default.encode(Ht.Buffer.from(P));r=r.slice(S),f.push({programIdIndex:y,accounts:b,data:U})}let p={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:ua.default.encode(Ht.Buffer.from(c)),accountKeys:a,instructions:f};return new t(p)}},GT=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new EA(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=$3.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let f of o){let p=r.extractTableLookup(f);if(p!==void 0){let[m,{writable:y,readonly:g}]=p;n.push(m),i.writable.push(...y),i.readonly.push(...g)}}let[s,a]=r.getMessageComponents(),d=new EA(a,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:n})}serialize(){let e=Array();Bd(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();Bd(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Bd(o,this.addressTableLookups.length);let s=V.struct([V.u8("prefix"),V.struct([V.u8("numRequiredSignatures"),V.u8("numReadonlySignedAccounts"),V.u8("numReadonlyUnsignedAccounts")],"header"),V.blob(e.length,"staticAccountKeysLength"),V.seq(Zr(),this.staticAccountKeys.length,"staticAccountKeys"),Zr("recentBlockhash"),V.blob(n.length,"instructionsLength"),V.blob(r.length,"serializedInstructions"),V.blob(o.length,"addressTableLookupsLength"),V.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(p_),d=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:ua.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,d)}serializeInstructions(){let e=0,r=new Uint8Array(p_);for(let n of this.compiledInstructions){let i=Array();Bd(i,n.accountKeyIndexes.length);let o=Array();Bd(o,n.data.length);let s=V.struct([V.u8("programIdIndex"),V.blob(i.length,"encodedAccountKeyIndexesLength"),V.seq(V.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),V.blob(o.length,"encodedDataLength"),V.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(p_);for(let n of this.addressTableLookups){let i=Array();Bd(i,n.writableIndexes.length);let o=Array();Bd(o,n.readonlyIndexes.length);let s=V.struct([Zr("accountKey"),V.blob(i.length,"encodedWritableIndexesLength"),V.seq(V.u8(),n.writableIndexes.length,"writableIndexes"),V.blob(o.length,"encodedReadonlyIndexesLength"),V.seq(V.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=r.shift(),i=n&iq;En(n!==i,"Expected versioned message but received legacy message");let o=i;En(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},a=[],c=Tl(r);for(let g=0;g<c;g++)a.push(new nt(r.splice(0,Md)));let d=ua.default.encode(r.splice(0,Md)),f=Tl(r),p=[];for(let g=0;g<f;g++){let b=r.shift(),S=Tl(r),P=r.splice(0,S),U=Tl(r),L=new Uint8Array(r.splice(0,U));p.push({programIdIndex:b,accountKeyIndexes:P,data:L})}let m=Tl(r),y=[];for(let g=0;g<m;g++){let b=new nt(r.splice(0,Md)),S=Tl(r),P=r.splice(0,S),U=Tl(r),L=r.splice(0,U);y.push({accountKey:b,writableIndexes:P,readonlyIndexes:L})}return new t({header:s,staticAccountKeys:a,recentBlockhash:d,compiledInstructions:p,addressTableLookups:y})}},hJ={deserializeMessageVersion(t){let e=t[0],r=e&iq;return r===e?"legacy":r},deserialize:t=>{let e=hJ.deserializeMessageVersion(t);if(e==="legacy")return Mm.from(t);if(e===0)return GT.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};$e.TransactionStatus=void 0;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})($e.TransactionStatus||($e.TransactionStatus={}));var Zft=Ht.Buffer.alloc(VT).fill(0),ti=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ht.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},ei=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new ti(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let b=0;b<r.length;b++)if(r[b].programId===void 0)throw new Error(`Transaction instruction index ${b} has undefined program id`);let i=[],o=[];r.forEach(b=>{b.keys.forEach(P=>{o.push({...P})});let S=b.programId.toString();i.includes(S)||i.push(S)}),i.forEach(b=>{o.push({pubkey:new nt(b),isSigner:!1,isWritable:!1})});let s=[];o.forEach(b=>{let S=b.pubkey.toString(),P=s.findIndex(U=>U.pubkey.toString()===S);P>-1?(s[P].isWritable=s[P].isWritable||b.isWritable,s[P].isSigner=s[P].isSigner||b.isSigner):s.push(b)}),s.sort(function(b,S){return b.isSigner!==S.isSigner?b.isSigner?-1:1:b.isWritable!==S.isWritable?b.isWritable?-1:1:b.pubkey.toBase58().localeCompare(S.pubkey.toBase58())});let a=s.findIndex(b=>b.pubkey.equals(n));if(a>-1){let[b]=s.splice(a,1);b.isSigner=!0,b.isWritable=!0,s.unshift(b)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let b of this.signatures){let S=s.findIndex(P=>P.pubkey.equals(b.publicKey));if(S>-1)s[S].isSigner||(s[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${b.publicKey.toString()}`)}let c=0,d=0,f=0,p=[],m=[];s.forEach(({pubkey:b,isSigner:S,isWritable:P})=>{S?(p.push(b.toString()),c+=1,P||(d+=1)):(m.push(b.toString()),P||(f+=1))});let y=p.concat(m),g=r.map(b=>{let{data:S,programId:P}=b;return{programIdIndex:y.indexOf(P.toString()),accounts:b.keys.map(U=>y.indexOf(U.pubkey.toString())),data:ua.default.encode(S)}});return g.forEach(b=>{En(b.programIdIndex>=0),b.accounts.forEach(S=>En(S>=0))}),new Mm({header:{numRequiredSignatures:c,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:f},accountKeys:y,recentBlockhash:e,instructions:g})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=pJ(n,i.secretKey);this._addSignature(i.publicKey,Tr(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){En(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Ht.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(r)return!1}else if(!Kft(n,e,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];Bd(n,r.length);let i=n.length+r.length*64+e.length,o=Ht.Buffer.alloc(i);return En(r.length<256),Ht.Buffer.from(n).copy(o,0),r.forEach(({signature:s},a)=>{s!==null&&(En(s.length===64,"signature has invalid length"),Ht.Buffer.from(s).copy(o,n.length+a*64))}),e.copy(o,n.length+r.length*64),En(o.length<=p_,`Transaction too large: ${o.length} > ${p_}`),o}get keys(){return En(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return En(this.instructions.length===1),this.instructions[0].programId}get data(){return En(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=Tl(r),i=[];for(let o=0;o<n;o++){let s=r.slice(0,VT);r=r.slice(VT),i.push(ua.default.encode(Ht.Buffer.from(s)))}return t.populate(Mm.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==ua.default.encode(Zft)?null:ua.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let a=e.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new ti({keys:o,programId:e.accountKeys[i.programIdIndex],data:ua.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},XZ=class t{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,d=s-a;En(d>0,"Message header is invalid");let f=e.staticAccountKeys.length-s-c;En(f>=0,"Message header is invalid");let p=e.getAccountKeys(r),m=p.get(0);if(m===void 0)throw new Error("Failed to decompile message because no account keys were found");let y=[];for(let g of i){let b=[];for(let P of g.accountKeyIndexes){let U=p.get(P);if(U===void 0)throw new Error(`Failed to find key for account key index ${P}`);let L=P<s,j;L?j=P<d:P<p.staticAccountKeys.length?j=P-s<f:j=P-p.staticAccountKeys.length<p.accountKeysFromLookups.writable.length,b.push({pubkey:U,isSigner:P<n.numRequiredSignatures,isWritable:j})}let S=p.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);y.push(new ti({programId:S,data:Tr(g.data),keys:b}))}return new t({payerKey:m,instructions:y,recentBlockhash:o})}compileToLegacyMessage(){return Mm.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return GT.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},ZZ=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)En(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(VT));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();Bd(r,this.signatures.length);let n=V.struct([V.blob(r.length,"encodedSignaturesLength"),V.seq(Gft(),this.signatures.length,"signatures"),V.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=Tl(r);for(let s=0;s<i;s++)n.push(new Uint8Array(r.splice(0,VT)));let o=hJ.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));En(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=pJ(r,i.secretKey)}}addSignature(e,r){En(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));En(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},Cm=new nt("SysvarC1ock11111111111111111111111111111111"),Jft=new nt("SysvarEpochSchedu1e111111111111111111111111"),Qft=new nt("Sysvar1nstructions1111111111111111111111111"),W3=new nt("SysvarRecentB1ockHashes11111111111111111111"),HT=new nt("SysvarRent111111111111111111111111111111111"),ept=new nt("SysvarRewards111111111111111111111111111111"),tpt=new nt("SysvarS1otHashes111111111111111111111111111"),rpt=new nt("SysvarS1otHistory11111111111111111111111111"),V3=new nt("SysvarStakeHistory1111111111111111111111111");async function G3(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function wA(t){return new Promise(e=>setTimeout(e,t))}function gn(t,e){let r=t.layout.span>=0?t.layout.span:BAe(t,e),n=Ht.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function Vn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}var MAe=V.nu64("lamportsPerSignature"),NAe=V.struct([V.u32("version"),V.u32("state"),Zr("authorizedPubkey"),Zr("nonce"),V.struct([MAe],"feeCalculator")]),JZ=NAe.span,Y3=class t{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=NAe.decode(Tr(e),0);return new t({authorizedPubkey:new nt(r.authorizedPubkey),nonce:new nt(r.nonce).toString(),feeCalculator:r.feeCalculator})}},npt=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},ipt=t=>e=>{let r=OAe.blob(t,e),{encode:n,decode:i}=npt(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return HZ.toBigIntLE(Ht.Buffer.from(c))},o.encode=(s,a,c)=>{let d=HZ.toBufferLE(s,t);return n(d,a,c)},o},$T=ipt(8),QZ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=V.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(xi))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=Vn(xi.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new nt(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=Vn(xi.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=Vn(xi.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new nt(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=Vn(xi.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:o}=Vn(xi.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new nt(r),seed:n,space:i,programId:new nt(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=Vn(xi.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new nt(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=Vn(xi.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new nt(r),seed:n,programId:new nt(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:o,programId:s}=Vn(xi.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new nt(r),seed:n,lamports:i,space:o,programId:new nt(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=Vn(xi.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new nt(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Vn(xi.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Vn(xi.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=Vn(xi.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new nt(r)}}static checkProgramId(e){if(!e.equals(Da.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},xi=Object.freeze({Create:{index:0,layout:V.struct([V.u32("instruction"),V.ns64("lamports"),V.ns64("space"),Zr("programId")])},Assign:{index:1,layout:V.struct([V.u32("instruction"),Zr("programId")])},Transfer:{index:2,layout:V.struct([V.u32("instruction"),$T("lamports")])},CreateWithSeed:{index:3,layout:V.struct([V.u32("instruction"),Zr("base"),AA("seed"),V.ns64("lamports"),V.ns64("space"),Zr("programId")])},AdvanceNonceAccount:{index:4,layout:V.struct([V.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:V.struct([V.u32("instruction"),V.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:V.struct([V.u32("instruction"),Zr("authorized")])},AuthorizeNonceAccount:{index:7,layout:V.struct([V.u32("instruction"),Zr("authorized")])},Allocate:{index:8,layout:V.struct([V.u32("instruction"),V.ns64("space")])},AllocateWithSeed:{index:9,layout:V.struct([V.u32("instruction"),Zr("base"),AA("seed"),V.ns64("space"),Zr("programId")])},AssignWithSeed:{index:10,layout:V.struct([V.u32("instruction"),Zr("base"),AA("seed"),Zr("programId")])},TransferWithSeed:{index:11,layout:V.struct([V.u32("instruction"),$T("lamports"),AA("seed"),Zr("programId")])},UpgradeNonceAccount:{index:12,layout:V.struct([V.u32("instruction")])}}),Da=class t{constructor(){}static createAccount(e){let r=xi.Create,n=gn(r,{lamports:e.lamports,space:e.space,programId:Tr(e.programId.toBuffer())});return new ti({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=xi.TransferWithSeed;r=gn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Tr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=xi.Transfer;r=gn(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ti({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=xi.AssignWithSeed;r=gn(i,{base:Tr(e.basePubkey.toBuffer()),seed:e.seed,programId:Tr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=xi.Assign;r=gn(i,{programId:Tr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ti({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=xi.CreateWithSeed,n=gn(r,{base:Tr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Tr(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ti({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new ei;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:JZ,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:JZ,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=xi.InitializeNonceAccount,n=gn(r,{authorized:Tr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:W3,isSigner:!1,isWritable:!1},{pubkey:HT,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new ti(i)}static nonceAdvance(e){let r=xi.AdvanceNonceAccount,n=gn(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:W3,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new ti(i)}static nonceWithdraw(e){let r=xi.WithdrawNonceAccount,n=gn(r,{lamports:e.lamports});return new ti({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:W3,isSigner:!1,isWritable:!1},{pubkey:HT,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=xi.AuthorizeNonceAccount,n=gn(r,{authorized:Tr(e.newAuthorizedPubkey.toBuffer())});return new ti({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=xi.AllocateWithSeed;r=gn(i,{base:Tr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Tr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=xi.Allocate;r=gn(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ti({keys:n,programId:this.programId,data:r})}};Da.programId=new nt("11111111111111111111111111111111");var opt=p_-300,YT=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let p=await e.getMinimumBalanceForRentExemption(o.length),m=await e.getAccountInfo(n.publicKey,"confirmed"),y=null;if(m!==null){if(m.executable)return console.error("Program load failed, account is already executable"),!1;m.data.length!==o.length&&(y=y||new ei,y.add(Da.allocate({accountPubkey:n.publicKey,space:o.length}))),m.owner.equals(i)||(y=y||new ei,y.add(Da.assign({accountPubkey:n.publicKey,programId:i}))),m.lamports<p&&(y=y||new ei,y.add(Da.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:p-m.lamports})))}else y=new ei().add(Da.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:p>0?p:1,space:o.length,programId:i}));y!==null&&await G3(e,y,[r,n],{commitment:"confirmed"})}let s=V.struct([V.u32("instruction"),V.u32("offset"),V.u32("bytesLength"),V.u32("bytesLengthPadding"),V.seq(V.u8("byte"),V.offset(V.u32(),-8),"bytes")]),a=t.chunkSize,c=0,d=o,f=[];for(;d.length>0;){let p=d.slice(0,a),m=Ht.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:p,bytesLength:0,bytesLengthPadding:0},m);let y=new ei().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:m});f.push(G3(e,y,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await wA(1e3/4),c+=a,d=d.slice(a)}await Promise.all(f);{let p=V.struct([V.u32("instruction")]),m=Ht.Buffer.alloc(p.span);p.encode({instruction:1},m);let y=new ei().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:HT,isSigner:!1,isWritable:!1}],programId:i,data:m});await G3(e,y,[r,n],{commitment:"confirmed"})}return!0}};YT.chunkSize=opt;var spt=new nt("BPFLoader2111111111111111111111111111111111"),eJ=class{static getMinNumSignatures(e){return YT.getMinNumSignatures(e)}static load(e,r,n,i,o){return YT.load(e,r,n,o,i)}},apt=Object.prototype.toString,cpt=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function nR(t,e){var r,n,i,o,s,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return nR(t.toJSON(),e);if(c=apt.call(t),c==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=nR(t[r],!0)+",";return n>-1&&(i+=nR(t[r],!0)),i+"]"}else if(c==="[object Object]"){for(o=cpt(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],a=nR(t[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var upt=function(t){var e=nR(t,!1);if(e!==void 0)return""+e},gAe=upt,rR=32;function qZ(t){let e=0;for(;t>1;)t/=2,e++;return e}function lpt(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}var X3=class{constructor(e,r,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=qZ(lpt(e+rR+1))-qZ(rR)-1,n=this.getSlotsInEpoch(r),i=e-(n-rR);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=r%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*rR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+qZ(rR)):this.slotsPerEpoch}},cR=class extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}},dpt={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},Tt=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}},fpt=globalThis.fetch,tJ=class extends Fft.default{constructor(e,r,n){let i=o=>{let s=qft.default(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},ppt=160,hpt=64,mpt=ppt/hpt,ypt=1e3/mpt;function gpt(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}var bAe=56,uR=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=gpt(bpt,e),n=e.length-bAe;En(n>=0,"lookup table is invalid"),En(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=V.struct([V.seq(Zr(),i,"addresses")]).decode(e.slice(bAe));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new nt(r.authority[0]):void 0,addresses:o.map(s=>new nt(s))}}},bpt={index:1,layout:V.struct([V.u32("typeIndex"),$T("deactivationSlot"),V.nu64("lastExtendedSlot"),V.u8("lastExtendedStartIndex"),V.u8(),V.seq(Zr(),V.offset(V.u8(),-1),"authority")])},_pt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Spt(t){let e=t.match(_pt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${n}${c}${o}`}var os=E.coerce(E.instance(nt),E.string(),t=>new nt(t)),DAe=E.tuple([E.string(),E.literal("base64")]),mJ=E.coerce(E.instance(Ht.Buffer),DAe,t=>Ht.Buffer.from(t[0],"base64")),UAe=30*1e3;function wpt(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function fo(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function LAe(t){return E.union([E.type({jsonrpc:E.literal("2.0"),id:E.string(),result:t}),E.type({jsonrpc:E.literal("2.0"),id:E.string(),error:E.type({code:E.unknown(),message:E.string(),data:E.optional(E.any())})})])}var Apt=LAe(E.unknown());function Nr(t){return E.coerce(LAe(t),Apt,e=>"error"in e?e:{...e,result:E.create(e.result,t)})}function is(t){return Nr(E.type({context:E.type({slot:E.number()}),value:t}))}function oq(t){return E.type({context:E.type({slot:E.number()}),value:t})}function jZ(t,e){return t===0?new GT({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new nt(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:ua.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Mm(e)}var Ept=E.type({foundation:E.number(),foundationTerm:E.number(),initial:E.number(),taper:E.number(),terminal:E.number()}),Ipt=Nr(E.array(E.nullable(E.type({epoch:E.number(),effectiveSlot:E.number(),amount:E.number(),postBalance:E.number(),commission:E.optional(E.nullable(E.number()))})))),Tpt=E.type({total:E.number(),validator:E.number(),foundation:E.number(),epoch:E.number()}),kpt=E.type({epoch:E.number(),slotIndex:E.number(),slotsInEpoch:E.number(),absoluteSlot:E.number(),blockHeight:E.optional(E.number()),transactionCount:E.optional(E.number())}),vpt=E.type({slotsPerEpoch:E.number(),leaderScheduleSlotOffset:E.number(),warmup:E.boolean(),firstNormalEpoch:E.number(),firstNormalSlot:E.number()}),xpt=E.record(E.string(),E.array(E.number())),TA=E.nullable(E.union([E.type({}),E.string()])),Ppt=E.type({err:TA}),Opt=E.literal("receivedSignature"),Rpt=E.type({"solana-core":E.string(),"feature-set":E.optional(E.number())}),_Ae=is(E.type({err:E.nullable(E.union([E.type({}),E.string()])),logs:E.nullable(E.array(E.string())),accounts:E.optional(E.nullable(E.array(E.nullable(E.type({executable:E.boolean(),owner:E.string(),lamports:E.number(),data:E.array(E.string()),rentEpoch:E.optional(E.number())}))))),unitsConsumed:E.optional(E.number()),returnData:E.optional(E.nullable(E.type({programId:E.string(),data:E.tuple([E.string(),E.literal("base64")])})))})),Cpt=is(E.type({byIdentity:E.record(E.string(),E.array(E.number())),range:E.type({firstSlot:E.number(),lastSlot:E.number()})}));function Bpt(t,e,r,n,i,o){let s=r||fpt,a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(f,p)=>{let m=await new Promise((y,g)=>{try{n(f,p,(b,S)=>y([b,S]))}catch(b){g(b)}});return await s(...m)}),new zft.default(async(f,p)=>{let m={method:"POST",body:f,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Cht)};try{let y=5,g,b=500;for(;c?g=await c(t,m):g=await s(t,m),!(g.status!==429||i===!0||(y-=1,y===0));)console.log(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${b}ms delay...`),await wA(b),b*=2;let S=await g.text();g.ok?p(null,S):p(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(y){y instanceof Error&&p(y)}},{})}function Mpt(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(o,s)=>{if(o){i(o);return}n(s)})})}function Npt(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){n(o);return}r(s)})})}var Dpt=Nr(Ept),Upt=Nr(Tpt),Lpt=Nr(kpt),zpt=Nr(vpt),Fpt=Nr(xpt),qpt=Nr(E.number()),jpt=is(E.type({total:E.number(),circulating:E.number(),nonCirculating:E.number(),nonCirculatingAccounts:E.array(os)})),rJ=E.type({amount:E.string(),uiAmount:E.nullable(E.number()),decimals:E.number(),uiAmountString:E.optional(E.string())}),Kpt=is(E.array(E.type({address:os,amount:E.string(),uiAmount:E.nullable(E.number()),decimals:E.number(),uiAmountString:E.optional(E.string())}))),Wpt=is(E.array(E.type({pubkey:os,account:E.type({executable:E.boolean(),owner:os,lamports:E.number(),data:mJ,rentEpoch:E.number()})}))),nJ=E.type({program:E.string(),parsed:E.unknown(),space:E.number()}),Vpt=is(E.array(E.type({pubkey:os,account:E.type({executable:E.boolean(),owner:os,lamports:E.number(),data:nJ,rentEpoch:E.number()})}))),Gpt=is(E.array(E.type({lamports:E.number(),address:os}))),lR=E.type({executable:E.boolean(),owner:os,lamports:E.number(),data:mJ,rentEpoch:E.number()}),Hpt=E.type({pubkey:os,account:lR}),$pt=E.coerce(E.union([E.instance(Ht.Buffer),nJ]),E.union([DAe,nJ]),t=>Array.isArray(t)?E.create(t,mJ):t),iJ=E.type({executable:E.boolean(),owner:os,lamports:E.number(),data:$pt,rentEpoch:E.number()}),Ypt=E.type({pubkey:os,account:iJ}),Xpt=E.type({state:E.union([E.literal("active"),E.literal("inactive"),E.literal("activating"),E.literal("deactivating")]),active:E.number(),inactive:E.number()}),Zpt=Nr(E.array(E.type({signature:E.string(),slot:E.number(),err:TA,memo:E.nullable(E.string()),blockTime:E.optional(E.nullable(E.number()))}))),Jpt=Nr(E.array(E.type({signature:E.string(),slot:E.number(),err:TA,memo:E.nullable(E.string()),blockTime:E.optional(E.nullable(E.number()))}))),Qpt=E.type({subscription:E.number(),result:oq(lR)}),eht=E.type({pubkey:os,account:lR}),tht=E.type({subscription:E.number(),result:oq(eht)}),rht=E.type({parent:E.number(),slot:E.number(),root:E.number()}),nht=E.type({subscription:E.number(),result:rht}),iht=E.union([E.type({type:E.union([E.literal("firstShredReceived"),E.literal("completed"),E.literal("optimisticConfirmation"),E.literal("root")]),slot:E.number(),timestamp:E.number()}),E.type({type:E.literal("createdBank"),parent:E.number(),slot:E.number(),timestamp:E.number()}),E.type({type:E.literal("frozen"),slot:E.number(),timestamp:E.number(),stats:E.type({numTransactionEntries:E.number(),numSuccessfulTransactions:E.number(),numFailedTransactions:E.number(),maxTransactionsPerEntry:E.number()})}),E.type({type:E.literal("dead"),slot:E.number(),timestamp:E.number(),err:E.string()})]),oht=E.type({subscription:E.number(),result:iht}),sht=E.type({subscription:E.number(),result:oq(E.union([Ppt,Opt]))}),aht=E.type({subscription:E.number(),result:E.number()}),cht=E.type({pubkey:E.string(),gossip:E.nullable(E.string()),tpu:E.nullable(E.string()),rpc:E.nullable(E.string()),version:E.nullable(E.string())}),SAe=E.type({votePubkey:E.string(),nodePubkey:E.string(),activatedStake:E.number(),epochVoteAccount:E.boolean(),epochCredits:E.array(E.tuple([E.number(),E.number(),E.number()])),commission:E.number(),lastVote:E.number(),rootSlot:E.nullable(E.number())}),uht=Nr(E.type({current:E.array(SAe),delinquent:E.array(SAe)})),lht=E.union([E.literal("processed"),E.literal("confirmed"),E.literal("finalized")]),dht=E.type({slot:E.number(),confirmations:E.nullable(E.number()),err:TA,confirmationStatus:E.optional(lht)}),fht=is(E.array(E.nullable(dht))),pht=Nr(E.number()),zAe=E.type({accountKey:os,writableIndexes:E.array(E.number()),readonlyIndexes:E.array(E.number())}),yJ=E.type({signatures:E.array(E.string()),message:E.type({accountKeys:E.array(E.string()),header:E.type({numRequiredSignatures:E.number(),numReadonlySignedAccounts:E.number(),numReadonlyUnsignedAccounts:E.number()}),instructions:E.array(E.type({accounts:E.array(E.number()),data:E.string(),programIdIndex:E.number()})),recentBlockhash:E.string(),addressTableLookups:E.optional(E.array(zAe))})}),FAe=E.type({pubkey:os,signer:E.boolean(),writable:E.boolean(),source:E.optional(E.union([E.literal("transaction"),E.literal("lookupTable")]))}),qAe=E.type({accountKeys:E.array(FAe),signatures:E.array(E.string())}),jAe=E.type({parsed:E.unknown(),program:E.string(),programId:os}),KAe=E.type({accounts:E.array(os),data:E.string(),programId:os}),hht=E.union([KAe,jAe]),mht=E.union([E.type({parsed:E.unknown(),program:E.string(),programId:E.string()}),E.type({accounts:E.array(E.string()),data:E.string(),programId:E.string()})]),WAe=E.coerce(hht,mht,t=>"accounts"in t?E.create(t,KAe):E.create(t,jAe)),VAe=E.type({signatures:E.array(E.string()),message:E.type({accountKeys:E.array(FAe),instructions:E.array(WAe),recentBlockhash:E.string(),addressTableLookups:E.optional(E.nullable(E.array(zAe)))})}),Z3=E.type({accountIndex:E.number(),mint:E.string(),owner:E.optional(E.string()),uiTokenAmount:rJ}),GAe=E.type({writable:E.array(os),readonly:E.array(os)}),sq=E.type({err:TA,fee:E.number(),innerInstructions:E.optional(E.nullable(E.array(E.type({index:E.number(),instructions:E.array(E.type({accounts:E.array(E.number()),data:E.string(),programIdIndex:E.number()}))})))),preBalances:E.array(E.number()),postBalances:E.array(E.number()),logMessages:E.optional(E.nullable(E.array(E.string()))),preTokenBalances:E.optional(E.nullable(E.array(Z3))),postTokenBalances:E.optional(E.nullable(E.array(Z3))),loadedAddresses:E.optional(GAe),computeUnitsConsumed:E.optional(E.number())}),gJ=E.type({err:TA,fee:E.number(),innerInstructions:E.optional(E.nullable(E.array(E.type({index:E.number(),instructions:E.array(WAe)})))),preBalances:E.array(E.number()),postBalances:E.array(E.number()),logMessages:E.optional(E.nullable(E.array(E.string()))),preTokenBalances:E.optional(E.nullable(E.array(Z3))),postTokenBalances:E.optional(E.nullable(E.array(Z3))),loadedAddresses:E.optional(GAe),computeUnitsConsumed:E.optional(E.number())}),JT=E.union([E.literal(0),E.literal("legacy")]),kA=E.type({pubkey:E.string(),lamports:E.number(),postBalance:E.nullable(E.number()),rewardType:E.nullable(E.string()),commission:E.optional(E.nullable(E.number()))}),yht=Nr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),transactions:E.array(E.type({transaction:yJ,meta:E.nullable(sq),version:E.optional(JT)})),rewards:E.optional(E.array(kA)),blockTime:E.nullable(E.number()),blockHeight:E.nullable(E.number())}))),ght=Nr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),rewards:E.optional(E.array(kA)),blockTime:E.nullable(E.number()),blockHeight:E.nullable(E.number())}))),bht=Nr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),transactions:E.array(E.type({transaction:qAe,meta:E.nullable(sq),version:E.optional(JT)})),rewards:E.optional(E.array(kA)),blockTime:E.nullable(E.number()),blockHeight:E.nullable(E.number())}))),_ht=Nr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),transactions:E.array(E.type({transaction:VAe,meta:E.nullable(gJ),version:E.optional(JT)})),rewards:E.optional(E.array(kA)),blockTime:E.nullable(E.number()),blockHeight:E.nullable(E.number())}))),Sht=Nr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),transactions:E.array(E.type({transaction:qAe,meta:E.nullable(gJ),version:E.optional(JT)})),rewards:E.optional(E.array(kA)),blockTime:E.nullable(E.number()),blockHeight:E.nullable(E.number())}))),wht=Nr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),rewards:E.optional(E.array(kA)),blockTime:E.nullable(E.number()),blockHeight:E.nullable(E.number())}))),Aht=Nr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),transactions:E.array(E.type({transaction:yJ,meta:E.nullable(sq)})),rewards:E.optional(E.array(kA)),blockTime:E.nullable(E.number())}))),wAe=Nr(E.nullable(E.type({blockhash:E.string(),previousBlockhash:E.string(),parentSlot:E.number(),signatures:E.array(E.string()),blockTime:E.nullable(E.number())}))),KZ=Nr(E.nullable(E.type({slot:E.number(),meta:sq,blockTime:E.optional(E.nullable(E.number())),transaction:yJ,version:E.optional(JT)}))),K3=Nr(E.nullable(E.type({slot:E.number(),transaction:VAe,meta:E.nullable(gJ),blockTime:E.optional(E.nullable(E.number())),version:E.optional(JT)}))),Eht=is(E.type({blockhash:E.string(),feeCalculator:E.type({lamportsPerSignature:E.number()})})),Iht=is(E.type({blockhash:E.string(),lastValidBlockHeight:E.number()})),Tht=E.type({slot:E.number(),numTransactions:E.number(),numSlots:E.number(),samplePeriodSecs:E.number()}),kht=Nr(E.array(Tht)),vht=is(E.nullable(E.type({feeCalculator:E.type({lamportsPerSignature:E.number()})}))),xht=Nr(E.string()),Pht=Nr(E.string()),Oht=E.type({err:TA,logs:E.array(E.string()),signature:E.string()}),Rht=E.type({result:oq(Oht),subscription:E.number()}),Cht={"solana-client":"js/0.0.0-development"},oJ=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let d={};return async f=>{let{commitment:p,config:m}=fo(f),y=this._buildArgs([],p,void 0,m),g=gAe(y);return d[g]=d[g]??(async()=>{try{let b=await this._rpcRequest("getBlockHeight",y),S=E.create(b,Nr(E.number()));if("error"in S)throw new Tt(S.error,"failed to get block height information");return S.result}finally{delete d[g]}})(),await d[g]}})();let n,i,o,s,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,o=r.fetch,s=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=wpt(e),this._rpcWsEndpoint=n||Spt(e),this._rpcClient=Bpt(e,i,o,s,a,c),this._rpcRequest=Mpt(this._rpcClient),this._rpcBatchRequest=Npt(this._rpcClient),this._rpcWebSocket=new tJ(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgs([e.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),a=E.create(s,is(E.number()));if("error"in a)throw new Tt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=E.create(r,Nr(E.nullable(E.number())));if("error"in n)throw new Tt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=E.create(e,Nr(E.number()));if("error"in r)throw new Tt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=E.create(e,qpt);if("error"in r)throw new Tt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=E.create(n,jpt);if("error"in i)throw new Tt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),o=E.create(i,is(rJ));if("error"in o)throw new Tt(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),o=E.create(i,is(rJ));if("error"in o)throw new Tt(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:o}=fo(n),s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),d=E.create(c,Wpt);if("error"in d)throw new Tt(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=E.create(s,Vpt);if("error"in a)throw new Tt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),o=E.create(i,Gpt);if("error"in o)throw new Tt(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),o=E.create(i,Kpt);if("error"in o)throw new Tt(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgs([e.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=E.create(s,is(E.nullable(lR)));if("error"in a)throw new Tt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=E.create(s,is(E.nullable(iJ)));if("error"in a)throw new Tt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=fo(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=E.create(a,is(E.array(E.nullable(iJ))));if("error"in c)throw new Tt(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=fo(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=E.create(a,is(E.array(E.nullable(lR))));if("error"in c)throw new Tt(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:o}=fo(r),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),a=await this._rpcRequest("getStakeActivation",s),c=E.create(a,Nr(Xpt));if("error"in c)throw new Tt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=fo(r),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],n,o||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),d=E.create(c,Nr(E.array(Hpt)));if("error"in d)throw new Tt(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=E.create(s,Nr(E.array(Ypt)));if("error"in a)throw new Tt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=ua.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return En(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,o=!1,s=new Promise((c,d)=>{try{n=this.onSignature(r,(p,m)=>{n=void 0;let y={context:m,value:p};c({__type:$e.TransactionStatus.PROCESSED,response:y})},e);let f=new Promise(p=>{n==null?p():i=this._onSubscriptionStateChange(n,m=>{m==="subscribed"&&p()})});(async()=>{if(await f,o)return;let p=await this.getSignatureStatus(r);if(o||p==null)return;let{context:m,value:y}=p;if(y!=null)if(y?.err)d(y.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(y.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(y.confirmationStatus==="processed"||y.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:$e.TransactionStatus.PROCESSED,response:{context:m,value:y}})}})()}catch(f){d(f)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let o=!1,s=new Promise(p=>{let m=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let y=await m();if(!o){for(;y<=n;)if(await wA(1e3),o||(y=await m(),o))return;p({__type:$e.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),d=this.getCancellationPromise(r),f;try{let p=await Promise.race([d,c,s]);if(p.__type===$e.TransactionStatus.PROCESSED)f=p.response;else throw new sR(i)}finally{o=!0,a()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1,c=new Promise(y=>{let g=o,b=null,S=async()=>{try{let{context:P,value:U}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return b=P.slot,U?.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(o!==g){y({__type:$e.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:b});return}if(await wA(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:d,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),p=this.getCancellationPromise(r),m;try{let y=await Promise.race([p,f,c]);if(y.__type===$e.TransactionStatus.PROCESSED)m=y.response;else{let g;for(;;){let b=await this.getSignatureStatus(s);if(b==null)break;if(b.context.slot<(y.slotInWhichNonceDidAdvance??n)){await wA(400);continue}g=b;break}if(g?.value){let b=e||"finalized",{confirmationStatus:S}=g.value;switch(b){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new f_(s);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new f_(s);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new f_(s);break;default:}m={context:g.context,value:{err:g.value.err}}}else throw new f_(s)}}finally{a=!0,d()}return m}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(c=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:$e.TransactionStatus.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),a;try{let c=await Promise.race([s,i]);if(c.__type===$e.TransactionStatus.PROCESSED)a=c.response;else throw new aR(r,c.timeoutMs/1e3)}finally{clearTimeout(n),o()}return a}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=E.create(e,Nr(E.array(cht)));if("error"in r)throw new Tt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=E.create(n,uht);if("error"in i)throw new Tt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=fo(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlot",i),s=E.create(o,Nr(E.number()));if("error"in s)throw new Tt(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:r,config:n}=fo(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=E.create(o,Nr(E.string()));if("error"in s)throw new Tt(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),o=E.create(i,Nr(E.array(os)));if("error"in o)throw new Tt(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);En(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),o=E.create(i,fht);if("error"in o)throw new Tt(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){let{commitment:r,config:n}=fo(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=E.create(o,Nr(E.number()));if("error"in s)throw new Tt(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=E.create(n,Dpt);if("error"in i)throw new Tt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:o}=fo(n),s=this._buildArgs([e.map(d=>d.toBase58())],i,void 0,{...o,epoch:r??o?.epoch}),a=await this._rpcRequest("getInflationReward",s),c=E.create(a,Ipt);if("error"in c)throw new Tt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=E.create(e,Upt);if("error"in r)throw new Tt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=fo(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=E.create(o,Lpt);if("error"in s)throw new Tt(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=E.create(e,zpt);if("error"in r)throw new Tt(r.error,"failed to get epoch schedule");let n=r.result;return new X3(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=E.create(e,Fpt);if("error"in r)throw new Tt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=E.create(i,pht);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=E.create(n,Eht);if("error"in i)throw new Tt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=E.create(r,kht);if("error"in n)throw new Tt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=E.create(i,vht);if("error"in o)throw new Tt(o.error,"failed to get fee calculator");let{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){let n=Tr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),o=await this._rpcRequest("getFeeForMessage",i),s=E.create(o,is(E.nullable(E.number())));if("error"in s)throw new Tt(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=fo(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=E.create(o,Iht);if("error"in s)throw new Tt(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=E.create(e,Nr(Rpt));if("error"in r)throw new Tt(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=E.create(e,Nr(E.string()));if("error"in r)throw new Tt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=E.create(s,bht);if("error"in a)throw a.error;return a.result}case"none":{let a=E.create(s,ght);if("error"in a)throw a.error;return a.result}default:{let a=E.create(s,yht);if("error"in a)throw a.error;let{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:d,meta:f,version:p})=>({meta:f,transaction:{...d,message:jZ(p,d.message)},version:p}))}:null}}}catch(a){throw new Tt(a,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=E.create(s,Sht);if("error"in a)throw a.error;return a.result}case"none":{let a=E.create(s,wht);if("error"in a)throw a.error;return a.result}default:{let a=E.create(s,_ht);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Tt(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:a,...c}=e;n=a,r=c}let i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getBlockProduction",i),s=E.create(o,Cpt);if("error"in s)throw new Tt(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getTransaction",o),a=E.create(s,KZ);if("error"in a)throw new Tt(a.error,"failed to get transaction");let c=a.result;return c&&{...c,transaction:{...c.transaction,message:jZ(c.version,c.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=fo(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=E.create(s,K3);if("error"in a)throw new Tt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=fo(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=E.create(c,K3);if("error"in d)throw new Tt(d.error,"failed to get transactions");return d.result})}async getTransactions(e,r){let{commitment:n,config:i}=fo(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=E.create(c,KZ);if("error"in d)throw new Tt(d.error,"failed to get transactions");let f=d.result;return f&&{...f,transaction:{...f.transaction,message:jZ(f.version,f.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),o=E.create(i,Aht);if("error"in o)throw new Tt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");let a={...s,transactions:s.transactions.map(({transaction:c,meta:d})=>{let f=new Mm(c.message);return{meta:d,transaction:{...c,message:f}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:d})=>({meta:d,transaction:ei.populate(c.message,c.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),o=await this._rpcRequest("getBlocks",i),s=E.create(o,Nr(E.array(E.number())));if("error"in s)throw new Tt(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=E.create(i,wAe);if("error"in o)throw new Tt(o.error,"failed to get block");let s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=E.create(i,wAe);if("error"in o)throw new Tt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),o=E.create(i,KZ);if("error"in o)throw new Tt(o.error,"failed to get transaction");let s=o.result;if(!s)return s;let a=new Mm(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:ei.populate(a,c)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=E.create(i,K3);if("error"in o)throw new Tt(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,r){let n=e.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let a=E.create(s,K3);if("error"in a)throw new Tt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<o));)try{let c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{let c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=E.create(o,Zpt);if("error"in s)throw new Tt(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getSignaturesForAddress",i),s=E.create(o,Jpt);if("error"in s)throw new Tt(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=new uR({key:e,state:uR.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=Y3.fromAccountData(i.data)),{context:n,value:o}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=E.create(n,xht);if("error"in i)throw new Tt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await wA(100);let n=Date.now()-this._blockhashInfo.lastFetch>=UAe;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await wA(ypt/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=fo(e),i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=E.create(o,is(E.number()));if("error"in s)throw new Tt(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){let b=e.serialize(),S=Ht.Buffer.from(b).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let P=r||{};P.encoding="base64","commitment"in P||(P.commitment=this.commitment);let U=[S,P],L=await this._rpcRequest("simulateTransaction",U),j=E.create(L,_Ae);if("error"in j)throw new Error("failed to simulate transaction: "+j.error.message);return j.result}let i;if(e instanceof ei){let g=e;i=new ei,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=ei.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(i.nonceInfo&&o)i.sign(...o);else{let g=this._disableBlockhashCaching;for(;;){let b=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=b.lastValidBlockHeight,i.recentBlockhash=b.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}let s=i._compile(),a=s.serialize(),d=i._serialize(a).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(n){let g=(Array.isArray(n)?n:s.nonProgramIds()).map(b=>b.toBase58());f.accounts={encoding:"base64",addresses:g}}o&&(f.sigVerify=!0);let p=[d,f],m=await this._rpcRequest("simulateTransaction",p),y=E.create(m,_Ae);if("error"in y){let g;if("data"in y.error&&(g=y.error.data.logs,g&&Array.isArray(g))){let b=`
    `,S=b+g.join(b);console.error(y.error.message,S)}throw new cR("failed to simulate transaction: "+y.error.message,g)}return y.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){let a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}let o=e.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(e,r){let n=Tr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,o=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let s=[e,n],a=await this._rpcRequest("sendTransaction",s),c=E.create(a,Pht);if("error"in c){let d;throw"data"in c.error&&(d=c.error.data.logs),new cR("failed to send transaction: "+c.error.message,d)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var n;let i=this._subscriptionHashByClientSubscriptionId[e];if(i==null)return()=>{};let o=(n=this._subscriptionStateChangeCallbacksByHash)[i]||(n[i]=new Set);return o.add(r),()=>{o.delete(r),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let a=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,o,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=E.create(e,Qpt);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=gAe([e.method,r]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[i];En(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=E.create(e,tht);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=E.create(e,Rht);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=E.create(e,nht);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=E.create(e,oht);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let o=r||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let o=r||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=E.create(e,sht);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){r(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,r,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(c,d)=>{r(c,d);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=E.create(e,aht);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},J3=class t{constructor(e){this._keypair=void 0,this._keypair=e??hAe()}static generate(){return new t(hAe())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=H3(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=H3(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new nt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},Xg=Object.freeze({CreateLookupTable:{index:0,layout:V.struct([V.u32("instruction"),$T("recentSlot"),V.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:V.struct([V.u32("instruction")])},ExtendLookupTable:{index:2,layout:V.struct([V.u32("instruction"),$T(),V.seq(Zr(),V.offset(V.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:V.struct([V.u32("instruction")])},CloseLookupTable:{index:4,layout:V.struct([V.u32("instruction")])}}),sJ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=V.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Xg))if(s.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=Vn(Xg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=Vn(Xg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new nt(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(dR.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},dR=class{constructor(){}static createLookupTable(e){let[r,n]=nt.findProgramAddressSync([e.authority.toBuffer(),HZ.toBufferLE(BigInt(e.recentSlot),8)],this.programId),i=Xg.CreateLookupTable,o=gn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Da.programId,isSigner:!1,isWritable:!1}];return[new ti({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=Xg.FreezeLookupTable,n=gn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ti({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=Xg.ExtendLookupTable,n=gn(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Da.programId,isSigner:!1,isWritable:!1}),new ti({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=Xg.DeactivateLookupTable,n=gn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ti({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=Xg.CloseLookupTable,n=gn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ti({programId:this.programId,keys:i,data:n})}};dR.programId=new nt("AddressLookupTab1e1111111111111111111111111");var aJ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=V.u8("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Bm))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=Vn(Bm.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=Vn(Bm.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=Vn(Bm.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=Vn(Bm.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(fR.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},Bm=Object.freeze({RequestUnits:{index:0,layout:V.struct([V.u8("instruction"),V.u32("units"),V.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:V.struct([V.u8("instruction"),V.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:V.struct([V.u8("instruction"),V.u32("units")])},SetComputeUnitPrice:{index:3,layout:V.struct([V.u8("instruction"),$T("microLamports")])}}),fR=class{constructor(){}static requestUnits(e){let r=Bm.RequestUnits,n=gn(r,e);return new ti({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=Bm.RequestHeapFrame,n=gn(r,e);return new ti({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=Bm.SetComputeUnitLimit,n=gn(r,e);return new ti({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=Bm.SetComputeUnitPrice,n=gn(r,{microLamports:BigInt(e.microLamports)});return new ti({keys:[],programId:this.programId,data:n})}};fR.programId=new nt("ComputeBudget111111111111111111111111111111");var AAe=64,EAe=32,IAe=64,TAe=V.struct([V.u8("numSignatures"),V.u8("padding"),V.u16("signatureOffset"),V.u16("signatureInstructionIndex"),V.u16("publicKeyOffset"),V.u16("publicKeyInstructionIndex"),V.u16("messageDataOffset"),V.u16("messageDataSize"),V.u16("messageInstructionIndex")]),Q3=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;En(r.length===EAe,`Public Key must be ${EAe} bytes but received ${r.length} bytes`),En(i.length===IAe,`Signature must be ${IAe} bytes but received ${i.length} bytes`);let s=TAe.span,a=s+r.length,c=a+i.length,d=1,f=Ht.Buffer.alloc(c+n.length),p=o??65535;return TAe.encode({numSignatures:d,padding:0,signatureOffset:a,signatureInstructionIndex:p,publicKeyOffset:s,publicKeyInstructionIndex:p,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:p},f),f.fill(r,s),f.fill(i,a),f.fill(n,c),new ti({keys:[],programId:t.programId,data:f})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;En(r.length===AAe,`Private key must be ${AAe} bytes but received ${r.length} bytes`);try{let o=J3.fromSecretKey(r),s=o.publicKey.toBytes(),a=pJ(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};Q3.programId=new nt("Ed25519SigVerify111111111111111111111111111");nq.utils.hmacSha256Sync=(t,...e)=>{let r=Uft.hmac.create(GZ.sha256,t);return e.forEach(n=>r.update(n)),r.digest()};var Bht=(t,e)=>nq.signSync(t,e,{der:!1,recovered:!0});nq.utils.isValidPrivateKey;var Mht=nq.getPublicKey,kAe=32,WZ=20,vAe=64,Nht=11,VZ=V.struct([V.u8("numSignatures"),V.u16("signatureOffset"),V.u8("signatureInstructionIndex"),V.u16("ethAddressOffset"),V.u8("ethAddressInstructionIndex"),V.u16("messageDataOffset"),V.u16("messageDataSize"),V.u8("messageInstructionIndex"),V.blob(20,"ethAddress"),V.blob(64,"signature"),V.u8("recoveryId")]),eq=class t{constructor(){}static publicKeyToEthAddress(e){En(e.length===vAe,`Public key must be ${vAe} bytes but received ${e.length} bytes`);try{return Ht.Buffer.from(fAe.keccak_256(Tr(e))).slice(-WZ)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,a;typeof r=="string"?r.startsWith("0x")?a=Ht.Buffer.from(r.substr(2),"hex"):a=Ht.Buffer.from(r,"hex"):a=r,En(a.length===WZ,`Address must be ${WZ} bytes but received ${a.length} bytes`);let c=1+Nht,d=c,f=c+a.length,p=f+i.length+1,m=1,y=Ht.Buffer.alloc(VZ.span+n.length);return VZ.encode({numSignatures:m,signatureOffset:f,signatureInstructionIndex:s,ethAddressOffset:d,ethAddressInstructionIndex:s,messageDataOffset:p,messageDataSize:n.length,messageInstructionIndex:s,signature:Tr(i),ethAddress:Tr(a),recoveryId:o},y),y.fill(Tr(n),VZ.span),new ti({keys:[],programId:t.programId,data:y})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;En(r.length===kAe,`Private key must be ${kAe} bytes but received ${r.length} bytes`);try{let o=Tr(r),s=Mht(o,!1).slice(1),a=Ht.Buffer.from(fAe.keccak_256(Tr(n))),[c,d]=Bht(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:d,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};eq.programId=new nt("KeccakSecp256k11111111111111111111111111111");var HAe=new nt("StakeConfig11111111111111111111111111111111"),tq=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},IA=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};IA.default=new IA(0,0,nt.default);var cJ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=V.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(qs))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=Vn(qs.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new tq(new nt(r.staker),new nt(r.withdrawer)),lockup:new IA(n.unixTimestamp,n.epoch,new nt(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Vn(qs.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=Vn(qs.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new nt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=Vn(qs.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new nt(o),newAuthorizedPubkey:new nt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Vn(qs.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Vn(qs.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Vn(qs.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Vn(qs.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(XT.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},qs=Object.freeze({Initialize:{index:0,layout:V.struct([V.u32("instruction"),Hft(),$ft()])},Authorize:{index:1,layout:V.struct([V.u32("instruction"),Zr("newAuthorized"),V.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:V.struct([V.u32("instruction")])},Split:{index:3,layout:V.struct([V.u32("instruction"),V.ns64("lamports")])},Withdraw:{index:4,layout:V.struct([V.u32("instruction"),V.ns64("lamports")])},Deactivate:{index:5,layout:V.struct([V.u32("instruction")])},Merge:{index:7,layout:V.struct([V.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:V.struct([V.u32("instruction"),Zr("newAuthorized"),V.u32("stakeAuthorizationType"),AA("authoritySeed"),Zr("authorityOwner")])}}),Dht=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),XT=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||IA.default,s=qs.Initialize,a=gn(s,{authorized:{staker:Tr(n.staker.toBuffer()),withdrawer:Tr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Tr(o.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:HT,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ti(c)}static createAccountWithSeed(e){let r=new ei;r.add(Da.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new ei;r.add(Da.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=qs.Delegate,s=gn(o);return new ei().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Cm,isSigner:!1,isWritable:!1},{pubkey:V3,isSigner:!1,isWritable:!1},{pubkey:HAe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=qs.Authorize,c=gn(a,{newAuthorized:Tr(i.toBuffer()),stakeAuthorizationType:o.index}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Cm,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new ei().add({keys:d,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,d=qs.AuthorizeWithSeed,f=gn(d,{newAuthorized:Tr(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Tr(o.toBuffer())}),p=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Cm,isSigner:!1,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!1,isWritable:!1}),new ei().add({keys:p,programId:this.programId,data:f})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=qs.Split,a=gn(s,{lamports:o});return new ti({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){let r=new ei;return r.add(Da.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,c=new ei;return c.add(Da.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=qs.Merge,s=gn(o);return new ei().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Cm,isSigner:!1,isWritable:!1},{pubkey:V3,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=qs.Withdraw,c=gn(a,{lamports:o}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Cm,isSigner:!1,isWritable:!1},{pubkey:V3,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new ei().add({keys:d,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=qs.Deactivate,o=gn(i);return new ei().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Cm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};XT.programId=new nt("Stake11111111111111111111111111111111111111");XT.space=200;var rq=class{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},uJ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=V.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Zg))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=Vn(Zg.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new rq(new nt(r.nodePubkey),new nt(r.authorizedVoter),new nt(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=Vn(Zg.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new nt(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=Vn(Zg.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new nt(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new nt(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Vn(Zg.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(ZT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Zg=Object.freeze({InitializeAccount:{index:0,layout:V.struct([V.u32("instruction"),Yft()])},Authorize:{index:1,layout:V.struct([V.u32("instruction"),Zr("newAuthorized"),V.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:V.struct([V.u32("instruction"),V.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:V.struct([V.u32("instruction"),Xft()])}}),Uht=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),ZT=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=Zg.InitializeAccount,s=gn(o,{voteInit:{nodePubkey:Tr(i.nodePubkey.toBuffer()),authorizedVoter:Tr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Tr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:HT,isSigner:!1,isWritable:!1},{pubkey:Cm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new ti(a)}static createAccount(e){let r=new ei;return r.add(Da.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=Zg.Authorize,a=gn(s,{newAuthorized:Tr(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Cm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new ei().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,c=Zg.AuthorizeWithSeed,d=gn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Tr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Tr(o.toBuffer()),voteAuthorizationType:s.index}}),f=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Cm,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new ei().add({keys:f,programId:this.programId,data:d})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=Zg.Withdraw,a=gn(s,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new ei().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}};ZT.programId=new nt("Vote111111111111111111111111111111111111111");ZT.space=3731;var $Ae=new nt("Va1idator1nfo111111111111111111111111111111"),Lht=E.type({name:E.string(),website:E.optional(E.string()),details:E.optional(E.string()),keybaseUsername:E.optional(E.string())}),lJ=class t{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(Tl(r)!==2)return null;let i=[];for(let o=0;o<2;o++){let s=new nt(r.slice(0,Md));r=r.slice(Md);let a=r.slice(0,1)[0]===1;r=r.slice(1),i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals($Ae)&&i[1].isSigner){let o=AA().decode(Ht.Buffer.from(r)),s=JSON.parse(o);return E.assert(s,Lht),new t(i[1].publicKey,s)}return null}},zht=new nt("Vote111111111111111111111111111111111111111"),Fht=V.struct([Zr("nodePubkey"),Zr("authorizedWithdrawer"),V.u8("commission"),V.nu64(),V.seq(V.struct([V.nu64("slot"),V.u32("confirmationCount")]),V.offset(V.u32(),-8),"votes"),V.u8("rootSlotValid"),V.nu64("rootSlot"),V.nu64(),V.seq(V.struct([V.nu64("epoch"),Zr("authorizedVoter")]),V.offset(V.u32(),-8),"authorizedVoters"),V.struct([V.seq(V.struct([Zr("authorizedPubkey"),V.nu64("epochOfLastAuthorizedSwitch"),V.nu64("targetEpoch")]),32,"buf"),V.nu64("idx"),V.u8("isEmpty")],"priorVoters"),V.nu64(),V.seq(V.struct([V.nu64("epoch"),V.nu64("credits"),V.nu64("prevCredits")]),V.offset(V.u32(),-8),"epochCredits"),V.struct([V.nu64("slot"),V.nu64("timestamp")],"lastTimestamp")]),dJ=class t{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=Fht.decode(Tr(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new nt(n.nodePubkey),authorizedWithdrawer:new nt(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(qht),priorVoters:jht(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function qht({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new nt(t)}}function xAe({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new nt(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function jht({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(xAe),...t.slice(0,e).map(xAe)]}var PAe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Kht(t,e){let r=e===!1?"http":"https";if(!t)return PAe[r].devnet;let n=PAe[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function Wht(t,e,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;let s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),c=o&&o.commitment,f=(await(i?t.confirmTransaction(i,c):t.confirmTransaction(a,c))).value;if(f.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(f)})`);return a}var Vht=1e9;$e.Account=YZ;$e.AddressLookupTableAccount=uR;$e.AddressLookupTableInstruction=sJ;$e.AddressLookupTableProgram=dR;$e.Authorized=tq;$e.BLOCKHASH_CACHE_TIMEOUT_MS=UAe;$e.BPF_LOADER_DEPRECATED_PROGRAM_ID=Vft;$e.BPF_LOADER_PROGRAM_ID=spt;$e.BpfLoader=eJ;$e.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Bm;$e.ComputeBudgetInstruction=aJ;$e.ComputeBudgetProgram=fR;$e.Connection=oJ;$e.Ed25519Program=Q3;$e.Enum=$Z;$e.EpochSchedule=X3;$e.FeeCalculatorLayout=MAe;$e.Keypair=J3;$e.LAMPORTS_PER_SOL=Vht;$e.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Xg;$e.Loader=YT;$e.Lockup=IA;$e.MAX_SEED_LENGTH=CAe;$e.Message=Mm;$e.MessageAccountKeys=EA;$e.MessageV0=GT;$e.NONCE_ACCOUNT_LENGTH=JZ;$e.NonceAccount=Y3;$e.PACKET_DATA_SIZE=p_;$e.PUBLIC_KEY_LENGTH=Md;$e.PublicKey=nt;$e.SIGNATURE_LENGTH_IN_BYTES=VT;$e.SOLANA_SCHEMA=iR;$e.STAKE_CONFIG_ID=HAe;$e.STAKE_INSTRUCTION_LAYOUTS=qs;$e.SYSTEM_INSTRUCTION_LAYOUTS=xi;$e.SYSVAR_CLOCK_PUBKEY=Cm;$e.SYSVAR_EPOCH_SCHEDULE_PUBKEY=Jft;$e.SYSVAR_INSTRUCTIONS_PUBKEY=Qft;$e.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=W3;$e.SYSVAR_RENT_PUBKEY=HT;$e.SYSVAR_REWARDS_PUBKEY=ept;$e.SYSVAR_SLOT_HASHES_PUBKEY=tpt;$e.SYSVAR_SLOT_HISTORY_PUBKEY=rpt;$e.SYSVAR_STAKE_HISTORY_PUBKEY=V3;$e.Secp256k1Program=eq;$e.SendTransactionError=cR;$e.SolanaJSONRPCError=Tt;$e.SolanaJSONRPCErrorCode=dpt;$e.StakeAuthorizationLayout=Dht;$e.StakeInstruction=cJ;$e.StakeProgram=XT;$e.Struct=oR;$e.SystemInstruction=QZ;$e.SystemProgram=Da;$e.Transaction=ei;$e.TransactionExpiredBlockheightExceededError=sR;$e.TransactionExpiredNonceInvalidError=f_;$e.TransactionExpiredTimeoutError=aR;$e.TransactionInstruction=ti;$e.TransactionMessage=XZ;$e.VALIDATOR_INFO_KEY=$Ae;$e.VERSION_PREFIX_MASK=iq;$e.VOTE_PROGRAM_ID=zht;$e.ValidatorInfo=lJ;$e.VersionedMessage=hJ;$e.VersionedTransaction=ZZ;$e.VoteAccount=dJ;$e.VoteAuthorizationLayout=Uht;$e.VoteInit=rq;$e.VoteInstruction=uJ;$e.VoteProgram=ZT;$e.clusterApiUrl=Kht;$e.sendAndConfirmRawTransaction=Wht;$e.sendAndConfirmTransaction=G3});var _J=_(QT=>{"use strict";u();l();Object.defineProperty(QT,"__esModule",{value:!0});QT.keysTypeMap=QT.publicKey=void 0;var Ght=YAe(),Hht=pe(),$ht="@metaplex-foundation/beet-solana",Yht="@solana/web3.js",bJ=(0,Hht.fixedSizeUint8Array)(32);QT.publicKey={write:function(t,e,r){let n=r.toBytes();bJ.write(t,e,n)},read:function(t,e){let r=bJ.read(t,e);return new Ght.PublicKey(r)},byteSize:bJ.byteSize,description:"PublicKey"};QT.keysTypeMap={publicKey:{beet:"publicKey",isFixable:!1,sourcePack:$ht,ts:"PublicKey",pack:Yht}}});var XAe=_(Uf=>{"use strict";u();l();var Xht=Uf&&Uf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.logTrace=Uf.logDebug=Uf.logInfo=Uf.logError=void 0;var aq=Xht(LX());Uf.logError=(0,aq.default)("beet:error");Uf.logInfo=(0,aq.default)("beet:info");Uf.logDebug=(0,aq.default)("beet:debug");Uf.logTrace=(0,aq.default)("beet:trace")});var JAe=_((mOr,ZAe)=>{"use strict";u();l();function Zht(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),d=Math.log(256)/Math.log(s);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var g=0,b=0,S=0,P=y.length;S!==P&&y[S]===0;)S++,g++;for(var U=(P-S)*d+1>>>0,L=new Uint8Array(U);S!==P;){for(var j=y[S],Z=0,se=U-1;(j!==0||Z<b)&&se!==-1;se--,Z++)j+=256*L[se]>>>0,L[se]=j%s>>>0,j=j/s>>>0;if(j!==0)throw new Error("Non-zero carry");b=Z,S++}for(var Ee=U-b;Ee!==U&&L[Ee]===0;)Ee++;for(var be=a.repeat(g);Ee<U;++Ee)be+=t.charAt(L[Ee]);return be}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;for(var g=0,b=0,S=0;y[g]===a;)b++,g++;for(var P=(y.length-g)*c+1>>>0,U=new Uint8Array(P);y[g];){var L=e[y.charCodeAt(g)];if(L===255)return;for(var j=0,Z=P-1;(L!==0||j<S)&&Z!==-1;Z--,j++)L+=s*U[Z]>>>0,U[Z]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");S=j,g++}for(var se=P-S;se!==P&&U[se]===0;)se++;for(var Ee=new Uint8Array(b+(P-se)),be=b;se!==P;)Ee[be++]=U[se++];return Ee}function m(y){var g=p(y);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:p,decode:m}}ZAe.exports=Zht});var eEe=_((bOr,QAe)=>{u();l();var Jht=JAe(),Qht="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";QAe.exports=Jht(Qht)});var tEe=_(e1=>{"use strict";u();l();var emt=e1&&e1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e1,"__esModule",{value:!0});e1.encodeFixedBeet=void 0;var tmt=emt(eEe());function rmt(t,e){let r=Buffer.alloc(t.byteSize);return t.write(r,0,e),tmt.default.encode(r)}e1.encodeFixedBeet=rmt});var nEe=_(cq=>{"use strict";u();l();Object.defineProperty(cq,"__esModule",{value:!0});cq.GpaBuilder=void 0;var SJ=pe(),hR=zp(),nmt=XAe(),rEe=tEe(),wJ=class t{constructor(e,r,n){this.programId=e,this.beets=r,this.accountSize=n,this.config={}}_addFilter(e){return this.config.filters==null&&(this.config.filters=[]),this.config.filters.push(e),this}_addInnerFilter(e,r,n){(0,nmt.logTrace)(`gpa.addInnerFilter: ${e}.${r}`);let i=this.beets.get(e);(0,hR.strict)(i!=null,"Outer filter key needs to be an existing field name");let o=i.beet,s=i.offset,a=(0,SJ.isFixedSizeBeet)(o)?o:o.toFixedFromValue(n),c;for(let[f,p]of a.fields){if(f===r){c=p;break}s+=p.byteSize}(0,hR.strict)(c!=null,`${r} is not a field of the ${e} struct`);let d=(0,rEe.encodeFixedBeet)(c,n);return this._addFilter({memcmp:{offset:s,bytes:d}}),this}addInnerFilter(e,r){let n=e.split(".");hR.strict.equal(n.length,2,"inner filters can go only one level deep, i.e. 'outer.inner' is ok, but 'outer.inner.deep' is not");let[i,o]=n;return this._addInnerFilter(i,o,r)}addFilter(e,r){let n=this.beets.get(e);(0,hR.strict)(n!=null,"Filter key needs to be an existing field name");let i=(0,SJ.isFixedSizeBeet)(n.beet)?n.beet:n.beet.toFixedFromValue(r),o=(0,rEe.encodeFixedBeet)(i,r);return this._addFilter({memcmp:{offset:n.offset,bytes:o}}),this}dataSize(e){return e=e??this.accountSize,(0,hR.strict)(e!=null,"for accounts of dynamic size the dataSize arg needs to be provided"),this._addFilter({dataSize:e})}run(e){return e.getProgramAccounts(this.programId,this.config)}static fromBeetFields(e,r){let n=new Map,i=0,o=!1;for(let[a,c]of r){if(n.set(a,{beet:c,offset:i}),!(0,SJ.isFixedSizeBeet)(c)){o=!0;break}i+=c.byteSize}let s=o?void 0:i;return new t(e,n,s)}static fromStruct(e,r){return t.fromBeetFields(e,r.fields)}};cq.GpaBuilder=wJ});var Jr=_(Nm=>{"use strict";u();l();var imt=Nm&&Nm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iEe=Nm&&Nm.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&imt(e,t,r)};Object.defineProperty(Nm,"__esModule",{value:!0});Nm.supportedTypeMap=void 0;var omt=_J();iEe(_J(),Nm);iEe(nEe(),Nm);Nm.supportedTypeMap=omt.keysTypeMap});var IJ=_(ks=>{"use strict";u();l();var smt=ks&&ks.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),amt=ks&&ks.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),EJ=ks&&ks.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&smt(e,t,r);return amt(e,t),e};Object.defineProperty(ks,"__esModule",{value:!0});ks.treeConfigBeet=ks.TreeConfig=ks.treeConfigDiscriminator=void 0;var cmt=EJ(So()),t1=EJ(pe()),AJ=EJ(Jr());ks.treeConfigDiscriminator=[122,245,175,248,171,34,0,207];var uq=class t{constructor(e,r,n,i,o){this.treeCreator=e,this.treeDelegate=r,this.totalMintCapacity=n,this.numMinted=i,this.isPublic=o}static fromArgs(e){return new t(e.treeCreator,e.treeDelegate,e.totalMintCapacity,e.numMinted,e.isPublic)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find TreeConfig account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new cmt.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){return AJ.GpaBuilder.fromStruct(e,ks.treeConfigBeet)}static deserialize(e,r=0){return ks.treeConfigBeet.deserialize(e,r)}serialize(){return ks.treeConfigBeet.serialize({accountDiscriminator:ks.treeConfigDiscriminator,...this})}static get byteSize(){return ks.treeConfigBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(t.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===t.byteSize}pretty(){return{treeCreator:this.treeCreator.toBase58(),treeDelegate:this.treeDelegate.toBase58(),totalMintCapacity:(()=>{let e=this.totalMintCapacity;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),numMinted:(()=>{let e=this.numMinted;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),isPublic:this.isPublic}}};ks.TreeConfig=uq;ks.treeConfigBeet=new t1.BeetStruct([["accountDiscriminator",t1.uniformFixedSizeArray(t1.u8,8)],["treeCreator",AJ.publicKey],["treeDelegate",AJ.publicKey],["totalMintCapacity",t1.u64],["numMinted",t1.u64],["isPublic",t1.bool]],uq.fromArgs,"TreeConfig")});var kJ=_(Lf=>{"use strict";u();l();var umt=Lf&&Lf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lmt=Lf&&Lf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oEe=Lf&&Lf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&umt(e,t,r);return lmt(e,t),e};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.leafSchemaBeet=Lf.isLeafSchemaV1=void 0;var vA=oEe(pe()),TJ=oEe(Jr()),dmt=t=>t.__kind==="V1";Lf.isLeafSchemaV1=dmt;Lf.leafSchemaBeet=vA.dataEnum([["V1",new vA.BeetArgsStruct([["id",TJ.publicKey],["owner",TJ.publicKey],["delegate",TJ.publicKey],["nonce",vA.u64],["dataHash",vA.uniformFixedSizeArray(vA.u8,32)],["creatorHash",vA.uniformFixedSizeArray(vA.u8,32)]],'LeafSchemaRecord["V1"]')]])});var xJ=_(ss=>{"use strict";u();l();var fmt=ss&&ss.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pmt=ss&&ss.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vJ=ss&&ss.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fmt(e,t,r);return pmt(e,t),e};Object.defineProperty(ss,"__esModule",{value:!0});ss.voucherBeet=ss.Voucher=ss.voucherDiscriminator=void 0;var hmt=vJ(So()),lq=vJ(pe()),sEe=vJ(Jr()),mmt=kJ();ss.voucherDiscriminator=[191,204,149,234,213,165,13,65];var dq=class t{constructor(e,r,n){this.leafSchema=e,this.index=r,this.merkleTree=n}static fromArgs(e){return new t(e.leafSchema,e.index,e.merkleTree)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find Voucher account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new hmt.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){return sEe.GpaBuilder.fromStruct(e,ss.voucherBeet)}static deserialize(e,r=0){return ss.voucherBeet.deserialize(e,r)}serialize(){return ss.voucherBeet.serialize({accountDiscriminator:ss.voucherDiscriminator,...this})}static byteSize(e){let r=t.fromArgs(e);return ss.voucherBeet.toFixedFromValue({accountDiscriminator:ss.voucherDiscriminator,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{leafSchema:this.leafSchema.__kind,index:this.index,merkleTree:this.merkleTree.toBase58()}}};ss.Voucher=dq;ss.voucherBeet=new lq.FixableBeetStruct([["accountDiscriminator",lq.uniformFixedSizeArray(lq.u8,8)],["leafSchema",mmt.leafSchemaBeet],["index",lq.u32],["merkleTree",sEe.publicKey]],dq.fromArgs,"Voucher")});var cEe=_(Dm=>{"use strict";u();l();var ymt=Dm&&Dm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aEe=Dm&&Dm.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ymt(e,t,r)};Object.defineProperty(Dm,"__esModule",{value:!0});Dm.accountProviders=void 0;aEe(IJ(),Dm);aEe(xJ(),Dm);var gmt=IJ(),bmt=xJ();Dm.accountProviders={TreeConfig:gmt.TreeConfig,Voucher:bmt.Voucher}});var uEe=_(kt=>{"use strict";u();l();Object.defineProperty(kt,"__esModule",{value:!0});kt.errorFromName=kt.errorFromCode=kt.CollectionMustBeSizedError=kt.LeafAuthorityMustSignError=kt.UpdateAuthorityIncorrectError=kt.AlreadyUnverifiedError=kt.AlreadyVerifiedError=kt.CollectionNotFoundError=kt.CollectionCannotBeVerifiedInThisInstructionError=kt.IncorrectOwnerError=kt.NumericalOverflowErrorError=kt.InsufficientMintCapacityError=kt.TreeAuthorityIncorrectError=kt.MetadataBasisPointsTooHighError=kt.MetadataUriTooLongError=kt.MetadataSymbolTooLongError=kt.MetadataNameTooLongError=kt.CreatorsTooLongError=kt.DataHashMismatchError=kt.CreatorHashMismatchError=kt.NoCreatorsPresentError=kt.CreatorNotFoundError=kt.CreatorDidNotVerifyError=kt.DuplicateCreatorAddressError=kt.CreatorShareTotalMustBe100Error=kt.UnsupportedSchemaVersionError=kt.HashingMismatchError=kt.PublicKeyMismatchError=kt.AssetOwnerMismatchError=void 0;var ui=new Map,li=new Map,mR=class t extends Error{constructor(){super("Asset Owner Does not match"),this.code=6e3,this.name="AssetOwnerMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.AssetOwnerMismatchError=mR;ui.set(6e3,()=>new mR);li.set("AssetOwnerMismatch",()=>new mR);var yR=class t extends Error{constructor(){super("PublicKeyMismatch"),this.code=6001,this.name="PublicKeyMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.PublicKeyMismatchError=yR;ui.set(6001,()=>new yR);li.set("PublicKeyMismatch",()=>new yR);var gR=class t extends Error{constructor(){super("Hashing Mismatch Within Leaf Schema"),this.code=6002,this.name="HashingMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.HashingMismatchError=gR;ui.set(6002,()=>new gR);li.set("HashingMismatch",()=>new gR);var bR=class t extends Error{constructor(){super("Unsupported Schema Version"),this.code=6003,this.name="UnsupportedSchemaVersion",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.UnsupportedSchemaVersionError=bR;ui.set(6003,()=>new bR);li.set("UnsupportedSchemaVersion",()=>new bR);var _R=class t extends Error{constructor(){super("Creator shares must sum to 100"),this.code=6004,this.name="CreatorShareTotalMustBe100",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.CreatorShareTotalMustBe100Error=_R;ui.set(6004,()=>new _R);li.set("CreatorShareTotalMustBe100",()=>new _R);var SR=class t extends Error{constructor(){super("No duplicate creator addresses in metadata"),this.code=6005,this.name="DuplicateCreatorAddress",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.DuplicateCreatorAddressError=SR;ui.set(6005,()=>new SR);li.set("DuplicateCreatorAddress",()=>new SR);var wR=class t extends Error{constructor(){super("Creator did not verify the metadata"),this.code=6006,this.name="CreatorDidNotVerify",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.CreatorDidNotVerifyError=wR;ui.set(6006,()=>new wR);li.set("CreatorDidNotVerify",()=>new wR);var AR=class t extends Error{constructor(){super("Creator not found in creator Vec"),this.code=6007,this.name="CreatorNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.CreatorNotFoundError=AR;ui.set(6007,()=>new AR);li.set("CreatorNotFound",()=>new AR);var ER=class t extends Error{constructor(){super("No creators in creator Vec"),this.code=6008,this.name="NoCreatorsPresent",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.NoCreatorsPresentError=ER;ui.set(6008,()=>new ER);li.set("NoCreatorsPresent",()=>new ER);var IR=class t extends Error{constructor(){super("User-provided creator Vec must result in same user-provided creator hash"),this.code=6009,this.name="CreatorHashMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.CreatorHashMismatchError=IR;ui.set(6009,()=>new IR);li.set("CreatorHashMismatch",()=>new IR);var TR=class t extends Error{constructor(){super("User-provided metadata must result in same user-provided data hash"),this.code=6010,this.name="DataHashMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.DataHashMismatchError=TR;ui.set(6010,()=>new TR);li.set("DataHashMismatch",()=>new TR);var kR=class t extends Error{constructor(){super("Creators list too long"),this.code=6011,this.name="CreatorsTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.CreatorsTooLongError=kR;ui.set(6011,()=>new kR);li.set("CreatorsTooLong",()=>new kR);var vR=class t extends Error{constructor(){super("Name in metadata is too long"),this.code=6012,this.name="MetadataNameTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.MetadataNameTooLongError=vR;ui.set(6012,()=>new vR);li.set("MetadataNameTooLong",()=>new vR);var xR=class t extends Error{constructor(){super("Symbol in metadata is too long"),this.code=6013,this.name="MetadataSymbolTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.MetadataSymbolTooLongError=xR;ui.set(6013,()=>new xR);li.set("MetadataSymbolTooLong",()=>new xR);var PR=class t extends Error{constructor(){super("Uri in metadata is too long"),this.code=6014,this.name="MetadataUriTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.MetadataUriTooLongError=PR;ui.set(6014,()=>new PR);li.set("MetadataUriTooLong",()=>new PR);var OR=class t extends Error{constructor(){super("Basis points in metadata cannot exceed 10000"),this.code=6015,this.name="MetadataBasisPointsTooHigh",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.MetadataBasisPointsTooHighError=OR;ui.set(6015,()=>new OR);li.set("MetadataBasisPointsTooHigh",()=>new OR);var RR=class t extends Error{constructor(){super("Tree creator or tree delegate must sign."),this.code=6016,this.name="TreeAuthorityIncorrect",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.TreeAuthorityIncorrectError=RR;ui.set(6016,()=>new RR);li.set("TreeAuthorityIncorrect",()=>new RR);var CR=class t extends Error{constructor(){super("Not enough unapproved mints left"),this.code=6017,this.name="InsufficientMintCapacity",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.InsufficientMintCapacityError=CR;ui.set(6017,()=>new CR);li.set("InsufficientMintCapacity",()=>new CR);var BR=class t extends Error{constructor(){super("NumericalOverflowError"),this.code=6018,this.name="NumericalOverflowError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.NumericalOverflowErrorError=BR;ui.set(6018,()=>new BR);li.set("NumericalOverflowError",()=>new BR);var MR=class t extends Error{constructor(){super("Incorrect account owner"),this.code=6019,this.name="IncorrectOwner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.IncorrectOwnerError=MR;ui.set(6019,()=>new MR);li.set("IncorrectOwner",()=>new MR);var NR=class t extends Error{constructor(){super("Cannot Verify Collection in this Instruction"),this.code=6020,this.name="CollectionCannotBeVerifiedInThisInstruction",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.CollectionCannotBeVerifiedInThisInstructionError=NR;ui.set(6020,()=>new NR);li.set("CollectionCannotBeVerifiedInThisInstruction",()=>new NR);var DR=class t extends Error{constructor(){super("Collection Not Found on Metadata"),this.code=6021,this.name="CollectionNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.CollectionNotFoundError=DR;ui.set(6021,()=>new DR);li.set("CollectionNotFound",()=>new DR);var UR=class t extends Error{constructor(){super("Collection item is already verified."),this.code=6022,this.name="AlreadyVerified",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.AlreadyVerifiedError=UR;ui.set(6022,()=>new UR);li.set("AlreadyVerified",()=>new UR);var LR=class t extends Error{constructor(){super("Collection item is already unverified."),this.code=6023,this.name="AlreadyUnverified",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.AlreadyUnverifiedError=LR;ui.set(6023,()=>new LR);li.set("AlreadyUnverified",()=>new LR);var zR=class t extends Error{constructor(){super("Incorrect leaf metadata update authority."),this.code=6024,this.name="UpdateAuthorityIncorrect",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.UpdateAuthorityIncorrectError=zR;ui.set(6024,()=>new zR);li.set("UpdateAuthorityIncorrect",()=>new zR);var FR=class t extends Error{constructor(){super("This transaction must be signed by either the leaf owner or leaf delegate"),this.code=6025,this.name="LeafAuthorityMustSign",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.LeafAuthorityMustSignError=FR;ui.set(6025,()=>new FR);li.set("LeafAuthorityMustSign",()=>new FR);var qR=class t extends Error{constructor(){super("Collection Not Compatable with Compression, Must be Sized"),this.code=6026,this.name="CollectionMustBeSized",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};kt.CollectionMustBeSizedError=qR;ui.set(6026,()=>new qR);li.set("CollectionMustBeSized",()=>new qR);function _mt(t){let e=ui.get(t);return e!=null?e():null}kt.errorFromCode=_mt;function Smt(t){let e=li.get(t);return e!=null?e():null}kt.errorFromName=Smt});var dEe=_(Ua=>{"use strict";u();l();var wmt=Ua&&Ua.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Amt=Ua&&Ua.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lEe=Ua&&Ua.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wmt(e,t,r);return Amt(e,t),e};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.createBurnInstruction=Ua.burnInstructionDiscriminator=Ua.burnStruct=void 0;var rh=lEe(pe()),PJ=lEe(So());Ua.burnStruct=new rh.BeetArgsStruct([["instructionDiscriminator",rh.uniformFixedSizeArray(rh.u8,8)],["root",rh.uniformFixedSizeArray(rh.u8,32)],["dataHash",rh.uniformFixedSizeArray(rh.u8,32)],["creatorHash",rh.uniformFixedSizeArray(rh.u8,32)],["nonce",rh.u64],["index",rh.u32]],"BurnInstructionArgs");Ua.burnInstructionDiscriminator=[116,110,29,56,107,219,42,93];function Emt(t,e,r=new PJ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Ua.burnStruct.serialize({instructionDiscriminator:Ua.burnInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:PJ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new PJ.TransactionInstruction({programId:r,keys:o,data:i})}Ua.createBurnInstruction=Emt});var pEe=_(La=>{"use strict";u();l();var Imt=La&&La.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Tmt=La&&La.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fEe=La&&La.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Imt(e,t,r);return Tmt(e,t),e};Object.defineProperty(La,"__esModule",{value:!0});La.createCancelRedeemInstruction=La.cancelRedeemInstructionDiscriminator=La.cancelRedeemStruct=void 0;var jR=fEe(pe()),OJ=fEe(So());La.cancelRedeemStruct=new jR.BeetArgsStruct([["instructionDiscriminator",jR.uniformFixedSizeArray(jR.u8,8)],["root",jR.uniformFixedSizeArray(jR.u8,32)]],"CancelRedeemInstructionArgs");La.cancelRedeemInstructionDiscriminator=[111,76,232,50,39,175,48,242];function kmt(t,e,r=new OJ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=La.cancelRedeemStruct.serialize({instructionDiscriminator:La.cancelRedeemInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!0,isSigner:!0},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.voucher,isWritable:!0,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:OJ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new OJ.TransactionInstruction({programId:r,keys:o,data:i})}La.createCancelRedeemInstruction=kmt});var $J={};jye($J,{ASSOCIATED_TOKEN_PROGRAM_ID:()=>VEe,AccountLayout:()=>n1,MintLayout:()=>KR,NATIVE_MINT:()=>GEe,TOKEN_PROGRAM_ID:()=>eyt,Token:()=>jJ,u64:()=>za});function xEe(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function xmt(t){var e=xEe(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Pmt(t,e,r){return(e+r)*3/4-r}function Omt(t){var e,r=xEe(t),n=r[0],i=r[1],o=new vmt(Pmt(t,n,i)),s=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=zf[t.charCodeAt(c)]<<18|zf[t.charCodeAt(c+1)]<<12|zf[t.charCodeAt(c+2)]<<6|zf[t.charCodeAt(c+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=zf[t.charCodeAt(c)]<<2|zf[t.charCodeAt(c+1)]>>4,o[s++]=e&255),i===1&&(e=zf[t.charCodeAt(c)]<<10|zf[t.charCodeAt(c+1)]<<4|zf[t.charCodeAt(c+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function Rmt(t){return Um[t>>18&63]+Um[t>>12&63]+Um[t>>6&63]+Um[t&63]}function Cmt(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(Rmt(n));return i.join("")}function Bmt(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(Cmt(t,s,s+o>a?a:s+o));return n===1?(e=t[r-1],i.push(Um[e>>2]+Um[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Um[e>>10]+Um[e>>4&63]+Um[e<<2&63]+"=")),i.join("")}function PA(t,e){var r={seen:[],stylize:Umt};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),PEe(e)?r.showHidden=e:e&&Wmt(r,e),i1(r.showHidden)&&(r.showHidden=!1),i1(r.depth)&&(r.depth=2),i1(r.colors)&&(r.colors=!1),i1(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Dmt),hq(r,t,r.depth)}function Dmt(t,e){var r=PA.styles[e];return r?"\x1B["+PA.colors[r][0]+"m"+t+"\x1B["+PA.colors[r][1]+"m":t}function Umt(t,e){return t}function Lmt(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function hq(t,e,r){if(t.customInspect&&e&&VR(e.inspect)&&e.inspect!==PA&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return REe(n)||(n=hq(t,n,r)),n}var i=zmt(t,e);if(i)return i;var o=Object.keys(e),s=Lmt(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),pq(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return CJ(e);if(o.length===0){if(VR(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(WR(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(mq(e))return t.stylize(Date.prototype.toString.call(e),"date");if(pq(e))return CJ(e)}var c="",d=!1,f=["{","}"];if(jmt(e)&&(d=!0,f=["[","]"]),VR(e)){var p=e.name?": "+e.name:"";c=" [Function"+p+"]"}if(WR(e)&&(c=" "+RegExp.prototype.toString.call(e)),mq(e)&&(c=" "+Date.prototype.toUTCString.call(e)),pq(e)&&(c=" "+CJ(e)),o.length===0&&(!d||e.length==0))return f[0]+c+f[1];if(r<0)return WR(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var m;return d?m=Fmt(t,e,r,s,o):m=o.map(function(y){return DJ(t,e,r,s,y,d)}),t.seen.pop(),qmt(m,c,f)}function zmt(t,e){if(i1(e))return t.stylize("undefined","undefined");if(REe(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(Kmt(e))return t.stylize(""+e,"number");if(PEe(e))return t.stylize(""+e,"boolean");if(OEe(e))return t.stylize("null","null")}function CJ(t){return"["+Error.prototype.toString.call(t)+"]"}function Fmt(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)CEe(e,String(s))?o.push(DJ(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(c){c.match(/^\d+$/)||o.push(DJ(t,e,r,n,c,!0))}),o}function DJ(t,e,r,n,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?c.set?a=t.stylize("[Getter/Setter]","special"):a=t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),CEe(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(OEe(r)?a=hq(t,c.value,null):a=hq(t,c.value,r-1),a.indexOf(`
`)>-1&&(o?a=a.split(`
`).map(function(d){return"  "+d}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(d){return"   "+d}).join(`
`))):a=t.stylize("[Circular]","special")),i1(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function qmt(t,e,r){var n=t.reduce(function(i,o){return o.indexOf(`
`)>=0,i+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function jmt(t){return Array.isArray(t)}function PEe(t){return typeof t=="boolean"}function OEe(t){return t===null}function Kmt(t){return typeof t=="number"}function REe(t){return typeof t=="string"}function i1(t){return t===void 0}function WR(t){return Oq(t)&&WJ(t)==="[object RegExp]"}function Oq(t){return typeof t=="object"&&t!==null}function mq(t){return Oq(t)&&WJ(t)==="[object Date]"}function pq(t){return Oq(t)&&(WJ(t)==="[object Error]"||t instanceof Error)}function VR(t){return typeof t=="function"}function mEe(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}function WJ(t){return Object.prototype.toString.call(t)}function Wmt(t,e){if(!e||!Oq(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function CEe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function yEe(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function BEe(){return typeof BJ<"u"?BJ:BJ=function(){return function(){}.name==="foo"}()}function _Ee(t){return Object.prototype.toString.call(t)}function SEe(t){return nn.isBuffer(t)||typeof Mmt.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t?!!(t instanceof DataView||t.buffer&&t.buffer instanceof ArrayBuffer):!1}function qa(t,e){t||kl(t,!0,e,"==",GJ)}function MEe(t){if(VR(t)){if(BEe())return t.name;var e=t.toString(),r=e.match(Gmt);return r&&r[1]}}function VJ(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=Hmt(this),this.generatedMessage=!0);var e=t.stackStartFunction||kl;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=MEe(e),o=n.indexOf(`
`+i);if(o>=0){var s=n.indexOf(`
`,o+1);n=n.substring(s+1)}this.stack=n}}}function wEe(t,e){return typeof t=="string"?t.length<e?t:t.slice(0,e):t}function AEe(t){if(BEe()||!VR(t))return PA(t);var e=MEe(t),r=e?": "+e:"";return"[Function"+r+"]"}function Hmt(t){return wEe(AEe(t.actual),128)+" "+t.operator+" "+wEe(AEe(t.expected),128)}function kl(t,e,r,n,i){throw new VJ({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function GJ(t,e){t||kl(t,!0,e,"==",GJ)}function NEe(t,e,r){t!=e&&kl(t,e,r,"==",NEe)}function DEe(t,e,r){t==e&&kl(t,e,r,"!=",DEe)}function UEe(t,e,r){o1(t,e,!1)||kl(t,e,r,"deepEqual",UEe)}function LEe(t,e,r){o1(t,e,!0)||kl(t,e,r,"deepStrictEqual",LEe)}function o1(t,e,r,n){if(t===e)return!0;if(nn.isBuffer(t)&&nn.isBuffer(e))return yEe(t,e)===0;if(mq(t)&&mq(e))return t.getTime()===e.getTime();if(WR(t)&&WR(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if((t===null||typeof t!="object")&&(e===null||typeof e!="object"))return r?t===e:t==e;if(SEe(t)&&SEe(e)&&_Ee(t)===_Ee(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return yEe(new Uint8Array(t.buffer),new Uint8Array(e.buffer))===0;if(nn.isBuffer(t)!==nn.isBuffer(e))return!1;n=n||{actual:[],expected:[]};var i=n.actual.indexOf(t);return i!==-1&&i===n.expected.indexOf(e)?!0:(n.actual.push(t),n.expected.push(e),$mt(t,e,r,n))}function EEe(t){return Object.prototype.toString.call(t)=="[object Arguments]"}function $mt(t,e,r,n){if(t==null||e===null||e===void 0)return!1;if(mEe(t)||mEe(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=EEe(t),o=EEe(e);if(i&&!o||!i&&o)return!1;if(i)return t=bEe.call(t),e=bEe.call(e),o1(t,e,r);var s=gEe(t),a=gEe(e),c,d;if(s.length!==a.length)return!1;for(s.sort(),a.sort(),d=s.length-1;d>=0;d--)if(s[d]!==a[d])return!1;for(d=s.length-1;d>=0;d--)if(c=s[d],!o1(t[c],e[c],r,n))return!1;return!0}function zEe(t,e,r){o1(t,e,!1)&&kl(t,e,r,"notDeepEqual",zEe)}function FEe(t,e,r){o1(t,e,!0)&&kl(t,e,r,"notDeepStrictEqual",FEe)}function qEe(t,e,r){t!==e&&kl(t,e,r,"===",qEe)}function jEe(t,e,r){t===e&&kl(t,e,r,"!==",jEe)}function IEe(t,e){if(!t||!e)return!1;if(Object.prototype.toString.call(e)=="[object RegExp]")return e.test(t);try{if(t instanceof e)return!0}catch{}return Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function Ymt(t){var e;try{t()}catch(r){e=r}return e}function KEe(t,e,r,n){var i;if(typeof e!="function")throw new TypeError('"block" argument must be a function');typeof r=="string"&&(n=r,r=null),i=Ymt(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&kl(i,r,"Missing expected exception"+n);var o=typeof n=="string",s=!t&&pq(i),a=!t&&i&&!r;if((s&&o&&IEe(i,r)||a)&&kl(i,r,"Got unwanted exception"+n),t&&i&&r&&!IEe(i,r)||!t&&i)throw i}function Xmt(t,e,r){KEe(!0,t,e,r)}function Zmt(t,e,r){KEe(!1,t,e,r)}function Jmt(t){if(t)throw t}function HJ(t,e){return e.property?t+"["+e.property+"]":t}function Qmt(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof On))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(r,n){return e.decode(r,n)},writable:!0})}function Rq(t){let e=Math.floor(t/UJ),r=t-e*UJ;return{hi32:e,lo32:r}}function Cq(t,e){return t*UJ+e}function r1(t){return 0>t&&(t+=4294967296),t}function vs(t,e,r,...n){return(0,Ze.sendAndConfirmTransaction)(e,r,n,{skipPreflight:!1})}function MJ(t){return nn.Buffer.from(t.toBuffer())}function Nd(t){return"publicKey"in t}var vEe,Ze,nn,Pq,Um,zf,vmt,RJ,xA,hEe,KJ,Mmt,NJ,Nmt,Vmt,gEe,bEe,BJ,Gmt,mt,On,Fa,yq,HR,qf,nh,Jg,m_,UJ,LJ,zJ,FJ,qJ,gq,bq,_q,Sq,wq,Aq,$R,s1,YR,Eq,XR,OA,Iq,Tq,kq,vq,xq,In,GR,as,WEe,cs,Ff,eyt,VEe,TEe,kEe,za,tyt,GEe,KR,n1,fq,jJ,YJ=qye(()=>{u();l();srt();vEe=Oe(Lu()),Ze=Oe(So()),nn={},Pq={};Pq.byteLength=xmt;Pq.toByteArray=Omt;Pq.fromByteArray=Bmt;Um=[],zf=[],vmt=typeof Uint8Array<"u"?Uint8Array:Array,RJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(xA=0,hEe=RJ.length;xA<hEe;++xA)Um[xA]=RJ[xA],zf[RJ.charCodeAt(xA)]=xA;zf[45]=62;zf[95]=63;KJ={};KJ.read=function(t,e,r,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,d=c>>1,f=-7,p=r?i-1:0,m=r?-1:1,y=t[e+p];for(p+=m,o=y&(1<<-f)-1,y>>=-f,f+=a;f>0;o=o*256+t[e+p],p+=m,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+t[e+p],p+=m,f-=8);if(o===0)o=1-d;else{if(o===c)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-d}return(y?-1:1)*s*Math.pow(2,o-n)};KJ.write=function(t,e,r,n,i,o){var s,a,c,d=o*8-i-1,f=(1<<d)-1,p=f>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:o-1,g=n?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+p>=1?e+=m/c:e+=m*Math.pow(2,1-p),e*c>=2&&(s++,c/=2),s+p>=f?(a=0,s=f):s+p>=1?(a=(e*c-1)*Math.pow(2,i),s=s+p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;t[r+y]=a&255,y+=g,a/=256,i-=8);for(s=s<<i|a,d+=i;d>0;t[r+y]=s&255,y+=g,s/=256,d-=8);t[r+y-g]|=b*128};(function(t){let e=Pq,r=KJ,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=U,t.INSPECT_MAX_BYTES=50;let i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{let D=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(D,k),D.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(D){if(D>i)throw new RangeError('The value "'+D+'" is invalid for option "size"');let k=new Uint8Array(D);return Object.setPrototypeOf(k,a.prototype),k}function a(D,k,x){if(typeof D=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(D)}return c(D,k,x)}a.poolSize=8192;function c(D,k,x){if(typeof D=="string")return m(D,k);if(ArrayBuffer.isView(D))return g(D);if(D==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(Ve(D,ArrayBuffer)||D&&Ve(D.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ve(D,SharedArrayBuffer)||D&&Ve(D.buffer,SharedArrayBuffer)))return b(D,k,x);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let q=D.valueOf&&D.valueOf();if(q!=null&&q!==D)return a.from(q,k,x);let J=S(D);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return a.from(D[Symbol.toPrimitive]("string"),k,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}a.from=function(D,k,x){return c(D,k,x)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function d(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function f(D,k,x){return d(D),D<=0?s(D):k!==void 0?typeof x=="string"?s(D).fill(k,x):s(D).fill(k):s(D)}a.alloc=function(D,k,x){return f(D,k,x)};function p(D){return d(D),s(D<0?0:P(D)|0)}a.allocUnsafe=function(D){return p(D)},a.allocUnsafeSlow=function(D){return p(D)};function m(D,k){if((typeof k!="string"||k==="")&&(k="utf8"),!a.isEncoding(k))throw new TypeError("Unknown encoding: "+k);let x=L(D,k)|0,q=s(x),J=q.write(D,k);return J!==x&&(q=q.slice(0,J)),q}function y(D){let k=D.length<0?0:P(D.length)|0,x=s(k);for(let q=0;q<k;q+=1)x[q]=D[q]&255;return x}function g(D){if(Ve(D,Uint8Array)){let k=new Uint8Array(D);return b(k.buffer,k.byteOffset,k.byteLength)}return y(D)}function b(D,k,x){if(k<0||D.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(D.byteLength<k+(x||0))throw new RangeError('"length" is outside of buffer bounds');let q;return k===void 0&&x===void 0?q=new Uint8Array(D):x===void 0?q=new Uint8Array(D,k):q=new Uint8Array(D,k,x),Object.setPrototypeOf(q,a.prototype),q}function S(D){if(a.isBuffer(D)){let k=P(D.length)|0,x=s(k);return x.length===0||D.copy(x,0,0,k),x}if(D.length!==void 0)return typeof D.length!="number"||Et(D.length)?s(0):y(D);if(D.type==="Buffer"&&Array.isArray(D.data))return y(D.data)}function P(D){if(D>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return D|0}function U(D){return+D!=D&&(D=0),a.alloc(+D)}a.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==a.prototype},a.compare=function(k,x){if(Ve(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),Ve(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),!a.isBuffer(k)||!a.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===x)return 0;let q=k.length,J=x.length;for(let ce=0,Re=Math.min(q,J);ce<Re;++ce)if(k[ce]!==x[ce]){q=k[ce],J=x[ce];break}return q<J?-1:J<q?1:0},a.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(k,x){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return a.alloc(0);let q;if(x===void 0)for(x=0,q=0;q<k.length;++q)x+=k[q].length;let J=a.allocUnsafe(x),ce=0;for(q=0;q<k.length;++q){let Re=k[q];if(Ve(Re,Uint8Array))ce+Re.length>J.length?(a.isBuffer(Re)||(Re=a.from(Re)),Re.copy(J,ce)):Uint8Array.prototype.set.call(J,Re,ce);else if(a.isBuffer(Re))Re.copy(J,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=Re.length}return J};function L(D,k){if(a.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||Ve(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);let x=D.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&x===0)return 0;let J=!1;for(;;)switch(k){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return ne(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return Ie(D).length;default:if(J)return q?-1:ne(D).length;k=(""+k).toLowerCase(),J=!0}}a.byteLength=L;function j(D,k,x){let q=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,k>>>=0,x<=k))return"";for(D||(D="utf8");;)switch(D){case"hex":return ye(this,k,x);case"utf8":case"utf-8":return O(this,k,x);case"ascii":return ue(this,k,x);case"latin1":case"binary":return me(this,k,x);case"base64":return C(this,k,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ge(this,k,x);default:if(q)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),q=!0}}a.prototype._isBuffer=!0;function Z(D,k,x){let q=D[k];D[k]=D[x],D[x]=q}a.prototype.swap16=function(){let k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<k;x+=2)Z(this,x,x+1);return this},a.prototype.swap32=function(){let k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<k;x+=4)Z(this,x,x+3),Z(this,x+1,x+2);return this},a.prototype.swap64=function(){let k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<k;x+=8)Z(this,x,x+7),Z(this,x+1,x+6),Z(this,x+2,x+5),Z(this,x+3,x+4);return this},a.prototype.toString=function(){let k=this.length;return k===0?"":arguments.length===0?O(this,0,k):j.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(k){if(!a.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:a.compare(this,k)===0},a.prototype.inspect=function(){let k="",x=t.INSPECT_MAX_BYTES;return k=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(k+=" ... "),"<Buffer "+k+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(k,x,q,J,ce){if(Ve(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),!a.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(x===void 0&&(x=0),q===void 0&&(q=k?k.length:0),J===void 0&&(J=0),ce===void 0&&(ce=this.length),x<0||q>k.length||J<0||ce>this.length)throw new RangeError("out of range index");if(J>=ce&&x>=q)return 0;if(J>=ce)return-1;if(x>=q)return 1;if(x>>>=0,q>>>=0,J>>>=0,ce>>>=0,this===k)return 0;let Re=ce-J,ut=q-x,Ot=Math.min(Re,ut),Vt=this.slice(J,ce),yr=k.slice(x,q);for(let nr=0;nr<Ot;++nr)if(Vt[nr]!==yr[nr]){Re=Vt[nr],ut=yr[nr];break}return Re<ut?-1:ut<Re?1:0};function se(D,k,x,q,J){if(D.length===0)return-1;if(typeof x=="string"?(q=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,Et(x)&&(x=J?0:D.length-1),x<0&&(x=D.length+x),x>=D.length){if(J)return-1;x=D.length-1}else if(x<0)if(J)x=0;else return-1;if(typeof k=="string"&&(k=a.from(k,q)),a.isBuffer(k))return k.length===0?-1:Ee(D,k,x,q,J);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(D,k,x):Uint8Array.prototype.lastIndexOf.call(D,k,x):Ee(D,[k],x,q,J);throw new TypeError("val must be string, number or Buffer")}function Ee(D,k,x,q,J){let ce=1,Re=D.length,ut=k.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(D.length<2||k.length<2)return-1;ce=2,Re/=2,ut/=2,x/=2}function Ot(yr,nr){return ce===1?yr[nr]:yr.readUInt16BE(nr*ce)}let Vt;if(J){let yr=-1;for(Vt=x;Vt<Re;Vt++)if(Ot(D,Vt)===Ot(k,yr===-1?0:Vt-yr)){if(yr===-1&&(yr=Vt),Vt-yr+1===ut)return yr*ce}else yr!==-1&&(Vt-=Vt-yr),yr=-1}else for(x+ut>Re&&(x=Re-ut),Vt=x;Vt>=0;Vt--){let yr=!0;for(let nr=0;nr<ut;nr++)if(Ot(D,Vt+nr)!==Ot(k,nr)){yr=!1;break}if(yr)return Vt}return-1}a.prototype.includes=function(k,x,q){return this.indexOf(k,x,q)!==-1},a.prototype.indexOf=function(k,x,q){return se(this,k,x,q,!0)},a.prototype.lastIndexOf=function(k,x,q){return se(this,k,x,q,!1)};function be(D,k,x,q){x=Number(x)||0;let J=D.length-x;q?(q=Number(q),q>J&&(q=J)):q=J;let ce=k.length;q>ce/2&&(q=ce/2);let Re;for(Re=0;Re<q;++Re){let ut=parseInt(k.substr(Re*2,2),16);if(Et(ut))return Re;D[x+Re]=ut}return Re}function fe(D,k,x,q){return bt(ne(k,D.length-x),D,x,q)}function w(D,k,x,q){return bt(ge(k),D,x,q)}function R(D,k,x,q){return bt(Ie(k),D,x,q)}function B(D,k,x,q){return bt(ae(k,D.length-x),D,x,q)}a.prototype.write=function(k,x,q,J){if(x===void 0)J="utf8",q=this.length,x=0;else if(q===void 0&&typeof x=="string")J=x,q=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(q)?(q=q>>>0,J===void 0&&(J="utf8")):(J=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let ce=this.length-x;if((q===void 0||q>ce)&&(q=ce),k.length>0&&(q<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");let Re=!1;for(;;)switch(J){case"hex":return be(this,k,x,q);case"utf8":case"utf-8":return fe(this,k,x,q);case"ascii":case"latin1":case"binary":return w(this,k,x,q);case"base64":return R(this,k,x,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,k,x,q);default:if(Re)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),Re=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(D,k,x){return k===0&&x===D.length?e.fromByteArray(D):e.fromByteArray(D.slice(k,x))}function O(D,k,x){x=Math.min(D.length,x);let q=[],J=k;for(;J<x;){let ce=D[J],Re=null,ut=ce>239?4:ce>223?3:ce>191?2:1;if(J+ut<=x){let Ot,Vt,yr,nr;switch(ut){case 1:ce<128&&(Re=ce);break;case 2:Ot=D[J+1],(Ot&192)===128&&(nr=(ce&31)<<6|Ot&63,nr>127&&(Re=nr));break;case 3:Ot=D[J+1],Vt=D[J+2],(Ot&192)===128&&(Vt&192)===128&&(nr=(ce&15)<<12|(Ot&63)<<6|Vt&63,nr>2047&&(nr<55296||nr>57343)&&(Re=nr));break;case 4:Ot=D[J+1],Vt=D[J+2],yr=D[J+3],(Ot&192)===128&&(Vt&192)===128&&(yr&192)===128&&(nr=(ce&15)<<18|(Ot&63)<<12|(Vt&63)<<6|yr&63,nr>65535&&nr<1114112&&(Re=nr))}}Re===null?(Re=65533,ut=1):Re>65535&&(Re-=65536,q.push(Re>>>10&1023|55296),Re=56320|Re&1023),q.push(Re),J+=ut}return ie(q)}let N=4096;function ie(D){let k=D.length;if(k<=N)return String.fromCharCode.apply(String,D);let x="",q=0;for(;q<k;)x+=String.fromCharCode.apply(String,D.slice(q,q+=N));return x}function ue(D,k,x){let q="";x=Math.min(D.length,x);for(let J=k;J<x;++J)q+=String.fromCharCode(D[J]&127);return q}function me(D,k,x){let q="";x=Math.min(D.length,x);for(let J=k;J<x;++J)q+=String.fromCharCode(D[J]);return q}function ye(D,k,x){let q=D.length;(!k||k<0)&&(k=0),(!x||x<0||x>q)&&(x=q);let J="";for(let ce=k;ce<x;++ce)J+=Fn[D[ce]];return J}function Ge(D,k,x){let q=D.slice(k,x),J="";for(let ce=0;ce<q.length-1;ce+=2)J+=String.fromCharCode(q[ce]+q[ce+1]*256);return J}a.prototype.slice=function(k,x){let q=this.length;k=~~k,x=x===void 0?q:~~x,k<0?(k+=q,k<0&&(k=0)):k>q&&(k=q),x<0?(x+=q,x<0&&(x=0)):x>q&&(x=q),x<k&&(x=k);let J=this.subarray(k,x);return Object.setPrototypeOf(J,a.prototype),J};function Be(D,k,x){if(D%1!==0||D<0)throw new RangeError("offset is not uint");if(D+k>x)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(k,x,q){k=k>>>0,x=x>>>0,q||Be(k,x,this.length);let J=this[k],ce=1,Re=0;for(;++Re<x&&(ce*=256);)J+=this[k+Re]*ce;return J},a.prototype.readUintBE=a.prototype.readUIntBE=function(k,x,q){k=k>>>0,x=x>>>0,q||Be(k,x,this.length);let J=this[k+--x],ce=1;for(;x>0&&(ce*=256);)J+=this[k+--x]*ce;return J},a.prototype.readUint8=a.prototype.readUInt8=function(k,x){return k=k>>>0,x||Be(k,1,this.length),this[k]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(k,x){return k=k>>>0,x||Be(k,2,this.length),this[k]|this[k+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(k,x){return k=k>>>0,x||Be(k,2,this.length),this[k]<<8|this[k+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(k,x){return k=k>>>0,x||Be(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(k,x){return k=k>>>0,x||Be(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},a.prototype.readBigUInt64LE=jt(function(k){k=k>>>0,ee(k,"offset");let x=this[k],q=this[k+7];(x===void 0||q===void 0)&&oe(k,this.length-8);let J=x+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24,ce=this[++k]+this[++k]*2**8+this[++k]*2**16+q*2**24;return BigInt(J)+(BigInt(ce)<<BigInt(32))}),a.prototype.readBigUInt64BE=jt(function(k){k=k>>>0,ee(k,"offset");let x=this[k],q=this[k+7];(x===void 0||q===void 0)&&oe(k,this.length-8);let J=x*2**24+this[++k]*2**16+this[++k]*2**8+this[++k],ce=this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+q;return(BigInt(J)<<BigInt(32))+BigInt(ce)}),a.prototype.readIntLE=function(k,x,q){k=k>>>0,x=x>>>0,q||Be(k,x,this.length);let J=this[k],ce=1,Re=0;for(;++Re<x&&(ce*=256);)J+=this[k+Re]*ce;return ce*=128,J>=ce&&(J-=Math.pow(2,8*x)),J},a.prototype.readIntBE=function(k,x,q){k=k>>>0,x=x>>>0,q||Be(k,x,this.length);let J=x,ce=1,Re=this[k+--J];for(;J>0&&(ce*=256);)Re+=this[k+--J]*ce;return ce*=128,Re>=ce&&(Re-=Math.pow(2,8*x)),Re},a.prototype.readInt8=function(k,x){return k=k>>>0,x||Be(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},a.prototype.readInt16LE=function(k,x){k=k>>>0,x||Be(k,2,this.length);let q=this[k]|this[k+1]<<8;return q&32768?q|4294901760:q},a.prototype.readInt16BE=function(k,x){k=k>>>0,x||Be(k,2,this.length);let q=this[k+1]|this[k]<<8;return q&32768?q|4294901760:q},a.prototype.readInt32LE=function(k,x){return k=k>>>0,x||Be(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},a.prototype.readInt32BE=function(k,x){return k=k>>>0,x||Be(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},a.prototype.readBigInt64LE=jt(function(k){k=k>>>0,ee(k,"offset");let x=this[k],q=this[k+7];(x===void 0||q===void 0)&&oe(k,this.length-8);let J=this[k+4]+this[k+5]*2**8+this[k+6]*2**16+(q<<24);return(BigInt(J)<<BigInt(32))+BigInt(x+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24)}),a.prototype.readBigInt64BE=jt(function(k){k=k>>>0,ee(k,"offset");let x=this[k],q=this[k+7];(x===void 0||q===void 0)&&oe(k,this.length-8);let J=(x<<24)+this[++k]*2**16+this[++k]*2**8+this[++k];return(BigInt(J)<<BigInt(32))+BigInt(this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+q)}),a.prototype.readFloatLE=function(k,x){return k=k>>>0,x||Be(k,4,this.length),r.read(this,k,!0,23,4)},a.prototype.readFloatBE=function(k,x){return k=k>>>0,x||Be(k,4,this.length),r.read(this,k,!1,23,4)},a.prototype.readDoubleLE=function(k,x){return k=k>>>0,x||Be(k,8,this.length),r.read(this,k,!0,52,8)},a.prototype.readDoubleBE=function(k,x){return k=k>>>0,x||Be(k,8,this.length),r.read(this,k,!1,52,8)};function Fe(D,k,x,q,J,ce){if(!a.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>J||k<ce)throw new RangeError('"value" argument is out of bounds');if(x+q>D.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(k,x,q,J){if(k=+k,x=x>>>0,q=q>>>0,!J){let ut=Math.pow(2,8*q)-1;Fe(this,k,x,q,ut,0)}let ce=1,Re=0;for(this[x]=k&255;++Re<q&&(ce*=256);)this[x+Re]=k/ce&255;return x+q},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(k,x,q,J){if(k=+k,x=x>>>0,q=q>>>0,!J){let ut=Math.pow(2,8*q)-1;Fe(this,k,x,q,ut,0)}let ce=q-1,Re=1;for(this[x+ce]=k&255;--ce>=0&&(Re*=256);)this[x+ce]=k/Re&255;return x+q},a.prototype.writeUint8=a.prototype.writeUInt8=function(k,x,q){return k=+k,x=x>>>0,q||Fe(this,k,x,1,255,0),this[x]=k&255,x+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(k,x,q){return k=+k,x=x>>>0,q||Fe(this,k,x,2,65535,0),this[x]=k&255,this[x+1]=k>>>8,x+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(k,x,q){return k=+k,x=x>>>0,q||Fe(this,k,x,2,65535,0),this[x]=k>>>8,this[x+1]=k&255,x+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(k,x,q){return k=+k,x=x>>>0,q||Fe(this,k,x,4,4294967295,0),this[x+3]=k>>>24,this[x+2]=k>>>16,this[x+1]=k>>>8,this[x]=k&255,x+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(k,x,q){return k=+k,x=x>>>0,q||Fe(this,k,x,4,4294967295,0),this[x]=k>>>24,this[x+1]=k>>>16,this[x+2]=k>>>8,this[x+3]=k&255,x+4};function Ae(D,k,x,q,J){de(k,q,J,D,x,7);let ce=Number(k&BigInt(4294967295));D[x++]=ce,ce=ce>>8,D[x++]=ce,ce=ce>>8,D[x++]=ce,ce=ce>>8,D[x++]=ce;let Re=Number(k>>BigInt(32)&BigInt(4294967295));return D[x++]=Re,Re=Re>>8,D[x++]=Re,Re=Re>>8,D[x++]=Re,Re=Re>>8,D[x++]=Re,x}function wt(D,k,x,q,J){de(k,q,J,D,x,7);let ce=Number(k&BigInt(4294967295));D[x+7]=ce,ce=ce>>8,D[x+6]=ce,ce=ce>>8,D[x+5]=ce,ce=ce>>8,D[x+4]=ce;let Re=Number(k>>BigInt(32)&BigInt(4294967295));return D[x+3]=Re,Re=Re>>8,D[x+2]=Re,Re=Re>>8,D[x+1]=Re,Re=Re>>8,D[x]=Re,x+8}a.prototype.writeBigUInt64LE=jt(function(k,x=0){return Ae(this,k,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=jt(function(k,x=0){return wt(this,k,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(k,x,q,J){if(k=+k,x=x>>>0,!J){let Ot=Math.pow(2,8*q-1);Fe(this,k,x,q,Ot-1,-Ot)}let ce=0,Re=1,ut=0;for(this[x]=k&255;++ce<q&&(Re*=256);)k<0&&ut===0&&this[x+ce-1]!==0&&(ut=1),this[x+ce]=(k/Re>>0)-ut&255;return x+q},a.prototype.writeIntBE=function(k,x,q,J){if(k=+k,x=x>>>0,!J){let Ot=Math.pow(2,8*q-1);Fe(this,k,x,q,Ot-1,-Ot)}let ce=q-1,Re=1,ut=0;for(this[x+ce]=k&255;--ce>=0&&(Re*=256);)k<0&&ut===0&&this[x+ce+1]!==0&&(ut=1),this[x+ce]=(k/Re>>0)-ut&255;return x+q},a.prototype.writeInt8=function(k,x,q){return k=+k,x=x>>>0,q||Fe(this,k,x,1,127,-128),k<0&&(k=255+k+1),this[x]=k&255,x+1},a.prototype.writeInt16LE=function(k,x,q){return k=+k,x=x>>>0,q||Fe(this,k,x,2,32767,-32768),this[x]=k&255,this[x+1]=k>>>8,x+2},a.prototype.writeInt16BE=function(k,x,q){return k=+k,x=x>>>0,q||Fe(this,k,x,2,32767,-32768),this[x]=k>>>8,this[x+1]=k&255,x+2},a.prototype.writeInt32LE=function(k,x,q){return k=+k,x=x>>>0,q||Fe(this,k,x,4,2147483647,-2147483648),this[x]=k&255,this[x+1]=k>>>8,this[x+2]=k>>>16,this[x+3]=k>>>24,x+4},a.prototype.writeInt32BE=function(k,x,q){return k=+k,x=x>>>0,q||Fe(this,k,x,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[x]=k>>>24,this[x+1]=k>>>16,this[x+2]=k>>>8,this[x+3]=k&255,x+4},a.prototype.writeBigInt64LE=jt(function(k,x=0){return Ae(this,k,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=jt(function(k,x=0){return wt(this,k,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Lt(D,k,x,q,J,ce){if(x+q>D.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function zn(D,k,x,q,J){return k=+k,x=x>>>0,J||Lt(D,k,x,4),r.write(D,k,x,q,23,4),x+4}a.prototype.writeFloatLE=function(k,x,q){return zn(this,k,x,!0,q)},a.prototype.writeFloatBE=function(k,x,q){return zn(this,k,x,!1,q)};function qt(D,k,x,q,J){return k=+k,x=x>>>0,J||Lt(D,k,x,8),r.write(D,k,x,q,52,8),x+8}a.prototype.writeDoubleLE=function(k,x,q){return qt(this,k,x,!0,q)},a.prototype.writeDoubleBE=function(k,x,q){return qt(this,k,x,!1,q)},a.prototype.copy=function(k,x,q,J){if(!a.isBuffer(k))throw new TypeError("argument should be a Buffer");if(q||(q=0),!J&&J!==0&&(J=this.length),x>=k.length&&(x=k.length),x||(x=0),J>0&&J<q&&(J=q),J===q||k.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),k.length-x<J-q&&(J=k.length-x+q);let ce=J-q;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,q,J):Uint8Array.prototype.set.call(k,this.subarray(q,J),x),ce},a.prototype.fill=function(k,x,q,J){if(typeof k=="string"){if(typeof x=="string"?(J=x,x=0,q=this.length):typeof q=="string"&&(J=q,q=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!a.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(k.length===1){let Re=k.charCodeAt(0);(J==="utf8"&&Re<128||J==="latin1")&&(k=Re)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(x<0||this.length<x||this.length<q)throw new RangeError("Out of range index");if(q<=x)return this;x=x>>>0,q=q===void 0?this.length:q>>>0,k||(k=0);let ce;if(typeof k=="number")for(ce=x;ce<q;++ce)this[ce]=k;else{let Re=a.isBuffer(k)?k:a.from(k,J),ut=Re.length;if(ut===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(ce=0;ce<q-x;++ce)this[ce+x]=Re[ce%ut]}return this};let rr={};function z(D,k,x){rr[D]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:k.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${D}]`,this.stack,delete this.name}get code(){return D}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${D}]: ${this.message}`}}}z("ERR_BUFFER_OUT_OF_BOUNDS",function(D){return D?`${D} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(D,k){return`The "${D}" argument must be of type number. Received type ${typeof k}`},TypeError),z("ERR_OUT_OF_RANGE",function(D,k,x){let q=`The value of "${D}" is out of range.`,J=x;return Number.isInteger(x)&&Math.abs(x)>2**32?J=F(String(x)):typeof x=="bigint"&&(J=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(J=F(J)),J+="n"),q+=` It must be ${k}. Received ${J}`,q},RangeError);function F(D){let k="",x=D.length,q=D[0]==="-"?1:0;for(;x>=q+4;x-=3)k=`_${D.slice(x-3,x)}${k}`;return`${D.slice(0,x)}${k}`}function K(D,k,x){ee(k,"offset"),(D[k]===void 0||D[k+x]===void 0)&&oe(k,D.length-(x+1))}function de(D,k,x,q,J,ce){if(D>x||D<k){let Re=typeof k=="bigint"?"n":"",ut;throw ce>3?k===0||k===BigInt(0)?ut=`>= 0${Re} and < 2${Re} ** ${(ce+1)*8}${Re}`:ut=`>= -(2${Re} ** ${(ce+1)*8-1}${Re}) and < 2 ** ${(ce+1)*8-1}${Re}`:ut=`>= ${k}${Re} and <= ${x}${Re}`,new rr.ERR_OUT_OF_RANGE("value",ut,D)}K(q,J,ce)}function ee(D,k){if(typeof D!="number")throw new rr.ERR_INVALID_ARG_TYPE(k,"number",D)}function oe(D,k,x){throw Math.floor(D)!==D?(ee(D,x),new rr.ERR_OUT_OF_RANGE(x||"offset","an integer",D)):k<0?new rr.ERR_BUFFER_OUT_OF_BOUNDS:new rr.ERR_OUT_OF_RANGE(x||"offset",`>= ${x?1:0} and <= ${k}`,D)}let _e=/[^+/0-9A-Za-z-_]/g;function Q(D){if(D=D.split("=")[0],D=D.trim().replace(_e,""),D.length<2)return"";for(;D.length%4!==0;)D=D+"=";return D}function ne(D,k){k=k||1/0;let x,q=D.length,J=null,ce=[];for(let Re=0;Re<q;++Re){if(x=D.charCodeAt(Re),x>55295&&x<57344){if(!J){if(x>56319){(k-=3)>-1&&ce.push(239,191,189);continue}else if(Re+1===q){(k-=3)>-1&&ce.push(239,191,189);continue}J=x;continue}if(x<56320){(k-=3)>-1&&ce.push(239,191,189),J=x;continue}x=(J-55296<<10|x-56320)+65536}else J&&(k-=3)>-1&&ce.push(239,191,189);if(J=null,x<128){if((k-=1)<0)break;ce.push(x)}else if(x<2048){if((k-=2)<0)break;ce.push(x>>6|192,x&63|128)}else if(x<65536){if((k-=3)<0)break;ce.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((k-=4)<0)break;ce.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return ce}function ge(D){let k=[];for(let x=0;x<D.length;++x)k.push(D.charCodeAt(x)&255);return k}function ae(D,k){let x,q,J,ce=[];for(let Re=0;Re<D.length&&!((k-=2)<0);++Re)x=D.charCodeAt(Re),q=x>>8,J=x%256,ce.push(J),ce.push(q);return ce}function Ie(D){return e.toByteArray(Q(D))}function bt(D,k,x,q){let J;for(J=0;J<q&&!(J+x>=k.length||J>=D.length);++J)k[J+x]=D[J];return J}function Ve(D,k){return D instanceof k||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===k.name}function Et(D){return D!==D}let Fn=function(){let D="0123456789abcdef",k=new Array(256);for(let x=0;x<16;++x){let q=x*16;for(let J=0;J<16;++J)k[q+J]=D[x]+D[J]}return k}();function jt(D){return typeof BigInt>"u"?Pt:D}function Pt(){throw new Error("BigInt not supported")}})(nn);Mmt=typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{};typeof Object.create=="function"?NJ=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:NJ=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e};Nmt=NJ;PA.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};PA.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};Vmt=Object.prototype.hasOwnProperty,gEe=Object.keys||function(t){var e=[];for(var r in t)Vmt.call(t,r)&&e.push(r);return e},bEe=Array.prototype.slice;Gmt=/\s*function\s+([^\(\s]*)\s*/;qa.AssertionError=VJ;Nmt(VJ,Error);qa.fail=kl;qa.ok=GJ;qa.equal=NEe;qa.notEqual=DEe;qa.deepEqual=UEe;qa.deepStrictEqual=LEe;qa.notDeepEqual=zEe;qa.notDeepStrictEqual=FEe;qa.strictEqual=qEe;qa.notStrictEqual=jEe;qa.throws=Xmt;qa.doesNotThrow=Zmt;qa.ifError=Jmt;mt={},On=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};mt.Layout=On;mt.nameWithProperty=HJ;mt.bindConstructorLayout=Qmt;Fa=class extends On{isCount(){throw new Error("ExternalLayout is abstract")}},yq=class extends Fa{constructor(e,r){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r){r===void 0&&(r=0);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}},HR=class extends Fa{constructor(e,r,n){if(!(e instanceof On))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof qf||this.layout instanceof nh}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}},qf=class extends On{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}},nh=class extends On{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}},Jg=class extends On{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntLE(e,n,this.span),this.span}},m_=class extends On{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntBE(e,n,this.span),this.span}},UJ=Math.pow(2,32);LJ=class extends On{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32LE(r),i=e.readUInt32LE(r+4);return Cq(i,n)}encode(e,r,n){n===void 0&&(n=0);let i=Rq(e);return r.writeUInt32LE(i.lo32,n),r.writeUInt32LE(i.hi32,n+4),8}},zJ=class extends On{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32BE(r),i=e.readUInt32BE(r+4);return Cq(n,i)}encode(e,r,n){n===void 0&&(n=0);let i=Rq(e);return r.writeUInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}},FJ=class extends On{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32LE(r),i=e.readInt32LE(r+4);return Cq(i,n)}encode(e,r,n){n===void 0&&(n=0);let i=Rq(e);return r.writeUInt32LE(i.lo32,n),r.writeInt32LE(i.hi32,n+4),8}},qJ=class extends On{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readInt32BE(r),i=e.readUInt32BE(r+4);return Cq(n,i)}encode(e,r,n){n===void 0&&(n=0);let i=Rq(e);return r.writeInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}},gq=class extends On{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatLE(e,n),4}},bq=class extends On{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatBE(e,n),4}},_q=class extends On{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleLE(e,n),8}},Sq=class extends On{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleBE(e,n),8}},wq=class extends On{constructor(e,r,n){if(!(e instanceof On))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Fa&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Fa)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0,i=this.count;if(i instanceof Fa&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,r+n),++o}return n}decode(e,r){r===void 0&&(r=0);let n=[],i=0,o=this.count;for(o instanceof Fa&&(o=o.decode(e,r));i<o;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n){n===void 0&&(n=0);let i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,r,n+s),0);return this.count instanceof Fa&&this.count.encode(e.length,r,n),o}},Aq=class extends On{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof On,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(e,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);let i=n,o=0,s=0;for(let a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){let d=e[a.property];d!==void 0&&(s=a.encode(d,r,n),0>c&&(c=a.getSpan(r,n)))}o=n,n+=c}return o+s-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}},$R=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},s1=class extends $R{constructor(e,r){if(!(e instanceof Fa&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}},YR=class extends On{constructor(e,r,n){let i=e instanceof qf||e instanceof nh;if(i)e=new s1(new HR(e));else if(e instanceof Fa&&e.isCount())e=new s1(e);else if(!(e instanceof $R))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof On))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&i&&(o+=e.layout.span)),super(o,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){r===void 0&&(r=0);let n,i=this.discriminator,o=i.decode(e,r),s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[s.property]=this.defaultLayout.decode(e,r+a)}else n=s.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],r,n),a+s.encode(e[s.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new Eq(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r){let n=e;return nn.Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}},Eq=class extends On{constructor(e,r,n,i){if(!(e instanceof YR))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof On))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){let n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};XR=class extends On{constructor(e,r,n){if(!(e instanceof qf||e instanceof nh))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=r1(o),this},this._packedGetValue=function(){return i}}decode(e,r){let n=this.makeDestinationObject();r===void 0&&(r=0);let i=this.word.decode(e,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(i));return n}encode(e,r,n){n===void 0&&(n=0);let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new OA(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new Iq(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}},OA=class{constructor(e,r,n){if(!(e instanceof XR))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=r1(this.valueMask<<this.start),this.property=n}decode(){let e=this.container._packedGetValue();return r1(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==r1(e&this.valueMask))throw new TypeError(HJ("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=r1(e<<this.start);this.container._packedSetValue(r1(r&~this.wordMask)|n)}},Iq=class extends OA{constructor(e,r){super(e,1,r)}decode(e,r){return!!OA.prototype.decode.call(this,e,r)}encode(e){return typeof e=="boolean"&&(e=+e),OA.prototype.encode.call(this,e)}},Tq=class extends On{constructor(e,r){if(!(e instanceof Fa&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Fa||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Fa&&(i=e.length),!(nn.Buffer.isBuffer(e)&&i===e.length))throw new TypeError(HJ("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,i,"hex"),this.length instanceof Fa&&this.length.encode(i,r,n),i}},kq=class extends On{constructor(e){super(-1,e)}getSpan(e,r){if(!nn.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");r===void 0&&(r=0);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);return e.slice(r,r+i-1).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());let i=new nn.Buffer(e,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),r[n+o]=0,o+1}},vq=class extends On{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r){if(!nn.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return r===void 0&&(r=0),e.length-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(r,r+i).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());let i=new nn.Buffer(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),o}},xq=class extends On{constructor(e,r){super(0,r),this.value=e}decode(e,r,n){return this.value}encode(e,r,n){return 0}};mt.ExternalLayout=Fa;mt.GreedyCount=yq;mt.OffsetLayout=HR;mt.UInt=qf;mt.UIntBE=nh;mt.Int=Jg;mt.IntBE=m_;mt.Float=gq;mt.FloatBE=bq;mt.Double=_q;mt.DoubleBE=Sq;mt.Sequence=wq;mt.Structure=Aq;mt.UnionDiscriminator=$R;mt.UnionLayoutDiscriminator=s1;mt.Union=YR;mt.VariantLayout=Eq;mt.BitStructure=XR;mt.BitField=OA;mt.Boolean=Iq;mt.Blob=Tq;mt.CString=kq;mt.UTF8=vq;mt.Constant=xq;mt.greedy=(t,e)=>new yq(t,e);mt.offset=(t,e,r)=>new HR(t,e,r);In=mt.u8=t=>new qf(1,t);mt.u16=t=>new qf(2,t);mt.u24=t=>new qf(3,t);GR=mt.u32=t=>new qf(4,t);mt.u40=t=>new qf(5,t);mt.u48=t=>new qf(6,t);mt.nu64=t=>new LJ(t);mt.u16be=t=>new nh(2,t);mt.u24be=t=>new nh(3,t);mt.u32be=t=>new nh(4,t);mt.u40be=t=>new nh(5,t);mt.u48be=t=>new nh(6,t);mt.nu64be=t=>new zJ(t);mt.s8=t=>new Jg(1,t);mt.s16=t=>new Jg(2,t);mt.s24=t=>new Jg(3,t);mt.s32=t=>new Jg(4,t);mt.s40=t=>new Jg(5,t);mt.s48=t=>new Jg(6,t);mt.ns64=t=>new FJ(t);mt.s16be=t=>new m_(2,t);mt.s24be=t=>new m_(3,t);mt.s32be=t=>new m_(4,t);mt.s40be=t=>new m_(5,t);mt.s48be=t=>new m_(6,t);mt.ns64be=t=>new qJ(t);mt.f32=t=>new gq(t);mt.f32be=t=>new bq(t);mt.f64=t=>new _q(t);mt.f64be=t=>new Sq(t);as=mt.struct=(t,e,r)=>new Aq(t,e,r);mt.bits=(t,e,r)=>new XR(t,e,r);mt.seq=(t,e,r)=>new wq(t,e,r);mt.union=(t,e,r)=>new YR(t,e,r);mt.unionLayoutDiscriminator=(t,e)=>new s1(t,e);WEe=mt.blob=(t,e)=>new Tq(t,e);mt.cstr=t=>new kq(t);mt.utf8=(t,e)=>new vq(t,e);mt.const=(t,e)=>new xq(t,e);cs=(t="publicKey")=>WEe(32,t),Ff=(t="uint64")=>WEe(8,t);eyt=new Ze.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),VEe=new Ze.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),TEe="Failed to find account",kEe="Invalid account owner";za=class t extends vEe.default{toBuffer(){let e=super.toArray().reverse(),r=nn.Buffer.from(e);if(r.length===8)return r;qa(r.length<8,"u64 too large");let n=nn.Buffer.alloc(8);return r.copy(n),n}static fromBuffer(e){return qa(e.length===8,`Invalid buffer length: ${e.length}`),new t([...e].reverse().map(r=>`00${r.toString(16)}`.slice(-2)).join(""),16)}};tyt={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},GEe=new Ze.PublicKey("So11111111111111111111111111111111111111112"),KR=as([GR("mintAuthorityOption"),cs("mintAuthority"),Ff("supply"),In("decimals"),In("isInitialized"),GR("freezeAuthorityOption"),cs("freezeAuthority")]),n1=as([cs("mint"),cs("owner"),Ff("amount"),GR("delegateOption"),cs("delegate"),In("state"),GR("isNativeOption"),Ff("isNative"),Ff("delegatedAmount"),GR("closeAuthorityOption"),cs("closeAuthority")]),fq=as([In("m"),In("n"),In("is_initialized"),cs("signer1"),cs("signer2"),cs("signer3"),cs("signer4"),cs("signer5"),cs("signer6"),cs("signer7"),cs("signer8"),cs("signer9"),cs("signer10"),cs("signer11")]),jJ=class t{constructor(e,r,n,i){CI(this,"connection",void 0),CI(this,"publicKey",void 0),CI(this,"programId",void 0),CI(this,"associatedProgramId",void 0),CI(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:r,programId:n,payer:i,associatedProgramId:VEe})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(KR.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption(n1.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(fq.span)}static async createMint(e,r,n,i,o,s){let a=Ze.Keypair.generate(),c=new t(e,a.publicKey,s,r),d=await t.getMinBalanceRentForExemptMint(e),f=new Ze.Transaction;return f.add(Ze.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:a.publicKey,lamports:d,space:KR.span,programId:s})),f.add(t.createInitMintInstruction(s,a.publicKey,o,n,i)),await vs("createAccount and InitializeMint",e,f,r,a),c}async createAccount(e){let r=await t.getMinBalanceRentForExemptAccount(this.connection),n=Ze.Keypair.generate(),i=new Ze.Transaction;i.add(Ze.SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:r,space:n1.span,programId:this.programId}));let o=this.publicKey;return i.add(t.createInitAccountInstruction(this.programId,o,n.publicKey,e)),await vs("createAccount and InitializeAccount",this.connection,i,this.payer,n),n.publicKey}async createAssociatedTokenAccount(e){let r=await t.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,r)}async createAssociatedTokenAccountInternal(e,r){return await vs("CreateAssociatedTokenAccount",this.connection,new Ze.Transaction().add(t.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,r,e,this.payer.publicKey)),this.payer),r}async getOrCreateAssociatedAccountInfo(e){let r=await t.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(r)}catch(n){if(n.message===TEe||n.message===kEe){try{await this.createAssociatedTokenAccountInternal(e,r)}catch{}return await this.getAccountInfo(r)}else throw n}}static async createWrappedNativeAccount(e,r,n,i,o){let s=await t.getMinBalanceRentForExemptAccount(e),a=Ze.Keypair.generate(),c=new Ze.Transaction;return c.add(Ze.SystemProgram.createAccount({fromPubkey:i.publicKey,newAccountPubkey:a.publicKey,lamports:s,space:n1.span,programId:r})),c.add(Ze.SystemProgram.transfer({fromPubkey:i.publicKey,toPubkey:a.publicKey,lamports:o})),c.add(t.createInitAccountInstruction(r,GEe,a.publicKey,n)),await vs("createAccount, transfer, and initializeAccount",e,c,i,a),a.publicKey}async createMultisig(e,r){let n=Ze.Keypair.generate(),i=await t.getMinBalanceRentForExemptMultisig(this.connection),o=new Ze.Transaction;o.add(Ze.SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:i,space:fq.span,programId:this.programId}));let s=[{pubkey:n.publicKey,isSigner:!1,isWritable:!0},{pubkey:Ze.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];r.forEach(d=>s.push({pubkey:d,isSigner:!1,isWritable:!1}));let a=as([In("instruction"),In("m")]),c=nn.Buffer.alloc(a.span);return a.encode({instruction:2,m:e},c),o.add({keys:s,programId:this.programId,data:c}),await vs("createAccount and InitializeMultisig",this.connection,o,this.payer,n),n.publicKey}async getMintInfo(){let e=await this.connection.getAccountInfo(this.publicKey);if(e===null)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=KR.span)throw new Error("Invalid mint size");let r=nn.Buffer.from(e.data),n=KR.decode(r);return n.mintAuthorityOption===0?n.mintAuthority=null:n.mintAuthority=new Ze.PublicKey(n.mintAuthority),n.supply=za.fromBuffer(n.supply),n.isInitialized=n.isInitialized!=0,n.freezeAuthorityOption===0?n.freezeAuthority=null:n.freezeAuthority=new Ze.PublicKey(n.freezeAuthority),n}async getAccountInfo(e,r){let n=await this.connection.getAccountInfo(e,r);if(n===null)throw new Error(TEe);if(!n.owner.equals(this.programId))throw new Error(kEe);if(n.data.length!=n1.span)throw new Error("Invalid account size");let i=nn.Buffer.from(n.data),o=n1.decode(i);if(o.address=e,o.mint=new Ze.PublicKey(o.mint),o.owner=new Ze.PublicKey(o.owner),o.amount=za.fromBuffer(o.amount),o.delegateOption===0?(o.delegate=null,o.delegatedAmount=new za):(o.delegate=new Ze.PublicKey(o.delegate),o.delegatedAmount=za.fromBuffer(o.delegatedAmount)),o.isInitialized=o.state!==0,o.isFrozen=o.state===2,o.isNativeOption===1?(o.rentExemptReserve=za.fromBuffer(o.isNative),o.isNative=!0):(o.rentExemptReserve=null,o.isNative=!1),o.closeAuthorityOption===0?o.closeAuthority=null:o.closeAuthority=new Ze.PublicKey(o.closeAuthority),!o.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(o.mint)} !== ${JSON.stringify(this.publicKey)}`);return o}async getMultisigInfo(e){let r=await this.connection.getAccountInfo(e);if(r===null)throw new Error("Failed to find multisig");if(!r.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(r.data.length!=fq.span)throw new Error("Invalid multisig size");let n=nn.Buffer.from(r.data),i=fq.decode(n);return i.signer1=new Ze.PublicKey(i.signer1),i.signer2=new Ze.PublicKey(i.signer2),i.signer3=new Ze.PublicKey(i.signer3),i.signer4=new Ze.PublicKey(i.signer4),i.signer5=new Ze.PublicKey(i.signer5),i.signer6=new Ze.PublicKey(i.signer6),i.signer7=new Ze.PublicKey(i.signer7),i.signer8=new Ze.PublicKey(i.signer8),i.signer9=new Ze.PublicKey(i.signer9),i.signer10=new Ze.PublicKey(i.signer10),i.signer11=new Ze.PublicKey(i.signer11),i}async transfer(e,r,n,i,o){let s,a;return Nd(n)?(s=n.publicKey,a=[n]):(s=n,a=i),await vs("Transfer",this.connection,new Ze.Transaction().add(t.createTransferInstruction(this.programId,e,r,s,i,o)),this.payer,...a)}async approve(e,r,n,i,o){let s,a;Nd(n)?(s=n.publicKey,a=[n]):(s=n,a=i),await vs("Approve",this.connection,new Ze.Transaction().add(t.createApproveInstruction(this.programId,e,r,s,i,o)),this.payer,...a)}async revoke(e,r,n){let i,o;Nd(r)?(i=r.publicKey,o=[r]):(i=r,o=n),await vs("Revoke",this.connection,new Ze.Transaction().add(t.createRevokeInstruction(this.programId,e,i,n)),this.payer,...o)}async setAuthority(e,r,n,i,o){let s,a;Nd(i)?(s=i.publicKey,a=[i]):(s=i,a=o),await vs("SetAuthority",this.connection,new Ze.Transaction().add(t.createSetAuthorityInstruction(this.programId,e,r,n,s,o)),this.payer,...a)}async mintTo(e,r,n,i){let o,s;Nd(r)?(o=r.publicKey,s=[r]):(o=r,s=n),await vs("MintTo",this.connection,new Ze.Transaction().add(t.createMintToInstruction(this.programId,this.publicKey,e,o,n,i)),this.payer,...s)}async burn(e,r,n,i){let o,s;Nd(r)?(o=r.publicKey,s=[r]):(o=r,s=n),await vs("Burn",this.connection,new Ze.Transaction().add(t.createBurnInstruction(this.programId,this.publicKey,e,o,n,i)),this.payer,...s)}async closeAccount(e,r,n,i){let o,s;Nd(n)?(o=n.publicKey,s=[n]):(o=n,s=i),await vs("CloseAccount",this.connection,new Ze.Transaction().add(t.createCloseAccountInstruction(this.programId,e,r,o,i)),this.payer,...s)}async freezeAccount(e,r,n){let i,o;Nd(r)?(i=r.publicKey,o=[r]):(i=r,o=n),await vs("FreezeAccount",this.connection,new Ze.Transaction().add(t.createFreezeAccountInstruction(this.programId,e,this.publicKey,i,n)),this.payer,...o)}async thawAccount(e,r,n){let i,o;Nd(r)?(i=r.publicKey,o=[r]):(i=r,o=n),await vs("ThawAccount",this.connection,new Ze.Transaction().add(t.createThawAccountInstruction(this.programId,e,this.publicKey,i,n)),this.payer,...o)}async transferChecked(e,r,n,i,o,s){let a,c;return Nd(n)?(a=n.publicKey,c=[n]):(a=n,c=i),await vs("TransferChecked",this.connection,new Ze.Transaction().add(t.createTransferCheckedInstruction(this.programId,e,this.publicKey,r,a,i,o,s)),this.payer,...c)}async approveChecked(e,r,n,i,o,s){let a,c;Nd(n)?(a=n.publicKey,c=[n]):(a=n,c=i),await vs("ApproveChecked",this.connection,new Ze.Transaction().add(t.createApproveCheckedInstruction(this.programId,e,this.publicKey,r,a,i,o,s)),this.payer,...c)}async mintToChecked(e,r,n,i,o){let s,a;Nd(r)?(s=r.publicKey,a=[r]):(s=r,a=n),await vs("MintToChecked",this.connection,new Ze.Transaction().add(t.createMintToCheckedInstruction(this.programId,this.publicKey,e,s,n,i,o)),this.payer,...a)}async burnChecked(e,r,n,i,o){let s,a;Nd(r)?(s=r.publicKey,a=[r]):(s=r,a=n),await vs("BurnChecked",this.connection,new Ze.Transaction().add(t.createBurnCheckedInstruction(this.programId,this.publicKey,e,s,n,i,o)),this.payer,...a)}async syncNative(e){await vs("SyncNative",this.connection,new Ze.Transaction().add(t.createSyncNativeInstruction(this.programId,e)),this.payer)}static createInitMintInstruction(e,r,n,i,o){let s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ze.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],a=as([In("instruction"),In("decimals"),cs("mintAuthority"),In("option"),cs("freezeAuthority")]),c=nn.Buffer.alloc(1024);{let d=a.encode({instruction:0,decimals:n,mintAuthority:MJ(i),option:o===null?0:1,freezeAuthority:MJ(o||new Ze.PublicKey(0))},c);c=c.slice(0,d)}return new Ze.TransactionInstruction({keys:s,programId:e,data:c})}static createInitAccountInstruction(e,r,n,i){let o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Ze.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],s=as([In("instruction")]),a=nn.Buffer.alloc(s.span);return s.encode({instruction:1},a),new Ze.TransactionInstruction({keys:o,programId:e,data:a})}static createTransferInstruction(e,r,n,i,o,s){let a=as([In("instruction"),Ff("amount")]),c=nn.Buffer.alloc(a.span);a.encode({instruction:3,amount:new za(s).toBuffer()},c);let d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return o.length===0?d.push({pubkey:i,isSigner:!0,isWritable:!1}):(d.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(f=>d.push({pubkey:f.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:d,programId:e,data:c})}static createApproveInstruction(e,r,n,i,o,s){let a=as([In("instruction"),Ff("amount")]),c=nn.Buffer.alloc(a.span);a.encode({instruction:4,amount:new za(s).toBuffer()},c);let d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return o.length===0?d.push({pubkey:i,isSigner:!0,isWritable:!1}):(d.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(f=>d.push({pubkey:f.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:d,programId:e,data:c})}static createRevokeInstruction(e,r,n,i){let o=as([In("instruction")]),s=nn.Buffer.alloc(o.span);o.encode({instruction:5},s);let a=[{pubkey:r,isSigner:!1,isWritable:!0}];return i.length===0?a.push({pubkey:n,isSigner:!0,isWritable:!1}):(a.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach(c=>a.push({pubkey:c.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:a,programId:e,data:s})}static createSetAuthorityInstruction(e,r,n,i,o,s){let a=as([In("instruction"),In("authorityType"),In("option"),cs("newAuthority")]),c=nn.Buffer.alloc(1024);{let f=a.encode({instruction:6,authorityType:tyt[i],option:n===null?0:1,newAuthority:MJ(n||new Ze.PublicKey(0))},c);c=c.slice(0,f)}let d=[{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?d.push({pubkey:o,isSigner:!0,isWritable:!1}):(d.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(f=>d.push({pubkey:f.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:d,programId:e,data:c})}static createMintToInstruction(e,r,n,i,o,s){let a=as([In("instruction"),Ff("amount")]),c=nn.Buffer.alloc(a.span);a.encode({instruction:7,amount:new za(s).toBuffer()},c);let d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return o.length===0?d.push({pubkey:i,isSigner:!0,isWritable:!1}):(d.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(f=>d.push({pubkey:f.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:d,programId:e,data:c})}static createBurnInstruction(e,r,n,i,o,s){let a=as([In("instruction"),Ff("amount")]),c=nn.Buffer.alloc(a.span);a.encode({instruction:8,amount:new za(s).toBuffer()},c);let d=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return o.length===0?d.push({pubkey:i,isSigner:!0,isWritable:!1}):(d.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(f=>d.push({pubkey:f.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:d,programId:e,data:c})}static createCloseAccountInstruction(e,r,n,i,o){let s=as([In("instruction")]),a=nn.Buffer.alloc(s.span);s.encode({instruction:9},a);let c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return o.length===0?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(d=>c.push({pubkey:d.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:c,programId:e,data:a})}static createFreezeAccountInstruction(e,r,n,i,o){let s=as([In("instruction")]),a=nn.Buffer.alloc(s.span);s.encode({instruction:10},a);let c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return o.length===0?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(d=>c.push({pubkey:d.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:c,programId:e,data:a})}static createThawAccountInstruction(e,r,n,i,o){let s=as([In("instruction")]),a=nn.Buffer.alloc(s.span);s.encode({instruction:11},a);let c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return o.length===0?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(d=>c.push({pubkey:d.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:c,programId:e,data:a})}static createTransferCheckedInstruction(e,r,n,i,o,s,a,c){let d=as([In("instruction"),Ff("amount"),In("decimals")]),f=nn.Buffer.alloc(d.span);d.encode({instruction:12,amount:new za(a).toBuffer(),decimals:c},f);let p=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}];return s.length===0?p.push({pubkey:o,isSigner:!0,isWritable:!1}):(p.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(m=>p.push({pubkey:m.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:p,programId:e,data:f})}static createApproveCheckedInstruction(e,r,n,i,o,s,a,c){let d=as([In("instruction"),Ff("amount"),In("decimals")]),f=nn.Buffer.alloc(d.span);d.encode({instruction:13,amount:new za(a).toBuffer(),decimals:c},f);let p=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}];return s.length===0?p.push({pubkey:o,isSigner:!0,isWritable:!1}):(p.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(m=>p.push({pubkey:m.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:p,programId:e,data:f})}static createMintToCheckedInstruction(e,r,n,i,o,s,a){let c=as([In("instruction"),Ff("amount"),In("decimals")]),d=nn.Buffer.alloc(c.span);c.encode({instruction:14,amount:new za(s).toBuffer(),decimals:a},d);let f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return o.length===0?f.push({pubkey:i,isSigner:!0,isWritable:!1}):(f.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(p=>f.push({pubkey:p.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:f,programId:e,data:d})}static createBurnCheckedInstruction(e,r,n,i,o,s,a){let c=as([In("instruction"),Ff("amount"),In("decimals")]),d=nn.Buffer.alloc(c.span);c.encode({instruction:15,amount:new za(s).toBuffer(),decimals:a},d);let f=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return o.length===0?f.push({pubkey:i,isSigner:!0,isWritable:!1}):(f.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach(p=>f.push({pubkey:p.publicKey,isSigner:!0,isWritable:!1}))),new Ze.TransactionInstruction({keys:f,programId:e,data:d})}static createSyncNativeInstruction(e,r){let n=as([In("instruction")]),i=nn.Buffer.alloc(n.span);n.encode({instruction:17},i);let o=[{pubkey:r,isSigner:!1,isWritable:!0}];return new Ze.TransactionInstruction({keys:o,programId:e,data:i})}static async getAssociatedTokenAddress(e,r,n,i,o=!1){if(!o&&!Ze.PublicKey.isOnCurve(i.toBuffer()))throw new Error(`Owner cannot sign: ${i.toString()}`);return(await Ze.PublicKey.findProgramAddress([i.toBuffer(),r.toBuffer(),n.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,r,n,i,o,s){let a=nn.Buffer.alloc(0),c=[{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Ze.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Ze.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new Ze.TransactionInstruction({keys:c,programId:e,data:a})}}});var HEe=_(ja=>{"use strict";u();l();var ryt=ja&&ja.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nyt=ja&&ja.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JJ=ja&&ja.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ryt(e,t,r);return nyt(e,t),e};Object.defineProperty(ja,"__esModule",{value:!0});ja.createCompressInstruction=ja.compressInstructionDiscriminator=ja.compressStruct=void 0;var iyt=JJ((YJ(),z$($J))),XJ=JJ(pe()),ZJ=JJ(So());ja.compressStruct=new XJ.BeetArgsStruct([["instructionDiscriminator",XJ.uniformFixedSizeArray(XJ.u8,8)]],"CompressInstructionArgs");ja.compressInstructionDiscriminator=[82,193,176,117,176,21,115,253];function oyt(t,e=new ZJ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var r,n;let[i]=ja.compressStruct.serialize({instructionDiscriminator:ja.compressInstructionDiscriminator}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!0},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!1,isSigner:!1},{pubkey:t.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.masterEdition,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:iyt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:t.tokenMetadataProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:ZJ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new ZJ.TransactionInstruction({programId:e,keys:o,data:i})}ja.createCompressInstruction=oyt});var YEe=_(Ka=>{"use strict";u();l();var syt=Ka&&Ka.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ayt=Ka&&Ka.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$Ee=Ka&&Ka.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&syt(e,t,r);return ayt(e,t),e};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.createCreateTreeInstruction=Ka.createTreeInstructionDiscriminator=Ka.createTreeStruct=void 0;var RA=$Ee(pe()),QJ=$Ee(So());Ka.createTreeStruct=new RA.FixableBeetArgsStruct([["instructionDiscriminator",RA.uniformFixedSizeArray(RA.u8,8)],["maxDepth",RA.u32],["maxBufferSize",RA.u32],["public",RA.coption(RA.bool)]],"CreateTreeInstructionArgs");Ka.createTreeInstructionDiscriminator=[165,83,136,142,89,202,47,220];function cyt(t,e,r=new QJ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Ka.createTreeStruct.serialize({instructionDiscriminator:Ka.createTreeInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!0,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.treeCreator,isWritable:!1,isSigner:!0},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:QJ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new QJ.TransactionInstruction({programId:r,keys:o,data:i})}Ka.createCreateTreeInstruction=cyt});var eQ=_(Dd=>{"use strict";u();l();var uyt=Dd&&Dd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lyt=Dd&&Dd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dyt=Dd&&Dd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uyt(e,t,r);return lyt(e,t),e};Object.defineProperty(Dd,"__esModule",{value:!0});Dd.tokenStandardBeet=Dd.TokenStandard=void 0;var fyt=dyt(pe()),XEe;(function(t){t[t.NonFungible=0]="NonFungible",t[t.FungibleAsset=1]="FungibleAsset",t[t.Fungible=2]="Fungible",t[t.NonFungibleEdition=3]="NonFungibleEdition"})(XEe=Dd.TokenStandard||(Dd.TokenStandard={}));Dd.tokenStandardBeet=fyt.fixedScalarEnum(XEe)});var tQ=_(Lm=>{"use strict";u();l();var pyt=Lm&&Lm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hyt=Lm&&Lm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JEe=Lm&&Lm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pyt(e,t,r);return hyt(e,t),e};Object.defineProperty(Lm,"__esModule",{value:!0});Lm.collectionBeet=void 0;var ZEe=JEe(pe()),myt=JEe(Jr());Lm.collectionBeet=new ZEe.BeetArgsStruct([["verified",ZEe.bool],["key",myt.publicKey]],"Collection")});var rQ=_(Ud=>{"use strict";u();l();var yyt=Ud&&Ud.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gyt=Ud&&Ud.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),byt=Ud&&Ud.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yyt(e,t,r);return gyt(e,t),e};Object.defineProperty(Ud,"__esModule",{value:!0});Ud.useMethodBeet=Ud.UseMethod=void 0;var _yt=byt(pe()),QEe;(function(t){t[t.Burn=0]="Burn",t[t.Multiple=1]="Multiple",t[t.Single=2]="Single"})(QEe=Ud.UseMethod||(Ud.UseMethod={}));Ud.useMethodBeet=_yt.fixedScalarEnum(QEe)});var iQ=_(zm=>{"use strict";u();l();var Syt=zm&&zm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wyt=zm&&zm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ayt=zm&&zm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Syt(e,t,r);return wyt(e,t),e};Object.defineProperty(zm,"__esModule",{value:!0});zm.usesBeet=void 0;var nQ=Ayt(pe()),Eyt=rQ();zm.usesBeet=new nQ.BeetArgsStruct([["useMethod",Eyt.useMethodBeet],["remaining",nQ.u64],["total",nQ.u64]],"Uses")});var oQ=_(Ld=>{"use strict";u();l();var Iyt=Ld&&Ld.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Tyt=Ld&&Ld.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kyt=Ld&&Ld.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Iyt(e,t,r);return Tyt(e,t),e};Object.defineProperty(Ld,"__esModule",{value:!0});Ld.tokenProgramVersionBeet=Ld.TokenProgramVersion=void 0;var vyt=kyt(pe()),eIe;(function(t){t[t.Original=0]="Original",t[t.Token2022=1]="Token2022"})(eIe=Ld.TokenProgramVersion||(Ld.TokenProgramVersion={}));Ld.tokenProgramVersionBeet=vyt.fixedScalarEnum(eIe)});var aQ=_(Fm=>{"use strict";u();l();var xyt=Fm&&Fm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Pyt=Fm&&Fm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tIe=Fm&&Fm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xyt(e,t,r);return Pyt(e,t),e};Object.defineProperty(Fm,"__esModule",{value:!0});Fm.creatorBeet=void 0;var Oyt=tIe(Jr()),sQ=tIe(pe());Fm.creatorBeet=new sQ.BeetArgsStruct([["address",Oyt.publicKey],["verified",sQ.bool],["share",sQ.u8]],"Creator")});var jm=_(qm=>{"use strict";u();l();var Ryt=qm&&qm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Cyt=qm&&qm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Byt=qm&&qm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ryt(e,t,r);return Cyt(e,t),e};Object.defineProperty(qm,"__esModule",{value:!0});qm.metadataArgsBeet=void 0;var zd=Byt(pe()),Myt=eQ(),Nyt=tQ(),Dyt=iQ(),Uyt=oQ(),Lyt=aQ();qm.metadataArgsBeet=new zd.FixableBeetArgsStruct([["name",zd.utf8String],["symbol",zd.utf8String],["uri",zd.utf8String],["sellerFeeBasisPoints",zd.u16],["primarySaleHappened",zd.bool],["isMutable",zd.bool],["editionNonce",zd.coption(zd.u8)],["tokenStandard",zd.coption(Myt.tokenStandardBeet)],["collection",zd.coption(Nyt.collectionBeet)],["uses",zd.coption(Dyt.usesBeet)],["tokenProgramVersion",Uyt.tokenProgramVersionBeet],["creators",zd.array(Lyt.creatorBeet)]],"MetadataArgs")});var rIe=_(Wa=>{"use strict";u();l();var zyt=Wa&&Wa.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Fyt=Wa&&Wa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lQ=Wa&&Wa.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zyt(e,t,r);return Fyt(e,t),e};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.createDecompressV1Instruction=Wa.decompressV1InstructionDiscriminator=Wa.decompressV1Struct=void 0;var qyt=lQ((YJ(),z$($J))),cQ=lQ(pe()),uQ=lQ(So()),jyt=jm();Wa.decompressV1Struct=new cQ.FixableBeetArgsStruct([["instructionDiscriminator",cQ.uniformFixedSizeArray(cQ.u8,8)],["metadata",jyt.metadataArgsBeet]],"DecompressV1InstructionArgs");Wa.decompressV1InstructionDiscriminator=[54,85,76,70,228,250,164,81];function Kyt(t,e,r=new uQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n,i;let[o]=Wa.decompressV1Struct.serialize({instructionDiscriminator:Wa.decompressV1InstructionDiscriminator,...e}),s=[{pubkey:t.voucher,isWritable:!0,isSigner:!1},{pubkey:t.leafOwner,isWritable:!0,isSigner:!0},{pubkey:t.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.mintAuthority,isWritable:!0,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.masterEdition,isWritable:!0,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:uQ.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarRent,isWritable:!1,isSigner:!1},{pubkey:t.tokenMetadataProgram,isWritable:!1,isSigner:!1},{pubkey:(i=t.tokenProgram)!==null&&i!==void 0?i:qyt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:t.associatedTokenProgram,isWritable:!1,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let c of t.anchorRemainingAccounts)s.push(c);return new uQ.TransactionInstruction({programId:r,keys:s,data:o})}Wa.createDecompressV1Instruction=Kyt});var iIe=_(Va=>{"use strict";u();l();var Wyt=Va&&Va.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vyt=Va&&Va.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nIe=Va&&Va.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Wyt(e,t,r);return Vyt(e,t),e};Object.defineProperty(Va,"__esModule",{value:!0});Va.createDelegateInstruction=Va.delegateInstructionDiscriminator=Va.delegateStruct=void 0;var ih=nIe(pe()),dQ=nIe(So());Va.delegateStruct=new ih.BeetArgsStruct([["instructionDiscriminator",ih.uniformFixedSizeArray(ih.u8,8)],["root",ih.uniformFixedSizeArray(ih.u8,32)],["dataHash",ih.uniformFixedSizeArray(ih.u8,32)],["creatorHash",ih.uniformFixedSizeArray(ih.u8,32)],["nonce",ih.u64],["index",ih.u32]],"DelegateInstructionArgs");Va.delegateInstructionDiscriminator=[90,147,75,178,85,88,4,137];function Gyt(t,e,r=new dQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Va.delegateStruct.serialize({instructionDiscriminator:Va.delegateInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!0},{pubkey:t.previousLeafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.newLeafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:dQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new dQ.TransactionInstruction({programId:r,keys:o,data:i})}Va.createDelegateInstruction=Gyt});var sIe=_(Ga=>{"use strict";u();l();var Hyt=Ga&&Ga.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$yt=Ga&&Ga.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oIe=Ga&&Ga.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Hyt(e,t,r);return $yt(e,t),e};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.createMintToCollectionV1Instruction=Ga.mintToCollectionV1InstructionDiscriminator=Ga.mintToCollectionV1Struct=void 0;var fQ=oIe(pe()),pQ=oIe(So()),Yyt=jm();Ga.mintToCollectionV1Struct=new fQ.FixableBeetArgsStruct([["instructionDiscriminator",fQ.uniformFixedSizeArray(fQ.u8,8)],["metadataArgs",Yyt.metadataArgsBeet]],"MintToCollectionV1InstructionArgs");Ga.mintToCollectionV1InstructionDiscriminator=[153,18,178,47,197,158,86,15];function Xyt(t,e,r=new pQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Ga.mintToCollectionV1Struct.serialize({instructionDiscriminator:Ga.mintToCollectionV1InstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!0,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.treeDelegate,isWritable:!1,isSigner:!0},{pubkey:t.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:t.collectionAuthorityRecordPda,isWritable:!1,isSigner:!1},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collectionMetadata,isWritable:!0,isSigner:!1},{pubkey:t.editionAccount,isWritable:!1,isSigner:!1},{pubkey:t.bubblegumSigner,isWritable:!1,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:t.tokenMetadataProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:pQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new pQ.TransactionInstruction({programId:r,keys:o,data:i})}Ga.createMintToCollectionV1Instruction=Xyt});var cIe=_(Ha=>{"use strict";u();l();var Zyt=Ha&&Ha.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jyt=Ha&&Ha.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aIe=Ha&&Ha.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Zyt(e,t,r);return Jyt(e,t),e};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.createMintV1Instruction=Ha.mintV1InstructionDiscriminator=Ha.mintV1Struct=void 0;var hQ=aIe(pe()),mQ=aIe(So()),Qyt=jm();Ha.mintV1Struct=new hQ.FixableBeetArgsStruct([["instructionDiscriminator",hQ.uniformFixedSizeArray(hQ.u8,8)],["message",Qyt.metadataArgsBeet]],"MintV1InstructionArgs");Ha.mintV1InstructionDiscriminator=[145,98,192,118,184,147,118,104];function egt(t,e,r=new mQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Ha.mintV1Struct.serialize({instructionDiscriminator:Ha.mintV1InstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!0,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.treeDelegate,isWritable:!1,isSigner:!0},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:mQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new mQ.TransactionInstruction({programId:r,keys:o,data:i})}Ha.createMintV1Instruction=egt});var lIe=_($a=>{"use strict";u();l();var tgt=$a&&$a.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rgt=$a&&$a.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uIe=$a&&$a.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tgt(e,t,r);return rgt(e,t),e};Object.defineProperty($a,"__esModule",{value:!0});$a.createRedeemInstruction=$a.redeemInstructionDiscriminator=$a.redeemStruct=void 0;var oh=uIe(pe()),yQ=uIe(So());$a.redeemStruct=new oh.BeetArgsStruct([["instructionDiscriminator",oh.uniformFixedSizeArray(oh.u8,8)],["root",oh.uniformFixedSizeArray(oh.u8,32)],["dataHash",oh.uniformFixedSizeArray(oh.u8,32)],["creatorHash",oh.uniformFixedSizeArray(oh.u8,32)],["nonce",oh.u64],["index",oh.u32]],"RedeemInstructionArgs");$a.redeemInstructionDiscriminator=[184,12,86,149,70,196,97,225];function ngt(t,e,r=new yQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=$a.redeemStruct.serialize({instructionDiscriminator:$a.redeemInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!0,isSigner:!0},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.voucher,isWritable:!0,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:yQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new yQ.TransactionInstruction({programId:r,keys:o,data:i})}$a.createRedeemInstruction=ngt});var dIe=_(Ya=>{"use strict";u();l();var igt=Ya&&Ya.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ogt=Ya&&Ya.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bQ=Ya&&Ya.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&igt(e,t,r);return ogt(e,t),e};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.createSetAndVerifyCollectionInstruction=Ya.setAndVerifyCollectionInstructionDiscriminator=Ya.setAndVerifyCollectionStruct=void 0;var sh=bQ(pe()),gQ=bQ(So()),sgt=bQ(Jr()),agt=jm();Ya.setAndVerifyCollectionStruct=new sh.FixableBeetArgsStruct([["instructionDiscriminator",sh.uniformFixedSizeArray(sh.u8,8)],["root",sh.uniformFixedSizeArray(sh.u8,32)],["dataHash",sh.uniformFixedSizeArray(sh.u8,32)],["creatorHash",sh.uniformFixedSizeArray(sh.u8,32)],["nonce",sh.u64],["index",sh.u32],["message",agt.metadataArgsBeet],["collection",sgt.publicKey]],"SetAndVerifyCollectionInstructionArgs");Ya.setAndVerifyCollectionInstructionDiscriminator=[235,242,121,216,158,234,180,234];function cgt(t,e,r=new gQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Ya.setAndVerifyCollectionStruct.serialize({instructionDiscriminator:Ya.setAndVerifyCollectionInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.treeDelegate,isWritable:!1,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:t.collectionAuthorityRecordPda,isWritable:!1,isSigner:!1},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collectionMetadata,isWritable:!0,isSigner:!1},{pubkey:t.editionAccount,isWritable:!1,isSigner:!1},{pubkey:t.bubblegumSigner,isWritable:!1,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:t.tokenMetadataProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:gQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new gQ.TransactionInstruction({programId:r,keys:o,data:i})}Ya.createSetAndVerifyCollectionInstruction=cgt});var pIe=_(Xa=>{"use strict";u();l();var ugt=Xa&&Xa.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lgt=Xa&&Xa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fIe=Xa&&Xa.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ugt(e,t,r);return lgt(e,t),e};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.createSetTreeDelegateInstruction=Xa.setTreeDelegateInstructionDiscriminator=Xa.setTreeDelegateStruct=void 0;var _Q=fIe(pe()),SQ=fIe(So());Xa.setTreeDelegateStruct=new _Q.BeetArgsStruct([["instructionDiscriminator",_Q.uniformFixedSizeArray(_Q.u8,8)]],"SetTreeDelegateInstructionArgs");Xa.setTreeDelegateInstructionDiscriminator=[253,118,66,37,190,49,154,102];function dgt(t,e=new SQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var r;let[n]=Xa.setTreeDelegateStruct.serialize({instructionDiscriminator:Xa.setTreeDelegateInstructionDiscriminator}),i=[{pubkey:t.treeAuthority,isWritable:!0,isSigner:!1},{pubkey:t.treeCreator,isWritable:!1,isSigner:!0},{pubkey:t.newTreeDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!1,isSigner:!1},{pubkey:(r=t.systemProgram)!==null&&r!==void 0?r:SQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let s of t.anchorRemainingAccounts)i.push(s);return new SQ.TransactionInstruction({programId:e,keys:i,data:n})}Xa.createSetTreeDelegateInstruction=dgt});var mIe=_(Za=>{"use strict";u();l();var fgt=Za&&Za.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pgt=Za&&Za.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hIe=Za&&Za.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fgt(e,t,r);return pgt(e,t),e};Object.defineProperty(Za,"__esModule",{value:!0});Za.createTransferInstruction=Za.transferInstructionDiscriminator=Za.transferStruct=void 0;var ah=hIe(pe()),wQ=hIe(So());Za.transferStruct=new ah.BeetArgsStruct([["instructionDiscriminator",ah.uniformFixedSizeArray(ah.u8,8)],["root",ah.uniformFixedSizeArray(ah.u8,32)],["dataHash",ah.uniformFixedSizeArray(ah.u8,32)],["creatorHash",ah.uniformFixedSizeArray(ah.u8,32)],["nonce",ah.u64],["index",ah.u32]],"TransferInstructionArgs");Za.transferInstructionDiscriminator=[163,52,200,231,140,3,69,186];function hgt(t,e,r=new wQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Za.transferStruct.serialize({instructionDiscriminator:Za.transferInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.newLeafOwner,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:wQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new wQ.TransactionInstruction({programId:r,keys:o,data:i})}Za.createTransferInstruction=hgt});var gIe=_(Ja=>{"use strict";u();l();var mgt=Ja&&Ja.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ygt=Ja&&Ja.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yIe=Ja&&Ja.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mgt(e,t,r);return ygt(e,t),e};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.createUnverifyCollectionInstruction=Ja.unverifyCollectionInstructionDiscriminator=Ja.unverifyCollectionStruct=void 0;var ch=yIe(pe()),AQ=yIe(So()),ggt=jm();Ja.unverifyCollectionStruct=new ch.FixableBeetArgsStruct([["instructionDiscriminator",ch.uniformFixedSizeArray(ch.u8,8)],["root",ch.uniformFixedSizeArray(ch.u8,32)],["dataHash",ch.uniformFixedSizeArray(ch.u8,32)],["creatorHash",ch.uniformFixedSizeArray(ch.u8,32)],["nonce",ch.u64],["index",ch.u32],["message",ggt.metadataArgsBeet]],"UnverifyCollectionInstructionArgs");Ja.unverifyCollectionInstructionDiscriminator=[250,251,42,106,41,137,186,168];function bgt(t,e,r=new AQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Ja.unverifyCollectionStruct.serialize({instructionDiscriminator:Ja.unverifyCollectionInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.treeDelegate,isWritable:!1,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:t.collectionAuthorityRecordPda,isWritable:!1,isSigner:!1},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collectionMetadata,isWritable:!0,isSigner:!1},{pubkey:t.editionAccount,isWritable:!1,isSigner:!1},{pubkey:t.bubblegumSigner,isWritable:!1,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:t.tokenMetadataProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:AQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new AQ.TransactionInstruction({programId:r,keys:o,data:i})}Ja.createUnverifyCollectionInstruction=bgt});var _Ie=_(Qa=>{"use strict";u();l();var _gt=Qa&&Qa.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Sgt=Qa&&Qa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bIe=Qa&&Qa.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_gt(e,t,r);return Sgt(e,t),e};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.createUnverifyCreatorInstruction=Qa.unverifyCreatorInstructionDiscriminator=Qa.unverifyCreatorStruct=void 0;var uh=bIe(pe()),EQ=bIe(So()),wgt=jm();Qa.unverifyCreatorStruct=new uh.FixableBeetArgsStruct([["instructionDiscriminator",uh.uniformFixedSizeArray(uh.u8,8)],["root",uh.uniformFixedSizeArray(uh.u8,32)],["dataHash",uh.uniformFixedSizeArray(uh.u8,32)],["creatorHash",uh.uniformFixedSizeArray(uh.u8,32)],["nonce",uh.u64],["index",uh.u32],["message",wgt.metadataArgsBeet]],"UnverifyCreatorInstructionArgs");Qa.unverifyCreatorInstructionDiscriminator=[107,178,57,39,105,115,112,152];function Agt(t,e,r=new EQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=Qa.unverifyCreatorStruct.serialize({instructionDiscriminator:Qa.unverifyCreatorInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.creator,isWritable:!1,isSigner:!0},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:EQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new EQ.TransactionInstruction({programId:r,keys:o,data:i})}Qa.createUnverifyCreatorInstruction=Agt});var wIe=_(ec=>{"use strict";u();l();var Egt=ec&&ec.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Igt=ec&&ec.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SIe=ec&&ec.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Egt(e,t,r);return Igt(e,t),e};Object.defineProperty(ec,"__esModule",{value:!0});ec.createVerifyCollectionInstruction=ec.verifyCollectionInstructionDiscriminator=ec.verifyCollectionStruct=void 0;var lh=SIe(pe()),IQ=SIe(So()),Tgt=jm();ec.verifyCollectionStruct=new lh.FixableBeetArgsStruct([["instructionDiscriminator",lh.uniformFixedSizeArray(lh.u8,8)],["root",lh.uniformFixedSizeArray(lh.u8,32)],["dataHash",lh.uniformFixedSizeArray(lh.u8,32)],["creatorHash",lh.uniformFixedSizeArray(lh.u8,32)],["nonce",lh.u64],["index",lh.u32],["message",Tgt.metadataArgsBeet]],"VerifyCollectionInstructionArgs");ec.verifyCollectionInstructionDiscriminator=[56,113,101,253,79,55,122,169];function kgt(t,e,r=new IQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=ec.verifyCollectionStruct.serialize({instructionDiscriminator:ec.verifyCollectionInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.treeDelegate,isWritable:!1,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:t.collectionAuthorityRecordPda,isWritable:!1,isSigner:!1},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collectionMetadata,isWritable:!0,isSigner:!1},{pubkey:t.editionAccount,isWritable:!1,isSigner:!1},{pubkey:t.bubblegumSigner,isWritable:!1,isSigner:!1},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:t.tokenMetadataProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:IQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new IQ.TransactionInstruction({programId:r,keys:o,data:i})}ec.createVerifyCollectionInstruction=kgt});var EIe=_(tc=>{"use strict";u();l();var vgt=tc&&tc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xgt=tc&&tc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AIe=tc&&tc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vgt(e,t,r);return xgt(e,t),e};Object.defineProperty(tc,"__esModule",{value:!0});tc.createVerifyCreatorInstruction=tc.verifyCreatorInstructionDiscriminator=tc.verifyCreatorStruct=void 0;var dh=AIe(pe()),TQ=AIe(So()),Pgt=jm();tc.verifyCreatorStruct=new dh.FixableBeetArgsStruct([["instructionDiscriminator",dh.uniformFixedSizeArray(dh.u8,8)],["root",dh.uniformFixedSizeArray(dh.u8,32)],["dataHash",dh.uniformFixedSizeArray(dh.u8,32)],["creatorHash",dh.uniformFixedSizeArray(dh.u8,32)],["nonce",dh.u64],["index",dh.u32],["message",Pgt.metadataArgsBeet]],"VerifyCreatorInstructionArgs");tc.verifyCreatorInstructionDiscriminator=[52,17,96,132,71,4,85,194];function Ogt(t,e,r=new TQ.PublicKey("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")){var n;let[i]=tc.verifyCreatorStruct.serialize({instructionDiscriminator:tc.verifyCreatorInstructionDiscriminator,...e}),o=[{pubkey:t.treeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.leafOwner,isWritable:!1,isSigner:!1},{pubkey:t.leafDelegate,isWritable:!1,isSigner:!1},{pubkey:t.merkleTree,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.creator,isWritable:!1,isSigner:!0},{pubkey:t.logWrapper,isWritable:!1,isSigner:!1},{pubkey:t.compressionProgram,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:TQ.SystemProgram.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(let a of t.anchorRemainingAccounts)o.push(a);return new TQ.TransactionInstruction({programId:r,keys:o,data:i})}tc.createVerifyCreatorInstruction=Ogt});var IIe=_(wo=>{"use strict";u();l();var Rgt=wo&&wo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rc=wo&&wo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Rgt(e,t,r)};Object.defineProperty(wo,"__esModule",{value:!0});rc(dEe(),wo);rc(pEe(),wo);rc(HEe(),wo);rc(YEe(),wo);rc(rIe(),wo);rc(iIe(),wo);rc(sIe(),wo);rc(cIe(),wo);rc(lIe(),wo);rc(dIe(),wo);rc(pIe(),wo);rc(mIe(),wo);rc(gIe(),wo);rc(_Ie(),wo);rc(wIe(),wo);rc(EIe(),wo)});var kIe=_(Fd=>{"use strict";u();l();var Cgt=Fd&&Fd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bgt=Fd&&Fd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Mgt=Fd&&Fd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Cgt(e,t,r);return Bgt(e,t),e};Object.defineProperty(Fd,"__esModule",{value:!0});Fd.bubblegumEventTypeBeet=Fd.BubblegumEventType=void 0;var Ngt=Mgt(pe()),TIe;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.LeafSchemaEvent=1]="LeafSchemaEvent"})(TIe=Fd.BubblegumEventType||(Fd.BubblegumEventType={}));Fd.bubblegumEventTypeBeet=Ngt.fixedScalarEnum(TIe)});var xIe=_(qd=>{"use strict";u();l();var Dgt=qd&&qd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ugt=qd&&qd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lgt=qd&&qd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Dgt(e,t,r);return Ugt(e,t),e};Object.defineProperty(qd,"__esModule",{value:!0});qd.instructionNameBeet=qd.InstructionName=void 0;var zgt=Lgt(pe()),vIe;(function(t){t[t.Unknown=0]="Unknown",t[t.MintV1=1]="MintV1",t[t.Redeem=2]="Redeem",t[t.CancelRedeem=3]="CancelRedeem",t[t.Transfer=4]="Transfer",t[t.Delegate=5]="Delegate",t[t.DecompressV1=6]="DecompressV1",t[t.Compress=7]="Compress",t[t.Burn=8]="Burn",t[t.CreateTree=9]="CreateTree",t[t.VerifyCreator=10]="VerifyCreator",t[t.UnverifyCreator=11]="UnverifyCreator",t[t.VerifyCollection=12]="VerifyCollection",t[t.UnverifyCollection=13]="UnverifyCollection",t[t.SetAndVerifyCollection=14]="SetAndVerifyCollection",t[t.MintToCollectionV1=15]="MintToCollectionV1"})(vIe=qd.InstructionName||(qd.InstructionName={}));qd.instructionNameBeet=zgt.fixedScalarEnum(vIe)});var OIe=_(jd=>{"use strict";u();l();var Fgt=jd&&jd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qgt=jd&&jd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jgt=jd&&jd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Fgt(e,t,r);return qgt(e,t),e};Object.defineProperty(jd,"__esModule",{value:!0});jd.versionBeet=jd.Version=void 0;var Kgt=jgt(pe()),PIe;(function(t){t[t.V1=0]="V1"})(PIe=jd.Version||(jd.Version={}));jd.versionBeet=Kgt.fixedScalarEnum(PIe)});var RIe=_(la=>{"use strict";u();l();var Wgt=la&&la.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fh=la&&la.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Wgt(e,t,r)};Object.defineProperty(la,"__esModule",{value:!0});fh(kIe(),la);fh(tQ(),la);fh(aQ(),la);fh(xIe(),la);fh(kJ(),la);fh(jm(),la);fh(oQ(),la);fh(eQ(),la);fh(rQ(),la);fh(iQ(),la);fh(OIe(),la)});var ZR=_(Yu=>{"use strict";u();l();var Vgt=Yu&&Yu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bq=Yu&&Yu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Vgt(e,t,r)};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.PROGRAM_ID=Yu.PROGRAM_ADDRESS=void 0;var Ggt=So();Bq(cEe(),Yu);Bq(uEe(),Yu);Bq(IIe(),Yu);Bq(RIe(),Yu);Yu.PROGRAM_ADDRESS="BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY";Yu.PROGRAM_ID=new Ggt.PublicKey(Yu.PROGRAM_ADDRESS)});var CIe=_(Mq=>{"use strict";u();l();Object.defineProperty(Mq,"__esModule",{value:!0});Mq.errorCodeFromLogs=void 0;var Hgt=/Custom program error: (0x[a-f0-9]+)/i;function $gt(t){for(let e of t){let r=e.match(Hgt);if(r==null)continue;let n=r[1];try{return parseInt(n)}catch{}}return null}Mq.errorCodeFromLogs=$gt});var BIe=_(or=>{"use strict";u();l();Object.defineProperty(or,"__esModule",{value:!0});or.LangErrorMessage=or.LangErrorCode=void 0;or.LangErrorCode={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,StateInvalidAddress:4e3,Deprecated:5e3};or.LangErrorMessage=new Map([[or.LangErrorCode.InstructionMissing,"8 byte instruction identifier not provided"],[or.LangErrorCode.InstructionFallbackNotFound,"Fallback functions are not supported"],[or.LangErrorCode.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[or.LangErrorCode.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[or.LangErrorCode.IdlInstructionStub,"The program was compiled without idl instructions"],[or.LangErrorCode.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[or.LangErrorCode.ConstraintMut,"A mut constraint was violated"],[or.LangErrorCode.ConstraintHasOne,"A has_one constraint was violated"],[or.LangErrorCode.ConstraintSigner,"A signer constraint was violated"],[or.LangErrorCode.ConstraintRaw,"A raw constraint was violated"],[or.LangErrorCode.ConstraintOwner,"An owner constraint was violated"],[or.LangErrorCode.ConstraintRentExempt,"A rent exempt constraint was violated"],[or.LangErrorCode.ConstraintSeeds,"A seeds constraint was violated"],[or.LangErrorCode.ConstraintExecutable,"An executable constraint was violated"],[or.LangErrorCode.ConstraintState,"A state constraint was violated"],[or.LangErrorCode.ConstraintAssociated,"An associated constraint was violated"],[or.LangErrorCode.ConstraintAssociatedInit,"An associated init constraint was violated"],[or.LangErrorCode.ConstraintClose,"A close constraint was violated"],[or.LangErrorCode.ConstraintAddress,"An address constraint was violated"],[or.LangErrorCode.ConstraintZero,"Expected zero account discriminant"],[or.LangErrorCode.ConstraintTokenMint,"A token mint constraint was violated"],[or.LangErrorCode.ConstraintTokenOwner,"A token owner constraint was violated"],[or.LangErrorCode.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[or.LangErrorCode.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[or.LangErrorCode.ConstraintMintDecimals,"A mint decimals constraint was violated"],[or.LangErrorCode.ConstraintSpace,"A space constraint was violated"],[or.LangErrorCode.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[or.LangErrorCode.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[or.LangErrorCode.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[or.LangErrorCode.AccountDidNotDeserialize,"Failed to deserialize the account"],[or.LangErrorCode.AccountDidNotSerialize,"Failed to serialize the account"],[or.LangErrorCode.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[or.LangErrorCode.AccountNotMutable,"The given account is not mutable"],[or.LangErrorCode.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[or.LangErrorCode.InvalidProgramId,"Program ID was not as expected"],[or.LangErrorCode.InvalidProgramExecutable,"Program account is not executable"],[or.LangErrorCode.AccountNotSigner,"The given account did not sign"],[or.LangErrorCode.AccountNotSystemOwned,"The given account is not owned by the system program"],[or.LangErrorCode.AccountNotInitialized,"The program expected this account to be already initialized"],[or.LangErrorCode.AccountNotProgramData,"The given account is not a program data account"],[or.LangErrorCode.StateInvalidAddress,"The given state account does not have the correct address"],[or.LangErrorCode.Deprecated,"The API being used is deprecated and should no longer be used"]])});var MIe=_(Nq=>{"use strict";u();l();Object.defineProperty(Nq,"__esModule",{value:!0});Nq.tokenLendingErrors=void 0;Nq.tokenLendingErrors=new Map([[0,{code:0,message:'Failed to unpack instruction data"',name:"InstructionUnpackError"}],[1,{code:1,message:'Account is already initialized"',name:"AlreadyInitialized"}],[2,{code:2,message:'Lamport balance below rent-exempt threshold"',name:"NotRentExempt"}],[3,{code:3,message:'Market authority is invalid"',name:"InvalidMarketAuthority"}],[4,{code:4,message:'Market owner is invalid"',name:"InvalidMarketOwner"}],[5,{code:5,message:'Input account owner is not the program address"',name:"InvalidAccountOwner"}],[6,{code:6,message:'Input token account is not owned by the correct token program id"',name:"InvalidTokenOwner"}],[7,{code:7,message:'Input token account is not valid"',name:"InvalidTokenAccount"}],[8,{code:8,message:'Input token mint account is not valid"',name:"InvalidTokenMint"}],[9,{code:9,message:'Input token program account is not valid"',name:"InvalidTokenProgram"}],[10,{code:10,message:'Input amount is invalid"',name:"InvalidAmount"}],[11,{code:11,message:'Input config value is invalid"',name:"InvalidConfig"}],[12,{code:12,message:'Input account must be a signer"',name:"InvalidSigner"}],[13,{code:13,message:'Invalid account input"',name:"InvalidAccountInput"}],[14,{code:14,message:'Math operation overflow"',name:"MathOverflow"}],[15,{code:15,message:'Token initialize mint failed"',name:"TokenInitializeMintFailed"}],[16,{code:16,message:'Token initialize account failed"',name:"TokenInitializeAccountFailed"}],[17,{code:17,message:'Token transfer failed"',name:"TokenTransferFailed"}],[18,{code:18,message:'Token mint to failed"',name:"TokenMintToFailed"}],[19,{code:19,message:'Token burn failed"',name:"TokenBurnFailed"}],[20,{code:20,message:'Insufficient liquidity available"',name:"InsufficientLiquidity"}],[21,{code:21,message:'Input reserve has collateral disabled"',name:"ReserveCollateralDisabled"}],[22,{code:22,message:'Reserve state needs to be refreshed"',name:"ReserveStale"}],[23,{code:23,message:'Withdraw amount too small"',name:"WithdrawTooSmall"}],[24,{code:24,message:'Withdraw amount too large"',name:"WithdrawTooLarge"}],[25,{code:25,message:'Borrow amount too small to receive liquidity after fees"',name:"BorrowTooSmall"}],[26,{code:26,message:'Borrow amount too large for deposited collateral"',name:"BorrowTooLarge"}],[27,{code:27,message:'Repay amount too small to transfer liquidity"',name:"RepayTooSmall"}],[28,{code:28,message:'Liquidation amount too small to receive collateral"',name:"LiquidationTooSmall"}],[29,{code:29,message:'Cannot liquidate healthy obligations"',name:"ObligationHealthy"}],[30,{code:30,message:'Obligation state needs to be refreshed"',name:"ObligationStale"}],[31,{code:31,message:'Obligation reserve limit exceeded"',name:"ObligationReserveLimit"}],[32,{code:32,message:'Obligation owner is invalid"',name:"InvalidObligationOwner"}],[33,{code:33,message:'Obligation deposits are empty"',name:"ObligationDepositsEmpty"}],[34,{code:34,message:'Obligation borrows are empty"',name:"ObligationBorrowsEmpty"}],[35,{code:35,message:'Obligation deposits have zero value"',name:"ObligationDepositsZero"}],[36,{code:36,message:'Obligation borrows have zero value"',name:"ObligationBorrowsZero"}],[37,{code:37,message:'Invalid obligation collateral"',name:"InvalidObligationCollateral"}],[38,{code:38,message:'Invalid obligation liquidity"',name:"InvalidObligationLiquidity"}],[39,{code:39,message:'Obligation collateral is empty"',name:"ObligationCollateralEmpty"}],[40,{code:40,message:'Obligation liquidity is empty"',name:"ObligationLiquidityEmpty"}],[41,{code:41,message:'Interest rate is negative"',name:"NegativeInterestRate"}],[42,{code:42,message:'Input oracle config is invalid"',name:"InvalidOracleConfig"}],[43,{code:43,message:'Input flash loan receiver program account is not valid"',name:"InvalidFlashLoanReceiverProgram"}],[44,{code:44,message:'Not enough liquidity after flash loan"',name:"NotEnoughLiquidityAfterFlashLoan"}]])});var DIe=_(us=>{"use strict";u();l();var Ygt=us&&us.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xgt=us&&us.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Zgt=us&&us.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ygt(e,t,r);return Xgt(e,t),e};Object.defineProperty(us,"__esModule",{value:!0});us.TokenLendingError=us.AnchorError=us.CustomProgramError=us.CusperUnknownError=us.initCusper=us.ErrorResolver=void 0;var Jgt=CIe(),NIe=Zgt(BIe()),Qgt=MIe(),Dq=class{constructor(e){this.resolveErrorFromCode=e}errorFromCode(e,r,n=!0){let i=this.resolveErrorFromCode!=null?this.resolveErrorFromCode(e):null;if(i!=null)return this.passPreparedError(i,r??this.errorFromCode);if(i=QR.fromCode(e),i!=null)return this.passPreparedError(i,r??this.errorFromCode);if(i=eC.fromCode(e),i!=null)return this.passPreparedError(i,r??this.errorFromCode);if(n)return i=new JR(e,"CusperUnknownError","cusper does not know this error"),this.passPreparedError(i,r??this.errorFromCode)}errorFromProgramLogs(e,r=!0){let n=(0,Jgt.errorCodeFromLogs)(e);return n==null?null:this.errorFromCode(n,this.errorFromProgramLogs,r)}throwError(e){let r=e.logs!=null&&this.errorFromProgramLogs(e.logs,!0)||new JR(-1,"Error created without logs and thus without error code");throw this.passPreparedError(r,this.throwError)}passPreparedError(e,r){return e==null?null:(typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(e,r),e)}};us.ErrorResolver=Dq;function ebt(t){return new Dq(t)}us.initCusper=ebt;var JR=class extends Error{constructor(e,...r){super(...r),this.code=e,this.name="CusperUnknownError"}};us.CusperUnknownError=JR;var kQ=class extends Error{constructor(e,r,...n){super(...n),this.code=e,this.name=`CustomProgramError#${r}`}};us.CustomProgramError=kQ;var QR=class t extends Error{constructor(e,r,...n){super(...n),this.code=e,this.name=`AnchorError#${r}`}static fromCode(e){let r=t.errorMap.get(e);return r!=null?new t(r.code,r.name,r.message):null}toString(){return`${this.name}: ${this.message}`}};us.AnchorError=QR;QR.errorMap=Object.entries(NIe.LangErrorCode).reduce((t,[e,r])=>(t.set(r,{code:r,name:e,message:NIe.LangErrorMessage.get(r)}),t),new Map);var eC=class t extends Error{constructor(e,r,...n){super(...n),this.code=e,this.name=`TokenLendingError#${r}`}static fromCode(e){let r=t.errorMap.get(e);return r!=null?new t(r.code,r.name,r.message):null}toString(){return`${this.name}: ${this.message}`}};us.TokenLendingError=eC;eC.errorMap=Qgt.tokenLendingErrors});var LIe=_(UIe=>{"use strict";u();l();Object.defineProperty(UIe,"__esModule",{value:!0})});var vQ=_(y_=>{"use strict";u();l();var tbt=y_&&y_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zIe=y_&&y_.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&tbt(e,t,r)};Object.defineProperty(y_,"__esModule",{value:!0});zIe(DIe(),y_);zIe(LIe(),y_)});var FIe=_(Uq=>{"use strict";u();l();Object.defineProperty(Uq,"__esModule",{value:!0});Uq.cusper=void 0;var rbt=vQ(),nbt=ZR();Uq.cusper=(0,rbt.initCusper)(nbt.errorFromCode)});var WIe=_(da=>{"use strict";u();l();var ibt=da&&da.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),obt=da&&da.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ibt(e,t,r)},sbt=da&&da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(da,"__esModule",{value:!0});da.computeCompressedNFTHash=da.computeCreatorHash=da.computeDataHash=da.getLeafAssetId=void 0;var qIe=ZR(),Lq=rrt(),abt=So(),cbt=sbt(Lu());obt(ZR(),da);async function ubt(t,e){let[r]=await abt.PublicKey.findProgramAddress([Buffer.from("asset","utf8"),t.toBuffer(),Uint8Array.from(e.toArray("le",8))],qIe.PROGRAM_ID);return r}da.getLeafAssetId=ubt;function jIe(t){let[e]=qIe.metadataArgsBeet.serialize(t),r=Buffer.from(Lq.keccak_256.digest(e)),n=new cbt.default(t.sellerFeeBasisPoints).toBuffer("le",2);return Buffer.from(Lq.keccak_256.digest(Buffer.concat([r,n])))}da.computeDataHash=jIe;function KIe(t){let e=Buffer.from([]);for(let r of t)e=Buffer.concat([r.address.toBuffer(),Buffer.from([r.verified?1:0]),Buffer.from([r.share])]);return Buffer.from(Lq.keccak_256.digest(e))}da.computeCreatorHash=KIe;function lbt(t,e,r,n,i){let o=Buffer.concat([Buffer.from([1]),t.toBuffer(),e.toBuffer(),r.toBuffer(),n.toBuffer("le",8),jIe(i),KIe(i.creators)]);return Buffer.from(Lq.keccak_256.digest(o))}da.computeCompressedNFTHash=lbt});var PQ=_(Qg=>{"use strict";u();l();var dbt=Qg&&Qg.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xQ=Qg&&Qg.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dbt(e,t,r)};Object.defineProperty(Qg,"__esModule",{value:!0});xQ(ZR(),Qg);xQ(FIe(),Qg);xQ(WIe(),Qg)});var GIe=_((tBr,VIe)=>{"use strict";u();l();function fbt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),d=Math.log(256)/Math.log(s);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var g=0,b=0,S=0,P=y.length;S!==P&&y[S]===0;)S++,g++;for(var U=(P-S)*d+1>>>0,L=new Uint8Array(U);S!==P;){for(var j=y[S],Z=0,se=U-1;(j!==0||Z<b)&&se!==-1;se--,Z++)j+=256*L[se]>>>0,L[se]=j%s>>>0,j=j/s>>>0;if(j!==0)throw new Error("Non-zero carry");b=Z,S++}for(var Ee=U-b;Ee!==U&&L[Ee]===0;)Ee++;for(var be=a.repeat(g);Ee<U;++Ee)be+=t.charAt(L[Ee]);return be}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;for(var g=0,b=0,S=0;y[g]===a;)b++,g++;for(var P=(y.length-g)*c+1>>>0,U=new Uint8Array(P);y[g];){var L=e[y.charCodeAt(g)];if(L===255)return;for(var j=0,Z=P-1;(L!==0||j<S)&&Z!==-1;Z--,j++)L+=s*U[Z]>>>0,U[Z]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");S=j,g++}for(var se=P-S;se!==P&&U[se]===0;)se++;for(var Ee=new Uint8Array(b+(P-se)),be=b;se!==P;)Ee[be++]=U[se++];return Ee}function m(y){var g=p(y);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:p,decode:m}}VIe.exports=fbt});var OQ=_((iBr,HIe)=>{u();l();var pbt=GIe(),hbt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";HIe.exports=pbt(hbt)});var fTe=_(l1=>{"use strict";u();l();var CQ=Zz(),c1=Jz(),XIe=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l1.Buffer=xe;l1.SlowBuffer=Abt;l1.INSPECT_MAX_BYTES=50;var qq=2147483647;l1.kMaxLength=qq;xe.TYPED_ARRAY_SUPPORT=gbt();!xe.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function gbt(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(xe.prototype,"parent",{enumerable:!0,get:function(){if(xe.isBuffer(this))return this.buffer}});Object.defineProperty(xe.prototype,"offset",{enumerable:!0,get:function(){if(xe.isBuffer(this))return this.byteOffset}});function eb(t){if(t>qq)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,xe.prototype),e}function xe(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return DQ(t)}return eTe(t,e,r)}xe.poolSize=8192;function eTe(t,e,r){if(typeof t=="string")return _bt(t,e);if(ArrayBuffer.isView(t))return Sbt(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Km(t,ArrayBuffer)||t&&Km(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Km(t,SharedArrayBuffer)||t&&Km(t.buffer,SharedArrayBuffer)))return MQ(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return xe.from(n,e,r);let i=wbt(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return xe.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}xe.from=function(t,e,r){return eTe(t,e,r)};Object.setPrototypeOf(xe.prototype,Uint8Array.prototype);Object.setPrototypeOf(xe,Uint8Array);function tTe(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function bbt(t,e,r){return tTe(t),t<=0?eb(t):e!==void 0?typeof r=="string"?eb(t).fill(e,r):eb(t).fill(e):eb(t)}xe.alloc=function(t,e,r){return bbt(t,e,r)};function DQ(t){return tTe(t),eb(t<0?0:UQ(t)|0)}xe.allocUnsafe=function(t){return DQ(t)};xe.allocUnsafeSlow=function(t){return DQ(t)};function _bt(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!xe.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=rTe(t,e)|0,n=eb(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function BQ(t){let e=t.length<0?0:UQ(t.length)|0,r=eb(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Sbt(t){if(Km(t,Uint8Array)){let e=new Uint8Array(t);return MQ(e.buffer,e.byteOffset,e.byteLength)}return BQ(t)}function MQ(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,xe.prototype),n}function wbt(t){if(xe.isBuffer(t)){let e=UQ(t.length)|0,r=eb(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||zQ(t.length)?eb(0):BQ(t);if(t.type==="Buffer"&&Array.isArray(t.data))return BQ(t.data)}function UQ(t){if(t>=qq)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+qq.toString(16)+" bytes");return t|0}function Abt(t){return+t!=t&&(t=0),xe.alloc(+t)}xe.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==xe.prototype};xe.compare=function(e,r){if(Km(e,Uint8Array)&&(e=xe.from(e,e.offset,e.byteLength)),Km(r,Uint8Array)&&(r=xe.from(r,r.offset,r.byteLength)),!xe.isBuffer(e)||!xe.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};xe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};xe.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return xe.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=xe.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(Km(s,Uint8Array))o+s.length>i.length?(xe.isBuffer(s)||(s=xe.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(xe.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function rTe(t,e){if(xe.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Km(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return NQ(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return dTe(t).length;default:if(i)return n?-1:NQ(t).length;e=(""+e).toLowerCase(),i=!0}}xe.byteLength=rTe;function Ebt(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Bbt(this,e,r);case"utf8":case"utf-8":return iTe(this,e,r);case"ascii":return Rbt(this,e,r);case"latin1":case"binary":return Cbt(this,e,r);case"base64":return Pbt(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Mbt(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}xe.prototype._isBuffer=!0;function CA(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}xe.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)CA(this,r,r+1);return this};xe.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)CA(this,r,r+3),CA(this,r+1,r+2);return this};xe.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)CA(this,r,r+7),CA(this,r+1,r+6),CA(this,r+2,r+5),CA(this,r+3,r+4);return this};xe.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?iTe(this,0,e):Ebt.apply(this,arguments)};xe.prototype.toLocaleString=xe.prototype.toString;xe.prototype.equals=function(e){if(!xe.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:xe.compare(this,e)===0};xe.prototype.inspect=function(){let e="",r=l1.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};XIe&&(xe.prototype[XIe]=xe.prototype.inspect);xe.prototype.compare=function(e,r,n,i,o){if(Km(e,Uint8Array)&&(e=xe.from(e,e.offset,e.byteLength)),!xe.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,a=n-r,c=Math.min(s,a),d=this.slice(i,o),f=e.slice(r,n);for(let p=0;p<c;++p)if(d[p]!==f[p]){s=d[p],a=f[p];break}return s<a?-1:a<s?1:0};function nTe(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,zQ(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=xe.from(e,n)),xe.isBuffer(e))return e.length===0?-1:ZIe(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):ZIe(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function ZIe(t,e,r,n,i){let o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function c(f,p){return o===1?f[p]:f.readUInt16BE(p*o)}let d;if(i){let f=-1;for(d=r;d<s;d++)if(c(t,d)===c(e,f===-1?0:d-f)){if(f===-1&&(f=d),d-f+1===a)return f*o}else f!==-1&&(d-=d-f),f=-1}else for(r+a>s&&(r=s-a),d=r;d>=0;d--){let f=!0;for(let p=0;p<a;p++)if(c(t,d+p)!==c(e,p)){f=!1;break}if(f)return d}return-1}xe.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};xe.prototype.indexOf=function(e,r,n){return nTe(this,e,r,n,!0)};xe.prototype.lastIndexOf=function(e,r,n){return nTe(this,e,r,n,!1)};function Ibt(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(zQ(a))return s;t[r+s]=a}return s}function Tbt(t,e,r,n){return jq(NQ(e,t.length-r),t,r,n)}function kbt(t,e,r,n){return jq(Lbt(e),t,r,n)}function vbt(t,e,r,n){return jq(dTe(e),t,r,n)}function xbt(t,e,r,n){return jq(zbt(e,t.length-r),t,r,n)}xe.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Ibt(this,e,r,n);case"utf8":case"utf-8":return Tbt(this,e,r,n);case"ascii":case"latin1":case"binary":return kbt(this,e,r,n);case"base64":return vbt(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xbt(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};xe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Pbt(t,e,r){return e===0&&r===t.length?CQ.fromByteArray(t):CQ.fromByteArray(t.slice(e,r))}function iTe(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){let c,d,f,p;switch(a){case 1:o<128&&(s=o);break;case 2:c=t[i+1],(c&192)===128&&(p=(o&31)<<6|c&63,p>127&&(s=p));break;case 3:c=t[i+1],d=t[i+2],(c&192)===128&&(d&192)===128&&(p=(o&15)<<12|(c&63)<<6|d&63,p>2047&&(p<55296||p>57343)&&(s=p));break;case 4:c=t[i+1],d=t[i+2],f=t[i+3],(c&192)===128&&(d&192)===128&&(f&192)===128&&(p=(o&15)<<18|(c&63)<<12|(d&63)<<6|f&63,p>65535&&p<1114112&&(s=p))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return Obt(n)}var JIe=4096;function Obt(t){let e=t.length;if(e<=JIe)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=JIe));return r}function Rbt(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function Cbt(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Bbt(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=Fbt[t[o]];return i}function Mbt(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}xe.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,xe.prototype),i};function js(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}xe.prototype.readUintLE=xe.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||js(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};xe.prototype.readUintBE=xe.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||js(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};xe.prototype.readUint8=xe.prototype.readUInt8=function(e,r){return e=e>>>0,r||js(e,1,this.length),this[e]};xe.prototype.readUint16LE=xe.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||js(e,2,this.length),this[e]|this[e+1]<<8};xe.prototype.readUint16BE=xe.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||js(e,2,this.length),this[e]<<8|this[e+1]};xe.prototype.readUint32LE=xe.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||js(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};xe.prototype.readUint32BE=xe.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||js(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};xe.prototype.readBigUInt64LE=g_(function(e){e=e>>>0,u1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&tC(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});xe.prototype.readBigUInt64BE=g_(function(e){e=e>>>0,u1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&tC(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});xe.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||js(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};xe.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||js(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};xe.prototype.readInt8=function(e,r){return e=e>>>0,r||js(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};xe.prototype.readInt16LE=function(e,r){e=e>>>0,r||js(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};xe.prototype.readInt16BE=function(e,r){e=e>>>0,r||js(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};xe.prototype.readInt32LE=function(e,r){return e=e>>>0,r||js(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};xe.prototype.readInt32BE=function(e,r){return e=e>>>0,r||js(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};xe.prototype.readBigInt64LE=g_(function(e){e=e>>>0,u1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&tC(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});xe.prototype.readBigInt64BE=g_(function(e){e=e>>>0,u1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&tC(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});xe.prototype.readFloatLE=function(e,r){return e=e>>>0,r||js(e,4,this.length),c1.read(this,e,!0,23,4)};xe.prototype.readFloatBE=function(e,r){return e=e>>>0,r||js(e,4,this.length),c1.read(this,e,!1,23,4)};xe.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||js(e,8,this.length),c1.read(this,e,!0,52,8)};xe.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||js(e,8,this.length),c1.read(this,e,!1,52,8)};function vl(t,e,r,n,i,o){if(!xe.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}xe.prototype.writeUintLE=xe.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;vl(this,e,r,n,a,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};xe.prototype.writeUintBE=xe.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;vl(this,e,r,n,a,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};xe.prototype.writeUint8=xe.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||vl(this,e,r,1,255,0),this[r]=e&255,r+1};xe.prototype.writeUint16LE=xe.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||vl(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};xe.prototype.writeUint16BE=xe.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||vl(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};xe.prototype.writeUint32LE=xe.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||vl(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};xe.prototype.writeUint32BE=xe.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||vl(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function oTe(t,e,r,n,i){lTe(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function sTe(t,e,r,n,i){lTe(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}xe.prototype.writeBigUInt64LE=g_(function(e,r=0){return oTe(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});xe.prototype.writeBigUInt64BE=g_(function(e,r=0){return sTe(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});xe.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);vl(this,e,r,n,c-1,-c)}let o=0,s=1,a=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&a===0&&this[r+o-1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};xe.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);vl(this,e,r,n,c-1,-c)}let o=n-1,s=1,a=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[r+o+1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};xe.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||vl(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};xe.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||vl(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};xe.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||vl(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};xe.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||vl(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};xe.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||vl(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};xe.prototype.writeBigInt64LE=g_(function(e,r=0){return oTe(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});xe.prototype.writeBigInt64BE=g_(function(e,r=0){return sTe(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function aTe(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function cTe(t,e,r,n,i){return e=+e,r=r>>>0,i||aTe(t,e,r,4,34028234663852886e22,-34028234663852886e22),c1.write(t,e,r,n,23,4),r+4}xe.prototype.writeFloatLE=function(e,r,n){return cTe(this,e,r,!0,n)};xe.prototype.writeFloatBE=function(e,r,n){return cTe(this,e,r,!1,n)};function uTe(t,e,r,n,i){return e=+e,r=r>>>0,i||aTe(t,e,r,8,17976931348623157e292,-17976931348623157e292),c1.write(t,e,r,n,52,8),r+8}xe.prototype.writeDoubleLE=function(e,r,n){return uTe(this,e,r,!0,n)};xe.prototype.writeDoubleBE=function(e,r,n){return uTe(this,e,r,!1,n)};xe.prototype.copy=function(e,r,n,i){if(!xe.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};xe.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!xe.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=xe.isBuffer(e)?e:xe.from(e,i),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%a]}return this};var a1={};function LQ(t,e,r){a1[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}LQ("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);LQ("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);LQ("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=QIe(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=QIe(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function QIe(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Nbt(t,e,r){u1(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&tC(e,t.length-(r+1))}function lTe(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new a1.ERR_OUT_OF_RANGE("value",a,t)}Nbt(n,i,o)}function u1(t,e){if(typeof t!="number")throw new a1.ERR_INVALID_ARG_TYPE(e,"number",t)}function tC(t,e,r){throw Math.floor(t)!==t?(u1(t,r),new a1.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new a1.ERR_BUFFER_OUT_OF_BOUNDS:new a1.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var Dbt=/[^+/0-9A-Za-z-_]/g;function Ubt(t){if(t=t.split("=")[0],t=t.trim().replace(Dbt,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function NQ(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function Lbt(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function zbt(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function dTe(t){return CQ.toByteArray(Ubt(t))}function jq(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Km(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function zQ(t){return t!==t}var Fbt=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function g_(t){return typeof BigInt>"u"?qbt:t}function qbt(){throw new Error("BigInt not supported")}});var Wq=_(Xu=>{"use strict";u();l();Object.defineProperty(Xu,"__esModule",{value:!0});Xu.output=Xu.exists=Xu.hash=Xu.bytes=Xu.bool=Xu.number=void 0;function Kq(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Xu.number=Kq;function pTe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Xu.bool=pTe;function FQ(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Xu.bytes=FQ;function hTe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Kq(t.outputLen),Kq(t.blockLen)}Xu.hash=hTe;function mTe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Xu.exists=mTe;function yTe(t,e){FQ(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Xu.output=yTe;var jbt={number:Kq,bool:pTe,bytes:FQ,hash:hTe,exists:mTe,output:yTe};Xu.default=jbt});var gTe=_(Vq=>{"use strict";u();l();Object.defineProperty(Vq,"__esModule",{value:!0});Vq.crypto=void 0;Vq.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var d1=_(Vr=>{"use strict";u();l();Object.defineProperty(Vr,"__esModule",{value:!0});Vr.randomBytes=Vr.wrapConstructorWithOpts=Vr.wrapConstructor=Vr.checkOpts=Vr.Hash=Vr.concatBytes=Vr.toBytes=Vr.utf8ToBytes=Vr.asyncLoop=Vr.nextTick=Vr.hexToBytes=Vr.bytesToHex=Vr.isLE=Vr.rotr=Vr.createView=Vr.u32=Vr.u8=void 0;var Gq=gTe(),Kbt=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Vr.u8=Kbt;var Wbt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Vr.u32=Wbt;var Vbt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Vr.createView=Vbt;var Gbt=(t,e)=>t<<32-e|t>>>e;Vr.rotr=Gbt;Vr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Vr.isLE)throw new Error("Non little-endian hardware is not supported");var Hbt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function $bt(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Hbt[t[r]];return e}Vr.bytesToHex=$bt;function Ybt(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}Vr.hexToBytes=Ybt;var Xbt=async()=>{};Vr.nextTick=Xbt;async function Zbt(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,Vr.nextTick)(),n+=o)}}Vr.asyncLoop=Zbt;function bTe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Vr.utf8ToBytes=bTe;function jQ(t){if(typeof t=="string"&&(t=bTe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Vr.toBytes=jQ;function Jbt(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}Vr.concatBytes=Jbt;var qQ=class{clone(){return this._cloneInto()}};Vr.Hash=qQ;var Qbt=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function e0t(t,e){if(e!==void 0&&(typeof e!="object"||!Qbt(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Vr.checkOpts=e0t;function t0t(t){let e=n=>t().update(jQ(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Vr.wrapConstructor=t0t;function r0t(t){let e=(n,i)=>t(i).update(jQ(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Vr.wrapConstructorWithOpts=r0t;function n0t(t=32){if(Gq.crypto.web)return Gq.crypto.web.getRandomValues(new Uint8Array(t));if(Gq.crypto.node)return new Uint8Array(Gq.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Vr.randomBytes=n0t});var VQ=_(Hq=>{"use strict";u();l();Object.defineProperty(Hq,"__esModule",{value:!0});Hq.SHA2=void 0;var KQ=Wq(),rC=d1();function i0t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,d=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+d,a,n)}var WQ=class extends rC.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,rC.createView)(this.buffer)}update(e){KQ.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,rC.toBytes)(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=(0,rC.createView)(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){KQ.default.exists(this),KQ.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let p=s;p<i;p++)r[p]=0;i0t(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=(0,rC.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=c/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)a.setUint32(4*p,f[p],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};Hq.SHA2=WQ});var $Q=_(jf=>{"use strict";u();l();Object.defineProperty(jf,"__esModule",{value:!0});jf.add=jf.toBig=jf.split=jf.fromBig=void 0;var $q=BigInt(2**32-1),GQ=BigInt(32);function HQ(t,e=!1){return e?{h:Number(t&$q),l:Number(t>>GQ&$q)}:{h:Number(t>>GQ&$q)|0,l:Number(t&$q)|0}}jf.fromBig=HQ;function _Te(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=HQ(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}jf.split=_Te;var o0t=(t,e)=>BigInt(t>>>0)<<GQ|BigInt(e>>>0);jf.toBig=o0t;var s0t=(t,e,r)=>t>>>r,a0t=(t,e,r)=>t<<32-r|e>>>r,c0t=(t,e,r)=>t>>>r|e<<32-r,u0t=(t,e,r)=>t<<32-r|e>>>r,l0t=(t,e,r)=>t<<64-r|e>>>r-32,d0t=(t,e,r)=>t>>>r-32|e<<64-r,f0t=(t,e)=>e,p0t=(t,e)=>t,h0t=(t,e,r)=>t<<r|e>>>32-r,m0t=(t,e,r)=>e<<r|t>>>32-r,y0t=(t,e,r)=>e<<r-32|t>>>64-r,g0t=(t,e,r)=>t<<r-32|e>>>64-r;function STe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}jf.add=STe;var b0t=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),_0t=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,S0t=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),w0t=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,A0t=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),E0t=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,I0t={fromBig:HQ,split:_Te,toBig:jf.toBig,shrSH:s0t,shrSL:a0t,rotrSH:c0t,rotrSL:u0t,rotrBH:l0t,rotrBL:d0t,rotr32H:f0t,rotr32L:p0t,rotlSH:h0t,rotlSL:m0t,rotlBH:y0t,rotlBL:g0t,add:STe,add3L:b0t,add3H:_0t,add4L:S0t,add4H:w0t,add5H:E0t,add5L:A0t};jf.default=I0t});var wTe=_(Kf=>{"use strict";u();l();Object.defineProperty(Kf,"__esModule",{value:!0});Kf.sha384=Kf.sha512_256=Kf.sha512_224=Kf.sha512=Kf.SHA512=void 0;var T0t=VQ(),kr=$Q(),Yq=d1(),[k0t,v0t]=kr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),b_=new Uint32Array(80),__=new Uint32Array(80),BA=class extends T0t.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:d,El:f,Fh:p,Fl:m,Gh:y,Gl:g,Hh:b,Hl:S}=this;return[e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,S]}set(e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,S){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=d|0,this.El=f|0,this.Fh=p|0,this.Fl=m|0,this.Gh=y|0,this.Gl=g|0,this.Hh=b|0,this.Hl=S|0}process(e,r){for(let L=0;L<16;L++,r+=4)b_[L]=e.getUint32(r),__[L]=e.getUint32(r+=4);for(let L=16;L<80;L++){let j=b_[L-15]|0,Z=__[L-15]|0,se=kr.default.rotrSH(j,Z,1)^kr.default.rotrSH(j,Z,8)^kr.default.shrSH(j,Z,7),Ee=kr.default.rotrSL(j,Z,1)^kr.default.rotrSL(j,Z,8)^kr.default.shrSL(j,Z,7),be=b_[L-2]|0,fe=__[L-2]|0,w=kr.default.rotrSH(be,fe,19)^kr.default.rotrBH(be,fe,61)^kr.default.shrSH(be,fe,6),R=kr.default.rotrSL(be,fe,19)^kr.default.rotrBL(be,fe,61)^kr.default.shrSL(be,fe,6),B=kr.default.add4L(Ee,R,__[L-7],__[L-16]),C=kr.default.add4H(B,se,w,b_[L-7],b_[L-16]);b_[L]=C|0,__[L]=B|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:d,Dl:f,Eh:p,El:m,Fh:y,Fl:g,Gh:b,Gl:S,Hh:P,Hl:U}=this;for(let L=0;L<80;L++){let j=kr.default.rotrSH(p,m,14)^kr.default.rotrSH(p,m,18)^kr.default.rotrBH(p,m,41),Z=kr.default.rotrSL(p,m,14)^kr.default.rotrSL(p,m,18)^kr.default.rotrBL(p,m,41),se=p&y^~p&b,Ee=m&g^~m&S,be=kr.default.add5L(U,Z,Ee,v0t[L],__[L]),fe=kr.default.add5H(be,P,j,se,k0t[L],b_[L]),w=be|0,R=kr.default.rotrSH(n,i,28)^kr.default.rotrBH(n,i,34)^kr.default.rotrBH(n,i,39),B=kr.default.rotrSL(n,i,28)^kr.default.rotrBL(n,i,34)^kr.default.rotrBL(n,i,39),C=n&o^n&a^o&a,O=i&s^i&c^s&c;P=b|0,U=S|0,b=y|0,S=g|0,y=p|0,g=m|0,{h:p,l:m}=kr.default.add(d|0,f|0,fe|0,w|0),d=a|0,f=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let N=kr.default.add3L(w,B,O);n=kr.default.add3H(N,fe,R,C),i=N|0}({h:n,l:i}=kr.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=kr.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=kr.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:d,l:f}=kr.default.add(this.Dh|0,this.Dl|0,d|0,f|0),{h:p,l:m}=kr.default.add(this.Eh|0,this.El|0,p|0,m|0),{h:y,l:g}=kr.default.add(this.Fh|0,this.Fl|0,y|0,g|0),{h:b,l:S}=kr.default.add(this.Gh|0,this.Gl|0,b|0,S|0),{h:P,l:U}=kr.default.add(this.Hh|0,this.Hl|0,P|0,U|0),this.set(n,i,o,s,a,c,d,f,p,m,y,g,b,S,P,U)}roundClean(){b_.fill(0),__.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Kf.SHA512=BA;var YQ=class extends BA{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},XQ=class extends BA{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},ZQ=class extends BA{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Kf.sha512=(0,Yq.wrapConstructor)(()=>new BA);Kf.sha512_224=(0,Yq.wrapConstructor)(()=>new YQ);Kf.sha512_256=(0,Yq.wrapConstructor)(()=>new XQ);Kf.sha384=(0,Yq.wrapConstructor)(()=>new ZQ)});var ETe=_((FBr,ATe)=>{u();l();var x0t=e8(),P0t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ATe.exports=x0t(P0t)});var ITe=_(f1=>{"use strict";u();l();Object.defineProperty(f1,"__esModule",{value:!0});f1.sha224=f1.sha256=void 0;var O0t=VQ(),Wf=d1(),R0t=(t,e,r)=>t&e^~t&r,C0t=(t,e,r)=>t&e^t&r^e&r,B0t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),S_=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),w_=new Uint32Array(64),Xq=class extends O0t.SHA2{constructor(){super(64,32,8,!1),this.A=S_[0]|0,this.B=S_[1]|0,this.C=S_[2]|0,this.D=S_[3]|0,this.E=S_[4]|0,this.F=S_[5]|0,this.G=S_[6]|0,this.H=S_[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,r,n,i,o,s,a,c]}set(e,r,n,i,o,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let p=0;p<16;p++,r+=4)w_[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let m=w_[p-15],y=w_[p-2],g=(0,Wf.rotr)(m,7)^(0,Wf.rotr)(m,18)^m>>>3,b=(0,Wf.rotr)(y,17)^(0,Wf.rotr)(y,19)^y>>>10;w_[p]=b+w_[p-7]+g+w_[p-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:d,H:f}=this;for(let p=0;p<64;p++){let m=(0,Wf.rotr)(a,6)^(0,Wf.rotr)(a,11)^(0,Wf.rotr)(a,25),y=f+m+R0t(a,c,d)+B0t[p]+w_[p]|0,b=((0,Wf.rotr)(n,2)^(0,Wf.rotr)(n,13)^(0,Wf.rotr)(n,22))+C0t(n,i,o)|0;f=d,d=c,c=a,a=s+y|0,s=o,o=i,i=n,n=y+b|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(n,i,o,s,a,c,d,f)}roundClean(){w_.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},JQ=class extends Xq{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};f1.sha256=(0,Wf.wrapConstructor)(()=>new Xq);f1.sha224=(0,Wf.wrapConstructor)(()=>new JQ)});var kTe=_((GBr,TTe)=>{u();l();var M0t=e8(),N0t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";TTe.exports=M0t(N0t)});var RTe=_(di=>{"use strict";u();l();var D0t=di&&di.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),U0t=di&&di.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Wm=di&&di.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},L0t=di&&di.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&D0t(e,t,r);return U0t(e,t),e},vTe=di&&di.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(di,"__esModule",{value:!0});di.deserializeUnchecked=di.deserialize=di.serialize=di.BinaryReader=di.BinaryWriter=di.BorshError=di.baseDecode=di.baseEncode=void 0;var A_=vTe(Lu()),xTe=vTe(kTe()),z0t=L0t(EP()),F0t=typeof TextDecoder!="function"?z0t.TextDecoder:TextDecoder,q0t=new F0t("utf-8",{fatal:!0});function j0t(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),xTe.default.encode(Buffer.from(t))}di.baseEncode=j0t;function K0t(t){return Buffer.from(xTe.default.decode(t))}di.baseDecode=K0t;var QQ=1024,fa=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};di.BorshError=fa;var Zq=class{constructor(){this.buf=Buffer.alloc(QQ),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(QQ)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new A_.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new A_.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new A_.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new A_.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(QQ)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};di.BinaryWriter=Zq;function Vm(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new fa("Reached the end of buffer when deserializing")}throw o}}}var Zu=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new A_.default(e,"le")}readU128(){let e=this.readBuffer(16);return new A_.default(e,"le")}readU256(){let e=this.readBuffer(32);return new A_.default(e,"le")}readU512(){let e=this.readBuffer(64);return new A_.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new fa(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return q0t.decode(r)}catch(n){throw new fa(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};Wm([Vm],Zu.prototype,"readU8",null);Wm([Vm],Zu.prototype,"readU16",null);Wm([Vm],Zu.prototype,"readU32",null);Wm([Vm],Zu.prototype,"readU64",null);Wm([Vm],Zu.prototype,"readU128",null);Wm([Vm],Zu.prototype,"readU256",null);Wm([Vm],Zu.prototype,"readU512",null);Wm([Vm],Zu.prototype,"readString",null);Wm([Vm],Zu.prototype,"readFixedArray",null);Wm([Vm],Zu.prototype,"readArray",null);di.BinaryReader=Zu;function PTe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function MA(t,e,r,n,i){try{if(typeof n=="string")i[`write${PTe(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new fa(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new fa(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)MA(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{MA(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),MA(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{MA(t,e,s,n.key,i),MA(t,e,o,n.value,i)});break}default:throw new fa(`FieldType ${n} unrecognized`)}else OTe(t,r,i)}catch(o){throw o instanceof fa&&o.addToFieldPath(e),o}}function OTe(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new fa(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{MA(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),MA(t,s,e[s],a,r);break}}}else throw new fa(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function W0t(t,e,r=Zq){let n=new r;return OTe(t,e,n),n.toArray()}di.serialize=W0t;function NA(t,e,r,n){try{if(typeof r=="string")return n[`read${PTe(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(NA(t,null,r[0],n));return i}else return n.readArray(()=>NA(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?NA(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let a=NA(t,e,r.key,n),c=NA(t,e,r.value,n);i.set(a,c)}return i}return eee(t,r,n)}catch(i){throw i instanceof fa&&i.addToFieldPath(e),i}}function eee(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new fa(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=NA(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new fa(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=NA(t,o,s,r);return new e({[o]:a})}throw new fa(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function V0t(t,e,r,n=Zu){let i=new n(r),o=eee(t,e,i);if(i.offset<r.length)throw new fa(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}di.deserialize=V0t;function G0t(t,e,r,n=Zu){let i=new n(r);return eee(t,e,i)}di.deserializeUnchecked=G0t});var zTe=_(Pi=>{"use strict";u();l();Object.defineProperty(Pi,"__esModule",{value:!0});Pi.shake256=Pi.shake128=Pi.keccak_512=Pi.keccak_384=Pi.keccak_256=Pi.keccak_224=Pi.sha3_512=Pi.sha3_384=Pi.sha3_256=Pi.sha3_224=Pi.Keccak=Pi.keccakP=void 0;var p1=Wq(),oC=$Q(),iC=d1(),[MTe,NTe,DTe]=[[],[],[]],H0t=BigInt(0),nC=BigInt(1),$0t=BigInt(2),Y0t=BigInt(7),X0t=BigInt(256),Z0t=BigInt(113);for(let t=0,e=nC,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],MTe.push(2*(5*n+r)),NTe.push((t+1)*(t+2)/2%64);let i=H0t;for(let o=0;o<7;o++)e=(e<<nC^(e>>Y0t)*Z0t)%X0t,e&$0t&&(i^=nC<<(nC<<BigInt(o))-nC);DTe.push(i)}var[J0t,Q0t]=oC.default.split(DTe,!0),CTe=(t,e,r)=>r>32?oC.default.rotlBH(t,e,r):oC.default.rotlSH(t,e,r),BTe=(t,e,r)=>r>32?oC.default.rotlBL(t,e,r):oC.default.rotlSL(t,e,r);function UTe(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,d=r[c],f=r[c+1],p=CTe(d,f,1)^r[a],m=BTe(d,f,1)^r[a+1];for(let y=0;y<50;y+=10)t[s+y]^=p,t[s+y+1]^=m}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=NTe[s],c=CTe(i,o,a),d=BTe(i,o,a),f=MTe[s];i=t[f],o=t[f+1],t[f]=c,t[f+1]=d}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=J0t[n],t[1]^=Q0t[n]}r.fill(0)}Pi.keccakP=UTe;var sC=class t extends iC.Hash{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,p1.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,iC.u32)(this.state)}keccak(){UTe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){p1.default.exists(this);let{blockLen:r,state:n}=this;e=(0,iC.toBytes)(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){p1.default.exists(this,!1),p1.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return p1.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(p1.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};Pi.Keccak=sC;var E_=(t,e,r)=>(0,iC.wrapConstructor)(()=>new sC(e,t,r));Pi.sha3_224=E_(6,144,224/8);Pi.sha3_256=E_(6,136,256/8);Pi.sha3_384=E_(6,104,384/8);Pi.sha3_512=E_(6,72,512/8);Pi.keccak_224=E_(1,144,224/8);Pi.keccak_256=E_(1,136,256/8);Pi.keccak_384=E_(1,104,384/8);Pi.keccak_512=E_(1,72,512/8);var LTe=(t,e,r)=>(0,iC.wrapConstructorWithOpts)((n={})=>new sC(e,t,n.dkLen===void 0?r:n.dkLen,!0));Pi.shake128=LTe(31,168,128/8);Pi.shake256=LTe(31,136,256/8)});var qTe=_(aC=>{"use strict";u();l();Object.defineProperty(aC,"__esModule",{value:!0});aC.hmac=void 0;var Jq=Wq(),FTe=d1(),Qq=class extends FTe.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Jq.default.hash(e);let n=(0,FTe.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Jq.default.exists(this),this.iHash.update(e),this}digestInto(e){Jq.default.exists(this),Jq.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},e_t=(t,e,r)=>new Qq(t,e).update(r).digest();aC.hmac=e_t;aC.hmac.create=(t,e)=>new Qq(t,e)});var we=_(Ye=>{"use strict";u();l();Object.defineProperty(Ye,"__esModule",{value:!0});var $t=fTe(),t_t=wTe(),r_t=Qz(),n_t=Lu(),i_t=ETe(),aee=ITe(),tee=RTe(),s1e=Ce(),cee=II(),I=t8(),o_t=r8(),s_t=n8(),a_t=i8(),jTe=zTe(),c_t=qTe(),u_t=o8();function _C(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function vee(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var k_=vee(r_t),KTe=_C(n_t),pa=_C(i_t),G=vee(s1e),l_t=_C(o_t),d_t=_C(s_t),f_t=_C(a_t),hj=vee(u_t);k_.utils.sha512Sync=(...t)=>t_t.sha512(k_.utils.concatBytes(...t));var p_t=k_.utils.randomPrivateKey,WTe=()=>{let t=k_.utils.randomPrivateKey(),e=ij(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},ij=k_.sync.getPublicKey;function VTe(t){try{return k_.Point.fromHex(t,!0),!0}catch{return!1}}var xee=(t,e)=>k_.sync.sign(t,e.slice(0,32)),h_t=k_.sync.verify,vr=t=>$t.Buffer.isBuffer(t)?t:t instanceof Uint8Array?$t.Buffer.from(t.buffer,t.byteOffset,t.byteLength):$t.Buffer.from(t),dC=class{constructor(e){Object.assign(this,e)}encode(){return $t.Buffer.from(tee.serialize(lC,this))}static decode(e){return tee.deserialize(lC,this,e)}static decodeUnchecked(e){return tee.deserializeUnchecked(lC,this,e)}},uee=class extends dC{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},lC=new Map,a1e,c1e=32,Wd=32;function m_t(t){return t._bn!==void 0}var GTe=1;a1e=Symbol.toStringTag;var it=class t extends dC{constructor(e){if(super({}),this._bn=void 0,m_t(e))this._bn=e._bn;else{if(typeof e=="string"){let r=pa.default.decode(e);if(r.length!=Wd)throw new Error("Invalid public key input");this._bn=new KTe.default(r)}else this._bn=new KTe.default(e);if(this._bn.byteLength()>Wd)throw new Error("Invalid public key input")}}static unique(){let e=new t(GTe);return GTe+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return pa.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike($t.Buffer);if(e.length===Wd)return e;let r=$t.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[a1e](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=$t.Buffer.concat([e.toBuffer(),$t.Buffer.from(r),n.toBuffer()]),o=aee.sha256(i);return new t(o)}static createProgramAddressSync(e,r){let n=$t.Buffer.alloc(0);e.forEach(function(o){if(o.length>c1e)throw new TypeError("Max seed length exceeded");n=$t.Buffer.concat([n,vr(o)])}),n=$t.Buffer.concat([n,r.toBuffer(),$t.Buffer.from("ProgramDerivedAddress")]);let i=aee.sha256(n);if(VTe(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat($t.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return VTe(r.toBytes())}};it.default=new it("11111111111111111111111111111111");lC.set(it,{kind:"struct",fields:[["_bn","u256"]]});var lee=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=vr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=vr(p_t()),this._publicKey=vr(ij(this._secretKey))}get publicKey(){return new it(this._publicKey)}get secretKey(){return $t.Buffer.concat([this._secretKey,this._publicKey],64)}},y_t=new it("BPFLoader1111111111111111111111111111111111"),T_=1232,mj=127,h1=64,fC=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(fC.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var pC=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(pC.prototype,"name",{value:"TransactionExpiredTimeoutError"});var I_=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(I_.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var LA=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},Qr=(t="publicKey")=>G.blob(32,t),g_t=(t="signature")=>G.blob(64,t),UA=(t="string")=>{let e=G.struct([G.u32("length"),G.u32("lengthPadding"),G.blob(G.offset(G.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,a)=>{let c={chars:$t.Buffer.from(o,"utf8")};return n(c,s,a)},i.alloc=o=>G.u32().span+G.u32().span+$t.Buffer.from(o,"utf8").length,i},b_t=(t="authorized")=>G.struct([Qr("staker"),Qr("withdrawer")],t),__t=(t="lockup")=>G.struct([G.ns64("unixTimestamp"),G.ns64("epoch"),Qr("custodian")],t),S_t=(t="voteInit")=>G.struct([Qr("nodePubkey"),Qr("authorizedVoter"),Qr("authorizedWithdrawer"),G.u8("commission")],t),w_t=(t="voteAuthorizeWithSeedArgs")=>G.struct([G.u32("voteAuthorizationType"),Qr("currentAuthorityDerivedKeyOwnerPubkey"),UA("currentAuthorityDerivedKeySeed"),Qr("newAuthorized")],t);function u1e(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return u1e({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function xl(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Kd(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function Tn(t,e){if(!t)throw new Error(e||"Assertion failed")}var oj=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let a=s.toBase58(),c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let a of s.keys){let c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];Tn(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{Tn(r.length>0,"Expected at least one writable signer key");let[c]=r[0];Tn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...r.map(([c])=>new it(c)),...n.map(([c])=>new it(c)),...i.map(([c])=>new it(c)),...o.map(([c])=>new it(c))];return[s,a]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let a=new it(o),c=e.findIndex(d=>d.equals(a));c>=0&&(Tn(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(o))}return[n,i]}},$m=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new it(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:pa.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new LA(this.staticAccountKeys)}static compile(e){let r=oj.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new LA(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:pa.default.encode(a.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];Kd(r,e);let n=this.instructions.map(p=>{let{accounts:m,programIdIndex:y}=p,g=Array.from(pa.default.decode(p.data)),b=[];Kd(b,m.length);let S=[];return Kd(S,g.length),{programIdIndex:y,keyIndicesCount:$t.Buffer.from(b),keyIndices:m,dataLength:$t.Buffer.from(S),data:g}}),i=[];Kd(i,n.length);let o=$t.Buffer.alloc(T_);$t.Buffer.from(i).copy(o);let s=i.length;n.forEach(p=>{let y=G.struct([G.u8("programIdIndex"),G.blob(p.keyIndicesCount.length,"keyIndicesCount"),G.seq(G.u8("keyIndex"),p.keyIndices.length,"keyIndices"),G.blob(p.dataLength.length,"dataLength"),G.seq(G.u8("userdatum"),p.data.length,"data")]).encode(p,o,s);s+=y}),o=o.slice(0,s);let a=G.struct([G.blob(1,"numRequiredSignatures"),G.blob(1,"numReadonlySignedAccounts"),G.blob(1,"numReadonlyUnsignedAccounts"),G.blob(r.length,"keyCount"),G.seq(Qr("key"),e,"keys"),Qr("recentBlockhash")]),c={numRequiredSignatures:$t.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:$t.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:$t.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:$t.Buffer.from(r),keys:this.accountKeys.map(p=>vr(p.toBytes())),recentBlockhash:pa.default.decode(this.recentBlockhash)},d=$t.Buffer.alloc(2048),f=a.encode(c,d);return o.copy(d,f),d.slice(0,f+o.length)}static from(e){let r=[...e],n=r.shift();if(n!==(n&mj))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=r.shift(),o=r.shift(),s=xl(r),a=[];for(let m=0;m<s;m++){let y=r.slice(0,Wd);r=r.slice(Wd),a.push(new it($t.Buffer.from(y)))}let c=r.slice(0,Wd);r=r.slice(Wd);let d=xl(r),f=[];for(let m=0;m<d;m++){let y=r.shift(),g=xl(r),b=r.slice(0,g);r=r.slice(g);let S=xl(r),P=r.slice(0,S),U=pa.default.encode($t.Buffer.from(P));r=r.slice(S),f.push({programIdIndex:y,accounts:b,data:U})}let p={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:pa.default.encode($t.Buffer.from(c)),accountKeys:a,instructions:f};return new t(p)}},m1=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new LA(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=oj.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let f of o){let p=r.extractTableLookup(f);if(p!==void 0){let[m,{writable:y,readonly:g}]=p;n.push(m),i.writable.push(...y),i.readonly.push(...g)}}let[s,a]=r.getMessageComponents(),d=new LA(a,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:n})}serialize(){let e=Array();Kd(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();Kd(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Kd(o,this.addressTableLookups.length);let s=G.struct([G.u8("prefix"),G.struct([G.u8("numRequiredSignatures"),G.u8("numReadonlySignedAccounts"),G.u8("numReadonlyUnsignedAccounts")],"header"),G.blob(e.length,"staticAccountKeysLength"),G.seq(Qr(),this.staticAccountKeys.length,"staticAccountKeys"),Qr("recentBlockhash"),G.blob(n.length,"instructionsLength"),G.blob(r.length,"serializedInstructions"),G.blob(o.length,"addressTableLookupsLength"),G.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(T_),d=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:pa.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,d)}serializeInstructions(){let e=0,r=new Uint8Array(T_);for(let n of this.compiledInstructions){let i=Array();Kd(i,n.accountKeyIndexes.length);let o=Array();Kd(o,n.data.length);let s=G.struct([G.u8("programIdIndex"),G.blob(i.length,"encodedAccountKeyIndexesLength"),G.seq(G.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),G.blob(o.length,"encodedDataLength"),G.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(T_);for(let n of this.addressTableLookups){let i=Array();Kd(i,n.writableIndexes.length);let o=Array();Kd(o,n.readonlyIndexes.length);let s=G.struct([Qr("accountKey"),G.blob(i.length,"encodedWritableIndexesLength"),G.seq(G.u8(),n.writableIndexes.length,"writableIndexes"),G.blob(o.length,"encodedReadonlyIndexesLength"),G.seq(G.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=r.shift(),i=n&mj;Tn(n!==i,"Expected versioned message but received legacy message");let o=i;Tn(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},a=[],c=xl(r);for(let g=0;g<c;g++)a.push(new it(r.splice(0,Wd)));let d=pa.default.encode(r.splice(0,Wd)),f=xl(r),p=[];for(let g=0;g<f;g++){let b=r.shift(),S=xl(r),P=r.splice(0,S),U=xl(r),L=new Uint8Array(r.splice(0,U));p.push({programIdIndex:b,accountKeyIndexes:P,data:L})}let m=xl(r),y=[];for(let g=0;g<m;g++){let b=new it(r.splice(0,Wd)),S=xl(r),P=r.splice(0,S),U=xl(r),L=r.splice(0,U);y.push({accountKey:b,writableIndexes:P,readonlyIndexes:L})}return new t({header:s,staticAccountKeys:a,recentBlockhash:d,compiledInstructions:p,addressTableLookups:y})}},Pee={deserializeMessageVersion(t){let e=t[0],r=e&mj;return r===e?"legacy":r},deserialize:t=>{let e=Pee.deserializeMessageVersion(t);if(e==="legacy")return $m.from(t);if(e===0)return m1.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};Ye.TransactionStatus=void 0;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})(Ye.TransactionStatus||(Ye.TransactionStatus={}));var A_t=$t.Buffer.alloc(h1).fill(0),ni=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=$t.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},ri=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new ni(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let b=0;b<r.length;b++)if(r[b].programId===void 0)throw new Error(`Transaction instruction index ${b} has undefined program id`);let i=[],o=[];r.forEach(b=>{b.keys.forEach(P=>{o.push({...P})});let S=b.programId.toString();i.includes(S)||i.push(S)}),i.forEach(b=>{o.push({pubkey:new it(b),isSigner:!1,isWritable:!1})});let s=[];o.forEach(b=>{let S=b.pubkey.toString(),P=s.findIndex(U=>U.pubkey.toString()===S);P>-1?(s[P].isWritable=s[P].isWritable||b.isWritable,s[P].isSigner=s[P].isSigner||b.isSigner):s.push(b)}),s.sort(function(b,S){return b.isSigner!==S.isSigner?b.isSigner?-1:1:b.isWritable!==S.isWritable?b.isWritable?-1:1:b.pubkey.toBase58().localeCompare(S.pubkey.toBase58())});let a=s.findIndex(b=>b.pubkey.equals(n));if(a>-1){let[b]=s.splice(a,1);b.isSigner=!0,b.isWritable=!0,s.unshift(b)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let b of this.signatures){let S=s.findIndex(P=>P.pubkey.equals(b.publicKey));if(S>-1)s[S].isSigner||(s[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${b.publicKey.toString()}`)}let c=0,d=0,f=0,p=[],m=[];s.forEach(({pubkey:b,isSigner:S,isWritable:P})=>{S?(p.push(b.toString()),c+=1,P||(d+=1)):(m.push(b.toString()),P||(f+=1))});let y=p.concat(m),g=r.map(b=>{let{data:S,programId:P}=b;return{programIdIndex:y.indexOf(P.toString()),accounts:b.keys.map(U=>y.indexOf(U.pubkey.toString())),data:pa.default.encode(S)}});return g.forEach(b=>{Tn(b.programIdIndex>=0),b.accounts.forEach(S=>Tn(S>=0))}),new $m({header:{numRequiredSignatures:c,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:f},accountKeys:y,recentBlockhash:e,instructions:g})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=xee(n,i.secretKey);this._addSignature(i.publicKey,vr(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){Tn(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=$t.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(r)return!1}else if(!h_t(n,e,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];Kd(n,r.length);let i=n.length+r.length*64+e.length,o=$t.Buffer.alloc(i);return Tn(r.length<256),$t.Buffer.from(n).copy(o,0),r.forEach(({signature:s},a)=>{s!==null&&(Tn(s.length===64,"signature has invalid length"),$t.Buffer.from(s).copy(o,n.length+a*64))}),e.copy(o,n.length+r.length*64),Tn(o.length<=T_,`Transaction too large: ${o.length} > ${T_}`),o}get keys(){return Tn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Tn(this.instructions.length===1),this.instructions[0].programId}get data(){return Tn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=xl(r),i=[];for(let o=0;o<n;o++){let s=r.slice(0,h1);r=r.slice(h1),i.push(pa.default.encode($t.Buffer.from(s)))}return t.populate($m.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==pa.default.encode(A_t)?null:pa.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let a=e.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new ni({keys:o,programId:e.accountKeys[i.programIdIndex],data:pa.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},dee=class t{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,d=s-a;Tn(d>0,"Message header is invalid");let f=e.staticAccountKeys.length-s-c;Tn(f>=0,"Message header is invalid");let p=e.getAccountKeys(r),m=p.get(0);if(m===void 0)throw new Error("Failed to decompile message because no account keys were found");let y=[];for(let g of i){let b=[];for(let P of g.accountKeyIndexes){let U=p.get(P);if(U===void 0)throw new Error(`Failed to find key for account key index ${P}`);let L=P<s,j;L?j=P<d:P<p.staticAccountKeys.length?j=P-s<f:j=P-p.staticAccountKeys.length<p.accountKeysFromLookups.writable.length,b.push({pubkey:U,isSigner:P<n.numRequiredSignatures,isWritable:j})}let S=p.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);y.push(new ni({programId:S,data:vr(g.data),keys:b}))}return new t({payerKey:m,instructions:y,recentBlockhash:o})}compileToLegacyMessage(){return $m.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return m1.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},fee=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Tn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(h1));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();Kd(r,this.signatures.length);let n=G.struct([G.blob(r.length,"encodedSignaturesLength"),G.seq(g_t(),this.signatures.length,"signatures"),G.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=xl(r);for(let s=0;s<i;s++)n.push(new Uint8Array(r.splice(0,h1)));let o=Pee.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));Tn(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=xee(r,i.secretKey)}}addSignature(e,r){Tn(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));Tn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},Gm=new it("SysvarC1ock11111111111111111111111111111111"),E_t=new it("SysvarEpochSchedu1e111111111111111111111111"),I_t=new it("Sysvar1nstructions1111111111111111111111111"),tj=new it("SysvarRecentB1ockHashes11111111111111111111"),y1=new it("SysvarRent111111111111111111111111111111111"),T_t=new it("SysvarRewards111111111111111111111111111111"),k_t=new it("SysvarS1otHashes111111111111111111111111111"),v_t=new it("SysvarS1otHistory11111111111111111111111111"),rj=new it("SysvarStakeHistory1111111111111111111111111");async function nj(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function DA(t){return new Promise(e=>setTimeout(e,t))}function bn(t,e){let r=t.layout.span>=0?t.layout.span:u1e(t,e),n=$t.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function Gn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}var l1e=G.nu64("lamportsPerSignature"),d1e=G.struct([G.u32("version"),G.u32("state"),Qr("authorizedPubkey"),Qr("nonce"),G.struct([l1e],"feeCalculator")]),pee=d1e.span,sj=class t{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=d1e.decode(vr(e),0);return new t({authorizedPubkey:new it(r.authorizedPubkey),nonce:new it(r.nonce).toString(),feeCalculator:r.feeCalculator})}},x_t=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},P_t=t=>e=>{let r=s1e.blob(t,e),{encode:n,decode:i}=x_t(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return cee.toBigIntLE($t.Buffer.from(c))},o.encode=(s,a,c)=>{let d=cee.toBufferLE(s,t);return n(d,a,c)},o},g1=P_t(8),hee=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=G.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Oi))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=Gn(Oi.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new it(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=Gn(Oi.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=Gn(Oi.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new it(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=Gn(Oi.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:o}=Gn(Oi.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new it(r),seed:n,space:i,programId:new it(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=Gn(Oi.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new it(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=Gn(Oi.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new it(r),seed:n,programId:new it(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:o,programId:s}=Gn(Oi.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new it(r),seed:n,lamports:i,space:o,programId:new it(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=Gn(Oi.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new it(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Gn(Oi.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Gn(Oi.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=Gn(Oi.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new it(r)}}static checkProgramId(e){if(!e.equals(nc.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Oi=Object.freeze({Create:{index:0,layout:G.struct([G.u32("instruction"),G.ns64("lamports"),G.ns64("space"),Qr("programId")])},Assign:{index:1,layout:G.struct([G.u32("instruction"),Qr("programId")])},Transfer:{index:2,layout:G.struct([G.u32("instruction"),g1("lamports")])},CreateWithSeed:{index:3,layout:G.struct([G.u32("instruction"),Qr("base"),UA("seed"),G.ns64("lamports"),G.ns64("space"),Qr("programId")])},AdvanceNonceAccount:{index:4,layout:G.struct([G.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:G.struct([G.u32("instruction"),G.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:G.struct([G.u32("instruction"),Qr("authorized")])},AuthorizeNonceAccount:{index:7,layout:G.struct([G.u32("instruction"),Qr("authorized")])},Allocate:{index:8,layout:G.struct([G.u32("instruction"),G.ns64("space")])},AllocateWithSeed:{index:9,layout:G.struct([G.u32("instruction"),Qr("base"),UA("seed"),G.ns64("space"),Qr("programId")])},AssignWithSeed:{index:10,layout:G.struct([G.u32("instruction"),Qr("base"),UA("seed"),Qr("programId")])},TransferWithSeed:{index:11,layout:G.struct([G.u32("instruction"),g1("lamports"),UA("seed"),Qr("programId")])},UpgradeNonceAccount:{index:12,layout:G.struct([G.u32("instruction")])}}),nc=class t{constructor(){}static createAccount(e){let r=Oi.Create,n=bn(r,{lamports:e.lamports,space:e.space,programId:vr(e.programId.toBuffer())});return new ni({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=Oi.TransferWithSeed;r=bn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:vr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Oi.Transfer;r=bn(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ni({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=Oi.AssignWithSeed;r=bn(i,{base:vr(e.basePubkey.toBuffer()),seed:e.seed,programId:vr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Oi.Assign;r=bn(i,{programId:vr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ni({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=Oi.CreateWithSeed,n=bn(r,{base:vr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:vr(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ni({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new ri;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:pee,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:pee,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=Oi.InitializeNonceAccount,n=bn(r,{authorized:vr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:tj,isSigner:!1,isWritable:!1},{pubkey:y1,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new ni(i)}static nonceAdvance(e){let r=Oi.AdvanceNonceAccount,n=bn(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:tj,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new ni(i)}static nonceWithdraw(e){let r=Oi.WithdrawNonceAccount,n=bn(r,{lamports:e.lamports});return new ni({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:tj,isSigner:!1,isWritable:!1},{pubkey:y1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=Oi.AuthorizeNonceAccount,n=bn(r,{authorized:vr(e.newAuthorizedPubkey.toBuffer())});return new ni({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=Oi.AllocateWithSeed;r=bn(i,{base:vr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:vr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Oi.Allocate;r=bn(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ni({keys:n,programId:this.programId,data:r})}};nc.programId=new it("11111111111111111111111111111111");var O_t=T_-300,b1=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let p=await e.getMinimumBalanceForRentExemption(o.length),m=await e.getAccountInfo(n.publicKey,"confirmed"),y=null;if(m!==null){if(m.executable)return console.error("Program load failed, account is already executable"),!1;m.data.length!==o.length&&(y=y||new ri,y.add(nc.allocate({accountPubkey:n.publicKey,space:o.length}))),m.owner.equals(i)||(y=y||new ri,y.add(nc.assign({accountPubkey:n.publicKey,programId:i}))),m.lamports<p&&(y=y||new ri,y.add(nc.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:p-m.lamports})))}else y=new ri().add(nc.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:p>0?p:1,space:o.length,programId:i}));y!==null&&await nj(e,y,[r,n],{commitment:"confirmed"})}let s=G.struct([G.u32("instruction"),G.u32("offset"),G.u32("bytesLength"),G.u32("bytesLengthPadding"),G.seq(G.u8("byte"),G.offset(G.u32(),-8),"bytes")]),a=t.chunkSize,c=0,d=o,f=[];for(;d.length>0;){let p=d.slice(0,a),m=$t.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:p,bytesLength:0,bytesLengthPadding:0},m);let y=new ri().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:m});f.push(nj(e,y,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await DA(1e3/4),c+=a,d=d.slice(a)}await Promise.all(f);{let p=G.struct([G.u32("instruction")]),m=$t.Buffer.alloc(p.span);p.encode({instruction:1},m);let y=new ri().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:y1,isSigner:!1,isWritable:!1}],programId:i,data:m});await nj(e,y,[r,n],{commitment:"confirmed"})}return!0}};b1.chunkSize=O_t;var R_t=new it("BPFLoader2111111111111111111111111111111111"),mee=class{static getMinNumSignatures(e){return b1.getMinNumSignatures(e)}static load(e,r,n,i,o){return b1.load(e,r,n,o,i)}},C_t=Object.prototype.toString,B_t=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function uC(t,e){var r,n,i,o,s,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return uC(t.toJSON(),e);if(c=C_t.call(t),c==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=uC(t[r],!0)+",";return n>-1&&(i+=uC(t[r],!0)),i+"]"}else if(c==="[object Object]"){for(o=B_t(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],a=uC(t[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var M_t=function(t){var e=uC(t,!1);if(e!==void 0)return""+e},HTe=M_t,cC=32;function ree(t){let e=0;for(;t>1;)t/=2,e++;return e}function N_t(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}var aj=class{constructor(e,r,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=ree(N_t(e+cC+1))-ree(cC)-1,n=this.getSlotsInEpoch(r),i=e-(n-cC);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=r%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*cC:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+ree(cC)):this.slotsPerEpoch}},hC=class extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}},D_t={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},vt=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}},U_t=globalThis.fetch,yee=class extends d_t.default{constructor(e,r,n){let i=o=>{let s=f_t.default(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},L_t=160,z_t=64,F_t=L_t/z_t,q_t=1e3/F_t;function j_t(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}var $Te=56,mC=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=j_t(K_t,e),n=e.length-$Te;Tn(n>=0,"lookup table is invalid"),Tn(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=G.struct([G.seq(Qr(),i,"addresses")]).decode(e.slice($Te));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new it(r.authority[0]):void 0,addresses:o.map(s=>new it(s))}}},K_t={index:1,layout:G.struct([G.u32("typeIndex"),g1("deactivationSlot"),G.nu64("lastExtendedSlot"),G.u8("lastExtendedStartIndex"),G.u8(),G.seq(Qr(),G.offset(G.u8(),-1),"authority")])},W_t=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function V_t(t){let e=t.match(W_t);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${n}${c}${o}`}var ds=I.coerce(I.instance(it),I.string(),t=>new it(t)),f1e=I.tuple([I.string(),I.literal("base64")]),Oee=I.coerce(I.instance($t.Buffer),f1e,t=>$t.Buffer.from(t[0],"base64")),p1e=30*1e3;function G_t(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function po(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function h1e(t){return I.union([I.type({jsonrpc:I.literal("2.0"),id:I.string(),result:t}),I.type({jsonrpc:I.literal("2.0"),id:I.string(),error:I.type({code:I.unknown(),message:I.string(),data:I.optional(I.any())})})])}var H_t=h1e(I.unknown());function Dr(t){return I.coerce(h1e(t),H_t,e=>"error"in e?e:{...e,result:I.create(e.result,t)})}function ls(t){return Dr(I.type({context:I.type({slot:I.number()}),value:t}))}function yj(t){return I.type({context:I.type({slot:I.number()}),value:t})}function nee(t,e){return t===0?new m1({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new it(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:pa.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new $m(e)}var $_t=I.type({foundation:I.number(),foundationTerm:I.number(),initial:I.number(),taper:I.number(),terminal:I.number()}),Y_t=Dr(I.array(I.nullable(I.type({epoch:I.number(),effectiveSlot:I.number(),amount:I.number(),postBalance:I.number(),commission:I.optional(I.nullable(I.number()))})))),X_t=I.type({total:I.number(),validator:I.number(),foundation:I.number(),epoch:I.number()}),Z_t=I.type({epoch:I.number(),slotIndex:I.number(),slotsInEpoch:I.number(),absoluteSlot:I.number(),blockHeight:I.optional(I.number()),transactionCount:I.optional(I.number())}),J_t=I.type({slotsPerEpoch:I.number(),leaderScheduleSlotOffset:I.number(),warmup:I.boolean(),firstNormalEpoch:I.number(),firstNormalSlot:I.number()}),Q_t=I.record(I.string(),I.array(I.number())),FA=I.nullable(I.union([I.type({}),I.string()])),eSt=I.type({err:FA}),tSt=I.literal("receivedSignature"),rSt=I.type({"solana-core":I.string(),"feature-set":I.optional(I.number())}),YTe=ls(I.type({err:I.nullable(I.union([I.type({}),I.string()])),logs:I.nullable(I.array(I.string())),accounts:I.optional(I.nullable(I.array(I.nullable(I.type({executable:I.boolean(),owner:I.string(),lamports:I.number(),data:I.array(I.string()),rentEpoch:I.optional(I.number())}))))),unitsConsumed:I.optional(I.number()),returnData:I.optional(I.nullable(I.type({programId:I.string(),data:I.tuple([I.string(),I.literal("base64")])})))})),nSt=ls(I.type({byIdentity:I.record(I.string(),I.array(I.number())),range:I.type({firstSlot:I.number(),lastSlot:I.number()})}));function iSt(t,e,r,n,i,o){let s=r||U_t,a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(f,p)=>{let m=await new Promise((y,g)=>{try{n(f,p,(b,S)=>y([b,S]))}catch(b){g(b)}});return await s(...m)}),new l_t.default(async(f,p)=>{let m={method:"POST",body:f,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},nwt)};try{let y=5,g,b=500;for(;c?g=await c(t,m):g=await s(t,m),!(g.status!==429||i===!0||(y-=1,y===0));)console.log(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${b}ms delay...`),await DA(b),b*=2;let S=await g.text();g.ok?p(null,S):p(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(y){y instanceof Error&&p(y)}},{})}function oSt(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(o,s)=>{if(o){i(o);return}n(s)})})}function sSt(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){n(o);return}r(s)})})}var aSt=Dr($_t),cSt=Dr(X_t),uSt=Dr(Z_t),lSt=Dr(J_t),dSt=Dr(Q_t),fSt=Dr(I.number()),pSt=ls(I.type({total:I.number(),circulating:I.number(),nonCirculating:I.number(),nonCirculatingAccounts:I.array(ds)})),gee=I.type({amount:I.string(),uiAmount:I.nullable(I.number()),decimals:I.number(),uiAmountString:I.optional(I.string())}),hSt=ls(I.array(I.type({address:ds,amount:I.string(),uiAmount:I.nullable(I.number()),decimals:I.number(),uiAmountString:I.optional(I.string())}))),mSt=ls(I.array(I.type({pubkey:ds,account:I.type({executable:I.boolean(),owner:ds,lamports:I.number(),data:Oee,rentEpoch:I.number()})}))),bee=I.type({program:I.string(),parsed:I.unknown(),space:I.number()}),ySt=ls(I.array(I.type({pubkey:ds,account:I.type({executable:I.boolean(),owner:ds,lamports:I.number(),data:bee,rentEpoch:I.number()})}))),gSt=ls(I.array(I.type({lamports:I.number(),address:ds}))),yC=I.type({executable:I.boolean(),owner:ds,lamports:I.number(),data:Oee,rentEpoch:I.number()}),bSt=I.type({pubkey:ds,account:yC}),_St=I.coerce(I.union([I.instance($t.Buffer),bee]),I.union([f1e,bee]),t=>Array.isArray(t)?I.create(t,Oee):t),_ee=I.type({executable:I.boolean(),owner:ds,lamports:I.number(),data:_St,rentEpoch:I.number()}),SSt=I.type({pubkey:ds,account:_ee}),wSt=I.type({state:I.union([I.literal("active"),I.literal("inactive"),I.literal("activating"),I.literal("deactivating")]),active:I.number(),inactive:I.number()}),ASt=Dr(I.array(I.type({signature:I.string(),slot:I.number(),err:FA,memo:I.nullable(I.string()),blockTime:I.optional(I.nullable(I.number()))}))),ESt=Dr(I.array(I.type({signature:I.string(),slot:I.number(),err:FA,memo:I.nullable(I.string()),blockTime:I.optional(I.nullable(I.number()))}))),ISt=I.type({subscription:I.number(),result:yj(yC)}),TSt=I.type({pubkey:ds,account:yC}),kSt=I.type({subscription:I.number(),result:yj(TSt)}),vSt=I.type({parent:I.number(),slot:I.number(),root:I.number()}),xSt=I.type({subscription:I.number(),result:vSt}),PSt=I.union([I.type({type:I.union([I.literal("firstShredReceived"),I.literal("completed"),I.literal("optimisticConfirmation"),I.literal("root")]),slot:I.number(),timestamp:I.number()}),I.type({type:I.literal("createdBank"),parent:I.number(),slot:I.number(),timestamp:I.number()}),I.type({type:I.literal("frozen"),slot:I.number(),timestamp:I.number(),stats:I.type({numTransactionEntries:I.number(),numSuccessfulTransactions:I.number(),numFailedTransactions:I.number(),maxTransactionsPerEntry:I.number()})}),I.type({type:I.literal("dead"),slot:I.number(),timestamp:I.number(),err:I.string()})]),OSt=I.type({subscription:I.number(),result:PSt}),RSt=I.type({subscription:I.number(),result:yj(I.union([eSt,tSt]))}),CSt=I.type({subscription:I.number(),result:I.number()}),BSt=I.type({pubkey:I.string(),gossip:I.nullable(I.string()),tpu:I.nullable(I.string()),rpc:I.nullable(I.string()),version:I.nullable(I.string())}),XTe=I.type({votePubkey:I.string(),nodePubkey:I.string(),activatedStake:I.number(),epochVoteAccount:I.boolean(),epochCredits:I.array(I.tuple([I.number(),I.number(),I.number()])),commission:I.number(),lastVote:I.number(),rootSlot:I.nullable(I.number())}),MSt=Dr(I.type({current:I.array(XTe),delinquent:I.array(XTe)})),NSt=I.union([I.literal("processed"),I.literal("confirmed"),I.literal("finalized")]),DSt=I.type({slot:I.number(),confirmations:I.nullable(I.number()),err:FA,confirmationStatus:I.optional(NSt)}),USt=ls(I.array(I.nullable(DSt))),LSt=Dr(I.number()),m1e=I.type({accountKey:ds,writableIndexes:I.array(I.number()),readonlyIndexes:I.array(I.number())}),Ree=I.type({signatures:I.array(I.string()),message:I.type({accountKeys:I.array(I.string()),header:I.type({numRequiredSignatures:I.number(),numReadonlySignedAccounts:I.number(),numReadonlyUnsignedAccounts:I.number()}),instructions:I.array(I.type({accounts:I.array(I.number()),data:I.string(),programIdIndex:I.number()})),recentBlockhash:I.string(),addressTableLookups:I.optional(I.array(m1e))})}),y1e=I.type({pubkey:ds,signer:I.boolean(),writable:I.boolean(),source:I.optional(I.union([I.literal("transaction"),I.literal("lookupTable")]))}),g1e=I.type({accountKeys:I.array(y1e),signatures:I.array(I.string())}),b1e=I.type({parsed:I.unknown(),program:I.string(),programId:ds}),_1e=I.type({accounts:I.array(ds),data:I.string(),programId:ds}),zSt=I.union([_1e,b1e]),FSt=I.union([I.type({parsed:I.unknown(),program:I.string(),programId:I.string()}),I.type({accounts:I.array(I.string()),data:I.string(),programId:I.string()})]),S1e=I.coerce(zSt,FSt,t=>"accounts"in t?I.create(t,_1e):I.create(t,b1e)),w1e=I.type({signatures:I.array(I.string()),message:I.type({accountKeys:I.array(y1e),instructions:I.array(S1e),recentBlockhash:I.string(),addressTableLookups:I.optional(I.nullable(I.array(m1e)))})}),cj=I.type({accountIndex:I.number(),mint:I.string(),owner:I.optional(I.string()),uiTokenAmount:gee}),A1e=I.type({writable:I.array(ds),readonly:I.array(ds)}),gj=I.type({err:FA,fee:I.number(),innerInstructions:I.optional(I.nullable(I.array(I.type({index:I.number(),instructions:I.array(I.type({accounts:I.array(I.number()),data:I.string(),programIdIndex:I.number()}))})))),preBalances:I.array(I.number()),postBalances:I.array(I.number()),logMessages:I.optional(I.nullable(I.array(I.string()))),preTokenBalances:I.optional(I.nullable(I.array(cj))),postTokenBalances:I.optional(I.nullable(I.array(cj))),loadedAddresses:I.optional(A1e),computeUnitsConsumed:I.optional(I.number())}),Cee=I.type({err:FA,fee:I.number(),innerInstructions:I.optional(I.nullable(I.array(I.type({index:I.number(),instructions:I.array(S1e)})))),preBalances:I.array(I.number()),postBalances:I.array(I.number()),logMessages:I.optional(I.nullable(I.array(I.string()))),preTokenBalances:I.optional(I.nullable(I.array(cj))),postTokenBalances:I.optional(I.nullable(I.array(cj))),loadedAddresses:I.optional(A1e),computeUnitsConsumed:I.optional(I.number())}),w1=I.union([I.literal(0),I.literal("legacy")]),qA=I.type({pubkey:I.string(),lamports:I.number(),postBalance:I.nullable(I.number()),rewardType:I.nullable(I.string()),commission:I.optional(I.nullable(I.number()))}),qSt=Dr(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),transactions:I.array(I.type({transaction:Ree,meta:I.nullable(gj),version:I.optional(w1)})),rewards:I.optional(I.array(qA)),blockTime:I.nullable(I.number()),blockHeight:I.nullable(I.number())}))),jSt=Dr(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),rewards:I.optional(I.array(qA)),blockTime:I.nullable(I.number()),blockHeight:I.nullable(I.number())}))),KSt=Dr(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),transactions:I.array(I.type({transaction:g1e,meta:I.nullable(gj),version:I.optional(w1)})),rewards:I.optional(I.array(qA)),blockTime:I.nullable(I.number()),blockHeight:I.nullable(I.number())}))),WSt=Dr(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),transactions:I.array(I.type({transaction:w1e,meta:I.nullable(Cee),version:I.optional(w1)})),rewards:I.optional(I.array(qA)),blockTime:I.nullable(I.number()),blockHeight:I.nullable(I.number())}))),VSt=Dr(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),transactions:I.array(I.type({transaction:g1e,meta:I.nullable(Cee),version:I.optional(w1)})),rewards:I.optional(I.array(qA)),blockTime:I.nullable(I.number()),blockHeight:I.nullable(I.number())}))),GSt=Dr(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),rewards:I.optional(I.array(qA)),blockTime:I.nullable(I.number()),blockHeight:I.nullable(I.number())}))),HSt=Dr(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),transactions:I.array(I.type({transaction:Ree,meta:I.nullable(gj)})),rewards:I.optional(I.array(qA)),blockTime:I.nullable(I.number())}))),ZTe=Dr(I.nullable(I.type({blockhash:I.string(),previousBlockhash:I.string(),parentSlot:I.number(),signatures:I.array(I.string()),blockTime:I.nullable(I.number())}))),iee=Dr(I.nullable(I.type({slot:I.number(),meta:gj,blockTime:I.optional(I.nullable(I.number())),transaction:Ree,version:I.optional(w1)}))),ej=Dr(I.nullable(I.type({slot:I.number(),transaction:w1e,meta:I.nullable(Cee),blockTime:I.optional(I.nullable(I.number())),version:I.optional(w1)}))),$St=ls(I.type({blockhash:I.string(),feeCalculator:I.type({lamportsPerSignature:I.number()})})),YSt=ls(I.type({blockhash:I.string(),lastValidBlockHeight:I.number()})),XSt=I.type({slot:I.number(),numTransactions:I.number(),numSlots:I.number(),samplePeriodSecs:I.number()}),ZSt=Dr(I.array(XSt)),JSt=ls(I.nullable(I.type({feeCalculator:I.type({lamportsPerSignature:I.number()})}))),QSt=Dr(I.string()),ewt=Dr(I.string()),twt=I.type({err:FA,logs:I.array(I.string()),signature:I.string()}),rwt=I.type({result:yj(twt),subscription:I.number()}),nwt={"solana-client":"js/0.0.0-development"},See=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let d={};return async f=>{let{commitment:p,config:m}=po(f),y=this._buildArgs([],p,void 0,m),g=HTe(y);return d[g]=d[g]??(async()=>{try{let b=await this._rpcRequest("getBlockHeight",y),S=I.create(b,Dr(I.number()));if("error"in S)throw new vt(S.error,"failed to get block height information");return S.result}finally{delete d[g]}})(),await d[g]}})();let n,i,o,s,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,o=r.fetch,s=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=G_t(e),this._rpcWsEndpoint=n||V_t(e),this._rpcClient=iSt(e,i,o,s,a,c),this._rpcRequest=oSt(this._rpcClient),this._rpcBatchRequest=sSt(this._rpcClient),this._rpcWebSocket=new yee(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgs([e.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),a=I.create(s,ls(I.number()));if("error"in a)throw new vt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=I.create(r,Dr(I.nullable(I.number())));if("error"in n)throw new vt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=I.create(e,Dr(I.number()));if("error"in r)throw new vt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=I.create(e,fSt);if("error"in r)throw new vt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=I.create(n,pSt);if("error"in i)throw new vt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),o=I.create(i,ls(gee));if("error"in o)throw new vt(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),o=I.create(i,ls(gee));if("error"in o)throw new vt(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:o}=po(n),s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),d=I.create(c,mSt);if("error"in d)throw new vt(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=I.create(s,ySt);if("error"in a)throw new vt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),o=I.create(i,gSt);if("error"in o)throw new vt(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),o=I.create(i,hSt);if("error"in o)throw new vt(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgs([e.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=I.create(s,ls(I.nullable(yC)));if("error"in a)throw new vt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=I.create(s,ls(I.nullable(_ee)));if("error"in a)throw new vt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=po(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=I.create(a,ls(I.array(I.nullable(_ee))));if("error"in c)throw new vt(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=po(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=I.create(a,ls(I.array(I.nullable(yC))));if("error"in c)throw new vt(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:o}=po(r),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),a=await this._rpcRequest("getStakeActivation",s),c=I.create(a,Dr(wSt));if("error"in c)throw new vt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=po(r),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],n,o||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),d=I.create(c,Dr(I.array(bSt)));if("error"in d)throw new vt(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=I.create(s,Dr(I.array(SSt)));if("error"in a)throw new vt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=pa.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Tn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,o=!1,s=new Promise((c,d)=>{try{n=this.onSignature(r,(p,m)=>{n=void 0;let y={context:m,value:p};c({__type:Ye.TransactionStatus.PROCESSED,response:y})},e);let f=new Promise(p=>{n==null?p():i=this._onSubscriptionStateChange(n,m=>{m==="subscribed"&&p()})});(async()=>{if(await f,o)return;let p=await this.getSignatureStatus(r);if(o||p==null)return;let{context:m,value:y}=p;if(y!=null)if(y?.err)d(y.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(y.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(y.confirmationStatus==="processed"||y.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:Ye.TransactionStatus.PROCESSED,response:{context:m,value:y}})}})()}catch(f){d(f)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let o=!1,s=new Promise(p=>{let m=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let y=await m();if(!o){for(;y<=n;)if(await DA(1e3),o||(y=await m(),o))return;p({__type:Ye.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),d=this.getCancellationPromise(r),f;try{let p=await Promise.race([d,c,s]);if(p.__type===Ye.TransactionStatus.PROCESSED)f=p.response;else throw new fC(i)}finally{o=!0,a()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1,c=new Promise(y=>{let g=o,b=null,S=async()=>{try{let{context:P,value:U}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return b=P.slot,U?.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(o!==g){y({__type:Ye.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:b});return}if(await DA(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:d,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),p=this.getCancellationPromise(r),m;try{let y=await Promise.race([p,f,c]);if(y.__type===Ye.TransactionStatus.PROCESSED)m=y.response;else{let g;for(;;){let b=await this.getSignatureStatus(s);if(b==null)break;if(b.context.slot<(y.slotInWhichNonceDidAdvance??n)){await DA(400);continue}g=b;break}if(g?.value){let b=e||"finalized",{confirmationStatus:S}=g.value;switch(b){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new I_(s);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new I_(s);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new I_(s);break;default:}m={context:g.context,value:{err:g.value.err}}}else throw new I_(s)}}finally{a=!0,d()}return m}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(c=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:Ye.TransactionStatus.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),a;try{let c=await Promise.race([s,i]);if(c.__type===Ye.TransactionStatus.PROCESSED)a=c.response;else throw new pC(r,c.timeoutMs/1e3)}finally{clearTimeout(n),o()}return a}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=I.create(e,Dr(I.array(BSt)));if("error"in r)throw new vt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=I.create(n,MSt);if("error"in i)throw new vt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=po(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlot",i),s=I.create(o,Dr(I.number()));if("error"in s)throw new vt(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:r,config:n}=po(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=I.create(o,Dr(I.string()));if("error"in s)throw new vt(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),o=I.create(i,Dr(I.array(ds)));if("error"in o)throw new vt(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);Tn(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),o=I.create(i,USt);if("error"in o)throw new vt(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){let{commitment:r,config:n}=po(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=I.create(o,Dr(I.number()));if("error"in s)throw new vt(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=I.create(n,aSt);if("error"in i)throw new vt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:o}=po(n),s=this._buildArgs([e.map(d=>d.toBase58())],i,void 0,{...o,epoch:r??o?.epoch}),a=await this._rpcRequest("getInflationReward",s),c=I.create(a,Y_t);if("error"in c)throw new vt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=I.create(e,cSt);if("error"in r)throw new vt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=po(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=I.create(o,uSt);if("error"in s)throw new vt(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=I.create(e,lSt);if("error"in r)throw new vt(r.error,"failed to get epoch schedule");let n=r.result;return new aj(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=I.create(e,dSt);if("error"in r)throw new vt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=I.create(i,LSt);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=I.create(n,$St);if("error"in i)throw new vt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=I.create(r,ZSt);if("error"in n)throw new vt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=I.create(i,JSt);if("error"in o)throw new vt(o.error,"failed to get fee calculator");let{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){let n=vr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),o=await this._rpcRequest("getFeeForMessage",i),s=I.create(o,ls(I.nullable(I.number())));if("error"in s)throw new vt(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=po(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=I.create(o,YSt);if("error"in s)throw new vt(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=I.create(e,Dr(rSt));if("error"in r)throw new vt(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=I.create(e,Dr(I.string()));if("error"in r)throw new vt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=I.create(s,KSt);if("error"in a)throw a.error;return a.result}case"none":{let a=I.create(s,jSt);if("error"in a)throw a.error;return a.result}default:{let a=I.create(s,qSt);if("error"in a)throw a.error;let{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:d,meta:f,version:p})=>({meta:f,transaction:{...d,message:nee(p,d.message)},version:p}))}:null}}}catch(a){throw new vt(a,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=I.create(s,VSt);if("error"in a)throw a.error;return a.result}case"none":{let a=I.create(s,GSt);if("error"in a)throw a.error;return a.result}default:{let a=I.create(s,WSt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new vt(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:a,...c}=e;n=a,r=c}let i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getBlockProduction",i),s=I.create(o,nSt);if("error"in s)throw new vt(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getTransaction",o),a=I.create(s,iee);if("error"in a)throw new vt(a.error,"failed to get transaction");let c=a.result;return c&&{...c,transaction:{...c.transaction,message:nee(c.version,c.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=po(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=I.create(s,ej);if("error"in a)throw new vt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=po(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=I.create(c,ej);if("error"in d)throw new vt(d.error,"failed to get transactions");return d.result})}async getTransactions(e,r){let{commitment:n,config:i}=po(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=I.create(c,iee);if("error"in d)throw new vt(d.error,"failed to get transactions");let f=d.result;return f&&{...f,transaction:{...f.transaction,message:nee(f.version,f.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),o=I.create(i,HSt);if("error"in o)throw new vt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");let a={...s,transactions:s.transactions.map(({transaction:c,meta:d})=>{let f=new $m(c.message);return{meta:d,transaction:{...c,message:f}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:d})=>({meta:d,transaction:ri.populate(c.message,c.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),o=await this._rpcRequest("getBlocks",i),s=I.create(o,Dr(I.array(I.number())));if("error"in s)throw new vt(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=I.create(i,ZTe);if("error"in o)throw new vt(o.error,"failed to get block");let s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=I.create(i,ZTe);if("error"in o)throw new vt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),o=I.create(i,iee);if("error"in o)throw new vt(o.error,"failed to get transaction");let s=o.result;if(!s)return s;let a=new $m(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:ri.populate(a,c)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=I.create(i,ej);if("error"in o)throw new vt(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,r){let n=e.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let a=I.create(s,ej);if("error"in a)throw new vt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<o));)try{let c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{let c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=I.create(o,ASt);if("error"in s)throw new vt(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getSignaturesForAddress",i),s=I.create(o,ESt);if("error"in s)throw new vt(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=new mC({key:e,state:mC.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=sj.fromAccountData(i.data)),{context:n,value:o}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=I.create(n,QSt);if("error"in i)throw new vt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await DA(100);let n=Date.now()-this._blockhashInfo.lastFetch>=p1e;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await DA(q_t/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=po(e),i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=I.create(o,ls(I.number()));if("error"in s)throw new vt(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){let b=e.serialize(),S=$t.Buffer.from(b).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let P=r||{};P.encoding="base64","commitment"in P||(P.commitment=this.commitment);let U=[S,P],L=await this._rpcRequest("simulateTransaction",U),j=I.create(L,YTe);if("error"in j)throw new Error("failed to simulate transaction: "+j.error.message);return j.result}let i;if(e instanceof ri){let g=e;i=new ri,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=ri.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(i.nonceInfo&&o)i.sign(...o);else{let g=this._disableBlockhashCaching;for(;;){let b=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=b.lastValidBlockHeight,i.recentBlockhash=b.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}let s=i._compile(),a=s.serialize(),d=i._serialize(a).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(n){let g=(Array.isArray(n)?n:s.nonProgramIds()).map(b=>b.toBase58());f.accounts={encoding:"base64",addresses:g}}o&&(f.sigVerify=!0);let p=[d,f],m=await this._rpcRequest("simulateTransaction",p),y=I.create(m,YTe);if("error"in y){let g;if("data"in y.error&&(g=y.error.data.logs,g&&Array.isArray(g))){let b=`
    `,S=b+g.join(b);console.error(y.error.message,S)}throw new hC("failed to simulate transaction: "+y.error.message,g)}return y.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){let a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}let o=e.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(e,r){let n=vr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,o=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let s=[e,n],a=await this._rpcRequest("sendTransaction",s),c=I.create(a,ewt);if("error"in c){let d;throw"data"in c.error&&(d=c.error.data.logs),new hC("failed to send transaction: "+c.error.message,d)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var n;let i=this._subscriptionHashByClientSubscriptionId[e];if(i==null)return()=>{};let o=(n=this._subscriptionStateChangeCallbacksByHash)[i]||(n[i]=new Set);return o.add(r),()=>{o.delete(r),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let a=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,o,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=I.create(e,ISt);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=HTe([e.method,r]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[i];Tn(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=I.create(e,kSt);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=I.create(e,rwt);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=I.create(e,xSt);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=I.create(e,OSt);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let o=r||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let o=r||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=I.create(e,RSt);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){r(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,r,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(c,d)=>{r(c,d);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=I.create(e,CSt);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},uj=class t{constructor(e){this._keypair=void 0,this._keypair=e??WTe()}static generate(){return new t(WTe())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=ij(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=ij(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new it(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},tb=Object.freeze({CreateLookupTable:{index:0,layout:G.struct([G.u32("instruction"),g1("recentSlot"),G.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:G.struct([G.u32("instruction")])},ExtendLookupTable:{index:2,layout:G.struct([G.u32("instruction"),g1(),G.seq(Qr(),G.offset(G.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:G.struct([G.u32("instruction")])},CloseLookupTable:{index:4,layout:G.struct([G.u32("instruction")])}}),wee=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=G.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(tb))if(s.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=Gn(tb.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=Gn(tb.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new it(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(gC.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},gC=class{constructor(){}static createLookupTable(e){let[r,n]=it.findProgramAddressSync([e.authority.toBuffer(),cee.toBufferLE(BigInt(e.recentSlot),8)],this.programId),i=tb.CreateLookupTable,o=bn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:nc.programId,isSigner:!1,isWritable:!1}];return[new ni({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=tb.FreezeLookupTable,n=bn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ni({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=tb.ExtendLookupTable,n=bn(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:nc.programId,isSigner:!1,isWritable:!1}),new ni({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=tb.DeactivateLookupTable,n=bn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ni({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=tb.CloseLookupTable,n=bn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ni({programId:this.programId,keys:i,data:n})}};gC.programId=new it("AddressLookupTab1e1111111111111111111111111");var Aee=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=G.u8("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Hm))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=Gn(Hm.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=Gn(Hm.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=Gn(Hm.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=Gn(Hm.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(bC.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},Hm=Object.freeze({RequestUnits:{index:0,layout:G.struct([G.u8("instruction"),G.u32("units"),G.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:G.struct([G.u8("instruction"),G.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:G.struct([G.u8("instruction"),G.u32("units")])},SetComputeUnitPrice:{index:3,layout:G.struct([G.u8("instruction"),g1("microLamports")])}}),bC=class{constructor(){}static requestUnits(e){let r=Hm.RequestUnits,n=bn(r,e);return new ni({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=Hm.RequestHeapFrame,n=bn(r,e);return new ni({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=Hm.SetComputeUnitLimit,n=bn(r,e);return new ni({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=Hm.SetComputeUnitPrice,n=bn(r,{microLamports:BigInt(e.microLamports)});return new ni({keys:[],programId:this.programId,data:n})}};bC.programId=new it("ComputeBudget111111111111111111111111111111");var JTe=64,QTe=32,e1e=64,t1e=G.struct([G.u8("numSignatures"),G.u8("padding"),G.u16("signatureOffset"),G.u16("signatureInstructionIndex"),G.u16("publicKeyOffset"),G.u16("publicKeyInstructionIndex"),G.u16("messageDataOffset"),G.u16("messageDataSize"),G.u16("messageInstructionIndex")]),lj=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;Tn(r.length===QTe,`Public Key must be ${QTe} bytes but received ${r.length} bytes`),Tn(i.length===e1e,`Signature must be ${e1e} bytes but received ${i.length} bytes`);let s=t1e.span,a=s+r.length,c=a+i.length,d=1,f=$t.Buffer.alloc(c+n.length),p=o??65535;return t1e.encode({numSignatures:d,padding:0,signatureOffset:a,signatureInstructionIndex:p,publicKeyOffset:s,publicKeyInstructionIndex:p,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:p},f),f.fill(r,s),f.fill(i,a),f.fill(n,c),new ni({keys:[],programId:t.programId,data:f})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;Tn(r.length===JTe,`Private key must be ${JTe} bytes but received ${r.length} bytes`);try{let o=uj.fromSecretKey(r),s=o.publicKey.toBytes(),a=xee(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};lj.programId=new it("Ed25519SigVerify111111111111111111111111111");hj.utils.hmacSha256Sync=(t,...e)=>{let r=c_t.hmac.create(aee.sha256,t);return e.forEach(n=>r.update(n)),r.digest()};var iwt=(t,e)=>hj.signSync(t,e,{der:!1,recovered:!0});hj.utils.isValidPrivateKey;var owt=hj.getPublicKey,r1e=32,oee=20,n1e=64,swt=11,see=G.struct([G.u8("numSignatures"),G.u16("signatureOffset"),G.u8("signatureInstructionIndex"),G.u16("ethAddressOffset"),G.u8("ethAddressInstructionIndex"),G.u16("messageDataOffset"),G.u16("messageDataSize"),G.u8("messageInstructionIndex"),G.blob(20,"ethAddress"),G.blob(64,"signature"),G.u8("recoveryId")]),dj=class t{constructor(){}static publicKeyToEthAddress(e){Tn(e.length===n1e,`Public key must be ${n1e} bytes but received ${e.length} bytes`);try{return $t.Buffer.from(jTe.keccak_256(vr(e))).slice(-oee)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,a;typeof r=="string"?r.startsWith("0x")?a=$t.Buffer.from(r.substr(2),"hex"):a=$t.Buffer.from(r,"hex"):a=r,Tn(a.length===oee,`Address must be ${oee} bytes but received ${a.length} bytes`);let c=1+swt,d=c,f=c+a.length,p=f+i.length+1,m=1,y=$t.Buffer.alloc(see.span+n.length);return see.encode({numSignatures:m,signatureOffset:f,signatureInstructionIndex:s,ethAddressOffset:d,ethAddressInstructionIndex:s,messageDataOffset:p,messageDataSize:n.length,messageInstructionIndex:s,signature:vr(i),ethAddress:vr(a),recoveryId:o},y),y.fill(vr(n),see.span),new ni({keys:[],programId:t.programId,data:y})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;Tn(r.length===r1e,`Private key must be ${r1e} bytes but received ${r.length} bytes`);try{let o=vr(r),s=owt(o,!1).slice(1),a=$t.Buffer.from(jTe.keccak_256(vr(n))),[c,d]=iwt(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:d,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};dj.programId=new it("KeccakSecp256k11111111111111111111111111111");var E1e=new it("StakeConfig11111111111111111111111111111111"),fj=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},zA=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};zA.default=new zA(0,0,it.default);var Eee=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=G.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Ks))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=Gn(Ks.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new fj(new it(r.staker),new it(r.withdrawer)),lockup:new zA(n.unixTimestamp,n.epoch,new it(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Gn(Ks.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=Gn(Ks.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new it(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=Gn(Ks.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new it(o),newAuthorizedPubkey:new it(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Gn(Ks.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Gn(Ks.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=Gn(Ks.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Gn(Ks.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(_1.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Ks=Object.freeze({Initialize:{index:0,layout:G.struct([G.u32("instruction"),b_t(),__t()])},Authorize:{index:1,layout:G.struct([G.u32("instruction"),Qr("newAuthorized"),G.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:G.struct([G.u32("instruction")])},Split:{index:3,layout:G.struct([G.u32("instruction"),G.ns64("lamports")])},Withdraw:{index:4,layout:G.struct([G.u32("instruction"),G.ns64("lamports")])},Deactivate:{index:5,layout:G.struct([G.u32("instruction")])},Merge:{index:7,layout:G.struct([G.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:G.struct([G.u32("instruction"),Qr("newAuthorized"),G.u32("stakeAuthorizationType"),UA("authoritySeed"),Qr("authorityOwner")])}}),awt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),_1=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||zA.default,s=Ks.Initialize,a=bn(s,{authorized:{staker:vr(n.staker.toBuffer()),withdrawer:vr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:vr(o.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:y1,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ni(c)}static createAccountWithSeed(e){let r=new ri;r.add(nc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new ri;r.add(nc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=Ks.Delegate,s=bn(o);return new ri().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Gm,isSigner:!1,isWritable:!1},{pubkey:rj,isSigner:!1,isWritable:!1},{pubkey:E1e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=Ks.Authorize,c=bn(a,{newAuthorized:vr(i.toBuffer()),stakeAuthorizationType:o.index}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Gm,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new ri().add({keys:d,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,d=Ks.AuthorizeWithSeed,f=bn(d,{newAuthorized:vr(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:vr(o.toBuffer())}),p=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Gm,isSigner:!1,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!1,isWritable:!1}),new ri().add({keys:p,programId:this.programId,data:f})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=Ks.Split,a=bn(s,{lamports:o});return new ni({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){let r=new ri;return r.add(nc.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,c=new ri;return c.add(nc.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=Ks.Merge,s=bn(o);return new ri().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Gm,isSigner:!1,isWritable:!1},{pubkey:rj,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=Ks.Withdraw,c=bn(a,{lamports:o}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Gm,isSigner:!1,isWritable:!1},{pubkey:rj,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new ri().add({keys:d,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=Ks.Deactivate,o=bn(i);return new ri().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Gm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};_1.programId=new it("Stake11111111111111111111111111111111111111");_1.space=200;var pj=class{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},Iee=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=G.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(rb))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=Gn(rb.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new pj(new it(r.nodePubkey),new it(r.authorizedVoter),new it(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=Gn(rb.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new it(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=Gn(rb.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new it(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new it(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=Gn(rb.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(S1.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},rb=Object.freeze({InitializeAccount:{index:0,layout:G.struct([G.u32("instruction"),S_t()])},Authorize:{index:1,layout:G.struct([G.u32("instruction"),Qr("newAuthorized"),G.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:G.struct([G.u32("instruction"),G.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:G.struct([G.u32("instruction"),w_t()])}}),cwt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),S1=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=rb.InitializeAccount,s=bn(o,{voteInit:{nodePubkey:vr(i.nodePubkey.toBuffer()),authorizedVoter:vr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:vr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:y1,isSigner:!1,isWritable:!1},{pubkey:Gm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new ni(a)}static createAccount(e){let r=new ri;return r.add(nc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=rb.Authorize,a=bn(s,{newAuthorized:vr(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Gm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new ri().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,c=rb.AuthorizeWithSeed,d=bn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:vr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:vr(o.toBuffer()),voteAuthorizationType:s.index}}),f=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Gm,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new ri().add({keys:f,programId:this.programId,data:d})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=rb.Withdraw,a=bn(s,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new ri().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}};S1.programId=new it("Vote111111111111111111111111111111111111111");S1.space=3731;var I1e=new it("Va1idator1nfo111111111111111111111111111111"),uwt=I.type({name:I.string(),website:I.optional(I.string()),details:I.optional(I.string()),keybaseUsername:I.optional(I.string())}),Tee=class t{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(xl(r)!==2)return null;let i=[];for(let o=0;o<2;o++){let s=new it(r.slice(0,Wd));r=r.slice(Wd);let a=r.slice(0,1)[0]===1;r=r.slice(1),i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals(I1e)&&i[1].isSigner){let o=UA().decode($t.Buffer.from(r)),s=JSON.parse(o);return I.assert(s,uwt),new t(i[1].publicKey,s)}return null}},lwt=new it("Vote111111111111111111111111111111111111111"),dwt=G.struct([Qr("nodePubkey"),Qr("authorizedWithdrawer"),G.u8("commission"),G.nu64(),G.seq(G.struct([G.nu64("slot"),G.u32("confirmationCount")]),G.offset(G.u32(),-8),"votes"),G.u8("rootSlotValid"),G.nu64("rootSlot"),G.nu64(),G.seq(G.struct([G.nu64("epoch"),Qr("authorizedVoter")]),G.offset(G.u32(),-8),"authorizedVoters"),G.struct([G.seq(G.struct([Qr("authorizedPubkey"),G.nu64("epochOfLastAuthorizedSwitch"),G.nu64("targetEpoch")]),32,"buf"),G.nu64("idx"),G.u8("isEmpty")],"priorVoters"),G.nu64(),G.seq(G.struct([G.nu64("epoch"),G.nu64("credits"),G.nu64("prevCredits")]),G.offset(G.u32(),-8),"epochCredits"),G.struct([G.nu64("slot"),G.nu64("timestamp")],"lastTimestamp")]),kee=class t{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=dwt.decode(vr(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new it(n.nodePubkey),authorizedWithdrawer:new it(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(fwt),priorVoters:pwt(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function fwt({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new it(t)}}function i1e({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new it(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function pwt({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(i1e),...t.slice(0,e).map(i1e)]}var o1e={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function hwt(t,e){let r=e===!1?"http":"https";if(!t)return o1e[r].devnet;let n=o1e[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function mwt(t,e,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;let s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),c=o&&o.commitment,f=(await(i?t.confirmTransaction(i,c):t.confirmTransaction(a,c))).value;if(f.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(f)})`);return a}var ywt=1e9;Ye.Account=lee;Ye.AddressLookupTableAccount=mC;Ye.AddressLookupTableInstruction=wee;Ye.AddressLookupTableProgram=gC;Ye.Authorized=fj;Ye.BLOCKHASH_CACHE_TIMEOUT_MS=p1e;Ye.BPF_LOADER_DEPRECATED_PROGRAM_ID=y_t;Ye.BPF_LOADER_PROGRAM_ID=R_t;Ye.BpfLoader=mee;Ye.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Hm;Ye.ComputeBudgetInstruction=Aee;Ye.ComputeBudgetProgram=bC;Ye.Connection=See;Ye.Ed25519Program=lj;Ye.Enum=uee;Ye.EpochSchedule=aj;Ye.FeeCalculatorLayout=l1e;Ye.Keypair=uj;Ye.LAMPORTS_PER_SOL=ywt;Ye.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=tb;Ye.Loader=b1;Ye.Lockup=zA;Ye.MAX_SEED_LENGTH=c1e;Ye.Message=$m;Ye.MessageAccountKeys=LA;Ye.MessageV0=m1;Ye.NONCE_ACCOUNT_LENGTH=pee;Ye.NonceAccount=sj;Ye.PACKET_DATA_SIZE=T_;Ye.PUBLIC_KEY_LENGTH=Wd;Ye.PublicKey=it;Ye.SIGNATURE_LENGTH_IN_BYTES=h1;Ye.SOLANA_SCHEMA=lC;Ye.STAKE_CONFIG_ID=E1e;Ye.STAKE_INSTRUCTION_LAYOUTS=Ks;Ye.SYSTEM_INSTRUCTION_LAYOUTS=Oi;Ye.SYSVAR_CLOCK_PUBKEY=Gm;Ye.SYSVAR_EPOCH_SCHEDULE_PUBKEY=E_t;Ye.SYSVAR_INSTRUCTIONS_PUBKEY=I_t;Ye.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=tj;Ye.SYSVAR_RENT_PUBKEY=y1;Ye.SYSVAR_REWARDS_PUBKEY=T_t;Ye.SYSVAR_SLOT_HASHES_PUBKEY=k_t;Ye.SYSVAR_SLOT_HISTORY_PUBKEY=v_t;Ye.SYSVAR_STAKE_HISTORY_PUBKEY=rj;Ye.Secp256k1Program=dj;Ye.SendTransactionError=hC;Ye.SolanaJSONRPCError=vt;Ye.SolanaJSONRPCErrorCode=D_t;Ye.StakeAuthorizationLayout=awt;Ye.StakeInstruction=Eee;Ye.StakeProgram=_1;Ye.Struct=dC;Ye.SystemInstruction=hee;Ye.SystemProgram=nc;Ye.Transaction=ri;Ye.TransactionExpiredBlockheightExceededError=fC;Ye.TransactionExpiredNonceInvalidError=I_;Ye.TransactionExpiredTimeoutError=pC;Ye.TransactionInstruction=ni;Ye.TransactionMessage=dee;Ye.VALIDATOR_INFO_KEY=I1e;Ye.VERSION_PREFIX_MASK=mj;Ye.VOTE_PROGRAM_ID=lwt;Ye.ValidatorInfo=Tee;Ye.VersionedMessage=Pee;Ye.VersionedTransaction=fee;Ye.VoteAccount=kee;Ye.VoteAuthorizationLayout=cwt;Ye.VoteInit=pj;Ye.VoteInstruction=Iee;Ye.VoteProgram=S1;Ye.clusterApiUrl=hwt;Ye.sendAndConfirmRawTransaction=mwt;Ye.sendAndConfirmTransaction=nj});var ic=_(Vd=>{"use strict";u();l();var gwt=Vd&&Vd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bwt=Vd&&Vd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_wt=Vd&&Vd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gwt(e,t,r);return bwt(e,t),e};Object.defineProperty(Vd,"__esModule",{value:!0});Vd.keyBeet=Vd.Key=void 0;var Swt=_wt(pe()),T1e;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.EditionV1=1]="EditionV1",t[t.MasterEditionV1=2]="MasterEditionV1",t[t.ReservationListV1=3]="ReservationListV1",t[t.MetadataV1=4]="MetadataV1",t[t.ReservationListV2=5]="ReservationListV2",t[t.MasterEditionV2=6]="MasterEditionV2",t[t.EditionMarker=7]="EditionMarker",t[t.UseAuthorityRecord=8]="UseAuthorityRecord",t[t.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",t[t.TokenOwnedEscrow=10]="TokenOwnedEscrow",t[t.TokenRecord=11]="TokenRecord",t[t.MetadataDelegate=12]="MetadataDelegate"})(T1e=Vd.Key||(Vd.Key={}));Vd.keyBeet=Swt.fixedScalarEnum(T1e)});var Nee=_(oc=>{"use strict";u();l();var wwt=oc&&oc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Awt=oc&&oc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Mee=oc&&oc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wwt(e,t,r);return Awt(e,t),e};Object.defineProperty(oc,"__esModule",{value:!0});oc.collectionAuthorityRecordBeet=oc.CollectionAuthorityRecord=void 0;var Ewt=Mee(we()),Bee=Mee(pe()),k1e=Mee(Jr()),v1e=ic(),bj=class t{constructor(e,r,n){this.key=e,this.bump=r,this.updateAuthority=n}static fromArgs(e){return new t(e.key,e.bump,e.updateAuthority)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find CollectionAuthorityRecord account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new Ewt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return k1e.GpaBuilder.fromStruct(e,oc.collectionAuthorityRecordBeet)}static deserialize(e,r=0){return oc.collectionAuthorityRecordBeet.deserialize(e,r)}serialize(){return oc.collectionAuthorityRecordBeet.serialize(this)}static byteSize(e){let r=t.fromArgs(e);return oc.collectionAuthorityRecordBeet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+v1e.Key[this.key],bump:this.bump,updateAuthority:this.updateAuthority}}};oc.CollectionAuthorityRecord=bj;oc.collectionAuthorityRecordBeet=new Bee.FixableBeetStruct([["key",v1e.keyBeet],["bump",Bee.u8],["updateAuthority",Bee.coption(k1e.publicKey)]],bj.fromArgs,"CollectionAuthorityRecord")});var Uee=_(sc=>{"use strict";u();l();var Iwt=sc&&sc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Twt=sc&&sc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Dee=sc&&sc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Iwt(e,t,r);return Twt(e,t),e};Object.defineProperty(sc,"__esModule",{value:!0});sc.editionBeet=sc.Edition=void 0;var kwt=Dee(we()),x1e=Dee(pe()),P1e=Dee(Jr()),O1e=ic(),_j=class t{constructor(e,r,n){this.key=e,this.parent=r,this.edition=n}static fromArgs(e){return new t(e.key,e.parent,e.edition)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find Edition account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new kwt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return P1e.GpaBuilder.fromStruct(e,sc.editionBeet)}static deserialize(e,r=0){return sc.editionBeet.deserialize(e,r)}serialize(){return sc.editionBeet.serialize(this)}static get byteSize(){return sc.editionBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(t.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===t.byteSize}pretty(){return{key:"Key."+O1e.Key[this.key],parent:this.parent.toBase58(),edition:(()=>{let e=this.edition;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})()}}};sc.Edition=_j;sc.editionBeet=new x1e.BeetStruct([["key",O1e.keyBeet],["parent",P1e.publicKey],["edition",x1e.u64]],_j.fromArgs,"Edition")});var Fee=_(ac=>{"use strict";u();l();var vwt=ac&&ac.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xwt=ac&&ac.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zee=ac&&ac.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vwt(e,t,r);return xwt(e,t),e};Object.defineProperty(ac,"__esModule",{value:!0});ac.editionMarkerBeet=ac.EditionMarker=void 0;var Lee=zee(pe()),Pwt=zee(we()),Owt=zee(Jr()),R1e=ic(),Sj=class t{constructor(e,r){this.key=e,this.ledger=r}static fromArgs(e){return new t(e.key,e.ledger)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find EditionMarker account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new Pwt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return Owt.GpaBuilder.fromStruct(e,ac.editionMarkerBeet)}static deserialize(e,r=0){return ac.editionMarkerBeet.deserialize(e,r)}serialize(){return ac.editionMarkerBeet.serialize(this)}static get byteSize(){return ac.editionMarkerBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(t.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===t.byteSize}pretty(){return{key:"Key."+R1e.Key[this.key],ledger:this.ledger}}};ac.EditionMarker=Sj;ac.editionMarkerBeet=new Lee.BeetStruct([["key",R1e.keyBeet],["ledger",Lee.uniformFixedSizeArray(Lee.u8,31)]],Sj.fromArgs,"EditionMarker")});var Kee=_(cc=>{"use strict";u();l();var Rwt=cc&&cc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Cwt=cc&&cc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jee=cc&&cc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Rwt(e,t,r);return Cwt(e,t),e};Object.defineProperty(cc,"__esModule",{value:!0});cc.masterEditionV1Beet=cc.MasterEditionV1=void 0;var wj=jee(pe()),Bwt=jee(we()),qee=jee(Jr()),C1e=ic(),Aj=class t{constructor(e,r,n,i,o){this.key=e,this.supply=r,this.maxSupply=n,this.printingMint=i,this.oneTimePrintingAuthorizationMint=o}static fromArgs(e){return new t(e.key,e.supply,e.maxSupply,e.printingMint,e.oneTimePrintingAuthorizationMint)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find MasterEditionV1 account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new Bwt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return qee.GpaBuilder.fromStruct(e,cc.masterEditionV1Beet)}static deserialize(e,r=0){return cc.masterEditionV1Beet.deserialize(e,r)}serialize(){return cc.masterEditionV1Beet.serialize(this)}static byteSize(e){let r=t.fromArgs(e);return cc.masterEditionV1Beet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+C1e.Key[this.key],supply:(()=>{let e=this.supply;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),maxSupply:this.maxSupply,printingMint:this.printingMint.toBase58(),oneTimePrintingAuthorizationMint:this.oneTimePrintingAuthorizationMint.toBase58()}}};cc.MasterEditionV1=Aj;cc.masterEditionV1Beet=new wj.FixableBeetStruct([["key",C1e.keyBeet],["supply",wj.u64],["maxSupply",wj.coption(wj.u64)],["printingMint",qee.publicKey],["oneTimePrintingAuthorizationMint",qee.publicKey]],Aj.fromArgs,"MasterEditionV1")});var Vee=_(uc=>{"use strict";u();l();var Mwt=uc&&uc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Nwt=uc&&uc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Wee=uc&&uc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Mwt(e,t,r);return Nwt(e,t),e};Object.defineProperty(uc,"__esModule",{value:!0});uc.masterEditionV2Beet=uc.MasterEditionV2=void 0;var Ej=Wee(pe()),Dwt=Wee(we()),Uwt=Wee(Jr()),B1e=ic(),Ij=class t{constructor(e,r,n){this.key=e,this.supply=r,this.maxSupply=n}static fromArgs(e){return new t(e.key,e.supply,e.maxSupply)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find MasterEditionV2 account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new Dwt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return Uwt.GpaBuilder.fromStruct(e,uc.masterEditionV2Beet)}static deserialize(e,r=0){return uc.masterEditionV2Beet.deserialize(e,r)}serialize(){return uc.masterEditionV2Beet.serialize(this)}static byteSize(e){let r=t.fromArgs(e);return uc.masterEditionV2Beet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+B1e.Key[this.key],supply:(()=>{let e=this.supply;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),maxSupply:this.maxSupply}}};uc.MasterEditionV2=Ij;uc.masterEditionV2Beet=new Ej.FixableBeetStruct([["key",B1e.keyBeet],["supply",Ej.u64],["maxSupply",Ej.coption(Ej.u64)]],Ij.fromArgs,"MasterEditionV2")});var SC=_(Ym=>{"use strict";u();l();var Lwt=Ym&&Ym.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zwt=Ym&&Ym.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),M1e=Ym&&Ym.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Lwt(e,t,r);return zwt(e,t),e};Object.defineProperty(Ym,"__esModule",{value:!0});Ym.creatorBeet=void 0;var Fwt=M1e(Jr()),Gee=M1e(pe());Ym.creatorBeet=new Gee.BeetArgsStruct([["address",Fwt.publicKey],["verified",Gee.bool],["share",Gee.u8]],"Creator")});var wC=_(Xm=>{"use strict";u();l();var qwt=Xm&&Xm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jwt=Xm&&Xm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Kwt=Xm&&Xm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qwt(e,t,r);return jwt(e,t),e};Object.defineProperty(Xm,"__esModule",{value:!0});Xm.dataBeet=void 0;var jA=Kwt(pe()),Wwt=SC();Xm.dataBeet=new jA.FixableBeetArgsStruct([["name",jA.utf8String],["symbol",jA.utf8String],["uri",jA.utf8String],["sellerFeeBasisPoints",jA.u16],["creators",jA.coption(jA.array(Wwt.creatorBeet))]],"Data")});var A1=_(Gd=>{"use strict";u();l();var Vwt=Gd&&Gd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gwt=Gd&&Gd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Hwt=Gd&&Gd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Vwt(e,t,r);return Gwt(e,t),e};Object.defineProperty(Gd,"__esModule",{value:!0});Gd.tokenStandardBeet=Gd.TokenStandard=void 0;var $wt=Hwt(pe()),N1e;(function(t){t[t.NonFungible=0]="NonFungible",t[t.FungibleAsset=1]="FungibleAsset",t[t.Fungible=2]="Fungible",t[t.NonFungibleEdition=3]="NonFungibleEdition",t[t.ProgrammableNonFungible=4]="ProgrammableNonFungible"})(N1e=Gd.TokenStandard||(Gd.TokenStandard={}));Gd.tokenStandardBeet=$wt.fixedScalarEnum(N1e)});var KA=_(Zm=>{"use strict";u();l();var Ywt=Zm&&Zm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xwt=Zm&&Zm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),U1e=Zm&&Zm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ywt(e,t,r);return Xwt(e,t),e};Object.defineProperty(Zm,"__esModule",{value:!0});Zm.collectionBeet=void 0;var D1e=U1e(pe()),Zwt=U1e(Jr());Zm.collectionBeet=new D1e.BeetArgsStruct([["verified",D1e.bool],["key",Zwt.publicKey]],"Collection")});var Hee=_(Hd=>{"use strict";u();l();var Jwt=Hd&&Hd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Qwt=Hd&&Hd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eAt=Hd&&Hd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Jwt(e,t,r);return Qwt(e,t),e};Object.defineProperty(Hd,"__esModule",{value:!0});Hd.useMethodBeet=Hd.UseMethod=void 0;var tAt=eAt(pe()),L1e;(function(t){t[t.Burn=0]="Burn",t[t.Multiple=1]="Multiple",t[t.Single=2]="Single"})(L1e=Hd.UseMethod||(Hd.UseMethod={}));Hd.useMethodBeet=tAt.fixedScalarEnum(L1e)});var WA=_(Jm=>{"use strict";u();l();var rAt=Jm&&Jm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nAt=Jm&&Jm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iAt=Jm&&Jm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rAt(e,t,r);return nAt(e,t),e};Object.defineProperty(Jm,"__esModule",{value:!0});Jm.usesBeet=void 0;var $ee=iAt(pe()),oAt=Hee();Jm.usesBeet=new $ee.BeetArgsStruct([["useMethod",oAt.useMethodBeet],["remaining",$ee.u64],["total",$ee.u64]],"Uses")});var VA=_(Vf=>{"use strict";u();l();var sAt=Vf&&Vf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aAt=Vf&&Vf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cAt=Vf&&Vf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&sAt(e,t,r);return aAt(e,t),e};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.collectionDetailsBeet=Vf.isCollectionDetailsV1=void 0;var Yee=cAt(pe()),uAt=t=>t.__kind==="V1";Vf.isCollectionDetailsV1=uAt;Vf.collectionDetailsBeet=Yee.dataEnum([["V1",new Yee.BeetArgsStruct([["size",Yee.u64]],'CollectionDetailsRecord["V1"]')]])});var Tj=_(Gf=>{"use strict";u();l();var lAt=Gf&&Gf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dAt=Gf&&Gf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),z1e=Gf&&Gf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lAt(e,t,r);return dAt(e,t),e};Object.defineProperty(Gf,"__esModule",{value:!0});Gf.programmableConfigBeet=Gf.isProgrammableConfigV1=void 0;var Xee=z1e(pe()),fAt=z1e(Jr()),pAt=t=>t.__kind==="V1";Gf.isProgrammableConfigV1=pAt;Gf.programmableConfigBeet=Xee.dataEnum([["V1",new Xee.FixableBeetArgsStruct([["ruleSet",Xee.coption(fAt.publicKey)]],'ProgrammableConfigRecord["V1"]')]])});var j1e=_(Qm=>{"use strict";u();l();var hAt=Qm&&Qm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mAt=Qm&&Qm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),q1e=Qm&&Qm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hAt(e,t,r);return mAt(e,t),e};Object.defineProperty(Qm,"__esModule",{value:!0});Qm.deserialize=void 0;var Hf=q1e(pe()),kj=q1e(Jr()),yAt=vj(),gAt=KA(),bAt=VA(),_At=Tj(),SAt=wC(),F1e=ic(),wAt=A1(),AAt=WA(),EC=Hf.coptionNone("").byteSize;function EAt(t,e=0){let r=e,n=F1e.keyBeet.read(t,r);r+=F1e.keyBeet.byteSize;let i=kj.publicKey.read(t,r);r+=kj.publicKey.byteSize;let o=kj.publicKey.read(t,r);r+=kj.publicKey.byteSize;let[s,a]=SAt.dataBeet.deserialize(t,r);r=a;let c=Hf.bool.read(t,r);r+=Hf.bool.byteSize;let d=Hf.bool.read(t,r);r+=Hf.bool.byteSize;let f=Hf.coption(Hf.u8).toFixedFromData(t,r),p=f.read(t,r);r+=f.byteSize;let[m,y,g]=AC(Hf.coption(wAt.tokenStandardBeet),t,r);r+=y;let[b,S,P]=g?[null,EC,!0]:AC(Hf.coption(gAt.collectionBeet),t,r);r+=S;let[U,L,j]=g||P?[null,EC,!0]:AC(Hf.coption(AAt.usesBeet),t,r);r+=L;let[Z,se,Ee]=g||P||j?[null,EC,!0]:AC(Hf.coption(bAt.collectionDetailsBeet),t,r);r+=se;let[be,fe,w]=g||P||j?[null,EC,!0]:AC(Hf.coption(_At.programmableConfigBeet),t,r);r+=fe;let R=g||P||j||Ee||w,B={key:n,updateAuthority:i,mint:o,data:s,primarySaleHappened:c,isMutable:d,editionNonce:p,tokenStandard:R?null:m,collection:R?null:b,uses:R?null:U,collectionDetails:R?null:Z,programmableConfig:R?null:be};return[yAt.Metadata.fromArgs(B),r]}Qm.deserialize=EAt;function AC(t,e,r){try{let n=t.toFixedFromData(e,r);return[n.read(e,r),n.byteSize,!1]}catch{return[null,EC,!0]}}});var vj=_(Ws=>{"use strict";u();l();var IAt=Ws&&Ws.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TAt=Ws&&Ws.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Pj=Ws&&Ws.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&IAt(e,t,r);return TAt(e,t),e};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.metadataBeet=Ws.Metadata=void 0;var kAt=Pj(we()),ey=Pj(pe()),Zee=Pj(Jr()),K1e=ic(),vAt=wC(),xAt=A1(),PAt=KA(),OAt=WA(),RAt=VA(),CAt=Tj(),BAt=Pj(j1e()),xj=class t{constructor(e,r,n,i,o,s,a,c,d,f,p,m){this.key=e,this.updateAuthority=r,this.mint=n,this.data=i,this.primarySaleHappened=o,this.isMutable=s,this.editionNonce=a,this.tokenStandard=c,this.collection=d,this.uses=f,this.collectionDetails=p,this.programmableConfig=m}static fromArgs(e){return new t(e.key,e.updateAuthority,e.mint,e.data,e.primarySaleHappened,e.isMutable,e.editionNonce,e.tokenStandard,e.collection,e.uses,e.collectionDetails,e.programmableConfig)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find Metadata account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new kAt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return Zee.GpaBuilder.fromStruct(e,Ws.metadataBeet)}static deserialize(e,r=0){return NAt(e,r)}serialize(){return MAt(this)}static byteSize(e){let r=t.fromArgs(e);return Ws.metadataBeet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+K1e.Key[this.key],updateAuthority:this.updateAuthority.toBase58(),mint:this.mint.toBase58(),data:this.data,primarySaleHappened:this.primarySaleHappened,isMutable:this.isMutable,editionNonce:this.editionNonce,tokenStandard:this.tokenStandard,collection:this.collection,uses:this.uses,collectionDetails:this.collectionDetails,programmableConfig:this.programmableConfig}}};Ws.Metadata=xj;Ws.metadataBeet=new ey.FixableBeetStruct([["key",K1e.keyBeet],["updateAuthority",Zee.publicKey],["mint",Zee.publicKey],["data",vAt.dataBeet],["primarySaleHappened",ey.bool],["isMutable",ey.bool],["editionNonce",ey.coption(ey.u8)],["tokenStandard",ey.coption(xAt.tokenStandardBeet)],["collection",ey.coption(PAt.collectionBeet)],["uses",ey.coption(OAt.usesBeet)],["collectionDetails",ey.coption(RAt.collectionDetailsBeet)],["programmableConfig",ey.coption(CAt.programmableConfigBeet)]],xj.fromArgs,"Metadata");var E1=BAt,MAt=typeof E1.serialize=="function"?E1.serialize.bind(E1):Ws.metadataBeet.serialize.bind(Ws.metadataBeet),NAt=typeof E1.deserialize=="function"?E1.deserialize.bind(E1):Ws.metadataBeet.deserialize.bind(Ws.metadataBeet)});var Qee=_(lc=>{"use strict";u();l();var DAt=lc&&lc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UAt=lc&&lc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Jee=lc&&lc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&DAt(e,t,r);return UAt(e,t),e};Object.defineProperty(lc,"__esModule",{value:!0});lc.metadataDelegateRecordBeet=lc.MetadataDelegateRecord=void 0;var LAt=Jee(we()),W1e=Jee(pe()),Oj=Jee(Jr()),V1e=ic(),Rj=class t{constructor(e,r,n,i,o){this.key=e,this.bump=r,this.mint=n,this.delegate=i,this.updateAuthority=o}static fromArgs(e){return new t(e.key,e.bump,e.mint,e.delegate,e.updateAuthority)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find MetadataDelegateRecord account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new LAt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return Oj.GpaBuilder.fromStruct(e,lc.metadataDelegateRecordBeet)}static deserialize(e,r=0){return lc.metadataDelegateRecordBeet.deserialize(e,r)}serialize(){return lc.metadataDelegateRecordBeet.serialize(this)}static get byteSize(){return lc.metadataDelegateRecordBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(t.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===t.byteSize}pretty(){return{key:"Key."+V1e.Key[this.key],bump:this.bump,mint:this.mint.toBase58(),delegate:this.delegate.toBase58(),updateAuthority:this.updateAuthority.toBase58()}}};lc.MetadataDelegateRecord=Rj;lc.metadataDelegateRecordBeet=new W1e.BeetStruct([["key",V1e.keyBeet],["bump",W1e.u8],["mint",Oj.publicKey],["delegate",Oj.publicKey],["updateAuthority",Oj.publicKey]],Rj.fromArgs,"MetadataDelegateRecord")});var tte=_(ty=>{"use strict";u();l();var zAt=ty&&ty.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FAt=ty&&ty.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),G1e=ty&&ty.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zAt(e,t,r);return FAt(e,t),e};Object.defineProperty(ty,"__esModule",{value:!0});ty.reservationV1Beet=void 0;var qAt=G1e(Jr()),ete=G1e(pe());ty.reservationV1Beet=new ete.BeetArgsStruct([["address",qAt.publicKey],["spotsRemaining",ete.u8],["totalSpots",ete.u8]],"ReservationV1")});var nte=_(dc=>{"use strict";u();l();var jAt=dc&&dc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KAt=dc&&dc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rte=dc&&dc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jAt(e,t,r);return KAt(e,t),e};Object.defineProperty(dc,"__esModule",{value:!0});dc.reservationListV1Beet=dc.ReservationListV1=void 0;var WAt=rte(we()),Cj=rte(pe()),H1e=rte(Jr()),$1e=ic(),VAt=tte(),Bj=class t{constructor(e,r,n,i){this.key=e,this.masterEdition=r,this.supplySnapshot=n,this.reservations=i}static fromArgs(e){return new t(e.key,e.masterEdition,e.supplySnapshot,e.reservations)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ReservationListV1 account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new WAt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return H1e.GpaBuilder.fromStruct(e,dc.reservationListV1Beet)}static deserialize(e,r=0){return dc.reservationListV1Beet.deserialize(e,r)}serialize(){return dc.reservationListV1Beet.serialize(this)}static byteSize(e){let r=t.fromArgs(e);return dc.reservationListV1Beet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+$1e.Key[this.key],masterEdition:this.masterEdition.toBase58(),supplySnapshot:this.supplySnapshot,reservations:this.reservations}}};dc.ReservationListV1=Bj;dc.reservationListV1Beet=new Cj.FixableBeetStruct([["key",$1e.keyBeet],["masterEdition",H1e.publicKey],["supplySnapshot",Cj.coption(Cj.u64)],["reservations",Cj.array(VAt.reservationV1Beet)]],Bj.fromArgs,"ReservationListV1")});var ote=_(ry=>{"use strict";u();l();var GAt=ry&&ry.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),HAt=ry&&ry.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Y1e=ry&&ry.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&GAt(e,t,r);return HAt(e,t),e};Object.defineProperty(ry,"__esModule",{value:!0});ry.reservationBeet=void 0;var ite=Y1e(pe()),$At=Y1e(Jr());ry.reservationBeet=new ite.BeetArgsStruct([["address",$At.publicKey],["spotsRemaining",ite.u64],["totalSpots",ite.u64]],"Reservation")});var ate=_(fc=>{"use strict";u();l();var YAt=fc&&fc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),XAt=fc&&fc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ste=fc&&fc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&YAt(e,t,r);return XAt(e,t),e};Object.defineProperty(fc,"__esModule",{value:!0});fc.reservationListV2Beet=fc.ReservationListV2=void 0;var ZAt=ste(we()),I1=ste(pe()),X1e=ste(Jr()),Z1e=ic(),JAt=ote(),Mj=class t{constructor(e,r,n,i,o,s){this.key=e,this.masterEdition=r,this.supplySnapshot=n,this.reservations=i,this.totalReservationSpots=o,this.currentReservationSpots=s}static fromArgs(e){return new t(e.key,e.masterEdition,e.supplySnapshot,e.reservations,e.totalReservationSpots,e.currentReservationSpots)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ReservationListV2 account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new ZAt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return X1e.GpaBuilder.fromStruct(e,fc.reservationListV2Beet)}static deserialize(e,r=0){return fc.reservationListV2Beet.deserialize(e,r)}serialize(){return fc.reservationListV2Beet.serialize(this)}static byteSize(e){let r=t.fromArgs(e);return fc.reservationListV2Beet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+Z1e.Key[this.key],masterEdition:this.masterEdition.toBase58(),supplySnapshot:this.supplySnapshot,reservations:this.reservations,totalReservationSpots:(()=>{let e=this.totalReservationSpots;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),currentReservationSpots:(()=>{let e=this.currentReservationSpots;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})()}}};fc.ReservationListV2=Mj;fc.reservationListV2Beet=new I1.FixableBeetStruct([["key",Z1e.keyBeet],["masterEdition",X1e.publicKey],["supplySnapshot",I1.coption(I1.u64)],["reservations",I1.array(JAt.reservationBeet)],["totalReservationSpots",I1.u64],["currentReservationSpots",I1.u64]],Mj.fromArgs,"ReservationListV2")});var cte=_(Pl=>{"use strict";u();l();var QAt=Pl&&Pl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eEt=Pl&&Pl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),J1e=Pl&&Pl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&QAt(e,t,r);return eEt(e,t),e};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.escrowAuthorityBeet=Pl.isEscrowAuthorityCreator=Pl.isEscrowAuthorityTokenOwner=void 0;var Nj=J1e(pe()),tEt=J1e(Jr()),rEt=t=>t.__kind==="TokenOwner";Pl.isEscrowAuthorityTokenOwner=rEt;var nEt=t=>t.__kind==="Creator";Pl.isEscrowAuthorityCreator=nEt;Pl.escrowAuthorityBeet=Nj.dataEnum([["TokenOwner",Nj.unit],["Creator",new Nj.BeetArgsStruct([["fields",Nj.fixedSizeTuple([tEt.publicKey])]],'EscrowAuthorityRecord["Creator"]')]])});var lte=_(pc=>{"use strict";u();l();var iEt=pc&&pc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oEt=pc&&pc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ute=pc&&pc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&iEt(e,t,r);return oEt(e,t),e};Object.defineProperty(pc,"__esModule",{value:!0});pc.tokenOwnedEscrowBeet=pc.TokenOwnedEscrow=void 0;var sEt=ute(we()),eke=ute(Jr()),Q1e=ute(pe()),tke=ic(),aEt=cte(),Dj=class t{constructor(e,r,n,i){this.key=e,this.baseToken=r,this.authority=n,this.bump=i}static fromArgs(e){return new t(e.key,e.baseToken,e.authority,e.bump)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find TokenOwnedEscrow account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new sEt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return eke.GpaBuilder.fromStruct(e,pc.tokenOwnedEscrowBeet)}static deserialize(e,r=0){return pc.tokenOwnedEscrowBeet.deserialize(e,r)}serialize(){return pc.tokenOwnedEscrowBeet.serialize(this)}static byteSize(e){let r=t.fromArgs(e);return pc.tokenOwnedEscrowBeet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+tke.Key[this.key],baseToken:this.baseToken.toBase58(),authority:this.authority.__kind,bump:this.bump}}};pc.TokenOwnedEscrow=Dj;pc.tokenOwnedEscrowBeet=new Q1e.FixableBeetStruct([["key",tke.keyBeet],["baseToken",eke.publicKey],["authority",aEt.escrowAuthorityBeet],["bump",Q1e.u8]],Dj.fromArgs,"TokenOwnedEscrow")});var dte=_($d=>{"use strict";u();l();var cEt=$d&&$d.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),uEt=$d&&$d.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lEt=$d&&$d.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cEt(e,t,r);return uEt(e,t),e};Object.defineProperty($d,"__esModule",{value:!0});$d.tokenStateBeet=$d.TokenState=void 0;var dEt=lEt(pe()),rke;(function(t){t[t.Unlocked=0]="Unlocked",t[t.Locked=1]="Locked",t[t.Listed=2]="Listed"})(rke=$d.TokenState||($d.TokenState={}));$d.tokenStateBeet=dEt.fixedScalarEnum(rke)});var fte=_(Yd=>{"use strict";u();l();var fEt=Yd&&Yd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pEt=Yd&&Yd.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hEt=Yd&&Yd.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fEt(e,t,r);return pEt(e,t),e};Object.defineProperty(Yd,"__esModule",{value:!0});Yd.tokenDelegateRoleBeet=Yd.TokenDelegateRole=void 0;var mEt=hEt(pe()),nke;(function(t){t[t.Sale=0]="Sale",t[t.Transfer=1]="Transfer",t[t.Utility=2]="Utility",t[t.Staking=3]="Staking",t[t.Standard=4]="Standard",t[t.LockedTransfer=5]="LockedTransfer",t[t.Migration=6]="Migration"})(nke=Yd.TokenDelegateRole||(Yd.TokenDelegateRole={}));Yd.tokenDelegateRoleBeet=mEt.fixedScalarEnum(nke)});var ike=_(ny=>{"use strict";u();l();var yEt=ny&&ny.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gEt=ny&&ny.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bEt=ny&&ny.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yEt(e,t,r);return gEt(e,t),e};Object.defineProperty(ny,"__esModule",{value:!0});ny.tryReadOption=void 0;var _Et=bEt(pe()),SEt=_Et.coptionNone("").byteSize;function wEt(t,e,r){if(e.subarray(r).length==0)return[null,SEt,!0];let n=t.toFixedFromData(e,r);return[n.read(e,r),n.byteSize,!1]}ny.tryReadOption=wEt});var cke=_(iy=>{"use strict";u();l();var AEt=iy&&iy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),EEt=iy&&iy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ake=iy&&iy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AEt(e,t,r);return EEt(e,t),e};Object.defineProperty(iy,"__esModule",{value:!0});iy.deserialize=void 0;var GA=ake(pe()),oke=ake(Jr()),ske=ic(),IEt=Lj(),pte=zj(),Uj=ike();function TEt(t,e=0){let r=e,n=ske.keyBeet.read(t,r);r+=ske.keyBeet.byteSize;let i=GA.u8.read(t,r);r+=GA.u8.byteSize;let o=pte.tokenStateBeet.read(t,r);r+=pte.tokenStateBeet.byteSize;let[s,a]=(0,Uj.tryReadOption)(GA.coption(GA.u64),t,r);r+=a;let[c,d]=(0,Uj.tryReadOption)(GA.coption(oke.publicKey),t,r);r+=d;let[f,p]=(0,Uj.tryReadOption)(GA.coption(pte.tokenDelegateRoleBeet),t,r);r+=p;let[m,y,g]=(0,Uj.tryReadOption)(GA.coption(oke.publicKey),t,r);r+=y;let b={key:n,bump:i,state:o,ruleSetRevision:s,delegate:c,delegateRole:f,lockedTransfer:g?null:m};return[IEt.TokenRecord.fromArgs(b),r]}iy.deserialize=TEt});var Lj=_(Vs=>{"use strict";u();l();var kEt=Vs&&Vs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vEt=Vs&&Vs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qj=Vs&&Vs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kEt(e,t,r);return vEt(e,t),e};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.tokenRecordBeet=Vs.TokenRecord=void 0;var HA=qj(pe()),xEt=qj(we()),hte=qj(Jr()),uke=ic(),lke=dte(),PEt=fte(),OEt=qj(cke()),Fj=class t{constructor(e,r,n,i,o,s,a){this.key=e,this.bump=r,this.state=n,this.ruleSetRevision=i,this.delegate=o,this.delegateRole=s,this.lockedTransfer=a}static fromArgs(e){return new t(e.key,e.bump,e.state,e.ruleSetRevision,e.delegate,e.delegateRole,e.lockedTransfer)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find TokenRecord account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new xEt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return hte.GpaBuilder.fromStruct(e,Vs.tokenRecordBeet)}static deserialize(e,r=0){return CEt(e,r)}serialize(){return REt(this)}static byteSize(e){let r=t.fromArgs(e);return Vs.tokenRecordBeet.toFixedFromValue(r).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{key:"Key."+uke.Key[this.key],bump:this.bump,state:"TokenState."+lke.TokenState[this.state],ruleSetRevision:this.ruleSetRevision,delegate:this.delegate,delegateRole:this.delegateRole,lockedTransfer:this.lockedTransfer}}};Vs.TokenRecord=Fj;Vs.tokenRecordBeet=new HA.FixableBeetStruct([["key",uke.keyBeet],["bump",HA.u8],["state",lke.tokenStateBeet],["ruleSetRevision",HA.coption(HA.u64)],["delegate",HA.coption(hte.publicKey)],["delegateRole",HA.coption(PEt.tokenDelegateRoleBeet)],["lockedTransfer",HA.coption(hte.publicKey)]],Fj.fromArgs,"TokenRecord");var T1=OEt,REt=typeof T1.serialize=="function"?T1.serialize.bind(T1):Vs.tokenRecordBeet.serialize.bind(Vs.tokenRecordBeet),CEt=typeof T1.deserialize=="function"?T1.deserialize.bind(T1):Vs.tokenRecordBeet.deserialize.bind(Vs.tokenRecordBeet)});var gte=_(hc=>{"use strict";u();l();var BEt=hc&&hc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MEt=hc&&hc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yte=hc&&hc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BEt(e,t,r);return MEt(e,t),e};Object.defineProperty(hc,"__esModule",{value:!0});hc.useAuthorityRecordBeet=hc.UseAuthorityRecord=void 0;var mte=yte(pe()),NEt=yte(we()),DEt=yte(Jr()),dke=ic(),jj=class t{constructor(e,r,n){this.key=e,this.allowedUses=r,this.bump=n}static fromArgs(e){return new t(e.key,e.allowedUses,e.bump)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){let i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find UseAuthorityRecord account at ${r}`);return t.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new NEt.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return DEt.GpaBuilder.fromStruct(e,hc.useAuthorityRecordBeet)}static deserialize(e,r=0){return hc.useAuthorityRecordBeet.deserialize(e,r)}serialize(){return hc.useAuthorityRecordBeet.serialize(this)}static get byteSize(){return hc.useAuthorityRecordBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(t.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===t.byteSize}pretty(){return{key:"Key."+dke.Key[this.key],allowedUses:(()=>{let e=this.allowedUses;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),bump:this.bump}}};hc.UseAuthorityRecord=jj;hc.useAuthorityRecordBeet=new mte.BeetStruct([["key",dke.keyBeet],["allowedUses",mte.u64],["bump",mte.u8]],jj.fromArgs,"UseAuthorityRecord")});var fke=_(fs=>{"use strict";u();l();var UEt=fs&&fs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$f=fs&&fs.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&UEt(e,t,r)};Object.defineProperty(fs,"__esModule",{value:!0});fs.accountProviders=void 0;$f(Nee(),fs);$f(Uee(),fs);$f(Fee(),fs);$f(Kee(),fs);$f(Vee(),fs);$f(vj(),fs);$f(Qee(),fs);$f(nte(),fs);$f(ate(),fs);$f(lte(),fs);$f(Lj(),fs);$f(gte(),fs);var LEt=Nee(),zEt=Qee(),FEt=Uee(),qEt=Fee(),jEt=lte(),KEt=Vee(),WEt=Kee(),VEt=vj(),GEt=Lj(),HEt=ate(),$Et=nte(),YEt=gte();fs.accountProviders={CollectionAuthorityRecord:LEt.CollectionAuthorityRecord,MetadataDelegateRecord:zEt.MetadataDelegateRecord,Edition:FEt.Edition,EditionMarker:qEt.EditionMarker,TokenOwnedEscrow:jEt.TokenOwnedEscrow,MasterEditionV2:KEt.MasterEditionV2,MasterEditionV1:WEt.MasterEditionV1,Metadata:VEt.Metadata,TokenRecord:GEt.TokenRecord,ReservationListV2:HEt.ReservationListV2,ReservationListV1:$Et.ReservationListV1,UseAuthorityRecord:YEt.UseAuthorityRecord}});var pke=_(M=>{"use strict";u();l();Object.defineProperty(M,"__esModule",{value:!0});M.ReservationAlreadyMadeError=M.ReservationNotSetError=M.ReservationDoesNotExistError=M.ReservationExistsError=M.ShareTotalMustBe100Error=M.NoBalanceInAccountForAuthorizationError=M.OwnerMismatchError=M.PrimarySaleCanOnlyBeFlippedToTrueError=M.InvalidBasisPointsError=M.CreatorNotFoundError=M.NoCreatorsPresentOnMetadataError=M.MustBeOneOfCreatorsError=M.CreatorsMustBeAtleastOneError=M.CreatorsTooLongError=M.DisabledError=M.AuthorizationTokenAccountOwnerMismatchError=M.PrintingMintAuthorizationAccountMismatchError=M.NotEnoughTokensError=M.TokenAccountMintMismatchV2Error=M.TokenAccountMintMismatchError=M.OneTimePrintingAuthMintMismatchError=M.PrintingMintMismatchError=M.DerivedKeyInvalidError=M.TokenAccountOneTimeAuthMintMismatchError=M.TokenBurnFailedError=M.EditionMintDecimalsShouldBeZeroError=M.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=M.PrintingMintDecimalsShouldBeZeroError=M.EditionAlreadyMintedError=M.DestinationMintMismatchError=M.MasterRecordMismatchError=M.TokenMintToFailedError=M.MaxEditionsMintedAlreadyError=M.EditionsMustHaveExactlyOneTokenError=M.MintMismatchError=M.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=M.UriTooLongError=M.SymbolTooLongError=M.NameTooLongError=M.InvalidMintAuthorityError=M.NotMintAuthorityError=M.UpdateAuthorityIsNotSignerError=M.UpdateAuthorityIncorrectError=M.InvalidEditionKeyError=M.InvalidMetadataKeyError=M.UninitializedError=M.AlreadyInitializedError=M.NotRentExemptError=M.InstructionPackErrorError=M.InstructionUnpackErrorError=void 0;M.RevokeCollectionAuthoritySignerIncorrectError=M.InvalidUserError=M.EditionOverrideCannotBeZeroError=M.NotAllowedToChangeSellerFeeBasisPointsError=M.CannotWipeVerifiedCreatorsError=M.CannotRemoveVerifiedCreatorError=M.CannotAdjustVerifiedCreatorError=M.InvalidDelegateError=M.InvalidFreezeAuthorityError=M.InvalidCollectionAuthorityRecordError=M.InvalidUseAuthorityRecordError=M.CollectionAuthorityDoesNotExistError=M.CollectionAuthorityRecordAlreadyExistsError=M.NotEnoughUsesError=M.UnusableError=M.UseAuthorityRecordAlreadyRevokedError=M.UseAuthorityRecordAlreadyExistsError=M.CollectionMustBeAUniqueMasterEditionError=M.InvalidCollectionUpdateAuthorityError=M.CollectionNotFoundError=M.CannotChangeUsesAfterFirstUseError=M.CannotChangeUseMethodAfterFirstUseError=M.InvalidUseMethodError=M.MustBeBurnedError=M.RemovedError=M.CollectionCannotBeVerifiedInThisInstructionError=M.IsMutableCanOnlyBeFlippedToFalseError=M.ReservationArrayShouldBeSizeOneError=M.InvalidEditionIndexError=M.OneTimeAuthMintSupplyMustBeZeroForConversionError=M.PrintingMintSupplyMustBeZeroForConversionError=M.InvalidOwnerError=M.InvalidOperationError=M.TriedToReplaceAnExistingReservationError=M.ReservationNotCompleteError=M.BeyondAlottedAddressSizeError=M.DataTypeMismatchError=M.InvalidTokenProgramError=M.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=M.DuplicateCreatorAddressError=M.DataIsImmutableError=M.PrintingWouldBreachMaximumSupplyError=M.IncorrectOwnerError=M.SpotMismatchError=M.CannotUnverifyAnotherCreatorError=M.CannotVerifyAnotherCreatorError=M.AddressNotInReservationError=M.ReservationBreachesMaximumSupplyError=M.NumericalOverflowErrorError=M.BeyondMaxAddressSizeError=void 0;M.MissingSplTokenProgramError=M.MissingTokenAccountError=M.OnlySaleDelegateCanTransferError=M.InvalidSystemWalletError=M.FeatureNotSupportedError=M.MissingArgumentInBuilderError=M.MissingAccountInBuilderError=M.DelegateNotFoundError=M.DelegateAlreadyExistsError=M.InvalidProgrammableConfigError=M.MissingProgrammableConfigError=M.MissingAuthorizationRulesError=M.InvalidAuthorizationRulesError=M.InvalidMintForTokenStandardError=M.InvalidTokenStandardError=M.MintIsNotSignerError=M.EscrowParentHasDelegateError=M.InvalidBubblegumSignerError=M.InvalidCollectionSizeChangeError=M.NoFreezeAuthoritySetError=M.BorshSerializationErrorError=M.InsufficientTokensError=M.MustBeNonFungibleError=M.InvalidSystemProgramError=M.MustBeEscrowAuthorityError=M.InvalidEscrowBumpSeedError=M.MustUnverifyError=M.EditionNumberGreaterThanMaxSupplyError=M.PrintEditionDoesNotMatchMasterEditionError=M.ReservationListDeprecatedError=M.InvalidEditionMarkerError=M.InvalidPrintEditionError=M.InvalidMasterEditionError=M.NotAPrintEditionError=M.AlreadyUnverifiedError=M.AlreadyVerifiedError=M.CollectionMasterEditionAccountInvalidError=M.CannotUpdateVerifiedCollectionError=M.BorshDeserializationErrorError=M.MasterEditionHasPrintsError=M.NotAMasterEditionError=M.MissingEditionAccountError=M.CouldNotDetermineTokenStandardError=M.NotACollectionParentError=M.NotVerifiedMemberOfCollectionError=M.NotAMemberOfCollectionError=M.MissingCollectionMetadataError=M.SizedCollectionError=M.UnsizedCollectionError=M.TokenCloseFailedError=void 0;M.errorFromName=M.errorFromCode=M.InvalidMetadataFlagsError=M.InvalidFeeAccountError=M.MissingDelegateRecordError=M.InvalidInstructionError=M.InvalidCloseAuthorityError=M.InvalidTokenRecordError=M.MissingCollectionMasterEditionError=M.MissingCollectionMintError=M.InsufficientTokenBalanceError=M.InvalidUpdateArgsError=M.InvalidParentAccountsError=M.InvalidInstructionsSysvarError=M.InvalidAssociatedTokenAccountProgramError=M.MissingEditionError=M.CannotBurnWithDelegateError=M.MissingEditionMarkerAccountError=M.MissingMasterEditionTokenAccountError=M.MissingMasterEditionMintAccountError=M.InvalidAmountError=M.CannotUpdateAssetWithDelegateError=M.DataIncrementLimitExceededError=M.InvalidLockedTransferAddressError=M.MissingLockedTransferAddressError=M.InvalidDelegateArgsError=M.AmountMustBeGreaterThanZeroError=M.MissingMasterEditionAccountError=M.MissingPrintSupplyError=M.InvalidDelegateRoleError=M.IncorrectTokenStateError=M.InvalidMasterEditionAccountLengthError=M.MissingTokenOwnerAccountError=M.DataIsEmptyOrZeroedError=M.MintSupplyMustBeZeroError=M.MissingTokenRecordError=M.InvalidAuthorityTypeError=M.MissingDelegateRoleError=M.UnlockedTokenError=M.LockedTokenError=M.KeyMismatchError=M.InstructionNotSupportedError=M.InvalidTransferAuthorityError=M.InvalidDelegateRoleForTransferError=M.MissingAuthorizationRulesProgramError=void 0;var te=new Map,re=new Map,IC=class t extends Error{constructor(){super("Failed to unpack instruction data"),this.code=0,this.name="InstructionUnpackError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InstructionUnpackErrorError=IC;te.set(0,()=>new IC);re.set("InstructionUnpackError",()=>new IC);var TC=class t extends Error{constructor(){super("Failed to pack instruction data"),this.code=1,this.name="InstructionPackError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InstructionPackErrorError=TC;te.set(1,()=>new TC);re.set("InstructionPackError",()=>new TC);var kC=class t extends Error{constructor(){super("Lamport balance below rent-exempt threshold"),this.code=2,this.name="NotRentExempt",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotRentExemptError=kC;te.set(2,()=>new kC);re.set("NotRentExempt",()=>new kC);var vC=class t extends Error{constructor(){super("Already initialized"),this.code=3,this.name="AlreadyInitialized",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.AlreadyInitializedError=vC;te.set(3,()=>new vC);re.set("AlreadyInitialized",()=>new vC);var xC=class t extends Error{constructor(){super("Uninitialized"),this.code=4,this.name="Uninitialized",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UninitializedError=xC;te.set(4,()=>new xC);re.set("Uninitialized",()=>new xC);var PC=class t extends Error{constructor(){super(" Metadata's key must match seed of ['metadata', program id, mint] provided"),this.code=5,this.name="InvalidMetadataKey",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidMetadataKeyError=PC;te.set(5,()=>new PC);re.set("InvalidMetadataKey",()=>new PC);var OC=class t extends Error{constructor(){super("Edition's key must match seed of ['metadata', program id, name, 'edition'] provided"),this.code=6,this.name="InvalidEditionKey",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidEditionKeyError=OC;te.set(6,()=>new OC);re.set("InvalidEditionKey",()=>new OC);var RC=class t extends Error{constructor(){super("Update Authority given does not match"),this.code=7,this.name="UpdateAuthorityIncorrect",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UpdateAuthorityIncorrectError=RC;te.set(7,()=>new RC);re.set("UpdateAuthorityIncorrect",()=>new RC);var CC=class t extends Error{constructor(){super("Update Authority needs to be signer to update metadata"),this.code=8,this.name="UpdateAuthorityIsNotSigner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UpdateAuthorityIsNotSignerError=CC;te.set(8,()=>new CC);re.set("UpdateAuthorityIsNotSigner",()=>new CC);var BC=class t extends Error{constructor(){super("You must be the mint authority and signer on this transaction"),this.code=9,this.name="NotMintAuthority",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotMintAuthorityError=BC;te.set(9,()=>new BC);re.set("NotMintAuthority",()=>new BC);var MC=class t extends Error{constructor(){super("Mint authority provided does not match the authority on the mint"),this.code=10,this.name="InvalidMintAuthority",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidMintAuthorityError=MC;te.set(10,()=>new MC);re.set("InvalidMintAuthority",()=>new MC);var NC=class t extends Error{constructor(){super("Name too long"),this.code=11,this.name="NameTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NameTooLongError=NC;te.set(11,()=>new NC);re.set("NameTooLong",()=>new NC);var DC=class t extends Error{constructor(){super("Symbol too long"),this.code=12,this.name="SymbolTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.SymbolTooLongError=DC;te.set(12,()=>new DC);re.set("SymbolTooLong",()=>new DC);var UC=class t extends Error{constructor(){super("URI too long"),this.code=13,this.name="UriTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UriTooLongError=UC;te.set(13,()=>new UC);re.set("UriTooLong",()=>new UC);var LC=class t extends Error{constructor(){super("Update authority must be equivalent to the metadata's authority and also signer of this transaction"),this.code=14,this.name="UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=LC;te.set(14,()=>new LC);re.set("UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",()=>new LC);var zC=class t extends Error{constructor(){super("Mint given does not match mint on Metadata"),this.code=15,this.name="MintMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MintMismatchError=zC;te.set(15,()=>new zC);re.set("MintMismatch",()=>new zC);var FC=class t extends Error{constructor(){super("Editions must have exactly one token"),this.code=16,this.name="EditionsMustHaveExactlyOneToken",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.EditionsMustHaveExactlyOneTokenError=FC;te.set(16,()=>new FC);re.set("EditionsMustHaveExactlyOneToken",()=>new FC);var qC=class t extends Error{constructor(){super("Maximum editions printed already"),this.code=17,this.name="MaxEditionsMintedAlready",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MaxEditionsMintedAlreadyError=qC;te.set(17,()=>new qC);re.set("MaxEditionsMintedAlready",()=>new qC);var jC=class t extends Error{constructor(){super("Token mint to failed"),this.code=18,this.name="TokenMintToFailed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.TokenMintToFailedError=jC;te.set(18,()=>new jC);re.set("TokenMintToFailed",()=>new jC);var KC=class t extends Error{constructor(){super("The master edition record passed must match the master record on the edition given"),this.code=19,this.name="MasterRecordMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MasterRecordMismatchError=KC;te.set(19,()=>new KC);re.set("MasterRecordMismatch",()=>new KC);var WC=class t extends Error{constructor(){super("The destination account does not have the right mint"),this.code=20,this.name="DestinationMintMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DestinationMintMismatchError=WC;te.set(20,()=>new WC);re.set("DestinationMintMismatch",()=>new WC);var VC=class t extends Error{constructor(){super("An edition can only mint one of its kind!"),this.code=21,this.name="EditionAlreadyMinted",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.EditionAlreadyMintedError=VC;te.set(21,()=>new VC);re.set("EditionAlreadyMinted",()=>new VC);var GC=class t extends Error{constructor(){super("Printing mint decimals should be zero"),this.code=22,this.name="PrintingMintDecimalsShouldBeZero",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.PrintingMintDecimalsShouldBeZeroError=GC;te.set(22,()=>new GC);re.set("PrintingMintDecimalsShouldBeZero",()=>new GC);var HC=class t extends Error{constructor(){super("OneTimePrintingAuthorization mint decimals should be zero"),this.code=23,this.name="OneTimePrintingAuthorizationMintDecimalsShouldBeZero",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=HC;te.set(23,()=>new HC);re.set("OneTimePrintingAuthorizationMintDecimalsShouldBeZero",()=>new HC);var $C=class t extends Error{constructor(){super("EditionMintDecimalsShouldBeZero"),this.code=24,this.name="EditionMintDecimalsShouldBeZero",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.EditionMintDecimalsShouldBeZeroError=$C;te.set(24,()=>new $C);re.set("EditionMintDecimalsShouldBeZero",()=>new $C);var YC=class t extends Error{constructor(){super("Token burn failed"),this.code=25,this.name="TokenBurnFailed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.TokenBurnFailedError=YC;te.set(25,()=>new YC);re.set("TokenBurnFailed",()=>new YC);var XC=class t extends Error{constructor(){super("The One Time authorization mint does not match that on the token account!"),this.code=26,this.name="TokenAccountOneTimeAuthMintMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.TokenAccountOneTimeAuthMintMismatchError=XC;te.set(26,()=>new XC);re.set("TokenAccountOneTimeAuthMintMismatch",()=>new XC);var ZC=class t extends Error{constructor(){super("Derived key invalid"),this.code=27,this.name="DerivedKeyInvalid",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DerivedKeyInvalidError=ZC;te.set(27,()=>new ZC);re.set("DerivedKeyInvalid",()=>new ZC);var JC=class t extends Error{constructor(){super("The Printing mint does not match that on the master edition!"),this.code=28,this.name="PrintingMintMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.PrintingMintMismatchError=JC;te.set(28,()=>new JC);re.set("PrintingMintMismatch",()=>new JC);var QC=class t extends Error{constructor(){super("The One Time Printing Auth mint does not match that on the master edition!"),this.code=29,this.name="OneTimePrintingAuthMintMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.OneTimePrintingAuthMintMismatchError=QC;te.set(29,()=>new QC);re.set("OneTimePrintingAuthMintMismatch",()=>new QC);var eB=class t extends Error{constructor(){super("The mint of the token account does not match the Printing mint!"),this.code=30,this.name="TokenAccountMintMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.TokenAccountMintMismatchError=eB;te.set(30,()=>new eB);re.set("TokenAccountMintMismatch",()=>new eB);var tB=class t extends Error{constructor(){super("The mint of the token account does not match the master metadata mint!"),this.code=31,this.name="TokenAccountMintMismatchV2",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.TokenAccountMintMismatchV2Error=tB;te.set(31,()=>new tB);re.set("TokenAccountMintMismatchV2",()=>new tB);var rB=class t extends Error{constructor(){super("Not enough tokens to mint a limited edition"),this.code=32,this.name="NotEnoughTokens",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotEnoughTokensError=rB;te.set(32,()=>new rB);re.set("NotEnoughTokens",()=>new rB);var nB=class t extends Error{constructor(){super("The mint on your authorization token holding account does not match your Printing mint!"),this.code=33,this.name="PrintingMintAuthorizationAccountMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.PrintingMintAuthorizationAccountMismatchError=nB;te.set(33,()=>new nB);re.set("PrintingMintAuthorizationAccountMismatch",()=>new nB);var iB=class t extends Error{constructor(){super("The authorization token account has a different owner than the update authority for the master edition!"),this.code=34,this.name="AuthorizationTokenAccountOwnerMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.AuthorizationTokenAccountOwnerMismatchError=iB;te.set(34,()=>new iB);re.set("AuthorizationTokenAccountOwnerMismatch",()=>new iB);var oB=class t extends Error{constructor(){super("This feature is currently disabled."),this.code=35,this.name="Disabled",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DisabledError=oB;te.set(35,()=>new oB);re.set("Disabled",()=>new oB);var sB=class t extends Error{constructor(){super("Creators list too long"),this.code=36,this.name="CreatorsTooLong",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CreatorsTooLongError=sB;te.set(36,()=>new sB);re.set("CreatorsTooLong",()=>new sB);var aB=class t extends Error{constructor(){super("Creators must be at least one if set"),this.code=37,this.name="CreatorsMustBeAtleastOne",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CreatorsMustBeAtleastOneError=aB;te.set(37,()=>new aB);re.set("CreatorsMustBeAtleastOne",()=>new aB);var cB=class t extends Error{constructor(){super("If using a creators array, you must be one of the creators listed"),this.code=38,this.name="MustBeOneOfCreators",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MustBeOneOfCreatorsError=cB;te.set(38,()=>new cB);re.set("MustBeOneOfCreators",()=>new cB);var uB=class t extends Error{constructor(){super("This metadata does not have creators"),this.code=39,this.name="NoCreatorsPresentOnMetadata",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NoCreatorsPresentOnMetadataError=uB;te.set(39,()=>new uB);re.set("NoCreatorsPresentOnMetadata",()=>new uB);var lB=class t extends Error{constructor(){super("This creator address was not found"),this.code=40,this.name="CreatorNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CreatorNotFoundError=lB;te.set(40,()=>new lB);re.set("CreatorNotFound",()=>new lB);var dB=class t extends Error{constructor(){super("Basis points cannot be more than 10000"),this.code=41,this.name="InvalidBasisPoints",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidBasisPointsError=dB;te.set(41,()=>new dB);re.set("InvalidBasisPoints",()=>new dB);var fB=class t extends Error{constructor(){super("Primary sale can only be flipped to true and is immutable"),this.code=42,this.name="PrimarySaleCanOnlyBeFlippedToTrue",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.PrimarySaleCanOnlyBeFlippedToTrueError=fB;te.set(42,()=>new fB);re.set("PrimarySaleCanOnlyBeFlippedToTrue",()=>new fB);var pB=class t extends Error{constructor(){super("Owner does not match that on the account given"),this.code=43,this.name="OwnerMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.OwnerMismatchError=pB;te.set(43,()=>new pB);re.set("OwnerMismatch",()=>new pB);var hB=class t extends Error{constructor(){super("This account has no tokens to be used for authorization"),this.code=44,this.name="NoBalanceInAccountForAuthorization",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NoBalanceInAccountForAuthorizationError=hB;te.set(44,()=>new hB);re.set("NoBalanceInAccountForAuthorization",()=>new hB);var mB=class t extends Error{constructor(){super("Share total must equal 100 for creator array"),this.code=45,this.name="ShareTotalMustBe100",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ShareTotalMustBe100Error=mB;te.set(45,()=>new mB);re.set("ShareTotalMustBe100",()=>new mB);var yB=class t extends Error{constructor(){super("This reservation list already exists!"),this.code=46,this.name="ReservationExists",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationExistsError=yB;te.set(46,()=>new yB);re.set("ReservationExists",()=>new yB);var gB=class t extends Error{constructor(){super("This reservation list does not exist!"),this.code=47,this.name="ReservationDoesNotExist",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationDoesNotExistError=gB;te.set(47,()=>new gB);re.set("ReservationDoesNotExist",()=>new gB);var bB=class t extends Error{constructor(){super("This reservation list exists but was never set with reservations"),this.code=48,this.name="ReservationNotSet",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationNotSetError=bB;te.set(48,()=>new bB);re.set("ReservationNotSet",()=>new bB);var _B=class t extends Error{constructor(){super("This reservation list has already been set!"),this.code=49,this.name="ReservationAlreadyMade",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationAlreadyMadeError=_B;te.set(49,()=>new _B);re.set("ReservationAlreadyMade",()=>new _B);var SB=class t extends Error{constructor(){super("Provided more addresses than max allowed in single reservation"),this.code=50,this.name="BeyondMaxAddressSize",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.BeyondMaxAddressSizeError=SB;te.set(50,()=>new SB);re.set("BeyondMaxAddressSize",()=>new SB);var wB=class t extends Error{constructor(){super("NumericalOverflowError"),this.code=51,this.name="NumericalOverflowError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NumericalOverflowErrorError=wB;te.set(51,()=>new wB);re.set("NumericalOverflowError",()=>new wB);var AB=class t extends Error{constructor(){super("This reservation would go beyond the maximum supply of the master edition!"),this.code=52,this.name="ReservationBreachesMaximumSupply",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationBreachesMaximumSupplyError=AB;te.set(52,()=>new AB);re.set("ReservationBreachesMaximumSupply",()=>new AB);var EB=class t extends Error{constructor(){super("Address not in reservation!"),this.code=53,this.name="AddressNotInReservation",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.AddressNotInReservationError=EB;te.set(53,()=>new EB);re.set("AddressNotInReservation",()=>new EB);var IB=class t extends Error{constructor(){super("You cannot unilaterally verify another creator, they must sign"),this.code=54,this.name="CannotVerifyAnotherCreator",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotVerifyAnotherCreatorError=IB;te.set(54,()=>new IB);re.set("CannotVerifyAnotherCreator",()=>new IB);var TB=class t extends Error{constructor(){super("You cannot unilaterally unverify another creator"),this.code=55,this.name="CannotUnverifyAnotherCreator",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotUnverifyAnotherCreatorError=TB;te.set(55,()=>new TB);re.set("CannotUnverifyAnotherCreator",()=>new TB);var kB=class t extends Error{constructor(){super("In initial reservation setting, spots remaining should equal total spots"),this.code=56,this.name="SpotMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.SpotMismatchError=kB;te.set(56,()=>new kB);re.set("SpotMismatch",()=>new kB);var vB=class t extends Error{constructor(){super("Incorrect account owner"),this.code=57,this.name="IncorrectOwner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.IncorrectOwnerError=vB;te.set(57,()=>new vB);re.set("IncorrectOwner",()=>new vB);var xB=class t extends Error{constructor(){super("printing these tokens would breach the maximum supply limit of the master edition"),this.code=58,this.name="PrintingWouldBreachMaximumSupply",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.PrintingWouldBreachMaximumSupplyError=xB;te.set(58,()=>new xB);re.set("PrintingWouldBreachMaximumSupply",()=>new xB);var PB=class t extends Error{constructor(){super("Data is immutable"),this.code=59,this.name="DataIsImmutable",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DataIsImmutableError=PB;te.set(59,()=>new PB);re.set("DataIsImmutable",()=>new PB);var OB=class t extends Error{constructor(){super("No duplicate creator addresses"),this.code=60,this.name="DuplicateCreatorAddress",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DuplicateCreatorAddressError=OB;te.set(60,()=>new OB);re.set("DuplicateCreatorAddress",()=>new OB);var RB=class t extends Error{constructor(){super("Reservation spots remaining should match total spots when first being created"),this.code=61,this.name="ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=RB;te.set(61,()=>new RB);re.set("ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",()=>new RB);var CB=class t extends Error{constructor(){super("Invalid token program"),this.code=62,this.name="InvalidTokenProgram",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidTokenProgramError=CB;te.set(62,()=>new CB);re.set("InvalidTokenProgram",()=>new CB);var BB=class t extends Error{constructor(){super("Data type mismatch"),this.code=63,this.name="DataTypeMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DataTypeMismatchError=BB;te.set(63,()=>new BB);re.set("DataTypeMismatch",()=>new BB);var MB=class t extends Error{constructor(){super("Beyond alotted address size in reservation!"),this.code=64,this.name="BeyondAlottedAddressSize",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.BeyondAlottedAddressSizeError=MB;te.set(64,()=>new MB);re.set("BeyondAlottedAddressSize",()=>new MB);var NB=class t extends Error{constructor(){super("The reservation has only been partially alotted"),this.code=65,this.name="ReservationNotComplete",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationNotCompleteError=NB;te.set(65,()=>new NB);re.set("ReservationNotComplete",()=>new NB);var DB=class t extends Error{constructor(){super("You cannot splice over an existing reservation!"),this.code=66,this.name="TriedToReplaceAnExistingReservation",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.TriedToReplaceAnExistingReservationError=DB;te.set(66,()=>new DB);re.set("TriedToReplaceAnExistingReservation",()=>new DB);var UB=class t extends Error{constructor(){super("Invalid operation"),this.code=67,this.name="InvalidOperation",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidOperationError=UB;te.set(67,()=>new UB);re.set("InvalidOperation",()=>new UB);var LB=class t extends Error{constructor(){super("Invalid Owner"),this.code=68,this.name="InvalidOwner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidOwnerError=LB;te.set(68,()=>new LB);re.set("InvalidOwner",()=>new LB);var zB=class t extends Error{constructor(){super("Printing mint supply must be zero for conversion"),this.code=69,this.name="PrintingMintSupplyMustBeZeroForConversion",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.PrintingMintSupplyMustBeZeroForConversionError=zB;te.set(69,()=>new zB);re.set("PrintingMintSupplyMustBeZeroForConversion",()=>new zB);var FB=class t extends Error{constructor(){super("One Time Auth mint supply must be zero for conversion"),this.code=70,this.name="OneTimeAuthMintSupplyMustBeZeroForConversion",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.OneTimeAuthMintSupplyMustBeZeroForConversionError=FB;te.set(70,()=>new FB);re.set("OneTimeAuthMintSupplyMustBeZeroForConversion",()=>new FB);var qB=class t extends Error{constructor(){super("You tried to insert one edition too many into an edition mark pda"),this.code=71,this.name="InvalidEditionIndex",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidEditionIndexError=qB;te.set(71,()=>new qB);re.set("InvalidEditionIndex",()=>new qB);var jB=class t extends Error{constructor(){super("In the legacy system the reservation needs to be of size one for cpu limit reasons"),this.code=72,this.name="ReservationArrayShouldBeSizeOne",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationArrayShouldBeSizeOneError=jB;te.set(72,()=>new jB);re.set("ReservationArrayShouldBeSizeOne",()=>new jB);var KB=class t extends Error{constructor(){super("Is Mutable can only be flipped to false"),this.code=73,this.name="IsMutableCanOnlyBeFlippedToFalse",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.IsMutableCanOnlyBeFlippedToFalseError=KB;te.set(73,()=>new KB);re.set("IsMutableCanOnlyBeFlippedToFalse",()=>new KB);var WB=class t extends Error{constructor(){super("Collection cannot be verified in this instruction"),this.code=74,this.name="CollectionCannotBeVerifiedInThisInstruction",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CollectionCannotBeVerifiedInThisInstructionError=WB;te.set(74,()=>new WB);re.set("CollectionCannotBeVerifiedInThisInstruction",()=>new WB);var VB=class t extends Error{constructor(){super("This instruction was deprecated in a previous release and is now removed"),this.code=75,this.name="Removed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.RemovedError=VB;te.set(75,()=>new VB);re.set("Removed",()=>new VB);var GB=class t extends Error{constructor(){super("This token use method is burn and there are no remaining uses, it must be burned"),this.code=76,this.name="MustBeBurned",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MustBeBurnedError=GB;te.set(76,()=>new GB);re.set("MustBeBurned",()=>new GB);var HB=class t extends Error{constructor(){super("This use method is invalid"),this.code=77,this.name="InvalidUseMethod",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidUseMethodError=HB;te.set(77,()=>new HB);re.set("InvalidUseMethod",()=>new HB);var $B=class t extends Error{constructor(){super("Cannot Change Use Method after the first use"),this.code=78,this.name="CannotChangeUseMethodAfterFirstUse",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotChangeUseMethodAfterFirstUseError=$B;te.set(78,()=>new $B);re.set("CannotChangeUseMethodAfterFirstUse",()=>new $B);var YB=class t extends Error{constructor(){super("Cannot Change Remaining or Available uses after the first use"),this.code=79,this.name="CannotChangeUsesAfterFirstUse",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotChangeUsesAfterFirstUseError=YB;te.set(79,()=>new YB);re.set("CannotChangeUsesAfterFirstUse",()=>new YB);var XB=class t extends Error{constructor(){super("Collection Not Found on Metadata"),this.code=80,this.name="CollectionNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CollectionNotFoundError=XB;te.set(80,()=>new XB);re.set("CollectionNotFound",()=>new XB);var ZB=class t extends Error{constructor(){super("Collection Update Authority is invalid"),this.code=81,this.name="InvalidCollectionUpdateAuthority",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidCollectionUpdateAuthorityError=ZB;te.set(81,()=>new ZB);re.set("InvalidCollectionUpdateAuthority",()=>new ZB);var JB=class t extends Error{constructor(){super("Collection Must Be a Unique Master Edition v2"),this.code=82,this.name="CollectionMustBeAUniqueMasterEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CollectionMustBeAUniqueMasterEditionError=JB;te.set(82,()=>new JB);re.set("CollectionMustBeAUniqueMasterEdition",()=>new JB);var QB=class t extends Error{constructor(){super("The Use Authority Record Already Exists, to modify it Revoke, then Approve"),this.code=83,this.name="UseAuthorityRecordAlreadyExists",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UseAuthorityRecordAlreadyExistsError=QB;te.set(83,()=>new QB);re.set("UseAuthorityRecordAlreadyExists",()=>new QB);var eM=class t extends Error{constructor(){super("The Use Authority Record is empty or already revoked"),this.code=84,this.name="UseAuthorityRecordAlreadyRevoked",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UseAuthorityRecordAlreadyRevokedError=eM;te.set(84,()=>new eM);re.set("UseAuthorityRecordAlreadyRevoked",()=>new eM);var tM=class t extends Error{constructor(){super("This token has no uses"),this.code=85,this.name="Unusable",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UnusableError=tM;te.set(85,()=>new tM);re.set("Unusable",()=>new tM);var rM=class t extends Error{constructor(){super("There are not enough Uses left on this token."),this.code=86,this.name="NotEnoughUses",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotEnoughUsesError=rM;te.set(86,()=>new rM);re.set("NotEnoughUses",()=>new rM);var nM=class t extends Error{constructor(){super("This Collection Authority Record Already Exists."),this.code=87,this.name="CollectionAuthorityRecordAlreadyExists",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CollectionAuthorityRecordAlreadyExistsError=nM;te.set(87,()=>new nM);re.set("CollectionAuthorityRecordAlreadyExists",()=>new nM);var iM=class t extends Error{constructor(){super("This Collection Authority Record Does Not Exist."),this.code=88,this.name="CollectionAuthorityDoesNotExist",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CollectionAuthorityDoesNotExistError=iM;te.set(88,()=>new iM);re.set("CollectionAuthorityDoesNotExist",()=>new iM);var oM=class t extends Error{constructor(){super("This Use Authority Record is invalid."),this.code=89,this.name="InvalidUseAuthorityRecord",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidUseAuthorityRecordError=oM;te.set(89,()=>new oM);re.set("InvalidUseAuthorityRecord",()=>new oM);var sM=class t extends Error{constructor(){super("This Collection Authority Record is invalid."),this.code=90,this.name="InvalidCollectionAuthorityRecord",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidCollectionAuthorityRecordError=sM;te.set(90,()=>new sM);re.set("InvalidCollectionAuthorityRecord",()=>new sM);var aM=class t extends Error{constructor(){super("Metadata does not match the freeze authority on the mint"),this.code=91,this.name="InvalidFreezeAuthority",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidFreezeAuthorityError=aM;te.set(91,()=>new aM);re.set("InvalidFreezeAuthority",()=>new aM);var cM=class t extends Error{constructor(){super("All tokens in this account have not been delegated to this user."),this.code=92,this.name="InvalidDelegate",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidDelegateError=cM;te.set(92,()=>new cM);re.set("InvalidDelegate",()=>new cM);var uM=class t extends Error{constructor(){super("Creator can not be adjusted once they are verified."),this.code=93,this.name="CannotAdjustVerifiedCreator",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotAdjustVerifiedCreatorError=uM;te.set(93,()=>new uM);re.set("CannotAdjustVerifiedCreator",()=>new uM);var lM=class t extends Error{constructor(){super("Verified creators cannot be removed."),this.code=94,this.name="CannotRemoveVerifiedCreator",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotRemoveVerifiedCreatorError=lM;te.set(94,()=>new lM);re.set("CannotRemoveVerifiedCreator",()=>new lM);var dM=class t extends Error{constructor(){super("Can not wipe verified creators."),this.code=95,this.name="CannotWipeVerifiedCreators",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotWipeVerifiedCreatorsError=dM;te.set(95,()=>new dM);re.set("CannotWipeVerifiedCreators",()=>new dM);var fM=class t extends Error{constructor(){super("Not allowed to change seller fee basis points."),this.code=96,this.name="NotAllowedToChangeSellerFeeBasisPoints",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotAllowedToChangeSellerFeeBasisPointsError=fM;te.set(96,()=>new fM);re.set("NotAllowedToChangeSellerFeeBasisPoints",()=>new fM);var pM=class t extends Error{constructor(){super("Edition override cannot be zero"),this.code=97,this.name="EditionOverrideCannotBeZero",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.EditionOverrideCannotBeZeroError=pM;te.set(97,()=>new pM);re.set("EditionOverrideCannotBeZero",()=>new pM);var hM=class t extends Error{constructor(){super("Invalid User"),this.code=98,this.name="InvalidUser",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidUserError=hM;te.set(98,()=>new hM);re.set("InvalidUser",()=>new hM);var mM=class t extends Error{constructor(){super("Revoke Collection Authority signer is incorrect"),this.code=99,this.name="RevokeCollectionAuthoritySignerIncorrect",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.RevokeCollectionAuthoritySignerIncorrectError=mM;te.set(99,()=>new mM);re.set("RevokeCollectionAuthoritySignerIncorrect",()=>new mM);var yM=class t extends Error{constructor(){super("Token close failed"),this.code=100,this.name="TokenCloseFailed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.TokenCloseFailedError=yM;te.set(100,()=>new yM);re.set("TokenCloseFailed",()=>new yM);var gM=class t extends Error{constructor(){super("Can't use this function on unsized collection"),this.code=101,this.name="UnsizedCollection",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UnsizedCollectionError=gM;te.set(101,()=>new gM);re.set("UnsizedCollection",()=>new gM);var bM=class t extends Error{constructor(){super("Can't use this function on a sized collection"),this.code=102,this.name="SizedCollection",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.SizedCollectionError=bM;te.set(102,()=>new bM);re.set("SizedCollection",()=>new bM);var _M=class t extends Error{constructor(){super("Missing collection metadata account"),this.code=103,this.name="MissingCollectionMetadata",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingCollectionMetadataError=_M;te.set(103,()=>new _M);re.set("MissingCollectionMetadata",()=>new _M);var SM=class t extends Error{constructor(){super("This NFT is not a member of the specified collection."),this.code=104,this.name="NotAMemberOfCollection",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotAMemberOfCollectionError=SM;te.set(104,()=>new SM);re.set("NotAMemberOfCollection",()=>new SM);var wM=class t extends Error{constructor(){super("This NFT is not a verified member of the specified collection."),this.code=105,this.name="NotVerifiedMemberOfCollection",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotVerifiedMemberOfCollectionError=wM;te.set(105,()=>new wM);re.set("NotVerifiedMemberOfCollection",()=>new wM);var AM=class t extends Error{constructor(){super("This NFT is not a collection parent NFT."),this.code=106,this.name="NotACollectionParent",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotACollectionParentError=AM;te.set(106,()=>new AM);re.set("NotACollectionParent",()=>new AM);var EM=class t extends Error{constructor(){super("Could not determine a TokenStandard type."),this.code=107,this.name="CouldNotDetermineTokenStandard",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CouldNotDetermineTokenStandardError=EM;te.set(107,()=>new EM);re.set("CouldNotDetermineTokenStandard",()=>new EM);var IM=class t extends Error{constructor(){super("This mint account has an edition but none was provided."),this.code=108,this.name="MissingEditionAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingEditionAccountError=IM;te.set(108,()=>new IM);re.set("MissingEditionAccount",()=>new IM);var TM=class t extends Error{constructor(){super("This edition is not a Master Edition"),this.code=109,this.name="NotAMasterEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotAMasterEditionError=TM;te.set(109,()=>new TM);re.set("NotAMasterEdition",()=>new TM);var kM=class t extends Error{constructor(){super("This Master Edition has existing prints"),this.code=110,this.name="MasterEditionHasPrints",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MasterEditionHasPrintsError=kM;te.set(110,()=>new kM);re.set("MasterEditionHasPrints",()=>new kM);var vM=class t extends Error{constructor(){super("Borsh Deserialization Error"),this.code=111,this.name="BorshDeserializationError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.BorshDeserializationErrorError=vM;te.set(111,()=>new vM);re.set("BorshDeserializationError",()=>new vM);var xM=class t extends Error{constructor(){super("Cannot update a verified collection in this command"),this.code=112,this.name="CannotUpdateVerifiedCollection",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotUpdateVerifiedCollectionError=xM;te.set(112,()=>new xM);re.set("CannotUpdateVerifiedCollection",()=>new xM);var PM=class t extends Error{constructor(){super("Edition account doesnt match collection "),this.code=113,this.name="CollectionMasterEditionAccountInvalid",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CollectionMasterEditionAccountInvalidError=PM;te.set(113,()=>new PM);re.set("CollectionMasterEditionAccountInvalid",()=>new PM);var OM=class t extends Error{constructor(){super("Item is already verified."),this.code=114,this.name="AlreadyVerified",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.AlreadyVerifiedError=OM;te.set(114,()=>new OM);re.set("AlreadyVerified",()=>new OM);var RM=class t extends Error{constructor(){super("Item is already unverified."),this.code=115,this.name="AlreadyUnverified",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.AlreadyUnverifiedError=RM;te.set(115,()=>new RM);re.set("AlreadyUnverified",()=>new RM);var CM=class t extends Error{constructor(){super("This edition is not a Print Edition"),this.code=116,this.name="NotAPrintEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NotAPrintEditionError=CM;te.set(116,()=>new CM);re.set("NotAPrintEdition",()=>new CM);var BM=class t extends Error{constructor(){super("Invalid Master Edition"),this.code=117,this.name="InvalidMasterEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidMasterEditionError=BM;te.set(117,()=>new BM);re.set("InvalidMasterEdition",()=>new BM);var MM=class t extends Error{constructor(){super("Invalid Print Edition"),this.code=118,this.name="InvalidPrintEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidPrintEditionError=MM;te.set(118,()=>new MM);re.set("InvalidPrintEdition",()=>new MM);var NM=class t extends Error{constructor(){super("Invalid Edition Marker"),this.code=119,this.name="InvalidEditionMarker",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidEditionMarkerError=NM;te.set(119,()=>new NM);re.set("InvalidEditionMarker",()=>new NM);var DM=class t extends Error{constructor(){super("Reservation List is Deprecated"),this.code=120,this.name="ReservationListDeprecated",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.ReservationListDeprecatedError=DM;te.set(120,()=>new DM);re.set("ReservationListDeprecated",()=>new DM);var UM=class t extends Error{constructor(){super("Print Edition does not match Master Edition"),this.code=121,this.name="PrintEditionDoesNotMatchMasterEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.PrintEditionDoesNotMatchMasterEditionError=UM;te.set(121,()=>new UM);re.set("PrintEditionDoesNotMatchMasterEdition",()=>new UM);var LM=class t extends Error{constructor(){super("Edition Number greater than max supply"),this.code=122,this.name="EditionNumberGreaterThanMaxSupply",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.EditionNumberGreaterThanMaxSupplyError=LM;te.set(122,()=>new LM);re.set("EditionNumberGreaterThanMaxSupply",()=>new LM);var zM=class t extends Error{constructor(){super("Must unverify before migrating collections."),this.code=123,this.name="MustUnverify",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MustUnverifyError=zM;te.set(123,()=>new zM);re.set("MustUnverify",()=>new zM);var FM=class t extends Error{constructor(){super("Invalid Escrow Account Bump Seed"),this.code=124,this.name="InvalidEscrowBumpSeed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidEscrowBumpSeedError=FM;te.set(124,()=>new FM);re.set("InvalidEscrowBumpSeed",()=>new FM);var qM=class t extends Error{constructor(){super("Must Escrow Authority"),this.code=125,this.name="MustBeEscrowAuthority",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MustBeEscrowAuthorityError=qM;te.set(125,()=>new qM);re.set("MustBeEscrowAuthority",()=>new qM);var jM=class t extends Error{constructor(){super("Invalid System Program"),this.code=126,this.name="InvalidSystemProgram",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidSystemProgramError=jM;te.set(126,()=>new jM);re.set("InvalidSystemProgram",()=>new jM);var KM=class t extends Error{constructor(){super("Must be a Non Fungible Token"),this.code=127,this.name="MustBeNonFungible",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MustBeNonFungibleError=KM;te.set(127,()=>new KM);re.set("MustBeNonFungible",()=>new KM);var WM=class t extends Error{constructor(){super("Insufficient tokens for transfer"),this.code=128,this.name="InsufficientTokens",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InsufficientTokensError=WM;te.set(128,()=>new WM);re.set("InsufficientTokens",()=>new WM);var VM=class t extends Error{constructor(){super("Borsh Serialization Error"),this.code=129,this.name="BorshSerializationError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.BorshSerializationErrorError=VM;te.set(129,()=>new VM);re.set("BorshSerializationError",()=>new VM);var GM=class t extends Error{constructor(){super("Cannot create NFT with no Freeze Authority."),this.code=130,this.name="NoFreezeAuthoritySet",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.NoFreezeAuthoritySetError=GM;te.set(130,()=>new GM);re.set("NoFreezeAuthoritySet",()=>new GM);var HM=class t extends Error{constructor(){super("Invalid collection size change"),this.code=131,this.name="InvalidCollectionSizeChange",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidCollectionSizeChangeError=HM;te.set(131,()=>new HM);re.set("InvalidCollectionSizeChange",()=>new HM);var $M=class t extends Error{constructor(){super("Invalid bubblegum signer"),this.code=132,this.name="InvalidBubblegumSigner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidBubblegumSignerError=$M;te.set(132,()=>new $M);re.set("InvalidBubblegumSigner",()=>new $M);var YM=class t extends Error{constructor(){super("Escrow parent cannot have a delegate"),this.code=133,this.name="EscrowParentHasDelegate",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.EscrowParentHasDelegateError=YM;te.set(133,()=>new YM);re.set("EscrowParentHasDelegate",()=>new YM);var XM=class t extends Error{constructor(){super("Mint needs to be signer to initialize the account"),this.code=134,this.name="MintIsNotSigner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MintIsNotSignerError=XM;te.set(134,()=>new XM);re.set("MintIsNotSigner",()=>new XM);var ZM=class t extends Error{constructor(){super("Invalid token standard"),this.code=135,this.name="InvalidTokenStandard",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidTokenStandardError=ZM;te.set(135,()=>new ZM);re.set("InvalidTokenStandard",()=>new ZM);var JM=class t extends Error{constructor(){super("Invalid mint account for specified token standard"),this.code=136,this.name="InvalidMintForTokenStandard",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidMintForTokenStandardError=JM;te.set(136,()=>new JM);re.set("InvalidMintForTokenStandard",()=>new JM);var QM=class t extends Error{constructor(){super("Invalid authorization rules account"),this.code=137,this.name="InvalidAuthorizationRules",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidAuthorizationRulesError=QM;te.set(137,()=>new QM);re.set("InvalidAuthorizationRules",()=>new QM);var eN=class t extends Error{constructor(){super("Missing authorization rules account"),this.code=138,this.name="MissingAuthorizationRules",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingAuthorizationRulesError=eN;te.set(138,()=>new eN);re.set("MissingAuthorizationRules",()=>new eN);var tN=class t extends Error{constructor(){super("Missing programmable configuration"),this.code=139,this.name="MissingProgrammableConfig",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingProgrammableConfigError=tN;te.set(139,()=>new tN);re.set("MissingProgrammableConfig",()=>new tN);var rN=class t extends Error{constructor(){super("Invalid programmable configuration"),this.code=140,this.name="InvalidProgrammableConfig",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidProgrammableConfigError=rN;te.set(140,()=>new rN);re.set("InvalidProgrammableConfig",()=>new rN);var nN=class t extends Error{constructor(){super("Delegate already exists"),this.code=141,this.name="DelegateAlreadyExists",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DelegateAlreadyExistsError=nN;te.set(141,()=>new nN);re.set("DelegateAlreadyExists",()=>new nN);var iN=class t extends Error{constructor(){super("Delegate not found"),this.code=142,this.name="DelegateNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DelegateNotFoundError=iN;te.set(142,()=>new iN);re.set("DelegateNotFound",()=>new iN);var oN=class t extends Error{constructor(){super("Required account not set in instruction builder"),this.code=143,this.name="MissingAccountInBuilder",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingAccountInBuilderError=oN;te.set(143,()=>new oN);re.set("MissingAccountInBuilder",()=>new oN);var sN=class t extends Error{constructor(){super("Required argument not set in instruction builder"),this.code=144,this.name="MissingArgumentInBuilder",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingArgumentInBuilderError=sN;te.set(144,()=>new sN);re.set("MissingArgumentInBuilder",()=>new sN);var aN=class t extends Error{constructor(){super("Feature not supported currently"),this.code=145,this.name="FeatureNotSupported",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.FeatureNotSupportedError=aN;te.set(145,()=>new aN);re.set("FeatureNotSupported",()=>new aN);var cN=class t extends Error{constructor(){super("Invalid system wallet"),this.code=146,this.name="InvalidSystemWallet",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidSystemWalletError=cN;te.set(146,()=>new cN);re.set("InvalidSystemWallet",()=>new cN);var uN=class t extends Error{constructor(){super("Only the sale delegate can transfer while its set"),this.code=147,this.name="OnlySaleDelegateCanTransfer",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.OnlySaleDelegateCanTransferError=uN;te.set(147,()=>new uN);re.set("OnlySaleDelegateCanTransfer",()=>new uN);var lN=class t extends Error{constructor(){super("Missing token account"),this.code=148,this.name="MissingTokenAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingTokenAccountError=lN;te.set(148,()=>new lN);re.set("MissingTokenAccount",()=>new lN);var dN=class t extends Error{constructor(){super("Missing SPL token program"),this.code=149,this.name="MissingSplTokenProgram",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingSplTokenProgramError=dN;te.set(149,()=>new dN);re.set("MissingSplTokenProgram",()=>new dN);var fN=class t extends Error{constructor(){super("Missing authorization rules program"),this.code=150,this.name="MissingAuthorizationRulesProgram",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingAuthorizationRulesProgramError=fN;te.set(150,()=>new fN);re.set("MissingAuthorizationRulesProgram",()=>new fN);var pN=class t extends Error{constructor(){super("Invalid delegate role for transfer"),this.code=151,this.name="InvalidDelegateRoleForTransfer",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidDelegateRoleForTransferError=pN;te.set(151,()=>new pN);re.set("InvalidDelegateRoleForTransfer",()=>new pN);var hN=class t extends Error{constructor(){super("Invalid transfer authority"),this.code=152,this.name="InvalidTransferAuthority",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidTransferAuthorityError=hN;te.set(152,()=>new hN);re.set("InvalidTransferAuthority",()=>new hN);var mN=class t extends Error{constructor(){super("Instruction not supported for ProgrammableNonFungible assets"),this.code=153,this.name="InstructionNotSupported",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InstructionNotSupportedError=mN;te.set(153,()=>new mN);re.set("InstructionNotSupported",()=>new mN);var yN=class t extends Error{constructor(){super("Public key does not match expected value"),this.code=154,this.name="KeyMismatch",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.KeyMismatchError=yN;te.set(154,()=>new yN);re.set("KeyMismatch",()=>new yN);var gN=class t extends Error{constructor(){super("Token is locked"),this.code=155,this.name="LockedToken",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.LockedTokenError=gN;te.set(155,()=>new gN);re.set("LockedToken",()=>new gN);var bN=class t extends Error{constructor(){super("Token is unlocked"),this.code=156,this.name="UnlockedToken",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.UnlockedTokenError=bN;te.set(156,()=>new bN);re.set("UnlockedToken",()=>new bN);var _N=class t extends Error{constructor(){super("Missing delegate role"),this.code=157,this.name="MissingDelegateRole",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingDelegateRoleError=_N;te.set(157,()=>new _N);re.set("MissingDelegateRole",()=>new _N);var SN=class t extends Error{constructor(){super("Invalid authority type"),this.code=158,this.name="InvalidAuthorityType",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidAuthorityTypeError=SN;te.set(158,()=>new SN);re.set("InvalidAuthorityType",()=>new SN);var wN=class t extends Error{constructor(){super("Missing token record account"),this.code=159,this.name="MissingTokenRecord",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingTokenRecordError=wN;te.set(159,()=>new wN);re.set("MissingTokenRecord",()=>new wN);var AN=class t extends Error{constructor(){super("Mint supply must be zero for programmable assets"),this.code=160,this.name="MintSupplyMustBeZero",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MintSupplyMustBeZeroError=AN;te.set(160,()=>new AN);re.set("MintSupplyMustBeZero",()=>new AN);var EN=class t extends Error{constructor(){super("Data is empty or zeroed"),this.code=161,this.name="DataIsEmptyOrZeroed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DataIsEmptyOrZeroedError=EN;te.set(161,()=>new EN);re.set("DataIsEmptyOrZeroed",()=>new EN);var IN=class t extends Error{constructor(){super("Missing token owner"),this.code=162,this.name="MissingTokenOwnerAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingTokenOwnerAccountError=IN;te.set(162,()=>new IN);re.set("MissingTokenOwnerAccount",()=>new IN);var TN=class t extends Error{constructor(){super("Master edition account has an invalid length"),this.code=163,this.name="InvalidMasterEditionAccountLength",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidMasterEditionAccountLengthError=TN;te.set(163,()=>new TN);re.set("InvalidMasterEditionAccountLength",()=>new TN);var kN=class t extends Error{constructor(){super("Incorrect token state"),this.code=164,this.name="IncorrectTokenState",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.IncorrectTokenStateError=kN;te.set(164,()=>new kN);re.set("IncorrectTokenState",()=>new kN);var vN=class t extends Error{constructor(){super("Invalid delegate role"),this.code=165,this.name="InvalidDelegateRole",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidDelegateRoleError=vN;te.set(165,()=>new vN);re.set("InvalidDelegateRole",()=>new vN);var xN=class t extends Error{constructor(){super("Print supply is required for non-fungibles"),this.code=166,this.name="MissingPrintSupply",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingPrintSupplyError=xN;te.set(166,()=>new xN);re.set("MissingPrintSupply",()=>new xN);var PN=class t extends Error{constructor(){super("Missing master edition account"),this.code=167,this.name="MissingMasterEditionAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingMasterEditionAccountError=PN;te.set(167,()=>new PN);re.set("MissingMasterEditionAccount",()=>new PN);var ON=class t extends Error{constructor(){super("Amount must be greater than zero"),this.code=168,this.name="AmountMustBeGreaterThanZero",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.AmountMustBeGreaterThanZeroError=ON;te.set(168,()=>new ON);re.set("AmountMustBeGreaterThanZero",()=>new ON);var RN=class t extends Error{constructor(){super("Invalid delegate args"),this.code=169,this.name="InvalidDelegateArgs",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidDelegateArgsError=RN;te.set(169,()=>new RN);re.set("InvalidDelegateArgs",()=>new RN);var CN=class t extends Error{constructor(){super("Missing address for locked transfer"),this.code=170,this.name="MissingLockedTransferAddress",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingLockedTransferAddressError=CN;te.set(170,()=>new CN);re.set("MissingLockedTransferAddress",()=>new CN);var BN=class t extends Error{constructor(){super("Invalid destination address for locked transfer"),this.code=171,this.name="InvalidLockedTransferAddress",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidLockedTransferAddressError=BN;te.set(171,()=>new BN);re.set("InvalidLockedTransferAddress",()=>new BN);var MN=class t extends Error{constructor(){super("Exceeded account realloc increase limit"),this.code=172,this.name="DataIncrementLimitExceeded",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.DataIncrementLimitExceededError=MN;te.set(172,()=>new MN);re.set("DataIncrementLimitExceeded",()=>new MN);var NN=class t extends Error{constructor(){super("Cannot update the rule set of a programmable asset that has a delegate"),this.code=173,this.name="CannotUpdateAssetWithDelegate",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotUpdateAssetWithDelegateError=NN;te.set(173,()=>new NN);re.set("CannotUpdateAssetWithDelegate",()=>new NN);var DN=class t extends Error{constructor(){super("Invalid token amount for this operation or token standard"),this.code=174,this.name="InvalidAmount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidAmountError=DN;te.set(174,()=>new DN);re.set("InvalidAmount",()=>new DN);var UN=class t extends Error{constructor(){super("Missing master edition mint account"),this.code=175,this.name="MissingMasterEditionMintAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingMasterEditionMintAccountError=UN;te.set(175,()=>new UN);re.set("MissingMasterEditionMintAccount",()=>new UN);var LN=class t extends Error{constructor(){super("Missing master edition token account"),this.code=176,this.name="MissingMasterEditionTokenAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingMasterEditionTokenAccountError=LN;te.set(176,()=>new LN);re.set("MissingMasterEditionTokenAccount",()=>new LN);var zN=class t extends Error{constructor(){super("Missing edition marker account"),this.code=177,this.name="MissingEditionMarkerAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingEditionMarkerAccountError=zN;te.set(177,()=>new zN);re.set("MissingEditionMarkerAccount",()=>new zN);var FN=class t extends Error{constructor(){super("Cannot burn while persistent delegate is set"),this.code=178,this.name="CannotBurnWithDelegate",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.CannotBurnWithDelegateError=FN;te.set(178,()=>new FN);re.set("CannotBurnWithDelegate",()=>new FN);var qN=class t extends Error{constructor(){super("Missing edition account"),this.code=179,this.name="MissingEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingEditionError=qN;te.set(179,()=>new qN);re.set("MissingEdition",()=>new qN);var jN=class t extends Error{constructor(){super("Invalid Associated Token Account Program"),this.code=180,this.name="InvalidAssociatedTokenAccountProgram",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidAssociatedTokenAccountProgramError=jN;te.set(180,()=>new jN);re.set("InvalidAssociatedTokenAccountProgram",()=>new jN);var KN=class t extends Error{constructor(){super("Invalid InstructionsSysvar"),this.code=181,this.name="InvalidInstructionsSysvar",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidInstructionsSysvarError=KN;te.set(181,()=>new KN);re.set("InvalidInstructionsSysvar",()=>new KN);var WN=class t extends Error{constructor(){super("Invalid or Unneeded parent accounts"),this.code=182,this.name="InvalidParentAccounts",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidParentAccountsError=WN;te.set(182,()=>new WN);re.set("InvalidParentAccounts",()=>new WN);var VN=class t extends Error{constructor(){super("Authority cannot apply all update args"),this.code=183,this.name="InvalidUpdateArgs",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidUpdateArgsError=VN;te.set(183,()=>new VN);re.set("InvalidUpdateArgs",()=>new VN);var GN=class t extends Error{constructor(){super("Token account does not have enough tokens"),this.code=184,this.name="InsufficientTokenBalance",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InsufficientTokenBalanceError=GN;te.set(184,()=>new GN);re.set("InsufficientTokenBalance",()=>new GN);var HN=class t extends Error{constructor(){super("Missing collection account"),this.code=185,this.name="MissingCollectionMint",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingCollectionMintError=HN;te.set(185,()=>new HN);re.set("MissingCollectionMint",()=>new HN);var $N=class t extends Error{constructor(){super("Missing collection master edition account"),this.code=186,this.name="MissingCollectionMasterEdition",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingCollectionMasterEditionError=$N;te.set(186,()=>new $N);re.set("MissingCollectionMasterEdition",()=>new $N);var YN=class t extends Error{constructor(){super("Invalid token record account"),this.code=187,this.name="InvalidTokenRecord",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidTokenRecordError=YN;te.set(187,()=>new YN);re.set("InvalidTokenRecord",()=>new YN);var XN=class t extends Error{constructor(){super("The close authority needs to be revoked by the Utility Delegate"),this.code=188,this.name="InvalidCloseAuthority",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidCloseAuthorityError=XN;te.set(188,()=>new XN);re.set("InvalidCloseAuthority",()=>new XN);var ZN=class t extends Error{constructor(){super("Invalid or removed instruction"),this.code=189,this.name="InvalidInstruction",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidInstructionError=ZN;te.set(189,()=>new ZN);re.set("InvalidInstruction",()=>new ZN);var JN=class t extends Error{constructor(){super("Missing delegate record"),this.code=190,this.name="MissingDelegateRecord",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.MissingDelegateRecordError=JN;te.set(190,()=>new JN);re.set("MissingDelegateRecord",()=>new JN);var QN=class t extends Error{constructor(){super(""),this.code=191,this.name="InvalidFeeAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidFeeAccountError=QN;te.set(191,()=>new QN);re.set("InvalidFeeAccount",()=>new QN);var eD=class t extends Error{constructor(){super(""),this.code=192,this.name="InvalidMetadataFlags",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}};M.InvalidMetadataFlagsError=eD;te.set(192,()=>new eD);re.set("InvalidMetadataFlags",()=>new eD);function XEt(t){let e=te.get(t);return e!=null?e():null}M.errorFromCode=XEt;function ZEt(t){let e=re.get(t);return e!=null?e():null}M.errorFromName=ZEt});var yke=_(mc=>{"use strict";u();l();var JEt=mc&&mc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QEt=mc&&mc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mke=mc&&mc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&JEt(e,t,r);return QEt(e,t),e};Object.defineProperty(mc,"__esModule",{value:!0});mc.createApproveCollectionAuthorityInstruction=mc.approveCollectionAuthorityInstructionDiscriminator=mc.ApproveCollectionAuthorityStruct=void 0;var hke=mke(pe()),bte=mke(we());mc.ApproveCollectionAuthorityStruct=new hke.BeetArgsStruct([["instructionDiscriminator",hke.u8]],"ApproveCollectionAuthorityInstructionArgs");mc.approveCollectionAuthorityInstructionDiscriminator=23;function eIt(t,e=new bte.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r;let[n]=mc.ApproveCollectionAuthorityStruct.serialize({instructionDiscriminator:mc.approveCollectionAuthorityInstructionDiscriminator}),i=[{pubkey:t.collectionAuthorityRecord,isWritable:!0,isSigner:!1},{pubkey:t.newCollectionAuthority,isWritable:!1,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!0,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:(r=t.systemProgram)!==null&&r!==void 0?r:bte.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&i.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new bte.TransactionInstruction({programId:e,keys:i,data:n})}mc.createApproveCollectionAuthorityInstruction=eIt});var yt=_(Ju=>{"use strict";u();l();Object.defineProperty(Ju,"__esModule",{value:!0});Ju.programSupportsExtensions=Ju.NATIVE_MINT_2022=Ju.NATIVE_MINT=Ju.ASSOCIATED_TOKEN_PROGRAM_ID=Ju.TOKEN_2022_PROGRAM_ID=Ju.TOKEN_PROGRAM_ID=void 0;var tD=we();Ju.TOKEN_PROGRAM_ID=new tD.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");Ju.TOKEN_2022_PROGRAM_ID=new tD.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");Ju.ASSOCIATED_TOKEN_PROGRAM_ID=new tD.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");Ju.NATIVE_MINT=new tD.PublicKey("So11111111111111111111111111111111111111112");Ju.NATIVE_MINT_2022=new tD.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function tIt(t){return t!==Ju.TOKEN_PROGRAM_ID}Ju.programSupportsExtensions=tIt});var k1=_(Kj=>{"use strict";u();l();Object.defineProperty(Kj,"__esModule",{value:!0});Kj.encodeDecode=void 0;var rIt=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}};Kj.encodeDecode=rIt});var _te=_(Hn=>{"use strict";u();l();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.u256be=Hn.u256=Hn.u192be=Hn.u192=Hn.u128be=Hn.u128=Hn.u64be=Hn.u64=Hn.bigIntBE=Hn.bigInt=void 0;var gke=Ce(),Wj=II(),bke=k1(),nIt=t=>e=>{let r=(0,gke.blob)(t,e),{encode:n,decode:i}=(0,bke.encodeDecode)(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return(0,Wj.toBigIntLE)(Buffer.from(c))},o.encode=(s,a,c)=>{let d=(0,Wj.toBufferLE)(s,t);return n(d,a,c)},o};Hn.bigInt=nIt;var iIt=t=>e=>{let r=(0,gke.blob)(t,e),{encode:n,decode:i}=(0,bke.encodeDecode)(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return(0,Wj.toBigIntBE)(Buffer.from(c))},o.encode=(s,a,c)=>{let d=(0,Wj.toBufferBE)(s,t);return n(d,a,c)},o};Hn.bigIntBE=iIt;Hn.u64=(0,Hn.bigInt)(8);Hn.u64be=(0,Hn.bigIntBE)(8);Hn.u128=(0,Hn.bigInt)(16);Hn.u128be=(0,Hn.bigIntBE)(16);Hn.u192=(0,Hn.bigInt)(24);Hn.u192be=(0,Hn.bigIntBE)(24);Hn.u256=(0,Hn.bigInt)(32);Hn.u256be=(0,Hn.bigIntBE)(32)});var Ske=_((_ke,Vj)=>{u();l();(function(t){"use strict";var e,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,o="[BigNumber Error] ",s=o+"Number primitive has more than 15 significant digits: ",a=1e14,c=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,m=1e9;function y(Z){var se,Ee,be,fe=Ae.prototype={constructor:Ae,toString:null,valueOf:null},w=new Ae(1),R=20,B=4,C=-7,O=21,N=-1e7,ie=1e7,ue=!1,me=1,ye=0,Ge={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},Be="0123456789abcdefghijklmnopqrstuvwxyz",Fe=!0;function Ae(z,F){var K,de,ee,oe,_e,Q,ne,ge,ae=this;if(!(ae instanceof Ae))return new Ae(z,F);if(F==null){if(z&&z._isBigNumber===!0){ae.s=z.s,!z.c||z.e>ie?ae.c=ae.e=null:z.e<N?ae.c=[ae.e=0]:(ae.e=z.e,ae.c=z.c.slice());return}if((Q=typeof z=="number")&&z*0==0){if(ae.s=1/z<0?(z=-z,-1):1,z===~~z){for(oe=0,_e=z;_e>=10;_e/=10,oe++);oe>ie?ae.c=ae.e=null:(ae.e=oe,ae.c=[z]);return}ge=String(z)}else{if(!r.test(ge=String(z)))return be(ae,ge,Q);ae.s=ge.charCodeAt(0)==45?(ge=ge.slice(1),-1):1}(oe=ge.indexOf("."))>-1&&(ge=ge.replace(".","")),(_e=ge.search(/e/i))>0?(oe<0&&(oe=_e),oe+=+ge.slice(_e+1),ge=ge.substring(0,_e)):oe<0&&(oe=ge.length)}else{if(P(F,2,Be.length,"Base"),F==10&&Fe)return ae=new Ae(z),qt(ae,R+ae.e+1,B);if(ge=String(z),Q=typeof z=="number"){if(z*0!=0)return be(ae,ge,Q,F);if(ae.s=1/z<0?(ge=ge.slice(1),-1):1,Ae.DEBUG&&ge.replace(/^0\.0*|\./,"").length>15)throw Error(s+z)}else ae.s=ge.charCodeAt(0)===45?(ge=ge.slice(1),-1):1;for(K=Be.slice(0,F),oe=_e=0,ne=ge.length;_e<ne;_e++)if(K.indexOf(de=ge.charAt(_e))<0){if(de=="."){if(_e>oe){oe=ne;continue}}else if(!ee&&(ge==ge.toUpperCase()&&(ge=ge.toLowerCase())||ge==ge.toLowerCase()&&(ge=ge.toUpperCase()))){ee=!0,_e=-1,oe=0;continue}return be(ae,String(z),Q,F)}Q=!1,ge=Ee(ge,F,10,ae.s),(oe=ge.indexOf("."))>-1?ge=ge.replace(".",""):oe=ge.length}for(_e=0;ge.charCodeAt(_e)===48;_e++);for(ne=ge.length;ge.charCodeAt(--ne)===48;);if(ge=ge.slice(_e,++ne)){if(ne-=_e,Q&&Ae.DEBUG&&ne>15&&(z>d||z!==i(z)))throw Error(s+ae.s*z);if((oe=oe-_e-1)>ie)ae.c=ae.e=null;else if(oe<N)ae.c=[ae.e=0];else{if(ae.e=oe,ae.c=[],_e=(oe+1)%c,oe<0&&(_e+=c),_e<ne){for(_e&&ae.c.push(+ge.slice(0,_e)),ne-=c;_e<ne;)ae.c.push(+ge.slice(_e,_e+=c));_e=c-(ge=ge.slice(_e)).length}else _e-=ne;for(;_e--;ge+="0");ae.c.push(+ge)}}else ae.c=[ae.e=0]}Ae.clone=y,Ae.ROUND_UP=0,Ae.ROUND_DOWN=1,Ae.ROUND_CEIL=2,Ae.ROUND_FLOOR=3,Ae.ROUND_HALF_UP=4,Ae.ROUND_HALF_DOWN=5,Ae.ROUND_HALF_EVEN=6,Ae.ROUND_HALF_CEIL=7,Ae.ROUND_HALF_FLOOR=8,Ae.EUCLID=9,Ae.config=Ae.set=function(z){var F,K;if(z!=null)if(typeof z=="object"){if(z.hasOwnProperty(F="DECIMAL_PLACES")&&(K=z[F],P(K,0,m,F),R=K),z.hasOwnProperty(F="ROUNDING_MODE")&&(K=z[F],P(K,0,8,F),B=K),z.hasOwnProperty(F="EXPONENTIAL_AT")&&(K=z[F],K&&K.pop?(P(K[0],-m,0,F),P(K[1],0,m,F),C=K[0],O=K[1]):(P(K,-m,m,F),C=-(O=K<0?-K:K))),z.hasOwnProperty(F="RANGE"))if(K=z[F],K&&K.pop)P(K[0],-m,-1,F),P(K[1],1,m,F),N=K[0],ie=K[1];else if(P(K,-m,m,F),K)N=-(ie=K<0?-K:K);else throw Error(o+F+" cannot be zero: "+K);if(z.hasOwnProperty(F="CRYPTO"))if(K=z[F],K===!!K)if(K)if(typeof self.crypto<"u"&&self.crypto&&(self.crypto.getRandomValues||self.crypto.randomBytes))ue=K;else throw ue=!K,Error(o+"crypto unavailable");else ue=K;else throw Error(o+F+" not true or false: "+K);if(z.hasOwnProperty(F="MODULO_MODE")&&(K=z[F],P(K,0,9,F),me=K),z.hasOwnProperty(F="POW_PRECISION")&&(K=z[F],P(K,0,m,F),ye=K),z.hasOwnProperty(F="FORMAT"))if(K=z[F],typeof K=="object")Ge=K;else throw Error(o+F+" not an object: "+K);if(z.hasOwnProperty(F="ALPHABET"))if(K=z[F],typeof K=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(K))Fe=K.slice(0,10)=="0123456789",Be=K;else throw Error(o+F+" invalid: "+K)}else throw Error(o+"Object expected: "+z);return{DECIMAL_PLACES:R,ROUNDING_MODE:B,EXPONENTIAL_AT:[C,O],RANGE:[N,ie],CRYPTO:ue,MODULO_MODE:me,POW_PRECISION:ye,FORMAT:Ge,ALPHABET:Be}},Ae.isBigNumber=function(z){if(!z||z._isBigNumber!==!0)return!1;if(!Ae.DEBUG)return!0;var F,K,de=z.c,ee=z.e,oe=z.s;e:if({}.toString.call(de)=="[object Array]"){if((oe===1||oe===-1)&&ee>=-m&&ee<=m&&ee===i(ee)){if(de[0]===0){if(ee===0&&de.length===1)return!0;break e}if(F=(ee+1)%c,F<1&&(F+=c),String(de[0]).length==F){for(F=0;F<de.length;F++)if(K=de[F],K<0||K>=a||K!==i(K))break e;if(K!==0)return!0}}}else if(de===null&&ee===null&&(oe===null||oe===1||oe===-1))return!0;throw Error(o+"Invalid BigNumber: "+z)},Ae.maximum=Ae.max=function(){return Lt(arguments,fe.lt)},Ae.minimum=Ae.min=function(){return Lt(arguments,fe.gt)},Ae.random=function(){var z=9007199254740992,F=Math.random()*z&2097151?function(){return i(Math.random()*z)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(K){var de,ee,oe,_e,Q,ne=0,ge=[],ae=new Ae(w);if(K==null?K=R:P(K,0,m),_e=n(K/c),ue)if(self.crypto.getRandomValues){for(de=self.crypto.getRandomValues(new Uint32Array(_e*=2));ne<_e;)Q=de[ne]*131072+(de[ne+1]>>>11),Q>=9e15?(ee=self.crypto.getRandomValues(new Uint32Array(2)),de[ne]=ee[0],de[ne+1]=ee[1]):(ge.push(Q%1e14),ne+=2);ne=_e/2}else if(self.crypto.randomBytes){for(de=self.crypto.randomBytes(_e*=7);ne<_e;)Q=(de[ne]&31)*281474976710656+de[ne+1]*1099511627776+de[ne+2]*4294967296+de[ne+3]*16777216+(de[ne+4]<<16)+(de[ne+5]<<8)+de[ne+6],Q>=9e15?self.crypto.randomBytes(7).copy(de,ne):(ge.push(Q%1e14),ne+=7);ne=_e/7}else throw ue=!1,Error(o+"crypto unavailable");if(!ue)for(;ne<_e;)Q=F(),Q<9e15&&(ge[ne++]=Q%1e14);for(_e=ge[--ne],K%=c,_e&&K&&(Q=f[c-K],ge[ne]=i(_e/Q)*Q);ge[ne]===0;ge.pop(),ne--);if(ne<0)ge=[oe=0];else{for(oe=-1;ge[0]===0;ge.splice(0,1),oe-=c);for(ne=1,Q=ge[0];Q>=10;Q/=10,ne++);ne<c&&(oe-=c-ne)}return ae.e=oe,ae.c=ge,ae}}(),Ae.sum=function(){for(var z=1,F=arguments,K=new Ae(F[0]);z<F.length;)K=K.plus(F[z++]);return K},Ee=function(){var z="0123456789";function F(K,de,ee,oe){for(var _e,Q=[0],ne,ge=0,ae=K.length;ge<ae;){for(ne=Q.length;ne--;Q[ne]*=de);for(Q[0]+=oe.indexOf(K.charAt(ge++)),_e=0;_e<Q.length;_e++)Q[_e]>ee-1&&(Q[_e+1]==null&&(Q[_e+1]=0),Q[_e+1]+=Q[_e]/ee|0,Q[_e]%=ee)}return Q.reverse()}return function(K,de,ee,oe,_e){var Q,ne,ge,ae,Ie,bt,Ve,Et,Fn=K.indexOf("."),jt=R,Pt=B;for(Fn>=0&&(ae=ye,ye=0,K=K.replace(".",""),Et=new Ae(de),bt=Et.pow(K.length-Fn),ye=ae,Et.c=F(j(b(bt.c),bt.e,"0"),10,ee,z),Et.e=Et.c.length),Ve=F(K,de,ee,_e?(Q=Be,z):(Q=z,Be)),ge=ae=Ve.length;Ve[--ae]==0;Ve.pop());if(!Ve[0])return Q.charAt(0);if(Fn<0?--ge:(bt.c=Ve,bt.e=ge,bt.s=oe,bt=se(bt,Et,jt,Pt,ee),Ve=bt.c,Ie=bt.r,ge=bt.e),ne=ge+jt+1,Fn=Ve[ne],ae=ee/2,Ie=Ie||ne<0||Ve[ne+1]!=null,Ie=Pt<4?(Fn!=null||Ie)&&(Pt==0||Pt==(bt.s<0?3:2)):Fn>ae||Fn==ae&&(Pt==4||Ie||Pt==6&&Ve[ne-1]&1||Pt==(bt.s<0?8:7)),ne<1||!Ve[0])K=Ie?j(Q.charAt(1),-jt,Q.charAt(0)):Q.charAt(0);else{if(Ve.length=ne,Ie)for(--ee;++Ve[--ne]>ee;)Ve[ne]=0,ne||(++ge,Ve=[1].concat(Ve));for(ae=Ve.length;!Ve[--ae];);for(Fn=0,K="";Fn<=ae;K+=Q.charAt(Ve[Fn++]));K=j(K,ge,Q.charAt(0))}return K}}(),se=function(){function z(de,ee,oe){var _e,Q,ne,ge,ae=0,Ie=de.length,bt=ee%p,Ve=ee/p|0;for(de=de.slice();Ie--;)ne=de[Ie]%p,ge=de[Ie]/p|0,_e=Ve*ne+ge*bt,Q=bt*ne+_e%p*p+ae,ae=(Q/oe|0)+(_e/p|0)+Ve*ge,de[Ie]=Q%oe;return ae&&(de=[ae].concat(de)),de}function F(de,ee,oe,_e){var Q,ne;if(oe!=_e)ne=oe>_e?1:-1;else for(Q=ne=0;Q<oe;Q++)if(de[Q]!=ee[Q]){ne=de[Q]>ee[Q]?1:-1;break}return ne}function K(de,ee,oe,_e){for(var Q=0;oe--;)de[oe]-=Q,Q=de[oe]<ee[oe]?1:0,de[oe]=Q*_e+de[oe]-ee[oe];for(;!de[0]&&de.length>1;de.splice(0,1));}return function(de,ee,oe,_e,Q){var ne,ge,ae,Ie,bt,Ve,Et,Fn,jt,Pt,D,k,x,q,J,ce,Re,ut=de.s==ee.s?1:-1,Ot=de.c,Vt=ee.c;if(!Ot||!Ot[0]||!Vt||!Vt[0])return new Ae(!de.s||!ee.s||(Ot?Vt&&Ot[0]==Vt[0]:!Vt)?NaN:Ot&&Ot[0]==0||!Vt?ut*0:ut/0);for(Fn=new Ae(ut),jt=Fn.c=[],ge=de.e-ee.e,ut=oe+ge+1,Q||(Q=a,ge=g(de.e/c)-g(ee.e/c),ut=ut/c|0),ae=0;Vt[ae]==(Ot[ae]||0);ae++);if(Vt[ae]>(Ot[ae]||0)&&ge--,ut<0)jt.push(1),Ie=!0;else{for(q=Ot.length,ce=Vt.length,ae=0,ut+=2,bt=i(Q/(Vt[0]+1)),bt>1&&(Vt=z(Vt,bt,Q),Ot=z(Ot,bt,Q),ce=Vt.length,q=Ot.length),x=ce,Pt=Ot.slice(0,ce),D=Pt.length;D<ce;Pt[D++]=0);Re=Vt.slice(),Re=[0].concat(Re),J=Vt[0],Vt[1]>=Q/2&&J++;do{if(bt=0,ne=F(Vt,Pt,ce,D),ne<0){if(k=Pt[0],ce!=D&&(k=k*Q+(Pt[1]||0)),bt=i(k/J),bt>1)for(bt>=Q&&(bt=Q-1),Ve=z(Vt,bt,Q),Et=Ve.length,D=Pt.length;F(Ve,Pt,Et,D)==1;)bt--,K(Ve,ce<Et?Re:Vt,Et,Q),Et=Ve.length,ne=1;else bt==0&&(ne=bt=1),Ve=Vt.slice(),Et=Ve.length;if(Et<D&&(Ve=[0].concat(Ve)),K(Pt,Ve,D,Q),D=Pt.length,ne==-1)for(;F(Vt,Pt,ce,D)<1;)bt++,K(Pt,ce<D?Re:Vt,D,Q),D=Pt.length}else ne===0&&(bt++,Pt=[0]);jt[ae++]=bt,Pt[0]?Pt[D++]=Ot[x]||0:(Pt=[Ot[x]],D=1)}while((x++<q||Pt[0]!=null)&&ut--);Ie=Pt[0]!=null,jt[0]||jt.splice(0,1)}if(Q==a){for(ae=1,ut=jt[0];ut>=10;ut/=10,ae++);qt(Fn,oe+(Fn.e=ae+ge*c-1)+1,_e,Ie)}else Fn.e=ge,Fn.r=+Ie;return Fn}}();function wt(z,F,K,de){var ee,oe,_e,Q,ne;if(K==null?K=B:P(K,0,8),!z.c)return z.toString();if(ee=z.c[0],_e=z.e,F==null)ne=b(z.c),ne=de==1||de==2&&(_e<=C||_e>=O)?L(ne,_e):j(ne,_e,"0");else if(z=qt(new Ae(z),F,K),oe=z.e,ne=b(z.c),Q=ne.length,de==1||de==2&&(F<=oe||oe<=C)){for(;Q<F;ne+="0",Q++);ne=L(ne,oe)}else if(F-=_e,ne=j(ne,oe,"0"),oe+1>Q){if(--F>0)for(ne+=".";F--;ne+="0");}else if(F+=oe-Q,F>0)for(oe+1==Q&&(ne+=".");F--;ne+="0");return z.s<0&&ee?"-"+ne:ne}function Lt(z,F){for(var K,de=1,ee=new Ae(z[0]);de<z.length;de++)if(K=new Ae(z[de]),K.s)F.call(ee,K)&&(ee=K);else{ee=K;break}return ee}function zn(z,F,K){for(var de=1,ee=F.length;!F[--ee];F.pop());for(ee=F[0];ee>=10;ee/=10,de++);return(K=de+K*c-1)>ie?z.c=z.e=null:K<N?z.c=[z.e=0]:(z.e=K,z.c=F),z}be=function(){var z=/^(-?)0([xbo])(?=\w[\w.]*$)/i,F=/^([^.]+)\.$/,K=/^\.([^.]+)$/,de=/^-?(Infinity|NaN)$/,ee=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(oe,_e,Q,ne){var ge,ae=Q?_e:_e.replace(ee,"");if(de.test(ae))oe.s=isNaN(ae)?null:ae<0?-1:1;else{if(!Q&&(ae=ae.replace(z,function(Ie,bt,Ve){return ge=(Ve=Ve.toLowerCase())=="x"?16:Ve=="b"?2:8,!ne||ne==ge?bt:Ie}),ne&&(ge=ne,ae=ae.replace(F,"$1").replace(K,"0.$1")),_e!=ae))return new Ae(ae,ge);if(Ae.DEBUG)throw Error(o+"Not a"+(ne?" base "+ne:"")+" number: "+_e);oe.s=null}oe.c=oe.e=null}}();function qt(z,F,K,de){var ee,oe,_e,Q,ne,ge,ae,Ie=z.c,bt=f;if(Ie){e:{for(ee=1,Q=Ie[0];Q>=10;Q/=10,ee++);if(oe=F-ee,oe<0)oe+=c,_e=F,ne=Ie[ge=0],ae=ne/bt[ee-_e-1]%10|0;else if(ge=n((oe+1)/c),ge>=Ie.length)if(de){for(;Ie.length<=ge;Ie.push(0));ne=ae=0,ee=1,oe%=c,_e=oe-c+1}else break e;else{for(ne=Q=Ie[ge],ee=1;Q>=10;Q/=10,ee++);oe%=c,_e=oe-c+ee,ae=_e<0?0:ne/bt[ee-_e-1]%10|0}if(de=de||F<0||Ie[ge+1]!=null||(_e<0?ne:ne%bt[ee-_e-1]),de=K<4?(ae||de)&&(K==0||K==(z.s<0?3:2)):ae>5||ae==5&&(K==4||de||K==6&&(oe>0?_e>0?ne/bt[ee-_e]:0:Ie[ge-1])%10&1||K==(z.s<0?8:7)),F<1||!Ie[0])return Ie.length=0,de?(F-=z.e+1,Ie[0]=bt[(c-F%c)%c],z.e=-F||0):Ie[0]=z.e=0,z;if(oe==0?(Ie.length=ge,Q=1,ge--):(Ie.length=ge+1,Q=bt[c-oe],Ie[ge]=_e>0?i(ne/bt[ee-_e]%bt[_e])*Q:0),de)for(;;)if(ge==0){for(oe=1,_e=Ie[0];_e>=10;_e/=10,oe++);for(_e=Ie[0]+=Q,Q=1;_e>=10;_e/=10,Q++);oe!=Q&&(z.e++,Ie[0]==a&&(Ie[0]=1));break}else{if(Ie[ge]+=Q,Ie[ge]!=a)break;Ie[ge--]=0,Q=1}for(oe=Ie.length;Ie[--oe]===0;Ie.pop());}z.e>ie?z.c=z.e=null:z.e<N&&(z.c=[z.e=0])}return z}function rr(z){var F,K=z.e;return K===null?z.toString():(F=b(z.c),F=K<=C||K>=O?L(F,K):j(F,K,"0"),z.s<0?"-"+F:F)}return fe.absoluteValue=fe.abs=function(){var z=new Ae(this);return z.s<0&&(z.s=1),z},fe.comparedTo=function(z,F){return S(this,new Ae(z,F))},fe.decimalPlaces=fe.dp=function(z,F){var K,de,ee,oe=this;if(z!=null)return P(z,0,m),F==null?F=B:P(F,0,8),qt(new Ae(oe),z+oe.e+1,F);if(!(K=oe.c))return null;if(de=((ee=K.length-1)-g(this.e/c))*c,ee=K[ee])for(;ee%10==0;ee/=10,de--);return de<0&&(de=0),de},fe.dividedBy=fe.div=function(z,F){return se(this,new Ae(z,F),R,B)},fe.dividedToIntegerBy=fe.idiv=function(z,F){return se(this,new Ae(z,F),0,1)},fe.exponentiatedBy=fe.pow=function(z,F){var K,de,ee,oe,_e,Q,ne,ge,ae,Ie=this;if(z=new Ae(z),z.c&&!z.isInteger())throw Error(o+"Exponent not an integer: "+rr(z));if(F!=null&&(F=new Ae(F)),Q=z.e>14,!Ie.c||!Ie.c[0]||Ie.c[0]==1&&!Ie.e&&Ie.c.length==1||!z.c||!z.c[0])return ae=new Ae(Math.pow(+rr(Ie),Q?z.s*(2-U(z)):+rr(z))),F?ae.mod(F):ae;if(ne=z.s<0,F){if(F.c?!F.c[0]:!F.s)return new Ae(NaN);de=!ne&&Ie.isInteger()&&F.isInteger(),de&&(Ie=Ie.mod(F))}else{if(z.e>9&&(Ie.e>0||Ie.e<-1||(Ie.e==0?Ie.c[0]>1||Q&&Ie.c[1]>=24e7:Ie.c[0]<8e13||Q&&Ie.c[0]<=9999975e7)))return oe=Ie.s<0&&U(z)?-0:0,Ie.e>-1&&(oe=1/oe),new Ae(ne?1/oe:oe);ye&&(oe=n(ye/c+2))}for(Q?(K=new Ae(.5),ne&&(z.s=1),ge=U(z)):(ee=Math.abs(+rr(z)),ge=ee%2),ae=new Ae(w);;){if(ge){if(ae=ae.times(Ie),!ae.c)break;oe?ae.c.length>oe&&(ae.c.length=oe):de&&(ae=ae.mod(F))}if(ee){if(ee=i(ee/2),ee===0)break;ge=ee%2}else if(z=z.times(K),qt(z,z.e+1,1),z.e>14)ge=U(z);else{if(ee=+rr(z),ee===0)break;ge=ee%2}Ie=Ie.times(Ie),oe?Ie.c&&Ie.c.length>oe&&(Ie.c.length=oe):de&&(Ie=Ie.mod(F))}return de?ae:(ne&&(ae=w.div(ae)),F?ae.mod(F):oe?qt(ae,ye,B,_e):ae)},fe.integerValue=function(z){var F=new Ae(this);return z==null?z=B:P(z,0,8),qt(F,F.e+1,z)},fe.isEqualTo=fe.eq=function(z,F){return S(this,new Ae(z,F))===0},fe.isFinite=function(){return!!this.c},fe.isGreaterThan=fe.gt=function(z,F){return S(this,new Ae(z,F))>0},fe.isGreaterThanOrEqualTo=fe.gte=function(z,F){return(F=S(this,new Ae(z,F)))===1||F===0},fe.isInteger=function(){return!!this.c&&g(this.e/c)>this.c.length-2},fe.isLessThan=fe.lt=function(z,F){return S(this,new Ae(z,F))<0},fe.isLessThanOrEqualTo=fe.lte=function(z,F){return(F=S(this,new Ae(z,F)))===-1||F===0},fe.isNaN=function(){return!this.s},fe.isNegative=function(){return this.s<0},fe.isPositive=function(){return this.s>0},fe.isZero=function(){return!!this.c&&this.c[0]==0},fe.minus=function(z,F){var K,de,ee,oe,_e=this,Q=_e.s;if(z=new Ae(z,F),F=z.s,!Q||!F)return new Ae(NaN);if(Q!=F)return z.s=-F,_e.plus(z);var ne=_e.e/c,ge=z.e/c,ae=_e.c,Ie=z.c;if(!ne||!ge){if(!ae||!Ie)return ae?(z.s=-F,z):new Ae(Ie?_e:NaN);if(!ae[0]||!Ie[0])return Ie[0]?(z.s=-F,z):new Ae(ae[0]?_e:B==3?-0:0)}if(ne=g(ne),ge=g(ge),ae=ae.slice(),Q=ne-ge){for((oe=Q<0)?(Q=-Q,ee=ae):(ge=ne,ee=Ie),ee.reverse(),F=Q;F--;ee.push(0));ee.reverse()}else for(de=(oe=(Q=ae.length)<(F=Ie.length))?Q:F,Q=F=0;F<de;F++)if(ae[F]!=Ie[F]){oe=ae[F]<Ie[F];break}if(oe&&(ee=ae,ae=Ie,Ie=ee,z.s=-z.s),F=(de=Ie.length)-(K=ae.length),F>0)for(;F--;ae[K++]=0);for(F=a-1;de>Q;){if(ae[--de]<Ie[de]){for(K=de;K&&!ae[--K];ae[K]=F);--ae[K],ae[de]+=a}ae[de]-=Ie[de]}for(;ae[0]==0;ae.splice(0,1),--ge);return ae[0]?zn(z,ae,ge):(z.s=B==3?-1:1,z.c=[z.e=0],z)},fe.modulo=fe.mod=function(z,F){var K,de,ee=this;return z=new Ae(z,F),!ee.c||!z.s||z.c&&!z.c[0]?new Ae(NaN):!z.c||ee.c&&!ee.c[0]?new Ae(ee):(me==9?(de=z.s,z.s=1,K=se(ee,z,0,3),z.s=de,K.s*=de):K=se(ee,z,0,me),z=ee.minus(K.times(z)),!z.c[0]&&me==1&&(z.s=ee.s),z)},fe.multipliedBy=fe.times=function(z,F){var K,de,ee,oe,_e,Q,ne,ge,ae,Ie,bt,Ve,Et,Fn,jt,Pt=this,D=Pt.c,k=(z=new Ae(z,F)).c;if(!D||!k||!D[0]||!k[0])return!Pt.s||!z.s||D&&!D[0]&&!k||k&&!k[0]&&!D?z.c=z.e=z.s=null:(z.s*=Pt.s,!D||!k?z.c=z.e=null:(z.c=[0],z.e=0)),z;for(de=g(Pt.e/c)+g(z.e/c),z.s*=Pt.s,ne=D.length,Ie=k.length,ne<Ie&&(Et=D,D=k,k=Et,ee=ne,ne=Ie,Ie=ee),ee=ne+Ie,Et=[];ee--;Et.push(0));for(Fn=a,jt=p,ee=Ie;--ee>=0;){for(K=0,bt=k[ee]%jt,Ve=k[ee]/jt|0,_e=ne,oe=ee+_e;oe>ee;)ge=D[--_e]%jt,ae=D[_e]/jt|0,Q=Ve*ge+ae*bt,ge=bt*ge+Q%jt*jt+Et[oe]+K,K=(ge/Fn|0)+(Q/jt|0)+Ve*ae,Et[oe--]=ge%Fn;Et[oe]=K}return K?++de:Et.splice(0,1),zn(z,Et,de)},fe.negated=function(){var z=new Ae(this);return z.s=-z.s||null,z},fe.plus=function(z,F){var K,de=this,ee=de.s;if(z=new Ae(z,F),F=z.s,!ee||!F)return new Ae(NaN);if(ee!=F)return z.s=-F,de.minus(z);var oe=de.e/c,_e=z.e/c,Q=de.c,ne=z.c;if(!oe||!_e){if(!Q||!ne)return new Ae(ee/0);if(!Q[0]||!ne[0])return ne[0]?z:new Ae(Q[0]?de:ee*0)}if(oe=g(oe),_e=g(_e),Q=Q.slice(),ee=oe-_e){for(ee>0?(_e=oe,K=ne):(ee=-ee,K=Q),K.reverse();ee--;K.push(0));K.reverse()}for(ee=Q.length,F=ne.length,ee-F<0&&(K=ne,ne=Q,Q=K,F=ee),ee=0;F;)ee=(Q[--F]=Q[F]+ne[F]+ee)/a|0,Q[F]=a===Q[F]?0:Q[F]%a;return ee&&(Q=[ee].concat(Q),++_e),zn(z,Q,_e)},fe.precision=fe.sd=function(z,F){var K,de,ee,oe=this;if(z!=null&&z!==!!z)return P(z,1,m),F==null?F=B:P(F,0,8),qt(new Ae(oe),z,F);if(!(K=oe.c))return null;if(ee=K.length-1,de=ee*c+1,ee=K[ee]){for(;ee%10==0;ee/=10,de--);for(ee=K[0];ee>=10;ee/=10,de++);}return z&&oe.e+1>de&&(de=oe.e+1),de},fe.shiftedBy=function(z){return P(z,-d,d),this.times("1e"+z)},fe.squareRoot=fe.sqrt=function(){var z,F,K,de,ee,oe=this,_e=oe.c,Q=oe.s,ne=oe.e,ge=R+4,ae=new Ae("0.5");if(Q!==1||!_e||!_e[0])return new Ae(!Q||Q<0&&(!_e||_e[0])?NaN:_e?oe:1/0);if(Q=Math.sqrt(+rr(oe)),Q==0||Q==1/0?(F=b(_e),(F.length+ne)%2==0&&(F+="0"),Q=Math.sqrt(+F),ne=g((ne+1)/2)-(ne<0||ne%2),Q==1/0?F="5e"+ne:(F=Q.toExponential(),F=F.slice(0,F.indexOf("e")+1)+ne),K=new Ae(F)):K=new Ae(Q+""),K.c[0]){for(ne=K.e,Q=ne+ge,Q<3&&(Q=0);;)if(ee=K,K=ae.times(ee.plus(se(oe,ee,ge,1))),b(ee.c).slice(0,Q)===(F=b(K.c)).slice(0,Q))if(K.e<ne&&--Q,F=F.slice(Q-3,Q+1),F=="9999"||!de&&F=="4999"){if(!de&&(qt(ee,ee.e+R+2,0),ee.times(ee).eq(oe))){K=ee;break}ge+=4,Q+=4,de=1}else{(!+F||!+F.slice(1)&&F.charAt(0)=="5")&&(qt(K,K.e+R+2,1),z=!K.times(K).eq(oe));break}}return qt(K,K.e+R+1,B,z)},fe.toExponential=function(z,F){return z!=null&&(P(z,0,m),z++),wt(this,z,F,1)},fe.toFixed=function(z,F){return z!=null&&(P(z,0,m),z=z+this.e+1),wt(this,z,F)},fe.toFormat=function(z,F,K){var de,ee=this;if(K==null)z!=null&&F&&typeof F=="object"?(K=F,F=null):z&&typeof z=="object"?(K=z,z=F=null):K=Ge;else if(typeof K!="object")throw Error(o+"Argument not an object: "+K);if(de=ee.toFixed(z,F),ee.c){var oe,_e=de.split("."),Q=+K.groupSize,ne=+K.secondaryGroupSize,ge=K.groupSeparator||"",ae=_e[0],Ie=_e[1],bt=ee.s<0,Ve=bt?ae.slice(1):ae,Et=Ve.length;if(ne&&(oe=Q,Q=ne,ne=oe,Et-=oe),Q>0&&Et>0){for(oe=Et%Q||Q,ae=Ve.substr(0,oe);oe<Et;oe+=Q)ae+=ge+Ve.substr(oe,Q);ne>0&&(ae+=ge+Ve.slice(oe)),bt&&(ae="-"+ae)}de=Ie?ae+(K.decimalSeparator||"")+((ne=+K.fractionGroupSize)?Ie.replace(new RegExp("\\d{"+ne+"}\\B","g"),"$&"+(K.fractionGroupSeparator||"")):Ie):ae}return(K.prefix||"")+de+(K.suffix||"")},fe.toFraction=function(z){var F,K,de,ee,oe,_e,Q,ne,ge,ae,Ie,bt,Ve=this,Et=Ve.c;if(z!=null&&(Q=new Ae(z),!Q.isInteger()&&(Q.c||Q.s!==1)||Q.lt(w)))throw Error(o+"Argument "+(Q.isInteger()?"out of range: ":"not an integer: ")+rr(Q));if(!Et)return new Ae(Ve);for(F=new Ae(w),ge=K=new Ae(w),de=ne=new Ae(w),bt=b(Et),oe=F.e=bt.length-Ve.e-1,F.c[0]=f[(_e=oe%c)<0?c+_e:_e],z=!z||Q.comparedTo(F)>0?oe>0?F:ge:Q,_e=ie,ie=1/0,Q=new Ae(bt),ne.c[0]=0;ae=se(Q,F,0,1),ee=K.plus(ae.times(de)),ee.comparedTo(z)!=1;)K=de,de=ee,ge=ne.plus(ae.times(ee=ge)),ne=ee,F=Q.minus(ae.times(ee=F)),Q=ee;return ee=se(z.minus(K),de,0,1),ne=ne.plus(ee.times(ge)),K=K.plus(ee.times(de)),ne.s=ge.s=Ve.s,oe=oe*2,Ie=se(ge,de,oe,B).minus(Ve).abs().comparedTo(se(ne,K,oe,B).minus(Ve).abs())<1?[ge,de]:[ne,K],ie=_e,Ie},fe.toNumber=function(){return+rr(this)},fe.toPrecision=function(z,F){return z!=null&&P(z,1,m),wt(this,z,F,2)},fe.toString=function(z){var F,K=this,de=K.s,ee=K.e;return ee===null?de?(F="Infinity",de<0&&(F="-"+F)):F="NaN":(z==null?F=ee<=C||ee>=O?L(b(K.c),ee):j(b(K.c),ee,"0"):z===10&&Fe?(K=qt(new Ae(K),R+ee+1,B),F=j(b(K.c),K.e,"0")):(P(z,2,Be.length,"Base"),F=Ee(j(b(K.c),ee,"0"),10,z,de,!0)),de<0&&K.c[0]&&(F="-"+F)),F},fe.valueOf=fe.toJSON=function(){return rr(this)},fe._isBigNumber=!0,Z!=null&&Ae.set(Z),Ae}function g(Z){var se=Z|0;return Z>0||Z===se?se:se-1}function b(Z){for(var se,Ee,be=1,fe=Z.length,w=Z[0]+"";be<fe;){for(se=Z[be++]+"",Ee=c-se.length;Ee--;se="0"+se);w+=se}for(fe=w.length;w.charCodeAt(--fe)===48;);return w.slice(0,fe+1||1)}function S(Z,se){var Ee,be,fe=Z.c,w=se.c,R=Z.s,B=se.s,C=Z.e,O=se.e;if(!R||!B)return null;if(Ee=fe&&!fe[0],be=w&&!w[0],Ee||be)return Ee?be?0:-B:R;if(R!=B)return R;if(Ee=R<0,be=C==O,!fe||!w)return be?0:!fe^Ee?1:-1;if(!be)return C>O^Ee?1:-1;for(B=(C=fe.length)<(O=w.length)?C:O,R=0;R<B;R++)if(fe[R]!=w[R])return fe[R]>w[R]^Ee?1:-1;return C==O?0:C>O^Ee?1:-1}function P(Z,se,Ee,be){if(Z<se||Z>Ee||Z!==i(Z))throw Error(o+(be||"Argument")+(typeof Z=="number"?Z<se||Z>Ee?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Z))}function U(Z){var se=Z.c.length-1;return g(Z.e/c)==se&&Z.c[se]%2!=0}function L(Z,se){return(Z.length>1?Z.charAt(0)+"."+Z.slice(1):Z)+(se<0?"e":"e+")+se}function j(Z,se,Ee){var be,fe;if(se<0){for(fe=Ee+".";++se;fe+=Ee);Z=fe+Z}else if(be=Z.length,++se>be){for(fe=Ee,se-=be;--se;fe+=Ee);Z+=fe}else se<be&&(Z=Z.slice(0,se)+"."+Z.slice(se));return Z}e=y(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof Vj<"u"&&Vj.exports?Vj.exports=e:(t||(t=self),t.BigNumber=e)})(_ke)});var Ake=_(oy=>{"use strict";u();l();var oIt=oy&&oy.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oy,"__esModule",{value:!0});oy.decimal=oy.WAD=void 0;var wke=oIt(Ske()),sIt=k1(),aIt=_te();oy.WAD=new wke.default("1e+18");var cIt=t=>{let e=(0,aIt.u128)(t),{encode:r,decode:n}=(0,sIt.encodeDecode)(e),i=e;return i.decode=(o,s)=>{let a=n(o,s).toString();return new wke.default(a).div(oy.WAD)},i.encode=(o,s,a)=>{let c=BigInt(o.times(oy.WAD).integerValue().toString());return r(c,s,a)},i};oy.decimal=cIt});var Eke=_(Gj=>{"use strict";u();l();Object.defineProperty(Gj,"__esModule",{value:!0});Gj.bool=void 0;var uIt=Ce(),lIt=k1(),dIt=t=>{let e=(0,uIt.u8)(t),{encode:r,decode:n}=(0,lIt.encodeDecode)(e),i=e;return i.decode=(o,s)=>!!n(o,s),i.encode=(o,s,a)=>{let c=Number(o);return r(c,s,a)},i};Gj.bool=dIt});var Fke=_(O1=>{"use strict";u();l();var Ste=Zz(),x1=Jz(),Ike=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;O1.Buffer=Pe;O1.SlowBuffer=gIt;O1.INSPECT_MAX_BYTES=50;var Hj=2147483647;O1.kMaxLength=Hj;Pe.TYPED_ARRAY_SUPPORT=fIt();!Pe.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function fIt(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(Pe.prototype,"parent",{enumerable:!0,get:function(){if(Pe.isBuffer(this))return this.buffer}});Object.defineProperty(Pe.prototype,"offset",{enumerable:!0,get:function(){if(Pe.isBuffer(this))return this.byteOffset}});function nb(t){if(t>Hj)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,Pe.prototype),e}function Pe(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ite(t)}return xke(t,e,r)}Pe.poolSize=8192;function xke(t,e,r){if(typeof t=="string")return hIt(t,e);if(ArrayBuffer.isView(t))return mIt(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(sy(t,ArrayBuffer)||t&&sy(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(sy(t,SharedArrayBuffer)||t&&sy(t.buffer,SharedArrayBuffer)))return Ate(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return Pe.from(n,e,r);let i=yIt(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Pe.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}Pe.from=function(t,e,r){return xke(t,e,r)};Object.setPrototypeOf(Pe.prototype,Uint8Array.prototype);Object.setPrototypeOf(Pe,Uint8Array);function Pke(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function pIt(t,e,r){return Pke(t),t<=0?nb(t):e!==void 0?typeof r=="string"?nb(t).fill(e,r):nb(t).fill(e):nb(t)}Pe.alloc=function(t,e,r){return pIt(t,e,r)};function Ite(t){return Pke(t),nb(t<0?0:Tte(t)|0)}Pe.allocUnsafe=function(t){return Ite(t)};Pe.allocUnsafeSlow=function(t){return Ite(t)};function hIt(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Pe.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Oke(t,e)|0,n=nb(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function wte(t){let e=t.length<0?0:Tte(t.length)|0,r=nb(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function mIt(t){if(sy(t,Uint8Array)){let e=new Uint8Array(t);return Ate(e.buffer,e.byteOffset,e.byteLength)}return wte(t)}function Ate(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,Pe.prototype),n}function yIt(t){if(Pe.isBuffer(t)){let e=Tte(t.length)|0,r=nb(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||vte(t.length)?nb(0):wte(t);if(t.type==="Buffer"&&Array.isArray(t.data))return wte(t.data)}function Tte(t){if(t>=Hj)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Hj.toString(16)+" bytes");return t|0}function gIt(t){return+t!=t&&(t=0),Pe.alloc(+t)}Pe.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Pe.prototype};Pe.compare=function(e,r){if(sy(e,Uint8Array)&&(e=Pe.from(e,e.offset,e.byteLength)),sy(r,Uint8Array)&&(r=Pe.from(r,r.offset,r.byteLength)),!Pe.isBuffer(e)||!Pe.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};Pe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Pe.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Pe.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=Pe.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(sy(s,Uint8Array))o+s.length>i.length?(Pe.isBuffer(s)||(s=Pe.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(Pe.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function Oke(t,e){if(Pe.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||sy(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Ete(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return zke(t).length;default:if(i)return n?-1:Ete(t).length;e=(""+e).toLowerCase(),i=!0}}Pe.byteLength=Oke;function bIt(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return xIt(this,e,r);case"utf8":case"utf-8":return Cke(this,e,r);case"ascii":return kIt(this,e,r);case"latin1":case"binary":return vIt(this,e,r);case"base64":return IIt(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return PIt(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}Pe.prototype._isBuffer=!0;function $A(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}Pe.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)$A(this,r,r+1);return this};Pe.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)$A(this,r,r+3),$A(this,r+1,r+2);return this};Pe.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)$A(this,r,r+7),$A(this,r+1,r+6),$A(this,r+2,r+5),$A(this,r+3,r+4);return this};Pe.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Cke(this,0,e):bIt.apply(this,arguments)};Pe.prototype.toLocaleString=Pe.prototype.toString;Pe.prototype.equals=function(e){if(!Pe.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Pe.compare(this,e)===0};Pe.prototype.inspect=function(){let e="",r=O1.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Ike&&(Pe.prototype[Ike]=Pe.prototype.inspect);Pe.prototype.compare=function(e,r,n,i,o){if(sy(e,Uint8Array)&&(e=Pe.from(e,e.offset,e.byteLength)),!Pe.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,a=n-r,c=Math.min(s,a),d=this.slice(i,o),f=e.slice(r,n);for(let p=0;p<c;++p)if(d[p]!==f[p]){s=d[p],a=f[p];break}return s<a?-1:a<s?1:0};function Rke(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,vte(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=Pe.from(e,n)),Pe.isBuffer(e))return e.length===0?-1:Tke(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Tke(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Tke(t,e,r,n,i){let o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function c(f,p){return o===1?f[p]:f.readUInt16BE(p*o)}let d;if(i){let f=-1;for(d=r;d<s;d++)if(c(t,d)===c(e,f===-1?0:d-f)){if(f===-1&&(f=d),d-f+1===a)return f*o}else f!==-1&&(d-=d-f),f=-1}else for(r+a>s&&(r=s-a),d=r;d>=0;d--){let f=!0;for(let p=0;p<a;p++)if(c(t,d+p)!==c(e,p)){f=!1;break}if(f)return d}return-1}Pe.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};Pe.prototype.indexOf=function(e,r,n){return Rke(this,e,r,n,!0)};Pe.prototype.lastIndexOf=function(e,r,n){return Rke(this,e,r,n,!1)};function _It(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(vte(a))return s;t[r+s]=a}return s}function SIt(t,e,r,n){return $j(Ete(e,t.length-r),t,r,n)}function wIt(t,e,r,n){return $j(BIt(e),t,r,n)}function AIt(t,e,r,n){return $j(zke(e),t,r,n)}function EIt(t,e,r,n){return $j(MIt(e,t.length-r),t,r,n)}Pe.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return _It(this,e,r,n);case"utf8":case"utf-8":return SIt(this,e,r,n);case"ascii":case"latin1":case"binary":return wIt(this,e,r,n);case"base64":return AIt(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return EIt(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};Pe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function IIt(t,e,r){return e===0&&r===t.length?Ste.fromByteArray(t):Ste.fromByteArray(t.slice(e,r))}function Cke(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){let c,d,f,p;switch(a){case 1:o<128&&(s=o);break;case 2:c=t[i+1],(c&192)===128&&(p=(o&31)<<6|c&63,p>127&&(s=p));break;case 3:c=t[i+1],d=t[i+2],(c&192)===128&&(d&192)===128&&(p=(o&15)<<12|(c&63)<<6|d&63,p>2047&&(p<55296||p>57343)&&(s=p));break;case 4:c=t[i+1],d=t[i+2],f=t[i+3],(c&192)===128&&(d&192)===128&&(f&192)===128&&(p=(o&15)<<18|(c&63)<<12|(d&63)<<6|f&63,p>65535&&p<1114112&&(s=p))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return TIt(n)}var kke=4096;function TIt(t){let e=t.length;if(e<=kke)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=kke));return r}function kIt(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function vIt(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function xIt(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=NIt[t[o]];return i}function PIt(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}Pe.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,Pe.prototype),i};function Gs(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}Pe.prototype.readUintLE=Pe.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Gs(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};Pe.prototype.readUintBE=Pe.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Gs(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};Pe.prototype.readUint8=Pe.prototype.readUInt8=function(e,r){return e=e>>>0,r||Gs(e,1,this.length),this[e]};Pe.prototype.readUint16LE=Pe.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Gs(e,2,this.length),this[e]|this[e+1]<<8};Pe.prototype.readUint16BE=Pe.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Gs(e,2,this.length),this[e]<<8|this[e+1]};Pe.prototype.readUint32LE=Pe.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Gs(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Pe.prototype.readUint32BE=Pe.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Gs(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Pe.prototype.readBigUInt64LE=v_(function(e){e=e>>>0,P1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&rD(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});Pe.prototype.readBigUInt64BE=v_(function(e){e=e>>>0,P1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&rD(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});Pe.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Gs(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};Pe.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Gs(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};Pe.prototype.readInt8=function(e,r){return e=e>>>0,r||Gs(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Pe.prototype.readInt16LE=function(e,r){e=e>>>0,r||Gs(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};Pe.prototype.readInt16BE=function(e,r){e=e>>>0,r||Gs(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};Pe.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Gs(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Pe.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Gs(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Pe.prototype.readBigInt64LE=v_(function(e){e=e>>>0,P1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&rD(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});Pe.prototype.readBigInt64BE=v_(function(e){e=e>>>0,P1(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&rD(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});Pe.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Gs(e,4,this.length),x1.read(this,e,!0,23,4)};Pe.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Gs(e,4,this.length),x1.read(this,e,!1,23,4)};Pe.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Gs(e,8,this.length),x1.read(this,e,!0,52,8)};Pe.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Gs(e,8,this.length),x1.read(this,e,!1,52,8)};function Ol(t,e,r,n,i,o){if(!Pe.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}Pe.prototype.writeUintLE=Pe.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;Ol(this,e,r,n,a,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};Pe.prototype.writeUintBE=Pe.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;Ol(this,e,r,n,a,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};Pe.prototype.writeUint8=Pe.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Ol(this,e,r,1,255,0),this[r]=e&255,r+1};Pe.prototype.writeUint16LE=Pe.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Ol(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};Pe.prototype.writeUint16BE=Pe.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Ol(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};Pe.prototype.writeUint32LE=Pe.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Ol(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};Pe.prototype.writeUint32BE=Pe.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Ol(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Bke(t,e,r,n,i){Lke(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function Mke(t,e,r,n,i){Lke(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}Pe.prototype.writeBigUInt64LE=v_(function(e,r=0){return Bke(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});Pe.prototype.writeBigUInt64BE=v_(function(e,r=0){return Mke(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});Pe.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);Ol(this,e,r,n,c-1,-c)}let o=0,s=1,a=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&a===0&&this[r+o-1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};Pe.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);Ol(this,e,r,n,c-1,-c)}let o=n-1,s=1,a=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[r+o+1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};Pe.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Ol(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};Pe.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Ol(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};Pe.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Ol(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};Pe.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Ol(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};Pe.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Ol(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};Pe.prototype.writeBigInt64LE=v_(function(e,r=0){return Bke(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Pe.prototype.writeBigInt64BE=v_(function(e,r=0){return Mke(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Nke(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Dke(t,e,r,n,i){return e=+e,r=r>>>0,i||Nke(t,e,r,4,34028234663852886e22,-34028234663852886e22),x1.write(t,e,r,n,23,4),r+4}Pe.prototype.writeFloatLE=function(e,r,n){return Dke(this,e,r,!0,n)};Pe.prototype.writeFloatBE=function(e,r,n){return Dke(this,e,r,!1,n)};function Uke(t,e,r,n,i){return e=+e,r=r>>>0,i||Nke(t,e,r,8,17976931348623157e292,-17976931348623157e292),x1.write(t,e,r,n,52,8),r+8}Pe.prototype.writeDoubleLE=function(e,r,n){return Uke(this,e,r,!0,n)};Pe.prototype.writeDoubleBE=function(e,r,n){return Uke(this,e,r,!1,n)};Pe.prototype.copy=function(e,r,n,i){if(!Pe.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};Pe.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!Pe.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=Pe.isBuffer(e)?e:Pe.from(e,i),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%a]}return this};var v1={};function kte(t,e,r){v1[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}kte("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);kte("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);kte("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=vke(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=vke(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function vke(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function OIt(t,e,r){P1(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&rD(e,t.length-(r+1))}function Lke(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new v1.ERR_OUT_OF_RANGE("value",a,t)}OIt(n,i,o)}function P1(t,e){if(typeof t!="number")throw new v1.ERR_INVALID_ARG_TYPE(e,"number",t)}function rD(t,e,r){throw Math.floor(t)!==t?(P1(t,r),new v1.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new v1.ERR_BUFFER_OUT_OF_BOUNDS:new v1.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var RIt=/[^+/0-9A-Za-z-_]/g;function CIt(t){if(t=t.split("=")[0],t=t.trim().replace(RIt,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Ete(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function BIt(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function MIt(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function zke(t){return Ste.toByteArray(CIt(t))}function $j(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function sy(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function vte(t){return t!==t}var NIt=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function v_(t){return typeof BigInt>"u"?DIt:t}function DIt(){throw new Error("BigInt not supported")}});var Xj=_(Qu=>{"use strict";u();l();Object.defineProperty(Qu,"__esModule",{value:!0});Qu.output=Qu.exists=Qu.hash=Qu.bytes=Qu.bool=Qu.number=void 0;function Yj(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Qu.number=Yj;function qke(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Qu.bool=qke;function xte(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Qu.bytes=xte;function jke(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Yj(t.outputLen),Yj(t.blockLen)}Qu.hash=jke;function Kke(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Qu.exists=Kke;function Wke(t,e){xte(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Qu.output=Wke;var UIt={number:Yj,bool:qke,bytes:xte,hash:jke,exists:Kke,output:Wke};Qu.default=UIt});var Vke=_(Zj=>{"use strict";u();l();Object.defineProperty(Zj,"__esModule",{value:!0});Zj.crypto=void 0;Zj.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var R1=_(Gr=>{"use strict";u();l();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.randomBytes=Gr.wrapConstructorWithOpts=Gr.wrapConstructor=Gr.checkOpts=Gr.Hash=Gr.concatBytes=Gr.toBytes=Gr.utf8ToBytes=Gr.asyncLoop=Gr.nextTick=Gr.hexToBytes=Gr.bytesToHex=Gr.isLE=Gr.rotr=Gr.createView=Gr.u32=Gr.u8=void 0;var Jj=Vke(),LIt=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Gr.u8=LIt;var zIt=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Gr.u32=zIt;var FIt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Gr.createView=FIt;var qIt=(t,e)=>t<<32-e|t>>>e;Gr.rotr=qIt;Gr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Gr.isLE)throw new Error("Non little-endian hardware is not supported");var jIt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function KIt(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=jIt[t[r]];return e}Gr.bytesToHex=KIt;function WIt(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}Gr.hexToBytes=WIt;var VIt=async()=>{};Gr.nextTick=VIt;async function GIt(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,Gr.nextTick)(),n+=o)}}Gr.asyncLoop=GIt;function Gke(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Gr.utf8ToBytes=Gke;function Ote(t){if(typeof t=="string"&&(t=Gke(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Gr.toBytes=Ote;function HIt(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}Gr.concatBytes=HIt;var Pte=class{clone(){return this._cloneInto()}};Gr.Hash=Pte;var $It=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function YIt(t,e){if(e!==void 0&&(typeof e!="object"||!$It(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Gr.checkOpts=YIt;function XIt(t){let e=n=>t().update(Ote(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Gr.wrapConstructor=XIt;function ZIt(t){let e=(n,i)=>t(i).update(Ote(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Gr.wrapConstructorWithOpts=ZIt;function JIt(t=32){if(Jj.crypto.web)return Jj.crypto.web.getRandomValues(new Uint8Array(t));if(Jj.crypto.node)return new Uint8Array(Jj.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Gr.randomBytes=JIt});var Bte=_(Qj=>{"use strict";u();l();Object.defineProperty(Qj,"__esModule",{value:!0});Qj.SHA2=void 0;var Rte=Xj(),nD=R1();function QIt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,d=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+d,a,n)}var Cte=class extends nD.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,nD.createView)(this.buffer)}update(e){Rte.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,nD.toBytes)(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=(0,nD.createView)(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Rte.default.exists(this),Rte.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let p=s;p<i;p++)r[p]=0;QIt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=(0,nD.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=c/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)a.setUint32(4*p,f[p],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};Qj.SHA2=Cte});var Dte=_(Yf=>{"use strict";u();l();Object.defineProperty(Yf,"__esModule",{value:!0});Yf.add=Yf.toBig=Yf.split=Yf.fromBig=void 0;var e6=BigInt(2**32-1),Mte=BigInt(32);function Nte(t,e=!1){return e?{h:Number(t&e6),l:Number(t>>Mte&e6)}:{h:Number(t>>Mte&e6)|0,l:Number(t&e6)|0}}Yf.fromBig=Nte;function Hke(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=Nte(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}Yf.split=Hke;var eTt=(t,e)=>BigInt(t>>>0)<<Mte|BigInt(e>>>0);Yf.toBig=eTt;var tTt=(t,e,r)=>t>>>r,rTt=(t,e,r)=>t<<32-r|e>>>r,nTt=(t,e,r)=>t>>>r|e<<32-r,iTt=(t,e,r)=>t<<32-r|e>>>r,oTt=(t,e,r)=>t<<64-r|e>>>r-32,sTt=(t,e,r)=>t>>>r-32|e<<64-r,aTt=(t,e)=>e,cTt=(t,e)=>t,uTt=(t,e,r)=>t<<r|e>>>32-r,lTt=(t,e,r)=>e<<r|t>>>32-r,dTt=(t,e,r)=>e<<r-32|t>>>64-r,fTt=(t,e,r)=>t<<r-32|e>>>64-r;function $ke(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}Yf.add=$ke;var pTt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),hTt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,mTt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),yTt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,gTt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),bTt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0,_Tt={fromBig:Nte,split:Hke,toBig:Yf.toBig,shrSH:tTt,shrSL:rTt,rotrSH:nTt,rotrSL:iTt,rotrBH:oTt,rotrBL:sTt,rotr32H:aTt,rotr32L:cTt,rotlSH:uTt,rotlSL:lTt,rotlBH:dTt,rotlBL:fTt,add:$ke,add3L:pTt,add3H:hTt,add4L:mTt,add4H:yTt,add5H:bTt,add5L:gTt};Yf.default=_Tt});var Yke=_(Xf=>{"use strict";u();l();Object.defineProperty(Xf,"__esModule",{value:!0});Xf.sha384=Xf.sha512_256=Xf.sha512_224=Xf.sha512=Xf.SHA512=void 0;var STt=Bte(),xr=Dte(),t6=R1(),[wTt,ATt]=xr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),x_=new Uint32Array(80),P_=new Uint32Array(80),YA=class extends STt.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:d,El:f,Fh:p,Fl:m,Gh:y,Gl:g,Hh:b,Hl:S}=this;return[e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,S]}set(e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,S){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=d|0,this.El=f|0,this.Fh=p|0,this.Fl=m|0,this.Gh=y|0,this.Gl=g|0,this.Hh=b|0,this.Hl=S|0}process(e,r){for(let L=0;L<16;L++,r+=4)x_[L]=e.getUint32(r),P_[L]=e.getUint32(r+=4);for(let L=16;L<80;L++){let j=x_[L-15]|0,Z=P_[L-15]|0,se=xr.default.rotrSH(j,Z,1)^xr.default.rotrSH(j,Z,8)^xr.default.shrSH(j,Z,7),Ee=xr.default.rotrSL(j,Z,1)^xr.default.rotrSL(j,Z,8)^xr.default.shrSL(j,Z,7),be=x_[L-2]|0,fe=P_[L-2]|0,w=xr.default.rotrSH(be,fe,19)^xr.default.rotrBH(be,fe,61)^xr.default.shrSH(be,fe,6),R=xr.default.rotrSL(be,fe,19)^xr.default.rotrBL(be,fe,61)^xr.default.shrSL(be,fe,6),B=xr.default.add4L(Ee,R,P_[L-7],P_[L-16]),C=xr.default.add4H(B,se,w,x_[L-7],x_[L-16]);x_[L]=C|0,P_[L]=B|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:d,Dl:f,Eh:p,El:m,Fh:y,Fl:g,Gh:b,Gl:S,Hh:P,Hl:U}=this;for(let L=0;L<80;L++){let j=xr.default.rotrSH(p,m,14)^xr.default.rotrSH(p,m,18)^xr.default.rotrBH(p,m,41),Z=xr.default.rotrSL(p,m,14)^xr.default.rotrSL(p,m,18)^xr.default.rotrBL(p,m,41),se=p&y^~p&b,Ee=m&g^~m&S,be=xr.default.add5L(U,Z,Ee,ATt[L],P_[L]),fe=xr.default.add5H(be,P,j,se,wTt[L],x_[L]),w=be|0,R=xr.default.rotrSH(n,i,28)^xr.default.rotrBH(n,i,34)^xr.default.rotrBH(n,i,39),B=xr.default.rotrSL(n,i,28)^xr.default.rotrBL(n,i,34)^xr.default.rotrBL(n,i,39),C=n&o^n&a^o&a,O=i&s^i&c^s&c;P=b|0,U=S|0,b=y|0,S=g|0,y=p|0,g=m|0,{h:p,l:m}=xr.default.add(d|0,f|0,fe|0,w|0),d=a|0,f=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let N=xr.default.add3L(w,B,O);n=xr.default.add3H(N,fe,R,C),i=N|0}({h:n,l:i}=xr.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=xr.default.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=xr.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:d,l:f}=xr.default.add(this.Dh|0,this.Dl|0,d|0,f|0),{h:p,l:m}=xr.default.add(this.Eh|0,this.El|0,p|0,m|0),{h:y,l:g}=xr.default.add(this.Fh|0,this.Fl|0,y|0,g|0),{h:b,l:S}=xr.default.add(this.Gh|0,this.Gl|0,b|0,S|0),{h:P,l:U}=xr.default.add(this.Hh|0,this.Hl|0,P|0,U|0),this.set(n,i,o,s,a,c,d,f,p,m,y,g,b,S,P,U)}roundClean(){x_.fill(0),P_.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Xf.SHA512=YA;var Ute=class extends YA{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Lte=class extends YA{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},zte=class extends YA{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Xf.sha512=(0,t6.wrapConstructor)(()=>new YA);Xf.sha512_224=(0,t6.wrapConstructor)(()=>new Ute);Xf.sha512_256=(0,t6.wrapConstructor)(()=>new Lte);Xf.sha384=(0,t6.wrapConstructor)(()=>new zte)});var Xke=_(C1=>{"use strict";u();l();Object.defineProperty(C1,"__esModule",{value:!0});C1.sha224=C1.sha256=void 0;var ETt=Bte(),Zf=R1(),ITt=(t,e,r)=>t&e^~t&r,TTt=(t,e,r)=>t&e^t&r^e&r,kTt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),O_=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),R_=new Uint32Array(64),r6=class extends ETt.SHA2{constructor(){super(64,32,8,!1),this.A=O_[0]|0,this.B=O_[1]|0,this.C=O_[2]|0,this.D=O_[3]|0,this.E=O_[4]|0,this.F=O_[5]|0,this.G=O_[6]|0,this.H=O_[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,r,n,i,o,s,a,c]}set(e,r,n,i,o,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let p=0;p<16;p++,r+=4)R_[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){let m=R_[p-15],y=R_[p-2],g=(0,Zf.rotr)(m,7)^(0,Zf.rotr)(m,18)^m>>>3,b=(0,Zf.rotr)(y,17)^(0,Zf.rotr)(y,19)^y>>>10;R_[p]=b+R_[p-7]+g+R_[p-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:d,H:f}=this;for(let p=0;p<64;p++){let m=(0,Zf.rotr)(a,6)^(0,Zf.rotr)(a,11)^(0,Zf.rotr)(a,25),y=f+m+ITt(a,c,d)+kTt[p]+R_[p]|0,b=((0,Zf.rotr)(n,2)^(0,Zf.rotr)(n,13)^(0,Zf.rotr)(n,22))+TTt(n,i,o)|0;f=d,d=c,c=a,a=s+y|0,s=o,o=i,i=n,n=y+b|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(n,i,o,s,a,c,d,f)}roundClean(){R_.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Fte=class extends r6{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};C1.sha256=(0,Zf.wrapConstructor)(()=>new r6);C1.sha224=(0,Zf.wrapConstructor)(()=>new Fte)});var tve=_(fi=>{"use strict";u();l();var vTt=fi&&fi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xTt=fi&&fi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ay=fi&&fi.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},PTt=fi&&fi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&vTt(e,t,r);return xTt(e,t),e},Zke=fi&&fi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fi,"__esModule",{value:!0});fi.deserializeUnchecked=fi.deserialize=fi.serialize=fi.BinaryReader=fi.BinaryWriter=fi.BorshError=fi.baseDecode=fi.baseEncode=void 0;var C_=Zke(Lu()),Jke=Zke(P0()),OTt=PTt(EP()),RTt=typeof TextDecoder!="function"?OTt.TextDecoder:TextDecoder,CTt=new RTt("utf-8",{fatal:!0});function BTt(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),Jke.default.encode(Buffer.from(t))}fi.baseEncode=BTt;function MTt(t){return Buffer.from(Jke.default.decode(t))}fi.baseDecode=MTt;var qte=1024,ha=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};fi.BorshError=ha;var n6=class{constructor(){this.buf=Buffer.alloc(qte),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(qte)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new C_.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new C_.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new C_.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new C_.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(qte)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};fi.BinaryWriter=n6;function cy(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new ha("Reached the end of buffer when deserializing")}throw o}}}var el=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new C_.default(e,"le")}readU128(){let e=this.readBuffer(16);return new C_.default(e,"le")}readU256(){let e=this.readBuffer(32);return new C_.default(e,"le")}readU512(){let e=this.readBuffer(64);return new C_.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new ha(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return CTt.decode(r)}catch(n){throw new ha(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};ay([cy],el.prototype,"readU8",null);ay([cy],el.prototype,"readU16",null);ay([cy],el.prototype,"readU32",null);ay([cy],el.prototype,"readU64",null);ay([cy],el.prototype,"readU128",null);ay([cy],el.prototype,"readU256",null);ay([cy],el.prototype,"readU512",null);ay([cy],el.prototype,"readString",null);ay([cy],el.prototype,"readFixedArray",null);ay([cy],el.prototype,"readArray",null);fi.BinaryReader=el;function Qke(t){return t.charAt(0).toUpperCase()+t.slice(1)}function XA(t,e,r,n,i){try{if(typeof n=="string")i[`write${Qke(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new ha(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new ha(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)XA(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{XA(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),XA(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{XA(t,e,s,n.key,i),XA(t,e,o,n.value,i)});break}default:throw new ha(`FieldType ${n} unrecognized`)}else eve(t,r,i)}catch(o){throw o instanceof ha&&o.addToFieldPath(e),o}}function eve(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new ha(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{XA(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),XA(t,s,e[s],a,r);break}}}else throw new ha(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function NTt(t,e,r=n6){let n=new r;return eve(t,e,n),n.toArray()}fi.serialize=NTt;function ZA(t,e,r,n){try{if(typeof r=="string")return n[`read${Qke(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(ZA(t,null,r[0],n));return i}else return n.readArray(()=>ZA(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?ZA(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let a=ZA(t,e,r.key,n),c=ZA(t,e,r.value,n);i.set(a,c)}return i}return jte(t,r,n)}catch(i){throw i instanceof ha&&i.addToFieldPath(e),i}}function jte(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new ha(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=ZA(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new ha(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=ZA(t,o,s,r);return new e({[o]:a})}throw new ha(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function DTt(t,e,r,n=el){let i=new n(r),o=jte(t,e,i);if(i.offset<r.length)throw new ha(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}fi.deserialize=DTt;function UTt(t,e,r,n=el){let i=new n(r);return jte(t,e,i)}fi.deserializeUnchecked=UTt});var uve=_(Ri=>{"use strict";u();l();Object.defineProperty(Ri,"__esModule",{value:!0});Ri.shake256=Ri.shake128=Ri.keccak_512=Ri.keccak_384=Ri.keccak_256=Ri.keccak_224=Ri.sha3_512=Ri.sha3_384=Ri.sha3_256=Ri.sha3_224=Ri.Keccak=Ri.keccakP=void 0;var B1=Xj(),sD=Dte(),oD=R1(),[ive,ove,sve]=[[],[],[]],LTt=BigInt(0),iD=BigInt(1),zTt=BigInt(2),FTt=BigInt(7),qTt=BigInt(256),jTt=BigInt(113);for(let t=0,e=iD,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],ive.push(2*(5*n+r)),ove.push((t+1)*(t+2)/2%64);let i=LTt;for(let o=0;o<7;o++)e=(e<<iD^(e>>FTt)*jTt)%qTt,e&zTt&&(i^=iD<<(iD<<BigInt(o))-iD);sve.push(i)}var[KTt,WTt]=sD.default.split(sve,!0),rve=(t,e,r)=>r>32?sD.default.rotlBH(t,e,r):sD.default.rotlSH(t,e,r),nve=(t,e,r)=>r>32?sD.default.rotlBL(t,e,r):sD.default.rotlSL(t,e,r);function ave(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,d=r[c],f=r[c+1],p=rve(d,f,1)^r[a],m=nve(d,f,1)^r[a+1];for(let y=0;y<50;y+=10)t[s+y]^=p,t[s+y+1]^=m}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=ove[s],c=rve(i,o,a),d=nve(i,o,a),f=ive[s];i=t[f],o=t[f+1],t[f]=c,t[f+1]=d}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=KTt[n],t[1]^=WTt[n]}r.fill(0)}Ri.keccakP=ave;var aD=class t extends oD.Hash{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,B1.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,oD.u32)(this.state)}keccak(){ave(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){B1.default.exists(this);let{blockLen:r,state:n}=this;e=(0,oD.toBytes)(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){B1.default.exists(this,!1),B1.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return B1.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(B1.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};Ri.Keccak=aD;var B_=(t,e,r)=>(0,oD.wrapConstructor)(()=>new aD(e,t,r));Ri.sha3_224=B_(6,144,224/8);Ri.sha3_256=B_(6,136,256/8);Ri.sha3_384=B_(6,104,384/8);Ri.sha3_512=B_(6,72,512/8);Ri.keccak_224=B_(1,144,224/8);Ri.keccak_256=B_(1,136,256/8);Ri.keccak_384=B_(1,104,384/8);Ri.keccak_512=B_(1,72,512/8);var cve=(t,e,r)=>(0,oD.wrapConstructorWithOpts)((n={})=>new aD(e,t,n.dkLen===void 0?r:n.dkLen,!0));Ri.shake128=cve(31,168,128/8);Ri.shake256=cve(31,136,256/8)});var dve=_(cD=>{"use strict";u();l();Object.defineProperty(cD,"__esModule",{value:!0});cD.hmac=void 0;var i6=Xj(),lve=R1(),o6=class extends lve.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,i6.default.hash(e);let n=(0,lve.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return i6.default.exists(this),this.iHash.update(e),this}digestInto(e){i6.default.exists(this),i6.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},VTt=(t,e,r)=>new o6(t,e).update(r).digest();cD.hmac=VTt;cD.hmac.create=(t,e)=>new o6(t,e)});var wre=_(Xe=>{"use strict";u();l();Object.defineProperty(Xe,"__esModule",{value:!0});var Yt=Fke(),GTt=Yke(),HTt=Qz(),$Tt=Lu(),YTt=P0(),Yte=Xke(),Kte=tve(),Ove=Ce(),Xte=II(),T=t8(),XTt=r8(),ZTt=n8(),JTt=i8(),fve=uve(),QTt=dve(),e1t=o8();function SD(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function mre(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var D_=mre(HTt),pve=SD($Tt),ma=SD(YTt),H=mre(Ove),t1t=SD(XTt),r1t=SD(ZTt),n1t=SD(JTt),S6=mre(e1t);D_.utils.sha512Sync=(...t)=>GTt.sha512(D_.utils.concatBytes(...t));var i1t=D_.utils.randomPrivateKey,hve=()=>{let t=D_.utils.randomPrivateKey(),e=l6(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},l6=D_.sync.getPublicKey;function mve(t){try{return D_.Point.fromHex(t,!0),!0}catch{return!1}}var yre=(t,e)=>D_.sync.sign(t,e.slice(0,32)),o1t=D_.sync.verify,Pr=t=>Yt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Yt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Yt.Buffer.from(t),fD=class{constructor(e){Object.assign(this,e)}encode(){return Yt.Buffer.from(Kte.serialize(dD,this))}static decode(e){return Kte.deserialize(dD,this,e)}static decodeUnchecked(e){return Kte.deserializeUnchecked(dD,this,e)}},Zte=class extends fD{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},dD=new Map,Rve,Cve=32,Zd=32;function s1t(t){return t._bn!==void 0}var yve=1;Rve=Symbol.toStringTag;var ot=class t extends fD{constructor(e){if(super({}),this._bn=void 0,s1t(e))this._bn=e._bn;else{if(typeof e=="string"){let r=ma.default.decode(e);if(r.length!=Zd)throw new Error("Invalid public key input");this._bn=new pve.default(r)}else this._bn=new pve.default(e);if(this._bn.byteLength()>Zd)throw new Error("Invalid public key input")}}static unique(){let e=new t(yve);return yve+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ma.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Yt.Buffer);if(e.length===Zd)return e;let r=Yt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Rve](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Yt.Buffer.concat([e.toBuffer(),Yt.Buffer.from(r),n.toBuffer()]),o=Yte.sha256(i);return new t(o)}static createProgramAddressSync(e,r){let n=Yt.Buffer.alloc(0);e.forEach(function(o){if(o.length>Cve)throw new TypeError("Max seed length exceeded");n=Yt.Buffer.concat([n,Pr(o)])}),n=Yt.Buffer.concat([n,r.toBuffer(),Yt.Buffer.from("ProgramDerivedAddress")]);let i=Yte.sha256(n);if(mve(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat(Yt.Buffer.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return mve(r.toBytes())}};ot.default=new ot("11111111111111111111111111111111");dD.set(ot,{kind:"struct",fields:[["_bn","u256"]]});var Jte=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=Pr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Pr(i1t()),this._publicKey=Pr(l6(this._secretKey))}get publicKey(){return new ot(this._publicKey)}get secretKey(){return Yt.Buffer.concat([this._secretKey,this._publicKey],64)}},a1t=new ot("BPFLoader1111111111111111111111111111111111"),N_=1232,w6=127,M1=64,pD=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(pD.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var hD=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(hD.prototype,"name",{value:"TransactionExpiredTimeoutError"});var M_=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(M_.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var eE=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},en=(t="publicKey")=>H.blob(32,t),c1t=(t="signature")=>H.blob(64,t),QA=(t="string")=>{let e=H.struct([H.u32("length"),H.u32("lengthPadding"),H.blob(H.offset(H.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,a)=>{let c={chars:Yt.Buffer.from(o,"utf8")};return n(c,s,a)},i.alloc=o=>H.u32().span+H.u32().span+Yt.Buffer.from(o,"utf8").length,i},u1t=(t="authorized")=>H.struct([en("staker"),en("withdrawer")],t),l1t=(t="lockup")=>H.struct([H.ns64("unixTimestamp"),H.ns64("epoch"),en("custodian")],t),d1t=(t="voteInit")=>H.struct([en("nodePubkey"),en("authorizedVoter"),en("authorizedWithdrawer"),H.u8("commission")],t),f1t=(t="voteAuthorizeWithSeedArgs")=>H.struct([H.u32("voteAuthorizationType"),en("currentAuthorityDerivedKeyOwnerPubkey"),QA("currentAuthorityDerivedKeySeed"),en("newAuthorized")],t);function Bve(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return Bve({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Rl(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Xd(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function kn(t,e){if(!t)throw new Error(e||"Assertion failed")}var d6=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let a=s.toBase58(),c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let a of s.keys){let c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];kn(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{kn(r.length>0,"Expected at least one writable signer key");let[c]=r[0];kn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...r.map(([c])=>new ot(c)),...n.map(([c])=>new ot(c)),...i.map(([c])=>new ot(c)),...o.map(([c])=>new ot(c))];return[s,a]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let a=new ot(o),c=e.findIndex(d=>d.equals(a));c>=0&&(kn(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(o))}return[n,i]}},dy=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new ot(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ma.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new eE(this.staticAccountKeys)}static compile(e){let r=d6.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new eE(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ma.default.encode(a.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];Xd(r,e);let n=this.instructions.map(p=>{let{accounts:m,programIdIndex:y}=p,g=Array.from(ma.default.decode(p.data)),b=[];Xd(b,m.length);let S=[];return Xd(S,g.length),{programIdIndex:y,keyIndicesCount:Yt.Buffer.from(b),keyIndices:m,dataLength:Yt.Buffer.from(S),data:g}}),i=[];Xd(i,n.length);let o=Yt.Buffer.alloc(N_);Yt.Buffer.from(i).copy(o);let s=i.length;n.forEach(p=>{let y=H.struct([H.u8("programIdIndex"),H.blob(p.keyIndicesCount.length,"keyIndicesCount"),H.seq(H.u8("keyIndex"),p.keyIndices.length,"keyIndices"),H.blob(p.dataLength.length,"dataLength"),H.seq(H.u8("userdatum"),p.data.length,"data")]).encode(p,o,s);s+=y}),o=o.slice(0,s);let a=H.struct([H.blob(1,"numRequiredSignatures"),H.blob(1,"numReadonlySignedAccounts"),H.blob(1,"numReadonlyUnsignedAccounts"),H.blob(r.length,"keyCount"),H.seq(en("key"),e,"keys"),en("recentBlockhash")]),c={numRequiredSignatures:Yt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Yt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Yt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Yt.Buffer.from(r),keys:this.accountKeys.map(p=>Pr(p.toBytes())),recentBlockhash:ma.default.decode(this.recentBlockhash)},d=Yt.Buffer.alloc(2048),f=a.encode(c,d);return o.copy(d,f),d.slice(0,f+o.length)}static from(e){let r=[...e],n=r.shift();if(n!==(n&w6))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=r.shift(),o=r.shift(),s=Rl(r),a=[];for(let m=0;m<s;m++){let y=r.slice(0,Zd);r=r.slice(Zd),a.push(new ot(Yt.Buffer.from(y)))}let c=r.slice(0,Zd);r=r.slice(Zd);let d=Rl(r),f=[];for(let m=0;m<d;m++){let y=r.shift(),g=Rl(r),b=r.slice(0,g);r=r.slice(g);let S=Rl(r),P=r.slice(0,S),U=ma.default.encode(Yt.Buffer.from(P));r=r.slice(S),f.push({programIdIndex:y,accounts:b,data:U})}let p={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:ma.default.encode(Yt.Buffer.from(c)),accountKeys:a,instructions:f};return new t(p)}},N1=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new eE(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=d6.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let f of o){let p=r.extractTableLookup(f);if(p!==void 0){let[m,{writable:y,readonly:g}]=p;n.push(m),i.writable.push(...y),i.readonly.push(...g)}}let[s,a]=r.getMessageComponents(),d=new eE(a,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:n})}serialize(){let e=Array();Xd(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();Xd(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Xd(o,this.addressTableLookups.length);let s=H.struct([H.u8("prefix"),H.struct([H.u8("numRequiredSignatures"),H.u8("numReadonlySignedAccounts"),H.u8("numReadonlyUnsignedAccounts")],"header"),H.blob(e.length,"staticAccountKeysLength"),H.seq(en(),this.staticAccountKeys.length,"staticAccountKeys"),en("recentBlockhash"),H.blob(n.length,"instructionsLength"),H.blob(r.length,"serializedInstructions"),H.blob(o.length,"addressTableLookupsLength"),H.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(N_),d=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:ma.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,d)}serializeInstructions(){let e=0,r=new Uint8Array(N_);for(let n of this.compiledInstructions){let i=Array();Xd(i,n.accountKeyIndexes.length);let o=Array();Xd(o,n.data.length);let s=H.struct([H.u8("programIdIndex"),H.blob(i.length,"encodedAccountKeyIndexesLength"),H.seq(H.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),H.blob(o.length,"encodedDataLength"),H.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(N_);for(let n of this.addressTableLookups){let i=Array();Xd(i,n.writableIndexes.length);let o=Array();Xd(o,n.readonlyIndexes.length);let s=H.struct([en("accountKey"),H.blob(i.length,"encodedWritableIndexesLength"),H.seq(H.u8(),n.writableIndexes.length,"writableIndexes"),H.blob(o.length,"encodedReadonlyIndexesLength"),H.seq(H.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=r.shift(),i=n&w6;kn(n!==i,"Expected versioned message but received legacy message");let o=i;kn(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},a=[],c=Rl(r);for(let g=0;g<c;g++)a.push(new ot(r.splice(0,Zd)));let d=ma.default.encode(r.splice(0,Zd)),f=Rl(r),p=[];for(let g=0;g<f;g++){let b=r.shift(),S=Rl(r),P=r.splice(0,S),U=Rl(r),L=new Uint8Array(r.splice(0,U));p.push({programIdIndex:b,accountKeyIndexes:P,data:L})}let m=Rl(r),y=[];for(let g=0;g<m;g++){let b=new ot(r.splice(0,Zd)),S=Rl(r),P=r.splice(0,S),U=Rl(r),L=r.splice(0,U);y.push({accountKey:b,writableIndexes:P,readonlyIndexes:L})}return new t({header:s,staticAccountKeys:a,recentBlockhash:d,compiledInstructions:p,addressTableLookups:y})}},gre={deserializeMessageVersion(t){let e=t[0],r=e&w6;return r===e?"legacy":r},deserialize:t=>{let e=gre.deserializeMessageVersion(t);if(e==="legacy")return dy.from(t);if(e===0)return N1.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};Xe.TransactionStatus=void 0;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})(Xe.TransactionStatus||(Xe.TransactionStatus={}));var p1t=Yt.Buffer.alloc(M1).fill(0),oi=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Yt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},ii=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new oi(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let b=0;b<r.length;b++)if(r[b].programId===void 0)throw new Error(`Transaction instruction index ${b} has undefined program id`);let i=[],o=[];r.forEach(b=>{b.keys.forEach(P=>{o.push({...P})});let S=b.programId.toString();i.includes(S)||i.push(S)}),i.forEach(b=>{o.push({pubkey:new ot(b),isSigner:!1,isWritable:!1})});let s=[];o.forEach(b=>{let S=b.pubkey.toString(),P=s.findIndex(U=>U.pubkey.toString()===S);P>-1?(s[P].isWritable=s[P].isWritable||b.isWritable,s[P].isSigner=s[P].isSigner||b.isSigner):s.push(b)}),s.sort(function(b,S){return b.isSigner!==S.isSigner?b.isSigner?-1:1:b.isWritable!==S.isWritable?b.isWritable?-1:1:b.pubkey.toBase58().localeCompare(S.pubkey.toBase58())});let a=s.findIndex(b=>b.pubkey.equals(n));if(a>-1){let[b]=s.splice(a,1);b.isSigner=!0,b.isWritable=!0,s.unshift(b)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let b of this.signatures){let S=s.findIndex(P=>P.pubkey.equals(b.publicKey));if(S>-1)s[S].isSigner||(s[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${b.publicKey.toString()}`)}let c=0,d=0,f=0,p=[],m=[];s.forEach(({pubkey:b,isSigner:S,isWritable:P})=>{S?(p.push(b.toString()),c+=1,P||(d+=1)):(m.push(b.toString()),P||(f+=1))});let y=p.concat(m),g=r.map(b=>{let{data:S,programId:P}=b;return{programIdIndex:y.indexOf(P.toString()),accounts:b.keys.map(U=>y.indexOf(U.pubkey.toString())),data:ma.default.encode(S)}});return g.forEach(b=>{kn(b.programIdIndex>=0),b.accounts.forEach(S=>kn(S>=0))}),new dy({header:{numRequiredSignatures:c,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:f},accountKeys:y,recentBlockhash:e,instructions:g})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=yre(n,i.secretKey);this._addSignature(i.publicKey,Pr(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){kn(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Yt.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(r)return!1}else if(!o1t(n,e,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];Xd(n,r.length);let i=n.length+r.length*64+e.length,o=Yt.Buffer.alloc(i);return kn(r.length<256),Yt.Buffer.from(n).copy(o,0),r.forEach(({signature:s},a)=>{s!==null&&(kn(s.length===64,"signature has invalid length"),Yt.Buffer.from(s).copy(o,n.length+a*64))}),e.copy(o,n.length+r.length*64),kn(o.length<=N_,`Transaction too large: ${o.length} > ${N_}`),o}get keys(){return kn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return kn(this.instructions.length===1),this.instructions[0].programId}get data(){return kn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=Rl(r),i=[];for(let o=0;o<n;o++){let s=r.slice(0,M1);r=r.slice(M1),i.push(ma.default.encode(Yt.Buffer.from(s)))}return t.populate(dy.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==ma.default.encode(p1t)?null:ma.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let a=e.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new oi({keys:o,programId:e.accountKeys[i.programIdIndex],data:ma.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},Qte=class t{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,d=s-a;kn(d>0,"Message header is invalid");let f=e.staticAccountKeys.length-s-c;kn(f>=0,"Message header is invalid");let p=e.getAccountKeys(r),m=p.get(0);if(m===void 0)throw new Error("Failed to decompile message because no account keys were found");let y=[];for(let g of i){let b=[];for(let P of g.accountKeyIndexes){let U=p.get(P);if(U===void 0)throw new Error(`Failed to find key for account key index ${P}`);let L=P<s,j;L?j=P<d:P<p.staticAccountKeys.length?j=P-s<f:j=P-p.staticAccountKeys.length<p.accountKeysFromLookups.writable.length,b.push({pubkey:U,isSigner:P<n.numRequiredSignatures,isWritable:j})}let S=p.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);y.push(new oi({programId:S,data:Pr(g.data),keys:b}))}return new t({payerKey:m,instructions:y,recentBlockhash:o})}compileToLegacyMessage(){return dy.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return N1.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},ere=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)kn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(M1));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();Xd(r,this.signatures.length);let n=H.struct([H.blob(r.length,"encodedSignaturesLength"),H.seq(c1t(),this.signatures.length,"signatures"),H.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=Rl(r);for(let s=0;s<i;s++)n.push(new Uint8Array(r.splice(0,M1)));let o=gre.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));kn(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=yre(r,i.secretKey)}}addSignature(e,r){kn(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));kn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},uy=new ot("SysvarC1ock11111111111111111111111111111111"),h1t=new ot("SysvarEpochSchedu1e111111111111111111111111"),m1t=new ot("Sysvar1nstructions1111111111111111111111111"),a6=new ot("SysvarRecentB1ockHashes11111111111111111111"),D1=new ot("SysvarRent111111111111111111111111111111111"),y1t=new ot("SysvarRewards111111111111111111111111111111"),g1t=new ot("SysvarS1otHashes111111111111111111111111111"),b1t=new ot("SysvarS1otHistory11111111111111111111111111"),c6=new ot("SysvarStakeHistory1111111111111111111111111");async function u6(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function JA(t){return new Promise(e=>setTimeout(e,t))}function _n(t,e){let r=t.layout.span>=0?t.layout.span:Bve(t,e),n=Yt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function $n(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}var Mve=H.nu64("lamportsPerSignature"),Nve=H.struct([H.u32("version"),H.u32("state"),en("authorizedPubkey"),en("nonce"),H.struct([Mve],"feeCalculator")]),tre=Nve.span,f6=class t{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=Nve.decode(Pr(e),0);return new t({authorizedPubkey:new ot(r.authorizedPubkey),nonce:new ot(r.nonce).toString(),feeCalculator:r.feeCalculator})}},_1t=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},S1t=t=>e=>{let r=Ove.blob(t,e),{encode:n,decode:i}=_1t(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return Xte.toBigIntLE(Yt.Buffer.from(c))},o.encode=(s,a,c)=>{let d=Xte.toBufferLE(s,t);return n(d,a,c)},o},U1=S1t(8),rre=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=H.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Ci))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=$n(Ci.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new ot(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=$n(Ci.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=$n(Ci.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new ot(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=$n(Ci.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:o}=$n(Ci.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ot(r),seed:n,space:i,programId:new ot(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=$n(Ci.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ot(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=$n(Ci.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ot(r),seed:n,programId:new ot(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:o,programId:s}=$n(Ci.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ot(r),seed:n,lamports:i,space:o,programId:new ot(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=$n(Ci.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ot(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$n(Ci.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=$n(Ci.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=$n(Ci.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ot(r)}}static checkProgramId(e){if(!e.equals(yc.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Ci=Object.freeze({Create:{index:0,layout:H.struct([H.u32("instruction"),H.ns64("lamports"),H.ns64("space"),en("programId")])},Assign:{index:1,layout:H.struct([H.u32("instruction"),en("programId")])},Transfer:{index:2,layout:H.struct([H.u32("instruction"),U1("lamports")])},CreateWithSeed:{index:3,layout:H.struct([H.u32("instruction"),en("base"),QA("seed"),H.ns64("lamports"),H.ns64("space"),en("programId")])},AdvanceNonceAccount:{index:4,layout:H.struct([H.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:H.struct([H.u32("instruction"),H.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:H.struct([H.u32("instruction"),en("authorized")])},AuthorizeNonceAccount:{index:7,layout:H.struct([H.u32("instruction"),en("authorized")])},Allocate:{index:8,layout:H.struct([H.u32("instruction"),H.ns64("space")])},AllocateWithSeed:{index:9,layout:H.struct([H.u32("instruction"),en("base"),QA("seed"),H.ns64("space"),en("programId")])},AssignWithSeed:{index:10,layout:H.struct([H.u32("instruction"),en("base"),QA("seed"),en("programId")])},TransferWithSeed:{index:11,layout:H.struct([H.u32("instruction"),U1("lamports"),QA("seed"),en("programId")])},UpgradeNonceAccount:{index:12,layout:H.struct([H.u32("instruction")])}}),yc=class t{constructor(){}static createAccount(e){let r=Ci.Create,n=_n(r,{lamports:e.lamports,space:e.space,programId:Pr(e.programId.toBuffer())});return new oi({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=Ci.TransferWithSeed;r=_n(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Pr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Ci.Transfer;r=_n(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new oi({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=Ci.AssignWithSeed;r=_n(i,{base:Pr(e.basePubkey.toBuffer()),seed:e.seed,programId:Pr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Ci.Assign;r=_n(i,{programId:Pr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new oi({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=Ci.CreateWithSeed,n=_n(r,{base:Pr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Pr(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new oi({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new ii;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:tre,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:tre,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=Ci.InitializeNonceAccount,n=_n(r,{authorized:Pr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:a6,isSigner:!1,isWritable:!1},{pubkey:D1,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new oi(i)}static nonceAdvance(e){let r=Ci.AdvanceNonceAccount,n=_n(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:a6,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new oi(i)}static nonceWithdraw(e){let r=Ci.WithdrawNonceAccount,n=_n(r,{lamports:e.lamports});return new oi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:a6,isSigner:!1,isWritable:!1},{pubkey:D1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=Ci.AuthorizeNonceAccount,n=_n(r,{authorized:Pr(e.newAuthorizedPubkey.toBuffer())});return new oi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=Ci.AllocateWithSeed;r=_n(i,{base:Pr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Pr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Ci.Allocate;r=_n(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new oi({keys:n,programId:this.programId,data:r})}};yc.programId=new ot("11111111111111111111111111111111");var w1t=N_-300,L1=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let p=await e.getMinimumBalanceForRentExemption(o.length),m=await e.getAccountInfo(n.publicKey,"confirmed"),y=null;if(m!==null){if(m.executable)return console.error("Program load failed, account is already executable"),!1;m.data.length!==o.length&&(y=y||new ii,y.add(yc.allocate({accountPubkey:n.publicKey,space:o.length}))),m.owner.equals(i)||(y=y||new ii,y.add(yc.assign({accountPubkey:n.publicKey,programId:i}))),m.lamports<p&&(y=y||new ii,y.add(yc.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:p-m.lamports})))}else y=new ii().add(yc.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:p>0?p:1,space:o.length,programId:i}));y!==null&&await u6(e,y,[r,n],{commitment:"confirmed"})}let s=H.struct([H.u32("instruction"),H.u32("offset"),H.u32("bytesLength"),H.u32("bytesLengthPadding"),H.seq(H.u8("byte"),H.offset(H.u32(),-8),"bytes")]),a=t.chunkSize,c=0,d=o,f=[];for(;d.length>0;){let p=d.slice(0,a),m=Yt.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:p,bytesLength:0,bytesLengthPadding:0},m);let y=new ii().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:m});f.push(u6(e,y,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await JA(1e3/4),c+=a,d=d.slice(a)}await Promise.all(f);{let p=H.struct([H.u32("instruction")]),m=Yt.Buffer.alloc(p.span);p.encode({instruction:1},m);let y=new ii().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:D1,isSigner:!1,isWritable:!1}],programId:i,data:m});await u6(e,y,[r,n],{commitment:"confirmed"})}return!0}};L1.chunkSize=w1t;var A1t=new ot("BPFLoader2111111111111111111111111111111111"),nre=class{static getMinNumSignatures(e){return L1.getMinNumSignatures(e)}static load(e,r,n,i,o){return L1.load(e,r,n,o,i)}},E1t=Object.prototype.toString,I1t=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function lD(t,e){var r,n,i,o,s,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return lD(t.toJSON(),e);if(c=E1t.call(t),c==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=lD(t[r],!0)+",";return n>-1&&(i+=lD(t[r],!0)),i+"]"}else if(c==="[object Object]"){for(o=I1t(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],a=lD(t[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var T1t=function(t){var e=lD(t,!1);if(e!==void 0)return""+e},gve=T1t,uD=32;function Wte(t){let e=0;for(;t>1;)t/=2,e++;return e}function k1t(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}var p6=class{constructor(e,r,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=Wte(k1t(e+uD+1))-Wte(uD)-1,n=this.getSlotsInEpoch(r),i=e-(n-uD);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=r%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*uD:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Wte(uD)):this.slotsPerEpoch}},mD=class extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}},v1t={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},xt=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}},x1t=globalThis.fetch,ire=class extends r1t.default{constructor(e,r,n){let i=o=>{let s=n1t.default(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},P1t=160,O1t=64,R1t=P1t/O1t,C1t=1e3/R1t;function B1t(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}var bve=56,yD=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=B1t(M1t,e),n=e.length-bve;kn(n>=0,"lookup table is invalid"),kn(n%32===0,"lookup table is invalid");let i=n/32,{addresses:o}=H.struct([H.seq(en(),i,"addresses")]).decode(e.slice(bve));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new ot(r.authority[0]):void 0,addresses:o.map(s=>new ot(s))}}},M1t={index:1,layout:H.struct([H.u32("typeIndex"),U1("deactivationSlot"),H.nu64("lastExtendedSlot"),H.u8("lastExtendedStartIndex"),H.u8(),H.seq(en(),H.offset(H.u8(),-1),"authority")])},N1t=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function D1t(t){let e=t.match(N1t);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${n}${c}${o}`}var hs=T.coerce(T.instance(ot),T.string(),t=>new ot(t)),Dve=T.tuple([T.string(),T.literal("base64")]),bre=T.coerce(T.instance(Yt.Buffer),Dve,t=>Yt.Buffer.from(t[0],"base64")),Uve=30*1e3;function U1t(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function ho(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function Lve(t){return T.union([T.type({jsonrpc:T.literal("2.0"),id:T.string(),result:t}),T.type({jsonrpc:T.literal("2.0"),id:T.string(),error:T.type({code:T.unknown(),message:T.string(),data:T.optional(T.any())})})])}var L1t=Lve(T.unknown());function Ur(t){return T.coerce(Lve(t),L1t,e=>"error"in e?e:{...e,result:T.create(e.result,t)})}function ps(t){return Ur(T.type({context:T.type({slot:T.number()}),value:t}))}function A6(t){return T.type({context:T.type({slot:T.number()}),value:t})}function Vte(t,e){return t===0?new N1({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new ot(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:ma.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new dy(e)}var z1t=T.type({foundation:T.number(),foundationTerm:T.number(),initial:T.number(),taper:T.number(),terminal:T.number()}),F1t=Ur(T.array(T.nullable(T.type({epoch:T.number(),effectiveSlot:T.number(),amount:T.number(),postBalance:T.number(),commission:T.optional(T.nullable(T.number()))})))),q1t=T.type({total:T.number(),validator:T.number(),foundation:T.number(),epoch:T.number()}),j1t=T.type({epoch:T.number(),slotIndex:T.number(),slotsInEpoch:T.number(),absoluteSlot:T.number(),blockHeight:T.optional(T.number()),transactionCount:T.optional(T.number())}),K1t=T.type({slotsPerEpoch:T.number(),leaderScheduleSlotOffset:T.number(),warmup:T.boolean(),firstNormalEpoch:T.number(),firstNormalSlot:T.number()}),W1t=T.record(T.string(),T.array(T.number())),rE=T.nullable(T.union([T.type({}),T.string()])),V1t=T.type({err:rE}),G1t=T.literal("receivedSignature"),H1t=T.type({"solana-core":T.string(),"feature-set":T.optional(T.number())}),_ve=ps(T.type({err:T.nullable(T.union([T.type({}),T.string()])),logs:T.nullable(T.array(T.string())),accounts:T.optional(T.nullable(T.array(T.nullable(T.type({executable:T.boolean(),owner:T.string(),lamports:T.number(),data:T.array(T.string()),rentEpoch:T.optional(T.number())}))))),unitsConsumed:T.optional(T.number()),returnData:T.optional(T.nullable(T.type({programId:T.string(),data:T.tuple([T.string(),T.literal("base64")])})))})),$1t=ps(T.type({byIdentity:T.record(T.string(),T.array(T.number())),range:T.type({firstSlot:T.number(),lastSlot:T.number()})}));function Y1t(t,e,r,n,i,o){let s=r||x1t,a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(f,p)=>{let m=await new Promise((y,g)=>{try{n(f,p,(b,S)=>y([b,S]))}catch(b){g(b)}});return await s(...m)}),new t1t.default(async(f,p)=>{let m={method:"POST",body:f,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},$kt)};try{let y=5,g,b=500;for(;c?g=await c(t,m):g=await s(t,m),!(g.status!==429||i===!0||(y-=1,y===0));)console.log(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${b}ms delay...`),await JA(b),b*=2;let S=await g.text();g.ok?p(null,S):p(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(y){y instanceof Error&&p(y)}},{})}function X1t(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(o,s)=>{if(o){i(o);return}n(s)})})}function Z1t(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(o=>t.request(o.methodName,o.args));t.request(i,(o,s)=>{if(o){n(o);return}r(s)})})}var J1t=Ur(z1t),Q1t=Ur(q1t),ekt=Ur(j1t),tkt=Ur(K1t),rkt=Ur(W1t),nkt=Ur(T.number()),ikt=ps(T.type({total:T.number(),circulating:T.number(),nonCirculating:T.number(),nonCirculatingAccounts:T.array(hs)})),ore=T.type({amount:T.string(),uiAmount:T.nullable(T.number()),decimals:T.number(),uiAmountString:T.optional(T.string())}),okt=ps(T.array(T.type({address:hs,amount:T.string(),uiAmount:T.nullable(T.number()),decimals:T.number(),uiAmountString:T.optional(T.string())}))),skt=ps(T.array(T.type({pubkey:hs,account:T.type({executable:T.boolean(),owner:hs,lamports:T.number(),data:bre,rentEpoch:T.number()})}))),sre=T.type({program:T.string(),parsed:T.unknown(),space:T.number()}),akt=ps(T.array(T.type({pubkey:hs,account:T.type({executable:T.boolean(),owner:hs,lamports:T.number(),data:sre,rentEpoch:T.number()})}))),ckt=ps(T.array(T.type({lamports:T.number(),address:hs}))),gD=T.type({executable:T.boolean(),owner:hs,lamports:T.number(),data:bre,rentEpoch:T.number()}),ukt=T.type({pubkey:hs,account:gD}),lkt=T.coerce(T.union([T.instance(Yt.Buffer),sre]),T.union([Dve,sre]),t=>Array.isArray(t)?T.create(t,bre):t),are=T.type({executable:T.boolean(),owner:hs,lamports:T.number(),data:lkt,rentEpoch:T.number()}),dkt=T.type({pubkey:hs,account:are}),fkt=T.type({state:T.union([T.literal("active"),T.literal("inactive"),T.literal("activating"),T.literal("deactivating")]),active:T.number(),inactive:T.number()}),pkt=Ur(T.array(T.type({signature:T.string(),slot:T.number(),err:rE,memo:T.nullable(T.string()),blockTime:T.optional(T.nullable(T.number()))}))),hkt=Ur(T.array(T.type({signature:T.string(),slot:T.number(),err:rE,memo:T.nullable(T.string()),blockTime:T.optional(T.nullable(T.number()))}))),mkt=T.type({subscription:T.number(),result:A6(gD)}),ykt=T.type({pubkey:hs,account:gD}),gkt=T.type({subscription:T.number(),result:A6(ykt)}),bkt=T.type({parent:T.number(),slot:T.number(),root:T.number()}),_kt=T.type({subscription:T.number(),result:bkt}),Skt=T.union([T.type({type:T.union([T.literal("firstShredReceived"),T.literal("completed"),T.literal("optimisticConfirmation"),T.literal("root")]),slot:T.number(),timestamp:T.number()}),T.type({type:T.literal("createdBank"),parent:T.number(),slot:T.number(),timestamp:T.number()}),T.type({type:T.literal("frozen"),slot:T.number(),timestamp:T.number(),stats:T.type({numTransactionEntries:T.number(),numSuccessfulTransactions:T.number(),numFailedTransactions:T.number(),maxTransactionsPerEntry:T.number()})}),T.type({type:T.literal("dead"),slot:T.number(),timestamp:T.number(),err:T.string()})]),wkt=T.type({subscription:T.number(),result:Skt}),Akt=T.type({subscription:T.number(),result:A6(T.union([V1t,G1t]))}),Ekt=T.type({subscription:T.number(),result:T.number()}),Ikt=T.type({pubkey:T.string(),gossip:T.nullable(T.string()),tpu:T.nullable(T.string()),rpc:T.nullable(T.string()),version:T.nullable(T.string())}),Sve=T.type({votePubkey:T.string(),nodePubkey:T.string(),activatedStake:T.number(),epochVoteAccount:T.boolean(),epochCredits:T.array(T.tuple([T.number(),T.number(),T.number()])),commission:T.number(),lastVote:T.number(),rootSlot:T.nullable(T.number())}),Tkt=Ur(T.type({current:T.array(Sve),delinquent:T.array(Sve)})),kkt=T.union([T.literal("processed"),T.literal("confirmed"),T.literal("finalized")]),vkt=T.type({slot:T.number(),confirmations:T.nullable(T.number()),err:rE,confirmationStatus:T.optional(kkt)}),xkt=ps(T.array(T.nullable(vkt))),Pkt=Ur(T.number()),zve=T.type({accountKey:hs,writableIndexes:T.array(T.number()),readonlyIndexes:T.array(T.number())}),_re=T.type({signatures:T.array(T.string()),message:T.type({accountKeys:T.array(T.string()),header:T.type({numRequiredSignatures:T.number(),numReadonlySignedAccounts:T.number(),numReadonlyUnsignedAccounts:T.number()}),instructions:T.array(T.type({accounts:T.array(T.number()),data:T.string(),programIdIndex:T.number()})),recentBlockhash:T.string(),addressTableLookups:T.optional(T.array(zve))})}),Fve=T.type({pubkey:hs,signer:T.boolean(),writable:T.boolean(),source:T.optional(T.union([T.literal("transaction"),T.literal("lookupTable")]))}),qve=T.type({accountKeys:T.array(Fve),signatures:T.array(T.string())}),jve=T.type({parsed:T.unknown(),program:T.string(),programId:hs}),Kve=T.type({accounts:T.array(hs),data:T.string(),programId:hs}),Okt=T.union([Kve,jve]),Rkt=T.union([T.type({parsed:T.unknown(),program:T.string(),programId:T.string()}),T.type({accounts:T.array(T.string()),data:T.string(),programId:T.string()})]),Wve=T.coerce(Okt,Rkt,t=>"accounts"in t?T.create(t,Kve):T.create(t,jve)),Vve=T.type({signatures:T.array(T.string()),message:T.type({accountKeys:T.array(Fve),instructions:T.array(Wve),recentBlockhash:T.string(),addressTableLookups:T.optional(T.nullable(T.array(zve)))})}),h6=T.type({accountIndex:T.number(),mint:T.string(),owner:T.optional(T.string()),uiTokenAmount:ore}),Gve=T.type({writable:T.array(hs),readonly:T.array(hs)}),E6=T.type({err:rE,fee:T.number(),innerInstructions:T.optional(T.nullable(T.array(T.type({index:T.number(),instructions:T.array(T.type({accounts:T.array(T.number()),data:T.string(),programIdIndex:T.number()}))})))),preBalances:T.array(T.number()),postBalances:T.array(T.number()),logMessages:T.optional(T.nullable(T.array(T.string()))),preTokenBalances:T.optional(T.nullable(T.array(h6))),postTokenBalances:T.optional(T.nullable(T.array(h6))),loadedAddresses:T.optional(Gve),computeUnitsConsumed:T.optional(T.number())}),Sre=T.type({err:rE,fee:T.number(),innerInstructions:T.optional(T.nullable(T.array(T.type({index:T.number(),instructions:T.array(Wve)})))),preBalances:T.array(T.number()),postBalances:T.array(T.number()),logMessages:T.optional(T.nullable(T.array(T.string()))),preTokenBalances:T.optional(T.nullable(T.array(h6))),postTokenBalances:T.optional(T.nullable(T.array(h6))),loadedAddresses:T.optional(Gve),computeUnitsConsumed:T.optional(T.number())}),q1=T.union([T.literal(0),T.literal("legacy")]),nE=T.type({pubkey:T.string(),lamports:T.number(),postBalance:T.nullable(T.number()),rewardType:T.nullable(T.string()),commission:T.optional(T.nullable(T.number()))}),Ckt=Ur(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:_re,meta:T.nullable(E6),version:T.optional(q1)})),rewards:T.optional(T.array(nE)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),Bkt=Ur(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),rewards:T.optional(T.array(nE)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),Mkt=Ur(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:qve,meta:T.nullable(E6),version:T.optional(q1)})),rewards:T.optional(T.array(nE)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),Nkt=Ur(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:Vve,meta:T.nullable(Sre),version:T.optional(q1)})),rewards:T.optional(T.array(nE)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),Dkt=Ur(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:qve,meta:T.nullable(Sre),version:T.optional(q1)})),rewards:T.optional(T.array(nE)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),Ukt=Ur(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),rewards:T.optional(T.array(nE)),blockTime:T.nullable(T.number()),blockHeight:T.nullable(T.number())}))),Lkt=Ur(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),transactions:T.array(T.type({transaction:_re,meta:T.nullable(E6)})),rewards:T.optional(T.array(nE)),blockTime:T.nullable(T.number())}))),wve=Ur(T.nullable(T.type({blockhash:T.string(),previousBlockhash:T.string(),parentSlot:T.number(),signatures:T.array(T.string()),blockTime:T.nullable(T.number())}))),Gte=Ur(T.nullable(T.type({slot:T.number(),meta:E6,blockTime:T.optional(T.nullable(T.number())),transaction:_re,version:T.optional(q1)}))),s6=Ur(T.nullable(T.type({slot:T.number(),transaction:Vve,meta:T.nullable(Sre),blockTime:T.optional(T.nullable(T.number())),version:T.optional(q1)}))),zkt=ps(T.type({blockhash:T.string(),feeCalculator:T.type({lamportsPerSignature:T.number()})})),Fkt=ps(T.type({blockhash:T.string(),lastValidBlockHeight:T.number()})),qkt=T.type({slot:T.number(),numTransactions:T.number(),numSlots:T.number(),samplePeriodSecs:T.number()}),jkt=Ur(T.array(qkt)),Kkt=ps(T.nullable(T.type({feeCalculator:T.type({lamportsPerSignature:T.number()})}))),Wkt=Ur(T.string()),Vkt=Ur(T.string()),Gkt=T.type({err:rE,logs:T.array(T.string()),signature:T.string()}),Hkt=T.type({result:A6(Gkt),subscription:T.number()}),$kt={"solana-client":"js/0.0.0-development"},cre=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let d={};return async f=>{let{commitment:p,config:m}=ho(f),y=this._buildArgs([],p,void 0,m),g=gve(y);return d[g]=d[g]??(async()=>{try{let b=await this._rpcRequest("getBlockHeight",y),S=T.create(b,Ur(T.number()));if("error"in S)throw new xt(S.error,"failed to get block height information");return S.result}finally{delete d[g]}})(),await d[g]}})();let n,i,o,s,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,o=r.fetch,s=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=U1t(e),this._rpcWsEndpoint=n||D1t(e),this._rpcClient=Y1t(e,i,o,s,a,c),this._rpcRequest=X1t(this._rpcClient),this._rpcBatchRequest=Z1t(this._rpcClient),this._rpcWebSocket=new ire(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgs([e.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),a=T.create(s,ps(T.number()));if("error"in a)throw new xt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=T.create(r,Ur(T.nullable(T.number())));if("error"in n)throw new xt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=T.create(e,Ur(T.number()));if("error"in r)throw new xt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=T.create(e,nkt);if("error"in r)throw new xt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=T.create(n,ikt);if("error"in i)throw new xt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),o=T.create(i,ps(ore));if("error"in o)throw new xt(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),o=T.create(i,ps(ore));if("error"in o)throw new xt(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:o}=ho(n),s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),d=T.create(c,skt);if("error"in d)throw new xt(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=T.create(s,akt);if("error"in a)throw new xt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),o=T.create(i,ckt);if("error"in o)throw new xt(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),o=T.create(i,okt);if("error"in o)throw new xt(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgs([e.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=T.create(s,ps(T.nullable(gD)));if("error"in a)throw new xt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=T.create(s,ps(T.nullable(are)));if("error"in a)throw new xt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=ho(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=T.create(a,ps(T.array(T.nullable(are))));if("error"in c)throw new xt(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=ho(r),o=e.map(d=>d.toBase58()),s=this._buildArgs([o],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=T.create(a,ps(T.array(T.nullable(gD))));if("error"in c)throw new xt(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:o}=ho(r),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:n??o?.epoch}),a=await this._rpcRequest("getStakeActivation",s),c=T.create(a,Ur(fkt));if("error"in c)throw new xt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=ho(r),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],n,o||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),d=T.create(c,Ur(T.array(ukt)));if("error"in d)throw new xt(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=T.create(s,Ur(T.array(dkt)));if("error"in a)throw new xt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=ma.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return kn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,o=!1,s=new Promise((c,d)=>{try{n=this.onSignature(r,(p,m)=>{n=void 0;let y={context:m,value:p};c({__type:Xe.TransactionStatus.PROCESSED,response:y})},e);let f=new Promise(p=>{n==null?p():i=this._onSubscriptionStateChange(n,m=>{m==="subscribed"&&p()})});(async()=>{if(await f,o)return;let p=await this.getSignatureStatus(r);if(o||p==null)return;let{context:m,value:y}=p;if(y!=null)if(y?.err)d(y.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(y.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(y.confirmationStatus==="processed"||y.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:Xe.TransactionStatus.PROCESSED,response:{context:m,value:y}})}})()}catch(f){d(f)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let o=!1,s=new Promise(p=>{let m=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let y=await m();if(!o){for(;y<=n;)if(await JA(1e3),o||(y=await m(),o))return;p({__type:Xe.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),d=this.getCancellationPromise(r),f;try{let p=await Promise.race([d,c,s]);if(p.__type===Xe.TransactionStatus.PROCESSED)f=p.response;else throw new pD(i)}finally{o=!0,a()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1,c=new Promise(y=>{let g=o,b=null,S=async()=>{try{let{context:P,value:U}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return b=P.slot,U?.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(o!==g){y({__type:Xe.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:b});return}if(await JA(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:d,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),p=this.getCancellationPromise(r),m;try{let y=await Promise.race([p,f,c]);if(y.__type===Xe.TransactionStatus.PROCESSED)m=y.response;else{let g;for(;;){let b=await this.getSignatureStatus(s);if(b==null)break;if(b.context.slot<(y.slotInWhichNonceDidAdvance??n)){await JA(400);continue}g=b;break}if(g?.value){let b=e||"finalized",{confirmationStatus:S}=g.value;switch(b){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new M_(s);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new M_(s);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new M_(s);break;default:}m={context:g.context,value:{err:g.value.err}}}else throw new M_(s)}}finally{a=!0,d()}return m}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(c=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:Xe.TransactionStatus.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),a;try{let c=await Promise.race([s,i]);if(c.__type===Xe.TransactionStatus.PROCESSED)a=c.response;else throw new hD(r,c.timeoutMs/1e3)}finally{clearTimeout(n),o()}return a}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=T.create(e,Ur(T.array(Ikt)));if("error"in r)throw new xt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=T.create(n,Tkt);if("error"in i)throw new xt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=ho(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlot",i),s=T.create(o,Ur(T.number()));if("error"in s)throw new xt(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:r,config:n}=ho(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=T.create(o,Ur(T.string()));if("error"in s)throw new xt(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),o=T.create(i,Ur(T.array(hs)));if("error"in o)throw new xt(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);kn(i.length===1);let o=i[0];return{context:n,value:o}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),o=T.create(i,xkt);if("error"in o)throw new xt(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){let{commitment:r,config:n}=ho(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=T.create(o,Ur(T.number()));if("error"in s)throw new xt(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=T.create(n,J1t);if("error"in i)throw new xt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:o}=ho(n),s=this._buildArgs([e.map(d=>d.toBase58())],i,void 0,{...o,epoch:r??o?.epoch}),a=await this._rpcRequest("getInflationReward",s),c=T.create(a,F1t);if("error"in c)throw new xt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=T.create(e,Q1t);if("error"in r)throw new xt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=ho(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=T.create(o,ekt);if("error"in s)throw new xt(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=T.create(e,tkt);if("error"in r)throw new xt(r.error,"failed to get epoch schedule");let n=r.result;return new p6(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=T.create(e,rkt);if("error"in r)throw new xt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=T.create(i,Pkt);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=T.create(n,zkt);if("error"in i)throw new xt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=T.create(r,jkt);if("error"in n)throw new xt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=T.create(i,Kkt);if("error"in o)throw new xt(o.error,"failed to get fee calculator");let{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){let n=Pr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),o=await this._rpcRequest("getFeeForMessage",i),s=T.create(o,ps(T.nullable(T.number())));if("error"in s)throw new xt(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=ho(e),i=this._buildArgs([],r,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=T.create(o,Fkt);if("error"in s)throw new xt(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=T.create(e,Ur(H1t));if("error"in r)throw new xt(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=T.create(e,Ur(T.string()));if("error"in r)throw new xt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=T.create(s,Mkt);if("error"in a)throw a.error;return a.result}case"none":{let a=T.create(s,Bkt);if("error"in a)throw a.error;return a.result}default:{let a=T.create(s,Ckt);if("error"in a)throw a.error;let{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:d,meta:f,version:p})=>({meta:f,transaction:{...d,message:Vte(p,d.message)},version:p}))}:null}}}catch(a){throw new xt(a,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i?.transactionDetails){case"accounts":{let a=T.create(s,Dkt);if("error"in a)throw a.error;return a.result}case"none":{let a=T.create(s,Ukt);if("error"in a)throw a.error;return a.result}default:{let a=T.create(s,Nkt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new xt(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:a,...c}=e;n=a,r=c}let i=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getBlockProduction",i),s=T.create(o,$1t);if("error"in s)throw new xt(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getTransaction",o),a=T.create(s,Gte);if("error"in a)throw new xt(a.error,"failed to get transaction");let c=a.result;return c&&{...c,transaction:{...c.transaction,message:Vte(c.version,c.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=ho(r),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=T.create(s,s6);if("error"in a)throw new xt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=ho(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=T.create(c,s6);if("error"in d)throw new xt(d.error,"failed to get transactions");return d.result})}async getTransactions(e,r){let{commitment:n,config:i}=ho(r),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{let d=T.create(c,Gte);if("error"in d)throw new xt(d.error,"failed to get transactions");let f=d.result;return f&&{...f,transaction:{...f.transaction,message:Vte(f.version,f.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),o=T.create(i,Lkt);if("error"in o)throw new xt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");let a={...s,transactions:s.transactions.map(({transaction:c,meta:d})=>{let f=new dy(c.message);return{meta:d,transaction:{...c,message:f}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:d})=>({meta:d,transaction:ii.populate(c.message,c.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),o=await this._rpcRequest("getBlocks",i),s=T.create(o,Ur(T.array(T.number())));if("error"in s)throw new xt(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=T.create(i,wve);if("error"in o)throw new xt(o.error,"failed to get block");let s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),o=T.create(i,wve);if("error"in o)throw new xt(o.error,"failed to get confirmed block");let s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),o=T.create(i,Gte);if("error"in o)throw new xt(o.error,"failed to get transaction");let s=o.result;if(!s)return s;let a=new dy(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:ii.populate(a,c)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),o=T.create(i,s6);if("error"in o)throw new xt(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,r){let n=e.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let a=T.create(s,s6);if("error"in a)throw new xt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<o));)try{let c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{let c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=T.create(o,pkt);if("error"in s)throw new xt(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getSignaturesForAddress",i),s=T.create(o,hkt);if("error"in s)throw new xt(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=new yD({key:e,state:yD.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),o=null;return i!==null&&(o=f6.fromAccountData(i.data)),{context:n,value:o}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=T.create(n,Wkt);if("error"in i)throw new xt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await JA(100);let n=Date.now()-this._blockhashInfo.lastFetch>=Uve;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await JA(C1t/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=ho(e),i=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=T.create(o,ps(T.number()));if("error"in s)throw new xt(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){let b=e.serialize(),S=Yt.Buffer.from(b).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let P=r||{};P.encoding="base64","commitment"in P||(P.commitment=this.commitment);let U=[S,P],L=await this._rpcRequest("simulateTransaction",U),j=T.create(L,_ve);if("error"in j)throw new Error("failed to simulate transaction: "+j.error.message);return j.result}let i;if(e instanceof ii){let g=e;i=new ii,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=ii.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(i.nonceInfo&&o)i.sign(...o);else{let g=this._disableBlockhashCaching;for(;;){let b=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=b.lastValidBlockHeight,i.recentBlockhash=b.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");let S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}let s=i._compile(),a=s.serialize(),d=i._serialize(a).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(n){let g=(Array.isArray(n)?n:s.nonProgramIds()).map(b=>b.toBase58());f.accounts={encoding:"base64",addresses:g}}o&&(f.sigVerify=!0);let p=[d,f],m=await this._rpcRequest("simulateTransaction",p),y=T.create(m,_ve);if("error"in y){let g;if("data"in y.error&&(g=y.error.data.logs,g&&Array.isArray(g))){let b=`
    `,S=b+g.join(b);console.error(y.error.message,S)}throw new mD("failed to simulate transaction: "+y.error.message,g)}return y.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){let a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}let o=e.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(e,r){let n=Pr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,o=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);let s=[e,n],a=await this._rpcRequest("sendTransaction",s),c=T.create(a,Vkt);if("error"in c){let d;throw"data"in c.error&&(d=c.error.data.logs),new mD("failed to send transaction: "+c.error.message,d)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var n;let i=this._subscriptionHashByClientSubscriptionId[e];if(i==null)return()=>{};let o=(n=this._subscriptionStateChangeCallbacksByHash)[i]||(n[i]=new Set);return o.add(r),()=>{o.delete(r),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let a=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,o,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=T.create(e,mkt);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=gve([e.method,r]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[i];kn(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=T.create(e,gkt);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=T.create(e,Hkt);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=T.create(e,_kt);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=T.create(e,wkt);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let o=r||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let o=r||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=T.create(e,Akt);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){r(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,r,n){let{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(c,d)=>{r(c,d);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=T.create(e,Ekt);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},m6=class t{constructor(e){this._keypair=void 0,this._keypair=e??hve()}static generate(){return new t(hve())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=l6(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=l6(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new ot(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},ib=Object.freeze({CreateLookupTable:{index:0,layout:H.struct([H.u32("instruction"),U1("recentSlot"),H.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:H.struct([H.u32("instruction")])},ExtendLookupTable:{index:2,layout:H.struct([H.u32("instruction"),U1(),H.seq(en(),H.offset(H.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:H.struct([H.u32("instruction")])},CloseLookupTable:{index:4,layout:H.struct([H.u32("instruction")])}}),ure=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=H.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(ib))if(s.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=$n(ib.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=$n(ib.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new ot(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(bD.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},bD=class{constructor(){}static createLookupTable(e){let[r,n]=ot.findProgramAddressSync([e.authority.toBuffer(),Xte.toBufferLE(BigInt(e.recentSlot),8)],this.programId),i=ib.CreateLookupTable,o=_n(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:yc.programId,isSigner:!1,isWritable:!1}];return[new oi({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=ib.FreezeLookupTable,n=_n(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new oi({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=ib.ExtendLookupTable,n=_n(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:yc.programId,isSigner:!1,isWritable:!1}),new oi({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=ib.DeactivateLookupTable,n=_n(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new oi({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=ib.CloseLookupTable,n=_n(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new oi({programId:this.programId,keys:i,data:n})}};bD.programId=new ot("AddressLookupTab1e1111111111111111111111111");var lre=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=H.u8("instruction").decode(e.data),i;for(let[o,s]of Object.entries(ly))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=$n(ly.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=$n(ly.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=$n(ly.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=$n(ly.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(_D.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},ly=Object.freeze({RequestUnits:{index:0,layout:H.struct([H.u8("instruction"),H.u32("units"),H.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:H.struct([H.u8("instruction"),H.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:H.struct([H.u8("instruction"),H.u32("units")])},SetComputeUnitPrice:{index:3,layout:H.struct([H.u8("instruction"),U1("microLamports")])}}),_D=class{constructor(){}static requestUnits(e){let r=ly.RequestUnits,n=_n(r,e);return new oi({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=ly.RequestHeapFrame,n=_n(r,e);return new oi({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=ly.SetComputeUnitLimit,n=_n(r,e);return new oi({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=ly.SetComputeUnitPrice,n=_n(r,{microLamports:BigInt(e.microLamports)});return new oi({keys:[],programId:this.programId,data:n})}};_D.programId=new ot("ComputeBudget111111111111111111111111111111");var Ave=64,Eve=32,Ive=64,Tve=H.struct([H.u8("numSignatures"),H.u8("padding"),H.u16("signatureOffset"),H.u16("signatureInstructionIndex"),H.u16("publicKeyOffset"),H.u16("publicKeyInstructionIndex"),H.u16("messageDataOffset"),H.u16("messageDataSize"),H.u16("messageInstructionIndex")]),y6=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;kn(r.length===Eve,`Public Key must be ${Eve} bytes but received ${r.length} bytes`),kn(i.length===Ive,`Signature must be ${Ive} bytes but received ${i.length} bytes`);let s=Tve.span,a=s+r.length,c=a+i.length,d=1,f=Yt.Buffer.alloc(c+n.length),p=o??65535;return Tve.encode({numSignatures:d,padding:0,signatureOffset:a,signatureInstructionIndex:p,publicKeyOffset:s,publicKeyInstructionIndex:p,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:p},f),f.fill(r,s),f.fill(i,a),f.fill(n,c),new oi({keys:[],programId:t.programId,data:f})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;kn(r.length===Ave,`Private key must be ${Ave} bytes but received ${r.length} bytes`);try{let o=m6.fromSecretKey(r),s=o.publicKey.toBytes(),a=yre(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};y6.programId=new ot("Ed25519SigVerify111111111111111111111111111");S6.utils.hmacSha256Sync=(t,...e)=>{let r=QTt.hmac.create(Yte.sha256,t);return e.forEach(n=>r.update(n)),r.digest()};var Ykt=(t,e)=>S6.signSync(t,e,{der:!1,recovered:!0});S6.utils.isValidPrivateKey;var Xkt=S6.getPublicKey,kve=32,Hte=20,vve=64,Zkt=11,$te=H.struct([H.u8("numSignatures"),H.u16("signatureOffset"),H.u8("signatureInstructionIndex"),H.u16("ethAddressOffset"),H.u8("ethAddressInstructionIndex"),H.u16("messageDataOffset"),H.u16("messageDataSize"),H.u8("messageInstructionIndex"),H.blob(20,"ethAddress"),H.blob(64,"signature"),H.u8("recoveryId")]),g6=class t{constructor(){}static publicKeyToEthAddress(e){kn(e.length===vve,`Public key must be ${vve} bytes but received ${e.length} bytes`);try{return Yt.Buffer.from(fve.keccak_256(Pr(e))).slice(-Hte)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,a;typeof r=="string"?r.startsWith("0x")?a=Yt.Buffer.from(r.substr(2),"hex"):a=Yt.Buffer.from(r,"hex"):a=r,kn(a.length===Hte,`Address must be ${Hte} bytes but received ${a.length} bytes`);let c=1+Zkt,d=c,f=c+a.length,p=f+i.length+1,m=1,y=Yt.Buffer.alloc($te.span+n.length);return $te.encode({numSignatures:m,signatureOffset:f,signatureInstructionIndex:s,ethAddressOffset:d,ethAddressInstructionIndex:s,messageDataOffset:p,messageDataSize:n.length,messageInstructionIndex:s,signature:Pr(i),ethAddress:Pr(a),recoveryId:o},y),y.fill(Pr(n),$te.span),new oi({keys:[],programId:t.programId,data:y})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;kn(r.length===kve,`Private key must be ${kve} bytes but received ${r.length} bytes`);try{let o=Pr(r),s=Xkt(o,!1).slice(1),a=Yt.Buffer.from(fve.keccak_256(Pr(n))),[c,d]=Ykt(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:d,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};g6.programId=new ot("KeccakSecp256k11111111111111111111111111111");var Hve=new ot("StakeConfig11111111111111111111111111111111"),b6=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},tE=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};tE.default=new tE(0,0,ot.default);var dre=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=H.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(Hs))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=$n(Hs.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new b6(new ot(r.staker),new ot(r.withdrawer)),lockup:new tE(n.unixTimestamp,n.epoch,new ot(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),$n(Hs.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=$n(Hs.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ot(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=$n(Hs.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new ot(o),newAuthorizedPubkey:new ot(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=$n(Hs.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$n(Hs.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=$n(Hs.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$n(Hs.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(z1.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Hs=Object.freeze({Initialize:{index:0,layout:H.struct([H.u32("instruction"),u1t(),l1t()])},Authorize:{index:1,layout:H.struct([H.u32("instruction"),en("newAuthorized"),H.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:H.struct([H.u32("instruction")])},Split:{index:3,layout:H.struct([H.u32("instruction"),H.ns64("lamports")])},Withdraw:{index:4,layout:H.struct([H.u32("instruction"),H.ns64("lamports")])},Deactivate:{index:5,layout:H.struct([H.u32("instruction")])},Merge:{index:7,layout:H.struct([H.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:H.struct([H.u32("instruction"),en("newAuthorized"),H.u32("stakeAuthorizationType"),QA("authoritySeed"),en("authorityOwner")])}}),Jkt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),z1=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||tE.default,s=Hs.Initialize,a=_n(s,{authorized:{staker:Pr(n.staker.toBuffer()),withdrawer:Pr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Pr(o.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:D1,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new oi(c)}static createAccountWithSeed(e){let r=new ii;r.add(yc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new ii;r.add(yc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=Hs.Delegate,s=_n(o);return new ii().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:uy,isSigner:!1,isWritable:!1},{pubkey:c6,isSigner:!1,isWritable:!1},{pubkey:Hve,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=Hs.Authorize,c=_n(a,{newAuthorized:Pr(i.toBuffer()),stakeAuthorizationType:o.index}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:uy,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new ii().add({keys:d,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,d=Hs.AuthorizeWithSeed,f=_n(d,{newAuthorized:Pr(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Pr(o.toBuffer())}),p=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:uy,isSigner:!1,isWritable:!1}];return c&&p.push({pubkey:c,isSigner:!1,isWritable:!1}),new ii().add({keys:p,programId:this.programId,data:f})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=Hs.Split,a=_n(s,{lamports:o});return new oi({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){let r=new ii;return r.add(yc.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,c=new ii;return c.add(yc.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=Hs.Merge,s=_n(o);return new ii().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:uy,isSigner:!1,isWritable:!1},{pubkey:c6,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=Hs.Withdraw,c=_n(a,{lamports:o}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:uy,isSigner:!1,isWritable:!1},{pubkey:c6,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&d.push({pubkey:s,isSigner:!1,isWritable:!1}),new ii().add({keys:d,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=Hs.Deactivate,o=_n(i);return new ii().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:uy,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};z1.programId=new ot("Stake11111111111111111111111111111111111111");z1.space=200;var _6=class{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},fre=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=H.u32("instruction").decode(e.data),i;for(let[o,s]of Object.entries(ob))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=$n(ob.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new _6(new ot(r.nodePubkey),new ot(r.authorizedVoter),new ot(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=$n(ob.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ot(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=$n(ob.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ot(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new ot(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=$n(ob.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(F1.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},ob=Object.freeze({InitializeAccount:{index:0,layout:H.struct([H.u32("instruction"),d1t()])},Authorize:{index:1,layout:H.struct([H.u32("instruction"),en("newAuthorized"),H.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:H.struct([H.u32("instruction"),H.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:H.struct([H.u32("instruction"),f1t()])}}),Qkt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),F1=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=ob.InitializeAccount,s=_n(o,{voteInit:{nodePubkey:Pr(i.nodePubkey.toBuffer()),authorizedVoter:Pr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Pr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:D1,isSigner:!1,isWritable:!1},{pubkey:uy,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new oi(a)}static createAccount(e){let r=new ii;return r.add(yc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=ob.Authorize,a=_n(s,{newAuthorized:Pr(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:uy,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new ii().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,c=ob.AuthorizeWithSeed,d=_n(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Pr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Pr(o.toBuffer()),voteAuthorizationType:s.index}}),f=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:uy,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new ii().add({keys:f,programId:this.programId,data:d})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=ob.Withdraw,a=_n(s,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new ii().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}};F1.programId=new ot("Vote111111111111111111111111111111111111111");F1.space=3731;var $ve=new ot("Va1idator1nfo111111111111111111111111111111"),evt=T.type({name:T.string(),website:T.optional(T.string()),details:T.optional(T.string()),keybaseUsername:T.optional(T.string())}),pre=class t{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(Rl(r)!==2)return null;let i=[];for(let o=0;o<2;o++){let s=new ot(r.slice(0,Zd));r=r.slice(Zd);let a=r.slice(0,1)[0]===1;r=r.slice(1),i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals($ve)&&i[1].isSigner){let o=QA().decode(Yt.Buffer.from(r)),s=JSON.parse(o);return T.assert(s,evt),new t(i[1].publicKey,s)}return null}},tvt=new ot("Vote111111111111111111111111111111111111111"),rvt=H.struct([en("nodePubkey"),en("authorizedWithdrawer"),H.u8("commission"),H.nu64(),H.seq(H.struct([H.nu64("slot"),H.u32("confirmationCount")]),H.offset(H.u32(),-8),"votes"),H.u8("rootSlotValid"),H.nu64("rootSlot"),H.nu64(),H.seq(H.struct([H.nu64("epoch"),en("authorizedVoter")]),H.offset(H.u32(),-8),"authorizedVoters"),H.struct([H.seq(H.struct([en("authorizedPubkey"),H.nu64("epochOfLastAuthorizedSwitch"),H.nu64("targetEpoch")]),32,"buf"),H.nu64("idx"),H.u8("isEmpty")],"priorVoters"),H.nu64(),H.seq(H.struct([H.nu64("epoch"),H.nu64("credits"),H.nu64("prevCredits")]),H.offset(H.u32(),-8),"epochCredits"),H.struct([H.nu64("slot"),H.nu64("timestamp")],"lastTimestamp")]),hre=class t{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=rvt.decode(Pr(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new ot(n.nodePubkey),authorizedWithdrawer:new ot(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(nvt),priorVoters:ivt(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function nvt({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new ot(t)}}function xve({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new ot(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function ivt({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(xve),...t.slice(0,e).map(xve)]}var Pve={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function ovt(t,e){let r=e===!1?"http":"https";if(!t)return Pve[r].devnet;let n=Pve[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function svt(t,e,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;let s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),c=o&&o.commitment,f=(await(i?t.confirmTransaction(i,c):t.confirmTransaction(a,c))).value;if(f.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(f)})`);return a}var avt=1e9;Xe.Account=Jte;Xe.AddressLookupTableAccount=yD;Xe.AddressLookupTableInstruction=ure;Xe.AddressLookupTableProgram=bD;Xe.Authorized=b6;Xe.BLOCKHASH_CACHE_TIMEOUT_MS=Uve;Xe.BPF_LOADER_DEPRECATED_PROGRAM_ID=a1t;Xe.BPF_LOADER_PROGRAM_ID=A1t;Xe.BpfLoader=nre;Xe.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=ly;Xe.ComputeBudgetInstruction=lre;Xe.ComputeBudgetProgram=_D;Xe.Connection=cre;Xe.Ed25519Program=y6;Xe.Enum=Zte;Xe.EpochSchedule=p6;Xe.FeeCalculatorLayout=Mve;Xe.Keypair=m6;Xe.LAMPORTS_PER_SOL=avt;Xe.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=ib;Xe.Loader=L1;Xe.Lockup=tE;Xe.MAX_SEED_LENGTH=Cve;Xe.Message=dy;Xe.MessageAccountKeys=eE;Xe.MessageV0=N1;Xe.NONCE_ACCOUNT_LENGTH=tre;Xe.NonceAccount=f6;Xe.PACKET_DATA_SIZE=N_;Xe.PUBLIC_KEY_LENGTH=Zd;Xe.PublicKey=ot;Xe.SIGNATURE_LENGTH_IN_BYTES=M1;Xe.SOLANA_SCHEMA=dD;Xe.STAKE_CONFIG_ID=Hve;Xe.STAKE_INSTRUCTION_LAYOUTS=Hs;Xe.SYSTEM_INSTRUCTION_LAYOUTS=Ci;Xe.SYSVAR_CLOCK_PUBKEY=uy;Xe.SYSVAR_EPOCH_SCHEDULE_PUBKEY=h1t;Xe.SYSVAR_INSTRUCTIONS_PUBKEY=m1t;Xe.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=a6;Xe.SYSVAR_RENT_PUBKEY=D1;Xe.SYSVAR_REWARDS_PUBKEY=y1t;Xe.SYSVAR_SLOT_HASHES_PUBKEY=g1t;Xe.SYSVAR_SLOT_HISTORY_PUBKEY=b1t;Xe.SYSVAR_STAKE_HISTORY_PUBKEY=c6;Xe.Secp256k1Program=g6;Xe.SendTransactionError=mD;Xe.SolanaJSONRPCError=xt;Xe.SolanaJSONRPCErrorCode=v1t;Xe.StakeAuthorizationLayout=Jkt;Xe.StakeInstruction=dre;Xe.StakeProgram=z1;Xe.Struct=fD;Xe.SystemInstruction=rre;Xe.SystemProgram=yc;Xe.Transaction=ii;Xe.TransactionExpiredBlockheightExceededError=pD;Xe.TransactionExpiredNonceInvalidError=M_;Xe.TransactionExpiredTimeoutError=hD;Xe.TransactionInstruction=oi;Xe.TransactionMessage=Qte;Xe.VALIDATOR_INFO_KEY=$ve;Xe.VERSION_PREFIX_MASK=w6;Xe.VOTE_PROGRAM_ID=tvt;Xe.ValidatorInfo=pre;Xe.VersionedMessage=gre;Xe.VersionedTransaction=ere;Xe.VoteAccount=hre;Xe.VoteAuthorizationLayout=Qkt;Xe.VoteInit=_6;Xe.VoteInstruction=fre;Xe.VoteProgram=F1;Xe.clusterApiUrl=ovt;Xe.sendAndConfirmRawTransaction=svt;Xe.sendAndConfirmTransaction=u6});var Yve=_(I6=>{"use strict";u();l();Object.defineProperty(I6,"__esModule",{value:!0});I6.publicKey=void 0;var cvt=Ce(),uvt=wre(),lvt=k1(),dvt=t=>{let e=(0,cvt.blob)(32,t),{encode:r,decode:n}=(0,lvt.encodeDecode)(e),i=e;return i.decode=(o,s)=>{let a=n(o,s);return new uvt.PublicKey(a)},i.encode=(o,s,a)=>{let c=o.toBuffer();return r(c,s,a)},i};I6.publicKey=dvt});var gt=_(ph=>{"use strict";u();l();var fvt=ph&&ph.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wD=ph&&ph.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&fvt(e,t,r)};Object.defineProperty(ph,"__esModule",{value:!0});wD(k1(),ph);wD(_te(),ph);wD(Ake(),ph);wD(Eke(),ph);wD(Yve(),ph)});var Lr=_(pi=>{"use strict";u();l();Object.defineProperty(pi,"__esModule",{value:!0});pi.TokenUnsupportedInstructionError=pi.TokenInvalidInstructionTypeError=pi.TokenInvalidInstructionDataError=pi.TokenInvalidInstructionKeysError=pi.TokenInvalidInstructionProgramError=pi.TokenOwnerOffCurveError=pi.TokenInvalidOwnerError=pi.TokenInvalidMintError=pi.TokenInvalidAccountSizeError=pi.TokenInvalidAccountOwnerError=pi.TokenInvalidAccountError=pi.TokenAccountNotFoundError=pi.TokenError=void 0;var tl=class extends Error{constructor(e){super(e)}};pi.TokenError=tl;var Are=class extends tl{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}};pi.TokenAccountNotFoundError=Are;var Ere=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}};pi.TokenInvalidAccountError=Ere;var Ire=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}};pi.TokenInvalidAccountOwnerError=Ire;var Tre=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};pi.TokenInvalidAccountSizeError=Tre;var kre=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidMintError"}};pi.TokenInvalidMintError=kre;var vre=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}};pi.TokenInvalidOwnerError=vre;var xre=class extends tl{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};pi.TokenOwnerOffCurveError=xre;var Pre=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}};pi.TokenInvalidInstructionProgramError=Pre;var Ore=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}};pi.TokenInvalidInstructionKeysError=Ore;var Rre=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}};pi.TokenInvalidInstructionDataError=Rre;var Cre=class extends tl{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}};pi.TokenInvalidInstructionTypeError=Cre;var Bre=class extends tl{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}};pi.TokenUnsupportedInstructionError=Bre});var on=_(AD=>{"use strict";u();l();Object.defineProperty(AD,"__esModule",{value:!0});AD.TokenInstruction=void 0;var pvt;(function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate"})(pvt=AD.TokenInstruction||(AD.TokenInstruction={}))});var k6=_(Cl=>{"use strict";u();l();Object.defineProperty(Cl,"__esModule",{value:!0});Cl.decodeAmountToUiAmountInstructionUnchecked=Cl.decodeAmountToUiAmountInstruction=Cl.createAmountToUiAmountInstruction=Cl.amountToUiAmountInstructionData=void 0;var Xve=Ce(),hvt=gt(),mvt=we(),Zve=yt(),T6=Lr(),Jve=on();Cl.amountToUiAmountInstructionData=(0,Xve.struct)([(0,Xve.u8)("instruction"),(0,hvt.u64)("amount")]);function yvt(t,e,r=Zve.TOKEN_PROGRAM_ID){let n=[{pubkey:t,isSigner:!1,isWritable:!1}],i=Buffer.alloc(Cl.amountToUiAmountInstructionData.span);return Cl.amountToUiAmountInstructionData.encode({instruction:Jve.TokenInstruction.AmountToUiAmount,amount:BigInt(e)},i),new mvt.TransactionInstruction({keys:n,programId:r,data:i})}Cl.createAmountToUiAmountInstruction=yvt;function gvt(t,e=Zve.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new T6.TokenInvalidInstructionProgramError;if(t.data.length!==Cl.amountToUiAmountInstructionData.span)throw new T6.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=Qve(t);if(n.instruction!==Jve.TokenInstruction.AmountToUiAmount)throw new T6.TokenInvalidInstructionTypeError;if(!r)throw new T6.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}Cl.decodeAmountToUiAmountInstruction=gvt;function Qve({programId:t,keys:[e],data:r}){return{programId:t,keys:{mint:e},data:Cl.amountToUiAmountInstructionData.decode(r)}}Cl.decodeAmountToUiAmountInstructionUnchecked=Qve});var exe=_(j1=>{"use strict";u();l();var bvt=j1&&j1.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(j1,"__esModule",{value:!0});j1.amountToUiAmount=void 0;var _vt=we(),Svt=yt(),wvt=k6();function Avt(t,e,r,n,i=Svt.TOKEN_PROGRAM_ID){return bvt(this,void 0,void 0,function*(){let o=new _vt.Transaction().add((0,wvt.createAmountToUiAmountInstruction)(r,n,i)),{returnData:s,err:a}=(yield t.simulateTransaction(o,[e],!1)).value;return s?.data?Buffer.from(s.data[0],s.data[1]).toString("utf-8"):a})}j1.amountToUiAmount=Avt});var ms=_(v6=>{"use strict";u();l();Object.defineProperty(v6,"__esModule",{value:!0});v6.addSigners=void 0;var Evt=we();function Ivt(t,e,r){if(r.length){t.push({pubkey:e,isSigner:!1,isWritable:!1});for(let n of r)t.push({pubkey:n instanceof Evt.PublicKey?n:n.publicKey,isSigner:!0,isWritable:!1})}else t.push({pubkey:e,isSigner:!0,isWritable:!1});return t}v6.addSigners=Ivt});var P6=_(Bl=>{"use strict";u();l();Object.defineProperty(Bl,"__esModule",{value:!0});Bl.decodeApproveInstructionUnchecked=Bl.decodeApproveInstruction=Bl.createApproveInstruction=Bl.approveInstructionData=void 0;var txe=Ce(),Tvt=gt(),kvt=we(),rxe=yt(),x6=Lr(),vvt=ms(),nxe=on();Bl.approveInstructionData=(0,txe.struct)([(0,txe.u8)("instruction"),(0,Tvt.u64)("amount")]);function xvt(t,e,r,n,i=[],o=rxe.TOKEN_PROGRAM_ID){let s=(0,vvt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],r,i),a=Buffer.alloc(Bl.approveInstructionData.span);return Bl.approveInstructionData.encode({instruction:nxe.TokenInstruction.Approve,amount:BigInt(n)},a),new kvt.TransactionInstruction({keys:s,programId:o,data:a})}Bl.createApproveInstruction=xvt;function Pvt(t,e=rxe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new x6.TokenInvalidInstructionProgramError;if(t.data.length!==Bl.approveInstructionData.span)throw new x6.TokenInvalidInstructionDataError;let{keys:{account:r,delegate:n,owner:i,multiSigners:o},data:s}=ixe(t);if(s.instruction!==nxe.TokenInstruction.Approve)throw new x6.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new x6.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,delegate:n,owner:i,multiSigners:o},data:s}}Bl.decodeApproveInstruction=Pvt;function ixe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,delegate:r,owner:n,multiSigners:i},data:Bl.approveInstructionData.decode(o)}}Bl.decodeApproveInstructionUnchecked=ixe});var xs=_(O6=>{"use strict";u();l();Object.defineProperty(O6,"__esModule",{value:!0});O6.getSigners=void 0;var Ovt=we();function Rvt(t,e){return t instanceof Ovt.PublicKey?[t,e]:[t.publicKey,[t]]}O6.getSigners=Rvt});var sxe=_(K1=>{"use strict";u();l();var Cvt=K1&&K1.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(K1,"__esModule",{value:!0});K1.approve=void 0;var oxe=we(),Bvt=yt(),Mvt=P6(),Nvt=xs();function Dvt(t,e,r,n,i,o,s=[],a,c=Bvt.TOKEN_PROGRAM_ID){return Cvt(this,void 0,void 0,function*(){let[d,f]=(0,Nvt.getSigners)(i,s),p=new oxe.Transaction().add((0,Mvt.createApproveInstruction)(r,n,d,o,s,c));return yield(0,oxe.sendAndConfirmTransaction)(t,p,[e,...f],a)})}K1.approve=Dvt});var C6=_(Ml=>{"use strict";u();l();Object.defineProperty(Ml,"__esModule",{value:!0});Ml.decodeApproveCheckedInstructionUnchecked=Ml.decodeApproveCheckedInstruction=Ml.createApproveCheckedInstruction=Ml.approveCheckedInstructionData=void 0;var Mre=Ce(),Uvt=gt(),Lvt=we(),axe=yt(),R6=Lr(),zvt=ms(),cxe=on();Ml.approveCheckedInstructionData=(0,Mre.struct)([(0,Mre.u8)("instruction"),(0,Uvt.u64)("amount"),(0,Mre.u8)("decimals")]);function Fvt(t,e,r,n,i,o,s=[],a=axe.TOKEN_PROGRAM_ID){let c=(0,zvt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1}],n,s),d=Buffer.alloc(Ml.approveCheckedInstructionData.span);return Ml.approveCheckedInstructionData.encode({instruction:cxe.TokenInstruction.ApproveChecked,amount:BigInt(i),decimals:o},d),new Lvt.TransactionInstruction({keys:c,programId:a,data:d})}Ml.createApproveCheckedInstruction=Fvt;function qvt(t,e=axe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new R6.TokenInvalidInstructionProgramError;if(t.data.length!==Ml.approveCheckedInstructionData.span)throw new R6.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,delegate:i,owner:o,multiSigners:s},data:a}=uxe(t);if(a.instruction!==cxe.TokenInstruction.ApproveChecked)throw new R6.TokenInvalidInstructionTypeError;if(!r||!n||!i||!o)throw new R6.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,delegate:i,owner:o,multiSigners:s},data:a}}Ml.decodeApproveCheckedInstruction=qvt;function uxe({programId:t,keys:[e,r,n,i,...o],data:s}){return{programId:t,keys:{account:e,mint:r,delegate:n,owner:i,multiSigners:o},data:Ml.approveCheckedInstructionData.decode(s)}}Ml.decodeApproveCheckedInstructionUnchecked=uxe});var dxe=_(W1=>{"use strict";u();l();var jvt=W1&&W1.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(W1,"__esModule",{value:!0});W1.approveChecked=void 0;var lxe=we(),Kvt=yt(),Wvt=C6(),Vvt=xs();function Gvt(t,e,r,n,i,o,s,a,c=[],d,f=Kvt.TOKEN_PROGRAM_ID){return jvt(this,void 0,void 0,function*(){let[p,m]=(0,Vvt.getSigners)(o,c),y=new lxe.Transaction().add((0,Wvt.createApproveCheckedInstruction)(n,r,i,p,s,a,c,f));return yield(0,lxe.sendAndConfirmTransaction)(t,y,[e,...m],d)})}W1.approveChecked=Gvt});var M6=_(Nl=>{"use strict";u();l();Object.defineProperty(Nl,"__esModule",{value:!0});Nl.decodeBurnInstructionUnchecked=Nl.decodeBurnInstruction=Nl.createBurnInstruction=Nl.burnInstructionData=void 0;var fxe=Ce(),Hvt=gt(),$vt=we(),pxe=yt(),B6=Lr(),Yvt=ms(),hxe=on();Nl.burnInstructionData=(0,fxe.struct)([(0,fxe.u8)("instruction"),(0,Hvt.u64)("amount")]);function Xvt(t,e,r,n,i=[],o=pxe.TOKEN_PROGRAM_ID){let s=(0,Yvt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,i),a=Buffer.alloc(Nl.burnInstructionData.span);return Nl.burnInstructionData.encode({instruction:hxe.TokenInstruction.Burn,amount:BigInt(n)},a),new $vt.TransactionInstruction({keys:s,programId:o,data:a})}Nl.createBurnInstruction=Xvt;function Zvt(t,e=pxe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new B6.TokenInvalidInstructionProgramError;if(t.data.length!==Nl.burnInstructionData.span)throw new B6.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}=mxe(t);if(s.instruction!==hxe.TokenInstruction.Burn)throw new B6.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new B6.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}}Nl.decodeBurnInstruction=Zvt;function mxe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,owner:n,multiSigners:i},data:Nl.burnInstructionData.decode(o)}}Nl.decodeBurnInstructionUnchecked=mxe});var gxe=_(V1=>{"use strict";u();l();var Jvt=V1&&V1.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(V1,"__esModule",{value:!0});V1.burn=void 0;var yxe=we(),Qvt=yt(),ext=M6(),txt=xs();function rxt(t,e,r,n,i,o,s=[],a,c=Qvt.TOKEN_PROGRAM_ID){return Jvt(this,void 0,void 0,function*(){let[d,f]=(0,txt.getSigners)(i,s),p=new yxe.Transaction().add((0,ext.createBurnInstruction)(r,n,d,o,s,c));return yield(0,yxe.sendAndConfirmTransaction)(t,p,[e,...f],a)})}V1.burn=rxt});var D6=_(Dl=>{"use strict";u();l();Object.defineProperty(Dl,"__esModule",{value:!0});Dl.decodeBurnCheckedInstructionUnchecked=Dl.decodeBurnCheckedInstruction=Dl.createBurnCheckedInstruction=Dl.burnCheckedInstructionData=void 0;var Nre=Ce(),nxt=gt(),ixt=we(),bxe=yt(),N6=Lr(),oxt=ms(),_xe=on();Dl.burnCheckedInstructionData=(0,Nre.struct)([(0,Nre.u8)("instruction"),(0,nxt.u64)("amount"),(0,Nre.u8)("decimals")]);function sxt(t,e,r,n,i,o=[],s=bxe.TOKEN_PROGRAM_ID){let a=(0,oxt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,o),c=Buffer.alloc(Dl.burnCheckedInstructionData.span);return Dl.burnCheckedInstructionData.encode({instruction:_xe.TokenInstruction.BurnChecked,amount:BigInt(n),decimals:i},c),new ixt.TransactionInstruction({keys:a,programId:s,data:c})}Dl.createBurnCheckedInstruction=sxt;function axt(t,e=bxe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new N6.TokenInvalidInstructionProgramError;if(t.data.length!==Dl.burnCheckedInstructionData.span)throw new N6.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}=Sxe(t);if(s.instruction!==_xe.TokenInstruction.BurnChecked)throw new N6.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new N6.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}}Dl.decodeBurnCheckedInstruction=axt;function Sxe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,owner:n,multiSigners:i},data:Dl.burnCheckedInstructionData.decode(o)}}Dl.decodeBurnCheckedInstructionUnchecked=Sxe});var Axe=_(G1=>{"use strict";u();l();var cxt=G1&&G1.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(G1,"__esModule",{value:!0});G1.burnChecked=void 0;var wxe=we(),uxt=yt(),lxt=D6(),dxt=xs();function fxt(t,e,r,n,i,o,s,a=[],c,d=uxt.TOKEN_PROGRAM_ID){return cxt(this,void 0,void 0,function*(){let[f,p]=(0,dxt.getSigners)(i,a),m=new wxe.Transaction().add((0,lxt.createBurnCheckedInstruction)(r,n,f,o,s,a,d));return yield(0,wxe.sendAndConfirmTransaction)(t,m,[e,...p],c)})}G1.burnChecked=fxt});var L6=_(Ul=>{"use strict";u();l();Object.defineProperty(Ul,"__esModule",{value:!0});Ul.decodeCloseAccountInstructionUnchecked=Ul.decodeCloseAccountInstruction=Ul.createCloseAccountInstruction=Ul.closeAccountInstructionData=void 0;var Exe=Ce(),pxt=we(),Ixe=yt(),U6=Lr(),hxt=ms(),Txe=on();Ul.closeAccountInstructionData=(0,Exe.struct)([(0,Exe.u8)("instruction")]);function mxt(t,e,r,n=[],i=Ixe.TOKEN_PROGRAM_ID){let o=(0,hxt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(Ul.closeAccountInstructionData.span);return Ul.closeAccountInstructionData.encode({instruction:Txe.TokenInstruction.CloseAccount},s),new pxt.TransactionInstruction({keys:o,programId:i,data:s})}Ul.createCloseAccountInstruction=mxt;function yxt(t,e=Ixe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new U6.TokenInvalidInstructionProgramError;if(t.data.length!==Ul.closeAccountInstructionData.span)throw new U6.TokenInvalidInstructionDataError;let{keys:{account:r,destination:n,authority:i,multiSigners:o},data:s}=kxe(t);if(s.instruction!==Txe.TokenInstruction.CloseAccount)throw new U6.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new U6.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,destination:n,authority:i,multiSigners:o},data:s}}Ul.decodeCloseAccountInstruction=yxt;function kxe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,destination:r,authority:n,multiSigners:i},data:Ul.closeAccountInstructionData.decode(o)}}Ul.decodeCloseAccountInstructionUnchecked=kxe});var xxe=_(H1=>{"use strict";u();l();var gxt=H1&&H1.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(H1,"__esModule",{value:!0});H1.closeAccount=void 0;var vxe=we(),bxt=yt(),_xt=L6(),Sxt=xs();function wxt(t,e,r,n,i,o=[],s,a=bxt.TOKEN_PROGRAM_ID){return gxt(this,void 0,void 0,function*(){let[c,d]=(0,Sxt.getSigners)(i,o),f=new vxe.Transaction().add((0,_xt.createCloseAccountInstruction)(r,n,c,o,a));return yield(0,vxe.sendAndConfirmTransaction)(t,f,[e,...d],s)})}H1.closeAccount=wxt});var ED=_(iE=>{"use strict";u();l();Object.defineProperty(iE,"__esModule",{value:!0});iE.ACCOUNT_TYPE_SIZE=iE.AccountType=void 0;var Axt;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"})(Axt=iE.AccountType||(iE.AccountType={}));iE.ACCOUNT_TYPE_SIZE=1});var $1=_($s=>{"use strict";u();l();var Pxe=$s&&$s.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty($s,"__esModule",{value:!0});$s.getMinimumBalanceForRentExemptMultisig=$s.unpackMultisig=$s.getMultisig=$s.MULTISIG_SIZE=$s.MultisigLayout=void 0;var Dre=Ce(),Jf=gt(),Oxe=yt(),Ure=Lr();$s.MultisigLayout=(0,Dre.struct)([(0,Dre.u8)("m"),(0,Dre.u8)("n"),(0,Jf.bool)("isInitialized"),(0,Jf.publicKey)("signer1"),(0,Jf.publicKey)("signer2"),(0,Jf.publicKey)("signer3"),(0,Jf.publicKey)("signer4"),(0,Jf.publicKey)("signer5"),(0,Jf.publicKey)("signer6"),(0,Jf.publicKey)("signer7"),(0,Jf.publicKey)("signer8"),(0,Jf.publicKey)("signer9"),(0,Jf.publicKey)("signer10"),(0,Jf.publicKey)("signer11")]);$s.MULTISIG_SIZE=$s.MultisigLayout.span;function Ext(t,e,r,n=Oxe.TOKEN_PROGRAM_ID){return Pxe(this,void 0,void 0,function*(){let i=yield t.getAccountInfo(e,r);return Rxe(e,i,n)})}$s.getMultisig=Ext;function Rxe(t,e,r=Oxe.TOKEN_PROGRAM_ID){if(!e)throw new Ure.TokenAccountNotFoundError;if(!e.owner.equals(r))throw new Ure.TokenInvalidAccountOwnerError;if(e.data.length!=$s.MULTISIG_SIZE)throw new Ure.TokenInvalidAccountSizeError;let n=$s.MultisigLayout.decode(e.data);return Object.assign({address:t},n)}$s.unpackMultisig=Rxe;function Ixt(t,e){return Pxe(this,void 0,void 0,function*(){return yield t.getMinimumBalanceForRentExemption($s.MULTISIG_SIZE,e)})}$s.getMinimumBalanceForRentExemptMultisig=Ixt});var Y1=_(hi=>{"use strict";u();l();var z6=hi&&hi.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(hi,"__esModule",{value:!0});hi.unpackAccount=hi.getMinimumBalanceForRentExemptAccountWithExtensions=hi.getMinimumBalanceForRentExemptAccount=hi.getMultipleAccounts=hi.getAccount=hi.ACCOUNT_SIZE=hi.AccountLayout=hi.AccountState=void 0;var ID=Ce(),oE=gt(),zre=yt(),TD=Lr(),Cxe=ED(),Txt=rl(),kxt=$1(),Lre;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"})(Lre=hi.AccountState||(hi.AccountState={}));hi.AccountLayout=(0,ID.struct)([(0,oE.publicKey)("mint"),(0,oE.publicKey)("owner"),(0,oE.u64)("amount"),(0,ID.u32)("delegateOption"),(0,oE.publicKey)("delegate"),(0,ID.u8)("state"),(0,ID.u32)("isNativeOption"),(0,oE.u64)("isNative"),(0,oE.u64)("delegatedAmount"),(0,ID.u32)("closeAuthorityOption"),(0,oE.publicKey)("closeAuthority")]);hi.ACCOUNT_SIZE=hi.AccountLayout.span;function vxt(t,e,r,n=zre.TOKEN_PROGRAM_ID){return z6(this,void 0,void 0,function*(){let i=yield t.getAccountInfo(e,r);return Fre(e,i,n)})}hi.getAccount=vxt;function xxt(t,e,r,n=zre.TOKEN_PROGRAM_ID){return z6(this,void 0,void 0,function*(){let i=yield t.getMultipleAccountsInfo(e,r);return e.map((o,s)=>Fre(o,i[s],n))})}hi.getMultipleAccounts=xxt;function Pxt(t,e){return z6(this,void 0,void 0,function*(){return yield Bxe(t,[],e)})}hi.getMinimumBalanceForRentExemptAccount=Pxt;function Bxe(t,e,r){return z6(this,void 0,void 0,function*(){let n=(0,Txt.getAccountLen)(e);return yield t.getMinimumBalanceForRentExemption(n,r)})}hi.getMinimumBalanceForRentExemptAccountWithExtensions=Bxe;function Fre(t,e,r=zre.TOKEN_PROGRAM_ID){if(!e)throw new TD.TokenAccountNotFoundError;if(!e.owner.equals(r))throw new TD.TokenInvalidAccountOwnerError;if(e.data.length<hi.ACCOUNT_SIZE)throw new TD.TokenInvalidAccountSizeError;let n=hi.AccountLayout.decode(e.data.slice(0,hi.ACCOUNT_SIZE)),i=Buffer.alloc(0);if(e.data.length>hi.ACCOUNT_SIZE){if(e.data.length===kxt.MULTISIG_SIZE)throw new TD.TokenInvalidAccountSizeError;if(e.data[hi.ACCOUNT_SIZE]!=Cxe.AccountType.Account)throw new TD.TokenInvalidAccountError;i=e.data.slice(hi.ACCOUNT_SIZE+Cxe.ACCOUNT_TYPE_SIZE)}return{address:t,mint:n.mint,owner:n.owner,amount:n.amount,delegate:n.delegateOption?n.delegate:null,delegatedAmount:n.delegatedAmount,isInitialized:n.state!==Lre.Uninitialized,isFrozen:n.state===Lre.Frozen,isNative:!!n.isNativeOption,rentExemptReserve:n.isNativeOption?n.isNative:null,closeAuthority:n.closeAuthorityOption?n.closeAuthority:null,tlvData:i}}hi.unpackAccount=Fre});var sb=_(qi=>{"use strict";u();l();var K6=qi&&qi.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(qi,"__esModule",{value:!0});qi.getAssociatedTokenAddressSync=qi.getAssociatedTokenAddress=qi.getMinimumBalanceForRentExemptMintWithExtensions=qi.getMinimumBalanceForRentExemptMint=qi.unpackMint=qi.getMint=qi.MINT_SIZE=qi.MintLayout=void 0;var F6=Ce(),q6=gt(),j6=we(),X1=yt(),U_=Lr(),Mxe=ED(),Oxt=rl(),qre=Y1(),Rxt=$1();qi.MintLayout=(0,F6.struct)([(0,F6.u32)("mintAuthorityOption"),(0,q6.publicKey)("mintAuthority"),(0,q6.u64)("supply"),(0,F6.u8)("decimals"),(0,q6.bool)("isInitialized"),(0,F6.u32)("freezeAuthorityOption"),(0,q6.publicKey)("freezeAuthority")]);qi.MINT_SIZE=qi.MintLayout.span;function Cxt(t,e,r,n=X1.TOKEN_PROGRAM_ID){return K6(this,void 0,void 0,function*(){let i=yield t.getAccountInfo(e,r);return Nxe(e,i,n)})}qi.getMint=Cxt;function Nxe(t,e,r=X1.TOKEN_PROGRAM_ID){if(!e)throw new U_.TokenAccountNotFoundError;if(!e.owner.equals(r))throw new U_.TokenInvalidAccountOwnerError;if(e.data.length<qi.MINT_SIZE)throw new U_.TokenInvalidAccountSizeError;let n=qi.MintLayout.decode(e.data.slice(0,qi.MINT_SIZE)),i=Buffer.alloc(0);if(e.data.length>qi.MINT_SIZE){if(e.data.length<=qre.ACCOUNT_SIZE)throw new U_.TokenInvalidAccountSizeError;if(e.data.length===Rxt.MULTISIG_SIZE)throw new U_.TokenInvalidAccountSizeError;if(e.data[qre.ACCOUNT_SIZE]!=Mxe.AccountType.Mint)throw new U_.TokenInvalidMintError;i=e.data.slice(qre.ACCOUNT_SIZE+Mxe.ACCOUNT_TYPE_SIZE)}return{address:t,mintAuthority:n.mintAuthorityOption?n.mintAuthority:null,supply:n.supply,decimals:n.decimals,isInitialized:n.isInitialized,freezeAuthority:n.freezeAuthorityOption?n.freezeAuthority:null,tlvData:i}}qi.unpackMint=Nxe;function Bxt(t,e){return K6(this,void 0,void 0,function*(){return yield Dxe(t,[],e)})}qi.getMinimumBalanceForRentExemptMint=Bxt;function Dxe(t,e,r){return K6(this,void 0,void 0,function*(){let n=(0,Oxt.getMintLen)(e);return yield t.getMinimumBalanceForRentExemption(n,r)})}qi.getMinimumBalanceForRentExemptMintWithExtensions=Dxe;function Mxt(t,e,r=!1,n=X1.TOKEN_PROGRAM_ID,i=X1.ASSOCIATED_TOKEN_PROGRAM_ID){return K6(this,void 0,void 0,function*(){if(!r&&!j6.PublicKey.isOnCurve(e.toBuffer()))throw new U_.TokenOwnerOffCurveError;let[o]=yield j6.PublicKey.findProgramAddress([e.toBuffer(),n.toBuffer(),t.toBuffer()],i);return o})}qi.getAssociatedTokenAddress=Mxt;function Nxt(t,e,r=!1,n=X1.TOKEN_PROGRAM_ID,i=X1.ASSOCIATED_TOKEN_PROGRAM_ID){if(!r&&!j6.PublicKey.isOnCurve(e.toBuffer()))throw new U_.TokenOwnerOffCurveError;let[o]=j6.PublicKey.findProgramAddressSync([e.toBuffer(),n.toBuffer(),t.toBuffer()],i);return o}qi.getAssociatedTokenAddressSync=Nxt});var Vre=_(Jd=>{"use strict";u();l();Object.defineProperty(Jd,"__esModule",{value:!0});Jd.createDisableCpiGuardInstruction=Jd.createEnableCpiGuardInstruction=Jd.cpiGuardInstructionData=Jd.CpiGuardInstruction=void 0;var jre=Ce(),Dxt=we(),Kre=yt(),Uxt=Lr(),Lxt=ms(),zxt=on(),Wre;(function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"})(Wre=Jd.CpiGuardInstruction||(Jd.CpiGuardInstruction={}));Jd.cpiGuardInstructionData=(0,jre.struct)([(0,jre.u8)("instruction"),(0,jre.u8)("cpiGuardInstruction")]);function Fxt(t,e,r=[],n=Kre.TOKEN_2022_PROGRAM_ID){return Uxe(Wre.Enable,t,e,r,n)}Jd.createEnableCpiGuardInstruction=Fxt;function qxt(t,e,r=[],n=Kre.TOKEN_2022_PROGRAM_ID){return Uxe(Wre.Disable,t,e,r,n)}Jd.createDisableCpiGuardInstruction=qxt;function Uxe(t,e,r,n,i){if(!(0,Kre.programSupportsExtensions)(i))throw new Uxt.TokenUnsupportedInstructionError;let o=(0,Lxt.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(Jd.cpiGuardInstructionData.span);return Jd.cpiGuardInstructionData.encode({instruction:zxt.TokenInstruction.CpiGuardExtension,cpiGuardInstruction:t},s),new Dxt.TransactionInstruction({keys:o,programId:i,data:s})}});var jxe=_(L_=>{"use strict";u();l();var Lxe=L_&&L_.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(L_,"__esModule",{value:!0});L_.disableCpiGuard=L_.enableCpiGuard=void 0;var W6=we(),zxe=xs(),Fxe=yt(),qxe=Vre();function jxt(t,e,r,n,i=[],o,s=Fxe.TOKEN_2022_PROGRAM_ID){return Lxe(this,void 0,void 0,function*(){let[a,c]=(0,zxe.getSigners)(n,i),d=new W6.Transaction().add((0,qxe.createEnableCpiGuardInstruction)(r,a,c,s));return yield(0,W6.sendAndConfirmTransaction)(t,d,[e,...c],o)})}L_.enableCpiGuard=jxt;function Kxt(t,e,r,n,i=[],o,s=Fxe.TOKEN_2022_PROGRAM_ID){return Lxe(this,void 0,void 0,function*(){let[a,c]=(0,zxe.getSigners)(n,i),d=new W6.Transaction().add((0,qxe.createDisableCpiGuardInstruction)(r,a,c,s));return yield(0,W6.sendAndConfirmTransaction)(t,d,[e,...c],o)})}L_.disableCpiGuard=Kxt});var Wxe=_(fy=>{"use strict";u();l();Object.defineProperty(fy,"__esModule",{value:!0});fy.getCpiGuard=fy.CPI_GUARD_SIZE=fy.CpiGuardLayout=void 0;var Wxt=Ce(),Vxt=gt(),Kxe=rl();fy.CpiGuardLayout=(0,Wxt.struct)([(0,Vxt.bool)("lockCpi")]);fy.CPI_GUARD_SIZE=fy.CpiGuardLayout.span;function Gxt(t){let e=(0,Kxe.getExtensionData)(Kxe.ExtensionType.CpiGuard,t.tlvData);return e!==null?fy.CpiGuardLayout.decode(e):null}fy.getCpiGuard=Gxt});var Hre=_(ab=>{"use strict";u();l();var Hxt=ab&&ab.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gre=ab&&ab.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Hxt(e,t,r)};Object.defineProperty(ab,"__esModule",{value:!0});Gre(jxe(),ab);Gre(Vre(),ab);Gre(Wxe(),ab)});var Yre=_(nl=>{"use strict";u();l();Object.defineProperty(nl,"__esModule",{value:!0});nl.createUpdateDefaultAccountStateInstruction=nl.createInitializeDefaultAccountStateInstruction=nl.defaultAccountStateInstructionData=nl.DefaultAccountStateInstruction=void 0;var V6=Ce(),Vxe=we(),G6=yt(),Gxe=Lr(),$xt=ms(),Hxe=on(),$re;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})($re=nl.DefaultAccountStateInstruction||(nl.DefaultAccountStateInstruction={}));nl.defaultAccountStateInstructionData=(0,V6.struct)([(0,V6.u8)("instruction"),(0,V6.u8)("defaultAccountStateInstruction"),(0,V6.u8)("accountState")]);function Yxt(t,e,r=G6.TOKEN_2022_PROGRAM_ID){if(!(0,G6.programSupportsExtensions)(r))throw new Gxe.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!1,isWritable:!0}],i=Buffer.alloc(nl.defaultAccountStateInstructionData.span);return nl.defaultAccountStateInstructionData.encode({instruction:Hxe.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:$re.Initialize,accountState:e},i),new Vxe.TransactionInstruction({keys:n,programId:r,data:i})}nl.createInitializeDefaultAccountStateInstruction=Yxt;function Xxt(t,e,r,n=[],i=G6.TOKEN_2022_PROGRAM_ID){if(!(0,G6.programSupportsExtensions)(i))throw new Gxe.TokenUnsupportedInstructionError;let o=(0,$xt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(nl.defaultAccountStateInstructionData.span);return nl.defaultAccountStateInstructionData.encode({instruction:Hxe.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:$re.Update,accountState:e},s),new Vxe.TransactionInstruction({keys:o,programId:i,data:s})}nl.createUpdateDefaultAccountStateInstruction=Xxt});var Zxe=_(z_=>{"use strict";u();l();var $xe=z_&&z_.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(z_,"__esModule",{value:!0});z_.updateDefaultAccountState=z_.initializeDefaultAccountState=void 0;var H6=we(),Zxt=xs(),Yxe=yt(),Xxe=Yre();function Jxt(t,e,r,n,i,o=Yxe.TOKEN_2022_PROGRAM_ID){return $xe(this,void 0,void 0,function*(){let s=new H6.Transaction().add((0,Xxe.createInitializeDefaultAccountStateInstruction)(r,n,o));return yield(0,H6.sendAndConfirmTransaction)(t,s,[e],i)})}z_.initializeDefaultAccountState=Jxt;function Qxt(t,e,r,n,i,o=[],s,a=Yxe.TOKEN_2022_PROGRAM_ID){return $xe(this,void 0,void 0,function*(){let[c,d]=(0,Zxt.getSigners)(i,o),f=new H6.Transaction().add((0,Xxe.createUpdateDefaultAccountStateInstruction)(r,n,c,d,a));return yield(0,H6.sendAndConfirmTransaction)(t,f,[e,...d],s)})}z_.updateDefaultAccountState=Qxt});var ePe=_(py=>{"use strict";u();l();Object.defineProperty(py,"__esModule",{value:!0});py.getDefaultAccountState=py.DEFAULT_ACCOUNT_STATE_SIZE=py.DefaultAccountStateLayout=void 0;var Jxe=Ce(),Qxe=rl();py.DefaultAccountStateLayout=(0,Jxe.struct)([(0,Jxe.u8)("state")]);py.DEFAULT_ACCOUNT_STATE_SIZE=py.DefaultAccountStateLayout.span;function ePt(t){let e=(0,Qxe.getExtensionData)(Qxe.ExtensionType.DefaultAccountState,t.tlvData);return e!==null?py.DefaultAccountStateLayout.decode(e):null}py.getDefaultAccountState=ePt});var Zre=_(cb=>{"use strict";u();l();var tPt=cb&&cb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xre=cb&&cb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&tPt(e,t,r)};Object.defineProperty(cb,"__esModule",{value:!0});Xre(Zxe(),cb);Xre(Yre(),cb);Xre(ePe(),cb)});var Jre=_(hy=>{"use strict";u();l();Object.defineProperty(hy,"__esModule",{value:!0});hy.getImmutableOwner=hy.IMMUTABLE_OWNER_SIZE=hy.ImmutableOwnerLayout=void 0;var rPt=Ce(),tPe=rl();hy.ImmutableOwnerLayout=(0,rPt.struct)([]);hy.IMMUTABLE_OWNER_SIZE=hy.ImmutableOwnerLayout.span;function nPt(t){let e=(0,tPe.getExtensionData)(tPe.ExtensionType.ImmutableOwner,t.tlvData);return e!==null?hy.ImmutableOwnerLayout.decode(e):null}hy.getImmutableOwner=nPt});var Qre=_(my=>{"use strict";u();l();Object.defineProperty(my,"__esModule",{value:!0});my.getInterestBearingMintConfigState=my.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=my.InterestBearingMintConfigStateLayout=void 0;var kD=Ce(),iPt=gt(),rPe=rl();my.InterestBearingMintConfigStateLayout=(0,kD.struct)([(0,iPt.publicKey)("rateAuthority"),(0,kD.ns64)("initializationTimestamp"),(0,kD.s16)("preUpdateAverageRate"),(0,kD.ns64)("lastUpdateTimestamp"),(0,kD.s16)("currentRate")]);my.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=my.InterestBearingMintConfigStateLayout.span;function oPt(t){let e=(0,rPe.getExtensionData)(rPe.ExtensionType.InterestBearingConfig,t.tlvData);return e!==null?my.InterestBearingMintConfigStateLayout.decode(e):null}my.getInterestBearingMintConfigState=oPt});var nne=_(Qd=>{"use strict";u();l();Object.defineProperty(Qd,"__esModule",{value:!0});Qd.createDisableRequiredMemoTransfersInstruction=Qd.createEnableRequiredMemoTransfersInstruction=Qd.memoTransferInstructionData=Qd.MemoTransferInstruction=void 0;var ene=Ce(),sPt=we(),tne=yt(),aPt=Lr(),cPt=ms(),uPt=on(),rne;(function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"})(rne=Qd.MemoTransferInstruction||(Qd.MemoTransferInstruction={}));Qd.memoTransferInstructionData=(0,ene.struct)([(0,ene.u8)("instruction"),(0,ene.u8)("memoTransferInstruction")]);function lPt(t,e,r=[],n=tne.TOKEN_2022_PROGRAM_ID){return nPe(rne.Enable,t,e,r,n)}Qd.createEnableRequiredMemoTransfersInstruction=lPt;function dPt(t,e,r=[],n=tne.TOKEN_2022_PROGRAM_ID){return nPe(rne.Disable,t,e,r,n)}Qd.createDisableRequiredMemoTransfersInstruction=dPt;function nPe(t,e,r,n,i){if(!(0,tne.programSupportsExtensions)(i))throw new aPt.TokenUnsupportedInstructionError;let o=(0,cPt.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(Qd.memoTransferInstructionData.span);return Qd.memoTransferInstructionData.encode({instruction:uPt.TokenInstruction.MemoTransferExtension,memoTransferInstruction:t},s),new sPt.TransactionInstruction({keys:o,programId:i,data:s})}});var cPe=_(F_=>{"use strict";u();l();var iPe=F_&&F_.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(F_,"__esModule",{value:!0});F_.disableRequiredMemoTransfers=F_.enableRequiredMemoTransfers=void 0;var $6=we(),oPe=xs(),sPe=yt(),aPe=nne();function fPt(t,e,r,n,i=[],o,s=sPe.TOKEN_2022_PROGRAM_ID){return iPe(this,void 0,void 0,function*(){let[a,c]=(0,oPe.getSigners)(n,i),d=new $6.Transaction().add((0,aPe.createEnableRequiredMemoTransfersInstruction)(r,a,c,s));return yield(0,$6.sendAndConfirmTransaction)(t,d,[e,...c],o)})}F_.enableRequiredMemoTransfers=fPt;function pPt(t,e,r,n,i=[],o,s=sPe.TOKEN_2022_PROGRAM_ID){return iPe(this,void 0,void 0,function*(){let[a,c]=(0,oPe.getSigners)(n,i),d=new $6.Transaction().add((0,aPe.createDisableRequiredMemoTransfersInstruction)(r,a,c,s));return yield(0,$6.sendAndConfirmTransaction)(t,d,[e,...c],o)})}F_.disableRequiredMemoTransfers=pPt});var lPe=_(yy=>{"use strict";u();l();Object.defineProperty(yy,"__esModule",{value:!0});yy.getMemoTransfer=yy.MEMO_TRANSFER_SIZE=yy.MemoTransferLayout=void 0;var hPt=Ce(),mPt=gt(),uPe=rl();yy.MemoTransferLayout=(0,hPt.struct)([(0,mPt.bool)("requireIncomingTransferMemos")]);yy.MEMO_TRANSFER_SIZE=yy.MemoTransferLayout.span;function yPt(t){let e=(0,uPe.getExtensionData)(uPe.ExtensionType.MemoTransfer,t.tlvData);return e!==null?yy.MemoTransferLayout.decode(e):null}yy.getMemoTransfer=yPt});var one=_(ub=>{"use strict";u();l();var gPt=ub&&ub.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ine=ub&&ub.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&gPt(e,t,r)};Object.defineProperty(ub,"__esModule",{value:!0});ine(cPe(),ub);ine(nne(),ub);ine(lPe(),ub)});var sne=_(gy=>{"use strict";u();l();Object.defineProperty(gy,"__esModule",{value:!0});gy.getMintCloseAuthority=gy.MINT_CLOSE_AUTHORITY_SIZE=gy.MintCloseAuthorityLayout=void 0;var bPt=Ce(),_Pt=gt(),dPe=rl();gy.MintCloseAuthorityLayout=(0,bPt.struct)([(0,_Pt.publicKey)("closeAuthority")]);gy.MINT_CLOSE_AUTHORITY_SIZE=gy.MintCloseAuthorityLayout.span;function SPt(t){let e=(0,dPe.getExtensionData)(dPe.ExtensionType.MintCloseAuthority,t.tlvData);return e!==null?gy.MintCloseAuthorityLayout.decode(e):null}gy.getMintCloseAuthority=SPt});var ane=_(by=>{"use strict";u();l();Object.defineProperty(by,"__esModule",{value:!0});by.getNonTransferable=by.NON_TRANSFERABLE_SIZE=by.NonTransferableLayout=void 0;var wPt=Ce(),fPe=rl();by.NonTransferableLayout=(0,wPt.struct)([]);by.NON_TRANSFERABLE_SIZE=by.NonTransferableLayout.span;function APt(t){let e=(0,fPe.getExtensionData)(fPe.ExtensionType.NonTransferable,t.tlvData);return e!==null?by.NonTransferableLayout.decode(e):null}by.getNonTransferable=APt});var cne=_(_y=>{"use strict";u();l();Object.defineProperty(_y,"__esModule",{value:!0});_y.getPermanentDelegate=_y.PERMANENT_DELEGATE_SIZE=_y.PermanentDelegateLayout=void 0;var EPt=Ce(),IPt=gt(),pPe=rl();_y.PermanentDelegateLayout=(0,EPt.struct)([(0,IPt.publicKey)("delegate")]);_y.PERMANENT_DELEGATE_SIZE=_y.PermanentDelegateLayout.span;function TPt(t){let e=(0,pPe.getExtensionData)(pPe.ExtensionType.PermanentDelegate,t.tlvData);return e!==null?_y.PermanentDelegateLayout.decode(e):null}_y.getPermanentDelegate=TPt});var lne=_(_t=>{"use strict";u();l();Object.defineProperty(_t,"__esModule",{value:!0});_t.decodeHarvestWithheldTokensToMintInstructionUnchecked=_t.decodeHarvestWithheldTokensToMintInstruction=_t.createHarvestWithheldTokensToMintInstruction=_t.harvestWithheldTokensToMintInstructionData=_t.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=_t.decodeWithdrawWithheldTokensFromAccountsInstruction=_t.createWithdrawWithheldTokensFromAccountsInstruction=_t.withdrawWithheldTokensFromAccountsInstructionData=_t.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=_t.decodeWithdrawWithheldTokensFromMintInstruction=_t.createWithdrawWithheldTokensFromMintInstruction=_t.withdrawWithheldTokensFromMintInstructionData=_t.decodeTransferCheckedWithFeeInstructionUnchecked=_t.decodeTransferCheckedWithFeeInstruction=_t.createTransferCheckedWithFeeInstruction=_t.transferCheckedWithFeeInstructionData=_t.decodeInitializeTransferFeeConfigInstructionUnchecked=_t.decodeInitializeTransferFeeConfigInstruction=_t.createInitializeTransferFeeConfigInstruction=_t.initializeTransferFeeConfigInstructionData=_t.TransferFeeInstruction=void 0;var ys=Ce(),vD=gt(),sE=we(),Sy=yt(),ji=Lr(),une=ms(),wy=on(),hh;(function(t){t[t.InitializeTransferFeeConfig=0]="InitializeTransferFeeConfig",t[t.TransferCheckedWithFee=1]="TransferCheckedWithFee",t[t.WithdrawWithheldTokensFromMint=2]="WithdrawWithheldTokensFromMint",t[t.WithdrawWithheldTokensFromAccounts=3]="WithdrawWithheldTokensFromAccounts",t[t.HarvestWithheldTokensToMint=4]="HarvestWithheldTokensToMint",t[t.SetTransferFee=5]="SetTransferFee"})(hh=_t.TransferFeeInstruction||(_t.TransferFeeInstruction={}));_t.initializeTransferFeeConfigInstructionData=(0,ys.struct)([(0,ys.u8)("instruction"),(0,ys.u8)("transferFeeInstruction"),(0,ys.u8)("transferFeeConfigAuthorityOption"),(0,vD.publicKey)("transferFeeConfigAuthority"),(0,ys.u8)("withdrawWithheldAuthorityOption"),(0,vD.publicKey)("withdrawWithheldAuthority"),(0,ys.u16)("transferFeeBasisPoints"),(0,vD.u64)("maximumFee")]);function kPt(t,e,r,n,i,o=Sy.TOKEN_2022_PROGRAM_ID){if(!(0,Sy.programSupportsExtensions)(o))throw new ji.TokenUnsupportedInstructionError;let s=[{pubkey:t,isSigner:!1,isWritable:!0}],a=Buffer.alloc(_t.initializeTransferFeeConfigInstructionData.span);return _t.initializeTransferFeeConfigInstructionData.encode({instruction:wy.TokenInstruction.TransferFeeExtension,transferFeeInstruction:hh.InitializeTransferFeeConfig,transferFeeConfigAuthorityOption:e?1:0,transferFeeConfigAuthority:e||new sE.PublicKey(0),withdrawWithheldAuthorityOption:r?1:0,withdrawWithheldAuthority:r||new sE.PublicKey(0),transferFeeBasisPoints:n,maximumFee:i},a),new sE.TransactionInstruction({keys:s,programId:o,data:a})}_t.createInitializeTransferFeeConfigInstruction=kPt;function vPt(t,e){if(!t.programId.equals(e))throw new ji.TokenInvalidInstructionProgramError;if(t.data.length!==_t.initializeTransferFeeConfigInstructionData.span)throw new ji.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=hPe(t);if(n.instruction!==wy.TokenInstruction.TransferFeeExtension||n.transferFeeInstruction!==hh.InitializeTransferFeeConfig)throw new ji.TokenInvalidInstructionTypeError;if(!r)throw new ji.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}_t.decodeInitializeTransferFeeConfigInstruction=vPt;function hPe({programId:t,keys:[e],data:r}){let{instruction:n,transferFeeInstruction:i,transferFeeConfigAuthorityOption:o,transferFeeConfigAuthority:s,withdrawWithheldAuthorityOption:a,withdrawWithheldAuthority:c,transferFeeBasisPoints:d,maximumFee:f}=_t.initializeTransferFeeConfigInstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,transferFeeInstruction:i,transferFeeConfigAuthority:o?s:null,withdrawWithheldAuthority:a?c:null,transferFeeBasisPoints:d,maximumFee:f}}}_t.decodeInitializeTransferFeeConfigInstructionUnchecked=hPe;_t.transferCheckedWithFeeInstructionData=(0,ys.struct)([(0,ys.u8)("instruction"),(0,ys.u8)("transferFeeInstruction"),(0,vD.u64)("amount"),(0,ys.u8)("decimals"),(0,vD.u64)("fee")]);function xPt(t,e,r,n,i,o,s,a=[],c=Sy.TOKEN_2022_PROGRAM_ID){if(!(0,Sy.programSupportsExtensions)(c))throw new ji.TokenUnsupportedInstructionError;let d=Buffer.alloc(_t.transferCheckedWithFeeInstructionData.span);_t.transferCheckedWithFeeInstructionData.encode({instruction:wy.TokenInstruction.TransferFeeExtension,transferFeeInstruction:hh.TransferCheckedWithFee,amount:i,decimals:o,fee:s},d);let f=(0,une.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}],n,a);return new sE.TransactionInstruction({keys:f,programId:c,data:d})}_t.createTransferCheckedWithFeeInstruction=xPt;function PPt(t,e){if(!t.programId.equals(e))throw new ji.TokenInvalidInstructionProgramError;if(t.data.length!==_t.transferCheckedWithFeeInstructionData.span)throw new ji.TokenInvalidInstructionDataError;let{keys:{source:r,mint:n,destination:i,authority:o,signers:s},data:a}=mPe(t);if(a.instruction!==wy.TokenInstruction.TransferFeeExtension||a.transferFeeInstruction!==hh.TransferCheckedWithFee)throw new ji.TokenInvalidInstructionTypeError;if(!n)throw new ji.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:r,mint:n,destination:i,authority:o,signers:s||null},data:a}}_t.decodeTransferCheckedWithFeeInstruction=PPt;function mPe({programId:t,keys:[e,r,n,i,...o],data:s}){let{instruction:a,transferFeeInstruction:c,amount:d,decimals:f,fee:p}=_t.transferCheckedWithFeeInstructionData.decode(s);return{programId:t,keys:{source:e,mint:r,destination:n,authority:i,signers:o},data:{instruction:a,transferFeeInstruction:c,amount:d,decimals:f,fee:p}}}_t.decodeTransferCheckedWithFeeInstructionUnchecked=mPe;_t.withdrawWithheldTokensFromMintInstructionData=(0,ys.struct)([(0,ys.u8)("instruction"),(0,ys.u8)("transferFeeInstruction")]);function OPt(t,e,r,n=[],i=Sy.TOKEN_2022_PROGRAM_ID){if(!(0,Sy.programSupportsExtensions)(i))throw new ji.TokenUnsupportedInstructionError;let o=Buffer.alloc(_t.withdrawWithheldTokensFromMintInstructionData.span);_t.withdrawWithheldTokensFromMintInstructionData.encode({instruction:wy.TokenInstruction.TransferFeeExtension,transferFeeInstruction:hh.WithdrawWithheldTokensFromMint},o);let s=(0,une.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,n);return new sE.TransactionInstruction({keys:s,programId:i,data:o})}_t.createWithdrawWithheldTokensFromMintInstruction=OPt;function RPt(t,e){if(!t.programId.equals(e))throw new ji.TokenInvalidInstructionProgramError;if(t.data.length!==_t.withdrawWithheldTokensFromMintInstructionData.span)throw new ji.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,signers:o},data:s}=yPe(t);if(s.instruction!==wy.TokenInstruction.TransferFeeExtension||s.transferFeeInstruction!==hh.WithdrawWithheldTokensFromMint)throw new ji.TokenInvalidInstructionTypeError;if(!r)throw new ji.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,signers:o||null},data:s}}_t.decodeWithdrawWithheldTokensFromMintInstruction=RPt;function yPe({programId:t,keys:[e,r,n,...i],data:o}){let{instruction:s,transferFeeInstruction:a}=_t.withdrawWithheldTokensFromMintInstructionData.decode(o);return{programId:t,keys:{mint:e,destination:r,authority:n,signers:i},data:{instruction:s,transferFeeInstruction:a}}}_t.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=yPe;_t.withdrawWithheldTokensFromAccountsInstructionData=(0,ys.struct)([(0,ys.u8)("instruction"),(0,ys.u8)("transferFeeInstruction"),(0,ys.u8)("numTokenAccounts")]);function CPt(t,e,r,n,i,o=Sy.TOKEN_2022_PROGRAM_ID){if(!(0,Sy.programSupportsExtensions)(o))throw new ji.TokenUnsupportedInstructionError;let s=Buffer.alloc(_t.withdrawWithheldTokensFromAccountsInstructionData.span);_t.withdrawWithheldTokensFromAccountsInstructionData.encode({instruction:wy.TokenInstruction.TransferFeeExtension,transferFeeInstruction:hh.WithdrawWithheldTokensFromAccounts,numTokenAccounts:i.length},s);let a=(0,une.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,n);for(let c of i)a.push({pubkey:c,isSigner:!1,isWritable:!0});return new sE.TransactionInstruction({keys:a,programId:o,data:s})}_t.createWithdrawWithheldTokensFromAccountsInstruction=CPt;function BPt(t,e){if(!t.programId.equals(e))throw new ji.TokenInvalidInstructionProgramError;if(t.data.length!==_t.withdrawWithheldTokensFromAccountsInstructionData.span)throw new ji.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,signers:o,sources:s},data:a}=gPe(t);if(a.instruction!==wy.TokenInstruction.TransferFeeExtension||a.transferFeeInstruction!==hh.WithdrawWithheldTokensFromAccounts)throw new ji.TokenInvalidInstructionTypeError;if(!r)throw new ji.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,signers:o||null,sources:s||null},data:a}}_t.decodeWithdrawWithheldTokensFromAccountsInstruction=BPt;function gPe({programId:t,keys:e,data:r}){let{instruction:n,transferFeeInstruction:i,numTokenAccounts:o}=_t.withdrawWithheldTokensFromAccountsInstructionData.decode(r),[s,a,c,d,f]=[e[0],e[1],e[2],e.slice(3,3+o),e.slice(-1*o)];return{programId:t,keys:{mint:s,destination:a,authority:c,signers:d,sources:f},data:{instruction:n,transferFeeInstruction:i,numTokenAccounts:o}}}_t.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=gPe;_t.harvestWithheldTokensToMintInstructionData=(0,ys.struct)([(0,ys.u8)("instruction"),(0,ys.u8)("transferFeeInstruction")]);function MPt(t,e,r=Sy.TOKEN_2022_PROGRAM_ID){if(!(0,Sy.programSupportsExtensions)(r))throw new ji.TokenUnsupportedInstructionError;let n=Buffer.alloc(_t.harvestWithheldTokensToMintInstructionData.span);_t.harvestWithheldTokensToMintInstructionData.encode({instruction:wy.TokenInstruction.TransferFeeExtension,transferFeeInstruction:hh.HarvestWithheldTokensToMint},n);let i=[];i.push({pubkey:t,isSigner:!1,isWritable:!0});for(let o of e)i.push({pubkey:o,isSigner:!1,isWritable:!0});return new sE.TransactionInstruction({keys:i,programId:r,data:n})}_t.createHarvestWithheldTokensToMintInstruction=MPt;function NPt(t,e){if(!t.programId.equals(e))throw new ji.TokenInvalidInstructionProgramError;if(t.data.length!==_t.harvestWithheldTokensToMintInstructionData.span)throw new ji.TokenInvalidInstructionDataError;let{keys:{mint:r,sources:n},data:i}=bPe(t);if(i.instruction!==wy.TokenInstruction.TransferFeeExtension||i.transferFeeInstruction!==hh.HarvestWithheldTokensToMint)throw new ji.TokenInvalidInstructionTypeError;if(!r)throw new ji.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,sources:n},data:i}}_t.decodeHarvestWithheldTokensToMintInstruction=NPt;function bPe({programId:t,keys:[e,...r],data:n}){let{instruction:i,transferFeeInstruction:o}=_t.harvestWithheldTokensToMintInstructionData.decode(n);return{programId:t,keys:{mint:e,sources:r},data:{instruction:i,transferFeeInstruction:o}}}_t.decodeHarvestWithheldTokensToMintInstructionUnchecked=bPe});var _Pe=_(Qf=>{"use strict";u();l();var Y6=Qf&&Qf.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.harvestWithheldTokensToMint=Qf.withdrawWithheldTokensFromAccounts=Qf.withdrawWithheldTokensFromMint=Qf.transferCheckedWithFee=void 0;var q_=we(),dne=xs(),X6=yt(),Z6=lne();function DPt(t,e,r,n,i,o,s,a,c,d=[],f,p=X6.TOKEN_2022_PROGRAM_ID){return Y6(this,void 0,void 0,function*(){let[m,y]=(0,dne.getSigners)(o,d),g=new q_.Transaction().add((0,Z6.createTransferCheckedWithFeeInstruction)(r,n,i,m,s,a,c,d,p));return yield(0,q_.sendAndConfirmTransaction)(t,g,[e,...y],f)})}Qf.transferCheckedWithFee=DPt;function UPt(t,e,r,n,i,o=[],s,a=X6.TOKEN_2022_PROGRAM_ID){return Y6(this,void 0,void 0,function*(){let[c,d]=(0,dne.getSigners)(i,o),f=new q_.Transaction().add((0,Z6.createWithdrawWithheldTokensFromMintInstruction)(r,n,c,d,a));return yield(0,q_.sendAndConfirmTransaction)(t,f,[e,...d],s)})}Qf.withdrawWithheldTokensFromMint=UPt;function LPt(t,e,r,n,i,o,s,a,c=X6.TOKEN_2022_PROGRAM_ID){return Y6(this,void 0,void 0,function*(){let[d,f]=(0,dne.getSigners)(i,o),p=new q_.Transaction().add((0,Z6.createWithdrawWithheldTokensFromAccountsInstruction)(r,n,d,f,s,c));return yield(0,q_.sendAndConfirmTransaction)(t,p,[e,...f],a)})}Qf.withdrawWithheldTokensFromAccounts=LPt;function zPt(t,e,r,n,i,o=X6.TOKEN_2022_PROGRAM_ID){return Y6(this,void 0,void 0,function*(){let s=new q_.Transaction().add((0,Z6.createHarvestWithheldTokensToMintInstruction)(r,n,o));return yield(0,q_.sendAndConfirmTransaction)(t,s,[e],i)})}Qf.harvestWithheldTokensToMint=zPt});var SPe=_(Ki=>{"use strict";u();l();Object.defineProperty(Ki,"__esModule",{value:!0});Ki.getTransferFeeAmount=Ki.getTransferFeeConfig=Ki.TRANSFER_FEE_AMOUNT_SIZE=Ki.TransferFeeAmountLayout=Ki.TRANSFER_FEE_CONFIG_SIZE=Ki.TransferFeeConfigLayout=Ki.transferFeeLayout=Ki.ONE_IN_BASIS_POINTS=Ki.MAX_FEE_BASIS_POINTS=void 0;var J6=Ce(),Z1=gt(),Q6=rl();Ki.MAX_FEE_BASIS_POINTS=1e4;Ki.ONE_IN_BASIS_POINTS=Ki.MAX_FEE_BASIS_POINTS;function fne(t){return(0,J6.struct)([(0,Z1.u64)("epoch"),(0,Z1.u64)("maximumFee"),(0,J6.u16)("transferFeeBasisPoints")],t)}Ki.transferFeeLayout=fne;Ki.TransferFeeConfigLayout=(0,J6.struct)([(0,Z1.publicKey)("transferFeeConfigAuthority"),(0,Z1.publicKey)("withdrawWithheldAuthority"),(0,Z1.u64)("withheldAmount"),fne("olderTransferFee"),fne("newerTransferFee")]);Ki.TRANSFER_FEE_CONFIG_SIZE=Ki.TransferFeeConfigLayout.span;Ki.TransferFeeAmountLayout=(0,J6.struct)([(0,Z1.u64)("withheldAmount")]);Ki.TRANSFER_FEE_AMOUNT_SIZE=Ki.TransferFeeAmountLayout.span;function FPt(t){let e=(0,Q6.getExtensionData)(Q6.ExtensionType.TransferFeeConfig,t.tlvData);return e!==null?Ki.TransferFeeConfigLayout.decode(e):null}Ki.getTransferFeeConfig=FPt;function qPt(t){let e=(0,Q6.getExtensionData)(Q6.ExtensionType.TransferFeeAmount,t.tlvData);return e!==null?Ki.TransferFeeAmountLayout.decode(e):null}Ki.getTransferFeeAmount=qPt});var hne=_(lb=>{"use strict";u();l();var jPt=lb&&lb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pne=lb&&lb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&jPt(e,t,r)};Object.defineProperty(lb,"__esModule",{value:!0});pne(_Pe(),lb);pne(lne(),lb);pne(SPe(),lb)});var rl=_(Hr=>{"use strict";u();l();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.getAccountLenForMint=Hr.getExtensionTypes=Hr.getExtensionData=Hr.getAccountLen=Hr.getMintLen=Hr.getAccountTypeOfMintType=Hr.isAccountExtension=Hr.isMintExtension=Hr.getTypeLen=Hr.LENGTH_SIZE=Hr.TYPE_SIZE=Hr.ExtensionType=void 0;var APe=Y1(),KPt=sb(),WPt=$1(),VPt=ED(),GPt=Hre(),HPt=Zre(),$Pt=Jre(),YPt=Qre(),XPt=one(),ZPt=sne(),JPt=ane(),QPt=cne(),wPe=hne(),Ct;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.TransferFeeConfig=1]="TransferFeeConfig",t[t.TransferFeeAmount=2]="TransferFeeAmount",t[t.MintCloseAuthority=3]="MintCloseAuthority",t[t.ConfidentialTransferMint=4]="ConfidentialTransferMint",t[t.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",t[t.DefaultAccountState=6]="DefaultAccountState",t[t.ImmutableOwner=7]="ImmutableOwner",t[t.MemoTransfer=8]="MemoTransfer",t[t.NonTransferable=9]="NonTransferable",t[t.InterestBearingConfig=10]="InterestBearingConfig",t[t.CpiGuard=11]="CpiGuard",t[t.PermanentDelegate=12]="PermanentDelegate"})(Ct=Hr.ExtensionType||(Hr.ExtensionType={}));Hr.TYPE_SIZE=2;Hr.LENGTH_SIZE=2;function EPe(t){switch(t){case Ct.Uninitialized:return 0;case Ct.TransferFeeConfig:return wPe.TRANSFER_FEE_CONFIG_SIZE;case Ct.TransferFeeAmount:return wPe.TRANSFER_FEE_AMOUNT_SIZE;case Ct.MintCloseAuthority:return ZPt.MINT_CLOSE_AUTHORITY_SIZE;case Ct.ConfidentialTransferMint:return 97;case Ct.ConfidentialTransferAccount:return 286;case Ct.CpiGuard:return GPt.CPI_GUARD_SIZE;case Ct.DefaultAccountState:return HPt.DEFAULT_ACCOUNT_STATE_SIZE;case Ct.ImmutableOwner:return $Pt.IMMUTABLE_OWNER_SIZE;case Ct.MemoTransfer:return XPt.MEMO_TRANSFER_SIZE;case Ct.NonTransferable:return JPt.NON_TRANSFERABLE_SIZE;case Ct.InterestBearingConfig:return YPt.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE;case Ct.PermanentDelegate:return QPt.PERMANENT_DELEGATE_SIZE;default:throw Error(`Unknown extension type: ${t}`)}}Hr.getTypeLen=EPe;function eOt(t){switch(t){case Ct.TransferFeeConfig:case Ct.MintCloseAuthority:case Ct.ConfidentialTransferMint:case Ct.DefaultAccountState:case Ct.NonTransferable:case Ct.InterestBearingConfig:case Ct.PermanentDelegate:return!0;case Ct.Uninitialized:case Ct.TransferFeeAmount:case Ct.ConfidentialTransferAccount:case Ct.ImmutableOwner:case Ct.MemoTransfer:case Ct.CpiGuard:return!1;default:throw Error(`Unknown extension type: ${t}`)}}Hr.isMintExtension=eOt;function tOt(t){switch(t){case Ct.TransferFeeAmount:case Ct.ConfidentialTransferAccount:case Ct.ImmutableOwner:case Ct.MemoTransfer:case Ct.CpiGuard:return!0;case Ct.Uninitialized:case Ct.TransferFeeConfig:case Ct.MintCloseAuthority:case Ct.ConfidentialTransferMint:case Ct.DefaultAccountState:case Ct.NonTransferable:case Ct.InterestBearingConfig:case Ct.PermanentDelegate:return!1;default:throw Error(`Unknown extension type: ${t}`)}}Hr.isAccountExtension=tOt;function IPe(t){switch(t){case Ct.TransferFeeConfig:return Ct.TransferFeeAmount;case Ct.ConfidentialTransferMint:return Ct.ConfidentialTransferAccount;case Ct.TransferFeeAmount:case Ct.ConfidentialTransferAccount:case Ct.CpiGuard:case Ct.DefaultAccountState:case Ct.ImmutableOwner:case Ct.MemoTransfer:case Ct.MintCloseAuthority:case Ct.NonTransferable:case Ct.Uninitialized:case Ct.InterestBearingConfig:case Ct.PermanentDelegate:return Ct.Uninitialized}}Hr.getAccountTypeOfMintType=IPe;function TPe(t,e){if(t.length===0)return e;{let r=APe.ACCOUNT_SIZE+VPt.ACCOUNT_TYPE_SIZE+t.filter((n,i)=>i===t.indexOf(n)).map(n=>EPe(n)+Hr.TYPE_SIZE+Hr.LENGTH_SIZE).reduce((n,i)=>n+i);return r===WPt.MULTISIG_SIZE?r+Hr.TYPE_SIZE:r}}function rOt(t){return TPe(t,KPt.MINT_SIZE)}Hr.getMintLen=rOt;function kPe(t){return TPe(t,APe.ACCOUNT_SIZE)}Hr.getAccountLen=kPe;function nOt(t,e){let r=0;for(;r+Hr.TYPE_SIZE+Hr.LENGTH_SIZE<=e.length;){let n=e.readUInt16LE(r),i=e.readUInt16LE(r+Hr.TYPE_SIZE),o=r+Hr.TYPE_SIZE+Hr.LENGTH_SIZE;if(n==t)return e.slice(o,o+i);r=o+i}return null}Hr.getExtensionData=nOt;function vPe(t){let e=[],r=0;for(;r<t.length;){let n=t.readUInt16LE(r);e.push(n);let i=t.readUInt16LE(r+Hr.TYPE_SIZE);r+=Hr.TYPE_SIZE+Hr.LENGTH_SIZE+i}return e}Hr.getExtensionTypes=vPe;function iOt(t){let r=vPe(t.tlvData).map(IPe);return kPe(r)}Hr.getAccountLenForMint=iOt});var xD=_(Ll=>{"use strict";u();l();Object.defineProperty(Ll,"__esModule",{value:!0});Ll.decodeInitializeAccountInstructionUnchecked=Ll.decodeInitializeAccountInstruction=Ll.createInitializeAccountInstruction=Ll.initializeAccountInstructionData=void 0;var xPe=Ce(),PPe=we(),OPe=yt(),eK=Lr(),RPe=on();Ll.initializeAccountInstructionData=(0,xPe.struct)([(0,xPe.u8)("instruction")]);function oOt(t,e,r,n=OPe.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:PPe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],o=Buffer.alloc(Ll.initializeAccountInstructionData.span);return Ll.initializeAccountInstructionData.encode({instruction:RPe.TokenInstruction.InitializeAccount},o),new PPe.TransactionInstruction({keys:i,programId:n,data:o})}Ll.createInitializeAccountInstruction=oOt;function sOt(t,e=OPe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new eK.TokenInvalidInstructionProgramError;if(t.data.length!==Ll.initializeAccountInstructionData.span)throw new eK.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,owner:i,rent:o},data:s}=CPe(t);if(s.instruction!==RPe.TokenInstruction.InitializeAccount)throw new eK.TokenInvalidInstructionTypeError;if(!r||!n||!i||!o)throw new eK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,owner:i,rent:o},data:s}}Ll.decodeInitializeAccountInstruction=sOt;function CPe({programId:t,keys:[e,r,n,i],data:o}){return{programId:t,keys:{account:e,mint:r,owner:n,rent:i},data:Ll.initializeAccountInstructionData.decode(o)}}Ll.decodeInitializeAccountInstructionUnchecked=CPe});var ek=_(Q1=>{"use strict";u();l();Object.defineProperty(Q1,"__esModule",{value:!0});Q1.createAssociatedTokenAccountIdempotentInstruction=Q1.createAssociatedTokenAccountInstruction=void 0;var BPe=we(),J1=yt();function aOt(t,e,r,n,i=J1.TOKEN_PROGRAM_ID,o=J1.ASSOCIATED_TOKEN_PROGRAM_ID){return MPe(t,e,r,n,Buffer.alloc(0),i,o)}Q1.createAssociatedTokenAccountInstruction=aOt;function cOt(t,e,r,n,i=J1.TOKEN_PROGRAM_ID,o=J1.ASSOCIATED_TOKEN_PROGRAM_ID){return MPe(t,e,r,n,Buffer.from([1]),i,o)}Q1.createAssociatedTokenAccountIdempotentInstruction=cOt;function MPe(t,e,r,n,i,o=J1.TOKEN_PROGRAM_ID,s=J1.ASSOCIATED_TOKEN_PROGRAM_ID){let a=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:BPe.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new BPe.TransactionInstruction({keys:a,programId:s,data:i})}});var mne=_(tk=>{"use strict";u();l();var uOt=tk&&tk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(tk,"__esModule",{value:!0});tk.createAssociatedTokenAccount=void 0;var NPe=we(),DPe=yt(),lOt=ek(),dOt=sb();function fOt(t,e,r,n,i,o=DPe.TOKEN_PROGRAM_ID,s=DPe.ASSOCIATED_TOKEN_PROGRAM_ID){return uOt(this,void 0,void 0,function*(){let a=yield(0,dOt.getAssociatedTokenAddress)(r,n,!1,o,s),c=new NPe.Transaction().add((0,lOt.createAssociatedTokenAccountInstruction)(e.publicKey,a,n,r,o,s));return yield(0,NPe.sendAndConfirmTransaction)(t,c,[e],i),a})}tk.createAssociatedTokenAccount=fOt});var gne=_(rk=>{"use strict";u();l();var pOt=rk&&rk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(rk,"__esModule",{value:!0});rk.createAccount=void 0;var yne=we(),hOt=yt(),mOt=rl(),yOt=xD(),gOt=sb(),bOt=mne();function _Ot(t,e,r,n,i,o,s=hOt.TOKEN_PROGRAM_ID){return pOt(this,void 0,void 0,function*(){if(!i)return yield(0,bOt.createAssociatedTokenAccount)(t,e,r,n,o,s);let a=yield(0,gOt.getMint)(t,r,o?.commitment,s),c=(0,mOt.getAccountLenForMint)(a),d=yield t.getMinimumBalanceForRentExemption(c),f=new yne.Transaction().add(yne.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:i.publicKey,space:c,lamports:d,programId:s}),(0,yOt.createInitializeAccountInstruction)(i.publicKey,r,n,s));return yield(0,yne.sendAndConfirmTransaction)(t,f,[e,i],o),i.publicKey})}rk.createAccount=_Ot});var zPe=_(nk=>{"use strict";u();l();var SOt=nk&&nk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(nk,"__esModule",{value:!0});nk.createAssociatedTokenAccountIdempotent=void 0;var UPe=we(),LPe=yt(),wOt=ek(),AOt=sb();function EOt(t,e,r,n,i,o=LPe.TOKEN_PROGRAM_ID,s=LPe.ASSOCIATED_TOKEN_PROGRAM_ID){return SOt(this,void 0,void 0,function*(){let a=yield(0,AOt.getAssociatedTokenAddress)(r,n,!1,o,s),c=new UPe.Transaction().add((0,wOt.createAssociatedTokenAccountIdempotentInstruction)(e.publicKey,a,n,r,o,s));return yield(0,UPe.sendAndConfirmTransaction)(t,c,[e],i),a})}nk.createAssociatedTokenAccountIdempotent=EOt});var nK=_(zl=>{"use strict";u();l();Object.defineProperty(zl,"__esModule",{value:!0});zl.decodeInitializeMint2InstructionUnchecked=zl.decodeInitializeMint2Instruction=zl.createInitializeMint2Instruction=zl.initializeMint2InstructionData=void 0;var tK=Ce(),FPe=gt(),qPe=we(),jPe=yt(),rK=Lr(),KPe=on();zl.initializeMint2InstructionData=(0,tK.struct)([(0,tK.u8)("instruction"),(0,tK.u8)("decimals"),(0,FPe.publicKey)("mintAuthority"),(0,tK.u8)("freezeAuthorityOption"),(0,FPe.publicKey)("freezeAuthority")]);function IOt(t,e,r,n,i=jPe.TOKEN_PROGRAM_ID){let o=[{pubkey:t,isSigner:!1,isWritable:!0}],s=Buffer.alloc(zl.initializeMint2InstructionData.span);return zl.initializeMint2InstructionData.encode({instruction:KPe.TokenInstruction.InitializeMint2,decimals:e,mintAuthority:r,freezeAuthorityOption:n?1:0,freezeAuthority:n||new qPe.PublicKey(0)},s),new qPe.TransactionInstruction({keys:o,programId:i,data:s})}zl.createInitializeMint2Instruction=IOt;function TOt(t,e=jPe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new rK.TokenInvalidInstructionProgramError;if(t.data.length!==zl.initializeMint2InstructionData.span)throw new rK.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=WPe(t);if(n.instruction!==KPe.TokenInstruction.InitializeMint2)throw new rK.TokenInvalidInstructionTypeError;if(!r)throw new rK.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}zl.decodeInitializeMint2Instruction=TOt;function WPe({programId:t,keys:[e],data:r}){let{instruction:n,decimals:i,mintAuthority:o,freezeAuthorityOption:s,freezeAuthority:a}=zl.initializeMint2InstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,decimals:i,mintAuthority:o,freezeAuthority:s?a:null}}}zl.decodeInitializeMint2InstructionUnchecked=WPe});var GPe=_(ik=>{"use strict";u();l();var kOt=ik&&ik.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ik,"__esModule",{value:!0});ik.createMint=void 0;var iK=we(),vOt=yt(),xOt=nK(),VPe=sb();function POt(t,e,r,n,i,o=iK.Keypair.generate(),s,a=vOt.TOKEN_PROGRAM_ID){return kOt(this,void 0,void 0,function*(){let c=yield(0,VPe.getMinimumBalanceForRentExemptMint)(t),d=new iK.Transaction().add(iK.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:o.publicKey,space:VPe.MINT_SIZE,lamports:c,programId:a}),(0,xOt.createInitializeMint2Instruction)(o.publicKey,i,r,n,a));return yield(0,iK.sendAndConfirmTransaction)(t,d,[e,o],s),o.publicKey})}ik.createMint=POt});var sK=_(Fl=>{"use strict";u();l();Object.defineProperty(Fl,"__esModule",{value:!0});Fl.decodeInitializeMultisigInstructionUnchecked=Fl.decodeInitializeMultisigInstruction=Fl.createInitializeMultisigInstruction=Fl.initializeMultisigInstructionData=void 0;var bne=Ce(),_ne=we(),HPe=yt(),oK=Lr(),$Pe=on();Fl.initializeMultisigInstructionData=(0,bne.struct)([(0,bne.u8)("instruction"),(0,bne.u8)("m")]);function OOt(t,e,r,n=HPe.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:_ne.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];for(let s of e)i.push({pubkey:s instanceof _ne.PublicKey?s:s.publicKey,isSigner:!1,isWritable:!1});let o=Buffer.alloc(Fl.initializeMultisigInstructionData.span);return Fl.initializeMultisigInstructionData.encode({instruction:$Pe.TokenInstruction.InitializeMultisig,m:r},o),new _ne.TransactionInstruction({keys:i,programId:n,data:o})}Fl.createInitializeMultisigInstruction=OOt;function ROt(t,e=HPe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new oK.TokenInvalidInstructionProgramError;if(t.data.length!==Fl.initializeMultisigInstructionData.span)throw new oK.TokenInvalidInstructionDataError;let{keys:{account:r,rent:n,signers:i},data:o}=YPe(t);if(o.instruction!==$Pe.TokenInstruction.InitializeMultisig)throw new oK.TokenInvalidInstructionTypeError;if(!r||!n||!i.length)throw new oK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,rent:n,signers:i},data:o}}Fl.decodeInitializeMultisigInstruction=ROt;function YPe({programId:t,keys:[e,r,...n],data:i}){return{programId:t,keys:{account:e,rent:r,signers:n},data:Fl.initializeMultisigInstructionData.decode(i)}}Fl.decodeInitializeMultisigInstructionUnchecked=YPe});var ZPe=_(ok=>{"use strict";u();l();var COt=ok&&ok.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ok,"__esModule",{value:!0});ok.createMultisig=void 0;var aK=we(),BOt=yt(),MOt=sK(),XPe=$1();function NOt(t,e,r,n,i=aK.Keypair.generate(),o,s=BOt.TOKEN_PROGRAM_ID){return COt(this,void 0,void 0,function*(){let a=yield(0,XPe.getMinimumBalanceForRentExemptMultisig)(t),c=new aK.Transaction().add(aK.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:i.publicKey,space:XPe.MULTISIG_SIZE,lamports:a,programId:s}),(0,MOt.createInitializeMultisigInstruction)(i.publicKey,r,n,s));return yield(0,aK.sendAndConfirmTransaction)(t,c,[e,i],o),i.publicKey})}ok.createMultisig=NOt});var wne=_(j_=>{"use strict";u();l();Object.defineProperty(j_,"__esModule",{value:!0});j_.createCreateNativeMintInstruction=j_.createNativeMintInstructionData=void 0;var JPe=Ce(),QPe=we(),Sne=yt(),DOt=Lr(),UOt=on();j_.createNativeMintInstructionData=(0,JPe.struct)([(0,JPe.u8)("instruction")]);function LOt(t,e=Sne.NATIVE_MINT_2022,r=Sne.TOKEN_2022_PROGRAM_ID){if(!(0,Sne.programSupportsExtensions)(r))throw new DOt.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:QPe.SystemProgram.programId,isSigner:!1,isWritable:!1}],i=Buffer.alloc(j_.createNativeMintInstructionData.span);return j_.createNativeMintInstructionData.encode({instruction:UOt.TokenInstruction.CreateNativeMint},i),new QPe.TransactionInstruction({keys:n,programId:r,data:i})}j_.createCreateNativeMintInstruction=LOt});var rOe=_(sk=>{"use strict";u();l();var zOt=sk&&sk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(sk,"__esModule",{value:!0});sk.createNativeMint=void 0;var eOe=we(),tOe=yt(),FOt=wne();function qOt(t,e,r,n=tOe.NATIVE_MINT_2022,i=tOe.TOKEN_2022_PROGRAM_ID){return zOt(this,void 0,void 0,function*(){let o=new eOe.Transaction().add((0,FOt.createCreateNativeMintInstruction)(e.publicKey,n,i));yield(0,eOe.sendAndConfirmTransaction)(t,o,[e],r)})}sk.createNativeMint=qOt});var PD=_(ql=>{"use strict";u();l();Object.defineProperty(ql,"__esModule",{value:!0});ql.decodeSyncNativeInstructionUnchecked=ql.decodeSyncNativeInstruction=ql.createSyncNativeInstruction=ql.syncNativeInstructionData=void 0;var nOe=Ce(),jOt=we(),iOe=yt(),cK=Lr(),oOe=on();ql.syncNativeInstructionData=(0,nOe.struct)([(0,nOe.u8)("instruction")]);function KOt(t,e=iOe.TOKEN_PROGRAM_ID){let r=[{pubkey:t,isSigner:!1,isWritable:!0}],n=Buffer.alloc(ql.syncNativeInstructionData.span);return ql.syncNativeInstructionData.encode({instruction:oOe.TokenInstruction.SyncNative},n),new jOt.TransactionInstruction({keys:r,programId:e,data:n})}ql.createSyncNativeInstruction=KOt;function WOt(t,e=iOe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new cK.TokenInvalidInstructionProgramError;if(t.data.length!==ql.syncNativeInstructionData.span)throw new cK.TokenInvalidInstructionDataError;let{keys:{account:r},data:n}=sOe(t);if(n.instruction!==oOe.TokenInstruction.SyncNative)throw new cK.TokenInvalidInstructionTypeError;if(!r)throw new cK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r},data:n}}ql.decodeSyncNativeInstruction=WOt;function sOe({programId:t,keys:[e],data:r}){return{programId:t,keys:{account:e},data:ql.syncNativeInstructionData.decode(r)}}ql.decodeSyncNativeInstructionUnchecked=sOe});var cOe=_(ak=>{"use strict";u();l();var VOt=ak&&ak.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ak,"__esModule",{value:!0});ak.createWrappedNativeAccount=void 0;var aE=we(),uK=yt(),GOt=ek(),HOt=xD(),$Ot=PD(),aOe=Y1(),YOt=sb(),XOt=gne();function ZOt(t,e,r,n,i,o,s=uK.TOKEN_PROGRAM_ID,a=uK.NATIVE_MINT){return VOt(this,void 0,void 0,function*(){if(!n)return yield(0,XOt.createAccount)(t,e,a,r,i,o,s);if(!i){let f=yield(0,YOt.getAssociatedTokenAddress)(a,r,!1,s,uK.ASSOCIATED_TOKEN_PROGRAM_ID),p=new aE.Transaction().add((0,GOt.createAssociatedTokenAccountInstruction)(e.publicKey,f,r,a,s,uK.ASSOCIATED_TOKEN_PROGRAM_ID),aE.SystemProgram.transfer({fromPubkey:e.publicKey,toPubkey:f,lamports:n}),(0,$Ot.createSyncNativeInstruction)(f,s));return yield(0,aE.sendAndConfirmTransaction)(t,p,[e],o),f}let c=yield(0,aOe.getMinimumBalanceForRentExemptAccount)(t),d=new aE.Transaction().add(aE.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:i.publicKey,space:aOe.ACCOUNT_SIZE,lamports:c,programId:s}),aE.SystemProgram.transfer({fromPubkey:e.publicKey,toPubkey:i.publicKey,lamports:n}),(0,HOt.createInitializeAccountInstruction)(i.publicKey,a,r,s));return yield(0,aE.sendAndConfirmTransaction)(t,d,[e,i],o),i.publicKey})}ak.createWrappedNativeAccount=ZOt});var dK=_(jl=>{"use strict";u();l();Object.defineProperty(jl,"__esModule",{value:!0});jl.decodeFreezeAccountInstructionUnchecked=jl.decodeFreezeAccountInstruction=jl.createFreezeAccountInstruction=jl.freezeAccountInstructionData=void 0;var uOe=Ce(),JOt=we(),lOe=yt(),lK=Lr(),QOt=ms(),dOe=on();jl.freezeAccountInstructionData=(0,uOe.struct)([(0,uOe.u8)("instruction")]);function eRt(t,e,r,n=[],i=lOe.TOKEN_PROGRAM_ID){let o=(0,QOt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],r,n),s=Buffer.alloc(jl.freezeAccountInstructionData.span);return jl.freezeAccountInstructionData.encode({instruction:dOe.TokenInstruction.FreezeAccount},s),new JOt.TransactionInstruction({keys:o,programId:i,data:s})}jl.createFreezeAccountInstruction=eRt;function tRt(t,e=lOe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new lK.TokenInvalidInstructionProgramError;if(t.data.length!==jl.freezeAccountInstructionData.span)throw new lK.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}=fOe(t);if(s.instruction!==dOe.TokenInstruction.FreezeAccount)throw new lK.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new lK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}}jl.decodeFreezeAccountInstruction=tRt;function fOe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,authority:n,multiSigners:i},data:jl.freezeAccountInstructionData.decode(o)}}jl.decodeFreezeAccountInstructionUnchecked=fOe});var hOe=_(ck=>{"use strict";u();l();var rRt=ck&&ck.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ck,"__esModule",{value:!0});ck.freezeAccount=void 0;var pOe=we(),nRt=yt(),iRt=dK(),oRt=xs();function sRt(t,e,r,n,i,o=[],s,a=nRt.TOKEN_PROGRAM_ID){return rRt(this,void 0,void 0,function*(){let[c,d]=(0,oRt.getSigners)(i,o),f=new pOe.Transaction().add((0,iRt.createFreezeAccountInstruction)(r,n,c,o,a));return yield(0,pOe.sendAndConfirmTransaction)(t,f,[e,...d],s)})}ck.freezeAccount=sRt});var bOe=_(uk=>{"use strict";u();l();var aRt=uk&&uk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(uk,"__esModule",{value:!0});uk.getOrCreateAssociatedTokenAccount=void 0;var mOe=we(),yOe=yt(),fK=Lr(),cRt=ek(),gOe=Y1(),uRt=sb();function lRt(t,e,r,n,i=!1,o,s,a=yOe.TOKEN_PROGRAM_ID,c=yOe.ASSOCIATED_TOKEN_PROGRAM_ID){return aRt(this,void 0,void 0,function*(){let d=yield(0,uRt.getAssociatedTokenAddress)(r,n,i,a,c),f;try{f=yield(0,gOe.getAccount)(t,d,o,a)}catch(p){if(p instanceof fK.TokenAccountNotFoundError||p instanceof fK.TokenInvalidAccountOwnerError){try{let m=new mOe.Transaction().add((0,cRt.createAssociatedTokenAccountInstruction)(e.publicKey,d,n,r,a,c));yield(0,mOe.sendAndConfirmTransaction)(t,m,[e],s)}catch{}f=yield(0,gOe.getAccount)(t,d,o,a)}else throw p}if(!f.mint.equals(r))throw new fK.TokenInvalidMintError;if(!f.owner.equals(n))throw new fK.TokenInvalidOwnerError;return f})}uk.getOrCreateAssociatedTokenAccount=lRt});var hK=_(Kl=>{"use strict";u();l();Object.defineProperty(Kl,"__esModule",{value:!0});Kl.decodeMintToInstructionUnchecked=Kl.decodeMintToInstruction=Kl.createMintToInstruction=Kl.mintToInstructionData=void 0;var _Oe=Ce(),dRt=gt(),fRt=we(),SOe=yt(),pK=Lr(),pRt=ms(),wOe=on();Kl.mintToInstructionData=(0,_Oe.struct)([(0,_Oe.u8)("instruction"),(0,dRt.u64)("amount")]);function hRt(t,e,r,n,i=[],o=SOe.TOKEN_PROGRAM_ID){let s=(0,pRt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,i),a=Buffer.alloc(Kl.mintToInstructionData.span);return Kl.mintToInstructionData.encode({instruction:wOe.TokenInstruction.MintTo,amount:BigInt(n)},a),new fRt.TransactionInstruction({keys:s,programId:o,data:a})}Kl.createMintToInstruction=hRt;function mRt(t,e=SOe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new pK.TokenInvalidInstructionProgramError;if(t.data.length!==Kl.mintToInstructionData.span)throw new pK.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}=AOe(t);if(s.instruction!==wOe.TokenInstruction.MintTo)throw new pK.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new pK.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}}Kl.decodeMintToInstruction=mRt;function AOe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{mint:e,destination:r,authority:n,multiSigners:i},data:Kl.mintToInstructionData.decode(o)}}Kl.decodeMintToInstructionUnchecked=AOe});var IOe=_(lk=>{"use strict";u();l();var yRt=lk&&lk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(lk,"__esModule",{value:!0});lk.mintTo=void 0;var EOe=we(),gRt=yt(),bRt=hK(),_Rt=xs();function SRt(t,e,r,n,i,o,s=[],a,c=gRt.TOKEN_PROGRAM_ID){return yRt(this,void 0,void 0,function*(){let[d,f]=(0,_Rt.getSigners)(i,s),p=new EOe.Transaction().add((0,bRt.createMintToInstruction)(r,n,d,o,s,c));return yield(0,EOe.sendAndConfirmTransaction)(t,p,[e,...f],a)})}lk.mintTo=SRt});var yK=_(Wl=>{"use strict";u();l();Object.defineProperty(Wl,"__esModule",{value:!0});Wl.decodeMintToCheckedInstructionUnchecked=Wl.decodeMintToCheckedInstruction=Wl.createMintToCheckedInstruction=Wl.mintToCheckedInstructionData=void 0;var Ane=Ce(),wRt=gt(),ARt=we(),TOe=yt(),mK=Lr(),ERt=ms(),kOe=on();Wl.mintToCheckedInstructionData=(0,Ane.struct)([(0,Ane.u8)("instruction"),(0,wRt.u64)("amount"),(0,Ane.u8)("decimals")]);function IRt(t,e,r,n,i,o=[],s=TOe.TOKEN_PROGRAM_ID){let a=(0,ERt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,o),c=Buffer.alloc(Wl.mintToCheckedInstructionData.span);return Wl.mintToCheckedInstructionData.encode({instruction:kOe.TokenInstruction.MintToChecked,amount:BigInt(n),decimals:i},c),new ARt.TransactionInstruction({keys:a,programId:s,data:c})}Wl.createMintToCheckedInstruction=IRt;function TRt(t,e=TOe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new mK.TokenInvalidInstructionProgramError;if(t.data.length!==Wl.mintToCheckedInstructionData.span)throw new mK.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}=vOe(t);if(s.instruction!==kOe.TokenInstruction.MintToChecked)throw new mK.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new mK.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}}Wl.decodeMintToCheckedInstruction=TRt;function vOe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{mint:e,destination:r,authority:n,multiSigners:i},data:Wl.mintToCheckedInstructionData.decode(o)}}Wl.decodeMintToCheckedInstructionUnchecked=vOe});var POe=_(dk=>{"use strict";u();l();var kRt=dk&&dk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(dk,"__esModule",{value:!0});dk.mintToChecked=void 0;var xOe=we(),vRt=yt(),xRt=yK(),PRt=xs();function ORt(t,e,r,n,i,o,s,a=[],c,d=vRt.TOKEN_PROGRAM_ID){return kRt(this,void 0,void 0,function*(){let[f,p]=(0,PRt.getSigners)(i,a),m=new xOe.Transaction().add((0,xRt.createMintToCheckedInstruction)(r,n,f,o,s,a,d));return yield(0,xOe.sendAndConfirmTransaction)(t,m,[e,...p],c)})}dk.mintToChecked=ORt});var bK=_(Vl=>{"use strict";u();l();Object.defineProperty(Vl,"__esModule",{value:!0});Vl.decodeRevokeInstructionUnchecked=Vl.decodeRevokeInstruction=Vl.createRevokeInstruction=Vl.revokeInstructionData=void 0;var OOe=Ce(),RRt=we(),ROe=yt(),gK=Lr(),CRt=ms(),COe=on();Vl.revokeInstructionData=(0,OOe.struct)([(0,OOe.u8)("instruction")]);function BRt(t,e,r=[],n=ROe.TOKEN_PROGRAM_ID){let i=(0,CRt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,r),o=Buffer.alloc(Vl.revokeInstructionData.span);return Vl.revokeInstructionData.encode({instruction:COe.TokenInstruction.Revoke},o),new RRt.TransactionInstruction({keys:i,programId:n,data:o})}Vl.createRevokeInstruction=BRt;function MRt(t,e=ROe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new gK.TokenInvalidInstructionProgramError;if(t.data.length!==Vl.revokeInstructionData.span)throw new gK.TokenInvalidInstructionDataError;let{keys:{account:r,owner:n,multiSigners:i},data:o}=BOe(t);if(o.instruction!==COe.TokenInstruction.Revoke)throw new gK.TokenInvalidInstructionTypeError;if(!r||!n)throw new gK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,owner:n,multiSigners:i},data:o}}Vl.decodeRevokeInstruction=MRt;function BOe({programId:t,keys:[e,r,...n],data:i}){return{programId:t,keys:{account:e,owner:r,multiSigners:n},data:Vl.revokeInstructionData.decode(i)}}Vl.decodeRevokeInstructionUnchecked=BOe});var NOe=_(fk=>{"use strict";u();l();var NRt=fk&&fk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(fk,"__esModule",{value:!0});fk.revoke=void 0;var MOe=we(),DRt=yt(),URt=bK(),LRt=xs();function zRt(t,e,r,n,i=[],o,s=DRt.TOKEN_PROGRAM_ID){return NRt(this,void 0,void 0,function*(){let[a,c]=(0,LRt.getSigners)(n,i),d=new MOe.Transaction().add((0,URt.createRevokeInstruction)(r,a,i,s));return yield(0,MOe.sendAndConfirmTransaction)(t,d,[e,...c],o)})}fk.revoke=zRt});var wK=_(ya=>{"use strict";u();l();Object.defineProperty(ya,"__esModule",{value:!0});ya.decodeSetAuthorityInstructionUnchecked=ya.decodeSetAuthorityInstruction=ya.createSetAuthorityInstruction=ya.setAuthorityInstructionData=ya.AuthorityType=void 0;var _K=Ce(),FRt=gt(),DOe=we(),UOe=yt(),SK=Lr(),qRt=ms(),LOe=on(),jRt;(function(t){t[t.MintTokens=0]="MintTokens",t[t.FreezeAccount=1]="FreezeAccount",t[t.AccountOwner=2]="AccountOwner",t[t.CloseAccount=3]="CloseAccount"})(jRt=ya.AuthorityType||(ya.AuthorityType={}));ya.setAuthorityInstructionData=(0,_K.struct)([(0,_K.u8)("instruction"),(0,_K.u8)("authorityType"),(0,_K.u8)("newAuthorityOption"),(0,FRt.publicKey)("newAuthority")]);function KRt(t,e,r,n,i=[],o=UOe.TOKEN_PROGRAM_ID){let s=(0,qRt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,i),a=Buffer.alloc(ya.setAuthorityInstructionData.span);return ya.setAuthorityInstructionData.encode({instruction:LOe.TokenInstruction.SetAuthority,authorityType:r,newAuthorityOption:n?1:0,newAuthority:n||new DOe.PublicKey(0)},a),new DOe.TransactionInstruction({keys:s,programId:o,data:a})}ya.createSetAuthorityInstruction=KRt;function WRt(t,e=UOe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new SK.TokenInvalidInstructionProgramError;if(t.data.length!==ya.setAuthorityInstructionData.span)throw new SK.TokenInvalidInstructionDataError;let{keys:{account:r,currentAuthority:n,multiSigners:i},data:o}=zOe(t);if(o.instruction!==LOe.TokenInstruction.SetAuthority)throw new SK.TokenInvalidInstructionTypeError;if(!r||!n)throw new SK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,currentAuthority:n,multiSigners:i},data:o}}ya.decodeSetAuthorityInstruction=WRt;function zOe({programId:t,keys:[e,r,...n],data:i}){let{instruction:o,authorityType:s,newAuthorityOption:a,newAuthority:c}=ya.setAuthorityInstructionData.decode(i);return{programId:t,keys:{account:e,currentAuthority:r,multiSigners:n},data:{instruction:o,authorityType:s,newAuthority:a?c:null}}}ya.decodeSetAuthorityInstructionUnchecked=zOe});var qOe=_(pk=>{"use strict";u();l();var VRt=pk&&pk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(pk,"__esModule",{value:!0});pk.setAuthority=void 0;var FOe=we(),GRt=yt(),HRt=wK(),$Rt=xs();function YRt(t,e,r,n,i,o,s=[],a,c=GRt.TOKEN_PROGRAM_ID){return VRt(this,void 0,void 0,function*(){let[d,f]=(0,$Rt.getSigners)(n,s),p=new FOe.Transaction().add((0,HRt.createSetAuthorityInstruction)(r,d,i,o,s,c));return yield(0,FOe.sendAndConfirmTransaction)(t,p,[e,...f],a)})}pk.setAuthority=YRt});var KOe=_(hk=>{"use strict";u();l();var XRt=hk&&hk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(hk,"__esModule",{value:!0});hk.syncNative=void 0;var jOe=we(),ZRt=yt(),JRt=PD();function QRt(t,e,r,n,i=ZRt.TOKEN_PROGRAM_ID){return XRt(this,void 0,void 0,function*(){let o=new jOe.Transaction().add((0,JRt.createSyncNativeInstruction)(r,i));return yield(0,jOe.sendAndConfirmTransaction)(t,o,[e],n)})}hk.syncNative=QRt});var EK=_(Gl=>{"use strict";u();l();Object.defineProperty(Gl,"__esModule",{value:!0});Gl.decodeThawAccountInstructionUnchecked=Gl.decodeThawAccountInstruction=Gl.createThawAccountInstruction=Gl.thawAccountInstructionData=void 0;var WOe=Ce(),eCt=we(),VOe=yt(),AK=Lr(),tCt=ms(),GOe=on();Gl.thawAccountInstructionData=(0,WOe.struct)([(0,WOe.u8)("instruction")]);function rCt(t,e,r,n=[],i=VOe.TOKEN_PROGRAM_ID){let o=(0,tCt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],r,n),s=Buffer.alloc(Gl.thawAccountInstructionData.span);return Gl.thawAccountInstructionData.encode({instruction:GOe.TokenInstruction.ThawAccount},s),new eCt.TransactionInstruction({keys:o,programId:i,data:s})}Gl.createThawAccountInstruction=rCt;function nCt(t,e=VOe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new AK.TokenInvalidInstructionProgramError;if(t.data.length!==Gl.thawAccountInstructionData.span)throw new AK.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}=HOe(t);if(s.instruction!==GOe.TokenInstruction.ThawAccount)throw new AK.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new AK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}}Gl.decodeThawAccountInstruction=nCt;function HOe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,authority:n,multiSigners:i},data:Gl.thawAccountInstructionData.decode(o)}}Gl.decodeThawAccountInstructionUnchecked=HOe});var YOe=_(mk=>{"use strict";u();l();var iCt=mk&&mk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(mk,"__esModule",{value:!0});mk.thawAccount=void 0;var $Oe=we(),oCt=yt(),sCt=EK(),aCt=xs();function cCt(t,e,r,n,i,o=[],s,a=oCt.TOKEN_PROGRAM_ID){return iCt(this,void 0,void 0,function*(){let[c,d]=(0,aCt.getSigners)(i,o),f=new $Oe.Transaction().add((0,sCt.createThawAccountInstruction)(r,n,c,o,a));return yield(0,$Oe.sendAndConfirmTransaction)(t,f,[e,...d],s)})}mk.thawAccount=cCt});var TK=_(Hl=>{"use strict";u();l();Object.defineProperty(Hl,"__esModule",{value:!0});Hl.decodeTransferInstructionUnchecked=Hl.decodeTransferInstruction=Hl.createTransferInstruction=Hl.transferInstructionData=void 0;var XOe=Ce(),uCt=gt(),lCt=we(),ZOe=yt(),IK=Lr(),dCt=ms(),JOe=on();Hl.transferInstructionData=(0,XOe.struct)([(0,XOe.u8)("instruction"),(0,uCt.u64)("amount")]);function fCt(t,e,r,n,i=[],o=ZOe.TOKEN_PROGRAM_ID){let s=(0,dCt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,i),a=Buffer.alloc(Hl.transferInstructionData.span);return Hl.transferInstructionData.encode({instruction:JOe.TokenInstruction.Transfer,amount:BigInt(n)},a),new lCt.TransactionInstruction({keys:s,programId:o,data:a})}Hl.createTransferInstruction=fCt;function pCt(t,e=ZOe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new IK.TokenInvalidInstructionProgramError;if(t.data.length!==Hl.transferInstructionData.span)throw new IK.TokenInvalidInstructionDataError;let{keys:{source:r,destination:n,owner:i,multiSigners:o},data:s}=QOe(t);if(s.instruction!==JOe.TokenInstruction.Transfer)throw new IK.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new IK.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:r,destination:n,owner:i,multiSigners:o},data:s}}Hl.decodeTransferInstruction=pCt;function QOe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{source:e,destination:r,owner:n,multiSigners:i},data:Hl.transferInstructionData.decode(o)}}Hl.decodeTransferInstructionUnchecked=QOe});var tRe=_(yk=>{"use strict";u();l();var hCt=yk&&yk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(yk,"__esModule",{value:!0});yk.transfer=void 0;var eRe=we(),mCt=yt(),yCt=TK(),gCt=xs();function bCt(t,e,r,n,i,o,s=[],a,c=mCt.TOKEN_PROGRAM_ID){return hCt(this,void 0,void 0,function*(){let[d,f]=(0,gCt.getSigners)(i,s),p=new eRe.Transaction().add((0,yCt.createTransferInstruction)(r,n,d,o,s,c));return yield(0,eRe.sendAndConfirmTransaction)(t,p,[e,...f],a)})}yk.transfer=bCt});var vK=_($l=>{"use strict";u();l();Object.defineProperty($l,"__esModule",{value:!0});$l.decodeTransferCheckedInstructionUnchecked=$l.decodeTransferCheckedInstruction=$l.createTransferCheckedInstruction=$l.transferCheckedInstructionData=void 0;var Ene=Ce(),_Ct=gt(),SCt=we(),rRe=yt(),kK=Lr(),wCt=ms(),nRe=on();$l.transferCheckedInstructionData=(0,Ene.struct)([(0,Ene.u8)("instruction"),(0,_Ct.u64)("amount"),(0,Ene.u8)("decimals")]);function ACt(t,e,r,n,i,o,s=[],a=rRe.TOKEN_PROGRAM_ID){let c=(0,wCt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}],n,s),d=Buffer.alloc($l.transferCheckedInstructionData.span);return $l.transferCheckedInstructionData.encode({instruction:nRe.TokenInstruction.TransferChecked,amount:BigInt(i),decimals:o},d),new SCt.TransactionInstruction({keys:c,programId:a,data:d})}$l.createTransferCheckedInstruction=ACt;function ECt(t,e=rRe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new kK.TokenInvalidInstructionProgramError;if(t.data.length!==$l.transferCheckedInstructionData.span)throw new kK.TokenInvalidInstructionDataError;let{keys:{source:r,mint:n,destination:i,owner:o,multiSigners:s},data:a}=iRe(t);if(a.instruction!==nRe.TokenInstruction.TransferChecked)throw new kK.TokenInvalidInstructionTypeError;if(!r||!n||!i||!o)throw new kK.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:r,mint:n,destination:i,owner:o,multiSigners:s},data:a}}$l.decodeTransferCheckedInstruction=ECt;function iRe({programId:t,keys:[e,r,n,i,...o],data:s}){return{programId:t,keys:{source:e,mint:r,destination:n,owner:i,multiSigners:o},data:$l.transferCheckedInstructionData.decode(s)}}$l.decodeTransferCheckedInstructionUnchecked=iRe});var sRe=_(gk=>{"use strict";u();l();var ICt=gk&&gk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(gk,"__esModule",{value:!0});gk.transferChecked=void 0;var oRe=we(),TCt=yt(),kCt=vK(),vCt=xs();function xCt(t,e,r,n,i,o,s,a,c=[],d,f=TCt.TOKEN_PROGRAM_ID){return ICt(this,void 0,void 0,function*(){let[p,m]=(0,vCt.getSigners)(o,c),y=new oRe.Transaction().add((0,kCt.createTransferCheckedInstruction)(r,n,i,p,s,a,c,f));return yield(0,oRe.sendAndConfirmTransaction)(t,y,[e,...m],d)})}gk.transferChecked=xCt});var PK=_(K_=>{"use strict";u();l();Object.defineProperty(K_,"__esModule",{value:!0});K_.decodeUiAmountToAmountInstructionUnchecked=K_.decodeUiAmountToAmountInstruction=K_.createUiAmountToAmountInstruction=void 0;var db=Ce(),PCt=we(),aRe=yt(),xK=Lr(),cRe=on();function OCt(t,e,r=aRe.TOKEN_PROGRAM_ID){let n=[{pubkey:t,isSigner:!1,isWritable:!1}],i=Buffer.from(e,"utf8"),o=(0,db.struct)([(0,db.u8)("instruction"),(0,db.blob)(i.length,"amount")]),s=Buffer.alloc(o.span);return o.encode({instruction:cRe.TokenInstruction.UiAmountToAmount,amount:i},s),new PCt.TransactionInstruction({keys:n,programId:r,data:s})}K_.createUiAmountToAmountInstruction=OCt;function RCt(t,e=aRe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new xK.TokenInvalidInstructionProgramError;let r=(0,db.struct)([(0,db.u8)("instruction"),(0,db.blob)(t.data.length-1,"amount")]);if(t.data.length!==r.span)throw new xK.TokenInvalidInstructionDataError;let{keys:{mint:n},data:i}=uRe(t);if(i.instruction!==cRe.TokenInstruction.UiAmountToAmount)throw new xK.TokenInvalidInstructionTypeError;if(!n)throw new xK.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:n},data:i}}K_.decodeUiAmountToAmountInstruction=RCt;function uRe({programId:t,keys:[e],data:r}){let n=(0,db.struct)([(0,db.u8)("instruction"),(0,db.blob)(r.length-1,"amount")]);return{programId:t,keys:{mint:e},data:n.decode(r)}}K_.decodeUiAmountToAmountInstructionUnchecked=uRe});var lRe=_(bk=>{"use strict";u();l();var CCt=bk&&bk.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(bk,"__esModule",{value:!0});bk.uiAmountToAmount=void 0;var BCt=gt(),MCt=we(),NCt=yt(),DCt=PK();function UCt(t,e,r,n,i=NCt.TOKEN_PROGRAM_ID){return CCt(this,void 0,void 0,function*(){let o=new MCt.Transaction().add((0,DCt.createUiAmountToAmountInstruction)(r,n,i)),{returnData:s,err:a}=(yield t.simulateTransaction(o,[e],!1)).value;if(s){let c=Buffer.from(s.data[0],s.data[1]);return(0,BCt.u64)().decode(c)}return a})}bk.uiAmountToAmount=UCt});var dRe=_(Yn=>{"use strict";u();l();var LCt=Yn&&Yn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ji=Yn&&Yn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&LCt(e,t,r)};Object.defineProperty(Yn,"__esModule",{value:!0});Ji(exe(),Yn);Ji(sxe(),Yn);Ji(dxe(),Yn);Ji(gxe(),Yn);Ji(Axe(),Yn);Ji(xxe(),Yn);Ji(gne(),Yn);Ji(mne(),Yn);Ji(zPe(),Yn);Ji(GPe(),Yn);Ji(ZPe(),Yn);Ji(rOe(),Yn);Ji(cOe(),Yn);Ji(hOe(),Yn);Ji(bOe(),Yn);Ji(IOe(),Yn);Ji(POe(),Yn);Ji(NOe(),Yn);Ji(qOe(),Yn);Ji(KOe(),Yn);Ji(YOe(),Yn);Ji(tRe(),Yn);Ji(sRe(),Yn);Ji(lRe(),Yn)});var CK=_(Yl=>{"use strict";u();l();Object.defineProperty(Yl,"__esModule",{value:!0});Yl.decodeInitializeMintInstructionUnchecked=Yl.decodeInitializeMintInstruction=Yl.createInitializeMintInstruction=Yl.initializeMintInstructionData=void 0;var OK=Ce(),fRe=gt(),Ine=we(),pRe=yt(),RK=Lr(),hRe=on();Yl.initializeMintInstructionData=(0,OK.struct)([(0,OK.u8)("instruction"),(0,OK.u8)("decimals"),(0,fRe.publicKey)("mintAuthority"),(0,OK.u8)("freezeAuthorityOption"),(0,fRe.publicKey)("freezeAuthority")]);function zCt(t,e,r,n,i=pRe.TOKEN_PROGRAM_ID){let o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ine.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],s=Buffer.alloc(Yl.initializeMintInstructionData.span);return Yl.initializeMintInstructionData.encode({instruction:hRe.TokenInstruction.InitializeMint,decimals:e,mintAuthority:r,freezeAuthorityOption:n?1:0,freezeAuthority:n||new Ine.PublicKey(0)},s),new Ine.TransactionInstruction({keys:o,programId:i,data:s})}Yl.createInitializeMintInstruction=zCt;function FCt(t,e=pRe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new RK.TokenInvalidInstructionProgramError;if(t.data.length!==Yl.initializeMintInstructionData.span)throw new RK.TokenInvalidInstructionDataError;let{keys:{mint:r,rent:n},data:i}=mRe(t);if(i.instruction!==hRe.TokenInstruction.InitializeMint)throw new RK.TokenInvalidInstructionTypeError;if(!r||!n)throw new RK.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,rent:n},data:i}}Yl.decodeInitializeMintInstruction=FCt;function mRe({programId:t,keys:[e,r],data:n}){let{instruction:i,decimals:o,mintAuthority:s,freezeAuthorityOption:a,freezeAuthority:c}=Yl.initializeMintInstructionData.decode(n);return{programId:t,keys:{mint:e,rent:r},data:{instruction:i,decimals:o,mintAuthority:s,freezeAuthority:a?c:null}}}Yl.decodeInitializeMintInstructionUnchecked=mRe});var kne=_(ga=>{"use strict";u();l();Object.defineProperty(ga,"__esModule",{value:!0});ga.createUpdateRateInterestBearingMintInstruction=ga.createInitializeInterestBearingMintInstruction=ga.interestBearingMintUpdateRateInstructionData=ga.interestBearingMintInitializeInstructionData=ga.InterestBearingMintInstruction=void 0;var W_=Ce(),qCt=gt(),yRe=we(),gRe=yt(),jCt=ms(),bRe=on(),Tne;(function(t){t[t.Initialize=0]="Initialize",t[t.UpdateRate=1]="UpdateRate"})(Tne=ga.InterestBearingMintInstruction||(ga.InterestBearingMintInstruction={}));ga.interestBearingMintInitializeInstructionData=(0,W_.struct)([(0,W_.u8)("instruction"),(0,W_.u8)("interestBearingMintInstruction"),(0,qCt.publicKey)("rateAuthority"),(0,W_.s16)("rate")]);ga.interestBearingMintUpdateRateInstructionData=(0,W_.struct)([(0,W_.u8)("instruction"),(0,W_.u8)("interestBearingMintInstruction"),(0,W_.s16)("rate")]);function KCt(t,e,r,n=gRe.TOKEN_2022_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0}],o=Buffer.alloc(ga.interestBearingMintInitializeInstructionData.span);return ga.interestBearingMintInitializeInstructionData.encode({instruction:bRe.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:Tne.Initialize,rateAuthority:e,rate:r},o),new yRe.TransactionInstruction({keys:i,programId:n,data:o})}ga.createInitializeInterestBearingMintInstruction=KCt;function WCt(t,e,r,n=[],i=gRe.TOKEN_2022_PROGRAM_ID){let o=(0,jCt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!n.length,isWritable:!1}],e,n),s=Buffer.alloc(ga.interestBearingMintUpdateRateInstructionData.span);return ga.interestBearingMintUpdateRateInstructionData.encode({instruction:bRe.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:Tne.UpdateRate,rate:r},s),new yRe.TransactionInstruction({keys:o,programId:i,data:s})}ga.createUpdateRateInterestBearingMintInstruction=WCt});var ERe=_(V_=>{"use strict";u();l();var SRe=V_&&V_.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(V_,"__esModule",{value:!0});V_.updateRateInterestBearingMint=V_.createInterestBearingMint=void 0;var _k=we(),VCt=xs(),wRe=yt(),GCt=CK(),_Re=rl(),ARe=kne();function HCt(t,e,r,n,i,o,s,a=_k.Keypair.generate(),c,d=wRe.TOKEN_2022_PROGRAM_ID){return SRe(this,void 0,void 0,function*(){let f=(0,_Re.getMintLen)([_Re.ExtensionType.InterestBearingConfig]),p=yield t.getMinimumBalanceForRentExemption(f),m=new _k.Transaction().add(_k.SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:a.publicKey,space:f,lamports:p,programId:d}),(0,ARe.createInitializeInterestBearingMintInstruction)(a.publicKey,i,o,d),(0,GCt.createInitializeMintInstruction)(a.publicKey,s,r,n,d));return yield(0,_k.sendAndConfirmTransaction)(t,m,[e,a],c),a.publicKey})}V_.createInterestBearingMint=HCt;function $Ct(t,e,r,n,i,o=[],s,a=wRe.TOKEN_2022_PROGRAM_ID){return SRe(this,void 0,void 0,function*(){let[c,d]=(0,VCt.getSigners)(n,o),f=new _k.Transaction().add((0,ARe.createUpdateRateInterestBearingMintInstruction)(r,c,i,d,a));return yield(0,_k.sendAndConfirmTransaction)(t,f,[e,n,...d],s)})}V_.updateRateInterestBearingMint=$Ct});var IRe=_(fb=>{"use strict";u();l();var YCt=fb&&fb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vne=fb&&fb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&YCt(e,t,r)};Object.defineProperty(fb,"__esModule",{value:!0});vne(ERe(),fb);vne(kne(),fb);vne(Qre(),fb)});var TRe=_(ba=>{"use strict";u();l();var XCt=ba&&ba.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mh=ba&&ba.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&XCt(e,t,r)};Object.defineProperty(ba,"__esModule",{value:!0});mh(ED(),ba);mh(Hre(),ba);mh(Zre(),ba);mh(rl(),ba);mh(Jre(),ba);mh(IRe(),ba);mh(one(),ba);mh(sne(),ba);mh(ane(),ba);mh(hne(),ba);mh(cne(),ba)});var xne=_(Xl=>{"use strict";u();l();Object.defineProperty(Xl,"__esModule",{value:!0});Xl.decodeInitializeAccount2InstructionUnchecked=Xl.decodeInitializeAccount2Instruction=Xl.createInitializeAccount2Instruction=Xl.initializeAccount2InstructionData=void 0;var kRe=Ce(),ZCt=gt(),vRe=we(),xRe=yt(),BK=Lr(),PRe=on();Xl.initializeAccount2InstructionData=(0,kRe.struct)([(0,kRe.u8)("instruction"),(0,ZCt.publicKey)("owner")]);function JCt(t,e,r,n=xRe.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:vRe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],o=Buffer.alloc(Xl.initializeAccount2InstructionData.span);return Xl.initializeAccount2InstructionData.encode({instruction:PRe.TokenInstruction.InitializeAccount2,owner:r},o),new vRe.TransactionInstruction({keys:i,programId:n,data:o})}Xl.createInitializeAccount2Instruction=JCt;function QCt(t,e=xRe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new BK.TokenInvalidInstructionProgramError;if(t.data.length!==Xl.initializeAccount2InstructionData.span)throw new BK.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,rent:i},data:o}=ORe(t);if(o.instruction!==PRe.TokenInstruction.InitializeAccount2)throw new BK.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new BK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,rent:i},data:o}}Xl.decodeInitializeAccount2Instruction=QCt;function ORe({programId:t,keys:[e,r,n],data:i}){return{programId:t,keys:{account:e,mint:r,rent:n},data:Xl.initializeAccount2InstructionData.decode(i)}}Xl.decodeInitializeAccount2InstructionUnchecked=ORe});var Pne=_(Zl=>{"use strict";u();l();Object.defineProperty(Zl,"__esModule",{value:!0});Zl.decodeInitializeAccount3InstructionUnchecked=Zl.decodeInitializeAccount3Instruction=Zl.createInitializeAccount3Instruction=Zl.initializeAccount3InstructionData=void 0;var RRe=Ce(),eBt=gt(),tBt=we(),CRe=yt(),MK=Lr(),BRe=on();Zl.initializeAccount3InstructionData=(0,RRe.struct)([(0,RRe.u8)("instruction"),(0,eBt.publicKey)("owner")]);function rBt(t,e,r,n=CRe.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],o=Buffer.alloc(Zl.initializeAccount3InstructionData.span);return Zl.initializeAccount3InstructionData.encode({instruction:BRe.TokenInstruction.InitializeAccount3,owner:r},o),new tBt.TransactionInstruction({keys:i,programId:n,data:o})}Zl.createInitializeAccount3Instruction=rBt;function nBt(t,e=CRe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new MK.TokenInvalidInstructionProgramError;if(t.data.length!==Zl.initializeAccount3InstructionData.span)throw new MK.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n},data:i}=MRe(t);if(i.instruction!==BRe.TokenInstruction.InitializeAccount3)throw new MK.TokenInvalidInstructionTypeError;if(!r||!n)throw new MK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n},data:i}}Zl.decodeInitializeAccount3Instruction=nBt;function MRe({programId:t,keys:[e,r],data:n}){return{programId:t,keys:{account:e,mint:r},data:Zl.initializeAccount3InstructionData.decode(n)}}Zl.decodeInitializeAccount3InstructionUnchecked=MRe});var NRe=_(sr=>{"use strict";u();l();Object.defineProperty(sr,"__esModule",{value:!0});sr.isUiamountToAmountInstruction=sr.isAmountToUiAmountInstruction=sr.isInitializeMint2Instruction=sr.isInitializeAccount3Instruction=sr.isSyncNativeInstruction=sr.isInitializeAccount2Instruction=sr.isBurnCheckedInstruction=sr.isMintToCheckedInstruction=sr.isApproveCheckedInstruction=sr.isTransferCheckedInstruction=sr.isThawAccountInstruction=sr.isFreezeAccountInstruction=sr.isCloseAccountInstruction=sr.isBurnInstruction=sr.isMintToInstruction=sr.isSetAuthorityInstruction=sr.isRevokeInstruction=sr.isApproveInstruction=sr.isTransferInstruction=sr.isInitializeMultisigInstruction=sr.isInitializeAccountInstruction=sr.isInitializeMintInstruction=sr.decodeInstruction=void 0;var iBt=Ce(),oBt=yt(),One=Lr(),sBt=k6(),aBt=P6(),cBt=C6(),uBt=M6(),lBt=D6(),dBt=L6(),fBt=dK(),pBt=xD(),hBt=xne(),mBt=Pne(),yBt=CK(),gBt=nK(),bBt=sK(),_Bt=hK(),SBt=yK(),wBt=bK(),ABt=wK(),EBt=PD(),IBt=EK(),TBt=TK(),kBt=vK(),dr=on(),vBt=PK();function xBt(t,e=oBt.TOKEN_PROGRAM_ID){if(!t.data.length)throw new One.TokenInvalidInstructionDataError;let r=(0,iBt.u8)().decode(t.data);if(r===dr.TokenInstruction.InitializeMint)return(0,yBt.decodeInitializeMintInstruction)(t,e);if(r===dr.TokenInstruction.InitializeAccount)return(0,pBt.decodeInitializeAccountInstruction)(t,e);if(r===dr.TokenInstruction.InitializeMultisig)return(0,bBt.decodeInitializeMultisigInstruction)(t,e);if(r===dr.TokenInstruction.Transfer)return(0,TBt.decodeTransferInstruction)(t,e);if(r===dr.TokenInstruction.Approve)return(0,aBt.decodeApproveInstruction)(t,e);if(r===dr.TokenInstruction.Revoke)return(0,wBt.decodeRevokeInstruction)(t,e);if(r===dr.TokenInstruction.SetAuthority)return(0,ABt.decodeSetAuthorityInstruction)(t,e);if(r===dr.TokenInstruction.MintTo)return(0,_Bt.decodeMintToInstruction)(t,e);if(r===dr.TokenInstruction.Burn)return(0,uBt.decodeBurnInstruction)(t,e);if(r===dr.TokenInstruction.CloseAccount)return(0,dBt.decodeCloseAccountInstruction)(t,e);if(r===dr.TokenInstruction.FreezeAccount)return(0,fBt.decodeFreezeAccountInstruction)(t,e);if(r===dr.TokenInstruction.ThawAccount)return(0,IBt.decodeThawAccountInstruction)(t,e);if(r===dr.TokenInstruction.TransferChecked)return(0,kBt.decodeTransferCheckedInstruction)(t,e);if(r===dr.TokenInstruction.ApproveChecked)return(0,cBt.decodeApproveCheckedInstruction)(t,e);if(r===dr.TokenInstruction.MintToChecked)return(0,SBt.decodeMintToCheckedInstruction)(t,e);if(r===dr.TokenInstruction.BurnChecked)return(0,lBt.decodeBurnCheckedInstruction)(t,e);if(r===dr.TokenInstruction.InitializeAccount2)return(0,hBt.decodeInitializeAccount2Instruction)(t,e);if(r===dr.TokenInstruction.SyncNative)return(0,EBt.decodeSyncNativeInstruction)(t,e);if(r===dr.TokenInstruction.InitializeAccount3)return(0,mBt.decodeInitializeAccount3Instruction)(t,e);if(r===dr.TokenInstruction.InitializeMint2)return(0,gBt.decodeInitializeMint2Instruction)(t,e);if(r===dr.TokenInstruction.AmountToUiAmount)return(0,sBt.decodeAmountToUiAmountInstruction)(t,e);if(r===dr.TokenInstruction.UiAmountToAmount)return(0,vBt.decodeUiAmountToAmountInstruction)(t,e);throw r===dr.TokenInstruction.InitializeMultisig2?new One.TokenInvalidInstructionTypeError:new One.TokenInvalidInstructionTypeError}sr.decodeInstruction=xBt;function PBt(t){return t.data.instruction===dr.TokenInstruction.InitializeMint}sr.isInitializeMintInstruction=PBt;function OBt(t){return t.data.instruction===dr.TokenInstruction.InitializeAccount}sr.isInitializeAccountInstruction=OBt;function RBt(t){return t.data.instruction===dr.TokenInstruction.InitializeMultisig}sr.isInitializeMultisigInstruction=RBt;function CBt(t){return t.data.instruction===dr.TokenInstruction.Transfer}sr.isTransferInstruction=CBt;function BBt(t){return t.data.instruction===dr.TokenInstruction.Approve}sr.isApproveInstruction=BBt;function MBt(t){return t.data.instruction===dr.TokenInstruction.Revoke}sr.isRevokeInstruction=MBt;function NBt(t){return t.data.instruction===dr.TokenInstruction.SetAuthority}sr.isSetAuthorityInstruction=NBt;function DBt(t){return t.data.instruction===dr.TokenInstruction.MintTo}sr.isMintToInstruction=DBt;function UBt(t){return t.data.instruction===dr.TokenInstruction.Burn}sr.isBurnInstruction=UBt;function LBt(t){return t.data.instruction===dr.TokenInstruction.CloseAccount}sr.isCloseAccountInstruction=LBt;function zBt(t){return t.data.instruction===dr.TokenInstruction.FreezeAccount}sr.isFreezeAccountInstruction=zBt;function FBt(t){return t.data.instruction===dr.TokenInstruction.ThawAccount}sr.isThawAccountInstruction=FBt;function qBt(t){return t.data.instruction===dr.TokenInstruction.TransferChecked}sr.isTransferCheckedInstruction=qBt;function jBt(t){return t.data.instruction===dr.TokenInstruction.ApproveChecked}sr.isApproveCheckedInstruction=jBt;function KBt(t){return t.data.instruction===dr.TokenInstruction.MintToChecked}sr.isMintToCheckedInstruction=KBt;function WBt(t){return t.data.instruction===dr.TokenInstruction.BurnChecked}sr.isBurnCheckedInstruction=WBt;function VBt(t){return t.data.instruction===dr.TokenInstruction.InitializeAccount2}sr.isInitializeAccount2Instruction=VBt;function GBt(t){return t.data.instruction===dr.TokenInstruction.SyncNative}sr.isSyncNativeInstruction=GBt;function HBt(t){return t.data.instruction===dr.TokenInstruction.InitializeAccount3}sr.isInitializeAccount3Instruction=HBt;function $Bt(t){return t.data.instruction===dr.TokenInstruction.InitializeMint2}sr.isInitializeMint2Instruction=$Bt;function YBt(t){return t.data.instruction===dr.TokenInstruction.AmountToUiAmount}sr.isAmountToUiAmountInstruction=YBt;function XBt(t){return t.data.instruction===dr.TokenInstruction.UiAmountToAmount}sr.isUiamountToAmountInstruction=XBt});var URe=_(DRe=>{"use strict";u();l();Object.defineProperty(DRe,"__esModule",{value:!0})});var qRe=_(Jl=>{"use strict";u();l();Object.defineProperty(Jl,"__esModule",{value:!0});Jl.decodeInitializeImmutableOwnerInstructionUnchecked=Jl.decodeInitializeImmutableOwnerInstruction=Jl.createInitializeImmutableOwnerInstruction=Jl.initializeImmutableOwnerInstructionData=void 0;var LRe=Ce(),ZBt=we(),NK=Lr(),zRe=on();Jl.initializeImmutableOwnerInstructionData=(0,LRe.struct)([(0,LRe.u8)("instruction")]);function JBt(t,e){let r=[{pubkey:t,isSigner:!1,isWritable:!0}],n=Buffer.alloc(Jl.initializeImmutableOwnerInstructionData.span);return Jl.initializeImmutableOwnerInstructionData.encode({instruction:zRe.TokenInstruction.InitializeImmutableOwner},n),new ZBt.TransactionInstruction({keys:r,programId:e,data:n})}Jl.createInitializeImmutableOwnerInstruction=JBt;function QBt(t,e){if(!t.programId.equals(e))throw new NK.TokenInvalidInstructionProgramError;if(t.data.length!==Jl.initializeImmutableOwnerInstructionData.span)throw new NK.TokenInvalidInstructionDataError;let{keys:{account:r},data:n}=FRe(t);if(n.instruction!==zRe.TokenInstruction.InitializeImmutableOwner)throw new NK.TokenInvalidInstructionTypeError;if(!r)throw new NK.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r},data:n}}Jl.decodeInitializeImmutableOwnerInstruction=QBt;function FRe({programId:t,keys:[e],data:r}){let{instruction:n}=Jl.initializeImmutableOwnerInstructionData.decode(r);return{programId:t,keys:{account:e},data:{instruction:n}}}Jl.decodeInitializeImmutableOwnerInstructionUnchecked=FRe});var VRe=_(Ql=>{"use strict";u();l();Object.defineProperty(Ql,"__esModule",{value:!0});Ql.decodeInitializeMintCloseAuthorityInstructionUnchecked=Ql.decodeInitializeMintCloseAuthorityInstruction=Ql.createInitializeMintCloseAuthorityInstruction=Ql.initializeMintCloseAuthorityInstructionData=void 0;var Rne=Ce(),eMt=gt(),jRe=we(),tMt=yt(),OD=Lr(),KRe=on();Ql.initializeMintCloseAuthorityInstructionData=(0,Rne.struct)([(0,Rne.u8)("instruction"),(0,Rne.u8)("closeAuthorityOption"),(0,eMt.publicKey)("closeAuthority")]);function rMt(t,e,r){if(!(0,tMt.programSupportsExtensions)(r))throw new OD.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!1,isWritable:!0}],i=Buffer.alloc(Ql.initializeMintCloseAuthorityInstructionData.span);return Ql.initializeMintCloseAuthorityInstructionData.encode({instruction:KRe.TokenInstruction.InitializeMintCloseAuthority,closeAuthorityOption:e?1:0,closeAuthority:e||new jRe.PublicKey(0)},i),new jRe.TransactionInstruction({keys:n,programId:r,data:i})}Ql.createInitializeMintCloseAuthorityInstruction=rMt;function nMt(t,e){if(!t.programId.equals(e))throw new OD.TokenInvalidInstructionProgramError;if(t.data.length!==Ql.initializeMintCloseAuthorityInstructionData.span)throw new OD.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=WRe(t);if(n.instruction!==KRe.TokenInstruction.InitializeMintCloseAuthority)throw new OD.TokenInvalidInstructionTypeError;if(!r)throw new OD.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}Ql.decodeInitializeMintCloseAuthorityInstruction=nMt;function WRe({programId:t,keys:[e],data:r}){let{instruction:n,closeAuthorityOption:i,closeAuthority:o}=Ql.initializeMintCloseAuthorityInstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,closeAuthority:i?o:null}}}Ql.decodeInitializeMintCloseAuthorityInstructionUnchecked=WRe});var $Re=_(UK=>{"use strict";u();l();Object.defineProperty(UK,"__esModule",{value:!0});UK.createReallocateInstruction=void 0;var DK=Ce(),GRe=we(),HRe=yt(),iMt=Lr(),oMt=ms(),sMt=on();function aMt(t,e,r,n,i=[],o=HRe.TOKEN_2022_PROGRAM_ID){if(!(0,HRe.programSupportsExtensions)(o))throw new iMt.TokenUnsupportedInstructionError;let s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:GRe.SystemProgram.programId,isSigner:!1,isWritable:!1}],a=(0,oMt.addSigners)(s,n,i),c=(0,DK.struct)([(0,DK.u8)("instruction"),(0,DK.seq)((0,DK.u16)(),r.length,"extensionTypes")]),d=Buffer.alloc(c.span);return c.encode({instruction:sMt.TokenInstruction.Reallocate,extensionTypes:r},d),new GRe.TransactionInstruction({keys:a,programId:o,data:d})}UK.createReallocateInstruction=aMt});var XRe=_(G_=>{"use strict";u();l();Object.defineProperty(G_,"__esModule",{value:!0});G_.createInitializeNonTransferableMintInstruction=G_.initializeNonTransferableMintInstructionData=void 0;var YRe=Ce(),cMt=we(),uMt=yt(),lMt=Lr(),dMt=on();G_.initializeNonTransferableMintInstructionData=(0,YRe.struct)([(0,YRe.u8)("instruction")]);function fMt(t,e){if(!(0,uMt.programSupportsExtensions)(e))throw new lMt.TokenUnsupportedInstructionError;let r=[{pubkey:t,isSigner:!1,isWritable:!0}],n=Buffer.alloc(G_.initializeNonTransferableMintInstructionData.span);return G_.initializeNonTransferableMintInstructionData.encode({instruction:dMt.TokenInstruction.InitializeNonTransferableMint},n),new cMt.TransactionInstruction({keys:r,programId:e,data:n})}G_.createInitializeNonTransferableMintInstruction=fMt});var eCe=_(ed=>{"use strict";u();l();Object.defineProperty(ed,"__esModule",{value:!0});ed.decodeInitializePermanentDelegateInstructionUnchecked=ed.decodeInitializePermanentDelegateInstruction=ed.createInitializePermanentDelegateInstruction=ed.initializePermanentDelegateInstructionData=void 0;var ZRe=Ce(),pMt=gt(),hMt=we(),mMt=we(),yMt=yt(),RD=Lr(),JRe=on();ed.initializePermanentDelegateInstructionData=(0,ZRe.struct)([(0,ZRe.u8)("instruction"),(0,pMt.publicKey)("delegate")]);function gMt(t,e,r){if(!(0,yMt.programSupportsExtensions)(r))throw new RD.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!1,isWritable:!0}],i=Buffer.alloc(ed.initializePermanentDelegateInstructionData.span);return ed.initializePermanentDelegateInstructionData.encode({instruction:JRe.TokenInstruction.InitializePermanentDelegate,delegate:e||new hMt.PublicKey(0)},i),new mMt.TransactionInstruction({keys:n,programId:r,data:i})}ed.createInitializePermanentDelegateInstruction=gMt;function bMt(t,e){if(!t.programId.equals(e))throw new RD.TokenInvalidInstructionProgramError;if(t.data.length!==ed.initializePermanentDelegateInstructionData.span)throw new RD.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=QRe(t);if(n.instruction!==JRe.TokenInstruction.InitializePermanentDelegate)throw new RD.TokenInvalidInstructionTypeError;if(!r)throw new RD.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}ed.decodeInitializePermanentDelegateInstruction=bMt;function QRe({programId:t,keys:[e],data:r}){let{instruction:n,delegate:i}=ed.initializePermanentDelegateInstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,delegate:i}}}ed.decodeInitializePermanentDelegateInstructionUnchecked=QRe});var tCe=_($r=>{"use strict";u();l();var _Mt=$r&&$r.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vn=$r&&$r.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_Mt(e,t,r)};Object.defineProperty($r,"__esModule",{value:!0});vn(ek(),$r);vn(NRe(),$r);vn(on(),$r);vn(CK(),$r);vn(xD(),$r);vn(sK(),$r);vn(TK(),$r);vn(P6(),$r);vn(bK(),$r);vn(wK(),$r);vn(hK(),$r);vn(M6(),$r);vn(L6(),$r);vn(dK(),$r);vn(EK(),$r);vn(vK(),$r);vn(C6(),$r);vn(yK(),$r);vn(D6(),$r);vn(xne(),$r);vn(PD(),$r);vn(Pne(),$r);vn(URe(),$r);vn(nK(),$r);vn(qRe(),$r);vn(k6(),$r);vn(PK(),$r);vn(VRe(),$r);vn($Re(),$r);vn(wne(),$r);vn(XRe(),$r);vn(eCe(),$r)});var rCe=_(pb=>{"use strict";u();l();var SMt=pb&&pb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Cne=pb&&pb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&SMt(e,t,r)};Object.defineProperty(pb,"__esModule",{value:!0});Cne(Y1(),pb);Cne(sb(),pb);Cne($1(),pb)});var il=_(ep=>{"use strict";u();l();var wMt=ep&&ep.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Sk=ep&&ep.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&wMt(e,t,r)};Object.defineProperty(ep,"__esModule",{value:!0});Sk(dRe(),ep);Sk(yt(),ep);Sk(Lr(),ep);Sk(TRe(),ep);Sk(tCe(),ep);Sk(rCe(),ep)});var Bne=_(Ay=>{"use strict";u();l();var AMt=Ay&&Ay.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),EMt=Ay&&Ay.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IMt=Ay&&Ay.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AMt(e,t,r);return EMt(e,t),e};Object.defineProperty(Ay,"__esModule",{value:!0});Ay.approveUseAuthorityArgsBeet=void 0;var nCe=IMt(pe());Ay.approveUseAuthorityArgsBeet=new nCe.BeetArgsStruct([["numberOfUses",nCe.u64]],"ApproveUseAuthorityArgs")});var oCe=_(gc=>{"use strict";u();l();var TMt=gc&&gc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kMt=gc&&gc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Nne=gc&&gc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&TMt(e,t,r);return kMt(e,t),e};Object.defineProperty(gc,"__esModule",{value:!0});gc.createApproveUseAuthorityInstruction=gc.approveUseAuthorityInstructionDiscriminator=gc.ApproveUseAuthorityStruct=void 0;var vMt=Nne(il()),iCe=Nne(pe()),Mne=Nne(we()),xMt=Bne();gc.ApproveUseAuthorityStruct=new iCe.BeetArgsStruct([["instructionDiscriminator",iCe.u8],["approveUseAuthorityArgs",xMt.approveUseAuthorityArgsBeet]],"ApproveUseAuthorityInstructionArgs");gc.approveUseAuthorityInstructionDiscriminator=20;function PMt(t,e,r=new Mne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i;let[o]=gc.ApproveUseAuthorityStruct.serialize({instructionDiscriminator:gc.approveUseAuthorityInstructionDiscriminator,...e}),s=[{pubkey:t.useAuthorityRecord,isWritable:!0,isSigner:!1},{pubkey:t.owner,isWritable:!0,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.user,isWritable:!1,isSigner:!1},{pubkey:t.ownerTokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.burner,isWritable:!1,isSigner:!1},{pubkey:(n=t.tokenProgram)!==null&&n!==void 0?n:vMt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(i=t.systemProgram)!==null&&i!==void 0?i:Mne.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&s.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new Mne.TransactionInstruction({programId:r,keys:s,data:o})}gc.createApproveUseAuthorityInstruction=PMt});var LK=_(Ey=>{"use strict";u();l();var OMt=Ey&&Ey.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),RMt=Ey&&Ey.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CMt=Ey&&Ey.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&OMt(e,t,r);return RMt(e,t),e};Object.defineProperty(Ey,"__esModule",{value:!0});Ey.setCollectionSizeArgsBeet=void 0;var sCe=CMt(pe());Ey.setCollectionSizeArgsBeet=new sCe.BeetArgsStruct([["size",sCe.u64]],"SetCollectionSizeArgs")});var lCe=_(bc=>{"use strict";u();l();var BMt=bc&&bc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MMt=bc&&bc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uCe=bc&&bc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BMt(e,t,r);return MMt(e,t),e};Object.defineProperty(bc,"__esModule",{value:!0});bc.createBubblegumSetCollectionSizeInstruction=bc.bubblegumSetCollectionSizeInstructionDiscriminator=bc.BubblegumSetCollectionSizeStruct=void 0;var aCe=uCe(pe()),cCe=uCe(we()),NMt=LK();bc.BubblegumSetCollectionSizeStruct=new aCe.BeetArgsStruct([["instructionDiscriminator",aCe.u8],["setCollectionSizeArgs",NMt.setCollectionSizeArgsBeet]],"BubblegumSetCollectionSizeInstructionArgs");bc.bubblegumSetCollectionSizeInstructionDiscriminator=36;function DMt(t,e,r=new cCe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[n]=bc.BubblegumSetCollectionSizeStruct.serialize({instructionDiscriminator:bc.bubblegumSetCollectionSizeInstructionDiscriminator,...e}),i=[{pubkey:t.collectionMetadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.bubblegumSigner,isWritable:!1,isSigner:!0}];return t.collectionAuthorityRecord!=null&&i.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new cCe.TransactionInstruction({programId:r,keys:i,data:n})}bc.createBubblegumSetCollectionSizeInstruction=DMt});var Une=_(tp=>{"use strict";u();l();var UMt=tp&&tp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LMt=tp&&tp.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zMt=tp&&tp.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UMt(e,t,r);return LMt(e,t),e};Object.defineProperty(tp,"__esModule",{value:!0});tp.burnArgsBeet=tp.isBurnArgsV1=void 0;var Dne=zMt(pe()),FMt=t=>t.__kind==="V1";tp.isBurnArgsV1=FMt;tp.burnArgsBeet=Dne.dataEnum([["V1",new Dne.BeetArgsStruct([["amount",Dne.u64]],'BurnArgsRecord["V1"]')]])});var pCe=_(_c=>{"use strict";u();l();var qMt=_c&&_c.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jMt=_c&&_c.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fCe=_c&&_c.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qMt(e,t,r);return jMt(e,t),e};Object.defineProperty(_c,"__esModule",{value:!0});_c.createBurnInstruction=_c.burnInstructionDiscriminator=_c.BurnStruct=void 0;var dCe=fCe(pe()),Lne=fCe(we()),KMt=Une();_c.BurnStruct=new dCe.FixableBeetArgsStruct([["instructionDiscriminator",dCe.u8],["burnArgs",KMt.burnArgsBeet]],"BurnInstructionArgs");_c.burnInstructionDiscriminator=41;function WMt(t,e,r=new Lne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c,d,f;let[p]=_c.BurnStruct.serialize({instructionDiscriminator:_c.burnInstructionDiscriminator,...e}),m=[{pubkey:t.authority,isWritable:!0,isSigner:!0},{pubkey:(n=t.collectionMetadata)!==null&&n!==void 0?n:r,isWritable:t.collectionMetadata!=null,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(i=t.edition)!==null&&i!==void 0?i:r,isWritable:t.edition!=null,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.token,isWritable:!0,isSigner:!1},{pubkey:(o=t.masterEdition)!==null&&o!==void 0?o:r,isWritable:t.masterEdition!=null,isSigner:!1},{pubkey:(s=t.masterEditionMint)!==null&&s!==void 0?s:r,isWritable:!1,isSigner:!1},{pubkey:(a=t.masterEditionToken)!==null&&a!==void 0?a:r,isWritable:!1,isSigner:!1},{pubkey:(c=t.editionMarker)!==null&&c!==void 0?c:r,isWritable:t.editionMarker!=null,isSigner:!1},{pubkey:(d=t.tokenRecord)!==null&&d!==void 0?d:r,isWritable:t.tokenRecord!=null,isSigner:!1},{pubkey:(f=t.systemProgram)!==null&&f!==void 0?f:Lne.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:t.splTokenProgram,isWritable:!1,isSigner:!1}];return new Lne.TransactionInstruction({programId:r,keys:m,data:p})}_c.createBurnInstruction=WMt});var gCe=_(Sc=>{"use strict";u();l();var VMt=Sc&&Sc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GMt=Sc&&Sc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yCe=Sc&&Sc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&VMt(e,t,r);return GMt(e,t),e};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.createBurnEditionNftInstruction=Sc.burnEditionNftInstructionDiscriminator=Sc.BurnEditionNftStruct=void 0;var hCe=yCe(pe()),mCe=yCe(we());Sc.BurnEditionNftStruct=new hCe.BeetArgsStruct([["instructionDiscriminator",hCe.u8]],"BurnEditionNftInstructionArgs");Sc.burnEditionNftInstructionDiscriminator=37;function HMt(t,e=new mCe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Sc.BurnEditionNftStruct.serialize({instructionDiscriminator:Sc.burnEditionNftInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.owner,isWritable:!0,isSigner:!0},{pubkey:t.printEditionMint,isWritable:!0,isSigner:!1},{pubkey:t.masterEditionMint,isWritable:!1,isSigner:!1},{pubkey:t.printEditionTokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.masterEditionTokenAccount,isWritable:!1,isSigner:!1},{pubkey:t.masterEditionAccount,isWritable:!0,isSigner:!1},{pubkey:t.printEditionAccount,isWritable:!0,isSigner:!1},{pubkey:t.editionMarkerAccount,isWritable:!0,isSigner:!1},{pubkey:t.splTokenProgram,isWritable:!1,isSigner:!1}];return new mCe.TransactionInstruction({programId:e,keys:n,data:r})}Sc.createBurnEditionNftInstruction=HMt});var wCe=_(wc=>{"use strict";u();l();var $Mt=wc&&wc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),YMt=wc&&wc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SCe=wc&&wc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$Mt(e,t,r);return YMt(e,t),e};Object.defineProperty(wc,"__esModule",{value:!0});wc.createBurnNftInstruction=wc.burnNftInstructionDiscriminator=wc.BurnNftStruct=void 0;var bCe=SCe(pe()),_Ce=SCe(we());wc.BurnNftStruct=new bCe.BeetArgsStruct([["instructionDiscriminator",bCe.u8]],"BurnNftInstructionArgs");wc.burnNftInstructionDiscriminator=29;function XMt(t,e=new _Ce.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=wc.BurnNftStruct.serialize({instructionDiscriminator:wc.burnNftInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.owner,isWritable:!0,isSigner:!0},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.masterEditionAccount,isWritable:!0,isSigner:!1},{pubkey:t.splTokenProgram,isWritable:!1,isSigner:!1}];return t.collectionMetadata!=null&&n.push({pubkey:t.collectionMetadata,isWritable:!0,isSigner:!1}),new _Ce.TransactionInstruction({programId:e,keys:n,data:r})}wc.createBurnNftInstruction=XMt});var ICe=_(Ac=>{"use strict";u();l();var ZMt=Ac&&Ac.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JMt=Ac&&Ac.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ECe=Ac&&Ac.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZMt(e,t,r);return JMt(e,t),e};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.createCloseEscrowAccountInstruction=Ac.closeEscrowAccountInstructionDiscriminator=Ac.CloseEscrowAccountStruct=void 0;var ACe=ECe(pe()),zne=ECe(we());Ac.CloseEscrowAccountStruct=new ACe.BeetArgsStruct([["instructionDiscriminator",ACe.u8]],"CloseEscrowAccountInstructionArgs");Ac.closeEscrowAccountInstructionDiscriminator=39;function QMt(t,e=new zne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r;let[n]=Ac.CloseEscrowAccountStruct.serialize({instructionDiscriminator:Ac.closeEscrowAccountInstructionDiscriminator}),i=[{pubkey:t.escrow,isWritable:!0,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.tokenAccount,isWritable:!1,isSigner:!1},{pubkey:t.edition,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(r=t.systemProgram)!==null&&r!==void 0?r:zne.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1}];return new zne.TransactionInstruction({programId:e,keys:i,data:n})}Ac.createCloseEscrowAccountInstruction=QMt});var xCe=_(Ec=>{"use strict";u();l();var eNt=Ec&&Ec.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tNt=Ec&&Ec.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vCe=Ec&&Ec.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&eNt(e,t,r);return tNt(e,t),e};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.createCollectInstruction=Ec.collectInstructionDiscriminator=Ec.CollectStruct=void 0;var TCe=vCe(pe()),kCe=vCe(we());Ec.CollectStruct=new TCe.BeetArgsStruct([["instructionDiscriminator",TCe.u8]],"CollectInstructionArgs");Ec.collectInstructionDiscriminator=54;function rNt(t,e=new kCe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Ec.CollectStruct.serialize({instructionDiscriminator:Ec.collectInstructionDiscriminator}),n=[{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:t.pdaAccount,isWritable:!1,isSigner:!1}];return new kCe.TransactionInstruction({programId:e,keys:n,data:r})}Ec.createCollectInstruction=rNt});var CCe=_(Ic=>{"use strict";u();l();var nNt=Ic&&Ic.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iNt=Ic&&Ic.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RCe=Ic&&Ic.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nNt(e,t,r);return iNt(e,t),e};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.createConvertMasterEditionV1ToV2Instruction=Ic.convertMasterEditionV1ToV2InstructionDiscriminator=Ic.ConvertMasterEditionV1ToV2Struct=void 0;var PCe=RCe(pe()),OCe=RCe(we());Ic.ConvertMasterEditionV1ToV2Struct=new PCe.BeetArgsStruct([["instructionDiscriminator",PCe.u8]],"ConvertMasterEditionV1ToV2InstructionArgs");Ic.convertMasterEditionV1ToV2InstructionDiscriminator=12;function oNt(t,e=new OCe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Ic.ConvertMasterEditionV1ToV2Struct.serialize({instructionDiscriminator:Ic.convertMasterEditionV1ToV2InstructionDiscriminator}),n=[{pubkey:t.masterEdition,isWritable:!0,isSigner:!1},{pubkey:t.oneTimeAuth,isWritable:!0,isSigner:!1},{pubkey:t.printingMint,isWritable:!0,isSigner:!1}];return new OCe.TransactionInstruction({programId:e,keys:n,data:r})}Ic.createConvertMasterEditionV1ToV2Instruction=oNt});var Fne=_(Iy=>{"use strict";u();l();var sNt=Iy&&Iy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aNt=Iy&&Iy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),BCe=Iy&&Iy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&sNt(e,t,r);return aNt(e,t),e};Object.defineProperty(Iy,"__esModule",{value:!0});Iy.assetDataBeet=void 0;var ef=BCe(pe()),cNt=BCe(Jr()),uNt=SC(),lNt=A1(),dNt=KA(),fNt=WA(),pNt=VA();Iy.assetDataBeet=new ef.FixableBeetArgsStruct([["name",ef.utf8String],["symbol",ef.utf8String],["uri",ef.utf8String],["sellerFeeBasisPoints",ef.u16],["creators",ef.coption(ef.array(uNt.creatorBeet))],["primarySaleHappened",ef.bool],["isMutable",ef.bool],["tokenStandard",lNt.tokenStandardBeet],["collection",ef.coption(dNt.collectionBeet)],["uses",ef.coption(fNt.usesBeet)],["collectionDetails",ef.coption(pNt.collectionDetailsBeet)],["ruleSet",ef.coption(cNt.publicKey)]],"AssetData")});var qne=_(Tc=>{"use strict";u();l();var hNt=Tc&&Tc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mNt=Tc&&Tc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yNt=Tc&&Tc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hNt(e,t,r);return mNt(e,t),e};Object.defineProperty(Tc,"__esModule",{value:!0});Tc.printSupplyBeet=Tc.isPrintSupplyUnlimited=Tc.isPrintSupplyLimited=Tc.isPrintSupplyZero=void 0;var wk=yNt(pe()),gNt=t=>t.__kind==="Zero";Tc.isPrintSupplyZero=gNt;var bNt=t=>t.__kind==="Limited";Tc.isPrintSupplyLimited=bNt;var _Nt=t=>t.__kind==="Unlimited";Tc.isPrintSupplyUnlimited=_Nt;Tc.printSupplyBeet=wk.dataEnum([["Zero",wk.unit],["Limited",new wk.BeetArgsStruct([["fields",wk.fixedSizeTuple([wk.u64])]],'PrintSupplyRecord["Limited"]')],["Unlimited",wk.unit]])});var jne=_(rp=>{"use strict";u();l();var SNt=rp&&rp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wNt=rp&&rp.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ANt=rp&&rp.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SNt(e,t,r);return wNt(e,t),e};Object.defineProperty(rp,"__esModule",{value:!0});rp.createArgsBeet=rp.isCreateArgsV1=void 0;var CD=ANt(pe()),ENt=Fne(),INt=qne(),TNt=t=>t.__kind==="V1";rp.isCreateArgsV1=TNt;rp.createArgsBeet=CD.dataEnum([["V1",new CD.FixableBeetArgsStruct([["assetData",ENt.assetDataBeet],["decimals",CD.coption(CD.u8)],["printSupply",CD.coption(INt.printSupplyBeet)]],'CreateArgsRecord["V1"]')]])});var DCe=_(kc=>{"use strict";u();l();var kNt=kc&&kc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vNt=kc&&kc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NCe=kc&&kc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kNt(e,t,r);return vNt(e,t),e};Object.defineProperty(kc,"__esModule",{value:!0});kc.createCreateInstruction=kc.createInstructionDiscriminator=kc.CreateStruct=void 0;var MCe=NCe(pe()),Kne=NCe(we()),xNt=jne();kc.CreateStruct=new MCe.FixableBeetArgsStruct([["instructionDiscriminator",MCe.u8],["createArgs",xNt.createArgsBeet]],"CreateInstructionArgs");kc.createInstructionDiscriminator=42;function PNt(t,e,r=new Kne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i;let[o]=kc.CreateStruct.serialize({instructionDiscriminator:kc.createInstructionDiscriminator,...e}),s=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(n=t.masterEdition)!==null&&n!==void 0?n:r,isWritable:t.masterEdition!=null,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:(i=t.systemProgram)!==null&&i!==void 0?i:Kne.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:t.splTokenProgram,isWritable:!1,isSigner:!1}];return new Kne.TransactionInstruction({programId:r,keys:s,data:o})}kc.createCreateInstruction=PNt});var zCe=_(vc=>{"use strict";u();l();var ONt=vc&&vc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),RNt=vc&&vc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),LCe=vc&&vc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ONt(e,t,r);return RNt(e,t),e};Object.defineProperty(vc,"__esModule",{value:!0});vc.createCreateEscrowAccountInstruction=vc.createEscrowAccountInstructionDiscriminator=vc.CreateEscrowAccountStruct=void 0;var UCe=LCe(pe()),Wne=LCe(we());vc.CreateEscrowAccountStruct=new UCe.BeetArgsStruct([["instructionDiscriminator",UCe.u8]],"CreateEscrowAccountInstructionArgs");vc.createEscrowAccountInstructionDiscriminator=38;function CNt(t,e=new Wne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r;let[n]=vc.CreateEscrowAccountStruct.serialize({instructionDiscriminator:vc.createEscrowAccountInstructionDiscriminator}),i=[{pubkey:t.escrow,isWritable:!0,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.tokenAccount,isWritable:!1,isSigner:!1},{pubkey:t.edition,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(r=t.systemProgram)!==null&&r!==void 0?r:Wne.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1}];return t.authority!=null&&i.push({pubkey:t.authority,isWritable:!1,isSigner:!0}),new Wne.TransactionInstruction({programId:e,keys:i,data:n})}vc.createCreateEscrowAccountInstruction=CNt});var qCe=_(xc=>{"use strict";u();l();var BNt=xc&&xc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MNt=xc&&xc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Vne=xc&&xc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BNt(e,t,r);return MNt(e,t),e};Object.defineProperty(xc,"__esModule",{value:!0});xc.createCreateMasterEditionInstruction=xc.createMasterEditionInstructionDiscriminator=xc.CreateMasterEditionStruct=void 0;var NNt=Vne(il()),FCe=Vne(pe()),zK=Vne(we());xc.CreateMasterEditionStruct=new FCe.BeetArgsStruct([["instructionDiscriminator",FCe.u8]],"CreateMasterEditionInstructionArgs");xc.createMasterEditionInstructionDiscriminator=10;function DNt(t,e=new zK.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n,i;let[o]=xc.CreateMasterEditionStruct.serialize({instructionDiscriminator:xc.createMasterEditionInstructionDiscriminator}),s=[{pubkey:t.edition,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:t.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:NNt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:zK.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:(i=t.rent)!==null&&i!==void 0?i:zK.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new zK.TransactionInstruction({programId:e,keys:s,data:o})}xc.createCreateMasterEditionInstruction=DNt});var Hne=_(Ty=>{"use strict";u();l();var UNt=Ty&&Ty.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LNt=Ty&&Ty.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zNt=Ty&&Ty.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UNt(e,t,r);return LNt(e,t),e};Object.defineProperty(Ty,"__esModule",{value:!0});Ty.createMasterEditionArgsBeet=void 0;var Gne=zNt(pe());Ty.createMasterEditionArgsBeet=new Gne.FixableBeetArgsStruct([["maxSupply",Gne.coption(Gne.u64)]],"CreateMasterEditionArgs")});var KCe=_(Pc=>{"use strict";u();l();var FNt=Pc&&Pc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qNt=Pc&&Pc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Yne=Pc&&Pc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&FNt(e,t,r);return qNt(e,t),e};Object.defineProperty(Pc,"__esModule",{value:!0});Pc.createCreateMasterEditionV3Instruction=Pc.createMasterEditionV3InstructionDiscriminator=Pc.CreateMasterEditionV3Struct=void 0;var jNt=Yne(il()),jCe=Yne(pe()),$ne=Yne(we()),KNt=Hne();Pc.CreateMasterEditionV3Struct=new jCe.FixableBeetArgsStruct([["instructionDiscriminator",jCe.u8],["createMasterEditionArgs",KNt.createMasterEditionArgsBeet]],"CreateMasterEditionV3InstructionArgs");Pc.createMasterEditionV3InstructionDiscriminator=17;function WNt(t,e,r=new $ne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i;let[o]=Pc.CreateMasterEditionV3Struct.serialize({instructionDiscriminator:Pc.createMasterEditionV3InstructionDiscriminator,...e}),s=[{pubkey:t.edition,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:t.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(n=t.tokenProgram)!==null&&n!==void 0?n:jNt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(i=t.systemProgram)!==null&&i!==void 0?i:$ne.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&s.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new $ne.TransactionInstruction({programId:r,keys:s,data:o})}Pc.createCreateMasterEditionV3Instruction=WNt});var GCe=_(Oc=>{"use strict";u();l();var VNt=Oc&&Oc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GNt=Oc&&Oc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VCe=Oc&&Oc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&VNt(e,t,r);return GNt(e,t),e};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.createCreateMetadataAccountInstruction=Oc.createMetadataAccountInstructionDiscriminator=Oc.CreateMetadataAccountStruct=void 0;var WCe=VCe(pe()),FK=VCe(we());Oc.CreateMetadataAccountStruct=new WCe.BeetArgsStruct([["instructionDiscriminator",WCe.u8]],"CreateMetadataAccountInstructionArgs");Oc.createMetadataAccountInstructionDiscriminator=0;function HNt(t,e=new FK.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n;let[i]=Oc.CreateMetadataAccountStruct.serialize({instructionDiscriminator:Oc.createMetadataAccountInstructionDiscriminator}),o=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:(r=t.systemProgram)!==null&&r!==void 0?r:FK.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:(n=t.rent)!==null&&n!==void 0?n:FK.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new FK.TransactionInstruction({programId:e,keys:o,data:i})}Oc.createCreateMetadataAccountInstruction=HNt});var YCe=_(Rc=>{"use strict";u();l();var $Nt=Rc&&Rc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),YNt=Rc&&Rc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$Ce=Rc&&Rc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$Nt(e,t,r);return YNt(e,t),e};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.createCreateMetadataAccountV2Instruction=Rc.createMetadataAccountV2InstructionDiscriminator=Rc.CreateMetadataAccountV2Struct=void 0;var HCe=$Ce(pe()),Xne=$Ce(we());Rc.CreateMetadataAccountV2Struct=new HCe.BeetArgsStruct([["instructionDiscriminator",HCe.u8]],"CreateMetadataAccountV2InstructionArgs");Rc.createMetadataAccountV2InstructionDiscriminator=16;function XNt(t,e=new Xne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r;let[n]=Rc.CreateMetadataAccountV2Struct.serialize({instructionDiscriminator:Rc.createMetadataAccountV2InstructionDiscriminator}),i=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:(r=t.systemProgram)!==null&&r!==void 0?r:Xne.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&i.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new Xne.TransactionInstruction({programId:e,keys:i,data:n})}Rc.createCreateMetadataAccountV2Instruction=XNt});var qK=_(ky=>{"use strict";u();l();var ZNt=ky&&ky.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JNt=ky&&ky.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QNt=ky&&ky.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZNt(e,t,r);return JNt(e,t),e};Object.defineProperty(ky,"__esModule",{value:!0});ky.dataV2Beet=void 0;var hb=QNt(pe()),eDt=SC(),tDt=KA(),rDt=WA();ky.dataV2Beet=new hb.FixableBeetArgsStruct([["name",hb.utf8String],["symbol",hb.utf8String],["uri",hb.utf8String],["sellerFeeBasisPoints",hb.u16],["creators",hb.coption(hb.array(eDt.creatorBeet))],["collection",hb.coption(tDt.collectionBeet)],["uses",hb.coption(rDt.usesBeet)]],"DataV2")});var Jne=_(vy=>{"use strict";u();l();var nDt=vy&&vy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iDt=vy&&vy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oDt=vy&&vy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nDt(e,t,r);return iDt(e,t),e};Object.defineProperty(vy,"__esModule",{value:!0});vy.createMetadataAccountArgsV3Beet=void 0;var Zne=oDt(pe()),sDt=qK(),aDt=VA();vy.createMetadataAccountArgsV3Beet=new Zne.FixableBeetArgsStruct([["data",sDt.dataV2Beet],["isMutable",Zne.bool],["collectionDetails",Zne.coption(aDt.collectionDetailsBeet)]],"CreateMetadataAccountArgsV3")});var JCe=_(Cc=>{"use strict";u();l();var cDt=Cc&&Cc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),uDt=Cc&&Cc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZCe=Cc&&Cc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cDt(e,t,r);return uDt(e,t),e};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.createCreateMetadataAccountV3Instruction=Cc.createMetadataAccountV3InstructionDiscriminator=Cc.CreateMetadataAccountV3Struct=void 0;var XCe=ZCe(pe()),Qne=ZCe(we()),lDt=Jne();Cc.CreateMetadataAccountV3Struct=new XCe.FixableBeetArgsStruct([["instructionDiscriminator",XCe.u8],["createMetadataAccountArgsV3",lDt.createMetadataAccountArgsV3Beet]],"CreateMetadataAccountV3InstructionArgs");Cc.createMetadataAccountV3InstructionDiscriminator=33;function dDt(t,e,r=new Qne.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n;let[i]=Cc.CreateMetadataAccountV3Struct.serialize({instructionDiscriminator:Cc.createMetadataAccountV3InstructionDiscriminator,...e}),o=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:Qne.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&o.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new Qne.TransactionInstruction({programId:r,keys:o,data:i})}Cc.createCreateMetadataAccountV3Instruction=dDt});var tie=_(xy=>{"use strict";u();l();var fDt=xy&&xy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pDt=xy&&xy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hDt=xy&&xy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fDt(e,t,r);return pDt(e,t),e};Object.defineProperty(xy,"__esModule",{value:!0});xy.seedsVecBeet=void 0;var eie=hDt(pe());xy.seedsVecBeet=new eie.FixableBeetArgsStruct([["seeds",eie.array(eie.bytes)]],"SeedsVec")});var rie=_(Py=>{"use strict";u();l();var mDt=Py&&Py.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yDt=Py&&Py.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gDt=Py&&Py.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mDt(e,t,r);return yDt(e,t),e};Object.defineProperty(Py,"__esModule",{value:!0});Py.leafInfoBeet=void 0;var Ak=gDt(pe());Py.leafInfoBeet=new Ak.FixableBeetArgsStruct([["leaf",Ak.uniformFixedSizeArray(Ak.u8,32)],["proof",Ak.array(Ak.uniformFixedSizeArray(Ak.u8,32))]],"LeafInfo")});var nie=_(Ys=>{"use strict";u();l();var bDt=Ys&&Ys.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_Dt=Ys&&Ys.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QCe=Ys&&Ys.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bDt(e,t,r);return _Dt(e,t),e};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.payloadTypeBeet=Ys.isPayloadTypeNumber=Ys.isPayloadTypeMerkleProof=Ys.isPayloadTypeSeeds=Ys.isPayloadTypePubkey=void 0;var Oy=QCe(pe()),SDt=QCe(Jr()),wDt=tie(),ADt=rie(),EDt=t=>t.__kind==="Pubkey";Ys.isPayloadTypePubkey=EDt;var IDt=t=>t.__kind==="Seeds";Ys.isPayloadTypeSeeds=IDt;var TDt=t=>t.__kind==="MerkleProof";Ys.isPayloadTypeMerkleProof=TDt;var kDt=t=>t.__kind==="Number";Ys.isPayloadTypeNumber=kDt;Ys.payloadTypeBeet=Oy.dataEnum([["Pubkey",new Oy.BeetArgsStruct([["fields",Oy.fixedSizeTuple([SDt.publicKey])]],'PayloadTypeRecord["Pubkey"]')],["Seeds",new Oy.FixableBeetArgsStruct([["fields",Oy.tuple([wDt.seedsVecBeet])]],'PayloadTypeRecord["Seeds"]')],["MerkleProof",new Oy.FixableBeetArgsStruct([["fields",Oy.tuple([ADt.leafInfoBeet])]],'PayloadTypeRecord["MerkleProof"]')],["Number",new Oy.BeetArgsStruct([["fields",Oy.fixedSizeTuple([Oy.u64])]],'PayloadTypeRecord["Number"]')]])});var oie=_(Ry=>{"use strict";u();l();var vDt=Ry&&Ry.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xDt=Ry&&Ry.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PDt=Ry&&Ry.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vDt(e,t,r);return xDt(e,t),e};Object.defineProperty(Ry,"__esModule",{value:!0});Ry.payloadBeet=void 0;var iie=PDt(pe()),ODt=nie();Ry.payloadBeet=new iie.FixableBeetArgsStruct([["map",iie.map(iie.utf8String,ODt.payloadTypeBeet)]],"Payload")});var mb=_(Cy=>{"use strict";u();l();var RDt=Cy&&Cy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CDt=Cy&&Cy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),BDt=Cy&&Cy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&RDt(e,t,r);return CDt(e,t),e};Object.defineProperty(Cy,"__esModule",{value:!0});Cy.authorizationDataBeet=void 0;var MDt=BDt(pe()),NDt=oie();Cy.authorizationDataBeet=new MDt.FixableBeetArgsStruct([["payload",NDt.payloadBeet]],"AuthorizationData")});var sie=_(sn=>{"use strict";u();l();var DDt=sn&&sn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UDt=sn&&sn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eBe=sn&&sn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&DDt(e,t,r);return UDt(e,t),e};Object.defineProperty(sn,"__esModule",{value:!0});sn.delegateArgsBeet=sn.isDelegateArgsProgrammableConfigItemV1=sn.isDelegateArgsCollectionItemV1=sn.isDelegateArgsDataItemV1=sn.isDelegateArgsAuthorityItemV1=sn.isDelegateArgsProgrammableConfigV1=sn.isDelegateArgsLockedTransferV1=sn.isDelegateArgsStandardV1=sn.isDelegateArgsStakingV1=sn.isDelegateArgsUtilityV1=sn.isDelegateArgsDataV1=sn.isDelegateArgsTransferV1=sn.isDelegateArgsSaleV1=sn.isDelegateArgsCollectionV1=void 0;var xn=eBe(pe()),LDt=eBe(Jr()),np=mb(),zDt=t=>t.__kind==="CollectionV1";sn.isDelegateArgsCollectionV1=zDt;var FDt=t=>t.__kind==="SaleV1";sn.isDelegateArgsSaleV1=FDt;var qDt=t=>t.__kind==="TransferV1";sn.isDelegateArgsTransferV1=qDt;var jDt=t=>t.__kind==="DataV1";sn.isDelegateArgsDataV1=jDt;var KDt=t=>t.__kind==="UtilityV1";sn.isDelegateArgsUtilityV1=KDt;var WDt=t=>t.__kind==="StakingV1";sn.isDelegateArgsStakingV1=WDt;var VDt=t=>t.__kind==="StandardV1";sn.isDelegateArgsStandardV1=VDt;var GDt=t=>t.__kind==="LockedTransferV1";sn.isDelegateArgsLockedTransferV1=GDt;var HDt=t=>t.__kind==="ProgrammableConfigV1";sn.isDelegateArgsProgrammableConfigV1=HDt;var $Dt=t=>t.__kind==="AuthorityItemV1";sn.isDelegateArgsAuthorityItemV1=$Dt;var YDt=t=>t.__kind==="DataItemV1";sn.isDelegateArgsDataItemV1=YDt;var XDt=t=>t.__kind==="CollectionItemV1";sn.isDelegateArgsCollectionItemV1=XDt;var ZDt=t=>t.__kind==="ProgrammableConfigItemV1";sn.isDelegateArgsProgrammableConfigItemV1=ZDt;sn.delegateArgsBeet=xn.dataEnum([["CollectionV1",new xn.FixableBeetArgsStruct([["authorizationData",xn.coption(np.authorizationDataBeet)]],'DelegateArgsRecord["CollectionV1"]')],["SaleV1",new xn.FixableBeetArgsStruct([["amount",xn.u64],["authorizationData",xn.coption(np.authorizationDataBeet)]],'DelegateArgsRecord["SaleV1"]')],["TransferV1",new xn.FixableBeetArgsStruct([["amount",xn.u64],["authorizationData",xn.coption(np.authorizationDataBeet)]],'DelegateArgsRecord["TransferV1"]')],["DataV1",new xn.FixableBeetArgsStruct([["authorizationData",xn.coption(np.authorizationDataBeet)]],'DelegateArgsRecord["DataV1"]')],["UtilityV1",new xn.FixableBeetArgsStruct([["amount",xn.u64],["authorizationData",xn.coption(np.authorizationDataBeet)]],'DelegateArgsRecord["UtilityV1"]')],["StakingV1",new xn.FixableBeetArgsStruct([["amount",xn.u64],["authorizationData",xn.coption(np.authorizationDataBeet)]],'DelegateArgsRecord["StakingV1"]')],["StandardV1",new xn.BeetArgsStruct([["amount",xn.u64]],'DelegateArgsRecord["StandardV1"]')],["LockedTransferV1",new xn.FixableBeetArgsStruct([["amount",xn.u64],["lockedAddress",LDt.publicKey],["authorizationData",xn.coption(np.authorizationDataBeet)]],'DelegateArgsRecord["LockedTransferV1"]')],["ProgrammableConfigV1",new xn.FixableBeetArgsStruct([["authorizationData",xn.coption(np.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigV1"]')],["AuthorityItemV1",new xn.FixableBeetArgsStruct([["authorizationData",xn.coption(np.authorizationDataBeet)]],'DelegateArgsRecord["AuthorityItemV1"]')],["DataItemV1",new xn.FixableBeetArgsStruct([["authorizationData",xn.coption(np.authorizationDataBeet)]],'DelegateArgsRecord["DataItemV1"]')],["CollectionItemV1",new xn.FixableBeetArgsStruct([["authorizationData",xn.coption(np.authorizationDataBeet)]],'DelegateArgsRecord["CollectionItemV1"]')],["ProgrammableConfigItemV1",new xn.FixableBeetArgsStruct([["authorizationData",xn.coption(np.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigItemV1"]')]])});var nBe=_(Bc=>{"use strict";u();l();var JDt=Bc&&Bc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QDt=Bc&&Bc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rBe=Bc&&Bc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&JDt(e,t,r);return QDt(e,t),e};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.createDelegateInstruction=Bc.delegateInstructionDiscriminator=Bc.DelegateStruct=void 0;var tBe=rBe(pe()),aie=rBe(we()),eUt=sie();Bc.DelegateStruct=new tBe.FixableBeetArgsStruct([["instructionDiscriminator",tBe.u8],["delegateArgs",eUt.delegateArgsBeet]],"DelegateInstructionArgs");Bc.delegateInstructionDiscriminator=44;function tUt(t,e,r=new aie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c,d,f;let[p]=Bc.DelegateStruct.serialize({instructionDiscriminator:Bc.delegateInstructionDiscriminator,...e}),m=[{pubkey:(n=t.delegateRecord)!==null&&n!==void 0?n:r,isWritable:t.delegateRecord!=null,isSigner:!1},{pubkey:t.delegate,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(i=t.masterEdition)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:(o=t.tokenRecord)!==null&&o!==void 0?o:r,isWritable:t.tokenRecord!=null,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:(s=t.token)!==null&&s!==void 0?s:r,isWritable:t.token!=null,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(a=t.systemProgram)!==null&&a!==void 0?a:aie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:(c=t.splTokenProgram)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1},{pubkey:(d=t.authorizationRulesProgram)!==null&&d!==void 0?d:r,isWritable:!1,isSigner:!1},{pubkey:(f=t.authorizationRules)!==null&&f!==void 0?f:r,isWritable:!1,isSigner:!1}];return new aie.TransactionInstruction({programId:r,keys:m,data:p})}Bc.createDelegateInstruction=tUt});var oBe=_(Mc=>{"use strict";u();l();var rUt=Mc&&Mc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nUt=Mc&&Mc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cie=Mc&&Mc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rUt(e,t,r);return nUt(e,t),e};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.createDeprecatedCreateMasterEditionInstruction=Mc.deprecatedCreateMasterEditionInstructionDiscriminator=Mc.DeprecatedCreateMasterEditionStruct=void 0;var iUt=cie(il()),iBe=cie(pe()),jK=cie(we());Mc.DeprecatedCreateMasterEditionStruct=new iBe.BeetArgsStruct([["instructionDiscriminator",iBe.u8]],"DeprecatedCreateMasterEditionInstructionArgs");Mc.deprecatedCreateMasterEditionInstructionDiscriminator=2;function oUt(t,e=new jK.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n,i;let[o]=Mc.DeprecatedCreateMasterEditionStruct.serialize({instructionDiscriminator:Mc.deprecatedCreateMasterEditionInstructionDiscriminator}),s=[{pubkey:t.edition,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.printingMint,isWritable:!0,isSigner:!1},{pubkey:t.oneTimePrintingAuthorizationMint,isWritable:!0,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:t.printingMintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:iUt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:jK.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:(i=t.rent)!==null&&i!==void 0?i:jK.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:t.oneTimePrintingAuthorizationMintAuthority,isWritable:!1,isSigner:!0}];return new jK.TransactionInstruction({programId:e,keys:s,data:o})}Mc.createDeprecatedCreateMasterEditionInstruction=oUt});var cBe=_(Nc=>{"use strict";u();l();var sUt=Nc&&Nc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aUt=Nc&&Nc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aBe=Nc&&Nc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&sUt(e,t,r);return aUt(e,t),e};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.createDeprecatedCreateReservationListInstruction=Nc.deprecatedCreateReservationListInstructionDiscriminator=Nc.DeprecatedCreateReservationListStruct=void 0;var sBe=aBe(pe()),KK=aBe(we());Nc.DeprecatedCreateReservationListStruct=new sBe.BeetArgsStruct([["instructionDiscriminator",sBe.u8]],"DeprecatedCreateReservationListInstructionArgs");Nc.deprecatedCreateReservationListInstructionDiscriminator=6;function cUt(t,e=new KK.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n;let[i]=Nc.DeprecatedCreateReservationListStruct.serialize({instructionDiscriminator:Nc.deprecatedCreateReservationListInstructionDiscriminator}),o=[{pubkey:t.reservationList,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:t.masterEdition,isWritable:!1,isSigner:!1},{pubkey:t.resource,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:(r=t.systemProgram)!==null&&r!==void 0?r:KK.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:(n=t.rent)!==null&&n!==void 0?n:KK.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new KK.TransactionInstruction({programId:e,keys:o,data:i})}Nc.createDeprecatedCreateReservationListInstruction=cUt});var lBe=_(Dc=>{"use strict";u();l();var uUt=Dc&&Dc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lUt=Dc&&Dc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uie=Dc&&Dc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uUt(e,t,r);return lUt(e,t),e};Object.defineProperty(Dc,"__esModule",{value:!0});Dc.createDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstruction=Dc.deprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDiscriminator=Dc.DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenStruct=void 0;var dUt=uie(il()),uBe=uie(pe()),WK=uie(we());Dc.DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenStruct=new uBe.BeetArgsStruct([["instructionDiscriminator",uBe.u8]],"DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionArgs");Dc.deprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDiscriminator=3;function fUt(t,e=new WK.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n,i;let[o]=Dc.DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenStruct.serialize({instructionDiscriminator:Dc.deprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDiscriminator}),s=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.edition,isWritable:!0,isSigner:!1},{pubkey:t.masterEdition,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.printingMint,isWritable:!0,isSigner:!1},{pubkey:t.masterTokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.editionMarker,isWritable:!0,isSigner:!1},{pubkey:t.burnAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.masterUpdateAuthority,isWritable:!1,isSigner:!1},{pubkey:t.masterMetadata,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:dUt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:WK.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:(i=t.rent)!==null&&i!==void 0?i:WK.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return t.reservationList!=null&&s.push({pubkey:t.reservationList,isWritable:!0,isSigner:!1}),new WK.TransactionInstruction({programId:e,keys:s,data:o})}Dc.createDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstruction=fUt});var fBe=_(Uc=>{"use strict";u();l();var pUt=Uc&&Uc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hUt=Uc&&Uc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),die=Uc&&Uc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pUt(e,t,r);return hUt(e,t),e};Object.defineProperty(Uc,"__esModule",{value:!0});Uc.createDeprecatedMintPrintingTokensInstruction=Uc.deprecatedMintPrintingTokensInstructionDiscriminator=Uc.DeprecatedMintPrintingTokensStruct=void 0;var mUt=die(il()),dBe=die(pe()),lie=die(we());Uc.DeprecatedMintPrintingTokensStruct=new dBe.BeetArgsStruct([["instructionDiscriminator",dBe.u8]],"DeprecatedMintPrintingTokensInstructionArgs");Uc.deprecatedMintPrintingTokensInstructionDiscriminator=9;function yUt(t,e=new lie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n;let[i]=Uc.DeprecatedMintPrintingTokensStruct.serialize({instructionDiscriminator:Uc.deprecatedMintPrintingTokensInstructionDiscriminator}),o=[{pubkey:t.destination,isWritable:!0,isSigner:!1},{pubkey:t.printingMint,isWritable:!0,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.masterEdition,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:mUt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(n=t.rent)!==null&&n!==void 0?n:lie.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new lie.TransactionInstruction({programId:e,keys:o,data:i})}Uc.createDeprecatedMintPrintingTokensInstruction=yUt});var hBe=_(Lc=>{"use strict";u();l();var gUt=Lc&&Lc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bUt=Lc&&Lc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pie=Lc&&Lc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gUt(e,t,r);return bUt(e,t),e};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.createDeprecatedMintPrintingTokensViaTokenInstruction=Lc.deprecatedMintPrintingTokensViaTokenInstructionDiscriminator=Lc.DeprecatedMintPrintingTokensViaTokenStruct=void 0;var _Ut=pie(il()),pBe=pie(pe()),fie=pie(we());Lc.DeprecatedMintPrintingTokensViaTokenStruct=new pBe.BeetArgsStruct([["instructionDiscriminator",pBe.u8]],"DeprecatedMintPrintingTokensViaTokenInstructionArgs");Lc.deprecatedMintPrintingTokensViaTokenInstructionDiscriminator=8;function SUt(t,e=new fie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n;let[i]=Lc.DeprecatedMintPrintingTokensViaTokenStruct.serialize({instructionDiscriminator:Lc.deprecatedMintPrintingTokensViaTokenInstructionDiscriminator}),o=[{pubkey:t.destination,isWritable:!0,isSigner:!1},{pubkey:t.token,isWritable:!0,isSigner:!1},{pubkey:t.oneTimePrintingAuthorizationMint,isWritable:!0,isSigner:!1},{pubkey:t.printingMint,isWritable:!0,isSigner:!1},{pubkey:t.burnAuthority,isWritable:!1,isSigner:!0},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.masterEdition,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:_Ut.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(n=t.rent)!==null&&n!==void 0?n:fie.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new fie.TransactionInstruction({programId:e,keys:o,data:i})}Lc.createDeprecatedMintPrintingTokensViaTokenInstruction=SUt});var bBe=_(zc=>{"use strict";u();l();var wUt=zc&&zc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),AUt=zc&&zc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gBe=zc&&zc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wUt(e,t,r);return AUt(e,t),e};Object.defineProperty(zc,"__esModule",{value:!0});zc.createDeprecatedSetReservationListInstruction=zc.deprecatedSetReservationListInstructionDiscriminator=zc.DeprecatedSetReservationListStruct=void 0;var mBe=gBe(pe()),yBe=gBe(we());zc.DeprecatedSetReservationListStruct=new mBe.BeetArgsStruct([["instructionDiscriminator",mBe.u8]],"DeprecatedSetReservationListInstructionArgs");zc.deprecatedSetReservationListInstructionDiscriminator=5;function EUt(t,e=new yBe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=zc.DeprecatedSetReservationListStruct.serialize({instructionDiscriminator:zc.deprecatedSetReservationListInstructionDiscriminator}),n=[{pubkey:t.masterEdition,isWritable:!0,isSigner:!1},{pubkey:t.reservationList,isWritable:!0,isSigner:!1},{pubkey:t.resource,isWritable:!1,isSigner:!0}];return new yBe.TransactionInstruction({programId:e,keys:n,data:r})}zc.createDeprecatedSetReservationListInstruction=EUt});var wBe=_(Fc=>{"use strict";u();l();var IUt=Fc&&Fc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TUt=Fc&&Fc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hie=Fc&&Fc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&IUt(e,t,r);return TUt(e,t),e};Object.defineProperty(Fc,"__esModule",{value:!0});Fc.createFreezeDelegatedAccountInstruction=Fc.freezeDelegatedAccountInstructionDiscriminator=Fc.FreezeDelegatedAccountStruct=void 0;var kUt=hie(il()),_Be=hie(pe()),SBe=hie(we());Fc.FreezeDelegatedAccountStruct=new _Be.BeetArgsStruct([["instructionDiscriminator",_Be.u8]],"FreezeDelegatedAccountInstructionArgs");Fc.freezeDelegatedAccountInstructionDiscriminator=26;function vUt(t,e=new SBe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r;let[n]=Fc.FreezeDelegatedAccountStruct.serialize({instructionDiscriminator:Fc.freezeDelegatedAccountInstructionDiscriminator}),i=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.edition,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:kUt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new SBe.TransactionInstruction({programId:e,keys:i,data:n})}Fc.createFreezeDelegatedAccountInstruction=vUt});var yie=_(ip=>{"use strict";u();l();var xUt=ip&&ip.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),PUt=ip&&ip.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),OUt=ip&&ip.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xUt(e,t,r);return PUt(e,t),e};Object.defineProperty(ip,"__esModule",{value:!0});ip.lockArgsBeet=ip.isLockArgsV1=void 0;var mie=OUt(pe()),RUt=mb(),CUt=t=>t.__kind==="V1";ip.isLockArgsV1=CUt;ip.lockArgsBeet=mie.dataEnum([["V1",new mie.FixableBeetArgsStruct([["authorizationData",mie.coption(RUt.authorizationDataBeet)]],'LockArgsRecord["V1"]')]])});var IBe=_(qc=>{"use strict";u();l();var BUt=qc&&qc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MUt=qc&&qc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),EBe=qc&&qc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BUt(e,t,r);return MUt(e,t),e};Object.defineProperty(qc,"__esModule",{value:!0});qc.createLockInstruction=qc.lockInstructionDiscriminator=qc.LockStruct=void 0;var ABe=EBe(pe()),gie=EBe(we()),NUt=yie();qc.LockStruct=new ABe.FixableBeetArgsStruct([["instructionDiscriminator",ABe.u8],["lockArgs",NUt.lockArgsBeet]],"LockInstructionArgs");qc.lockInstructionDiscriminator=46;function DUt(t,e,r=new gie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c,d;let[f]=qc.LockStruct.serialize({instructionDiscriminator:qc.lockInstructionDiscriminator,...e}),p=[{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:(n=t.tokenOwner)!==null&&n!==void 0?n:r,isWritable:!1,isSigner:!1},{pubkey:t.token,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(i=t.edition)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:(o=t.tokenRecord)!==null&&o!==void 0?o:r,isWritable:t.tokenRecord!=null,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(s=t.systemProgram)!==null&&s!==void 0?s:gie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:(a=t.splTokenProgram)!==null&&a!==void 0?a:r,isWritable:!1,isSigner:!1},{pubkey:(c=t.authorizationRulesProgram)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1},{pubkey:(d=t.authorizationRules)!==null&&d!==void 0?d:r,isWritable:!1,isSigner:!1}];return new gie.TransactionInstruction({programId:r,keys:p,data:f})}qc.createLockInstruction=DUt});var bie=_(tf=>{"use strict";u();l();var UUt=tf&&tf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LUt=tf&&tf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zUt=tf&&tf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UUt(e,t,r);return LUt(e,t),e};Object.defineProperty(tf,"__esModule",{value:!0});tf.migrationTypeBeet=tf.MigrationType=void 0;var FUt=zUt(pe()),TBe;(function(t){t[t.CollectionV1=0]="CollectionV1",t[t.ProgrammableV1=1]="ProgrammableV1"})(TBe=tf.MigrationType||(tf.MigrationType={}));tf.migrationTypeBeet=FUt.fixedScalarEnum(TBe)});var Sie=_(op=>{"use strict";u();l();var qUt=op&&op.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jUt=op&&op.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kBe=op&&op.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qUt(e,t,r);return jUt(e,t),e};Object.defineProperty(op,"__esModule",{value:!0});op.migrateArgsBeet=op.isMigrateArgsV1=void 0;var _ie=kBe(pe()),KUt=kBe(Jr()),WUt=bie(),VUt=t=>t.__kind==="V1";op.isMigrateArgsV1=VUt;op.migrateArgsBeet=_ie.dataEnum([["V1",new _ie.FixableBeetArgsStruct([["migrationType",WUt.migrationTypeBeet],["ruleSet",_ie.coption(KUt.publicKey)]],'MigrateArgsRecord["V1"]')]])});var PBe=_(jc=>{"use strict";u();l();var GUt=jc&&jc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),HUt=jc&&jc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xBe=jc&&jc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&GUt(e,t,r);return HUt(e,t),e};Object.defineProperty(jc,"__esModule",{value:!0});jc.createMigrateInstruction=jc.migrateInstructionDiscriminator=jc.MigrateStruct=void 0;var vBe=xBe(pe()),wie=xBe(we()),$Ut=Sie();jc.MigrateStruct=new vBe.FixableBeetArgsStruct([["instructionDiscriminator",vBe.u8],["migrateArgs",$Ut.migrateArgsBeet]],"MigrateInstructionArgs");jc.migrateInstructionDiscriminator=48;function YUt(t,e,r=new wie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o;let[s]=jc.MigrateStruct.serialize({instructionDiscriminator:jc.migrateInstructionDiscriminator,...e}),a=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.edition,isWritable:!0,isSigner:!1},{pubkey:t.token,isWritable:!0,isSigner:!1},{pubkey:t.tokenOwner,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:t.collectionMetadata,isWritable:!1,isSigner:!1},{pubkey:t.delegateRecord,isWritable:!1,isSigner:!1},{pubkey:t.tokenRecord,isWritable:!0,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:wie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:t.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:(i=t.authorizationRulesProgram)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:(o=t.authorizationRules)!==null&&o!==void 0?o:r,isWritable:!1,isSigner:!1}];return new wie.TransactionInstruction({programId:r,keys:a,data:s})}jc.createMigrateInstruction=YUt});var Aie=_(sp=>{"use strict";u();l();var XUt=sp&&sp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ZUt=sp&&sp.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JUt=sp&&sp.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&XUt(e,t,r);return ZUt(e,t),e};Object.defineProperty(sp,"__esModule",{value:!0});sp.mintArgsBeet=sp.isMintArgsV1=void 0;var VK=JUt(pe()),QUt=mb(),e2t=t=>t.__kind==="V1";sp.isMintArgsV1=e2t;sp.mintArgsBeet=VK.dataEnum([["V1",new VK.FixableBeetArgsStruct([["amount",VK.u64],["authorizationData",VK.coption(QUt.authorizationDataBeet)]],'MintArgsRecord["V1"]')]])});var CBe=_(Kc=>{"use strict";u();l();var t2t=Kc&&Kc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),r2t=Kc&&Kc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RBe=Kc&&Kc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&t2t(e,t,r);return r2t(e,t),e};Object.defineProperty(Kc,"__esModule",{value:!0});Kc.createMintInstruction=Kc.mintInstructionDiscriminator=Kc.MintStruct=void 0;var OBe=RBe(pe()),Eie=RBe(we()),n2t=Aie();Kc.MintStruct=new OBe.FixableBeetArgsStruct([["instructionDiscriminator",OBe.u8],["mintArgs",n2t.mintArgsBeet]],"MintInstructionArgs");Kc.mintInstructionDiscriminator=43;function i2t(t,e,r=new Eie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c,d;let[f]=Kc.MintStruct.serialize({instructionDiscriminator:Kc.mintInstructionDiscriminator,...e}),p=[{pubkey:t.token,isWritable:!0,isSigner:!1},{pubkey:(n=t.tokenOwner)!==null&&n!==void 0?n:r,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:(i=t.masterEdition)!==null&&i!==void 0?i:r,isWritable:t.masterEdition!=null,isSigner:!1},{pubkey:(o=t.tokenRecord)!==null&&o!==void 0?o:r,isWritable:t.tokenRecord!=null,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:(s=t.delegateRecord)!==null&&s!==void 0?s:r,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(a=t.systemProgram)!==null&&a!==void 0?a:Eie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:t.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:t.splAtaProgram,isWritable:!1,isSigner:!1},{pubkey:(c=t.authorizationRulesProgram)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1},{pubkey:(d=t.authorizationRules)!==null&&d!==void 0?d:r,isWritable:!1,isSigner:!1}];return new Eie.TransactionInstruction({programId:r,keys:p,data:f})}Kc.createMintInstruction=i2t});var GK=_(By=>{"use strict";u();l();var o2t=By&&By.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),s2t=By&&By.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a2t=By&&By.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&o2t(e,t,r);return s2t(e,t),e};Object.defineProperty(By,"__esModule",{value:!0});By.mintNewEditionFromMasterEditionViaTokenArgsBeet=void 0;var BBe=a2t(pe());By.mintNewEditionFromMasterEditionViaTokenArgsBeet=new BBe.BeetArgsStruct([["edition",BBe.u64]],"MintNewEditionFromMasterEditionViaTokenArgs")});var NBe=_(Wc=>{"use strict";u();l();var c2t=Wc&&Wc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),u2t=Wc&&Wc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tie=Wc&&Wc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&c2t(e,t,r);return u2t(e,t),e};Object.defineProperty(Wc,"__esModule",{value:!0});Wc.createMintNewEditionFromMasterEditionViaTokenInstruction=Wc.mintNewEditionFromMasterEditionViaTokenInstructionDiscriminator=Wc.MintNewEditionFromMasterEditionViaTokenStruct=void 0;var l2t=Tie(il()),MBe=Tie(pe()),Iie=Tie(we()),d2t=GK();Wc.MintNewEditionFromMasterEditionViaTokenStruct=new MBe.BeetArgsStruct([["instructionDiscriminator",MBe.u8],["mintNewEditionFromMasterEditionViaTokenArgs",d2t.mintNewEditionFromMasterEditionViaTokenArgsBeet]],"MintNewEditionFromMasterEditionViaTokenInstructionArgs");Wc.mintNewEditionFromMasterEditionViaTokenInstructionDiscriminator=11;function f2t(t,e,r=new Iie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i;let[o]=Wc.MintNewEditionFromMasterEditionViaTokenStruct.serialize({instructionDiscriminator:Wc.mintNewEditionFromMasterEditionViaTokenInstructionDiscriminator,...e}),s=[{pubkey:t.newMetadata,isWritable:!0,isSigner:!1},{pubkey:t.newEdition,isWritable:!0,isSigner:!1},{pubkey:t.masterEdition,isWritable:!0,isSigner:!1},{pubkey:t.newMint,isWritable:!0,isSigner:!1},{pubkey:t.editionMarkPda,isWritable:!0,isSigner:!1},{pubkey:t.newMintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.tokenAccountOwner,isWritable:!1,isSigner:!0},{pubkey:t.tokenAccount,isWritable:!1,isSigner:!1},{pubkey:t.newMetadataUpdateAuthority,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:(n=t.tokenProgram)!==null&&n!==void 0?n:l2t.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(i=t.systemProgram)!==null&&i!==void 0?i:Iie.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&s.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new Iie.TransactionInstruction({programId:r,keys:s,data:o})}Wc.createMintNewEditionFromMasterEditionViaTokenInstruction=f2t});var UBe=_(Vc=>{"use strict";u();l();var p2t=Vc&&Vc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),h2t=Vc&&Vc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vie=Vc&&Vc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&p2t(e,t,r);return h2t(e,t),e};Object.defineProperty(Vc,"__esModule",{value:!0});Vc.createMintNewEditionFromMasterEditionViaVaultProxyInstruction=Vc.mintNewEditionFromMasterEditionViaVaultProxyInstructionDiscriminator=Vc.MintNewEditionFromMasterEditionViaVaultProxyStruct=void 0;var m2t=vie(il()),DBe=vie(pe()),kie=vie(we()),y2t=GK();Vc.MintNewEditionFromMasterEditionViaVaultProxyStruct=new DBe.BeetArgsStruct([["instructionDiscriminator",DBe.u8],["mintNewEditionFromMasterEditionViaTokenArgs",y2t.mintNewEditionFromMasterEditionViaTokenArgsBeet]],"MintNewEditionFromMasterEditionViaVaultProxyInstructionArgs");Vc.mintNewEditionFromMasterEditionViaVaultProxyInstructionDiscriminator=13;function g2t(t,e,r=new kie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i;let[o]=Vc.MintNewEditionFromMasterEditionViaVaultProxyStruct.serialize({instructionDiscriminator:Vc.mintNewEditionFromMasterEditionViaVaultProxyInstructionDiscriminator,...e}),s=[{pubkey:t.newMetadata,isWritable:!0,isSigner:!1},{pubkey:t.newEdition,isWritable:!0,isSigner:!1},{pubkey:t.masterEdition,isWritable:!0,isSigner:!1},{pubkey:t.newMint,isWritable:!0,isSigner:!1},{pubkey:t.editionMarkPda,isWritable:!0,isSigner:!1},{pubkey:t.newMintAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.vaultAuthority,isWritable:!1,isSigner:!0},{pubkey:t.safetyDepositStore,isWritable:!1,isSigner:!1},{pubkey:t.safetyDepositBox,isWritable:!1,isSigner:!1},{pubkey:t.vault,isWritable:!1,isSigner:!1},{pubkey:t.newMetadataUpdateAuthority,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:(n=t.tokenProgram)!==null&&n!==void 0?n:m2t.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:t.tokenVaultProgram,isWritable:!1,isSigner:!1},{pubkey:(i=t.systemProgram)!==null&&i!==void 0?i:kie.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&s.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new kie.TransactionInstruction({programId:r,keys:s,data:o})}Vc.createMintNewEditionFromMasterEditionViaVaultProxyInstruction=g2t});var qBe=_(Gc=>{"use strict";u();l();var b2t=Gc&&Gc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_2t=Gc&&Gc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),FBe=Gc&&Gc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&b2t(e,t,r);return _2t(e,t),e};Object.defineProperty(Gc,"__esModule",{value:!0});Gc.createPuffMetadataInstruction=Gc.puffMetadataInstructionDiscriminator=Gc.PuffMetadataStruct=void 0;var LBe=FBe(pe()),zBe=FBe(we());Gc.PuffMetadataStruct=new LBe.BeetArgsStruct([["instructionDiscriminator",LBe.u8]],"PuffMetadataInstructionArgs");Gc.puffMetadataInstructionDiscriminator=14;function S2t(t,e=new zBe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Gc.PuffMetadataStruct.serialize({instructionDiscriminator:Gc.puffMetadataInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1}];return new zBe.TransactionInstruction({programId:e,keys:n,data:r})}Gc.createPuffMetadataInstruction=S2t});var VBe=_(Hc=>{"use strict";u();l();var w2t=Hc&&Hc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),A2t=Hc&&Hc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),WBe=Hc&&Hc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&w2t(e,t,r);return A2t(e,t),e};Object.defineProperty(Hc,"__esModule",{value:!0});Hc.createRemoveCreatorVerificationInstruction=Hc.removeCreatorVerificationInstructionDiscriminator=Hc.RemoveCreatorVerificationStruct=void 0;var jBe=WBe(pe()),KBe=WBe(we());Hc.RemoveCreatorVerificationStruct=new jBe.BeetArgsStruct([["instructionDiscriminator",jBe.u8]],"RemoveCreatorVerificationInstructionArgs");Hc.removeCreatorVerificationInstructionDiscriminator=28;function E2t(t,e=new KBe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Hc.RemoveCreatorVerificationStruct.serialize({instructionDiscriminator:Hc.removeCreatorVerificationInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.creator,isWritable:!1,isSigner:!0}];return new KBe.TransactionInstruction({programId:e,keys:n,data:r})}Hc.createRemoveCreatorVerificationInstruction=E2t});var xie=_(rf=>{"use strict";u();l();var I2t=rf&&rf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),T2t=rf&&rf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),k2t=rf&&rf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&I2t(e,t,r);return T2t(e,t),e};Object.defineProperty(rf,"__esModule",{value:!0});rf.revokeArgsBeet=rf.RevokeArgs=void 0;var v2t=k2t(pe()),GBe;(function(t){t[t.CollectionV1=0]="CollectionV1",t[t.SaleV1=1]="SaleV1",t[t.TransferV1=2]="TransferV1",t[t.DataV1=3]="DataV1",t[t.UtilityV1=4]="UtilityV1",t[t.StakingV1=5]="StakingV1",t[t.StandardV1=6]="StandardV1",t[t.LockedTransferV1=7]="LockedTransferV1",t[t.ProgrammableConfigV1=8]="ProgrammableConfigV1",t[t.MigrationV1=9]="MigrationV1",t[t.AuthorityItemV1=10]="AuthorityItemV1",t[t.DataItemV1=11]="DataItemV1",t[t.CollectionItemV1=12]="CollectionItemV1",t[t.ProgrammableConfigItemV1=13]="ProgrammableConfigItemV1"})(GBe=rf.RevokeArgs||(rf.RevokeArgs={}));rf.revokeArgsBeet=v2t.fixedScalarEnum(GBe)});var YBe=_($c=>{"use strict";u();l();var x2t=$c&&$c.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),P2t=$c&&$c.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$Be=$c&&$c.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&x2t(e,t,r);return P2t(e,t),e};Object.defineProperty($c,"__esModule",{value:!0});$c.createRevokeInstruction=$c.revokeInstructionDiscriminator=$c.RevokeStruct=void 0;var HBe=$Be(pe()),Pie=$Be(we()),O2t=xie();$c.RevokeStruct=new HBe.BeetArgsStruct([["instructionDiscriminator",HBe.u8],["revokeArgs",O2t.revokeArgsBeet]],"RevokeInstructionArgs");$c.revokeInstructionDiscriminator=45;function R2t(t,e,r=new Pie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c,d,f;let[p]=$c.RevokeStruct.serialize({instructionDiscriminator:$c.revokeInstructionDiscriminator,...e}),m=[{pubkey:(n=t.delegateRecord)!==null&&n!==void 0?n:r,isWritable:t.delegateRecord!=null,isSigner:!1},{pubkey:t.delegate,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(i=t.masterEdition)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:(o=t.tokenRecord)!==null&&o!==void 0?o:r,isWritable:t.tokenRecord!=null,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:(s=t.token)!==null&&s!==void 0?s:r,isWritable:t.token!=null,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(a=t.systemProgram)!==null&&a!==void 0?a:Pie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:(c=t.splTokenProgram)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1},{pubkey:(d=t.authorizationRulesProgram)!==null&&d!==void 0?d:r,isWritable:!1,isSigner:!1},{pubkey:(f=t.authorizationRules)!==null&&f!==void 0?f:r,isWritable:!1,isSigner:!1}];return new Pie.TransactionInstruction({programId:r,keys:m,data:p})}$c.createRevokeInstruction=R2t});var QBe=_(Yc=>{"use strict";u();l();var C2t=Yc&&Yc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),B2t=Yc&&Yc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JBe=Yc&&Yc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&C2t(e,t,r);return B2t(e,t),e};Object.defineProperty(Yc,"__esModule",{value:!0});Yc.createRevokeCollectionAuthorityInstruction=Yc.revokeCollectionAuthorityInstructionDiscriminator=Yc.RevokeCollectionAuthorityStruct=void 0;var XBe=JBe(pe()),ZBe=JBe(we());Yc.RevokeCollectionAuthorityStruct=new XBe.BeetArgsStruct([["instructionDiscriminator",XBe.u8]],"RevokeCollectionAuthorityInstructionArgs");Yc.revokeCollectionAuthorityInstructionDiscriminator=24;function M2t(t,e=new ZBe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Yc.RevokeCollectionAuthorityStruct.serialize({instructionDiscriminator:Yc.revokeCollectionAuthorityInstructionDiscriminator}),n=[{pubkey:t.collectionAuthorityRecord,isWritable:!0,isSigner:!1},{pubkey:t.delegateAuthority,isWritable:!0,isSigner:!1},{pubkey:t.revokeAuthority,isWritable:!0,isSigner:!0},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1}];return new ZBe.TransactionInstruction({programId:e,keys:n,data:r})}Yc.createRevokeCollectionAuthorityInstruction=M2t});var tMe=_(Xc=>{"use strict";u();l();var N2t=Xc&&Xc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),D2t=Xc&&Xc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Rie=Xc&&Xc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&N2t(e,t,r);return D2t(e,t),e};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.createRevokeUseAuthorityInstruction=Xc.revokeUseAuthorityInstructionDiscriminator=Xc.RevokeUseAuthorityStruct=void 0;var U2t=Rie(il()),eMe=Rie(pe()),Oie=Rie(we());Xc.RevokeUseAuthorityStruct=new eMe.BeetArgsStruct([["instructionDiscriminator",eMe.u8]],"RevokeUseAuthorityInstructionArgs");Xc.revokeUseAuthorityInstructionDiscriminator=21;function L2t(t,e=new Oie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r,n;let[i]=Xc.RevokeUseAuthorityStruct.serialize({instructionDiscriminator:Xc.revokeUseAuthorityInstructionDiscriminator}),o=[{pubkey:t.useAuthorityRecord,isWritable:!0,isSigner:!1},{pubkey:t.owner,isWritable:!0,isSigner:!0},{pubkey:t.user,isWritable:!1,isSigner:!1},{pubkey:t.ownerTokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:U2t.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:Oie.SystemProgram.programId,isWritable:!1,isSigner:!1}];return t.rent!=null&&o.push({pubkey:t.rent,isWritable:!1,isSigner:!1}),new Oie.TransactionInstruction({programId:e,keys:o,data:i})}Xc.createRevokeUseAuthorityInstruction=L2t});var oMe=_(Zc=>{"use strict";u();l();var z2t=Zc&&Zc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F2t=Zc&&Zc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iMe=Zc&&Zc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&z2t(e,t,r);return F2t(e,t),e};Object.defineProperty(Zc,"__esModule",{value:!0});Zc.createSetAndVerifyCollectionInstruction=Zc.setAndVerifyCollectionInstructionDiscriminator=Zc.SetAndVerifyCollectionStruct=void 0;var rMe=iMe(pe()),nMe=iMe(we());Zc.SetAndVerifyCollectionStruct=new rMe.BeetArgsStruct([["instructionDiscriminator",rMe.u8]],"SetAndVerifyCollectionInstructionArgs");Zc.setAndVerifyCollectionInstructionDiscriminator=25;function q2t(t,e=new nMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Zc.SetAndVerifyCollectionStruct.serialize({instructionDiscriminator:Zc.setAndVerifyCollectionInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collection,isWritable:!1,isSigner:!1},{pubkey:t.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return t.collectionAuthorityRecord!=null&&n.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new nMe.TransactionInstruction({programId:e,keys:n,data:r})}Zc.createSetAndVerifyCollectionInstruction=q2t});var uMe=_(Jc=>{"use strict";u();l();var j2t=Jc&&Jc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),K2t=Jc&&Jc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cMe=Jc&&Jc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&j2t(e,t,r);return K2t(e,t),e};Object.defineProperty(Jc,"__esModule",{value:!0});Jc.createSetAndVerifySizedCollectionItemInstruction=Jc.setAndVerifySizedCollectionItemInstructionDiscriminator=Jc.SetAndVerifySizedCollectionItemStruct=void 0;var sMe=cMe(pe()),aMe=cMe(we());Jc.SetAndVerifySizedCollectionItemStruct=new sMe.BeetArgsStruct([["instructionDiscriminator",sMe.u8]],"SetAndVerifySizedCollectionItemInstructionArgs");Jc.setAndVerifySizedCollectionItemInstructionDiscriminator=32;function W2t(t,e=new aMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Jc.SetAndVerifySizedCollectionItemStruct.serialize({instructionDiscriminator:Jc.setAndVerifySizedCollectionItemInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collection,isWritable:!0,isSigner:!1},{pubkey:t.collectionMasterEditionAccount,isWritable:!0,isSigner:!1}];return t.collectionAuthorityRecord!=null&&n.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new aMe.TransactionInstruction({programId:e,keys:n,data:r})}Jc.createSetAndVerifySizedCollectionItemInstruction=W2t});var pMe=_(Qc=>{"use strict";u();l();var V2t=Qc&&Qc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),G2t=Qc&&Qc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fMe=Qc&&Qc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&V2t(e,t,r);return G2t(e,t),e};Object.defineProperty(Qc,"__esModule",{value:!0});Qc.createSetCollectionSizeInstruction=Qc.setCollectionSizeInstructionDiscriminator=Qc.SetCollectionSizeStruct=void 0;var lMe=fMe(pe()),dMe=fMe(we()),H2t=LK();Qc.SetCollectionSizeStruct=new lMe.BeetArgsStruct([["instructionDiscriminator",lMe.u8],["setCollectionSizeArgs",H2t.setCollectionSizeArgsBeet]],"SetCollectionSizeInstructionArgs");Qc.setCollectionSizeInstructionDiscriminator=34;function $2t(t,e,r=new dMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[n]=Qc.SetCollectionSizeStruct.serialize({instructionDiscriminator:Qc.setCollectionSizeInstructionDiscriminator,...e}),i=[{pubkey:t.collectionMetadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1}];return t.collectionAuthorityRecord!=null&&i.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new dMe.TransactionInstruction({programId:r,keys:i,data:n})}Qc.createSetCollectionSizeInstruction=$2t});var gMe=_(eu=>{"use strict";u();l();var Y2t=eu&&eu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),X2t=eu&&eu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yMe=eu&&eu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Y2t(e,t,r);return X2t(e,t),e};Object.defineProperty(eu,"__esModule",{value:!0});eu.createSetTokenStandardInstruction=eu.setTokenStandardInstructionDiscriminator=eu.SetTokenStandardStruct=void 0;var hMe=yMe(pe()),mMe=yMe(we());eu.SetTokenStandardStruct=new hMe.BeetArgsStruct([["instructionDiscriminator",hMe.u8]],"SetTokenStandardInstructionArgs");eu.setTokenStandardInstructionDiscriminator=35;function Z2t(t,e=new mMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=eu.SetTokenStandardStruct.serialize({instructionDiscriminator:eu.setTokenStandardInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!0,isSigner:!0},{pubkey:t.mint,isWritable:!1,isSigner:!1}];return t.edition!=null&&n.push({pubkey:t.edition,isWritable:!1,isSigner:!1}),new mMe.TransactionInstruction({programId:e,keys:n,data:r})}eu.createSetTokenStandardInstruction=Z2t});var wMe=_(tu=>{"use strict";u();l();var J2t=tu&&tu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Q2t=tu&&tu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SMe=tu&&tu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&J2t(e,t,r);return Q2t(e,t),e};Object.defineProperty(tu,"__esModule",{value:!0});tu.createSignMetadataInstruction=tu.signMetadataInstructionDiscriminator=tu.SignMetadataStruct=void 0;var bMe=SMe(pe()),_Me=SMe(we());tu.SignMetadataStruct=new bMe.BeetArgsStruct([["instructionDiscriminator",bMe.u8]],"SignMetadataInstructionArgs");tu.signMetadataInstructionDiscriminator=7;function eLt(t,e=new _Me.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=tu.SignMetadataStruct.serialize({instructionDiscriminator:tu.signMetadataInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.creator,isWritable:!1,isSigner:!0}];return new _Me.TransactionInstruction({programId:e,keys:n,data:r})}tu.createSignMetadataInstruction=eLt});var IMe=_(ru=>{"use strict";u();l();var tLt=ru&&ru.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rLt=ru&&ru.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Cie=ru&&ru.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tLt(e,t,r);return rLt(e,t),e};Object.defineProperty(ru,"__esModule",{value:!0});ru.createThawDelegatedAccountInstruction=ru.thawDelegatedAccountInstructionDiscriminator=ru.ThawDelegatedAccountStruct=void 0;var nLt=Cie(il()),AMe=Cie(pe()),EMe=Cie(we());ru.ThawDelegatedAccountStruct=new AMe.BeetArgsStruct([["instructionDiscriminator",AMe.u8]],"ThawDelegatedAccountInstructionArgs");ru.thawDelegatedAccountInstructionDiscriminator=27;function iLt(t,e=new EMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var r;let[n]=ru.ThawDelegatedAccountStruct.serialize({instructionDiscriminator:ru.thawDelegatedAccountInstructionDiscriminator}),i=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.edition,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:(r=t.tokenProgram)!==null&&r!==void 0?r:nLt.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new EMe.TransactionInstruction({programId:e,keys:i,data:n})}ru.createThawDelegatedAccountInstruction=iLt});var Bie=_(ap=>{"use strict";u();l();var oLt=ap&&ap.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sLt=ap&&ap.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aLt=ap&&ap.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&oLt(e,t,r);return sLt(e,t),e};Object.defineProperty(ap,"__esModule",{value:!0});ap.transferArgsBeet=ap.isTransferArgsV1=void 0;var HK=aLt(pe()),cLt=mb(),uLt=t=>t.__kind==="V1";ap.isTransferArgsV1=uLt;ap.transferArgsBeet=HK.dataEnum([["V1",new HK.FixableBeetArgsStruct([["amount",HK.u64],["authorizationData",HK.coption(cLt.authorizationDataBeet)]],'TransferArgsRecord["V1"]')]])});var vMe=_(nu=>{"use strict";u();l();var lLt=nu&&nu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dLt=nu&&nu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kMe=nu&&nu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lLt(e,t,r);return dLt(e,t),e};Object.defineProperty(nu,"__esModule",{value:!0});nu.createTransferInstruction=nu.transferInstructionDiscriminator=nu.TransferStruct=void 0;var TMe=kMe(pe()),Mie=kMe(we()),fLt=Bie();nu.TransferStruct=new TMe.FixableBeetArgsStruct([["instructionDiscriminator",TMe.u8],["transferArgs",fLt.transferArgsBeet]],"TransferInstructionArgs");nu.transferInstructionDiscriminator=49;function pLt(t,e,r=new Mie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c;let[d]=nu.TransferStruct.serialize({instructionDiscriminator:nu.transferInstructionDiscriminator,...e}),f=[{pubkey:t.token,isWritable:!0,isSigner:!1},{pubkey:t.tokenOwner,isWritable:!1,isSigner:!1},{pubkey:t.destination,isWritable:!0,isSigner:!1},{pubkey:t.destinationOwner,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(n=t.edition)!==null&&n!==void 0?n:r,isWritable:!1,isSigner:!1},{pubkey:(i=t.ownerTokenRecord)!==null&&i!==void 0?i:r,isWritable:t.ownerTokenRecord!=null,isSigner:!1},{pubkey:(o=t.destinationTokenRecord)!==null&&o!==void 0?o:r,isWritable:t.destinationTokenRecord!=null,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(s=t.systemProgram)!==null&&s!==void 0?s:Mie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:t.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:t.splAtaProgram,isWritable:!1,isSigner:!1},{pubkey:(a=t.authorizationRulesProgram)!==null&&a!==void 0?a:r,isWritable:!1,isSigner:!1},{pubkey:(c=t.authorizationRules)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1}];return new Mie.TransactionInstruction({programId:r,keys:f,data:d})}nu.createTransferInstruction=pLt});var Nie=_(My=>{"use strict";u();l();var hLt=My&&My.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mLt=My&&My.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yLt=My&&My.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hLt(e,t,r);return mLt(e,t),e};Object.defineProperty(My,"__esModule",{value:!0});My.transferOutOfEscrowArgsBeet=void 0;var xMe=yLt(pe());My.transferOutOfEscrowArgsBeet=new xMe.BeetArgsStruct([["amount",xMe.u64]],"TransferOutOfEscrowArgs")});var RMe=_(iu=>{"use strict";u();l();var gLt=iu&&iu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bLt=iu&&iu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Uie=iu&&iu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gLt(e,t,r);return bLt(e,t),e};Object.defineProperty(iu,"__esModule",{value:!0});iu.createTransferOutOfEscrowInstruction=iu.transferOutOfEscrowInstructionDiscriminator=iu.TransferOutOfEscrowStruct=void 0;var PMe=Uie(il()),OMe=Uie(pe()),Die=Uie(we()),_Lt=Nie();iu.TransferOutOfEscrowStruct=new OMe.BeetArgsStruct([["instructionDiscriminator",OMe.u8],["transferOutOfEscrowArgs",_Lt.transferOutOfEscrowArgsBeet]],"TransferOutOfEscrowInstructionArgs");iu.transferOutOfEscrowInstructionDiscriminator=40;function SLt(t,e,r=new Die.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o;let[s]=iu.TransferOutOfEscrowStruct.serialize({instructionDiscriminator:iu.transferOutOfEscrowInstructionDiscriminator,...e}),a=[{pubkey:t.escrow,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.attributeMint,isWritable:!1,isSigner:!1},{pubkey:t.attributeSrc,isWritable:!0,isSigner:!1},{pubkey:t.attributeDst,isWritable:!0,isSigner:!1},{pubkey:t.escrowMint,isWritable:!1,isSigner:!1},{pubkey:t.escrowAccount,isWritable:!1,isSigner:!1},{pubkey:(n=t.systemProgram)!==null&&n!==void 0?n:Die.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:(i=t.ataProgram)!==null&&i!==void 0?i:PMe.ASSOCIATED_TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(o=t.tokenProgram)!==null&&o!==void 0?o:PMe.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1}];return t.authority!=null&&a.push({pubkey:t.authority,isWritable:!1,isSigner:!0}),new Die.TransactionInstruction({programId:r,keys:a,data:s})}iu.createTransferOutOfEscrowInstruction=SLt});var zie=_(cp=>{"use strict";u();l();var wLt=cp&&cp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ALt=cp&&cp.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ELt=cp&&cp.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wLt(e,t,r);return ALt(e,t),e};Object.defineProperty(cp,"__esModule",{value:!0});cp.unlockArgsBeet=cp.isUnlockArgsV1=void 0;var Lie=ELt(pe()),ILt=mb(),TLt=t=>t.__kind==="V1";cp.isUnlockArgsV1=TLt;cp.unlockArgsBeet=Lie.dataEnum([["V1",new Lie.FixableBeetArgsStruct([["authorizationData",Lie.coption(ILt.authorizationDataBeet)]],'UnlockArgsRecord["V1"]')]])});var MMe=_(ou=>{"use strict";u();l();var kLt=ou&&ou.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vLt=ou&&ou.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),BMe=ou&&ou.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kLt(e,t,r);return vLt(e,t),e};Object.defineProperty(ou,"__esModule",{value:!0});ou.createUnlockInstruction=ou.unlockInstructionDiscriminator=ou.UnlockStruct=void 0;var CMe=BMe(pe()),Fie=BMe(we()),xLt=zie();ou.UnlockStruct=new CMe.FixableBeetArgsStruct([["instructionDiscriminator",CMe.u8],["unlockArgs",xLt.unlockArgsBeet]],"UnlockInstructionArgs");ou.unlockInstructionDiscriminator=47;function PLt(t,e,r=new Fie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c,d;let[f]=ou.UnlockStruct.serialize({instructionDiscriminator:ou.unlockInstructionDiscriminator,...e}),p=[{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:(n=t.tokenOwner)!==null&&n!==void 0?n:r,isWritable:!1,isSigner:!1},{pubkey:t.token,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(i=t.edition)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:(o=t.tokenRecord)!==null&&o!==void 0?o:r,isWritable:t.tokenRecord!=null,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(s=t.systemProgram)!==null&&s!==void 0?s:Fie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:(a=t.splTokenProgram)!==null&&a!==void 0?a:r,isWritable:!1,isSigner:!1},{pubkey:(c=t.authorizationRulesProgram)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1},{pubkey:(d=t.authorizationRules)!==null&&d!==void 0?d:r,isWritable:!1,isSigner:!1}];return new Fie.TransactionInstruction({programId:r,keys:p,data:f})}ou.createUnlockInstruction=PLt});var $K=_(nf=>{"use strict";u();l();var OLt=nf&&nf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),RLt=nf&&nf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CLt=nf&&nf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&OLt(e,t,r);return RLt(e,t),e};Object.defineProperty(nf,"__esModule",{value:!0});nf.verificationArgsBeet=nf.VerificationArgs=void 0;var BLt=CLt(pe()),NMe;(function(t){t[t.CreatorV1=0]="CreatorV1",t[t.CollectionV1=1]="CollectionV1"})(NMe=nf.VerificationArgs||(nf.VerificationArgs={}));nf.verificationArgsBeet=BLt.fixedScalarEnum(NMe)});var LMe=_(su=>{"use strict";u();l();var MLt=su&&su.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),NLt=su&&su.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UMe=su&&su.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&MLt(e,t,r);return NLt(e,t),e};Object.defineProperty(su,"__esModule",{value:!0});su.createUnverifyInstruction=su.unverifyInstructionDiscriminator=su.UnverifyStruct=void 0;var DMe=UMe(pe()),qie=UMe(we()),DLt=$K();su.UnverifyStruct=new DMe.BeetArgsStruct([["instructionDiscriminator",DMe.u8],["verificationArgs",DLt.verificationArgsBeet]],"UnverifyInstructionArgs");su.unverifyInstructionDiscriminator=53;function ULt(t,e,r=new qie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s;let[a]=su.UnverifyStruct.serialize({instructionDiscriminator:su.unverifyInstructionDiscriminator,...e}),c=[{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:(n=t.delegateRecord)!==null&&n!==void 0?n:r,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(i=t.collectionMint)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:(o=t.collectionMetadata)!==null&&o!==void 0?o:r,isWritable:t.collectionMetadata!=null,isSigner:!1},{pubkey:(s=t.systemProgram)!==null&&s!==void 0?s:qie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1}];return new qie.TransactionInstruction({programId:r,keys:c,data:a})}su.createUnverifyInstruction=ULt});var jMe=_(au=>{"use strict";u();l();var LLt=au&&au.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zLt=au&&au.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qMe=au&&au.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&LLt(e,t,r);return zLt(e,t),e};Object.defineProperty(au,"__esModule",{value:!0});au.createUnverifyCollectionInstruction=au.unverifyCollectionInstructionDiscriminator=au.UnverifyCollectionStruct=void 0;var zMe=qMe(pe()),FMe=qMe(we());au.UnverifyCollectionStruct=new zMe.BeetArgsStruct([["instructionDiscriminator",zMe.u8]],"UnverifyCollectionInstructionArgs");au.unverifyCollectionInstructionDiscriminator=22;function FLt(t,e=new FMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=au.UnverifyCollectionStruct.serialize({instructionDiscriminator:au.unverifyCollectionInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collection,isWritable:!1,isSigner:!1},{pubkey:t.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return t.collectionAuthorityRecord!=null&&n.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new FMe.TransactionInstruction({programId:e,keys:n,data:r})}au.createUnverifyCollectionInstruction=FLt});var GMe=_(cu=>{"use strict";u();l();var qLt=cu&&cu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jLt=cu&&cu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VMe=cu&&cu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qLt(e,t,r);return jLt(e,t),e};Object.defineProperty(cu,"__esModule",{value:!0});cu.createUnverifySizedCollectionItemInstruction=cu.unverifySizedCollectionItemInstructionDiscriminator=cu.UnverifySizedCollectionItemStruct=void 0;var KMe=VMe(pe()),WMe=VMe(we());cu.UnverifySizedCollectionItemStruct=new KMe.BeetArgsStruct([["instructionDiscriminator",KMe.u8]],"UnverifySizedCollectionItemInstructionArgs");cu.unverifySizedCollectionItemInstructionDiscriminator=31;function KLt(t,e=new WMe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=cu.UnverifySizedCollectionItemStruct.serialize({instructionDiscriminator:cu.unverifySizedCollectionItemInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collection,isWritable:!0,isSigner:!1},{pubkey:t.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return t.collectionAuthorityRecord!=null&&n.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new WMe.TransactionInstruction({programId:e,keys:n,data:r})}cu.createUnverifySizedCollectionItemInstruction=KLt});var jie=_(uu=>{"use strict";u();l();var WLt=uu&&uu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VLt=uu&&uu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GLt=uu&&uu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WLt(e,t,r);return VLt(e,t),e};Object.defineProperty(uu,"__esModule",{value:!0});uu.collectionToggleBeet=uu.isCollectionToggleSet=uu.isCollectionToggleClear=uu.isCollectionToggleNone=void 0;var BD=GLt(pe()),HLt=KA(),$Lt=t=>t.__kind==="None";uu.isCollectionToggleNone=$Lt;var YLt=t=>t.__kind==="Clear";uu.isCollectionToggleClear=YLt;var XLt=t=>t.__kind==="Set";uu.isCollectionToggleSet=XLt;uu.collectionToggleBeet=BD.dataEnum([["None",BD.unit],["Clear",BD.unit],["Set",new BD.BeetArgsStruct([["fields",BD.fixedSizeTuple([HLt.collectionBeet])]],'CollectionToggleRecord["Set"]')]])});var Kie=_(lu=>{"use strict";u();l();var ZLt=lu&&lu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JLt=lu&&lu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QLt=lu&&lu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZLt(e,t,r);return JLt(e,t),e};Object.defineProperty(lu,"__esModule",{value:!0});lu.collectionDetailsToggleBeet=lu.isCollectionDetailsToggleSet=lu.isCollectionDetailsToggleClear=lu.isCollectionDetailsToggleNone=void 0;var MD=QLt(pe()),ezt=VA(),tzt=t=>t.__kind==="None";lu.isCollectionDetailsToggleNone=tzt;var rzt=t=>t.__kind==="Clear";lu.isCollectionDetailsToggleClear=rzt;var nzt=t=>t.__kind==="Set";lu.isCollectionDetailsToggleSet=nzt;lu.collectionDetailsToggleBeet=MD.dataEnum([["None",MD.unit],["Clear",MD.unit],["Set",new MD.FixableBeetArgsStruct([["fields",MD.tuple([ezt.collectionDetailsBeet])]],'CollectionDetailsToggleRecord["Set"]')]])});var Wie=_(du=>{"use strict";u();l();var izt=du&&du.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ozt=du&&du.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),szt=du&&du.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&izt(e,t,r);return ozt(e,t),e};Object.defineProperty(du,"__esModule",{value:!0});du.usesToggleBeet=du.isUsesToggleSet=du.isUsesToggleClear=du.isUsesToggleNone=void 0;var ND=szt(pe()),azt=WA(),czt=t=>t.__kind==="None";du.isUsesToggleNone=czt;var uzt=t=>t.__kind==="Clear";du.isUsesToggleClear=uzt;var lzt=t=>t.__kind==="Set";du.isUsesToggleSet=lzt;du.usesToggleBeet=ND.dataEnum([["None",ND.unit],["Clear",ND.unit],["Set",new ND.BeetArgsStruct([["fields",ND.fixedSizeTuple([azt.usesBeet])]],'UsesToggleRecord["Set"]')]])});var Vie=_(fu=>{"use strict";u();l();var dzt=fu&&fu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fzt=fu&&fu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),HMe=fu&&fu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dzt(e,t,r);return fzt(e,t),e};Object.defineProperty(fu,"__esModule",{value:!0});fu.ruleSetToggleBeet=fu.isRuleSetToggleSet=fu.isRuleSetToggleClear=fu.isRuleSetToggleNone=void 0;var DD=HMe(pe()),pzt=HMe(Jr()),hzt=t=>t.__kind==="None";fu.isRuleSetToggleNone=hzt;var mzt=t=>t.__kind==="Clear";fu.isRuleSetToggleClear=mzt;var yzt=t=>t.__kind==="Set";fu.isRuleSetToggleSet=yzt;fu.ruleSetToggleBeet=DD.dataEnum([["None",DD.unit],["Clear",DD.unit],["Set",new DD.BeetArgsStruct([["fields",DD.fixedSizeTuple([pzt.publicKey])]],'RuleSetToggleRecord["Set"]')]])});var Hie=_(mi=>{"use strict";u();l();var gzt=mi&&mi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bzt=mi&&mi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZMe=mi&&mi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gzt(e,t,r);return bzt(e,t),e};Object.defineProperty(mi,"__esModule",{value:!0});mi.updateArgsBeet=mi.isUpdateArgsAsProgrammableConfigItemDelegateV2=mi.isUpdateArgsAsCollectionItemDelegateV2=mi.isUpdateArgsAsDataItemDelegateV2=mi.isUpdateArgsAsProgrammableConfigDelegateV2=mi.isUpdateArgsAsDataDelegateV2=mi.isUpdateArgsAsCollectionDelegateV2=mi.isUpdateArgsAsAuthorityItemDelegateV2=mi.isUpdateArgsAsUpdateAuthorityV2=mi.isUpdateArgsV1=void 0;var Or=ZMe(pe()),Gie=ZMe(Jr()),YK=wC(),XK=jie(),$Me=Kie(),YMe=Wie(),ZK=Vie(),yb=mb(),XMe=A1(),_zt=t=>t.__kind==="V1";mi.isUpdateArgsV1=_zt;var Szt=t=>t.__kind==="AsUpdateAuthorityV2";mi.isUpdateArgsAsUpdateAuthorityV2=Szt;var wzt=t=>t.__kind==="AsAuthorityItemDelegateV2";mi.isUpdateArgsAsAuthorityItemDelegateV2=wzt;var Azt=t=>t.__kind==="AsCollectionDelegateV2";mi.isUpdateArgsAsCollectionDelegateV2=Azt;var Ezt=t=>t.__kind==="AsDataDelegateV2";mi.isUpdateArgsAsDataDelegateV2=Ezt;var Izt=t=>t.__kind==="AsProgrammableConfigDelegateV2";mi.isUpdateArgsAsProgrammableConfigDelegateV2=Izt;var Tzt=t=>t.__kind==="AsDataItemDelegateV2";mi.isUpdateArgsAsDataItemDelegateV2=Tzt;var kzt=t=>t.__kind==="AsCollectionItemDelegateV2";mi.isUpdateArgsAsCollectionItemDelegateV2=kzt;var vzt=t=>t.__kind==="AsProgrammableConfigItemDelegateV2";mi.isUpdateArgsAsProgrammableConfigItemDelegateV2=vzt;mi.updateArgsBeet=Or.dataEnum([["V1",new Or.FixableBeetArgsStruct([["newUpdateAuthority",Or.coption(Gie.publicKey)],["data",Or.coption(YK.dataBeet)],["primarySaleHappened",Or.coption(Or.bool)],["isMutable",Or.coption(Or.bool)],["collection",XK.collectionToggleBeet],["collectionDetails",$Me.collectionDetailsToggleBeet],["uses",YMe.usesToggleBeet],["ruleSet",ZK.ruleSetToggleBeet],["authorizationData",Or.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["V1"]')],["AsUpdateAuthorityV2",new Or.FixableBeetArgsStruct([["newUpdateAuthority",Or.coption(Gie.publicKey)],["data",Or.coption(YK.dataBeet)],["primarySaleHappened",Or.coption(Or.bool)],["isMutable",Or.coption(Or.bool)],["collection",XK.collectionToggleBeet],["collectionDetails",$Me.collectionDetailsToggleBeet],["uses",YMe.usesToggleBeet],["ruleSet",ZK.ruleSetToggleBeet],["tokenStandard",Or.coption(XMe.tokenStandardBeet)],["authorizationData",Or.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsUpdateAuthorityV2"]')],["AsAuthorityItemDelegateV2",new Or.FixableBeetArgsStruct([["newUpdateAuthority",Or.coption(Gie.publicKey)],["primarySaleHappened",Or.coption(Or.bool)],["isMutable",Or.coption(Or.bool)],["tokenStandard",Or.coption(XMe.tokenStandardBeet)],["authorizationData",Or.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsAuthorityItemDelegateV2"]')],["AsCollectionDelegateV2",new Or.FixableBeetArgsStruct([["collection",XK.collectionToggleBeet],["authorizationData",Or.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsCollectionDelegateV2"]')],["AsDataDelegateV2",new Or.FixableBeetArgsStruct([["data",Or.coption(YK.dataBeet)],["authorizationData",Or.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsDataDelegateV2"]')],["AsProgrammableConfigDelegateV2",new Or.FixableBeetArgsStruct([["ruleSet",ZK.ruleSetToggleBeet],["authorizationData",Or.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsProgrammableConfigDelegateV2"]')],["AsDataItemDelegateV2",new Or.FixableBeetArgsStruct([["data",Or.coption(YK.dataBeet)],["authorizationData",Or.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsDataItemDelegateV2"]')],["AsCollectionItemDelegateV2",new Or.FixableBeetArgsStruct([["collection",XK.collectionToggleBeet],["authorizationData",Or.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsCollectionItemDelegateV2"]')],["AsProgrammableConfigItemDelegateV2",new Or.FixableBeetArgsStruct([["ruleSet",ZK.ruleSetToggleBeet],["authorizationData",Or.coption(yb.authorizationDataBeet)]],'UpdateArgsRecord["AsProgrammableConfigItemDelegateV2"]')]])});var eNe=_(pu=>{"use strict";u();l();var xzt=pu&&pu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Pzt=pu&&pu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QMe=pu&&pu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xzt(e,t,r);return Pzt(e,t),e};Object.defineProperty(pu,"__esModule",{value:!0});pu.createUpdateInstruction=pu.updateInstructionDiscriminator=pu.UpdateStruct=void 0;var JMe=QMe(pe()),$ie=QMe(we()),Ozt=Hie();pu.UpdateStruct=new JMe.FixableBeetArgsStruct([["instructionDiscriminator",JMe.u8],["updateArgs",Ozt.updateArgsBeet]],"UpdateInstructionArgs");pu.updateInstructionDiscriminator=50;function Rzt(t,e,r=new $ie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c;let[d]=pu.UpdateStruct.serialize({instructionDiscriminator:pu.updateInstructionDiscriminator,...e}),f=[{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:(n=t.delegateRecord)!==null&&n!==void 0?n:r,isWritable:!1,isSigner:!1},{pubkey:(i=t.token)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(o=t.edition)!==null&&o!==void 0?o:r,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:(s=t.systemProgram)!==null&&s!==void 0?s:$ie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:(a=t.authorizationRulesProgram)!==null&&a!==void 0?a:r,isWritable:!1,isSigner:!1},{pubkey:(c=t.authorizationRules)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1}];return new $ie.TransactionInstruction({programId:r,keys:f,data:d})}pu.createUpdateInstruction=Rzt});var iNe=_(hu=>{"use strict";u();l();var Czt=hu&&hu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bzt=hu&&hu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nNe=hu&&hu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Czt(e,t,r);return Bzt(e,t),e};Object.defineProperty(hu,"__esModule",{value:!0});hu.createUpdateMetadataAccountInstruction=hu.updateMetadataAccountInstructionDiscriminator=hu.UpdateMetadataAccountStruct=void 0;var tNe=nNe(pe()),rNe=nNe(we());hu.UpdateMetadataAccountStruct=new tNe.BeetArgsStruct([["instructionDiscriminator",tNe.u8]],"UpdateMetadataAccountInstructionArgs");hu.updateMetadataAccountInstructionDiscriminator=1;function Mzt(t,e=new rNe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=hu.UpdateMetadataAccountStruct.serialize({instructionDiscriminator:hu.updateMetadataAccountInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!0}];return new rNe.TransactionInstruction({programId:e,keys:n,data:r})}hu.createUpdateMetadataAccountInstruction=Mzt});var Yie=_(Ny=>{"use strict";u();l();var Nzt=Ny&&Ny.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Dzt=Ny&&Ny.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oNe=Ny&&Ny.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Nzt(e,t,r);return Dzt(e,t),e};Object.defineProperty(Ny,"__esModule",{value:!0});Ny.updateMetadataAccountArgsV2Beet=void 0;var cE=oNe(pe()),Uzt=oNe(Jr()),Lzt=qK();Ny.updateMetadataAccountArgsV2Beet=new cE.FixableBeetArgsStruct([["data",cE.coption(Lzt.dataV2Beet)],["updateAuthority",cE.coption(Uzt.publicKey)],["primarySaleHappened",cE.coption(cE.bool)],["isMutable",cE.coption(cE.bool)]],"UpdateMetadataAccountArgsV2")});var uNe=_(mu=>{"use strict";u();l();var zzt=mu&&mu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Fzt=mu&&mu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cNe=mu&&mu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zzt(e,t,r);return Fzt(e,t),e};Object.defineProperty(mu,"__esModule",{value:!0});mu.createUpdateMetadataAccountV2Instruction=mu.updateMetadataAccountV2InstructionDiscriminator=mu.UpdateMetadataAccountV2Struct=void 0;var sNe=cNe(pe()),aNe=cNe(we()),qzt=Yie();mu.UpdateMetadataAccountV2Struct=new sNe.FixableBeetArgsStruct([["instructionDiscriminator",sNe.u8],["updateMetadataAccountArgsV2",qzt.updateMetadataAccountArgsV2Beet]],"UpdateMetadataAccountV2InstructionArgs");mu.updateMetadataAccountV2InstructionDiscriminator=15;function jzt(t,e,r=new aNe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[n]=mu.UpdateMetadataAccountV2Struct.serialize({instructionDiscriminator:mu.updateMetadataAccountV2InstructionDiscriminator,...e}),i=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.updateAuthority,isWritable:!1,isSigner:!0}];return new aNe.TransactionInstruction({programId:r,keys:i,data:n})}mu.createUpdateMetadataAccountV2Instruction=jzt});var pNe=_(yu=>{"use strict";u();l();var Kzt=yu&&yu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Wzt=yu&&yu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fNe=yu&&yu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Kzt(e,t,r);return Wzt(e,t),e};Object.defineProperty(yu,"__esModule",{value:!0});yu.createUpdatePrimarySaleHappenedViaTokenInstruction=yu.updatePrimarySaleHappenedViaTokenInstructionDiscriminator=yu.UpdatePrimarySaleHappenedViaTokenStruct=void 0;var lNe=fNe(pe()),dNe=fNe(we());yu.UpdatePrimarySaleHappenedViaTokenStruct=new lNe.BeetArgsStruct([["instructionDiscriminator",lNe.u8]],"UpdatePrimarySaleHappenedViaTokenInstructionArgs");yu.updatePrimarySaleHappenedViaTokenInstructionDiscriminator=4;function Vzt(t,e=new dNe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=yu.UpdatePrimarySaleHappenedViaTokenStruct.serialize({instructionDiscriminator:yu.updatePrimarySaleHappenedViaTokenInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.owner,isWritable:!1,isSigner:!0},{pubkey:t.token,isWritable:!1,isSigner:!1}];return new dNe.TransactionInstruction({programId:e,keys:n,data:r})}yu.createUpdatePrimarySaleHappenedViaTokenInstruction=Vzt});var Zie=_(up=>{"use strict";u();l();var Gzt=up&&up.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hzt=up&&up.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$zt=up&&up.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Gzt(e,t,r);return Hzt(e,t),e};Object.defineProperty(up,"__esModule",{value:!0});up.useArgsBeet=up.isUseArgsV1=void 0;var Xie=$zt(pe()),Yzt=mb(),Xzt=t=>t.__kind==="V1";up.isUseArgsV1=Xzt;up.useArgsBeet=Xie.dataEnum([["V1",new Xie.FixableBeetArgsStruct([["authorizationData",Xie.coption(Yzt.authorizationDataBeet)]],'UseArgsRecord["V1"]')]])});var yNe=_(gu=>{"use strict";u();l();var Zzt=gu&&gu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jzt=gu&&gu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mNe=gu&&gu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Zzt(e,t,r);return Jzt(e,t),e};Object.defineProperty(gu,"__esModule",{value:!0});gu.createUseInstruction=gu.useInstructionDiscriminator=gu.UseStruct=void 0;var hNe=mNe(pe()),Jie=mNe(we()),Qzt=Zie();gu.UseStruct=new hNe.FixableBeetArgsStruct([["instructionDiscriminator",hNe.u8],["useArgs",Qzt.useArgsBeet]],"UseInstructionArgs");gu.useInstructionDiscriminator=51;function e8t(t,e,r=new Jie.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a,c,d;let[f]=gu.UseStruct.serialize({instructionDiscriminator:gu.useInstructionDiscriminator,...e}),p=[{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:(n=t.delegateRecord)!==null&&n!==void 0?n:r,isWritable:t.delegateRecord!=null,isSigner:!1},{pubkey:(i=t.token)!==null&&i!==void 0?i:r,isWritable:t.token!=null,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(o=t.edition)!==null&&o!==void 0?o:r,isWritable:t.edition!=null,isSigner:!1},{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:(s=t.systemProgram)!==null&&s!==void 0?s:Jie.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:(a=t.splTokenProgram)!==null&&a!==void 0?a:r,isWritable:!1,isSigner:!1},{pubkey:(c=t.authorizationRulesProgram)!==null&&c!==void 0?c:r,isWritable:!1,isSigner:!1},{pubkey:(d=t.authorizationRules)!==null&&d!==void 0?d:r,isWritable:!1,isSigner:!1}];return new Jie.TransactionInstruction({programId:r,keys:p,data:f})}gu.createUseInstruction=e8t});var Qie=_(Dy=>{"use strict";u();l();var t8t=Dy&&Dy.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),r8t=Dy&&Dy.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n8t=Dy&&Dy.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&t8t(e,t,r);return r8t(e,t),e};Object.defineProperty(Dy,"__esModule",{value:!0});Dy.utilizeArgsBeet=void 0;var gNe=n8t(pe());Dy.utilizeArgsBeet=new gNe.BeetArgsStruct([["numberOfUses",gNe.u64]],"UtilizeArgs")});var SNe=_(bu=>{"use strict";u();l();var i8t=bu&&bu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),o8t=bu&&bu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eoe=bu&&bu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&i8t(e,t,r);return o8t(e,t),e};Object.defineProperty(bu,"__esModule",{value:!0});bu.createUtilizeInstruction=bu.utilizeInstructionDiscriminator=bu.UtilizeStruct=void 0;var bNe=eoe(il()),_Ne=eoe(pe()),JK=eoe(we()),s8t=Qie();bu.UtilizeStruct=new _Ne.BeetArgsStruct([["instructionDiscriminator",_Ne.u8],["utilizeArgs",s8t.utilizeArgsBeet]],"UtilizeInstructionArgs");bu.utilizeInstructionDiscriminator=19;function a8t(t,e,r=new JK.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s;let[a]=bu.UtilizeStruct.serialize({instructionDiscriminator:bu.utilizeInstructionDiscriminator,...e}),c=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:t.mint,isWritable:!0,isSigner:!1},{pubkey:t.useAuthority,isWritable:!0,isSigner:!0},{pubkey:t.owner,isWritable:!1,isSigner:!1},{pubkey:(n=t.tokenProgram)!==null&&n!==void 0?n:bNe.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(i=t.ataProgram)!==null&&i!==void 0?i:bNe.ASSOCIATED_TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(o=t.systemProgram)!==null&&o!==void 0?o:JK.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:(s=t.rent)!==null&&s!==void 0?s:JK.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];if(t.useAuthorityRecord!=null&&c.push({pubkey:t.useAuthorityRecord,isWritable:!0,isSigner:!1}),t.burner!=null){if(t.useAuthorityRecord==null)throw new Error("When providing 'burner' then 'accounts.useAuthorityRecord' need(s) to be provided as well.");c.push({pubkey:t.burner,isWritable:!1,isSigner:!1})}return new JK.TransactionInstruction({programId:r,keys:c,data:a})}bu.createUtilizeInstruction=a8t});var ENe=_(_u=>{"use strict";u();l();var c8t=_u&&_u.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),u8t=_u&&_u.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ANe=_u&&_u.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&c8t(e,t,r);return u8t(e,t),e};Object.defineProperty(_u,"__esModule",{value:!0});_u.createVerifyInstruction=_u.verifyInstructionDiscriminator=_u.VerifyStruct=void 0;var wNe=ANe(pe()),toe=ANe(we()),l8t=$K();_u.VerifyStruct=new wNe.BeetArgsStruct([["instructionDiscriminator",wNe.u8],["verificationArgs",l8t.verificationArgsBeet]],"VerifyInstructionArgs");_u.verifyInstructionDiscriminator=52;function d8t(t,e,r=new toe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var n,i,o,s,a;let[c]=_u.VerifyStruct.serialize({instructionDiscriminator:_u.verifyInstructionDiscriminator,...e}),d=[{pubkey:t.authority,isWritable:!1,isSigner:!0},{pubkey:(n=t.delegateRecord)!==null&&n!==void 0?n:r,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:(i=t.collectionMint)!==null&&i!==void 0?i:r,isWritable:!1,isSigner:!1},{pubkey:(o=t.collectionMetadata)!==null&&o!==void 0?o:r,isWritable:t.collectionMetadata!=null,isSigner:!1},{pubkey:(s=t.collectionMasterEdition)!==null&&s!==void 0?s:r,isWritable:!1,isSigner:!1},{pubkey:(a=t.systemProgram)!==null&&a!==void 0?a:toe.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.sysvarInstructions,isWritable:!1,isSigner:!1}];return new toe.TransactionInstruction({programId:r,keys:d,data:c})}_u.createVerifyInstruction=d8t});var vNe=_(Su=>{"use strict";u();l();var f8t=Su&&Su.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),p8t=Su&&Su.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kNe=Su&&Su.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&f8t(e,t,r);return p8t(e,t),e};Object.defineProperty(Su,"__esModule",{value:!0});Su.createVerifyCollectionInstruction=Su.verifyCollectionInstructionDiscriminator=Su.VerifyCollectionStruct=void 0;var INe=kNe(pe()),TNe=kNe(we());Su.VerifyCollectionStruct=new INe.BeetArgsStruct([["instructionDiscriminator",INe.u8]],"VerifyCollectionInstructionArgs");Su.verifyCollectionInstructionDiscriminator=18;function h8t(t,e=new TNe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=Su.VerifyCollectionStruct.serialize({instructionDiscriminator:Su.verifyCollectionInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collection,isWritable:!1,isSigner:!1},{pubkey:t.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return t.collectionAuthorityRecord!=null&&n.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new TNe.TransactionInstruction({programId:e,keys:n,data:r})}Su.createVerifyCollectionInstruction=h8t});var RNe=_(wu=>{"use strict";u();l();var m8t=wu&&wu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),y8t=wu&&wu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ONe=wu&&wu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&m8t(e,t,r);return y8t(e,t),e};Object.defineProperty(wu,"__esModule",{value:!0});wu.createVerifySizedCollectionItemInstruction=wu.verifySizedCollectionItemInstructionDiscriminator=wu.VerifySizedCollectionItemStruct=void 0;var xNe=ONe(pe()),PNe=ONe(we());wu.VerifySizedCollectionItemStruct=new xNe.BeetArgsStruct([["instructionDiscriminator",xNe.u8]],"VerifySizedCollectionItemInstructionArgs");wu.verifySizedCollectionItemInstructionDiscriminator=30;function g8t(t,e=new PNe.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[r]=wu.VerifySizedCollectionItemStruct.serialize({instructionDiscriminator:wu.verifySizedCollectionItemInstructionDiscriminator}),n=[{pubkey:t.metadata,isWritable:!0,isSigner:!1},{pubkey:t.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.collectionMint,isWritable:!1,isSigner:!1},{pubkey:t.collection,isWritable:!0,isSigner:!1},{pubkey:t.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return t.collectionAuthorityRecord!=null&&n.push({pubkey:t.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new PNe.TransactionInstruction({programId:e,keys:n,data:r})}wu.createVerifySizedCollectionItemInstruction=g8t});var CNe=_(At=>{"use strict";u();l();var b8t=At&&At.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ut=At&&At.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&b8t(e,t,r)};Object.defineProperty(At,"__esModule",{value:!0});Ut(yke(),At);Ut(oCe(),At);Ut(lCe(),At);Ut(pCe(),At);Ut(gCe(),At);Ut(wCe(),At);Ut(ICe(),At);Ut(xCe(),At);Ut(CCe(),At);Ut(DCe(),At);Ut(zCe(),At);Ut(qCe(),At);Ut(KCe(),At);Ut(GCe(),At);Ut(YCe(),At);Ut(JCe(),At);Ut(nBe(),At);Ut(oBe(),At);Ut(cBe(),At);Ut(lBe(),At);Ut(fBe(),At);Ut(hBe(),At);Ut(bBe(),At);Ut(wBe(),At);Ut(IBe(),At);Ut(PBe(),At);Ut(CBe(),At);Ut(NBe(),At);Ut(UBe(),At);Ut(qBe(),At);Ut(VBe(),At);Ut(YBe(),At);Ut(QBe(),At);Ut(tMe(),At);Ut(oMe(),At);Ut(uMe(),At);Ut(pMe(),At);Ut(gMe(),At);Ut(wMe(),At);Ut(IMe(),At);Ut(vMe(),At);Ut(RMe(),At);Ut(MMe(),At);Ut(LMe(),At);Ut(jMe(),At);Ut(GMe(),At);Ut(eNe(),At);Ut(iNe(),At);Ut(uNe(),At);Ut(pNe(),At);Ut(yNe(),At);Ut(SNe(),At);Ut(ENe(),At);Ut(vNe(),At);Ut(RNe(),At)});var MNe=_(of=>{"use strict";u();l();var _8t=of&&of.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),S8t=of&&of.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),w8t=of&&of.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_8t(e,t,r);return S8t(e,t),e};Object.defineProperty(of,"__esModule",{value:!0});of.authorityTypeBeet=of.AuthorityType=void 0;var A8t=w8t(pe()),BNe;(function(t){t[t.None=0]="None",t[t.Metadata=1]="Metadata",t[t.Holder=2]="Holder",t[t.MetadataDelegate=3]="MetadataDelegate",t[t.TokenDelegate=4]="TokenDelegate"})(BNe=of.AuthorityType||(of.AuthorityType={}));of.authorityTypeBeet=A8t.fixedScalarEnum(BNe)});var DNe=_(sf=>{"use strict";u();l();var E8t=sf&&sf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),I8t=sf&&sf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),T8t=sf&&sf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&E8t(e,t,r);return I8t(e,t),e};Object.defineProperty(sf,"__esModule",{value:!0});sf.metadataDelegateRoleBeet=sf.MetadataDelegateRole=void 0;var k8t=T8t(pe()),NNe;(function(t){t[t.AuthorityItem=0]="AuthorityItem",t[t.Collection=1]="Collection",t[t.Use=2]="Use",t[t.Data=3]="Data",t[t.ProgrammableConfig=4]="ProgrammableConfig",t[t.DataItem=5]="DataItem",t[t.CollectionItem=6]="CollectionItem",t[t.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(NNe=sf.MetadataDelegateRole||(sf.MetadataDelegateRole={}));sf.metadataDelegateRoleBeet=k8t.fixedScalarEnum(NNe)});var LNe=_(af=>{"use strict";u();l();var v8t=af&&af.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),x8t=af&&af.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),P8t=af&&af.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&v8t(e,t,r);return x8t(e,t),e};Object.defineProperty(af,"__esModule",{value:!0});af.payloadKeyBeet=af.PayloadKey=void 0;var O8t=P8t(pe()),UNe;(function(t){t[t.Amount=0]="Amount",t[t.Authority=1]="Authority",t[t.AuthoritySeeds=2]="AuthoritySeeds",t[t.Delegate=3]="Delegate",t[t.DelegateSeeds=4]="DelegateSeeds",t[t.Destination=5]="Destination",t[t.DestinationSeeds=6]="DestinationSeeds",t[t.Holder=7]="Holder",t[t.Source=8]="Source",t[t.SourceSeeds=9]="SourceSeeds"})(UNe=af.PayloadKey||(af.PayloadKey={}));af.payloadKeyBeet=O8t.fixedScalarEnum(UNe)});var zNe=_(Bt=>{"use strict";u();l();var R8t=Bt&&Bt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xt=Bt&&Bt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&R8t(e,t,r)};Object.defineProperty(Bt,"__esModule",{value:!0});Xt(Bne(),Bt);Xt(Fne(),Bt);Xt(MNe(),Bt);Xt(mb(),Bt);Xt(Une(),Bt);Xt(KA(),Bt);Xt(VA(),Bt);Xt(Kie(),Bt);Xt(jie(),Bt);Xt(jne(),Bt);Xt(Hne(),Bt);Xt(Jne(),Bt);Xt(SC(),Bt);Xt(wC(),Bt);Xt(qK(),Bt);Xt(sie(),Bt);Xt(cte(),Bt);Xt(ic(),Bt);Xt(rie(),Bt);Xt(yie(),Bt);Xt(DNe(),Bt);Xt(Sie(),Bt);Xt(bie(),Bt);Xt(Aie(),Bt);Xt(GK(),Bt);Xt(oie(),Bt);Xt(LNe(),Bt);Xt(nie(),Bt);Xt(qne(),Bt);Xt(Tj(),Bt);Xt(ote(),Bt);Xt(tte(),Bt);Xt(xie(),Bt);Xt(Vie(),Bt);Xt(tie(),Bt);Xt(LK(),Bt);Xt(fte(),Bt);Xt(A1(),Bt);Xt(dte(),Bt);Xt(Bie(),Bt);Xt(Nie(),Bt);Xt(zie(),Bt);Xt(Hie(),Bt);Xt(Yie(),Bt);Xt(Zie(),Bt);Xt(Hee(),Bt);Xt(WA(),Bt);Xt(Wie(),Bt);Xt(Qie(),Bt);Xt($K(),Bt)});var zj=_(ol=>{"use strict";u();l();var C8t=ol&&ol.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QK=ol&&ol.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&C8t(e,t,r)};Object.defineProperty(ol,"__esModule",{value:!0});ol.PROGRAM_ID=ol.PROGRAM_ADDRESS=void 0;var B8t=we();QK(fke(),ol);QK(pke(),ol);QK(CNe(),ol);QK(zNe(),ol);ol.PROGRAM_ADDRESS="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";ol.PROGRAM_ID=new B8t.PublicKey(ol.PROGRAM_ADDRESS)});var FNe=_(e4=>{"use strict";u();l();Object.defineProperty(e4,"__esModule",{value:!0});e4.cusper=void 0;var M8t=vQ(),N8t=zj();e4.cusper=(0,M8t.initCusper)(N8t.errorFromCode)});var roe=_(H_=>{"use strict";u();l();var D8t=H_&&H_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qNe=H_&&H_.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&D8t(e,t,r)};Object.defineProperty(H_,"__esModule",{value:!0});qNe(FNe(),H_);qNe(zj(),H_)});var GNe=_((nWr,VNe)=>{u();l();function G8t(t,e,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),e!==void 0&&(t=t>=e?t:e)),t}VNe.exports=G8t});var $Ne=_((sWr,HNe)=>{u();l();var H8t=GNe(),hoe=ort();function $8t(t,e,r){return r===void 0&&(r=e,e=void 0),r!==void 0&&(r=hoe(r),r=r===r?r:0),e!==void 0&&(e=hoe(e),e=e===e?e:0),H8t(hoe(t),e,r)}HNe.exports=$8t});var $D=_(ht=>{"use strict";u();l();var Rn=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};ht.Layout=Rn;function Loe(t,e){return e.property?t+"["+e.property+"]":t}ht.nameWithProperty=Loe;function NFt(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Rn))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(r,n){return e.decode(r,n)},writable:!0})}ht.bindConstructorLayout=NFt;var Au=class extends Rn{isCount(){throw new Error("ExternalLayout is abstract")}},f4=class extends Au{constructor(e,r){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r){r===void 0&&(r=0);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}},WD=class extends Au{constructor(e,r,n){if(!(e instanceof Rn))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof lp||this.layout instanceof yh}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}},lp=class extends Rn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}},yh=class extends Rn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}},_b=class extends Rn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntLE(e,n,this.span),this.span}},X_=class extends Rn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntBE(e,n,this.span),this.span}},Boe=Math.pow(2,32);function T4(t){let e=Math.floor(t/Boe),r=t-e*Boe;return{hi32:e,lo32:r}}function k4(t,e){return t*Boe+e}var Moe=class extends Rn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32LE(r),i=e.readUInt32LE(r+4);return k4(i,n)}encode(e,r,n){n===void 0&&(n=0);let i=T4(e);return r.writeUInt32LE(i.lo32,n),r.writeUInt32LE(i.hi32,n+4),8}},Noe=class extends Rn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32BE(r),i=e.readUInt32BE(r+4);return k4(n,i)}encode(e,r,n){n===void 0&&(n=0);let i=T4(e);return r.writeUInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}},Doe=class extends Rn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32LE(r),i=e.readInt32LE(r+4);return k4(i,n)}encode(e,r,n){n===void 0&&(n=0);let i=T4(e);return r.writeUInt32LE(i.lo32,n),r.writeInt32LE(i.hi32,n+4),8}},Uoe=class extends Rn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readInt32BE(r),i=e.readUInt32BE(r+4);return k4(n,i)}encode(e,r,n){n===void 0&&(n=0);let i=T4(e);return r.writeInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}},p4=class extends Rn{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatLE(e,n),4}},h4=class extends Rn{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatBE(e,n),4}},m4=class extends Rn{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleLE(e,n),8}},y4=class extends Rn{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleBE(e,n),8}},g4=class extends Rn{constructor(e,r,n){if(!(e instanceof Rn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Au&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Au)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0,i=this.count;if(i instanceof Au&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,r+n),++o}return n}decode(e,r){r===void 0&&(r=0);let n=[],i=0,o=this.count;for(o instanceof Au&&(o=o.decode(e,r));i<o;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n){n===void 0&&(n=0);let i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,r,n+s),0);return this.count instanceof Au&&this.count.encode(e.length,r,n),o}},b4=class extends Rn{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Rn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(e,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);let i=n,o=0,s=0;for(let a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){let d=e[a.property];d!==void 0&&(s=a.encode(d,r,n),0>c&&(c=a.getSpan(r,n)))}o=n,n+=c}return o+s-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}},VD=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},xk=class extends VD{constructor(e,r){if(!(e instanceof Au&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}},GD=class extends Rn{constructor(e,r,n){let i=e instanceof lp||e instanceof yh;if(i)e=new xk(new WD(e));else if(e instanceof Au&&e.isCount())e=new xk(e);else if(!(e instanceof VD))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Rn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&i&&(o+=e.layout.span)),super(o,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){r===void 0&&(r=0);let n,i=this.discriminator,o=i.decode(e,r),s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[s.property]=this.defaultLayout.decode(e,r+a)}else n=s.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],r,n),a+s.encode(e[s.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new _4(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r){let n=e;return Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}},_4=class extends Rn{constructor(e,r,n,i){if(!(e instanceof GD))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Rn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){let n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function vk(t){return 0>t&&(t+=4294967296),t}var HD=class extends Rn{constructor(e,r,n){if(!(e instanceof lp||e instanceof yh))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=vk(o),this},this._packedGetValue=function(){return i}}decode(e,r){let n=this.makeDestinationObject();r===void 0&&(r=0);let i=this.word.decode(e,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(i));return n}encode(e,r,n){n===void 0&&(n=0);let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new dE(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new S4(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}},dE=class{constructor(e,r,n){if(!(e instanceof HD))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=vk(this.valueMask<<this.start),this.property=n}decode(){let e=this.container._packedGetValue();return vk(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==vk(e&this.valueMask))throw new TypeError(Loe("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=vk(e<<this.start);this.container._packedSetValue(vk(r&~this.wordMask)|n)}},S4=class extends dE{constructor(e,r){super(e,1,r)}decode(e,r){return!!dE.prototype.decode.call(this,e,r)}encode(e){return typeof e=="boolean"&&(e=+e),dE.prototype.encode.call(this,e)}},w4=class extends Rn{constructor(e,r){if(!(e instanceof Au&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Au||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Au&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(Loe("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,i,"hex"),this.length instanceof Au&&this.length.encode(i,r,n),i}},A4=class extends Rn{constructor(e){super(-1,e)}getSpan(e,r){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");r===void 0&&(r=0);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);return e.slice(r,r+i-1).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());let i=new Buffer(e,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),r[n+o]=0,o+1}},E4=class extends Rn{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return r===void 0&&(r=0),e.length-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(r,r+i).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());let i=new Buffer(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),o}},I4=class extends Rn{constructor(e,r){super(0,r),this.value=e}decode(e,r,n){return this.value}encode(e,r,n){return 0}};ht.ExternalLayout=Au;ht.GreedyCount=f4;ht.OffsetLayout=WD;ht.UInt=lp;ht.UIntBE=yh;ht.Int=_b;ht.IntBE=X_;ht.Float=p4;ht.FloatBE=h4;ht.Double=m4;ht.DoubleBE=y4;ht.Sequence=g4;ht.Structure=b4;ht.UnionDiscriminator=VD;ht.UnionLayoutDiscriminator=xk;ht.Union=GD;ht.VariantLayout=_4;ht.BitStructure=HD;ht.BitField=dE;ht.Boolean=S4;ht.Blob=w4;ht.CString=A4;ht.UTF8=E4;ht.Constant=I4;ht.greedy=(t,e)=>new f4(t,e);ht.offset=(t,e,r)=>new WD(t,e,r);ht.u8=t=>new lp(1,t);ht.u16=t=>new lp(2,t);ht.u24=t=>new lp(3,t);ht.u32=t=>new lp(4,t);ht.u40=t=>new lp(5,t);ht.u48=t=>new lp(6,t);ht.nu64=t=>new Moe(t);ht.u16be=t=>new yh(2,t);ht.u24be=t=>new yh(3,t);ht.u32be=t=>new yh(4,t);ht.u40be=t=>new yh(5,t);ht.u48be=t=>new yh(6,t);ht.nu64be=t=>new Noe(t);ht.s8=t=>new _b(1,t);ht.s16=t=>new _b(2,t);ht.s24=t=>new _b(3,t);ht.s32=t=>new _b(4,t);ht.s40=t=>new _b(5,t);ht.s48=t=>new _b(6,t);ht.ns64=t=>new Doe(t);ht.s16be=t=>new X_(2,t);ht.s24be=t=>new X_(3,t);ht.s32be=t=>new X_(4,t);ht.s40be=t=>new X_(5,t);ht.s48be=t=>new X_(6,t);ht.ns64be=t=>new Uoe(t);ht.f32=t=>new p4(t);ht.f32be=t=>new h4(t);ht.f64=t=>new m4(t);ht.f64be=t=>new y4(t);ht.struct=(t,e,r)=>new b4(t,e,r);ht.bits=(t,e,r)=>new HD(t,e,r);ht.seq=(t,e,r)=>new g4(t,e,r);ht.union=(t,e,r)=>new GD(t,e,r);ht.unionLayoutDiscriminator=(t,e)=>new xk(t,e);ht.blob=(t,e)=>new w4(t,e);ht.cstr=t=>new A4(t);ht.utf8=(t,e)=>new E4(t,e);ht.const=(t,e)=>new I4(t,e)});var O4=_(fE=>{"use strict";u();l();Object.defineProperty(fE,"__esModule",{value:!0});var LFt=t=>({__option:"Some",value:t}),zFt=()=>({__option:"None"}),FFt=t=>t&&typeof t=="object"&&"__option"in t&&(t.__option==="Some"&&"value"in t||t.__option==="None"),qFt=t=>t.__option==="Some",jFt=t=>t.__option==="None";fE.isNone=jFt;fE.isOption=FFt;fE.isSome=qFt;fE.none=zFt;fE.some=LFt});var yDe=_(Pk=>{"use strict";u();l();Object.defineProperty(Pk,"__esModule",{value:!0});var YD=O4();function KFt(t,e){return YD.isSome(t)?t.value:e?e():null}var WFt=t=>t!==null?YD.some(t):YD.none(),VFt=t=>YD.isSome(t)?t.value:null,GFt=(t,e)=>YD.isSome(t)?t.value:e();Pk.unwrapOption=KFt;Pk.unwrapSome=VFt;Pk.unwrapSomeOrElse=GFt;Pk.wrapNullable=WFt});var bDe=_(joe=>{"use strict";u();l();Object.defineProperty(joe,"__esModule",{value:!0});var gDe=O4();function qoe(t,e){if(!t||ArrayBuffer.isView(t))return t;let r=n=>e?qoe(n,e):qoe(n);return gDe.isOption(t)?gDe.isSome(t)?r(t.value):e?e():null:Array.isArray(t)?t.map(r):typeof t=="object"?Object.fromEntries(Object.entries(t).map(([n,i])=>[n,r(i)])):t}joe.unwrapOptionRecursively=qoe});var Koe=_(dp=>{"use strict";u();l();Object.defineProperty(dp,"__esModule",{value:!0});var XD=O4(),R4=yDe(),HFt=bDe();dp.isNone=XD.isNone;dp.isOption=XD.isOption;dp.isSome=XD.isSome;dp.none=XD.none;dp.some=XD.some;dp.unwrapOption=R4.unwrapOption;dp.unwrapSome=R4.unwrapSome;dp.unwrapSomeOrElse=R4.unwrapSomeOrElse;dp.wrapNullable=R4.wrapNullable;dp.unwrapOptionRecursively=HFt.unwrapOptionRecursively});var ZD=_(Voe=>{"use strict";u();l();Object.defineProperty(Voe,"__esModule",{value:!0});var Woe=class extends Error{name="InvalidBaseStringError";constructor(e,r,n){let i=`Expected a string of base ${r}, got [${e}].`;super(i),this.cause=n}};Voe.InvalidBaseStringError=Woe});var C4=_(Goe=>{"use strict";u();l();Object.defineProperty(Goe,"__esModule",{value:!0});var $Ft=ZD(),YFt=t=>{let e=t.length,r=BigInt(e);return{description:`base${e}`,fixedSize:null,maxSize:null,serialize(n){if(!n.match(new RegExp(`^[${t}]*$`)))throw new $Ft.InvalidBaseStringError(n,e);if(n==="")return new Uint8Array;let i=[...n],o=i.findIndex(p=>p!==t[0]);o=o===-1?i.length:o;let s=Array(o).fill(0);if(o===i.length)return Uint8Array.from(s);let a=i.slice(o),c=0n,d=1n;for(let p=a.length-1;p>=0;p-=1)c+=d*BigInt(t.indexOf(a[p])),d*=r;let f=[];for(;c>0n;)f.unshift(Number(c%256n)),c/=256n;return Uint8Array.from(s.concat(f))},deserialize(n,i=0){if(n.length===0)return["",0];let o=n.slice(i),s=o.findIndex(f=>f!==0);s=s===-1?o.length:s;let a=t[0].repeat(s);if(s===o.length)return[a,n.length];let c=o.slice(s).reduce((f,p)=>f*256n+BigInt(p),0n),d=[];for(;c>0n;)d.unshift(t[Number(c%r)]),c/=r;return[a+d.join(""),n.length]}}};Goe.baseX=YFt});var _De=_(Hoe=>{"use strict";u();l();Object.defineProperty(Hoe,"__esModule",{value:!0});var XFt=C4(),ZFt=XFt.baseX("0123456789");Hoe.base10=ZFt});var SDe=_($oe=>{"use strict";u();l();Object.defineProperty($oe,"__esModule",{value:!0});var JFt=ZD(),QFt={description:"base16",fixedSize:null,maxSize:null,serialize(t){let e=t.toLowerCase();if(!e.match(/^[0123456789abcdef]*$/))throw new JFt.InvalidBaseStringError(t,16);let r=e.match(/.{1,2}/g);return Uint8Array.from(r?r.map(n=>parseInt(n,16)):[])},deserialize(t,e=0){return[t.slice(e).reduce((n,i)=>n+i.toString(16).padStart(2,"0"),""),t.length]}};$oe.base16=QFt});var wDe=_(Yoe=>{"use strict";u();l();Object.defineProperty(Yoe,"__esModule",{value:!0});var e3t=C4(),t3t=e3t.baseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Yoe.base58=t3t});var B4=_(JD=>{"use strict";u();l();Object.defineProperty(JD,"__esModule",{value:!0});var r3t=t=>{let e=t.reduce((i,o)=>i+o.length,0),r=new Uint8Array(e),n=0;return t.forEach(i=>{r.set(i,n),n+=i.length}),r},ADe=(t,e)=>{if(t.length>=e)return t;let r=new Uint8Array(e).fill(0);return r.set(t),r},n3t=(t,e)=>ADe(t.slice(0,e),e);JD.fixBytes=n3t;JD.mergeBytes=r3t;JD.padBytes=ADe});var M4=_(QD=>{"use strict";u();l();Object.defineProperty(QD,"__esModule",{value:!0});var Xoe=class extends Error{name="DeserializingEmptyBufferError";constructor(e){super(`Serializer [${e}] cannot deserialize empty buffers.`)}},Zoe=class extends Error{name="NotEnoughBytesError";constructor(e,r,n){super(`Serializer [${e}] expected ${r} bytes, got ${n}.`)}},Joe=class extends Error{name="ExpectedFixedSizeSerializerError";constructor(e){e??="Expected a fixed-size serializer, got a variable-size one.",super(e)}};QD.DeserializingEmptyBufferError=Xoe;QD.ExpectedFixedSizeSerializerError=Joe;QD.NotEnoughBytesError=Zoe});var IDe=_(Qoe=>{"use strict";u();l();Object.defineProperty(Qoe,"__esModule",{value:!0});var EDe=B4(),i3t=M4();function o3t(t,e,r){return{description:r??`fixed(${e}, ${t.description})`,fixedSize:e,maxSize:e,serialize:n=>EDe.fixBytes(t.serialize(n),e),deserialize:(n,i=0)=>{if(n=n.slice(i,i+e),n.length<e)throw new i3t.NotEnoughBytesError("fixSerializer",e,n.length);t.fixedSize!==null&&(n=EDe.fixBytes(n,t.fixedSize));let[o]=t.deserialize(n,0);return[o,i+e]}}}Qoe.fixSerializer=o3t});var TDe=_(ese=>{"use strict";u();l();Object.defineProperty(ese,"__esModule",{value:!0});function s3t(t,e,r){return{description:t.description,fixedSize:t.fixedSize,maxSize:t.maxSize,serialize:n=>t.serialize(e(n)),deserialize:(n,i=0)=>{let[o,s]=t.deserialize(n,i);return r?[r(o,n,i),s]:[o,s]}}}ese.mapSerializer=s3t});var kDe=_(tse=>{"use strict";u();l();Object.defineProperty(tse,"__esModule",{value:!0});var a3t=B4(),c3t=M4();function u3t(t){if(t.fixedSize===null)throw new c3t.ExpectedFixedSizeSerializerError("Cannot reverse a serializer of variable size.");return{...t,serialize:e=>t.serialize(e).reverse(),deserialize:(e,r=0)=>{let n=t.fixedSize,i=a3t.mergeBytes([e.slice(0,r),e.slice(r,r+n).reverse(),e.slice(r+n)]);return t.deserialize(i,r)}}}tse.reverseSerializer=u3t});var Zs=_(gh=>{"use strict";u();l();Object.defineProperty(gh,"__esModule",{value:!0});var rse=B4(),nse=M4(),l3t=IDe(),d3t=TDe(),f3t=kDe();gh.fixBytes=rse.fixBytes;gh.mergeBytes=rse.mergeBytes;gh.padBytes=rse.padBytes;gh.DeserializingEmptyBufferError=nse.DeserializingEmptyBufferError;gh.ExpectedFixedSizeSerializerError=nse.ExpectedFixedSizeSerializerError;gh.NotEnoughBytesError=nse.NotEnoughBytesError;gh.fixSerializer=l3t.fixSerializer;gh.mapSerializer=d3t.mapSerializer;gh.reverseSerializer=f3t.reverseSerializer});var ose=_(ise=>{"use strict";u();l();Object.defineProperty(ise,"__esModule",{value:!0});var p3t=ZD(),h3t=(t,e)=>{let r=t.length,n=(i,o,s,a)=>{let c=[],d=0,f=0,p=(1<<s)-1;for(let m of i)for(d=d<<o|m,f+=o;f>=s;)f-=s,c.push(d>>f&p);return a&&f>0&&c.push(d<<s-f&p),c};return{description:`base${r}`,fixedSize:null,maxSize:null,serialize(i){if(!i.match(new RegExp(`^[${t}]*$`)))throw new p3t.InvalidBaseStringError(i,r);if(i==="")return new Uint8Array;let o=[...i].map(a=>t.indexOf(a)),s=n(o,e,8,!1);return Uint8Array.from(s)},deserialize(i,o=0){if(i.length===0)return["",0];let s=[...i.slice(o)];return[n(s,8,e,!0).map(c=>t[c]).join(""),i.length]}}};ise.baseXReslice=h3t});var vDe=_(sse=>{"use strict";u();l();Object.defineProperty(sse,"__esModule",{value:!0});var m3t=Zs(),y3t=ose(),g3t=m3t.mapSerializer(y3t.baseXReslice("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",6),t=>t.replace(/=/g,""),t=>t.padEnd(Math.ceil(t.length/4)*4,"="));sse.base64=g3t});var ase=_(N4=>{"use strict";u();l();Object.defineProperty(N4,"__esModule",{value:!0});var b3t=t=>t.replace(/\u0000/g,""),_3t=(t,e)=>t.padEnd(e,"\0");N4.padNullCharacters=_3t;N4.removeNullCharacters=b3t});var xDe=_(cse=>{"use strict";u();l();Object.defineProperty(cse,"__esModule",{value:!0});var S3t=ase(),w3t={description:"utf8",fixedSize:null,maxSize:null,serialize(t){return new TextEncoder().encode(t)},deserialize(t,e=0){let r=new TextDecoder().decode(t.slice(e));return[S3t.removeNullCharacters(r),t.length]}};cse.utf8=w3t});var D4=_(fp=>{"use strict";u();l();Object.defineProperty(fp,"__esModule",{value:!0});var A3t=_De(),E3t=SDe(),I3t=wDe(),T3t=vDe(),k3t=C4(),v3t=ose(),x3t=ZD(),PDe=ase(),P3t=xDe();fp.base10=A3t.base10;fp.base16=E3t.base16;fp.base58=I3t.base58;fp.base64=T3t.base64;fp.baseX=k3t.baseX;fp.baseXReslice=v3t.baseXReslice;fp.InvalidBaseStringError=x3t.InvalidBaseStringError;fp.padNullCharacters=PDe.padNullCharacters;fp.removeNullCharacters=PDe.removeNullCharacters;fp.utf8=P3t.utf8});var dse=_(lse=>{"use strict";u();l();Object.defineProperty(lse,"__esModule",{value:!0});var use=class extends Error{name="InvalidPublicKeyError";constructor(e,r){r=r?`. ${r}`:"",super(`The provided public key is invalid: ${e}${r}`),this.invalidPublicKey=e}};lse.InvalidPublicKeyError=use});var BDe=_(pp=>{"use strict";u();l();Object.defineProperty(pp,"__esModule",{value:!0});var ODe=D4(),U4=dse(),fse=32;function L4(t,e=!0){let r=typeof t=="string"?t:typeof t=="object"&&"publicKey"in t?t.publicKey:typeof t=="object"&&"toBase58"in t?t.toBase58():Array.isArray(t)?t[0]:ODe.base58.deserialize(t)[0];return e&&pse(r),r}var O3t=()=>"11111111111111111111111111111111",RDe=t=>{try{return pse(t),!0}catch{return!1}},R3t=t=>Array.isArray(t)&&t.length===2&&typeof t[1]=="number"&&RDe(t[0]);function pse(t){if(typeof t!="string")throw new U4.InvalidPublicKeyError(t,"Public keys must be strings.");CDe(t)}var C3t=t=>[...new Set(t)],CDe=t=>{if(t.length<32||t.length>44)throw new U4.InvalidPublicKeyError(t,"Public keys must be between 32 and 44 characters.");let e;try{e=ODe.base58.serialize(t)}catch{throw new U4.InvalidPublicKeyError(t,"Public keys must be base58 encoded.")}if(e.length!==fse)throw new U4.InvalidPublicKeyError(t,`Public keys must be ${fse} bytes.`);return e},B3t=t=>L4(t),M3t=(t,e)=>L4(t)===L4(e);pp.PUBLIC_KEY_LENGTH=fse;pp.assertPublicKey=pse;pp.base58PublicKey=B3t;pp.defaultPublicKey=O3t;pp.isPda=R3t;pp.isPublicKey=RDe;pp.publicKey=L4;pp.publicKeyBytes=CDe;pp.samePublicKey=M3t;pp.uniquePublicKeys=C3t});var z4=_(cf=>{"use strict";u();l();Object.defineProperty(cf,"__esModule",{value:!0});var Uy=BDe(),N3t=dse();cf.PUBLIC_KEY_LENGTH=Uy.PUBLIC_KEY_LENGTH;cf.assertPublicKey=Uy.assertPublicKey;cf.base58PublicKey=Uy.base58PublicKey;cf.defaultPublicKey=Uy.defaultPublicKey;cf.isPda=Uy.isPda;cf.isPublicKey=Uy.isPublicKey;cf.publicKey=Uy.publicKey;cf.publicKeyBytes=Uy.publicKeyBytes;cf.samePublicKey=Uy.samePublicKey;cf.uniquePublicKeys=Uy.uniquePublicKeys;cf.InvalidPublicKeyError=N3t.InvalidPublicKeyError});var hse=_(eU=>{"use strict";u();l();Object.defineProperty(eU,"__esModule",{value:!0});eU.Endian=void 0;(function(t){t.Little="le",t.Big="be"})(eU.Endian||(eU.Endian={}))});var gse=_(yse=>{"use strict";u();l();Object.defineProperty(yse,"__esModule",{value:!0});var mse=class extends RangeError{name="NumberOutOfRangeError";constructor(e,r,n,i){super(`Serializer [${e}] expected number to be between ${r} and ${n}, got ${i}.`)}};yse.NumberOutOfRangeError=mse});var td=_(pE=>{"use strict";u();l();Object.defineProperty(pE,"__esModule",{value:!0});var MDe=Zs(),D3t=hse(),U3t=gse();function L3t(t){let e,r=t.name;return t.size>1&&(e=!("endian"in t.options)||t.options.endian===D3t.Endian.Little,r+=e?"(le)":"(be)"),{description:t.options.description??r,fixedSize:t.size,maxSize:t.size,serialize(n){t.range&&UDe(t.name,t.range[0],t.range[1],n);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),n,e),new Uint8Array(i)},deserialize(n,i=0){let o=n.slice(i,i+t.size);LDe("i8",o,t.size);let s=DDe(o);return[t.get(s,e),i+t.size]}}}var NDe=t=>t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset),DDe=t=>new DataView(NDe(t)),UDe=(t,e,r,n)=>{if(n<e||n>r)throw new U3t.NumberOutOfRangeError(t,e,r,n)},LDe=(t,e,r)=>{if(e.length===0)throw new MDe.DeserializingEmptyBufferError(t);if(e.length<r)throw new MDe.NotEnoughBytesError(t,r,e.length)};pE.assertEnoughBytes=LDe;pE.assertRange=UDe;pE.numberFactory=L3t;pE.toArrayBuffer=NDe;pE.toDataView=DDe});var zDe=_(bse=>{"use strict";u();l();Object.defineProperty(bse,"__esModule",{value:!0});var z3t=td(),F3t=(t={})=>z3t.numberFactory({name:"f32",size:4,set:(e,r,n)=>e.setFloat32(0,Number(r),n),get:(e,r)=>e.getFloat32(0,r),options:t});bse.f32=F3t});var FDe=_(_se=>{"use strict";u();l();Object.defineProperty(_se,"__esModule",{value:!0});var q3t=td(),j3t=(t={})=>q3t.numberFactory({name:"f64",size:8,set:(e,r,n)=>e.setFloat64(0,Number(r),n),get:(e,r)=>e.getFloat64(0,r),options:t});_se.f64=j3t});var qDe=_(Sse=>{"use strict";u();l();Object.defineProperty(Sse,"__esModule",{value:!0});var K3t=td(),W3t=(t={})=>K3t.numberFactory({name:"i8",size:1,range:[-+"0x7f"-1,+"0x7f"],set:(e,r)=>e.setInt8(0,Number(r)),get:e=>e.getInt8(0),options:t});Sse.i8=W3t});var jDe=_(wse=>{"use strict";u();l();Object.defineProperty(wse,"__esModule",{value:!0});var V3t=td(),G3t=(t={})=>V3t.numberFactory({name:"i16",size:2,range:[-+"0x7fff"-1,+"0x7fff"],set:(e,r,n)=>e.setInt16(0,Number(r),n),get:(e,r)=>e.getInt16(0,r),options:t});wse.i16=G3t});var KDe=_(Ase=>{"use strict";u();l();Object.defineProperty(Ase,"__esModule",{value:!0});var H3t=td(),$3t=(t={})=>H3t.numberFactory({name:"i32",size:4,range:[-+"0x7fffffff"-1,+"0x7fffffff"],set:(e,r,n)=>e.setInt32(0,Number(r),n),get:(e,r)=>e.getInt32(0,r),options:t});Ase.i32=$3t});var WDe=_(Ese=>{"use strict";u();l();Object.defineProperty(Ese,"__esModule",{value:!0});var Y3t=td(),X3t=(t={})=>Y3t.numberFactory({name:"i64",size:8,range:[-BigInt("0x7fffffffffffffff")-1n,BigInt("0x7fffffffffffffff")],set:(e,r,n)=>e.setBigInt64(0,BigInt(r),n),get:(e,r)=>e.getBigInt64(0,r),options:t});Ese.i64=X3t});var VDe=_(Ise=>{"use strict";u();l();Object.defineProperty(Ise,"__esModule",{value:!0});var Z3t=td(),J3t=(t={})=>Z3t.numberFactory({name:"i128",size:16,range:[-BigInt("0x7fffffffffffffffffffffffffffffff")-1n,BigInt("0x7fffffffffffffffffffffffffffffff")],set:(e,r,n)=>{let i=n?8:0,o=n?0:8,s=0xffffffffffffffffn;e.setBigInt64(i,BigInt(r)>>64n,n),e.setBigUint64(o,BigInt(r)&s,n)},get:(e,r)=>{let n=r?8:0,i=r?0:8,o=e.getBigInt64(n,r),s=e.getBigUint64(i,r);return(o<<64n)+s},options:t});Ise.i128=J3t});var GDe=_(Tse=>{"use strict";u();l();Object.defineProperty(Tse,"__esModule",{value:!0});var Q3t=td(),eqt=(t={})=>Q3t.numberFactory({name:"u8",size:1,range:[0,+"0xff"],set:(e,r)=>e.setUint8(0,Number(r)),get:e=>e.getUint8(0),options:t});Tse.u8=eqt});var HDe=_(kse=>{"use strict";u();l();Object.defineProperty(kse,"__esModule",{value:!0});var tqt=td(),rqt=(t={})=>tqt.numberFactory({name:"u16",size:2,range:[0,+"0xffff"],set:(e,r,n)=>e.setUint16(0,Number(r),n),get:(e,r)=>e.getUint16(0,r),options:t});kse.u16=rqt});var $De=_(vse=>{"use strict";u();l();Object.defineProperty(vse,"__esModule",{value:!0});var nqt=td(),iqt=(t={})=>nqt.numberFactory({name:"u32",size:4,range:[0,+"0xffffffff"],set:(e,r,n)=>e.setUint32(0,Number(r),n),get:(e,r)=>e.getUint32(0,r),options:t});vse.u32=iqt});var YDe=_(xse=>{"use strict";u();l();Object.defineProperty(xse,"__esModule",{value:!0});var oqt=td(),sqt=(t={})=>oqt.numberFactory({name:"u64",size:8,range:[0,BigInt("0xffffffffffffffff")],set:(e,r,n)=>e.setBigUint64(0,BigInt(r),n),get:(e,r)=>e.getBigUint64(0,r),options:t});xse.u64=sqt});var XDe=_(Pse=>{"use strict";u();l();Object.defineProperty(Pse,"__esModule",{value:!0});var aqt=td(),cqt=(t={})=>aqt.numberFactory({name:"u128",size:16,range:[0,BigInt("0xffffffffffffffffffffffffffffffff")],set:(e,r,n)=>{let i=n?8:0,o=n?0:8,s=0xffffffffffffffffn;e.setBigUint64(i,BigInt(r)>>64n,n),e.setBigUint64(o,BigInt(r)&s,n)},get:(e,r)=>{let n=r?8:0,i=r?0:8,o=e.getBigUint64(n,r),s=e.getBigUint64(i,r);return(o<<64n)+s},options:t});Pse.u128=cqt});var ZDe=_(Ose=>{"use strict";u();l();Object.defineProperty(Ose,"__esModule",{value:!0});var uqt=td(),lqt=(t={})=>({description:t.description??"shortU16",fixedSize:null,maxSize:3,serialize:e=>{uqt.assertRange("shortU16",0,65535,e);let r=[0];for(let n=0;;n+=1){let i=e>>n*7;if(i===0)break;let o=127&i;r[n]=o,n>0&&(r[n-1]|=128)}return new Uint8Array(r)},deserialize:(e,r=0)=>{let n=0,i=0;for(;++i;){let o=i-1,s=e[r+o],a=127&s;if(n|=a<<o*7,!(s&128))break}return[n,r+i]}});Ose.shortU16=lqt});var bh=_(_a=>{"use strict";u();l();Object.defineProperty(_a,"__esModule",{value:!0});var dqt=hse(),fqt=gse(),pqt=zDe(),hqt=FDe(),mqt=qDe(),yqt=jDe(),gqt=KDe(),bqt=WDe(),_qt=VDe(),Sqt=GDe(),wqt=HDe(),Aqt=$De(),Eqt=YDe(),Iqt=XDe(),Tqt=ZDe();Object.defineProperty(_a,"Endian",{enumerable:!0,get:function(){return dqt.Endian}});_a.NumberOutOfRangeError=fqt.NumberOutOfRangeError;_a.f32=pqt.f32;_a.f64=hqt.f64;_a.i8=mqt.i8;_a.i16=yqt.i16;_a.i32=gqt.i32;_a.i64=bqt.i64;_a.i128=_qt.i128;_a.u8=Sqt.u8;_a.u16=wqt.u16;_a.u32=Aqt.u32;_a.u64=Eqt.u64;_a.u128=Iqt.u128;_a.shortU16=Tqt.shortU16});var Sb=_(Z_=>{"use strict";u();l();Object.defineProperty(Z_,"__esModule",{value:!0});var Rse=class extends Error{name="InvalidNumberOfItemsError";constructor(e,r,n){super(`Expected [${e}] to have ${r} items, got ${n}.`)}},Cse=class extends Error{name="InvalidArrayLikeRemainderSizeError";constructor(e,r){super(`The remainder of the buffer (${e} bytes) cannot be split into chunks of ${r} bytes. Serializers of "remainder" size must have a remainder that is a multiple of its item size. In other words, ${e} modulo ${r} should be equal to zero.`)}},Bse=class extends Error{name="UnrecognizedArrayLikeSerializerSizeError";constructor(e){super(`Unrecognized array-like serializer size: ${JSON.stringify(e)}`)}},Mse=class extends Error{name="InvalidDataEnumVariantError";constructor(e,r){super(`Invalid data enum variant. Expected one of [${r.join(", ")}], got "${e}".`)}},Nse=class extends Error{name="InvalidScalarEnumVariantError";constructor(e,r,n,i){super(`Invalid scalar enum variant. Expected one of [${r.join(", ")}] or a number between ${n} and ${i}, got "${e}".`)}},Dse=class extends RangeError{name="EnumDiscriminatorOutOfRangeError";constructor(e,r,n){super(`Enum discriminator out of range. Expected a number between ${r} and ${n}, got ${e}.`)}};Z_.EnumDiscriminatorOutOfRangeError=Dse;Z_.InvalidArrayLikeRemainderSizeError=Cse;Z_.InvalidDataEnumVariantError=Mse;Z_.InvalidNumberOfItemsError=Rse;Z_.InvalidScalarEnumVariantError=Nse;Z_.UnrecognizedArrayLikeSerializerSizeError=Bse});var J_=_(Use=>{"use strict";u();l();Object.defineProperty(Use,"__esModule",{value:!0});function kqt(t){return t.reduce((e,r)=>e===null||r===null?null:e+r,0)}Use.sumSerializerSizes=kqt});var Q_=_(Ok=>{"use strict";u();l();Object.defineProperty(Ok,"__esModule",{value:!0});var vqt=Sb(),xqt=J_();function Pqt(t,e,r){if(typeof t=="number")return[t,r];if(typeof t=="object")return t.deserialize(e,r);throw new vqt.UnrecognizedArrayLikeSerializerSizeError(t)}function Oqt(t){return typeof t=="object"?t.description:`${t}`}function Rqt(t,e){if(typeof t!="number")return null;if(t===0)return 0;let r=xqt.sumSerializerSizes(e);return r===null?null:r*t}function Cqt(t,e){return typeof t=="object"?t.serialize(e):new Uint8Array}Ok.getResolvedSize=Pqt;Ok.getSizeDescription=Oqt;Ok.getSizeFromChildren=Rqt;Ok.getSizePrefix=Cqt});var JDe=_(Lse=>{"use strict";u();l();Object.defineProperty(Lse,"__esModule",{value:!0});var Bqt=Zs(),Mqt=bh(),Nqt=Sb(),tU=Q_();function Dqt(t,e={}){let r=e.size??Mqt.u32();return{description:e.description??`array(${t.description}; ${tU.getSizeDescription(r)})`,fixedSize:tU.getSizeFromChildren(r,[t.fixedSize]),maxSize:tU.getSizeFromChildren(r,[t.maxSize]),serialize:n=>{if(typeof r=="number"&&n.length!==r)throw new Nqt.InvalidNumberOfItemsError("array",r,n.length);return Bqt.mergeBytes([tU.getSizePrefix(r,n.length),...n.map(i=>t.serialize(i))])},deserialize:(n,i=0)=>{let o=[];if(typeof r=="object"&&n.slice(i).length===0)return[o,i];if(r==="remainder"){for(;i<n.length;){let[c,d]=t.deserialize(n,i);o.push(c),i=d}return[o,i]}let[s,a]=tU.getResolvedSize(r,n,i);i=a;for(let c=0;c<s;c+=1){let[d,f]=t.deserialize(n,i);o.push(d),i=f}return[o,i]}}}Lse.array=Dqt});var QDe=_(zse=>{"use strict";u();l();Object.defineProperty(zse,"__esModule",{value:!0});var Uqt=Zs(),Lqt=(t,e={})=>{let r=typeof e=="boolean"?{backward:e}:e,n=r.backward??!1,i=n?"; backward":"";return{description:r.description??`bitArray(${t}${i})`,fixedSize:t,maxSize:t,serialize(o){let s=[];for(let a=0;a<t;a+=1){let c=0;for(let d=0;d<8;d+=1){let f=Number(o[a*8+d]??0);c|=f<<(n?d:7-d)}n?s.unshift(c):s.push(c)}return new Uint8Array(s)},deserialize(o,s=0){let a=[],c=o.slice(s,s+t);if(c=n?c.reverse():c,c.length!==t)throw new Uqt.NotEnoughBytesError("bitArray",t,c.length);return c.forEach(d=>{for(let f=0;f<8;f+=1)n?(a.push(!!(d&1)),d>>=1):(a.push(!!(d&128)),d<<=1)}),[a,s+t]}}};zse.bitArray=Lqt});var tUe=_(Fse=>{"use strict";u();l();Object.defineProperty(Fse,"__esModule",{value:!0});var eUe=Zs(),zqt=bh();function Fqt(t={}){let e=t.size??zqt.u8();if(e.fixedSize===null)throw new eUe.ExpectedFixedSizeSerializerError("Serializer [bool] requires a fixed size.");return{description:t.description??`bool(${e.description})`,fixedSize:e.fixedSize,maxSize:e.fixedSize,serialize:r=>e.serialize(r?1:0),deserialize:(r,n=0)=>{if(r.slice(n).length===0)throw new eUe.DeserializingEmptyBufferError("bool");let[i,o]=e.deserialize(r,n);return[i===1,o]}}}Fse.bool=Fqt});var rUe=_(qse=>{"use strict";u();l();Object.defineProperty(qse,"__esModule",{value:!0});var F4=Zs(),qqt=Q_();function jqt(t={}){let e=t.size??"variable",r=t.description??`bytes(${qqt.getSizeDescription(e)})`,n={description:r,fixedSize:null,maxSize:null,serialize:i=>new Uint8Array(i),deserialize:(i,o=0)=>{let s=i.slice(o);return[s,o+s.length]}};return e==="variable"?n:typeof e=="number"?F4.fixSerializer(n,e,r):{description:r,fixedSize:null,maxSize:null,serialize:i=>{let o=n.serialize(i),s=e.serialize(o.length);return F4.mergeBytes([s,o])},deserialize:(i,o=0)=>{if(i.slice(o).length===0)throw new F4.DeserializingEmptyBufferError("bytes");let[s,a]=e.deserialize(i,o),c=Number(s);o=a;let d=i.slice(o,o+c);if(d.length<c)throw new F4.NotEnoughBytesError("bytes",c,d.length);let[f,p]=n.deserialize(d);return o+=p,[f,o]}}}qse.bytes=jqt});var Kse=_(jse=>{"use strict";u();l();Object.defineProperty(jse,"__esModule",{value:!0});function Kqt(t){return t.reduce((e,r)=>e===null||r===null?null:Math.max(e,r),0)}jse.maxSerializerSizes=Kqt});var sUe=_(Wse=>{"use strict";u();l();Object.defineProperty(Wse,"__esModule",{value:!0});var nUe=Zs(),Wqt=bh(),iUe=Sb(),Vqt=Kse(),oUe=J_();function Gqt(t,e={}){let r=e.size??Wqt.u8(),n=t.map(([a,c])=>`${String(a)}${c?`: ${c.description}`:""}`).join(", "),o=t.every((a,c,d)=>a[1].fixedSize===d[0][1].fixedSize)?t[0][1].fixedSize:null,s=Vqt.maxSerializerSizes(t.map(([,a])=>a.maxSize));return{description:e.description??`dataEnum(${n}; ${r.description})`,fixedSize:t.length===0?r.fixedSize:oUe.sumSerializerSizes([r.fixedSize,o]),maxSize:t.length===0?r.maxSize:oUe.sumSerializerSizes([r.maxSize,s]),serialize:a=>{let c=t.findIndex(([m])=>a.__kind===m);if(c<0)throw new iUe.InvalidDataEnumVariantError(a.__kind,t.map(([m])=>m));let d=r.serialize(c),p=t[c][1].serialize(a);return nUe.mergeBytes([d,p])},deserialize:(a,c=0)=>{if(a.slice(c).length===0)throw new nUe.DeserializingEmptyBufferError("dataEnum");let[d,f]=r.deserialize(a,c);c=f;let p=t[Number(d)]??null;if(!p)throw new iUe.EnumDiscriminatorOutOfRangeError(d,0,t.length-1);let[m,y]=p[1].deserialize(a,c);return c=y,[{__kind:p[0],...m??{}},c]}}}Wse.dataEnum=Gqt});var cUe=_(Vse=>{"use strict";u();l();Object.defineProperty(Vse,"__esModule",{value:!0});var aUe=Zs(),Hqt=bh(),$qt=Sb(),rU=Q_();function Yqt(t,e,r={}){let n=r.size??Hqt.u32();return{description:r.description??`map(${t.description}, ${e.description}; ${rU.getSizeDescription(n)})`,fixedSize:rU.getSizeFromChildren(n,[t.fixedSize,e.fixedSize]),maxSize:rU.getSizeFromChildren(n,[t.maxSize,e.maxSize]),serialize:i=>{if(typeof n=="number"&&i.size!==n)throw new $qt.InvalidNumberOfItemsError("map",n,i.size);let o=Array.from(i,([s,a])=>aUe.mergeBytes([t.serialize(s),e.serialize(a)]));return aUe.mergeBytes([rU.getSizePrefix(n,i.size),...o])},deserialize:(i,o=0)=>{let s=new Map;if(typeof n=="object"&&i.slice(o).length===0)return[s,o];if(n==="remainder"){for(;o<i.length;){let[d,f]=t.deserialize(i,o);o=f;let[p,m]=e.deserialize(i,o);o=m,s.set(d,p)}return[s,o]}let[a,c]=rU.getResolvedSize(n,i,o);o=c;for(let d=0;d<a;d+=1){let[f,p]=t.deserialize(i,o);o=p;let[m,y]=e.deserialize(i,o);o=y,s.set(f,m)}return[s,o]}}}Vse.map=Yqt});var uUe=_(Hse=>{"use strict";u();l();Object.defineProperty(Hse,"__esModule",{value:!0});var Gse=Zs(),Xqt=bh(),Zqt=J_(),Jqt=Q_();function Qqt(t,e={}){let r=e.prefix??Xqt.u8(),n=e.fixed??!1,i=`; ${Jqt.getSizeDescription(r)}`,o=t.fixedSize===0?r.fixedSize:null;if(n){if(t.fixedSize===null||r.fixedSize===null)throw new Gse.ExpectedFixedSizeSerializerError("Fixed nullables can only be used with fixed-size serializers");i+="; fixed",o=r.fixedSize+t.fixedSize}return{description:e.description??`nullable(${t.description+i})`,fixedSize:o,maxSize:Zqt.sumSerializerSizes([r.maxSize,t.maxSize]),serialize:s=>{let a=r.serialize(+(s!==null));if(n){let d=t.fixedSize,f=s!==null?t.serialize(s).slice(0,d):new Uint8Array(d).fill(0);return Gse.mergeBytes([a,f])}let c=s!==null?t.serialize(s):new Uint8Array;return Gse.mergeBytes([a,c])},deserialize:(s,a=0)=>{if(s.slice(a).length===0)return[null,a];let c=a+(r.fixedSize??0)+(t.fixedSize??0),[d,f]=r.deserialize(s,a);if(a=f,d===0)return[null,n?c:a];let[p,m]=t.deserialize(s,a);return a=m,[p,n?c:a]}}}Hse.nullable=Qqt});var lUe=_(Yse=>{"use strict";u();l();Object.defineProperty(Yse,"__esModule",{value:!0});var eS=Koe(),$se=Zs(),ejt=bh(),tjt=J_(),rjt=Q_();function njt(t,e={}){let r=e.prefix??ejt.u8(),n=e.fixed??!1,i=`; ${rjt.getSizeDescription(r)}`,o=t.fixedSize===0?r.fixedSize:null;if(n){if(t.fixedSize===null||r.fixedSize===null)throw new $se.ExpectedFixedSizeSerializerError("Fixed options can only be used with fixed-size serializers");i+="; fixed",o=r.fixedSize+t.fixedSize}return{description:e.description??`option(${t.description+i})`,fixedSize:o,maxSize:tjt.sumSerializerSizes([r.maxSize,t.maxSize]),serialize:s=>{let a=eS.isOption(s)?s:eS.wrapNullable(s),c=r.serialize(Number(eS.isSome(a)));if(n){let f=t.fixedSize,p=eS.isSome(a)?t.serialize(a.value).slice(0,f):new Uint8Array(f).fill(0);return $se.mergeBytes([c,p])}let d=eS.isSome(a)?t.serialize(a.value):new Uint8Array;return $se.mergeBytes([c,d])},deserialize:(s,a=0)=>{if(s.slice(a).length===0)return[eS.none(),a];let c=a+(r.fixedSize??0)+(t.fixedSize??0),[d,f]=r.deserialize(s,a);if(a=f,d===0)return[eS.none(),n?c:a];let[p,m]=t.deserialize(s,a);return a=m,[eS.some(p),n?c:a]}}}Yse.option=njt});var fUe=_(Xse=>{"use strict";u();l();Object.defineProperty(Xse,"__esModule",{value:!0});var nU=z4(),dUe=Zs();function ijt(t={}){return{description:t.description??"publicKey",fixedSize:32,maxSize:32,serialize:e=>nU.publicKeyBytes(nU.publicKey(e)),deserialize:(e,r=0)=>{let n=e.slice(r,r+32);if(n.length===0)throw new dUe.DeserializingEmptyBufferError("publicKey");if(n.length<nU.PUBLIC_KEY_LENGTH)throw new dUe.NotEnoughBytesError("publicKey",nU.PUBLIC_KEY_LENGTH,n.length);return[nU.publicKey(n),r+32]}}}Xse.publicKey=ijt});var hUe=_(Zse=>{"use strict";u();l();Object.defineProperty(Zse,"__esModule",{value:!0});var ojt=Zs(),sjt=bh(),pUe=Sb();function ajt(t,e={}){let r=e.size??sjt.u8(),n=Object.keys(t),i=Object.values(t),o=i.some(p=>typeof p=="number"),s=i.filter(p=>typeof p=="string").join(", "),a=0,c=o?i.length/2-1:i.length-1,d=o?[...n]:[...new Set([...n,...i])];function f(p){let m=typeof p=="number"&&(p<a||p>c),y=typeof p=="string"&&!d.includes(p);if(m||y)throw new pUe.InvalidScalarEnumVariantError(p,d,a,c)}return{description:e.description??`enum(${s}; ${r.description})`,fixedSize:r.fixedSize,maxSize:r.maxSize,serialize:p=>{if(f(p),typeof p=="number")return r.serialize(p);let m=i.indexOf(p);return m>=0?r.serialize(m):r.serialize(n.indexOf(p))},deserialize:(p,m=0)=>{if(p.slice(m).length===0)throw new ojt.DeserializingEmptyBufferError("enum");let[y,g]=r.deserialize(p,m),b=Number(y);if(m=g,b<a||b>c)throw new pUe.EnumDiscriminatorOutOfRangeError(b,a,c);return[o?b:i[b],m]}}}Zse.scalarEnum=ajt});var mUe=_(Jse=>{"use strict";u();l();Object.defineProperty(Jse,"__esModule",{value:!0});var cjt=Zs(),ujt=bh(),ljt=Sb(),iU=Q_();function djt(t,e={}){let r=e.size??ujt.u32();return{description:e.description??`set(${t.description}; ${iU.getSizeDescription(r)})`,fixedSize:iU.getSizeFromChildren(r,[t.fixedSize]),maxSize:iU.getSizeFromChildren(r,[t.maxSize]),serialize:n=>{if(typeof r=="number"&&n.size!==r)throw new ljt.InvalidNumberOfItemsError("set",r,n.size);let i=Array.from(n,o=>t.serialize(o));return cjt.mergeBytes([iU.getSizePrefix(r,n.size),...i])},deserialize:(n,i=0)=>{let o=new Set;if(typeof r=="object"&&n.slice(i).length===0)return[o,i];if(r==="remainder"){for(;i<n.length;){let[c,d]=t.deserialize(n,i);o.add(c),i=d}return[o,i]}let[s,a]=iU.getResolvedSize(r,n,i);i=a;for(let c=0;c<s;c+=1){let[d,f]=t.deserialize(n,i);o.add(d),i=f}return[o,i]}}}Jse.set=djt});var yUe=_(Qse=>{"use strict";u();l();Object.defineProperty(Qse,"__esModule",{value:!0});var q4=Zs(),fjt=D4(),pjt=bh(),hjt=Q_();function mjt(t={}){let e=t.size??pjt.u32(),r=t.encoding??fjt.utf8,n=t.description??`string(${r.description}; ${hjt.getSizeDescription(e)})`;return e==="variable"?{...r,description:n}:typeof e=="number"?q4.fixSerializer(r,e,n):{description:n,fixedSize:null,maxSize:null,serialize:i=>{let o=r.serialize(i),s=e.serialize(o.length);return q4.mergeBytes([s,o])},deserialize:(i,o=0)=>{if(i.slice(o).length===0)throw new q4.DeserializingEmptyBufferError("string");let[s,a]=e.deserialize(i,o),c=Number(s);o=a;let d=i.slice(o,o+c);if(d.length<c)throw new q4.NotEnoughBytesError("string",c,d.length);let[f,p]=r.deserialize(d);return o+=p,[f,o]}}}Qse.string=mjt});var bUe=_(eae=>{"use strict";u();l();Object.defineProperty(eae,"__esModule",{value:!0});var yjt=Zs(),gUe=J_();function gjt(t,e={}){let r=t.map(([n,i])=>`${String(n)}: ${i.description}`).join(", ");return{description:e.description??`struct(${r})`,fixedSize:gUe.sumSerializerSizes(t.map(([,n])=>n.fixedSize)),maxSize:gUe.sumSerializerSizes(t.map(([,n])=>n.maxSize)),serialize:n=>{let i=t.map(([o,s])=>s.serialize(n[o]));return yjt.mergeBytes(i)},deserialize:(n,i=0)=>{let o={};return t.forEach(([s,a])=>{let[c,d]=a.deserialize(n,i);i=d,o[s]=c}),[o,i]}}}eae.struct=gjt});var SUe=_(tae=>{"use strict";u();l();Object.defineProperty(tae,"__esModule",{value:!0});var bjt=Zs(),_Ue=J_(),_jt=Sb();function Sjt(t,e={}){let r=t.map(n=>n.description).join(", ");return{description:e.description??`tuple(${r})`,fixedSize:_Ue.sumSerializerSizes(t.map(n=>n.fixedSize)),maxSize:_Ue.sumSerializerSizes(t.map(n=>n.maxSize)),serialize:n=>{if(n.length!==t.length)throw new _jt.InvalidNumberOfItemsError("tuple",t.length,n.length);return bjt.mergeBytes(t.map((i,o)=>i.serialize(n[o])))},deserialize:(n,i=0)=>{let o=[];return t.forEach(s=>{let[a,c]=s.deserialize(n,i);o.push(a),i=c}),[o,i]}}}tae.tuple=Sjt});var wUe=_(rae=>{"use strict";u();l();Object.defineProperty(rae,"__esModule",{value:!0});function wjt(t={}){return{description:t.description??"unit",fixedSize:0,maxSize:0,serialize:()=>new Uint8Array,deserialize:(e,r=0)=>[void 0,r]}}rae.unit=wjt});var hE=_(Cn=>{"use strict";u();l();Object.defineProperty(Cn,"__esModule",{value:!0});var AUe=Zs(),EUe=D4(),IUe=bh(),Ajt=JDe(),Ejt=QDe(),Ijt=tUe(),Tjt=rUe(),kjt=sUe(),Rk=Sb(),vjt=cUe(),xjt=uUe(),Pjt=lUe(),Ojt=fUe(),Rjt=hUe(),Cjt=mUe(),Bjt=yUe(),Mjt=bUe(),Njt=SUe(),Djt=wUe(),Ujt=Kse(),Ljt=J_();Cn.array=Ajt.array;Cn.bitArray=Ejt.bitArray;Cn.bool=Ijt.bool;Cn.bytes=Tjt.bytes;Cn.dataEnum=kjt.dataEnum;Cn.EnumDiscriminatorOutOfRangeError=Rk.EnumDiscriminatorOutOfRangeError;Cn.InvalidArrayLikeRemainderSizeError=Rk.InvalidArrayLikeRemainderSizeError;Cn.InvalidDataEnumVariantError=Rk.InvalidDataEnumVariantError;Cn.InvalidNumberOfItemsError=Rk.InvalidNumberOfItemsError;Cn.InvalidScalarEnumVariantError=Rk.InvalidScalarEnumVariantError;Cn.UnrecognizedArrayLikeSerializerSizeError=Rk.UnrecognizedArrayLikeSerializerSizeError;Cn.map=vjt.map;Cn.nullable=xjt.nullable;Cn.option=Pjt.option;Cn.publicKey=Ojt.publicKey;Cn.scalarEnum=Rjt.scalarEnum;Cn.set=Cjt.set;Cn.string=Bjt.string;Cn.struct=Mjt.struct;Cn.tuple=Njt.tuple;Cn.unit=Djt.unit;Cn.maxSerializerSizes=Ujt.maxSerializerSizes;Cn.sumSerializerSizes=Ljt.sumSerializerSizes;Object.keys(AUe).forEach(function(t){t!=="default"&&!Cn.hasOwnProperty(t)&&Object.defineProperty(Cn,t,{enumerable:!0,get:function(){return AUe[t]}})});Object.keys(EUe).forEach(function(t){t!=="default"&&!Cn.hasOwnProperty(t)&&Object.defineProperty(Cn,t,{enumerable:!0,get:function(){return EUe[t]}})});Object.keys(IUe).forEach(function(t){t!=="default"&&!Cn.hasOwnProperty(t)&&Object.defineProperty(Cn,t,{enumerable:!0,get:function(){return IUe[t]}})})});var TUe=_(Js=>{"use strict";u();l();Object.defineProperty(Js,"__esModule",{value:!0});var Eu=hE(),zjt=Eu.mapSerializer,Fjt=Eu.fixSerializer,qjt=Eu.reverseSerializer,jjt=Eu.mergeBytes,Kjt=Eu.padBytes,Wjt=Eu.fixBytes,Vjt=Eu.utf8,Gjt=Eu.baseX,Hjt=Eu.base10,$jt=Eu.base58,Yjt=Eu.base64,Xjt=Eu.base16,Zjt=Eu.bitArray,Jjt=Eu.removeNullCharacters,Qjt=Eu.padNullCharacters,e6t=Eu.Endian;Js.Endian=e6t;Js.base10=Hjt;Js.base16=Xjt;Js.base58=$jt;Js.base64=Yjt;Js.baseX=Gjt;Js.bitArray=Zjt;Js.fixBytes=Wjt;Js.fixSerializer=Fjt;Js.mapSerializer=zjt;Js.mergeBytes=jjt;Js.padBytes=Kjt;Js.padNullCharacters=Qjt;Js.removeNullCharacters=Jjt;Js.reverseSerializer=qjt;Js.utf8=Vjt});var j4=_(iae=>{"use strict";u();l();Object.defineProperty(iae,"__esModule",{value:!0});var nae=class extends Error{name="UmiError";constructor(e,r,n,i){super(e),this.source=r,this.sourceDetails=n,this.cause=i,this.message=`${this.message}

Source: ${this.getFullSource()}${this.cause?`

Caused By: ${this.cause}`:""}
`}getCapitalizedSource(){return this.source==="sdk"||this.source==="rpc"?this.source.toUpperCase():this.source[0].toUpperCase()+this.source.slice(1)}getFullSource(){let e=this.getCapitalizedSource(),r=this.sourceDetails?` > ${this.sourceDetails}`:"";return e+r}toString(){return`[${this.name}] ${this.message}`}};iae.UmiError=nae});var Ly=_(sae=>{"use strict";u();l();Object.defineProperty(sae,"__esModule",{value:!0});var t6t=j4(),oae=class extends t6t.UmiError{name="SdkError";constructor(e,r){super(e,"sdk",void 0,r)}};sae.SdkError=oae});var uae=_(cae=>{"use strict";u();l();Object.defineProperty(cae,"__esModule",{value:!0});var r6t=Ly(),aae=class extends r6t.SdkError{name="UnexpectedAccountError";constructor(e,r,n){let i=`The account at the provided address [${e}] is not of the expected type [${r}].`;super(i,n)}};cae.UnexpectedAccountError=aae});var fae=_(dae=>{"use strict";u();l();Object.defineProperty(dae,"__esModule",{value:!0});var n6t=Ly(),lae=class extends n6t.SdkError{name="AccountNotFoundError";constructor(e,r,n){let i=`${r?`The account of type [${r}] was not found`:"No account was found"} at the provided address [${e}].${n?` ${n}`:""}`;super(i)}};dae.AccountNotFoundError=lae});var kUe=_(oU=>{"use strict";u();l();Object.defineProperty(oU,"__esModule",{value:!0});var i6t=uae(),o6t=fae(),s6t=128;function a6t(t,e){let{data:r,publicKey:n,...i}=t;try{let[o]=e.deserialize(r);return{publicKey:n,header:i,...o}}catch(o){throw new i6t.UnexpectedAccountError(n,e.description,o)}}function c6t(t,e,r){if(!t.exists)throw new o6t.AccountNotFoundError(t.publicKey,e,r)}oU.ACCOUNT_HEADER_SIZE=s6t;oU.assertAccountExists=c6t;oU.deserializeAccount=a6t});var K4=_(pae=>{"use strict";u();l();Object.defineProperty(pae,"__esModule",{value:!0});var u6t=t=>(t=typeof t=="object"?t.toString():t,BigInt(t));pae.createBigInt=u6t});var yae=_(mae=>{"use strict";u();l();Object.defineProperty(mae,"__esModule",{value:!0});var l6t=Ly(),hae=class extends l6t.SdkError{name="UnexpectedAmountError";constructor(e,r,n){let i=`Expected amount of type [${r} with ${n} decimals] but got [${e.identifier} with ${e.decimals} decimals]. Ensure the provided Amount is of the expected type.`;super(i),this.amount=e,this.expectedIdentifier=r,this.expectedDecimals=n}};mae.UnexpectedAmountError=hae});var _ae=_(bae=>{"use strict";u();l();Object.defineProperty(bae,"__esModule",{value:!0});var d6t=Ly(),gae=class extends d6t.SdkError{name="AmountMismatchError";constructor(e,r,n){let o=`The SDK tried to execute an operation${n?` [${n}]`:""} on two amounts of different types: [${e.identifier} with ${e.decimals} decimals] and [${r.identifier} with ${r.decimals} decimals]. Provide both amounts in the same type to perform this operation.`;super(o),this.left=e,this.right=r,this.operation=n}};bae.AmountMismatchError=gae});var BUe=_(Sn=>{"use strict";u();l();Object.defineProperty(Sn,"__esModule",{value:!0});var f6t=hE(),p6t=K4(),h6t=yae(),m6t=_ae(),sU=(t,e,r)=>({basisPoints:p6t.createBigInt(t),identifier:e,decimals:r}),aU=(t,e,r)=>{let n=sU(BigInt(10)**BigInt(r??0),e,r);return OUe(n,t)},y6t=(t,e=2)=>aU(t,"%",e),g6t=(t,e,r)=>aU(t,e??"splToken",r??0),b6t=t=>sU(t,"SOL",9),_6t=t=>aU(t,"SOL",9),S6t=t=>aU(t,"USD",2),W4=(t,e,r)=>t.identifier===e&&t.decimals===r,w6t=t=>W4(t,"SOL",9),vUe=(t,e)=>W4(t,e.identifier,e.decimals);function xUe(t,e,r){if(!W4(t,e,r))throw new h6t.UnexpectedAmountError(t,e,r)}function A6t(t){xUe(t,"SOL",9)}function Ck(t,e,r){if(!vUe(t,e))throw new m6t.AmountMismatchError(t,e,r)}var E6t=(t,e)=>(Ck(t,e,"add"),{...t,basisPoints:t.basisPoints+e.basisPoints}),PUe=(t,e)=>(Ck(t,e,"subtract"),{...t,basisPoints:t.basisPoints-e.basisPoints}),OUe=(t,e)=>{if(typeof e=="bigint")return{...t,basisPoints:t.basisPoints*e};let[r,n]=e.toString().split("."),i=BigInt(r+(n??"")),o=BigInt(10)**BigInt(n?.length??0);return{...t,basisPoints:t.basisPoints*i/o}},I6t=(t,e)=>{if(typeof e=="bigint")return{...t,basisPoints:t.basisPoints/e};let[r,n]=e.toString().split("."),i=BigInt(r+(n??"")),o=BigInt(10)**BigInt(n?.length??0);return{...t,basisPoints:t.basisPoints*o/i}},RUe=t=>{let e=t.basisPoints;return{...t,basisPoints:e<0?-e:e}},cU=(t,e)=>(Ck(t,e,"compare"),t.basisPoints>e.basisPoints?1:t.basisPoints<e.basisPoints?-1:0),T6t=(t,e,r)=>{r=r??sU(0,t.identifier,t.decimals),Ck(t,e,"isEqualToAmount"),Ck(t,r,"isEqualToAmount");let n=RUe(PUe(t,e));return CUe(n,r)},k6t=(t,e)=>cU(t,e)<0,CUe=(t,e)=>cU(t,e)<=0,v6t=(t,e)=>cU(t,e)>0,x6t=(t,e)=>cU(t,e)>=0,P6t=t=>t.basisPoints===BigInt(0),O6t=t=>t.basisPoints>=BigInt(0),R6t=t=>t.basisPoints<BigInt(0),Sae=(t,e)=>{let r=t.basisPoints.toString();if(t.decimals===0)return r;let n=r.startsWith("-")?"-":"";r=r.replace("-",""),r=r.padStart(t.decimals+1,"0");let i=r.slice(0,-t.decimals),o=r.slice(-t.decimals);return e!==void 0&&(o=o.slice(0,e)),`${n+i}.${o}`},C6t=t=>parseFloat(Sae(t)),B6t=(t,e)=>{let r=Sae(t,e);switch(t.identifier){case"%":return`${r}%`;case"splToken":return/^1(\.0+)?$/.test(r)?`${r} Token`:`${r} Tokens`;default:if(t.identifier.startsWith("splToken.")){let[,n]=t.identifier.split(".");return`${n} ${r}`}return`${t.identifier} ${r}`}},M6t=(t,e,r)=>f6t.mapSerializer(t,n=>n.basisPoints>Number.MAX_SAFE_INTEGER?n.basisPoints:Number(n.basisPoints),n=>sU(n,e,r));Sn.absoluteAmount=RUe;Sn.addAmounts=E6t;Sn.amountToNumber=C6t;Sn.amountToString=Sae;Sn.assertAmount=xUe;Sn.assertSameAmounts=Ck;Sn.assertSolAmount=A6t;Sn.compareAmounts=cU;Sn.createAmount=sU;Sn.createAmountFromDecimals=aU;Sn.displayAmount=B6t;Sn.divideAmount=I6t;Sn.isAmount=W4;Sn.isEqualToAmount=T6t;Sn.isGreaterThanAmount=v6t;Sn.isGreaterThanOrEqualToAmount=x6t;Sn.isLessThanAmount=k6t;Sn.isLessThanOrEqualToAmount=CUe;Sn.isNegativeAmount=R6t;Sn.isPositiveAmount=O6t;Sn.isSolAmount=w6t;Sn.isZeroAmount=P6t;Sn.lamports=b6t;Sn.mapAmountSerializer=M6t;Sn.multiplyAmount=OUe;Sn.percentAmount=y6t;Sn.sameAmounts=vUe;Sn.sol=_6t;Sn.subtractAmounts=PUe;Sn.tokenAmount=g6t;Sn.usd=S6t});var MUe=_(wae=>{"use strict";u();l();Object.defineProperty(wae,"__esModule",{value:!0});var N6t=["api.mainnet-beta.solana.com","ssc-dao.genesysgo.net"],D6t=["api.devnet.solana.com","psytrbhymqlkfrhudd.dev.genesysgo.net"],U6t=["api.testnet.solana.com"],L6t=["localhost","127.0.0.1"],z6t=t=>{let e=new URL(t).hostname;return N6t.includes(e)?"mainnet-beta":D6t.includes(e)?"devnet":U6t.includes(e)?"testnet":L6t.includes(e)?"localnet":t.includes("mainnet")?"mainnet-beta":t.includes("devnet")?"devnet":t.includes("testnet")?"testnet":t.includes("local")?"localnet":"custom"};wae.resolveClusterFromEndpoint=z6t});var zy=_(Eae=>{"use strict";u();l();Object.defineProperty(Eae,"__esModule",{value:!0});var F6t=Ly(),Aae=class extends F6t.SdkError{name="InterfaceImplementationMissingError";constructor(e,r){let n=e.replace(/Interface$/,""),i=`Tried using ${e} but no implementation of that interface was found. Make sure an implementation is registered, e.g. via "context.${r} = new My${n}();".`;super(i)}};Eae.InterfaceImplementationMissingError=Aae});var Tae=_(Iae=>{"use strict";u();l();Object.defineProperty(Iae,"__esModule",{value:!0});var q6t=zy();function j6t(){let t=()=>{throw new q6t.InterfaceImplementationMissingError("DownloaderInterface","downloader")};return{download:t,downloadJson:t}}Iae.createNullDownloader=j6t});var vae=_(kae=>{"use strict";u();l();Object.defineProperty(kae,"__esModule",{value:!0});var K6t=zy();function W6t(){let t=()=>{throw new K6t.InterfaceImplementationMissingError("EddsaInterface","eddsa")};return{generateKeypair:t,createKeypairFromSecretKey:t,createKeypairFromSeed:t,isOnCurve:t,findPda:t,sign:t,verify:t}}kae.createNullEddsa=W6t});var Pae=_(xae=>{"use strict";u();l();Object.defineProperty(xae,"__esModule",{value:!0});var V6t=zy();function G6t(){return{send:()=>{throw new V6t.InterfaceImplementationMissingError("HttpInterface","http")}}}xae.createNullHttp=G6t});var Rae=_(Oae=>{"use strict";u();l();Object.defineProperty(Oae,"__esModule",{value:!0});var H6t=zy();function $6t(){let t=()=>{throw new H6t.InterfaceImplementationMissingError("ProgramRepositoryInterface","programs")};return{has:t,get:t,getPublicKey:t,all:t,add:t,bind:t,unbind:t,clone:t,resolveError:t}}Oae.createNullProgramRepository=$6t});var Bae=_(Cae=>{"use strict";u();l();Object.defineProperty(Cae,"__esModule",{value:!0});var Y6t=zy();function X6t(){let t=()=>{throw new Y6t.InterfaceImplementationMissingError("RpcInterface","rpc")};return{getEndpoint:t,getCluster:t,getAccount:t,getAccounts:t,getProgramAccounts:t,getBlockTime:t,getBalance:t,getRent:t,getSlot:t,getLatestBlockhash:t,getTransaction:t,getSignatureStatuses:t,accountExists:t,airdrop:t,call:t,sendTransaction:t,confirmTransaction:t}}Cae.createNullRpc=X6t});var Nae=_(Mae=>{"use strict";u();l();Object.defineProperty(Mae,"__esModule",{value:!0});var Z6t=zy();function J6t(){let t=()=>{throw new Z6t.InterfaceImplementationMissingError("SerializerInterface","serializer")};return{tuple:t,array:t,map:t,set:t,option:t,nullable:t,struct:t,enum:t,dataEnum:t,string:t,bool:t,unit:t,u8:t,u16:t,u32:t,u64:t,u128:t,i8:t,i16:t,i32:t,i64:t,i128:t,f32:t,f64:t,bytes:t,publicKey:t}}Mae.createNullSerializer=J6t});var V4=_(uU=>{"use strict";u();l();Object.defineProperty(uU,"__esModule",{value:!0});var Q6t=(t,e)=>t.reduce((r,n,i)=>{let o=Math.floor(i/e);return r[o]||(r[o]=[]),r[o].push(n),r},[]),eKt=(t,e,r)=>t.map((n,i)=>r(n,e?.[i]??null,i)),tKt=(t,e)=>t.reduce((r,n)=>(r.some(i=>e(n,i))||r.push(n),r),[]);uU.chunk=Q6t;uU.uniqueBy=tKt;uU.zipMap=eKt});var lU=_(tS=>{"use strict";u();l();Object.defineProperty(tS,"__esModule",{value:!0});var rKt=V4(),nKt=async(t,e)=>e.reduce(async(r,n)=>{let i=await r;return n.signTransaction(i)},Promise.resolve(t)),iKt=async t=>{let e=t.map(n=>n.transaction);return t.reduce((n,{signers:i},o)=>(i.forEach(s=>{let a=n.find(c=>c.signer.publicKey===s.publicKey);a?a.indices.push(o):n.push({signer:s,indices:[o]})}),n),[]).reduce(async(n,{signer:i,indices:o})=>{let s=await n;if(o.length===1){let d=s[o[0]];return s[o[0]]=await i.signTransaction(d),s}let a=o.map(d=>s[d]),c=await i.signAllTransactions(a);return o.forEach((d,f)=>{s[d]=c[f]}),s},Promise.resolve(e))},oKt=t=>typeof t=="object"&&"publicKey"in t&&"signMessage"in t,sKt=t=>rKt.uniqueBy(t,(e,r)=>e.publicKey===r.publicKey),aKt=t=>({publicKey:t,async signMessage(e){return e},async signTransaction(e){return e},async signAllTransactions(e){return e}});function cKt(){let t=new Error("Trying to use a NullSigner. Did you forget to set a Signer on your Umi instance? See the `signerIdentity` method for more information."),e=()=>{throw t};return{get publicKey(){throw t},signMessage:e,signTransaction:e,signAllTransactions:e}}tS.createNoopSigner=aKt;tS.createNullSigner=cKt;tS.isSigner=oKt;tS.signAllTransactions=iKt;tS.signTransaction=nKt;tS.uniqueSigners=sKt});var Uae=_(Dae=>{"use strict";u();l();Object.defineProperty(Dae,"__esModule",{value:!0});var uKt=zy();function lKt(){let t=()=>{throw new uKt.InterfaceImplementationMissingError("TransactionFactoryInterface","transactions")};return{create:t,serialize:t,deserialize:t,serializeMessage:t,deserializeMessage:t}}Dae.createNullTransactionFactory=lKt});var zae=_(Lae=>{"use strict";u();l();Object.defineProperty(Lae,"__esModule",{value:!0});var dKt=zy();function fKt(){let t=()=>{throw new dKt.InterfaceImplementationMissingError("UploaderInterface","uploader")};return{upload:t,uploadJson:t,getUploadPrice:t}}Lae.createNullUploader=fKt});var qae=_(Fae=>{"use strict";u();l();Object.defineProperty(Fae,"__esModule",{value:!0});var pKt=Tae(),hKt=vae(),mKt=Pae(),yKt=Rae(),gKt=Bae(),bKt=Nae(),NUe=lU(),_Kt=Uae(),SKt=zae(),wKt=()=>({downloader:pKt.createNullDownloader(),eddsa:hKt.createNullEddsa(),http:mKt.createNullHttp(),identity:NUe.createNullSigner(),payer:NUe.createNullSigner(),programs:yKt.createNullProgramRepository(),rpc:gKt.createNullRpc(),serializer:bKt.createNullSerializer(),transactions:_Kt.createNullTransactionFactory(),uploader:SKt.createNullUploader()});Fae.createNullContext=wKt});var UUe=_(Bk=>{"use strict";u();l();Object.defineProperty(Bk,"__esModule",{value:!0});var AKt=hE(),DUe=K4(),G4=t=>{if(typeof t=="string"||IKt(t)){let e=new Date(t),r=Math.floor(e.getTime()/1e3);return DUe.createBigInt(r)}return DUe.createBigInt(t)},EKt=()=>G4(new Date(Date.now())),IKt=t=>Object.prototype.toString.call(t)==="[object Date]",TKt=(t,e="en-US",r={month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})=>new Date(Number(t*1000n)).toLocaleDateString(e,r),kKt=t=>AKt.mapSerializer(t,e=>{let r=G4(e);return r>Number.MAX_SAFE_INTEGER?r:Number(r)},e=>G4(e));Bk.dateTime=G4;Bk.formatDateTime=TKt;Bk.mapDateTimeSerializer=kKt;Bk.now=EKt});var Kae=_(jae=>{"use strict";u();l();Object.defineProperty(jae,"__esModule",{value:!0});var vKt=(t=20,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")=>{let r="",n=e.length;for(let i=0;i<t;i+=1)r+=e.charAt(Math.floor(Math.random()*n));return r};jae.generateRandomString=vKt});var LUe=_(wb=>{"use strict";u();l();Object.defineProperty(wb,"__esModule",{value:!0});var xKt=hE(),PKt=Kae(),Wae=(t,e,r={})=>({buffer:typeof t=="string"?xKt.utf8.serialize(t):t,fileName:e,displayName:r.displayName??e,uniqueName:r.uniqueName??PKt.generateRandomString(),contentType:r.contentType??null,extension:r.extension??DKt(e),tags:r.tags??[]}),OKt=async(t,e={})=>Wae(new Uint8Array(await t.arrayBuffer()),t.name,e),RKt=(t,e="inline.json",r={})=>Wae(JSON.stringify(t),e,{contentType:"application/json",...r}),CKt=t=>new File([t.buffer],t.fileName),BKt=t=>JSON.parse(new TextDecoder().decode(t.buffer)),MKt=(...t)=>t.reduce((e,r)=>e+r.buffer.byteLength,0),NKt=t=>t!=null&&typeof t=="object"&&"buffer"in t&&"fileName"in t&&"displayName"in t&&"uniqueName"in t&&"contentType"in t&&"extension"in t&&"tags"in t,DKt=t=>{let e=t.lastIndexOf(".");return e<0?null:t.slice(e+1)};wb.createBrowserFileFromGenericFile=CKt;wb.createGenericFile=Wae;wb.createGenericFileFromBrowserFile=OKt;wb.createGenericFileFromJson=RKt;wb.getBytesFromGenericFiles=MKt;wb.isGenericFile=NKt;wb.parseJsonFromGenericFile=BKt});var zUe=_($4=>{"use strict";u();l();Object.defineProperty($4,"__esModule",{value:!0});var UKt=z4(),Vae=hE(),dU=Ly(),H4=class t{constructor(e,r,n={}){this.context=e,this.programId=r,this.options=n}reset(){return new t(this.context,this.programId,{fields:this.options.fields,deserializeCallback:this.options.deserializeCallback})}registerFields(e){return new t(this.context,this.programId,{...this.options,fields:e})}registerFieldsFromStruct(e){let r=0,n=e.reduce((i,[o,s])=>(i[o]=[r,s],r=r===null||s.fixedSize===null?null:r+s.fixedSize,i),{});return this.registerFields(n)}deserializeUsing(e){return new t(this.context,this.programId,{...this.options,deserializeCallback:e})}slice(e,r){return new t(this.context,this.programId,{...this.options,dataSlice:{offset:e,length:r}})}sliceField(e,r){let[n,i]=this.getField(e,r);if(!i.fixedSize)throw new dU.SdkError(`Cannot slice field [${e}] because its size is variable.`);return this.slice(n,i.fixedSize)}withoutData(){return this.slice(0,0)}addFilter(...e){return new t(this.context,this.programId,{...this.options,filters:[...this.options.filters??[],...e]})}where(e,r){let n;return typeof r=="string"?n=Vae.base58.serialize(r):typeof r=="number"||typeof r=="bigint"||typeof r=="boolean"?n=Vae.base10.serialize(BigInt(r).toString()):n=new Uint8Array(r),this.addFilter({memcmp:{offset:e,bytes:n}})}whereField(e,r,n){let[i,o]=this.getField(e,n);return this.where(i,o.serialize(r))}whereSize(e){return this.addFilter({dataSize:e})}sortUsing(e){return new t(this.context,this.programId,{...this.options,sortCallback:e})}async get(e={}){let r=await this.context.rpc.getProgramAccounts(this.programId,{...e,dataSlice:e.dataSlice??this.options.dataSlice,filters:[...e.filters??[],...this.options.filters??[]]});return this.options.sortCallback&&r.sort(this.options.sortCallback),r}async getAndMap(e,r={}){return(await this.get(r)).map(e)}async getDeserialized(e={}){let r=await this.get(e);return this.options.deserializeCallback?r.map(this.options.deserializeCallback):r}async getPublicKeys(e={}){return this.getAndMap(r=>r.publicKey,e)}async getDataAsPublicKeys(e={}){return this.getAndMap(r=>{try{return UKt.publicKey(r.data)}catch{let i=`Following a getProgramAccount call, you are trying to use an account's data (or a slice of it) as a public key. However, we encountered an account [${r.publicKey}] whose data [base64=${Vae.base64.deserialize(r.data)}] is not a valid public key.`;throw new dU.SdkError(i)}},e)}getField(e,r){if(!this.options.fields)throw new dU.SdkError("Fields are not defined in this GpaBuilder.");let n=this.options.fields[e];if(!n)throw new dU.SdkError(`Field [${e}] is not defined in this GpaBuilder.`);let[i,o]=n;if(r!==void 0)return[r,o];if(i===null)throw new dU.SdkError(`Field [${e}] does not have a fixed offset. This is likely because it is not in the fixed part of the account's data. In other words, it is located after a field of variable length which means we cannot find a fixed offset for the filter. You may go around this by providing an offset explicitly.`);return[i,o]}},LKt=(t,e)=>new H4(t,e);$4.GpaBuilder=H4;$4.gpaBuilder=LKt});var FUe=_(X4=>{"use strict";u();l();Object.defineProperty(X4,"__esModule",{value:!0});var zKt=()=>new Y4({method:"get",data:void 0,headers:{},url:""}),Y4=class t{constructor(e){this.request=e}asJson(){return this.contentType("application/json")}asMultipart(){return this.contentType("multipart/form-data")}asForm(){return this.contentType("application/x-www-form-urlencoded")}accept(e){return this.withHeader("accept",e)}contentType(e){return this.withHeader("content-type",e)}userAgent(e){return this.withHeader("user-agent",e)}withToken(e,r="Bearer"){return this.withHeader("authorization",`${r} ${e}`)}withHeader(e,r){return this.withHeaders({[e]:r})}withHeaders(e){return new t({...this.request,headers:{...this.request.headers,...e}})}dontFollowRedirects(){return this.followRedirects(0)}followRedirects(e){return new t({...this.request,maxRedirects:e})}withoutTimeout(){return this.withTimeout(0)}withTimeout(e){return new t({...this.request,timeout:e})}withAbortSignal(e){return new t({...this.request,signal:e})}withEndpoint(e,r){return new t({...this.request,method:e,url:r})}withParams(e){let r=new URL(this.request.url),n=new URLSearchParams(e),i=new URLSearchParams(r.searchParams);return[...n.entries()].forEach(([o,s])=>{i.append(o,s)}),r.search=i.toString(),new t({...this.request,url:r.toString()})}withData(e){return new t({...this.request,data:e})}get(e){return this.withEndpoint("get",e)}post(e){return this.withEndpoint("post",e)}put(e){return this.withEndpoint("put",e)}patch(e){return this.withEndpoint("patch",e)}delete(e){return this.withEndpoint("delete",e)}get method(){return this.request.method}get url(){return this.request.url}get data(){return this.request.data}get headers(){return this.request.headers}get maxRedirects(){return this.request.maxRedirects}get timeout(){return this.request.timeout}get signal(){return this.request.signal}};X4.HttpRequestBuilder=Y4;X4.request=zKt});var J4=_(Z4=>{"use strict";u();l();Object.defineProperty(Z4,"__esModule",{value:!0});var FKt=1232,qKt=(t,e,r)=>{let n=t.message.header.numRequiredSignatures,o=t.message.accounts.slice(0,n).findIndex(a=>a===r);if(o<0)throw new Error("The provided signer is not required to sign this transaction.");let s=[...t.signatures];return s[o]=e,{...t,signatures:s}};Z4.TRANSACTION_SIZE_LIMIT=FKt;Z4.addTransactionSignature=qKt});var Gae=_(fU=>{"use strict";u();l();Object.defineProperty(fU,"__esModule",{value:!0});var jKt=J4(),KKt=t=>qUe(t,t.eddsa.generateKeypair()),qUe=(t,e)=>({publicKey:e.publicKey,secretKey:e.secretKey,async signMessage(r){return t.eddsa.sign(r,e)},async signTransaction(r){let n=r.serializedMessage,i=t.eddsa.sign(n,e);return jKt.addTransactionSignature(r,i,e.publicKey)},async signAllTransactions(r){return Promise.all(r.map(n=>this.signTransaction(n)))}}),WKt=t=>t.secretKey!==void 0;fU.createSignerFromKeypair=qUe;fU.generateSigner=KKt;fU.isKeypairSigner=WKt});var jUe=_(Hae=>{"use strict";u();l();Object.defineProperty(Hae,"__esModule",{value:!0});var VKt=t=>t instanceof Error&&"logs"in t;Hae.isErrorWithLogs=VKt});var KUe=_(rS=>{"use strict";u();l();Object.defineProperty(rS,"__esModule",{value:!0});var Q4=Gae(),$ae=(t,e=!0)=>({install(r){r.identity=t,e&&(r.payer=t)}}),Yae=t=>({install(e){e.payer=t}}),GKt=(t=!0)=>({install(e){let r=Q4.generateSigner(e);e.use($ae(r,t))}}),HKt=()=>({install(t){let e=Q4.generateSigner(t);t.use(Yae(e))}}),$Kt=(t,e=!0)=>({install(r){let n=Q4.createSignerFromKeypair(r,t);r.use($ae(n,e))}}),YKt=t=>({install(e){let r=Q4.createSignerFromKeypair(e,t);e.use(Yae(r))}});rS.generatedSignerIdentity=GKt;rS.generatedSignerPayer=HKt;rS.keypairIdentity=$Kt;rS.keypairPayer=YKt;rS.signerIdentity=$ae;rS.signerPayer=Yae});var Xae=_(tW=>{"use strict";u();l();Object.defineProperty(tW,"__esModule",{value:!0});var WUe=lU(),XKt=J4(),ZKt=Ly(),eW=class t{constructor(e=[],r={}){this.items=e,this.options=r}empty(){return new t([],this.options)}setItems(e){return new t(this.parseItems(e),this.options)}prepend(e){return new t([...this.parseItems(e),...this.items],this.options)}append(e){return new t([...this.items,...this.parseItems(e)],this.options)}add(e){return this.append(e)}mapInstructions(e){return new t(this.items.map(e),this.options)}addRemainingAccounts(e,r){r=r??this.items.length-1;let n=Array.isArray(e)?e:[e],i=n.map(s=>"pubkey"in s?s:{pubkey:s.signer.publicKey,isSigner:!0,isWritable:s.isWritable}),o=n.flatMap(s=>"pubkey"in s?[]:[s.signer]);return this.mapInstructions((s,a)=>{if(a!==r)return s;let c=[...s.instruction.keys,...i];return{...s,instruction:{...s.instruction,keys:c},signers:[...s.signers,...o]}})}splitByIndex(e){return[new t(this.items.slice(0,e),this.options),new t(this.items.slice(e),this.options)]}unsafeSplitByTransactionSize(e){return this.items.reduce((r,n)=>{let i=r.pop(),o=i.add(n);return o.fitsInOneTransaction(e)?r.push(o):(r.push(i),r.push(i.empty().add(n))),r},[this.empty()])}setFeePayer(e){return new t(this.items,{...this.options,feePayer:e})}getFeePayer(e){return this.options.feePayer??e.payer}setVersion(e){return new t(this.items,{...this.options,version:e})}useLegacyVersion(){return this.setVersion("legacy")}useV0(){return this.setVersion(0)}setAddressLookupTables(e){return new t(this.items,{...this.options,addressLookupTables:e})}getBlockhash(){return typeof this.options.blockhash=="object"?this.options.blockhash.blockhash:this.options.blockhash}setBlockhash(e){return new t(this.items,{...this.options,blockhash:e})}async setLatestBlockhash(e,r={}){return this.setBlockhash(await e.rpc.getLatestBlockhash(r))}getInstructions(){return this.items.map(e=>e.instruction)}getSigners(e){return WUe.uniqueSigners([this.getFeePayer(e),...this.items.flatMap(r=>r.signers)])}getBytesCreatedOnChain(){return this.items.reduce((e,r)=>e+r.bytesCreatedOnChain,0)}async getRentCreatedOnChain(e){return e.rpc.getRent(this.getBytesCreatedOnChain(),{includesHeaderBytes:!0})}getTransactionSize(e){return e.transactions.serialize(this.setBlockhash("11111111111111111111111111111111").build(e)).length}minimumTransactionsRequired(e){return Math.ceil(this.getTransactionSize(e)/XKt.TRANSACTION_SIZE_LIMIT)}fitsInOneTransaction(e){return this.minimumTransactionsRequired(e)===1}build(e){let r=this.getBlockhash();if(!r)throw new ZKt.SdkError("Setting a blockhash is required to build a transaction. Please use the `setBlockhash` or `setLatestBlockhash` methods.");let n={version:this.options.version??0,payer:this.getFeePayer(e).publicKey,instructions:this.getInstructions(),blockhash:r};return n.version===0&&this.options.addressLookupTables&&(n.addressLookupTables=this.options.addressLookupTables),e.transactions.create(n)}async buildWithLatestBlockhash(e,r={}){let n=this;return this.options.blockhash||(n=await this.setLatestBlockhash(e,r)),n.build(e)}async buildAndSign(e){return WUe.signTransaction(await this.buildWithLatestBlockhash(e),this.getSigners(e))}async send(e,r={}){let n=await this.buildAndSign(e);return e.rpc.sendTransaction(n,r)}async confirm(e,r,n={}){let i=this;this.options.blockhash||(i=await this.setLatestBlockhash(e));let o;if(n.strategy)o=n.strategy;else{let s=typeof i.options.blockhash=="object"?i.options.blockhash:await e.rpc.getLatestBlockhash();o=n.strategy??{type:"blockhash",...s}}return e.rpc.confirmTransaction(r,{...n,strategy:o})}async sendAndConfirm(e,r={}){let n=this;this.options.blockhash||(n=await this.setLatestBlockhash(e));let i=await n.send(e,r.send),o=await n.confirm(e,i,r.confirm);return{signature:i,result:o}}parseItems(e){return(Array.isArray(e)?e:[e]).flatMap(r=>"items"in r?r.items:[r])}},JKt=(t=[])=>new eW(t);tW.TransactionBuilder=eW;tW.transactionBuilder=JKt});var VUe=_(nW=>{"use strict";u();l();Object.defineProperty(nW,"__esModule",{value:!0});var QKt=lU(),e4t=Xae(),t4t=V4(),rW=class t{constructor(e=[],r={}){this.builders=e,this.options=r}prepend(e){let r=Array.isArray(e)?e:[e];return new t([...r,...this.builders],this.options)}append(e){let r=Array.isArray(e)?e:[e];return new t([...this.builders,...r],this.options)}add(e){return this.append(e)}sequential(){return new t(this.builders,{...this.options,parallel:!1})}parallel(){return new t(this.builders,{...this.options,parallel:!0})}isParallel(){return this.options.parallel??!1}merge(){return this.builders.length===0?new e4t.TransactionBuilder:this.builders.reduce((e,r)=>e.add(r),this.builders[0].empty())}build(e){return this.builders.map(r=>r.build(e))}async setLatestBlockhash(e){if(!this.builders.some(i=>!i.options.blockhash))return this;let n=await e.rpc.getLatestBlockhash();return this.map(i=>i.options.blockhash?i:i.setBlockhash(n))}async buildWithLatestBlockhash(e){return(await this.setLatestBlockhash(e)).build(e)}async buildAndSign(e){let r=await this.buildWithLatestBlockhash(e),n=this.builders.map(i=>i.getSigners(e));return QKt.signAllTransactions(t4t.zipMap(r,n,(i,o)=>({transaction:i,signers:o??[]})))}async send(e,r={}){return this.runAll(await this.buildAndSign(e),async n=>e.rpc.sendTransaction(n,r))}async sendAndConfirm(e,r={}){let n=this.builders.find(o=>typeof o.options.blockhash=="object")?.options.blockhash,i;if(r.confirm?.strategy)i=r.confirm.strategy;else{let o=n??await e.rpc.getLatestBlockhash();i=r.confirm?.strategy??{type:"blockhash",...o}}return this.runAll(await this.buildAndSign(e),async o=>{let s=await e.rpc.sendTransaction(o,r.send),a=await e.rpc.confirmTransaction(s,{...r.confirm,strategy:i});return{signature:s,result:a}})}map(e){return new t(this.builders.map(e))}filter(e){return new t(this.builders.filter(e))}async runAll(e,r){return this.isParallel()?Promise.all(e.map(r)):e.reduce(async(n,...i)=>[...await n,await r(...i)],Promise.resolve([]))}};function r4t(t=[]){return new rW(t)}nW.TransactionBuilderGroup=rW;nW.transactionBuilderGroup=r4t});var GUe=_(Zae=>{"use strict";u();l();Object.defineProperty(Zae,"__esModule",{value:!0});var n4t=qae(),i4t=()=>({...n4t.createNullContext(),use(t){return t.install(this),this}});Zae.createUmi=i4t});var HUe=_(Qae=>{"use strict";u();l();Object.defineProperty(Qae,"__esModule",{value:!0});var o4t=Ly(),Jae=class extends o4t.SdkError{name="InvalidBaseStringError";constructor(e,r,n){let i=`Expected a string of base ${r}, got [${e}].`;super(i,n)}};Qae.InvalidBaseStringError=Jae});var $Ue=_(tce=>{"use strict";u();l();Object.defineProperty(tce,"__esModule",{value:!0});var s4t=j4(),ece=class extends s4t.UmiError{name="ProgramError";constructor(e,r,n){super(e,"program",`${r.name} [${r.publicKey}]`,n),this.program=r,this.logs=n?.logs,this.logs&&(this.message+=`
Program Logs:
${this.logs.map(i=>`| ${i}`).join(`
`)}
`)}};tce.ProgramError=ece});var Zt=_(Me=>{"use strict";u();l();Object.defineProperty(Me,"__esModule",{value:!0});var YUe=Koe(),XUe=z4(),Iu=TUe(),rce=kUe(),Bn=BUe(),a4t=K4(),c4t=MUe(),u4t=qae(),iW=UUe(),l4t=Tae(),d4t=vae(),mE=LUe(),ZUe=zUe(),f4t=Pae(),JUe=FUe(),nce=Gae(),p4t=jUe(),h4t=Rae(),m4t=Bae(),y4t=Nae(),Mk=lU(),Nk=KUe(),QUe=J4(),e2e=Xae(),t2e=VUe(),g4t=Uae(),b4t=GUe(),_4t=zae(),S4t=fae(),w4t=_ae(),A4t=zy(),E4t=HUe(),I4t=$Ue(),T4t=Ly(),k4t=j4(),v4t=uae(),x4t=yae(),ice=V4(),P4t=Kae();Me.Endian=Iu.Endian;Me.base10=Iu.base10;Me.base16=Iu.base16;Me.base58=Iu.base58;Me.base64=Iu.base64;Me.baseX=Iu.baseX;Me.bitArray=Iu.bitArray;Me.fixBytes=Iu.fixBytes;Me.fixSerializer=Iu.fixSerializer;Me.mapSerializer=Iu.mapSerializer;Me.mergeBytes=Iu.mergeBytes;Me.padBytes=Iu.padBytes;Me.padNullCharacters=Iu.padNullCharacters;Me.removeNullCharacters=Iu.removeNullCharacters;Me.reverseSerializer=Iu.reverseSerializer;Me.utf8=Iu.utf8;Me.ACCOUNT_HEADER_SIZE=rce.ACCOUNT_HEADER_SIZE;Me.assertAccountExists=rce.assertAccountExists;Me.deserializeAccount=rce.deserializeAccount;Me.absoluteAmount=Bn.absoluteAmount;Me.addAmounts=Bn.addAmounts;Me.amountToNumber=Bn.amountToNumber;Me.amountToString=Bn.amountToString;Me.assertAmount=Bn.assertAmount;Me.assertSameAmounts=Bn.assertSameAmounts;Me.assertSolAmount=Bn.assertSolAmount;Me.compareAmounts=Bn.compareAmounts;Me.createAmount=Bn.createAmount;Me.createAmountFromDecimals=Bn.createAmountFromDecimals;Me.displayAmount=Bn.displayAmount;Me.divideAmount=Bn.divideAmount;Me.isAmount=Bn.isAmount;Me.isEqualToAmount=Bn.isEqualToAmount;Me.isGreaterThanAmount=Bn.isGreaterThanAmount;Me.isGreaterThanOrEqualToAmount=Bn.isGreaterThanOrEqualToAmount;Me.isLessThanAmount=Bn.isLessThanAmount;Me.isLessThanOrEqualToAmount=Bn.isLessThanOrEqualToAmount;Me.isNegativeAmount=Bn.isNegativeAmount;Me.isPositiveAmount=Bn.isPositiveAmount;Me.isSolAmount=Bn.isSolAmount;Me.isZeroAmount=Bn.isZeroAmount;Me.lamports=Bn.lamports;Me.mapAmountSerializer=Bn.mapAmountSerializer;Me.multiplyAmount=Bn.multiplyAmount;Me.percentAmount=Bn.percentAmount;Me.sameAmounts=Bn.sameAmounts;Me.sol=Bn.sol;Me.subtractAmounts=Bn.subtractAmounts;Me.tokenAmount=Bn.tokenAmount;Me.usd=Bn.usd;Me.createBigInt=a4t.createBigInt;Me.resolveClusterFromEndpoint=c4t.resolveClusterFromEndpoint;Me.createNullContext=u4t.createNullContext;Me.dateTime=iW.dateTime;Me.formatDateTime=iW.formatDateTime;Me.mapDateTimeSerializer=iW.mapDateTimeSerializer;Me.now=iW.now;Me.createNullDownloader=l4t.createNullDownloader;Me.createNullEddsa=d4t.createNullEddsa;Me.createBrowserFileFromGenericFile=mE.createBrowserFileFromGenericFile;Me.createGenericFile=mE.createGenericFile;Me.createGenericFileFromBrowserFile=mE.createGenericFileFromBrowserFile;Me.createGenericFileFromJson=mE.createGenericFileFromJson;Me.getBytesFromGenericFiles=mE.getBytesFromGenericFiles;Me.isGenericFile=mE.isGenericFile;Me.parseJsonFromGenericFile=mE.parseJsonFromGenericFile;Me.GpaBuilder=ZUe.GpaBuilder;Me.gpaBuilder=ZUe.gpaBuilder;Me.createNullHttp=f4t.createNullHttp;Me.HttpRequestBuilder=JUe.HttpRequestBuilder;Me.request=JUe.request;Me.createSignerFromKeypair=nce.createSignerFromKeypair;Me.generateSigner=nce.generateSigner;Me.isKeypairSigner=nce.isKeypairSigner;Me.isErrorWithLogs=p4t.isErrorWithLogs;Me.createNullProgramRepository=h4t.createNullProgramRepository;Me.createNullRpc=m4t.createNullRpc;Me.createNullSerializer=y4t.createNullSerializer;Me.createNoopSigner=Mk.createNoopSigner;Me.createNullSigner=Mk.createNullSigner;Me.isSigner=Mk.isSigner;Me.signAllTransactions=Mk.signAllTransactions;Me.signTransaction=Mk.signTransaction;Me.uniqueSigners=Mk.uniqueSigners;Me.generatedSignerIdentity=Nk.generatedSignerIdentity;Me.generatedSignerPayer=Nk.generatedSignerPayer;Me.keypairIdentity=Nk.keypairIdentity;Me.keypairPayer=Nk.keypairPayer;Me.signerIdentity=Nk.signerIdentity;Me.signerPayer=Nk.signerPayer;Me.TRANSACTION_SIZE_LIMIT=QUe.TRANSACTION_SIZE_LIMIT;Me.addTransactionSignature=QUe.addTransactionSignature;Me.TransactionBuilder=e2e.TransactionBuilder;Me.transactionBuilder=e2e.transactionBuilder;Me.TransactionBuilderGroup=t2e.TransactionBuilderGroup;Me.transactionBuilderGroup=t2e.transactionBuilderGroup;Me.createNullTransactionFactory=g4t.createNullTransactionFactory;Me.createUmi=b4t.createUmi;Me.createNullUploader=_4t.createNullUploader;Me.AccountNotFoundError=S4t.AccountNotFoundError;Me.AmountMismatchError=w4t.AmountMismatchError;Me.InterfaceImplementationMissingError=A4t.InterfaceImplementationMissingError;Me.InvalidBaseStringError=E4t.InvalidBaseStringError;Me.ProgramError=I4t.ProgramError;Me.SdkError=T4t.SdkError;Me.UmiError=k4t.UmiError;Me.UnexpectedAccountError=v4t.UnexpectedAccountError;Me.UnexpectedAmountError=x4t.UnexpectedAmountError;Me.chunk=ice.chunk;Me.uniqueBy=ice.uniqueBy;Me.zipMap=ice.zipMap;Me.generateRandomString=P4t.generateRandomString;Object.keys(YUe).forEach(function(t){t!=="default"&&!Me.hasOwnProperty(t)&&Object.defineProperty(Me,t,{enumerable:!0,get:function(){return YUe[t]}})});Object.keys(XUe).forEach(function(t){t!=="default"&&!Me.hasOwnProperty(t)&&Object.defineProperty(Me,t,{enumerable:!0,get:function(){return XUe[t]}})})});var Ue=_(oW=>{"use strict";u();l();Object.defineProperty(oW,"__esModule",{value:!0});var r2e=hE();Object.keys(r2e).forEach(function(t){t!=="default"&&!oW.hasOwnProperty(t)&&Object.defineProperty(oW,t,{enumerable:!0,get:function(){return r2e[t]}})})});var n2e=_(sW=>{"use strict";u();l();Object.defineProperty(sW,"__esModule",{value:!0});sW.getAddBlockerSerializer=void 0;var O4t=Ue();function R4t(){return(0,O4t.struct)([],{description:"AddBlocker"})}sW.getAddBlockerSerializer=R4t});var i2e=_(aW=>{"use strict";u();l();Object.defineProperty(aW,"__esModule",{value:!0});aW.getAttributeSerializer=void 0;var oce=Ue();function C4t(){return(0,oce.struct)([["key",(0,oce.string)()],["value",(0,oce.string)()]],{description:"Attribute"})}aW.getAttributeSerializer=C4t});var s2e=_(cW=>{"use strict";u();l();Object.defineProperty(cW,"__esModule",{value:!0});cW.getAttributesSerializer=void 0;var o2e=Ue(),B4t=lt();function M4t(){return(0,o2e.struct)([["attributeList",(0,o2e.array)((0,B4t.getAttributeSerializer)())]],{description:"Attributes"})}cW.getAttributesSerializer=M4t});var c2e=_(uW=>{"use strict";u();l();Object.defineProperty(uW,"__esModule",{value:!0});uW.getAutographSerializer=void 0;var a2e=Ue(),N4t=lt();function D4t(){return(0,a2e.struct)([["signatures",(0,a2e.array)((0,N4t.getAutographSignatureSerializer)())]],{description:"Autograph"})}uW.getAutographSerializer=D4t});var u2e=_(lW=>{"use strict";u();l();Object.defineProperty(lW,"__esModule",{value:!0});lW.getAutographSignatureSerializer=void 0;var sce=Ue();function U4t(){return(0,sce.struct)([["address",(0,sce.publicKey)()],["message",(0,sce.string)()]],{description:"AutographSignature"})}lW.getAutographSignatureSerializer=U4t});var d2e=_(dW=>{"use strict";u();l();Object.defineProperty(dW,"__esModule",{value:!0});dW.getBaseAppDataSerializer=void 0;var L4t=Ue(),l2e=lt();function z4t(){return(0,L4t.struct)([["dataAuthority",(0,l2e.getBasePluginAuthoritySerializer)()],["schema",(0,l2e.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseAppData"})}dW.getBaseAppDataSerializer=z4t});var f2e=_(fW=>{"use strict";u();l();Object.defineProperty(fW,"__esModule",{value:!0});fW.getBaseAppDataInitInfoSerializer=void 0;var ace=Ue(),cce=lt();function F4t(){return(0,ace.struct)([["dataAuthority",(0,cce.getBasePluginAuthoritySerializer)()],["initPluginAuthority",(0,ace.option)((0,cce.getBasePluginAuthoritySerializer)())],["schema",(0,ace.option)((0,cce.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseAppDataInitInfo"})}fW.getBaseAppDataInitInfoSerializer=F4t});var h2e=_(pW=>{"use strict";u();l();Object.defineProperty(pW,"__esModule",{value:!0});pW.getBaseAppDataUpdateInfoSerializer=void 0;var p2e=Ue(),q4t=lt();function j4t(){return(0,p2e.struct)([["schema",(0,p2e.option)((0,q4t.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseAppDataUpdateInfo"})}pW.getBaseAppDataUpdateInfoSerializer=j4t});var y2e=_(hW=>{"use strict";u();l();Object.defineProperty(hW,"__esModule",{value:!0});hW.getBaseDataSectionSerializer=void 0;var K4t=Ue(),m2e=lt();function W4t(){return(0,K4t.struct)([["parentKey",(0,m2e.getBaseLinkedDataKeySerializer)()],["schema",(0,m2e.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseDataSection"})}hW.getBaseDataSectionSerializer=W4t});var b2e=_(mW=>{"use strict";u();l();Object.defineProperty(mW,"__esModule",{value:!0});mW.getBaseDataSectionInitInfoSerializer=void 0;var V4t=Ue(),g2e=lt();function G4t(){return(0,V4t.struct)([["parentKey",(0,g2e.getBaseLinkedDataKeySerializer)()],["schema",(0,g2e.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseDataSectionInitInfo"})}mW.getBaseDataSectionInitInfoSerializer=G4t});var _2e=_(yW=>{"use strict";u();l();Object.defineProperty(yW,"__esModule",{value:!0});yW.getBaseDataSectionUpdateInfoSerializer=void 0;var H4t=Ue();function $4t(){return(0,H4t.struct)([],{description:"BaseDataSectionUpdateInfo"})}yW.getBaseDataSectionUpdateInfoSerializer=$4t});var S2e=_(nS=>{"use strict";u();l();Object.defineProperty(nS,"__esModule",{value:!0});nS.isBaseExternalPluginAdapterInitInfo=nS.baseExternalPluginAdapterInitInfo=nS.getBaseExternalPluginAdapterInitInfoSerializer=void 0;var uf=Ue(),Dk=lt();function Y4t(){return(0,uf.dataEnum)([["LifecycleHook",(0,uf.struct)([["fields",(0,uf.tuple)([(0,Dk.getBaseLifecycleHookInitInfoSerializer)()])]])],["Oracle",(0,uf.struct)([["fields",(0,uf.tuple)([(0,Dk.getBaseOracleInitInfoSerializer)()])]])],["AppData",(0,uf.struct)([["fields",(0,uf.tuple)([(0,Dk.getBaseAppDataInitInfoSerializer)()])]])],["LinkedLifecycleHook",(0,uf.struct)([["fields",(0,uf.tuple)([(0,Dk.getBaseLinkedLifecycleHookInitInfoSerializer)()])]])],["LinkedAppData",(0,uf.struct)([["fields",(0,uf.tuple)([(0,Dk.getBaseLinkedAppDataInitInfoSerializer)()])]])],["DataSection",(0,uf.struct)([["fields",(0,uf.tuple)([(0,Dk.getBaseDataSectionInitInfoSerializer)()])]])]],{description:"BaseExternalPluginAdapterInitInfo"})}nS.getBaseExternalPluginAdapterInitInfoSerializer=Y4t;function X4t(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}nS.baseExternalPluginAdapterInitInfo=X4t;function Z4t(t,e){return e.__kind===t}nS.isBaseExternalPluginAdapterInitInfo=Z4t});var w2e=_(iS=>{"use strict";u();l();Object.defineProperty(iS,"__esModule",{value:!0});iS.isBaseExternalPluginAdapterKey=iS.baseExternalPluginAdapterKey=iS.getBaseExternalPluginAdapterKeySerializer=void 0;var Tu=Ue(),uce=lt();function J4t(){return(0,Tu.dataEnum)([["LifecycleHook",(0,Tu.struct)([["fields",(0,Tu.tuple)([(0,Tu.publicKey)()])]])],["Oracle",(0,Tu.struct)([["fields",(0,Tu.tuple)([(0,Tu.publicKey)()])]])],["AppData",(0,Tu.struct)([["fields",(0,Tu.tuple)([(0,uce.getBasePluginAuthoritySerializer)()])]])],["LinkedLifecycleHook",(0,Tu.struct)([["fields",(0,Tu.tuple)([(0,Tu.publicKey)()])]])],["LinkedAppData",(0,Tu.struct)([["fields",(0,Tu.tuple)([(0,uce.getBasePluginAuthoritySerializer)()])]])],["DataSection",(0,Tu.struct)([["fields",(0,Tu.tuple)([(0,uce.getBaseLinkedDataKeySerializer)()])]])]],{description:"BaseExternalPluginAdapterKey"})}iS.getBaseExternalPluginAdapterKeySerializer=J4t;function Q4t(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}iS.baseExternalPluginAdapterKey=Q4t;function eWt(t,e){return e.__kind===t}iS.isBaseExternalPluginAdapterKey=eWt});var A2e=_(oS=>{"use strict";u();l();Object.defineProperty(oS,"__esModule",{value:!0});oS.isBaseExternalPluginAdapterUpdateInfo=oS.baseExternalPluginAdapterUpdateInfo=oS.getBaseExternalPluginAdapterUpdateInfoSerializer=void 0;var _h=Ue(),pU=lt();function tWt(){return(0,_h.dataEnum)([["LifecycleHook",(0,_h.struct)([["fields",(0,_h.tuple)([(0,pU.getBaseLifecycleHookUpdateInfoSerializer)()])]])],["Oracle",(0,_h.struct)([["fields",(0,_h.tuple)([(0,pU.getBaseOracleUpdateInfoSerializer)()])]])],["AppData",(0,_h.struct)([["fields",(0,_h.tuple)([(0,pU.getBaseAppDataUpdateInfoSerializer)()])]])],["LinkedLifecycleHook",(0,_h.struct)([["fields",(0,_h.tuple)([(0,pU.getBaseLinkedLifecycleHookUpdateInfoSerializer)()])]])],["LinkedAppData",(0,_h.struct)([["fields",(0,_h.tuple)([(0,pU.getBaseLinkedAppDataUpdateInfoSerializer)()])]])]],{description:"BaseExternalPluginAdapterUpdateInfo"})}oS.getBaseExternalPluginAdapterUpdateInfoSerializer=tWt;function rWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}oS.baseExternalPluginAdapterUpdateInfo=rWt;function nWt(t,e){return e.__kind===t}oS.isBaseExternalPluginAdapterUpdateInfo=nWt});var E2e=_(sS=>{"use strict";u();l();Object.defineProperty(sS,"__esModule",{value:!0});sS.isBaseExtraAccount=sS.baseExtraAccount=sS.getBaseExtraAccountSerializer=void 0;var Bi=Ue(),iWt=lt();function oWt(){return(0,Bi.dataEnum)([["PreconfiguredProgram",(0,Bi.struct)([["isSigner",(0,Bi.bool)()],["isWritable",(0,Bi.bool)()]])],["PreconfiguredCollection",(0,Bi.struct)([["isSigner",(0,Bi.bool)()],["isWritable",(0,Bi.bool)()]])],["PreconfiguredOwner",(0,Bi.struct)([["isSigner",(0,Bi.bool)()],["isWritable",(0,Bi.bool)()]])],["PreconfiguredRecipient",(0,Bi.struct)([["isSigner",(0,Bi.bool)()],["isWritable",(0,Bi.bool)()]])],["PreconfiguredAsset",(0,Bi.struct)([["isSigner",(0,Bi.bool)()],["isWritable",(0,Bi.bool)()]])],["CustomPda",(0,Bi.struct)([["seeds",(0,Bi.array)((0,iWt.getBaseSeedSerializer)())],["customProgramId",(0,Bi.option)((0,Bi.publicKey)())],["isSigner",(0,Bi.bool)()],["isWritable",(0,Bi.bool)()]])],["Address",(0,Bi.struct)([["address",(0,Bi.publicKey)()],["isSigner",(0,Bi.bool)()],["isWritable",(0,Bi.bool)()]])]],{description:"BaseExtraAccount"})}sS.getBaseExtraAccountSerializer=oWt;function sWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}sS.baseExtraAccount=sWt;function aWt(t,e){return e.__kind===t}sS.isBaseExtraAccount=aWt});var I2e=_(gW=>{"use strict";u();l();Object.defineProperty(gW,"__esModule",{value:!0});gW.getBaseLifecycleHookSerializer=void 0;var hU=Ue(),lce=lt();function cWt(){return(0,hU.struct)([["hookedProgram",(0,hU.publicKey)()],["extraAccounts",(0,hU.option)((0,hU.array)((0,lce.getBaseExtraAccountSerializer)()))],["dataAuthority",(0,hU.option)((0,lce.getBasePluginAuthoritySerializer)())],["schema",(0,lce.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseLifecycleHook"})}gW.getBaseLifecycleHookSerializer=cWt});var T2e=_(bW=>{"use strict";u();l();Object.defineProperty(bW,"__esModule",{value:!0});bW.getBaseLifecycleHookInitInfoSerializer=void 0;var Ab=Ue(),Uk=lt();function uWt(){return(0,Ab.struct)([["hookedProgram",(0,Ab.publicKey)()],["initPluginAuthority",(0,Ab.option)((0,Uk.getBasePluginAuthoritySerializer)())],["lifecycleChecks",(0,Ab.array)((0,Ab.tuple)([(0,Uk.getHookableLifecycleEventSerializer)(),(0,Uk.getExternalCheckResultSerializer)()]))],["extraAccounts",(0,Ab.option)((0,Ab.array)((0,Uk.getBaseExtraAccountSerializer)()))],["dataAuthority",(0,Ab.option)((0,Uk.getBasePluginAuthoritySerializer)())],["schema",(0,Ab.option)((0,Uk.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLifecycleHookInitInfo"})}bW.getBaseLifecycleHookInitInfoSerializer=uWt});var k2e=_(SW=>{"use strict";u();l();Object.defineProperty(SW,"__esModule",{value:!0});SW.getBaseLifecycleHookUpdateInfoSerializer=void 0;var yE=Ue(),_W=lt();function lWt(){return(0,yE.struct)([["lifecycleChecks",(0,yE.option)((0,yE.array)((0,yE.tuple)([(0,_W.getHookableLifecycleEventSerializer)(),(0,_W.getExternalCheckResultSerializer)()])))],["extraAccounts",(0,yE.option)((0,yE.array)((0,_W.getBaseExtraAccountSerializer)()))],["schema",(0,yE.option)((0,_W.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLifecycleHookUpdateInfo"})}SW.getBaseLifecycleHookUpdateInfoSerializer=lWt});var x2e=_(wW=>{"use strict";u();l();Object.defineProperty(wW,"__esModule",{value:!0});wW.getBaseLinkedAppDataSerializer=void 0;var dWt=Ue(),v2e=lt();function fWt(){return(0,dWt.struct)([["dataAuthority",(0,v2e.getBasePluginAuthoritySerializer)()],["schema",(0,v2e.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseLinkedAppData"})}wW.getBaseLinkedAppDataSerializer=fWt});var P2e=_(AW=>{"use strict";u();l();Object.defineProperty(AW,"__esModule",{value:!0});AW.getBaseLinkedAppDataInitInfoSerializer=void 0;var dce=Ue(),fce=lt();function pWt(){return(0,dce.struct)([["dataAuthority",(0,fce.getBasePluginAuthoritySerializer)()],["initPluginAuthority",(0,dce.option)((0,fce.getBasePluginAuthoritySerializer)())],["schema",(0,dce.option)((0,fce.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLinkedAppDataInitInfo"})}AW.getBaseLinkedAppDataInitInfoSerializer=pWt});var R2e=_(EW=>{"use strict";u();l();Object.defineProperty(EW,"__esModule",{value:!0});EW.getBaseLinkedAppDataUpdateInfoSerializer=void 0;var O2e=Ue(),hWt=lt();function mWt(){return(0,O2e.struct)([["schema",(0,O2e.option)((0,hWt.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLinkedAppDataUpdateInfo"})}EW.getBaseLinkedAppDataUpdateInfoSerializer=mWt});var C2e=_(aS=>{"use strict";u();l();Object.defineProperty(aS,"__esModule",{value:!0});aS.isBaseLinkedDataKey=aS.baseLinkedDataKey=aS.getBaseLinkedDataKeySerializer=void 0;var Lk=Ue(),yWt=lt();function gWt(){return(0,Lk.dataEnum)([["LinkedLifecycleHook",(0,Lk.struct)([["fields",(0,Lk.tuple)([(0,Lk.publicKey)()])]])],["LinkedAppData",(0,Lk.struct)([["fields",(0,Lk.tuple)([(0,yWt.getBasePluginAuthoritySerializer)()])]])]],{description:"BaseLinkedDataKey"})}aS.getBaseLinkedDataKeySerializer=gWt;function bWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}aS.baseLinkedDataKey=bWt;function _Wt(t,e){return e.__kind===t}aS.isBaseLinkedDataKey=_Wt});var B2e=_(IW=>{"use strict";u();l();Object.defineProperty(IW,"__esModule",{value:!0});IW.getBaseLinkedLifecycleHookSerializer=void 0;var mU=Ue(),pce=lt();function SWt(){return(0,mU.struct)([["hookedProgram",(0,mU.publicKey)()],["extraAccounts",(0,mU.option)((0,mU.array)((0,pce.getBaseExtraAccountSerializer)()))],["dataAuthority",(0,mU.option)((0,pce.getBasePluginAuthoritySerializer)())],["schema",(0,pce.getExternalPluginAdapterSchemaSerializer)()]],{description:"BaseLinkedLifecycleHook"})}IW.getBaseLinkedLifecycleHookSerializer=SWt});var M2e=_(TW=>{"use strict";u();l();Object.defineProperty(TW,"__esModule",{value:!0});TW.getBaseLinkedLifecycleHookInitInfoSerializer=void 0;var Eb=Ue(),zk=lt();function wWt(){return(0,Eb.struct)([["hookedProgram",(0,Eb.publicKey)()],["initPluginAuthority",(0,Eb.option)((0,zk.getBasePluginAuthoritySerializer)())],["lifecycleChecks",(0,Eb.array)((0,Eb.tuple)([(0,zk.getHookableLifecycleEventSerializer)(),(0,zk.getExternalCheckResultSerializer)()]))],["extraAccounts",(0,Eb.option)((0,Eb.array)((0,zk.getBaseExtraAccountSerializer)()))],["dataAuthority",(0,Eb.option)((0,zk.getBasePluginAuthoritySerializer)())],["schema",(0,Eb.option)((0,zk.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLinkedLifecycleHookInitInfo"})}TW.getBaseLinkedLifecycleHookInitInfoSerializer=wWt});var N2e=_(vW=>{"use strict";u();l();Object.defineProperty(vW,"__esModule",{value:!0});vW.getBaseLinkedLifecycleHookUpdateInfoSerializer=void 0;var gE=Ue(),kW=lt();function AWt(){return(0,gE.struct)([["lifecycleChecks",(0,gE.option)((0,gE.array)((0,gE.tuple)([(0,kW.getHookableLifecycleEventSerializer)(),(0,kW.getExternalCheckResultSerializer)()])))],["extraAccounts",(0,gE.option)((0,gE.array)((0,kW.getBaseExtraAccountSerializer)()))],["schema",(0,gE.option)((0,kW.getExternalPluginAdapterSchemaSerializer)())]],{description:"BaseLinkedLifecycleHookUpdateInfo"})}vW.getBaseLinkedLifecycleHookUpdateInfoSerializer=AWt});var D2e=_(xW=>{"use strict";u();l();Object.defineProperty(xW,"__esModule",{value:!0});xW.getBaseMasterEditionSerializer=void 0;var bE=Ue();function EWt(){return(0,bE.struct)([["maxSupply",(0,bE.option)((0,bE.u32)())],["name",(0,bE.option)((0,bE.string)())],["uri",(0,bE.option)((0,bE.string)())]],{description:"BaseMasterEdition"})}xW.getBaseMasterEditionSerializer=EWt});var L2e=_(PW=>{"use strict";u();l();Object.defineProperty(PW,"__esModule",{value:!0});PW.getBaseOracleSerializer=void 0;var hce=Ue(),U2e=lt();function IWt(){return(0,hce.struct)([["baseAddress",(0,hce.publicKey)()],["baseAddressConfig",(0,hce.option)((0,U2e.getBaseExtraAccountSerializer)())],["resultsOffset",(0,U2e.getBaseValidationResultsOffsetSerializer)()]],{description:"BaseOracle"})}PW.getBaseOracleSerializer=IWt});var z2e=_(OW=>{"use strict";u();l();Object.defineProperty(OW,"__esModule",{value:!0});OW.getBaseOracleInitInfoSerializer=void 0;var _E=Ue(),yU=lt();function TWt(){return(0,_E.struct)([["baseAddress",(0,_E.publicKey)()],["initPluginAuthority",(0,_E.option)((0,yU.getBasePluginAuthoritySerializer)())],["lifecycleChecks",(0,_E.array)((0,_E.tuple)([(0,yU.getHookableLifecycleEventSerializer)(),(0,yU.getExternalCheckResultSerializer)()]))],["baseAddressConfig",(0,_E.option)((0,yU.getBaseExtraAccountSerializer)())],["resultsOffset",(0,_E.option)((0,yU.getBaseValidationResultsOffsetSerializer)())]],{description:"BaseOracleInitInfo"})}OW.getBaseOracleInitInfoSerializer=TWt});var F2e=_(CW=>{"use strict";u();l();Object.defineProperty(CW,"__esModule",{value:!0});CW.getBaseOracleUpdateInfoSerializer=void 0;var Fk=Ue(),RW=lt();function kWt(){return(0,Fk.struct)([["lifecycleChecks",(0,Fk.option)((0,Fk.array)((0,Fk.tuple)([(0,RW.getHookableLifecycleEventSerializer)(),(0,RW.getExternalCheckResultSerializer)()])))],["baseAddressConfig",(0,Fk.option)((0,RW.getBaseExtraAccountSerializer)())],["resultsOffset",(0,Fk.option)((0,RW.getBaseValidationResultsOffsetSerializer)())]],{description:"BaseOracleUpdateInfo"})}CW.getBaseOracleUpdateInfoSerializer=kWt});var q2e=_(cS=>{"use strict";u();l();Object.defineProperty(cS,"__esModule",{value:!0});cS.isBasePluginAuthority=cS.basePluginAuthority=cS.getBasePluginAuthoritySerializer=void 0;var qk=Ue();function vWt(){return(0,qk.dataEnum)([["None",(0,qk.unit)()],["Owner",(0,qk.unit)()],["UpdateAuthority",(0,qk.unit)()],["Address",(0,qk.struct)([["address",(0,qk.publicKey)()]])]],{description:"BasePluginAuthority"})}cS.getBasePluginAuthoritySerializer=vWt;function xWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}cS.basePluginAuthority=xWt;function PWt(t,e){return e.__kind===t}cS.isBasePluginAuthority=PWt});var K2e=_(BW=>{"use strict";u();l();Object.defineProperty(BW,"__esModule",{value:!0});BW.getBaseRoyaltiesSerializer=void 0;var mce=Ue(),j2e=lt();function OWt(){return(0,mce.struct)([["basisPoints",(0,mce.u16)()],["creators",(0,mce.array)((0,j2e.getCreatorSerializer)())],["ruleSet",(0,j2e.getBaseRuleSetSerializer)()]],{description:"BaseRoyalties"})}BW.getBaseRoyaltiesSerializer=OWt});var W2e=_(uS=>{"use strict";u();l();Object.defineProperty(uS,"__esModule",{value:!0});uS.isBaseRuleSet=uS.baseRuleSet=uS.getBaseRuleSetSerializer=void 0;var Fy=Ue();function RWt(){return(0,Fy.dataEnum)([["None",(0,Fy.unit)()],["ProgramAllowList",(0,Fy.struct)([["fields",(0,Fy.tuple)([(0,Fy.array)((0,Fy.publicKey)())])]])],["ProgramDenyList",(0,Fy.struct)([["fields",(0,Fy.tuple)([(0,Fy.array)((0,Fy.publicKey)())])]])]],{description:"BaseRuleSet"})}uS.getBaseRuleSetSerializer=RWt;function CWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}uS.baseRuleSet=CWt;function BWt(t,e){return e.__kind===t}uS.isBaseRuleSet=BWt});var V2e=_(lS=>{"use strict";u();l();Object.defineProperty(lS,"__esModule",{value:!0});lS.isBaseSeed=lS.baseSeed=lS.getBaseSeedSerializer=void 0;var hp=Ue();function MWt(){return(0,hp.dataEnum)([["Collection",(0,hp.unit)()],["Owner",(0,hp.unit)()],["Recipient",(0,hp.unit)()],["Asset",(0,hp.unit)()],["Address",(0,hp.struct)([["fields",(0,hp.tuple)([(0,hp.publicKey)()])]])],["Bytes",(0,hp.struct)([["fields",(0,hp.tuple)([(0,hp.bytes)({size:(0,hp.u32)()})])]])]],{description:"BaseSeed"})}lS.getBaseSeedSerializer=MWt;function NWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}lS.baseSeed=NWt;function DWt(t,e){return e.__kind===t}lS.isBaseSeed=DWt});var G2e=_(fS=>{"use strict";u();l();Object.defineProperty(fS,"__esModule",{value:!0});fS.isBaseUpdateAuthority=fS.baseUpdateAuthority=fS.getBaseUpdateAuthoritySerializer=void 0;var dS=Ue();function UWt(){return(0,dS.dataEnum)([["None",(0,dS.unit)()],["Address",(0,dS.struct)([["fields",(0,dS.tuple)([(0,dS.publicKey)()])]])],["Collection",(0,dS.struct)([["fields",(0,dS.tuple)([(0,dS.publicKey)()])]])]],{description:"BaseUpdateAuthority"})}fS.getBaseUpdateAuthoritySerializer=UWt;function LWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}fS.baseUpdateAuthority=LWt;function zWt(t,e){return e.__kind===t}fS.isBaseUpdateAuthority=zWt});var H2e=_(pS=>{"use strict";u();l();Object.defineProperty(pS,"__esModule",{value:!0});pS.isBaseValidationResultsOffset=pS.baseValidationResultsOffset=pS.getBaseValidationResultsOffsetSerializer=void 0;var jk=Ue();function FWt(){return(0,jk.dataEnum)([["NoOffset",(0,jk.unit)()],["Anchor",(0,jk.unit)()],["Custom",(0,jk.struct)([["fields",(0,jk.tuple)([(0,jk.u64)()])]])]],{description:"BaseValidationResultsOffset"})}pS.getBaseValidationResultsOffsetSerializer=FWt;function qWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}pS.baseValidationResultsOffset=qWt;function jWt(t,e){return e.__kind===t}pS.isBaseValidationResultsOffset=jWt});var $2e=_(MW=>{"use strict";u();l();Object.defineProperty(MW,"__esModule",{value:!0});MW.getBurnDelegateSerializer=void 0;var KWt=Ue();function WWt(){return(0,KWt.struct)([],{description:"BurnDelegate"})}MW.getBurnDelegateSerializer=WWt});var X2e=_(NW=>{"use strict";u();l();Object.defineProperty(NW,"__esModule",{value:!0});NW.getCompressionProofSerializer=void 0;var Kk=Ue(),Y2e=lt();function VWt(){return(0,Kk.struct)([["owner",(0,Kk.publicKey)()],["updateAuthority",(0,Y2e.getBaseUpdateAuthoritySerializer)()],["name",(0,Kk.string)()],["uri",(0,Kk.string)()],["seq",(0,Kk.u64)()],["plugins",(0,Kk.array)((0,Y2e.getHashablePluginSchemaSerializer)())]],{description:"CompressionProof"})}NW.getCompressionProofSerializer=VWt});var Z2e=_(DW=>{"use strict";u();l();Object.defineProperty(DW,"__esModule",{value:!0});DW.getCreatorSerializer=void 0;var yce=Ue();function GWt(){return(0,yce.struct)([["address",(0,yce.publicKey)()],["percentage",(0,yce.u8)()]],{description:"Creator"})}DW.getCreatorSerializer=GWt});var Q2e=_(SE=>{"use strict";u();l();Object.defineProperty(SE,"__esModule",{value:!0});SE.getDataStateSerializer=SE.DataState=void 0;var HWt=Ue(),J2e;(function(t){t[t.AccountState=0]="AccountState",t[t.LedgerState=1]="LedgerState"})(J2e=SE.DataState||(SE.DataState={}));function $Wt(){return(0,HWt.scalarEnum)(J2e,{description:"DataState"})}SE.getDataStateSerializer=$Wt});var tLe=_(UW=>{"use strict";u();l();Object.defineProperty(UW,"__esModule",{value:!0});UW.getEditionSerializer=void 0;var eLe=Ue();function YWt(){return(0,eLe.struct)([["number",(0,eLe.u32)()]],{description:"Edition"})}UW.getEditionSerializer=YWt});var nLe=_(LW=>{"use strict";u();l();Object.defineProperty(LW,"__esModule",{value:!0});LW.getExternalCheckResultSerializer=void 0;var rLe=Ue();function XWt(){return(0,rLe.struct)([["flags",(0,rLe.u32)()]],{description:"ExternalCheckResult"})}LW.getExternalCheckResultSerializer=XWt});var iLe=_(hS=>{"use strict";u();l();Object.defineProperty(hS,"__esModule",{value:!0});hS.isExternalPluginAdapter=hS.externalPluginAdapter=hS.getExternalPluginAdapterSerializer=void 0;var lf=Ue(),Wk=lt();function ZWt(){return(0,lf.dataEnum)([["LifecycleHook",(0,lf.struct)([["fields",(0,lf.tuple)([(0,Wk.getBaseLifecycleHookSerializer)()])]])],["Oracle",(0,lf.struct)([["fields",(0,lf.tuple)([(0,Wk.getBaseOracleSerializer)()])]])],["AppData",(0,lf.struct)([["fields",(0,lf.tuple)([(0,Wk.getBaseAppDataSerializer)()])]])],["LinkedLifecycleHook",(0,lf.struct)([["fields",(0,lf.tuple)([(0,Wk.getBaseLinkedLifecycleHookSerializer)()])]])],["LinkedAppData",(0,lf.struct)([["fields",(0,lf.tuple)([(0,Wk.getBaseLinkedAppDataSerializer)()])]])],["DataSection",(0,lf.struct)([["fields",(0,lf.tuple)([(0,Wk.getBaseDataSectionSerializer)()])]])]],{description:"ExternalPluginAdapter"})}hS.getExternalPluginAdapterSerializer=ZWt;function JWt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}hS.externalPluginAdapter=JWt;function QWt(t,e){return e.__kind===t}hS.isExternalPluginAdapter=QWt});var sLe=_(wE=>{"use strict";u();l();Object.defineProperty(wE,"__esModule",{value:!0});wE.getExternalPluginAdapterSchemaSerializer=wE.ExternalPluginAdapterSchema=void 0;var eVt=Ue(),oLe;(function(t){t[t.Binary=0]="Binary",t[t.Json=1]="Json",t[t.MsgPack=2]="MsgPack"})(oLe=wE.ExternalPluginAdapterSchema||(wE.ExternalPluginAdapterSchema={}));function tVt(){return(0,eVt.scalarEnum)(oLe,{description:"ExternalPluginAdapterSchema"})}wE.getExternalPluginAdapterSchemaSerializer=tVt});var cLe=_(AE=>{"use strict";u();l();Object.defineProperty(AE,"__esModule",{value:!0});AE.getExternalPluginAdapterTypeSerializer=AE.ExternalPluginAdapterType=void 0;var rVt=Ue(),aLe;(function(t){t[t.LifecycleHook=0]="LifecycleHook",t[t.Oracle=1]="Oracle",t[t.AppData=2]="AppData",t[t.LinkedLifecycleHook=3]="LinkedLifecycleHook",t[t.LinkedAppData=4]="LinkedAppData",t[t.DataSection=5]="DataSection"})(aLe=AE.ExternalPluginAdapterType||(AE.ExternalPluginAdapterType={}));function nVt(){return(0,rVt.scalarEnum)(aLe,{description:"ExternalPluginAdapterType"})}AE.getExternalPluginAdapterTypeSerializer=nVt});var uLe=_(FW=>{"use strict";u();l();Object.defineProperty(FW,"__esModule",{value:!0});FW.getExternalRegistryRecordSerializer=void 0;var Ib=Ue(),zW=lt();function iVt(){return(0,Ib.struct)([["pluginType",(0,zW.getExternalPluginAdapterTypeSerializer)()],["authority",(0,zW.getBasePluginAuthoritySerializer)()],["lifecycleChecks",(0,Ib.option)((0,Ib.array)((0,Ib.tuple)([(0,zW.getHookableLifecycleEventSerializer)(),(0,zW.getExternalCheckResultSerializer)()])))],["offset",(0,Ib.u64)()],["dataOffset",(0,Ib.option)((0,Ib.u64)())],["dataLen",(0,Ib.option)((0,Ib.u64)())]],{description:"ExternalRegistryRecord"})}FW.getExternalRegistryRecordSerializer=iVt});var dLe=_(EE=>{"use strict";u();l();Object.defineProperty(EE,"__esModule",{value:!0});EE.getExternalValidationResultSerializer=EE.ExternalValidationResult=void 0;var oVt=Ue(),lLe;(function(t){t[t.Approved=0]="Approved",t[t.Rejected=1]="Rejected",t[t.Pass=2]="Pass"})(lLe=EE.ExternalValidationResult||(EE.ExternalValidationResult={}));function sVt(){return(0,oVt.scalarEnum)(lLe,{description:"ExternalValidationResult"})}EE.getExternalValidationResultSerializer=sVt});var pLe=_(qW=>{"use strict";u();l();Object.defineProperty(qW,"__esModule",{value:!0});qW.getFreezeDelegateSerializer=void 0;var fLe=Ue();function aVt(){return(0,fLe.struct)([["frozen",(0,fLe.bool)()]],{description:"FreezeDelegate"})}qW.getFreezeDelegateSerializer=aVt});var yLe=_(jW=>{"use strict";u();l();Object.defineProperty(jW,"__esModule",{value:!0});jW.getHashablePluginSchemaSerializer=void 0;var hLe=Ue(),mLe=lt();function cVt(){return(0,hLe.struct)([["index",(0,hLe.u64)()],["authority",(0,mLe.getBasePluginAuthoritySerializer)()],["plugin",(0,mLe.getPluginSerializer)()]],{description:"HashablePluginSchema"})}jW.getHashablePluginSchemaSerializer=cVt});var gLe=_(WW=>{"use strict";u();l();Object.defineProperty(WW,"__esModule",{value:!0});WW.getHashedAssetSchemaSerializer=void 0;var KW=Ue();function uVt(){return(0,KW.struct)([["assetHash",(0,KW.bytes)({size:32})],["pluginHashes",(0,KW.array)((0,KW.bytes)({size:32}))]],{description:"HashedAssetSchema"})}WW.getHashedAssetSchemaSerializer=uVt});var _Le=_(IE=>{"use strict";u();l();Object.defineProperty(IE,"__esModule",{value:!0});IE.getHookableLifecycleEventSerializer=IE.HookableLifecycleEvent=void 0;var lVt=Ue(),bLe;(function(t){t[t.Create=0]="Create",t[t.Transfer=1]="Transfer",t[t.Burn=2]="Burn",t[t.Update=3]="Update"})(bLe=IE.HookableLifecycleEvent||(IE.HookableLifecycleEvent={}));function dVt(){return(0,lVt.scalarEnum)(bLe,{description:"HookableLifecycleEvent"})}IE.getHookableLifecycleEventSerializer=dVt});var SLe=_(VW=>{"use strict";u();l();Object.defineProperty(VW,"__esModule",{value:!0});VW.getImmutableMetadataSerializer=void 0;var fVt=Ue();function pVt(){return(0,fVt.struct)([],{description:"ImmutableMetadata"})}VW.getImmutableMetadataSerializer=pVt});var ALe=_(TE=>{"use strict";u();l();Object.defineProperty(TE,"__esModule",{value:!0});TE.getKeySerializer=TE.Key=void 0;var hVt=Ue(),wLe;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.AssetV1=1]="AssetV1",t[t.HashedAssetV1=2]="HashedAssetV1",t[t.PluginHeaderV1=3]="PluginHeaderV1",t[t.PluginRegistryV1=4]="PluginRegistryV1",t[t.CollectionV1=5]="CollectionV1"})(wLe=TE.Key||(TE.Key={}));function mVt(){return(0,hVt.scalarEnum)(wLe,{description:"Key"})}TE.getKeySerializer=mVt});var ELe=_(mS=>{"use strict";u();l();Object.defineProperty(mS,"__esModule",{value:!0});mS.isOracleValidation=mS.oracleValidation=mS.getOracleValidationSerializer=void 0;var gce=Ue(),GW=lt();function yVt(){return(0,gce.dataEnum)([["Uninitialized",(0,gce.unit)()],["V1",(0,gce.struct)([["create",(0,GW.getExternalValidationResultSerializer)()],["transfer",(0,GW.getExternalValidationResultSerializer)()],["burn",(0,GW.getExternalValidationResultSerializer)()],["update",(0,GW.getExternalValidationResultSerializer)()]])]],{description:"OracleValidation"})}mS.getOracleValidationSerializer=yVt;function gVt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}mS.oracleValidation=gVt;function bVt(t,e){return e.__kind===t}mS.isOracleValidation=bVt});var ILe=_(HW=>{"use strict";u();l();Object.defineProperty(HW,"__esModule",{value:!0});HW.getPermanentBurnDelegateSerializer=void 0;var _Vt=Ue();function SVt(){return(0,_Vt.struct)([],{description:"PermanentBurnDelegate"})}HW.getPermanentBurnDelegateSerializer=SVt});var kLe=_($W=>{"use strict";u();l();Object.defineProperty($W,"__esModule",{value:!0});$W.getPermanentFreezeDelegateSerializer=void 0;var TLe=Ue();function wVt(){return(0,TLe.struct)([["frozen",(0,TLe.bool)()]],{description:"PermanentFreezeDelegate"})}$W.getPermanentFreezeDelegateSerializer=wVt});var vLe=_(YW=>{"use strict";u();l();Object.defineProperty(YW,"__esModule",{value:!0});YW.getPermanentTransferDelegateSerializer=void 0;var AVt=Ue();function EVt(){return(0,AVt.struct)([],{description:"PermanentTransferDelegate"})}YW.getPermanentTransferDelegateSerializer=EVt});var xLe=_(yS=>{"use strict";u();l();Object.defineProperty(yS,"__esModule",{value:!0});yS.isPlugin=yS.plugin=yS.getPluginSerializer=void 0;var Mn=Ue(),sl=lt();function IVt(){return(0,Mn.dataEnum)([["Royalties",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getBaseRoyaltiesSerializer)()])]])],["FreezeDelegate",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getFreezeDelegateSerializer)()])]])],["BurnDelegate",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getBurnDelegateSerializer)()])]])],["TransferDelegate",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getTransferDelegateSerializer)()])]])],["UpdateDelegate",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getUpdateDelegateSerializer)()])]])],["PermanentFreezeDelegate",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getPermanentFreezeDelegateSerializer)()])]])],["Attributes",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getAttributesSerializer)()])]])],["PermanentTransferDelegate",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getPermanentTransferDelegateSerializer)()])]])],["PermanentBurnDelegate",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getPermanentBurnDelegateSerializer)()])]])],["Edition",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getEditionSerializer)()])]])],["MasterEdition",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getBaseMasterEditionSerializer)()])]])],["AddBlocker",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getAddBlockerSerializer)()])]])],["ImmutableMetadata",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getImmutableMetadataSerializer)()])]])],["VerifiedCreators",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getVerifiedCreatorsSerializer)()])]])],["Autograph",(0,Mn.struct)([["fields",(0,Mn.tuple)([(0,sl.getAutographSerializer)()])]])]],{description:"Plugin"})}yS.getPluginSerializer=IVt;function TVt(t,e){return Array.isArray(e)?{__kind:t,fields:e}:{__kind:t,...e??{}}}yS.plugin=TVt;function kVt(t,e){return e.__kind===t}yS.isPlugin=kVt});var RLe=_(XW=>{"use strict";u();l();Object.defineProperty(XW,"__esModule",{value:!0});XW.getPluginAuthorityPairSerializer=void 0;var PLe=Ue(),OLe=lt();function vVt(){return(0,PLe.struct)([["plugin",(0,OLe.getPluginSerializer)()],["authority",(0,PLe.option)((0,OLe.getBasePluginAuthoritySerializer)())]],{description:"PluginAuthorityPair"})}XW.getPluginAuthorityPairSerializer=vVt});var BLe=_(kE=>{"use strict";u();l();Object.defineProperty(kE,"__esModule",{value:!0});kE.getPluginTypeSerializer=kE.PluginType=void 0;var xVt=Ue(),CLe;(function(t){t[t.Royalties=0]="Royalties",t[t.FreezeDelegate=1]="FreezeDelegate",t[t.BurnDelegate=2]="BurnDelegate",t[t.TransferDelegate=3]="TransferDelegate",t[t.UpdateDelegate=4]="UpdateDelegate",t[t.PermanentFreezeDelegate=5]="PermanentFreezeDelegate",t[t.Attributes=6]="Attributes",t[t.PermanentTransferDelegate=7]="PermanentTransferDelegate",t[t.PermanentBurnDelegate=8]="PermanentBurnDelegate",t[t.Edition=9]="Edition",t[t.MasterEdition=10]="MasterEdition",t[t.AddBlocker=11]="AddBlocker",t[t.ImmutableMetadata=12]="ImmutableMetadata",t[t.VerifiedCreators=13]="VerifiedCreators",t[t.Autograph=14]="Autograph"})(CLe=kE.PluginType||(kE.PluginType={}));function PVt(){return(0,xVt.scalarEnum)(CLe,{description:"PluginType"})}kE.getPluginTypeSerializer=PVt});var DLe=_(ZW=>{"use strict";u();l();Object.defineProperty(ZW,"__esModule",{value:!0});ZW.getRegistryRecordSerializer=void 0;var MLe=Ue(),NLe=lt();function OVt(){return(0,MLe.struct)([["pluginType",(0,NLe.getPluginTypeSerializer)()],["authority",(0,NLe.getBasePluginAuthoritySerializer)()],["offset",(0,MLe.u64)()]],{description:"RegistryRecord"})}ZW.getRegistryRecordSerializer=OVt});var ULe=_(JW=>{"use strict";u();l();Object.defineProperty(JW,"__esModule",{value:!0});JW.getTransferDelegateSerializer=void 0;var RVt=Ue();function CVt(){return(0,RVt.struct)([],{description:"TransferDelegate"})}JW.getTransferDelegateSerializer=CVt});var LLe=_(QW=>{"use strict";u();l();Object.defineProperty(QW,"__esModule",{value:!0});QW.getUpdateDelegateSerializer=void 0;var bce=Ue();function BVt(){return(0,bce.struct)([["additionalDelegates",(0,bce.array)((0,bce.publicKey)())]],{description:"UpdateDelegate"})}QW.getUpdateDelegateSerializer=BVt});var FLe=_(vE=>{"use strict";u();l();Object.defineProperty(vE,"__esModule",{value:!0});vE.getValidationResultSerializer=vE.ValidationResult=void 0;var MVt=Ue(),zLe;(function(t){t[t.Approved=0]="Approved",t[t.Rejected=1]="Rejected",t[t.Pass=2]="Pass",t[t.ForceApproved=3]="ForceApproved"})(zLe=vE.ValidationResult||(vE.ValidationResult={}));function NVt(){return(0,MVt.scalarEnum)(zLe,{description:"ValidationResult"})}vE.getValidationResultSerializer=NVt});var jLe=_(eV=>{"use strict";u();l();Object.defineProperty(eV,"__esModule",{value:!0});eV.getVerifiedCreatorsSerializer=void 0;var qLe=Ue(),DVt=lt();function UVt(){return(0,qLe.struct)([["signatures",(0,qLe.array)((0,DVt.getVerifiedCreatorsSignatureSerializer)())]],{description:"VerifiedCreators"})}eV.getVerifiedCreatorsSerializer=UVt});var KLe=_(tV=>{"use strict";u();l();Object.defineProperty(tV,"__esModule",{value:!0});tV.getVerifiedCreatorsSignatureSerializer=void 0;var _ce=Ue();function LVt(){return(0,_ce.struct)([["address",(0,_ce.publicKey)()],["verified",(0,_ce.bool)()]],{description:"VerifiedCreatorsSignature"})}tV.getVerifiedCreatorsSignatureSerializer=LVt});var lt=_(dt=>{"use strict";u();l();var zVt=dt&&dt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),St=dt&&dt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&zVt(e,t,r)};Object.defineProperty(dt,"__esModule",{value:!0});St(n2e(),dt);St(i2e(),dt);St(s2e(),dt);St(c2e(),dt);St(u2e(),dt);St(d2e(),dt);St(f2e(),dt);St(h2e(),dt);St(y2e(),dt);St(b2e(),dt);St(_2e(),dt);St(S2e(),dt);St(w2e(),dt);St(A2e(),dt);St(E2e(),dt);St(I2e(),dt);St(T2e(),dt);St(k2e(),dt);St(x2e(),dt);St(P2e(),dt);St(R2e(),dt);St(C2e(),dt);St(B2e(),dt);St(M2e(),dt);St(N2e(),dt);St(D2e(),dt);St(L2e(),dt);St(z2e(),dt);St(F2e(),dt);St(q2e(),dt);St(K2e(),dt);St(W2e(),dt);St(V2e(),dt);St(G2e(),dt);St(H2e(),dt);St($2e(),dt);St(X2e(),dt);St(Z2e(),dt);St(Q2e(),dt);St(tLe(),dt);St(nLe(),dt);St(iLe(),dt);St(sLe(),dt);St(cLe(),dt);St(uLe(),dt);St(dLe(),dt);St(pLe(),dt);St(yLe(),dt);St(gLe(),dt);St(_Le(),dt);St(SLe(),dt);St(ALe(),dt);St(ELe(),dt);St(ILe(),dt);St(kLe(),dt);St(vLe(),dt);St(xLe(),dt);St(RLe(),dt);St(BLe(),dt);St(DLe(),dt);St(ULe(),dt);St(LLe(),dt);St(FLe(),dt);St(jLe(),dt);St(KLe(),dt)});var VLe=_(rV=>{"use strict";u();l();Object.defineProperty(rV,"__esModule",{value:!0});rV.getAssetV1AccountDataSerializer=void 0;var Vk=Ue(),WLe=lt();function FVt(){return(0,Vk.struct)([["key",(0,WLe.getKeySerializer)()],["owner",(0,Vk.publicKey)()],["updateAuthority",(0,WLe.getBaseUpdateAuthoritySerializer)()],["name",(0,Vk.string)()],["uri",(0,Vk.string)()],["seq",(0,Vk.option)((0,Vk.u64)())]],{description:"AssetV1AccountData"})}rV.getAssetV1AccountDataSerializer=FVt});var Sce=_(gS=>{"use strict";u();l();Object.defineProperty(gS,"__esModule",{value:!0});gS.royaltiesFromBase=gS.royaltiesToBase=gS.ruleSetToBase=void 0;function GLe(t){if(t.__kind)return t;let r=t;return r.type==="ProgramAllowList"||r.type==="ProgramDenyList"?{__kind:r.type,fields:[r.addresses]}:{__kind:r.type}}gS.ruleSetToBase=GLe;function qVt(t){return{...t,ruleSet:GLe(t.ruleSet)}}gS.royaltiesToBase=qVt;function jVt(t){let e;return t.ruleSet.__kind==="ProgramAllowList"?e={...t.ruleSet,type:"ProgramAllowList",addresses:t.ruleSet.fields[0]}:t.ruleSet.__kind==="ProgramDenyList"?e={...t.ruleSet,type:"ProgramDenyList",addresses:t.ruleSet.fields[0]}:e={...t.ruleSet,type:t.ruleSet.__kind},{...t,ruleSet:e}}gS.royaltiesFromBase=jVt});var nV=_(ku=>{"use strict";u();l();Object.defineProperty(ku,"__esModule",{value:!0});ku.utf8Decode=ku.utf8DecodeTD=ku.utf8DecodeJs=ku.utf8Encode=ku.utf8EncodeTE=ku.utf8EncodeJs=ku.utf8Count=void 0;function KVt(t){let e=t.length,r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if(i&4294967168)if(!(i&4294965248))r+=2;else{if(i>=55296&&i<=56319&&n<e){let o=t.charCodeAt(n);(o&64512)===56320&&(++n,i=((i&1023)<<10)+(o&1023)+65536)}i&4294901760?r+=4:r+=3}else{r++;continue}}return r}ku.utf8Count=KVt;function HLe(t,e,r){let n=t.length,i=r,o=0;for(;o<n;){let s=t.charCodeAt(o++);if(s&4294967168)if(!(s&4294965248))e[i++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&o<n){let a=t.charCodeAt(o);(a&64512)===56320&&(++o,s=((s&1023)<<10)+(a&1023)+65536)}s&4294901760?(e[i++]=s>>18&7|240,e[i++]=s>>12&63|128,e[i++]=s>>6&63|128):(e[i++]=s>>12&15|224,e[i++]=s>>6&63|128)}else{e[i++]=s;continue}e[i++]=s&63|128}}ku.utf8EncodeJs=HLe;var WVt=new TextEncoder,VVt=50;function $Le(t,e,r){WVt.encodeInto(t,e.subarray(r))}ku.utf8EncodeTE=$Le;function GVt(t,e,r){t.length>VVt?$Le(t,e,r):HLe(t,e,r)}ku.utf8Encode=GVt;var HVt=4096;function YLe(t,e,r){let n=e,i=n+r,o=[],s="";for(;n<i;){let a=t[n++];if(!(a&128))o.push(a);else if((a&224)===192){let c=t[n++]&63;o.push((a&31)<<6|c)}else if((a&240)===224){let c=t[n++]&63,d=t[n++]&63;o.push((a&31)<<12|c<<6|d)}else if((a&248)===240){let c=t[n++]&63,d=t[n++]&63,f=t[n++]&63,p=(a&7)<<18|c<<12|d<<6|f;p>65535&&(p-=65536,o.push(p>>>10&1023|55296),p=56320|p&1023),o.push(p)}else o.push(a);o.length>=HVt&&(s+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(s+=String.fromCharCode(...o)),s}ku.utf8DecodeJs=YLe;var $Vt=new TextDecoder,YVt=200;function XLe(t,e,r){let n=t.subarray(e,e+r);return $Vt.decode(n)}ku.utf8DecodeTD=XLe;function XVt(t,e,r){return r>YVt?XLe(t,e,r):YLe(t,e,r)}ku.utf8Decode=XVt});var Ace=_(iV=>{"use strict";u();l();Object.defineProperty(iV,"__esModule",{value:!0});iV.ExtData=void 0;var wce=class{constructor(e,r){this.type=e,this.data=r}};iV.ExtData=wce});var sV=_(oV=>{"use strict";u();l();Object.defineProperty(oV,"__esModule",{value:!0});oV.DecodeError=void 0;var Ece=class t extends Error{constructor(e){super(e);let r=Object.create(t.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:t.name})}};oV.DecodeError=Ece});var aV=_(mp=>{"use strict";u();l();Object.defineProperty(mp,"__esModule",{value:!0});mp.getUint64=mp.getInt64=mp.setInt64=mp.setUint64=mp.UINT32_MAX=void 0;mp.UINT32_MAX=4294967295;function ZVt(t,e,r){let n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}mp.setUint64=ZVt;function JVt(t,e,r){let n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}mp.setInt64=JVt;function QVt(t,e){let r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}mp.getInt64=QVt;function e5t(t,e){let r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}mp.getUint64=e5t});var Ice=_(Sa=>{"use strict";u();l();Object.defineProperty(Sa,"__esModule",{value:!0});Sa.timestampExtension=Sa.decodeTimestampExtension=Sa.decodeTimestampToTimeSpec=Sa.encodeTimestampExtension=Sa.encodeDateToTimeSpec=Sa.encodeTimeSpecToTimestamp=Sa.EXT_TIMESTAMP=void 0;var t5t=sV(),ZLe=aV();Sa.EXT_TIMESTAMP=-1;var r5t=4294967296-1,n5t=17179869184-1;function JLe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=n5t)if(e===0&&t<=r5t){let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{let r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),o=new DataView(i.buffer);return o.setUint32(0,e<<2|r&3),o.setUint32(4,n),i}else{let r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),(0,ZLe.setInt64)(n,4,t),r}}Sa.encodeTimeSpecToTimestamp=JLe;function QLe(t){let e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}Sa.encodeDateToTimeSpec=QLe;function eze(t){if(t instanceof Date){let e=QLe(t);return JLe(e)}else return null}Sa.encodeTimestampExtension=eze;function tze(t){let e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{let r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,o=r>>>2;return{sec:i,nsec:o}}case 12:{let r=(0,ZLe.getInt64)(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new t5t.DecodeError(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}Sa.decodeTimestampToTimeSpec=tze;function rze(t){let e=tze(t);return new Date(e.sec*1e3+e.nsec/1e6)}Sa.decodeTimestampExtension=rze;Sa.timestampExtension={type:Sa.EXT_TIMESTAMP,encode:eze,decode:rze}});var lV=_(uV=>{"use strict";u();l();Object.defineProperty(uV,"__esModule",{value:!0});uV.ExtensionCodec=void 0;var cV=Ace(),i5t=Ice(),gU=class{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(i5t.timestampExtension)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{let i=1+e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){let i=this.builtInEncoders[n];if(i!=null){let o=i(e,r);if(o!=null){let s=-1-n;return new cV.ExtData(s,o)}}}for(let n=0;n<this.encoders.length;n++){let i=this.encoders[n];if(i!=null){let o=i(e,r);if(o!=null){let s=n;return new cV.ExtData(s,o)}}}return e instanceof cV.ExtData?e:null}decode(e,r,n){let i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new cV.ExtData(r,e)}};gU.defaultCodec=new gU;uV.ExtensionCodec=gU});var Tce=_(Gk=>{"use strict";u();l();Object.defineProperty(Gk,"__esModule",{value:!0});Gk.createDataView=Gk.ensureUint8Array=void 0;function nze(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Uint8Array.from(t)}Gk.ensureUint8Array=nze;function o5t(t){if(t instanceof ArrayBuffer)return new DataView(t);let e=nze(t);return new DataView(e.buffer,e.byteOffset,e.byteLength)}Gk.createDataView=o5t});var vce=_(qy=>{"use strict";u();l();Object.defineProperty(qy,"__esModule",{value:!0});qy.Encoder=qy.DEFAULT_INITIAL_BUFFER_SIZE=qy.DEFAULT_MAX_DEPTH=void 0;var ize=nV(),s5t=lV(),oze=aV(),a5t=Tce();qy.DEFAULT_MAX_DEPTH=100;qy.DEFAULT_INITIAL_BUFFER_SIZE=2048;var kce=class{constructor(e){var r,n,i,o,s,a,c,d;this.extensionCodec=(r=e?.extensionCodec)!==null&&r!==void 0?r:s5t.ExtensionCodec.defaultCodec,this.context=e?.context,this.useBigInt64=(n=e?.useBigInt64)!==null&&n!==void 0?n:!1,this.maxDepth=(i=e?.maxDepth)!==null&&i!==void 0?i:qy.DEFAULT_MAX_DEPTH,this.initialBufferSize=(o=e?.initialBufferSize)!==null&&o!==void 0?o:qy.DEFAULT_INITIAL_BUFFER_SIZE,this.sortKeys=(s=e?.sortKeys)!==null&&s!==void 0?s:!1,this.forceFloat32=(a=e?.forceFloat32)!==null&&a!==void 0?a:!1,this.ignoreUndefined=(c=e?.ignoreUndefined)!==null&&c!==void 0?c:!1,this.forceIntegerToFloat=(d=e?.forceIntegerToFloat)!==null&&d!==void 0?d:!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}reinitializeState(){this.pos=0}encodeSharedRef(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}encode(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){let r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){let r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){let n=(0,ize.utf8Count)(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),(0,ize.utf8Encode)(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){let n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){let r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);let n=(0,a5t.ensureUint8Array)(e);this.writeU8a(n)}encodeArray(e,r){let n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(let i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(let i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){let n=Object.keys(e);this.sortKeys&&n.sort();let i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(let o of n){let s=e[o];this.ignoreUndefined&&s===void 0||(this.encodeString(o),this.doEncode(s,r+1))}}encodeExtension(e){let r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),(0,oze.setUint64)(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),(0,oze.setInt64)(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};qy.Encoder=kce});var sze=_(Hk=>{"use strict";u();l();Object.defineProperty(Hk,"__esModule",{value:!0});Hk.encode=Hk.defaultEncodeOptions=void 0;var c5t=vce();Hk.defaultEncodeOptions=void 0;function u5t(t,e){return new c5t.Encoder(e).encodeSharedRef(t)}Hk.encode=u5t});var aze=_(dV=>{"use strict";u();l();Object.defineProperty(dV,"__esModule",{value:!0});dV.prettyByte=void 0;function l5t(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}dV.prettyByte=l5t});var cze=_(fV=>{"use strict";u();l();Object.defineProperty(fV,"__esModule",{value:!0});fV.CachedKeyDecoder=void 0;var d5t=nV(),f5t=16,p5t=16,xce=class{constructor(e=f5t,r=p5t){this.maxKeyLength=e,this.maxLengthPerKey=r,this.hit=0,this.miss=0,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){let i=this.caches[n-1];e:for(let o of i){let s=o.bytes;for(let a=0;a<n;a++)if(s[a]!==e[r+a])continue e;return o.str}return null}store(e,r){let n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){let i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;let o=(0,d5t.utf8DecodeJs)(e,r,n),s=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(s,o),o}};fV.CachedKeyDecoder=xce});var hV=_(kb=>{"use strict";u();l();Object.defineProperty(kb,"__esModule",{value:!0});kb.Decoder=kb.DataViewIndexOutOfBoundsError=void 0;var Pce=aze(),h5t=lV(),xE=aV(),m5t=nV(),Oce=Tce(),y5t=cze(),Tb=sV(),uze="array",pV="map_key",g5t="map_value",b5t=t=>typeof t=="string"||typeof t=="number",bU=-1,Cce=new DataView(new ArrayBuffer(0)),_5t=new Uint8Array(Cce.buffer);try{Cce.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}kb.DataViewIndexOutOfBoundsError=RangeError;var lze=new kb.DataViewIndexOutOfBoundsError("Insufficient data"),S5t=new y5t.CachedKeyDecoder,Rce=class{constructor(e){var r,n,i,o,s,a,c;this.totalPos=0,this.pos=0,this.view=Cce,this.bytes=_5t,this.headByte=bU,this.stack=[],this.extensionCodec=(r=e?.extensionCodec)!==null&&r!==void 0?r:h5t.ExtensionCodec.defaultCodec,this.context=e?.context,this.useBigInt64=(n=e?.useBigInt64)!==null&&n!==void 0?n:!1,this.maxStrLength=(i=e?.maxStrLength)!==null&&i!==void 0?i:xE.UINT32_MAX,this.maxBinLength=(o=e?.maxBinLength)!==null&&o!==void 0?o:xE.UINT32_MAX,this.maxArrayLength=(s=e?.maxArrayLength)!==null&&s!==void 0?s:xE.UINT32_MAX,this.maxMapLength=(a=e?.maxMapLength)!==null&&a!==void 0?a:xE.UINT32_MAX,this.maxExtLength=(c=e?.maxExtLength)!==null&&c!==void 0?c:xE.UINT32_MAX,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:S5t}reinitializeState(){this.totalPos=0,this.headByte=bU,this.stack.length=0}setBuffer(e){this.bytes=(0,Oce.ensureUint8Array)(e),this.view=(0,Oce.createDataView)(this.bytes),this.pos=0}appendBuffer(e){if(this.headByte===bU&&!this.hasRemaining(1))this.setBuffer(e);else{let r=this.bytes.subarray(this.pos),n=(0,Oce.ensureUint8Array)(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){let{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){this.reinitializeState(),this.setBuffer(e);let r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}*decodeMulti(e){for(this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}async decodeAsync(e){let r=!1,n;for await(let a of e){if(r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(c){if(!(c instanceof kb.DataViewIndexOutOfBoundsError))throw c}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}let{headByte:i,pos:o,totalPos:s}=this;throw new RangeError(`Insufficient data in parsing ${(0,Pce.prettyByte)(i)} at ${s} (${o} in the current buffer)`)}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){let n=r,i=-1;for await(let o of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(o),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(s){if(!(s instanceof kb.DataViewIndexOutOfBoundsError))throw s}this.totalPos+=this.pos}}doDecodeSync(){e:for(;;){let e=this.readHeadByte(),r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){let i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){let i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{let i=e-160;r=this.decodeUtf8String(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){let i=this.lookU8();r=this.decodeUtf8String(i,1)}else if(e===218){let i=this.lookU16();r=this.decodeUtf8String(i,2)}else if(e===219){let i=this.lookU32();r=this.decodeUtf8String(i,4)}else if(e===220){let i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){let i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){let i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){let i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){let i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){let i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){let i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){let i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){let i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){let i=this.lookU32();r=this.decodeExtension(i,4)}else throw new Tb.DecodeError(`Unrecognized type byte: ${(0,Pce.prettyByte)(e)}`);this.complete();let n=this.stack;for(;n.length>0;){let i=n[n.length-1];if(i.type===uze)if(i.array[i.position]=r,i.position++,i.position===i.size)n.pop(),r=i.array;else continue e;else if(i.type===pV){if(!b5t(r))throw new Tb.DecodeError("The type of key must be string or number but "+typeof r);if(r==="__proto__")throw new Tb.DecodeError("The key __proto__ is not allowed");i.key=r,i.type=g5t;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)n.pop(),r=i.map;else{i.key=null,i.type=pV;continue e}}return r}}readHeadByte(){return this.headByte===bU&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=bU}readArraySize(){let e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Tb.DecodeError(`Unrecognized array type byte: ${(0,Pce.prettyByte)(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Tb.DecodeError(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.push({type:pV,size:e,key:null,readCount:0,map:{}})}pushArrayState(e){if(e>this.maxArrayLength)throw new Tb.DecodeError(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.push({type:uze,size:e,array:new Array(e),position:0})}decodeUtf8String(e,r){var n;if(e>this.maxStrLength)throw new Tb.DecodeError(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw lze;let i=this.pos+r,o;return this.stateIsMapKey()&&(!((n=this.keyDecoder)===null||n===void 0)&&n.canBeCached(e))?o=this.keyDecoder.decode(this.bytes,i,e):o=(0,m5t.utf8Decode)(this.bytes,i,e),this.pos+=r+e,o}stateIsMapKey(){return this.stack.length>0?this.stack[this.stack.length-1].type===pV:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new Tb.DecodeError(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw lze;let n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new Tb.DecodeError(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);let n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){let e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){let e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){let e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){let e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){let e=(0,xE.getUint64)(this.view,this.pos);return this.pos+=8,e}readI64(){let e=(0,xE.getInt64)(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){let e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){let e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}};kb.Decoder=Rce});var fze=_(bS=>{"use strict";u();l();Object.defineProperty(bS,"__esModule",{value:!0});bS.decodeMulti=bS.decode=bS.defaultDecodeOptions=void 0;var dze=hV();bS.defaultDecodeOptions=void 0;function w5t(t,e){return new dze.Decoder(e).decode(t)}bS.decode=w5t;function A5t(t,e){return new dze.Decoder(e).decodeMulti(t)}bS.decodeMulti=A5t});var mze=_(_S=>{"use strict";u();l();Object.defineProperty(_S,"__esModule",{value:!0});_S.ensureAsyncIterable=_S.asyncIterableFromStream=_S.isAsyncIterable=void 0;function pze(t){return t[Symbol.asyncIterator]!=null}_S.isAsyncIterable=pze;function E5t(t){if(t==null)throw new Error("Assertion Failure: value must not be null nor undefined")}async function*hze(t){let e=t.getReader();try{for(;;){let{done:r,value:n}=await e.read();if(r)return;E5t(n),yield n}}finally{e.releaseLock()}}_S.asyncIterableFromStream=hze;function I5t(t){return pze(t)?t:hze(t)}_S.ensureAsyncIterable=I5t});var yze=_(jy=>{"use strict";u();l();Object.defineProperty(jy,"__esModule",{value:!0});jy.decodeStream=jy.decodeMultiStream=jy.decodeArrayStream=jy.decodeAsync=void 0;var Bce=hV(),Mce=mze();async function T5t(t,e){let r=(0,Mce.ensureAsyncIterable)(t);return new Bce.Decoder(e).decodeAsync(r)}jy.decodeAsync=T5t;function k5t(t,e){let r=(0,Mce.ensureAsyncIterable)(t);return new Bce.Decoder(e).decodeArrayStream(r)}jy.decodeArrayStream=k5t;function v5t(t,e){let r=(0,Mce.ensureAsyncIterable)(t);return new Bce.Decoder(e).decodeStream(r)}jy.decodeMultiStream=v5t;jy.decodeStream=void 0});var _ze=_(Rr=>{"use strict";u();l();Object.defineProperty(Rr,"__esModule",{value:!0});Rr.decodeTimestampExtension=Rr.encodeTimestampExtension=Rr.decodeTimestampToTimeSpec=Rr.encodeTimeSpecToTimestamp=Rr.encodeDateToTimeSpec=Rr.EXT_TIMESTAMP=Rr.ExtData=Rr.ExtensionCodec=Rr.Encoder=Rr.DecodeError=Rr.DataViewIndexOutOfBoundsError=Rr.Decoder=Rr.decodeStream=Rr.decodeMultiStream=Rr.decodeArrayStream=Rr.decodeAsync=Rr.decodeMulti=Rr.decode=Rr.encode=void 0;var x5t=sze();Object.defineProperty(Rr,"encode",{enumerable:!0,get:function(){return x5t.encode}});var gze=fze();Object.defineProperty(Rr,"decode",{enumerable:!0,get:function(){return gze.decode}});Object.defineProperty(Rr,"decodeMulti",{enumerable:!0,get:function(){return gze.decodeMulti}});var mV=yze();Object.defineProperty(Rr,"decodeAsync",{enumerable:!0,get:function(){return mV.decodeAsync}});Object.defineProperty(Rr,"decodeArrayStream",{enumerable:!0,get:function(){return mV.decodeArrayStream}});Object.defineProperty(Rr,"decodeMultiStream",{enumerable:!0,get:function(){return mV.decodeMultiStream}});Object.defineProperty(Rr,"decodeStream",{enumerable:!0,get:function(){return mV.decodeStream}});var bze=hV();Object.defineProperty(Rr,"Decoder",{enumerable:!0,get:function(){return bze.Decoder}});Object.defineProperty(Rr,"DataViewIndexOutOfBoundsError",{enumerable:!0,get:function(){return bze.DataViewIndexOutOfBoundsError}});var P5t=sV();Object.defineProperty(Rr,"DecodeError",{enumerable:!0,get:function(){return P5t.DecodeError}});var O5t=vce();Object.defineProperty(Rr,"Encoder",{enumerable:!0,get:function(){return O5t.Encoder}});var R5t=lV();Object.defineProperty(Rr,"ExtensionCodec",{enumerable:!0,get:function(){return R5t.ExtensionCodec}});var C5t=Ace();Object.defineProperty(Rr,"ExtData",{enumerable:!0,get:function(){return C5t.ExtData}});var $k=Ice();Object.defineProperty(Rr,"EXT_TIMESTAMP",{enumerable:!0,get:function(){return $k.EXT_TIMESTAMP}});Object.defineProperty(Rr,"encodeDateToTimeSpec",{enumerable:!0,get:function(){return $k.encodeDateToTimeSpec}});Object.defineProperty(Rr,"encodeTimeSpecToTimestamp",{enumerable:!0,get:function(){return $k.encodeTimeSpecToTimestamp}});Object.defineProperty(Rr,"decodeTimestampToTimeSpec",{enumerable:!0,get:function(){return $k.decodeTimestampToTimeSpec}});Object.defineProperty(Rr,"encodeTimestampExtension",{enumerable:!0,get:function(){return $k.encodeTimestampExtension}});Object.defineProperty(Rr,"decodeTimestampExtension",{enumerable:!0,get:function(){return $k.decodeTimestampExtension}})});var Yk=_(yp=>{"use strict";u();l();Object.defineProperty(yp,"__esModule",{value:!0});yp.unwrapOption=yp.someOrNone=yp.lowercaseFirstLetter=yp.capitalizeFirstLetter=yp.toWords=void 0;var Sze=Zt();function B5t(t){let e=/([a-z0-9])([A-Z])/g;return t.replace(e,"$1 $2")}yp.toWords=B5t;function M5t(t){return t.charAt(0).toUpperCase()+t.slice(1)}yp.capitalizeFirstLetter=M5t;function N5t(t){return t.charAt(0).toLowerCase()+t.slice(1)}yp.lowercaseFirstLetter=N5t;function D5t(t){return t!==void 0?(0,Sze.some)(t):(0,Sze.none)()}yp.someOrNone=D5t;function U5t(t){return t.__option==="Some"?t.value:void 0}yp.unwrapOption=U5t});var Sh=_(SS=>{"use strict";u();l();Object.defineProperty(SS,"__esModule",{value:!0});SS.comparePluginAuthorities=SS.pluginAuthorityFromBase=SS.pluginAuthorityToBase=void 0;function L5t(t){return t.type==="Address"?{__kind:"Address",address:t.address}:{__kind:t.type}}SS.pluginAuthorityToBase=L5t;function z5t(t){return{type:t.__kind,address:t.address}}SS.pluginAuthorityFromBase=z5t;function F5t(t,e){return t.type!==e.type?!1:t.address===e.address}SS.comparePluginAuthorities=F5t});var Nce=_(Zk=>{"use strict";u();l();Object.defineProperty(Zk,"__esModule",{value:!0});Zk.masterEditionFromBase=Zk.masterEditionToBase=void 0;var Xk=Yk();function q5t(t){return{maxSupply:(0,Xk.someOrNone)(t.maxSupply),name:(0,Xk.someOrNone)(t.name),uri:(0,Xk.someOrNone)(t.uri)}}Zk.masterEditionToBase=q5t;function j5t(t){return{maxSupply:(0,Xk.unwrapOption)(t.maxSupply),name:(0,Xk.unwrapOption)(t.name),uri:(0,Xk.unwrapOption)(t.uri)}}Zk.masterEditionFromBase=j5t});var SU=_(Ao=>{"use strict";u();l();Object.defineProperty(Ao,"__esModule",{value:!0});Ao.parseExternalPluginAdapterData=Ao.pluginKeyToPluginType=Ao.registryRecordsToPluginsList=Ao.mapPlugin=Ao.mapPluginFields=Ao.pluginAuthorityPairV2=Ao.createPluginV2=Ao.pluginAuthorityPair=Ao.createPlugin=Ao.formPluginHeaderV1=void 0;var Jk=Zt(),K5t=_ze(),_U=un(),W5t=Yk(),wze=Sh(),Aze=Sce(),Eze=Nce();function V5t(t){return{key:_U.Key.PluginHeaderV1,pluginRegistryOffset:t}}Ao.formPluginHeaderV1=V5t;function Ize(t){return t.type==="UpdateDelegate"?{__kind:t.type,fields:[t.data||{additionalDelegates:[]}]}:{__kind:t.type,fields:[t.data||{}]}}Ao.createPlugin=Ize;function G5t(t){let{type:e,authority:r,data:n}=t;return{plugin:Ize({type:e,data:n}),authority:r?(0,Jk.some)(r):(0,Jk.none)()}}Ao.pluginAuthorityPair=G5t;function Tze(t){let{type:e}=t;return e==="UpdateDelegate"?{__kind:e,fields:[t||{additionalDelegates:[]}]}:e==="Royalties"?{__kind:e,fields:[(0,Aze.royaltiesToBase)(t)]}:e==="MasterEdition"?{__kind:e,fields:[(0,Eze.masterEditionToBase)(t)]}:{__kind:e,fields:[t||{}]}}Ao.createPluginV2=Tze;function H5t({type:t,authority:e,...r}){return{plugin:Tze({type:t,...r}),authority:e?(0,Jk.some)((0,wze.pluginAuthorityToBase)(e)):(0,Jk.none)()}}Ao.pluginAuthorityPairV2=H5t;function kze(t){return t.reduce((e,r)=>({...e,...r}),{})}Ao.mapPluginFields=kze;function vze({plugin:t,authority:e,offset:r}){let n=(0,W5t.toWords)(t.__kind).toLowerCase().split(" ").reduce((i,o)=>i+(o.charAt(0).toUpperCase()+o.slice(1)));return t.__kind==="Royalties"?{[n]:{authority:e,offset:r,...(0,Aze.royaltiesFromBase)(t.fields[0])}}:t.__kind==="MasterEdition"?{[n]:{authority:e,offset:r,...(0,Eze.masterEditionFromBase)(t.fields[0])}}:{[n]:{authority:e,offset:r,..."fields"in t?kze(t.fields):{}}}}Ao.mapPlugin=vze;function $5t(t,e){return t.reduce((r,n)=>{let i=(0,wze.pluginAuthorityFromBase)(n.authority),o=(0,_U.getPluginSerializer)().deserialize(e,Number(n.offset))[0];return r={...r,...vze({plugin:o,authority:i,offset:n.offset})},r},{})}Ao.registryRecordsToPluginsList=$5t;function Y5t(t){return t.charAt(0).toUpperCase()+t.slice(1)}Ao.pluginKeyToPluginType=Y5t;function X5t(t,e,r){let n;if((0,Jk.isSome)(e.dataOffset)&&(0,Jk.isSome)(e.dataLen)){let i=r.slice(Number(e.dataOffset.value),Number(e.dataOffset.value)+Number(e.dataLen.value));if(t.schema===_U.ExternalPluginAdapterSchema.Binary)n=i;else if(t.schema===_U.ExternalPluginAdapterSchema.Json){if(i.length!==0)try{n=JSON.parse(new TextDecoder().decode(i))}catch(o){console.warn("Invalid JSON in external plugin data",o.message)}}else t.schema===_U.ExternalPluginAdapterSchema.MsgPack&&(i.length===0?n=null:n=(0,K5t.decode)(i));return n}throw new Error("Invalid DataStore, missing dataOffset or dataLen")}Ao.parseExternalPluginAdapterData=X5t});var Uce=_(Ky=>{"use strict";u();l();Object.defineProperty(Ky,"__esModule",{value:!0});Ky.appDataManifest=Ky.appDataFromBase=Ky.appDataUpdateInfoArgsToBase=Ky.appDataInitInfoArgsToBase=void 0;var Z5t=SU(),Dce=Sh();function xze(t){return{dataAuthority:(0,Dce.pluginAuthorityToBase)(t.dataAuthority),initPluginAuthority:t.initPluginAuthority?(0,Dce.pluginAuthorityToBase)(t.initPluginAuthority):null,schema:t.schema??null}}Ky.appDataInitInfoArgsToBase=xze;function Pze(t){return{schema:t.schema??null}}Ky.appDataUpdateInfoArgsToBase=Pze;function Oze(t,e,r){return{...t,dataAuthority:(0,Dce.pluginAuthorityFromBase)(t.dataAuthority),data:(0,Z5t.parseExternalPluginAdapterData)(t,e,r)}}Ky.appDataFromBase=Oze;Ky.appDataManifest={type:"AppData",fromBase:Oze,initToBase:xze,updateToBase:Pze}});var Qk=_(Ps=>{"use strict";u();l();Object.defineProperty(Ps,"__esModule",{value:!0});Ps.lifecycleChecksFromBase=Ps.lifecycleChecksToBase=Ps.hookableLifecycleEventToLifecycleCheckKey=Ps.lifecycleCheckKeyToEnum=Ps.checkResultsToAdapterCheckResult=Ps.adapterCheckResultToCheckResults=Ps.CheckResult=void 0;var Rze=un(),J5t=Yk(),PE;(function(t){t[t.CAN_LISTEN=0]="CAN_LISTEN",t[t.CAN_APPROVE=1]="CAN_APPROVE",t[t.CAN_REJECT=2]="CAN_REJECT"})(PE=Ps.CheckResult||(Ps.CheckResult={}));var Q5t=t=>{let e=[];return t.flags&1&&e.push(PE.CAN_LISTEN),t.flags&2&&e.push(PE.CAN_APPROVE),t.flags&4&&e.push(PE.CAN_REJECT),e};Ps.adapterCheckResultToCheckResults=Q5t;var eGt=t=>{let e=0;return t.forEach(r=>{switch(r){case PE.CAN_LISTEN:e|=1;break;case PE.CAN_APPROVE:e|=2;break;case PE.CAN_REJECT:e|=4;break;default:}}),{flags:e}};Ps.checkResultsToAdapterCheckResult=eGt;function Cze(t){return Rze.HookableLifecycleEvent[(0,J5t.capitalizeFirstLetter)(t)]}Ps.lifecycleCheckKeyToEnum=Cze;function Bze(t){return Rze.HookableLifecycleEvent[t].toLowerCase()}Ps.hookableLifecycleEventToLifecycleCheckKey=Bze;function tGt(t){return Object.keys(t).map(e=>{let r=e,n=t[r];return n?[Cze(r),(0,Ps.checkResultsToAdapterCheckResult)(n)]:null}).filter(e=>e!==null)}Ps.lifecycleChecksToBase=tGt;function rGt(t){let e={};return t.forEach(([r,n])=>{e[Bze(r)]=(0,Ps.adapterCheckResultToCheckResults)(n)}),e}Ps.lifecycleChecksFromBase=rGt});var Lce=_(ev=>{"use strict";u();l();Object.defineProperty(ev,"__esModule",{value:!0});ev.seedFromBase=ev.seedToBase=void 0;function nGt(t){return t.type==="Address"?{__kind:"Address",fields:[t.pubkey]}:t.type==="Bytes"?{__kind:"Bytes",fields:[t.bytes]}:{__kind:t.type}}ev.seedToBase=nGt;function iGt(t){return t.__kind==="Address"?{type:"Address",pubkey:t.fields[0]}:t.__kind==="Bytes"?{type:"Bytes",bytes:t.fields[0]}:{type:t.__kind}}ev.seedFromBase=iGt});var tv=_(gs=>{"use strict";u();l();Object.defineProperty(gs,"__esModule",{value:!0});gs.getExtraAccountRequiredInputs=gs.extraAccountFromBase=gs.extraAccountToBase=gs.extraAccountToAccountMeta=gs.findPreconfiguredPda=gs.PRECONFIGURED_SEED=void 0;var wS=Ue(),Mze=Lce(),Nze=Yk();gs.PRECONFIGURED_SEED="mpl-core";var oGt=(t,e,r)=>t.eddsa.findPda(e,[(0,wS.string)({size:"variable"}).serialize(gs.PRECONFIGURED_SEED),(0,wS.publicKey)().serialize(r)]);gs.findPreconfiguredPda=oGt;function sGt(t,e,r){let n={isSigner:e.isSigner||!1,isWritable:e.isWritable||!1},i=Dze(e),o=[];if(i.forEach(s=>{r[s]||o.push(s)}),o.length)throw new Error(`Missing required inputs to derive account address: ${o.join(", ")}`);switch(e.type){case"PreconfiguredProgram":return{...n,pubkey:t.eddsa.findPda(r.program,[(0,wS.string)({size:"variable"}).serialize(gs.PRECONFIGURED_SEED)])[0]};case"PreconfiguredCollection":return{...n,pubkey:(0,gs.findPreconfiguredPda)(t,r.program,r.collection)[0]};case"PreconfiguredOwner":return{...n,pubkey:(0,gs.findPreconfiguredPda)(t,r.program,r.owner)[0]};case"PreconfiguredRecipient":return{...n,pubkey:(0,gs.findPreconfiguredPda)(t,r.program,r.recipient)[0]};case"PreconfiguredAsset":return{...n,pubkey:(0,gs.findPreconfiguredPda)(t,r.program,r.asset)[0]};case"CustomPda":return{pubkey:t.eddsa.findPda(e.customProgramId?e.customProgramId:r.program,e.seeds.map(s=>{switch(s.type){case"Collection":return(0,wS.publicKey)().serialize(r.collection);case"Owner":return(0,wS.publicKey)().serialize(r.owner);case"Recipient":return(0,wS.publicKey)().serialize(r.recipient);case"Asset":return(0,wS.publicKey)().serialize(r.asset);case"Address":return(0,wS.publicKey)().serialize(s.pubkey);case"Bytes":return s.bytes;default:throw new Error("Unknown seed type")}}))[0],...n};case"Address":return{...n,pubkey:e.address};default:throw new Error("Unknown extra account type")}}gs.extraAccountToAccountMeta=sGt;function aGt(t){let e={isSigner:t.isSigner||!1,isWritable:t.isWritable||!1};return t.type==="CustomPda"?{__kind:"CustomPda",...e,seeds:t.seeds.map(Mze.seedToBase),customProgramId:(0,Nze.someOrNone)(t.customProgramId)}:t.type==="Address"?{__kind:"Address",...e,address:t.address}:{__kind:t.type,...e}}gs.extraAccountToBase=aGt;function cGt(t){return t.__kind==="CustomPda"?{type:"CustomPda",isSigner:t.isSigner,isWritable:t.isWritable,seeds:t.seeds.map(Mze.seedFromBase),customProgramId:(0,Nze.unwrapOption)(t.customProgramId)}:t.__kind==="Address"?{type:"Address",isSigner:t.isSigner,isWritable:t.isWritable,address:t.address}:{type:t.__kind,isSigner:t.isSigner,isWritable:t.isWritable}}gs.extraAccountFromBase=cGt;var uGt={PreconfiguredOwner:"owner",PreconfiguredRecipient:"recipient",PreconfiguredAsset:"asset",PreconfiguredCollection:"collection",PreconfiguredProgram:"program"};function Dze(t){let e=uGt[t.type];return e?[e]:t.type==="CustomPda"?t.seeds.map(r=>{switch(r.type){case"Collection":return"collection";case"Owner":return"owner";case"Recipient":return"recipient";case"Asset":return"asset";default:return null}}).filter(r=>r):[]}gs.getExtraAccountRequiredInputs=Dze});var qze=_(Wy=>{"use strict";u();l();Object.defineProperty(Wy,"__esModule",{value:!0});Wy.lifecycleHookManifest=Wy.lifecycleHookFromBase=Wy.lifecycleHookUpdateInfoArgsToBase=Wy.lifecycleHookInitInfoArgsToBase=void 0;var Fce=tv(),Uze=Qk(),zce=Sh(),lGt=SU();function Lze(t){return{extraAccounts:t.extraAccounts?t.extraAccounts.map(Fce.extraAccountToBase):null,hookedProgram:t.hookedProgram,initPluginAuthority:t.initPluginAuthority?(0,zce.pluginAuthorityToBase)(t.initPluginAuthority):null,lifecycleChecks:(0,Uze.lifecycleChecksToBase)(t.lifecycleChecks),schema:t.schema??null,dataAuthority:t.dataAuthority?(0,zce.pluginAuthorityToBase)(t.dataAuthority):null}}Wy.lifecycleHookInitInfoArgsToBase=Lze;function zze(t){return{lifecycleChecks:t.lifecycleChecks?(0,Uze.lifecycleChecksToBase)(t.lifecycleChecks):null,extraAccounts:t.extraAccounts?t.extraAccounts.map(Fce.extraAccountToBase):null,schema:t.schema??null}}Wy.lifecycleHookUpdateInfoArgsToBase=zze;function Fze(t,e,r){return{...t,extraAccounts:t.extraAccounts.__option==="Some"?t.extraAccounts.value.map(Fce.extraAccountFromBase):void 0,data:(0,lGt.parseExternalPluginAdapterData)(t,e,r),dataAuthority:t.dataAuthority.__option==="Some"?(0,zce.pluginAuthorityFromBase)(t.dataAuthority.value):void 0}}Wy.lifecycleHookFromBase=Fze;Wy.lifecycleHookManifest={type:"LifecycleHook",fromBase:Fze,initToBase:Lze,updateToBase:zze}});var qce=_(rv=>{"use strict";u();l();Object.defineProperty(rv,"__esModule",{value:!0});rv.validationResultsOffsetFromBase=rv.validationResultsOffsetToBase=void 0;function dGt(t){return t.type==="Custom"?{__kind:"Custom",fields:[t.offset]}:{__kind:t.type}}rv.validationResultsOffsetToBase=dGt;function fGt(t){return t.__kind==="Custom"?{type:"Custom",offset:t.fields[0]}:{type:t.__kind}}rv.validationResultsOffsetFromBase=fGt});var Kce=_(rd=>{"use strict";u();l();Object.defineProperty(rd,"__esModule",{value:!0});rd.oracleManifest=rd.deserializeOracleValidation=rd.findOracleAccount=rd.oracleFromBase=rd.oracleUpdateInfoArgsToBase=rd.oracleInitInfoArgsToBase=void 0;var yV=tv(),pGt=un(),jze=Qk(),hGt=Sh(),jce=qce();function Kze(t){return{baseAddress:t.baseAddress,baseAddressConfig:t.baseAddressConfig?(0,yV.extraAccountToBase)(t.baseAddressConfig):null,lifecycleChecks:(0,jze.lifecycleChecksToBase)(t.lifecycleChecks),initPluginAuthority:t.initPluginAuthority?(0,hGt.pluginAuthorityToBase)(t.initPluginAuthority):null,resultsOffset:t.resultsOffset?(0,jce.validationResultsOffsetToBase)(t.resultsOffset):null}}rd.oracleInitInfoArgsToBase=Kze;function Wze(t){return{baseAddressConfig:t.baseAddressConfig?(0,yV.extraAccountToBase)(t.baseAddressConfig):null,lifecycleChecks:t.lifecycleChecks?(0,jze.lifecycleChecksToBase)(t.lifecycleChecks):null,resultsOffset:t.resultsOffset?(0,jce.validationResultsOffsetToBase)(t.resultsOffset):null}}rd.oracleUpdateInfoArgsToBase=Wze;function Vze(t,e,r){return{...t,baseAddressConfig:t.baseAddressConfig.__option==="Some"?(0,yV.extraAccountFromBase)(t.baseAddressConfig.value):void 0,resultsOffset:(0,jce.validationResultsOffsetFromBase)(t.resultsOffset)}}rd.oracleFromBase=Vze;function mGt(t,e,r){return e.baseAddressConfig?(0,yV.extraAccountToAccountMeta)(t,e.baseAddressConfig,{...r,program:e.baseAddress}).pubkey:e.baseAddress}rd.findOracleAccount=mGt;function yGt(t,e){let r=0;return e.type==="Custom"?r=Number(e.offset):e.type==="Anchor"&&(r=8),(0,pGt.getOracleValidationSerializer)().deserialize(t,r)[0]}rd.deserializeOracleValidation=yGt;rd.oracleManifest={type:"Oracle",fromBase:Vze,initToBase:Kze,updateToBase:Wze}});var gV=_(nv=>{"use strict";u();l();Object.defineProperty(nv,"__esModule",{value:!0});nv.linkedDataKeyFromBase=nv.linkedDataKeyToBase=void 0;var Gze=Sh();function gGt(t){switch(t.type){case"LinkedLifecycleHook":return{__kind:t.type,fields:[t.hookedProgram]};case"LinkedAppData":return{__kind:t.type,fields:[(0,Gze.pluginAuthorityToBase)(t.dataAuthority)]};default:throw new Error("Unknown LinkedDataKey type")}}nv.linkedDataKeyToBase=gGt;function bGt(t){switch(t.__kind){case"LinkedLifecycleHook":return{type:t.__kind,hookedProgram:t.fields[0]};case"LinkedAppData":return{type:t.__kind,dataAuthority:(0,Gze.pluginAuthorityFromBase)(t.fields[0])};default:throw new Error("Unknown LinkedDataKey type")}}nv.linkedDataKeyFromBase=bGt});var Wce=_(bV=>{"use strict";u();l();Object.defineProperty(bV,"__esModule",{value:!0});bV.externalPluginAdapterKeyToBase=void 0;var _Gt=Sh(),SGt=gV();function wGt(t){switch(t.type){case"Oracle":return{__kind:t.type,fields:[t.baseAddress]};case"AppData":case"LinkedAppData":return{__kind:t.type,fields:[(0,_Gt.pluginAuthorityToBase)(t.dataAuthority)]};case"LifecycleHook":return{__kind:t.type,fields:[t.hookedProgram]};case"DataSection":return{__kind:t.type,fields:[(0,SGt.linkedDataKeyToBase)(t.parentKey)]};default:throw new Error("Unknown ExternalPluginAdapterKey type")}}bV.externalPluginAdapterKeyToBase=wGt});var $ze=_(Hze=>{"use strict";u();l();Object.defineProperty(Hze,"__esModule",{value:!0})});var Yze=_(AS=>{"use strict";u();l();Object.defineProperty(AS,"__esModule",{value:!0});AS.ruleSet=AS.updateAuthority=AS.pluginAuthority=void 0;var Vce=un();Object.defineProperty(AS,"pluginAuthority",{enumerable:!0,get:function(){return Vce.basePluginAuthority}});Object.defineProperty(AS,"updateAuthority",{enumerable:!0,get:function(){return Vce.baseUpdateAuthority}});Object.defineProperty(AS,"ruleSet",{enumerable:!0,get:function(){return Vce.baseRuleSet}})});var Hce=_(Vy=>{"use strict";u();l();Object.defineProperty(Vy,"__esModule",{value:!0});Vy.linkedAppDataManifest=Vy.linkedAppDataFromBase=Vy.linkedAppDataUpdateInfoArgsToBase=Vy.linkedAppDataInitInfoArgsToBase=void 0;var Gce=Sh();function Xze(t){return{dataAuthority:(0,Gce.pluginAuthorityToBase)(t.dataAuthority),initPluginAuthority:t.initPluginAuthority?(0,Gce.pluginAuthorityToBase)(t.initPluginAuthority):null,schema:t.schema??null}}Vy.linkedAppDataInitInfoArgsToBase=Xze;function Zze(t){return{schema:t.schema??null}}Vy.linkedAppDataUpdateInfoArgsToBase=Zze;function Jze(t,e,r){return{...t,dataAuthority:(0,Gce.pluginAuthorityFromBase)(t.dataAuthority)}}Vy.linkedAppDataFromBase=Jze;Vy.linkedAppDataManifest={type:"LinkedAppData",fromBase:Jze,initToBase:Xze,updateToBase:Zze}});var $ce=_(Gy=>{"use strict";u();l();Object.defineProperty(Gy,"__esModule",{value:!0});Gy.dataSectionManifest=Gy.dataSectionFromBase=Gy.dataSectionUpdateInfoArgsToBase=Gy.dataSectionInitInfoArgsToBase=void 0;var AGt=SU(),Qze=gV(),EGt=Sh();function e8e(t){return{parentKey:(0,Qze.linkedDataKeyToBase)(t.parentKey),schema:t.schema}}Gy.dataSectionInitInfoArgsToBase=e8e;function t8e(t){return{}}Gy.dataSectionUpdateInfoArgsToBase=t8e;function r8e(t,e,r){return{...t,parentKey:(0,Qze.linkedDataKeyFromBase)(t.parentKey),dataAuthority:t.parentKey.__kind!=="LinkedLifecycleHook"?(0,EGt.pluginAuthorityFromBase)(t.parentKey.fields[0]):void 0,data:(0,AGt.parseExternalPluginAdapterData)(t,e,r)}}Gy.dataSectionFromBase=r8e;Gy.dataSectionManifest={type:"DataSection",fromBase:r8e,initToBase:e8e,updateToBase:t8e}});var Zce=_(Hy=>{"use strict";u();l();Object.defineProperty(Hy,"__esModule",{value:!0});Hy.linkedLifecycleHookManifest=Hy.linkedLifecycleHookFromBase=Hy.linkedLifecycleHookUpdateInfoArgsToBase=Hy.linkedLifecycleHookInitInfoArgsToBase=void 0;var Xce=tv(),n8e=Qk(),Yce=Sh();function i8e(t){return{extraAccounts:t.extraAccounts?t.extraAccounts.map(Xce.extraAccountToBase):null,hookedProgram:t.hookedProgram,initPluginAuthority:t.initPluginAuthority?(0,Yce.pluginAuthorityToBase)(t.initPluginAuthority):null,lifecycleChecks:(0,n8e.lifecycleChecksToBase)(t.lifecycleChecks),schema:t.schema?t.schema:null,dataAuthority:t.dataAuthority?(0,Yce.pluginAuthorityToBase)(t.dataAuthority):null}}Hy.linkedLifecycleHookInitInfoArgsToBase=i8e;function o8e(t){return{lifecycleChecks:t.lifecycleChecks?(0,n8e.lifecycleChecksToBase)(t.lifecycleChecks):null,extraAccounts:t.extraAccounts?t.extraAccounts.map(Xce.extraAccountToBase):null,schema:t.schema??null}}Hy.linkedLifecycleHookUpdateInfoArgsToBase=o8e;function s8e(t,e,r){return{...t,extraAccounts:t.extraAccounts.__option==="Some"?t.extraAccounts.value.map(Xce.extraAccountFromBase):void 0,dataAuthority:t.dataAuthority.__option==="Some"?(0,Yce.pluginAuthorityFromBase)(t.dataAuthority.value):void 0}}Hy.linkedLifecycleHookFromBase=s8e;Hy.linkedLifecycleHookManifest={type:"LinkedLifecycleHook",fromBase:s8e,initToBase:i8e,updateToBase:o8e}});var OE=_(vu=>{"use strict";u();l();Object.defineProperty(vu,"__esModule",{value:!0});vu.findExtraAccounts=vu.createExternalPluginAdapterUpdateInfo=vu.createExternalPluginAdapterInitInfo=vu.isExternalPluginAdapterType=vu.externalRegistryRecordsToExternalPluginAdapterList=vu.externalPluginAdapterManifests=void 0;var Qce=Mi(),IGt=un(),a8e=Uce(),TGt=Qk(),c8e=Kce(),Jce=tv(),u8e=Hce(),l8e=$ce(),d8e=Zce();vu.externalPluginAdapterManifests={LifecycleHook:Qce.lifecycleHookManifest,Oracle:c8e.oracleManifest,AppData:a8e.appDataManifest,LinkedLifecycleHook:d8e.linkedLifecycleHookManifest,LinkedAppData:u8e.linkedAppDataManifest,DataSection:l8e.dataSectionManifest};function kGt(t,e){let r={};return t.forEach(n=>{let i=(0,IGt.getExternalPluginAdapterSerializer)().deserialize(e,Number(n.offset))[0],o={lifecycleChecks:n.lifecycleChecks.__option==="Some"?(0,TGt.lifecycleChecksFromBase)(n.lifecycleChecks.value):void 0,authority:(0,Qce.pluginAuthorityFromBase)(n.authority),offset:n.offset};i.__kind==="LifecycleHook"?(r.lifecycleHooks||(r.lifecycleHooks=[]),r.lifecycleHooks.push({type:"LifecycleHook",...o,...(0,Qce.lifecycleHookFromBase)(i.fields[0],n,e)})):i.__kind==="AppData"?(r.appDatas||(r.appDatas=[]),r.appDatas.push({type:"AppData",...o,...(0,a8e.appDataFromBase)(i.fields[0],n,e)})):i.__kind==="Oracle"?(r.oracles||(r.oracles=[]),r.oracles.push({type:"Oracle",...o,...(0,c8e.oracleFromBase)(i.fields[0],n,e)})):i.__kind==="LinkedLifecycleHook"?(r.linkedLifecycleHooks||(r.linkedLifecycleHooks=[]),r.linkedLifecycleHooks.push({type:"LinkedLifecycleHook",...o,...(0,d8e.linkedLifecycleHookFromBase)(i.fields[0],n,e)})):i.__kind==="LinkedAppData"?(r.linkedAppDatas||(r.linkedAppDatas=[]),r.linkedAppDatas.push({type:"LinkedAppData",...o,...(0,u8e.linkedAppDataFromBase)(i.fields[0],n,e)})):i.__kind==="DataSection"&&(r.dataSections||(r.dataSections=[]),r.dataSections.push({type:"DataSection",...o,...(0,l8e.dataSectionFromBase)(i.fields[0],n,e)}))}),r}vu.externalRegistryRecordsToExternalPluginAdapterList=kGt;var vGt=t=>t.type==="LifecycleHook"||t.type==="Oracle"||t.type==="AppData"||t.type==="LinkedLifecycleHook"||t.type==="DataSection"||t.type==="LinkedAppData";vu.isExternalPluginAdapterType=vGt;function xGt({type:t,...e}){let r=vu.externalPluginAdapterManifests[t];return{__kind:t,fields:[r.initToBase(e)]}}vu.createExternalPluginAdapterInitInfo=xGt;function PGt({type:t,...e}){let r=vu.externalPluginAdapterManifests[t];return{__kind:t,fields:[r.updateToBase(e)]}}vu.createExternalPluginAdapterUpdateInfo=PGt;var OGt=(t,e,r,n)=>{let i=[];return r.oracles?.forEach(o=>{o.lifecycleChecks?.[e]&&(o.baseAddressConfig?i.push((0,Jce.extraAccountToAccountMeta)(t,o.baseAddressConfig,{...n,program:o.baseAddress})):i.push({pubkey:o.baseAddress,isSigner:!1,isWritable:!1}))}),r.lifecycleHooks?.forEach(o=>{o.lifecycleChecks?.[e]&&(i.push({pubkey:o.hookedProgram,isSigner:!1,isWritable:!1}),o.extraAccounts?.forEach(s=>{i.push((0,Jce.extraAccountToAccountMeta)(t,s,{...n,program:o.hookedProgram}))}))}),r.linkedLifecycleHooks?.forEach(o=>{o.lifecycleChecks?.[e]&&(i.push({pubkey:o.hookedProgram,isSigner:!1,isWritable:!1}),o.extraAccounts?.forEach(s=>{i.push((0,Jce.extraAccountToAccountMeta)(t,s,{...n,program:o.hookedProgram}))}))}),i};vu.findExtraAccounts=OGt});var f8e=_(_V=>{"use strict";u();l();Object.defineProperty(_V,"__esModule",{value:!0});_V.updateAuthorityToBase=void 0;function RGt(t){return t.type==="None"?{__kind:"None"}:{__kind:t.type,fields:[t.address]}}_V.updateAuthorityToBase=RGt});var Mi=_(Ni=>{"use strict";u();l();var CGt=Ni&&Ni.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bs=Ni&&Ni.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&CGt(e,t,r)};Object.defineProperty(Ni,"__esModule",{value:!0});bs(Sce(),Ni);bs(SU(),Ni);bs(Uce(),Ni);bs(Qk(),Ni);bs(qze(),Ni);bs(Kce(),Ni);bs(Wce(),Ni);bs($ze(),Ni);bs(Sh(),Ni);bs(Yze(),Ni);bs(OE(),Ni);bs(f8e(),Ni);bs(Lce(),Ni);bs(tv(),Ni);bs(qce(),Ni);bs(Zce(),Ni);bs(Hce(),Ni);bs($ce(),Ni);bs(gV(),Ni);bs(Nce(),Ni)});var SV=_(ES=>{"use strict";u();l();Object.defineProperty(ES,"__esModule",{value:!0});ES.getPluginRegistryV1AccountDataSerializer=ES.getAdapterRegistryRecordSerializer=ES.getRegistryRecordSerializer=void 0;var wh=Ue(),$y=un();function p8e(){return{description:"RegistryRecordWithUnknown",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(t,e=0)=>{let[r,n,i]=[$y.PluginType.Attributes,e+1,!0];try{[r,n]=(0,$y.getPluginTypeSerializer)().deserialize(t,e),i=!1}catch{}let[o,s]=(0,$y.getBasePluginAuthoritySerializer)().deserialize(t,n),[a,c]=(0,wh.u64)().deserialize(t,s);return[{pluginType:r,authority:o,offset:a,isUnknown:i},c]}}}ES.getRegistryRecordSerializer=p8e;function h8e(){return{description:"AdapterRegistryRecordWithUnknown",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(t,e=0)=>{let[r,n,i]=[$y.ExternalPluginAdapterType.AppData,e+1,!0];try{[r,n]=(0,$y.getExternalPluginAdapterTypeSerializer)().deserialize(t,e),i=!1}catch{}let[o,s]=(0,$y.getBasePluginAuthoritySerializer)().deserialize(t,n),[a,c]=(0,wh.option)((0,wh.array)((0,wh.tuple)([(0,$y.getHookableLifecycleEventSerializer)(),(0,$y.getExternalCheckResultSerializer)()]))).deserialize(t,s),[d,f]=(0,wh.u64)().deserialize(t,c),[p,m]=(0,wh.option)((0,wh.u64)()).deserialize(t,f),[y,g]=(0,wh.option)((0,wh.u64)()).deserialize(t,m);return[{pluginType:r,authority:o,lifecycleChecks:a,offset:d,isUnknown:i,dataOffset:p,dataLen:y},g]}}}ES.getAdapterRegistryRecordSerializer=h8e;function BGt(){return{description:"PluginRegistryV1AccountData",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(t,e=0)=>{let[r,n]=(0,$y.getKeySerializer)().deserialize(t,e);if(r!==$y.Key.PluginRegistryV1)throw new Error(`Expected a PluginRegistryV1 account, got key: ${r}`);let[i,o]=(0,wh.array)(p8e()).deserialize(t,n),[s,a]=(0,wh.array)(h8e()).deserialize(t,o);return[{key:r,registry:i.filter(c=>!c.isUnknown),externalRegistry:s.filter(c=>!c.isUnknown)},a]}}}ES.getPluginRegistryV1AccountDataSerializer=BGt});var y8e=_(wV=>{"use strict";u();l();Object.defineProperty(wV,"__esModule",{value:!0});wV.getAssetV1AccountDataSerializer=void 0;var m8e=un(),MGt=VLe(),NGt=Mi(),DGt=SV(),UGt=OE(),LGt=()=>({description:"AssetAccountData",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(t,e=0)=>{let[r,n]=(0,MGt.getAssetV1AccountDataSerializer)().deserialize(t,e);if(r.key!==m8e.Key.AssetV1)throw new Error(`Expected an Asset account, got key: ${r.key}`);let i,o,s,a,c=n;t.length!==n&&([i]=(0,m8e.getPluginHeaderV1AccountDataSerializer)().deserialize(t,n),[o,c]=(0,DGt.getPluginRegistryV1AccountDataSerializer)().deserialize(t,Number(i.pluginRegistryOffset)),s=(0,NGt.registryRecordsToPluginsList)(o.registry,t),a=(0,UGt.externalRegistryRecordsToExternalPluginAdapterList)(o.externalRegistry,t));let d={type:r.updateAuthority.__kind,address:r.updateAuthority.__kind==="None"?void 0:r.updateAuthority.fields[0]};return[{pluginHeader:i,...s,...a,...r,updateAuthority:d},c]}});wV.getAssetV1AccountDataSerializer=LGt});var g8e=_(AV=>{"use strict";u();l();Object.defineProperty(AV,"__esModule",{value:!0});AV.getCollectionV1AccountDataSerializer=void 0;var iv=Ue(),zGt=lt();function FGt(){return(0,iv.struct)([["key",(0,zGt.getKeySerializer)()],["updateAuthority",(0,iv.publicKey)()],["name",(0,iv.string)()],["uri",(0,iv.string)()],["numMinted",(0,iv.u32)()],["currentSize",(0,iv.u32)()]],{description:"CollectionV1AccountData"})}AV.getCollectionV1AccountDataSerializer=FGt});var S8e=_(EV=>{"use strict";u();l();Object.defineProperty(EV,"__esModule",{value:!0});EV.getCollectionV1AccountDataSerializer=void 0;var b8e=un(),qGt=g8e(),_8e=Mi(),jGt=SV(),KGt=()=>({description:"CollectionAccountData",fixedSize:null,maxSize:null,serialize:()=>{throw new Error("Operation not supported.")},deserialize:(t,e=0)=>{let[r,n]=(0,qGt.getCollectionV1AccountDataSerializer)().deserialize(t,e);if(r.key!==b8e.Key.CollectionV1)throw new Error(`Expected an Collection account, got key: ${r.key}`);let i,o,s,a,c=n;return t.length!==n&&([i]=(0,b8e.getPluginHeaderV1AccountDataSerializer)().deserialize(t,n),[o,c]=(0,jGt.getPluginRegistryV1AccountDataSerializer)().deserialize(t,Number(i.pluginRegistryOffset)),s=(0,_8e.registryRecordsToPluginsList)(o.registry,t),a=(0,_8e.externalRegistryRecordsToExternalPluginAdapterList)(o.externalRegistry,t)),[{pluginHeader:i,...s,...a,...r},c]}});EV.getCollectionV1AccountDataSerializer=KGt});var IV=_(vb=>{"use strict";u();l();var WGt=vb&&vb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eue=vb&&vb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&WGt(e,t,r)};Object.defineProperty(vb,"__esModule",{value:!0});eue(y8e(),vb);eue(S8e(),vb);eue(SV(),vb)});var A8e=_(nd=>{"use strict";u();l();Object.defineProperty(nd,"__esModule",{value:!0});nd.getAssetV1GpaBuilder=nd.safeFetchAllAssetV1=nd.fetchAllAssetV1=nd.safeFetchAssetV1=nd.fetchAssetV1=nd.deserializeAssetV1=void 0;var IS=Zt(),wU=Ue(),VGt=IV(),w8e=lt();function ov(t){return(0,IS.deserializeAccount)(t,(0,VGt.getAssetV1AccountDataSerializer)())}nd.deserializeAssetV1=ov;async function GGt(t,e,r){let n=await t.rpc.getAccount((0,IS.publicKey)(e,!1),r);return(0,IS.assertAccountExists)(n,"AssetV1"),ov(n)}nd.fetchAssetV1=GGt;async function HGt(t,e,r){let n=await t.rpc.getAccount((0,IS.publicKey)(e,!1),r);return n.exists?ov(n):null}nd.safeFetchAssetV1=HGt;async function $Gt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,IS.publicKey)(i,!1)),r)).map(i=>((0,IS.assertAccountExists)(i,"AssetV1"),ov(i)))}nd.fetchAllAssetV1=$Gt;async function YGt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,IS.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>ov(i))}nd.safeFetchAllAssetV1=YGt;function XGt(t){let e=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,IS.gpaBuilder)(t,e).registerFields({key:[0,(0,w8e.getKeySerializer)()],owner:[1,(0,wU.publicKey)()],updateAuthority:[33,(0,w8e.getBaseUpdateAuthoritySerializer)()],name:[null,(0,wU.string)()],uri:[null,(0,wU.string)()],seq:[null,(0,wU.option)((0,wU.u64)())]}).deserializeUsing(r=>ov(r))}nd.getAssetV1GpaBuilder=XGt});var E8e=_(id=>{"use strict";u();l();Object.defineProperty(id,"__esModule",{value:!0});id.getCollectionV1GpaBuilder=id.safeFetchAllCollectionV1=id.fetchAllCollectionV1=id.safeFetchCollectionV1=id.fetchCollectionV1=id.deserializeCollectionV1=void 0;var TS=Zt(),AU=Ue(),ZGt=IV(),JGt=lt();function sv(t){return(0,TS.deserializeAccount)(t,(0,ZGt.getCollectionV1AccountDataSerializer)())}id.deserializeCollectionV1=sv;async function QGt(t,e,r){let n=await t.rpc.getAccount((0,TS.publicKey)(e,!1),r);return(0,TS.assertAccountExists)(n,"CollectionV1"),sv(n)}id.fetchCollectionV1=QGt;async function eHt(t,e,r){let n=await t.rpc.getAccount((0,TS.publicKey)(e,!1),r);return n.exists?sv(n):null}id.safeFetchCollectionV1=eHt;async function tHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,TS.publicKey)(i,!1)),r)).map(i=>((0,TS.assertAccountExists)(i,"CollectionV1"),sv(i)))}id.fetchAllCollectionV1=tHt;async function rHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,TS.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>sv(i))}id.safeFetchAllCollectionV1=rHt;function nHt(t){let e=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,TS.gpaBuilder)(t,e).registerFields({key:[0,(0,JGt.getKeySerializer)()],updateAuthority:[1,(0,AU.publicKey)()],name:[33,(0,AU.string)()],uri:[null,(0,AU.string)()],numMinted:[null,(0,AU.u32)()],currentSize:[null,(0,AU.u32)()]}).deserializeUsing(r=>sv(r))}id.getCollectionV1GpaBuilder=nHt});var k8e=_(Qs=>{"use strict";u();l();Object.defineProperty(Qs,"__esModule",{value:!0});Qs.getHashedAssetV1Size=Qs.getHashedAssetV1GpaBuilder=Qs.safeFetchAllHashedAssetV1=Qs.fetchAllHashedAssetV1=Qs.safeFetchHashedAssetV1=Qs.fetchHashedAssetV1=Qs.deserializeHashedAssetV1=Qs.getHashedAssetV1AccountDataSerializer=void 0;var kS=Zt(),tue=Ue(),I8e=lt();function T8e(){return(0,tue.struct)([["key",(0,I8e.getKeySerializer)()],["hash",(0,tue.bytes)({size:32})]],{description:"HashedAssetV1AccountData"})}Qs.getHashedAssetV1AccountDataSerializer=T8e;function av(t){return(0,kS.deserializeAccount)(t,T8e())}Qs.deserializeHashedAssetV1=av;async function iHt(t,e,r){let n=await t.rpc.getAccount((0,kS.publicKey)(e,!1),r);return(0,kS.assertAccountExists)(n,"HashedAssetV1"),av(n)}Qs.fetchHashedAssetV1=iHt;async function oHt(t,e,r){let n=await t.rpc.getAccount((0,kS.publicKey)(e,!1),r);return n.exists?av(n):null}Qs.safeFetchHashedAssetV1=oHt;async function sHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,kS.publicKey)(i,!1)),r)).map(i=>((0,kS.assertAccountExists)(i,"HashedAssetV1"),av(i)))}Qs.fetchAllHashedAssetV1=sHt;async function aHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,kS.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>av(i))}Qs.safeFetchAllHashedAssetV1=aHt;function cHt(t){let e=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,kS.gpaBuilder)(t,e).registerFields({key:[0,(0,I8e.getKeySerializer)()],hash:[1,(0,tue.bytes)({size:32})]}).deserializeUsing(r=>av(r))}Qs.getHashedAssetV1GpaBuilder=cHt;function uHt(){return 33}Qs.getHashedAssetV1Size=uHt});var P8e=_(ea=>{"use strict";u();l();Object.defineProperty(ea,"__esModule",{value:!0});ea.getPluginHeaderV1Size=ea.getPluginHeaderV1GpaBuilder=ea.safeFetchAllPluginHeaderV1=ea.fetchAllPluginHeaderV1=ea.safeFetchPluginHeaderV1=ea.fetchPluginHeaderV1=ea.deserializePluginHeaderV1=ea.getPluginHeaderV1AccountDataSerializer=void 0;var vS=Zt(),rue=Ue(),v8e=lt();function x8e(){return(0,rue.struct)([["key",(0,v8e.getKeySerializer)()],["pluginRegistryOffset",(0,rue.u64)()]],{description:"PluginHeaderV1AccountData"})}ea.getPluginHeaderV1AccountDataSerializer=x8e;function cv(t){return(0,vS.deserializeAccount)(t,x8e())}ea.deserializePluginHeaderV1=cv;async function lHt(t,e,r){let n=await t.rpc.getAccount((0,vS.publicKey)(e,!1),r);return(0,vS.assertAccountExists)(n,"PluginHeaderV1"),cv(n)}ea.fetchPluginHeaderV1=lHt;async function dHt(t,e,r){let n=await t.rpc.getAccount((0,vS.publicKey)(e,!1),r);return n.exists?cv(n):null}ea.safeFetchPluginHeaderV1=dHt;async function fHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,vS.publicKey)(i,!1)),r)).map(i=>((0,vS.assertAccountExists)(i,"PluginHeaderV1"),cv(i)))}ea.fetchAllPluginHeaderV1=fHt;async function pHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,vS.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>cv(i))}ea.safeFetchAllPluginHeaderV1=pHt;function hHt(t){let e=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,vS.gpaBuilder)(t,e).registerFields({key:[0,(0,v8e.getKeySerializer)()],pluginRegistryOffset:[1,(0,rue.u64)()]}).deserializeUsing(r=>cv(r))}ea.getPluginHeaderV1GpaBuilder=hHt;function mHt(){return 9}ea.getPluginHeaderV1Size=mHt});var R8e=_(od=>{"use strict";u();l();Object.defineProperty(od,"__esModule",{value:!0});od.getPluginRegistryV1GpaBuilder=od.safeFetchAllPluginRegistryV1=od.fetchAllPluginRegistryV1=od.safeFetchPluginRegistryV1=od.fetchPluginRegistryV1=od.deserializePluginRegistryV1=void 0;var xS=Zt(),O8e=Ue(),yHt=IV(),nue=lt();function uv(t){return(0,xS.deserializeAccount)(t,(0,yHt.getPluginRegistryV1AccountDataSerializer)())}od.deserializePluginRegistryV1=uv;async function gHt(t,e,r){let n=await t.rpc.getAccount((0,xS.publicKey)(e,!1),r);return(0,xS.assertAccountExists)(n,"PluginRegistryV1"),uv(n)}od.fetchPluginRegistryV1=gHt;async function bHt(t,e,r){let n=await t.rpc.getAccount((0,xS.publicKey)(e,!1),r);return n.exists?uv(n):null}od.safeFetchPluginRegistryV1=bHt;async function _Ht(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,xS.publicKey)(i,!1)),r)).map(i=>((0,xS.assertAccountExists)(i,"PluginRegistryV1"),uv(i)))}od.fetchAllPluginRegistryV1=_Ht;async function SHt(t,e,r){return(await t.rpc.getAccounts(e.map(i=>(0,xS.publicKey)(i,!1)),r)).filter(i=>i.exists).map(i=>uv(i))}od.safeFetchAllPluginRegistryV1=SHt;function wHt(t){let e=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d");return(0,xS.gpaBuilder)(t,e).registerFields({key:[0,(0,nue.getKeySerializer)()],registry:[1,(0,O8e.array)((0,nue.getRegistryRecordSerializer)())],externalRegistry:[null,(0,O8e.array)((0,nue.getExternalRegistryRecordSerializer)())]}).deserializeUsing(r=>uv(r))}od.getPluginRegistryV1GpaBuilder=wHt});var C8e=_(Ah=>{"use strict";u();l();var AHt=Ah&&Ah.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),EU=Ah&&Ah.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&AHt(e,t,r)};Object.defineProperty(Ah,"__esModule",{value:!0});EU(A8e(),Ah);EU(E8e(),Ah);EU(k8e(),Ah);EU(P8e(),Ah);EU(R8e(),Ah)});var B8e=_(Le=>{"use strict";u();l();Object.defineProperty(Le,"__esModule",{value:!0});Le.getMplCoreErrorFromName=Le.getMplCoreErrorFromCode=Le.CannotAddDataSectionError=Le.InvalidPluginAdapterTargetError=Le.NoDataSourcesError=Le.UnsupportedOperationError=Le.TwoDataSourcesError=Le.CollectionMustBeEmptyError=Le.InvalidPluginOperationError=Le.MissingSignerError=Le.UninitializedOracleAccountError=Le.InvalidOracleAccountDataError=Le.DuplicateLifecycleChecksError=Le.RequiresLifecycleCheckError=Le.OracleCanRejectOnlyError=Le.MissingExternalPluginAdapterAccountError=Le.MissingAssetError=Le.ExternalPluginAdapterAlreadyExistsError=Le.ExternalPluginAdapterNotFoundError=Le.InvalidLogWrapperProgramError=Le.ConflictingAuthorityError=Le.InvalidPluginSettingError=Le.CannotRedelegateError=Le.NoApprovalsError=Le.MissingCollectionError=Le.InvalidAssetError=Le.NotAvailableError=Le.MissingSystemProgramError=Le.MissingNewOwnerError=Le.MissingUpdateAuthorityError=Le.InvalidCollectionError=Le.AlreadyDecompressedError=Le.AlreadyCompressedError=Le.NumericalOverflowErrorError=Le.PluginAlreadyExistsError=Le.CannotBurnCollectionError=Le.CannotMigratePrintsError=Le.CannotMigrateMasterWithSupplyError=Le.MissingCompressionProofError=Le.AssetIsFrozenError=Le.InvalidAuthorityError=Le.InvalidPluginError=Le.IncorrectAssetHashError=Le.IncorrectAccountError=Le.NumericalOverflowError=Le.PluginNotFoundError=Le.PluginsNotInitializedError=Le.SerializationErrorError=Le.DeserializationErrorError=Le.InvalidSystemProgramError=void 0;var ar=Zt(),Qt=new Map,er=new Map,IU=class extends ar.ProgramError{constructor(e,r){super("Invalid System Program",e,r),this.name="InvalidSystemProgram",this.code=0}};Le.InvalidSystemProgramError=IU;Qt.set(0,IU);er.set("InvalidSystemProgram",IU);var TU=class extends ar.ProgramError{constructor(e,r){super("Error deserializing account",e,r),this.name="DeserializationError",this.code=1}};Le.DeserializationErrorError=TU;Qt.set(1,TU);er.set("DeserializationError",TU);var kU=class extends ar.ProgramError{constructor(e,r){super("Error serializing account",e,r),this.name="SerializationError",this.code=2}};Le.SerializationErrorError=kU;Qt.set(2,kU);er.set("SerializationError",kU);var vU=class extends ar.ProgramError{constructor(e,r){super("Plugins not initialized",e,r),this.name="PluginsNotInitialized",this.code=3}};Le.PluginsNotInitializedError=vU;Qt.set(3,vU);er.set("PluginsNotInitialized",vU);var xU=class extends ar.ProgramError{constructor(e,r){super("Plugin not found",e,r),this.name="PluginNotFound",this.code=4}};Le.PluginNotFoundError=xU;Qt.set(4,xU);er.set("PluginNotFound",xU);var PU=class extends ar.ProgramError{constructor(e,r){super("Numerical Overflow",e,r),this.name="NumericalOverflow",this.code=5}};Le.NumericalOverflowError=PU;Qt.set(5,PU);er.set("NumericalOverflow",PU);var OU=class extends ar.ProgramError{constructor(e,r){super("Incorrect account",e,r),this.name="IncorrectAccount",this.code=6}};Le.IncorrectAccountError=OU;Qt.set(6,OU);er.set("IncorrectAccount",OU);var RU=class extends ar.ProgramError{constructor(e,r){super("Incorrect asset hash",e,r),this.name="IncorrectAssetHash",this.code=7}};Le.IncorrectAssetHashError=RU;Qt.set(7,RU);er.set("IncorrectAssetHash",RU);var CU=class extends ar.ProgramError{constructor(e,r){super("Invalid Plugin",e,r),this.name="InvalidPlugin",this.code=8}};Le.InvalidPluginError=CU;Qt.set(8,CU);er.set("InvalidPlugin",CU);var BU=class extends ar.ProgramError{constructor(e,r){super("Invalid Authority",e,r),this.name="InvalidAuthority",this.code=9}};Le.InvalidAuthorityError=BU;Qt.set(9,BU);er.set("InvalidAuthority",BU);var MU=class extends ar.ProgramError{constructor(e,r){super("Cannot transfer a frozen asset",e,r),this.name="AssetIsFrozen",this.code=10}};Le.AssetIsFrozenError=MU;Qt.set(10,MU);er.set("AssetIsFrozen",MU);var NU=class extends ar.ProgramError{constructor(e,r){super("Missing compression proof",e,r),this.name="MissingCompressionProof",this.code=11}};Le.MissingCompressionProofError=NU;Qt.set(11,NU);er.set("MissingCompressionProof",NU);var DU=class extends ar.ProgramError{constructor(e,r){super("Cannot migrate a master edition used for prints",e,r),this.name="CannotMigrateMasterWithSupply",this.code=12}};Le.CannotMigrateMasterWithSupplyError=DU;Qt.set(12,DU);er.set("CannotMigrateMasterWithSupply",DU);var UU=class extends ar.ProgramError{constructor(e,r){super("Cannot migrate a print edition",e,r),this.name="CannotMigratePrints",this.code=13}};Le.CannotMigratePrintsError=UU;Qt.set(13,UU);er.set("CannotMigratePrints",UU);var LU=class extends ar.ProgramError{constructor(e,r){super("Cannot burn a collection NFT",e,r),this.name="CannotBurnCollection",this.code=14}};Le.CannotBurnCollectionError=LU;Qt.set(14,LU);er.set("CannotBurnCollection",LU);var zU=class extends ar.ProgramError{constructor(e,r){super("Plugin already exists",e,r),this.name="PluginAlreadyExists",this.code=15}};Le.PluginAlreadyExistsError=zU;Qt.set(15,zU);er.set("PluginAlreadyExists",zU);var FU=class extends ar.ProgramError{constructor(e,r){super("Numerical overflow",e,r),this.name="NumericalOverflowError",this.code=16}};Le.NumericalOverflowErrorError=FU;Qt.set(16,FU);er.set("NumericalOverflowError",FU);var qU=class extends ar.ProgramError{constructor(e,r){super("Already compressed account",e,r),this.name="AlreadyCompressed",this.code=17}};Le.AlreadyCompressedError=qU;Qt.set(17,qU);er.set("AlreadyCompressed",qU);var jU=class extends ar.ProgramError{constructor(e,r){super("Already decompressed account",e,r),this.name="AlreadyDecompressed",this.code=18}};Le.AlreadyDecompressedError=jU;Qt.set(18,jU);er.set("AlreadyDecompressed",jU);var KU=class extends ar.ProgramError{constructor(e,r){super("Invalid Collection passed in",e,r),this.name="InvalidCollection",this.code=19}};Le.InvalidCollectionError=KU;Qt.set(19,KU);er.set("InvalidCollection",KU);var WU=class extends ar.ProgramError{constructor(e,r){super("Missing update authority",e,r),this.name="MissingUpdateAuthority",this.code=20}};Le.MissingUpdateAuthorityError=WU;Qt.set(20,WU);er.set("MissingUpdateAuthority",WU);var VU=class extends ar.ProgramError{constructor(e,r){super("Missing new owner",e,r),this.name="MissingNewOwner",this.code=21}};Le.MissingNewOwnerError=VU;Qt.set(21,VU);er.set("MissingNewOwner",VU);var GU=class extends ar.ProgramError{constructor(e,r){super("Missing system program",e,r),this.name="MissingSystemProgram",this.code=22}};Le.MissingSystemProgramError=GU;Qt.set(22,GU);er.set("MissingSystemProgram",GU);var HU=class extends ar.ProgramError{constructor(e,r){super("Feature not available",e,r),this.name="NotAvailable",this.code=23}};Le.NotAvailableError=HU;Qt.set(23,HU);er.set("NotAvailable",HU);var $U=class extends ar.ProgramError{constructor(e,r){super("Invalid Asset passed in",e,r),this.name="InvalidAsset",this.code=24}};Le.InvalidAssetError=$U;Qt.set(24,$U);er.set("InvalidAsset",$U);var YU=class extends ar.ProgramError{constructor(e,r){super("Missing collection",e,r),this.name="MissingCollection",this.code=25}};Le.MissingCollectionError=YU;Qt.set(25,YU);er.set("MissingCollection",YU);var XU=class extends ar.ProgramError{constructor(e,r){super("Neither the asset or any plugins have approved this operation",e,r),this.name="NoApprovals",this.code=26}};Le.NoApprovalsError=XU;Qt.set(26,XU);er.set("NoApprovals",XU);var ZU=class extends ar.ProgramError{constructor(e,r){super("Plugin Manager cannot redelegate a delegated plugin without revoking first",e,r),this.name="CannotRedelegate",this.code=27}};Le.CannotRedelegateError=ZU;Qt.set(27,ZU);er.set("CannotRedelegate",ZU);var JU=class extends ar.ProgramError{constructor(e,r){super("Invalid setting for plugin",e,r),this.name="InvalidPluginSetting",this.code=28}};Le.InvalidPluginSettingError=JU;Qt.set(28,JU);er.set("InvalidPluginSetting",JU);var QU=class extends ar.ProgramError{constructor(e,r){super("Cannot specify both an update authority and collection on an asset",e,r),this.name="ConflictingAuthority",this.code=29}};Le.ConflictingAuthorityError=QU;Qt.set(29,QU);er.set("ConflictingAuthority",QU);var e2=class extends ar.ProgramError{constructor(e,r){super("Invalid Log Wrapper Program",e,r),this.name="InvalidLogWrapperProgram",this.code=30}};Le.InvalidLogWrapperProgramError=e2;Qt.set(30,e2);er.set("InvalidLogWrapperProgram",e2);var t2=class extends ar.ProgramError{constructor(e,r){super("External Plugin Adapter not found",e,r),this.name="ExternalPluginAdapterNotFound",this.code=31}};Le.ExternalPluginAdapterNotFoundError=t2;Qt.set(31,t2);er.set("ExternalPluginAdapterNotFound",t2);var r2=class extends ar.ProgramError{constructor(e,r){super("External Plugin Adapter already exists",e,r),this.name="ExternalPluginAdapterAlreadyExists",this.code=32}};Le.ExternalPluginAdapterAlreadyExistsError=r2;Qt.set(32,r2);er.set("ExternalPluginAdapterAlreadyExists",r2);var n2=class extends ar.ProgramError{constructor(e,r){super("Missing asset needed for extra account PDA derivation",e,r),this.name="MissingAsset",this.code=33}};Le.MissingAssetError=n2;Qt.set(33,n2);er.set("MissingAsset",n2);var i2=class extends ar.ProgramError{constructor(e,r){super("Missing account needed for external plugin adapter",e,r),this.name="MissingExternalPluginAdapterAccount",this.code=34}};Le.MissingExternalPluginAdapterAccountError=i2;Qt.set(34,i2);er.set("MissingExternalPluginAdapterAccount",i2);var o2=class extends ar.ProgramError{constructor(e,r){super("Oracle external plugin adapter can only be configured to reject",e,r),this.name="OracleCanRejectOnly",this.code=35}};Le.OracleCanRejectOnlyError=o2;Qt.set(35,o2);er.set("OracleCanRejectOnly",o2);var s2=class extends ar.ProgramError{constructor(e,r){super("External plugin adapter must have at least one lifecycle check",e,r),this.name="RequiresLifecycleCheck",this.code=36}};Le.RequiresLifecycleCheckError=s2;Qt.set(36,s2);er.set("RequiresLifecycleCheck",s2);var a2=class extends ar.ProgramError{constructor(e,r){super("Duplicate lifecycle checks were provided for external plugin adapter ",e,r),this.name="DuplicateLifecycleChecks",this.code=37}};Le.DuplicateLifecycleChecksError=a2;Qt.set(37,a2);er.set("DuplicateLifecycleChecks",a2);var c2=class extends ar.ProgramError{constructor(e,r){super("Could not read from oracle account",e,r),this.name="InvalidOracleAccountData",this.code=38}};Le.InvalidOracleAccountDataError=c2;Qt.set(38,c2);er.set("InvalidOracleAccountData",c2);var u2=class extends ar.ProgramError{constructor(e,r){super("Oracle account is uninitialized",e,r),this.name="UninitializedOracleAccount",this.code=39}};Le.UninitializedOracleAccountError=u2;Qt.set(39,u2);er.set("UninitializedOracleAccount",u2);var l2=class extends ar.ProgramError{constructor(e,r){super("Missing required signer for operation",e,r),this.name="MissingSigner",this.code=40}};Le.MissingSignerError=l2;Qt.set(40,l2);er.set("MissingSigner",l2);var d2=class extends ar.ProgramError{constructor(e,r){super("Invalid plugin operation",e,r),this.name="InvalidPluginOperation",this.code=41}};Le.InvalidPluginOperationError=d2;Qt.set(41,d2);er.set("InvalidPluginOperation",d2);var f2=class extends ar.ProgramError{constructor(e,r){super("Collection must be empty to be burned",e,r),this.name="CollectionMustBeEmpty",this.code=42}};Le.CollectionMustBeEmptyError=f2;Qt.set(42,f2);er.set("CollectionMustBeEmpty",f2);var p2=class extends ar.ProgramError{constructor(e,r){super("Two data sources provided, only one is allowed",e,r),this.name="TwoDataSources",this.code=43}};Le.TwoDataSourcesError=p2;Qt.set(43,p2);er.set("TwoDataSources",p2);var h2=class extends ar.ProgramError{constructor(e,r){super("External Plugin does not support this operation",e,r),this.name="UnsupportedOperation",this.code=44}};Le.UnsupportedOperationError=h2;Qt.set(44,h2);er.set("UnsupportedOperation",h2);var m2=class extends ar.ProgramError{constructor(e,r){super("No data sources provided, one is required",e,r),this.name="NoDataSources",this.code=45}};Le.NoDataSourcesError=m2;Qt.set(45,m2);er.set("NoDataSources",m2);var y2=class extends ar.ProgramError{constructor(e,r){super("This plugin adapter cannot be added to an Asset",e,r),this.name="InvalidPluginAdapterTarget",this.code=46}};Le.InvalidPluginAdapterTargetError=y2;Qt.set(46,y2);er.set("InvalidPluginAdapterTarget",y2);var g2=class extends ar.ProgramError{constructor(e,r){super("Cannot add a Data Section without a linked external plugin",e,r),this.name="CannotAddDataSection",this.code=47}};Le.CannotAddDataSectionError=g2;Qt.set(47,g2);er.set("CannotAddDataSection",g2);function EHt(t,e,r){let n=Qt.get(t);return n?new n(e,r):null}Le.getMplCoreErrorFromCode=EHt;function IHt(t,e,r){let n=er.get(t);return n?new n(e,r):null}Le.getMplCoreErrorFromName=IHt});var iue=_(RE=>{"use strict";u();l();var THt=RE&&RE.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kHt=RE&&RE.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&THt(e,t,r)};Object.defineProperty(RE,"__esModule",{value:!0});kHt(B8e(),RE)});var wn=_(Yy=>{"use strict";u();l();Object.defineProperty(Yy,"__esModule",{value:!0});Yy.getAccountMetasAndSigners=Yy.expectPda=Yy.expectPublicKey=Yy.expectSome=void 0;var b2=Zt();function vHt(t){if(t==null)throw new Error("Expected a value but received null or undefined.");return t}Yy.expectSome=vHt;function xHt(t){if(!t)throw new Error("Expected a PublicKey.");return(0,b2.publicKey)(t,!1)}Yy.expectPublicKey=xHt;function PHt(t){if(!t||!Array.isArray(t)||!(0,b2.isPda)(t))throw new Error("Expected a PDA.");return t}Yy.expectPda=PHt;function OHt(t,e,r){let n=[],i=[];return t.forEach(o=>{if(!o.value){if(e==="omitted")return;n.push({pubkey:r,isSigner:!1,isWritable:!1});return}(0,b2.isSigner)(o.value)&&i.push(o.value),n.push({pubkey:(0,b2.publicKey)(o.value,!1),isSigner:(0,b2.isSigner)(o.value),isWritable:o.isWritable})}),[n,i]}Yy.getAccountMetasAndSigners=OHt});var N8e=_(lv=>{"use strict";u();l();Object.defineProperty(lv,"__esModule",{value:!0});lv.addCollectionExternalPluginAdapterV1=lv.getAddCollectionExternalPluginAdapterV1InstructionDataSerializer=void 0;var RHt=Zt(),oue=Ue(),CHt=wn(),BHt=lt();function M8e(){return(0,oue.mapSerializer)((0,oue.struct)([["discriminator",(0,oue.u8)()],["initInfo",(0,BHt.getBaseExternalPluginAdapterInitInfoSerializer)()]],{description:"AddCollectionExternalPluginAdapterV1InstructionData"}),t=>({...t,discriminator:23}))}lv.getAddCollectionExternalPluginAdapterV1InstructionDataSerializer=M8e;function MHt(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,CHt.getAccountMetasAndSigners)(o,"programId",r),c=M8e().serialize(i);return(0,RHt.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}lv.addCollectionExternalPluginAdapterV1=MHt});var z8e=_(dv=>{"use strict";u();l();Object.defineProperty(dv,"__esModule",{value:!0});dv.addCollectionPluginV1=dv.getAddCollectionPluginV1InstructionDataSerializer=void 0;var U8e=Zt(),TV=Ue(),NHt=wn(),D8e=lt();function L8e(){return(0,TV.mapSerializer)((0,TV.struct)([["discriminator",(0,TV.u8)()],["plugin",(0,D8e.getPluginSerializer)()],["initAuthority",(0,TV.option)((0,D8e.getBasePluginAuthoritySerializer)())]],{description:"AddCollectionPluginV1InstructionData"}),t=>({...t,discriminator:3,initAuthority:t.initAuthority??(0,U8e.none)()}))}dv.getAddCollectionPluginV1InstructionDataSerializer=L8e;function DHt(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,NHt.getAccountMetasAndSigners)(o,"programId",r),c=L8e().serialize(i);return(0,U8e.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}dv.addCollectionPluginV1=DHt});var q8e=_(fv=>{"use strict";u();l();Object.defineProperty(fv,"__esModule",{value:!0});fv.addExternalPluginAdapterV1=fv.getAddExternalPluginAdapterV1InstructionDataSerializer=void 0;var UHt=Zt(),sue=Ue(),LHt=wn(),zHt=lt();function F8e(){return(0,sue.mapSerializer)((0,sue.struct)([["discriminator",(0,sue.u8)()],["initInfo",(0,zHt.getBaseExternalPluginAdapterInitInfoSerializer)()]],{description:"AddExternalPluginAdapterV1InstructionData"}),t=>({...t,discriminator:22}))}fv.getAddExternalPluginAdapterV1InstructionDataSerializer=F8e;function FHt(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,LHt.getAccountMetasAndSigners)(o,"programId",r),c=F8e().serialize(i);return(0,UHt.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}fv.addExternalPluginAdapterV1=FHt});var V8e=_(pv=>{"use strict";u();l();Object.defineProperty(pv,"__esModule",{value:!0});pv.addPluginV1=pv.getAddPluginV1InstructionDataSerializer=void 0;var K8e=Zt(),kV=Ue(),qHt=wn(),j8e=lt();function W8e(){return(0,kV.mapSerializer)((0,kV.struct)([["discriminator",(0,kV.u8)()],["plugin",(0,j8e.getPluginSerializer)()],["initAuthority",(0,kV.option)((0,j8e.getBasePluginAuthoritySerializer)())]],{description:"AddPluginV1InstructionData"}),t=>({...t,discriminator:2,initAuthority:t.initAuthority??(0,K8e.none)()}))}pv.getAddPluginV1InstructionDataSerializer=W8e;function jHt(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,qHt.getAccountMetasAndSigners)(o,"programId",r),c=W8e().serialize(i);return(0,K8e.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}pv.addPluginV1=jHt});var $8e=_(hv=>{"use strict";u();l();Object.defineProperty(hv,"__esModule",{value:!0});hv.approveCollectionPluginAuthorityV1=hv.getApproveCollectionPluginAuthorityV1InstructionDataSerializer=void 0;var KHt=Zt(),aue=Ue(),WHt=wn(),G8e=lt();function H8e(){return(0,aue.mapSerializer)((0,aue.struct)([["discriminator",(0,aue.u8)()],["pluginType",(0,G8e.getPluginTypeSerializer)()],["newAuthority",(0,G8e.getBasePluginAuthoritySerializer)()]],{description:"ApproveCollectionPluginAuthorityV1InstructionData"}),t=>({...t,discriminator:9}))}hv.getApproveCollectionPluginAuthorityV1InstructionDataSerializer=H8e;function VHt(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,WHt.getAccountMetasAndSigners)(o,"programId",r),c=H8e().serialize(i);return(0,KHt.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}hv.approveCollectionPluginAuthorityV1=VHt});var Z8e=_(mv=>{"use strict";u();l();Object.defineProperty(mv,"__esModule",{value:!0});mv.approvePluginAuthorityV1=mv.getApprovePluginAuthorityV1InstructionDataSerializer=void 0;var GHt=Zt(),cue=Ue(),HHt=wn(),Y8e=lt();function X8e(){return(0,cue.mapSerializer)((0,cue.struct)([["discriminator",(0,cue.u8)()],["pluginType",(0,Y8e.getPluginTypeSerializer)()],["newAuthority",(0,Y8e.getBasePluginAuthoritySerializer)()]],{description:"ApprovePluginAuthorityV1InstructionData"}),t=>({...t,discriminator:8}))}mv.getApprovePluginAuthorityV1InstructionDataSerializer=X8e;function $Ht(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,HHt.getAccountMetasAndSigners)(o,"programId",r),c=X8e().serialize(i);return(0,GHt.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}mv.approvePluginAuthorityV1=$Ht});var Q8e=_(yv=>{"use strict";u();l();Object.defineProperty(yv,"__esModule",{value:!0});yv.burnCollectionV1=yv.getBurnCollectionV1InstructionDataSerializer=void 0;var YHt=Zt(),vV=Ue(),XHt=wn(),ZHt=lt();function J8e(){return(0,vV.mapSerializer)((0,vV.struct)([["discriminator",(0,vV.u8)()],["compressionProof",(0,vV.option)((0,ZHt.getCompressionProofSerializer)())]],{description:"BurnCollectionV1InstructionData"}),t=>({...t,discriminator:13}))}yv.getBurnCollectionV1InstructionDataSerializer=J8e;function JHt(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!0,value:e.authority??null},logWrapper:{index:3,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,XHt.getAccountMetasAndSigners)(o,"programId",r),c=J8e().serialize(i);return(0,YHt.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}yv.burnCollectionV1=JHt});var rFe=_(gv=>{"use strict";u();l();Object.defineProperty(gv,"__esModule",{value:!0});gv.burnV1=gv.getBurnV1InstructionDataSerializer=void 0;var eFe=Zt(),xV=Ue(),QHt=wn(),e7t=lt();function tFe(){return(0,xV.mapSerializer)((0,xV.struct)([["discriminator",(0,xV.u8)()],["compressionProof",(0,xV.option)((0,e7t.getCompressionProofSerializer)())]],{description:"BurnV1InstructionData"}),t=>({...t,discriminator:12,compressionProof:t.compressionProof??(0,eFe.none)()}))}gv.getBurnV1InstructionDataSerializer=tFe;function t7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,QHt.getAccountMetasAndSigners)(o,"programId",r),c=tFe().serialize(i);return(0,eFe.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}gv.burnV1=t7t});var iFe=_(bv=>{"use strict";u();l();Object.defineProperty(bv,"__esModule",{value:!0});bv.collect=bv.getCollectInstructionDataSerializer=void 0;var uue=Zt(),lue=Ue(),r7t=wn();function nFe(){return(0,lue.mapSerializer)((0,lue.struct)([["discriminator",(0,lue.u8)()]],{description:"CollectInstructionData"}),t=>({...t,discriminator:19}))}bv.getCollectInstructionDataSerializer=nFe;function n7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={recipient1:{index:0,isWritable:!0,value:e.recipient1??null},recipient2:{index:1,isWritable:!0,value:e.recipient2??null}};n.recipient1.value||(n.recipient1.value=(0,uue.publicKey)("8AT6o8Qk5T9QnZvPThMrF9bcCQLTGkyGvVZZzHgCw11v")),n.recipient2.value||(n.recipient2.value=(0,uue.publicKey)("MmHsqX4LxTfifxoH8BVRLUKrwDn1LPCac6YcCZTHhwt"));let i=Object.values(n).sort((d,f)=>d.index-f.index),[o,s]=(0,r7t.getAccountMetasAndSigners)(i,"programId",r),a=nFe().serialize({});return(0,uue.transactionBuilder)([{instruction:{keys:o,programId:r,data:a},signers:s,bytesCreatedOnChain:0}])}bv.collect=n7t});var sFe=_(_v=>{"use strict";u();l();Object.defineProperty(_v,"__esModule",{value:!0});_v.compressV1=_v.getCompressV1InstructionDataSerializer=void 0;var i7t=Zt(),due=Ue(),o7t=wn();function oFe(){return(0,due.mapSerializer)((0,due.struct)([["discriminator",(0,due.u8)()]],{description:"CompressV1InstructionData"}),t=>({...t,discriminator:17}))}_v.getCompressV1InstructionDataSerializer=oFe;function s7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!1,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let i=Object.values(n).sort((d,f)=>d.index-f.index),[o,s]=(0,o7t.getAccountMetasAndSigners)(i,"programId",r),a=oFe().serialize({});return(0,i7t.transactionBuilder)([{instruction:{keys:o,programId:r,data:a},signers:s,bytesCreatedOnChain:0}])}_v.compressV1=s7t});var uFe=_(Sv=>{"use strict";u();l();Object.defineProperty(Sv,"__esModule",{value:!0});Sv.createCollectionV1=Sv.getCreateCollectionV1InstructionDataSerializer=void 0;var aFe=Zt(),CE=Ue(),a7t=wn(),c7t=lt();function cFe(){return(0,CE.mapSerializer)((0,CE.struct)([["discriminator",(0,CE.u8)()],["name",(0,CE.string)()],["uri",(0,CE.string)()],["plugins",(0,CE.option)((0,CE.array)((0,c7t.getPluginAuthorityPairSerializer)()))]],{description:"CreateCollectionV1InstructionData"}),t=>({...t,discriminator:1,plugins:t.plugins??(0,aFe.none)()}))}Sv.getCreateCollectionV1InstructionDataSerializer=cFe;function u7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,a7t.getAccountMetasAndSigners)(o,"programId",r),c=cFe().serialize(i);return(0,aFe.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Sv.createCollectionV1=u7t});var pFe=_(wv=>{"use strict";u();l();Object.defineProperty(wv,"__esModule",{value:!0});wv.createCollectionV2=wv.getCreateCollectionV2InstructionDataSerializer=void 0;var dFe=Zt(),xb=Ue(),l7t=wn(),lFe=lt();function fFe(){return(0,xb.mapSerializer)((0,xb.struct)([["discriminator",(0,xb.u8)()],["name",(0,xb.string)()],["uri",(0,xb.string)()],["plugins",(0,xb.option)((0,xb.array)((0,lFe.getPluginAuthorityPairSerializer)()))],["externalPluginAdapters",(0,xb.option)((0,xb.array)((0,lFe.getBaseExternalPluginAdapterInitInfoSerializer)()))]],{description:"CreateCollectionV2InstructionData"}),t=>({...t,discriminator:21,plugins:t.plugins??(0,dFe.none)(),externalPluginAdapters:t.externalPluginAdapters??[]}))}wv.getCreateCollectionV2InstructionDataSerializer=fFe;function d7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,l7t.getAccountMetasAndSigners)(o,"programId",r),c=fFe().serialize(i);return(0,dFe.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}wv.createCollectionV2=d7t});var mFe=_(Av=>{"use strict";u();l();Object.defineProperty(Av,"__esModule",{value:!0});Av.createV1=Av.getCreateV1InstructionDataSerializer=void 0;var f7t=Zt(),BE=Ue(),p7t=wn(),fue=lt();function hFe(){return(0,BE.mapSerializer)((0,BE.struct)([["discriminator",(0,BE.u8)()],["dataState",(0,fue.getDataStateSerializer)()],["name",(0,BE.string)()],["uri",(0,BE.string)()],["plugins",(0,BE.option)((0,BE.array)((0,fue.getPluginAuthorityPairSerializer)()))]],{description:"CreateV1InstructionData"}),t=>({...t,discriminator:0,dataState:t.dataState??fue.DataState.AccountState,plugins:t.plugins??[]}))}Av.getCreateV1InstructionDataSerializer=hFe;function h7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},authority:{index:2,isWritable:!1,value:e.authority??null},payer:{index:3,isWritable:!0,value:e.payer??null},owner:{index:4,isWritable:!1,value:e.owner??null},updateAuthority:{index:5,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:7,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,p7t.getAccountMetasAndSigners)(o,"programId",r),c=hFe().serialize(i);return(0,f7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Av.createV1=h7t});var gFe=_(Ev=>{"use strict";u();l();Object.defineProperty(Ev,"__esModule",{value:!0});Ev.createV2=Ev.getCreateV2InstructionDataSerializer=void 0;var m7t=Zt(),Pb=Ue(),y7t=wn(),PV=lt();function yFe(){return(0,Pb.mapSerializer)((0,Pb.struct)([["discriminator",(0,Pb.u8)()],["dataState",(0,PV.getDataStateSerializer)()],["name",(0,Pb.string)()],["uri",(0,Pb.string)()],["plugins",(0,Pb.option)((0,Pb.array)((0,PV.getPluginAuthorityPairSerializer)()))],["externalPluginAdapters",(0,Pb.option)((0,Pb.array)((0,PV.getBaseExternalPluginAdapterInitInfoSerializer)()))]],{description:"CreateV2InstructionData"}),t=>({...t,discriminator:20,dataState:t.dataState??PV.DataState.AccountState,plugins:t.plugins??[],externalPluginAdapters:t.externalPluginAdapters??[]}))}Ev.getCreateV2InstructionDataSerializer=yFe;function g7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},authority:{index:2,isWritable:!1,value:e.authority??null},payer:{index:3,isWritable:!0,value:e.payer??null},owner:{index:4,isWritable:!1,value:e.owner??null},updateAuthority:{index:5,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:7,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,y7t.getAccountMetasAndSigners)(o,"programId",r),c=yFe().serialize(i);return(0,m7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Ev.createV2=g7t});var _Fe=_(Iv=>{"use strict";u();l();Object.defineProperty(Iv,"__esModule",{value:!0});Iv.decompressV1=Iv.getDecompressV1InstructionDataSerializer=void 0;var b7t=Zt(),pue=Ue(),_7t=wn(),S7t=lt();function bFe(){return(0,pue.mapSerializer)((0,pue.struct)([["discriminator",(0,pue.u8)()],["compressionProof",(0,S7t.getCompressionProofSerializer)()]],{description:"DecompressV1InstructionData"}),t=>({...t,discriminator:18}))}Iv.getDecompressV1InstructionDataSerializer=bFe;function w7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!1,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,_7t.getAccountMetasAndSigners)(o,"programId",r),c=bFe().serialize(i);return(0,b7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Iv.decompressV1=w7t});var wFe=_(Tv=>{"use strict";u();l();Object.defineProperty(Tv,"__esModule",{value:!0});Tv.removeCollectionExternalPluginAdapterV1=Tv.getRemoveCollectionExternalPluginAdapterV1InstructionDataSerializer=void 0;var A7t=Zt(),hue=Ue(),E7t=wn(),I7t=lt();function SFe(){return(0,hue.mapSerializer)((0,hue.struct)([["discriminator",(0,hue.u8)()],["key",(0,I7t.getBaseExternalPluginAdapterKeySerializer)()]],{description:"RemoveCollectionExternalPluginAdapterV1InstructionData"}),t=>({...t,discriminator:25}))}Tv.getRemoveCollectionExternalPluginAdapterV1InstructionDataSerializer=SFe;function T7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,E7t.getAccountMetasAndSigners)(o,"programId",r),c=SFe().serialize(i);return(0,A7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Tv.removeCollectionExternalPluginAdapterV1=T7t});var EFe=_(kv=>{"use strict";u();l();Object.defineProperty(kv,"__esModule",{value:!0});kv.removeCollectionPluginV1=kv.getRemoveCollectionPluginV1InstructionDataSerializer=void 0;var k7t=Zt(),mue=Ue(),v7t=wn(),x7t=lt();function AFe(){return(0,mue.mapSerializer)((0,mue.struct)([["discriminator",(0,mue.u8)()],["pluginType",(0,x7t.getPluginTypeSerializer)()]],{description:"RemoveCollectionPluginV1InstructionData"}),t=>({...t,discriminator:5}))}kv.getRemoveCollectionPluginV1InstructionDataSerializer=AFe;function P7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,v7t.getAccountMetasAndSigners)(o,"programId",r),c=AFe().serialize(i);return(0,k7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}kv.removeCollectionPluginV1=P7t});var TFe=_(vv=>{"use strict";u();l();Object.defineProperty(vv,"__esModule",{value:!0});vv.removeExternalPluginAdapterV1=vv.getRemoveExternalPluginAdapterV1InstructionDataSerializer=void 0;var O7t=Zt(),yue=Ue(),R7t=wn(),C7t=lt();function IFe(){return(0,yue.mapSerializer)((0,yue.struct)([["discriminator",(0,yue.u8)()],["key",(0,C7t.getBaseExternalPluginAdapterKeySerializer)()]],{description:"RemoveExternalPluginAdapterV1InstructionData"}),t=>({...t,discriminator:24}))}vv.getRemoveExternalPluginAdapterV1InstructionDataSerializer=IFe;function B7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,R7t.getAccountMetasAndSigners)(o,"programId",r),c=IFe().serialize(i);return(0,O7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}vv.removeExternalPluginAdapterV1=B7t});var vFe=_(xv=>{"use strict";u();l();Object.defineProperty(xv,"__esModule",{value:!0});xv.removePluginV1=xv.getRemovePluginV1InstructionDataSerializer=void 0;var M7t=Zt(),gue=Ue(),N7t=wn(),D7t=lt();function kFe(){return(0,gue.mapSerializer)((0,gue.struct)([["discriminator",(0,gue.u8)()],["pluginType",(0,D7t.getPluginTypeSerializer)()]],{description:"RemovePluginV1InstructionData"}),t=>({...t,discriminator:4}))}xv.getRemovePluginV1InstructionDataSerializer=kFe;function U7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,N7t.getAccountMetasAndSigners)(o,"programId",r),c=kFe().serialize(i);return(0,M7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}xv.removePluginV1=U7t});var PFe=_(Pv=>{"use strict";u();l();Object.defineProperty(Pv,"__esModule",{value:!0});Pv.revokeCollectionPluginAuthorityV1=Pv.getRevokeCollectionPluginAuthorityV1InstructionDataSerializer=void 0;var L7t=Zt(),bue=Ue(),z7t=wn(),F7t=lt();function xFe(){return(0,bue.mapSerializer)((0,bue.struct)([["discriminator",(0,bue.u8)()],["pluginType",(0,F7t.getPluginTypeSerializer)()]],{description:"RevokeCollectionPluginAuthorityV1InstructionData"}),t=>({...t,discriminator:11}))}Pv.getRevokeCollectionPluginAuthorityV1InstructionDataSerializer=xFe;function q7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,z7t.getAccountMetasAndSigners)(o,"programId",r),c=xFe().serialize(i);return(0,L7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Pv.revokeCollectionPluginAuthorityV1=q7t});var RFe=_(Ov=>{"use strict";u();l();Object.defineProperty(Ov,"__esModule",{value:!0});Ov.revokePluginAuthorityV1=Ov.getRevokePluginAuthorityV1InstructionDataSerializer=void 0;var j7t=Zt(),_ue=Ue(),K7t=wn(),W7t=lt();function OFe(){return(0,_ue.mapSerializer)((0,_ue.struct)([["discriminator",(0,_ue.u8)()],["pluginType",(0,W7t.getPluginTypeSerializer)()]],{description:"RevokePluginAuthorityV1InstructionData"}),t=>({...t,discriminator:10}))}Ov.getRevokePluginAuthorityV1InstructionDataSerializer=OFe;function V7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,K7t.getAccountMetasAndSigners)(o,"programId",r),c=OFe().serialize(i);return(0,j7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Ov.revokePluginAuthorityV1=V7t});var MFe=_(Rv=>{"use strict";u();l();Object.defineProperty(Rv,"__esModule",{value:!0});Rv.transferV1=Rv.getTransferV1InstructionDataSerializer=void 0;var CFe=Zt(),OV=Ue(),G7t=wn(),H7t=lt();function BFe(){return(0,OV.mapSerializer)((0,OV.struct)([["discriminator",(0,OV.u8)()],["compressionProof",(0,OV.option)((0,H7t.getCompressionProofSerializer)())]],{description:"TransferV1InstructionData"}),t=>({...t,discriminator:14,compressionProof:t.compressionProof??(0,CFe.none)()}))}Rv.getTransferV1InstructionDataSerializer=BFe;function $7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!1,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},newOwner:{index:4,isWritable:!1,value:e.newOwner??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,G7t.getAccountMetasAndSigners)(o,"programId",r),c=BFe().serialize(i);return(0,CFe.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Rv.transferV1=$7t});var UFe=_(Cv=>{"use strict";u();l();Object.defineProperty(Cv,"__esModule",{value:!0});Cv.updateCollectionExternalPluginAdapterV1=Cv.getUpdateCollectionExternalPluginAdapterV1InstructionDataSerializer=void 0;var Y7t=Zt(),Sue=Ue(),X7t=wn(),NFe=lt();function DFe(){return(0,Sue.mapSerializer)((0,Sue.struct)([["discriminator",(0,Sue.u8)()],["key",(0,NFe.getBaseExternalPluginAdapterKeySerializer)()],["updateInfo",(0,NFe.getBaseExternalPluginAdapterUpdateInfoSerializer)()]],{description:"UpdateCollectionExternalPluginAdapterV1InstructionData"}),t=>({...t,discriminator:27}))}Cv.getUpdateCollectionExternalPluginAdapterV1InstructionDataSerializer=DFe;function Z7t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,X7t.getAccountMetasAndSigners)(o,"programId",r),c=DFe().serialize(i);return(0,Y7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Cv.updateCollectionExternalPluginAdapterV1=Z7t});var zFe=_(Bv=>{"use strict";u();l();Object.defineProperty(Bv,"__esModule",{value:!0});Bv.updateCollectionPluginV1=Bv.getUpdateCollectionPluginV1InstructionDataSerializer=void 0;var J7t=Zt(),wue=Ue(),Q7t=wn(),e$t=lt();function LFe(){return(0,wue.mapSerializer)((0,wue.struct)([["discriminator",(0,wue.u8)()],["plugin",(0,e$t.getPluginSerializer)()]],{description:"UpdateCollectionPluginV1InstructionData"}),t=>({...t,discriminator:7}))}Bv.getUpdateCollectionPluginV1InstructionDataSerializer=LFe;function t$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,Q7t.getAccountMetasAndSigners)(o,"programId",r),c=LFe().serialize(i);return(0,J7t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Bv.updateCollectionPluginV1=t$t});var qFe=_(Mv=>{"use strict";u();l();Object.defineProperty(Mv,"__esModule",{value:!0});Mv.updateCollectionV1=Mv.getUpdateCollectionV1InstructionDataSerializer=void 0;var Aue=Zt(),ME=Ue(),r$t=wn();function FFe(){return(0,ME.mapSerializer)((0,ME.struct)([["discriminator",(0,ME.u8)()],["newName",(0,ME.option)((0,ME.string)())],["newUri",(0,ME.option)((0,ME.string)())]],{description:"UpdateCollectionV1InstructionData"}),t=>({...t,discriminator:16,newName:t.newName??(0,Aue.none)(),newUri:t.newUri??(0,Aue.none)()}))}Mv.getUpdateCollectionV1InstructionDataSerializer=FFe;function n$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},newUpdateAuthority:{index:3,isWritable:!1,value:e.newUpdateAuthority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,r$t.getAccountMetasAndSigners)(o,"programId",r),c=FFe().serialize(i);return(0,Aue.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Mv.updateCollectionV1=n$t});var WFe=_(Nv=>{"use strict";u();l();Object.defineProperty(Nv,"__esModule",{value:!0});Nv.updateExternalPluginAdapterV1=Nv.getUpdateExternalPluginAdapterV1InstructionDataSerializer=void 0;var i$t=Zt(),Eue=Ue(),o$t=wn(),jFe=lt();function KFe(){return(0,Eue.mapSerializer)((0,Eue.struct)([["discriminator",(0,Eue.u8)()],["key",(0,jFe.getBaseExternalPluginAdapterKeySerializer)()],["updateInfo",(0,jFe.getBaseExternalPluginAdapterUpdateInfoSerializer)()]],{description:"UpdateExternalPluginAdapterV1InstructionData"}),t=>({...t,discriminator:26}))}Nv.getUpdateExternalPluginAdapterV1InstructionDataSerializer=KFe;function s$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,o$t.getAccountMetasAndSigners)(o,"programId",r),c=KFe().serialize(i);return(0,i$t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Nv.updateExternalPluginAdapterV1=s$t});var GFe=_(Dv=>{"use strict";u();l();Object.defineProperty(Dv,"__esModule",{value:!0});Dv.updatePluginV1=Dv.getUpdatePluginV1InstructionDataSerializer=void 0;var a$t=Zt(),Iue=Ue(),c$t=wn(),u$t=lt();function VFe(){return(0,Iue.mapSerializer)((0,Iue.struct)([["discriminator",(0,Iue.u8)()],["plugin",(0,u$t.getPluginSerializer)()]],{description:"UpdatePluginV1InstructionData"}),t=>({...t,discriminator:6}))}Dv.getUpdatePluginV1InstructionDataSerializer=VFe;function l$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,c$t.getAccountMetasAndSigners)(o,"programId",r),c=VFe().serialize(i);return(0,a$t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Dv.updatePluginV1=l$t});var $Fe=_(Uv=>{"use strict";u();l();Object.defineProperty(Uv,"__esModule",{value:!0});Uv.updateV1=Uv.getUpdateV1InstructionDataSerializer=void 0;var RV=Zt(),PS=Ue(),d$t=wn(),f$t=lt();function HFe(){return(0,PS.mapSerializer)((0,PS.struct)([["discriminator",(0,PS.u8)()],["newName",(0,PS.option)((0,PS.string)())],["newUri",(0,PS.option)((0,PS.string)())],["newUpdateAuthority",(0,PS.option)((0,f$t.getBaseUpdateAuthoritySerializer)())]],{description:"UpdateV1InstructionData"}),t=>({...t,discriminator:15,newName:t.newName??(0,RV.none)(),newUri:t.newUri??(0,RV.none)(),newUpdateAuthority:t.newUpdateAuthority??(0,RV.none)()}))}Uv.getUpdateV1InstructionDataSerializer=HFe;function p$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!1,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,d$t.getAccountMetasAndSigners)(o,"programId",r),c=HFe().serialize(i);return(0,RV.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Uv.updateV1=p$t});var XFe=_(Lv=>{"use strict";u();l();Object.defineProperty(Lv,"__esModule",{value:!0});Lv.updateV2=Lv.getUpdateV2InstructionDataSerializer=void 0;var CV=Zt(),OS=Ue(),h$t=wn(),m$t=lt();function YFe(){return(0,OS.mapSerializer)((0,OS.struct)([["discriminator",(0,OS.u8)()],["newName",(0,OS.option)((0,OS.string)())],["newUri",(0,OS.option)((0,OS.string)())],["newUpdateAuthority",(0,OS.option)((0,m$t.getBaseUpdateAuthoritySerializer)())]],{description:"UpdateV2InstructionData"}),t=>({...t,discriminator:30,newName:t.newName??(0,CV.none)(),newUri:t.newUri??(0,CV.none)(),newUpdateAuthority:t.newUpdateAuthority??(0,CV.none)()}))}Lv.getUpdateV2InstructionDataSerializer=YFe;function y$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},newCollection:{index:4,isWritable:!0,value:e.newCollection??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,h$t.getAccountMetasAndSigners)(o,"programId",r),c=YFe().serialize(i);return(0,CV.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Lv.updateV2=y$t});var JFe=_(Fv=>{"use strict";u();l();Object.defineProperty(Fv,"__esModule",{value:!0});Fv.writeCollectionExternalPluginAdapterDataV1=Fv.getWriteCollectionExternalPluginAdapterDataV1InstructionDataSerializer=void 0;var g$t=Zt(),zv=Ue(),b$t=wn(),_$t=lt();function ZFe(){return(0,zv.mapSerializer)((0,zv.struct)([["discriminator",(0,zv.u8)()],["key",(0,_$t.getBaseExternalPluginAdapterKeySerializer)()],["data",(0,zv.option)((0,zv.bytes)({size:(0,zv.u32)()}))]],{description:"WriteCollectionExternalPluginAdapterDataV1InstructionData"}),t=>({...t,discriminator:29}))}Fv.getWriteCollectionExternalPluginAdapterDataV1InstructionDataSerializer=ZFe;function S$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={collection:{index:0,isWritable:!0,value:e.collection??null},payer:{index:1,isWritable:!0,value:e.payer??null},authority:{index:2,isWritable:!1,value:e.authority??null},buffer:{index:3,isWritable:!1,value:e.buffer??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,b$t.getAccountMetasAndSigners)(o,"programId",r),c=ZFe().serialize(i);return(0,g$t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}Fv.writeCollectionExternalPluginAdapterDataV1=S$t});var e3e=_(jv=>{"use strict";u();l();Object.defineProperty(jv,"__esModule",{value:!0});jv.writeExternalPluginAdapterDataV1=jv.getWriteExternalPluginAdapterDataV1InstructionDataSerializer=void 0;var w$t=Zt(),qv=Ue(),A$t=wn(),E$t=lt();function QFe(){return(0,qv.mapSerializer)((0,qv.struct)([["discriminator",(0,qv.u8)()],["key",(0,E$t.getBaseExternalPluginAdapterKeySerializer)()],["data",(0,qv.option)((0,qv.bytes)({size:(0,qv.u32)()}))]],{description:"WriteExternalPluginAdapterDataV1InstructionData"}),t=>({...t,discriminator:28}))}jv.getWriteExternalPluginAdapterDataV1InstructionDataSerializer=QFe;function I$t(t,e){let r=t.programs.getPublicKey("mplCore","CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d"),n={asset:{index:0,isWritable:!0,value:e.asset??null},collection:{index:1,isWritable:!0,value:e.collection??null},payer:{index:2,isWritable:!0,value:e.payer??null},authority:{index:3,isWritable:!1,value:e.authority??null},buffer:{index:4,isWritable:!1,value:e.buffer??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null}},i={...e};n.payer.value||(n.payer.value=t.payer),n.systemProgram.value||(n.systemProgram.value=t.programs.getPublicKey("splSystem","11111111111111111111111111111111"),n.systemProgram.isWritable=!1);let o=Object.values(n).sort((f,p)=>f.index-p.index),[s,a]=(0,A$t.getAccountMetasAndSigners)(o,"programId",r),c=QFe().serialize(i);return(0,w$t.transactionBuilder)([{instruction:{keys:s,programId:r,data:c},signers:a,bytesCreatedOnChain:0}])}jv.writeExternalPluginAdapterDataV1=I$t});var t3e=_(rn=>{"use strict";u();l();var T$t=rn&&rn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Nn=rn&&rn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&T$t(e,t,r)};Object.defineProperty(rn,"__esModule",{value:!0});Nn(N8e(),rn);Nn(z8e(),rn);Nn(q8e(),rn);Nn(V8e(),rn);Nn($8e(),rn);Nn(Z8e(),rn);Nn(Q8e(),rn);Nn(rFe(),rn);Nn(iFe(),rn);Nn(sFe(),rn);Nn(uFe(),rn);Nn(pFe(),rn);Nn(mFe(),rn);Nn(gFe(),rn);Nn(_Fe(),rn);Nn(wFe(),rn);Nn(EFe(),rn);Nn(TFe(),rn);Nn(vFe(),rn);Nn(PFe(),rn);Nn(RFe(),rn);Nn(MFe(),rn);Nn(UFe(),rn);Nn(zFe(),rn);Nn(qFe(),rn);Nn(WFe(),rn);Nn(GFe(),rn);Nn($Fe(),rn);Nn(XFe(),rn);Nn(JFe(),rn);Nn(e3e(),rn)});var n3e=_(gp=>{"use strict";u();l();Object.defineProperty(gp,"__esModule",{value:!0});gp.getMplCoreProgramId=gp.getMplCoreProgram=gp.createMplCoreProgram=gp.MPL_CORE_PROGRAM_ID=void 0;var r3e=iue();gp.MPL_CORE_PROGRAM_ID="CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d";function k$t(){return{name:"mplCore",publicKey:gp.MPL_CORE_PROGRAM_ID,getErrorFromCode(t,e){return(0,r3e.getMplCoreErrorFromCode)(t,this,e)},getErrorFromName(t,e){return(0,r3e.getMplCoreErrorFromName)(t,this,e)},isOnCluster(){return!0}}}gp.createMplCoreProgram=k$t;function v$t(t,e){return t.programs.get("mplCore",e)}gp.getMplCoreProgram=v$t;function x$t(t,e){return t.programs.getPublicKey("mplCore",gp.MPL_CORE_PROGRAM_ID,e)}gp.getMplCoreProgramId=x$t});var i3e=_(NE=>{"use strict";u();l();var P$t=NE&&NE.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),O$t=NE&&NE.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&P$t(e,t,r)};Object.defineProperty(NE,"__esModule",{value:!0});O$t(n3e(),NE)});var un=_(bp=>{"use strict";u();l();var R$t=bp&&bp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Kv=bp&&bp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&R$t(e,t,r)};Object.defineProperty(bp,"__esModule",{value:!0});Kv(C8e(),bp);Kv(iue(),bp);Kv(t3e(),bp);Kv(i3e(),bp);Kv(wn(),bp);Kv(lt(),bp)});var o3e=_(BV=>{"use strict";u();l();Object.defineProperty(BV,"__esModule",{value:!0});BV.mplCore=void 0;var C$t=un(),B$t=()=>({install(t){t.programs.add((0,C$t.createMplCoreProgram)(),!1)}});BV.mplCore=B$t});var l3e=_(al=>{"use strict";u();l();Object.defineProperty(al,"__esModule",{value:!0});al.output=al.exists=al.hash=al.bytes=al.bool=al.number=void 0;function MV(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}al.number=MV;function s3e(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}al.bool=s3e;function Tue(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}al.bytes=Tue;function a3e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");MV(t.outputLen),MV(t.blockLen)}al.hash=a3e;function c3e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}al.exists=c3e;function u3e(t,e){Tue(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}al.output=u3e;var M$t={number:MV,bool:s3e,bytes:Tue,hash:a3e,exists:c3e,output:u3e};al.default=M$t});var C3e=_(lr=>{"use strict";u();l();Object.defineProperty(lr,"__esModule",{value:!0});lr.add5L=lr.add5H=lr.add4H=lr.add4L=lr.add3H=lr.add3L=lr.add=lr.rotlBL=lr.rotlBH=lr.rotlSL=lr.rotlSH=lr.rotr32L=lr.rotr32H=lr.rotrBL=lr.rotrBH=lr.rotrSL=lr.rotrSH=lr.shrSL=lr.shrSH=lr.toBig=lr.split=lr.fromBig=void 0;var NV=BigInt(2**32-1),kue=BigInt(32);function vue(t,e=!1){return e?{h:Number(t&NV),l:Number(t>>kue&NV)}:{h:Number(t>>kue&NV)|0,l:Number(t&NV)|0}}lr.fromBig=vue;function d3e(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=vue(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}lr.split=d3e;var f3e=(t,e)=>BigInt(t>>>0)<<kue|BigInt(e>>>0);lr.toBig=f3e;var p3e=(t,e,r)=>t>>>r;lr.shrSH=p3e;var h3e=(t,e,r)=>t<<32-r|e>>>r;lr.shrSL=h3e;var m3e=(t,e,r)=>t>>>r|e<<32-r;lr.rotrSH=m3e;var y3e=(t,e,r)=>t<<32-r|e>>>r;lr.rotrSL=y3e;var g3e=(t,e,r)=>t<<64-r|e>>>r-32;lr.rotrBH=g3e;var b3e=(t,e,r)=>t>>>r-32|e<<64-r;lr.rotrBL=b3e;var _3e=(t,e)=>e;lr.rotr32H=_3e;var S3e=(t,e)=>t;lr.rotr32L=S3e;var w3e=(t,e,r)=>t<<r|e>>>32-r;lr.rotlSH=w3e;var A3e=(t,e,r)=>e<<r|t>>>32-r;lr.rotlSL=A3e;var E3e=(t,e,r)=>e<<r-32|t>>>64-r;lr.rotlBH=E3e;var I3e=(t,e,r)=>t<<r-32|e>>>64-r;lr.rotlBL=I3e;function T3e(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}lr.add=T3e;var k3e=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);lr.add3L=k3e;var v3e=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;lr.add3H=v3e;var x3e=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);lr.add4L=x3e;var P3e=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0;lr.add4H=P3e;var O3e=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0);lr.add5L=O3e;var R3e=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;lr.add5H=R3e;var N$t={fromBig:vue,split:d3e,toBig:f3e,shrSH:p3e,shrSL:h3e,rotrSH:m3e,rotrSL:y3e,rotrBH:g3e,rotrBL:b3e,rotr32H:_3e,rotr32L:S3e,rotlSH:w3e,rotlSL:A3e,rotlBH:E3e,rotlBL:I3e,add:T3e,add3L:k3e,add3H:v3e,add4L:x3e,add4H:P3e,add5H:R3e,add5L:O3e};lr.default=N$t});var B3e=_(DV=>{"use strict";u();l();Object.defineProperty(DV,"__esModule",{value:!0});DV.crypto=void 0;DV.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var N3e=_(Cr=>{"use strict";u();l();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.randomBytes=Cr.wrapXOFConstructorWithOpts=Cr.wrapConstructorWithOpts=Cr.wrapConstructor=Cr.checkOpts=Cr.Hash=Cr.concatBytes=Cr.toBytes=Cr.utf8ToBytes=Cr.asyncLoop=Cr.nextTick=Cr.hexToBytes=Cr.bytesToHex=Cr.isLE=Cr.rotr=Cr.createView=Cr.u32=Cr.u8=void 0;var xue=B3e(),Oue=t=>t instanceof Uint8Array,D$t=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Cr.u8=D$t;var U$t=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Cr.u32=U$t;var L$t=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Cr.createView=L$t;var z$t=(t,e)=>t<<32-e|t>>>e;Cr.rotr=z$t;Cr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Cr.isLE)throw new Error("Non little-endian hardware is not supported");var F$t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function q$t(t){if(!Oue(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=F$t[t[r]];return e}Cr.bytesToHex=q$t;function j$t(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}Cr.hexToBytes=j$t;var K$t=async()=>{};Cr.nextTick=K$t;async function W$t(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await(0,Cr.nextTick)(),n+=o)}}Cr.asyncLoop=W$t;function M3e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}Cr.utf8ToBytes=M3e;function UV(t){if(typeof t=="string"&&(t=M3e(t)),!Oue(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}Cr.toBytes=UV;function V$t(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Oue(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}Cr.concatBytes=V$t;var Pue=class{clone(){return this._cloneInto()}};Cr.Hash=Pue;var G$t={}.toString;function H$t(t,e){if(e!==void 0&&G$t.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}Cr.checkOpts=H$t;function $$t(t){let e=n=>t().update(UV(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Cr.wrapConstructor=$$t;function Y$t(t){let e=(n,i)=>t(i).update(UV(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Cr.wrapConstructorWithOpts=Y$t;function X$t(t){let e=(n,i)=>t(i).update(UV(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Cr.wrapXOFConstructorWithOpts=X$t;function Z$t(t=32){if(xue.crypto&&typeof xue.crypto.getRandomValues=="function")return xue.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}Cr.randomBytes=Z$t});var K3e=_(Di=>{"use strict";u();l();Object.defineProperty(Di,"__esModule",{value:!0});Di.shake256=Di.shake128=Di.keccak_512=Di.keccak_384=Di.keccak_256=Di.keccak_224=Di.sha3_512=Di.sha3_384=Di.sha3_256=Di.sha3_224=Di.Keccak=Di.keccakP=void 0;var Wv=l3e(),w2=C3e(),S2=N3e(),[L3e,z3e,F3e]=[[],[],[]],J$t=BigInt(0),_2=BigInt(1),Q$t=BigInt(2),e9t=BigInt(7),t9t=BigInt(256),r9t=BigInt(113);for(let t=0,e=_2,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],L3e.push(2*(5*n+r)),z3e.push((t+1)*(t+2)/2%64);let i=J$t;for(let o=0;o<7;o++)e=(e<<_2^(e>>e9t)*r9t)%t9t,e&Q$t&&(i^=_2<<(_2<<BigInt(o))-_2);F3e.push(i)}var[n9t,i9t]=(0,w2.split)(F3e,!0),D3e=(t,e,r)=>r>32?(0,w2.rotlBH)(t,e,r):(0,w2.rotlSH)(t,e,r),U3e=(t,e,r)=>r>32?(0,w2.rotlBL)(t,e,r):(0,w2.rotlSL)(t,e,r);function q3e(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,d=r[c],f=r[c+1],p=D3e(d,f,1)^r[a],m=U3e(d,f,1)^r[a+1];for(let y=0;y<50;y+=10)t[s+y]^=p,t[s+y+1]^=m}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=z3e[s],c=D3e(i,o,a),d=U3e(i,o,a),f=L3e[s];i=t[f],o=t[f+1],t[f]=c,t[f+1]=d}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=n9t[n],t[1]^=i9t[n]}r.fill(0)}Di.keccakP=q3e;var A2=class t extends S2.Hash{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Wv.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,S2.u32)(this.state)}keccak(){q3e(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,Wv.exists)(this);let{blockLen:r,state:n}=this;e=(0,S2.toBytes)(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,Wv.exists)(this,!1),(0,Wv.bytes)(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Wv.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Wv.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};Di.Keccak=A2;var RS=(t,e,r)=>(0,S2.wrapConstructor)(()=>new A2(e,t,r));Di.sha3_224=RS(6,144,224/8);Di.sha3_256=RS(6,136,256/8);Di.sha3_384=RS(6,104,384/8);Di.sha3_512=RS(6,72,512/8);Di.keccak_224=RS(1,144,224/8);Di.keccak_256=RS(1,136,256/8);Di.keccak_384=RS(1,104,384/8);Di.keccak_512=RS(1,72,512/8);var j3e=(t,e,r)=>(0,S2.wrapXOFConstructorWithOpts)((n={})=>new A2(e,t,n.dkLen===void 0?r:n.dkLen,!0));Di.shake128=j3e(31,168,128/8);Di.shake256=j3e(31,136,256/8)});var W3e=_(LV=>{"use strict";u();l();Object.defineProperty(LV,"__esModule",{value:!0});LV.hash=void 0;var o9t=Ue(),s9t=K3e();function a9t(t){return(0,s9t.keccak_256)(Array.isArray(t)?(0,o9t.mergeBytes)(t):t)}LV.hash=a9t});var FV=_(Xy=>{"use strict";u();l();Object.defineProperty(Xy,"__esModule",{value:!0});Xy.addressPluginAuthority=Xy.updatePluginAuthority=Xy.ownerPluginAuthority=Xy.nonePluginAuthority=void 0;var zV=Mi();function c9t(){return(0,zV.pluginAuthority)("None")}Xy.nonePluginAuthority=c9t;function u9t(){return(0,zV.pluginAuthority)("Owner")}Xy.ownerPluginAuthority=u9t;function l9t(){return(0,zV.pluginAuthority)("UpdateAuthority")}Xy.updatePluginAuthority=l9t;function d9t(t){return(0,zV.pluginAuthority)("Address",{address:t})}Xy.addressPluginAuthority=d9t});var Vv=_(ta=>{"use strict";u();l();Object.defineProperty(ta,"__esModule",{value:!0});ta.isAssetOwner=ta.isFrozen=ta.deriveAssetPlugins=ta.deriveExternalPluginAdapters=ta.getExternalPluginAdapterKeyAsString=ta.collectionAddress=void 0;var f9t=Zt(),p9t=Mi();function h9t(t){if(t.updateAuthority.type==="Collection")return t.updateAuthority.address}ta.collectionAddress=h9t;var m9t=["oracles","appDatas","lifecycleHooks","dataSections","linkedAppDatas"],y9t=t=>{switch(t.type){case"Oracle":return`${t.type}-${t.baseAddress}`;case"AppData":return`${t.type}-${t.dataAuthority.type}${t.dataAuthority.address?`-${t.dataAuthority.address}`:""}`;case"LifecycleHook":return`${t.type}-${t.hookedProgram}`;case"LinkedAppData":return`${t.type}-${t.dataAuthority.type}${t.dataAuthority.address?`-${t.dataAuthority.address}`:""}`;case"DataSection":return`${t.type}-${(0,ta.getExternalPluginAdapterKeyAsString)(t.parentKey)}`;default:throw new Error("Unknown ExternalPluginAdapter type")}};ta.getExternalPluginAdapterKeyAsString=y9t;var g9t=(t,e)=>{if(!e)return t;let r={};return m9t.forEach(n=>{let i=new Set;(t[n]||e[n])&&(r[n]=[]),t[n]?.forEach(o=>{i.add((0,ta.getExternalPluginAdapterKeyAsString)(o)),r[n]?.push(o)}),e[n]?.forEach(o=>{i.has((0,ta.getExternalPluginAdapterKeyAsString)(o))||r[n]?.push(o)})}),r};ta.deriveExternalPluginAdapters=g9t;function V3e(t,e){if(!e)return t;let r=(0,ta.deriveExternalPluginAdapters)(t,e);r.dataSections?.forEach(a=>{let c,d;switch(a.parentKey.type){case"LinkedAppData":d=a.parentKey.dataAuthority,c=r.linkedAppDatas?.find(f=>(0,p9t.comparePluginAuthorities)(d,f.dataAuthority)),c&&(c.data=a.data);break;case"LinkedLifecycleHook":default:throw new Error("LinkedLifecycleHook currently unsupported")}});let{numMinted:n,currentSize:i,masterEdition:o,...s}=e;return{...s,...t,...r}}ta.deriveAssetPlugins=V3e;function b9t(t,e){let r=V3e(t,e);return r.freezeDelegate?.frozen||r.permanentFreezeDelegate?.frozen||!1}ta.isFrozen=b9t;function _9t(t,e){return(0,f9t.publicKey)(t)===e.owner}ta.isAssetOwner=_9t});var qV=_(_p=>{"use strict";u();l();Object.defineProperty(_p,"__esModule",{value:!0});_p.hasCollectionUpdateAuthority=_p.hasAssetUpdateAuthority=_p.hasPluginUpdateAuthority=_p.hasPluginOwnerAuthority=_p.hasPluginAddressAuthority=void 0;var Rue=Zt(),G3e=Vv();function S9t(t,e){return e.type==="Address"&&e.address===(0,Rue.publicKey)(t)}_p.hasPluginAddressAuthority=S9t;function w9t(t,e,r){return e.type==="Owner"&&(0,G3e.isAssetOwner)(t,r)}_p.hasPluginOwnerAuthority=w9t;function A9t(t,e,r,n){return e.type==="UpdateAuthority"&&H3e(t,r,n)}_p.hasPluginUpdateAuthority=A9t;function H3e(t,e,r){let n=(0,Rue.publicKey)(t),i=(0,G3e.deriveAssetPlugins)(e,r);if(i.updateAuthority.type==="Collection"&&i.updateAuthority.address!==r?.publicKey)throw Error("Collection mismatch");return i.updateAuthority.type==="Address"&&i.updateAuthority.address===n||i.updateDelegate?.authority.type==="Address"&&i.updateDelegate?.authority.address===n||i.updateDelegate?.authority.type==="Owner"&&i.owner===n||i.updateAuthority.type==="Collection"&&r?.updateAuthority===n}_p.hasAssetUpdateAuthority=H3e;function E9t(t,e){let r=(0,Rue.publicKey)(t);return e.updateAuthority===r||e.updateDelegate?.authority.type==="Address"&&e.updateDelegate?.authority.address===r}_p.hasCollectionUpdateAuthority=E9t});var Bue=_(CS=>{"use strict";u();l();Object.defineProperty(CS,"__esModule",{value:!0});CS.checkPluginAuthorities=CS.pluginTypeFromAssetPluginKey=CS.assetPluginKeyFromType=void 0;var I9t=Zt(),Y3e=Yk(),X3e=un(),Cue=Vv(),$3e=qV();function Z3e(t){return(0,Y3e.lowercaseFirstLetter)(X3e.PluginType[t])}CS.assetPluginKeyFromType=Z3e;function T9t(t){return X3e.PluginType[(0,Y3e.capitalizeFirstLetter)(t)]}CS.pluginTypeFromAssetPluginKey=T9t;function k9t({authority:t,pluginTypes:e,asset:r,collection:n}){let i=(0,Cue.collectionAddress)(r);if(i&&i!==n?.publicKey)throw new Error("Collection mismatch");let o=(0,Cue.deriveAssetPlugins)(r,n),s=(0,I9t.publicKey)(t),a=(0,$3e.hasAssetUpdateAuthority)(s,r,n),c=(0,Cue.isAssetOwner)(s,r);return e.map(d=>{let f=o[Z3e(d)];return!!(f&&((0,$3e.hasPluginAddressAuthority)(s,f.authority)||f.authority.type==="UpdateAuthority"&&a||f.authority.type==="Owner"&&c))})}CS.checkPluginAuthorities=k9t});var Q3e=_(wa=>{"use strict";u();l();Object.defineProperty(wa,"__esModule",{value:!0});wa.validateUpdate=wa.canUpdate=wa.validateBurn=wa.canBurn=wa.validateTransfer=wa.canTransfer=wa.LifecycleValidationError=void 0;var Eh=un(),BS=Vv(),MS=Bue(),J3e=qV(),Zy=Mi(),Ob;(function(t){t.OracleValidationFailed="Oracle validation failed.",t.NoAuthority="No authority to perform this action.",t.AssetFrozen="Asset is frozen."})(Ob=wa.LifecycleValidationError||(wa.LifecycleValidationError={}));function v9t(t,e,r){let n=(0,BS.deriveAssetPlugins)(e,r);return(0,MS.checkPluginAuthorities)({authority:t,pluginTypes:[Eh.PluginType.PermanentTransferDelegate],asset:n,collection:r}).some(s=>s)?!0:(0,BS.isFrozen)(e,r)?!1:n.owner===t?!0:(0,MS.checkPluginAuthorities)({authority:t,pluginTypes:[Eh.PluginType.TransferDelegate],asset:n,collection:r}).some(s=>s)}wa.canTransfer=v9t;async function x9t(t,{authority:e,asset:r,collection:n,recipient:i}){let o=(0,BS.deriveAssetPlugins)(r,n);if((0,MS.checkPluginAuthorities)({authority:e,pluginTypes:[Eh.PluginType.PermanentTransferDelegate],asset:o,collection:n}).some(c=>c))return null;if((0,BS.isFrozen)(r,n))return Ob.AssetFrozen;if(o.oracles?.length){let c=o.oracles.filter(d=>d.lifecycleChecks?.transfer?.includes(Zy.CheckResult.CAN_REJECT)).filter(d=>!!(!d.baseAddressConfig||i||!(0,Zy.getExtraAccountRequiredInputs)(d.baseAddressConfig).includes("recipient")));if(c.length){let d=c.map(m=>({pubkey:(0,Zy.findOracleAccount)(t,m,{asset:r.publicKey,collection:n?.publicKey,owner:r.owner,recipient:i}),offset:m.resultsOffset}));if(!(await t.rpc.getAccounts(d.map(m=>m.pubkey))).map((m,y)=>m.exists?(0,Zy.deserializeOracleValidation)(m.data,d[y].offset):null).every(m=>m?.__kind==="Uninitialized"?!1:m?.transfer===Eh.ExternalValidationResult.Pass))return Ob.OracleValidationFailed}}return o.owner===e||(0,MS.checkPluginAuthorities)({authority:e,pluginTypes:[Eh.PluginType.TransferDelegate],asset:o,collection:n}).some(c=>c)?null:Ob.NoAuthority}wa.validateTransfer=x9t;function P9t(t,e,r){let n=(0,BS.deriveAssetPlugins)(e,r);return(0,MS.checkPluginAuthorities)({authority:t,pluginTypes:[Eh.PluginType.PermanentBurnDelegate],asset:n,collection:r}).some(s=>s)?!0:(0,BS.isFrozen)(e,r)?!1:n.owner===t?!0:(0,MS.checkPluginAuthorities)({authority:t,pluginTypes:[Eh.PluginType.BurnDelegate],asset:e,collection:r}).some(s=>s)}wa.canBurn=P9t;async function O9t(t,{authority:e,asset:r,collection:n}){let i=(0,BS.deriveAssetPlugins)(r,n);if((0,MS.checkPluginAuthorities)({authority:e,pluginTypes:[Eh.PluginType.PermanentBurnDelegate],asset:i,collection:n}).some(a=>a))return null;if((0,BS.isFrozen)(r,n))return Ob.AssetFrozen;if(i.oracles?.length){let a=i.oracles.filter(c=>c.lifecycleChecks?.burn?.includes(Zy.CheckResult.CAN_REJECT));if(a.length){let c=a.map(p=>({pubkey:(0,Zy.findOracleAccount)(t,p,{asset:r.publicKey,collection:n?.publicKey,owner:r.owner}),offset:p.resultsOffset}));if(!(await t.rpc.getAccounts(c.map(p=>p.pubkey))).map((p,m)=>p.exists?(0,Zy.deserializeOracleValidation)(p.data,c[m].offset):null).every(p=>p?.__kind==="Uninitialized"?!1:p?.burn===Eh.ExternalValidationResult.Pass))return Ob.OracleValidationFailed}}return i.owner===e||(0,MS.checkPluginAuthorities)({authority:e,pluginTypes:[Eh.PluginType.BurnDelegate],asset:r,collection:n}).some(a=>a)?null:Ob.NoAuthority}wa.validateBurn=O9t;function R9t(t,e,r){return(0,J3e.hasAssetUpdateAuthority)(t,e,r)}wa.canUpdate=R9t;async function C9t(t,{authority:e,asset:r,collection:n}){if(r.oracles?.length){let i=r.oracles.filter(o=>o.lifecycleChecks?.update?.includes(Zy.CheckResult.CAN_REJECT));if(i.length){let o=i.map(c=>({pubkey:(0,Zy.findOracleAccount)(t,c,{asset:r.publicKey,collection:n?.publicKey,owner:r.owner}),offset:c.resultsOffset}));if(!(await t.rpc.getAccounts(o.map(c=>c.pubkey))).map((c,d)=>c.exists?(0,Zy.deserializeOracleValidation)(c.data,o[d].offset):null).every(c=>c?.__kind==="Uninitialized"?!1:c?.update===Eh.ExternalValidationResult.Pass))return Ob.OracleValidationFailed}}return(0,J3e.hasAssetUpdateAuthority)(e,r,n)?null:Ob.NoAuthority}wa.validateUpdate=C9t});var eqe=_(xu=>{"use strict";u();l();Object.defineProperty(xu,"__esModule",{value:!0});xu.fetchCollection=xu.fetchAsset=xu.fetchCollectionsByUpdateAuthority=xu.fetchAssetsByCollection=xu.fetchAssetsByOwner=xu.deriveAssetPluginsWithFetch=void 0;var I2=Zt(),Jy=un(),B9t=Mi(),E2=Vv(),M9t=async(t,e)=>{let r=Array.from(new Set(e.map(o=>(0,E2.collectionAddress)(o)))).filter(o=>!!o),i=(await(0,Jy.fetchAllCollectionV1)(t,r)).reduce((o,s)=>(o[s.publicKey]=s,o),{});return e.map(o=>{let s=(0,E2.collectionAddress)(o);return s?(0,E2.deriveAssetPlugins)(o,i[s]):o})};xu.deriveAssetPluginsWithFetch=M9t;var N9t=async(t,e,r={})=>{let n=await(0,Jy.getAssetV1GpaBuilder)(t).whereField("key",Jy.Key.AssetV1).whereField("owner",(0,I2.publicKey)(e)).getDeserialized();return r.skipDerivePlugins?n:(0,xu.deriveAssetPluginsWithFetch)(t,n)};xu.fetchAssetsByOwner=N9t;var D9t=async(t,e,r={})=>{let n=await(0,Jy.getAssetV1GpaBuilder)(t).whereField("key",Jy.Key.AssetV1).whereField("updateAuthority",(0,B9t.updateAuthority)("Collection",[(0,I2.publicKey)(e)])).getDeserialized();return r.skipDerivePlugins?n:(0,xu.deriveAssetPluginsWithFetch)(t,n)};xu.fetchAssetsByCollection=D9t;var U9t=async(t,e)=>(0,Jy.getCollectionV1GpaBuilder)(t).whereField("key",Jy.Key.CollectionV1).whereField("updateAuthority",(0,I2.publicKey)(e)).getDeserialized();xu.fetchCollectionsByUpdateAuthority=U9t;var L9t=async(t,e,r={})=>{let n=await(0,Jy.fetchAssetV1)(t,(0,I2.publicKey)(e));if(r.skipDerivePlugins)return n;let i=(0,E2.collectionAddress)(n);return i?(0,E2.deriveAssetPlugins)(n,await(0,Jy.fetchCollectionV1)(t,i)):n};xu.fetchAsset=L9t;var z9t=async(t,e,r)=>(0,Jy.fetchCollectionV1)(t,(0,I2.publicKey)(e),r);xu.fetchCollection=z9t});var DE=_(Ih=>{"use strict";u();l();var F9t=Ih&&Ih.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),T2=Ih&&Ih.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&F9t(e,t,r)};Object.defineProperty(Ih,"__esModule",{value:!0});T2(Vv(),Ih);T2(Q3e(),Ih);T2(Bue(),Ih);T2(qV(),Ih);T2(eqe(),Ih)});var Mue=_(Gv=>{"use strict";u();l();Object.defineProperty(Gv,"__esModule",{value:!0});Gv.ERR_CANNOT_REVOKE=Gv.ERR_CANNOT_DELEGATE=void 0;Gv.ERR_CANNOT_DELEGATE="Cannot delegate. The target delegate is already either a plugin authority or the asset owner";Gv.ERR_CANNOT_REVOKE="Cannot revoke. Either no plugins defined or the plugin authority is already the asset owner"});var Nue=_(jV=>{"use strict";u();l();Object.defineProperty(jV,"__esModule",{value:!0});jV.approvePluginAuthority=void 0;var tqe=un(),q9t=Mi(),j9t=(t,{plugin:e,newAuthority:r,...n})=>(0,tqe.approvePluginAuthorityV1)(t,{...n,pluginType:tqe.PluginType[e.type],newAuthority:(0,q9t.pluginAuthorityToBase)(r)});jV.approvePluginAuthority=j9t});var rqe=_(WV=>{"use strict";u();l();Object.defineProperty(WV,"__esModule",{value:!0});WV.legacyDelegate=void 0;var K9t=Zt(),W9t=Mue(),V9t=un(),KV=Mi(),G9t=FV(),H9t=Nue();function $9t(t,e,r){let n=(({freezeDelegate:d,transferDelegate:f,burnDelegate:p})=>({...d?{freezeDelegate:d}:{},...f?{transferDelegate:f}:{},...p?{burnDelegate:p}:{}}))(e);if(!Object.values(n).every(d=>{let f=e.owner,p=d.authority,m=p.address;return p.type==="Owner"?r!==f:m!==r&&m!==f}))throw new Error(W9t.ERR_CANNOT_DELEGATE);let o=(0,K9t.transactionBuilder)(),s=Object.keys(n);return s.forEach(d=>{let f=(0,KV.pluginKeyToPluginType)(d);o=o.add((0,H9t.approvePluginAuthority)(t,{asset:e.publicKey,plugin:{type:f},newAuthority:{type:"Address",address:r}}))}),["freezeDelegate","transferDelegate","burnDelegate"].filter(d=>!s.includes(d)).forEach(d=>{let f=d==="freezeDelegate"?(0,KV.createPlugin)({type:"FreezeDelegate",data:{frozen:!1}}):d==="transferDelegate"?(0,KV.createPlugin)({type:"TransferDelegate"}):(0,KV.createPlugin)({type:"BurnDelegate"});o=o.add((0,V9t.addPluginV1)(t,{asset:e.publicKey,plugin:f,initAuthority:(0,G9t.addressPluginAuthority)(r)}))}),o}WV.legacyDelegate=$9t});var iqe=_(VV=>{"use strict";u();l();Object.defineProperty(VV,"__esModule",{value:!0});VV.legacyRevoke=void 0;var Y9t=Zt(),nqe=un(),X9t=Mue(),Z9t=Mi();function J9t(t,e){let r=(({freezeDelegate:s,transferDelegate:a,burnDelegate:c})=>({...s?{freezeDelegate:s}:{},...a?{transferDelegate:a}:{},...c?{burnDelegate:c}:{}}))(e),n=Object.values(r);if(!(n.length>0&&n.every(s=>{let a=e.owner,c=s.authority;return c.type!=="Owner"&&c.address!==a})))throw new Error(X9t.ERR_CANNOT_REVOKE);let o=(0,Y9t.transactionBuilder)();return Object.keys(r).forEach(s=>{let a=(0,Z9t.pluginKeyToPluginType)(s);o=o.add((0,nqe.revokePluginAuthorityV1)(t,{asset:e.publicKey,pluginType:nqe.PluginType[a]}))}),o}VV.legacyRevoke=J9t});var aqe=_(Hv=>{"use strict";u();l();Object.defineProperty(Hv,"__esModule",{value:!0});Hv.thawAsset=Hv.freezeAsset=void 0;var Due=Zt(),NS=un(),oqe=DE(),sqe=Mi(),Q9t=FV();function eYt(t,{asset:e,authority:r,collection:n,delegate:i}){if((0,oqe.isFrozen)(e,n))throw new Error("Cannot freeze: asset is already frozen");if(e.freezeDelegate&&e.freezeDelegate.authority.type==="None")throw new Error("Cannot freeze: owner has made the freeze immutable until transfer");let o=(0,Due.transactionBuilder)();return e.freezeDelegate&&(e.freezeDelegate.authority.type!=="Owner"&&(o=o.add((0,NS.revokePluginAuthorityV1)(t,{asset:e.publicKey,collection:n?.publicKey,pluginType:NS.PluginType.FreezeDelegate,authority:r}))),o=o.add((0,NS.removePluginV1)(t,{asset:e.publicKey,collection:n?.publicKey,pluginType:NS.PluginType.FreezeDelegate,authority:r}))),o=o.add((0,NS.addPluginV1)(t,{asset:e.publicKey,collection:n?.publicKey,plugin:(0,sqe.createPlugin)({type:"FreezeDelegate",data:{frozen:!0}}),initAuthority:(0,Q9t.addressPluginAuthority)((0,Due.publicKey)(i)),authority:r})),o}Hv.freezeAsset=eYt;function tYt(t,{asset:e,delegate:r,collection:n}){if(!(0,oqe.isFrozen)(e,n))throw new Error("Cannot thaw: asset is not frozen");return(0,Due.transactionBuilder)().add((0,NS.updatePluginV1)(t,{asset:e.publicKey,collection:n?.publicKey,plugin:(0,sqe.createPlugin)({type:"FreezeDelegate",data:{frozen:!1}}),authority:r})).add((0,NS.revokePluginAuthorityV1)(t,{asset:e.publicKey,collection:n?.publicKey,pluginType:NS.PluginType.FreezeDelegate,authority:r}))}Hv.thawAsset=tYt});var uqe=_(GV=>{"use strict";u();l();Object.defineProperty(GV,"__esModule",{value:!0});GV.create=void 0;var rYt=Zt(),cqe=un(),Uue=Mi(),nYt=DE(),iYt=OE(),oYt=(t,{asset:e,plugins:r,collection:n,...i})=>{let o=i.owner||i.updateAuthority||i.payer,s={oracles:[],lifecycleHooks:[]},a=[],c=[];r?.forEach(p=>{if((0,iYt.isExternalPluginAdapterType)(p))switch(a.push(p),p.type){case"Oracle":s.oracles?.push({...p,resultsOffset:p.resultsOffset||{type:"NoOffset"},baseAddress:p.baseAddress,authority:p.initPluginAuthority||{type:"UpdateAuthority"},type:"Oracle"});break;case"AppData":break;case"LifecycleHook":s.lifecycleHooks?.push({...p,hookedProgram:p.hookedProgram,authority:p.initPluginAuthority||{type:"UpdateAuthority"},type:"LifecycleHook",schema:p.schema||cqe.ExternalPluginAdapterSchema.Binary});break;default:}else c.push(p)});let d=(0,nYt.deriveExternalPluginAdapters)(s,n),f=(0,Uue.findExtraAccounts)(t,"create",d,{asset:e.publicKey,collection:n?n.publicKey:void 0,owner:o?(0,rYt.publicKey)(o):t.identity.publicKey});return(0,cqe.createV2)(t,{...i,plugins:c.map(Uue.pluginAuthorityPairV2),externalPluginAdapters:a.map(Uue.createExternalPluginAdapterInitInfo),asset:e,collection:n?n.publicKey:void 0}).addRemainingAccounts(f)};GV.create=oYt});var lqe=_(HV=>{"use strict";u();l();Object.defineProperty(HV,"__esModule",{value:!0});HV.update=void 0;var sYt=un(),aYt=Mi(),cYt=DE(),uYt=(t,{asset:e,collection:r,name:n,uri:i,...o})=>{let s=(0,cYt.deriveExternalPluginAdapters)(e,r),a=(0,aYt.findExtraAccounts)(t,"update",s,{asset:e.publicKey,collection:r?.publicKey,owner:e.owner});return(0,sYt.updateV2)(t,{...o,asset:e.publicKey,collection:r?.publicKey,newName:n,newUri:i}).addRemainingAccounts(a)};HV.update=uYt});var dqe=_($V=>{"use strict";u();l();Object.defineProperty($V,"__esModule",{value:!0});$V.transfer=void 0;var lYt=Zt(),dYt=un(),fYt=Mi(),pYt=DE(),hYt=(t,{asset:e,collection:r,...n})=>{let i=(0,pYt.deriveExternalPluginAdapters)(e,r),o=(0,fYt.findExtraAccounts)(t,"transfer",i,{asset:e.publicKey,collection:r?.publicKey,owner:e.owner,recipient:(0,lYt.publicKey)(n.newOwner)});return(0,dYt.transferV1)(t,{...n,asset:e.publicKey,collection:r?.publicKey}).addRemainingAccounts(o)};$V.transfer=hYt});var fqe=_(YV=>{"use strict";u();l();Object.defineProperty(YV,"__esModule",{value:!0});YV.burn=void 0;var mYt=un(),yYt=Mi(),gYt=DE(),bYt=(t,{asset:e,collection:r,...n})=>{let i=(0,gYt.deriveExternalPluginAdapters)(e,r),o=(0,yYt.findExtraAccounts)(t,"burn",i,{asset:e.publicKey,collection:r?.publicKey,owner:e.owner});return(0,mYt.burnV1)(t,{...n,asset:e.publicKey,collection:r?.publicKey}).addRemainingAccounts(o)};YV.burn=bYt});var hqe=_(XV=>{"use strict";u();l();Object.defineProperty(XV,"__esModule",{value:!0});XV.addPlugin=void 0;var pqe=un(),Lue=Mi(),_Yt=(t,{plugin:e,...r})=>{if((0,Lue.isExternalPluginAdapterType)(e))return(0,pqe.addExternalPluginAdapterV1)(t,{...r,initInfo:(0,Lue.createExternalPluginAdapterInitInfo)(e)});let n=(0,Lue.pluginAuthorityPairV2)(e);return(0,pqe.addPluginV1)(t,{...r,plugin:n.plugin,initAuthority:n.authority})};XV.addPlugin=_Yt});var mqe=_(ZV=>{"use strict";u();l();Object.defineProperty(ZV,"__esModule",{value:!0});ZV.removePlugin=void 0;var zue=un(),SYt=Mi(),wYt=Wce(),AYt=(t,{plugin:e,...r})=>(0,SYt.isExternalPluginAdapterType)(e)?(0,zue.removeExternalPluginAdapterV1)(t,{...r,key:(0,wYt.externalPluginAdapterKeyToBase)(e)}):(0,zue.removePluginV1)(t,{...r,pluginType:zue.PluginType[e.type]});ZV.removePlugin=AYt});var gqe=_(QV=>{"use strict";u();l();Object.defineProperty(QV,"__esModule",{value:!0});QV.updatePlugin=void 0;var yqe=un(),JV=Mi(),EYt=(t,{plugin:e,...r})=>{if((0,JV.isExternalPluginAdapterType)(e)){let n=e;return(0,yqe.updateExternalPluginAdapterV1)(t,{...r,updateInfo:(0,JV.createExternalPluginAdapterUpdateInfo)(n),key:(0,JV.externalPluginAdapterKeyToBase)(n.key)})}return(0,yqe.updatePluginV1)(t,{...r,plugin:(0,JV.createPluginV2)(e)})};QV.updatePlugin=EYt});var _qe=_(e5=>{"use strict";u();l();Object.defineProperty(e5,"__esModule",{value:!0});e5.revokePluginAuthority=void 0;var bqe=un(),IYt=(t,{plugin:e,...r})=>(0,bqe.revokePluginAuthorityV1)(t,{...r,pluginType:bqe.PluginType[e.type]});e5.revokePluginAuthority=IYt});var Aqe=_(t5=>{"use strict";u();l();Object.defineProperty(t5,"__esModule",{value:!0});t5.addCollectionPlugin=void 0;var Sqe=un(),TYt=Mi(),wqe=OE(),kYt=(t,{plugin:e,...r})=>{if((0,wqe.isExternalPluginAdapterType)(e))return(0,Sqe.addCollectionExternalPluginAdapterV1)(t,{...r,initInfo:(0,wqe.createExternalPluginAdapterInitInfo)(e)});let n=(0,TYt.pluginAuthorityPairV2)(e);return(0,Sqe.addCollectionPluginV1)(t,{...r,plugin:n.plugin,initAuthority:n.authority})};t5.addCollectionPlugin=kYt});var Iqe=_(r5=>{"use strict";u();l();Object.defineProperty(r5,"__esModule",{value:!0});r5.approveCollectionPluginAuthority=void 0;var Eqe=un(),vYt=Mi(),xYt=(t,{plugin:e,newAuthority:r,...n})=>(0,Eqe.approveCollectionPluginAuthorityV1)(t,{...n,pluginType:Eqe.PluginType[e.type],newAuthority:(0,vYt.pluginAuthorityToBase)(r)});r5.approveCollectionPluginAuthority=xYt});var Tqe=_(n5=>{"use strict";u();l();Object.defineProperty(n5,"__esModule",{value:!0});n5.burnCollection=void 0;var PYt=un();Object.defineProperty(n5,"burnCollection",{enumerable:!0,get:function(){return PYt.burnCollectionV1}})});var vqe=_(i5=>{"use strict";u();l();Object.defineProperty(i5,"__esModule",{value:!0});i5.createCollection=void 0;var OYt=un(),kqe=Mi(),RYt=OE(),CYt=(t,{plugins:e,...r})=>{let n=[],i=[];return e?.forEach(o=>{(0,RYt.isExternalPluginAdapterType)(o)?i.push(o):n.push(o)}),(0,OYt.createCollectionV2)(t,{...r,plugins:n.map(kqe.pluginAuthorityPairV2),externalPluginAdapters:i.map(kqe.createExternalPluginAdapterInitInfo)})};i5.createCollection=CYt});var xqe=_(o5=>{"use strict";u();l();Object.defineProperty(o5,"__esModule",{value:!0});o5.removeCollectionPlugin=void 0;var Fue=un(),BYt=Mi(),MYt=OE(),NYt=(t,{plugin:e,...r})=>(0,MYt.isExternalPluginAdapterType)(e)?(0,Fue.removeCollectionExternalPluginAdapterV1)(t,{...r,key:(0,BYt.externalPluginAdapterKeyToBase)(e)}):(0,Fue.removeCollectionPluginV1)(t,{...r,pluginType:Fue.PluginType[e.type]});o5.removeCollectionPlugin=NYt});var Oqe=_(s5=>{"use strict";u();l();Object.defineProperty(s5,"__esModule",{value:!0});s5.revokeCollectionPluginAuthority=void 0;var Pqe=un(),DYt=(t,{plugin:e,...r})=>(0,Pqe.revokeCollectionPluginAuthorityV1)(t,{...r,pluginType:Pqe.PluginType[e.type]});s5.revokeCollectionPluginAuthority=DYt});var Rqe=_(a5=>{"use strict";u();l();Object.defineProperty(a5,"__esModule",{value:!0});a5.updateCollection=void 0;var UYt=un(),LYt=(t,{name:e,uri:r,...n})=>(0,UYt.updateCollectionV1)(t,{...n,newName:e,newUri:r});a5.updateCollection=LYt});var Bqe=_(u5=>{"use strict";u();l();Object.defineProperty(u5,"__esModule",{value:!0});u5.updateCollectionPlugin=void 0;var Cqe=un(),c5=Mi(),zYt=(t,{plugin:e,...r})=>{if((0,c5.isExternalPluginAdapterType)(e)){let n=e;return(0,Cqe.updateCollectionExternalPluginAdapterV1)(t,{...r,updateInfo:(0,c5.createExternalPluginAdapterUpdateInfo)(n),key:(0,c5.externalPluginAdapterKeyToBase)(n.key)})}return(0,Cqe.updateCollectionPluginV1)(t,{...r,plugin:(0,c5.createPluginV2)(e)})};u5.updateCollectionPlugin=zYt});var Mqe=_(sd=>{"use strict";u();l();var FYt=sd&&sd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DS=sd&&sd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&FYt(e,t,r)};Object.defineProperty(sd,"__esModule",{value:!0});DS(Aqe(),sd);DS(Iqe(),sd);DS(Tqe(),sd);DS(vqe(),sd);DS(xqe(),sd);DS(Oqe(),sd);DS(Rqe(),sd);DS(Bqe(),sd)});var Nqe=_(l5=>{"use strict";u();l();Object.defineProperty(l5,"__esModule",{value:!0});l5.writeData=void 0;var qYt=un(),jYt=Mi(),KYt=(t,e)=>{let{key:r,...n}=e;return(0,qYt.writeExternalPluginAdapterDataV1)(t,{...n,key:(0,jYt.externalPluginAdapterKeyToBase)(r)})};l5.writeData=KYt});var Dqe=_(_s=>{"use strict";u();l();var WYt=_s&&_s.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ad=_s&&_s.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&WYt(e,t,r)};Object.defineProperty(_s,"__esModule",{value:!0});ad(rqe(),_s);ad(iqe(),_s);ad(aqe(),_s);ad(uqe(),_s);ad(lqe(),_s);ad(dqe(),_s);ad(fqe(),_s);ad(hqe(),_s);ad(mqe(),_s);ad(gqe(),_s);ad(Nue(),_s);ad(_qe(),_s);ad(Mqe(),_s);ad(Nqe(),_s)});var Uqe=_(df=>{"use strict";u();l();var VYt=df&&df.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UE=df&&df.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&VYt(e,t,r)};Object.defineProperty(df,"__esModule",{value:!0});UE(un(),df);UE(o3e(),df);UE(W3e(),df);UE(FV(),df);UE(Mi(),df);UE(DE(),df);UE(Dqe(),df)});var Oje=_((ax,Pje)=>{"use strict";u();l();var eZt=function(){if(typeof self<"u"||typeof self<"u"||typeof self<"u")return self;throw new Error("unable to locate global object")},VE=eZt();Pje.exports=ax=VE.fetch;VE.fetch&&(ax.default=VE.fetch.bind(VE));ax.Headers=VE.Headers;ax.Request=VE.Request;ax.Response=VE.Response});var Qde=_(Y=>{"use strict";u();l();var je=Ne(),Si=EI(),ude=typeof globalThis<"u"?globalThis:typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{};function KZt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lde={exports:{}};(function(t,e){function r(w,R){if(!w)throw new Error(R||"Assertion failed")}function n(w,R){w.super_=R;var B=function(){};B.prototype=R.prototype,w.prototype=new B,w.prototype.constructor=w}function i(w,R,B){if(i.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&(R!=="le"&&R!=="be"||(B=R,R=10),this._init(w||0,R||10,B||"be"))}var o;typeof lde=="object"?lde.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o=typeof self<"u"&&self.Buffer!==void 0?self.Buffer:EI().Buffer}catch{}function s(w,R){var B=w.charCodeAt(R);return B>=48&&B<=57?B-48:B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:void r(0,"Invalid character in "+w)}function a(w,R,B){var C=s(w,B);return B-1>=R&&(C|=s(w,B-1)<<4),C}function c(w,R,B,C){for(var O=0,N=0,ie=Math.min(w.length,B),ue=R;ue<ie;ue++){var me=w.charCodeAt(ue)-48;O*=C,N=me>=49?me-49+10:me>=17?me-17+10:me,r(me>=0&&N<C,"Invalid character"),O+=N}return O}function d(w,R){w.words=R.words,w.length=R.length,w.negative=R.negative,w.red=R.red}if(i.isBN=function(w){return w instanceof i?1:w!==null&&typeof w=="object"&&w.constructor.wordSize===i.wordSize&&Array.isArray(w.words)},i.max=function(w,R){return w.cmp(R)>0?w:R},i.min=function(w,R){return w.cmp(R)<0?w:R},i.prototype._init=function(w,R,B){if(typeof w=="number")return this._initNumber(w,R,B);if(typeof w=="object")return this._initArray(w,R,B);R==="hex"&&(R=16),r(R===(0|R)&&R>=2&&R<=36);var C=0;(w=w.toString().replace(/\s+/g,""))[0]==="-"&&(C++,this.negative=1),C<w.length&&(R===16?this._parseHex(w,C,B):(this._parseBase(w,R,C),B==="le"&&this._initArray(this.toArray(),R,B)))},i.prototype._initNumber=function(w,R,B){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[67108863&w],this.length=1):w<4503599627370496?(this.words=[67108863&w,w/67108864&67108863],this.length=2):(r(w<9007199254740992),this.words=[67108863&w,w/67108864&67108863,1],this.length=3),B==="le"&&this._initArray(this.toArray(),R,B)},i.prototype._initArray=function(w,R,B){if(r(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var O,N,ie=0;if(B==="be")for(C=w.length-1,O=0;C>=0;C-=3)N=w[C]|w[C-1]<<8|w[C-2]<<16,this.words[O]|=N<<ie&67108863,this.words[O+1]=N>>>26-ie&67108863,(ie+=24)>=26&&(ie-=26,O++);else if(B==="le")for(C=0,O=0;C<w.length;C+=3)N=w[C]|w[C+1]<<8|w[C+2]<<16,this.words[O]|=N<<ie&67108863,this.words[O+1]=N>>>26-ie&67108863,(ie+=24)>=26&&(ie-=26,O++);return this._strip()},i.prototype._parseHex=function(w,R,B){this.length=Math.ceil((w.length-R)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var O,N=0,ie=0;if(B==="be")for(C=w.length-1;C>=R;C-=2)O=a(w,R,C)<<N,this.words[ie]|=67108863&O,N>=18?(N-=18,ie+=1,this.words[ie]|=O>>>26):N+=8;else for(C=(w.length-R)%2==0?R+1:R;C<w.length;C+=2)O=a(w,R,C)<<N,this.words[ie]|=67108863&O,N>=18?(N-=18,ie+=1,this.words[ie]|=O>>>26):N+=8;this._strip()},i.prototype._parseBase=function(w,R,B){this.words=[0],this.length=1;for(var C=0,O=1;O<=67108863;O*=R)C++;C--,O=O/R|0;for(var N=w.length-B,ie=N%C,ue=Math.min(N,N-ie)+B,me=0,ye=B;ye<ue;ye+=C)me=c(w,ye,ye+C,R),this.imuln(O),this.words[0]+me<67108864?this.words[0]+=me:this._iaddn(me);if(ie!==0){var Ge=1;for(me=c(w,ye,w.length,R),ye=0;ye<ie;ye++)Ge*=R;this.imuln(Ge),this.words[0]+me<67108864?this.words[0]+=me:this._iaddn(me)}this._strip()},i.prototype.copy=function(w){w.words=new Array(this.length);for(var R=0;R<this.length;R++)w.words[R]=this.words[R];w.length=this.length,w.negative=this.negative,w.red=this.red},i.prototype._move=function(w){d(w,this)},i.prototype.clone=function(){var w=new i(null);return this.copy(w),w},i.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(w,R,B){B.negative=R.negative^w.negative;var C=w.length+R.length|0;B.length=C,C=C-1|0;var O=0|w.words[0],N=0|R.words[0],ie=O*N,ue=67108863&ie,me=ie/67108864|0;B.words[0]=ue;for(var ye=1;ye<C;ye++){for(var Ge=me>>>26,Be=67108863&me,Fe=Math.min(ye,R.length-1),Ae=Math.max(0,ye-w.length+1);Ae<=Fe;Ae++){var wt=ye-Ae|0;Ge+=(ie=(O=0|w.words[wt])*(N=0|R.words[Ae])+Be)/67108864|0,Be=67108863&ie}B.words[ye]=0|Be,me=0|Ge}return me!==0?B.words[ye]=0|me:B.length--,B._strip()}i.prototype.toString=function(w,R){var B;if(R=0|R||1,(w=w||10)===16||w==="hex"){B="";for(var C=0,O=0,N=0;N<this.length;N++){var ie=this.words[N],ue=(16777215&(ie<<C|O)).toString(16);O=ie>>>24-C&16777215,(C+=2)>=26&&(C-=26,N--),B=O!==0||N!==this.length-1?p[6-ue.length]+ue+B:ue+B}for(O!==0&&(B=O.toString(16)+B);B.length%R!=0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}if(w===(0|w)&&w>=2&&w<=36){var me=m[w],ye=y[w];B="";var Ge=this.clone();for(Ge.negative=0;!Ge.isZero();){var Be=Ge.modrn(ye).toString(w);B=(Ge=Ge.idivn(ye)).isZero()?Be+B:p[me-Be.length]+Be+B}for(this.isZero()&&(B="0"+B);B.length%R!=0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}r(0,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=67108864*this.words[1]:this.length===3&&this.words[2]===1?w+=4503599627370496+67108864*this.words[1]:this.length>2&&r(0,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(w,R){return this.toArrayLike(o,w,R)}),i.prototype.toArray=function(w,R){return this.toArrayLike(Array,w,R)},i.prototype.toArrayLike=function(w,R,B){this._strip();var C=this.byteLength(),O=B||Math.max(1,C);r(C<=O,"byte array longer than desired length"),r(O>0,"Requested array length <= 0");var N=function(ie,ue){return ie.allocUnsafe?ie.allocUnsafe(ue):new ie(ue)}(w,O);return this["_toArrayLike"+(R==="le"?"LE":"BE")](N,C),N},i.prototype._toArrayLikeLE=function(w){for(var R=0,B=0,C=0,O=0;C<this.length;C++){var N=this.words[C]<<O|B;w[R++]=255&N,R<w.length&&(w[R++]=N>>8&255),R<w.length&&(w[R++]=N>>16&255),O===6?(R<w.length&&(w[R++]=N>>24&255),B=0,O=0):(B=N>>>24,O+=2)}if(R<w.length)for(w[R++]=B;R<w.length;)w[R++]=0},i.prototype._toArrayLikeBE=function(w){for(var R=w.length-1,B=0,C=0,O=0;C<this.length;C++){var N=this.words[C]<<O|B;w[R--]=255&N,R>=0&&(w[R--]=N>>8&255),R>=0&&(w[R--]=N>>16&255),O===6?(R>=0&&(w[R--]=N>>24&255),B=0,O=0):(B=N>>>24,O+=2)}if(R>=0)for(w[R--]=B;R>=0;)w[R--]=0},Math.clz32?i.prototype._countBits=function(w){return 32-Math.clz32(w)}:i.prototype._countBits=function(w){var R=w,B=0;return R>=4096&&(B+=13,R>>>=13),R>=64&&(B+=7,R>>>=7),R>=8&&(B+=4,R>>>=4),R>=2&&(B+=2,R>>>=2),B+R},i.prototype._zeroBits=function(w){if(w===0)return 26;var R=w,B=0;return!(8191&R)&&(B+=13,R>>>=13),!(127&R)&&(B+=7,R>>>=7),!(15&R)&&(B+=4,R>>>=4),!(3&R)&&(B+=2,R>>>=2),!(1&R)&&B++,B},i.prototype.bitLength=function(){var w=this.words[this.length-1],R=this._countBits(w);return 26*(this.length-1)+R},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,R=0;R<this.length;R++){var B=this._zeroBits(this.words[R]);if(w+=B,B!==26)break}return w},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},i.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var R=0;R<w.length;R++)this.words[R]=this.words[R]|w.words[R];return this._strip()},i.prototype.ior=function(w){return r((this.negative|w.negative)==0),this.iuor(w)},i.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},i.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},i.prototype.iuand=function(w){var R;R=this.length>w.length?w:this;for(var B=0;B<R.length;B++)this.words[B]=this.words[B]&w.words[B];return this.length=R.length,this._strip()},i.prototype.iand=function(w){return r((this.negative|w.negative)==0),this.iuand(w)},i.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},i.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},i.prototype.iuxor=function(w){var R,B;this.length>w.length?(R=this,B=w):(R=w,B=this);for(var C=0;C<B.length;C++)this.words[C]=R.words[C]^B.words[C];if(this!==R)for(;C<R.length;C++)this.words[C]=R.words[C];return this.length=R.length,this._strip()},i.prototype.ixor=function(w){return r((this.negative|w.negative)==0),this.iuxor(w)},i.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},i.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},i.prototype.inotn=function(w){r(typeof w=="number"&&w>=0);var R=0|Math.ceil(w/26),B=w%26;this._expand(R),B>0&&R--;for(var C=0;C<R;C++)this.words[C]=67108863&~this.words[C];return B>0&&(this.words[C]=~this.words[C]&67108863>>26-B),this._strip()},i.prototype.notn=function(w){return this.clone().inotn(w)},i.prototype.setn=function(w,R){r(typeof w=="number"&&w>=0);var B=w/26|0,C=w%26;return this._expand(B+1),this.words[B]=R?this.words[B]|1<<C:this.words[B]&~(1<<C),this._strip()},i.prototype.iadd=function(w){var R,B,C;if(this.negative!==0&&w.negative===0)return this.negative=0,R=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,R=this.isub(w),w.negative=1,R._normSign();this.length>w.length?(B=this,C=w):(B=w,C=this);for(var O=0,N=0;N<C.length;N++)R=(0|B.words[N])+(0|C.words[N])+O,this.words[N]=67108863&R,O=R>>>26;for(;O!==0&&N<B.length;N++)R=(0|B.words[N])+O,this.words[N]=67108863&R,O=R>>>26;if(this.length=B.length,O!==0)this.words[this.length]=O,this.length++;else if(B!==this)for(;N<B.length;N++)this.words[N]=B.words[N];return this},i.prototype.add=function(w){var R;return w.negative!==0&&this.negative===0?(w.negative=0,R=this.sub(w),w.negative^=1,R):w.negative===0&&this.negative!==0?(this.negative=0,R=w.sub(this),this.negative=1,R):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},i.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var R=this.iadd(w);return w.negative=1,R._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var B,C,O=this.cmp(w);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;O>0?(B=this,C=w):(B=w,C=this);for(var N=0,ie=0;ie<C.length;ie++)N=(R=(0|B.words[ie])-(0|C.words[ie])+N)>>26,this.words[ie]=67108863&R;for(;N!==0&&ie<B.length;ie++)N=(R=(0|B.words[ie])+N)>>26,this.words[ie]=67108863&R;if(N===0&&ie<B.length&&B!==this)for(;ie<B.length;ie++)this.words[ie]=B.words[ie];return this.length=Math.max(this.length,ie),B!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(w){return this.clone().isub(w)};var b=function(w,R,B){var C,O,N,ie=w.words,ue=R.words,me=B.words,ye=0,Ge=0|ie[0],Be=8191&Ge,Fe=Ge>>>13,Ae=0|ie[1],wt=8191&Ae,Lt=Ae>>>13,zn=0|ie[2],qt=8191&zn,rr=zn>>>13,z=0|ie[3],F=8191&z,K=z>>>13,de=0|ie[4],ee=8191&de,oe=de>>>13,_e=0|ie[5],Q=8191&_e,ne=_e>>>13,ge=0|ie[6],ae=8191&ge,Ie=ge>>>13,bt=0|ie[7],Ve=8191&bt,Et=bt>>>13,Fn=0|ie[8],jt=8191&Fn,Pt=Fn>>>13,D=0|ie[9],k=8191&D,x=D>>>13,q=0|ue[0],J=8191&q,ce=q>>>13,Re=0|ue[1],ut=8191&Re,Ot=Re>>>13,Vt=0|ue[2],yr=8191&Vt,nr=Vt>>>13,Mye=0|ue[3],No=8191&Mye,Do=Mye>>>13,Nye=0|ue[4],Uo=8191&Nye,Lo=Nye>>>13,Dye=0|ue[5],zo=8191&Dye,Fo=Dye>>>13,Uye=0|ue[6],qo=8191&Uye,jo=Uye>>>13,Lye=0|ue[7],Ko=8191&Lye,Wo=Lye>>>13,zye=0|ue[8],Vo=8191&zye,Go=zye>>>13,Fye=0|ue[9],Ho=8191&Fye,$o=Fye>>>13;B.negative=w.negative^R.negative,B.length=19;var S$=(ye+(C=Math.imul(Be,J))|0)+((8191&(O=(O=Math.imul(Be,ce))+Math.imul(Fe,J)|0))<<13)|0;ye=((N=Math.imul(Fe,ce))+(O>>>13)|0)+(S$>>>26)|0,S$&=67108863,C=Math.imul(wt,J),O=(O=Math.imul(wt,ce))+Math.imul(Lt,J)|0,N=Math.imul(Lt,ce);var w$=(ye+(C=C+Math.imul(Be,ut)|0)|0)+((8191&(O=(O=O+Math.imul(Be,Ot)|0)+Math.imul(Fe,ut)|0))<<13)|0;ye=((N=N+Math.imul(Fe,Ot)|0)+(O>>>13)|0)+(w$>>>26)|0,w$&=67108863,C=Math.imul(qt,J),O=(O=Math.imul(qt,ce))+Math.imul(rr,J)|0,N=Math.imul(rr,ce),C=C+Math.imul(wt,ut)|0,O=(O=O+Math.imul(wt,Ot)|0)+Math.imul(Lt,ut)|0,N=N+Math.imul(Lt,Ot)|0;var A$=(ye+(C=C+Math.imul(Be,yr)|0)|0)+((8191&(O=(O=O+Math.imul(Be,nr)|0)+Math.imul(Fe,yr)|0))<<13)|0;ye=((N=N+Math.imul(Fe,nr)|0)+(O>>>13)|0)+(A$>>>26)|0,A$&=67108863,C=Math.imul(F,J),O=(O=Math.imul(F,ce))+Math.imul(K,J)|0,N=Math.imul(K,ce),C=C+Math.imul(qt,ut)|0,O=(O=O+Math.imul(qt,Ot)|0)+Math.imul(rr,ut)|0,N=N+Math.imul(rr,Ot)|0,C=C+Math.imul(wt,yr)|0,O=(O=O+Math.imul(wt,nr)|0)+Math.imul(Lt,yr)|0,N=N+Math.imul(Lt,nr)|0;var E$=(ye+(C=C+Math.imul(Be,No)|0)|0)+((8191&(O=(O=O+Math.imul(Be,Do)|0)+Math.imul(Fe,No)|0))<<13)|0;ye=((N=N+Math.imul(Fe,Do)|0)+(O>>>13)|0)+(E$>>>26)|0,E$&=67108863,C=Math.imul(ee,J),O=(O=Math.imul(ee,ce))+Math.imul(oe,J)|0,N=Math.imul(oe,ce),C=C+Math.imul(F,ut)|0,O=(O=O+Math.imul(F,Ot)|0)+Math.imul(K,ut)|0,N=N+Math.imul(K,Ot)|0,C=C+Math.imul(qt,yr)|0,O=(O=O+Math.imul(qt,nr)|0)+Math.imul(rr,yr)|0,N=N+Math.imul(rr,nr)|0,C=C+Math.imul(wt,No)|0,O=(O=O+Math.imul(wt,Do)|0)+Math.imul(Lt,No)|0,N=N+Math.imul(Lt,Do)|0;var I$=(ye+(C=C+Math.imul(Be,Uo)|0)|0)+((8191&(O=(O=O+Math.imul(Be,Lo)|0)+Math.imul(Fe,Uo)|0))<<13)|0;ye=((N=N+Math.imul(Fe,Lo)|0)+(O>>>13)|0)+(I$>>>26)|0,I$&=67108863,C=Math.imul(Q,J),O=(O=Math.imul(Q,ce))+Math.imul(ne,J)|0,N=Math.imul(ne,ce),C=C+Math.imul(ee,ut)|0,O=(O=O+Math.imul(ee,Ot)|0)+Math.imul(oe,ut)|0,N=N+Math.imul(oe,Ot)|0,C=C+Math.imul(F,yr)|0,O=(O=O+Math.imul(F,nr)|0)+Math.imul(K,yr)|0,N=N+Math.imul(K,nr)|0,C=C+Math.imul(qt,No)|0,O=(O=O+Math.imul(qt,Do)|0)+Math.imul(rr,No)|0,N=N+Math.imul(rr,Do)|0,C=C+Math.imul(wt,Uo)|0,O=(O=O+Math.imul(wt,Lo)|0)+Math.imul(Lt,Uo)|0,N=N+Math.imul(Lt,Lo)|0;var T$=(ye+(C=C+Math.imul(Be,zo)|0)|0)+((8191&(O=(O=O+Math.imul(Be,Fo)|0)+Math.imul(Fe,zo)|0))<<13)|0;ye=((N=N+Math.imul(Fe,Fo)|0)+(O>>>13)|0)+(T$>>>26)|0,T$&=67108863,C=Math.imul(ae,J),O=(O=Math.imul(ae,ce))+Math.imul(Ie,J)|0,N=Math.imul(Ie,ce),C=C+Math.imul(Q,ut)|0,O=(O=O+Math.imul(Q,Ot)|0)+Math.imul(ne,ut)|0,N=N+Math.imul(ne,Ot)|0,C=C+Math.imul(ee,yr)|0,O=(O=O+Math.imul(ee,nr)|0)+Math.imul(oe,yr)|0,N=N+Math.imul(oe,nr)|0,C=C+Math.imul(F,No)|0,O=(O=O+Math.imul(F,Do)|0)+Math.imul(K,No)|0,N=N+Math.imul(K,Do)|0,C=C+Math.imul(qt,Uo)|0,O=(O=O+Math.imul(qt,Lo)|0)+Math.imul(rr,Uo)|0,N=N+Math.imul(rr,Lo)|0,C=C+Math.imul(wt,zo)|0,O=(O=O+Math.imul(wt,Fo)|0)+Math.imul(Lt,zo)|0,N=N+Math.imul(Lt,Fo)|0;var k$=(ye+(C=C+Math.imul(Be,qo)|0)|0)+((8191&(O=(O=O+Math.imul(Be,jo)|0)+Math.imul(Fe,qo)|0))<<13)|0;ye=((N=N+Math.imul(Fe,jo)|0)+(O>>>13)|0)+(k$>>>26)|0,k$&=67108863,C=Math.imul(Ve,J),O=(O=Math.imul(Ve,ce))+Math.imul(Et,J)|0,N=Math.imul(Et,ce),C=C+Math.imul(ae,ut)|0,O=(O=O+Math.imul(ae,Ot)|0)+Math.imul(Ie,ut)|0,N=N+Math.imul(Ie,Ot)|0,C=C+Math.imul(Q,yr)|0,O=(O=O+Math.imul(Q,nr)|0)+Math.imul(ne,yr)|0,N=N+Math.imul(ne,nr)|0,C=C+Math.imul(ee,No)|0,O=(O=O+Math.imul(ee,Do)|0)+Math.imul(oe,No)|0,N=N+Math.imul(oe,Do)|0,C=C+Math.imul(F,Uo)|0,O=(O=O+Math.imul(F,Lo)|0)+Math.imul(K,Uo)|0,N=N+Math.imul(K,Lo)|0,C=C+Math.imul(qt,zo)|0,O=(O=O+Math.imul(qt,Fo)|0)+Math.imul(rr,zo)|0,N=N+Math.imul(rr,Fo)|0,C=C+Math.imul(wt,qo)|0,O=(O=O+Math.imul(wt,jo)|0)+Math.imul(Lt,qo)|0,N=N+Math.imul(Lt,jo)|0;var v$=(ye+(C=C+Math.imul(Be,Ko)|0)|0)+((8191&(O=(O=O+Math.imul(Be,Wo)|0)+Math.imul(Fe,Ko)|0))<<13)|0;ye=((N=N+Math.imul(Fe,Wo)|0)+(O>>>13)|0)+(v$>>>26)|0,v$&=67108863,C=Math.imul(jt,J),O=(O=Math.imul(jt,ce))+Math.imul(Pt,J)|0,N=Math.imul(Pt,ce),C=C+Math.imul(Ve,ut)|0,O=(O=O+Math.imul(Ve,Ot)|0)+Math.imul(Et,ut)|0,N=N+Math.imul(Et,Ot)|0,C=C+Math.imul(ae,yr)|0,O=(O=O+Math.imul(ae,nr)|0)+Math.imul(Ie,yr)|0,N=N+Math.imul(Ie,nr)|0,C=C+Math.imul(Q,No)|0,O=(O=O+Math.imul(Q,Do)|0)+Math.imul(ne,No)|0,N=N+Math.imul(ne,Do)|0,C=C+Math.imul(ee,Uo)|0,O=(O=O+Math.imul(ee,Lo)|0)+Math.imul(oe,Uo)|0,N=N+Math.imul(oe,Lo)|0,C=C+Math.imul(F,zo)|0,O=(O=O+Math.imul(F,Fo)|0)+Math.imul(K,zo)|0,N=N+Math.imul(K,Fo)|0,C=C+Math.imul(qt,qo)|0,O=(O=O+Math.imul(qt,jo)|0)+Math.imul(rr,qo)|0,N=N+Math.imul(rr,jo)|0,C=C+Math.imul(wt,Ko)|0,O=(O=O+Math.imul(wt,Wo)|0)+Math.imul(Lt,Ko)|0,N=N+Math.imul(Lt,Wo)|0;var x$=(ye+(C=C+Math.imul(Be,Vo)|0)|0)+((8191&(O=(O=O+Math.imul(Be,Go)|0)+Math.imul(Fe,Vo)|0))<<13)|0;ye=((N=N+Math.imul(Fe,Go)|0)+(O>>>13)|0)+(x$>>>26)|0,x$&=67108863,C=Math.imul(k,J),O=(O=Math.imul(k,ce))+Math.imul(x,J)|0,N=Math.imul(x,ce),C=C+Math.imul(jt,ut)|0,O=(O=O+Math.imul(jt,Ot)|0)+Math.imul(Pt,ut)|0,N=N+Math.imul(Pt,Ot)|0,C=C+Math.imul(Ve,yr)|0,O=(O=O+Math.imul(Ve,nr)|0)+Math.imul(Et,yr)|0,N=N+Math.imul(Et,nr)|0,C=C+Math.imul(ae,No)|0,O=(O=O+Math.imul(ae,Do)|0)+Math.imul(Ie,No)|0,N=N+Math.imul(Ie,Do)|0,C=C+Math.imul(Q,Uo)|0,O=(O=O+Math.imul(Q,Lo)|0)+Math.imul(ne,Uo)|0,N=N+Math.imul(ne,Lo)|0,C=C+Math.imul(ee,zo)|0,O=(O=O+Math.imul(ee,Fo)|0)+Math.imul(oe,zo)|0,N=N+Math.imul(oe,Fo)|0,C=C+Math.imul(F,qo)|0,O=(O=O+Math.imul(F,jo)|0)+Math.imul(K,qo)|0,N=N+Math.imul(K,jo)|0,C=C+Math.imul(qt,Ko)|0,O=(O=O+Math.imul(qt,Wo)|0)+Math.imul(rr,Ko)|0,N=N+Math.imul(rr,Wo)|0,C=C+Math.imul(wt,Vo)|0,O=(O=O+Math.imul(wt,Go)|0)+Math.imul(Lt,Vo)|0,N=N+Math.imul(Lt,Go)|0;var P$=(ye+(C=C+Math.imul(Be,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(Be,$o)|0)+Math.imul(Fe,Ho)|0))<<13)|0;ye=((N=N+Math.imul(Fe,$o)|0)+(O>>>13)|0)+(P$>>>26)|0,P$&=67108863,C=Math.imul(k,ut),O=(O=Math.imul(k,Ot))+Math.imul(x,ut)|0,N=Math.imul(x,Ot),C=C+Math.imul(jt,yr)|0,O=(O=O+Math.imul(jt,nr)|0)+Math.imul(Pt,yr)|0,N=N+Math.imul(Pt,nr)|0,C=C+Math.imul(Ve,No)|0,O=(O=O+Math.imul(Ve,Do)|0)+Math.imul(Et,No)|0,N=N+Math.imul(Et,Do)|0,C=C+Math.imul(ae,Uo)|0,O=(O=O+Math.imul(ae,Lo)|0)+Math.imul(Ie,Uo)|0,N=N+Math.imul(Ie,Lo)|0,C=C+Math.imul(Q,zo)|0,O=(O=O+Math.imul(Q,Fo)|0)+Math.imul(ne,zo)|0,N=N+Math.imul(ne,Fo)|0,C=C+Math.imul(ee,qo)|0,O=(O=O+Math.imul(ee,jo)|0)+Math.imul(oe,qo)|0,N=N+Math.imul(oe,jo)|0,C=C+Math.imul(F,Ko)|0,O=(O=O+Math.imul(F,Wo)|0)+Math.imul(K,Ko)|0,N=N+Math.imul(K,Wo)|0,C=C+Math.imul(qt,Vo)|0,O=(O=O+Math.imul(qt,Go)|0)+Math.imul(rr,Vo)|0,N=N+Math.imul(rr,Go)|0;var O$=(ye+(C=C+Math.imul(wt,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(wt,$o)|0)+Math.imul(Lt,Ho)|0))<<13)|0;ye=((N=N+Math.imul(Lt,$o)|0)+(O>>>13)|0)+(O$>>>26)|0,O$&=67108863,C=Math.imul(k,yr),O=(O=Math.imul(k,nr))+Math.imul(x,yr)|0,N=Math.imul(x,nr),C=C+Math.imul(jt,No)|0,O=(O=O+Math.imul(jt,Do)|0)+Math.imul(Pt,No)|0,N=N+Math.imul(Pt,Do)|0,C=C+Math.imul(Ve,Uo)|0,O=(O=O+Math.imul(Ve,Lo)|0)+Math.imul(Et,Uo)|0,N=N+Math.imul(Et,Lo)|0,C=C+Math.imul(ae,zo)|0,O=(O=O+Math.imul(ae,Fo)|0)+Math.imul(Ie,zo)|0,N=N+Math.imul(Ie,Fo)|0,C=C+Math.imul(Q,qo)|0,O=(O=O+Math.imul(Q,jo)|0)+Math.imul(ne,qo)|0,N=N+Math.imul(ne,jo)|0,C=C+Math.imul(ee,Ko)|0,O=(O=O+Math.imul(ee,Wo)|0)+Math.imul(oe,Ko)|0,N=N+Math.imul(oe,Wo)|0,C=C+Math.imul(F,Vo)|0,O=(O=O+Math.imul(F,Go)|0)+Math.imul(K,Vo)|0,N=N+Math.imul(K,Go)|0;var R$=(ye+(C=C+Math.imul(qt,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(qt,$o)|0)+Math.imul(rr,Ho)|0))<<13)|0;ye=((N=N+Math.imul(rr,$o)|0)+(O>>>13)|0)+(R$>>>26)|0,R$&=67108863,C=Math.imul(k,No),O=(O=Math.imul(k,Do))+Math.imul(x,No)|0,N=Math.imul(x,Do),C=C+Math.imul(jt,Uo)|0,O=(O=O+Math.imul(jt,Lo)|0)+Math.imul(Pt,Uo)|0,N=N+Math.imul(Pt,Lo)|0,C=C+Math.imul(Ve,zo)|0,O=(O=O+Math.imul(Ve,Fo)|0)+Math.imul(Et,zo)|0,N=N+Math.imul(Et,Fo)|0,C=C+Math.imul(ae,qo)|0,O=(O=O+Math.imul(ae,jo)|0)+Math.imul(Ie,qo)|0,N=N+Math.imul(Ie,jo)|0,C=C+Math.imul(Q,Ko)|0,O=(O=O+Math.imul(Q,Wo)|0)+Math.imul(ne,Ko)|0,N=N+Math.imul(ne,Wo)|0,C=C+Math.imul(ee,Vo)|0,O=(O=O+Math.imul(ee,Go)|0)+Math.imul(oe,Vo)|0,N=N+Math.imul(oe,Go)|0;var C$=(ye+(C=C+Math.imul(F,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(F,$o)|0)+Math.imul(K,Ho)|0))<<13)|0;ye=((N=N+Math.imul(K,$o)|0)+(O>>>13)|0)+(C$>>>26)|0,C$&=67108863,C=Math.imul(k,Uo),O=(O=Math.imul(k,Lo))+Math.imul(x,Uo)|0,N=Math.imul(x,Lo),C=C+Math.imul(jt,zo)|0,O=(O=O+Math.imul(jt,Fo)|0)+Math.imul(Pt,zo)|0,N=N+Math.imul(Pt,Fo)|0,C=C+Math.imul(Ve,qo)|0,O=(O=O+Math.imul(Ve,jo)|0)+Math.imul(Et,qo)|0,N=N+Math.imul(Et,jo)|0,C=C+Math.imul(ae,Ko)|0,O=(O=O+Math.imul(ae,Wo)|0)+Math.imul(Ie,Ko)|0,N=N+Math.imul(Ie,Wo)|0,C=C+Math.imul(Q,Vo)|0,O=(O=O+Math.imul(Q,Go)|0)+Math.imul(ne,Vo)|0,N=N+Math.imul(ne,Go)|0;var B$=(ye+(C=C+Math.imul(ee,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(ee,$o)|0)+Math.imul(oe,Ho)|0))<<13)|0;ye=((N=N+Math.imul(oe,$o)|0)+(O>>>13)|0)+(B$>>>26)|0,B$&=67108863,C=Math.imul(k,zo),O=(O=Math.imul(k,Fo))+Math.imul(x,zo)|0,N=Math.imul(x,Fo),C=C+Math.imul(jt,qo)|0,O=(O=O+Math.imul(jt,jo)|0)+Math.imul(Pt,qo)|0,N=N+Math.imul(Pt,jo)|0,C=C+Math.imul(Ve,Ko)|0,O=(O=O+Math.imul(Ve,Wo)|0)+Math.imul(Et,Ko)|0,N=N+Math.imul(Et,Wo)|0,C=C+Math.imul(ae,Vo)|0,O=(O=O+Math.imul(ae,Go)|0)+Math.imul(Ie,Vo)|0,N=N+Math.imul(Ie,Go)|0;var M$=(ye+(C=C+Math.imul(Q,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(Q,$o)|0)+Math.imul(ne,Ho)|0))<<13)|0;ye=((N=N+Math.imul(ne,$o)|0)+(O>>>13)|0)+(M$>>>26)|0,M$&=67108863,C=Math.imul(k,qo),O=(O=Math.imul(k,jo))+Math.imul(x,qo)|0,N=Math.imul(x,jo),C=C+Math.imul(jt,Ko)|0,O=(O=O+Math.imul(jt,Wo)|0)+Math.imul(Pt,Ko)|0,N=N+Math.imul(Pt,Wo)|0,C=C+Math.imul(Ve,Vo)|0,O=(O=O+Math.imul(Ve,Go)|0)+Math.imul(Et,Vo)|0,N=N+Math.imul(Et,Go)|0;var N$=(ye+(C=C+Math.imul(ae,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(ae,$o)|0)+Math.imul(Ie,Ho)|0))<<13)|0;ye=((N=N+Math.imul(Ie,$o)|0)+(O>>>13)|0)+(N$>>>26)|0,N$&=67108863,C=Math.imul(k,Ko),O=(O=Math.imul(k,Wo))+Math.imul(x,Ko)|0,N=Math.imul(x,Wo),C=C+Math.imul(jt,Vo)|0,O=(O=O+Math.imul(jt,Go)|0)+Math.imul(Pt,Vo)|0,N=N+Math.imul(Pt,Go)|0;var D$=(ye+(C=C+Math.imul(Ve,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(Ve,$o)|0)+Math.imul(Et,Ho)|0))<<13)|0;ye=((N=N+Math.imul(Et,$o)|0)+(O>>>13)|0)+(D$>>>26)|0,D$&=67108863,C=Math.imul(k,Vo),O=(O=Math.imul(k,Go))+Math.imul(x,Vo)|0,N=Math.imul(x,Go);var U$=(ye+(C=C+Math.imul(jt,Ho)|0)|0)+((8191&(O=(O=O+Math.imul(jt,$o)|0)+Math.imul(Pt,Ho)|0))<<13)|0;ye=((N=N+Math.imul(Pt,$o)|0)+(O>>>13)|0)+(U$>>>26)|0,U$&=67108863;var L$=(ye+(C=Math.imul(k,Ho))|0)+((8191&(O=(O=Math.imul(k,$o))+Math.imul(x,Ho)|0))<<13)|0;return ye=((N=Math.imul(x,$o))+(O>>>13)|0)+(L$>>>26)|0,L$&=67108863,me[0]=S$,me[1]=w$,me[2]=A$,me[3]=E$,me[4]=I$,me[5]=T$,me[6]=k$,me[7]=v$,me[8]=x$,me[9]=P$,me[10]=O$,me[11]=R$,me[12]=C$,me[13]=B$,me[14]=M$,me[15]=N$,me[16]=D$,me[17]=U$,me[18]=L$,ye!==0&&(me[19]=ye,B.length++),B};function S(w,R,B){B.negative=R.negative^w.negative,B.length=w.length+R.length;for(var C=0,O=0,N=0;N<B.length-1;N++){var ie=O;O=0;for(var ue=67108863&C,me=Math.min(N,R.length-1),ye=Math.max(0,N-w.length+1);ye<=me;ye++){var Ge=N-ye,Be=(0|w.words[Ge])*(0|R.words[ye]),Fe=67108863&Be;ue=67108863&(Fe=Fe+ue|0),O+=(ie=(ie=ie+(Be/67108864|0)|0)+(Fe>>>26)|0)>>>26,ie&=67108863}B.words[N]=ue,C=ie,ie=O}return C!==0?B.words[N]=C:B.length--,B._strip()}function P(w,R,B){return S(w,R,B)}Math.imul||(b=g),i.prototype.mulTo=function(w,R){var B=this.length+w.length;return this.length===10&&w.length===10?b(this,w,R):B<63?g(this,w,R):B<1024?S(this,w,R):P(this,w,R)},i.prototype.mul=function(w){var R=new i(null);return R.words=new Array(this.length+w.length),this.mulTo(w,R)},i.prototype.mulf=function(w){var R=new i(null);return R.words=new Array(this.length+w.length),P(this,w,R)},i.prototype.imul=function(w){return this.clone().mulTo(w,this)},i.prototype.imuln=function(w){var R=w<0;R&&(w=-w),r(typeof w=="number"),r(w<67108864);for(var B=0,C=0;C<this.length;C++){var O=(0|this.words[C])*w,N=(67108863&O)+(67108863&B);B>>=26,B+=O/67108864|0,B+=N>>>26,this.words[C]=67108863&N}return B!==0&&(this.words[C]=B,this.length++),R?this.ineg():this},i.prototype.muln=function(w){return this.clone().imuln(w)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(w){var R=function(N){for(var ie=new Array(N.bitLength()),ue=0;ue<ie.length;ue++){var me=ue/26|0,ye=ue%26;ie[ue]=N.words[me]>>>ye&1}return ie}(w);if(R.length===0)return new i(1);for(var B=this,C=0;C<R.length&&R[C]===0;C++,B=B.sqr());if(++C<R.length)for(var O=B.sqr();C<R.length;C++,O=O.sqr())R[C]!==0&&(B=B.mul(O));return B},i.prototype.iushln=function(w){r(typeof w=="number"&&w>=0);var R,B=w%26,C=(w-B)/26,O=67108863>>>26-B<<26-B;if(B!==0){var N=0;for(R=0;R<this.length;R++){var ie=this.words[R]&O,ue=(0|this.words[R])-ie<<B;this.words[R]=ue|N,N=ie>>>26-B}N&&(this.words[R]=N,this.length++)}if(C!==0){for(R=this.length-1;R>=0;R--)this.words[R+C]=this.words[R];for(R=0;R<C;R++)this.words[R]=0;this.length+=C}return this._strip()},i.prototype.ishln=function(w){return r(this.negative===0),this.iushln(w)},i.prototype.iushrn=function(w,R,B){var C;r(typeof w=="number"&&w>=0),C=R?(R-R%26)/26:0;var O=w%26,N=Math.min((w-O)/26,this.length),ie=67108863^67108863>>>O<<O,ue=B;if(C-=N,C=Math.max(0,C),ue){for(var me=0;me<N;me++)ue.words[me]=this.words[me];ue.length=N}if(N!==0)if(this.length>N)for(this.length-=N,me=0;me<this.length;me++)this.words[me]=this.words[me+N];else this.words[0]=0,this.length=1;var ye=0;for(me=this.length-1;me>=0&&(ye!==0||me>=C);me--){var Ge=0|this.words[me];this.words[me]=ye<<26-O|Ge>>>O,ye=Ge&ie}return ue&&ye!==0&&(ue.words[ue.length++]=ye),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(w,R,B){return r(this.negative===0),this.iushrn(w,R,B)},i.prototype.shln=function(w){return this.clone().ishln(w)},i.prototype.ushln=function(w){return this.clone().iushln(w)},i.prototype.shrn=function(w){return this.clone().ishrn(w)},i.prototype.ushrn=function(w){return this.clone().iushrn(w)},i.prototype.testn=function(w){r(typeof w=="number"&&w>=0);var R=w%26,B=(w-R)/26,C=1<<R;return this.length<=B?0:!!(this.words[B]&C)},i.prototype.imaskn=function(w){r(typeof w=="number"&&w>=0);var R=w%26,B=(w-R)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=B)return this;if(R!==0&&B++,this.length=Math.min(B,this.length),R!==0){var C=67108863^67108863>>>R<<R;this.words[this.length-1]&=C}return this._strip()},i.prototype.maskn=function(w){return this.clone().imaskn(w)},i.prototype.iaddn=function(w){return r(typeof w=="number"),r(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(0|this.words[0])<=w?(this.words[0]=w-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},i.prototype._iaddn=function(w){this.words[0]+=w;for(var R=0;R<this.length&&this.words[R]>=67108864;R++)this.words[R]-=67108864,R===this.length-1?this.words[R+1]=1:this.words[R+1]++;return this.length=Math.max(this.length,R+1),this},i.prototype.isubn=function(w){if(r(typeof w=="number"),r(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var R=0;R<this.length&&this.words[R]<0;R++)this.words[R]+=67108864,this.words[R+1]-=1;return this._strip()},i.prototype.addn=function(w){return this.clone().iaddn(w)},i.prototype.subn=function(w){return this.clone().isubn(w)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(w,R,B){var C,O,N=w.length+B;this._expand(N);var ie=0;for(C=0;C<w.length;C++){O=(0|this.words[C+B])+ie;var ue=(0|w.words[C])*R;ie=((O-=67108863&ue)>>26)-(ue/67108864|0),this.words[C+B]=67108863&O}for(;C<this.length-B;C++)ie=(O=(0|this.words[C+B])+ie)>>26,this.words[C+B]=67108863&O;if(ie===0)return this._strip();for(r(ie===-1),ie=0,C=0;C<this.length;C++)ie=(O=-(0|this.words[C])+ie)>>26,this.words[C]=67108863&O;return this.negative=1,this._strip()},i.prototype._wordDiv=function(w,R){var B=(this.length,w.length),C=this.clone(),O=w,N=0|O.words[O.length-1];(B=26-this._countBits(N))!=0&&(O=O.ushln(B),C.iushln(B),N=0|O.words[O.length-1]);var ie,ue=C.length-O.length;if(R!=="mod"){(ie=new i(null)).length=ue+1,ie.words=new Array(ie.length);for(var me=0;me<ie.length;me++)ie.words[me]=0}var ye=C.clone()._ishlnsubmul(O,1,ue);ye.negative===0&&(C=ye,ie&&(ie.words[ue]=1));for(var Ge=ue-1;Ge>=0;Ge--){var Be=67108864*(0|C.words[O.length+Ge])+(0|C.words[O.length+Ge-1]);for(Be=Math.min(Be/N|0,67108863),C._ishlnsubmul(O,Be,Ge);C.negative!==0;)Be--,C.negative=0,C._ishlnsubmul(O,1,Ge),C.isZero()||(C.negative^=1);ie&&(ie.words[Ge]=Be)}return ie&&ie._strip(),C._strip(),R!=="div"&&B!==0&&C.iushrn(B),{div:ie||null,mod:C}},i.prototype.divmod=function(w,R,B){return r(!w.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:this.negative!==0&&w.negative===0?(N=this.neg().divmod(w,R),R!=="mod"&&(C=N.div.neg()),R!=="div"&&(O=N.mod.neg(),B&&O.negative!==0&&O.iadd(w)),{div:C,mod:O}):this.negative===0&&w.negative!==0?(N=this.divmod(w.neg(),R),R!=="mod"&&(C=N.div.neg()),{div:C,mod:N.mod}):this.negative&w.negative?(N=this.neg().divmod(w.neg(),R),R!=="div"&&(O=N.mod.neg(),B&&O.negative!==0&&O.isub(w)),{div:N.div,mod:O}):w.length>this.length||this.cmp(w)<0?{div:new i(0),mod:this}:w.length===1?R==="div"?{div:this.divn(w.words[0]),mod:null}:R==="mod"?{div:null,mod:new i(this.modrn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new i(this.modrn(w.words[0]))}:this._wordDiv(w,R);var C,O,N},i.prototype.div=function(w){return this.divmod(w,"div",0).div},i.prototype.mod=function(w){return this.divmod(w,"mod",0).mod},i.prototype.umod=function(w){return this.divmod(w,"mod",1).mod},i.prototype.divRound=function(w){var R=this.divmod(w);if(R.mod.isZero())return R.div;var B=R.div.negative!==0?R.mod.isub(w):R.mod,C=w.ushrn(1),O=w.andln(1),N=B.cmp(C);return N<0||O===1&&N===0?R.div:R.div.negative!==0?R.div.isubn(1):R.div.iaddn(1)},i.prototype.modrn=function(w){var R=w<0;R&&(w=-w),r(w<=67108863);for(var B=(1<<26)%w,C=0,O=this.length-1;O>=0;O--)C=(B*C+(0|this.words[O]))%w;return R?-C:C},i.prototype.modn=function(w){return this.modrn(w)},i.prototype.idivn=function(w){var R=w<0;R&&(w=-w),r(w<=67108863);for(var B=0,C=this.length-1;C>=0;C--){var O=(0|this.words[C])+67108864*B;this.words[C]=O/w|0,B=O%w}return this._strip(),R?this.ineg():this},i.prototype.divn=function(w){return this.clone().idivn(w)},i.prototype.egcd=function(w){r(w.negative===0),r(!w.isZero());var R=this,B=w.clone();R=R.negative!==0?R.umod(w):R.clone();for(var C=new i(1),O=new i(0),N=new i(0),ie=new i(1),ue=0;R.isEven()&&B.isEven();)R.iushrn(1),B.iushrn(1),++ue;for(var me=B.clone(),ye=R.clone();!R.isZero();){for(var Ge=0,Be=1;!(R.words[0]&Be)&&Ge<26;++Ge,Be<<=1);if(Ge>0)for(R.iushrn(Ge);Ge-- >0;)(C.isOdd()||O.isOdd())&&(C.iadd(me),O.isub(ye)),C.iushrn(1),O.iushrn(1);for(var Fe=0,Ae=1;!(B.words[0]&Ae)&&Fe<26;++Fe,Ae<<=1);if(Fe>0)for(B.iushrn(Fe);Fe-- >0;)(N.isOdd()||ie.isOdd())&&(N.iadd(me),ie.isub(ye)),N.iushrn(1),ie.iushrn(1);R.cmp(B)>=0?(R.isub(B),C.isub(N),O.isub(ie)):(B.isub(R),N.isub(C),ie.isub(O))}return{a:N,b:ie,gcd:B.iushln(ue)}},i.prototype._invmp=function(w){r(w.negative===0),r(!w.isZero());var R=this,B=w.clone();R=R.negative!==0?R.umod(w):R.clone();for(var C,O=new i(1),N=new i(0),ie=B.clone();R.cmpn(1)>0&&B.cmpn(1)>0;){for(var ue=0,me=1;!(R.words[0]&me)&&ue<26;++ue,me<<=1);if(ue>0)for(R.iushrn(ue);ue-- >0;)O.isOdd()&&O.iadd(ie),O.iushrn(1);for(var ye=0,Ge=1;!(B.words[0]&Ge)&&ye<26;++ye,Ge<<=1);if(ye>0)for(B.iushrn(ye);ye-- >0;)N.isOdd()&&N.iadd(ie),N.iushrn(1);R.cmp(B)>=0?(R.isub(B),O.isub(N)):(B.isub(R),N.isub(O))}return(C=R.cmpn(1)===0?O:N).cmpn(0)<0&&C.iadd(w),C},i.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var R=this.clone(),B=w.clone();R.negative=0,B.negative=0;for(var C=0;R.isEven()&&B.isEven();C++)R.iushrn(1),B.iushrn(1);for(;;){for(;R.isEven();)R.iushrn(1);for(;B.isEven();)B.iushrn(1);var O=R.cmp(B);if(O<0){var N=R;R=B,B=N}else if(O===0||B.cmpn(1)===0)break;R.isub(B)}return B.iushln(C)},i.prototype.invm=function(w){return this.egcd(w).a.umod(w)},i.prototype.isEven=function(){return(1&this.words[0])==0},i.prototype.isOdd=function(){return(1&this.words[0])==1},i.prototype.andln=function(w){return this.words[0]&w},i.prototype.bincn=function(w){r(typeof w=="number");var R=w%26,B=(w-R)/26,C=1<<R;if(this.length<=B)return this._expand(B+1),this.words[B]|=C,this;for(var O=C,N=B;O!==0&&N<this.length;N++){var ie=0|this.words[N];O=(ie+=O)>>>26,ie&=67108863,this.words[N]=ie}return O!==0&&(this.words[N]=O,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(w){var R,B=w<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;if(this._strip(),this.length>1)R=1;else{B&&(w=-w),r(w<=67108863,"Number is too big");var C=0|this.words[0];R=C===w?0:C<w?-1:1}return this.negative!==0?0|-R:R},i.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var R=this.ucmp(w);return this.negative!==0?0|-R:R},i.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var R=0,B=this.length-1;B>=0;B--){var C=0|this.words[B],O=0|w.words[B];if(C!==O){C<O?R=-1:C>O&&(R=1);break}}return R},i.prototype.gtn=function(w){return this.cmpn(w)===1},i.prototype.gt=function(w){return this.cmp(w)===1},i.prototype.gten=function(w){return this.cmpn(w)>=0},i.prototype.gte=function(w){return this.cmp(w)>=0},i.prototype.ltn=function(w){return this.cmpn(w)===-1},i.prototype.lt=function(w){return this.cmp(w)===-1},i.prototype.lten=function(w){return this.cmpn(w)<=0},i.prototype.lte=function(w){return this.cmp(w)<=0},i.prototype.eqn=function(w){return this.cmpn(w)===0},i.prototype.eq=function(w){return this.cmp(w)===0},i.red=function(w){return new be(w)},i.prototype.toRed=function(w){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(w){return this.red=w,this},i.prototype.forceRed=function(w){return r(!this.red,"Already a number in reduction context"),this._forceRed(w)},i.prototype.redAdd=function(w){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},i.prototype.redIAdd=function(w){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},i.prototype.redSub=function(w){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},i.prototype.redISub=function(w){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},i.prototype.redShl=function(w){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},i.prototype.redMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},i.prototype.redIMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(w){return r(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var U={k256:null,p224:null,p192:null,p25519:null};function L(w,R){this.name=w,this.p=new i(R,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function j(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Z(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function se(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Ee(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function be(w){if(typeof w=="string"){var R=i._prime(w);this.m=R.p,this.prime=R}else r(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}function fe(w){be.call(this,w),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L.prototype._tmp=function(){var w=new i(null);return w.words=new Array(Math.ceil(this.n/13)),w},L.prototype.ireduce=function(w){var R,B=w;do this.split(B,this.tmp),R=(B=(B=this.imulK(B)).iadd(this.tmp)).bitLength();while(R>this.n);var C=R<this.n?-1:B.ucmp(this.p);return C===0?(B.words[0]=0,B.length=1):C>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},L.prototype.split=function(w,R){w.iushrn(this.n,0,R)},L.prototype.imulK=function(w){return w.imul(this.k)},n(j,L),j.prototype.split=function(w,R){for(var B=4194303,C=Math.min(w.length,9),O=0;O<C;O++)R.words[O]=w.words[O];if(R.length=C,w.length<=9)return w.words[0]=0,void(w.length=1);var N=w.words[9];for(R.words[R.length++]=N&B,O=10;O<w.length;O++){var ie=0|w.words[O];w.words[O-10]=(ie&B)<<4|N>>>22,N=ie}N>>>=22,w.words[O-10]=N,N===0&&w.length>10?w.length-=10:w.length-=9},j.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var R=0,B=0;B<w.length;B++){var C=0|w.words[B];R+=977*C,w.words[B]=67108863&R,R=64*C+(R/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w},n(Z,L),n(se,L),n(Ee,L),Ee.prototype.imulK=function(w){for(var R=0,B=0;B<w.length;B++){var C=19*(0|w.words[B])+R,O=67108863&C;C>>>=26,w.words[B]=O,R=C}return R!==0&&(w.words[w.length++]=R),w},i._prime=function(w){if(U[w])return U[w];var R;if(w==="k256")R=new j;else if(w==="p224")R=new Z;else if(w==="p192")R=new se;else{if(w!=="p25519")throw new Error("Unknown prime "+w);R=new Ee}return U[w]=R,R},be.prototype._verify1=function(w){r(w.negative===0,"red works only with positives"),r(w.red,"red works only with red numbers")},be.prototype._verify2=function(w,R){r((w.negative|R.negative)==0,"red works only with positives"),r(w.red&&w.red===R.red,"red works only with red numbers")},be.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):(d(w,w.umod(this.m)._forceRed(this)),w)},be.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},be.prototype.add=function(w,R){this._verify2(w,R);var B=w.add(R);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},be.prototype.iadd=function(w,R){this._verify2(w,R);var B=w.iadd(R);return B.cmp(this.m)>=0&&B.isub(this.m),B},be.prototype.sub=function(w,R){this._verify2(w,R);var B=w.sub(R);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},be.prototype.isub=function(w,R){this._verify2(w,R);var B=w.isub(R);return B.cmpn(0)<0&&B.iadd(this.m),B},be.prototype.shl=function(w,R){return this._verify1(w),this.imod(w.ushln(R))},be.prototype.imul=function(w,R){return this._verify2(w,R),this.imod(w.imul(R))},be.prototype.mul=function(w,R){return this._verify2(w,R),this.imod(w.mul(R))},be.prototype.isqr=function(w){return this.imul(w,w.clone())},be.prototype.sqr=function(w){return this.mul(w,w)},be.prototype.sqrt=function(w){if(w.isZero())return w.clone();var R=this.m.andln(3);if(r(R%2==1),R===3){var B=this.m.add(new i(1)).iushrn(2);return this.pow(w,B)}for(var C=this.m.subn(1),O=0;!C.isZero()&&C.andln(1)===0;)O++,C.iushrn(1);r(!C.isZero());var N=new i(1).toRed(this),ie=N.redNeg(),ue=this.m.subn(1).iushrn(1),me=this.m.bitLength();for(me=new i(2*me*me).toRed(this);this.pow(me,ue).cmp(ie)!==0;)me.redIAdd(ie);for(var ye=this.pow(me,C),Ge=this.pow(w,C.addn(1).iushrn(1)),Be=this.pow(w,C),Fe=O;Be.cmp(N)!==0;){for(var Ae=Be,wt=0;Ae.cmp(N)!==0;wt++)Ae=Ae.redSqr();r(wt<Fe);var Lt=this.pow(ye,new i(1).iushln(Fe-wt-1));Ge=Ge.redMul(Lt),ye=Lt.redSqr(),Be=Be.redMul(ye),Fe=wt}return Ge},be.prototype.invm=function(w){var R=w._invmp(this.m);return R.negative!==0?(R.negative=0,this.imod(R).redNeg()):this.imod(R)},be.prototype.pow=function(w,R){if(R.isZero())return new i(1).toRed(this);if(R.cmpn(1)===0)return w.clone();var B=new Array(16);B[0]=new i(1).toRed(this),B[1]=w;for(var C=2;C<B.length;C++)B[C]=this.mul(B[C-1],w);var O=B[0],N=0,ie=0,ue=R.bitLength()%26;for(ue===0&&(ue=26),C=R.length-1;C>=0;C--){for(var me=R.words[C],ye=ue-1;ye>=0;ye--){var Ge=me>>ye&1;O!==B[0]&&(O=this.sqr(O)),Ge!==0||N!==0?(N<<=1,N|=Ge,(++ie==4||C===0&&ye===0)&&(O=this.mul(O,B[N]),ie=0,N=0)):ie=0}ue=26}return O},be.prototype.convertTo=function(w){var R=w.umod(this.m);return R===w?R.clone():R},be.prototype.convertFrom=function(w){var R=w.clone();return R.red=null,R},i.mont=function(w){return new fe(w)},n(fe,be),fe.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},fe.prototype.convertFrom=function(w){var R=this.imod(w.mul(this.rinv));return R.red=null,R},fe.prototype.imul=function(w,R){if(w.isZero()||R.isZero())return w.words[0]=0,w.length=1,w;var B=w.imul(R),C=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=B.isub(C).iushrn(this.shift),N=O;return O.cmp(this.m)>=0?N=O.isub(this.m):O.cmpn(0)<0&&(N=O.iadd(this.m)),N._forceRed(this)},fe.prototype.mul=function(w,R){if(w.isZero()||R.isZero())return new i(0)._forceRed(this);var B=w.mul(R),C=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=B.isub(C).iushrn(this.shift),N=O;return O.cmp(this.m)>=0?N=O.isub(this.m):O.cmpn(0)<0&&(N=O.iadd(this.m)),N._forceRed(this)},fe.prototype.invm=function(w){return this.imod(w._invmp(this.m).mul(this.r2))._forceRed(this)}})(0,ude);var GS,sKe=lde.exports,Ru=KZt(sKe);Y.TreeType=void 0,(GS=Y.TreeType||(Y.TreeType={}))[GS.StateV1=1]="StateV1",GS[GS.AddressV1=2]="AddressV1",GS[GS.StateV2=3]="StateV2",GS[GS.AddressV2=4]="AddressV2";var lL=new Ru("21888242871839275222246405745257275088548364400416034343698204186575808495617"),aKe=new Ru("452312848583266388373324160190187140051835877600158453279131187530910662655"),dde=[2,64,66,15,0],bG=Si.Buffer.from([26,16,169,7,21,202,242,25]),Lde=Si.Buffer.from([49,212,191,129,39,194,43,196]),cKe=Si.Buffer.from([180,143,159,153,35,46,248,163]),fde="noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV",uKe="SySTEM1eSU2p4BGQfQpimFEWWSC1XDFeun3Nqzz3rT7",pde="compr6CUsB5m2jS4Y3831ztGSTnDpnKJTKS95d64XVq",hde=()=>new je.PublicKey("35hkDgaAKwMCaxRz2ocSZ6NaUrtKkyNqU6c4RV3tYJRh"),mde=()=>je.PublicKey.findProgramAddressSync([Si.Buffer.from("cpi_authority")],new je.PublicKey(uKe))[0],JE=()=>({registeredProgramPda:new je.PublicKey(hde()),noopProgram:new je.PublicKey(fde),accountCompressionProgram:new je.PublicKey(pde),accountCompressionAuthority:new je.PublicKey(mde()),cpiSignatureAccount:null}),lKe=()=>({mainnet:[{stateTreeLookupTable:new je.PublicKey(pKe),nullifyLookupTable:new je.PublicKey(hKe)}],devnet:[{stateTreeLookupTable:new je.PublicKey(mKe),nullifyLookupTable:new je.PublicKey(yKe)}]}),dKe=t=>t.includes("localhost")||t.includes("127.0.0.1"),zde=()=>[{tree:new je.PublicKey(qde),queue:new je.PublicKey(Fde),cpiContext:new je.PublicKey(gKe),treeType:Y.TreeType.StateV1,nextTreeInfo:null},{tree:new je.PublicKey(yde),queue:new je.PublicKey(gde),cpiContext:new je.PublicKey(bKe),treeType:Y.TreeType.StateV1,nextTreeInfo:null}],Jle=()=>({tree:new je.PublicKey(jde),queue:new je.PublicKey(Kde),cpiContext:null,treeType:Y.TreeType.AddressV1,nextTreeInfo:null}),Kb=()=>({nullifierQueue:new je.PublicKey(Fde),merkleTree:new je.PublicKey(qde),merkleTreeHeight:Wde,addressTree:new je.PublicKey(jde),addressQueue:new je.PublicKey(Kde)}),fKe=new je.PublicKey("cTokenmWW8bLPjZEBAUgYy3zKxQZW6VKi7bqNFEVv3m"),pKe="7i86eQs3GSqHjN47WdWLTCGMW6gde1q96G2EVnUyK2st",hKe="H9QD4u1fG7KmkAzn2tDXhheushxFe1EcrjGGyEFXeMqT",mKe="Dk9mNkbiZXJZ4By8DfSP6HEE4ojZzRvucwpawLeuwq8q",yKe="AXbHzp1NgjLvpfnD6JRTTovXZ7APUCdtWZFCRr5tCxse",Fde="nfq1NvQDJ2GEgnS8zt9prAe8rjjpAW1zFkrvZoBR148",gKe="cpi1uHzrEhBG733DoEJNgHCyRS3XmmyVNZx5fonubE4",qde="smt1NamzXdq4AMqS2fS2F1i5KTYPZRhoHgWx38d8WsT",jde="amt1Ayt45jfbdw5YSo7iz6WZxUmnZsQTYXy82hVwyC2",Kde="aq1S9z4reTSQAdgWHGD2zDaS39sjGrAxbR31vxJ2F4F",yde="smt2rJAFdyJJupwMKAqTNAJwvjhmiZ4JYGZmbVRw1Ho",gde="nfq2hgS7NYemXsFaFUCe3EMXSDSfnZnAe27jC6aPP1X",bKe="cpi2cdhkH5roePvcudTgUL8ppEBfTay1desGh8G8QxK",Wde=26,WZt=new Ru(Math.floor(2**Wde*.95)),VZt=new Ru(300),GZt=new Ru(392),HZt=new Ru(5e3),$Zt=new Ru(5e3),Fb=function(t){let e=new Uint8Array(256);for(let s=0;s<e.length;s++)e[s]=255;for(let s=0;s<58;s++){let a=t.charAt(s),c=a.charCodeAt(0);if(e[c]!==255)throw new TypeError(a+" is ambiguous");e[c]=s}let r=t.charAt(0),n=Math.log(58)/Math.log(256),i=Math.log(256)/Math.log(58);function o(s){if(typeof s!="string")throw new TypeError("Expected String");if(s.length===0)return new Uint8Array;let a=0,c=0,d=0;for(;s[a]===r;)c++,a++;let f=(s.length-a)*n+1>>>0,p=new Uint8Array(f);for(;s[a];){let b=e[s.charCodeAt(a)];if(b===255)return;let S=0;for(let P=f-1;(b!==0||S<d)&&P!==-1;P--,S++)b+=58*p[P]>>>0,p[P]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");d=S,a++}let m=f-d;for(;m!==f&&p[m]===0;)m++;let y=new Uint8Array(c+(f-m)),g=c;for(;m!==f;)y[g++]=p[m++];return y}return{encode:function(s){if(s instanceof Uint8Array||(ArrayBuffer.isView(s)?s=new Uint8Array(s.buffer,s.byteOffset,s.byteLength):Array.isArray(s)&&(s=Uint8Array.from(s))),!(s instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(s.length===0)return"";let a=0,c=0,d=0,f=s.length;for(;d!==f&&s[d]===0;)d++,a++;let p=(f-d)*i+1>>>0,m=new Uint8Array(p);for(;d!==f;){let b=s[d],S=0;for(let P=p-1;(b!==0||S<c)&&P!==-1;P--,S++)b+=256*m[P]>>>0,m[P]=b%58>>>0,b=b/58>>>0;if(b!==0)throw new Error("Non-zero carry");c=S,d++}let y=p-c;for(;y!==p&&m[y]===0;)y++;let g=r.repeat(a);for(;y<p;++y)g+=t.charAt(m[y]);return g},decodeUnsafe:o,decode:function(s){let a=o(s);if(a)return a;throw new Error("Non-base58 character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),eL=(t,e)=>{if(e==="base58"){if(typeof t!="string")throw new Error("Must be a base58 string");return eL(Fb.decode(t))}return function(r){if(r.gte(lL))throw new Error("Value is too large. Max <254 bits");return r}(new Ru(t,e))};function Cs(t){let e=eL(t).toArrayLike(Si.Buffer,void 0,32);return Fb.encode(new Uint8Array(e))}var ze=(t,e,r)=>t instanceof Uint8Array&&!(t instanceof Si.Buffer)?new Ru(Si.Buffer.from(t),e,r):new Ru(t,e,r),ig=(t,e,r,n)=>({owner:t,lamports:e??ze(0),address:n??null,data:r??null}),YS=(t,e,r,n,i)=>Object.assign(Object.assign(Object.assign({},ig(e,r,n,i)),t),{readOnly:0}),_x=(t,e,r,n=0)=>({treeInfo:t,hash:e,leafIndex:r,proveByIndex:n});function Sx(t,e){let r=t.findIndex(n=>n.equals(e));return r===-1?(t.push(e),t.length-1):r}function _Ke(t,e){return e<=0?[]:new Array(e).fill(t)}function H2(t){return t.map(e=>({pubkey:e,isWritable:1,isSigner:0}))}function $2(t,e,r,n,i=[]){let o=i.slice(),s=[],a=[];if(t.forEach((m,y)=>{let g=Sx(o,m.treeInfo.tree),b=Sx(o,m.treeInfo.queue);s.push({compressedAccount:{owner:m.owner,lamports:m.lamports,address:m.address,data:m.data},merkleContext:{merkleTreePubkeyIndex:g,nullifierQueuePubkeyIndex:b,leafIndex:m.leafIndex,queueIndex:null},rootIndex:e[y],readOnly:0})}),t.length>0&&n)throw new Error("Cannot specify both input accounts and outputStateTreeInfo");let c;if(t.length>0)c=t[0].treeInfo;else{if(!n)throw new Error("Neither input accounts nor outputStateTreeInfo are available");c=n}let d=c.nextTreeInfo||c,f=d.tree;if(d.treeType===Y.TreeType.StateV2)throw new Error("V2 trees are not supported yet");let p=_Ke(f,r.length);return r.forEach((m,y)=>{let g=Sx(o,p[y]);a.push({compressedAccount:{owner:m.owner,lamports:m.lamports,address:m.address,data:m.data},merkleTreeIndex:g})}),{packedInputCompressedAccounts:s,packedOutputCompressedAccounts:a,remainingAccounts:o}}var Y5=t=>{if(t.lt(ze(0)))throw new Error("Insufficient balance for transfer")},X5=t=>{if(t.length===0)throw new Error("No accounts provided for validation");let e=t[0].owner;if(!t.every(r=>r.owner.equals(e)))throw new Error("All input accounts must have the same owner")},SKe=(t,e)=>{if(t>0&&e>0){if(t===8)throw new Error(`Invalid number of compressed accounts for proof: ${t}. Allowed numbers: ${[1,2,3,4].join(", ")}`);_G(t,[1,2,3,4],"compressed accounts"),bde(e)}else t>0?wKe(t):bde(e)},wKe=t=>{_G(t,[1,2,3,4,8],"compressed accounts")},bde=t=>{_G(t,[1,2],"new addresses")},_G=(t,e,r)=>{if(!e.includes(t))throw new Error(`Invalid number of ${r}: ${t}. Allowed numbers: ${e.join(", ")}`)};function M6e(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function _de(t,...e){if(!((r=t)instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"))throw new Error("Uint8Array expected");var r;if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function N6e(t,e=1){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}var G5=BigInt(2**32-1),D6e=BigInt(32);function YZt(t,e=0){return e?{h:Number(t&G5),l:Number(t>>D6e&G5)}:{h:0|Number(t>>D6e&G5),l:0|Number(t&G5)}}function XZt(t,e=0){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=YZt(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var U6e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function L6e(t){for(let r=0;r<t.length;r++)t[r]=(e=t[r])<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;var e}function AKe(t){return typeof t=="string"&&(t=function(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(t)),_de(t),t}var Sde=class{clone(){return this._cloneInto()}},EKe=[],IKe=[],TKe=[],ZZt=BigInt(0),G2=BigInt(1),JZt=BigInt(2),QZt=BigInt(7),eJt=BigInt(256),tJt=BigInt(113);for(let t=0,e=G2,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],EKe.push(2*(5*n+r)),IKe.push((t+1)*(t+2)/2%64);let i=ZZt;for(let o=0;o<7;o++)e=(e<<G2^(e>>QZt)*tJt)%eJt,e&JZt&&(i^=G2<<(G2<<BigInt(o))-G2);TKe.push(i)}var[rJt,nJt]=XZt(TKe,1),z6e=(t,e,r)=>r>32?((n,i,o)=>i<<o-32|n>>>64-o)(t,e,r):((n,i,o)=>n<<o|i>>>32-o)(t,e,r),F6e=(t,e,r)=>r>32?((n,i,o)=>n<<o-32|i>>>64-o)(t,e,r):((n,i,o)=>i<<o|n>>>32-o)(t,e,r),wde=class t extends Sde{constructor(e,r,n,i=0,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=0,this.destroyed=0,M6e(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){U6e||L6e(this.state32),function(e,r=24){let n=new Uint32Array(10);for(let i=24-r;i<24;i++){for(let a=0;a<10;a++)n[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){let c=(a+8)%10,d=(a+2)%10,f=n[d],p=n[d+1],m=z6e(f,p,1)^n[c],y=F6e(f,p,1)^n[c+1];for(let g=0;g<50;g+=10)e[a+g]^=m,e[a+g+1]^=y}let o=e[2],s=e[3];for(let a=0;a<24;a++){let c=IKe[a],d=z6e(o,s,c),f=F6e(o,s,c),p=EKe[a];o=e[p],s=e[p+1],e[p]=d,e[p+1]=f}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=e[a+c];for(let c=0;c<10;c++)e[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=rJt[i],e[1]^=nJt[i]}n.fill(0)}(this.state32,this.rounds),U6e||L6e(this.state32),this.posOut=0,this.pos=0}update(e){N6e(this);let{blockLen:r,state:n}=this,i=(e=AKe(e)).length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=1;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,128&r&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){N6e(this,0),_de(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return M6e(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(function(r,n){_de(r);let i=n.outputLen;if(r.length<i)throw new Error(`digestInto() expects output buffer of length at least ${i}`)}(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=1,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}},kKe=function(t){let e=n=>t().update(AKe(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}(()=>new wde(136,1,32)),vKe=t=>typeof t=="object"&&t!==null,q6e=t=>vKe(t)&&!(t instanceof RegExp)&&!(t instanceof Error)&&!(t instanceof Date),iJt=Symbol("mapObjectSkip"),Ade=(t,e,r,n=new WeakMap)=>{if(r={deep:0,target:{},...r},n.has(t))return n.get(t);n.set(t,r.target);let{target:i}=r;delete r.target;let o=s=>s.map(a=>q6e(a)?Ade(a,e,r,n):a);if(Array.isArray(t))return o(t);for(let[s,a]of Object.entries(t)){let c=e(s,a,t);if(c===iJt)continue;let[d,f,{shouldRecurse:p=1}={}]=c;d!=="__proto__"&&(r.deep&&p&&q6e(f)&&(f=Array.isArray(f)?o(f):Ade(f,e,r,n)),i[d]=f)}return i};function j6e(t,e,r){if(!vKe(t))throw new TypeError(`Expected an object, got \`${t}\` (${typeof t})`);return Ade(t,e,r)}var oJt=/[\p{Lu}]/u,sJt=/[\p{Ll}]/u,K6e=/^[\p{Lu}](?![\p{Lu}])/gu,xKe=/([\p{Alpha}\p{N}_]|$)/u,Vde=/[_.\- ]+/,aJt=new RegExp("^"+Vde.source),W6e=new RegExp(Vde.source+xKe.source,"gu"),V6e=new RegExp("\\d+"+xKe.source,"gu"),Ede=class extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(let[r,n]of e)this.onEviction(r,n.value)}_deleteIfExpired(e,r){return typeof r.expiry=="number"&&r.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,r.value),this.delete(e)):0}_getOrDeleteIfExpired(e,r){if(this._deleteIfExpired(e,r)==0)return r.value}_getItemValue(e,r){return r.expiry?this._getOrDeleteIfExpired(e,r):r.value}_peek(e,r){let n=r.get(e);return this._getItemValue(e,n)}_set(e,r){this.cache.set(e,r),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,r){this.oldCache.delete(e),this._set(e,r)}*_entriesAscending(){for(let e of this.oldCache){let[r,n]=e;this.cache.has(r)||this._deleteIfExpired(r,n)==0&&(yield e)}for(let e of this.cache){let[r,n]=e;this._deleteIfExpired(r,n)==0&&(yield e)}}get(e){if(this.cache.has(e)){let r=this.cache.get(e);return this._getItemValue(e,r)}if(this.oldCache.has(e)){let r=this.oldCache.get(e);if(this._deleteIfExpired(e,r)==0)return this._moveToRecent(e,r),r.value}}set(e,r,{maxAge:n=this.maxAge}={}){let i=typeof n=="number"&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;return this.cache.has(e)?this.cache.set(e,{value:r,expiry:i}):this._set(e,{value:r,expiry:i}),this}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):0}peek(e){return this.cache.has(e)?this._peek(e,this.cache):this.oldCache.has(e)?this._peek(e,this.oldCache):void 0}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");let r=[...this._entriesAscending()],n=r.length-e;n<0?(this.cache=new Map(r),this.oldCache=new Map,this._size=r.length):(n>0&&this._emitEvictions(r.slice(0,n)),this.oldCache=new Map(r.slice(n)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache){let[r,n]=e;this._deleteIfExpired(r,n)==0&&(yield[r,n.value])}for(let e of this.oldCache){let[r,n]=e;this.cache.has(r)||this._deleteIfExpired(r,n)==0&&(yield[r,n.value])}}*entriesDescending(){let e=[...this.cache];for(let r=e.length-1;r>=0;--r){let n=e[r],[i,o]=n;this._deleteIfExpired(i,o)==0&&(yield[i,o.value])}e=[...this.oldCache];for(let r=e.length-1;r>=0;--r){let n=e[r],[i,o]=n;this.cache.has(i)||this._deleteIfExpired(i,o)==0&&(yield[i,o.value])}}*entriesAscending(){for(let[e,r]of this._entriesAscending())yield[e,r.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,r=this){for(let[n,i]of this.entriesAscending())e.call(r,i,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}},Qle=new Ede({maxSize:1e5}),G6e=t=>!(typeof t!="object"||t===null||t instanceof RegExp||t instanceof Error||t instanceof Date),H6e=(t,e={})=>{if(!G6e(t))return t;let{exclude:r,pascalCase:n=0,stopPaths:i,deep:o=0,preserveConsecutiveUppercase:s=0}=e,a=new Set(i),c=d=>(f,p)=>{if(o&&G6e(p)){let m=d===void 0?f:`${d}.${f}`;a.has(m)||(p=j6e(p,c(m)))}if(!r||!((m,y)=>m.some(g=>typeof g=="string"?g===y:(g.lastIndex=0,g.test(y))))(r,f)){let m=n?`${f}_`:f;if(Qle.has(m))f=Qle.get(m);else{let y=function(g,b){if(typeof g!="string"&&!Array.isArray(g))throw new TypeError("Expected the input to be `string | string[]`");if(b={pascalCase:0,preserveConsecutiveUppercase:0,...b},(g=Array.isArray(g)?g.map(U=>U.trim()).filter(U=>U.length).join("-"):g.trim()).length===0)return"";let S=b.locale==0?U=>U.toLowerCase():U=>U.toLocaleLowerCase(b.locale),P=b.locale==0?U=>U.toUpperCase():U=>U.toLocaleUpperCase(b.locale);return g.length===1?Vde.test(g)?"":b.pascalCase?P(g):S(g):(g!==S(g)&&(g=((U,L,j,Z)=>{let se=0,Ee=0,be=0,fe=0;for(let w=0;w<U.length;w++){let R=U[w];fe=w>2?U[w-3]==="-":1,se&&oJt.test(R)?(U=U.slice(0,w)+"-"+U.slice(w),se=0,be=Ee,Ee=1,w++):Ee&&be&&sJt.test(R)&&(!fe||Z)?(U=U.slice(0,w-1)+"-"+U.slice(w-1),be=Ee,Ee=0,se=1):(se=L(R)===R&&j(R)!==R,be=Ee,Ee=j(R)===R&&L(R)!==R)}return U})(g,S,P,b.preserveConsecutiveUppercase)),g=g.replace(aJt,""),g=b.preserveConsecutiveUppercase?((U,L)=>(K6e.lastIndex=0,U.replaceAll(K6e,j=>L(j))))(g,S):S(g),b.pascalCase&&(g=P(g.charAt(0))+g.slice(1)),((U,L)=>(W6e.lastIndex=0,V6e.lastIndex=0,U.replaceAll(V6e,(j,Z,se)=>["_","-"].includes(U.charAt(se+j.length))?j:L(j)).replaceAll(W6e,(j,Z)=>L(Z))))(g,P))}(f,{pascalCase:n,locale:0,preserveConsecutiveUppercase:s});f.length<100&&Qle.set(m,y),f=y}}return[f,p]};return j6e(t,c(void 0))};function qb(t){return"0x"+t.toString("hex")}function PKe(t){return ze(t,void 0,"be").lt(lL)}var OKe=t=>{return e=t,r={deep:1},Array.isArray(e)?Object.keys(e).map(n=>H6e(e[n],r)):H6e(e,r);var e,r};function RKe(t){let e=255;for(;e>=0;){let r=Si.Buffer.concat([t,Si.Buffer.from([e])]),n=kKe(r);if(n.length!==32)throw new Error("Invalid hash length");if(n[0]=0,PKe(Si.Buffer.from(n)))return[Si.Buffer.from(n),e];e-=1}return null}function CKe(t){let e=kKe.create();for(let n of t)e.update(n);let r=e.digest();return r[0]=0,r}function ede(t,e){return CKe([e.toBytes(),...t])}function tde(t,e=Kb().addressTree){if(t.length!=32)throw new Error("Seed length is not 32 bytes.");let r=e.toBytes(),n=RKe(Buffer.from([...r,...t]));if(n===null)throw new Error("DeriveAddressError");let i=n[0];return new je.PublicKey(i)}function BKe(t,e){let r=e.slice(),n=t.map(i=>({seed:Array.from(i.seed),addressMerkleTreeRootIndex:i.addressMerkleTreeRootIndex,addressMerkleTreeAccountIndex:0,addressQueueAccountIndex:0}));return t.forEach((i,o)=>{n[o].addressMerkleTreeAccountIndex=Sx(r,i.addressMerkleTreePubkey)}),t.forEach((i,o)=>{n[o].addressQueueAccountIndex=Sx(r,i.addressQueuePubkey)}),{newAddressParamsPacked:n,remainingAccounts:r}}async function $6e(t,e,r="confirmed"){let n=await t.getLatestBlockhash(r),i={signature:e.toString(),lastValidBlockHeight:n.lastValidBlockHeight,blockhash:n.blockhash};return await t.confirmTransaction(i,r)}function H5(t,e){return e.includes(t)?e.filter(r=>r.publicKey.toString()!==t.publicKey.toString()):e}function rde(t,e=Y.TreeType.StateV1,r=0){let n=t.filter(s=>!s.nextTreeInfo).filter(s=>s.treeType===e);if(n.length===0)throw new Error("No active state tree infos found for the specified tree type");let i=r?n.length:Math.min(5,n.length),o=Math.floor(Math.random()*i);if(!n[o].queue)throw new Error("Queue must not be null for state tree");return n[o]}async function Ide({connection:t,stateTreeLUTPairs:e}){var r;let n=await Promise.all(e.map(async o=>({stateTreeLookupTable:await t.getAddressLookupTable(o.stateTreeLookupTable),nullifyLookupTable:await t.getAddressLookupTable(o.nullifyLookupTable)}))),i=[];for(let{stateTreeLookupTable:o,nullifyLookupTable:s}of n){if(!o.value)throw new Error("State tree lookup table not found");if(!s.value)throw new Error("Nullify table not found");let a=o.value.state.addresses,c=s.value.state.addresses;if(a.length%3!=0)throw new Error("State tree lookup table must have a multiple of 3 addresses");for(let d=0;d<a.length;d+=3){let f=a[d],p=a[d+1],m=a[d+2],y=null;if(!f||!p||!m)throw new Error("Invalid state tree pubkeys structure");c.map(g=>g.toBase58()).includes(f.toBase58())&&(y={tree:je.PublicKey.default,queue:je.PublicKey.default,cpiContext:je.PublicKey.default,treeType:Y.TreeType.StateV1,nextTreeInfo:null}),i.push({tree:f,queue:p,cpiContext:m,treeType:Y.TreeType.StateV1,nextTreeInfo:y})}for(let d of i)if(!((r=d.nextTreeInfo)===null||r===void 0)&&r.tree.equals(je.PublicKey.default)){let f=i.find(p=>!p.nextTreeInfo);if(!f)throw new Error("No available tree info found to assign as next tree");d.nextTreeInfo=f}}return i}function MKe(t){let e=HS(t.ar[0]),r=HS(t.ar[1]),n=new Uint8Array([...e,...r]),i=HS(t.bs[0][0]),o=HS(t.bs[0][1]),s=HS(t.bs[1][0]),a=HS(t.bs[1][1]),c=new Uint8Array([...i,...o,...s,...a]),d=HS(t.krs[0]),f=HS(t.krs[1]);return{a:n,b:c,c:new Uint8Array([...d,...f])}}function NKe(t){let e=t.a,r=t.b,n=t.c,i=e.slice(0,32),o=Y6e(ze(e.slice(32,64),32,"be"))?0:1;i[0]=nde(i[0],o);let s=r.slice(0,64),a=r.slice(64,128),c=function(m,y){let g=lL.div(ze(2));return m.lt(g)?1:m.gt(g)?0:y.lt(g)}(ze(a.slice(0,32),32,"be"),ze(a.slice(32,64),32,"be"));s[0]=nde(s[0],c);let d=n.slice(0,32),f=n.slice(32,64),p=Y6e(ze(f,32,"be"));return d[0]=nde(d[0],p),{a:Array.from(i),b:Array.from(s),c:Array.from(d)}}function HS(t){let e=ze(t.startsWith("0x")?t.substring(2):t,"hex");return new Uint8Array(e.toArray("be",32))}function Y6e(t){return t.lte(lL.sub(t))}function nde(t,e){return e?t:128|t}function DKe(t,e,r,n){let i=new je.TransactionMessage({payerKey:e,recentBlockhash:r,instructions:t}).compileToV0Message(n);return new je.VersionedTransaction(i)}async function Ub(t,e,r,n){let i=await t.sendTransaction(e,r);n||(n=await t.getLatestBlockhash());let o={signature:i,blockhash:n.blockhash,lastValidBlockHeight:n.lastValidBlockHeight},s=(await t.confirmTransaction(o,r?.commitment||t.commitment||"confirmed")).context.slot;return await t.confirmTransactionIndexed(s),i}async function X6e(t,e,r,n){n||(n=await t.getLatestBlockhash());let i={signature:e,blockhash:n.blockhash,lastValidBlockHeight:n.lastValidBlockHeight},o=await t.confirmTransaction(i,r?.commitment||t.commitment||"confirmed"),s=o.context.slot;return await t.confirmTransactionIndexed(s),o}function Lb(t,e,r,n=[],i){if(n.includes(e))throw new Error("payer must not be in additionalSigners");let o=[e,...n],s=DKe(t,e.publicKey,r,i);return s.sign(o),s}var he={},pt={},Dn=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};function Gde(t,e){return e.property?t+"["+e.property+"]":t}pt.Layout=Dn,pt.nameWithProperty=Gde,pt.bindConstructorLayout=function(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Dn))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(r,n){return e.encode(this,r,n)},writable:1}),Object.defineProperty(t,"decode",{value:function(r,n){return e.decode(r,n)},writable:1})};var Pu=class extends Dn{isCount(){throw new Error("ExternalLayout is abstract")}},Q5=class extends Pu{constructor(e,r){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return 1}decode(e,r){r===void 0&&(r=0);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}},tL=class extends Pu{constructor(e,r,n){if(!(e instanceof Dn))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Ap||this.layout instanceof Rh}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}},Ap=class extends Dn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}},Rh=class extends Dn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}},zb=class extends Dn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntLE(e,n,this.span),this.span}},$S=class extends Dn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntBE(e,n,this.span),this.span}},Tde=Math.pow(2,32);function SG(t){let e=Math.floor(t/Tde);return{hi32:e,lo32:t-e*Tde}}function wG(t,e){return t*Tde+e}var kde=class extends Dn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32LE(r);return wG(e.readUInt32LE(r+4),n)}encode(e,r,n){n===void 0&&(n=0);let i=SG(e);return r.writeUInt32LE(i.lo32,n),r.writeUInt32LE(i.hi32,n+4),8}},vde=class extends Dn{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),wG(e.readUInt32BE(r),e.readUInt32BE(r+4))}encode(e,r,n){n===void 0&&(n=0);let i=SG(e);return r.writeUInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}},xde=class extends Dn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);let n=e.readUInt32LE(r);return wG(e.readInt32LE(r+4),n)}encode(e,r,n){n===void 0&&(n=0);let i=SG(e);return r.writeUInt32LE(i.lo32,n),r.writeInt32LE(i.hi32,n+4),8}},Pde=class extends Dn{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),wG(e.readInt32BE(r),e.readUInt32BE(r+4))}encode(e,r,n){n===void 0&&(n=0);let i=SG(e);return r.writeInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}},eG=class extends Dn{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatLE(e,n),4}},tG=class extends Dn{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatBE(e,n),4}},rG=class extends Dn{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleLE(e,n),8}},nG=class extends Dn{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleBE(e,n),8}},iG=class extends Dn{constructor(e,r,n){if(!(e instanceof Dn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Pu&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Pu)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0,i=this.count;if(i instanceof Pu&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,r+n),++o}return n}decode(e,r){r===void 0&&(r=0);let n=[],i=0,o=this.count;for(o instanceof Pu&&(o=o.decode(e,r));i<o;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n){n===void 0&&(n=0);let i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,r,n+s),0);return this.count instanceof Pu&&this.count.encode(e.length,r,n),o}},oG=class extends Dn{constructor(e,r,n){if(!Array.isArray(e)||!e.reduce((o,s)=>o&&s instanceof Dn,1))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(e,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);let i=n,o=0,s=0;for(let a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){let d=e[a.property];d!==void 0&&(s=a.encode(d,r,n),0>c&&(c=a.getSpan(r,n)))}o=n,n+=c}return o+s-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}},rL=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},Ax=class extends rL{constructor(e,r){if(!(e instanceof Pu&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}},nL=class extends Dn{constructor(e,r,n){let i=e instanceof Ap||e instanceof Rh;if(i)e=new Ax(new tL(e));else if(e instanceof Pu&&e.isCount())e=new Ax(e);else if(!(e instanceof rL))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Dn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&i&&(o+=e.layout.span)),super(o,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){let n;r===void 0&&(r=0);let i=this.discriminator,o=i.decode(e,r),s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[s.property]=this.defaultLayout.decode(e,r+a)}else n=s.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],r,n),a+s.encode(e[s.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new sG(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r){let n=e;return Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}},sG=class extends Dn{constructor(e,r,n,i){if(!(e instanceof nL))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Dn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){let n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=1:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function bx(t){return 0>t&&(t+=4294967296),t}var iL=class extends Dn{constructor(e,r,n){if(!(e instanceof Ap||e instanceof Rh))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=bx(o),this},this._packedGetValue=function(){return i}}decode(e,r){let n=this.makeDestinationObject();r===void 0&&(r=0);let i=this.word.decode(e,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(i));return n}encode(e,r,n){n===void 0&&(n=0);let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new QE(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new aG(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}},QE=class{constructor(e,r,n){if(!(e instanceof iL))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=bx(this.valueMask<<this.start),this.property=n}decode(){return bx(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==bx(e&this.valueMask))throw new TypeError(Gde("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=bx(e<<this.start);this.container._packedSetValue(bx(r&~this.wordMask)|n)}},aG=class extends QE{constructor(e,r){super(e,1,r)}decode(e,r){return!!QE.prototype.decode.call(this,e,r)}encode(e){return typeof e=="boolean"&&(e=+e),QE.prototype.encode.call(this,e)}},cG=class extends Dn{constructor(e,r){if(!(e instanceof Pu&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Pu||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Pu&&(i=e.length),!Buffer.isBuffer(e)||i!==e.length)throw new TypeError(Gde("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,i,"hex"),this.length instanceof Pu&&this.length.encode(i,r,n),i}},uG=class extends Dn{constructor(e){super(-1,e)}getSpan(e,r){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");r===void 0&&(r=0);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);return e.slice(r,r+i-1).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());let i=new Buffer(e,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),r[n+o]=0,o+1}},lG=class extends Dn{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return r===void 0&&(r=0),e.length-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(r,r+i).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());let i=new Buffer(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),o}},dG=class extends Dn{constructor(e,r){super(0,r),this.value=e}decode(e,r,n){return this.value}encode(e,r,n){return 0}};pt.ExternalLayout=Pu,pt.GreedyCount=Q5,pt.OffsetLayout=tL,pt.UInt=Ap,pt.UIntBE=Rh,pt.Int=zb,pt.IntBE=$S,pt.Float=eG,pt.FloatBE=tG,pt.Double=rG,pt.DoubleBE=nG,pt.Sequence=iG,pt.Structure=oG,pt.UnionDiscriminator=rL,pt.UnionLayoutDiscriminator=Ax,pt.Union=nL,pt.VariantLayout=sG,pt.BitStructure=iL,pt.BitField=QE,pt.Boolean=aG,pt.Blob=cG,pt.CString=uG,pt.UTF8=lG,pt.Constant=dG,pt.greedy=(t,e)=>new Q5(t,e),pt.offset=(t,e,r)=>new tL(t,e,r),pt.u8=t=>new Ap(1,t),pt.u16=t=>new Ap(2,t),pt.u24=t=>new Ap(3,t),pt.u32=t=>new Ap(4,t),pt.u40=t=>new Ap(5,t),pt.u48=t=>new Ap(6,t),pt.nu64=t=>new kde(t),pt.u16be=t=>new Rh(2,t),pt.u24be=t=>new Rh(3,t),pt.u32be=t=>new Rh(4,t),pt.u40be=t=>new Rh(5,t),pt.u48be=t=>new Rh(6,t),pt.nu64be=t=>new vde(t),pt.s8=t=>new zb(1,t),pt.s16=t=>new zb(2,t),pt.s24=t=>new zb(3,t),pt.s32=t=>new zb(4,t),pt.s40=t=>new zb(5,t),pt.s48=t=>new zb(6,t),pt.ns64=t=>new xde(t),pt.s16be=t=>new $S(2,t),pt.s24be=t=>new $S(3,t),pt.s32be=t=>new $S(4,t),pt.s40be=t=>new $S(5,t),pt.s48be=t=>new $S(6,t),pt.ns64be=t=>new Pde(t),pt.f32=t=>new eG(t),pt.f32be=t=>new tG(t),pt.f64=t=>new rG(t),pt.f64be=t=>new nG(t),pt.struct=(t,e,r)=>new oG(t,e,r),pt.bits=(t,e,r)=>new iL(t,e,r),pt.seq=(t,e,r)=>new iG(t,e,r),pt.union=(t,e,r)=>new nL(t,e,r),pt.unionLayoutDiscriminator=(t,e)=>new Ax(t,e),pt.blob=(t,e)=>new cG(t,e),pt.cstr=t=>new uG(t),pt.utf8=(t,e)=>new lG(t,e),pt.const=(t,e)=>new dG(t,e),function(t){var e=ude&&ude.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:1}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i256=t.u256=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;let r=pt,n=je,i=e(sKe);var o=pt;Object.defineProperty(t,"u8",{enumerable:1,get:function(){return o.u8}}),Object.defineProperty(t,"i8",{enumerable:1,get:function(){return o.s8}}),Object.defineProperty(t,"u16",{enumerable:1,get:function(){return o.u16}}),Object.defineProperty(t,"i16",{enumerable:1,get:function(){return o.s16}}),Object.defineProperty(t,"u32",{enumerable:1,get:function(){return o.u32}}),Object.defineProperty(t,"i32",{enumerable:1,get:function(){return o.s32}}),Object.defineProperty(t,"f32",{enumerable:1,get:function(){return o.f32}}),Object.defineProperty(t,"f64",{enumerable:1,get:function(){return o.f64}}),Object.defineProperty(t,"struct",{enumerable:1,get:function(){return o.struct}});class s extends r.Layout{constructor(b,S,P){super(b,P),this.blob=(0,r.blob)(b),this.signed=S}decode(b,S=0){let P=new i.default(this.blob.decode(b,S),10,"le");return this.signed?P.fromTwos(8*this.span).clone():P}encode(b,S,P=0){return this.signed&&(b=b.toTwos(8*this.span)),this.blob.encode(b.toArrayLike(Buffer,"le",this.span),S,P)}}function a(g){return new s(8,0,g)}t.u64=a,t.i64=function(g){return new s(8,1,g)},t.u128=function(g){return new s(16,0,g)},t.i128=function(g){return new s(16,1,g)},t.u256=function(g){return new s(32,0,g)},t.i256=function(g){return new s(32,1,g)};class c extends r.Layout{constructor(b,S,P,U){super(b.span,U),this.layout=b,this.decoder=S,this.encoder=P}decode(b,S){return this.decoder(this.layout.decode(b,S))}encode(b,S,P){return this.layout.encode(this.encoder(b),S,P)}getSpan(b,S){return this.layout.getSpan(b,S)}}t.publicKey=function(g){return new c((0,r.blob)(32),b=>new n.PublicKey(b),b=>b.toBuffer(),g)};class d extends r.Layout{constructor(b,S){super(-1,S),this.layout=b,this.discriminator=(0,r.u8)()}encode(b,S,P=0){return b==null?this.discriminator.encode(0,S,P):(this.discriminator.encode(1,S,P),this.layout.encode(b,S,P+1)+1)}decode(b,S=0){let P=this.discriminator.decode(b,S);if(P===0)return null;if(P===1)return this.layout.decode(b,S+1);throw new Error("Invalid option "+this.property)}getSpan(b,S=0){let P=this.discriminator.decode(b,S);if(P===0)return 1;if(P===1)return this.layout.getSpan(b,S+1)+1;throw new Error("Invalid option "+this.property)}}function f(g){if(g===0)return 0;if(g===1)return 1;throw new Error("Invalid bool: "+g)}function p(g){return g?1:0}function m(g){let b=(0,r.u32)("length"),S=(0,r.struct)([b,(0,r.blob)((0,r.offset)(b,-b.span),"data")]);return new c(S,({data:P})=>P,P=>({data:P}),g)}t.option=function(g,b){return new d(g,b)},t.bool=function(g){return new c((0,r.u8)(),f,p,g)},t.vec=function(g,b){let S=(0,r.u32)("length"),P=(0,r.struct)([S,(0,r.seq)(g,(0,r.offset)(S,-S.span),"values")]);return new c(P,({values:U})=>U,U=>({values:U}),b)},t.tagged=function(g,b,S){let P=(0,r.struct)([a("tag"),b.replicate("data")]);return new c(P,function({tag:U,data:L}){if(!U.eq(g))throw new Error("Invalid tag, expected: "+g.toString("hex")+", got: "+U.toString("hex"));return L},U=>({tag:g,data:U}),S)},t.vecU8=m,t.str=function(g){return new c(m(),b=>b.toString("utf-8"),b=>Buffer.from(b,"utf-8"),g)},t.rustEnum=function(g,b,S){let P=(0,r.union)(S??(0,r.u8)(),b);return g.forEach((U,L)=>P.addVariant(L,U,U.property)),P},t.array=function(g,b,S){let P=(0,r.struct)([(0,r.seq)(g,b,"values")]);return new c(P,({values:U})=>U,U=>({values:U}),S)};class y extends r.Layout{constructor(b,S,P){super(b.span+S.span,P),this.keyLayout=b,this.valueLayout=S}decode(b,S){return S=S||0,[this.keyLayout.decode(b,S),this.valueLayout.decode(b,S+this.keyLayout.getSpan(b,S))]}encode(b,S,P){P=P||0;let U=this.keyLayout.encode(b[0],S,P);return U+this.valueLayout.encode(b[1],S,P+U)}getSpan(b,S){return this.keyLayout.getSpan(b,S)+this.valueLayout.getSpan(b,S)}}t.map=function(g,b,S){let P=(0,r.u32)("length"),U=(0,r.struct)([P,(0,r.seq)(new y(g,b),(0,r.offset)(P,-P.span),"values")]);return new c(U,({values:L})=>new Map(L),L=>({values:Array.from(L.entries())}),S)}}(he);var oL=he.struct([he.publicKey("owner"),he.u64("lamports"),he.option(he.array(he.u8(),32),"address"),he.option(he.struct([he.array(he.u8(),8,"discriminator"),he.vecU8("data"),he.array(he.u8(),32,"dataHash")]),"data")],"compressedAccount"),Hde=he.struct([he.u8("merkleTreePubkeyIndex"),he.u8("nullifierQueuePubkeyIndex"),he.u32("leafIndex"),he.option(he.struct([he.u8("queueId"),he.u16("index")]),"queueIndex")],"merkleContext"),$de=he.struct([he.array(he.u8(),32,"seed"),he.u8("addressQueueAccountIndex"),he.u8("addressMerkleTreeAccountIndex"),he.u16("addressMerkleTreeRootIndex")],"newAddressParams"),Yde=he.struct([he.option(he.struct([he.array(he.u8(),32,"a"),he.array(he.u8(),64,"b"),he.array(he.u8(),32,"c")]),"proof"),he.vec(he.struct([oL,Hde,he.u16("rootIndex"),he.bool("readOnly")]),"inputCompressedAccountsWithMerkleContext"),he.vec(he.struct([oL,he.u8("merkleTreeIndex")]),"outputCompressedAccounts"),he.option(he.u64(),"relayFee"),he.vec($de,"newAddressParams"),he.option(he.u64(),"compressOrDecompressLamports"),he.bool("isCompress")]);function Y2(t){let e=Si.Buffer.alloc(1e3),r=Yde.encode(t,e),n=Si.Buffer.from(new Uint8Array(e.slice(0,r))),i=Si.Buffer.alloc(4);return i.writeUInt32LE(r,0),Si.Buffer.concat([new Uint8Array(bG),new Uint8Array(i),new Uint8Array(n)])}var UKe=he.struct([he.option(he.struct([he.array(he.u8(),32,"a"),he.array(he.u8(),64,"b"),he.array(he.u8(),32,"c")]),"proof"),he.vec($de,"newAddressParams"),he.vec(he.struct([oL,Hde,he.u16("rootIndex"),he.bool("readOnly")]),"inputCompressedAccountsWithMerkleContext"),he.vec(he.struct([oL,he.u8("merkleTreeIndex")]),"outputCompressedAccounts"),he.option(he.u64(),"relayFee"),he.option(he.u64(),"compressOrDecompressLamports"),he.bool("isCompress"),he.option(he.struct([he.bool("set_context"),he.bool("first_set_context"),he.u8("cpi_context_account_index")]),"compressedCpiContext")]);function LKe(t){return Yde.decode(t.slice(bG.length+4))}function zKe(t){return UKe.decode(t.slice(Lde.length+4))}var X2=t=>{let e=og.programId,{feePayer:r,authority:n,registeredProgramPda:i,noopProgram:o,accountCompressionAuthority:s,accountCompressionProgram:a,solPoolPda:c,decompressionRecipient:d,systemProgram:f}=t;return[{pubkey:r,isSigner:1,isWritable:1},{pubkey:n,isSigner:1,isWritable:0},{pubkey:i,isSigner:0,isWritable:0},{pubkey:o,isSigner:0,isWritable:0},{pubkey:s,isSigner:0,isWritable:0},{pubkey:a,isSigner:0,isWritable:0},{pubkey:c??e,isSigner:0,isWritable:c!==null},{pubkey:d??e,isSigner:0,isWritable:1},{pubkey:f,isSigner:0,isWritable:0}]},Ode=he.struct([he.vec(he.array(he.u8(),32),"inputCompressedAccountHashes"),he.vec(he.array(he.u8(),32),"outputCompressedAccountHashes"),he.vec(he.struct([he.struct([he.publicKey("owner"),he.u64("lamports"),he.option(he.array(he.u8(),32),"address"),he.option(he.struct([he.array(he.u8(),8,"discriminator"),he.vecU8("data"),he.array(he.u8(),32,"dataHash")]),"data")],"compressedAccount"),he.u8("merkleTreeIndex")]),"outputCompressedAccounts"),he.vec(he.u32(),"outputLeafIndices"),he.vec(he.struct([he.publicKey("pubkey"),he.u64("seq")]),"sequenceNumbers"),he.option(he.u64(),"relayFee"),he.bool("isCompress"),he.option(he.u64(),"compressOrDecompressLamports"),he.vec(he.publicKey(),"pubkeyArray"),he.option(he.vecU8(),"message")]);function FKe(t){return Ode.decode(t)}var Rde=he.struct([he.u8("is_invoked_by_program"),he.u8("bump"),he.u8("num_queues"),he.u8("num_output_queues"),he.u8("start_output_appends"),he.u8("num_address_queues"),he.array(he.u8(),32,"tx_hash")],"appendNullifyCreateAddressInputsMeta"),Cde=he.struct([he.u8("index"),he.array(he.u8(),32,"leaf")],"appendLeavesInput"),Bde=he.struct([he.array(he.u8(),32,"account_hash"),he.u32("leaf_index"),he.u8("prove_by_index"),he.u8("tree_index"),he.u8("queue_index")],"insertNullifierInput"),Mde=he.struct([he.array(he.u8(),32,"address"),he.u8("tree_index"),he.u8("queue_index")],"insertAddressInput"),ZE=he.struct([he.publicKey("pubkey"),he.u64("seq")],"merkleTreeSequenceNumber");function qKe(t){let e=0,r=Rde.decode(t,e);e+=Rde.span;let n=t.readUInt8(e);e+=1;let i=[];for(let b=0;b<n;b++){let S=Cde.decode(t,e);i.push(S),e+=Cde.span}let o=t.readUInt8(e);e+=1;let s=[];for(let b=0;b<o;b++){let S=Bde.decode(t,e);s.push(S),e+=Bde.span}let a=t.readUInt8(e);e+=1;let c=[];for(let b=0;b<a;b++){let S=Mde.decode(t,e);c.push(S),e+=Mde.span}let d=t.readUInt8(e);e+=1;let f=[];for(let b=0;b<d;b++){let S=ZE.decode(t,e);f.push(S),e+=ZE.span}let p=t.readUInt8(e);e+=1;for(let b=0;b<p;b++)ZE.decode(t,e),e+=ZE.span;let m=t.readUInt8(e);e+=1;for(let b=0;b<m;b++)ZE.decode(t,e),e+=ZE.span;let y=t.readUInt8(e);e+=1;let g=[];for(let b=0;b<y;b++){let S=he.u32().decode(t,e);g.push(S),e+=4}return{meta:r,leaves:i,nullifiers:s,addresses:c,sequence_numbers:f,output_leaf_indices:g}}function jKe(t,e,r){let n=i=>Array.from(i instanceof Si.Buffer?new Uint8Array(i):i);return{inputCompressedAccountHashes:t.nullifiers.map(i=>n(i.account_hash)),outputCompressedAccountHashes:t.leaves.map(i=>n(i.leaf)),outputCompressedAccounts:t.leaves.map((i,o)=>{var s,a,c,d,f,p;return{compressedAccount:{owner:new je.PublicKey(((s=r?.outputCompressedAccounts[o])===null||s===void 0?void 0:s.compressedAccount.owner)||je.PublicKey.default),lamports:ze(((a=r?.outputCompressedAccounts[o])===null||a===void 0?void 0:a.compressedAccount.lamports)||0),address:r?.outputCompressedAccounts[o].compressedAccount.address,data:!((c=r?.outputCompressedAccounts[o])===null||c===void 0)&&c.compressedAccount.data?{discriminator:n(Si.Buffer.from((d=r.outputCompressedAccounts[o].compressedAccount.data)===null||d===void 0?void 0:d.discriminator)),data:(f=n(Si.Buffer.from(new Uint8Array(r.outputCompressedAccounts[o].compressedAccount.data.data))))!==null&&f!==void 0?f:[],dataHash:n(Si.Buffer.from((p=r.outputCompressedAccounts[o].compressedAccount.data)===null||p===void 0?void 0:p.dataHash))}:null},merkleTreeIndex:i.index}}),outputLeafIndices:t.output_leaf_indices,sequenceNumbers:t.sequence_numbers.map(i=>({pubkey:new je.PublicKey(i.pubkey),seq:ze(i.seq)})),pubkeyArray:e.slice(2).filter(i=>!i.equals(je.PublicKey.default)),isCompress:r?.isCompress||0,relayFee:r?.relayFee?ze(r.relayFee):null,compressOrDecompressLamports:r?.compressOrDecompressLamports?ze(r.compressOrDecompressLamports):null,message:null}}var Z2=t=>t.reduce((e,r)=>e.add(ze(r.lamports)),ze(0)),cJt=Si.Buffer.from("sol_pool_pda"),og=class t{constructor(){}static deriveCompressedSolPda(){let e=[cJt],[r,n]=je.PublicKey.findProgramAddressSync(e,this.programId);return r}static createTransferOutputState(e,r,n){n=ze(n);let i=Z2(e).sub(n);return Y5(i),i.eq(ze(0))?[ig(r,n)]:(X5(e),[ig(e[0].owner,i),ig(r,n)])}static createDecompressOutputState(e,r){r=ze(r);let n=Z2(e).sub(r);return Y5(n),n.eq(ze(0))?[]:(X5(e),[ig(e[0].owner,n)])}static createNewAddressOutputState(e,r,n,i){n=ze(n??0);let o=Z2(i??[]).sub(n);return Y5(o),o.eq(ze(0))||!i?[ig(r,n,void 0,e)]:(X5(i),[ig(i[0].owner,o),ig(r,n,void 0,e)])}static async createAccount({payer:e,newAddressParams:r,newAddress:n,recentValidityProof:i,outputStateTreeInfo:o,inputCompressedAccounts:s,inputStateRootIndices:a,lamports:c}){let d=this.createNewAddressOutputState(n,e,c,s),{packedInputCompressedAccounts:f,packedOutputCompressedAccounts:p,remainingAccounts:m}=$2(s??[],a??[],d,s&&s.length!==0?void 0:o),{newAddressParamsPacked:y,remainingAccounts:g}=BKe([r],m),b=Y2({proof:i,inputCompressedAccountsWithMerkleContext:f,outputCompressedAccounts:p,relayFee:null,newAddressParams:y,compressOrDecompressLamports:null,isCompress:0}),S=[...X2(Object.assign(Object.assign({},JE()),{feePayer:e,authority:e,solPoolPda:null,decompressionRecipient:null,systemProgram:je.SystemProgram.programId})),...H2(g)];return new je.TransactionInstruction({programId:this.programId,keys:S,data:b})}static async transfer({payer:e,inputCompressedAccounts:r,toAddress:n,lamports:i,recentInputStateRootIndices:o,recentValidityProof:s}){let a=this.createTransferOutputState(r,n,i),{packedInputCompressedAccounts:c,packedOutputCompressedAccounts:d,remainingAccounts:f}=$2(r,o,a),p=Y2({proof:s,inputCompressedAccountsWithMerkleContext:c,outputCompressedAccounts:d,relayFee:null,newAddressParams:[],compressOrDecompressLamports:null,isCompress:0}),m=[...X2(Object.assign(Object.assign({},JE()),{feePayer:e,authority:e,solPoolPda:null,decompressionRecipient:null,systemProgram:je.SystemProgram.programId})),...H2(f)];return new je.TransactionInstruction({programId:this.programId,keys:m,data:p})}static async compress({payer:e,toAddress:r,lamports:n,outputStateTreeInfo:i}){n=ze(n);let o=ig(r,n),{packedInputCompressedAccounts:s,packedOutputCompressedAccounts:a,remainingAccounts:c}=$2([],[],[o],i),d=Y2({proof:null,inputCompressedAccountsWithMerkleContext:s,outputCompressedAccounts:a,relayFee:null,newAddressParams:[],compressOrDecompressLamports:n,isCompress:1}),f=[...X2(Object.assign(Object.assign({},JE()),{feePayer:e,authority:e,solPoolPda:t.deriveCompressedSolPda(),decompressionRecipient:null,systemProgram:je.SystemProgram.programId})),...H2(c)];return new je.TransactionInstruction({programId:this.programId,keys:f,data:d})}static async decompress({payer:e,inputCompressedAccounts:r,toAddress:n,lamports:i,recentInputStateRootIndices:o,recentValidityProof:s}){i=ze(i);let a=this.createDecompressOutputState(r,i),{packedInputCompressedAccounts:c,packedOutputCompressedAccounts:d,remainingAccounts:f}=$2(r,o,a),p=Y2({proof:s,inputCompressedAccountsWithMerkleContext:c,outputCompressedAccounts:d,relayFee:null,newAddressParams:[],compressOrDecompressLamports:i,isCompress:0}),m=[...X2(Object.assign(Object.assign({},JE()),{feePayer:e,authority:e,solPoolPda:t.deriveCompressedSolPda(),decompressionRecipient:n,systemProgram:je.SystemProgram.programId})),...H2(f)];return new je.TransactionInstruction({programId:this.programId,keys:m,data:p})}};function ide(t,e){let r=ze(0);e=ze(e);let n=[];t.sort((i,o)=>o.lamports.cmp(i.lamports));for(let i of t){if(r.gte(ze(e)))break;r=r.add(i.lamports),n.push(i)}if(r.lt(ze(e)))throw new Error(`Insufficient balance for transfer. Required: ${e.toString()}, available: ${r.toString()}`);return[n,r]}og.programId=new je.PublicKey("SySTEM1eSU2p4BGQfQpimFEWWSC1XDFeun3Nqzz3rT7");var sL=class{constructor(e,r,n){this.index=e,this.value=r,this.nextIndex=n}equals(e){return this.value.eq(e.value)}compareTo(e){return this.value.cmp(e.value)}hash(e,r){try{return e.poseidonHash([ze(this.value.toArray("be",32)).toString(),ze(this.nextIndex).toString(),ze(r.toArray("be",32)).toString()])}catch{throw new Error("Hashing failed")}}},fG=class{constructor(e,r,n){this.newLowElement=e,this.newElement=r,this.newElementNextValue=n}},pG=class t{constructor(e,r,n){this.elements=e,this.currentNodeIndex=r,this.highestElementIndex=n}static default(){return new t([new sL(0,ze(0),0)],0,0)}get(e){return this.elements[e]}length(){return Number(this.currentNodeIndex)}isEmpty(){return this.currentNodeIndex===0}findElement(e){return this.elements.slice(0,this.length()+1).find(r=>r.value===e)}init(){try{let e=aKe;return this.append(e)}catch(e){throw new Error(`Failed to initialize IndexedArray: ${e}`)}}findLowElementIndex(e){for(let r=0;r<=this.length();r++){let n=this.elements[r];if(this.elements[n.nextIndex].value.gt(e)&&n.value.lt(e))return r;if(n.value.eq(e))throw new Error("Element already exists in the array")}return this.highestElementIndex}findLowElement(e){let r=this.findLowElementIndex(e);if(r===void 0)return[void 0,void 0];let n=this.elements[r];return[n,this.elements[n.nextIndex].value]}hashElement(e,r){let n=this.elements[r];if(!n)return;let i=this.elements[n.nextIndex];return i?e.poseidonHash([ze(n.value.toArray("be",32)).toString(),ze(n.nextIndex).toString(),ze(i.value.toArray("be",32)).toString()]):void 0}append(e){let r=this.findLowElementIndex(e);if(r===void 0)throw new Error("Low element index not found.");return this.appendWithLowElementIndex(r,e)}appendWithLowElementIndex(e,r){let n=this.elements[e];if(n.nextIndex===0){if(r.lte(n.value))throw new Error("New element value must be greater than the low element value.")}else{let o=this.elements[n.nextIndex];if(r.lte(n.value))throw new Error("New element value must be greater than the low element value.");if(r.gte(o.value))throw new Error("New element value must be less than the next element value.")}let i=this.newElementWithLowElementIndex(e,r);return n.nextIndex===0&&(this.highestElementIndex=i.newElement.index),this.currentNodeIndex=i.newElement.index,this.elements[this.length()]=i.newElement,this.elements[e]=i.newLowElement,i}lowest(){return this.elements.length>0?this.elements[0]:void 0}newElementWithLowElementIndex(e,r){let n=this.elements[e],i=this.currentNodeIndex+1,o=new sL(i,r,n.nextIndex);n.nextIndex=i;let s=this.elements[o.nextIndex].value;return new fG(n,o,s)}newElement(e){let r=this.findLowElementIndex(e);if(r===void 0)throw new Error("Low element index not found.");return this.newElementWithLowElementIndex(r,e)}},aL=class{constructor(e,r,n=[],{zeroElement:i="0"}={}){if(this.levels=e,this.capacity=2**e,this.zeroElement=i,this._lightWasm=r,n.length>this.capacity)throw new Error("Tree is full");this._zeros=[],this._layers=[],this._layers[0]=n,this._zeros[0]=this.zeroElement;for(let o=1;o<=e;o++)this._zeros[o]=this._lightWasm.poseidonHashString([this._zeros[o-1],this._zeros[o-1]]);this._rebuild()}_rebuild(){for(let e=1;e<=this.levels;e++){this._layers[e]=[];for(let r=0;r<Math.ceil(this._layers[e-1].length/2);r++)this._layers[e][r]=this._lightWasm.poseidonHashString([this._layers[e-1][2*r],2*r+1<this._layers[e-1].length?this._layers[e-1][2*r+1]:this._zeros[e-1]])}}root(){return this._layers[this.levels].length>0?this._layers[this.levels][0]:this._zeros[this.levels]}insert(e){if(this._layers[0].length>=this.capacity)throw new Error("Tree is full");this.update(this._layers[0].length,e)}bulkInsert(e){if(this._layers[0].length+e.length>this.capacity)throw new Error("Tree is full");this._layers[0].push(...e),this._rebuild()}update(e,r){if(isNaN(Number(e))||e<0||e>this._layers[0].length||e>=this.capacity)throw new Error("Insert index out of bounds: "+e);this._layers[0][e]=r;for(let n=1;n<=this.levels;n++)e>>=1,this._layers[n][e]=this._lightWasm.poseidonHashString([this._layers[n-1][2*e],2*e+1<this._layers[n-1].length?this._layers[n-1][2*e+1]:this._zeros[n-1]])}path(e){if(isNaN(Number(e))||e<0||e>=this._layers[0].length)throw new Error("Index out of bounds: "+e);let r=[],n=[];for(let i=0;i<this.levels;i++)n[i]=e%2,r[i]=(1^e)<this._layers[i].length?this._layers[i][1^e]:this._zeros[i],e>>=1;return{pathElements:r,pathIndices:n}}indexOf(e,r=null){return r?this._layers[0].findIndex(n=>r(e,n)):this._layers[0].indexOf(e)}elements(){return this._layers[0].slice()}serialize(){return{levels:this.levels,_zeros:this._zeros,_layers:this._layers}}static deserialize(e,r){let n=Object.assign(Object.create(this.prototype),e);return n._hash=r,n.capacity=2**n.levels,n.zeroElement=n._zeros[0],n}};async function Ix(t){let e=[],{noopProgram:r,accountCompressionProgram:n}=JE(),i=(await t.getConfirmedSignaturesForAddress2(n,void 0,"confirmed")).map(a=>a.signature),o=await t.getParsedTransactions(i,{maxSupportedTransactionVersion:0,commitment:"confirmed"});for(let a of o){if(!a||!a.transaction||!a.meta||!a.meta.innerInstructions||a.meta.innerInstructions.length==0)continue;let c=a.transaction.message.accountKeys.map(y=>y.pubkey),d=[],f=await t.getTransaction(a.transaction.signatures[0],{commitment:"confirmed",maxSupportedTransactionVersion:0});for(let y of f?.transaction.message.compiledInstructions||[])if(y.data&&y.data.length>0){let g=Uint8Array.from(y.data);if(g.length===dde.length&&dde.every((b,S)=>b===g[S]))continue;d.push(g)}let p=[];if(f.meta.innerInstructions&&f.meta.innerInstructions.length>0)for(let y of f.meta.innerInstructions)for(let g of y.instructions){let b=g.accounts.map(S=>c[S]);if(p.push(b),g.data&&g.data.length>0){let S=Fb.decode(g.data);d.push(S)}}let m=VKe(d,p);m&&e.push(m)}if(e.length>0)return e;let s=o.filter(a=>a?a.transaction.message.accountKeys.some(c=>(typeof c=="string"?c:c.pubkey.toBase58())===r.toBase58()):0);return KKe(s,WKe)}var KKe=(t,e)=>{let{noopProgram:r}=JE(),n=[];return t.forEach(i=>{!i||!i.meta||i.meta.err||!i.meta.innerInstructions||i.meta.innerInstructions.length<=0||i.meta.innerInstructions.forEach(o=>{if(o.instructions.length>0){let s=o.instructions[o.instructions.length-1];if("data"in s&&s.data&&s.programId.toBase58()===r.toBase58()){let a=Fb.decode(s.data),c=e(Si.Buffer.from(a),i);c!=null&&n.push(c)}}})}),n},WKe=t=>{let e=Si.Buffer.from(t.map(r=>r));try{return FKe(e)}catch(r){return console.error("Error deserializing event:",r),null}};function VKe(t,e){let r=0,n=null,i=null;for(let o of t){let s=o.slice(0,8),a=Fb.encode(s),c=Fb.encode(bG),d=Fb.encode(Lde);if(a===c){n=LKe(Si.Buffer.from(o)),r=1;break}if(a==d){n=zKe(Si.Buffer.from(o)),r=1;break}}if(!r)return null;for(let o of t){let s=o.slice(0,8);if(Fb.encode(s)===Fb.encode(cKe)){let a=o.slice(12);i=qKe(Si.Buffer.from(a))}}return n?jKe(i,e[e.length-1],n):null}function Ep(t,e){if(t.some(n=>n.queue.equals(e)))throw new Error("Checking by queue not supported yet");let r=t.findIndex(n=>n.tree.equals(e));if(r!==-1){let{queue:n,treeType:i}=t[r];if(!n)throw new Error("Queue must not be null for state tree");return{queue:n,treeType:i,tree:t[r].tree,cpiContext:t[r].cpiContext,nextTreeInfo:t[r].nextTreeInfo}}throw new Error(`No associated StateTreeInfo found for tree or queue. Please set activeStateTreeInfos with latest Tree accounts. If you use custom state trees, set manually. Pubkey: ${e.toBase58()}`)}async function Z6e(t,e){return(await Nde(t)).find(r=>ze(r.hash).eq(e))}async function Nde(t){var e,r;let n=(await Ix(t)).reverse(),i=[],o=[],s=await t.getStateTreeInfos();for(let c of n){for(let d=0;d<c.outputCompressedAccounts.length;d++){let f=c.pubkeyArray[c.outputCompressedAccounts[d].merkleTreeIndex],p=Ep(s,new je.PublicKey(f)),m=c.outputCompressedAccounts[d],y={treeInfo:p,hash:ze(c.outputCompressedAccountHashes[d]),leafIndex:c.outputLeafIndices[d],proveByIndex:0},g=YS(y,m.compressedAccount.owner,m.compressedAccount.lamports,(e=m.compressedAccount.data)!==null&&e!==void 0?e:void 0,(r=m.compressedAccount.address)!==null&&r!==void 0?r:void 0);i.push(g)}for(let d=0;d<c.inputCompressedAccountHashes.length;d++){let f=c.inputCompressedAccountHashes[d];o.push(ze(f))}}let a=i.filter(c=>!o.some(d=>d.eq(ze(c.hash))));return a.sort((c,d)=>d.leafIndex-c.leafIndex),a}var GKe=he.struct([he.publicKey("mint"),he.publicKey("owner"),he.u64("amount"),he.option(he.publicKey(),"delegate"),he.u8("state"),he.option(he.vecU8(),"tlv")]);function HKe(t,e=fKe){if(t.data===null)return null;let{data:r}=t.data;if(r.length===0)return null;if(t.owner.toBase58()!==e.toBase58())throw new Error(`Invalid owner ${t.owner.toBase58()} for token layout`);try{return GKe.decode(Buffer.from(r))}catch(n){throw console.error("Decoding error:",n),n}}async function AG(t,e){let r=await Promise.all(t.map(o=>async function(s,a){let c=s.pubkeyArray,d=await a.getStateTreeInfos(),f=s.outputCompressedAccountHashes,p=s.outputCompressedAccounts.map((m,y)=>{var g;let b=c[s.outputCompressedAccounts[y].merkleTreeIndex],S=Ep(d,b);if(!S.tree.equals(c[s.outputCompressedAccounts[y].merkleTreeIndex]))throw new Error("Invalid tree");let P={treeInfo:S,hash:ze(f[y]),leafIndex:s.outputLeafIndices[y],proveByIndex:0};if(!m.compressedAccount.data)throw new Error("No data");let U=HKe(m.compressedAccount);if(!U)throw new Error("Invalid token data");return{compressedAccount:YS(P,m.compressedAccount.owner,m.compressedAccount.lamports,m.compressedAccount.data,(g=m.compressedAccount.address)!==null&&g!==void 0?g:void 0),parsed:U}});return{inputCompressedAccountHashes:s.inputCompressedAccountHashes,outputCompressedAccounts:p}}(o,e))),n=r.flatMap(o=>o.outputCompressedAccounts),i=r.flatMap(o=>o.inputCompressedAccountHashes);return n.filter(o=>!i.some(s=>ze(s).eq(o.compressedAccount.hash)))}async function Z5(t,e,r){let n=await Ix(t);return{items:(await AG(n,t)).filter(i=>i.parsed.owner.equals(e)&&i.parsed.mint.equals(r)).sort((i,o)=>i.compressedAccount.leafIndex-o.compressedAccount.leafIndex),cursor:null}}async function $Ke(t,e,r){let n=await Ix(t);return{items:(await AG(n,t)).filter(i=>{var o;return((o=i.parsed.delegate)===null||o===void 0?void 0:o.equals(e))&&i.parsed.mint.equals(r)}),cursor:null}}async function YKe(t,e){let r=await Ix(t),n=(await AG(r,t)).filter(i=>ze(i.compressedAccount.hash).eq(e));if(n.length===0)throw new Error("No compressed account found");return n[0]}var Dde=class extends TypeError{constructor(e,r){let n,{message:i,explanation:o,...s}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}};function EG(t){return typeof t=="object"&&t!=null}function J6e(t){return EG(t)&&!Array.isArray(t)}function Wb(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function uJt(t,e,r,n){if(t==1)return;t==0?t={}:typeof t=="string"&&(t={message:t});let{path:i,branch:o}=e,{type:s}=r,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Wb(n)}\``}=t;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*Q6e(t,e,r,n){var i;EG(i=t)&&typeof i[Symbol.iterator]=="function"||(t=[t]);for(let o of t){let s=uJt(o,e,r,n);s&&(yield s)}}function*Xde(t,e,r={}){let{path:n=[],branch:i=[t],coerce:o=0,mask:s=0}=r,a={path:n,branch:i,mask:s};o&&(t=e.coercer(t,a));let c="valid";for(let d of e.validator(t,a))d.explanation=r.message,c="not_valid",yield[d,void 0];for(let[d,f,p]of e.entries(t,a)){let m=Xde(f,p,{path:d===void 0?n:[...n,d],branch:d===void 0?i:[...i,f],coerce:o,mask:s,message:r.message});for(let y of m)y[0]?(c=y[0].refinement!=null?"not_refined":"not_valid",yield[y[0],void 0]):o&&(f=y[1],d===void 0?t=f:t instanceof Map?t.set(d,f):t instanceof Set?t.add(f):EG(t)&&(f!==void 0||d in t)&&(t[d]=f))}if(c!=="not_valid")for(let d of e.refiner(t,a))d.explanation=r.message,c="not_refined",yield[d,void 0];c==="valid"&&(yield[void 0,t])}var Vb=class{constructor(e){let{type:r,schema:n,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=s,this.validator=i?(c,d)=>Q6e(i(c,d),d,this,c):()=>[],this.refiner=o?(c,d)=>Q6e(o(c,d),d,this,c):()=>[]}assert(e,r){return function(n,i,o){let s=J2(n,i,{message:o});if(s[0])throw s[0]}(e,this,r)}create(e,r){return Wi(e,this,r)}is(e){return XKe(e,this)}mask(e,r){return function(n,i,o){let s=J2(n,i,{coerce:1,mask:1,message:o});if(s[0])throw s[0];return s[1]}(e,this,r)}validate(e,r={}){return J2(e,this,r)}};function Wi(t,e,r){let n=J2(t,e,{coerce:1,message:r});if(n[0])throw n[0];return n[1]}function XKe(t,e){return!J2(t,e)[0]}function J2(t,e,r={}){let n=Xde(t,e,r),i=function(o){let{done:s,value:a}=o.next();return s?void 0:a}(n);return i[0]?[new Dde(i[0],function*(){for(let o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function dL(t,e){return new Vb({type:t,schema:null,validator:e})}function ZKe(){return dL("any",()=>1)}function si(t){return new Vb({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${Wb(e)}`})}function IG(t){return dL("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Wb(e)}`)}function eKe(t){let e=Wb(t);return new Vb({type:"literal",schema:t,validator:r=>r===t||`Expected the literal \`${e}\`, but received: ${Wb(r)}`})}function Ou(t){return new Vb({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function Vi(){return dL("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Wb(t)}`)}function yo(){return dL("string",t=>typeof t=="string"||`Expected a string, but received: ${Wb(t)}`)}function ln(t){let e=Object.keys(t);return new Vb({type:"type",schema:t,*entries(r){if(EG(r))for(let n of e)yield[n,r[n],t[n]]},validator:r=>J6e(r)||`Expected an object, but received: ${Wb(r)}`,coercer:r=>J6e(r)?{...r}:r})}function JKe(t){let e=t.map(r=>r.type).join(" | ");return new Vb({type:"union",schema:null,coercer(r,n){for(let i of t){let[o,s]=i.validate(r,{coerce:1,mask:n.mask});if(!o)return s}return r},validator(r,n){let i=[];for(let o of t){let[...s]=Xde(r,o,n),[a]=s;if(!a[0])return[];for(let[c]of s)c&&i.push(c)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Wb(r)}`,...i]}})}function QKe(){return dL("unknown",()=>1)}function Tx(t,e,r){return new Vb({...t,coercer:(n,i)=>XKe(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var sg=Tx(IG(je.PublicKey),yo(),t=>new je.PublicKey(t)),lJt=Tx(IG(Array),yo(),t=>Array.from(new je.PublicKey(t).toBytes())),Ip=Tx(IG(Ru),yo(),t=>eL(t,"base58")),jb=Tx(IG(Ru),JKe([yo(),Vi()]),t=>{if(typeof t=="number"){if(!Number.isSafeInteger(t))throw new Error(`Unsafe integer. Precision loss: ${t}`);return ze(t)}return ze(t,10)}),dJt=Tx(yo(),yo(),t=>t===""?null:t);function Zde(t){return JKe([ln({jsonrpc:eKe("2.0"),id:yo(),result:t}),ln({jsonrpc:eKe("2.0"),id:yo(),error:ln({code:QKe(),message:yo(),data:Ou(ZKe())})})])}var fJt=Zde(QKe());function Q2(t){return Tx(Zde(t),fJt,e=>"error"in e?e:Object.assign(Object.assign({},e),{result:Wi(e.result,t)}))}function Co(t){return Q2(ln({context:ln({slot:Vi()}),value:t}))}var tI=ln({address:Ou(lJt),hash:Ip,data:Ou(ln({data:dJt,dataHash:Ip,discriminator:jb})),lamports:jb,owner:sg,leafIndex:Vi(),tree:sg,seq:Ou(jb),slotCreated:jb}),hG=ln({mint:sg,owner:sg,amount:jb,delegate:Ou(sg),state:yo()}),e4e=ln({tokenData:hG,account:tI}),t4e=ln({items:si(tI)}),r4e=ln({items:si(tI),cursor:Ou(yo())}),n4e=ln({items:si(e4e),cursor:Ou(yo())}),i4e=Vi(),o4e=yo(),s4e=ln({items:si(ln({signature:yo(),slot:Vi(),blockTime:Vi(),error:Ou(yo())}))}),a4e=ln({items:si(ln({signature:yo(),slot:Vi(),blockTime:Vi()})),cursor:Ou(yo())}),mG=ln({hash:Ip,leafIndex:Vi(),merkleTree:sg,proof:si(Ip),rootSeq:Vi(),root:Ip}),c4e=ln({address:Ip,nextIndex:Vi(),merkleTree:sg,proof:si(Ip),rootSeq:Vi(),root:Ip,lowerRangeAddress:Ip,higherRangeAddress:Ip,lowElementLeafIndex:Vi()}),pJt=ln({a:si(Vi()),b:si(Vi()),c:si(Vi())}),u4e=ln({compressedProof:pJt,leafIndices:si(Vi()),leaves:si(Ip),rootIndices:si(Vi()),roots:si(Ip),merkleTrees:si(sg)}),hJt=si(mG),l4e=ln({amount:jb}),Ude=jb,Jde=ln({balance:jb,mint:sg}),d4e=ln({tokenBalances:si(Jde),cursor:Ou(yo())}),f4e=ln({items:si(Jde),cursor:Ou(yo())}),p4e=ln({cursor:Ou(yo()),items:si(ln({balance:jb,owner:sg}))}),mJt=ln({hash:si(Vi()),root:si(Vi()),proof:si(si(Vi()))}),h4e=ln({items:si(ln({blockTime:Vi(),signature:yo(),slot:Vi()}))}),J5=ln({items:si(ln({blockTime:Vi(),signature:yo(),slot:Vi()})),cursor:Ou(yo())}),m4e=ln({compressionInfo:ln({closedAccounts:si(ln({account:tI,optionalTokenData:Ou(hG)})),openedAccounts:si(ln({account:tI,optionalTokenData:Ou(hG)}))}),transaction:ZKe()});function wx({discriminator:t,data:e,dataHash:r}){return{discriminator:t.toArray("le",8),data:Si.Buffer.from(e,"base64"),dataHash:r.toArray("le",32)}}async function tKe(t,e,r,n=0){var i,o;let s=n?"getCompressedTokenAccountsByDelegate":"getCompressedTokenAccountsByOwner",a=n?"delegate":"owner",c=Wi(await ro(t.compressionApiEndpoint,s,{[a]:e.toBase58(),mint:(i=r.mint)===null||i===void 0?void 0:i.toBase58(),limit:(o=r.limit)===null||o===void 0?void 0:o.toNumber(),cursor:r.cursor}),Co(n4e));if("error"in c)throw new je.SolanaJSONRPCError(c.error,`failed to get info for compressed accounts by ${a} ${e.toBase58()}`);if(c.result.value===null)throw new Error("not implemented: NULL result");let d=[],f=await t.getStateTreeInfos();return c.result.value.items.map(p=>{var m;let y=p.account,g=p.tokenData,b=Ep(f,y.tree),S=YS(_x(b,y.hash,y.leafIndex),y.owner,ze(y.lamports),y.data?wx(y.data):void 0,y.address||void 0),P={mint:g.mint,owner:g.owner,amount:g.amount,delegate:g.delegate,state:["uninitialized","initialized","frozen"].indexOf(g.state),tlv:null};if(((m=P[a])===null||m===void 0?void 0:m.toBase58())!==e.toBase58())throw new Error(`RPC returned token account with ${a} different from requested ${a}`);d.push({compressedAccount:S,parsed:P})}),{items:d.sort((p,m)=>m.compressedAccount.leafIndex-p.compressedAccount.leafIndex),cursor:c.result.value.cursor}}function rKe(t,e){let r=t.account,n=t.optionalTokenData,i=Ep(e,r.tree),o=YS(_x(i,r.hash,r.leafIndex),r.owner,ze(r.lamports),r.data?wx(r.data):void 0,r.address||void 0);return n===null?{account:o,maybeTokenData:null}:{account:o,maybeTokenData:{mint:n.mint,owner:n.owner,amount:n.amount,delegate:n.delegate,state:["uninitialized","initialized","frozen"].indexOf(n.state),tlv:null}}}function y4e(t){return t.replace(/(":\s*)(-?\d+)(\s*[},])/g,(e,r,n,i)=>{let o=Number(n);return!Number.isNaN(o)&&(o>Number.MAX_SAFE_INTEGER||o<Number.MIN_SAFE_INTEGER)?`${r}"${n}"${i}`:e})}var ro=async(t,e,r=[],n=1,i=0)=>{let o=JSON.stringify({jsonrpc:"2.0",id:"test-account",method:e,params:r});if(i){let c=()=>{let d=o.replace(/"/g,'\\"');return`curl -X POST ${t} \\
     -H "Content-Type: application/json" \\
     -d "${d}"`};console.log("Debug: Stack trace:"),console.log(new Error().stack),console.log(`
Debug: curl:`),console.log(c()),console.log(`
`)}let s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:o});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);let a=y4e(await s.text());return n?OKe(JSON.parse(a)):JSON.parse(a)},eI=async(t,e,r=[],n=0)=>{let i,o="";n&&(o=`Proof generation for method:${e}`,console.time(o)),e==="inclusion"?i=JSON.stringify({circuitType:"inclusion",stateTreeHeight:26,inputCompressedAccounts:r}):e==="new-address"?i=JSON.stringify({circuitType:"non-inclusion",addressTreeHeight:26,newAddresses:r}):e==="combined"&&(i=JSON.stringify({circuitType:"combined",stateTreeHeight:26,addressTreeHeight:26,inputCompressedAccounts:r[0],newAddresses:r[1]}));let s=await fetch(`${t}/prove`,{method:"POST",headers:{"Content-Type":"application/json"},body:i});if(!s.ok)throw new Error(`Error fetching proof: ${s.statusText}`);let a=NKe(MKe(await s.json()));return n&&console.timeEnd(o),a};function cL(t){let e=[];for(let r=0;r<t.length;r++){let n={root:qb(t[r].root),pathIndex:t[r].leafIndex,pathElements:t[r].merkleProof.map(i=>qb(i)),leaf:qb(ze(t[r].hash))};e.push(n)}return e}function uL(t){let e=[];for(let r=0;r<t.length;r++){let n={root:qb(t[r].root),value:qb(t[r].value),pathIndex:t[r].indexHashedIndexedElementLeaf.toNumber(),pathElements:t[r].merkleProofHashedIndexedElementLeaf.map(i=>qb(i)),nextIndex:t[r].nextIndex.toNumber(),leafLowerRangeValue:qb(t[r].leafLowerRangeValue),leafHigherRangeValue:qb(t[r].leafHigherRangeValue)};e.push(n)}return e}function ode(t,e,r){if(t.length!==e.length)throw new Error("Input lengths must match.");if(t.length===0)return ze(0);let n=r.poseidonHashBN([t[0].toString(),e[0].toString()]);for(let i=1;i<t.length;i++)n=r.poseidonHashBN([n.toString(),t[i].toString(),e[i].toString()]);return n}var yG=class extends je.Connection{constructor(e,r,n,i){super(e,i||"confirmed"),this.allStateTreeInfos=null,this.lastStateTreeFetchTime=null,this.CACHE_TTL=36e5,this.fetchPromise=null,this.compressionApiEndpoint=r,this.proverEndpoint=n}async getCachedActiveStateTreeInfos(){}async getStateTreeInfos(){if(dKe(this.rpcEndpoint))return zde();if(this.allStateTreeInfos&&this.lastStateTreeFetchTime&&Date.now()-this.lastStateTreeFetchTime<=this.CACHE_TTL)return this.allStateTreeInfos;if(this.fetchPromise)return this.fetchPromise;let e;try{return this.fetchPromise=this.doFetch(),e=await this.fetchPromise,this.allStateTreeInfos=e,this.lastStateTreeFetchTime=Date.now(),e}finally{this.fetchPromise=null}}async doFetch(){let{mainnet:e,devnet:r}=lKe();try{return await Ide({connection:this,stateTreeLUTPairs:[e[0]]})}catch(n){try{return await Ide({connection:this,stateTreeLUTPairs:[r[0]]})}catch(i){throw new Error(`Failed to fetch state tree infos from both mainnet and devnet. Mainnet error: ${n}. Devnet error: ${i}`)}}}async getCompressedAccount(e,r){if(!r&&!e)throw new Error("Either hash or address must be provided");if(r&&e)throw new Error("Only one of hash or address must be provided");let n=Wi(await ro(this.compressionApiEndpoint,"getCompressedAccount",{hash:r?Cs(r):void 0,address:e?Cs(e):void 0}),Co(Ou(tI)));if("error"in n)throw new je.SolanaJSONRPCError(n.error,`failed to get info for compressed account ${r?r.toString():e?e.toString():""}`);if(n.result.value===null)return null;let i=Ep(await this.getStateTreeInfos(),n.result.value.tree),o=n.result.value;return YS(_x(i,o.hash,o.leafIndex),o.owner,ze(o.lamports),o.data?wx(o.data):void 0,o.address||void 0)}async getCompressedBalance(e,r){if(!r&&!e)throw new Error("Either hash or address must be provided");if(r&&e)throw new Error("Only one of hash or address must be provided");let n=Wi(await ro(this.compressionApiEndpoint,"getCompressedBalance",{hash:r?Cs(r):void 0,address:e?Cs(e):void 0}),Co(Ude));if("error"in n)throw new je.SolanaJSONRPCError(n.error,`failed to get balance for compressed account ${r?r.toString():e?e.toString():""}`);return n.result.value===null?ze(0):ze(n.result.value)}async getCompressedBalanceByOwner(e){let r=Wi(await ro(this.compressionApiEndpoint,"getCompressedBalanceByOwner",{owner:e.toBase58()}),Co(Ude));if("error"in r)throw new je.SolanaJSONRPCError(r.error,`failed to get balance for compressed account ${e.toBase58()}`);return r.result.value===null?ze(0):ze(r.result.value)}async getCompressedAccountProof(e){let r=Wi(await ro(this.compressionApiEndpoint,"getCompressedAccountProof",{hash:Cs(e)}),Co(mG));if("error"in r)throw new je.SolanaJSONRPCError(r.error,`failed to get proof for compressed account ${e.toString()}`);if(r.result.value===null)throw new Error(`failed to get proof for compressed account ${e.toString()}`);let n=Ep(await this.getStateTreeInfos(),r.result.value.merkleTree);return{hash:ze(r.result.value.hash.toArray("be",32)),treeInfo:n,leafIndex:r.result.value.leafIndex,merkleProof:r.result.value.proof,rootIndex:r.result.value.rootSeq%2400,root:r.result.value.root,proveByIndex:0}}async getMultipleCompressedAccounts(e){let r=Wi(await ro(this.compressionApiEndpoint,"getMultipleCompressedAccounts",{hashes:e.map(o=>Cs(o))}),Co(t4e));if("error"in r)throw new je.SolanaJSONRPCError(r.error,`failed to get info for compressed accounts ${e.map(o=>Cs(o)).join(", ")}`);if(r.result.value===null)throw new Error(`failed to get info for compressed accounts ${e.map(o=>Cs(o)).join(", ")}`);let n=await this.getStateTreeInfos(),i=[];return r.result.value.items.map(o=>{let s=Ep(n,o.tree),a=YS(_x(s,ze(o.hash.toArray("be",32)),o.leafIndex),o.owner,ze(o.lamports),o.data?wx(o.data):void 0,o.address||void 0);i.push(a)}),i.sort((o,s)=>s.leafIndex-o.leafIndex)}async getMultipleCompressedAccountProofs(e){let r=Wi(await ro(this.compressionApiEndpoint,"getMultipleCompressedAccountProofs",e.map(o=>Cs(o))),Co(si(mG)));if("error"in r)throw new je.SolanaJSONRPCError(r.error,`failed to get proofs for compressed accounts ${e.map(o=>Cs(o)).join(", ")}`);if(r.result.value===null)throw new Error(`failed to get proofs for compressed accounts ${e.map(o=>Cs(o)).join(", ")}`);let n=[],i=await this.getStateTreeInfos();for(let o of r.result.value){let s=Ep(i,o.merkleTree),a={hash:ze(o.hash.toArray("be",32)),treeInfo:s,leafIndex:o.leafIndex,merkleProof:o.proof,rootIndex:o.rootSeq%2400,root:o.root,proveByIndex:0};n.push(a)}return n}async getCompressedAccountsByOwner(e,r){var n;let i=Wi(await ro(this.compressionApiEndpoint,"getCompressedAccountsByOwner",{owner:e.toBase58(),filters:r?.filters||[],dataSlice:r?.dataSlice,cursor:r?.cursor,limit:(n=r?.limit)===null||n===void 0?void 0:n.toNumber()}),Co(r4e));if("error"in i)throw new je.SolanaJSONRPCError(i.error,`failed to get info for compressed accounts owned by ${e.toBase58()}`);if(i.result.value===null)return{items:[],cursor:null};let o=[],s=await this.getStateTreeInfos();return i.result.value.items.map(a=>{let c=Ep(s,a.tree),d=YS(_x(c,ze(a.hash.toArray("be",32)),a.leafIndex),a.owner,ze(a.lamports),a.data?wx(a.data):void 0,a.address||void 0);o.push(d)}),{items:o.sort((a,c)=>c.leafIndex-a.leafIndex),cursor:i.result.value.cursor}}async getCompressedTokenAccountsByOwner(e,r){return r||(r={}),await tKe(this,e,r,0)}async getCompressedTokenAccountsByDelegate(e,r){return r||(r={}),await tKe(this,e,r,1)}async getCompressedTokenAccountBalance(e){let r=Wi(await ro(this.compressionApiEndpoint,"getCompressedTokenAccountBalance",{hash:Cs(e)}),Co(l4e));if("error"in r)throw new je.SolanaJSONRPCError(r.error,`failed to get balance for compressed token account ${e.toString()}`);if(r.result.value===null)throw new Error(`failed to get balance for compressed token account ${e.toString()}`);return{amount:ze(r.result.value.amount)}}async getCompressedTokenBalancesByOwner(e,r){var n,i;r||(r={});let o=Wi(await ro(this.compressionApiEndpoint,"getCompressedTokenBalancesByOwner",{owner:e.toBase58(),mint:(n=r.mint)===null||n===void 0?void 0:n.toBase58(),limit:(i=r.limit)===null||i===void 0?void 0:i.toNumber(),cursor:r.cursor}),Co(d4e));if("error"in o)throw new je.SolanaJSONRPCError(o.error,`failed to get compressed token balances for owner ${e.toBase58()}`);if(o.result.value===null)throw new Error(`failed to get compressed token balances for owner ${e.toBase58()}`);return{items:r.mint?o.result.value.tokenBalances.filter(s=>s.mint.toBase58()===r.mint.toBase58()):o.result.value.tokenBalances,cursor:o.result.value.cursor}}async getCompressedTokenBalancesByOwnerV2(e,r){var n,i;r||(r={});let o=Wi(await ro(this.compressionApiEndpoint,"getCompressedTokenBalancesByOwnerV2",{owner:e.toBase58(),mint:(n=r.mint)===null||n===void 0?void 0:n.toBase58(),limit:(i=r.limit)===null||i===void 0?void 0:i.toNumber(),cursor:r.cursor}),Co(f4e));if("error"in o)throw new je.SolanaJSONRPCError(o.error,`failed to get compressed token balances for owner ${e.toBase58()}`);if(o.result.value===null)throw new Error(`failed to get compressed token balances for owner ${e.toBase58()}`);let s=r.mint?o.result.value.items.filter(a=>a.mint.toBase58()===r.mint.toBase58()):o.result.value.items;return{context:o.result.context,value:{items:s,cursor:o.result.value.cursor}}}async getCompressionSignaturesForAccount(e){let r=Wi(await ro(this.compressionApiEndpoint,"getCompressionSignaturesForAccount",{hash:Cs(e)}),Co(h4e));if("error"in r)throw new je.SolanaJSONRPCError(r.error,`failed to get signatures for compressed account ${e.toString()}`);return r.result.value.items}async getTransactionWithCompressionInfo(e){let r=Wi(await ro(this.compressionApiEndpoint,"getTransactionWithCompressionInfo",{signature:e}),Q2(m4e));if("error"in r)throw new je.SolanaJSONRPCError(r.error,"failed to get slot");if(r.result.transaction===null)return null;let n=[],i=[],o=await this.getStateTreeInfos();r.result.compressionInfo.closedAccounts.map(d=>{n.push(rKe(d,o))}),r.result.compressionInfo.openedAccounts.map(d=>{i.push(rKe(d,o))});let s=d=>{let f=Object.values(d.reduce((p,{maybeTokenData:m})=>{if(m){let{owner:y,mint:g,amount:b}=m,S=`${y.toBase58()}_${g.toBase58()}`;S in p?p[S].amount=p[S].amount.add(b):p[S]={owner:y,mint:g,amount:b}}return p},{}));return f.length>0?f:void 0},a=s(n),c=s(i);return{compressionInfo:{closedAccounts:n,openedAccounts:i,preTokenBalances:a,postTokenBalances:c},transaction:r.result.transaction}}async getCompressionSignaturesForAddress(e,r){var n;let i=Wi(await ro(this.compressionApiEndpoint,"getCompressionSignaturesForAddress",{address:e.toBase58(),cursor:r?.cursor,limit:(n=r?.limit)===null||n===void 0?void 0:n.toNumber()}),Co(J5));if("error"in i)throw new je.SolanaJSONRPCError(i.error,`failed to get signatures for address ${e.toBase58()}`);if(i.result.value===null)throw new Error(`failed to get signatures for address ${e.toBase58()}`);return i.result.value}async getCompressionSignaturesForOwner(e,r){var n;let i=Wi(await ro(this.compressionApiEndpoint,"getCompressionSignaturesForOwner",{owner:e.toBase58(),cursor:r?.cursor,limit:(n=r?.limit)===null||n===void 0?void 0:n.toNumber()}),Co(J5));if("error"in i)throw new je.SolanaJSONRPCError(i.error,`failed to get signatures for owner ${e.toBase58()}`);if(i.result.value===null)throw new Error(`failed to get signatures for owner ${e.toBase58()}`);return i.result.value}async getCompressionSignaturesForTokenOwner(e,r){var n;let i=Wi(await ro(this.compressionApiEndpoint,"getCompressionSignaturesForTokenOwner",{owner:e.toBase58(),cursor:r?.cursor,limit:(n=r?.limit)===null||n===void 0?void 0:n.toNumber()}),Co(J5));if("error"in i)throw new je.SolanaJSONRPCError(i.error,`failed to get signatures for owner ${e.toBase58()}`);if(i.result.value===null)throw new Error(`failed to get signatures for owner ${e.toBase58()}`);return i.result.value}async getIndexerHealth(){let e=Wi(await ro(this.compressionApiEndpoint,"getIndexerHealth"),Q2(o4e));if("error"in e)throw new je.SolanaJSONRPCError(e.error,"failed to get health");return e.result}async confirmTransactionIndexed(e){let r=Date.now();for(;;){if(await this.getIndexerSlot()>=e)return 1;if(Date.now()-r>2e4)throw new Error("Timeout: Indexer slot did not reach the required slot within 20 seconds");await new Promise(n=>setTimeout(n,200))}}async getIndexerSlot(){let e=Wi(await ro(this.compressionApiEndpoint,"getIndexerSlot"),Q2(i4e));if("error"in e)throw new je.SolanaJSONRPCError(e.error,"failed to get slot");return e.result}async getCompressedMintTokenHolders(e,r){var n;let i=Wi(await ro(this.compressionApiEndpoint,"getCompressedMintTokenHolders",{mint:e.toBase58(),cursor:r?.cursor,limit:(n=r?.limit)===null||n===void 0?void 0:n.toNumber()}),Co(p4e));if("error"in i)throw new je.SolanaJSONRPCError(i.error,"failed to get mint token holders");return i.result}async getLatestCompressionSignatures(e,r){let n=Wi(await ro(this.compressionApiEndpoint,"getLatestCompressionSignatures",{limit:r,cursor:e}),Co(a4e));if("error"in n)throw new je.SolanaJSONRPCError(n.error,"failed to get latest non-voting signatures");return n.result}async getLatestNonVotingSignatures(e,r){let n=Wi(await ro(this.compressionApiEndpoint,"getLatestNonVotingSignatures",{limit:e,cursor:r}),Co(s4e));if("error"in n)throw new je.SolanaJSONRPCError(n.error,"failed to get latest non-voting signatures");return n.result}async getMultipleNewAddressProofs(e){let r=Wi(await ro(this.compressionApiEndpoint,"getMultipleNewAddressProofs",e.map(i=>Cs(i))),Co(si(c4e)));if("error"in r)throw new je.SolanaJSONRPCError(r.error,`failed to get proofs for new addresses ${e.map(i=>Cs(i)).join(", ")}`);if(r.result.value===null)throw new Error(`failed to get proofs for new addresses ${e.map(i=>Cs(i)).join(", ")}`);let n=[];for(let i of r.result.value){let o={root:i.root,rootIndex:i.rootSeq%2400,value:i.address,leafLowerRangeValue:i.lowerRangeAddress,leafHigherRangeValue:i.higherRangeAddress,nextIndex:ze(i.nextIndex),merkleProofHashedIndexedElementLeaf:i.proof,indexHashedIndexedElementLeaf:ze(i.lowElementLeafIndex),treeInfo:{tree:i.merkleTree,queue:Kb().addressQueue,treeType:Y.TreeType.AddressV1,nextTreeInfo:null}};n.push(o)}return n}async getValidityProofDirect(e=[],r=[]){let n;if(e.length===0&&r.length===0)throw new Error("Empty input. Provide hashes and/or new addresses.");if(e.length>0&&r.length===0){let i=await this.getMultipleCompressedAccountProofs(e),o=cL(i);n={compressedProof:await eI(this.proverEndpoint,"inclusion",o,0),roots:i.map(s=>s.root),rootIndices:i.map(s=>s.rootIndex),leafIndices:i.map(s=>s.leafIndex),leaves:i.map(s=>ze(s.hash)),treeInfos:i.map(s=>s.treeInfo)}}else if(e.length===0&&r.length>0){let i=await this.getMultipleNewAddressProofs(r),o=uL(i);n={compressedProof:await eI(this.proverEndpoint,"new-address",o,0),roots:i.map(s=>s.root),rootIndices:i.map(s=>s.rootIndex),leafIndices:i.map(s=>s.nextIndex.toNumber()),leaves:i.map(s=>ze(s.value)),treeInfos:i.map(s=>s.treeInfo)}}else{if(!(e.length>0&&r.length>0))throw new Error("Invalid input");{let i=await this.getMultipleCompressedAccountProofs(e),o=cL(i),s=await this.getMultipleNewAddressProofs(r),a=uL(s),c=await eI(this.proverEndpoint,"combined",[o,a],0),d=[...i.map(f=>f.treeInfo),...s.map(f=>f.treeInfo)];n={compressedProof:c,roots:i.map(f=>f.root).concat(s.map(f=>f.root)),rootIndices:i.map(f=>f.rootIndex).concat(s.map(f=>f.rootIndex)),leafIndices:i.map(f=>f.leafIndex).concat(s.map(f=>f.nextIndex.toNumber())),leaves:i.map(f=>ze(f.hash)).concat(s.map(f=>ze(f.value))),treeInfos:d}}}return n}async getValidityProof(e=[],r=[]){let n=await this.getMultipleCompressedAccounts(e),i=n.map(f=>f.treeInfo.tree),o=n.map(f=>f.treeInfo.queue),s=Kb().addressTree,a=Kb().addressQueue,c=e.map((f,p)=>({hash:f,tree:i[p],queue:o[p]})),d=r.map(f=>({address:f,tree:s,queue:a}));return this.getValidityProofV0(c,d)}async getValidityProofV0(e=[],r=[]){let{value:n}=await this.getValidityProofAndRpcContext(e,r);return n}async getValidityProofAndRpcContext(e=[],r=[]){SKe(e.length,r.length);let n=await this.getStateTreeInfos(),i=Wi(await ro(this.compressionApiEndpoint,"getValidityProof",{hashes:e.map(({hash:a})=>Cs(a)),newAddressesWithTrees:r.map(({address:a,tree:c})=>({address:Cs(a),tree:c.toBase58()}))}),Co(u4e));if("error"in i)throw new je.SolanaJSONRPCError(i.error,`failed to get ValidityProof for compressed accounts ${e.map(a=>a.toString())}`);let o=i.result.value;if(o===null)throw new Error(`failed to get ValidityProof for compressed accounts ${e.map(a=>a.toString())}`);let s=[...e.map(({tree:a})=>{let c=Ep(n,a);return{tree:a,queue:c.queue,treeType:c.treeType,nextTreeInfo:c.nextTreeInfo}}),...r.map(({tree:a,queue:c})=>({tree:a,queue:c,treeType:Y.TreeType.AddressV1,nextTreeInfo:null}))];return{value:{compressedProof:o.compressedProof,treeInfos:s,leafIndices:o.leafIndices,rootIndices:o.rootIndices,roots:o.roots,leaves:o.leaves},context:i.result.context}}},gG=class extends je.Connection{constructor(e,r,n,i,o,s){super(e,o||"confirmed"),this.log=0,this.allStateTreeInfos=null,this.lastStateTreeFetchTime=null,this.fetchPromise=null,this.CACHE_TTL=36e5,this.compressionApiEndpoint=n,this.proverEndpoint=i;let{depth:a,log:c}=s??{},{merkleTreeHeight:d}=Kb();this.lightWasm=r,this.depth=a??d,this.log=c??0}async getCachedActiveStateTreeInfos(){}async getStateTreeInfos(){return zde()}async doFetch(){throw new Error("doFetch not supported in test-rpc")}async getCompressedAccount(e,r){if(e)throw new Error("address is not supported in test-rpc");if(!r)throw new Error("hash is required");let n=await Z6e(this,r);return n??null}async getCompressedBalance(e,r){if(e)throw new Error("address is not supported in test-rpc");if(!r)throw new Error("hash is required");let n=await Z6e(this,r);if(!n)throw new Error("Account not found");return ze(n.lamports)}async getCompressedBalanceByOwner(e){return(await this.getCompressedAccountsByOwner(e)).items.reduce((r,n)=>r.add(n.lamports),ze(0))}async getCompressedAccountProof(e){return(await this.getMultipleCompressedAccountProofs([e]))[0]}async getMultipleCompressedAccounts(e){return await async function(r,n){return(await Nde(r)).filter(i=>n.some(o=>ze(i.hash).eq(o))).sort((i,o)=>o.leafIndex-i.leafIndex)}(this,e)}async confirmTransactionIndexed(e){return 1}async getMultipleCompressedAccountProofs(e){let r=await Ix(this).then(s=>s.reverse()),n=new Map,i=await this.getStateTreeInfos();for(let s of r)for(let a=0;a<s.outputCompressedAccounts.length;a++){let c=s.outputCompressedAccountHashes[a],d=Ep(i,s.pubkeyArray[s.outputCompressedAccounts[a].merkleTreeIndex]);n.has(d.tree.toBase58())||n.set(d.tree.toBase58(),{leaves:[],leafIndices:[],treeType:d.treeType,queue:d.queue});let f=n.get(d.tree.toBase58());if(!f)throw new Error(`Tree not found: ${d.tree.toBase58()}`);f.leaves.push(c),f.leafIndices.push(s.outputLeafIndices[a])}let o=new Map;for(let[s,{leaves:a,treeType:c,queue:d}]of n.entries()){let f=new je.PublicKey(s),p;if(c!==Y.TreeType.StateV1)throw new Error(`Unsupported tree type: ${c} in test-rpc.ts`);p=new aL(this.depth,this.lightWasm,a.map(m=>ze(m).toString()));for(let m=0;m<e.length;m++){let y=a.findIndex(b=>ze(b).eq(e[m])),g=Ep(i,f);if(y!==-1&&c===Y.TreeType.StateV1){let b=p.path(y).pathElements.map(U=>ze(U)),S=ze(p.root()),P={hash:ze(e[m].toArray("be",32)),treeInfo:g,leafIndex:y,merkleProof:b,proveByIndex:0,rootIndex:a.length,root:S};o.set(e[m].toString(),P)}}}return o.forEach((s,a)=>{let c=s.leafIndex,d=n.get(s.treeInfo.tree.toBase58()).leaves[c],f=ze(d);if(!f.eq(s.hash))throw new Error(`Mismatch at index ${a}: expected ${s.hash.toString()}, got ${f.toString()}`)}),e.map(s=>{let a=o.get(s.toString());if(!a)throw new Error(`No proof found for hash: ${s.toString()}`);return a})}async getCompressedAccountsByOwner(e,r){return{items:await async function(i,o){return(await Nde(i)).filter(s=>s.owner.equals(o))}(this,e),cursor:null}}async getLatestCompressionSignatures(e,r){throw new Error("getLatestNonVotingSignaturesWithContext not supported in test-rpc")}async getLatestNonVotingSignatures(e){throw new Error("getLatestNonVotingSignaturesWithContext not supported in test-rpc")}async getCompressedTokenAccountsByOwner(e,r){return await Z5(this,e,r.mint)}async getCompressedTokenAccountsByDelegate(e,r){return await $Ke(this,e,r.mint)}async getCompressedTokenAccountBalance(e){let r=await YKe(this,e);return{amount:ze(r.parsed.amount)}}async getCompressedTokenBalancesByOwner(e,r){return{items:(await Z5(this,e,r.mint)).items.map(n=>({balance:ze(n.parsed.amount),mint:n.parsed.mint})),cursor:null}}async getCompressedTokenBalancesByOwnerV2(e,r){return{context:{slot:1},value:{items:(await Z5(this,e,r.mint)).items.map(n=>({balance:ze(n.parsed.amount),mint:n.parsed.mint})),cursor:null}}}async getCompressionSignaturesForAccount(e){throw new Error("getCompressionSignaturesForAccount not implemented in test-rpc")}async getTransactionWithCompressionInfo(e){throw new Error("getCompressedTransaction not implemented in test-rpc")}async getCompressionSignaturesForAddress(e,r){throw new Error("getSignaturesForAddress3 not implemented")}async getCompressionSignaturesForOwner(e,r){throw new Error("getSignaturesForOwner not implemented")}async getCompressionSignaturesForTokenOwner(e,r){throw new Error("getSignaturesForTokenOwner not implemented")}async getIndexerHealth(){return"ok"}async getIndexerSlot(){return 1}async getMultipleNewAddressProofs(e){let r=pG.default(),n=[];r.init();let i=[];for(let a=0;a<n.length;a++)r.append(ze(n[a]));for(let a=0;a<r.elements.length;a++){let c=r.hashElement(this.lightWasm,a);i.push(ze(c))}let o=new aL(this.depth,this.lightWasm,i.map(a=>ze(a).toString())),s=[];for(let a=0;a<e.length;a++){let[c]=r.findLowElement(e[a]);if(!c)throw new Error("Address not found");let d=c.index,f=o.path(d).pathElements.map(y=>ze(y)),p=r.get(c.nextIndex).value,m={root:ze(o.root()),rootIndex:3,value:e[a],leafLowerRangeValue:c.value,leafHigherRangeValue:p,nextIndex:ze(c.nextIndex),merkleProofHashedIndexedElementLeaf:f,indexHashedIndexedElementLeaf:ze(c.index),treeInfo:{tree:Kb().addressTree,queue:Kb().addressQueue,treeType:Y.TreeType.AddressV1,nextTreeInfo:null}};s.push(m)}return s}async getCompressedMintTokenHolders(e,r){throw new Error("getCompressedMintTokenHolders not implemented in test-rpc")}async getValidityProofDirect(e=[],r=[]){return this.getValidityProof(e,r)}async getValidityProofAndRpcContext(e=[],r=[]){if(r.some(n=>!(n instanceof Ru)))throw new Error("AddressWithTree is not supported in test-rpc");return{value:await this.getValidityProofV0(e,r),context:{slot:1}}}async getValidityProof(e=[],r=[]){if(r.some(i=>!(i instanceof Ru)))throw new Error("AddressWithTree is not supported in test-rpc");let n;if(e.length===0&&r.length===0)throw new Error("Empty input. Provide hashes and/or new addresses.");if(e.length>0&&r.length===0){let i=await this.getMultipleCompressedAccountProofs(e),o=cL(i);n={compressedProof:await eI(this.proverEndpoint,"inclusion",o,this.log),roots:i.map(s=>s.root),rootIndices:i.map(s=>s.rootIndex),leafIndices:i.map(s=>s.leafIndex),leaves:i.map(s=>ze(s.hash)),treeInfos:i.map(s=>s.treeInfo)}}else if(e.length===0&&r.length>0){let i=await this.getMultipleNewAddressProofs(r),o=uL(i);n={compressedProof:await eI(this.proverEndpoint,"new-address",o,this.log),roots:i.map(s=>s.root),rootIndices:i.map(()=>3),leafIndices:i.map(s=>s.indexHashedIndexedElementLeaf.toNumber()),leaves:i.map(s=>ze(s.value)),treeInfos:i.map(s=>s.treeInfo)}}else{if(!(e.length>0&&r.length>0))throw new Error("Invalid input");{let i=await this.getMultipleCompressedAccountProofs(e),o=cL(i),s=await this.getMultipleNewAddressProofs(r),a=uL(s);n={compressedProof:await eI(this.proverEndpoint,"combined",[o,a],this.log),roots:i.map(c=>c.root).concat(s.map(c=>c.root)),rootIndices:i.map(c=>c.rootIndex).concat(s.map(()=>3)),leafIndices:i.map(c=>c.leafIndex).concat(s.map(c=>c.indexHashedIndexedElementLeaf.toNumber())),leaves:i.map(c=>ze(c.hash)).concat(s.map(c=>ze(c.value))),treeInfos:i.map(c=>c.treeInfo).concat(s.map(c=>c.treeInfo))}}}return n}async getValidityProofV0(e=[],r=[]){return this.getValidityProof(e.map(n=>n.hash),r.map(n=>n.address))}},nKe=1,yJt=Ex(255),gJt=Ex(254),bJt=Ex(253),_Jt=Ex(252);function Ex(t){if(t||(t=nKe,nKe++),t>255)return je.Keypair.generate();let e=new Uint8Array(32);return e[31]=t,je.Keypair.fromSeed(e)}var sde,iKe,ade,$5,oKe,cde,gx,XE;Y.UtxoErrorCode=void 0,(sde=Y.UtxoErrorCode||(Y.UtxoErrorCode={})).NEGATIVE_LAMPORTS="NEGATIVE_LAMPORTS",sde.NOT_U64="NOT_U64",sde.BLINDING_EXCEEDS_FIELD_SIZE="BLINDING_EXCEEDS_FIELD_SIZE",Y.SelectInUtxosErrorCode=void 0,(iKe=Y.SelectInUtxosErrorCode||(Y.SelectInUtxosErrorCode={})).FAILED_TO_FIND_UTXO_COMBINATION="FAILED_TO_FIND_UTXO_COMBINATION",iKe.INVALID_NUMBER_OF_IN_UTXOS="INVALID_NUMBER_OF_IN_UTXOS",Y.CreateUtxoErrorCode=void 0,(ade=Y.CreateUtxoErrorCode||(Y.CreateUtxoErrorCode={})).OWNER_UNDEFINED="OWNER_UNDEFINED",ade.INVALID_OUTPUT_UTXO_LENGTH="INVALID_OUTPUT_UTXO_LENGTH",ade.UTXO_DATA_UNDEFINED="UTXO_DATA_UNDEFINED",Y.RpcErrorCode=void 0,($5=Y.RpcErrorCode||(Y.RpcErrorCode={})).CONNECTION_UNDEFINED="CONNECTION_UNDEFINED",$5.RPC_PUBKEY_UNDEFINED="RPC_PUBKEY_UNDEFINED",$5.RPC_METHOD_NOT_IMPLEMENTED="RPC_METHOD_NOT_IMPLEMENTED",$5.RPC_INVALID="RPC_INVALID",Y.LookupTableErrorCode=void 0,(oKe=Y.LookupTableErrorCode||(Y.LookupTableErrorCode={})).LOOK_UP_TABLE_UNDEFINED="LOOK_UP_TABLE_UNDEFINED",oKe.LOOK_UP_TABLE_NOT_INITIALIZED="LOOK_UP_TABLE_NOT_INITIALIZED",Y.HashErrorCode=void 0,(Y.HashErrorCode||(Y.HashErrorCode={})).NO_POSEIDON_HASHER_PROVIDED="NO_POSEIDON_HASHER_PROVIDED",Y.ProofErrorCode=void 0,(cde=Y.ProofErrorCode||(Y.ProofErrorCode={})).INVALID_PROOF="INVALID_PROOF",cde.PROOF_INPUT_UNDEFINED="PROOF_INPUT_UNDEFINED",cde.PROOF_GENERATION_FAILED="PROOF_GENERATION_FAILED",Y.MerkleTreeErrorCode=void 0,(gx=Y.MerkleTreeErrorCode||(Y.MerkleTreeErrorCode={})).MERKLE_TREE_NOT_INITIALIZED="MERKLE_TREE_NOT_INITIALIZED",gx.SOL_MERKLE_TREE_UNDEFINED="SOL_MERKLE_TREE_UNDEFINED",gx.MERKLE_TREE_UNDEFINED="MERKLE_TREE_UNDEFINED",gx.INPUT_UTXO_NOT_INSERTED_IN_MERKLE_TREE="INPUT_UTXO_NOT_INSERTED_IN_MERKLE_TREE",gx.MERKLE_TREE_INDEX_UNDEFINED="MERKLE_TREE_INDEX_UNDEFINED",gx.MERKLE_TREE_SET_SPACE_UNDEFINED="MERKLE_TREE_SET_SPACE_UNDEFINED",Y.UtilsErrorCode=void 0,(XE=Y.UtilsErrorCode||(Y.UtilsErrorCode={})).ACCOUNT_NAME_UNDEFINED_IN_IDL="ACCOUNT_NAME_UNDEFINED_IN_IDL",XE.PROPERTY_UNDEFINED="PROPERTY_UNDEFINED",XE.LOOK_UP_TABLE_CREATION_FAILED="LOOK_UP_TABLE_CREATION_FAILED",XE.UNSUPPORTED_ARCHITECTURE="UNSUPPORTED_ARCHITECTURE",XE.UNSUPPORTED_PLATFORM="UNSUPPORTED_PLATFORM",XE.ACCOUNTS_UNDEFINED="ACCOUNTS_UNDEFINED",XE.INVALID_NUMBER="INVALID_NUMBER";var Oh=class extends Error{constructor(e,r,n){super(`${e}: ${n}`),this.code=e,this.functionName=r,this.codeMessage=n}};Y.ADDRESS_QUEUE_ROLLOVER_FEE=GZt,Y.ADDRESS_TREE_NETWORK_FEE=$Zt,Y.ALICE=yJt,Y.AccountProofResult=mJt,Y.AppendLeavesInputLayout=Cde,Y.AppendNullifyCreateAddressInputsMetaLayout=Rde,Y.BOB=gJt,Y.BalanceResult=l4e,Y.CHARLIE=bJt,Y.COMPRESSED_TOKEN_PROGRAM_ID=fKe,Y.COMPUTE_BUDGET_PATTERN=dde,Y.CompressedAccountLayout=oL,Y.CompressedAccountResult=tI,Y.CompressedAccountsByOwnerResult=r4e,Y.CompressedMintTokenHoldersResult=p4e,Y.CompressedTokenAccountResult=e4e,Y.CompressedTokenAccountsByOwnerOrDelegateResult=n4e,Y.CompressedTransactionResult=m4e,Y.CreateUtxoError=class extends Oh{},Y.DAVE=_Jt,Y.DEFAULT_MERKLE_TREE_HEIGHT=Wde,Y.DEFAULT_MERKLE_TREE_ROOTS=2800,Y.DEFAULT_ZERO="0",Y.FIELD_SIZE=lL,Y.HIGHEST_ADDRESS_PLUS_ONE=aKe,Y.HashError=class extends Oh{},Y.HealthResult=o4e,Y.IDL={version:"1.2.0",name:"light_system_program",constants:[{name:"SOL_POOL_PDA_SEED",type:"bytes",value:"[115, 111, 108, 95, 112, 111, 111, 108, 95, 112, 100, 97]"}],instructions:[{name:"initCpiContextAccount",accounts:[{name:"feePayer",isMut:1,isSigner:1},{name:"cpiContextAccount",isMut:1,isSigner:0},{name:"associatedMerkleTree",isMut:0,isSigner:0}],args:[]},{name:"invoke",accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["Fee payer needs to be mutable to pay rollover and protocol fees."]},{name:"authority",isMut:0,isSigner:1},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0,docs:["This pda is used to invoke the account compression program."]},{name:"accountCompressionProgram",isMut:0,isSigner:0,docs:["Merkle trees."]},{name:"solPoolPda",isMut:1,isSigner:0,isOptional:1,docs:["Sol pool pda is used to store the native sol that has been compressed.","It's only required when compressing or decompressing sol."]},{name:"decompressionRecipient",isMut:1,isSigner:0,isOptional:1,docs:["Only needs to be provided for decompression as a recipient for the","decompressed sol.","Compressed sol originate from authority."]},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"inputs",type:"bytes"}]},{name:"invokeCpi",accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["Fee payer needs to be mutable to pay rollover and protocol fees."]},{name:"authority",isMut:0,isSigner:1},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"invokingProgram",isMut:0,isSigner:0},{name:"solPoolPda",isMut:1,isSigner:0,isOptional:1},{name:"decompressionRecipient",isMut:1,isSigner:0,isOptional:1},{name:"systemProgram",isMut:0,isSigner:0},{name:"cpiContextAccount",isMut:1,isSigner:0,isOptional:1}],args:[{name:"inputs",type:"bytes"}]},{name:"invokeCpiWithReadOnly",accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["Fee payer needs to be mutable to pay rollover and protocol fees."]},{name:"authority",isMut:0,isSigner:1},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"invokingProgram",isMut:0,isSigner:0},{name:"solPoolPda",isMut:1,isSigner:0,isOptional:1},{name:"decompressionRecipient",isMut:1,isSigner:0,isOptional:1},{name:"systemProgram",isMut:0,isSigner:0},{name:"cpiContextAccount",isMut:1,isSigner:0,isOptional:1}],args:[{name:"inputs",type:"bytes"}]},{name:"stubIdlBuild",docs:["This function is a stub to allow Anchor to include the input types in","the IDL. It should not be included in production builds nor be called in","practice."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["Fee payer needs to be mutable to pay rollover and protocol fees."]},{name:"authority",isMut:0,isSigner:1},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0,docs:["This pda is used to invoke the account compression program."]},{name:"accountCompressionProgram",isMut:0,isSigner:0,docs:["Merkle trees."]},{name:"solPoolPda",isMut:1,isSigner:0,isOptional:1,docs:["Sol pool pda is used to store the native sol that has been compressed.","It's only required when compressing or decompressing sol."]},{name:"decompressionRecipient",isMut:1,isSigner:0,isOptional:1,docs:["Only needs to be provided for decompression as a recipient for the","decompressed sol.","Compressed sol originate from authority."]},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"inputs1",type:{defined:"InstructionDataInvoke"}},{name:"inputs2",type:{defined:"InstructionDataInvokeCpi"}},{name:"inputs3",type:{defined:"PublicTransactionEvent"}}]}],accounts:[{name:"cpiContextAccount",docs:["Collects instruction data without executing a compressed transaction.","Signer checks are performed on instruction data.","Collected instruction data is combined with the instruction data of the executing cpi,","and executed as a single transaction.","This enables to use input compressed accounts that are owned by multiple programs,","with one zero-knowledge proof."],type:{kind:"struct",fields:[{name:"feePayer",type:"publicKey"},{name:"associatedMerkleTree",type:"publicKey"},{name:"context",type:{vec:{defined:"InstructionDataInvokeCpi"}}}]}}],types:[{name:"InstructionDataInvoke",type:{kind:"struct",fields:[{name:"proof",type:{option:{defined:"CompressedProof"}}},{name:"inputCompressedAccountsWithMerkleContext",type:{vec:{defined:"PackedCompressedAccountWithMerkleContext"}}},{name:"outputCompressedAccounts",type:{vec:{defined:"OutputCompressedAccountWithPackedContext"}}},{name:"relayFee",type:{option:"u64"}},{name:"newAddressParams",type:{vec:{defined:"NewAddressParamsPacked"}}},{name:"compressOrDecompressLamports",type:{option:"u64"}},{name:"isCompress",type:"bool"}]}},{name:"NewAddressParamsPacked",type:{kind:"struct",fields:[{name:"seed",type:{array:["u8",32]}},{name:"addressQueueAccountIndex",type:"u8"},{name:"addressMerkleTreeAccountIndex",type:"u8"},{name:"addressMerkleTreeRootIndex",type:"u16"}]}},{name:"OutputCompressedAccountWithPackedContext",type:{kind:"struct",fields:[{name:"compressedAccount",type:{defined:"CompressedAccount"}},{name:"merkleTreeIndex",type:"u8"}]}},{name:"CompressedProof",type:{kind:"struct",fields:[{name:"a",type:{array:["u8",32]}},{name:"b",type:{array:["u8",64]}},{name:"c",type:{array:["u8",32]}}]}},{name:"InstructionDataInvokeCpi",type:{kind:"struct",fields:[{name:"proof",type:{option:{defined:"CompressedProof"}}},{name:"newAddressParams",type:{vec:{defined:"NewAddressParamsPacked"}}},{name:"inputCompressedAccountsWithMerkleContext",type:{vec:{defined:"PackedCompressedAccountWithMerkleContext"}}},{name:"outputCompressedAccounts",type:{vec:{defined:"OutputCompressedAccountWithPackedContext"}}},{name:"relayFee",type:{option:"u64"}},{name:"compressOrDecompressLamports",type:{option:"u64"}},{name:"isCompress",type:"bool"},{name:"cpiContext",type:{option:{defined:"CompressedCpiContext"}}}]}},{name:"CompressedCpiContext",type:{kind:"struct",fields:[{name:"setContext",docs:["Is set by the program that is invoking the CPI to signal that is should","set the cpi context."],type:"bool"},{name:"firstSetContext",docs:["Is set to wipe the cpi context since someone could have set it before","with unrelated data."],type:"bool"},{name:"cpiContextAccountIndex",docs:["Index of cpi context account in remaining accounts."],type:"u8"}]}},{name:"CompressedAccount",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"lamports",type:"u64"},{name:"address",type:{option:{array:["u8",32]}}},{name:"data",type:{option:{defined:"CompressedAccountData"}}}]}},{name:"CompressedAccountData",type:{kind:"struct",fields:[{name:"discriminator",type:{array:["u8",8]}},{name:"data",type:"bytes"},{name:"dataHash",type:{array:["u8",32]}}]}},{name:"PackedCompressedAccountWithMerkleContext",type:{kind:"struct",fields:[{name:"compressedAccount",type:{defined:"CompressedAccount"}},{name:"merkleContext",type:{defined:"PackedMerkleContext"}},{name:"rootIndex",docs:["Index of root used in inclusion validity proof."],type:"u16"},{name:"readOnly",docs:["Placeholder to mark accounts read-only unimplemented set to false."],type:"bool"}]}},{name:"PackedMerkleContext",type:{kind:"struct",fields:[{name:"merkleTreePubkeyIndex",type:"u8"},{name:"nullifierQueuePubkeyIndex",type:"u8"},{name:"leafIndex",type:"u32"},{name:"queueIndex",type:{option:{defined:"QueueIndex"}}}]}},{name:"QueueIndex",type:{kind:"struct",fields:[{name:"queueId",docs:["Id of queue in queue account."],type:"u8"},{name:"index",docs:["Index of compressed account hash in queue."],type:"u16"}]}},{name:"MerkleTreeSequenceNumber",type:{kind:"struct",fields:[{name:"pubkey",type:"publicKey"},{name:"seq",type:"u64"}]}},{name:"PublicTransactionEvent",type:{kind:"struct",fields:[{name:"inputCompressedAccountHashes",type:{vec:{array:["u8",32]}}},{name:"outputCompressedAccountHashes",type:{vec:{array:["u8",32]}}},{name:"outputCompressedAccounts",type:{vec:{defined:"OutputCompressedAccountWithPackedContext"}}},{name:"outputLeafIndices",type:{vec:"u32"}},{name:"sequenceNumbers",type:{vec:{defined:"MerkleTreeSequenceNumber"}}},{name:"relayFee",type:{option:"u64"}},{name:"isCompress",type:"bool"},{name:"compressOrDecompressLamports",type:{option:"u64"}},{name:"pubkeyArray",type:{vec:"publicKey"}},{name:"message",type:{option:"bytes"}}]}}],errors:[{code:6e3,name:"SumCheckFailed",msg:"Sum check failed"},{code:6001,name:"SignerCheckFailed",msg:"Signer check failed"},{code:6002,name:"CpiSignerCheckFailed",msg:"Cpi signer check failed"},{code:6003,name:"ComputeInputSumFailed",msg:"Computing input sum failed."},{code:6004,name:"ComputeOutputSumFailed",msg:"Computing output sum failed."},{code:6005,name:"ComputeRpcSumFailed",msg:"Computing rpc sum failed."},{code:6006,name:"InvalidAddress",msg:"InvalidAddress"},{code:6007,name:"DeriveAddressError",msg:"DeriveAddressError"},{code:6008,name:"CompressedSolPdaUndefinedForCompressSol",msg:"CompressedSolPdaUndefinedForCompressSol"},{code:6009,name:"DeCompressLamportsUndefinedForCompressSol",msg:"DeCompressLamportsUndefinedForCompressSol"},{code:6010,name:"CompressedSolPdaUndefinedForDecompressSol",msg:"CompressedSolPdaUndefinedForDecompressSol"},{code:6011,name:"DeCompressLamportsUndefinedForDecompressSol",msg:"DeCompressLamportsUndefinedForDecompressSol"},{code:6012,name:"DecompressRecipientUndefinedForDecompressSol",msg:"DecompressRecipientUndefinedForDecompressSol"},{code:6013,name:"WriteAccessCheckFailed",msg:"WriteAccessCheckFailed"},{code:6014,name:"InvokingProgramNotProvided",msg:"InvokingProgramNotProvided"},{code:6015,name:"InvalidCapacity",msg:"InvalidCapacity"},{code:6016,name:"InvalidMerkleTreeOwner",msg:"InvalidMerkleTreeOwner"},{code:6017,name:"ProofIsNone",msg:"ProofIsNone"},{code:6018,name:"ProofIsSome",msg:"Proof is some but no input compressed accounts or new addresses provided."},{code:6019,name:"EmptyInputs",msg:"EmptyInputs"},{code:6020,name:"CpiContextAccountUndefined",msg:"CpiContextAccountUndefined"},{code:6021,name:"CpiContextEmpty",msg:"CpiContextEmpty"},{code:6022,name:"CpiContextMissing",msg:"CpiContextMissing"},{code:6023,name:"DecompressionRecipientDefined",msg:"DecompressionRecipientDefined"},{code:6024,name:"SolPoolPdaDefined",msg:"SolPoolPdaDefined"},{code:6025,name:"AppendStateFailed",msg:"AppendStateFailed"},{code:6026,name:"InstructionNotCallable",msg:"The instruction is not callable"},{code:6027,name:"CpiContextFeePayerMismatch",msg:"CpiContextFeePayerMismatch"},{code:6028,name:"CpiContextAssociatedMerkleTreeMismatch",msg:"CpiContextAssociatedMerkleTreeMismatch"},{code:6029,name:"NoInputs",msg:"NoInputs"},{code:6030,name:"InputMerkleTreeIndicesNotInOrder",msg:"Input merkle tree indices are not in ascending order."},{code:6031,name:"OutputMerkleTreeIndicesNotInOrder",msg:"Output merkle tree indices are not in ascending order."},{code:6032,name:"OutputMerkleTreeNotUnique"},{code:6033,name:"DataFieldUndefined"},{code:6034,name:"ReadOnlyAddressAlreadyExists"},{code:6035,name:"ReadOnlyAccountDoesNotExist"},{code:6036,name:"HashChainInputsLenghtInconsistent"},{code:6037,name:"InvalidAddressTreeHeight"},{code:6038,name:"InvalidStateTreeHeight"}]},Y.INSERT_INTO_QUEUES_DISCRIMINATOR=cKe,Y.INVOKE_CPI_DISCRIMINATOR=Lde,Y.INVOKE_DISCRIMINATOR=bG,Y.IndexedArray=pG,Y.IndexedElement=sL,Y.IndexedElementBundle=fG,Y.InsertAddressInputLayout=Mde,Y.InsertNullifierInputLayout=Bde,Y.InstructionDataInvokeCpiLayout=UKe,Y.InstructionDataInvokeLayout=Yde,Y.LatestNonVotingSignaturesResult=s4e,Y.LatestNonVotingSignaturesResultPaginated=a4e,Y.LightSystemProgram=og,Y.LookupTableError=class extends Oh{},Y.MerkeProofResult=mG,Y.MerkleContextLayout=Hde,Y.MerkleTree=aL,Y.MerkleTreeError=class extends Oh{},Y.MerkleTreeSequenceNumberLayout=ZE,Y.MultipleCompressedAccountsResult=t4e,Y.MultipleMerkleProofsResult=hJt,Y.NativeBalanceResult=Ude,Y.NewAddressParamsLayout=$de,Y.NewAddressProofResult=c4e,Y.ProofError=class extends Oh{},Y.PublicTransactionEventLayout=Ode,Y.Rpc=yG,Y.RpcError=class extends Oh{},Y.STATE_MERKLE_TREE_NETWORK_FEE=HZt,Y.STATE_MERKLE_TREE_ROLLOVER_FEE=VZt,Y.SelectInUtxosError=class extends Oh{},Y.SignatureListResult=h4e,Y.SignatureListWithCursorResult=J5,Y.SlotResult=i4e,Y.TRANSACTION_MERKLE_TREE_ROLLOVER_THRESHOLD=WZt,Y.TestRpc=gG,Y.TokenBalanceListResult=d4e,Y.TokenBalanceListResultV2=f4e,Y.TokenBalanceResult=Jde,Y.TokenDataLayout=GKe,Y.TokenDataResult=hG,Y.UTXO_MERGE_MAXIMUM=10,Y.UTXO_MERGE_THRESHOLD=20,Y.UtilsError=class extends Oh{},Y.UtxoError=class extends Oh{},Y.ValidityProofResult=u4e,Y.accountCompressionProgram=pde,Y.addressQueue=Kde,Y.addressTree=jde,Y.airdropSol=async function({connection:t,lamports:e,recipientPublicKey:r}){let n=await t.requestAirdrop(r,e);return await $6e(t,n),n},Y.bn=ze,Y.bufToDecStr=t=>eL(t).toString(),Y.buildAndSignTx=Lb,Y.buildTx=DKe,Y.byteArrayToKeypair=function(t){return je.Keypair.fromSecretKey(Uint8Array.from(t))},Y.calculateComputeUnitPrice=function(t,e){return Math.ceil(1e6*t/e)},Y.checkValidityProofShape=t=>{if(t.a.length!==32||t.b.length!==64||t.c.length!==32)throw new Error("ValidityProof has invalid shape")},Y.compress=async function(t,e,r,n,i,o){let{blockhash:s}=await t.getLatestBlockhash();i||(i=rde(await t.getStateTreeInfos()));let a=await og.compress({payer:e.publicKey,toAddress:n,lamports:r,outputStateTreeInfo:i}),c=Lb([je.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),a],e,s,[]);return await Ub(t,c,o)},Y.confirmConfig={commitment:"confirmed",preflightCommitment:"confirmed"},Y.confirmTransaction=$6e,Y.confirmTx=X6e,Y.convertMerkleProofsWithContextToHex=cL,Y.convertNonInclusionMerkleProofInputsToHex=uL,Y.convertToPublicTransactionEvent=jKe,Y.cpiContext2Pubkey=bKe,Y.cpiContextPubkey=gKe,Y.createAccount=async function(t,e,r,n,i,o,s){let{blockhash:a}=await t.getLatestBlockhash(),{tree:c,queue:d}=i??Jle(),f=ede(r,n),p=tde(f,c);o||(o=rde(await t.getStateTreeInfos()));let m=await t.getValidityProofV0(void 0,[{address:ze(p.toBytes()),tree:c,queue:d}]),y={seed:f,addressMerkleTreeRootIndex:m.rootIndices[0],addressMerkleTreePubkey:m.treeInfos[0].tree,addressQueuePubkey:m.treeInfos[0].queue},g=await og.createAccount({payer:e.publicKey,newAddressParams:y,newAddress:Array.from(p.toBytes()),recentValidityProof:m.compressedProof,programId:n,outputStateTreeInfo:o}),b=Lb([je.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),g],e,a,[]);return await Ub(t,b,s)},Y.createAccountWithLamports=async function(t,e,r,n,i,o,s,a){n=ze(n);let c=await t.getCompressedAccountsByOwner(e.publicKey),[d]=ide(c.items,n),{blockhash:f}=await t.getLatestBlockhash(),{tree:p}=o??Jle(),m=ede(r,i),y=tde(m,p),g=await t.getValidityProof(d.map(U=>U.hash),[ze(y.toBytes())]),b={seed:m,addressMerkleTreeRootIndex:g.rootIndices[g.rootIndices.length-1],addressMerkleTreePubkey:g.treeInfos[g.treeInfos.length-1].tree,addressQueuePubkey:g.treeInfos[g.treeInfos.length-1].queue},S=await og.createAccount({payer:e.publicKey,newAddressParams:b,newAddress:Array.from(y.toBytes()),recentValidityProof:g.compressedProof,inputCompressedAccounts:d,inputStateRootIndices:g.rootIndices,outputStateTreeInfo:s}),P=Lb([je.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),S],e,f,[]);return await Ub(t,P,a)},Y.createBN254=eL,Y.createCompressedAccount=ig,Y.createCompressedAccountWithMerkleContext=YS,Y.createMerkleContext=_x,Y.createRpc=function(t,e,r,n){let i;if(t)if(typeof t=="string")i=t,e=e||i,r=r||i;else{if(!(t instanceof je.Connection))throw new Error("Invalid endpoint or connection type");i=t.rpcEndpoint,e=e||i,r=r||i}else i="http://127.0.0.1:8899",e=e||"http://127.0.0.1:8784",r=r||"http://127.0.0.1:3001";return new yG(i,e,r,n)},Y.createRpcResult=Zde,Y.createStateTreeLookupTable=async function({connection:t,payer:e,authority:r,recentSlot:n}){let[i,o]=je.AddressLookupTableProgram.createLookupTable({payer:e.publicKey,authority:r.publicKey,recentSlot:n}),s=Lb([i],e,(await t.getLatestBlockhash()).blockhash,H5(e,[r]));return{address:o,txId:await Ub(t,s)}},Y.decodeInstructionDataInvoke=LKe,Y.decodeInstructionDataInvokeCpi=zKe,Y.decodePublicTransactionEvent=FKe,Y.decompress=async function(t,e,r,n,i){let o=(await t.getCompressedAccountsByOwner(e.publicKey)).items;r=ze(r);let s=Z2(o);if(r.gt(s))throw new Error(`Not enough compressed lamports. Expected ${r}, got ${s}`);let a=await t.getValidityProof(o.map(p=>ze(p.hash))),{blockhash:c}=await t.getLatestBlockhash(),d=await og.decompress({payer:e.publicKey,toAddress:n,inputCompressedAccounts:o,recentValidityProof:a.compressedProof,recentInputStateRootIndices:a.rootIndices,lamports:r}),f=Lb([je.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),d],e,c,[]);return await Ub(t,f,i)},Y.dedupeSigner=H5,Y.deepEqual=function t(e,r){if(typeof e!=typeof r)return console.log(`Type mismatch: ${typeof e} !== ${typeof r}`),0;if(e instanceof Ru&&r instanceof Ru)return e.eq(r);if(typeof e=="object"&&e!==null&&r!==null){let n=Object.keys(e),i=Object.keys(r);if(n.length!==i.length)return console.log(`Key length mismatch: ${n.length} !== ${i.length}`),0;for(let o of n){if(!i.includes(o))return console.log(`Key ${o} not found in value`),0;if(!t(e[o],r[o]))return console.log(`Value mismatch at key ${o}`),0}return 1}return e!==r&&console.log(`Value mismatch: ${e} !== ${r}`),e===r},Y.defaultStateTreeLookupTables=lKe,Y.defaultStaticAccounts=()=>[new je.PublicKey(hde()),new je.PublicKey(fde),new je.PublicKey(pde),new je.PublicKey(mde())],Y.defaultStaticAccountsStruct=JE,Y.defaultTestStateTreeAccounts=Kb,Y.defaultTestStateTreeAccounts2=()=>({nullifierQueue2:new je.PublicKey(gde),merkleTree2:new je.PublicKey(yde)}),Y.deriveAddress=tde,Y.deriveAddressSeed=ede,Y.deserializeAppendNullifyCreateAddressInputsIndexer=qKe,Y.encodeBN254toBase58=Cs,Y.encodeInstructionDataInvoke=Y2,Y.encodePublicTransactionEvent=function(t){let e=Si.Buffer.alloc(1e3),r=Ode.encode(t,e);return e.slice(0,r)},Y.extendStateTreeLookupTable=async function({connection:t,tableAddress:e,newStateTreeAddresses:r,newQueueAddresses:n,newCpiContextAddresses:i,payer:o,authority:s}){let a=await t.getAddressLookupTable(e);if(!a.value)throw new Error("Lookup table not found");if(a.value.state.addresses.length%3!=0)throw new Error("Lookup table must have a multiple of 3 addresses");if(r.length!==n.length||r.length!==i.length)throw new Error("Same number of newStateTreeAddresses, newQueueAddresses, and newCpiContextAddresses required");let c=Lb([je.AddressLookupTableProgram.extendLookupTable({payer:o.publicKey,authority:s.publicKey,lookupTable:e,addresses:r.flatMap((d,f)=>[d,n[f],i[f]])})],o,(await t.getLatestBlockhash()).blockhash,H5(o,[s]));return{tableAddress:e,txId:await Ub(t,c)}},Y.getAccountCompressionAuthority=mde,Y.getAllStateTreeInfos=Ide,Y.getCompressedTokenAccountByHashTest=YKe,Y.getCompressedTokenAccounts=AG,Y.getCompressedTokenAccountsByDelegateTest=$Ke,Y.getCompressedTokenAccountsByOwnerTest=Z5,Y.getConnection=function(){return new je.Connection("http://127.0.0.1:8899","confirmed")},Y.getDefaultAddressTreeInfo=Jle,Y.getIndexOrAdd=Sx,Y.getParsedEvents=Ix,Y.getPublicInputHash=function(t,e,r,n){let i=ode(t.map(a=>a.root),e,n),o=r.map(a=>a.value),s=ode(r.map(a=>a.root),o,n);return s.isZero()?i.isZero()?ode([i],[s],n):i:s},Y.getRegisteredProgramPda=hde,Y.getTestKeypair=Ex,Y.getTestRpc=async function(t,e="http://127.0.0.1:8899",r="http://127.0.0.1:8784",n="http://127.0.0.1:3001",i,o=0){return new gG(e,t,r,n,void 0,{depth:i||Kb().merkleTreeHeight,log:o})},Y.getTreeForQueue=function(t,e){let r=t.findIndex(n=>{var i;return(i=n.queue)===null||i===void 0?void 0:i.equals(e)});if(r===-1)throw new Error("No associated tree found for queue. Please set activeStateTreeInfo with latest Tree accounts. If you use custom state trees, set manually.");if(!t[r].tree)throw new Error("Tree must not be null for state tree");return t[r].tree},Y.hashToBn254FieldSizeBe=RKe,Y.hashvToBn254FieldSizeBe=CKe,Y.invokeAccountsLayout=X2,Y.isLocalTest=dKe,Y.isSmallerThanBn254FieldSizeBe=PKe,Y.jsonRpcResult=Q2,Y.jsonRpcResultAndContext=Co,Y.lightProgram=uKe,Y.localTestActiveStateTreeInfo=zde,Y.merkleTree2Pubkey=yde,Y.merkletreePubkey=qde,Y.negateAndCompressProof=NKe,Y.newAccountWithLamports=async function(t,e=1e9,r){(r===void 0||r>255)&&(r=256);let n=Ex(r),i=await t.requestAirdrop(n.publicKey,e);return await X6e(t,i),n},Y.noopProgram=fde,Y.nullifiedStateTreeLookupTableDevnet=yKe,Y.nullifiedStateTreeLookupTableMainnet=hKe,Y.nullifierQueue2Pubkey=gde,Y.nullifierQueuePubkey=Fde,Y.nullifyLookupTable=async function({connection:t,fullStateTreeAddress:e,nullifyLookupTableAddress:r,stateTreeLookupTableAddress:n,payer:i,authority:o}){let s=await t.getAddressLookupTable(n);if(!s.value)throw console.log("stateTreeLookupTable",s),new Error("State tree lookup table not found");if(!s.value.state.addresses.map(d=>d.toBase58()).includes(e.toBase58()))throw console.log("fullStateTreeAddress",e),console.log("stateTreeLookupTable.value.state.addresses",s.value.state.addresses),new Error("State tree address not found in lookup table. Pass correct address or stateTreeLookupTable");let a=await t.getAddressLookupTable(r);if(!a.value)throw new Error("Nullify table not found");if(a.value.state.addresses.map(d=>d.toBase58()).includes(e.toBase58()))throw new Error("Address already exists in nullify lookup table");let c=Lb([je.AddressLookupTableProgram.extendLookupTable({payer:i.publicKey,authority:o.publicKey,lookupTable:r,addresses:[e]})],i,(await t.getLatestBlockhash()).blockhash,H5(i,[o]));return{txId:await Ub(t,c)}},Y.packCompressedAccounts=$2,Y.packNewAddressParams=BKe,Y.padOutputStateMerkleTrees=_Ke,Y.parseAccountData=wx,Y.parseEvents=KKe,Y.parseLightTransaction=VKe,Y.parsePublicTransactionEventWithIdl=WKe,Y.parseTokenLayoutWithIdl=HKe,Y.pickRandomTreeAndQueue=function(t){let e=t.length,r=Math.floor(Math.random()*e);if(!t[r].queue)throw new Error("Queue must not be null for state tree");return{tree:t[r].tree,queue:t[r].queue}},Y.pipe=function(t,...e){return r=>e.reduce((n,i)=>i(n),t(r))},Y.placeholderValidityProof=()=>({a:Array.from({length:32},(t,e)=>e+1),b:Array.from({length:64},(t,e)=>e+1),c:Array.from({length:32},(t,e)=>e+1)}),Y.proofFromJsonStruct=MKe,Y.proverRequest=eI,Y.pushUniqueItems=function(t,e){t.forEach(r=>{e.includes(r)||e.push(r)})},Y.rpcRequest=ro,Y.selectMinCompressedSolAccountsForTransfer=ide,Y.selectStateTreeInfo=rde,Y.sendAndConfirmTx=Ub,Y.sleep=function(t){return new Promise(e=>setTimeout(e,t))},Y.stateTreeLookupTableDevnet=mKe,Y.stateTreeLookupTableMainnet=pKe,Y.sumUpLamports=Z2,Y.toAccountMetas=H2,Y.toArray=t=>Array.isArray(t)?t:[t],Y.toCamelCase=OKe,Y.toHex=qb,Y.toUnixTimestamp=t=>new Date(t).getTime(),Y.transfer=async function(t,e,r,n,i,o,s){var a;let c=ze(0),d=[],f;for(r=ze(r);c.lt(r);){let S={filters:void 0,dataSlice:void 0,cursor:f,limit:ze(1e3)},P=await t.getCompressedAccountsByOwner(n.publicKey,S);for(let U of P.items)U.lamports.gt(ze(0))&&(d.push(U),c=c.add(U.lamports));if(f=(a=P.cursor)!==null&&a!==void 0?a:void 0,P.items.length<1e3||c.gte(r))break}if(c.lt(r))throw new Error(`Insufficient balance for transfer. Required: ${r.toString()}, available: ${c.toString()}`);let[p]=ide(d,r),m=await t.getValidityProof(p.map(S=>ze(S.hash))),y=await og.transfer({payer:e.publicKey,inputCompressedAccounts:p,toAddress:i,lamports:r,recentInputStateRootIndices:m.rootIndices,recentValidityProof:m.compressedProof}),{blockhash:g}=await t.getLatestBlockhash(),b=Lb([je.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),y],e,g);return await Ub(t,b,s)},Y.validateNumbers=_G,Y.validateNumbersForInclusionProof=wKe,Y.validateNumbersForNonInclusionProof=bde,Y.validateNumbersForProof=SKe,Y.validateSameOwner=X5,Y.validateSufficientBalance=Y5,Y.wrapBigNumbersAsStrings=y4e});var Je=_(ld=>{"use strict";u();l();Object.defineProperty(ld,"__esModule",{value:!0});ld.NATIVE_MINT_2022=ld.NATIVE_MINT=ld.ASSOCIATED_TOKEN_PROGRAM_ID=ld.TOKEN_2022_PROGRAM_ID=ld.TOKEN_PROGRAM_ID=void 0;ld.programSupportsExtensions=SJt;var fL=Ne();ld.TOKEN_PROGRAM_ID=new fL.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");ld.TOKEN_2022_PROGRAM_ID=new fL.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");ld.ASSOCIATED_TOKEN_PROGRAM_ID=new fL.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");ld.NATIVE_MINT=new fL.PublicKey("So11111111111111111111111111111111111111112");ld.NATIVE_MINT_2022=new fL.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function SJt(t){return!t.equals(ld.TOKEN_PROGRAM_ID)}});var tr=_(Br=>{"use strict";u();l();Object.defineProperty(Br,"__esModule",{value:!0});Br.TokenTransferHookPubkeyDataTooSmall=Br.TokenTransferHookInvalidPubkeyData=Br.TokenTransferHookAccountDataNotFound=Br.TokenTransferHookInvalidSeed=Br.TokenTransferHookAccountNotFound=Br.TokenUnsupportedInstructionError=Br.TokenInvalidInstructionTypeError=Br.TokenInvalidInstructionDataError=Br.TokenInvalidInstructionKeysError=Br.TokenInvalidInstructionProgramError=Br.TokenOwnerOffCurveError=Br.TokenInvalidOwnerError=Br.TokenInvalidMintError=Br.TokenInvalidAccountSizeError=Br.TokenInvalidAccountOwnerError=Br.TokenInvalidAccountDataError=Br.TokenInvalidAccountError=Br.TokenAccountNotFoundError=Br.TokenError=void 0;var Bo=class extends Error{constructor(e){super(e)}};Br.TokenError=Bo;var efe=class extends Bo{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}};Br.TokenAccountNotFoundError=efe;var tfe=class extends Bo{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}};Br.TokenInvalidAccountError=tfe;var rfe=class extends Bo{constructor(){super(...arguments),this.name="TokenInvalidAccountDataError"}};Br.TokenInvalidAccountDataError=rfe;var nfe=class extends Bo{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}};Br.TokenInvalidAccountOwnerError=nfe;var ife=class extends Bo{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};Br.TokenInvalidAccountSizeError=ife;var ofe=class extends Bo{constructor(){super(...arguments),this.name="TokenInvalidMintError"}};Br.TokenInvalidMintError=ofe;var sfe=class extends Bo{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}};Br.TokenInvalidOwnerError=sfe;var afe=class extends Bo{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};Br.TokenOwnerOffCurveError=afe;var cfe=class extends Bo{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}};Br.TokenInvalidInstructionProgramError=cfe;var ufe=class extends Bo{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}};Br.TokenInvalidInstructionKeysError=ufe;var lfe=class extends Bo{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}};Br.TokenInvalidInstructionDataError=lfe;var dfe=class extends Bo{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}};Br.TokenInvalidInstructionTypeError=dfe;var ffe=class extends Bo{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}};Br.TokenUnsupportedInstructionError=ffe;var pfe=class extends Bo{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}};Br.TokenTransferHookAccountNotFound=pfe;var hfe=class extends Bo{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}};Br.TokenTransferHookInvalidSeed=hfe;var mfe=class extends Bo{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}};Br.TokenTransferHookAccountDataNotFound=mfe;var yfe=class extends Bo{constructor(){super(...arguments),this.name="TokenTransferHookInvalidPubkeyData"}};Br.TokenTransferHookInvalidPubkeyData=yfe;var gfe=class extends Bo{constructor(){super(...arguments),this.name="TokenTransferHookPubkeyDataTooSmall"}};Br.TokenTransferHookPubkeyDataTooSmall=gfe});var br=_(TG=>{"use strict";u();l();Object.defineProperty(TG,"__esModule",{value:!0});TG.TokenInstruction=void 0;var g4e;(function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension",t[t.GroupPointerExtension=40]="GroupPointerExtension",t[t.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",t[t.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",t[t.PausableExtension=44]="PausableExtension"})(g4e||(TG.TokenInstruction=g4e={}))});var vG=_(Ch=>{"use strict";u();l();Object.defineProperty(Ch,"__esModule",{value:!0});Ch.amountToUiAmountInstructionData=void 0;Ch.createAmountToUiAmountInstruction=EJt;Ch.decodeAmountToUiAmountInstruction=IJt;Ch.decodeAmountToUiAmountInstructionUnchecked=w4e;var b4e=Ce(),wJt=gt(),AJt=Ne(),_4e=Je(),kG=tr(),S4e=br();Ch.amountToUiAmountInstructionData=(0,b4e.struct)([(0,b4e.u8)("instruction"),(0,wJt.u64)("amount")]);function EJt(t,e,r=_4e.TOKEN_PROGRAM_ID){let n=[{pubkey:t,isSigner:!1,isWritable:!1}],i=Buffer.alloc(Ch.amountToUiAmountInstructionData.span);return Ch.amountToUiAmountInstructionData.encode({instruction:S4e.TokenInstruction.AmountToUiAmount,amount:BigInt(e)},i),new AJt.TransactionInstruction({keys:n,programId:r,data:i})}function IJt(t,e=_4e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new kG.TokenInvalidInstructionProgramError;if(t.data.length!==Ch.amountToUiAmountInstructionData.span)throw new kG.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=w4e(t);if(n.instruction!==S4e.TokenInstruction.AmountToUiAmount)throw new kG.TokenInvalidInstructionTypeError;if(!r)throw new kG.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}function w4e({programId:t,keys:[e],data:r}){return{programId:t,keys:{mint:e},data:Ch.amountToUiAmountInstructionData.decode(r)}}});var pL=_(kx=>{"use strict";u();l();Object.defineProperty(kx,"__esModule",{value:!0});kx.ACCOUNT_TYPE_SIZE=kx.AccountType=void 0;var A4e;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"})(A4e||(kx.AccountType=A4e={}));kx.ACCOUNT_TYPE_SIZE=1});var vx=_(ll=>{"use strict";u();l();var E4e=ll&&ll.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ll,"__esModule",{value:!0});ll.MULTISIG_SIZE=ll.MultisigLayout=void 0;ll.getMultisig=TJt;ll.unpackMultisig=T4e;ll.getMinimumBalanceForRentExemptMultisig=kJt;var bfe=Ce(),Tp=gt(),I4e=Je(),_fe=tr();ll.MultisigLayout=(0,bfe.struct)([(0,bfe.u8)("m"),(0,bfe.u8)("n"),(0,Tp.bool)("isInitialized"),(0,Tp.publicKey)("signer1"),(0,Tp.publicKey)("signer2"),(0,Tp.publicKey)("signer3"),(0,Tp.publicKey)("signer4"),(0,Tp.publicKey)("signer5"),(0,Tp.publicKey)("signer6"),(0,Tp.publicKey)("signer7"),(0,Tp.publicKey)("signer8"),(0,Tp.publicKey)("signer9"),(0,Tp.publicKey)("signer10"),(0,Tp.publicKey)("signer11")]);ll.MULTISIG_SIZE=ll.MultisigLayout.span;function TJt(t,e,r){return E4e(this,arguments,void 0,function*(n,i,o,s=I4e.TOKEN_PROGRAM_ID){let a=yield n.getAccountInfo(i,o);return T4e(i,a,s)})}function T4e(t,e,r=I4e.TOKEN_PROGRAM_ID){if(!e)throw new _fe.TokenAccountNotFoundError;if(!e.owner.equals(r))throw new _fe.TokenInvalidAccountOwnerError;if(e.data.length!=ll.MULTISIG_SIZE)throw new _fe.TokenInvalidAccountSizeError;let n=ll.MultisigLayout.decode(e.data);return Object.assign({address:t},n)}function kJt(t,e){return E4e(this,void 0,void 0,function*(){return yield t.getMinimumBalanceForRentExemption(ll.MULTISIG_SIZE,e)})}});var xx=_(Io=>{"use strict";u();l();var PG=Io&&Io.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Io,"__esModule",{value:!0});Io.ACCOUNT_SIZE=Io.AccountLayout=Io.AccountState=void 0;Io.getAccount=PJt;Io.getMultipleAccounts=OJt;Io.getMinimumBalanceForRentExemptAccount=RJt;Io.getMinimumBalanceForRentExemptAccountWithExtensions=v4e;Io.unpackAccount=wfe;var hL=Ce(),rI=gt(),Sfe=Je(),mL=tr(),k4e=pL(),vJt=no(),xJt=vx(),xG;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"})(xG||(Io.AccountState=xG={}));Io.AccountLayout=(0,hL.struct)([(0,rI.publicKey)("mint"),(0,rI.publicKey)("owner"),(0,rI.u64)("amount"),(0,hL.u32)("delegateOption"),(0,rI.publicKey)("delegate"),(0,hL.u8)("state"),(0,hL.u32)("isNativeOption"),(0,rI.u64)("isNative"),(0,rI.u64)("delegatedAmount"),(0,hL.u32)("closeAuthorityOption"),(0,rI.publicKey)("closeAuthority")]);Io.ACCOUNT_SIZE=Io.AccountLayout.span;function PJt(t,e,r){return PG(this,arguments,void 0,function*(n,i,o,s=Sfe.TOKEN_PROGRAM_ID){let a=yield n.getAccountInfo(i,o);return wfe(i,a,s)})}function OJt(t,e,r){return PG(this,arguments,void 0,function*(n,i,o,s=Sfe.TOKEN_PROGRAM_ID){let a=yield n.getMultipleAccountsInfo(i,o);return i.map((c,d)=>wfe(c,a[d],s))})}function RJt(t,e){return PG(this,void 0,void 0,function*(){return yield v4e(t,[],e)})}function v4e(t,e,r){return PG(this,void 0,void 0,function*(){let n=(0,vJt.getAccountLen)(e);return yield t.getMinimumBalanceForRentExemption(n,r)})}function wfe(t,e,r=Sfe.TOKEN_PROGRAM_ID){if(!e)throw new mL.TokenAccountNotFoundError;if(!e.owner.equals(r))throw new mL.TokenInvalidAccountOwnerError;if(e.data.length<Io.ACCOUNT_SIZE)throw new mL.TokenInvalidAccountSizeError;let n=Io.AccountLayout.decode(e.data.slice(0,Io.ACCOUNT_SIZE)),i=Buffer.alloc(0);if(e.data.length>Io.ACCOUNT_SIZE){if(e.data.length===xJt.MULTISIG_SIZE)throw new mL.TokenInvalidAccountSizeError;if(e.data[Io.ACCOUNT_SIZE]!=k4e.AccountType.Account)throw new mL.TokenInvalidAccountError;i=e.data.slice(Io.ACCOUNT_SIZE+k4e.ACCOUNT_TYPE_SIZE)}return{address:t,mint:n.mint,owner:n.owner,amount:n.amount,delegate:n.delegateOption?n.delegate:null,delegatedAmount:n.delegatedAmount,isInitialized:n.state!==xG.Uninitialized,isFrozen:n.state===xG.Frozen,isNative:!!n.isNativeOption,rentExemptReserve:n.isNativeOption?n.isNative:null,closeAuthority:n.closeAuthorityOption?n.closeAuthority:null,tlvData:i}}});var io=_(Afe=>{"use strict";u();l();Object.defineProperty(Afe,"__esModule",{value:!0});Afe.getSigners=BJt;var CJt=Ne();function BJt(t,e){return t instanceof CJt.PublicKey?[t,e]:[t.publicKey,[t]]}});var Ui=_(Efe=>{"use strict";u();l();Object.defineProperty(Efe,"__esModule",{value:!0});Efe.addSigners=NJt;var MJt=Ne();function NJt(t,e,r){if(r.length){t.push({pubkey:e,isSigner:!1,isWritable:!1});for(let n of r)t.push({pubkey:n instanceof MJt.PublicKey?n:n.publicKey,isSigner:!0,isWritable:!1})}else t.push({pubkey:e,isSigner:!0,isWritable:!1});return t}});var kfe=_(ag=>{"use strict";u();l();Object.defineProperty(ag,"__esModule",{value:!0});ag.cpiGuardInstructionData=ag.CpiGuardInstruction=void 0;ag.createEnableCpiGuardInstruction=FJt;ag.createDisableCpiGuardInstruction=qJt;var Ife=Ce(),DJt=Ne(),Tfe=Je(),UJt=tr(),LJt=Ui(),zJt=br(),OG;(function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"})(OG||(ag.CpiGuardInstruction=OG={}));ag.cpiGuardInstructionData=(0,Ife.struct)([(0,Ife.u8)("instruction"),(0,Ife.u8)("cpiGuardInstruction")]);function FJt(t,e,r=[],n=Tfe.TOKEN_2022_PROGRAM_ID){return x4e(OG.Enable,t,e,r,n)}function qJt(t,e,r=[],n=Tfe.TOKEN_2022_PROGRAM_ID){return x4e(OG.Disable,t,e,r,n)}function x4e(t,e,r,n,i){if(!(0,Tfe.programSupportsExtensions)(i))throw new UJt.TokenUnsupportedInstructionError;let o=(0,LJt.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(ag.cpiGuardInstructionData.span);return ag.cpiGuardInstructionData.encode({instruction:zJt.TokenInstruction.CpiGuardExtension,cpiGuardInstruction:t},s),new DJt.TransactionInstruction({keys:o,programId:i,data:s})}});var B4e=_(Px=>{"use strict";u();l();var P4e=Px&&Px.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Px,"__esModule",{value:!0});Px.enableCpiGuard=jJt;Px.disableCpiGuard=KJt;var RG=Ne(),O4e=io(),R4e=Je(),C4e=kfe();function jJt(t,e,r,n){return P4e(this,arguments,void 0,function*(i,o,s,a,c=[],d,f=R4e.TOKEN_2022_PROGRAM_ID){let[p,m]=(0,O4e.getSigners)(a,c),y=new RG.Transaction().add((0,C4e.createEnableCpiGuardInstruction)(s,p,m,f));return yield(0,RG.sendAndConfirmTransaction)(i,y,[o,...m],d)})}function KJt(t,e,r,n){return P4e(this,arguments,void 0,function*(i,o,s,a,c=[],d,f=R4e.TOKEN_2022_PROGRAM_ID){let[p,m]=(0,O4e.getSigners)(a,c),y=new RG.Transaction().add((0,C4e.createDisableCpiGuardInstruction)(s,p,m,f));return yield(0,RG.sendAndConfirmTransaction)(i,y,[o,...m],d)})}});var N4e=_(Gb=>{"use strict";u();l();Object.defineProperty(Gb,"__esModule",{value:!0});Gb.CPI_GUARD_SIZE=Gb.CpiGuardLayout=void 0;Gb.getCpiGuard=GJt;var WJt=Ce(),VJt=gt(),M4e=no();Gb.CpiGuardLayout=(0,WJt.struct)([(0,VJt.bool)("lockCpi")]);Gb.CPI_GUARD_SIZE=Gb.CpiGuardLayout.span;function GJt(t){let e=(0,M4e.getExtensionData)(M4e.ExtensionType.CpiGuard,t.tlvData);return e!==null?Gb.CpiGuardLayout.decode(e):null}});var xfe=_(Hb=>{"use strict";u();l();var HJt=Hb&&Hb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vfe=Hb&&Hb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&HJt(e,t,r)};Object.defineProperty(Hb,"__esModule",{value:!0});vfe(B4e(),Hb);vfe(kfe(),Hb);vfe(N4e(),Hb)});var Pfe=_(kp=>{"use strict";u();l();Object.defineProperty(kp,"__esModule",{value:!0});kp.defaultAccountStateInstructionData=kp.DefaultAccountStateInstruction=void 0;kp.createInitializeDefaultAccountStateInstruction=YJt;kp.createUpdateDefaultAccountStateInstruction=XJt;var CG=Ce(),D4e=Ne(),BG=Je(),U4e=tr(),$Jt=Ui(),L4e=br(),MG;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(MG||(kp.DefaultAccountStateInstruction=MG={}));kp.defaultAccountStateInstructionData=(0,CG.struct)([(0,CG.u8)("instruction"),(0,CG.u8)("defaultAccountStateInstruction"),(0,CG.u8)("accountState")]);function YJt(t,e,r=BG.TOKEN_2022_PROGRAM_ID){if(!(0,BG.programSupportsExtensions)(r))throw new U4e.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!1,isWritable:!0}],i=Buffer.alloc(kp.defaultAccountStateInstructionData.span);return kp.defaultAccountStateInstructionData.encode({instruction:L4e.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:MG.Initialize,accountState:e},i),new D4e.TransactionInstruction({keys:n,programId:r,data:i})}function XJt(t,e,r,n=[],i=BG.TOKEN_2022_PROGRAM_ID){if(!(0,BG.programSupportsExtensions)(i))throw new U4e.TokenUnsupportedInstructionError;let o=(0,$Jt.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(kp.defaultAccountStateInstructionData.span);return kp.defaultAccountStateInstructionData.encode({instruction:L4e.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:MG.Update,accountState:e},s),new D4e.TransactionInstruction({keys:o,programId:i,data:s})}});var j4e=_(Ox=>{"use strict";u();l();var z4e=Ox&&Ox.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Ox,"__esModule",{value:!0});Ox.initializeDefaultAccountState=JJt;Ox.updateDefaultAccountState=QJt;var NG=Ne(),ZJt=io(),F4e=Je(),q4e=Pfe();function JJt(t,e,r,n,i){return z4e(this,arguments,void 0,function*(o,s,a,c,d,f=F4e.TOKEN_2022_PROGRAM_ID){let p=new NG.Transaction().add((0,q4e.createInitializeDefaultAccountStateInstruction)(a,c,f));return yield(0,NG.sendAndConfirmTransaction)(o,p,[s],d)})}function QJt(t,e,r,n,i){return z4e(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=F4e.TOKEN_2022_PROGRAM_ID){let[y,g]=(0,ZJt.getSigners)(d,f),b=new NG.Transaction().add((0,q4e.createUpdateDefaultAccountStateInstruction)(a,c,y,g,m));return yield(0,NG.sendAndConfirmTransaction)(o,b,[s,...g],p)})}});var V4e=_($b=>{"use strict";u();l();Object.defineProperty($b,"__esModule",{value:!0});$b.DEFAULT_ACCOUNT_STATE_SIZE=$b.DefaultAccountStateLayout=void 0;$b.getDefaultAccountState=eQt;var K4e=Ce(),W4e=no();$b.DefaultAccountStateLayout=(0,K4e.struct)([(0,K4e.u8)("state")]);$b.DEFAULT_ACCOUNT_STATE_SIZE=$b.DefaultAccountStateLayout.span;function eQt(t){let e=(0,W4e.getExtensionData)(W4e.ExtensionType.DefaultAccountState,t.tlvData);return e!==null?$b.DefaultAccountStateLayout.decode(e):null}});var Rfe=_(Yb=>{"use strict";u();l();var tQt=Yb&&Yb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ofe=Yb&&Yb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&tQt(e,t,r)};Object.defineProperty(Yb,"__esModule",{value:!0});Ofe(j4e(),Yb);Ofe(Pfe(),Yb);Ofe(V4e(),Yb)});var G4e=_(Cu=>{"use strict";u();l();Object.defineProperty(Cu,"__esModule",{value:!0});Cu.MemberAccountIsGroupAccountError=Cu.IncorrectUpdateAuthorityError=Cu.IncorrectMintAuthorityError=Cu.ImmutableGroupError=Cu.SizeExceedsMaxSizeError=Cu.SizeExceedsNewMaxSizeError=Cu.TokenGroupError=void 0;var Xb=class extends Error{constructor(e){super(e)}};Cu.TokenGroupError=Xb;var Cfe=class extends Xb{constructor(){super(...arguments),this.name="SizeExceedsNewMaxSizeError"}};Cu.SizeExceedsNewMaxSizeError=Cfe;var Bfe=class extends Xb{constructor(){super(...arguments),this.name="SizeExceedsMaxSizeError"}};Cu.SizeExceedsMaxSizeError=Bfe;var Mfe=class extends Xb{constructor(){super(...arguments),this.name="ImmutableGroupError"}};Cu.ImmutableGroupError=Mfe;var Nfe=class extends Xb{constructor(){super(...arguments),this.name="IncorrectMintAuthorityError"}};Cu.IncorrectMintAuthorityError=Nfe;var Dfe=class extends Xb{constructor(){super(...arguments),this.name="IncorrectUpdateAuthorityError"}};Cu.IncorrectUpdateAuthorityError=Dfe;var Ufe=class extends Xb{constructor(){super(...arguments),this.name="MemberAccountIsGroupAccountError"}};Cu.MemberAccountIsGroupAccountError=Ufe});var yL=_(X=>{"use strict";u();l();var H4e=1,$4e=2,Y4e=3,X4e=4,Z4e=5,J4e=6,Q4e=7,eWe=8,tWe=9,Lfe=-32700,zfe=-32603,Ffe=-32602,qfe=-32601,jfe=-32600,rWe=-32016,Kfe=-32015,Wfe=-32014,nWe=-32013,Vfe=-32012,iWe=-32011,Gfe=-32010,Hfe=-32009,oWe=-32008,$fe=-32007,Yfe=-32006,sWe=-32005,Xfe=-32004,aWe=-32003,DG=-32002,Zfe=-32001,cWe=28e5,uWe=2800001,lWe=2800002,dWe=2800003,fWe=2800004,pWe=2800005,hWe=2800006,mWe=2800007,yWe=2800008,gWe=2800009,bWe=2800010,_We=323e4,SWe=32300001,wWe=3230002,AWe=3230003,EWe=3230004,IWe=361e4,TWe=3610001,kWe=3610002,vWe=3610003,xWe=3610004,PWe=3610005,OWe=3610006,RWe=3610007,CWe=3611e3,BWe=3704e3,MWe=3704001,NWe=3704002,DWe=3704003,UWe=3704004,LWe=4128e3,zWe=4128001,FWe=4128002,Jfe=4615e3,qWe=4615001,jWe=4615002,KWe=4615003,WWe=4615004,VWe=4615005,GWe=4615006,HWe=4615007,$We=4615008,YWe=4615009,XWe=4615010,ZWe=4615011,JWe=4615012,QWe=4615013,eVe=4615014,tVe=4615015,rVe=4615016,nVe=4615017,iVe=4615018,oVe=4615019,sVe=4615020,aVe=4615021,cVe=4615022,uVe=4615023,lVe=4615024,dVe=4615025,Qfe=4615026,fVe=4615027,pVe=4615028,hVe=4615029,mVe=4615030,yVe=4615031,gVe=4615032,bVe=4615033,_Ve=4615034,SVe=4615035,wVe=4615036,AVe=4615037,EVe=4615038,IVe=4615039,TVe=4615040,kVe=4615041,vVe=4615042,xVe=4615043,PVe=4615044,epe=4615045,OVe=4615046,RVe=4615047,CVe=4615048,BVe=4615049,MVe=4615050,NVe=4615051,DVe=4615052,UVe=4615053,LVe=4615054,zVe=5508e3,FVe=5508001,qVe=5508002,jVe=5508003,KVe=5508004,WVe=5508005,VVe=5508006,GVe=5508007,HVe=5508008,$Ve=5508009,YVe=5508010,XVe=5508011,ZVe=5663e3,JVe=5663001,QVe=5663002,e5e=5663003,t5e=5663004,r5e=5663005,n5e=5663006,i5e=5663007,o5e=5663008,s5e=5663009,a5e=5663010,c5e=5663011,u5e=5663012,l5e=5663013,d5e=5663014,f5e=5663015,p5e=5663016,h5e=5663017,m5e=5663018,tpe=705e4,y5e=7050001,g5e=7050002,b5e=7050003,_5e=7050004,S5e=7050005,w5e=7050006,A5e=7050007,E5e=7050008,I5e=7050009,T5e=7050010,k5e=7050011,v5e=7050012,x5e=7050013,P5e=7050014,O5e=7050015,R5e=7050016,C5e=7050017,B5e=7050018,M5e=7050019,N5e=7050020,D5e=7050021,U5e=7050022,L5e=7050023,z5e=7050024,F5e=7050025,q5e=7050026,j5e=7050027,K5e=7050028,W5e=7050029,rpe=7050030,npe=7050031,V5e=7050032,G5e=7050033,H5e=7050034,ipe=7050035,$5e=7050036,Y5e=8078e3,X5e=8078001,Z5e=8078002,J5e=8078003,Q5e=8078004,eGe=8078005,tGe=8078006,rGe=8078007,nGe=8078008,iGe=8078009,oGe=8078010,sGe=8078011,aGe=8078012,cGe=8078013,uGe=8078014,lGe=8078015,dGe=8078016,fGe=8078017,pGe=8078018,hGe=8078019,mGe=8078020,yGe=8078021,gGe=8078022,bGe=81e5,_Ge=8100001,SGe=8100002,wGe=819e4,AGe=8190001,EGe=8190002,IGe=8190003,TGe=8190004,kGe=99e5,vGe=9900001,xGe=9900002,PGe=9900003;function OGe(t){return Array.isArray(t)?"%5B"+t.map(OGe).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function rQt([t,e]){return`${t}=${OGe(e)}`}function nQt(t){let e=Object.entries(t).map(rQt).join("&");return btoa(e)}var iQt={[_We]:"Account not found at address: $address",[EWe]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[AWe]:"Expected decoded account at address: $address",[wWe]:"Failed to decode account data at address: $address",[SWe]:"Accounts not found at addresses: $addresses",[gWe]:"Unable to find a viable program address bump seed.",[lWe]:"$putativeAddress is not a base58-encoded address.",[cWe]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[dWe]:"The `CryptoKey` must be an `Ed25519` public key.",[yWe]:"Invalid seeds; point must fall off the Ed25519 curve.",[fWe]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[hWe]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[mWe]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[pWe]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[bWe]:"Program address cannot end with PDA marker.",[uWe]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[X4e]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[H4e]:"The network has progressed past the last block for which this transaction could have been committed.",[Y5e]:"Codec [$codecDescription] cannot decode empty byte arrays.",[gGe]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[mGe]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[eGe]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[tGe]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[Q5e]:"Encoder and decoder must either both be fixed-size or variable-size.",[nGe]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[Z5e]:"Expected a fixed-size codec, got a variable-size one.",[cGe]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[J5e]:"Expected a variable-size codec, got a fixed-size one.",[hGe]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[X5e]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[pGe]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[iGe]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[oGe]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[lGe]:"Invalid literal union variant. Expected one of [$variants], got $value.",[rGe]:"Expected [$codecDescription] to have $expected items, got $actual.",[aGe]:"Invalid value $value for base $base with alphabet $alphabet.",[dGe]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[sGe]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[uGe]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[yGe]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[fGe]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[CWe]:"No random values implementation could be found.",[YWe]:"instruction requires an uninitialized account",[uVe]:"instruction tries to borrow reference for an account which is already borrowed",[lVe]:"instruction left account with an outstanding borrowed reference",[aVe]:"program other than the account's owner changed the size of the account data",[VWe]:"account data too small for instruction",[cVe]:"instruction expected an executable account",[OVe]:"An account does not have enough lamports to be rent-exempt",[CVe]:"Program arithmetic overflowed",[epe]:"Failed to serialize or deserialize account data: $encodedData",[LVe]:"Builtin programs must consume compute units",[gVe]:"Cross-program invocation call depth too deep",[EVe]:"Computational budget exceeded",[Qfe]:"custom program error: #$code",[nVe]:"instruction contains duplicate accounts",[dVe]:"instruction modifications of multiply-passed account differ",[mVe]:"executable accounts must be rent exempt",[pVe]:"instruction changed executable accounts data",[hVe]:"instruction changed the balance of an executable account",[iVe]:"instruction changed executable bit of an account",[eVe]:"instruction modified data of an account it does not own",[QWe]:"instruction spent from the balance of an account it does not own",[qWe]:"generic instruction error",[MVe]:"Provided owner is not allowed",[xVe]:"Account is immutable",[PVe]:"Incorrect authority provided",[HWe]:"incorrect program id for instruction",[GWe]:"insufficient funds for instruction",[WWe]:"invalid account data for instruction",[RVe]:"Invalid account owner",[jWe]:"invalid program argument",[fVe]:"program returned invalid error code",[KWe]:"invalid instruction data",[AVe]:"Failed to reallocate account data",[wVe]:"Provided seeds do not result in a valid address",[NVe]:"Accounts data allocations exceeded the maximum allowed per transaction",[DVe]:"Max accounts exceeded",[UVe]:"Max instruction trace length exceeded",[SVe]:"Length of the seed is too long for address generation",[bVe]:"An account required by the instruction is missing",[$We]:"missing required signature for instruction",[JWe]:"instruction illegally modified the program id of an account",[sVe]:"insufficient account keys for instruction",[IVe]:"Cross-program invocation with unauthorized signer or writable account",[TVe]:"Failed to create program execution environment",[vVe]:"Program failed to compile",[kVe]:"Program failed to complete",[rVe]:"instruction modified data of a read-only account",[tVe]:"instruction changed the balance of a read-only account",[_Ve]:"Cross-program invocation reentrancy not allowed for this instruction",[oVe]:"instruction modified rent epoch of an account",[ZWe]:"sum of account balances before and after instruction do not match",[XWe]:"instruction requires an initialized account",[Jfe]:"",[yVe]:"Unsupported program id",[BVe]:"Unsupported sysvar",[LWe]:"The instruction does not have any accounts.",[zWe]:"The instruction does not have any data.",[FWe]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[Z4e]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[$4e]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[xGe]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[PGe]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[vGe]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[kGe]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[zfe]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[Ffe]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[jfe]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[qfe]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[Lfe]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[Vfe]:"$__serverMessage",[Zfe]:"$__serverMessage",[Xfe]:"$__serverMessage",[Wfe]:"$__serverMessage",[Gfe]:"$__serverMessage",[Hfe]:"$__serverMessage",[rWe]:"Minimum context slot has not been reached",[sWe]:"Node is unhealthy; behind by $numSlotsBehind slots",[oWe]:"No snapshot",[DG]:"Transaction simulation failed",[$fe]:"$__serverMessage",[iWe]:"Transaction history is not available from this node",[Yfe]:"$__serverMessage",[nWe]:"Transaction signature length mismatch",[aWe]:"Transaction signature verification failure",[Kfe]:"$__serverMessage",[BWe]:"Key pair bytes must be of length 64, got $byteLength.",[MWe]:"Expected private key bytes with length 32. Actual length: $actualLength.",[NWe]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[UWe]:"The provided private key does not match the provided public key.",[DWe]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[J4e]:"Lamports value must be in the range [0, 2e64-1]",[Q4e]:"`$value` cannot be parsed as a `BigInt`",[eWe]:"`$value` cannot be parsed as a `Number`",[Y4e]:"No nonce account could be found at address `$nonceAccountAddress`",[wGe]:"Either the notification name must end in 'Notifications' or the API must supply a subscription creator function for the notification '$notificationName' to map between the notification name and the subscribe/unsubscribe method names.",[AGe]:"Failed to obtain a subscription id from the server",[EGe]:"WebSocket was closed before payload could be added to the send buffer",[IGe]:"WebSocket connection closed",[TGe]:"WebSocket failed to connect",[bGe]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[SGe]:"HTTP error ($statusCode): $message",[_Ge]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[zVe]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[FVe]:"The provided value does not implement the `KeyPairSigner` interface",[jVe]:"The provided value does not implement the `MessageModifyingSigner` interface",[KVe]:"The provided value does not implement the `MessagePartialSigner` interface",[qVe]:"The provided value does not implement any of the `MessageSigner` interfaces",[VVe]:"The provided value does not implement the `TransactionModifyingSigner` interface",[GVe]:"The provided value does not implement the `TransactionPartialSigner` interface",[HVe]:"The provided value does not implement the `TransactionSendingSigner` interface",[WVe]:"The provided value does not implement any of the `TransactionSigner` interfaces",[$Ve]:"More than one `TransactionSendingSigner` was identified.",[YVe]:"No `TransactionSendingSigner` was identified. Please provide a valid `ITransactionWithSingleSendingSigner` transaction.",[XVe]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[RWe]:"Cannot export a non-extractable key.",[TWe]:"No digest implementation could be found.",[IWe]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[kWe]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[vWe]:"No signature verification implementation could be found.",[xWe]:"No key generation implementation could be found.",[PWe]:"No signing implementation could be found.",[OWe]:"No key export implementation could be found.",[tWe]:"Timestamp value must be in the range [-8.64e15, 8.64e15]. `$value` given",[R5e]:"Transaction processing left an account with an outstanding borrowed reference",[y5e]:"Account in use",[g5e]:"Account loaded twice",[b5e]:"Attempt to debit an account but found no record of a prior credit.",[L5e]:"Transaction loads an address table account that doesn't exist",[A5e]:"This transaction has already been processed",[E5e]:"Blockhash not found",[I5e]:"Loader call chain is too deep",[O5e]:"Transactions are currently disabled due to cluster maintenance",[rpe]:"Transaction contains a duplicate instruction ($index) that is not allowed",[S5e]:"Insufficient funds for fee",[npe]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[w5e]:"This account may not be used to pay transaction fees",[k5e]:"Transaction contains an invalid account reference",[F5e]:"Transaction loads an address table account with invalid data",[q5e]:"Transaction address table lookup uses an invalid index",[z5e]:"Transaction loads an address table account with an invalid owner",[G5e]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[x5e]:"This program may not be used for executing instructions",[j5e]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[M5e]:"Transaction loads a writable account that cannot be written",[V5e]:"Transaction exceeded max loaded accounts data size cap",[T5e]:"Transaction requires a fee but has no signature present",[_5e]:"Attempt to load a program that does not exist",[ipe]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[H5e]:"ResanitizationNeeded",[P5e]:"Transaction failed to sanitize accounts offsets correctly",[v5e]:"Transaction did not pass signature verification",[U5e]:"Transaction locked too many accounts",[$5e]:"Sum of account balances before and after transaction do not match",[tpe]:"The transaction failed with the error `$errorName`",[B5e]:"Transaction version is unsupported",[D5e]:"Transaction would exceed account data limit within the block",[W5e]:"Transaction would exceed total account data limit",[N5e]:"Transaction would exceed max account limit within the block",[C5e]:"Transaction would exceed max Block Cost Limit",[K5e]:"Transaction would exceed max Vote Cost Limit",[f5e]:"Attempted to sign a transaction with an address that is not a signer for it",[a5e]:"Transaction is missing an address at index: $index.",[p5e]:"Transaction has no expected signers therefore it cannot be encoded",[QVe]:"Transaction does not have a blockhash lifetime",[e5e]:"Transaction is not a durable nonce transaction",[r5e]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[n5e]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[o5e]:"No fee payer set in CompiledTransaction",[i5e]:"Could not find program address at index $index",[m5e]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[c5e]:"Transaction is missing a fee payer.",[u5e]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[d5e]:"Transaction first instruction is not advance nonce account instruction.",[l5e]:"Transaction with no instructions cannot be durable nonce transaction.",[ZVe]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[JVe]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[h5e]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[s5e]:"Transaction is missing signatures for addresses: $addresses.",[t5e]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"},Zb="i",cg="t";function oQt(t,e={}){let r=iQt[t];if(r.length===0)return"";let n;function i(s){if(n[cg]===2){let a=r.slice(n[Zb]+1,s);o.push(a in e?`${e[a]}`:`$${a}`)}else n[cg]===1&&o.push(r.slice(n[Zb],s))}let o=[];return r.split("").forEach((s,a)=>{if(a===0){n={[Zb]:0,[cg]:r[0]==="\\"?0:r[0]==="$"?2:1};return}let c;switch(n[cg]){case 0:c={[Zb]:a,[cg]:1};break;case 1:s==="\\"?c={[Zb]:a,[cg]:0}:s==="$"&&(c={[Zb]:a,[cg]:2});break;case 2:s==="\\"?c={[Zb]:a,[cg]:0}:s==="$"?c={[Zb]:a,[cg]:2}:s.match(/\w/)||(c={[Zb]:a,[cg]:1});break}c&&(n!==c&&i(a),n=c)}),i(),o.join("")}function sQt(t,e={}){if(h.NODE_ENV!=="production")return oQt(t,e);{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${nQt(e)}'`),`${r}\``}}function aQt(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}var UG=class extends Error{cause=this.cause;context;constructor(...[t,e]){let r,n;if(e){let{cause:o,...s}=e;o&&(n={cause:o}),Object.keys(s).length>0&&(r=s)}let i=sQt(t,r);super(i,n),this.context={__code:t,...r},this.name="SolanaError"}};function ope(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function RGe({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:r,rpcEnumError:n},i){let o,s;typeof n=="string"?o=n:(o=Object.keys(n)[0],s=n[o]);let a=r.indexOf(o),c=t+a,d=e(c,o,s),f=new UG(c,d);return ope(f,i),f}var cQt=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function spe(t,e){return RGe({errorCodeBaseOffset:4615001,getErrorContext(r,n,i){return r===Jfe?{errorName:n,index:t,...i!==void 0?{instructionErrorContext:i}:null}:r===Qfe?{code:i,index:t}:r===epe?{encodedData:i,index:t}:{index:t}},orderedErrorNames:cQt,rpcEnumError:e},spe)}var uQt=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function ape(t){return typeof t=="object"&&"InstructionError"in t?spe(...t.InstructionError):RGe({errorCodeBaseOffset:7050001,getErrorContext(e,r,n){if(e===tpe)return{errorName:r,...n!==void 0?{transactionErrorContext:n}:null};if(e===rpe)return{index:n};if(e===npe||e===ipe)return{accountIndex:n.account_index}},orderedErrorNames:uQt,rpcEnumError:t},ape)}function CGe({code:t,data:e,message:r}){let n;if(t===DG){let{err:i,...o}=e,s=i?{cause:ape(i)}:null;n=new UG(DG,{...o,...s})}else{let i;switch(t){case zfe:case Ffe:case jfe:case qfe:case Lfe:case Vfe:case Zfe:case Xfe:case Wfe:case Gfe:case Hfe:case $fe:case Yfe:case Kfe:i={__serverMessage:r};break;default:typeof e=="object"&&!Array.isArray(e)&&(i=e)}n=new UG(t,i)}return ope(n,CGe),n}X.SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND=_We;X.SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED=EWe;X.SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT=AWe;X.SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT=wWe;X.SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND=SWe;X.SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED=gWe;X.SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS=lWe;X.SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH=cWe;X.SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY=dWe;X.SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE=yWe;X.SOLANA_ERROR__ADDRESSES__MALFORMED_PDA=fWe;X.SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED=hWe;X.SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED=mWe;X.SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE=pWe;X.SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER=bWe;X.SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE=uWe;X.SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE=X4e;X.SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED=H4e;X.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY=Y5e;X.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS=gGe;X.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL=mGe;X.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH=eGe;X.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH=tGe;X.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH=Q5e;X.SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE=nGe;X.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH=Z5e;X.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH=cGe;X.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH=J5e;X.SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE=hGe;X.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH=X5e;X.SOLANA_ERROR__CODECS__INVALID_CONSTANT=pGe;X.SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT=iGe;X.SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT=oGe;X.SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT=lGe;X.SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS=rGe;X.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE=aGe;X.SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE=dGe;X.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE=sGe;X.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE=uGe;X.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES=yGe;X.SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE=fGe;X.SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED=CWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED=YWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED=uVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=lVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED=aVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL=VWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE=cVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT=OVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW=CVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR=epe;X.SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS=LVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH=gVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED=EVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM=Qfe;X.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX=nVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC=dVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT=mVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED=pVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE=hVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED=iVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED=eVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND=QWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR=qWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER=MVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE=xVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY=PVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID=HWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS=GWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA=WWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER=RVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT=jWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR=fVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA=KWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC=AVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS=wVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED=NVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED=DVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED=UVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED=SVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT=bVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE=$We;X.SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID=JWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS=sVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION=IVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE=TVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE=vVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE=kVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED=rVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE=tVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED=_Ve;X.SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED=oVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION=ZWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT=XWe;X.SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN=Jfe;X.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID=yVe;X.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR=BVe;X.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS=LWe;X.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA=zWe;X.SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH=FWe;X.SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH=Z4e;X.SOLANA_ERROR__INVALID_NONCE=$4e;X.SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING=xGe;X.SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE=PGe;X.SOLANA_ERROR__INVARIANT_VIOLATION__WEBSOCKET_MESSAGE_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE=vGe;X.SOLANA_ERROR__INVARIANT_VIOLATION__WEBSOCKET_MESSAGE_ITERATOR_STATE_MISSING=kGe;X.SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR=zfe;X.SOLANA_ERROR__JSON_RPC__INVALID_PARAMS=Ffe;X.SOLANA_ERROR__JSON_RPC__INVALID_REQUEST=jfe;X.SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND=qfe;X.SOLANA_ERROR__JSON_RPC__PARSE_ERROR=Lfe;X.SOLANA_ERROR__JSON_RPC__SCAN_ERROR=Vfe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP=Zfe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE=Xfe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET=Wfe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX=Gfe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED=Hfe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED=rWe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY=sWe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT=oWe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE=DG;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED=$fe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE=iWe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE=Yfe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH=nWe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE=aWe;X.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION=Kfe;X.SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH=BWe;X.SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH=MWe;X.SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH=NWe;X.SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY=UWe;X.SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE=DWe;X.SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE=J4e;X.SOLANA_ERROR__MALFORMED_BIGINT_STRING=Q4e;X.SOLANA_ERROR__MALFORMED_NUMBER_STRING=eWe;X.SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND=Y4e;X.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_REQUEST=wGe;X.SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID=AGe;X.SOLANA_ERROR__RPC_SUBSCRIPTIONS__TRANSPORT_CLOSED_BEFORE_MESSAGE_BUFFERED=EGe;X.SOLANA_ERROR__RPC_SUBSCRIPTIONS__TRANSPORT_CONNECTION_CLOSED=IGe;X.SOLANA_ERROR__RPC_SUBSCRIPTIONS__TRANSPORT_FAILED_TO_CONNECT=TGe;X.SOLANA_ERROR__RPC__INTEGER_OVERFLOW=bGe;X.SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR=SGe;X.SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN=_Ge;X.SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS=zVe;X.SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER=FVe;X.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER=jVe;X.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER=KVe;X.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER=qVe;X.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER=VVe;X.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER=GVe;X.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER=HVe;X.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER=WVe;X.SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS=$Ve;X.SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING=YVe;X.SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED=XVe;X.SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY=RWe;X.SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED=TWe;X.SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT=IWe;X.SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED=kWe;X.SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED=vWe;X.SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED=xWe;X.SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED=PWe;X.SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED=OWe;X.SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE=tWe;X.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=R5e;X.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE=y5e;X.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE=g5e;X.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND=b5e;X.SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND=L5e;X.SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED=A5e;X.SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND=E5e;X.SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP=I5e;X.SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE=O5e;X.SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION=rpe;X.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE=S5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT=npe;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE=w5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX=k5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA=F5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX=q5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER=z5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT=G5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION=x5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT=j5e;X.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT=M5e;X.SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED=V5e;X.SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE=T5e;X.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND=_5e;X.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED=ipe;X.SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED=H5e;X.SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE=P5e;X.SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE=v5e;X.SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS=U5e;X.SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION=$5e;X.SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN=tpe;X.SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION=B5e;X.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT=D5e;X.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT=W5e;X.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT=N5e;X.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT=C5e;X.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT=K5e;X.SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION=f5e;X.SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING=a5e;X.SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES=p5e;X.SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME=QVe;X.SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME=e5e;X.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING=r5e;X.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE=n5e;X.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING=o5e;X.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND=i5e;X.SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT=m5e;X.SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING=c5e;X.SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING=u5e;X.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE=d5e;X.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING=l5e;X.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES=ZVe;X.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE=JVe;X.SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH=h5e;X.SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING=s5e;X.SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE=t5e;X.SolanaError=UG;X.getSolanaErrorFromInstructionError=spe;X.getSolanaErrorFromJsonRpcError=CGe;X.getSolanaErrorFromTransactionError=ape;X.isSolanaError=aQt;X.safeCaptureStackTrace=ope});var Rx=_(hr=>{"use strict";u();l();var Li=yL(),lQt=t=>{let e=t.filter(o=>o.length);if(e.length===0)return t.length?t[0]:new Uint8Array;if(e.length===1)return e[0];let r=e.reduce((o,s)=>o+s.length,0),n=new Uint8Array(r),i=0;return e.forEach(o=>{n.set(o,i),i+=o.length}),n},BGe=(t,e)=>{if(t.length>=e)return t;let r=new Uint8Array(e).fill(0);return r.set(t),r},MGe=(t,e)=>BGe(t.length<=e?t:t.slice(0,e),e);function NGe(t,e,r){let n=r===0&&t.length===e.length?t:t.slice(r,r+e.length);return n.length!==e.length?!1:e.every((i,o)=>i===n[o])}function gL(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function Bh(t){return Object.freeze({...t,encode:e=>{let r=new Uint8Array(gL(e,t));return t.write(e,r,0),r}})}function ug(t){return Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0]})}function DGe(t){return Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0],encode:e=>{let r=new Uint8Array(gL(e,t));return t.write(e,r,0),r}})}function To(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function cpe(t){if(!To(t))throw new Li.SolanaError(Li.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH)}function upe(t){return!To(t)}function dQt(t){if(!upe(t))throw new Li.SolanaError(Li.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH)}function Jb(t,e){if(To(t)!==To(e))throw new Li.SolanaError(Li.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH);if(To(t)&&To(e)&&t.fixedSize!==e.fixedSize)throw new Li.SolanaError(Li.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!To(t)&&!To(e)&&t.maxSize!==e.maxSize)throw new Li.SolanaError(Li.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function UGe(t,e){let r=(n,i,o)=>{let s=t.encode(n);if(zGe(s,e)>=0)throw new Li.SolanaError(Li.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL,{encodedBytes:s,hexEncodedBytes:LG(s),hexSentinel:LG(e),sentinel:e});return i.set(s,o),o+=s.length,i.set(e,o),o+=e.length,o};return To(t)?Bh({...t,fixedSize:t.fixedSize+e.length,write:r}):Bh({...t,...t.maxSize!=null?{maxSize:t.maxSize+e.length}:{},getSizeFromValue:n=>t.getSizeFromValue(n)+e.length,write:r})}function LGe(t,e){let r=(n,i)=>{let o=i===0?n:n.slice(i),s=zGe(o,e);if(s===-1)throw new Li.SolanaError(Li.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES,{decodedBytes:o,hexDecodedBytes:LG(o),hexSentinel:LG(e),sentinel:e});let a=o.slice(0,s);return[t.decode(a),i+a.length+e.length]};return To(t)?ug({...t,fixedSize:t.fixedSize+e.length,read:r}):ug({...t,...t.maxSize!=null?{maxSize:t.maxSize+e.length}:{},read:r})}function fQt(t,e){return Jb(UGe(t,e),LGe(t,e))}function zGe(t,e){return t.findIndex((r,n,i)=>e.length===1?r===e[0]:NGe(i,e,n))}function LG(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}function pQt(t,e,r=0){if(e.length-r<=0)throw new Li.SolanaError(Li.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,{codecDescription:t})}function lpe(t,e,r,n=0){let i=r.length-n;if(i<e)throw new Li.SolanaError(Li.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,{bytesLength:i,codecDescription:t,expected:e})}function bL(t,e,r){if(e<0||e>r)throw new Li.SolanaError(Li.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE,{bytesLength:r,codecDescription:t,offset:e})}function FGe(t,e){let r=(s,a,c)=>{let d=t.encode(s);return c=e.write(d.length,a,c),a.set(d,c),c+d.length};if(To(e)&&To(t))return Bh({...t,fixedSize:e.fixedSize+t.fixedSize,write:r});let n=To(e)?e.fixedSize:e.maxSize??null,i=To(t)?t.fixedSize:t.maxSize??null,o=n!==null&&i!==null?n+i:null;return Bh({...t,...o!==null?{maxSize:o}:{},getSizeFromValue:s=>{let a=gL(s,t);return gL(a,e)+a},write:r})}function qGe(t,e){let r=(s,a)=>{let[c,d]=e.read(s,a),f=Number(c);return a=d,(a>0||s.length>f)&&(s=s.slice(a,a+f)),lpe("addDecoderSizePrefix",f,s),[t.decode(s),a+f]};if(To(e)&&To(t))return ug({...t,fixedSize:e.fixedSize+t.fixedSize,read:r});let n=To(e)?e.fixedSize:e.maxSize??null,i=To(t)?t.fixedSize:t.maxSize??null,o=n!==null&&i!==null?n+i:null;return ug({...t,...o!==null?{maxSize:o}:{},read:r})}function hQt(t,e){return Jb(FGe(t,e),qGe(t,e))}function jGe(t,e){return Bh({fixedSize:e,write:(r,n,i)=>{let o=t.encode(r),s=o.length>e?o.slice(0,e):o;return n.set(s,i),i+e}})}function KGe(t,e){return ug({fixedSize:e,read:(r,n)=>{lpe("fixCodecSize",e,r,n),(n>0||r.length>e)&&(r=r.slice(n,n+e)),To(t)&&(r=MGe(r,t.fixedSize));let[i]=t.read(r,0);return[i,n+e]}})}function mQt(t,e){return Jb(jGe(t,e),KGe(t,e))}function zG(t,e){return Bh({...t,write:(r,n,i)=>{let o=d=>WGe(d,n.length),s=e.preOffset?e.preOffset({bytes:n,preOffset:i,wrapBytes:o}):i;bL("offsetEncoder",s,n.length);let a=t.write(r,n,s),c=e.postOffset?e.postOffset({bytes:n,newPreOffset:s,postOffset:a,preOffset:i,wrapBytes:o}):a;return bL("offsetEncoder",c,n.length),c}})}function FG(t,e){return ug({...t,read:(r,n)=>{let i=d=>WGe(d,r.length),o=e.preOffset?e.preOffset({bytes:r,preOffset:n,wrapBytes:i}):n;bL("offsetDecoder",o,r.length);let[s,a]=t.read(r,o),c=e.postOffset?e.postOffset({bytes:r,newPreOffset:o,postOffset:a,preOffset:n,wrapBytes:i}):a;return bL("offsetDecoder",c,r.length),[s,c]}})}function yQt(t,e){return Jb(zG(t,e),FG(t,e))}function WGe(t,e){return e===0?0:(t%e+e)%e}function qG(t,e){if(To(t)){let r=e(t.fixedSize);if(r<0)throw new Li.SolanaError(Li.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:r,codecDescription:"resizeEncoder"});return Bh({...t,fixedSize:r})}return Bh({...t,getSizeFromValue:r=>{let n=e(t.getSizeFromValue(r));if(n<0)throw new Li.SolanaError(Li.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:n,codecDescription:"resizeEncoder"});return n}})}function jG(t,e){if(To(t)){let r=e(t.fixedSize);if(r<0)throw new Li.SolanaError(Li.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:r,codecDescription:"resizeDecoder"});return ug({...t,fixedSize:r})}return t}function gQt(t,e){return Jb(qG(t,e),jG(t,e))}function VGe(t,e){return zG(qG(t,r=>r+e),{preOffset:({preOffset:r})=>r+e})}function GGe(t,e){return zG(qG(t,r=>r+e),{postOffset:({postOffset:r})=>r+e})}function HGe(t,e){return FG(jG(t,r=>r+e),{preOffset:({preOffset:r})=>r+e})}function $Ge(t,e){return FG(jG(t,r=>r+e),{postOffset:({postOffset:r})=>r+e})}function bQt(t,e){return Jb(VGe(t,e),HGe(t,e))}function _Qt(t,e){return Jb(GGe(t,e),$Ge(t,e))}function YGe(t,e,r,n,i=0){for(;r<--n;){let o=t[r];e[r+i]=t[n],e[n+i]=o,r++}r===n&&(e[r+i]=t[r])}function XGe(t){return cpe(t),Bh({...t,write:(e,r,n)=>{let i=t.write(e,r,n);return YGe(r,r,n,n+t.fixedSize),i}})}function ZGe(t){return cpe(t),ug({...t,read:(e,r)=>{let n=e.slice();return YGe(e,n,r,r+t.fixedSize),t.read(n,r)}})}function SQt(t){return Jb(XGe(t),ZGe(t))}function JGe(t,e){return Bh({...upe(t)?{...t,getSizeFromValue:r=>t.getSizeFromValue(e(r))}:t,write:(r,n,i)=>t.write(e(r),n,i)})}function QGe(t,e){return ug({...t,read:(r,n)=>{let[i,o]=t.read(r,n);return[e(i,r,n),o]}})}function wQt(t,e,r){return DGe({...JGe(t,e),read:r?QGe(t,r).read:t.read})}hr.addCodecSentinel=fQt;hr.addCodecSizePrefix=hQt;hr.addDecoderSentinel=LGe;hr.addDecoderSizePrefix=qGe;hr.addEncoderSentinel=UGe;hr.addEncoderSizePrefix=FGe;hr.assertByteArrayHasEnoughBytesForCodec=lpe;hr.assertByteArrayIsNotEmptyForCodec=pQt;hr.assertByteArrayOffsetIsNotOutOfRange=bL;hr.assertIsFixedSize=cpe;hr.assertIsVariableSize=dQt;hr.combineCodec=Jb;hr.containsBytes=NGe;hr.createCodec=DGe;hr.createDecoder=ug;hr.createEncoder=Bh;hr.fixBytes=MGe;hr.fixCodecSize=mQt;hr.fixDecoderSize=KGe;hr.fixEncoderSize=jGe;hr.getEncodedSize=gL;hr.isFixedSize=To;hr.isVariableSize=upe;hr.mergeBytes=lQt;hr.offsetCodec=yQt;hr.offsetDecoder=FG;hr.offsetEncoder=zG;hr.padBytes=BGe;hr.padLeftCodec=bQt;hr.padLeftDecoder=HGe;hr.padLeftEncoder=VGe;hr.padRightCodec=_Qt;hr.padRightDecoder=$Ge;hr.padRightEncoder=GGe;hr.resizeCodec=gQt;hr.resizeDecoder=jG;hr.resizeEncoder=qG;hr.reverseCodec=SQt;hr.reverseDecoder=ZGe;hr.reverseEncoder=XGe;hr.transformCodec=wQt;hr.transformDecoder=QGe;hr.transformEncoder=JGe});var KG=_(_r=>{"use strict";u();l();var eHe=yL(),Bs=Rx();function dpe(t,e,r,n){if(n<e||n>r)throw new eHe.SolanaError(eHe.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE,{codecDescription:t,max:r,min:e,value:n})}var tHe=(t=>(t[t.Little=0]="Little",t[t.Big=1]="Big",t))(tHe||{});function rHe(t){return t?.endian!==1}function vp(t){return Bs.createEncoder({fixedSize:t.size,write(e,r,n){t.range&&dpe(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,rHe(t.config)),r.set(new Uint8Array(i),n),n+t.size}})}function xp(t){return Bs.createDecoder({fixedSize:t.size,read(e,r=0){Bs.assertByteArrayIsNotEmptyForCodec(t.name,e,r),Bs.assertByteArrayHasEnoughBytesForCodec(t.name,t.size,e,r);let n=new DataView(AQt(e,r,t.size));return[t.get(n,rHe(t.config)),r+t.size]}})}function AQt(t,e,r){let n=t.byteOffset+(e??0),i=r??t.byteLength;return t.buffer.slice(n,n+i)}var nHe=(t={})=>vp({config:t,name:"f32",set:(e,r,n)=>e.setFloat32(0,Number(r),n),size:4}),iHe=(t={})=>xp({config:t,get:(e,r)=>e.getFloat32(0,r),name:"f32",size:4}),EQt=(t={})=>Bs.combineCodec(nHe(t),iHe(t)),oHe=(t={})=>vp({config:t,name:"f64",set:(e,r,n)=>e.setFloat64(0,Number(r),n),size:8}),sHe=(t={})=>xp({config:t,get:(e,r)=>e.getFloat64(0,r),name:"f64",size:8}),IQt=(t={})=>Bs.combineCodec(oHe(t),sHe(t)),aHe=(t={})=>vp({config:t,name:"i128",range:[-BigInt("0x7fffffffffffffffffffffffffffffff")-1n,BigInt("0x7fffffffffffffffffffffffffffffff")],set:(e,r,n)=>{let i=n?8:0,o=n?0:8,s=0xffffffffffffffffn;e.setBigInt64(i,BigInt(r)>>64n,n),e.setBigUint64(o,BigInt(r)&s,n)},size:16}),cHe=(t={})=>xp({config:t,get:(e,r)=>{let n=r?8:0,i=r?0:8,o=e.getBigInt64(n,r),s=e.getBigUint64(i,r);return(o<<64n)+s},name:"i128",size:16}),TQt=(t={})=>Bs.combineCodec(aHe(t),cHe(t)),uHe=(t={})=>vp({config:t,name:"i16",range:[-+"0x7fff"-1,+"0x7fff"],set:(e,r,n)=>e.setInt16(0,Number(r),n),size:2}),lHe=(t={})=>xp({config:t,get:(e,r)=>e.getInt16(0,r),name:"i16",size:2}),kQt=(t={})=>Bs.combineCodec(uHe(t),lHe(t)),dHe=(t={})=>vp({config:t,name:"i32",range:[-+"0x7fffffff"-1,+"0x7fffffff"],set:(e,r,n)=>e.setInt32(0,Number(r),n),size:4}),fHe=(t={})=>xp({config:t,get:(e,r)=>e.getInt32(0,r),name:"i32",size:4}),vQt=(t={})=>Bs.combineCodec(dHe(t),fHe(t)),pHe=(t={})=>vp({config:t,name:"i64",range:[-BigInt("0x7fffffffffffffff")-1n,BigInt("0x7fffffffffffffff")],set:(e,r,n)=>e.setBigInt64(0,BigInt(r),n),size:8}),hHe=(t={})=>xp({config:t,get:(e,r)=>e.getBigInt64(0,r),name:"i64",size:8}),xQt=(t={})=>Bs.combineCodec(pHe(t),hHe(t)),mHe=()=>vp({name:"i8",range:[-+"0x7f"-1,+"0x7f"],set:(t,e)=>t.setInt8(0,Number(e)),size:1}),yHe=()=>xp({get:t=>t.getInt8(0),name:"i8",size:1}),PQt=()=>Bs.combineCodec(mHe(),yHe()),gHe=()=>Bs.createEncoder({getSizeFromValue:t=>t<=127?1:t<=16383?2:3,maxSize:3,write:(t,e,r)=>{dpe("shortU16",0,65535,t);let n=[0];for(let i=0;;i+=1){let o=Number(t)>>i*7;if(o===0)break;let s=127&o;n[i]=s,i>0&&(n[i-1]|=128)}return e.set(n,r),r+n.length}}),bHe=()=>Bs.createDecoder({maxSize:3,read:(t,e)=>{let r=0,n=0;for(;++n;){let i=n-1,o=t[e+i],s=127&o;if(r|=s<<i*7,!(o&128))break}return[r,e+n]}}),OQt=()=>Bs.combineCodec(gHe(),bHe()),_He=(t={})=>vp({config:t,name:"u128",range:[0n,BigInt("0xffffffffffffffffffffffffffffffff")],set:(e,r,n)=>{let i=n?8:0,o=n?0:8,s=0xffffffffffffffffn;e.setBigUint64(i,BigInt(r)>>64n,n),e.setBigUint64(o,BigInt(r)&s,n)},size:16}),SHe=(t={})=>xp({config:t,get:(e,r)=>{let n=r?8:0,i=r?0:8,o=e.getBigUint64(n,r),s=e.getBigUint64(i,r);return(o<<64n)+s},name:"u128",size:16}),RQt=(t={})=>Bs.combineCodec(_He(t),SHe(t)),wHe=(t={})=>vp({config:t,name:"u16",range:[0,+"0xffff"],set:(e,r,n)=>e.setUint16(0,Number(r),n),size:2}),AHe=(t={})=>xp({config:t,get:(e,r)=>e.getUint16(0,r),name:"u16",size:2}),CQt=(t={})=>Bs.combineCodec(wHe(t),AHe(t)),EHe=(t={})=>vp({config:t,name:"u32",range:[0,+"0xffffffff"],set:(e,r,n)=>e.setUint32(0,Number(r),n),size:4}),IHe=(t={})=>xp({config:t,get:(e,r)=>e.getUint32(0,r),name:"u32",size:4}),BQt=(t={})=>Bs.combineCodec(EHe(t),IHe(t)),THe=(t={})=>vp({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,r,n)=>e.setBigUint64(0,BigInt(r),n),size:8}),kHe=(t={})=>xp({config:t,get:(e,r)=>e.getBigUint64(0,r),name:"u64",size:8}),MQt=(t={})=>Bs.combineCodec(THe(t),kHe(t)),vHe=()=>vp({name:"u8",range:[0,+"0xff"],set:(t,e)=>t.setUint8(0,Number(e)),size:1}),xHe=()=>xp({get:t=>t.getUint8(0),name:"u8",size:1}),NQt=()=>Bs.combineCodec(vHe(),xHe());_r.Endian=tHe;_r.assertNumberIsBetweenForCodec=dpe;_r.getF32Codec=EQt;_r.getF32Decoder=iHe;_r.getF32Encoder=nHe;_r.getF64Codec=IQt;_r.getF64Decoder=sHe;_r.getF64Encoder=oHe;_r.getI128Codec=TQt;_r.getI128Decoder=cHe;_r.getI128Encoder=aHe;_r.getI16Codec=kQt;_r.getI16Decoder=lHe;_r.getI16Encoder=uHe;_r.getI32Codec=vQt;_r.getI32Decoder=fHe;_r.getI32Encoder=dHe;_r.getI64Codec=xQt;_r.getI64Decoder=hHe;_r.getI64Encoder=pHe;_r.getI8Codec=PQt;_r.getI8Decoder=yHe;_r.getI8Encoder=mHe;_r.getShortU16Codec=OQt;_r.getShortU16Decoder=bHe;_r.getShortU16Encoder=gHe;_r.getU128Codec=RQt;_r.getU128Decoder=SHe;_r.getU128Encoder=_He;_r.getU16Codec=CQt;_r.getU16Decoder=AHe;_r.getU16Encoder=wHe;_r.getU32Codec=BQt;_r.getU32Decoder=IHe;_r.getU32Encoder=EHe;_r.getU64Codec=MQt;_r.getU64Decoder=kHe;_r.getU64Encoder=THe;_r.getU8Codec=NQt;_r.getU8Decoder=xHe;_r.getU8Encoder=vHe});var Ape=_(Mt=>{"use strict";u();l();var ft=Rx(),lg=KG(),Bu=yL();function ppe(t,e,r){if(e!==r)throw new Bu.SolanaError(Bu.SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS,{actual:r,codecDescription:t,expected:e})}function DQt(t){return t.reduce((e,r)=>e===null||r===null?null:Math.max(e,r),0)}function XS(t){return t.reduce((e,r)=>e===null||r===null?null:e+r,0)}function Cx(t){return ft.isFixedSize(t)?t.fixedSize:null}function nI(t){return ft.isFixedSize(t)?t.fixedSize:t.maxSize??null}function VG(t,e={}){let r=e.size??lg.getU32Encoder(),n=WG(r,Cx(t)),i=WG(r,nI(t))??void 0;return ft.createEncoder({...n!==null?{fixedSize:n}:{getSizeFromValue:o=>(typeof r=="object"?ft.getEncodedSize(o.length,r):0)+[...o].reduce((a,c)=>a+ft.getEncodedSize(c,t),0),maxSize:i},write:(o,s,a)=>(typeof r=="number"&&ppe("array",r,o.length),typeof r=="object"&&(a=r.write(o.length,s,a)),o.forEach(c=>{a=t.write(c,s,a)}),a)})}function GG(t,e={}){let r=e.size??lg.getU32Decoder(),n=Cx(t),i=WG(r,n),o=WG(r,nI(t))??void 0;return ft.createDecoder({...i!==null?{fixedSize:i}:{maxSize:o},read:(s,a)=>{let c=[];if(typeof r=="object"&&s.slice(a).length===0)return[c,a];if(r==="remainder"){for(;a<s.length;){let[p,m]=t.read(s,a);a=m,c.push(p)}return[c,a]}let[d,f]=typeof r=="number"?[r,a]:r.read(s,a);a=f;for(let p=0;p<d;p+=1){let[m,y]=t.read(s,a);a=y,c.push(m)}return[c,a]}})}function UQt(t,e={}){return ft.combineCodec(VG(t,e),GG(t,e))}function WG(t,e){return typeof t!="number"?null:t===0?0:e===null?null:e*t}function PHe(t,e={}){let n=(typeof e=="boolean"?{backward:e}:e).backward??!1;return ft.createEncoder({fixedSize:t,write(i,o,s){let a=[];for(let c=0;c<t;c+=1){let d=0;for(let f=0;f<8;f+=1){let p=Number(i[c*8+f]??0);d|=p<<(n?f:7-f)}n?a.unshift(d):a.push(d)}return o.set(a,s),t}})}function OHe(t,e={}){let n=(typeof e=="boolean"?{backward:e}:e).backward??!1;return ft.createDecoder({fixedSize:t,read(i,o){ft.assertByteArrayHasEnoughBytesForCodec("bitArray",t,i,o);let s=[],a=i.slice(o,o+t);return a=n?a.reverse():a,a.forEach(c=>{for(let d=0;d<8;d+=1)n?(s.push(!!(c&1)),c>>=1):(s.push(!!(c&128)),c<<=1)}),[s,o+t]}})}function LQt(t,e={}){return ft.combineCodec(PHe(t,e),OHe(t,e))}function hpe(t={}){return ft.transformEncoder(t.size??lg.getU8Encoder(),e=>e?1:0)}function mpe(t={}){return ft.transformDecoder(t.size??lg.getU8Decoder(),e=>Number(e)===1)}function zQt(t={}){return ft.combineCodec(hpe(t),mpe(t))}function RHe(){return ft.createEncoder({getSizeFromValue:t=>t.length,write:(t,e,r)=>(e.set(t,r),r+t.length)})}function CHe(){return ft.createDecoder({read:(t,e)=>{let r=t.slice(e);return[r,e+r.length]}})}function FQt(){return ft.combineCodec(RHe(),CHe())}var qQt=()=>ft.createDecoder({read(t,e){return[t.slice(e).reduce((n,i)=>n+i.toString(16).padStart(2,"0"),""),t.length]}});function ype(t){return ft.createEncoder({fixedSize:t.length,write:(e,r,n)=>(r.set(t,n),n+t.length)})}function gpe(t){return ft.createDecoder({fixedSize:t.length,read:(e,r)=>{let n=qQt();if(!ft.containsBytes(e,t,r))throw new Bu.SolanaError(Bu.SOLANA_ERROR__CODECS__INVALID_CONSTANT,{constant:t,data:e,hexConstant:n.decode(t),hexData:n.decode(e),offset:r});return[void 0,r+t.length]}})}function jQt(t){return ft.combineCodec(ype(t),gpe(t))}function ZS(t){let e=XS(t.map(Cx)),r=XS(t.map(nI))??void 0;return ft.createEncoder({...e===null?{getSizeFromValue:n=>t.map((i,o)=>ft.getEncodedSize(n[o],i)).reduce((i,o)=>i+o,0),maxSize:r}:{fixedSize:e},write:(n,i,o)=>(ppe("tuple",t.length,n.length),t.forEach((s,a)=>{o=s.write(n[a],i,o)}),o)})}function JS(t){let e=XS(t.map(Cx)),r=XS(t.map(nI))??void 0;return ft.createDecoder({...e===null?{maxSize:r}:{fixedSize:e},read:(n,i)=>{let o=[];return t.forEach(s=>{let[a,c]=s.read(n,i);o.push(a),i=c}),[o,i]}})}function KQt(t){return ft.combineCodec(ZS(t),JS(t))}function HG(t,e){let r=BHe(t),n=(o,s,a)=>{let c=e(o);return fpe(t,c),t[c].write(o,s,a)};if(r!==null)return ft.createEncoder({fixedSize:r,write:n});let i=MHe(t);return ft.createEncoder({...i!==null?{maxSize:i}:{},getSizeFromValue:o=>{let s=e(o);return fpe(t,s),ft.getEncodedSize(o,t[s])},write:n})}function $G(t,e){let r=BHe(t),n=(o,s)=>{let a=e(o,s);return fpe(t,a),t[a].read(o,s)};if(r!==null)return ft.createDecoder({fixedSize:r,read:n});let i=MHe(t);return ft.createDecoder({...i!==null?{maxSize:i}:{},read:n})}function WQt(t,e,r){return ft.combineCodec(HG(t,e),$G(t,r))}function fpe(t,e){if(typeof t[e]>"u")throw new Bu.SolanaError(Bu.SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE,{maxRange:t.length-1,minRange:0,variant:e})}function BHe(t){if(t.length===0)return 0;if(!ft.isFixedSize(t[0]))return null;let e=t[0].fixedSize;return t.every(n=>ft.isFixedSize(n)&&n.fixedSize===e)?e:null}function MHe(t){return DQt(t.map(e=>nI(e)))}function bpe(t,e={}){let r=e.discriminator??"__kind",n=e.size??lg.getU8Encoder();return HG(t.map(([,i],o)=>ft.transformEncoder(ZS([n,i]),s=>[o,s])),i=>VQt(t,i[r]))}function _pe(t,e={}){let r=e.discriminator??"__kind",n=e.size??lg.getU8Decoder();return $G(t.map(([i,o])=>ft.transformDecoder(JS([n,o]),([,s])=>({[r]:i,...s}))),(i,o)=>Number(n.read(i,o)[0]))}function NHe(t,e={}){return ft.combineCodec(bpe(t,e),_pe(t,e))}function VQt(t,e){let r=t.findIndex(([n])=>e===n);if(r<0)throw new Bu.SolanaError(Bu.SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT,{value:e,variants:t.map(([n])=>n)});return r}var GQt=bpe,HQt=_pe,$Qt=NHe;function DHe(t){let e=[...new Set(Object.values(t).filter(s=>typeof s=="number"))].sort(),r=Object.fromEntries(Object.entries(t).slice(e.length)),n=Object.keys(r),i=Object.values(r),o=[...new Set([...n,...i.filter(s=>typeof s=="string")])];return{enumKeys:n,enumRecord:r,enumValues:i,numericalValues:e,stringValues:o}}function YQt({enumKeys:t,enumValues:e,variant:r}){let n=UHe(e,i=>i===r);return n>=0?n:t.findIndex(i=>i===r)}function XQt({discriminator:t,enumKeys:e,enumValues:r,useValuesAsDiscriminators:n}){return n?UHe(r,i=>i===t):t>=0&&t<e.length?t:-1}function UHe(t,e){let r=t.length;for(;r--;)if(e(t[r],r,t))return r;return-1}function LHe(t){if(t.length===0)return"";let e=[t[0],t[0]],r=[];for(let n=1;n<t.length;n++){let i=t[n];e[1]+1===i?e[1]=i:(r.push(e[0]===e[1]?`${e[0]}`:`${e[0]}-${e[1]}`),e=[i,i])}return r.push(e[0]===e[1]?`${e[0]}`:`${e[0]}-${e[1]}`),r.join(", ")}function Spe(t,e={}){let r=e.size??lg.getU8Encoder(),n=e.useValuesAsDiscriminators??!1,{enumKeys:i,enumValues:o,numericalValues:s,stringValues:a}=DHe(t);if(n&&o.some(c=>typeof c=="string"))throw new Bu.SolanaError(Bu.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS,{stringValues:o.filter(c=>typeof c=="string")});return ft.transformEncoder(r,c=>{let d=YQt({enumKeys:i,enumValues:o,variant:c});if(d<0)throw new Bu.SolanaError(Bu.SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT,{formattedNumericalValues:LHe(s),numericalValues:s,stringValues:a,variant:c});return n?o[d]:d})}function wpe(t,e={}){let r=e.size??lg.getU8Decoder(),n=e.useValuesAsDiscriminators??!1,{enumKeys:i,enumValues:o,numericalValues:s}=DHe(t);if(n&&o.some(a=>typeof a=="string"))throw new Bu.SolanaError(Bu.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS,{stringValues:o.filter(a=>typeof a=="string")});return ft.transformDecoder(r,a=>{let c=Number(a),d=XQt({discriminator:c,enumKeys:i,enumValues:o,useValuesAsDiscriminators:n});if(d<0){let f=n?s:[...Array(i.length).keys()];throw new Bu.SolanaError(Bu.SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE,{discriminator:c,formattedValidDiscriminators:LHe(f),validDiscriminators:f})}return o[d]})}function zHe(t,e={}){return ft.combineCodec(Spe(t,e),wpe(t,e))}var ZQt=Spe,JQt=wpe,QQt=zHe;function FHe(t,e){return ft.transformEncoder(ZS([...e,t]),r=>[...e.map(()=>{}),r])}function qHe(t,e){return ft.transformDecoder(JS([...e,t]),r=>r[r.length-1])}function eer(t,e){return ft.combineCodec(FHe(t,e),qHe(t,e))}function jHe(t,e){return ft.transformEncoder(ZS([t,...e]),r=>[r,...e.map(()=>{})])}function KHe(t,e){return ft.transformDecoder(JS([t,...e]),r=>r[0])}function ter(t,e){return ft.combineCodec(jHe(t,e),KHe(t,e))}function WHe(t,e,r={}){return ft.transformEncoder(VG(ZS([t,e]),r),n=>[...n.entries()])}function VHe(t,e,r={}){return ft.transformDecoder(GG(JS([t,e]),r),n=>new Map(n))}function rer(t,e,r={}){return ft.combineCodec(WHe(t,e,r),VHe(t,e,r))}function _L(){return ft.createEncoder({fixedSize:0,write:(t,e,r)=>r})}function SL(){return ft.createDecoder({fixedSize:0,read:(t,e)=>[void 0,e]})}function ner(){return ft.combineCodec(_L(),SL())}function GHe(t,e={}){let r=e.prefix===null?ft.transformEncoder(_L(),i=>{}):hpe({size:e.prefix??lg.getU8Encoder()}),n=e.noneValue==="zeroes"?(ft.assertIsFixedSize(t),ft.fixEncoderSize(_L(),t.fixedSize)):e.noneValue?ype(e.noneValue):_L();return HG([ft.transformEncoder(ZS([r,n]),i=>[!1,void 0]),ft.transformEncoder(ZS([r,t]),i=>[!0,i])],i=>+(i!==null))}function HHe(t,e={}){let r=e.prefix===null?ft.transformDecoder(SL(),()=>!1):mpe({size:e.prefix??lg.getU8Decoder()}),n=e.noneValue==="zeroes"?(ft.assertIsFixedSize(t),ft.fixDecoderSize(SL(),t.fixedSize)):e.noneValue?gpe(e.noneValue):SL();return $G([ft.transformDecoder(JS([r,n]),()=>null),ft.transformDecoder(JS([r,t]),([,i])=>i)],(i,o)=>{if(e.prefix===null&&!e.noneValue)return+(o<i.length);if(e.prefix===null&&e.noneValue!=null){let s=e.noneValue==="zeroes"?new Uint8Array(n.fixedSize).fill(0):e.noneValue;return ft.containsBytes(i,s,o)?0:1}return Number(r.read(i,o)[0])})}function ier(t,e={}){return ft.combineCodec(GHe(t,e),HHe(t,e))}function $He(t,e={}){return ft.transformEncoder(VG(t,e),r=>[...r])}function YHe(t,e={}){return ft.transformDecoder(GG(t,e),r=>new Set(r))}function oer(t,e={}){return ft.combineCodec($He(t,e),YHe(t,e))}function XHe(t){let e=t.map(([,i])=>i),r=XS(e.map(Cx)),n=XS(e.map(nI))??void 0;return ft.createEncoder({...r===null?{getSizeFromValue:i=>t.map(([o,s])=>ft.getEncodedSize(i[o],s)).reduce((o,s)=>o+s,0),maxSize:n}:{fixedSize:r},write:(i,o,s)=>(t.forEach(([a,c])=>{s=c.write(i[a],o,s)}),s)})}function ZHe(t){let e=t.map(([,i])=>i),r=XS(e.map(Cx)),n=XS(e.map(nI))??void 0;return ft.createDecoder({...r===null?{maxSize:n}:{fixedSize:r},read:(i,o)=>{let s={};return t.forEach(([a,c])=>{let[d,f]=c.read(i,o);o=f,s[a]=d}),[s,o]}})}function ser(t){return ft.combineCodec(XHe(t),ZHe(t))}Mt.assertValidNumberOfItemsForCodec=ppe;Mt.getArrayCodec=UQt;Mt.getArrayDecoder=GG;Mt.getArrayEncoder=VG;Mt.getBitArrayCodec=LQt;Mt.getBitArrayDecoder=OHe;Mt.getBitArrayEncoder=PHe;Mt.getBooleanCodec=zQt;Mt.getBooleanDecoder=mpe;Mt.getBooleanEncoder=hpe;Mt.getBytesCodec=FQt;Mt.getBytesDecoder=CHe;Mt.getBytesEncoder=RHe;Mt.getConstantCodec=jQt;Mt.getConstantDecoder=gpe;Mt.getConstantEncoder=ype;Mt.getDataEnumCodec=$Qt;Mt.getDataEnumDecoder=HQt;Mt.getDataEnumEncoder=GQt;Mt.getDiscriminatedUnionCodec=NHe;Mt.getDiscriminatedUnionDecoder=_pe;Mt.getDiscriminatedUnionEncoder=bpe;Mt.getEnumCodec=zHe;Mt.getEnumDecoder=wpe;Mt.getEnumEncoder=Spe;Mt.getHiddenPrefixCodec=eer;Mt.getHiddenPrefixDecoder=qHe;Mt.getHiddenPrefixEncoder=FHe;Mt.getHiddenSuffixCodec=ter;Mt.getHiddenSuffixDecoder=KHe;Mt.getHiddenSuffixEncoder=jHe;Mt.getMapCodec=rer;Mt.getMapDecoder=VHe;Mt.getMapEncoder=WHe;Mt.getNullableCodec=ier;Mt.getNullableDecoder=HHe;Mt.getNullableEncoder=GHe;Mt.getScalarEnumCodec=QQt;Mt.getScalarEnumDecoder=JQt;Mt.getScalarEnumEncoder=ZQt;Mt.getSetCodec=oer;Mt.getSetDecoder=YHe;Mt.getSetEncoder=$He;Mt.getStructCodec=ser;Mt.getStructDecoder=ZHe;Mt.getStructEncoder=XHe;Mt.getTupleCodec=KQt;Mt.getTupleDecoder=JS;Mt.getTupleEncoder=ZS;Mt.getUnionCodec=WQt;Mt.getUnionDecoder=$G;Mt.getUnionEncoder=HG;Mt.getUnitCodec=ner;Mt.getUnitDecoder=SL;Mt.getUnitEncoder=_L});var p7e=_(Gi=>{"use strict";u();l();var dg=yL(),dl=Rx();function Ipe(t,e,r=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new dg.SolanaError(dg.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{alphabet:t,base:t.length,value:r})}var YG=t=>dl.createEncoder({getSizeFromValue:e=>{let[r,n]=JHe(e,t[0]);if(!n)return e.length;let i=QHe(n,t);return r.length+Math.ceil(i.toString(16).length/2)},write(e,r,n){if(Ipe(t,e),e==="")return n;let[i,o]=JHe(e,t[0]);if(!o)return r.set(new Uint8Array(i.length).fill(0),n),n+i.length;let s=QHe(o,t),a=[];for(;s>0n;)a.unshift(Number(s%256n)),s/=256n;let c=[...Array(i.length).fill(0),...a];return r.set(c,n),n+c.length}}),XG=t=>dl.createDecoder({read(e,r){let n=r===0?e:e.slice(r);if(n.length===0)return["",0];let i=n.findIndex(c=>c!==0);i=i===-1?n.length:i;let o=t[0].repeat(i);if(i===n.length)return[o,e.length];let s=n.slice(i).reduce((c,d)=>c*256n+BigInt(d),0n),a=aer(s,t);return[o+a,e.length]}}),Tpe=t=>dl.combineCodec(YG(t),XG(t));function JHe(t,e){let[r,n]=t.split(new RegExp(`((?!${e}).*)`));return[r,n]}function QHe(t,e){let r=BigInt(e.length),n=0n;for(let i of t)n*=r,n+=BigInt(e.indexOf(i));return n}function aer(t,e){let r=BigInt(e.length),n=[];for(;t>0n;)n.unshift(e[Number(t%r)]),t/=r;return n.join("")}var kpe="0123456789",cer=()=>YG(kpe),uer=()=>XG(kpe),ler=()=>Tpe(kpe),e7e={alphabet:"0123456789abcdef",base:16};function Epe(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87}var n7e=()=>dl.createEncoder({getSizeFromValue:t=>Math.ceil(t.length/2),write(t,e,r){let n=t.length,i=n/2;if(n===1){let s=t.charCodeAt(0),a=Epe(s);if(a===void 0)throw new dg.SolanaError(dg.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{...e7e,value:t});return e.set([a],r),1+r}let o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){let c=t.charCodeAt(a++),d=t.charCodeAt(a++),f=Epe(c),p=Epe(d);if(f===void 0||p===void 0&&!Number.isNaN(d))throw new dg.SolanaError(dg.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{...e7e,value:t});o[s]=Number.isNaN(d)?f:f<<4|(p??0)}return e.set(o,r),o.length+r}}),i7e=()=>dl.createDecoder({read(t,e){return[t.slice(e).reduce((n,i)=>n+i.toString(16).padStart(2,"0"),""),t.length]}}),der=()=>dl.combineCodec(n7e(),i7e()),vpe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",fer=()=>YG(vpe),per=()=>XG(vpe),her=()=>Tpe(vpe),o7e=(t,e)=>dl.createEncoder({getSizeFromValue:r=>Math.floor(r.length*e/8),write(r,n,i){if(Ipe(t,r),r==="")return i;let o=[...r].map(a=>t.indexOf(a)),s=a7e(o,e,8,!1);return n.set(s,i),s.length+i}}),s7e=(t,e)=>dl.createDecoder({read(r,n=0){let i=n===0?r:r.slice(n);return i.length===0?["",r.length]:[a7e([...i],8,e,!0).map(s=>t[s]).join(""),r.length]}}),mer=(t,e)=>dl.combineCodec(o7e(t,e),s7e(t,e));function a7e(t,e,r,n){let i=[],o=0,s=0,a=(1<<r)-1;for(let c of t)for(o=o<<e|c,s+=e;s>=r;)s-=r,i.push(o>>s&a);return n&&s>0&&i.push(o<<r-s&a),i}var t7e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c7e=()=>dl.createEncoder({getSizeFromValue:t=>{try{return atob(t).length}catch{throw new dg.SolanaError(dg.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{alphabet:t7e,base:64,value:t})}},write(t,e,r){try{let n=atob(t).split("").map(i=>i.charCodeAt(0));return e.set(n,r),n.length+r}catch{throw new dg.SolanaError(dg.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE,{alphabet:t7e,base:64,value:t})}}}),u7e=()=>dl.createDecoder({read(t,e=0){let r=t.slice(e);return[btoa(String.fromCharCode(...r)),t.length]}}),yer=()=>dl.combineCodec(c7e(),u7e()),l7e=t=>t.replace(/\u0000/g,""),ger=(t,e)=>t.padEnd(e,"\0"),ber=globalThis.TextDecoder,r7e=globalThis.TextEncoder,d7e=()=>{let t;return dl.createEncoder({getSizeFromValue:e=>(t||=new r7e).encode(e).length,write:(e,r,n)=>{let i=(t||=new r7e).encode(e);return r.set(i,n),n+i.length}})},f7e=()=>{let t;return dl.createDecoder({read(e,r){let n=(t||=new ber).decode(e.slice(r));return[l7e(n),e.length]}})},_er=()=>dl.combineCodec(d7e(),f7e());Gi.assertValidBaseString=Ipe;Gi.getBase10Codec=ler;Gi.getBase10Decoder=uer;Gi.getBase10Encoder=cer;Gi.getBase16Codec=der;Gi.getBase16Decoder=i7e;Gi.getBase16Encoder=n7e;Gi.getBase58Codec=her;Gi.getBase58Decoder=per;Gi.getBase58Encoder=fer;Gi.getBase64Codec=yer;Gi.getBase64Decoder=u7e;Gi.getBase64Encoder=c7e;Gi.getBaseXCodec=Tpe;Gi.getBaseXDecoder=XG;Gi.getBaseXEncoder=YG;Gi.getBaseXResliceCodec=mer;Gi.getBaseXResliceDecoder=s7e;Gi.getBaseXResliceEncoder=o7e;Gi.getUtf8Codec=_er;Gi.getUtf8Decoder=f7e;Gi.getUtf8Encoder=d7e;Gi.padNullCharacters=ger;Gi.removeNullCharacters=l7e});var b7e=_(Op=>{"use strict";u();l();var Pp=Rx(),Mu=Ape(),h7e=KG(),Ppe=t=>({__option:"Some",value:t}),Ope=()=>({__option:"None"}),ZG=t=>!!(t&&typeof t=="object"&&"__option"in t&&(t.__option==="Some"&&"value"in t||t.__option==="None")),wL=t=>t.__option==="Some",Ser=t=>t.__option==="None";function wer(t,e){return wL(t)?t.value:e?e():null}var m7e=t=>t!==null?Ppe(t):Ope();function y7e(t,e={}){let r=e.prefix===null?Pp.transformEncoder(Mu.getUnitEncoder(),i=>{}):Mu.getBooleanEncoder({size:e.prefix??h7e.getU8Encoder()}),n=e.noneValue==="zeroes"?(Pp.assertIsFixedSize(t),Pp.fixEncoderSize(Mu.getUnitEncoder(),t.fixedSize)):e.noneValue?Mu.getConstantEncoder(e.noneValue):Mu.getUnitEncoder();return Mu.getUnionEncoder([Pp.transformEncoder(Mu.getTupleEncoder([r,n]),i=>[!1,void 0]),Pp.transformEncoder(Mu.getTupleEncoder([r,t]),i=>[!0,ZG(i)&&wL(i)?i.value:i])],i=>{let o=ZG(i)?i:m7e(i);return Number(wL(o))})}function g7e(t,e={}){let r=e.prefix===null?Pp.transformDecoder(Mu.getUnitDecoder(),()=>!1):Mu.getBooleanDecoder({size:e.prefix??h7e.getU8Decoder()}),n=e.noneValue==="zeroes"?(Pp.assertIsFixedSize(t),Pp.fixDecoderSize(Mu.getUnitDecoder(),t.fixedSize)):e.noneValue?Mu.getConstantDecoder(e.noneValue):Mu.getUnitDecoder();return Mu.getUnionDecoder([Pp.transformDecoder(Mu.getTupleDecoder([r,n]),()=>Ope()),Pp.transformDecoder(Mu.getTupleDecoder([r,t]),([,i])=>Ppe(i))],(i,o)=>{if(e.prefix===null&&!e.noneValue)return+(o<i.length);if(e.prefix===null&&e.noneValue!=null){let s=e.noneValue==="zeroes"?new Uint8Array(n.fixedSize).fill(0):e.noneValue;return Pp.containsBytes(i,s,o)?0:1}return Number(r.read(i,o)[0])})}function Aer(t,e={}){return Pp.combineCodec(y7e(t,e),g7e(t,e))}function xpe(t,e){if(!t||ArrayBuffer.isView(t))return t;let r=n=>e?xpe(n,e):xpe(n);return ZG(t)?wL(t)?r(t.value):e?e():null:Array.isArray(t)?t.map(r):typeof t=="object"?Object.fromEntries(Object.entries(t).map(([n,i])=>[n,r(i)])):t}Op.getOptionCodec=Aer;Op.getOptionDecoder=g7e;Op.getOptionEncoder=y7e;Op.isNone=Ser;Op.isOption=ZG;Op.isSome=wL;Op.none=Ope;Op.some=Ppe;Op.unwrapOption=wer;Op.unwrapOptionRecursively=xpe;Op.wrapNullable=m7e});var iI=_(Mh=>{"use strict";u();l();var _7e=Rx(),S7e=Ape(),w7e=KG(),A7e=p7e(),E7e=b7e();Object.keys(_7e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Mh,t)&&Object.defineProperty(Mh,t,{enumerable:!0,get:function(){return _7e[t]}})});Object.keys(S7e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Mh,t)&&Object.defineProperty(Mh,t,{enumerable:!0,get:function(){return S7e[t]}})});Object.keys(w7e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Mh,t)&&Object.defineProperty(Mh,t,{enumerable:!0,get:function(){return w7e[t]}})});Object.keys(A7e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Mh,t)&&Object.defineProperty(Mh,t,{enumerable:!0,get:function(){return A7e[t]}})});Object.keys(E7e).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Mh,t)&&Object.defineProperty(Mh,t,{enumerable:!0,get:function(){return E7e[t]}})})});var T7e=_(Mx=>{"use strict";u();l();Object.defineProperty(Mx,"__esModule",{value:!0});Mx.createInitializeGroupInstruction=Eer;Mx.createUpdateGroupMaxSizeInstruction=Ier;Mx.createUpdateGroupAuthorityInstruction=Ter;Mx.createInitializeMemberInstruction=ker;var Rp=iI(),Bx=Ne();function JG(t,e){return(0,Rp.transformEncoder)((0,Rp.getTupleEncoder)([(0,Rp.getBytesEncoder)(),e]),r=>[t,r])}function I7e(){return(0,Rp.transformEncoder)((0,Rp.fixEncoderSize)((0,Rp.getBytesEncoder)(),32),t=>t.toBytes())}function Eer(t){let{programId:e,group:r,mint:n,mintAuthority:i,updateAuthority:o,maxSize:s}=t;return new Bx.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:i}],data:Buffer.from(JG(new Uint8Array([121,113,108,39,54,51,0,4]),(0,Rp.getStructEncoder)([["updateAuthority",I7e()],["maxSize",(0,Rp.getU64Encoder)()]])).encode({updateAuthority:o??Bx.SystemProgram.programId,maxSize:s}))})}function Ier(t){let{programId:e,group:r,updateAuthority:n,maxSize:i}=t;return new Bx.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!0,isWritable:!1,pubkey:n}],data:Buffer.from(JG(new Uint8Array([108,37,171,143,248,30,18,110]),(0,Rp.getStructEncoder)([["maxSize",(0,Rp.getU64Encoder)()]])).encode({maxSize:i}))})}function Ter(t){let{programId:e,group:r,currentAuthority:n,newAuthority:i}=t;return new Bx.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!0,isWritable:!1,pubkey:n}],data:Buffer.from(JG(new Uint8Array([161,105,88,1,237,221,216,203]),(0,Rp.getStructEncoder)([["newAuthority",I7e()]])).encode({newAuthority:i??Bx.SystemProgram.programId}))})}function ker(t){let{programId:e,member:r,memberMint:n,memberMintAuthority:i,group:o,groupUpdateAuthority:s}=t;return new Bx.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:i},{isSigner:!1,isWritable:!0,pubkey:o},{isSigner:!0,isWritable:!1,pubkey:s}],data:Buffer.from(JG(new Uint8Array([152,32,222,176,223,237,116,134]),(0,Rp.getStructEncoder)([])).encode({}))})}});var k7e=_(Nx=>{"use strict";u();l();Object.defineProperty(Nx,"__esModule",{value:!0});Nx.TOKEN_GROUP_SIZE=void 0;Nx.packTokenGroup=xer;Nx.unpackTokenGroup=Per;var QG=Ne(),oI=iI(),Rpe=(0,oI.getStructCodec)([["updateAuthority",(0,oI.fixCodecSize)((0,oI.getBytesCodec)(),32)],["mint",(0,oI.fixCodecSize)((0,oI.getBytesCodec)(),32)],["size",(0,oI.getU64Codec)()],["maxSize",(0,oI.getU64Codec)()]]);Nx.TOKEN_GROUP_SIZE=Rpe.fixedSize;function ver(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return!1;return!0}function xer(t){var e;let r=(e=t.updateAuthority)!==null&&e!==void 0?e:QG.PublicKey.default;return Rpe.encode({updateAuthority:r.toBuffer(),mint:t.mint.toBuffer(),size:t.size,maxSize:t.maxSize})}function Per(t){let e=Rpe.decode(t);return ver(e.updateAuthority)?{mint:new QG.PublicKey(e.mint),size:e.size,maxSize:e.maxSize}:{updateAuthority:new QG.PublicKey(e.updateAuthority),mint:new QG.PublicKey(e.mint),size:e.size,maxSize:e.maxSize}}});var x7e=_(Ux=>{"use strict";u();l();Object.defineProperty(Ux,"__esModule",{value:!0});Ux.TOKEN_GROUP_MEMBER_SIZE=void 0;Ux.packTokenGroupMember=Oer;Ux.unpackTokenGroupMember=Rer;var v7e=Ne(),Dx=iI(),Cpe=(0,Dx.getStructCodec)([["mint",(0,Dx.fixCodecSize)((0,Dx.getBytesCodec)(),32)],["group",(0,Dx.fixCodecSize)((0,Dx.getBytesCodec)(),32)],["memberNumber",(0,Dx.getU64Codec)()]]);Ux.TOKEN_GROUP_MEMBER_SIZE=Cpe.fixedSize;function Oer(t){return Cpe.encode({mint:t.mint.toBuffer(),group:t.group.toBuffer(),memberNumber:t.memberNumber})}function Rer(t){let e=Cpe.decode(t);return{mint:new v7e.PublicKey(e.mint),group:new v7e.PublicKey(e.group),memberNumber:e.memberNumber}}});var O7e=_(QS=>{"use strict";u();l();var Cer=QS&&QS.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),P7e=QS&&QS.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Cer(e,t,r)};Object.defineProperty(QS,"__esModule",{value:!0});P7e(k7e(),QS);P7e(x7e(),QS)});var AL=_(Qb=>{"use strict";u();l();var Ber=Qb&&Qb.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bpe=Qb&&Qb.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ber(e,t,r)};Object.defineProperty(Qb,"__esModule",{value:!0});Bpe(G4e(),Qb);Bpe(T7e(),Qb);Bpe(O7e(),Qb)});var R7e=_(fg=>{"use strict";u();l();var Lx=fg&&fg.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(fg,"__esModule",{value:!0});fg.tokenGroupInitializeGroup=Mer;fg.tokenGroupInitializeGroupWithRentTransfer=Ner;fg.tokenGroupUpdateGroupMaxSize=Der;fg.tokenGroupUpdateGroupAuthority=Uer;fg.tokenGroupMemberInitialize=Ler;fg.tokenGroupMemberInitializeWithRentTransfer=zer;var dd=Ne(),ew=AL(),zx=Je(),Fx=io();function Mer(t,e,r,n,i,o){return Lx(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=zx.TOKEN_2022_PROGRAM_ID){let[b,S]=(0,Fx.getSigners)(d,m),P=new dd.Transaction().add((0,ew.createInitializeGroupInstruction)({programId:g,group:c,mint:c,mintAuthority:b,updateAuthority:f,maxSize:p}));return yield(0,dd.sendAndConfirmTransaction)(s,P,[a,...S],y)})}function Ner(t,e,r,n,i,o){return Lx(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=zx.TOKEN_2022_PROGRAM_ID){let[b,S]=(0,Fx.getSigners)(d,m),P=yield s.getMinimumBalanceForRentExemption(ew.TOKEN_GROUP_SIZE),U=new dd.Transaction().add(dd.SystemProgram.transfer({fromPubkey:a.publicKey,toPubkey:c,lamports:P}),(0,ew.createInitializeGroupInstruction)({programId:g,group:c,mint:c,mintAuthority:b,updateAuthority:f,maxSize:p}));return yield(0,dd.sendAndConfirmTransaction)(s,U,[a,...S],y)})}function Der(t,e,r,n,i){return Lx(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=zx.TOKEN_2022_PROGRAM_ID){let[y,g]=(0,Fx.getSigners)(c,f),b=new dd.Transaction().add((0,ew.createUpdateGroupMaxSizeInstruction)({programId:m,group:a,updateAuthority:y,maxSize:d}));return yield(0,dd.sendAndConfirmTransaction)(o,b,[s,...g],p)})}function Uer(t,e,r,n,i){return Lx(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=zx.TOKEN_2022_PROGRAM_ID){let[y,g]=(0,Fx.getSigners)(c,f),b=new dd.Transaction().add((0,ew.createUpdateGroupAuthorityInstruction)({programId:m,group:a,currentAuthority:y,newAuthority:d}));return yield(0,dd.sendAndConfirmTransaction)(o,b,[s,...g],p)})}function Ler(t,e,r,n,i,o){return Lx(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=zx.TOKEN_2022_PROGRAM_ID){let[b,S]=(0,Fx.getSigners)(d,m),P=new dd.Transaction().add((0,ew.createInitializeMemberInstruction)({programId:g,member:c,memberMint:c,memberMintAuthority:b,group:f,groupUpdateAuthority:p}));return yield(0,dd.sendAndConfirmTransaction)(s,P,[a,...S],y)})}function zer(t,e,r,n,i,o){return Lx(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=zx.TOKEN_2022_PROGRAM_ID){let[b,S]=(0,Fx.getSigners)(d,m),P=yield s.getMinimumBalanceForRentExemption(ew.TOKEN_GROUP_MEMBER_SIZE),U=new dd.Transaction().add(dd.SystemProgram.transfer({fromPubkey:a.publicKey,toPubkey:c,lamports:P}),(0,ew.createInitializeMemberInstruction)({programId:g,member:c,memberMint:c,memberMintAuthority:b,group:f,groupUpdateAuthority:p}));return yield(0,dd.sendAndConfirmTransaction)(s,U,[a,...S],y)})}});var M7e=_(tw=>{"use strict";u();l();Object.defineProperty(tw,"__esModule",{value:!0});tw.TOKEN_GROUP_MEMBER_SIZE=tw.TOKEN_GROUP_SIZE=void 0;tw.getTokenGroupState=qer;tw.getTokenGroupMemberState=jer;var Fer=Ne(),C7e=AL(),eH=no(),B7e=AL();Object.defineProperty(tw,"TOKEN_GROUP_SIZE",{enumerable:!0,get:function(){return B7e.TOKEN_GROUP_SIZE}});Object.defineProperty(tw,"TOKEN_GROUP_MEMBER_SIZE",{enumerable:!0,get:function(){return B7e.TOKEN_GROUP_MEMBER_SIZE}});function qer(t){let e=(0,eH.getExtensionData)(eH.ExtensionType.TokenGroup,t.tlvData);if(e!==null){let{updateAuthority:r,mint:n,size:i,maxSize:o}=(0,C7e.unpackTokenGroup)(e);return{updateAuthority:r?.equals(Fer.PublicKey.default)?void 0:r,mint:n,size:i,maxSize:o}}else return null}function jer(t){let e=(0,eH.getExtensionData)(eH.ExtensionType.TokenGroupMember,t.tlvData);if(e!==null){let{mint:r,group:n,memberNumber:i}=(0,C7e.unpackTokenGroupMember)(e);return{mint:r,group:n,memberNumber:i}}else return null}});var Mpe=_(rw=>{"use strict";u();l();var Ker=rw&&rw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),N7e=rw&&rw.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ker(e,t,r)};Object.defineProperty(rw,"__esModule",{value:!0});N7e(R7e(),rw);N7e(M7e(),rw)});var Npe=_(e0=>{"use strict";u();l();Object.defineProperty(e0,"__esModule",{value:!0});e0.GROUP_MEMBER_POINTER_SIZE=e0.GroupMemberPointerLayout=void 0;e0.getGroupMemberPointerState=Ver;var Wer=Ce(),D7e=gt(),U7e=Ne(),L7e=no();e0.GroupMemberPointerLayout=(0,Wer.struct)([(0,D7e.publicKey)("authority"),(0,D7e.publicKey)("memberAddress")]);e0.GROUP_MEMBER_POINTER_SIZE=e0.GroupMemberPointerLayout.span;function Ver(t){let e=(0,L7e.getExtensionData)(L7e.ExtensionType.GroupMemberPointer,t.tlvData);if(e!==null){let{authority:r,memberAddress:n}=e0.GroupMemberPointerLayout.decode(e);return{authority:r.equals(U7e.PublicKey.default)?null:r,memberAddress:n.equals(U7e.PublicKey.default)?null:n}}else return null}});var Dpe=_(t0=>{"use strict";u();l();Object.defineProperty(t0,"__esModule",{value:!0});t0.GROUP_POINTER_SIZE=t0.GroupPointerLayout=void 0;t0.getGroupPointerState=Her;var Ger=Ce(),z7e=gt(),F7e=Ne(),q7e=no();t0.GroupPointerLayout=(0,Ger.struct)([(0,z7e.publicKey)("authority"),(0,z7e.publicKey)("groupAddress")]);t0.GROUP_POINTER_SIZE=t0.GroupPointerLayout.span;function Her(t){let e=(0,q7e.getExtensionData)(q7e.ExtensionType.GroupPointer,t.tlvData);if(e!==null){let{authority:r,groupAddress:n}=t0.GroupPointerLayout.decode(e);return{authority:r.equals(F7e.PublicKey.default)?null:r,groupAddress:n.equals(F7e.PublicKey.default)?null:n}}else return null}});var Upe=_(r0=>{"use strict";u();l();Object.defineProperty(r0,"__esModule",{value:!0});r0.IMMUTABLE_OWNER_SIZE=r0.ImmutableOwnerLayout=void 0;r0.getImmutableOwner=Yer;var $er=Ce(),j7e=no();r0.ImmutableOwnerLayout=(0,$er.struct)([]);r0.IMMUTABLE_OWNER_SIZE=r0.ImmutableOwnerLayout.span;function Yer(t){let e=(0,j7e.getExtensionData)(j7e.ExtensionType.ImmutableOwner,t.tlvData);return e!==null?r0.ImmutableOwnerLayout.decode(e):null}});var tH=_(n0=>{"use strict";u();l();Object.defineProperty(n0,"__esModule",{value:!0});n0.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=n0.InterestBearingMintConfigStateLayout=void 0;n0.getInterestBearingMintConfigState=Zer;var EL=Ce(),Xer=gt(),K7e=no();n0.InterestBearingMintConfigStateLayout=(0,EL.struct)([(0,Xer.publicKey)("rateAuthority"),(0,EL.ns64)("initializationTimestamp"),(0,EL.s16)("preUpdateAverageRate"),(0,EL.ns64)("lastUpdateTimestamp"),(0,EL.s16)("currentRate")]);n0.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=n0.InterestBearingMintConfigStateLayout.span;function Zer(t){let e=(0,K7e.getExtensionData)(K7e.ExtensionType.InterestBearingConfig,t.tlvData);return e!==null?n0.InterestBearingMintConfigStateLayout.decode(e):null}});var Fpe=_(pg=>{"use strict";u();l();Object.defineProperty(pg,"__esModule",{value:!0});pg.memoTransferInstructionData=pg.MemoTransferInstruction=void 0;pg.createEnableRequiredMemoTransfersInstruction=rtr;pg.createDisableRequiredMemoTransfersInstruction=ntr;var Lpe=Ce(),Jer=Ne(),zpe=Je(),Qer=tr(),etr=Ui(),ttr=br(),rH;(function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"})(rH||(pg.MemoTransferInstruction=rH={}));pg.memoTransferInstructionData=(0,Lpe.struct)([(0,Lpe.u8)("instruction"),(0,Lpe.u8)("memoTransferInstruction")]);function rtr(t,e,r=[],n=zpe.TOKEN_2022_PROGRAM_ID){return W7e(rH.Enable,t,e,r,n)}function ntr(t,e,r=[],n=zpe.TOKEN_2022_PROGRAM_ID){return W7e(rH.Disable,t,e,r,n)}function W7e(t,e,r,n,i){if(!(0,zpe.programSupportsExtensions)(i))throw new Qer.TokenUnsupportedInstructionError;let o=(0,etr.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(pg.memoTransferInstructionData.span);return pg.memoTransferInstructionData.encode({instruction:ttr.TokenInstruction.MemoTransferExtension,memoTransferInstruction:t},s),new Jer.TransactionInstruction({keys:o,programId:i,data:s})}});var Y7e=_(qx=>{"use strict";u();l();var V7e=qx&&qx.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(qx,"__esModule",{value:!0});qx.enableRequiredMemoTransfers=itr;qx.disableRequiredMemoTransfers=otr;var nH=Ne(),G7e=io(),H7e=Je(),$7e=Fpe();function itr(t,e,r,n){return V7e(this,arguments,void 0,function*(i,o,s,a,c=[],d,f=H7e.TOKEN_2022_PROGRAM_ID){let[p,m]=(0,G7e.getSigners)(a,c),y=new nH.Transaction().add((0,$7e.createEnableRequiredMemoTransfersInstruction)(s,p,m,f));return yield(0,nH.sendAndConfirmTransaction)(i,y,[o,...m],d)})}function otr(t,e,r,n){return V7e(this,arguments,void 0,function*(i,o,s,a,c=[],d,f=H7e.TOKEN_2022_PROGRAM_ID){let[p,m]=(0,G7e.getSigners)(a,c),y=new nH.Transaction().add((0,$7e.createDisableRequiredMemoTransfersInstruction)(s,p,m,f));return yield(0,nH.sendAndConfirmTransaction)(i,y,[o,...m],d)})}});var Z7e=_(i0=>{"use strict";u();l();Object.defineProperty(i0,"__esModule",{value:!0});i0.MEMO_TRANSFER_SIZE=i0.MemoTransferLayout=void 0;i0.getMemoTransfer=ctr;var str=Ce(),atr=gt(),X7e=no();i0.MemoTransferLayout=(0,str.struct)([(0,atr.bool)("requireIncomingTransferMemos")]);i0.MEMO_TRANSFER_SIZE=i0.MemoTransferLayout.span;function ctr(t){let e=(0,X7e.getExtensionData)(X7e.ExtensionType.MemoTransfer,t.tlvData);return e!==null?i0.MemoTransferLayout.decode(e):null}});var jpe=_(o0=>{"use strict";u();l();var utr=o0&&o0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qpe=o0&&o0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&utr(e,t,r)};Object.defineProperty(o0,"__esModule",{value:!0});qpe(Y7e(),o0);qpe(Fpe(),o0);qpe(Z7e(),o0)});var Kpe=_(s0=>{"use strict";u();l();Object.defineProperty(s0,"__esModule",{value:!0});s0.METADATA_POINTER_SIZE=s0.MetadataPointerLayout=void 0;s0.getMetadataPointerState=dtr;var ltr=Ce(),J7e=gt(),Q7e=Ne(),e$e=no();s0.MetadataPointerLayout=(0,ltr.struct)([(0,J7e.publicKey)("authority"),(0,J7e.publicKey)("metadataAddress")]);s0.METADATA_POINTER_SIZE=s0.MetadataPointerLayout.span;function dtr(t){let e=(0,e$e.getExtensionData)(e$e.ExtensionType.MetadataPointer,t.tlvData);if(e!==null){let{authority:r,metadataAddress:n}=s0.MetadataPointerLayout.decode(e);return{authority:r.equals(Q7e.PublicKey.default)?null:r,metadataAddress:n.equals(Q7e.PublicKey.default)?null:n}}else return null}});var Wpe=_(a0=>{"use strict";u();l();Object.defineProperty(a0,"__esModule",{value:!0});a0.MINT_CLOSE_AUTHORITY_SIZE=a0.MintCloseAuthorityLayout=void 0;a0.getMintCloseAuthority=htr;var ftr=Ce(),ptr=gt(),t$e=no();a0.MintCloseAuthorityLayout=(0,ftr.struct)([(0,ptr.publicKey)("closeAuthority")]);a0.MINT_CLOSE_AUTHORITY_SIZE=a0.MintCloseAuthorityLayout.span;function htr(t){let e=(0,t$e.getExtensionData)(t$e.ExtensionType.MintCloseAuthority,t.tlvData);return e!==null?a0.MintCloseAuthorityLayout.decode(e):null}});var Vpe=_(fd=>{"use strict";u();l();Object.defineProperty(fd,"__esModule",{value:!0});fd.NON_TRANSFERABLE_ACCOUNT_SIZE=fd.NON_TRANSFERABLE_SIZE=fd.NonTransferableLayout=void 0;fd.getNonTransferable=ytr;fd.getNonTransferableAccount=gtr;var mtr=Ce(),iH=no();fd.NonTransferableLayout=(0,mtr.struct)([]);fd.NON_TRANSFERABLE_SIZE=fd.NonTransferableLayout.span;fd.NON_TRANSFERABLE_ACCOUNT_SIZE=fd.NonTransferableLayout.span;function ytr(t){let e=(0,iH.getExtensionData)(iH.ExtensionType.NonTransferable,t.tlvData);return e!==null?fd.NonTransferableLayout.decode(e):null}function gtr(t){let e=(0,iH.getExtensionData)(iH.ExtensionType.NonTransferableAccount,t.tlvData);return e!==null?fd.NonTransferableLayout.decode(e):null}});var $pe=_(Ms=>{"use strict";u();l();Object.defineProperty(Ms,"__esModule",{value:!0});Ms.resumeInstructionData=Ms.pauseInstructionData=Ms.initializePausableConfigInstructionData=Ms.PausableInstruction=void 0;Ms.createInitializePausableConfigInstruction=_tr;Ms.createPauseInstruction=Str;Ms.createResumeInstruction=wtr;var c0=Ce(),btr=gt(),oH=Ne(),jx=Je(),Gpe=tr(),Hpe=br(),r$e=Ui(),IL;(function(t){t[t.Initialize=0]="Initialize",t[t.Pause=1]="Pause",t[t.Resume=2]="Resume"})(IL||(Ms.PausableInstruction=IL={}));Ms.initializePausableConfigInstructionData=(0,c0.struct)([(0,c0.u8)("instruction"),(0,c0.u8)("pausableInstruction"),(0,btr.publicKey)("authority")]);function _tr(t,e,r=jx.TOKEN_2022_PROGRAM_ID){if(!(0,jx.programSupportsExtensions)(r))throw new Gpe.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!1,isWritable:!0}],i=Buffer.alloc(Ms.initializePausableConfigInstructionData.span);return Ms.initializePausableConfigInstructionData.encode({instruction:Hpe.TokenInstruction.PausableExtension,pausableInstruction:IL.Initialize,authority:e??oH.PublicKey.default},i),new oH.TransactionInstruction({keys:n,programId:r,data:i})}Ms.pauseInstructionData=(0,c0.struct)([(0,c0.u8)("instruction"),(0,c0.u8)("pausableInstruction")]);function Str(t,e,r=[],n=jx.TOKEN_2022_PROGRAM_ID){if(!(0,jx.programSupportsExtensions)(n))throw new Gpe.TokenUnsupportedInstructionError;let i=(0,r$e.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,r),o=Buffer.alloc(Ms.pauseInstructionData.span);return Ms.pauseInstructionData.encode({instruction:Hpe.TokenInstruction.PausableExtension,pausableInstruction:IL.Pause},o),new oH.TransactionInstruction({keys:i,programId:n,data:o})}Ms.resumeInstructionData=(0,c0.struct)([(0,c0.u8)("instruction"),(0,c0.u8)("pausableInstruction")]);function wtr(t,e,r=[],n=jx.TOKEN_2022_PROGRAM_ID){if(!(0,jx.programSupportsExtensions)(n))throw new Gpe.TokenUnsupportedInstructionError;let i=(0,r$e.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,r),o=Buffer.alloc(Ms.resumeInstructionData.span);return Ms.resumeInstructionData.encode({instruction:Hpe.TokenInstruction.PausableExtension,pausableInstruction:IL.Resume},o),new oH.TransactionInstruction({keys:i,programId:n,data:o})}});var a$e=_(Kx=>{"use strict";u();l();var n$e=Kx&&Kx.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Kx,"__esModule",{value:!0});Kx.pause=Atr;Kx.resume=Etr;var sH=Ne(),i$e=io(),o$e=Je(),s$e=$pe();function Atr(t,e,r,n){return n$e(this,arguments,void 0,function*(i,o,s,a,c=[],d,f=o$e.TOKEN_2022_PROGRAM_ID){let[p,m]=(0,i$e.getSigners)(a,c),y=new sH.Transaction().add((0,s$e.createPauseInstruction)(s,p,c,f));return yield(0,sH.sendAndConfirmTransaction)(i,y,[o,...m],d)})}function Etr(t,e,r,n){return n$e(this,arguments,void 0,function*(i,o,s,a,c=[],d,f=o$e.TOKEN_2022_PROGRAM_ID){let[p,m]=(0,i$e.getSigners)(a,c),y=new sH.Transaction().add((0,s$e.createResumeInstruction)(s,p,c,f));return yield(0,sH.sendAndConfirmTransaction)(i,y,[o,...m],d)})}});var l$e=_(Nu=>{"use strict";u();l();Object.defineProperty(Nu,"__esModule",{value:!0});Nu.PAUSABLE_ACCOUNT_SIZE=Nu.PausableAccountLayout=Nu.PAUSABLE_CONFIG_SIZE=Nu.PausableConfigLayout=void 0;Nu.getPausableConfig=Itr;Nu.getPausableAccount=Ttr;var u$e=Ce(),c$e=gt(),aH=no();Nu.PausableConfigLayout=(0,u$e.struct)([(0,c$e.publicKey)("authority"),(0,c$e.bool)("paused")]);Nu.PAUSABLE_CONFIG_SIZE=Nu.PausableConfigLayout.span;function Itr(t){let e=(0,aH.getExtensionData)(aH.ExtensionType.PausableConfig,t.tlvData);return e!==null?Nu.PausableConfigLayout.decode(e):null}Nu.PausableAccountLayout=(0,u$e.struct)([]);Nu.PAUSABLE_ACCOUNT_SIZE=Nu.PausableAccountLayout.span;function Ttr(t){let e=(0,aH.getExtensionData)(aH.ExtensionType.PausableAccount,t.tlvData);return e!==null?Nu.PausableAccountLayout.decode(e):null}});var Xpe=_(u0=>{"use strict";u();l();var ktr=u0&&u0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ype=u0&&u0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ktr(e,t,r)};Object.defineProperty(u0,"__esModule",{value:!0});Ype(a$e(),u0);Ype($pe(),u0);Ype(l$e(),u0)});var Zpe=_(l0=>{"use strict";u();l();Object.defineProperty(l0,"__esModule",{value:!0});l0.PERMANENT_DELEGATE_SIZE=l0.PermanentDelegateLayout=void 0;l0.getPermanentDelegate=Ptr;var vtr=Ce(),xtr=gt(),d$e=no();l0.PermanentDelegateLayout=(0,vtr.struct)([(0,xtr.publicKey)("delegate")]);l0.PERMANENT_DELEGATE_SIZE=l0.PermanentDelegateLayout.span;function Ptr(t){let e=(0,d$e.getExtensionData)(d$e.ExtensionType.PermanentDelegate,t.tlvData);return e!==null?l0.PermanentDelegateLayout.decode(e):null}});var Qpe=_(pd=>{"use strict";u();l();Object.defineProperty(pd,"__esModule",{value:!0});pd.updateMultiplierData=pd.initializeScaledUiAmountConfigInstructionData=pd.ScaledUiAmountInstruction=void 0;pd.createInitializeScaledUiAmountConfigInstruction=Rtr;pd.createUpdateMultiplierDataInstruction=Ctr;var nw=Ce(),f$e=gt(),p$e=br(),Jpe=Ne(),cH=Je(),h$e=tr(),Otr=Ui(),uH;(function(t){t[t.Initialize=0]="Initialize",t[t.UpdateMultiplier=1]="UpdateMultiplier"})(uH||(pd.ScaledUiAmountInstruction=uH={}));pd.initializeScaledUiAmountConfigInstructionData=(0,nw.struct)([(0,nw.u8)("instruction"),(0,nw.u8)("scaledUiAmountInstruction"),(0,f$e.publicKey)("authority"),(0,nw.f64)("multiplier")]);function Rtr(t,e,r,n=cH.TOKEN_2022_PROGRAM_ID){if(!(0,cH.programSupportsExtensions)(n))throw new h$e.TokenUnsupportedInstructionError;let i=[{pubkey:t,isSigner:!1,isWritable:!0}],o=Buffer.alloc(pd.initializeScaledUiAmountConfigInstructionData.span);return pd.initializeScaledUiAmountConfigInstructionData.encode({instruction:p$e.TokenInstruction.ScaledUiAmountExtension,scaledUiAmountInstruction:uH.Initialize,authority:e??Jpe.PublicKey.default,multiplier:r},o),new Jpe.TransactionInstruction({keys:i,programId:n,data:o})}pd.updateMultiplierData=(0,nw.struct)([(0,nw.u8)("instruction"),(0,nw.u8)("scaledUiAmountInstruction"),(0,nw.f64)("multiplier"),(0,f$e.u64)("effectiveTimestamp")]);function Ctr(t,e,r,n,i=[],o=cH.TOKEN_2022_PROGRAM_ID){if(!(0,cH.programSupportsExtensions)(o))throw new h$e.TokenUnsupportedInstructionError;let s=(0,Otr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,i),a=Buffer.alloc(pd.updateMultiplierData.span);return pd.updateMultiplierData.encode({instruction:p$e.TokenInstruction.ScaledUiAmountExtension,scaledUiAmountInstruction:uH.UpdateMultiplier,multiplier:r,effectiveTimestamp:n},a),new Jpe.TransactionInstruction({keys:s,programId:o,data:a})}});var y$e=_(TL=>{"use strict";u();l();var Btr=TL&&TL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(TL,"__esModule",{value:!0});TL.updateMultiplier=Utr;var m$e=Ne(),Mtr=io(),Ntr=Je(),Dtr=Qpe();function Utr(t,e,r,n,i,o){return Btr(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=Ntr.TOKEN_2022_PROGRAM_ID){let[b,S]=(0,Mtr.getSigners)(d,m),P=new m$e.Transaction().add((0,Dtr.createUpdateMultiplierDataInstruction)(c,b,f,p,m,g));return yield(0,m$e.sendAndConfirmTransaction)(s,P,[a,...S],y)})}});var _$e=_(d0=>{"use strict";u();l();Object.defineProperty(d0,"__esModule",{value:!0});d0.SCALED_UI_AMOUNT_CONFIG_SIZE=d0.ScaledUiAmountConfigLayout=void 0;d0.getScaledUiAmountConfig=Ltr;var ehe=Ce(),g$e=gt(),b$e=no();d0.ScaledUiAmountConfigLayout=(0,ehe.struct)([(0,g$e.publicKey)("authority"),(0,ehe.f64)("multiplier"),(0,g$e.u64)("newMultiplierEffectiveTimestamp"),(0,ehe.f64)("newMultiplier")]);d0.SCALED_UI_AMOUNT_CONFIG_SIZE=d0.ScaledUiAmountConfigLayout.span;function Ltr(t){let e=(0,b$e.getExtensionData)(b$e.ExtensionType.ScaledUiAmountConfig,t.tlvData);return e!==null?d0.ScaledUiAmountConfigLayout.decode(e):null}});var rhe=_(f0=>{"use strict";u();l();var ztr=f0&&f0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),the=f0&&f0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ztr(e,t,r)};Object.defineProperty(f0,"__esModule",{value:!0});the(y$e(),f0);the(Qpe(),f0);the(_$e(),f0)});var Wx=_(lH=>{"use strict";u();l();Object.defineProperty(lH,"__esModule",{value:!0});lH.COptionPublicKeyLayout=void 0;var Ftr=Ce(),qtr=gt(),nhe=class extends Ftr.Layout{constructor(e){super(-1,e),this.publicKeyLayout=(0,qtr.publicKey)()}decode(e,r=0){return e[r]===0?null:this.publicKeyLayout.decode(e,r+1)}encode(e,r,n=0){return e===null?(r[n]=0,1):(r[n]=1,this.publicKeyLayout.encode(e,r,n+1),33)}getSpan(e,r=0){if(e)return e[r]===0?1:1+this.publicKeyLayout.span;throw new RangeError("Buffer must be provided")}};lH.COptionPublicKeyLayout=nhe});var pH=_(Rt=>{"use strict";u();l();Object.defineProperty(Rt,"__esModule",{value:!0});Rt.setTransferFeeInstructionData=Rt.harvestWithheldTokensToMintInstructionData=Rt.withdrawWithheldTokensFromAccountsInstructionData=Rt.withdrawWithheldTokensFromMintInstructionData=Rt.transferCheckedWithFeeInstructionData=Rt.initializeTransferFeeConfigInstructionData=Rt.TransferFeeInstruction=void 0;Rt.createInitializeTransferFeeConfigInstruction=jtr;Rt.decodeInitializeTransferFeeConfigInstruction=Ktr;Rt.decodeInitializeTransferFeeConfigInstructionUnchecked=w$e;Rt.createTransferCheckedWithFeeInstruction=Wtr;Rt.decodeTransferCheckedWithFeeInstruction=Vtr;Rt.decodeTransferCheckedWithFeeInstructionUnchecked=A$e;Rt.createWithdrawWithheldTokensFromMintInstruction=Gtr;Rt.decodeWithdrawWithheldTokensFromMintInstruction=Htr;Rt.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=E$e;Rt.createWithdrawWithheldTokensFromAccountsInstruction=$tr;Rt.decodeWithdrawWithheldTokensFromAccountsInstruction=Ytr;Rt.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=I$e;Rt.createHarvestWithheldTokensToMintInstruction=Xtr;Rt.decodeHarvestWithheldTokensToMintInstruction=Ztr;Rt.decodeHarvestWithheldTokensToMintInstructionUnchecked=T$e;Rt.createSetTransferFeeInstruction=Jtr;Rt.decodeSetTransferFeeInstruction=Qtr;Rt.decodeSetTransferFeeInstructionUnchecked=k$e;var ko=Ce(),dH=gt(),Vx=Ne(),Cp=Je(),Xn=tr(),fH=Ui(),Bp=br(),S$e=Wx(),hd;(function(t){t[t.InitializeTransferFeeConfig=0]="InitializeTransferFeeConfig",t[t.TransferCheckedWithFee=1]="TransferCheckedWithFee",t[t.WithdrawWithheldTokensFromMint=2]="WithdrawWithheldTokensFromMint",t[t.WithdrawWithheldTokensFromAccounts=3]="WithdrawWithheldTokensFromAccounts",t[t.HarvestWithheldTokensToMint=4]="HarvestWithheldTokensToMint",t[t.SetTransferFee=5]="SetTransferFee"})(hd||(Rt.TransferFeeInstruction=hd={}));Rt.initializeTransferFeeConfigInstructionData=(0,ko.struct)([(0,ko.u8)("instruction"),(0,ko.u8)("transferFeeInstruction"),new S$e.COptionPublicKeyLayout("transferFeeConfigAuthority"),new S$e.COptionPublicKeyLayout("withdrawWithheldAuthority"),(0,ko.u16)("transferFeeBasisPoints"),(0,dH.u64)("maximumFee")]);function jtr(t,e,r,n,i,o=Cp.TOKEN_2022_PROGRAM_ID){if(!(0,Cp.programSupportsExtensions)(o))throw new Xn.TokenUnsupportedInstructionError;let s=[{pubkey:t,isSigner:!1,isWritable:!0}],a=Buffer.alloc(78);return Rt.initializeTransferFeeConfigInstructionData.encode({instruction:Bp.TokenInstruction.TransferFeeExtension,transferFeeInstruction:hd.InitializeTransferFeeConfig,transferFeeConfigAuthority:e,withdrawWithheldAuthority:r,transferFeeBasisPoints:n,maximumFee:i},a),new Vx.TransactionInstruction({keys:s,programId:o,data:a.subarray(0,Rt.initializeTransferFeeConfigInstructionData.getSpan(a))})}function Ktr(t,e){if(!t.programId.equals(e))throw new Xn.TokenInvalidInstructionProgramError;if(t.data.length!==Rt.initializeTransferFeeConfigInstructionData.getSpan(t.data))throw new Xn.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=w$e(t);if(n.instruction!==Bp.TokenInstruction.TransferFeeExtension||n.transferFeeInstruction!==hd.InitializeTransferFeeConfig)throw new Xn.TokenInvalidInstructionTypeError;if(!r)throw new Xn.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}function w$e({programId:t,keys:[e],data:r}){let{instruction:n,transferFeeInstruction:i,transferFeeConfigAuthority:o,withdrawWithheldAuthority:s,transferFeeBasisPoints:a,maximumFee:c}=Rt.initializeTransferFeeConfigInstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,transferFeeInstruction:i,transferFeeConfigAuthority:o,withdrawWithheldAuthority:s,transferFeeBasisPoints:a,maximumFee:c}}}Rt.transferCheckedWithFeeInstructionData=(0,ko.struct)([(0,ko.u8)("instruction"),(0,ko.u8)("transferFeeInstruction"),(0,dH.u64)("amount"),(0,ko.u8)("decimals"),(0,dH.u64)("fee")]);function Wtr(t,e,r,n,i,o,s,a=[],c=Cp.TOKEN_2022_PROGRAM_ID){if(!(0,Cp.programSupportsExtensions)(c))throw new Xn.TokenUnsupportedInstructionError;let d=Buffer.alloc(Rt.transferCheckedWithFeeInstructionData.span);Rt.transferCheckedWithFeeInstructionData.encode({instruction:Bp.TokenInstruction.TransferFeeExtension,transferFeeInstruction:hd.TransferCheckedWithFee,amount:i,decimals:o,fee:s},d);let f=(0,fH.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}],n,a);return new Vx.TransactionInstruction({keys:f,programId:c,data:d})}function Vtr(t,e){if(!t.programId.equals(e))throw new Xn.TokenInvalidInstructionProgramError;if(t.data.length!==Rt.transferCheckedWithFeeInstructionData.span)throw new Xn.TokenInvalidInstructionDataError;let{keys:{source:r,mint:n,destination:i,authority:o,signers:s},data:a}=A$e(t);if(a.instruction!==Bp.TokenInstruction.TransferFeeExtension||a.transferFeeInstruction!==hd.TransferCheckedWithFee)throw new Xn.TokenInvalidInstructionTypeError;if(!n)throw new Xn.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:r,mint:n,destination:i,authority:o,signers:s||null},data:a}}function A$e({programId:t,keys:[e,r,n,i,...o],data:s}){let{instruction:a,transferFeeInstruction:c,amount:d,decimals:f,fee:p}=Rt.transferCheckedWithFeeInstructionData.decode(s);return{programId:t,keys:{source:e,mint:r,destination:n,authority:i,signers:o},data:{instruction:a,transferFeeInstruction:c,amount:d,decimals:f,fee:p}}}Rt.withdrawWithheldTokensFromMintInstructionData=(0,ko.struct)([(0,ko.u8)("instruction"),(0,ko.u8)("transferFeeInstruction")]);function Gtr(t,e,r,n=[],i=Cp.TOKEN_2022_PROGRAM_ID){if(!(0,Cp.programSupportsExtensions)(i))throw new Xn.TokenUnsupportedInstructionError;let o=Buffer.alloc(Rt.withdrawWithheldTokensFromMintInstructionData.span);Rt.withdrawWithheldTokensFromMintInstructionData.encode({instruction:Bp.TokenInstruction.TransferFeeExtension,transferFeeInstruction:hd.WithdrawWithheldTokensFromMint},o);let s=(0,fH.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,n);return new Vx.TransactionInstruction({keys:s,programId:i,data:o})}function Htr(t,e){if(!t.programId.equals(e))throw new Xn.TokenInvalidInstructionProgramError;if(t.data.length!==Rt.withdrawWithheldTokensFromMintInstructionData.span)throw new Xn.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,signers:o},data:s}=E$e(t);if(s.instruction!==Bp.TokenInstruction.TransferFeeExtension||s.transferFeeInstruction!==hd.WithdrawWithheldTokensFromMint)throw new Xn.TokenInvalidInstructionTypeError;if(!r)throw new Xn.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,signers:o||null},data:s}}function E$e({programId:t,keys:[e,r,n,...i],data:o}){let{instruction:s,transferFeeInstruction:a}=Rt.withdrawWithheldTokensFromMintInstructionData.decode(o);return{programId:t,keys:{mint:e,destination:r,authority:n,signers:i},data:{instruction:s,transferFeeInstruction:a}}}Rt.withdrawWithheldTokensFromAccountsInstructionData=(0,ko.struct)([(0,ko.u8)("instruction"),(0,ko.u8)("transferFeeInstruction"),(0,ko.u8)("numTokenAccounts")]);function $tr(t,e,r,n,i,o=Cp.TOKEN_2022_PROGRAM_ID){if(!(0,Cp.programSupportsExtensions)(o))throw new Xn.TokenUnsupportedInstructionError;let s=Buffer.alloc(Rt.withdrawWithheldTokensFromAccountsInstructionData.span);Rt.withdrawWithheldTokensFromAccountsInstructionData.encode({instruction:Bp.TokenInstruction.TransferFeeExtension,transferFeeInstruction:hd.WithdrawWithheldTokensFromAccounts,numTokenAccounts:i.length},s);let a=(0,fH.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,n);for(let c of i)a.push({pubkey:c,isSigner:!1,isWritable:!0});return new Vx.TransactionInstruction({keys:a,programId:o,data:s})}function Ytr(t,e){if(!t.programId.equals(e))throw new Xn.TokenInvalidInstructionProgramError;if(t.data.length!==Rt.withdrawWithheldTokensFromAccountsInstructionData.span)throw new Xn.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,signers:o,sources:s},data:a}=I$e(t);if(a.instruction!==Bp.TokenInstruction.TransferFeeExtension||a.transferFeeInstruction!==hd.WithdrawWithheldTokensFromAccounts)throw new Xn.TokenInvalidInstructionTypeError;if(!r)throw new Xn.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,signers:o||null,sources:s||null},data:a}}function I$e({programId:t,keys:e,data:r}){let{instruction:n,transferFeeInstruction:i,numTokenAccounts:o}=Rt.withdrawWithheldTokensFromAccountsInstructionData.decode(r),[s,a,c,d,f]=[e[0],e[1],e[2],e.slice(3,3+o),e.slice(-1*o)];return{programId:t,keys:{mint:s,destination:a,authority:c,signers:d,sources:f},data:{instruction:n,transferFeeInstruction:i,numTokenAccounts:o}}}Rt.harvestWithheldTokensToMintInstructionData=(0,ko.struct)([(0,ko.u8)("instruction"),(0,ko.u8)("transferFeeInstruction")]);function Xtr(t,e,r=Cp.TOKEN_2022_PROGRAM_ID){if(!(0,Cp.programSupportsExtensions)(r))throw new Xn.TokenUnsupportedInstructionError;let n=Buffer.alloc(Rt.harvestWithheldTokensToMintInstructionData.span);Rt.harvestWithheldTokensToMintInstructionData.encode({instruction:Bp.TokenInstruction.TransferFeeExtension,transferFeeInstruction:hd.HarvestWithheldTokensToMint},n);let i=[];i.push({pubkey:t,isSigner:!1,isWritable:!0});for(let o of e)i.push({pubkey:o,isSigner:!1,isWritable:!0});return new Vx.TransactionInstruction({keys:i,programId:r,data:n})}function Ztr(t,e){if(!t.programId.equals(e))throw new Xn.TokenInvalidInstructionProgramError;if(t.data.length!==Rt.harvestWithheldTokensToMintInstructionData.span)throw new Xn.TokenInvalidInstructionDataError;let{keys:{mint:r,sources:n},data:i}=T$e(t);if(i.instruction!==Bp.TokenInstruction.TransferFeeExtension||i.transferFeeInstruction!==hd.HarvestWithheldTokensToMint)throw new Xn.TokenInvalidInstructionTypeError;if(!r)throw new Xn.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,sources:n},data:i}}function T$e({programId:t,keys:[e,...r],data:n}){let{instruction:i,transferFeeInstruction:o}=Rt.harvestWithheldTokensToMintInstructionData.decode(n);return{programId:t,keys:{mint:e,sources:r},data:{instruction:i,transferFeeInstruction:o}}}Rt.setTransferFeeInstructionData=(0,ko.struct)([(0,ko.u8)("instruction"),(0,ko.u8)("transferFeeInstruction"),(0,ko.u16)("transferFeeBasisPoints"),(0,dH.u64)("maximumFee")]);function Jtr(t,e,r,n,i,o=Cp.TOKEN_2022_PROGRAM_ID){if(!(0,Cp.programSupportsExtensions)(o))throw new Xn.TokenUnsupportedInstructionError;let s=Buffer.alloc(Rt.setTransferFeeInstructionData.span);Rt.setTransferFeeInstructionData.encode({instruction:Bp.TokenInstruction.TransferFeeExtension,transferFeeInstruction:hd.SetTransferFee,transferFeeBasisPoints:n,maximumFee:i},s);let a=(0,fH.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,r);return new Vx.TransactionInstruction({keys:a,programId:o,data:s})}function Qtr(t,e){if(!t.programId.equals(e))throw new Xn.TokenInvalidInstructionProgramError;if(t.data.length!==Rt.setTransferFeeInstructionData.span)throw new Xn.TokenInvalidInstructionDataError;let{keys:{mint:r,authority:n,signers:i},data:o}=k$e(t);if(o.instruction!==Bp.TokenInstruction.TransferFeeExtension||o.transferFeeInstruction!==hd.SetTransferFee)throw new Xn.TokenInvalidInstructionTypeError;if(!r)throw new Xn.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,authority:n,signers:i||null},data:o}}function k$e({programId:t,keys:[e,r,...n],data:i}){let{instruction:o,transferFeeInstruction:s,transferFeeBasisPoints:a,maximumFee:c}=Rt.setTransferFeeInstructionData.decode(i);return{programId:t,keys:{mint:e,authority:r,signers:n},data:{instruction:o,transferFeeInstruction:s,transferFeeBasisPoints:a,maximumFee:c}}}});var v$e=_(p0=>{"use strict";u();l();var kL=p0&&p0.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(p0,"__esModule",{value:!0});p0.transferCheckedWithFee=err;p0.withdrawWithheldTokensFromMint=trr;p0.withdrawWithheldTokensFromAccounts=rrr;p0.harvestWithheldTokensToMint=nrr;p0.setTransferFee=irr;var hg=Ne(),hH=io(),vL=Je(),xL=pH();function err(t,e,r,n,i,o,s,a,c){return kL(this,arguments,void 0,function*(d,f,p,m,y,g,b,S,P,U=[],L,j=vL.TOKEN_2022_PROGRAM_ID){let[Z,se]=(0,hH.getSigners)(g,U),Ee=new hg.Transaction().add((0,xL.createTransferCheckedWithFeeInstruction)(p,m,y,Z,b,S,P,U,j));return yield(0,hg.sendAndConfirmTransaction)(d,Ee,[f,...se],L)})}function trr(t,e,r,n,i){return kL(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=vL.TOKEN_2022_PROGRAM_ID){let[y,g]=(0,hH.getSigners)(d,f),b=new hg.Transaction().add((0,xL.createWithdrawWithheldTokensFromMintInstruction)(a,c,y,g,m));return yield(0,hg.sendAndConfirmTransaction)(o,b,[s,...g],p)})}function rrr(t,e,r,n,i,o,s,a){return kL(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,S=vL.TOKEN_2022_PROGRAM_ID){let[P,U]=(0,hH.getSigners)(m,y),L=new hg.Transaction().add((0,xL.createWithdrawWithheldTokensFromAccountsInstruction)(f,p,P,U,g,S));return yield(0,hg.sendAndConfirmTransaction)(c,L,[d,...U],b)})}function nrr(t,e,r,n,i){return kL(this,arguments,void 0,function*(o,s,a,c,d,f=vL.TOKEN_2022_PROGRAM_ID){let p=new hg.Transaction().add((0,xL.createHarvestWithheldTokensToMintInstruction)(a,c,f));return yield(0,hg.sendAndConfirmTransaction)(o,p,[s],d)})}function irr(t,e,r,n,i,o,s,a){return kL(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,S=vL.TOKEN_2022_PROGRAM_ID){let[P,U]=(0,hH.getSigners)(p,m),L=new hg.Transaction().add((0,xL.createSetTransferFeeInstruction)(f,P,U,y,g,S));return yield(0,hg.sendAndConfirmTransaction)(c,L,[d,...U],b)})}});var O$e=_(wi=>{"use strict";u();l();Object.defineProperty(wi,"__esModule",{value:!0});wi.TRANSFER_FEE_AMOUNT_SIZE=wi.TransferFeeAmountLayout=wi.TRANSFER_FEE_CONFIG_SIZE=wi.TransferFeeConfigLayout=wi.ONE_IN_BASIS_POINTS=wi.MAX_FEE_BASIS_POINTS=void 0;wi.transferFeeLayout=ihe;wi.calculateFee=x$e;wi.getEpochFee=P$e;wi.calculateEpochFee=orr;wi.getTransferFeeConfig=srr;wi.getTransferFeeAmount=arr;var mH=Ce(),Gx=gt(),yH=no();wi.MAX_FEE_BASIS_POINTS=1e4;wi.ONE_IN_BASIS_POINTS=BigInt(wi.MAX_FEE_BASIS_POINTS);function ihe(t){return(0,mH.struct)([(0,Gx.u64)("epoch"),(0,Gx.u64)("maximumFee"),(0,mH.u16)("transferFeeBasisPoints")],t)}function x$e(t,e){let r=t.transferFeeBasisPoints;if(r===0||e===BigInt(0))return BigInt(0);{let i=(e*BigInt(r)+wi.ONE_IN_BASIS_POINTS-BigInt(1))/wi.ONE_IN_BASIS_POINTS,o=i>t.maximumFee?t.maximumFee:i;return BigInt(o)}}wi.TransferFeeConfigLayout=(0,mH.struct)([(0,Gx.publicKey)("transferFeeConfigAuthority"),(0,Gx.publicKey)("withdrawWithheldAuthority"),(0,Gx.u64)("withheldAmount"),ihe("olderTransferFee"),ihe("newerTransferFee")]);wi.TRANSFER_FEE_CONFIG_SIZE=wi.TransferFeeConfigLayout.span;function P$e(t,e){return e>=t.newerTransferFee.epoch?t.newerTransferFee:t.olderTransferFee}function orr(t,e,r){let n=P$e(t,e);return x$e(n,r)}wi.TransferFeeAmountLayout=(0,mH.struct)([(0,Gx.u64)("withheldAmount")]);wi.TRANSFER_FEE_AMOUNT_SIZE=wi.TransferFeeAmountLayout.span;function srr(t){let e=(0,yH.getExtensionData)(yH.ExtensionType.TransferFeeConfig,t.tlvData);return e!==null?wi.TransferFeeConfigLayout.decode(e):null}function arr(t){let e=(0,yH.getExtensionData)(yH.ExtensionType.TransferFeeAmount,t.tlvData);return e!==null?wi.TransferFeeAmountLayout.decode(e):null}});var she=_(h0=>{"use strict";u();l();var crr=h0&&h0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ohe=h0&&h0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&crr(e,t,r)};Object.defineProperty(h0,"__esModule",{value:!0});ohe(v$e(),h0);ohe(pH(),h0);ohe(O$e(),h0)});var PL=_(Nh=>{"use strict";u();l();Object.defineProperty(Nh,"__esModule",{value:!0});Nh.transferCheckedInstructionData=void 0;Nh.createTransferCheckedInstruction=frr;Nh.decodeTransferCheckedInstruction=prr;Nh.decodeTransferCheckedInstructionUnchecked=B$e;var ahe=Ce(),urr=gt(),lrr=Ne(),R$e=Je(),gH=tr(),drr=Ui(),C$e=br();Nh.transferCheckedInstructionData=(0,ahe.struct)([(0,ahe.u8)("instruction"),(0,urr.u64)("amount"),(0,ahe.u8)("decimals")]);function frr(t,e,r,n,i,o,s=[],a=R$e.TOKEN_PROGRAM_ID){let c=(0,drr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}],n,s),d=Buffer.alloc(Nh.transferCheckedInstructionData.span);return Nh.transferCheckedInstructionData.encode({instruction:C$e.TokenInstruction.TransferChecked,amount:BigInt(i),decimals:o},d),new lrr.TransactionInstruction({keys:c,programId:a,data:d})}function prr(t,e=R$e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new gH.TokenInvalidInstructionProgramError;if(t.data.length!==Nh.transferCheckedInstructionData.span)throw new gH.TokenInvalidInstructionDataError;let{keys:{source:r,mint:n,destination:i,owner:o,multiSigners:s},data:a}=B$e(t);if(a.instruction!==C$e.TokenInstruction.TransferChecked)throw new gH.TokenInvalidInstructionTypeError;if(!r||!n||!i||!o)throw new gH.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:r,mint:n,destination:i,owner:o,multiSigners:s},data:a}}function B$e({programId:t,keys:[e,r,n,i,...o],data:s}){return{programId:t,keys:{source:e,mint:r,destination:n,owner:i,multiSigners:o},data:Nh.transferCheckedInstructionData.decode(s)}}});var uhe=_(OL=>{"use strict";u();l();var che=OL&&OL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(OL,"__esModule",{value:!0});OL.unpackSeeds=krr;var Dh=tr(),bH=1,hrr=1,mrr=1,yrr=1,grr=1,brr=1,_rr=1,Srr=1;function wrr(t){if(t.length<1)throw new Dh.TokenTransferHookInvalidSeed;let[e,...r]=t;if(r.length<e)throw new Dh.TokenTransferHookInvalidSeed;return{data:Buffer.from(r.slice(0,e)),packedLength:bH+hrr+e}}function Arr(t,e){if(t.length<2)throw new Dh.TokenTransferHookInvalidSeed;let[r,n]=t;if(e.length<n+r)throw new Dh.TokenTransferHookInvalidSeed;return{data:e.subarray(r,r+n),packedLength:bH+mrr+yrr}}function Err(t,e){if(t.length<1)throw new Dh.TokenTransferHookInvalidSeed;let[r]=t;if(e.length<=r)throw new Dh.TokenTransferHookInvalidSeed;return{data:e[r].pubkey.toBuffer(),packedLength:bH+grr}}function Irr(t,e,r){return che(this,void 0,void 0,function*(){if(t.length<3)throw new Dh.TokenTransferHookInvalidSeed;let[n,i,o]=t;if(e.length<=n)throw new Dh.TokenTransferHookInvalidSeed;let s=yield r.getAccountInfo(e[n].pubkey);if(s==null)throw new Dh.TokenTransferHookAccountDataNotFound;if(s.data.length<i+o)throw new Dh.TokenTransferHookInvalidSeed;return{data:s.data.subarray(i,i+o),packedLength:bH+brr+_rr+Srr}})}function Trr(t,e,r,n){return che(this,void 0,void 0,function*(){let[i,...o]=t,s=new Uint8Array(o);switch(i){case 0:return null;case 1:return wrr(s);case 2:return Arr(s,r);case 3:return Err(s,e);case 4:return Irr(s,e,n);default:throw new Dh.TokenTransferHookInvalidSeed}})}function krr(t,e,r,n){return che(this,void 0,void 0,function*(){let i=[],o=0;for(;o<32;){let s=yield Trr(t.slice(o),e,r,n);if(s==null)break;i.push(s.data),o+=s.packedLength}return i})}});var lhe=_(RL=>{"use strict";u();l();var M$e=RL&&RL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(RL,"__esModule",{value:!0});RL.unpackPubkeyData=vrr;var Hx=Ne(),sI=tr();function vrr(t,e,r,n){return M$e(this,void 0,void 0,function*(){let[i,...o]=t,s=new Uint8Array(o);switch(i){case 1:return xrr(s,r);case 2:return Prr(s,e,n);default:throw new sI.TokenTransferHookInvalidPubkeyData}})}function xrr(t,e){if(t.length<1)throw new sI.TokenTransferHookInvalidPubkeyData;let r=t[0];if(e.length<r+Hx.PUBLIC_KEY_LENGTH)throw new sI.TokenTransferHookPubkeyDataTooSmall;return new Hx.PublicKey(e.subarray(r,r+Hx.PUBLIC_KEY_LENGTH))}function Prr(t,e,r){return M$e(this,void 0,void 0,function*(){if(t.length<2)throw new sI.TokenTransferHookInvalidPubkeyData;let[n,i]=t;if(e.length<=n)throw new sI.TokenTransferHookAccountDataNotFound;let o=yield r.getAccountInfo(e[n].pubkey);if(o==null)throw new sI.TokenTransferHookAccountNotFound;if(o.data.length<i+Hx.PUBLIC_KEY_LENGTH)throw new sI.TokenTransferHookPubkeyDataTooSmall;return new Hx.PublicKey(o.data.subarray(i,i+Hx.PUBLIC_KEY_LENGTH))})}});var dhe=_(Un=>{"use strict";u();l();var Orr=Un&&Un.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Un,"__esModule",{value:!0});Un.ExtraAccountMetaAccountDataLayout=Un.ExtraAccountMetaListLayout=Un.ExtraAccountMetaLayout=Un.TRANSFER_HOOK_ACCOUNT_SIZE=Un.TransferHookAccountLayout=Un.TRANSFER_HOOK_SIZE=Un.TransferHookLayout=void 0;Un.getTransferHook=Mrr;Un.getTransferHookAccount=Nrr;Un.getExtraAccountMetaAddress=Drr;Un.getExtraAccountMetas=Urr;Un.resolveExtraAccountMeta=Lrr;var Uh=Ce(),SH=no(),_H=Ne(),$x=gt(),Rrr=tr(),Crr=uhe(),Brr=lhe();Un.TransferHookLayout=(0,Uh.struct)([(0,$x.publicKey)("authority"),(0,$x.publicKey)("programId")]);Un.TRANSFER_HOOK_SIZE=Un.TransferHookLayout.span;function Mrr(t){let e=(0,SH.getExtensionData)(SH.ExtensionType.TransferHook,t.tlvData);return e!==null?Un.TransferHookLayout.decode(e):null}Un.TransferHookAccountLayout=(0,Uh.struct)([(0,$x.bool)("transferring")]);Un.TRANSFER_HOOK_ACCOUNT_SIZE=Un.TransferHookAccountLayout.span;function Nrr(t){let e=(0,SH.getExtensionData)(SH.ExtensionType.TransferHookAccount,t.tlvData);return e!==null?Un.TransferHookAccountLayout.decode(e):null}function Drr(t,e){let r=[Buffer.from("extra-account-metas"),t.toBuffer()];return _H.PublicKey.findProgramAddressSync(r,e)[0]}Un.ExtraAccountMetaLayout=(0,Uh.struct)([(0,Uh.u8)("discriminator"),(0,Uh.blob)(32,"addressConfig"),(0,$x.bool)("isSigner"),(0,$x.bool)("isWritable")]);Un.ExtraAccountMetaListLayout=(0,Uh.struct)([(0,Uh.u32)("count"),(0,Uh.seq)(Un.ExtraAccountMetaLayout,(0,Uh.greedy)(Un.ExtraAccountMetaLayout.span),"extraAccounts")]);Un.ExtraAccountMetaAccountDataLayout=(0,Uh.struct)([(0,$x.u64)("instructionDiscriminator"),(0,Uh.u32)("length"),Un.ExtraAccountMetaListLayout.replicate("extraAccountsList")]);function Urr(t){let e=Un.ExtraAccountMetaAccountDataLayout.decode(t.data).extraAccountsList;return e.extraAccounts.slice(0,e.count)}function Lrr(t,e,r,n,i){return Orr(this,void 0,void 0,function*(){if(e.discriminator===0)return{pubkey:new _H.PublicKey(e.addressConfig),isSigner:e.isSigner,isWritable:e.isWritable};if(e.discriminator===2)return{pubkey:yield(0,Brr.unpackPubkeyData)(e.addressConfig,r,n,t),isSigner:e.isSigner,isWritable:e.isWritable};let o=_H.PublicKey.default;if(e.discriminator===1)o=i;else{let c=e.discriminator-128;if(r.length<=c)throw new Rrr.TokenTransferHookAccountNotFound;o=r[c].pubkey}let s=yield(0,Crr.unpackSeeds)(e.addressConfig,r,n,t);return{pubkey:_H.PublicKey.findProgramAddressSync(s,o)[0],isSigner:e.isSigner,isWritable:e.isWritable}})}});var yhe=_(Ss=>{"use strict";u();l();var phe=Ss&&Ss.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.updateTransferHookInstructionData=Ss.initializeTransferHookInstructionData=Ss.TransferHookInstruction=void 0;Ss.createInitializeTransferHookInstruction=jrr;Ss.createUpdateTransferHookInstruction=Krr;Ss.createExecuteInstruction=L$e;Ss.addExtraAccountMetasForExecute=mhe;Ss.createTransferCheckedWithTransferHookInstruction=Vrr;Ss.createTransferCheckedWithFeeAndTransferHookInstruction=Grr;var Yx=Ce(),hhe=Ne(),BL=Je(),N$e=tr(),zrr=Ui(),D$e=br(),fhe=gt(),Frr=PL(),qrr=pH(),U$e=md(),CL=dhe(),wH;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(wH||(Ss.TransferHookInstruction=wH={}));Ss.initializeTransferHookInstructionData=(0,Yx.struct)([(0,Yx.u8)("instruction"),(0,Yx.u8)("transferHookInstruction"),(0,fhe.publicKey)("authority"),(0,fhe.publicKey)("transferHookProgramId")]);function jrr(t,e,r,n){if(!(0,BL.programSupportsExtensions)(n))throw new N$e.TokenUnsupportedInstructionError;let i=[{pubkey:t,isSigner:!1,isWritable:!0}],o=Buffer.alloc(Ss.initializeTransferHookInstructionData.span);return Ss.initializeTransferHookInstructionData.encode({instruction:D$e.TokenInstruction.TransferHookExtension,transferHookInstruction:wH.Initialize,authority:e,transferHookProgramId:r},o),new hhe.TransactionInstruction({keys:i,programId:n,data:o})}Ss.updateTransferHookInstructionData=(0,Yx.struct)([(0,Yx.u8)("instruction"),(0,Yx.u8)("transferHookInstruction"),(0,fhe.publicKey)("transferHookProgramId")]);function Krr(t,e,r,n=[],i=BL.TOKEN_2022_PROGRAM_ID){if(!(0,BL.programSupportsExtensions)(i))throw new N$e.TokenUnsupportedInstructionError;let o=(0,zrr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,n),s=Buffer.alloc(Ss.updateTransferHookInstructionData.span);return Ss.updateTransferHookInstructionData.encode({instruction:D$e.TokenInstruction.TransferHookExtension,transferHookInstruction:wH.Update,transferHookProgramId:r},s),new hhe.TransactionInstruction({keys:o,programId:i,data:s})}function Wrr(t,e){let r=e.filter(n=>n.pubkey.equals(t.pubkey)).reduce((n,i)=>n?{isSigner:n.isSigner||i.isSigner,isWritable:n.isWritable||i.isWritable}:{isSigner:i.isSigner,isWritable:i.isWritable},void 0);if(r){let{isSigner:n,isWritable:i}=r;!n&&n!==t.isSigner&&(t.isSigner=!1),!i&&i!==t.isWritable&&(t.isWritable=!1)}return t}function L$e(t,e,r,n,i,o,s){let a=[e,r,n,i,o].map(d=>({pubkey:d,isSigner:!1,isWritable:!1})),c=Buffer.alloc(16);return c.set(Buffer.from([105,37,101,197,75,251,102,26]),0),c.writeBigUInt64LE(BigInt(s),8),new hhe.TransactionInstruction({keys:a,programId:t,data:c})}function mhe(t,e,r,n,i,o,s,a,c){return phe(this,void 0,void 0,function*(){let d=(0,CL.getExtraAccountMetaAddress)(i,r),f=yield t.getAccountInfo(d,c);if(f==null)return e;let p=(0,CL.getExtraAccountMetas)(f);if(![n,i,o,s].every(y=>e.keys.some(g=>g.pubkey.equals(y))))throw new Error("Missing required account in instruction");let m=L$e(r,n,i,o,s,d,BigInt(a));for(let y of p)m.keys.push(Wrr(yield(0,CL.resolveExtraAccountMeta)(t,y,m.keys,m.data,m.programId),m.keys));e.keys.push(...m.keys.slice(5)),e.keys.push({pubkey:r,isSigner:!1,isWritable:!1}),e.keys.push({pubkey:d,isSigner:!1,isWritable:!1})})}function Vrr(t,e,r,n,i,o,s){return phe(this,arguments,void 0,function*(a,c,d,f,p,m,y,g=[],b,S=BL.TOKEN_PROGRAM_ID){let P=(0,Frr.createTransferCheckedInstruction)(c,d,f,p,m,y,g,S),U=yield(0,U$e.getMint)(a,d,b,S),L=(0,CL.getTransferHook)(U);return L&&(yield mhe(a,P,L.programId,c,d,f,p,m,b)),P})}function Grr(t,e,r,n,i,o,s,a){return phe(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,S=[],P,U=BL.TOKEN_PROGRAM_ID){let L=(0,qrr.createTransferCheckedWithFeeInstruction)(d,f,p,m,y,g,b,S,U),j=yield(0,U$e.getMint)(c,f,P,U),Z=(0,CL.getTransferHook)(j);return Z&&(yield mhe(c,L,Z.programId,d,f,p,m,y,P)),L})}});var z$e=_(ow=>{"use strict";u();l();var AH=ow&&ow.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ow,"__esModule",{value:!0});ow.initializeTransferHook=Hrr;ow.updateTransferHook=$rr;ow.transferCheckedWithTransferHook=Yrr;ow.transferCheckedWithFeeAndTransferHook=Xrr;var iw=Ne(),ghe=io(),EH=Je(),IH=yhe();function Hrr(t,e,r,n,i,o){return AH(this,arguments,void 0,function*(s,a,c,d,f,p,m=EH.TOKEN_2022_PROGRAM_ID){let y=new iw.Transaction().add((0,IH.createInitializeTransferHookInstruction)(c,d,f,m));return yield(0,iw.sendAndConfirmTransaction)(s,y,[a],p)})}function $rr(t,e,r,n,i){return AH(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=EH.TOKEN_2022_PROGRAM_ID){let[y,g]=(0,ghe.getSigners)(d,f),b=new iw.Transaction().add((0,IH.createUpdateTransferHookInstruction)(a,y,c,g,m));return yield(0,iw.sendAndConfirmTransaction)(o,b,[s,...g],p)})}function Yrr(t,e,r,n,i,o,s,a){return AH(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,S=[],P,U=EH.TOKEN_PROGRAM_ID){let[L,j]=(0,ghe.getSigners)(y,S),Z=new iw.Transaction().add(yield(0,IH.createTransferCheckedWithTransferHookInstruction)(c,f,p,m,L,g,b,j,P?.commitment,U));return yield(0,iw.sendAndConfirmTransaction)(c,Z,[d,...j],P)})}function Xrr(t,e,r,n,i,o,s,a,c){return AH(this,arguments,void 0,function*(d,f,p,m,y,g,b,S,P,U=[],L,j=EH.TOKEN_PROGRAM_ID){let[Z,se]=(0,ghe.getSigners)(g,U),Ee=new iw.Transaction().add(yield(0,IH.createTransferCheckedWithFeeAndTransferHookInstruction)(d,p,m,y,Z,b,S,P,se,L?.commitment,j));return yield(0,iw.sendAndConfirmTransaction)(d,Ee,[f,...se],L)})}});var bhe=_(Lh=>{"use strict";u();l();var Zrr=Lh&&Lh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ML=Lh&&Lh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Zrr(e,t,r)};Object.defineProperty(Lh,"__esModule",{value:!0});ML(z$e(),Lh);ML(yhe(),Lh);ML(uhe(),Lh);ML(dhe(),Lh);ML(lhe(),Lh)});var no=_(go=>{"use strict";u();l();Object.defineProperty(go,"__esModule",{value:!0});go.LENGTH_SIZE=go.TYPE_SIZE=go.ExtensionType=void 0;go.getTypeLen=H$e;go.isMintExtension=pnr;go.isAccountExtension=hnr;go.getAccountTypeOfMintType=$$e;go.getMintLen=mnr;go.getAccountLen=X$e;go.getExtensionData=Z$e;go.getExtensionTypes=J$e;go.getAccountLenForMint=ynr;go.getNewAccountLenForExtensionLen=gnr;var V$e=xx(),G$e=md(),Jrr=vx(),Qrr=pL(),enr=xfe(),tnr=Rfe(),F$e=Mpe(),rnr=Npe(),nnr=Dpe(),inr=Upe(),onr=tH(),snr=jpe(),anr=Kpe(),cnr=Wpe(),q$e=Vpe(),j$e=Xpe(),unr=Zpe(),lnr=rhe(),K$e=she(),W$e=bhe(),dnr=Je(),De;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.TransferFeeConfig=1]="TransferFeeConfig",t[t.TransferFeeAmount=2]="TransferFeeAmount",t[t.MintCloseAuthority=3]="MintCloseAuthority",t[t.ConfidentialTransferMint=4]="ConfidentialTransferMint",t[t.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",t[t.DefaultAccountState=6]="DefaultAccountState",t[t.ImmutableOwner=7]="ImmutableOwner",t[t.MemoTransfer=8]="MemoTransfer",t[t.NonTransferable=9]="NonTransferable",t[t.InterestBearingConfig=10]="InterestBearingConfig",t[t.CpiGuard=11]="CpiGuard",t[t.PermanentDelegate=12]="PermanentDelegate",t[t.NonTransferableAccount=13]="NonTransferableAccount",t[t.TransferHook=14]="TransferHook",t[t.TransferHookAccount=15]="TransferHookAccount",t[t.MetadataPointer=18]="MetadataPointer",t[t.TokenMetadata=19]="TokenMetadata",t[t.GroupPointer=20]="GroupPointer",t[t.TokenGroup=21]="TokenGroup",t[t.GroupMemberPointer=22]="GroupMemberPointer",t[t.TokenGroupMember=23]="TokenGroupMember",t[t.ScaledUiAmountConfig=25]="ScaledUiAmountConfig",t[t.PausableConfig=26]="PausableConfig",t[t.PausableAccount=27]="PausableAccount"})(De||(go.ExtensionType=De={}));go.TYPE_SIZE=2;go.LENGTH_SIZE=2;function aI(t){return t+go.TYPE_SIZE+go.LENGTH_SIZE}function fnr(t){switch(t){case De.TokenMetadata:return!0;default:return!1}}function H$e(t){switch(t){case De.Uninitialized:return 0;case De.TransferFeeConfig:return K$e.TRANSFER_FEE_CONFIG_SIZE;case De.TransferFeeAmount:return K$e.TRANSFER_FEE_AMOUNT_SIZE;case De.MintCloseAuthority:return cnr.MINT_CLOSE_AUTHORITY_SIZE;case De.ConfidentialTransferMint:return 65;case De.ConfidentialTransferAccount:return 295;case De.CpiGuard:return enr.CPI_GUARD_SIZE;case De.DefaultAccountState:return tnr.DEFAULT_ACCOUNT_STATE_SIZE;case De.ImmutableOwner:return inr.IMMUTABLE_OWNER_SIZE;case De.MemoTransfer:return snr.MEMO_TRANSFER_SIZE;case De.MetadataPointer:return anr.METADATA_POINTER_SIZE;case De.NonTransferable:return q$e.NON_TRANSFERABLE_SIZE;case De.InterestBearingConfig:return onr.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE;case De.PermanentDelegate:return unr.PERMANENT_DELEGATE_SIZE;case De.NonTransferableAccount:return q$e.NON_TRANSFERABLE_ACCOUNT_SIZE;case De.TransferHook:return W$e.TRANSFER_HOOK_SIZE;case De.TransferHookAccount:return W$e.TRANSFER_HOOK_ACCOUNT_SIZE;case De.GroupPointer:return nnr.GROUP_POINTER_SIZE;case De.GroupMemberPointer:return rnr.GROUP_MEMBER_POINTER_SIZE;case De.TokenGroup:return F$e.TOKEN_GROUP_SIZE;case De.TokenGroupMember:return F$e.TOKEN_GROUP_MEMBER_SIZE;case De.ScaledUiAmountConfig:return lnr.SCALED_UI_AMOUNT_CONFIG_SIZE;case De.PausableConfig:return j$e.PAUSABLE_CONFIG_SIZE;case De.PausableAccount:return j$e.PAUSABLE_ACCOUNT_SIZE;case De.TokenMetadata:throw Error(`Cannot get type length for variable extension type: ${t}`);default:throw Error(`Unknown extension type: ${t}`)}}function pnr(t){switch(t){case De.TransferFeeConfig:case De.MintCloseAuthority:case De.ConfidentialTransferMint:case De.DefaultAccountState:case De.NonTransferable:case De.InterestBearingConfig:case De.PermanentDelegate:case De.TransferHook:case De.MetadataPointer:case De.TokenMetadata:case De.GroupPointer:case De.GroupMemberPointer:case De.TokenGroup:case De.TokenGroupMember:case De.ScaledUiAmountConfig:case De.PausableConfig:return!0;case De.Uninitialized:case De.TransferFeeAmount:case De.ConfidentialTransferAccount:case De.ImmutableOwner:case De.MemoTransfer:case De.CpiGuard:case De.NonTransferableAccount:case De.TransferHookAccount:case De.PausableAccount:return!1;default:throw Error(`Unknown extension type: ${t}`)}}function hnr(t){switch(t){case De.TransferFeeAmount:case De.ConfidentialTransferAccount:case De.ImmutableOwner:case De.MemoTransfer:case De.CpiGuard:case De.NonTransferableAccount:case De.TransferHookAccount:case De.PausableAccount:return!0;case De.Uninitialized:case De.TransferFeeConfig:case De.MintCloseAuthority:case De.ConfidentialTransferMint:case De.DefaultAccountState:case De.NonTransferable:case De.InterestBearingConfig:case De.PermanentDelegate:case De.TransferHook:case De.MetadataPointer:case De.TokenMetadata:case De.GroupPointer:case De.GroupMemberPointer:case De.TokenGroup:case De.TokenGroupMember:case De.ScaledUiAmountConfig:case De.PausableConfig:return!1;default:throw Error(`Unknown extension type: ${t}`)}}function $$e(t){switch(t){case De.TransferFeeConfig:return De.TransferFeeAmount;case De.ConfidentialTransferMint:return De.ConfidentialTransferAccount;case De.NonTransferable:return De.NonTransferableAccount;case De.TransferHook:return De.TransferHookAccount;case De.PausableConfig:return De.PausableAccount;case De.TransferFeeAmount:case De.ConfidentialTransferAccount:case De.CpiGuard:case De.DefaultAccountState:case De.ImmutableOwner:case De.MemoTransfer:case De.MintCloseAuthority:case De.MetadataPointer:case De.TokenMetadata:case De.Uninitialized:case De.InterestBearingConfig:case De.PermanentDelegate:case De.NonTransferableAccount:case De.TransferHookAccount:case De.GroupPointer:case De.GroupMemberPointer:case De.TokenGroup:case De.TokenGroupMember:case De.ScaledUiAmountConfig:case De.PausableAccount:return De.Uninitialized}}function Y$e(t,e,r={}){if(t.length===0&&Object.keys(r).length===0)return e;{let n=V$e.ACCOUNT_SIZE+Qrr.ACCOUNT_TYPE_SIZE+t.filter((i,o)=>o===t.indexOf(i)).map(i=>aI(H$e(i))).reduce((i,o)=>i+o,0)+Object.entries(r).map(([i,o])=>{if(!fnr(Number(i)))throw Error(`Extension ${i} is not variable length`);return aI(o)}).reduce((i,o)=>i+o,0);return n===Jrr.MULTISIG_SIZE?n+go.TYPE_SIZE:n}}function mnr(t,e={}){return Y$e(t,G$e.MINT_SIZE,e)}function X$e(t){return Y$e(t,V$e.ACCOUNT_SIZE)}function Z$e(t,e){let r=0;for(;aI(r)<=e.length;){let n=e.readUInt16LE(r),i=e.readUInt16LE(r+go.TYPE_SIZE),o=aI(r);if(n==t)return e.slice(o,o+i);r=o+i}return null}function J$e(t){let e=[],r=0;for(;r<t.length;){let n=t.readUInt16LE(r);e.push(n);let i=t.readUInt16LE(r+go.TYPE_SIZE);r+=aI(i)}return e}function ynr(t){let r=J$e(t.tlvData).map($$e);return X$e(r)}function gnr(t,e,r,n,i=dnr.TOKEN_2022_PROGRAM_ID){let o=(0,G$e.unpackMint)(e,t,i),s=Z$e(r,o.tlvData),a=s?aI(s.length):0,c=aI(n);return t.data.length+c-a}});var md=_(Ns=>{"use strict";u();l();var xH=Ns&&Ns.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.MINT_SIZE=Ns.MintLayout=void 0;Ns.getMint=Snr;Ns.unpackMint=e9e;Ns.getMinimumBalanceForRentExemptMint=wnr;Ns.getMinimumBalanceForRentExemptMintWithExtensions=t9e;Ns.getAssociatedTokenAddress=Anr;Ns.getAssociatedTokenAddressSync=Enr;var TH=Ce(),kH=gt(),vH=Ne(),Xx=Je(),sw=tr(),Q$e=pL(),bnr=no(),_he=xx(),_nr=vx();Ns.MintLayout=(0,TH.struct)([(0,TH.u32)("mintAuthorityOption"),(0,kH.publicKey)("mintAuthority"),(0,kH.u64)("supply"),(0,TH.u8)("decimals"),(0,kH.bool)("isInitialized"),(0,TH.u32)("freezeAuthorityOption"),(0,kH.publicKey)("freezeAuthority")]);Ns.MINT_SIZE=Ns.MintLayout.span;function Snr(t,e,r){return xH(this,arguments,void 0,function*(n,i,o,s=Xx.TOKEN_PROGRAM_ID){let a=yield n.getAccountInfo(i,o);return e9e(i,a,s)})}function e9e(t,e,r=Xx.TOKEN_PROGRAM_ID){if(!e)throw new sw.TokenAccountNotFoundError;if(!e.owner.equals(r))throw new sw.TokenInvalidAccountOwnerError;if(e.data.length<Ns.MINT_SIZE)throw new sw.TokenInvalidAccountSizeError;let n=Ns.MintLayout.decode(e.data.slice(0,Ns.MINT_SIZE)),i=Buffer.alloc(0);if(e.data.length>Ns.MINT_SIZE){if(e.data.length<=_he.ACCOUNT_SIZE)throw new sw.TokenInvalidAccountSizeError;if(e.data.length===_nr.MULTISIG_SIZE)throw new sw.TokenInvalidAccountSizeError;if(e.data[_he.ACCOUNT_SIZE]!=Q$e.AccountType.Mint)throw new sw.TokenInvalidMintError;i=e.data.slice(_he.ACCOUNT_SIZE+Q$e.ACCOUNT_TYPE_SIZE)}return{address:t,mintAuthority:n.mintAuthorityOption?n.mintAuthority:null,supply:n.supply,decimals:n.decimals,isInitialized:n.isInitialized,freezeAuthority:n.freezeAuthorityOption?n.freezeAuthority:null,tlvData:i}}function wnr(t,e){return xH(this,void 0,void 0,function*(){return yield t9e(t,[],e)})}function t9e(t,e,r){return xH(this,void 0,void 0,function*(){let n=(0,bnr.getMintLen)(e);return yield t.getMinimumBalanceForRentExemption(n,r)})}function Anr(t,e){return xH(this,arguments,void 0,function*(r,n,i=!1,o=Xx.TOKEN_PROGRAM_ID,s=Xx.ASSOCIATED_TOKEN_PROGRAM_ID){if(!i&&!vH.PublicKey.isOnCurve(n.toBuffer()))throw new sw.TokenOwnerOffCurveError;let[a]=yield vH.PublicKey.findProgramAddress([n.toBuffer(),o.toBuffer(),r.toBuffer()],s);return a})}function Enr(t,e,r=!1,n=Xx.TOKEN_PROGRAM_ID,i=Xx.ASSOCIATED_TOKEN_PROGRAM_ID){if(!r&&!vH.PublicKey.isOnCurve(e.toBuffer()))throw new sw.TokenOwnerOffCurveError;let[o]=vH.PublicKey.findProgramAddressSync([e.toBuffer(),n.toBuffer(),t.toBuffer()],i);return o}});var c9e=_(m0=>{"use strict";u();l();var OH=m0&&m0.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(m0,"__esModule",{value:!0});m0.amountToUiAmount=Tnr;m0.amountToUiAmountWithoutSimulation=s9e;m0.amountToUiAmountForMintWithoutSimulation=knr;m0.uiAmountToAmountWithoutSimulation=a9e;m0.uiAmountToAmountForMintWithoutSimulation=vnr;var r9e=Ne(),NL=Je(),Inr=vG(),n9e=md(),i9e=tH();function Tnr(t,e,r,n){return OH(this,arguments,void 0,function*(i,o,s,a,c=NL.TOKEN_PROGRAM_ID){let d=new r9e.Transaction().add((0,Inr.createAmountToUiAmountInstruction)(s,a,c)),{returnData:f,err:p}=(yield i.simulateTransaction(d,[o],!1)).value;return f?.data?Buffer.from(f.data[0],f.data[1]).toString("utf-8"):p})}function PH(t,e,r){let o=e-t,a=r*o/(31556736*1e4);return Math.exp(a)}function o9e(t){return OH(this,void 0,void 0,function*(){let e=yield t.getParsedAccountInfo(new r9e.PublicKey("SysvarC1ock11111111111111111111111111111111"));if(!e)throw new Error("Failed to fetch sysvar clock");if(typeof e.value=="object"&&e.value&&"data"in e.value&&"parsed"in e.value.data)return e.value.data.parsed.info.unixTimestamp;throw new Error("Failed to parse sysvar clock")})}function s9e(t,e,r,n,i,o,s){let a=PH(i,n,o),c=PH(n,r,s),d=a*c,f=Number(t)*d,p=Math.pow(10,e);return(Math.trunc(f)/p).toString()}function knr(t,e,r){return OH(this,void 0,void 0,function*(){let n=yield t.getAccountInfo(e),i=n?.owner;if(i!==NL.TOKEN_PROGRAM_ID&&i!==NL.TOKEN_2022_PROGRAM_ID)throw new Error("Invalid program ID");let o=(0,n9e.unpackMint)(e,n,i),s=(0,i9e.getInterestBearingMintConfigState)(o);if(!s){let c=Number(r),d=Math.pow(10,o.decimals);return(c/d).toString()}let a=yield o9e(t);return s9e(r,o.decimals,a,Number(s.lastUpdateTimestamp),Number(s.initializationTimestamp),s.preUpdateAverageRate,s.currentRate)})}function a9e(t,e,r,n,i,o,s){let a=parseFloat(t),c=Math.pow(10,e),d=a*c,f=PH(i,n,o),p=PH(n,r,s),m=f*p,y=d/m;return BigInt(Math.trunc(y))}function vnr(t,e,r){return OH(this,void 0,void 0,function*(){let n=yield t.getAccountInfo(e),i=n?.owner;if(i!==NL.TOKEN_PROGRAM_ID&&i!==NL.TOKEN_2022_PROGRAM_ID)throw new Error("Invalid program ID");let o=(0,n9e.unpackMint)(e,n,i),s=(0,i9e.getInterestBearingMintConfigState)(o);if(!s){let c=parseFloat(r)*Math.pow(10,o.decimals);return BigInt(Math.trunc(c))}let a=yield o9e(t);return a9e(r,o.decimals,a,Number(s.lastUpdateTimestamp),Number(s.initializationTimestamp),s.preUpdateAverageRate,s.currentRate)})}});var CH=_(zh=>{"use strict";u();l();Object.defineProperty(zh,"__esModule",{value:!0});zh.approveInstructionData=void 0;zh.createApproveInstruction=Rnr;zh.decodeApproveInstruction=Cnr;zh.decodeApproveInstructionUnchecked=f9e;var u9e=Ce(),xnr=gt(),Pnr=Ne(),l9e=Je(),RH=tr(),Onr=Ui(),d9e=br();zh.approveInstructionData=(0,u9e.struct)([(0,u9e.u8)("instruction"),(0,xnr.u64)("amount")]);function Rnr(t,e,r,n,i=[],o=l9e.TOKEN_PROGRAM_ID){let s=(0,Onr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],r,i),a=Buffer.alloc(zh.approveInstructionData.span);return zh.approveInstructionData.encode({instruction:d9e.TokenInstruction.Approve,amount:BigInt(n)},a),new Pnr.TransactionInstruction({keys:s,programId:o,data:a})}function Cnr(t,e=l9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new RH.TokenInvalidInstructionProgramError;if(t.data.length!==zh.approveInstructionData.span)throw new RH.TokenInvalidInstructionDataError;let{keys:{account:r,delegate:n,owner:i,multiSigners:o},data:s}=f9e(t);if(s.instruction!==d9e.TokenInstruction.Approve)throw new RH.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new RH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,delegate:n,owner:i,multiSigners:o},data:s}}function f9e({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,delegate:r,owner:n,multiSigners:i},data:zh.approveInstructionData.decode(o)}}});var h9e=_(DL=>{"use strict";u();l();var Bnr=DL&&DL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(DL,"__esModule",{value:!0});DL.approve=Unr;var p9e=Ne(),Mnr=Je(),Nnr=CH(),Dnr=io();function Unr(t,e,r,n,i,o){return Bnr(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=Mnr.TOKEN_PROGRAM_ID){let[b,S]=(0,Dnr.getSigners)(f,m),P=new p9e.Transaction().add((0,Nnr.createApproveInstruction)(c,d,b,p,m,g));return yield(0,p9e.sendAndConfirmTransaction)(s,P,[a,...S],y)})}});var MH=_(Fh=>{"use strict";u();l();Object.defineProperty(Fh,"__esModule",{value:!0});Fh.approveCheckedInstructionData=void 0;Fh.createApproveCheckedInstruction=qnr;Fh.decodeApproveCheckedInstruction=jnr;Fh.decodeApproveCheckedInstructionUnchecked=g9e;var She=Ce(),Lnr=gt(),znr=Ne(),m9e=Je(),BH=tr(),Fnr=Ui(),y9e=br();Fh.approveCheckedInstructionData=(0,She.struct)([(0,She.u8)("instruction"),(0,Lnr.u64)("amount"),(0,She.u8)("decimals")]);function qnr(t,e,r,n,i,o,s=[],a=m9e.TOKEN_PROGRAM_ID){let c=(0,Fnr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1}],n,s),d=Buffer.alloc(Fh.approveCheckedInstructionData.span);return Fh.approveCheckedInstructionData.encode({instruction:y9e.TokenInstruction.ApproveChecked,amount:BigInt(i),decimals:o},d),new znr.TransactionInstruction({keys:c,programId:a,data:d})}function jnr(t,e=m9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new BH.TokenInvalidInstructionProgramError;if(t.data.length!==Fh.approveCheckedInstructionData.span)throw new BH.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,delegate:i,owner:o,multiSigners:s},data:a}=g9e(t);if(a.instruction!==y9e.TokenInstruction.ApproveChecked)throw new BH.TokenInvalidInstructionTypeError;if(!r||!n||!i||!o)throw new BH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,delegate:i,owner:o,multiSigners:s},data:a}}function g9e({programId:t,keys:[e,r,n,i,...o],data:s}){return{programId:t,keys:{account:e,mint:r,delegate:n,owner:i,multiSigners:o},data:Fh.approveCheckedInstructionData.decode(s)}}});var _9e=_(UL=>{"use strict";u();l();var Knr=UL&&UL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(UL,"__esModule",{value:!0});UL.approveChecked=Hnr;var b9e=Ne(),Wnr=Je(),Vnr=MH(),Gnr=io();function Hnr(t,e,r,n,i,o,s,a){return Knr(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,S=[],P,U=Wnr.TOKEN_PROGRAM_ID){let[L,j]=(0,Gnr.getSigners)(y,S),Z=new b9e.Transaction().add((0,Vnr.createApproveCheckedInstruction)(p,f,m,L,g,b,S,U));return yield(0,b9e.sendAndConfirmTransaction)(c,Z,[d,...j],P)})}});var DH=_(qh=>{"use strict";u();l();Object.defineProperty(qh,"__esModule",{value:!0});qh.burnInstructionData=void 0;qh.createBurnInstruction=Znr;qh.decodeBurnInstruction=Jnr;qh.decodeBurnInstructionUnchecked=E9e;var S9e=Ce(),$nr=gt(),Ynr=Ne(),w9e=Je(),NH=tr(),Xnr=Ui(),A9e=br();qh.burnInstructionData=(0,S9e.struct)([(0,S9e.u8)("instruction"),(0,$nr.u64)("amount")]);function Znr(t,e,r,n,i=[],o=w9e.TOKEN_PROGRAM_ID){let s=(0,Xnr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,i),a=Buffer.alloc(qh.burnInstructionData.span);return qh.burnInstructionData.encode({instruction:A9e.TokenInstruction.Burn,amount:BigInt(n)},a),new Ynr.TransactionInstruction({keys:s,programId:o,data:a})}function Jnr(t,e=w9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new NH.TokenInvalidInstructionProgramError;if(t.data.length!==qh.burnInstructionData.span)throw new NH.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}=E9e(t);if(s.instruction!==A9e.TokenInstruction.Burn)throw new NH.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new NH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}}function E9e({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,owner:n,multiSigners:i},data:qh.burnInstructionData.decode(o)}}});var T9e=_(LL=>{"use strict";u();l();var Qnr=LL&&LL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(LL,"__esModule",{value:!0});LL.burn=nir;var I9e=Ne(),eir=Je(),tir=DH(),rir=io();function nir(t,e,r,n,i,o){return Qnr(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=eir.TOKEN_PROGRAM_ID){let[b,S]=(0,rir.getSigners)(f,m),P=new I9e.Transaction().add((0,tir.createBurnInstruction)(c,d,b,p,m,g));return yield(0,I9e.sendAndConfirmTransaction)(s,P,[a,...S],y)})}});var LH=_(jh=>{"use strict";u();l();Object.defineProperty(jh,"__esModule",{value:!0});jh.burnCheckedInstructionData=void 0;jh.createBurnCheckedInstruction=air;jh.decodeBurnCheckedInstruction=cir;jh.decodeBurnCheckedInstructionUnchecked=x9e;var whe=Ce(),iir=gt(),oir=Ne(),k9e=Je(),UH=tr(),sir=Ui(),v9e=br();jh.burnCheckedInstructionData=(0,whe.struct)([(0,whe.u8)("instruction"),(0,iir.u64)("amount"),(0,whe.u8)("decimals")]);function air(t,e,r,n,i,o=[],s=k9e.TOKEN_PROGRAM_ID){let a=(0,sir.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,o),c=Buffer.alloc(jh.burnCheckedInstructionData.span);return jh.burnCheckedInstructionData.encode({instruction:v9e.TokenInstruction.BurnChecked,amount:BigInt(n),decimals:i},c),new oir.TransactionInstruction({keys:a,programId:s,data:c})}function cir(t,e=k9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new UH.TokenInvalidInstructionProgramError;if(t.data.length!==jh.burnCheckedInstructionData.span)throw new UH.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}=x9e(t);if(s.instruction!==v9e.TokenInstruction.BurnChecked)throw new UH.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new UH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,owner:i,multiSigners:o},data:s}}function x9e({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,owner:n,multiSigners:i},data:jh.burnCheckedInstructionData.decode(o)}}});var O9e=_(zL=>{"use strict";u();l();var uir=zL&&zL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(zL,"__esModule",{value:!0});zL.burnChecked=pir;var P9e=Ne(),lir=Je(),dir=LH(),fir=io();function pir(t,e,r,n,i,o,s){return uir(this,arguments,void 0,function*(a,c,d,f,p,m,y,g=[],b,S=lir.TOKEN_PROGRAM_ID){let[P,U]=(0,fir.getSigners)(p,g),L=new P9e.Transaction().add((0,dir.createBurnCheckedInstruction)(d,f,P,m,y,g,S));return yield(0,P9e.sendAndConfirmTransaction)(a,L,[c,...U],b)})}});var FH=_(Kh=>{"use strict";u();l();Object.defineProperty(Kh,"__esModule",{value:!0});Kh.closeAccountInstructionData=void 0;Kh.createCloseAccountInstruction=yir;Kh.decodeCloseAccountInstruction=gir;Kh.decodeCloseAccountInstructionUnchecked=M9e;var R9e=Ce(),hir=Ne(),C9e=Je(),zH=tr(),mir=Ui(),B9e=br();Kh.closeAccountInstructionData=(0,R9e.struct)([(0,R9e.u8)("instruction")]);function yir(t,e,r,n=[],i=C9e.TOKEN_PROGRAM_ID){let o=(0,mir.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,n),s=Buffer.alloc(Kh.closeAccountInstructionData.span);return Kh.closeAccountInstructionData.encode({instruction:B9e.TokenInstruction.CloseAccount},s),new hir.TransactionInstruction({keys:o,programId:i,data:s})}function gir(t,e=C9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new zH.TokenInvalidInstructionProgramError;if(t.data.length!==Kh.closeAccountInstructionData.span)throw new zH.TokenInvalidInstructionDataError;let{keys:{account:r,destination:n,authority:i,multiSigners:o},data:s}=M9e(t);if(s.instruction!==B9e.TokenInstruction.CloseAccount)throw new zH.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new zH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,destination:n,authority:i,multiSigners:o},data:s}}function M9e({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,destination:r,authority:n,multiSigners:i},data:Kh.closeAccountInstructionData.decode(o)}}});var D9e=_(FL=>{"use strict";u();l();var bir=FL&&FL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(FL,"__esModule",{value:!0});FL.closeAccount=Air;var N9e=Ne(),_ir=Je(),Sir=FH(),wir=io();function Air(t,e,r,n,i){return bir(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=_ir.TOKEN_PROGRAM_ID){let[y,g]=(0,wir.getSigners)(d,f),b=new N9e.Transaction().add((0,Sir.createCloseAccountInstruction)(a,c,y,f,m));return yield(0,N9e.sendAndConfirmTransaction)(o,b,[s,...g],p)})}});var qL=_(Wh=>{"use strict";u();l();Object.defineProperty(Wh,"__esModule",{value:!0});Wh.initializeAccountInstructionData=void 0;Wh.createInitializeAccountInstruction=Eir;Wh.decodeInitializeAccountInstruction=Iir;Wh.decodeInitializeAccountInstructionUnchecked=q9e;var U9e=Ce(),L9e=Ne(),z9e=Je(),qH=tr(),F9e=br();Wh.initializeAccountInstructionData=(0,U9e.struct)([(0,U9e.u8)("instruction")]);function Eir(t,e,r,n=z9e.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:L9e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],o=Buffer.alloc(Wh.initializeAccountInstructionData.span);return Wh.initializeAccountInstructionData.encode({instruction:F9e.TokenInstruction.InitializeAccount},o),new L9e.TransactionInstruction({keys:i,programId:n,data:o})}function Iir(t,e=z9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new qH.TokenInvalidInstructionProgramError;if(t.data.length!==Wh.initializeAccountInstructionData.span)throw new qH.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,owner:i,rent:o},data:s}=q9e(t);if(s.instruction!==F9e.TokenInstruction.InitializeAccount)throw new qH.TokenInvalidInstructionTypeError;if(!r||!n||!i||!o)throw new qH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,owner:i,rent:o},data:s}}function q9e({programId:t,keys:[e,r,n,i],data:o}){return{programId:t,keys:{account:e,mint:r,owner:n,rent:i},data:Wh.initializeAccountInstructionData.decode(o)}}});var cI=_(Zx=>{"use strict";u();l();Object.defineProperty(Zx,"__esModule",{value:!0});Zx.createAssociatedTokenAccountInstruction=kir;Zx.createAssociatedTokenAccountIdempotentInstruction=j9e;Zx.createAssociatedTokenAccountIdempotentInstructionWithDerivation=vir;Zx.createRecoverNestedInstruction=xir;var Ahe=Ne(),mg=Je(),Tir=md();function kir(t,e,r,n,i=mg.TOKEN_PROGRAM_ID,o=mg.ASSOCIATED_TOKEN_PROGRAM_ID){return K9e(t,e,r,n,Buffer.alloc(0),i,o)}function j9e(t,e,r,n,i=mg.TOKEN_PROGRAM_ID,o=mg.ASSOCIATED_TOKEN_PROGRAM_ID){return K9e(t,e,r,n,Buffer.from([1]),i,o)}function vir(t,e,r,n=!0,i=mg.TOKEN_PROGRAM_ID,o=mg.ASSOCIATED_TOKEN_PROGRAM_ID){let s=(0,Tir.getAssociatedTokenAddressSync)(r,e,n);return j9e(t,s,e,r,i,o)}function K9e(t,e,r,n,i,o=mg.TOKEN_PROGRAM_ID,s=mg.ASSOCIATED_TOKEN_PROGRAM_ID){let a=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Ahe.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new Ahe.TransactionInstruction({keys:a,programId:s,data:i})}function xir(t,e,r,n,i,o,s=mg.TOKEN_PROGRAM_ID,a=mg.ASSOCIATED_TOKEN_PROGRAM_ID){let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1}];return new Ahe.TransactionInstruction({keys:c,programId:a,data:Buffer.from([2])})}});var Ehe=_(jL=>{"use strict";u();l();var Pir=jL&&jL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(jL,"__esModule",{value:!0});jL.createAssociatedTokenAccount=Cir;var W9e=Ne(),V9e=Je(),Oir=cI(),Rir=md();function Cir(t,e,r,n,i){return Pir(this,arguments,void 0,function*(o,s,a,c,d,f=V9e.TOKEN_PROGRAM_ID,p=V9e.ASSOCIATED_TOKEN_PROGRAM_ID,m=!1){let y=(0,Rir.getAssociatedTokenAddressSync)(a,c,m,f,p),g=new W9e.Transaction().add((0,Oir.createAssociatedTokenAccountInstruction)(s.publicKey,y,c,a,f,p));return yield(0,W9e.sendAndConfirmTransaction)(o,g,[s],d),y})}});var The=_(KL=>{"use strict";u();l();var Bir=KL&&KL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(KL,"__esModule",{value:!0});KL.createAccount=zir;var Ihe=Ne(),Mir=Je(),Nir=no(),Dir=qL(),Uir=md(),Lir=Ehe();function zir(t,e,r,n,i,o){return Bir(this,arguments,void 0,function*(s,a,c,d,f,p,m=Mir.TOKEN_PROGRAM_ID){if(!f)return yield(0,Lir.createAssociatedTokenAccount)(s,a,c,d,p,m);let y=yield(0,Uir.getMint)(s,c,p?.commitment,m),g=(0,Nir.getAccountLenForMint)(y),b=yield s.getMinimumBalanceForRentExemption(g),S=new Ihe.Transaction().add(Ihe.SystemProgram.createAccount({fromPubkey:a.publicKey,newAccountPubkey:f.publicKey,space:g,lamports:b,programId:m}),(0,Dir.createInitializeAccountInstruction)(f.publicKey,c,d,m));return yield(0,Ihe.sendAndConfirmTransaction)(s,S,[a,f],p),f.publicKey})}});var $9e=_(WL=>{"use strict";u();l();var Fir=WL&&WL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(WL,"__esModule",{value:!0});WL.createAssociatedTokenAccountIdempotent=Kir;var G9e=Ne(),H9e=Je(),qir=cI(),jir=md();function Kir(t,e,r,n,i){return Fir(this,arguments,void 0,function*(o,s,a,c,d,f=H9e.TOKEN_PROGRAM_ID,p=H9e.ASSOCIATED_TOKEN_PROGRAM_ID,m=!1){let y=(0,jir.getAssociatedTokenAddressSync)(a,c,m,f,p),g=new G9e.Transaction().add((0,qir.createAssociatedTokenAccountIdempotentInstruction)(s.publicKey,y,c,a,f,p));return yield(0,G9e.sendAndConfirmTransaction)(o,g,[s],d),y})}});var KH=_(Vh=>{"use strict";u();l();Object.defineProperty(Vh,"__esModule",{value:!0});Vh.initializeMint2InstructionData=void 0;Vh.createInitializeMint2Instruction=Hir;Vh.decodeInitializeMint2Instruction=$ir;Vh.decodeInitializeMint2InstructionUnchecked=Z9e;var khe=Ce(),Wir=gt(),Vir=Ne(),Y9e=Je(),jH=tr(),X9e=br(),Gir=Wx();Vh.initializeMint2InstructionData=(0,khe.struct)([(0,khe.u8)("instruction"),(0,khe.u8)("decimals"),(0,Wir.publicKey)("mintAuthority"),new Gir.COptionPublicKeyLayout("freezeAuthority")]);function Hir(t,e,r,n,i=Y9e.TOKEN_PROGRAM_ID){let o=[{pubkey:t,isSigner:!1,isWritable:!0}],s=Buffer.alloc(67);return Vh.initializeMint2InstructionData.encode({instruction:X9e.TokenInstruction.InitializeMint2,decimals:e,mintAuthority:r,freezeAuthority:n},s),new Vir.TransactionInstruction({keys:o,programId:i,data:s.subarray(0,Vh.initializeMint2InstructionData.getSpan(s))})}function $ir(t,e=Y9e.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new jH.TokenInvalidInstructionProgramError;if(t.data.length!==Vh.initializeMint2InstructionData.getSpan(t.data))throw new jH.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=Z9e(t);if(n.instruction!==X9e.TokenInstruction.InitializeMint2)throw new jH.TokenInvalidInstructionTypeError;if(!r)throw new jH.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}function Z9e({programId:t,keys:[e],data:r}){let{instruction:n,decimals:i,mintAuthority:o,freezeAuthority:s}=Vh.initializeMint2InstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,decimals:i,mintAuthority:o,freezeAuthority:s}}}});var Q9e=_(VL=>{"use strict";u();l();var Yir=VL&&VL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(VL,"__esModule",{value:!0});VL.createMint=Jir;var WH=Ne(),Xir=Je(),Zir=KH(),J9e=md();function Jir(t,e,r,n,i){return Yir(this,arguments,void 0,function*(o,s,a,c,d,f=WH.Keypair.generate(),p,m=Xir.TOKEN_PROGRAM_ID){let y=yield(0,J9e.getMinimumBalanceForRentExemptMint)(o),g=new WH.Transaction().add(WH.SystemProgram.createAccount({fromPubkey:s.publicKey,newAccountPubkey:f.publicKey,space:J9e.MINT_SIZE,lamports:y,programId:m}),(0,Zir.createInitializeMint2Instruction)(f.publicKey,d,a,c,m));return yield(0,WH.sendAndConfirmTransaction)(o,g,[s,f],p),f.publicKey})}});var GH=_(Gh=>{"use strict";u();l();Object.defineProperty(Gh,"__esModule",{value:!0});Gh.initializeMultisigInstructionData=void 0;Gh.createInitializeMultisigInstruction=Qir;Gh.decodeInitializeMultisigInstruction=eor;Gh.decodeInitializeMultisigInstructionUnchecked=rYe;var vhe=Ce(),xhe=Ne(),eYe=Je(),VH=tr(),tYe=br();Gh.initializeMultisigInstructionData=(0,vhe.struct)([(0,vhe.u8)("instruction"),(0,vhe.u8)("m")]);function Qir(t,e,r,n=eYe.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:xhe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];for(let s of e)i.push({pubkey:s instanceof xhe.PublicKey?s:s.publicKey,isSigner:!1,isWritable:!1});let o=Buffer.alloc(Gh.initializeMultisigInstructionData.span);return Gh.initializeMultisigInstructionData.encode({instruction:tYe.TokenInstruction.InitializeMultisig,m:r},o),new xhe.TransactionInstruction({keys:i,programId:n,data:o})}function eor(t,e=eYe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new VH.TokenInvalidInstructionProgramError;if(t.data.length!==Gh.initializeMultisigInstructionData.span)throw new VH.TokenInvalidInstructionDataError;let{keys:{account:r,rent:n,signers:i},data:o}=rYe(t);if(o.instruction!==tYe.TokenInstruction.InitializeMultisig)throw new VH.TokenInvalidInstructionTypeError;if(!r||!n||!i.length)throw new VH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,rent:n,signers:i},data:o}}function rYe({programId:t,keys:[e,r,...n],data:i}){return{programId:t,keys:{account:e,rent:r,signers:n},data:Gh.initializeMultisigInstructionData.decode(i)}}});var iYe=_(GL=>{"use strict";u();l();var tor=GL&&GL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(GL,"__esModule",{value:!0});GL.createMultisig=ior;var HH=Ne(),ror=Je(),nor=GH(),nYe=vx();function ior(t,e,r,n){return tor(this,arguments,void 0,function*(i,o,s,a,c=HH.Keypair.generate(),d,f=ror.TOKEN_PROGRAM_ID){let p=yield(0,nYe.getMinimumBalanceForRentExemptMultisig)(i),m=new HH.Transaction().add(HH.SystemProgram.createAccount({fromPubkey:o.publicKey,newAccountPubkey:c.publicKey,space:nYe.MULTISIG_SIZE,lamports:p,programId:f}),(0,nor.createInitializeMultisigInstruction)(c.publicKey,s,a,f));return yield(0,HH.sendAndConfirmTransaction)(i,m,[o,c],d),c.publicKey})}});var Ohe=_(uI=>{"use strict";u();l();Object.defineProperty(uI,"__esModule",{value:!0});uI.createNativeMintInstructionData=void 0;uI.createCreateNativeMintInstruction=aor;var oYe=Ce(),sYe=Ne(),Phe=Je(),oor=tr(),sor=br();uI.createNativeMintInstructionData=(0,oYe.struct)([(0,oYe.u8)("instruction")]);function aor(t,e=Phe.NATIVE_MINT_2022,r=Phe.TOKEN_2022_PROGRAM_ID){if(!(0,Phe.programSupportsExtensions)(r))throw new oor.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:sYe.SystemProgram.programId,isSigner:!1,isWritable:!1}],i=Buffer.alloc(uI.createNativeMintInstructionData.span);return uI.createNativeMintInstructionData.encode({instruction:sor.TokenInstruction.CreateNativeMint},i),new sYe.TransactionInstruction({keys:n,programId:r,data:i})}});var uYe=_(HL=>{"use strict";u();l();var cor=HL&&HL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(HL,"__esModule",{value:!0});HL.createNativeMint=lor;var aYe=Ne(),cYe=Je(),uor=Ohe();function lor(t,e,r){return cor(this,arguments,void 0,function*(n,i,o,s=cYe.NATIVE_MINT_2022,a=cYe.TOKEN_2022_PROGRAM_ID){let c=new aYe.Transaction().add((0,uor.createCreateNativeMintInstruction)(i.publicKey,s,a));yield(0,aYe.sendAndConfirmTransaction)(n,c,[i],o)})}});var $L=_(Hh=>{"use strict";u();l();Object.defineProperty(Hh,"__esModule",{value:!0});Hh.syncNativeInstructionData=void 0;Hh.createSyncNativeInstruction=por;Hh.decodeSyncNativeInstruction=hor;Hh.decodeSyncNativeInstructionUnchecked=pYe;var lYe=Ce(),dor=Ne(),dYe=Je(),$H=tr(),fYe=br();Hh.syncNativeInstructionData=(0,lYe.struct)([(0,lYe.u8)("instruction")]);function por(t,e=dYe.TOKEN_PROGRAM_ID){let r=[{pubkey:t,isSigner:!1,isWritable:!0}],n=Buffer.alloc(Hh.syncNativeInstructionData.span);return Hh.syncNativeInstructionData.encode({instruction:fYe.TokenInstruction.SyncNative},n),new dor.TransactionInstruction({keys:r,programId:e,data:n})}function hor(t,e=dYe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new $H.TokenInvalidInstructionProgramError;if(t.data.length!==Hh.syncNativeInstructionData.span)throw new $H.TokenInvalidInstructionDataError;let{keys:{account:r},data:n}=pYe(t);if(n.instruction!==fYe.TokenInstruction.SyncNative)throw new $H.TokenInvalidInstructionTypeError;if(!r)throw new $H.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r},data:n}}function pYe({programId:t,keys:[e],data:r}){return{programId:t,keys:{account:e},data:Hh.syncNativeInstructionData.decode(r)}}});var mYe=_(YL=>{"use strict";u();l();var mor=YL&&YL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(YL,"__esModule",{value:!0});YL.createWrappedNativeAccount=wor;var lI=Ne(),YH=Je(),yor=cI(),gor=qL(),bor=$L(),hYe=xx(),_or=md(),Sor=The();function wor(t,e,r,n,i,o){return mor(this,arguments,void 0,function*(s,a,c,d,f,p,m=YH.TOKEN_PROGRAM_ID,y=YH.NATIVE_MINT){if(!d)return yield(0,Sor.createAccount)(s,a,y,c,f,p,m);if(!f){let S=(0,_or.getAssociatedTokenAddressSync)(y,c,!1,m,YH.ASSOCIATED_TOKEN_PROGRAM_ID),P=new lI.Transaction().add((0,yor.createAssociatedTokenAccountInstruction)(a.publicKey,S,c,y,m,YH.ASSOCIATED_TOKEN_PROGRAM_ID),lI.SystemProgram.transfer({fromPubkey:a.publicKey,toPubkey:S,lamports:d}),(0,bor.createSyncNativeInstruction)(S,m));return yield(0,lI.sendAndConfirmTransaction)(s,P,[a],p),S}let g=yield(0,hYe.getMinimumBalanceForRentExemptAccount)(s),b=new lI.Transaction().add(lI.SystemProgram.createAccount({fromPubkey:a.publicKey,newAccountPubkey:f.publicKey,space:hYe.ACCOUNT_SIZE,lamports:g,programId:m}),lI.SystemProgram.transfer({fromPubkey:a.publicKey,toPubkey:f.publicKey,lamports:d}),(0,gor.createInitializeAccountInstruction)(f.publicKey,y,c,m));return yield(0,lI.sendAndConfirmTransaction)(s,b,[a,f],p),f.publicKey})}});var ZH=_($h=>{"use strict";u();l();Object.defineProperty($h,"__esModule",{value:!0});$h.freezeAccountInstructionData=void 0;$h.createFreezeAccountInstruction=Ior;$h.decodeFreezeAccountInstruction=Tor;$h.decodeFreezeAccountInstructionUnchecked=_Ye;var yYe=Ce(),Aor=Ne(),gYe=Je(),XH=tr(),Eor=Ui(),bYe=br();$h.freezeAccountInstructionData=(0,yYe.struct)([(0,yYe.u8)("instruction")]);function Ior(t,e,r,n=[],i=gYe.TOKEN_PROGRAM_ID){let o=(0,Eor.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],r,n),s=Buffer.alloc($h.freezeAccountInstructionData.span);return $h.freezeAccountInstructionData.encode({instruction:bYe.TokenInstruction.FreezeAccount},s),new Aor.TransactionInstruction({keys:o,programId:i,data:s})}function Tor(t,e=gYe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new XH.TokenInvalidInstructionProgramError;if(t.data.length!==$h.freezeAccountInstructionData.span)throw new XH.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}=_Ye(t);if(s.instruction!==bYe.TokenInstruction.FreezeAccount)throw new XH.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new XH.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}}function _Ye({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,authority:n,multiSigners:i},data:$h.freezeAccountInstructionData.decode(o)}}});var wYe=_(XL=>{"use strict";u();l();var kor=XL&&XL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(XL,"__esModule",{value:!0});XL.freezeAccount=Oor;var SYe=Ne(),vor=Je(),xor=ZH(),Por=io();function Oor(t,e,r,n,i){return kor(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=vor.TOKEN_PROGRAM_ID){let[y,g]=(0,Por.getSigners)(d,f),b=new SYe.Transaction().add((0,xor.createFreezeAccountInstruction)(a,c,y,f,m));return yield(0,SYe.sendAndConfirmTransaction)(o,b,[s,...g],p)})}});var TYe=_(ZL=>{"use strict";u();l();var Ror=ZL&&ZL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ZL,"__esModule",{value:!0});ZL.getOrCreateAssociatedTokenAccount=Mor;var AYe=Ne(),EYe=Je(),JH=tr(),Cor=cI(),IYe=xx(),Bor=md();function Mor(t,e,r,n){return Ror(this,arguments,void 0,function*(i,o,s,a,c=!1,d,f,p=EYe.TOKEN_PROGRAM_ID,m=EYe.ASSOCIATED_TOKEN_PROGRAM_ID){let y=(0,Bor.getAssociatedTokenAddressSync)(s,a,c,p,m),g;try{g=yield(0,IYe.getAccount)(i,y,d,p)}catch(b){if(b instanceof JH.TokenAccountNotFoundError||b instanceof JH.TokenInvalidAccountOwnerError){try{let S=new AYe.Transaction().add((0,Cor.createAssociatedTokenAccountInstruction)(o.publicKey,y,a,s,p,m));yield(0,AYe.sendAndConfirmTransaction)(i,S,[o],f)}catch{}g=yield(0,IYe.getAccount)(i,y,d,p)}else throw b}if(!g.mint.equals(s))throw new JH.TokenInvalidMintError;if(!g.owner.equals(a))throw new JH.TokenInvalidOwnerError;return g})}});var e7=_(Yh=>{"use strict";u();l();Object.defineProperty(Yh,"__esModule",{value:!0});Yh.mintToInstructionData=void 0;Yh.createMintToInstruction=Lor;Yh.decodeMintToInstruction=zor;Yh.decodeMintToInstructionUnchecked=PYe;var kYe=Ce(),Nor=gt(),Dor=Ne(),vYe=Je(),QH=tr(),Uor=Ui(),xYe=br();Yh.mintToInstructionData=(0,kYe.struct)([(0,kYe.u8)("instruction"),(0,Nor.u64)("amount")]);function Lor(t,e,r,n,i=[],o=vYe.TOKEN_PROGRAM_ID){let s=(0,Uor.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,i),a=Buffer.alloc(Yh.mintToInstructionData.span);return Yh.mintToInstructionData.encode({instruction:xYe.TokenInstruction.MintTo,amount:BigInt(n)},a),new Dor.TransactionInstruction({keys:s,programId:o,data:a})}function zor(t,e=vYe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new QH.TokenInvalidInstructionProgramError;if(t.data.length!==Yh.mintToInstructionData.span)throw new QH.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}=PYe(t);if(s.instruction!==xYe.TokenInstruction.MintTo)throw new QH.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new QH.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}}function PYe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{mint:e,destination:r,authority:n,multiSigners:i},data:Yh.mintToInstructionData.decode(o)}}});var RYe=_(JL=>{"use strict";u();l();var For=JL&&JL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(JL,"__esModule",{value:!0});JL.mintTo=Wor;var OYe=Ne(),qor=Je(),jor=e7(),Kor=io();function Wor(t,e,r,n,i,o){return For(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=qor.TOKEN_PROGRAM_ID){let[b,S]=(0,Kor.getSigners)(f,m),P=new OYe.Transaction().add((0,jor.createMintToInstruction)(c,d,b,p,m,g));return yield(0,OYe.sendAndConfirmTransaction)(s,P,[a,...S],y)})}});var r7=_(Xh=>{"use strict";u();l();Object.defineProperty(Xh,"__esModule",{value:!0});Xh.mintToCheckedInstructionData=void 0;Xh.createMintToCheckedInstruction=$or;Xh.decodeMintToCheckedInstruction=Yor;Xh.decodeMintToCheckedInstructionUnchecked=MYe;var Rhe=Ce(),Vor=gt(),Gor=Ne(),CYe=Je(),t7=tr(),Hor=Ui(),BYe=br();Xh.mintToCheckedInstructionData=(0,Rhe.struct)([(0,Rhe.u8)("instruction"),(0,Vor.u64)("amount"),(0,Rhe.u8)("decimals")]);function $or(t,e,r,n,i,o=[],s=CYe.TOKEN_PROGRAM_ID){let a=(0,Hor.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,o),c=Buffer.alloc(Xh.mintToCheckedInstructionData.span);return Xh.mintToCheckedInstructionData.encode({instruction:BYe.TokenInstruction.MintToChecked,amount:BigInt(n),decimals:i},c),new Gor.TransactionInstruction({keys:a,programId:s,data:c})}function Yor(t,e=CYe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new t7.TokenInvalidInstructionProgramError;if(t.data.length!==Xh.mintToCheckedInstructionData.span)throw new t7.TokenInvalidInstructionDataError;let{keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}=MYe(t);if(s.instruction!==BYe.TokenInstruction.MintToChecked)throw new t7.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new t7.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,destination:n,authority:i,multiSigners:o},data:s}}function MYe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{mint:e,destination:r,authority:n,multiSigners:i},data:Xh.mintToCheckedInstructionData.decode(o)}}});var DYe=_(QL=>{"use strict";u();l();var Xor=QL&&QL.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(QL,"__esModule",{value:!0});QL.mintToChecked=esr;var NYe=Ne(),Zor=Je(),Jor=r7(),Qor=io();function esr(t,e,r,n,i,o,s){return Xor(this,arguments,void 0,function*(a,c,d,f,p,m,y,g=[],b,S=Zor.TOKEN_PROGRAM_ID){let[P,U]=(0,Qor.getSigners)(p,g),L=new NYe.Transaction().add((0,Jor.createMintToCheckedInstruction)(d,f,P,m,y,g,S));return yield(0,NYe.sendAndConfirmTransaction)(a,L,[c,...U],b)})}});var zYe=_(ez=>{"use strict";u();l();var tsr=ez&&ez.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ez,"__esModule",{value:!0});ez.recoverNested=nsr;var UYe=Ne(),LYe=Je(),rsr=cI(),Che=md();function nsr(t,e,r,n,i,o){return tsr(this,arguments,void 0,function*(s,a,c,d,f,p,m=LYe.TOKEN_PROGRAM_ID,y=LYe.ASSOCIATED_TOKEN_PROGRAM_ID){let g=(0,Che.getAssociatedTokenAddressSync)(d,c.publicKey,!1,m,y),b=(0,Che.getAssociatedTokenAddressSync)(f,c.publicKey,!1,m,y),S=(0,Che.getAssociatedTokenAddressSync)(f,g,!0,m,y),P=new UYe.Transaction().add((0,rsr.createRecoverNestedInstruction)(S,f,b,g,d,c.publicKey,m,y));return yield(0,UYe.sendAndConfirmTransaction)(s,P,[a,c],p)})}});var i7=_(Zh=>{"use strict";u();l();Object.defineProperty(Zh,"__esModule",{value:!0});Zh.revokeInstructionData=void 0;Zh.createRevokeInstruction=ssr;Zh.decodeRevokeInstruction=asr;Zh.decodeRevokeInstructionUnchecked=KYe;var FYe=Ce(),isr=Ne(),qYe=Je(),n7=tr(),osr=Ui(),jYe=br();Zh.revokeInstructionData=(0,FYe.struct)([(0,FYe.u8)("instruction")]);function ssr(t,e,r=[],n=qYe.TOKEN_PROGRAM_ID){let i=(0,osr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,r),o=Buffer.alloc(Zh.revokeInstructionData.span);return Zh.revokeInstructionData.encode({instruction:jYe.TokenInstruction.Revoke},o),new isr.TransactionInstruction({keys:i,programId:n,data:o})}function asr(t,e=qYe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new n7.TokenInvalidInstructionProgramError;if(t.data.length!==Zh.revokeInstructionData.span)throw new n7.TokenInvalidInstructionDataError;let{keys:{account:r,owner:n,multiSigners:i},data:o}=KYe(t);if(o.instruction!==jYe.TokenInstruction.Revoke)throw new n7.TokenInvalidInstructionTypeError;if(!r||!n)throw new n7.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,owner:n,multiSigners:i},data:o}}function KYe({programId:t,keys:[e,r,...n],data:i}){return{programId:t,keys:{account:e,owner:r,multiSigners:n},data:Zh.revokeInstructionData.decode(i)}}});var VYe=_(tz=>{"use strict";u();l();var csr=tz&&tz.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(tz,"__esModule",{value:!0});tz.revoke=fsr;var WYe=Ne(),usr=Je(),lsr=i7(),dsr=io();function fsr(t,e,r,n){return csr(this,arguments,void 0,function*(i,o,s,a,c=[],d,f=usr.TOKEN_PROGRAM_ID){let[p,m]=(0,dsr.getSigners)(a,c),y=new WYe.Transaction().add((0,lsr.createRevokeInstruction)(s,p,c,f));return yield(0,WYe.sendAndConfirmTransaction)(i,y,[o,...m],d)})}});var s7=_(mf=>{"use strict";u();l();Object.defineProperty(mf,"__esModule",{value:!0});mf.setAuthorityInstructionData=mf.AuthorityType=void 0;mf.createSetAuthorityInstruction=ysr;mf.decodeSetAuthorityInstruction=gsr;mf.decodeSetAuthorityInstructionUnchecked=YYe;var Bhe=Ce(),psr=Ne(),HYe=Je(),o7=tr(),hsr=Ui(),$Ye=br(),msr=Wx(),GYe;(function(t){t[t.MintTokens=0]="MintTokens",t[t.FreezeAccount=1]="FreezeAccount",t[t.AccountOwner=2]="AccountOwner",t[t.CloseAccount=3]="CloseAccount",t[t.TransferFeeConfig=4]="TransferFeeConfig",t[t.WithheldWithdraw=5]="WithheldWithdraw",t[t.CloseMint=6]="CloseMint",t[t.InterestRate=7]="InterestRate",t[t.PermanentDelegate=8]="PermanentDelegate",t[t.ConfidentialTransferMint=9]="ConfidentialTransferMint",t[t.TransferHookProgramId=10]="TransferHookProgramId",t[t.ConfidentialTransferFeeConfig=11]="ConfidentialTransferFeeConfig",t[t.MetadataPointer=12]="MetadataPointer",t[t.GroupPointer=13]="GroupPointer",t[t.GroupMemberPointer=14]="GroupMemberPointer",t[t.ScaledUiAmountConfig=15]="ScaledUiAmountConfig",t[t.PausableConfig=16]="PausableConfig"})(GYe||(mf.AuthorityType=GYe={}));mf.setAuthorityInstructionData=(0,Bhe.struct)([(0,Bhe.u8)("instruction"),(0,Bhe.u8)("authorityType"),new msr.COptionPublicKeyLayout("newAuthority")]);function ysr(t,e,r,n,i=[],o=HYe.TOKEN_PROGRAM_ID){let s=(0,hsr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,i),a=Buffer.alloc(35);return mf.setAuthorityInstructionData.encode({instruction:$Ye.TokenInstruction.SetAuthority,authorityType:r,newAuthority:n},a),new psr.TransactionInstruction({keys:s,programId:o,data:a.subarray(0,mf.setAuthorityInstructionData.getSpan(a))})}function gsr(t,e=HYe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new o7.TokenInvalidInstructionProgramError;if(t.data.length!==mf.setAuthorityInstructionData.getSpan(t.data))throw new o7.TokenInvalidInstructionDataError;let{keys:{account:r,currentAuthority:n,multiSigners:i},data:o}=YYe(t);if(o.instruction!==$Ye.TokenInstruction.SetAuthority)throw new o7.TokenInvalidInstructionTypeError;if(!r||!n)throw new o7.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,currentAuthority:n,multiSigners:i},data:o}}function YYe({programId:t,keys:[e,r,...n],data:i}){let{instruction:o,authorityType:s,newAuthority:a}=mf.setAuthorityInstructionData.decode(i);return{programId:t,keys:{account:e,currentAuthority:r,multiSigners:n},data:{instruction:o,authorityType:s,newAuthority:a}}}});var ZYe=_(rz=>{"use strict";u();l();var bsr=rz&&rz.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(rz,"__esModule",{value:!0});rz.setAuthority=Asr;var XYe=Ne(),_sr=Je(),Ssr=s7(),wsr=io();function Asr(t,e,r,n,i,o){return bsr(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=_sr.TOKEN_PROGRAM_ID){let[b,S]=(0,wsr.getSigners)(d,m),P=new XYe.Transaction().add((0,Ssr.createSetAuthorityInstruction)(c,b,f,p,m,g));return yield(0,XYe.sendAndConfirmTransaction)(s,P,[a,...S],y)})}});var QYe=_(nz=>{"use strict";u();l();var Esr=nz&&nz.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(nz,"__esModule",{value:!0});nz.syncNative=ksr;var JYe=Ne(),Isr=Je(),Tsr=$L();function ksr(t,e,r,n){return Esr(this,arguments,void 0,function*(i,o,s,a,c=Isr.TOKEN_PROGRAM_ID){let d=new JYe.Transaction().add((0,Tsr.createSyncNativeInstruction)(s,c));return yield(0,JYe.sendAndConfirmTransaction)(i,d,[o],a)})}});var c7=_(Jh=>{"use strict";u();l();Object.defineProperty(Jh,"__esModule",{value:!0});Jh.thawAccountInstructionData=void 0;Jh.createThawAccountInstruction=Psr;Jh.decodeThawAccountInstruction=Osr;Jh.decodeThawAccountInstructionUnchecked=nXe;var eXe=Ce(),vsr=Ne(),tXe=Je(),a7=tr(),xsr=Ui(),rXe=br();Jh.thawAccountInstructionData=(0,eXe.struct)([(0,eXe.u8)("instruction")]);function Psr(t,e,r,n=[],i=tXe.TOKEN_PROGRAM_ID){let o=(0,xsr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],r,n),s=Buffer.alloc(Jh.thawAccountInstructionData.span);return Jh.thawAccountInstructionData.encode({instruction:rXe.TokenInstruction.ThawAccount},s),new vsr.TransactionInstruction({keys:o,programId:i,data:s})}function Osr(t,e=tXe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new a7.TokenInvalidInstructionProgramError;if(t.data.length!==Jh.thawAccountInstructionData.span)throw new a7.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}=nXe(t);if(s.instruction!==rXe.TokenInstruction.ThawAccount)throw new a7.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new a7.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,authority:i,multiSigners:o},data:s}}function nXe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{account:e,mint:r,authority:n,multiSigners:i},data:Jh.thawAccountInstructionData.decode(o)}}});var oXe=_(iz=>{"use strict";u();l();var Rsr=iz&&iz.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(iz,"__esModule",{value:!0});iz.thawAccount=Nsr;var iXe=Ne(),Csr=Je(),Bsr=c7(),Msr=io();function Nsr(t,e,r,n,i){return Rsr(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=Csr.TOKEN_PROGRAM_ID){let[y,g]=(0,Msr.getSigners)(d,f),b=new iXe.Transaction().add((0,Bsr.createThawAccountInstruction)(a,c,y,f,m));return yield(0,iXe.sendAndConfirmTransaction)(o,b,[s,...g],p)})}});var l7=_(Qh=>{"use strict";u();l();Object.defineProperty(Qh,"__esModule",{value:!0});Qh.transferInstructionData=void 0;Qh.createTransferInstruction=zsr;Qh.decodeTransferInstruction=Fsr;Qh.decodeTransferInstructionUnchecked=uXe;var sXe=Ce(),Dsr=gt(),Usr=Ne(),aXe=Je(),u7=tr(),Lsr=Ui(),cXe=br();Qh.transferInstructionData=(0,sXe.struct)([(0,sXe.u8)("instruction"),(0,Dsr.u64)("amount")]);function zsr(t,e,r,n,i=[],o=aXe.TOKEN_PROGRAM_ID){let s=(0,Lsr.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],r,i),a=Buffer.alloc(Qh.transferInstructionData.span);return Qh.transferInstructionData.encode({instruction:cXe.TokenInstruction.Transfer,amount:BigInt(n)},a),new Usr.TransactionInstruction({keys:s,programId:o,data:a})}function Fsr(t,e=aXe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new u7.TokenInvalidInstructionProgramError;if(t.data.length!==Qh.transferInstructionData.span)throw new u7.TokenInvalidInstructionDataError;let{keys:{source:r,destination:n,owner:i,multiSigners:o},data:s}=uXe(t);if(s.instruction!==cXe.TokenInstruction.Transfer)throw new u7.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new u7.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:r,destination:n,owner:i,multiSigners:o},data:s}}function uXe({programId:t,keys:[e,r,n,...i],data:o}){return{programId:t,keys:{source:e,destination:r,owner:n,multiSigners:i},data:Qh.transferInstructionData.decode(o)}}});var dXe=_(oz=>{"use strict";u();l();var qsr=oz&&oz.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(oz,"__esModule",{value:!0});oz.transfer=Vsr;var lXe=Ne(),jsr=Je(),Ksr=l7(),Wsr=io();function Vsr(t,e,r,n,i,o){return qsr(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=jsr.TOKEN_PROGRAM_ID){let[b,S]=(0,Wsr.getSigners)(f,m),P=new lXe.Transaction().add((0,Ksr.createTransferInstruction)(c,d,b,p,m,g));return yield(0,lXe.sendAndConfirmTransaction)(s,P,[a,...S],y)})}});var pXe=_(sz=>{"use strict";u();l();var Gsr=sz&&sz.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(sz,"__esModule",{value:!0});sz.transferChecked=Xsr;var fXe=Ne(),Hsr=Je(),$sr=PL(),Ysr=io();function Xsr(t,e,r,n,i,o,s,a){return Gsr(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,S=[],P,U=Hsr.TOKEN_PROGRAM_ID){let[L,j]=(0,Ysr.getSigners)(y,S),Z=new fXe.Transaction().add((0,$sr.createTransferCheckedInstruction)(f,p,m,L,g,b,S,U));return yield(0,fXe.sendAndConfirmTransaction)(c,Z,[d,...j],P)})}});var f7=_(az=>{"use strict";u();l();Object.defineProperty(az,"__esModule",{value:!0});az.createUiAmountToAmountInstruction=Jsr;az.decodeUiAmountToAmountInstruction=Qsr;az.decodeUiAmountToAmountInstructionUnchecked=yXe;var y0=Ce(),Zsr=Ne(),hXe=Je(),d7=tr(),mXe=br();function Jsr(t,e,r=hXe.TOKEN_PROGRAM_ID){let n=[{pubkey:t,isSigner:!1,isWritable:!1}],i=Buffer.from(e,"utf8"),o=(0,y0.struct)([(0,y0.u8)("instruction"),(0,y0.blob)(i.length,"amount")]),s=Buffer.alloc(o.span);return o.encode({instruction:mXe.TokenInstruction.UiAmountToAmount,amount:i},s),new Zsr.TransactionInstruction({keys:n,programId:r,data:s})}function Qsr(t,e=hXe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new d7.TokenInvalidInstructionProgramError;let r=(0,y0.struct)([(0,y0.u8)("instruction"),(0,y0.blob)(t.data.length-1,"amount")]);if(t.data.length!==r.span)throw new d7.TokenInvalidInstructionDataError;let{keys:{mint:n},data:i}=yXe(t);if(i.instruction!==mXe.TokenInstruction.UiAmountToAmount)throw new d7.TokenInvalidInstructionTypeError;if(!n)throw new d7.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:n},data:i}}function yXe({programId:t,keys:[e],data:r}){let n=(0,y0.struct)([(0,y0.u8)("instruction"),(0,y0.blob)(r.length-1,"amount")]);return{programId:t,keys:{mint:e},data:n.decode(r)}}});var gXe=_(cz=>{"use strict";u();l();var ear=cz&&cz.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(cz,"__esModule",{value:!0});cz.uiAmountToAmount=oar;var tar=gt(),rar=Ne(),nar=Je(),iar=f7();function oar(t,e,r,n){return ear(this,arguments,void 0,function*(i,o,s,a,c=nar.TOKEN_PROGRAM_ID){let d=new rar.Transaction().add((0,iar.createUiAmountToAmountInstruction)(s,a,c)),{returnData:f,err:p}=(yield i.simulateTransaction(d,[o],!1)).value;if(f){let m=Buffer.from(f.data[0],f.data[1]);return(0,tar.u64)().decode(m)}return p})}});var bXe=_(Ln=>{"use strict";u();l();var sar=Ln&&Ln.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hi=Ln&&Ln.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&sar(e,t,r)};Object.defineProperty(Ln,"__esModule",{value:!0});Hi(c9e(),Ln);Hi(h9e(),Ln);Hi(_9e(),Ln);Hi(T9e(),Ln);Hi(O9e(),Ln);Hi(D9e(),Ln);Hi(The(),Ln);Hi(Ehe(),Ln);Hi($9e(),Ln);Hi(Q9e(),Ln);Hi(iYe(),Ln);Hi(uYe(),Ln);Hi(mYe(),Ln);Hi(wYe(),Ln);Hi(TYe(),Ln);Hi(RYe(),Ln);Hi(DYe(),Ln);Hi(zYe(),Ln);Hi(VYe(),Ln);Hi(ZYe(),Ln);Hi(QYe(),Ln);Hi(oXe(),Ln);Hi(dXe(),Ln);Hi(pXe(),Ln);Hi(gXe(),Ln)});var wXe=_(yd=>{"use strict";u();l();Object.defineProperty(yd,"__esModule",{value:!0});yd.updateGroupMemberPointerData=yd.initializeGroupMemberPointerData=yd.GroupMemberPointerInstruction=void 0;yd.createInitializeGroupMemberPointerInstruction=car;yd.createUpdateGroupMemberPointerInstruction=uar;var Jx=Ce(),Mhe=gt(),uz=Ne(),p7=Je(),_Xe=tr(),SXe=br(),aar=Ui(),h7;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(h7||(yd.GroupMemberPointerInstruction=h7={}));yd.initializeGroupMemberPointerData=(0,Jx.struct)([(0,Jx.u8)("instruction"),(0,Jx.u8)("groupMemberPointerInstruction"),(0,Mhe.publicKey)("authority"),(0,Mhe.publicKey)("memberAddress")]);function car(t,e,r,n=p7.TOKEN_2022_PROGRAM_ID){if(!(0,p7.programSupportsExtensions)(n))throw new _Xe.TokenUnsupportedInstructionError;let i=[{pubkey:t,isSigner:!1,isWritable:!0}],o=Buffer.alloc(yd.initializeGroupMemberPointerData.span);return yd.initializeGroupMemberPointerData.encode({instruction:SXe.TokenInstruction.GroupMemberPointerExtension,groupMemberPointerInstruction:h7.Initialize,authority:e??uz.PublicKey.default,memberAddress:r??uz.PublicKey.default},o),new uz.TransactionInstruction({keys:i,programId:n,data:o})}yd.updateGroupMemberPointerData=(0,Jx.struct)([(0,Jx.u8)("instruction"),(0,Jx.u8)("groupMemberPointerInstruction"),(0,Mhe.publicKey)("memberAddress")]);function uar(t,e,r,n=[],i=p7.TOKEN_2022_PROGRAM_ID){if(!(0,p7.programSupportsExtensions)(i))throw new _Xe.TokenUnsupportedInstructionError;let o=(0,aar.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,n),s=Buffer.alloc(yd.updateGroupMemberPointerData.span);return yd.updateGroupMemberPointerData.encode({instruction:SXe.TokenInstruction.GroupMemberPointerExtension,groupMemberPointerInstruction:h7.Update,memberAddress:r??uz.PublicKey.default},s),new uz.TransactionInstruction({keys:o,programId:i,data:s})}});var EXe=_(aw=>{"use strict";u();l();var lar=aw&&aw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),AXe=aw&&aw.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lar(e,t,r)};Object.defineProperty(aw,"__esModule",{value:!0});AXe(wXe(),aw);AXe(Npe(),aw)});var kXe=_(gd=>{"use strict";u();l();Object.defineProperty(gd,"__esModule",{value:!0});gd.updateGroupPointerData=gd.initializeGroupPointerData=gd.GroupPointerInstruction=void 0;gd.createInitializeGroupPointerInstruction=far;gd.createUpdateGroupPointerInstruction=par;var Qx=Ce(),Nhe=gt(),lz=Ne(),m7=Je(),IXe=tr(),TXe=br(),dar=Ui(),y7;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(y7||(gd.GroupPointerInstruction=y7={}));gd.initializeGroupPointerData=(0,Qx.struct)([(0,Qx.u8)("instruction"),(0,Qx.u8)("groupPointerInstruction"),(0,Nhe.publicKey)("authority"),(0,Nhe.publicKey)("groupAddress")]);function far(t,e,r,n=m7.TOKEN_2022_PROGRAM_ID){if(!(0,m7.programSupportsExtensions)(n))throw new IXe.TokenUnsupportedInstructionError;let i=[{pubkey:t,isSigner:!1,isWritable:!0}],o=Buffer.alloc(gd.initializeGroupPointerData.span);return gd.initializeGroupPointerData.encode({instruction:TXe.TokenInstruction.GroupPointerExtension,groupPointerInstruction:y7.Initialize,authority:e??lz.PublicKey.default,groupAddress:r??lz.PublicKey.default},o),new lz.TransactionInstruction({keys:i,programId:n,data:o})}gd.updateGroupPointerData=(0,Qx.struct)([(0,Qx.u8)("instruction"),(0,Qx.u8)("groupPointerInstruction"),(0,Nhe.publicKey)("groupAddress")]);function par(t,e,r,n=[],i=m7.TOKEN_2022_PROGRAM_ID){if(!(0,m7.programSupportsExtensions)(i))throw new IXe.TokenUnsupportedInstructionError;let o=(0,dar.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,n),s=Buffer.alloc(gd.updateGroupPointerData.span);return gd.updateGroupPointerData.encode({instruction:TXe.TokenInstruction.GroupPointerExtension,groupPointerInstruction:y7.Update,groupAddress:r??lz.PublicKey.default},s),new lz.TransactionInstruction({keys:o,programId:i,data:s})}});var xXe=_(cw=>{"use strict";u();l();var har=cw&&cw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vXe=cw&&cw.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&har(e,t,r)};Object.defineProperty(cw,"__esModule",{value:!0});vXe(kXe(),cw);vXe(Dpe(),cw)});var b7=_(em=>{"use strict";u();l();Object.defineProperty(em,"__esModule",{value:!0});em.initializeMintInstructionData=void 0;em.createInitializeMintInstruction=gar;em.decodeInitializeMintInstruction=bar;em.decodeInitializeMintInstructionUnchecked=CXe;var Dhe=Ce(),mar=gt(),PXe=Ne(),OXe=Je(),g7=tr(),RXe=br(),yar=Wx();em.initializeMintInstructionData=(0,Dhe.struct)([(0,Dhe.u8)("instruction"),(0,Dhe.u8)("decimals"),(0,mar.publicKey)("mintAuthority"),new yar.COptionPublicKeyLayout("freezeAuthority")]);function gar(t,e,r,n,i=OXe.TOKEN_PROGRAM_ID){let o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:PXe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],s=Buffer.alloc(67);return em.initializeMintInstructionData.encode({instruction:RXe.TokenInstruction.InitializeMint,decimals:e,mintAuthority:r,freezeAuthority:n},s),new PXe.TransactionInstruction({keys:o,programId:i,data:s.subarray(0,em.initializeMintInstructionData.getSpan(s))})}function bar(t,e=OXe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new g7.TokenInvalidInstructionProgramError;if(t.data.length!==em.initializeMintInstructionData.getSpan(t.data))throw new g7.TokenInvalidInstructionDataError;let{keys:{mint:r,rent:n},data:i}=CXe(t);if(i.instruction!==RXe.TokenInstruction.InitializeMint)throw new g7.TokenInvalidInstructionTypeError;if(!r||!n)throw new g7.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r,rent:n},data:i}}function CXe({programId:t,keys:[e,r],data:n}){let{instruction:i,decimals:o,mintAuthority:s,freezeAuthority:a}=em.initializeMintInstructionData.decode(n);return{programId:t,keys:{mint:e,rent:r},data:{instruction:i,decimals:o,mintAuthority:s,freezeAuthority:a}}}});var Uhe=_(bd=>{"use strict";u();l();Object.defineProperty(bd,"__esModule",{value:!0});bd.interestBearingMintUpdateRateInstructionData=bd.interestBearingMintInitializeInstructionData=bd.InterestBearingMintInstruction=void 0;bd.createInitializeInterestBearingMintInstruction=war;bd.createUpdateRateInterestBearingMintInstruction=Aar;var uw=Ce(),_ar=gt(),BXe=Ne(),MXe=Je(),Sar=Ui(),NXe=br(),_7;(function(t){t[t.Initialize=0]="Initialize",t[t.UpdateRate=1]="UpdateRate"})(_7||(bd.InterestBearingMintInstruction=_7={}));bd.interestBearingMintInitializeInstructionData=(0,uw.struct)([(0,uw.u8)("instruction"),(0,uw.u8)("interestBearingMintInstruction"),(0,_ar.publicKey)("rateAuthority"),(0,uw.s16)("rate")]);bd.interestBearingMintUpdateRateInstructionData=(0,uw.struct)([(0,uw.u8)("instruction"),(0,uw.u8)("interestBearingMintInstruction"),(0,uw.s16)("rate")]);function war(t,e,r,n=MXe.TOKEN_2022_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0}],o=Buffer.alloc(bd.interestBearingMintInitializeInstructionData.span);return bd.interestBearingMintInitializeInstructionData.encode({instruction:NXe.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:_7.Initialize,rateAuthority:e,rate:r},o),new BXe.TransactionInstruction({keys:i,programId:n,data:o})}function Aar(t,e,r,n=[],i=MXe.TOKEN_2022_PROGRAM_ID){let o=(0,Sar.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!n.length,isWritable:!1}],e,n),s=Buffer.alloc(bd.interestBearingMintUpdateRateInstructionData.span);return bd.interestBearingMintUpdateRateInstructionData.encode({instruction:NXe.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:_7.UpdateRate,rate:r},s),new BXe.TransactionInstruction({keys:o,programId:i,data:s})}});var FXe=_(tP=>{"use strict";u();l();var UXe=tP&&tP.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(tP,"__esModule",{value:!0});tP.createInterestBearingMint=Tar;tP.updateRateInterestBearingMint=kar;var eP=Ne(),Ear=io(),LXe=Je(),Iar=b7(),DXe=no(),zXe=Uhe();function Tar(t,e,r,n,i,o,s){return UXe(this,arguments,void 0,function*(a,c,d,f,p,m,y,g=eP.Keypair.generate(),b,S=LXe.TOKEN_2022_PROGRAM_ID){let P=(0,DXe.getMintLen)([DXe.ExtensionType.InterestBearingConfig]),U=yield a.getMinimumBalanceForRentExemption(P),L=new eP.Transaction().add(eP.SystemProgram.createAccount({fromPubkey:c.publicKey,newAccountPubkey:g.publicKey,space:P,lamports:U,programId:S}),(0,zXe.createInitializeInterestBearingMintInstruction)(g.publicKey,p,m,S),(0,Iar.createInitializeMintInstruction)(g.publicKey,y,d,f,S));return yield(0,eP.sendAndConfirmTransaction)(a,L,[c,g],b),g.publicKey})}function kar(t,e,r,n,i){return UXe(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=LXe.TOKEN_2022_PROGRAM_ID){let[y,g]=(0,Ear.getSigners)(c,f),b=new eP.Transaction().add((0,zXe.createUpdateRateInterestBearingMintInstruction)(a,y,d,g,m));return yield(0,eP.sendAndConfirmTransaction)(o,b,[s,c,...g],p)})}});var qXe=_(g0=>{"use strict";u();l();var xar=g0&&g0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Lhe=g0&&g0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&xar(e,t,r)};Object.defineProperty(g0,"__esModule",{value:!0});Lhe(FXe(),g0);Lhe(Uhe(),g0);Lhe(tH(),g0)});var WXe=_(_d=>{"use strict";u();l();Object.defineProperty(_d,"__esModule",{value:!0});_d.updateMetadataPointerData=_d.initializeMetadataPointerData=_d.MetadataPointerInstruction=void 0;_d.createInitializeMetadataPointerInstruction=Oar;_d.createUpdateMetadataPointerInstruction=Rar;var rP=Ce(),zhe=gt(),dz=Ne(),Fhe=Je(),jXe=tr(),KXe=br(),Par=Ui(),S7;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(S7||(_d.MetadataPointerInstruction=S7={}));_d.initializeMetadataPointerData=(0,rP.struct)([(0,rP.u8)("instruction"),(0,rP.u8)("metadataPointerInstruction"),(0,zhe.publicKey)("authority"),(0,zhe.publicKey)("metadataAddress")]);function Oar(t,e,r,n){if(!(0,Fhe.programSupportsExtensions)(n))throw new jXe.TokenUnsupportedInstructionError;let i=[{pubkey:t,isSigner:!1,isWritable:!0}],o=Buffer.alloc(_d.initializeMetadataPointerData.span);return _d.initializeMetadataPointerData.encode({instruction:KXe.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:S7.Initialize,authority:e??dz.PublicKey.default,metadataAddress:r??dz.PublicKey.default},o),new dz.TransactionInstruction({keys:i,programId:n,data:o})}_d.updateMetadataPointerData=(0,rP.struct)([(0,rP.u8)("instruction"),(0,rP.u8)("metadataPointerInstruction"),(0,zhe.publicKey)("metadataAddress")]);function Rar(t,e,r,n=[],i=Fhe.TOKEN_2022_PROGRAM_ID){if(!(0,Fhe.programSupportsExtensions)(i))throw new jXe.TokenUnsupportedInstructionError;let o=(0,Par.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],e,n),s=Buffer.alloc(_d.updateMetadataPointerData.span);return _d.updateMetadataPointerData.encode({instruction:KXe.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:S7.Update,metadataAddress:r??dz.PublicKey.default},s),new dz.TransactionInstruction({keys:o,programId:i,data:s})}});var GXe=_(lw=>{"use strict";u();l();var Car=lw&&lw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VXe=lw&&lw.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Car(e,t,r)};Object.defineProperty(lw,"__esModule",{value:!0});VXe(WXe(),lw);VXe(Kpe(),lw)});var HXe=_(Du=>{"use strict";u();l();Object.defineProperty(Du,"__esModule",{value:!0});Du.KeyNotFoundError=Du.ImmutableMetadataError=Du.IncorrectUpdateAuthorityError=Du.IncorrectMintAuthorityError=Du.MintHasNoMintAuthorityError=Du.IncorrectAccountError=Du.TokenMetadataError=void 0;var b0=class extends Error{constructor(e){super(e)}};Du.TokenMetadataError=b0;var qhe=class extends b0{constructor(){super(...arguments),this.name="IncorrectAccountError"}};Du.IncorrectAccountError=qhe;var jhe=class extends b0{constructor(){super(...arguments),this.name="MintHasNoMintAuthorityError"}};Du.MintHasNoMintAuthorityError=jhe;var Khe=class extends b0{constructor(){super(...arguments),this.name="IncorrectMintAuthorityError"}};Du.IncorrectMintAuthorityError=Khe;var Whe=class extends b0{constructor(){super(...arguments),this.name="IncorrectUpdateAuthorityError"}};Du.IncorrectUpdateAuthorityError=Whe;var Vhe=class extends b0{constructor(){super(...arguments),this.name="ImmutableMetadataError"}};Du.ImmutableMetadataError=Vhe;var Ghe=class extends b0{constructor(){super(...arguments),this.name="KeyNotFoundError"}};Du.KeyNotFoundError=Ghe});var Hhe=_(dI=>{"use strict";u();l();Object.defineProperty(dI,"__esModule",{value:!0});dI.getFieldCodec=dI.Field=void 0;dI.getFieldConfig=Mar;var dw=iI(),fz;(function(t){t[t.Name=0]="Name",t[t.Symbol=1]="Symbol",t[t.Uri=2]="Uri"})(fz||(dI.Field=fz={}));var Bar=()=>[["Name",(0,dw.getUnitCodec)()],["Symbol",(0,dw.getUnitCodec)()],["Uri",(0,dw.getUnitCodec)()],["Key",(0,dw.getStructCodec)([["value",(0,dw.getTupleCodec)([(0,dw.addCodecSizePrefix)((0,dw.getUtf8Codec)(),(0,dw.getU32Codec)())])]])]];dI.getFieldCodec=Bar;function Mar(t){return t===fz.Name||t==="Name"||t==="name"?{__kind:"Name"}:t===fz.Symbol||t==="Symbol"||t==="symbol"?{__kind:"Symbol"}:t===fz.Uri||t==="Uri"||t==="uri"?{__kind:"Uri"}:{__kind:"Key",value:[t]}}});var YXe=_(fI=>{"use strict";u();l();Object.defineProperty(fI,"__esModule",{value:!0});fI.createInitializeInstruction=Dar;fI.createUpdateFieldInstruction=Uar;fI.createRemoveKeyInstruction=Lar;fI.createUpdateAuthorityInstruction=zar;fI.createEmitInstruction=Far;var ws=iI(),nP=Ne(),$Xe=Hhe();function hz(t,e){return(0,ws.transformEncoder)((0,ws.getTupleEncoder)([(0,ws.getBytesEncoder)(),e]),r=>[t,r])}function Nar(){return(0,ws.transformEncoder)((0,ws.fixEncoderSize)((0,ws.getBytesEncoder)(),32),t=>t.toBytes())}function pz(){return(0,ws.addEncoderSizePrefix)((0,ws.getUtf8Encoder)(),(0,ws.getU32Encoder)())}function Dar(t){let{programId:e,metadata:r,updateAuthority:n,mint:i,mintAuthority:o,name:s,symbol:a,uri:c}=t;return new nP.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!1,pubkey:i},{isSigner:!0,isWritable:!1,pubkey:o}],data:Buffer.from(hz(new Uint8Array([210,225,30,162,88,184,77,141]),(0,ws.getStructEncoder)([["name",pz()],["symbol",pz()],["uri",pz()]])).encode({name:s,symbol:a,uri:c}))})}function Uar(t){let{programId:e,metadata:r,updateAuthority:n,field:i,value:o}=t;return new nP.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!0,isWritable:!1,pubkey:n}],data:Buffer.from(hz(new Uint8Array([221,233,49,45,181,202,220,200]),(0,ws.getStructEncoder)([["field",(0,ws.getDataEnumCodec)((0,$Xe.getFieldCodec)())],["value",pz()]])).encode({field:(0,$Xe.getFieldConfig)(i),value:o}))})}function Lar(t){let{programId:e,metadata:r,updateAuthority:n,key:i,idempotent:o}=t;return new nP.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!0,isWritable:!1,pubkey:n}],data:Buffer.from(hz(new Uint8Array([234,18,32,56,89,141,37,181]),(0,ws.getStructEncoder)([["idempotent",(0,ws.getBooleanEncoder)()],["key",pz()]])).encode({idempotent:o,key:i}))})}function zar(t){let{programId:e,metadata:r,oldAuthority:n,newAuthority:i}=t;return new nP.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!0,pubkey:r},{isSigner:!0,isWritable:!1,pubkey:n}],data:Buffer.from(hz(new Uint8Array([215,228,166,228,84,100,86,123]),(0,ws.getStructEncoder)([["newAuthority",Nar()]])).encode({newAuthority:i??nP.SystemProgram.programId}))})}function Far(t){let{programId:e,metadata:r,start:n,end:i}=t;return new nP.TransactionInstruction({programId:e,keys:[{isSigner:!1,isWritable:!1,pubkey:r}],data:Buffer.from(hz(new Uint8Array([250,166,180,250,13,12,184,70]),(0,ws.getStructEncoder)([["start",(0,ws.getOptionEncoder)((0,ws.getU64Encoder)())],["end",(0,ws.getOptionEncoder)((0,ws.getU64Encoder)())]])).encode({start:n??null,end:i??null}))})}});var ZXe=_(iP=>{"use strict";u();l();Object.defineProperty(iP,"__esModule",{value:!0});iP.TOKEN_METADATA_DISCRIMINATOR=void 0;iP.pack=jar;iP.unpack=Kar;var w7=Ne(),yg=iI();iP.TOKEN_METADATA_DISCRIMINATOR=Buffer.from([112,132,90,90,11,88,157,87]);function mz(){return(0,yg.addCodecSizePrefix)((0,yg.getUtf8Codec)(),(0,yg.getU32Codec)())}var XXe=(0,yg.getStructCodec)([["updateAuthority",(0,yg.fixCodecSize)((0,yg.getBytesCodec)(),32)],["mint",(0,yg.fixCodecSize)((0,yg.getBytesCodec)(),32)],["name",mz()],["symbol",mz()],["uri",mz()],["additionalMetadata",(0,yg.getArrayCodec)((0,yg.getTupleCodec)([mz(),mz()]))]]);function qar(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return!1;return!0}function jar(t){var e;let r=(e=t.updateAuthority)!==null&&e!==void 0?e:w7.PublicKey.default;return XXe.encode(Object.assign(Object.assign({},t),{updateAuthority:r.toBuffer(),mint:t.mint.toBuffer()}))}function Kar(t){let e=XXe.decode(t);return qar(e.updateAuthority)?{mint:new w7.PublicKey(e.mint),name:e.name,symbol:e.symbol,uri:e.uri,additionalMetadata:e.additionalMetadata}:{updateAuthority:new w7.PublicKey(e.updateAuthority),mint:new w7.PublicKey(e.mint),name:e.name,symbol:e.symbol,uri:e.uri,additionalMetadata:e.additionalMetadata}}});var E7=_(gg=>{"use strict";u();l();var War=gg&&gg.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),A7=gg&&gg.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&War(e,t,r)};Object.defineProperty(gg,"__esModule",{value:!0});A7(HXe(),gg);A7(Hhe(),gg);A7(YXe(),gg);A7(ZXe(),gg)});var $he=_(oP=>{"use strict";u();l();var Var=oP&&oP.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(oP,"__esModule",{value:!0});oP.updateTokenMetadata=Yar;oP.getTokenMetadata=Xar;var I7=E7(),Gar=Je(),JXe=no(),Har=md(),$ar=t=>t===I7.Field.Name||t==="Name"||t==="name"?"name":t===I7.Field.Symbol||t==="Symbol"||t==="symbol"?"symbol":t===I7.Field.Uri||t==="Uri"||t==="uri"?"uri":t;function Yar(t,e,r){let n=$ar(e);if(n==="mint"||n==="updateAuthority")throw new Error(`Cannot update ${n} via this instruction`);if(["name","symbol","uri"].includes(n))return Object.assign(Object.assign({},t),{[n]:r});let i=[...t.additionalMetadata],o=t.additionalMetadata.findIndex(s=>s[0]===n);return o===-1?i.push([n,r]):i[o]=[n,r],Object.assign(Object.assign({},t),{additionalMetadata:i})}function Xar(t,e,r){return Var(this,arguments,void 0,function*(n,i,o,s=Gar.TOKEN_2022_PROGRAM_ID){let a=yield(0,Har.getMint)(n,i,o,s),c=(0,JXe.getExtensionData)(JXe.ExtensionType.TokenMetadata,a.tlvData);return c===null?null:(0,I7.unpack)(c)})}});var Xhe=_(_0=>{"use strict";u();l();var Zar=_0&&_0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Yhe=_0&&_0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Zar(e,t,r)};Object.defineProperty(_0,"__esModule",{value:!0});Yhe(xx(),_0);Yhe(md(),_0);Yhe(vx(),_0)});var eZe=_(bg=>{"use strict";u();l();var fw=bg&&bg.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(bg,"__esModule",{value:!0});bg.tokenMetadataInitialize=rcr;bg.tokenMetadataInitializeWithRentTransfer=ncr;bg.tokenMetadataUpdateField=icr;bg.tokenMetadataUpdateFieldWithRentTransfer=ocr;bg.tokenMetadataRemoveKey=scr;bg.tokenMetadataUpdateAuthority=acr;var Sd=Ne(),S0=E7(),pw=Je(),aP=io(),sP=no(),Jar=$he(),QXe=tr(),Qar=Xhe();function ecr(t,e,r){return fw(this,arguments,void 0,function*(n,i,o,s=pw.TOKEN_2022_PROGRAM_ID){let a=yield n.getAccountInfo(i);if(!a)throw new QXe.TokenAccountNotFoundError;let c=(0,S0.pack)(o).length,d=(0,sP.getNewAccountLenForExtensionLen)(a,i,sP.ExtensionType.TokenMetadata,c,s);return d<=a.data.length?0:(yield n.getMinimumBalanceForRentExemption(d))-a.lamports})}function tcr(t,e,r,n){return fw(this,arguments,void 0,function*(i,o,s,a,c=pw.TOKEN_2022_PROGRAM_ID){let d=yield i.getAccountInfo(o);if(!d)throw new QXe.TokenAccountNotFoundError;let f=(0,Qar.unpackMint)(o,d,c),p=(0,sP.getExtensionData)(sP.ExtensionType.TokenMetadata,f.tlvData);if(p===null)throw new Error("TokenMetadata extension not initialized");let m=(0,Jar.updateTokenMetadata)((0,S0.unpack)(p),s,a),y=(0,S0.pack)(m).length,g=(0,sP.getNewAccountLenForExtensionLen)(d,o,sP.ExtensionType.TokenMetadata,y,c);return g<=d.data.length?0:(yield i.getMinimumBalanceForRentExemption(g))-d.lamports})}function rcr(t,e,r,n,i,o,s,a){return fw(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,S=[],P,U=pw.TOKEN_2022_PROGRAM_ID){let[L,j]=(0,aP.getSigners)(m,S),Z=new Sd.Transaction().add((0,S0.createInitializeInstruction)({programId:U,metadata:f,updateAuthority:p,mint:f,mintAuthority:L,name:y,symbol:g,uri:b}));return yield(0,Sd.sendAndConfirmTransaction)(c,Z,[d,...j],P)})}function ncr(t,e,r,n,i,o,s,a){return fw(this,arguments,void 0,function*(c,d,f,p,m,y,g,b,S=[],P,U=pw.TOKEN_2022_PROGRAM_ID){let[L,j]=(0,aP.getSigners)(m,S),Z=new Sd.Transaction,se=yield ecr(c,f,{updateAuthority:p,mint:f,name:y,symbol:g,uri:b,additionalMetadata:[]},U);return se>0&&Z.add(Sd.SystemProgram.transfer({fromPubkey:d.publicKey,toPubkey:f,lamports:se})),Z.add((0,S0.createInitializeInstruction)({programId:U,metadata:f,updateAuthority:p,mint:f,mintAuthority:L,name:y,symbol:g,uri:b})),yield(0,Sd.sendAndConfirmTransaction)(c,Z,[d,...j],P)})}function icr(t,e,r,n,i,o){return fw(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=pw.TOKEN_2022_PROGRAM_ID){let[b,S]=(0,aP.getSigners)(d,m),P=new Sd.Transaction().add((0,S0.createUpdateFieldInstruction)({programId:g,metadata:c,updateAuthority:b,field:f,value:p}));return yield(0,Sd.sendAndConfirmTransaction)(s,P,[a,...S],y)})}function ocr(t,e,r,n,i,o){return fw(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=pw.TOKEN_2022_PROGRAM_ID){let[b,S]=(0,aP.getSigners)(d,m),P=new Sd.Transaction,U=yield tcr(s,c,f,p,g);return U>0&&P.add(Sd.SystemProgram.transfer({fromPubkey:a.publicKey,toPubkey:c,lamports:U})),P.add((0,S0.createUpdateFieldInstruction)({programId:g,metadata:c,updateAuthority:b,field:f,value:p})),yield(0,Sd.sendAndConfirmTransaction)(s,P,[a,...S],y)})}function scr(t,e,r,n,i,o){return fw(this,arguments,void 0,function*(s,a,c,d,f,p,m=[],y,g=pw.TOKEN_2022_PROGRAM_ID){let[b,S]=(0,aP.getSigners)(d,m),P=new Sd.Transaction().add((0,S0.createRemoveKeyInstruction)({programId:g,metadata:c,updateAuthority:b,key:f,idempotent:p}));return yield(0,Sd.sendAndConfirmTransaction)(s,P,[a,...S],y)})}function acr(t,e,r,n,i){return fw(this,arguments,void 0,function*(o,s,a,c,d,f=[],p,m=pw.TOKEN_2022_PROGRAM_ID){let[y,g]=(0,aP.getSigners)(c,f),b=new Sd.Transaction().add((0,S0.createUpdateAuthorityInstruction)({programId:m,metadata:a,oldAuthority:y,newAuthority:d}));return yield(0,Sd.sendAndConfirmTransaction)(o,b,[s,...g],p)})}});var rZe=_(hw=>{"use strict";u();l();var ccr=hw&&hw.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tZe=hw&&hw.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ccr(e,t,r)};Object.defineProperty(hw,"__esModule",{value:!0});tZe(eZe(),hw);tZe($he(),hw)});var nZe=_($i=>{"use strict";u();l();var ucr=$i&&$i.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ds=$i&&$i.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ucr(e,t,r)};Object.defineProperty($i,"__esModule",{value:!0});Ds(pL(),$i);Ds(xfe(),$i);Ds(Rfe(),$i);Ds(no(),$i);Ds(EXe(),$i);Ds(xXe(),$i);Ds(Upe(),$i);Ds(qXe(),$i);Ds(jpe(),$i);Ds(GXe(),$i);Ds(rhe(),$i);Ds(Mpe(),$i);Ds(rZe(),$i);Ds(Wpe(),$i);Ds(Vpe(),$i);Ds(she(),$i);Ds(Zpe(),$i);Ds(bhe(),$i);Ds(Xpe(),$i)});var Zhe=_(tm=>{"use strict";u();l();Object.defineProperty(tm,"__esModule",{value:!0});tm.initializeAccount2InstructionData=void 0;tm.createInitializeAccount2Instruction=dcr;tm.decodeInitializeAccount2Instruction=fcr;tm.decodeInitializeAccount2InstructionUnchecked=cZe;var iZe=Ce(),lcr=gt(),oZe=Ne(),sZe=Je(),T7=tr(),aZe=br();tm.initializeAccount2InstructionData=(0,iZe.struct)([(0,iZe.u8)("instruction"),(0,lcr.publicKey)("owner")]);function dcr(t,e,r,n=sZe.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:oZe.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],o=Buffer.alloc(tm.initializeAccount2InstructionData.span);return tm.initializeAccount2InstructionData.encode({instruction:aZe.TokenInstruction.InitializeAccount2,owner:r},o),new oZe.TransactionInstruction({keys:i,programId:n,data:o})}function fcr(t,e=sZe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new T7.TokenInvalidInstructionProgramError;if(t.data.length!==tm.initializeAccount2InstructionData.span)throw new T7.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n,rent:i},data:o}=cZe(t);if(o.instruction!==aZe.TokenInstruction.InitializeAccount2)throw new T7.TokenInvalidInstructionTypeError;if(!r||!n||!i)throw new T7.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n,rent:i},data:o}}function cZe({programId:t,keys:[e,r,n],data:i}){return{programId:t,keys:{account:e,mint:r,rent:n},data:tm.initializeAccount2InstructionData.decode(i)}}});var Jhe=_(rm=>{"use strict";u();l();Object.defineProperty(rm,"__esModule",{value:!0});rm.initializeAccount3InstructionData=void 0;rm.createInitializeAccount3Instruction=mcr;rm.decodeInitializeAccount3Instruction=ycr;rm.decodeInitializeAccount3InstructionUnchecked=fZe;var uZe=Ce(),pcr=gt(),hcr=Ne(),lZe=Je(),k7=tr(),dZe=br();rm.initializeAccount3InstructionData=(0,uZe.struct)([(0,uZe.u8)("instruction"),(0,pcr.publicKey)("owner")]);function mcr(t,e,r,n=lZe.TOKEN_PROGRAM_ID){let i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}],o=Buffer.alloc(rm.initializeAccount3InstructionData.span);return rm.initializeAccount3InstructionData.encode({instruction:dZe.TokenInstruction.InitializeAccount3,owner:r},o),new hcr.TransactionInstruction({keys:i,programId:n,data:o})}function ycr(t,e=lZe.TOKEN_PROGRAM_ID){if(!t.programId.equals(e))throw new k7.TokenInvalidInstructionProgramError;if(t.data.length!==rm.initializeAccount3InstructionData.span)throw new k7.TokenInvalidInstructionDataError;let{keys:{account:r,mint:n},data:i}=fZe(t);if(i.instruction!==dZe.TokenInstruction.InitializeAccount3)throw new k7.TokenInvalidInstructionTypeError;if(!r||!n)throw new k7.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r,mint:n},data:i}}function fZe({programId:t,keys:[e,r],data:n}){return{programId:t,keys:{account:e,mint:r},data:rm.initializeAccount3InstructionData.decode(n)}}});var pZe=_(Yi=>{"use strict";u();l();Object.defineProperty(Yi,"__esModule",{value:!0});Yi.decodeInstruction=qcr;Yi.isInitializeMintInstruction=jcr;Yi.isInitializeAccountInstruction=Kcr;Yi.isInitializeMultisigInstruction=Wcr;Yi.isTransferInstruction=Vcr;Yi.isApproveInstruction=Gcr;Yi.isRevokeInstruction=Hcr;Yi.isSetAuthorityInstruction=$cr;Yi.isMintToInstruction=Ycr;Yi.isBurnInstruction=Xcr;Yi.isCloseAccountInstruction=Zcr;Yi.isFreezeAccountInstruction=Jcr;Yi.isThawAccountInstruction=Qcr;Yi.isTransferCheckedInstruction=eur;Yi.isApproveCheckedInstruction=tur;Yi.isMintToCheckedInstruction=rur;Yi.isBurnCheckedInstruction=nur;Yi.isInitializeAccount2Instruction=iur;Yi.isSyncNativeInstruction=our;Yi.isInitializeAccount3Instruction=sur;Yi.isInitializeMint2Instruction=aur;Yi.isAmountToUiAmountInstruction=cur;Yi.isUiamountToAmountInstruction=uur;var gcr=Ce(),bcr=Je(),Qhe=tr(),_cr=vG(),Scr=CH(),wcr=MH(),Acr=DH(),Ecr=LH(),Icr=FH(),Tcr=ZH(),kcr=qL(),vcr=Zhe(),xcr=Jhe(),Pcr=b7(),Ocr=KH(),Rcr=GH(),Ccr=e7(),Bcr=r7(),Mcr=i7(),Ncr=s7(),Dcr=$L(),Ucr=c7(),Lcr=l7(),zcr=PL(),fr=br(),Fcr=f7();function qcr(t,e=bcr.TOKEN_PROGRAM_ID){if(!t.data.length)throw new Qhe.TokenInvalidInstructionDataError;let r=(0,gcr.u8)().decode(t.data);if(r===fr.TokenInstruction.InitializeMint)return(0,Pcr.decodeInitializeMintInstruction)(t,e);if(r===fr.TokenInstruction.InitializeAccount)return(0,kcr.decodeInitializeAccountInstruction)(t,e);if(r===fr.TokenInstruction.InitializeMultisig)return(0,Rcr.decodeInitializeMultisigInstruction)(t,e);if(r===fr.TokenInstruction.Transfer)return(0,Lcr.decodeTransferInstruction)(t,e);if(r===fr.TokenInstruction.Approve)return(0,Scr.decodeApproveInstruction)(t,e);if(r===fr.TokenInstruction.Revoke)return(0,Mcr.decodeRevokeInstruction)(t,e);if(r===fr.TokenInstruction.SetAuthority)return(0,Ncr.decodeSetAuthorityInstruction)(t,e);if(r===fr.TokenInstruction.MintTo)return(0,Ccr.decodeMintToInstruction)(t,e);if(r===fr.TokenInstruction.Burn)return(0,Acr.decodeBurnInstruction)(t,e);if(r===fr.TokenInstruction.CloseAccount)return(0,Icr.decodeCloseAccountInstruction)(t,e);if(r===fr.TokenInstruction.FreezeAccount)return(0,Tcr.decodeFreezeAccountInstruction)(t,e);if(r===fr.TokenInstruction.ThawAccount)return(0,Ucr.decodeThawAccountInstruction)(t,e);if(r===fr.TokenInstruction.TransferChecked)return(0,zcr.decodeTransferCheckedInstruction)(t,e);if(r===fr.TokenInstruction.ApproveChecked)return(0,wcr.decodeApproveCheckedInstruction)(t,e);if(r===fr.TokenInstruction.MintToChecked)return(0,Bcr.decodeMintToCheckedInstruction)(t,e);if(r===fr.TokenInstruction.BurnChecked)return(0,Ecr.decodeBurnCheckedInstruction)(t,e);if(r===fr.TokenInstruction.InitializeAccount2)return(0,vcr.decodeInitializeAccount2Instruction)(t,e);if(r===fr.TokenInstruction.SyncNative)return(0,Dcr.decodeSyncNativeInstruction)(t,e);if(r===fr.TokenInstruction.InitializeAccount3)return(0,xcr.decodeInitializeAccount3Instruction)(t,e);if(r===fr.TokenInstruction.InitializeMint2)return(0,Ocr.decodeInitializeMint2Instruction)(t,e);if(r===fr.TokenInstruction.AmountToUiAmount)return(0,_cr.decodeAmountToUiAmountInstruction)(t,e);if(r===fr.TokenInstruction.UiAmountToAmount)return(0,Fcr.decodeUiAmountToAmountInstruction)(t,e);throw r===fr.TokenInstruction.InitializeMultisig2?new Qhe.TokenInvalidInstructionTypeError:new Qhe.TokenInvalidInstructionTypeError}function jcr(t){return t.data.instruction===fr.TokenInstruction.InitializeMint}function Kcr(t){return t.data.instruction===fr.TokenInstruction.InitializeAccount}function Wcr(t){return t.data.instruction===fr.TokenInstruction.InitializeMultisig}function Vcr(t){return t.data.instruction===fr.TokenInstruction.Transfer}function Gcr(t){return t.data.instruction===fr.TokenInstruction.Approve}function Hcr(t){return t.data.instruction===fr.TokenInstruction.Revoke}function $cr(t){return t.data.instruction===fr.TokenInstruction.SetAuthority}function Ycr(t){return t.data.instruction===fr.TokenInstruction.MintTo}function Xcr(t){return t.data.instruction===fr.TokenInstruction.Burn}function Zcr(t){return t.data.instruction===fr.TokenInstruction.CloseAccount}function Jcr(t){return t.data.instruction===fr.TokenInstruction.FreezeAccount}function Qcr(t){return t.data.instruction===fr.TokenInstruction.ThawAccount}function eur(t){return t.data.instruction===fr.TokenInstruction.TransferChecked}function tur(t){return t.data.instruction===fr.TokenInstruction.ApproveChecked}function rur(t){return t.data.instruction===fr.TokenInstruction.MintToChecked}function nur(t){return t.data.instruction===fr.TokenInstruction.BurnChecked}function iur(t){return t.data.instruction===fr.TokenInstruction.InitializeAccount2}function our(t){return t.data.instruction===fr.TokenInstruction.SyncNative}function sur(t){return t.data.instruction===fr.TokenInstruction.InitializeAccount3}function aur(t){return t.data.instruction===fr.TokenInstruction.InitializeMint2}function cur(t){return t.data.instruction===fr.TokenInstruction.AmountToUiAmount}function uur(t){return t.data.instruction===fr.TokenInstruction.UiAmountToAmount}});var mZe=_(hZe=>{"use strict";u();l();Object.defineProperty(hZe,"__esModule",{value:!0})});var _Ze=_(nm=>{"use strict";u();l();Object.defineProperty(nm,"__esModule",{value:!0});nm.initializeImmutableOwnerInstructionData=void 0;nm.createInitializeImmutableOwnerInstruction=dur;nm.decodeInitializeImmutableOwnerInstruction=fur;nm.decodeInitializeImmutableOwnerInstructionUnchecked=bZe;var yZe=Ce(),lur=Ne(),v7=tr(),gZe=br();nm.initializeImmutableOwnerInstructionData=(0,yZe.struct)([(0,yZe.u8)("instruction")]);function dur(t,e){let r=[{pubkey:t,isSigner:!1,isWritable:!0}],n=Buffer.alloc(nm.initializeImmutableOwnerInstructionData.span);return nm.initializeImmutableOwnerInstructionData.encode({instruction:gZe.TokenInstruction.InitializeImmutableOwner},n),new lur.TransactionInstruction({keys:r,programId:e,data:n})}function fur(t,e){if(!t.programId.equals(e))throw new v7.TokenInvalidInstructionProgramError;if(t.data.length!==nm.initializeImmutableOwnerInstructionData.span)throw new v7.TokenInvalidInstructionDataError;let{keys:{account:r},data:n}=bZe(t);if(n.instruction!==gZe.TokenInstruction.InitializeImmutableOwner)throw new v7.TokenInvalidInstructionTypeError;if(!r)throw new v7.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:r},data:n}}function bZe({programId:t,keys:[e],data:r}){let{instruction:n}=nm.initializeImmutableOwnerInstructionData.decode(r);return{programId:t,keys:{account:e},data:{instruction:n}}}});var EZe=_(im=>{"use strict";u();l();Object.defineProperty(im,"__esModule",{value:!0});im.initializeMintCloseAuthorityInstructionData=void 0;im.createInitializeMintCloseAuthorityInstruction=yur;im.decodeInitializeMintCloseAuthorityInstruction=gur;im.decodeInitializeMintCloseAuthorityInstructionUnchecked=AZe;var SZe=Ce(),pur=Ne(),hur=Je(),yz=tr(),wZe=br(),mur=Wx();im.initializeMintCloseAuthorityInstructionData=(0,SZe.struct)([(0,SZe.u8)("instruction"),new mur.COptionPublicKeyLayout("closeAuthority")]);function yur(t,e,r){if(!(0,hur.programSupportsExtensions)(r))throw new yz.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!1,isWritable:!0}],i=Buffer.alloc(34);return im.initializeMintCloseAuthorityInstructionData.encode({instruction:wZe.TokenInstruction.InitializeMintCloseAuthority,closeAuthority:e},i),new pur.TransactionInstruction({keys:n,programId:r,data:i.subarray(0,im.initializeMintCloseAuthorityInstructionData.getSpan(i))})}function gur(t,e){if(!t.programId.equals(e))throw new yz.TokenInvalidInstructionProgramError;if(t.data.length!==im.initializeMintCloseAuthorityInstructionData.getSpan(t.data))throw new yz.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=AZe(t);if(n.instruction!==wZe.TokenInstruction.InitializeMintCloseAuthority)throw new yz.TokenInvalidInstructionTypeError;if(!r)throw new yz.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}function AZe({programId:t,keys:[e],data:r}){let{instruction:n,closeAuthority:i}=im.initializeMintCloseAuthorityInstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,closeAuthority:i}}}});var kZe=_(eme=>{"use strict";u();l();Object.defineProperty(eme,"__esModule",{value:!0});eme.createReallocateInstruction=wur;var x7=Ce(),IZe=Ne(),TZe=Je(),bur=tr(),_ur=Ui(),Sur=br();function wur(t,e,r,n,i=[],o=TZe.TOKEN_2022_PROGRAM_ID){if(!(0,TZe.programSupportsExtensions)(o))throw new bur.TokenUnsupportedInstructionError;let s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:IZe.SystemProgram.programId,isSigner:!1,isWritable:!1}],a=(0,_ur.addSigners)(s,n,i),c=(0,x7.struct)([(0,x7.u8)("instruction"),(0,x7.seq)((0,x7.u16)(),r.length,"extensionTypes")]),d=Buffer.alloc(c.span);return c.encode({instruction:Sur.TokenInstruction.Reallocate,extensionTypes:r},d),new IZe.TransactionInstruction({keys:a,programId:o,data:d})}});var xZe=_(pI=>{"use strict";u();l();Object.defineProperty(pI,"__esModule",{value:!0});pI.initializeNonTransferableMintInstructionData=void 0;pI.createInitializeNonTransferableMintInstruction=kur;var vZe=Ce(),Aur=Ne(),Eur=Je(),Iur=tr(),Tur=br();pI.initializeNonTransferableMintInstructionData=(0,vZe.struct)([(0,vZe.u8)("instruction")]);function kur(t,e){if(!(0,Eur.programSupportsExtensions)(e))throw new Iur.TokenUnsupportedInstructionError;let r=[{pubkey:t,isSigner:!1,isWritable:!0}],n=Buffer.alloc(pI.initializeNonTransferableMintInstructionData.span);return pI.initializeNonTransferableMintInstructionData.encode({instruction:Tur.TokenInstruction.InitializeNonTransferableMint},n),new Aur.TransactionInstruction({keys:r,programId:e,data:n})}});var CZe=_(om=>{"use strict";u();l();Object.defineProperty(om,"__esModule",{value:!0});om.initializePermanentDelegateInstructionData=void 0;om.createInitializePermanentDelegateInstruction=Rur;om.decodeInitializePermanentDelegateInstruction=Cur;om.decodeInitializePermanentDelegateInstructionUnchecked=RZe;var PZe=Ce(),vur=gt(),xur=Ne(),Pur=Ne(),Our=Je(),gz=tr(),OZe=br();om.initializePermanentDelegateInstructionData=(0,PZe.struct)([(0,PZe.u8)("instruction"),(0,vur.publicKey)("delegate")]);function Rur(t,e,r){if(!(0,Our.programSupportsExtensions)(r))throw new gz.TokenUnsupportedInstructionError;let n=[{pubkey:t,isSigner:!1,isWritable:!0}],i=Buffer.alloc(om.initializePermanentDelegateInstructionData.span);return om.initializePermanentDelegateInstructionData.encode({instruction:OZe.TokenInstruction.InitializePermanentDelegate,delegate:e||new xur.PublicKey(0)},i),new Pur.TransactionInstruction({keys:n,programId:r,data:i})}function Cur(t,e){if(!t.programId.equals(e))throw new gz.TokenInvalidInstructionProgramError;if(t.data.length!==om.initializePermanentDelegateInstructionData.span)throw new gz.TokenInvalidInstructionDataError;let{keys:{mint:r},data:n}=RZe(t);if(n.instruction!==OZe.TokenInstruction.InitializePermanentDelegate)throw new gz.TokenInvalidInstructionTypeError;if(!r)throw new gz.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:r},data:n}}function RZe({programId:t,keys:[e],data:r}){let{instruction:n,delegate:i}=om.initializePermanentDelegateInstructionData.decode(r);return{programId:t,keys:{mint:e},data:{instruction:n,delegate:i}}}});var BZe=_(Nt=>{"use strict";u();l();var Bur=Nt&&Nt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Pn=Nt&&Nt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Bur(e,t,r)};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.createInitializeMemberInstruction=Nt.createUpdateGroupAuthorityInstruction=Nt.createUpdateGroupMaxSizeInstruction=Nt.createInitializeGroupInstruction=Nt.createEmitInstruction=Nt.createUpdateAuthorityInstruction=Nt.createRemoveKeyInstruction=Nt.createUpdateFieldInstruction=Nt.createInitializeInstruction=void 0;var bz=E7();Object.defineProperty(Nt,"createInitializeInstruction",{enumerable:!0,get:function(){return bz.createInitializeInstruction}});Object.defineProperty(Nt,"createUpdateFieldInstruction",{enumerable:!0,get:function(){return bz.createUpdateFieldInstruction}});Object.defineProperty(Nt,"createRemoveKeyInstruction",{enumerable:!0,get:function(){return bz.createRemoveKeyInstruction}});Object.defineProperty(Nt,"createUpdateAuthorityInstruction",{enumerable:!0,get:function(){return bz.createUpdateAuthorityInstruction}});Object.defineProperty(Nt,"createEmitInstruction",{enumerable:!0,get:function(){return bz.createEmitInstruction}});var P7=AL();Object.defineProperty(Nt,"createInitializeGroupInstruction",{enumerable:!0,get:function(){return P7.createInitializeGroupInstruction}});Object.defineProperty(Nt,"createUpdateGroupMaxSizeInstruction",{enumerable:!0,get:function(){return P7.createUpdateGroupMaxSizeInstruction}});Object.defineProperty(Nt,"createUpdateGroupAuthorityInstruction",{enumerable:!0,get:function(){return P7.createUpdateGroupAuthorityInstruction}});Object.defineProperty(Nt,"createInitializeMemberInstruction",{enumerable:!0,get:function(){return P7.createInitializeMemberInstruction}});Pn(cI(),Nt);Pn(pZe(),Nt);Pn(br(),Nt);Pn(b7(),Nt);Pn(qL(),Nt);Pn(GH(),Nt);Pn(l7(),Nt);Pn(CH(),Nt);Pn(i7(),Nt);Pn(s7(),Nt);Pn(e7(),Nt);Pn(DH(),Nt);Pn(FH(),Nt);Pn(ZH(),Nt);Pn(c7(),Nt);Pn(PL(),Nt);Pn(MH(),Nt);Pn(r7(),Nt);Pn(LH(),Nt);Pn(Zhe(),Nt);Pn($L(),Nt);Pn(Jhe(),Nt);Pn(mZe(),Nt);Pn(KH(),Nt);Pn(_Ze(),Nt);Pn(vG(),Nt);Pn(f7(),Nt);Pn(EZe(),Nt);Pn(kZe(),Nt);Pn(Ohe(),Nt);Pn(xZe(),Nt);Pn(CZe(),Nt)});var MZe=_(Mp=>{"use strict";u();l();var Mur=Mp&&Mp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cP=Mp&&Mp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Mur(e,t,r)};Object.defineProperty(Mp,"__esModule",{value:!0});cP(bXe(),Mp);cP(Je(),Mp);cP(tr(),Mp);cP(nZe(),Mp);cP(BZe(),Mp);cP(Xhe(),Mp)});var UZe=_(zt=>{"use strict";u();l();var Nur=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zt,"__esModule",{value:!0});zt.map=zt.array=zt.rustEnum=zt.str=zt.vecU8=zt.tagged=zt.vec=zt.bool=zt.option=zt.publicKey=zt.i256=zt.u256=zt.i128=zt.u128=zt.i64=zt.u64=zt.struct=zt.f64=zt.f32=zt.i32=zt.u32=zt.i16=zt.u16=zt.i8=zt.u8=void 0;var Xi=$D(),Dur=Ne(),Uur=Nur(Lu()),w0=$D();Object.defineProperty(zt,"u8",{enumerable:!0,get:function(){return w0.u8}});Object.defineProperty(zt,"i8",{enumerable:!0,get:function(){return w0.s8}});Object.defineProperty(zt,"u16",{enumerable:!0,get:function(){return w0.u16}});Object.defineProperty(zt,"i16",{enumerable:!0,get:function(){return w0.s16}});Object.defineProperty(zt,"u32",{enumerable:!0,get:function(){return w0.u32}});Object.defineProperty(zt,"i32",{enumerable:!0,get:function(){return w0.s32}});Object.defineProperty(zt,"f32",{enumerable:!0,get:function(){return w0.f32}});Object.defineProperty(zt,"f64",{enumerable:!0,get:function(){return w0.f64}});Object.defineProperty(zt,"struct",{enumerable:!0,get:function(){return w0.struct}});var mw=class extends Xi.Layout{constructor(e,r,n){super(e,n),this.blob=(0,Xi.blob)(e),this.signed=r}decode(e,r=0){let n=new Uur.default(this.blob.decode(e,r),10,"le");return this.signed?n.fromTwos(this.span*8).clone():n}encode(e,r,n=0){return this.signed&&(e=e.toTwos(this.span*8)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),r,n)}};function NZe(t){return new mw(8,!1,t)}zt.u64=NZe;function Lur(t){return new mw(8,!0,t)}zt.i64=Lur;function zur(t){return new mw(16,!1,t)}zt.u128=zur;function Fur(t){return new mw(16,!0,t)}zt.i128=Fur;function qur(t){return new mw(32,!1,t)}zt.u256=qur;function jur(t){return new mw(32,!0,t)}zt.i256=jur;var _g=class extends Xi.Layout{constructor(e,r,n,i){super(e.span,i),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}};function Kur(t){return new _g((0,Xi.blob)(32),e=>new Dur.PublicKey(e),e=>e.toBuffer(),t)}zt.publicKey=Kur;var tme=class extends Xi.Layout{constructor(e,r){super(-1,r),this.layout=e,this.discriminator=(0,Xi.u8)()}encode(e,r,n=0){return e==null?this.discriminator.encode(0,r,n):(this.discriminator.encode(1,r,n),this.layout.encode(e,r,n+1)+1)}decode(e,r=0){let n=this.discriminator.decode(e,r);if(n===0)return null;if(n===1)return this.layout.decode(e,r+1);throw new Error("Invalid option "+this.property)}getSpan(e,r=0){let n=this.discriminator.decode(e,r);if(n===0)return 1;if(n===1)return this.layout.getSpan(e,r+1)+1;throw new Error("Invalid option "+this.property)}};function Wur(t,e){return new tme(t,e)}zt.option=Wur;function Vur(t){return new _g((0,Xi.u8)(),Gur,Hur,t)}zt.bool=Vur;function Gur(t){if(t===0)return!1;if(t===1)return!0;throw new Error("Invalid bool: "+t)}function Hur(t){return t?1:0}function $ur(t,e){let r=(0,Xi.u32)("length"),n=(0,Xi.struct)([r,(0,Xi.seq)(t,(0,Xi.offset)(r,-r.span),"values")]);return new _g(n,({values:i})=>i,i=>({values:i}),e)}zt.vec=$ur;function Yur(t,e,r){let n=(0,Xi.struct)([NZe("tag"),e.replicate("data")]);function i({tag:o,data:s}){if(!o.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+o.toString("hex"));return s}return new _g(n,i,o=>({tag:t,data:o}),r)}zt.tagged=Yur;function DZe(t){let e=(0,Xi.u32)("length"),r=(0,Xi.struct)([e,(0,Xi.blob)((0,Xi.offset)(e,-e.span),"data")]);return new _g(r,({data:n})=>n,n=>({data:n}),t)}zt.vecU8=DZe;function Xur(t){return new _g(DZe(),e=>e.toString("utf-8"),e=>Buffer.from(e,"utf-8"),t)}zt.str=Xur;function Zur(t,e,r){let n=(0,Xi.union)(r??(0,Xi.u8)(),e);return t.forEach((i,o)=>n.addVariant(o,i,i.property)),n}zt.rustEnum=Zur;function Jur(t,e,r){let n=(0,Xi.struct)([(0,Xi.seq)(t,e,"values")]);return new _g(n,({values:i})=>i,i=>({values:i}),r)}zt.array=Jur;var rme=class extends Xi.Layout{constructor(e,r,n){super(e.span+r.span,n),this.keyLayout=e,this.valueLayout=r}decode(e,r){r=r||0;let n=this.keyLayout.decode(e,r),i=this.valueLayout.decode(e,r+this.keyLayout.getSpan(e,r));return[n,i]}encode(e,r,n){n=n||0;let i=this.keyLayout.encode(e[0],r,n),o=this.valueLayout.encode(e[1],r,n+i);return i+o}getSpan(e,r){return this.keyLayout.getSpan(e,r)+this.valueLayout.getSpan(e,r)}};function Qur(t,e,r){let n=(0,Xi.u32)("length"),i=(0,Xi.struct)([n,(0,Xi.seq)(new rme(t,e),(0,Xi.offset)(n,-n.span),"values")]);return new _g(i,({values:o})=>new Map(o),o=>({values:Array.from(o.entries())}),r)}zt.map=Qur});var iJe=_(st=>{"use strict";u();l();var Yr=Ne(),Te=Qde(),Ai=EI(),yf=MZe(),Ke=UZe(),FZe=Ai.Buffer.from("pool"),qZe=Ai.Buffer.from("cpi_authority"),jZe=Ai.Buffer.from([23,169,27,122,147,169,209,152]),ime=Ai.Buffer.from([241,34,48,186,37,179,123,192]),ome=Ai.Buffer.from([163,52,200,231,140,3,69,186]),sme=Ai.Buffer.from([112,230,105,101,145,202,157,97]),ame=Ai.Buffer.from([69,74,217,36,115,117,97,76]),cme=Ai.Buffer.from([170,23,31,34,133,173,93,242]),KZe=Ai.Buffer.from([114,143,210,73,96,115,1,228]);function lP(t){let{inputCompressedTokenAccounts:e,outputStateTreeInfo:r,remainingAccounts:n=[],rootIndices:i,tokenTransferOutputs:o}=t,s=n.slice(),a=null;e.length>0&&e[0].parsed.delegate&&(a=Te.getIndexOrAdd(s,e[0].parsed.delegate));let c=[];if(e.forEach((b,S)=>{let P=Te.getIndexOrAdd(s,b.compressedAccount.treeInfo.tree),U=Te.getIndexOrAdd(s,b.compressedAccount.treeInfo.queue);c.push({amount:b.parsed.amount,delegateIndex:a,merkleContext:{merkleTreePubkeyIndex:P,nullifierQueuePubkeyIndex:U,leafIndex:b.compressedAccount.leafIndex,queueIndex:null},rootIndex:i[S],lamports:b.compressedAccount.lamports.eq(Te.bn(0))?null:b.compressedAccount.lamports,tlv:null})}),e.length>0&&r)throw new Error("Cannot specify both input accounts and outputStateTreeInfo");let d;if(e.length>0)d=e[0].compressedAccount.treeInfo;else{if(!r)throw new Error("Neither input accounts nor outputStateTreeInfo are available");d=r}let f=d.nextTreeInfo||d,p=f.tree;if(f.treeType===Te.TreeType.StateV2)throw new Error("V2 trees are not supported yet");let m=Te.padOutputStateMerkleTrees(p,o.length),y=[];m.forEach((b,S)=>{var P;let U=Te.getIndexOrAdd(s,b);y.push({owner:o[S].owner,amount:o[S].amount,lamports:!((P=o[S].lamports)===null||P===void 0)&&P.eq(Te.bn(0))?null:o[S].lamports,merkleTreeIndex:U,tlv:null})});let g=s.map(b=>({pubkey:b,isWritable:1,isSigner:0}));return{inputTokenDataWithContext:c,remainingAccountMetas:g,packedOutputTokenData:y}}var elr=Ke.struct([Ke.array(Ke.u8(),32,"a"),Ke.array(Ke.u8(),64,"b"),Ke.array(Ke.u8(),32,"c")]),tlr=Ke.struct([Ke.publicKey("owner"),Ke.u64("amount"),Ke.option(Ke.u64(),"lamports"),Ke.u8("merkleTreeIndex"),Ke.option(Ke.vecU8(),"tlv")]),rlr=Ke.struct([Ke.u8("queueId"),Ke.u16("index")]),mme=Ke.struct([Ke.u64("amount"),Ke.option(Ke.u8(),"delegateIndex"),Ke.struct([Ke.u8("merkleTreePubkeyIndex"),Ke.u8("nullifierQueuePubkeyIndex"),Ke.u32("leafIndex"),Ke.option(rlr,"queueIndex")],"merkleContext"),Ke.u16("rootIndex"),Ke.option(Ke.u64(),"lamports"),Ke.option(Ke.vecU8(),"tlv")]),WZe=Ke.struct([Ke.publicKey("owner"),Ke.option(Ke.u8(),"delegateChangeAccountIndex")]),Az=Ke.struct([Ke.bool("setContext"),Ke.bool("firstSetContext"),Ke.u8("cpiContextAccountIndex")]),ume=Ke.struct([Ke.option(elr,"proof"),Ke.publicKey("mint"),Ke.option(WZe,"delegatedTransfer"),Ke.vec(mme,"inputTokenDataWithContext"),Ke.vec(tlr,"outputCompressedAccounts"),Ke.bool("isCompress"),Ke.option(Ke.u64(),"compressOrDecompressAmount"),Ke.option(Az,"cpiContext"),Ke.option(Ke.u8(),"lamportsChangeAccountMerkleTreeIndex")]),lme=Ke.struct([Ke.vec(Ke.publicKey(),"recipients"),Ke.vec(Ke.u64(),"amounts"),Ke.option(Ke.u64(),"lamports")]),dme=Ke.struct([Ke.publicKey("owner"),Ke.option(Ke.u64(),"remainingAmount"),Ke.option(Az,"cpiContext")]);function VZe(t){let e=Ai.Buffer.alloc(1e3),r=lme.encode({recipients:t.recipients,amounts:t.amounts,lamports:t.lamports},e);return Ai.Buffer.concat([new Uint8Array(ime),new Uint8Array(e.subarray(0,r))])}function GZe(t){let e=Ai.Buffer.alloc(1e3),r=dme.encode({owner:t.owner,remainingAmount:t.remainingAmount,cpiContext:t.cpiContext},e);return Ai.Buffer.concat([new Uint8Array(sme),new Uint8Array(e.subarray(0,r))])}function O7(t){let e=Ai.Buffer.alloc(1e3),r=ume.encode(t,e),n=Ai.Buffer.alloc(4);n.writeUInt32LE(r,0);let i=e.subarray(0,r);return Ai.Buffer.concat([new Uint8Array(ome),new Uint8Array(n),new Uint8Array(i)])}var HZe=t=>{let{feePayer:e,tokenPoolPda:r,systemProgram:n,mint:i,tokenProgram:o,cpiAuthorityPda:s}=t;return[{pubkey:e,isSigner:1,isWritable:1},{pubkey:r,isSigner:0,isWritable:1},{pubkey:n,isSigner:0,isWritable:0},{pubkey:i,isSigner:0,isWritable:1},{pubkey:o,isSigner:0,isWritable:0},{pubkey:s,isSigner:0,isWritable:0}]},$Ze=t=>{let{feePayer:e,tokenPoolPda:r,systemProgram:n,mint:i,tokenProgram:o,cpiAuthorityPda:s,existingTokenPoolPda:a}=t;return[{pubkey:e,isSigner:1,isWritable:1},{pubkey:r,isSigner:0,isWritable:1},{pubkey:a,isSigner:0,isWritable:0},{pubkey:n,isSigner:0,isWritable:0},{pubkey:i,isSigner:0,isWritable:1},{pubkey:o,isSigner:0,isWritable:0},{pubkey:s,isSigner:0,isWritable:0}]},YZe=t=>{let e=oo.programId,{feePayer:r,authority:n,cpiAuthorityPda:i,mint:o,tokenPoolPda:s,tokenProgram:a,lightSystemProgram:c,registeredProgramPda:d,noopProgram:f,accountCompressionAuthority:p,accountCompressionProgram:m,merkleTree:y,selfProgram:g,systemProgram:b,solPoolPda:S}=t;return[{pubkey:r,isSigner:1,isWritable:1},{pubkey:n,isSigner:1,isWritable:0},{pubkey:i,isSigner:0,isWritable:0},{pubkey:o,isSigner:0,isWritable:1},{pubkey:s,isSigner:0,isWritable:1},{pubkey:a,isSigner:0,isWritable:0},{pubkey:c,isSigner:0,isWritable:0},{pubkey:d,isSigner:0,isWritable:0},{pubkey:f,isSigner:0,isWritable:0},{pubkey:p,isSigner:0,isWritable:0},{pubkey:m,isSigner:0,isWritable:0},{pubkey:y,isSigner:0,isWritable:1},{pubkey:g,isSigner:0,isWritable:0},{pubkey:b,isSigner:0,isWritable:0},{pubkey:S??e,isSigner:0,isWritable:1}]},Sz=t=>{let e=oo.programId,{feePayer:r,authority:n,cpiAuthorityPda:i,lightSystemProgram:o,registeredProgramPda:s,noopProgram:a,accountCompressionAuthority:c,accountCompressionProgram:d,selfProgram:f,tokenPoolPda:p,compressOrDecompressTokenAccount:m,tokenProgram:y,systemProgram:g}=t;return[{pubkey:r,isSigner:1,isWritable:1},{pubkey:n,isSigner:1,isWritable:0},{pubkey:i,isSigner:0,isWritable:0},{pubkey:o,isSigner:0,isWritable:0},{pubkey:s,isSigner:0,isWritable:0},{pubkey:a,isSigner:0,isWritable:0},{pubkey:c,isSigner:0,isWritable:0},{pubkey:d,isSigner:0,isWritable:0},{pubkey:f,isSigner:0,isWritable:0},{pubkey:p??e,isSigner:0,isWritable:1},{pubkey:m??e,isSigner:0,isWritable:1},{pubkey:y??e,isSigner:0,isWritable:0},{pubkey:g,isSigner:0,isWritable:0}]},yme=t=>{let{feePayer:e,authority:r,cpiAuthorityPda:n,lightSystemProgram:i,registeredProgramPda:o,noopProgram:s,accountCompressionAuthority:a,accountCompressionProgram:c,selfProgram:d,systemProgram:f}=t;return[{pubkey:e,isSigner:1,isWritable:1},{pubkey:r,isSigner:1,isWritable:0},{pubkey:n,isSigner:0,isWritable:0},{pubkey:i,isSigner:0,isWritable:0},{pubkey:o,isSigner:0,isWritable:0},{pubkey:s,isSigner:0,isWritable:0},{pubkey:a,isSigner:0,isWritable:0},{pubkey:c,isSigner:0,isWritable:0},{pubkey:d,isSigner:0,isWritable:0},{pubkey:f,isSigner:0,isWritable:0}]},XZe=yme,ZZe=t=>{let{feePayer:e,authority:r,cpiAuthorityPda:n,lightSystemProgram:i,registeredProgramPda:o,noopProgram:s,accountCompressionAuthority:a,accountCompressionProgram:c,selfProgram:d,systemProgram:f,mint:p}=t;return[{pubkey:e,isSigner:1,isWritable:1},{pubkey:r,isSigner:1,isWritable:0},{pubkey:n,isSigner:0,isWritable:0},{pubkey:i,isSigner:0,isWritable:0},{pubkey:o,isSigner:0,isWritable:0},{pubkey:s,isSigner:0,isWritable:0},{pubkey:a,isSigner:0,isWritable:0},{pubkey:c,isSigner:0,isWritable:0},{pubkey:d,isSigner:0,isWritable:0},{pubkey:f,isSigner:0,isWritable:0},{pubkey:p,isSigner:0,isWritable:0}]},nlr=ZZe,fme=Ke.struct([Ke.struct([Ke.array(Ke.u8(),32,"a"),Ke.array(Ke.u8(),64,"b"),Ke.array(Ke.u8(),32,"c")],"proof"),Ke.publicKey("mint"),Ke.vec(mme,"inputTokenDataWithContext"),Ke.option(Az,"cpiContext"),Ke.publicKey("delegate"),Ke.u64("delegatedAmount"),Ke.u8("delegateMerkleTreeIndex"),Ke.u8("changeAccountMerkleTreeIndex"),Ke.option(Ke.u64(),"delegateLamports")]),pme=Ke.struct([Ke.struct([Ke.array(Ke.u8(),32,"a"),Ke.array(Ke.u8(),64,"b"),Ke.array(Ke.u8(),32,"c")],"proof"),Ke.publicKey("mint"),Ke.vec(mme,"inputTokenDataWithContext"),Ke.option(Az,"cpiContext"),Ke.u8("outputAccountMerkleTreeIndex")]);function JZe(t){let e=Ai.Buffer.alloc(1e3),r=fme.encode(t,e),n=Ai.Buffer.alloc(4);n.writeUInt32LE(r,0);let i=e.subarray(0,r);return Ai.Buffer.concat([new Uint8Array(ame),new Uint8Array(n),new Uint8Array(i)])}function QZe(t){let e=Ai.Buffer.alloc(1e3),r=pme.encode(t,e),n=Ai.Buffer.alloc(4);n.writeUInt32LE(r,0);let i=e.subarray(0,r);return Ai.Buffer.concat([new Uint8Array(cme),new Uint8Array(n),new Uint8Array(i)])}function R7(t,e){if(!t.mint.equals(e))throw new Error("TokenPool mint does not match the provided mint.");if(!t.isInitialized)throw new Error(`TokenPool is not initialized. Please create a compressed token pool for mint: ${e.toBase58()} via createTokenPool().`);return 1}async function yw(t,e,r){let n=Array.from({length:5},(a,c)=>oo.deriveTokenPoolPdaWithBump(e,c)),i=await t.getMultipleAccountsInfo(n,r);if(i[0]===null)throw new Error(`TokenPool not found. Please create a compressed token pool for mint: ${e.toBase58()} via createTokenPool().`);let o=n.map((a,c)=>i[c]?yf.unpackAccount(a,i[c],i[c].owner):null),s=i[0].owner;return o.map((a,c)=>a?{mint:e,tokenPoolPda:a.address,tokenProgram:s,activity:void 0,balance:Te.bn(a.amount.toString()),isInitialized:1,poolIndex:c}:{mint:e,tokenPoolPda:n[c],tokenProgram:s,activity:void 0,balance:Te.bn(0),isInitialized:0,poolIndex:c})}var uP;st.Action=void 0,(uP=st.Action||(st.Action={}))[uP.Compress=1]="Compress",uP[uP.Decompress=2]="Decompress",uP[uP.Transfer=3]="Transfer";var eJe=t=>{for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t};function _z(t){let e=eJe(t).filter(r=>r.isInitialized);if(e.length===0)throw new Error("Please pass at least one initialized token pool info.");return e[0]}function nme(t,e){if(t.length===0)throw new Error("Please pass at least one token pool info.");let r=(t=eJe(t)).find(n=>n.balance.gte(Te.bn(e).mul(Te.bn(10))));if((t=t.filter(n=>n.isInitialized).sort((n,i)=>n.poolIndex-i.poolIndex)).every(n=>n.balance.isZero()))throw new Error("All provided token pool balances are zero. Please pass recent token pool infos.");return r?[r]:t}var gme=t=>t.reduce((e,r)=>e.add(r.parsed.amount),Te.bn(0)),C7=t=>{let e=t[0].parsed.owner;t.forEach(r=>{if(!r.parsed.owner.equals(e))throw new Error("Token accounts must be owned by the same owner")})},wz=t=>({mint:t[0].parsed.mint,currentOwner:t[0].parsed.owner,delegate:t[0].parsed.delegate}),hme=(t,e)=>{if(t.length<1)throw new Error("Must supply at least one input token account.");let r=t[0].parsed.owner,n=t.findIndex(o=>o.parsed.delegate);if(n===-1)return{delegatedTransfer:null,authority:r};let i=t[n].parsed.delegate;return{delegatedTransfer:{owner:r,delegateChangeAccountIndex:e.length<=1?null:0},authority:i}};function tJe(t,e,r){r=Te.bn(r);let n=gme(t),i=Te.sumUpLamports(t.map(s=>s.compressedAccount)),o=n.sub(r);return Te.validateSufficientBalance(o),o.eq(Te.bn(0))&&i.eq(Te.bn(0))?[{owner:e,amount:r,lamports:i,tlv:null}]:(Te.validateSameOwner(t.map(s=>s.compressedAccount)),C7(t),[{owner:t[0].parsed.owner,amount:o,lamports:i,tlv:null},{owner:e,amount:r,lamports:Te.bn(0),tlv:null}])}function rJe(t,e){e=Te.bn(e);let r=Te.sumUpLamports(t.map(i=>i.compressedAccount)),n=gme(t).sub(e);return Te.validateSufficientBalance(n),n.eq(Te.bn(0))&&r.eq(Te.bn(0))?[]:(Te.validateSameOwner(t.map(i=>i.compressedAccount)),C7(t),[{owner:t[0].parsed.owner,amount:n,lamports:r,tlv:null}])}var oo=class{constructor(){}static setProgramId(e){this.programId=typeof e=="string"?new Yr.PublicKey(e):e}static deriveTokenPoolPda(e){let r=[FZe,e.toBuffer()],[n,i]=Yr.PublicKey.findProgramAddressSync(r,this.programId);return n}static deriveTokenPoolPdaWithBump(e,r){let n=[];n=r===0?[Ai.Buffer.from("pool"),e.toBuffer()]:[Ai.Buffer.from("pool"),e.toBuffer(),Ai.Buffer.from([r])];let[i,o]=Yr.PublicKey.findProgramAddressSync(n,this.programId);return i}static get deriveCpiAuthorityPda(){let[e,r]=Yr.PublicKey.findProgramAddressSync([qZe],this.programId);return e}static async createMint(e){let{mint:r,authority:n,feePayer:i,rentExemptBalance:o,tokenProgramId:s,freezeAuthority:a,mintSize:c}=e,d=s??yf.TOKEN_PROGRAM_ID;return[Yr.SystemProgram.createAccount({fromPubkey:i,lamports:o,newAccountPubkey:r,programId:d,space:c??yf.MINT_SIZE}),yf.createInitializeMint2Instruction(r,e.decimals,n,a,d),await this.createTokenPool({feePayer:i,mint:r,tokenProgramId:d})]}static async createTokenPool(e){let{mint:r,feePayer:n,tokenProgramId:i}=e,o=i??yf.TOKEN_PROGRAM_ID,s=this.deriveTokenPoolPdaWithBump(r,0),a=HZe({mint:r,feePayer:n,tokenPoolPda:s,tokenProgram:o,cpiAuthorityPda:this.deriveCpiAuthorityPda,systemProgram:Yr.SystemProgram.programId});return new Yr.TransactionInstruction({programId:this.programId,keys:a,data:jZe})}static async addTokenPool(e){let{mint:r,feePayer:n,tokenProgramId:i,poolIndex:o}=e;if(o<=0)throw new Error("Pool index must be greater than 0. For 0, use CreateTokenPool instead.");if(o>3)throw new Error(`Invalid poolIndex ${o}. Max 4 pools per mint.`);let s=i??yf.TOKEN_PROGRAM_ID,a=this.deriveTokenPoolPdaWithBump(r,o-1),c=this.deriveTokenPoolPdaWithBump(r,o),d=$Ze({mint:r,feePayer:n,tokenPoolPda:c,existingTokenPoolPda:a,tokenProgram:s,cpiAuthorityPda:this.deriveCpiAuthorityPda,systemProgram:Yr.SystemProgram.programId});return new Yr.TransactionInstruction({programId:this.programId,keys:d,data:Ai.Buffer.concat([new Uint8Array(KZe),new Uint8Array(Ai.Buffer.from([o]))])})}static async mintTo(e){let r=Te.defaultStaticAccountsStruct(),{mint:n,feePayer:i,authority:o,outputStateTreeInfo:s,toPubkey:a,amount:c,tokenPoolInfo:d}=e,f=d.tokenProgram;R7(d,n);let p=Te.toArray(c).map(b=>Te.bn(b)),m=Te.toArray(a);if(p.length!==m.length)throw new Error("Amount and toPubkey arrays must have the same length");let y=YZe({mint:n,feePayer:i,authority:o,cpiAuthorityPda:this.deriveCpiAuthorityPda,tokenProgram:f,tokenPoolPda:d.tokenPoolPda,lightSystemProgram:Te.LightSystemProgram.programId,registeredProgramPda:r.registeredProgramPda,noopProgram:r.noopProgram,accountCompressionAuthority:r.accountCompressionAuthority,accountCompressionProgram:r.accountCompressionProgram,merkleTree:s.tree,selfProgram:this.programId,systemProgram:Yr.SystemProgram.programId,solPoolPda:null}),g=VZe({recipients:m,amounts:p,lamports:null});return new Yr.TransactionInstruction({programId:this.programId,keys:y,data:g})}static async approveAndMintTo(e){let{mint:r,feePayer:n,authorityTokenAccount:i,authority:o,outputStateTreeInfo:s,toPubkey:a,tokenPoolInfo:c}=e,d=BigInt(e.amount.toString());return[yf.createMintToInstruction(r,i,o,d,[],c.tokenProgram),await this.compress({payer:n,owner:o,source:i,toAddress:a,mint:r,amount:e.amount,outputStateTreeInfo:s,tokenPoolInfo:c})]}static async transfer(e){let{payer:r,inputCompressedTokenAccounts:n,recentInputStateRootIndices:i,recentValidityProof:o,amount:s,toAddress:a}=e,c=tJe(n,a,s),{inputTokenDataWithContext:d,packedOutputTokenData:f,remainingAccountMetas:p}=lP({inputCompressedTokenAccounts:n,rootIndices:i,tokenTransferOutputs:c}),{mint:m}=wz(n),{delegatedTransfer:y,authority:g}=hme(n,c),b=O7({proof:o,mint:m,delegatedTransfer:y,inputTokenDataWithContext:d,outputCompressedAccounts:f,compressOrDecompressAmount:null,isCompress:0,cpiContext:null,lamportsChangeAccountMerkleTreeIndex:null}),{accountCompressionAuthority:S,noopProgram:P,registeredProgramPda:U,accountCompressionProgram:L}=Te.defaultStaticAccountsStruct(),j=Sz({feePayer:r,authority:g,cpiAuthorityPda:this.deriveCpiAuthorityPda,lightSystemProgram:Te.LightSystemProgram.programId,registeredProgramPda:U,noopProgram:P,accountCompressionAuthority:S,accountCompressionProgram:L,selfProgram:this.programId,tokenPoolPda:void 0,compressOrDecompressTokenAccount:void 0,tokenProgram:void 0,systemProgram:Yr.SystemProgram.programId});return j.push(...p),new Yr.TransactionInstruction({programId:this.programId,keys:j,data:b})}static async createTokenProgramLookupTable(e){let{authority:r,mints:n,recentSlot:i,payer:o,remainingAccounts:s}=e,[a,c]=Yr.AddressLookupTableProgram.createLookupTable({authority:r,payer:r,recentSlot:i}),d=[];return n&&(d=[...n,...n.map(f=>this.deriveTokenPoolPda(f))]),{instructions:[a,Yr.AddressLookupTableProgram.extendLookupTable({payer:o,authority:r,lookupTable:c,addresses:[this.deriveCpiAuthorityPda,Te.LightSystemProgram.programId,Te.defaultStaticAccountsStruct().registeredProgramPda,Te.defaultStaticAccountsStruct().noopProgram,Te.defaultStaticAccountsStruct().accountCompressionAuthority,Te.defaultStaticAccountsStruct().accountCompressionProgram,Te.defaultTestStateTreeAccounts().merkleTree,Te.defaultTestStateTreeAccounts().nullifierQueue,Te.defaultTestStateTreeAccounts().addressTree,Te.defaultTestStateTreeAccounts().addressQueue,this.programId,yf.TOKEN_PROGRAM_ID,yf.TOKEN_2022_PROGRAM_ID,r,...d,...s??[]]})],address:c}}static async compress(e){let{payer:r,owner:n,source:i,toAddress:o,mint:s,outputStateTreeInfo:a,tokenPoolInfo:c}=e;if(Array.isArray(e.amount)!==Array.isArray(e.toAddress))throw new Error("Both amount and toAddress must be arrays or both must be single values");let d;if(Array.isArray(e.amount)&&Array.isArray(e.toAddress)){if(e.amount.length!==e.toAddress.length)throw new Error("Amount and toAddress arrays must have the same length");d=e.amount.map((b,S)=>{let P=Te.bn(b);return{owner:e.toAddress[S],amount:P,lamports:null,tlv:null}})}else d=[{owner:o,amount:Te.bn(e.amount),lamports:null,tlv:null}];let{inputTokenDataWithContext:f,packedOutputTokenData:p,remainingAccountMetas:m}=lP({inputCompressedTokenAccounts:[],outputStateTreeInfo:a,rootIndices:[],tokenTransferOutputs:d}),y=O7({proof:null,mint:s,delegatedTransfer:null,inputTokenDataWithContext:f,outputCompressedAccounts:p,compressOrDecompressAmount:Array.isArray(e.amount)?e.amount.map(b=>Te.bn(b)).reduce((b,S)=>b.add(S),Te.bn(0)):Te.bn(e.amount),isCompress:1,cpiContext:null,lamportsChangeAccountMerkleTreeIndex:null});R7(c,s);let g=Sz(Object.assign(Object.assign({},Te.defaultStaticAccountsStruct()),{feePayer:r,authority:n,cpiAuthorityPda:this.deriveCpiAuthorityPda,lightSystemProgram:Te.LightSystemProgram.programId,selfProgram:this.programId,systemProgram:Yr.SystemProgram.programId,tokenPoolPda:c.tokenPoolPda,compressOrDecompressTokenAccount:i,tokenProgram:c.tokenProgram}));return g.push(...m),new Yr.TransactionInstruction({programId:this.programId,keys:g,data:y})}static async decompress(e){let{payer:r,inputCompressedTokenAccounts:n,toAddress:i,recentValidityProof:o,recentInputStateRootIndices:s}=e,a=Te.bn(e.amount),c=Te.toArray(e.tokenPoolInfos),d=rJe(n,a),{inputTokenDataWithContext:f,packedOutputTokenData:p,remainingAccountMetas:m}=lP({inputCompressedTokenAccounts:n,rootIndices:s,tokenTransferOutputs:d,remainingAccounts:c.slice(1).map(Ee=>Ee.tokenPoolPda)}),{mint:y}=wz(n),{delegatedTransfer:g,authority:b}=hme(n,d),S=O7({proof:o,mint:y,delegatedTransfer:g,inputTokenDataWithContext:f,outputCompressedAccounts:p,compressOrDecompressAmount:a,isCompress:0,cpiContext:null,lamportsChangeAccountMerkleTreeIndex:null}),P=c[0].tokenProgram,{accountCompressionAuthority:U,noopProgram:L,registeredProgramPda:j,accountCompressionProgram:Z}=Te.defaultStaticAccountsStruct(),se=Sz({feePayer:r,authority:b,cpiAuthorityPda:this.deriveCpiAuthorityPda,lightSystemProgram:Te.LightSystemProgram.programId,registeredProgramPda:j,noopProgram:L,accountCompressionAuthority:U,accountCompressionProgram:Z,selfProgram:this.programId,tokenPoolPda:c[0].tokenPoolPda,compressOrDecompressTokenAccount:i,tokenProgram:P,systemProgram:Yr.SystemProgram.programId});return se.push(...m),new Yr.TransactionInstruction({programId:this.programId,keys:se,data:S})}static async mergeTokenAccounts(e){let{payer:r,owner:n,inputCompressedTokenAccounts:i,recentValidityProof:o,recentInputStateRootIndices:s}=e;if(i.length>3)throw new Error("Cannot merge more than 3 token accounts at once");return[await this.transfer({payer:r,inputCompressedTokenAccounts:i,toAddress:n,amount:i.reduce((a,c)=>a.add(c.parsed.amount),Te.bn(0)),recentInputStateRootIndices:s,recentValidityProof:o})]}static async compressSplTokenAccount(e){let{feePayer:r,authority:n,tokenAccount:i,mint:o,remainingAmount:s,outputStateTreeInfo:a,tokenPoolInfo:c}=e;R7(c,o);let d=[{pubkey:a.tree,isSigner:0,isWritable:1}],f=GZe({owner:n,remainingAmount:s??null,cpiContext:null}),{accountCompressionAuthority:p,noopProgram:m,registeredProgramPda:y,accountCompressionProgram:g}=Te.defaultStaticAccountsStruct(),b=Sz({feePayer:r,authority:n,cpiAuthorityPda:this.deriveCpiAuthorityPda,lightSystemProgram:Te.LightSystemProgram.programId,registeredProgramPda:y,noopProgram:m,accountCompressionAuthority:p,accountCompressionProgram:g,selfProgram:this.programId,tokenPoolPda:c.tokenPoolPda,compressOrDecompressTokenAccount:i,tokenProgram:c.tokenProgram,systemProgram:Yr.SystemProgram.programId});return b.push(...d),new Yr.TransactionInstruction({programId:this.programId,keys:b,data:f})}static async getMintProgramId(e,r){var n;return(n=await r.getAccountInfo(e))===null||n===void 0?void 0:n.owner}static async approve(e){let{payer:r,inputCompressedTokenAccounts:n,recentInputStateRootIndices:i,recentValidityProof:o,amount:s,toAddress:a}=e,{inputTokenDataWithContext:c,remainingAccountMetas:d}=lP({inputCompressedTokenAccounts:n,rootIndices:i,tokenTransferOutputs:[]}),{mint:f,currentOwner:p}=wz(n),m=JZe({proof:o,mint:f,inputTokenDataWithContext:c,cpiContext:null,delegate:a,delegatedAmount:Te.bn(s),delegateMerkleTreeIndex:0,changeAccountMerkleTreeIndex:0,delegateLamports:null}),{accountCompressionAuthority:y,noopProgram:g,registeredProgramPda:b,accountCompressionProgram:S}=Te.defaultStaticAccountsStruct(),P=yme({feePayer:r,authority:p,cpiAuthorityPda:this.deriveCpiAuthorityPda,lightSystemProgram:Te.LightSystemProgram.programId,registeredProgramPda:b,noopProgram:g,accountCompressionAuthority:y,accountCompressionProgram:S,selfProgram:this.programId,systemProgram:Yr.SystemProgram.programId});return P.push(...d),new Yr.TransactionInstruction({programId:this.programId,keys:P,data:m})}static async revoke(e){let{payer:r,inputCompressedTokenAccounts:n,recentInputStateRootIndices:i,recentValidityProof:o}=e;C7(n);let{inputTokenDataWithContext:s,remainingAccountMetas:a}=lP({inputCompressedTokenAccounts:n,rootIndices:i,tokenTransferOutputs:[]}),{mint:c,currentOwner:d}=wz(n),f=QZe({proof:o,mint:c,inputTokenDataWithContext:s,cpiContext:null,outputAccountMerkleTreeIndex:1}),{accountCompressionAuthority:p,noopProgram:m,registeredProgramPda:y,accountCompressionProgram:g}=Te.defaultStaticAccountsStruct(),b=XZe({feePayer:r,authority:d,cpiAuthorityPda:this.deriveCpiAuthorityPda,lightSystemProgram:Te.LightSystemProgram.programId,registeredProgramPda:y,noopProgram:m,accountCompressionAuthority:p,accountCompressionProgram:g,selfProgram:this.programId,systemProgram:Yr.SystemProgram.programId});return b.push(...a),new Yr.TransactionInstruction({programId:this.programId,keys:b,data:f})}};oo.programId=new Yr.PublicKey("cTokenmWW8bLPjZEBAUgYy3zKxQZW6VKi7bqNFEVv3m");var mI="Could not find accounts to select for transfer.";function LZe(t,e,r=4){let n=t.find(i=>i.parsed.amount.eq(e));return n?[[n],n.parsed.amount,n.compressedAccount.lamports,n.parsed.amount]:hI(t,e,r)}function hI(t,e,r=4){let[n,i,o,s]=nJe(t,e,r);if(i.lt(Te.bn(e))){let a=t.reduce((c,d)=>c.add(d.parsed.amount),Te.bn(0));throw n.length>=r?new Error(`Account limit exceeded: max ${s.toString()} (${r} accounts) per transaction. Total balance: ${a.toString()} (${t.length} accounts). Consider multiple transfers to spend full balance.`):new Error(`Insufficient balance for transfer. Required: ${e.toString()}, available: ${a.toString()}.`)}if(n.length===0)throw new Error(mI);return[n,i,o,s]}function nJe(t,e,r=4){if(t.length===0)throw new Error(mI);let n=Te.bn(0),i=Te.bn(0),o=Te.bn(0),s=[];t.sort((a,c)=>c.parsed.amount.cmp(a.parsed.amount));for(let a of t){if(s.length>=r||n.gte(Te.bn(e)))break;a.parsed.amount.isZero()&&a.compressedAccount.lamports.isZero()||(n=n.add(a.parsed.amount),i=i.add(a.compressedAccount.lamports),s.push(a))}if(o=t.slice(0,r).reduce((a,c)=>a.add(c.parsed.amount),Te.bn(0)),n.lt(Te.bn(e))&&console.log(`Insufficient balance for transfer. Requested: ${e.toString()}, Returns max available: ${o.toString()}.`),s.length===0)throw new Error(mI);return[s,n,i,o]}function zZe(t,e,r=4){if(t.length===0)throw new Error(mI);let n=Te.bn(0),i=Te.bn(0),o=[],s=t.filter(c=>!c.parsed.amount.isZero()||!c.compressedAccount.lamports.isZero());s.sort((c,d)=>d.parsed.amount.cmp(c.parsed.amount));for(let c of s){if(o.length>=r)break;if(n=n.add(c.parsed.amount),i=i.add(c.compressedAccount.lamports),o.push(c),n.gte(Te.bn(e))){let d=s.slice(o.length);if(d.length>0){let f=d.reduce((p,m)=>m.parsed.amount.lt(p.parsed.amount)?m:p);o.length<r&&(o.push(f),n=n.add(f.parsed.amount),i=i.add(f.compressedAccount.lamports))}break}}let a=s.slice(0,r).reduce((c,d)=>c.add(d.parsed.amount),Te.bn(0));if(o.length===0)throw new Error(mI);return[o,n,i,a]}st.ADD_TOKEN_POOL_DISCRIMINATOR=KZe,st.APPROVE_DISCRIMINATOR=ame,st.COMPRESS_SPL_TOKEN_ACCOUNT_DISCRIMINATOR=sme,st.CPI_AUTHORITY_SEED=qZe,st.CREATE_TOKEN_POOL_DISCRIMINATOR=jZe,st.CompressedTokenInstructionDataApproveLayout=fme,st.CompressedTokenInstructionDataRevokeLayout=pme,st.CompressedTokenInstructionDataTransferLayout=ume,st.CompressedTokenProgram=oo,st.CpiContextLayout=Az,st.DelegatedTransferLayout=WZe,st.ERROR_NO_ACCOUNTS_FOUND=mI,st.IDL={version:"1.2.0",name:"light_compressed_token",instructions:[{name:"createTokenPool",docs:["This instruction creates a token pool for a given mint. Every spl mint","can have one token pool. When a token is compressed the tokens are","transferrred to the token pool, and their compressed equivalent is","minted into a Merkle tree."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"tokenPoolPda",isMut:1,isSigner:0},{name:"systemProgram",isMut:0,isSigner:0},{name:"mint",isMut:1,isSigner:0},{name:"tokenProgram",isMut:0,isSigner:0},{name:"cpiAuthorityPda",isMut:0,isSigner:0}],args:[]},{name:"addTokenPool",docs:["This instruction creates an additional token pool for a given mint.","The maximum number of token pools per mint is 5."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"tokenPoolPda",isMut:1,isSigner:0},{name:"existingTokenPoolPda",isMut:0,isSigner:0},{name:"systemProgram",isMut:0,isSigner:0},{name:"mint",isMut:1,isSigner:0},{name:"tokenProgram",isMut:0,isSigner:0},{name:"cpiAuthorityPda",isMut:0,isSigner:0}],args:[{name:"tokenPoolIndex",type:"u8"}]},{name:"mintTo",docs:["Mints tokens from an spl token mint to a list of compressed accounts.","Minted tokens are transferred to a pool account owned by the compressed","token program. The instruction creates one compressed output account for","every amount and pubkey input pair. A constant amount of lamports can be","transferred to each output account to enable. A use case to add lamports","to a compressed token account is to prevent spam. This is the only way","to add lamports to a compressed token account."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"mint",isMut:1,isSigner:0},{name:"tokenPoolPda",isMut:1,isSigner:0},{name:"tokenProgram",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0,docs:["programs"]},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"merkleTree",isMut:1,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0},{name:"systemProgram",isMut:0,isSigner:0},{name:"solPoolPda",isMut:1,isSigner:0,isOptional:1}],args:[{name:"publicKeys",type:{vec:"publicKey"}},{name:"amounts",type:{vec:"u64"}},{name:"lamports",type:{option:"u64"}}]},{name:"compressSplTokenAccount",docs:["Compresses the balance of an spl token account sub an optional remaining","amount. This instruction does not close the spl token account. To close","the account bundle a close spl account instruction in your transaction."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1,docs:["Authority is verified through proof since both owner and delegate","are included in the token data hash, which is a public input to the","validity proof."]},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0,docs:["this program is the signer of the cpi."]},{name:"tokenPoolPda",isMut:1,isSigner:0,isOptional:1},{name:"compressOrDecompressTokenAccount",isMut:1,isSigner:0,isOptional:1},{name:"tokenProgram",isMut:0,isSigner:0,isOptional:1},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"owner",type:"publicKey"},{name:"remainingAmount",type:{option:"u64"}},{name:"cpiContext",type:{option:{defined:"CompressedCpiContext"}}}]},{name:"transfer",docs:["Transfers compressed tokens from one account to another. All accounts","must be of the same mint. Additional spl tokens can be compressed or","decompressed. In one transaction only compression or decompression is","possible. Lamports can be transferred alongside tokens. If output token","accounts specify less lamports than inputs the remaining lamports are","transferred to an output compressed account. Signer must be owner or","delegate. If a delegated token account is transferred the delegate is","not preserved."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1,docs:["Authority is verified through proof since both owner and delegate","are included in the token data hash, which is a public input to the","validity proof."]},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0,docs:["this program is the signer of the cpi."]},{name:"tokenPoolPda",isMut:1,isSigner:0,isOptional:1},{name:"compressOrDecompressTokenAccount",isMut:1,isSigner:0,isOptional:1},{name:"tokenProgram",isMut:0,isSigner:0,isOptional:1},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"inputs",type:"bytes"}]},{name:"approve",docs:["Delegates an amount to a delegate. A compressed token account is either","completely delegated or not. Prior delegates are not preserved. Cannot","be called by a delegate.","The instruction creates two output accounts:","1. one account with delegated amount","2. one account with remaining(change) amount"],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1,docs:["Authority is verified through proof since both owner and delegate","are included in the token data hash, which is a public input to the","validity proof."]},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0,docs:["this program is the signer of the cpi."]},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"inputs",type:"bytes"}]},{name:"revoke",docs:["Revokes a delegation. The instruction merges all inputs into one output","account. Cannot be called by a delegate. Delegates are not preserved."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1,docs:["Authority is verified through proof since both owner and delegate","are included in the token data hash, which is a public input to the","validity proof."]},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0,docs:["this program is the signer of the cpi."]},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"inputs",type:"bytes"}]},{name:"freeze",docs:["Freezes compressed token accounts. Inputs must not be frozen. Creates as","many outputs as inputs. Balances and delegates are preserved."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0,docs:["that this program is the signer of the cpi."]},{name:"systemProgram",isMut:0,isSigner:0},{name:"mint",isMut:0,isSigner:0}],args:[{name:"inputs",type:"bytes"}]},{name:"thaw",docs:["Thaws frozen compressed token accounts. Inputs must be frozen. Creates","as many outputs as inputs. Balances and delegates are preserved."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0,docs:["that this program is the signer of the cpi."]},{name:"systemProgram",isMut:0,isSigner:0},{name:"mint",isMut:0,isSigner:0}],args:[{name:"inputs",type:"bytes"}]},{name:"burn",docs:["Burns compressed tokens and spl tokens from the pool account. Delegates","can burn tokens. The output compressed token account remains delegated.","Creates one output compressed token account."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1,docs:["Authority is verified through proof since both owner and delegate","are included in the token data hash, which is a public input to the","validity proof."]},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"mint",isMut:1,isSigner:0},{name:"tokenPoolPda",isMut:1,isSigner:0},{name:"tokenProgram",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"inputs",type:"bytes"}]},{name:"stubIdlBuild",docs:["This function is a stub to allow Anchor to include the input types in","the IDL. It should not be included in production builds nor be called in","practice."],accounts:[{name:"feePayer",isMut:1,isSigner:1,docs:["UNCHECKED: only pays fees."]},{name:"authority",isMut:0,isSigner:1,docs:["Authority is verified through proof since both owner and delegate","are included in the token data hash, which is a public input to the","validity proof."]},{name:"cpiAuthorityPda",isMut:0,isSigner:0},{name:"lightSystemProgram",isMut:0,isSigner:0},{name:"registeredProgramPda",isMut:0,isSigner:0},{name:"noopProgram",isMut:0,isSigner:0},{name:"accountCompressionAuthority",isMut:0,isSigner:0},{name:"accountCompressionProgram",isMut:0,isSigner:0},{name:"selfProgram",isMut:0,isSigner:0,docs:["this program is the signer of the cpi."]},{name:"tokenPoolPda",isMut:1,isSigner:0,isOptional:1},{name:"compressOrDecompressTokenAccount",isMut:1,isSigner:0,isOptional:1},{name:"tokenProgram",isMut:0,isSigner:0,isOptional:1},{name:"systemProgram",isMut:0,isSigner:0}],args:[{name:"inputs1",type:{defined:"CompressedTokenInstructionDataTransfer"}},{name:"inputs2",type:{defined:"TokenData"}}]}],types:[{name:"AccountState",type:{kind:"enum",variants:[{name:"Initialized"},{name:"Frozen"}]}},{name:"CompressedAccount",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"lamports",type:"u64"},{name:"address",type:{option:{array:["u8",32]}}},{name:"data",type:{option:{defined:"CompressedAccountData"}}}]}},{name:"CompressedAccountData",type:{kind:"struct",fields:[{name:"discriminator",type:{array:["u8",8]}},{name:"data",type:"bytes"},{name:"dataHash",type:{array:["u8",32]}}]}},{name:"CompressedCpiContext",type:{kind:"struct",fields:[{name:"setContext",docs:["Is set by the program that is invoking the CPI to signal that is should","set the cpi context."],type:"bool"},{name:"firstSetContext",docs:["Is set to wipe the cpi context since someone could have set it before","with unrelated data."],type:"bool"},{name:"cpiContextAccountIndex",docs:["Index of cpi context account in remaining accounts."],type:"u8"}]}},{name:"CompressedProof",type:{kind:"struct",fields:[{name:"a",type:{array:["u8",32]}},{name:"b",type:{array:["u8",64]}},{name:"c",type:{array:["u8",32]}}]}},{name:"CompressedTokenInstructionDataTransfer",type:{kind:"struct",fields:[{name:"proof",type:{option:{defined:"CompressedProof"}}},{name:"mint",type:"publicKey"},{name:"delegatedTransfer",docs:["Is required if the signer is delegate,","-> delegate is authority account,","owner = Some(owner) is the owner of the token account."],type:{option:{defined:"DelegatedTransfer"}}},{name:"inputTokenDataWithContext",type:{vec:{defined:"InputTokenDataWithContext"}}},{name:"outputCompressedAccounts",type:{vec:{defined:"PackedTokenTransferOutputData"}}},{name:"isCompress",type:"bool"},{name:"compressOrDecompressAmount",type:{option:"u64"}},{name:"cpiContext",type:{option:{defined:"CompressedCpiContext"}}},{name:"lamportsChangeAccountMerkleTreeIndex",type:{option:"u8"}}]}},{name:"CompressedTokenInstructionDataRevoke",type:{kind:"struct",fields:[{name:"proof",type:{option:{defined:"CompressedProof"}}},{name:"mint",type:"publicKey"},{name:"inputTokenDataWithContext",type:{vec:{defined:"InputTokenDataWithContext"}}},{name:"cpiContext",type:{option:{defined:"CompressedCpiContext"}}},{name:"outputAccountMerkleTreeIndex",type:"u8"}]}},{name:"CompressedTokenInstructionDataApprove",type:{kind:"struct",fields:[{name:"proof",type:{option:{defined:"CompressedProof"}}},{name:"mint",type:"publicKey"},{name:"inputTokenDataWithContext",type:{vec:{defined:"InputTokenDataWithContext"}}},{name:"cpiContext",type:{option:{defined:"CompressedCpiContext"}}},{name:"delegate",type:"publicKey"},{name:"delegatedAmount",type:"u64"},{name:"delegateMerkleTreeIndex",type:"u8"},{name:"changeAccountMerkleTreeIndex",type:"u8"},{name:"delegateLamports",type:{option:"u64"}}]}},{name:"DelegatedTransfer",docs:["Struct to provide the owner when the delegate is signer of the transaction."],type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"delegateChangeAccountIndex",docs:["Index of change compressed account in output compressed accounts. In","case that the delegate didn't spend the complete delegated compressed","account balance the change compressed account will be delegated to her","as well."],type:{option:"u8"}}]}},{name:"InputTokenDataWithContext",type:{kind:"struct",fields:[{name:"amount",type:"u64"},{name:"delegateIndex",type:{option:"u8"}},{name:"merkleContext",type:{defined:"PackedMerkleContext"}},{name:"rootIndex",type:"u16"},{name:"lamports",type:{option:"u64"}},{name:"tlv",docs:["Placeholder for TokenExtension tlv data (unimplemented)"],type:{option:"bytes"}}]}},{name:"InstructionDataInvoke",type:{kind:"struct",fields:[{name:"proof",type:{option:{defined:"CompressedProof"}}},{name:"inputCompressedAccountsWithMerkleContext",type:{vec:{defined:"PackedCompressedAccountWithMerkleContext"}}},{name:"outputCompressedAccounts",type:{vec:{defined:"OutputCompressedAccountWithPackedContext"}}},{name:"relayFee",type:{option:"u64"}},{name:"newAddressParams",type:{vec:{defined:"NewAddressParamsPacked"}}},{name:"compressOrDecompressLamports",type:{option:"u64"}},{name:"isCompress",type:"bool"}]}},{name:"InstructionDataInvokeCpi",type:{kind:"struct",fields:[{name:"proof",type:{option:{defined:"CompressedProof"}}},{name:"newAddressParams",type:{vec:{defined:"NewAddressParamsPacked"}}},{name:"inputCompressedAccountsWithMerkleContext",type:{vec:{defined:"PackedCompressedAccountWithMerkleContext"}}},{name:"outputCompressedAccounts",type:{vec:{defined:"OutputCompressedAccountWithPackedContext"}}},{name:"relayFee",type:{option:"u64"}},{name:"compressOrDecompressLamports",type:{option:"u64"}},{name:"isCompress",type:"bool"},{name:"cpiContext",type:{option:{defined:"CompressedCpiContext"}}}]}},{name:"MerkleTreeSequenceNumber",type:{kind:"struct",fields:[{name:"pubkey",type:"publicKey"},{name:"seq",type:"u64"}]}},{name:"NewAddressParamsPacked",type:{kind:"struct",fields:[{name:"seed",type:{array:["u8",32]}},{name:"addressQueueAccountIndex",type:"u8"},{name:"addressMerkleTreeAccountIndex",type:"u8"},{name:"addressMerkleTreeRootIndex",type:"u16"}]}},{name:"OutputCompressedAccountWithPackedContext",type:{kind:"struct",fields:[{name:"compressedAccount",type:{defined:"CompressedAccount"}},{name:"merkleTreeIndex",type:"u8"}]}},{name:"PackedCompressedAccountWithMerkleContext",type:{kind:"struct",fields:[{name:"compressedAccount",type:{defined:"CompressedAccount"}},{name:"merkleContext",type:{defined:"PackedMerkleContext"}},{name:"rootIndex",docs:["Index of root used in inclusion validity proof."],type:"u16"},{name:"readOnly",docs:["Placeholder to mark accounts read-only unimplemented set to false."],type:"bool"}]}},{name:"PackedMerkleContext",type:{kind:"struct",fields:[{name:"merkleTreePubkeyIndex",type:"u8"},{name:"nullifierQueuePubkeyIndex",type:"u8"},{name:"leafIndex",type:"u32"},{name:"queueIndex",type:{option:{defined:"QueueIndex"}}}]}},{name:"PackedTokenTransferOutputData",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"amount",type:"u64"},{name:"lamports",type:{option:"u64"}},{name:"merkleTreeIndex",type:"u8"},{name:"tlv",docs:["Placeholder for TokenExtension tlv data (unimplemented)"],type:{option:"bytes"}}]}},{name:"PublicTransactionEvent",type:{kind:"struct",fields:[{name:"inputCompressedAccountHashes",type:{vec:{array:["u8",32]}}},{name:"outputCompressedAccountHashes",type:{vec:{array:["u8",32]}}},{name:"outputCompressedAccounts",type:{vec:{defined:"OutputCompressedAccountWithPackedContext"}}},{name:"outputLeafIndices",type:{vec:"u32"}},{name:"sequenceNumbers",type:{vec:{defined:"MerkleTreeSequenceNumber"}}},{name:"relayFee",type:{option:"u64"}},{name:"isCompress",type:"bool"},{name:"compressOrDecompressLamports",type:{option:"u64"}},{name:"pubkeyArray",type:{vec:"publicKey"}},{name:"message",type:{option:"bytes"}}]}},{name:"QueueIndex",type:{kind:"struct",fields:[{name:"queueId",docs:["Id of queue in queue account."],type:"u8"},{name:"index",docs:["Index of compressed account hash in queue."],type:"u16"}]}},{name:"TokenData",type:{kind:"struct",fields:[{name:"mint",docs:["The mint associated with this account"],type:"publicKey"},{name:"owner",docs:["The owner of this account."],type:"publicKey"},{name:"amount",docs:["The amount of tokens this account holds."],type:"u64"},{name:"delegate",docs:["If `delegate` is `Some` then `delegated_amount` represents","the amount authorized by the delegate"],type:{option:"publicKey"}},{name:"state",docs:["The account's state"],type:{defined:"AccountState"}},{name:"tlv",docs:["Placeholder for TokenExtension tlv data (unimplemented)"],type:{option:"bytes"}}]}}],errors:[{code:6e3,name:"PublicKeyAmountMissmatch",msg:"public keys and amounts must be of same length"},{code:6001,name:"ComputeInputSumFailed",msg:"ComputeInputSumFailed"},{code:6002,name:"ComputeOutputSumFailed",msg:"ComputeOutputSumFailed"},{code:6003,name:"ComputeCompressSumFailed",msg:"ComputeCompressSumFailed"},{code:6004,name:"ComputeDecompressSumFailed",msg:"ComputeDecompressSumFailed"},{code:6005,name:"SumCheckFailed",msg:"SumCheckFailed"},{code:6006,name:"DecompressRecipientUndefinedForDecompress",msg:"DecompressRecipientUndefinedForDecompress"},{code:6007,name:"CompressedPdaUndefinedForDecompress",msg:"CompressedPdaUndefinedForDecompress"},{code:6008,name:"DeCompressAmountUndefinedForDecompress",msg:"DeCompressAmountUndefinedForDecompress"},{code:6009,name:"CompressedPdaUndefinedForCompress",msg:"CompressedPdaUndefinedForCompress"},{code:6010,name:"DeCompressAmountUndefinedForCompress",msg:"DeCompressAmountUndefinedForCompress"},{code:6011,name:"DelegateSignerCheckFailed",msg:"DelegateSignerCheckFailed"},{code:6012,name:"MintTooLarge",msg:"Minted amount greater than u64::MAX"},{code:6013,name:"SplTokenSupplyMismatch",msg:"SplTokenSupplyMismatch"},{code:6014,name:"HeapMemoryCheckFailed",msg:"HeapMemoryCheckFailed"},{code:6015,name:"InstructionNotCallable",msg:"The instruction is not callable"},{code:6016,name:"ArithmeticUnderflow",msg:"ArithmeticUnderflow"},{code:6017,name:"HashToFieldError",msg:"HashToFieldError"},{code:6018,name:"InvalidAuthorityMint",msg:"Expected the authority to be also a mint authority"},{code:6019,name:"InvalidFreezeAuthority",msg:"Provided authority is not the freeze authority"},{code:6020,name:"InvalidDelegateIndex"},{code:6021,name:"TokenPoolPdaUndefined"},{code:6022,name:"IsTokenPoolPda",msg:"Compress or decompress recipient is the same account as the token pool pda."},{code:6023,name:"InvalidTokenPoolPda"},{code:6024,name:"NoInputTokenAccountsProvided"},{code:6025,name:"NoInputsProvided"},{code:6026,name:"MintHasNoFreezeAuthority"},{code:6027,name:"MintWithInvalidExtension"},{code:6028,name:"InsufficientTokenAccountBalance",msg:"The token account balance is less than the remaining amount."},{code:6029,name:"InvalidTokenPoolBump",msg:"Max number of token pools reached."},{code:6030,name:"FailedToDecompress"},{code:6031,name:"FailedToBurnSplTokensFromTokenPool"},{code:6032,name:"NoMatchingBumpFound"}]},st.MINT_TO_DISCRIMINATOR=ime,st.POOL_SEED=FZe,st.REVOKE_DISCRIMINATOR=cme,st.SPL_TOKEN_MINT_RENT_EXEMPT_BALANCE=1461600,st.TRANSFER_DISCRIMINATOR=ome,st.addTokenPoolAccountsLayout=$Ze,st.addTokenPools=async function(t,e,r,n,i,o){o=o||await oo.getMintProgramId(r,t);let s=[],a=(await yw(t,r)).slice(0,4),c=[];for(let p=0;p<a.length;p++)a[p].isInitialized||c.push(p);for(let p=0;p<n&&!(p>=c.length);p++)s.push(await oo.addTokenPool({mint:r,feePayer:e.publicKey,tokenProgramId:o,poolIndex:c[p]}));let{blockhash:d}=await t.getLatestBlockhash(),f=Te.buildAndSignTx(s,e,d);return await Te.sendAndConfirmTx(t,f,i)},st.approve=async function(t,e,r,n,i,o,s){n=Te.bn(n);let a=await t.getCompressedTokenAccountsByOwner(i.publicKey,{mint:r}),[c]=LZe(a.items,n),d=await t.getValidityProofV0(c.map(g=>({hash:g.compressedAccount.hash,tree:g.compressedAccount.treeInfo.tree,queue:g.compressedAccount.treeInfo.queue}))),f=await oo.approve({payer:e.publicKey,inputCompressedTokenAccounts:c,toAddress:o,amount:n,recentInputStateRootIndices:d.rootIndices,recentValidityProof:d.compressedProof}),{blockhash:p}=await t.getLatestBlockhash(),m=Te.dedupeSigner(e,[i]),y=Te.buildAndSignTx([Yr.ComputeBudgetProgram.setComputeUnitLimit({units:5e5}),f],e,p,m);return Te.sendAndConfirmTx(t,y,s)},st.approveAccountsLayout=yme,st.approveAndMintTo=async function(t,e,r,n,i,o,s,a,c){s=s??Te.selectStateTreeInfo(await t.getStateTreeInfos()),a=a??_z(await yw(t,r));let d=await yf.getOrCreateAssociatedTokenAccount(t,e,r,i.publicKey,void 0,void 0,c,a.tokenProgram),f=await oo.approveAndMintTo({feePayer:e.publicKey,mint:r,authority:i.publicKey,authorityTokenAccount:d.address,amount:o,toPubkey:n,outputStateTreeInfo:s,tokenPoolInfo:a}),{blockhash:p}=await t.getLatestBlockhash(),m=Te.dedupeSigner(e,[i]),y=Te.buildAndSignTx([Yr.ComputeBudgetProgram.setComputeUnitLimit({units:6e5}),...f],e,p,m);return await Te.sendAndConfirmTx(t,y,c)},st.checkTokenPoolInfo=R7,st.compress=async function(t,e,r,n,i,o,s,a,c,d){a=a??Te.selectStateTreeInfo(await t.getStateTreeInfos()),c=c??_z(await yw(t,r));let f=await oo.compress({payer:e.publicKey,owner:i.publicKey,source:o,toAddress:s,amount:n,mint:r,outputStateTreeInfo:a,tokenPoolInfo:c}),p=await t.getLatestBlockhash(),m=Te.dedupeSigner(e,[i]),y=Te.buildAndSignTx([Yr.ComputeBudgetProgram.setComputeUnitLimit({units:6e5}),f],e,p.blockhash,m);return await Te.sendAndConfirmTx(t,y,d,p)},st.compressSplTokenAccount=async function(t,e,r,n,i,o,s,a,c){s=s??Te.selectStateTreeInfo(await t.getStateTreeInfos()),a=a??_z(await yw(t,r));let d=await oo.compressSplTokenAccount({feePayer:e.publicKey,authority:n.publicKey,tokenAccount:i,mint:r,remainingAmount:o,outputStateTreeInfo:s,tokenPoolInfo:a}),f=await t.getLatestBlockhash(),p=Te.dedupeSigner(e,[n]),m=Te.buildAndSignTx([Yr.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),d],e,f.blockhash,p);return await Te.sendAndConfirmTx(t,m,c,f)},st.compressSplTokenAccountInstructionDataLayout=dme,st.createDecompressOutputState=rJe,st.createMint=async function(t,e,r,n,i=Yr.Keypair.generate(),o,s,a){let c=await t.getMinimumBalanceForRentExemption(yf.MINT_SIZE),d=s==1?yf.TOKEN_2022_PROGRAM_ID:s||yf.TOKEN_PROGRAM_ID,f=await oo.createMint({feePayer:e.publicKey,mint:i.publicKey,decimals:n,authority:r,freezeAuthority:a||null,rentExemptBalance:c,tokenProgramId:d}),{blockhash:p}=await t.getLatestBlockhash(),m=Te.dedupeSigner(e,[i]),y=Te.buildAndSignTx(f,e,p,m),g=await Te.sendAndConfirmTx(t,y,o);return{mint:i.publicKey,transactionSignature:g}},st.createTokenPool=async function(t,e,r,n,i){i=i||await oo.getMintProgramId(r,t);let o=await oo.createTokenPool({feePayer:e.publicKey,mint:r,tokenProgramId:i}),{blockhash:s}=await t.getLatestBlockhash(),a=Te.buildAndSignTx([o],e,s);return await Te.sendAndConfirmTx(t,a,n)},st.createTokenPoolAccountsLayout=HZe,st.createTokenProgramLookupTable=async function(t,e,r,n,i){let o=await t.getSlot("finalized"),{instructions:s,address:a}=await oo.createTokenProgramLookupTable({payer:e.publicKey,authority:r.publicKey,mints:n,remainingAccounts:i,recentSlot:o}),c=Te.dedupeSigner(e,[r]),d=await t.getLatestBlockhash(),f=Te.buildAndSignTx([s[0]],e,d.blockhash,c),p=await Te.sendAndConfirmTx(t,f,{commitment:"finalized"},d),m=await t.getLatestBlockhash(),y=Te.buildAndSignTx([s[1]],e,m.blockhash,c);return{txIds:[p,await Te.sendAndConfirmTx(t,y,{commitment:"finalized"},m)],address:a}},st.createTransferOutputState=tJe,st.decodeApproveInstructionData=function(t){return fme.decode(t.subarray(ame.length))},st.decodeCompressSplTokenAccountInstructionData=function(t){let e=dme.decode(t.subarray(sme.length));return{owner:e.owner,remainingAmount:e.remainingAmount,cpiContext:e.cpiContext}},st.decodeMintToInstructionData=function(t){return lme.decode(t.subarray(ime.length))},st.decodeRevokeInstructionData=function(t){return pme.decode(t.subarray(cme.length))},st.decodeTransferInstructionData=function(t){return ume.decode(t.slice(ome.length+4))},st.decompress=async function(t,e,r,n,i,o,s,a){n=Te.bn(n);let c=await t.getCompressedTokenAccountsByOwner(i.publicKey,{mint:r}),[d]=hI(c.items,n),f=await t.getValidityProofV0(d.map(S=>({hash:S.compressedAccount.hash,tree:S.compressedAccount.treeInfo.tree,queue:S.compressedAccount.treeInfo.queue}))),p=nme(s=s??await yw(t,r),n),m=await oo.decompress({payer:e.publicKey,inputCompressedTokenAccounts:d,toAddress:o,amount:n,tokenPoolInfos:p,recentInputStateRootIndices:f.rootIndices,recentValidityProof:f.compressedProof}),{blockhash:y}=await t.getLatestBlockhash(),g=Te.dedupeSigner(e,[i]),b=Te.buildAndSignTx([Yr.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),m],e,y,g);return await Te.sendAndConfirmTx(t,b,a)},st.decompressDelegated=async function(t,e,r,n,i,o,s,a){n=Te.bn(n);let c=await t.getCompressedTokenAccountsByDelegate(i.publicKey,{mint:r}),[d]=hI(c.items,n),f=await t.getValidityProofV0(d.map(S=>({hash:S.compressedAccount.hash,tree:S.compressedAccount.treeInfo.tree,queue:S.compressedAccount.treeInfo.queue}))),p=s??nme(await yw(t,r),n),m=await oo.decompress({payer:e.publicKey,inputCompressedTokenAccounts:d,toAddress:o,amount:n,recentInputStateRootIndices:f.rootIndices,recentValidityProof:f.compressedProof,tokenPoolInfos:p}),{blockhash:y}=await t.getLatestBlockhash(),g=Te.dedupeSigner(e,[i]),b=Te.buildAndSignTx([Yr.ComputeBudgetProgram.setComputeUnitLimit({units:5e5}),m],e,y,g);return Te.sendAndConfirmTx(t,b,a)},st.encodeApproveInstructionData=JZe,st.encodeCompressSplTokenAccountInstructionData=GZe,st.encodeMintToInstructionData=VZe,st.encodeRevokeInstructionData=QZe,st.encodeTransferInstructionData=O7,st.freezeAccountsLayout=ZZe,st.getTokenPoolInfos=yw,st.isSingleTokenPoolInfo=function(t){return!Array.isArray(t)},st.mergeTokenAccounts=async function(t,e,r,n,i){let o=await t.getCompressedTokenAccountsByOwner(n.publicKey,{mint:r});if(o.items.length===0)throw new Error(`No compressed token accounts found for mint ${r.toBase58()}`);let s=[Yr.ComputeBudgetProgram.setComputeUnitLimit({units:1e6})];for(let f=0;f<o.items.slice(0,8).length;f+=4){let p=o.items.slice(f,f+4),m=await t.getValidityProof(p.map(g=>Te.bn(g.compressedAccount.hash))),y=await oo.mergeTokenAccounts({payer:e.publicKey,owner:n.publicKey,mint:r,inputCompressedTokenAccounts:p,recentValidityProof:m.compressedProof,recentInputStateRootIndices:m.rootIndices});s.push(...y)}let{blockhash:a}=await t.getLatestBlockhash(),c=Te.dedupeSigner(e,[n]),d=Te.buildAndSignTx(s,e,a,c);return Te.sendAndConfirmTx(t,d,i)},st.mintTo=async function(t,e,r,n,i,o,s,a,c){s=s??Te.selectStateTreeInfo(await t.getStateTreeInfos()),a=a??_z(await yw(t,r));let d=await oo.mintTo({feePayer:e.publicKey,mint:r,authority:i.publicKey,amount:o,toPubkey:n,outputStateTreeInfo:s,tokenPoolInfo:a}),{blockhash:f}=await t.getLatestBlockhash(),p=Te.dedupeSigner(e,[i]),m=Te.buildAndSignTx([Yr.ComputeBudgetProgram.setComputeUnitLimit({units:1e6}),d],e,f,p);return Te.sendAndConfirmTx(t,m,c)},st.mintToAccountsLayout=YZe,st.mintToLayout=lme,st.packCompressedTokenAccounts=lP,st.parseMaybeDelegatedTransfer=hme,st.parseTokenData=wz,st.revoke=async function(t,e,r,n,i){let o=await t.getValidityProofV0(r.map(f=>({hash:f.compressedAccount.hash,tree:f.compressedAccount.treeInfo.tree,queue:f.compressedAccount.treeInfo.queue})));(function(f,p){if(!f.publicKey.equals(p[0].parsed.owner))throw new Error(`Owner ${f.publicKey.toBase58()} does not match account ${p[0].parsed.owner.toBase58()}`)})(n,r),function(f){if(f.some(p=>p.parsed.delegate===null))throw new Error("Account is not delegated")}(r);let s=await oo.revoke({payer:e.publicKey,inputCompressedTokenAccounts:r,recentInputStateRootIndices:o.rootIndices,recentValidityProof:o.compressedProof}),{blockhash:a}=await t.getLatestBlockhash(),c=Te.dedupeSigner(e,[n]),d=Te.buildAndSignTx([Yr.ComputeBudgetProgram.setComputeUnitLimit({units:5e5}),s],e,a,c);return Te.sendAndConfirmTx(t,d,i)},st.revokeAccountsLayout=XZe,st.selectMinCompressedTokenAccountsForDecompression=function(t,e,r=4){let[n,i,o,s]=hI(t,e,r);return{selectedAccounts:n,total:i,totalLamports:o,maxPossibleAmount:s}},st.selectMinCompressedTokenAccountsForTransfer=hI,st.selectMinCompressedTokenAccountsForTransferOrPartial=nJe,st.selectSmartCompressedTokenAccountsForTransfer=function(t,e,r=4){let[n,i,o,s]=zZe(t,e,r);if(i.lt(Te.bn(e))){let a=t.reduce((c,d)=>c.add(d.parsed.amount),Te.bn(0));throw n.length>=r?new Error(`Account limit exceeded: max ${s.toString()} (${r} accounts) per transaction. Total balance: ${a.toString()} (${t.length} accounts). Consider multiple transfers to spend full balance.`):new Error(`Insufficient balance. Required: ${e.toString()}, available: ${a.toString()}.`)}if(n.length===0)throw new Error(mI);return[n,i,o,s]},st.selectSmartCompressedTokenAccountsForTransferOrPartial=zZe,st.selectTokenAccountsForApprove=LZe,st.selectTokenPoolInfo=_z,st.selectTokenPoolInfosForDecompression=nme,st.sumUpTokenAmount=gme,st.thawAccountsLayout=nlr,st.transfer=async function(t,e,r,n,i,o,s){n=Te.bn(n);let a=await t.getCompressedTokenAccountsByOwner(i.publicKey,{mint:r}),[c]=hI(a.items,n),d=await t.getValidityProofV0(c.map(g=>({hash:g.compressedAccount.hash,tree:g.compressedAccount.treeInfo.tree,queue:g.compressedAccount.treeInfo.queue}))),f=await oo.transfer({payer:e.publicKey,inputCompressedTokenAccounts:c,toAddress:o,amount:n,recentInputStateRootIndices:d.rootIndices,recentValidityProof:d.compressedProof}),{blockhash:p}=await t.getLatestBlockhash(),m=Te.dedupeSigner(e,[i]),y=Te.buildAndSignTx([Yr.ComputeBudgetProgram.setComputeUnitLimit({units:5e5}),f],e,p,m);return Te.sendAndConfirmTx(t,y,s)},st.transferAccountsLayout=Sz,st.transferDelegated=async function(t,e,r,n,i,o,s){n=Te.bn(n);let a=await t.getCompressedTokenAccountsByDelegate(i.publicKey,{mint:r}),[c]=hI(a.items,n),d=await t.getValidityProofV0(c.map(g=>({hash:g.compressedAccount.hash,tree:g.compressedAccount.treeInfo.tree,queue:g.compressedAccount.treeInfo.queue}))),f=await oo.transfer({payer:e.publicKey,inputCompressedTokenAccounts:c,toAddress:o,amount:n,recentInputStateRootIndices:d.rootIndices,recentValidityProof:d.compressedProof}),{blockhash:p}=await t.getLatestBlockhash(),m=Te.dedupeSigner(e,[i]),y=Te.buildAndSignTx([Yr.ComputeBudgetProgram.setComputeUnitLimit({units:5e5}),f],e,p,m);return Te.sendAndConfirmTx(t,y,s)},st.validateSameTokenOwner=C7});var Q7=_(so=>{"use strict";u();l();Object.defineProperty(so,"__esModule",{value:!0});so.MULTIPLE_ACCOUNT_INFO_MAX=so.NAME_HOUSE_PREFIX=so.TLD_HOUSE_PREFIX=so.NFT_RECORD_PREFIX=so.TOKEN_METADATA_PROGRAM_ID=so.SPL_TOKEN_PROGRAM_ID=so.NAME_HOUSE_PROGRAM_ID=so.TLD_HOUSE_PROGRAM_ID=so.ANS_PROGRAM_ID=so.ORIGIN_TLD=so.MAIN_DOMAIN_PREFIX=void 0;var zz=Ne();so.MAIN_DOMAIN_PREFIX="main_domain";so.ORIGIN_TLD="ANS";so.ANS_PROGRAM_ID=new zz.PublicKey("ALTNSZ46uaAUU7XUV6awvdorLGqAsPwa9shm7h4uP2FK");so.TLD_HOUSE_PROGRAM_ID=new zz.PublicKey("TLDHkysf5pCnKsVA4gXpNvmy7psXLPEu4LAdDJthT9S");so.NAME_HOUSE_PROGRAM_ID=new zz.PublicKey("NH3uX6FtVE2fNREAioP7hm5RaozotZxeL6khU1EHx51");so.SPL_TOKEN_PROGRAM_ID=new zz.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");so.TOKEN_METADATA_PROGRAM_ID=new zz.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");so.NFT_RECORD_PREFIX="nft_record";so.TLD_HOUSE_PREFIX="tld_house";so.NAME_HOUSE_PREFIX="name_house";so.MULTIPLE_ACCOUNT_INFO_MAX=100});var dQe=_(yi=>{"use strict";u();l();var ifr=yi&&yi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ofr=yi&&yi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Eg=yi&&yi.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},sfr=yi&&yi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&ifr(e,t,r);return ofr(e,t),e},aQe=yi&&yi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yi,"__esModule",{value:!0});yi.deserializeUnchecked=yi.deserialize=yi.serialize=yi.BinaryReader=yi.BinaryWriter=yi.BorshError=yi.baseDecode=yi.baseEncode=void 0;var _w=aQe(Lu()),cQe=aQe(P0()),afr=sfr(EP()),cfr=typeof self.TextDecoder!="function"?afr.TextDecoder:self.TextDecoder,ufr=new cfr("utf-8",{fatal:!0});function lfr(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),cQe.default.encode(Buffer.from(t))}yi.baseEncode=lfr;function dfr(t){return Buffer.from(cQe.default.decode(t))}yi.baseDecode=dfr;var Lme=1024,ka=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};yi.BorshError=ka;var e$=class{constructor(){this.buf=Buffer.alloc(Lme),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Lme)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new _w.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new _w.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new _w.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new _w.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Lme)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};yi.BinaryWriter=e$;function Ig(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new ka("Reached the end of buffer when deserializing")}throw o}}}var pl=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new _w.default(e,"le")}readU128(){let e=this.readBuffer(16);return new _w.default(e,"le")}readU256(){let e=this.readBuffer(32);return new _w.default(e,"le")}readU512(){let e=this.readBuffer(64);return new _w.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new ka(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return ufr.decode(r)}catch(n){throw new ka(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};Eg([Ig],pl.prototype,"readU8",null);Eg([Ig],pl.prototype,"readU16",null);Eg([Ig],pl.prototype,"readU32",null);Eg([Ig],pl.prototype,"readU64",null);Eg([Ig],pl.prototype,"readU128",null);Eg([Ig],pl.prototype,"readU256",null);Eg([Ig],pl.prototype,"readU512",null);Eg([Ig],pl.prototype,"readString",null);Eg([Ig],pl.prototype,"readFixedArray",null);Eg([Ig],pl.prototype,"readArray",null);yi.BinaryReader=pl;function uQe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Fz(t,e,r,n,i){try{if(typeof n=="string")i[`write${uQe(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new ka(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new ka(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)Fz(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{Fz(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),Fz(t,e,r,n.type,i));break}default:throw new ka(`FieldType ${n} unrecognized`)}else lQe(t,r,i)}catch(o){throw o instanceof ka&&o.addToFieldPath(e),o}}function lQe(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new ka(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{Fz(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),Fz(t,s,e[s],a,r);break}}}else throw new ka(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function ffr(t,e,r=e$){let n=new r;return lQe(t,e,n),n.toArray()}yi.serialize=ffr;function qz(t,e,r,n){try{if(typeof r=="string")return n[`read${uQe(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(qz(t,null,r[0],n));return i}else return n.readArray(()=>qz(t,e,r[0],n))}return r.kind==="option"?n.readU8()?qz(t,e,r.type,n):void 0:zme(t,r,n)}catch(i){throw i instanceof ka&&i.addToFieldPath(e),i}}function zme(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new ka(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=qz(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new ka(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=qz(t,o,s,r);return new e({[o]:a})}throw new ka(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function pfr(t,e,r,n=pl){let i=new n(r),o=zme(t,e,i);if(i.offset<r.length)throw new ka(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}yi.deserialize=pfr;function hfr(t,e,r,n=pl){let i=new n(r);return zme(t,e,i)}yi.deserializeUnchecked=hfr});var t$=_(gP=>{"use strict";u();l();var fQe=gP&&gP.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(gP,"__esModule",{value:!0});gP.NameRecordHeader=void 0;var Fme=Ne(),jz=dQe(),SI=class t{constructor(e){this.parentName=new Fme.PublicKey(e.parentName),this.nclass=new Fme.PublicKey(e.nclass),this.expiresAt=new Date(new jz.BinaryReader(Buffer.from(e.expiresAt)).readU64().toNumber()*1e3),this.createdAt=new Date(new jz.BinaryReader(Buffer.from(e.createdAt)).readU64().toNumber()*1e3),this.nonTransferable=e.nonTransferable[0]!==0;let r=45*24*60*60*1e3;this.isValid=new jz.BinaryReader(Buffer.from(e.expiresAt)).readU64().toNumber()===0?!0:this.expiresAt.getTime()+r>new Date(Date.now()).getTime(),this.owner=this.isValid?new Fme.PublicKey(e.owner):void 0}static get byteSize(){return 200}static fromAccountAddress(e,r){var n;return fQe(this,void 0,void 0,function*(){let i=yield e.getAccountInfo(r,"confirmed");if(!i)return;let o=(0,jz.deserializeUnchecked)(this.schema,t,i.data);return o.data=(n=i.data)===null||n===void 0?void 0:n.subarray(this.byteSize),o})}static fromMultipileAccountAddresses(e,r){return fQe(this,void 0,void 0,function*(){let n=yield e.getMultipleAccountsInfo(r),i=[];return n.forEach(o=>{if(!o){i.push(void 0);return}let s=this.fromAccountInfo(o);if(!s){i.push(void 0);return}i.push(s)}),i})}static fromAccountInfo(e){var r;let n=(0,jz.deserializeUnchecked)(this.schema,t,e.data);return n.data=(r=e.data)===null||r===void 0?void 0:r.subarray(this.byteSize),n}pretty(){var e;let r=this.data.indexOf(0);return{parentName:this.parentName.toBase58(),owner:(e=this.owner)===null||e===void 0?void 0:e.toBase58(),nclass:this.nclass.toBase58(),expiresAt:this.expiresAt,createdAt:this.createdAt,nonTransferable:this.nonTransferable,isValid:this.isValid,data:this.isValid?this.data.subarray(0,r).toString():void 0}}};gP.NameRecordHeader=SI;SI.DISCRIMINATOR=[68,72,88,44,15,167,103,243];SI.HASH_PREFIX="ALT Name Service";SI.schema=new Map([[SI,{kind:"struct",fields:[["discriminator",[8]],["parentName",[32]],["owner",[32]],["nclass",[32]],["expiresAt",[8]],["createdAt",[8]],["nonTransferable",[1]],["padding",[79]]]}]])});var qme=_(gf=>{"use strict";u();l();var mfr=gf&&gf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yfr=gf&&gf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gfr=gf&&gf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mfr(e,t,r);return yfr(e,t),e};Object.defineProperty(gf,"__esModule",{value:!0});gf.tagBeet=gf.Tag=void 0;var bfr=gfr(pe()),pQe;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.ActiveRecord=1]="ActiveRecord",t[t.InactiveRecord=2]="InactiveRecord"})(pQe=gf.Tag||(gf.Tag={}));gf.tagBeet=bfr.fixedScalarEnum(pQe)});var jme=_(As=>{"use strict";u();l();var _fr=As&&As.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Sfr=As&&As.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mQe=As&&As.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_fr(e,t,r);return Sfr(e,t),e},hQe=As&&As.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(As,"__esModule",{value:!0});As.nftRecordBeet=As.NftRecord=As.nftRecordDiscriminator=void 0;var r$=mQe(pe()),n$=mQe(Jr()),yQe=qme();As.nftRecordDiscriminator=[174,190,114,100,177,14,90,254];var i$=class t{constructor(e,r,n,i,o,s){this.tag=e,this.bump=r,this.nameAccount=n,this.owner=i,this.nftMintAccount=o,this.tldHouse=s}static fromArgs(e){return new t(e.tag,e.bump,e.nameAccount,e.owner,e.nftMintAccount,e.tldHouse)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static fromAccountAddress(e,r){return hQe(this,void 0,void 0,function*(){let n=yield e.getAccountInfo(r);if(n==null)throw new Error(`Unable to find NftRecord account at ${r}`);return t.fromAccountInfo(n,0)[0]})}static deserialize(e,r=0){return As.nftRecordBeet.deserialize(e,r)}serialize(){return As.nftRecordBeet.serialize(Object.assign({accountDiscriminator:As.nftRecordDiscriminator},this))}static get byteSize(){return As.nftRecordBeet.byteSize}static getMinimumBalanceForRentExemption(e,r){return hQe(this,void 0,void 0,function*(){return yield e.getMinimumBalanceForRentExemption(t.byteSize,r)})}static hasCorrectByteSize(e,r=0){return e.byteLength-r===t.byteSize}pretty(){return{tag:"Tag."+yQe.Tag[this.tag],bump:this.bump,nameAccount:this.nameAccount.toBase58(),owner:this.owner.toBase58(),nftMintAccount:this.nftMintAccount.toBase58(),tldHouse:this.tldHouse.toBase58()}}};As.NftRecord=i$;As.nftRecordBeet=new r$.BeetStruct([["accountDiscriminator",r$.uniformFixedSizeArray(r$.u8,8)],["tag",yQe.tagBeet],["bump",r$.u8],["nameAccount",n$.publicKey],["owner",n$.publicKey],["nftMintAccount",n$.publicKey],["tldHouse",n$.publicKey]],i$.fromArgs,"NftRecord")});var o$=_(mr=>{"use strict";u();l();var am=mr&&mr.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(mr,"__esModule",{value:!0});mr.splitDomainTld=mr.getParsedAllDomainsNftAccountsByOwner=mr.delay=mr.performReverseLookupBatched=mr.findMetadataAddress=mr.findNameHouse=mr.findTldHouse=mr.findNftRecord=mr.getMintOwner=mr.findAllDomainsForTld=mr.getParentAccountFromTldHouseAccountInfo=mr.getTldFromTldHouseAccountInfo=mr.getAllTld=mr.findMainDomain=mr.findOwnedNameAccountsForUser=mr.getOriginNameAccountKey=mr.getHashedName=mr.getNameOwner=mr.getNameAccountKeyWithBump=void 0;var Np=Ne(),wfr=Lu(),Afr=wge(),Uu=Q7(),Kme=t$(),Efr=qme(),Ifr=jme();function Wme(t,e,r){let n=[t,e?e.toBuffer():Buffer.alloc(32),r?r.toBuffer():Buffer.alloc(32)];return Np.PublicKey.findProgramAddressSync(n,Uu.ANS_PROGRAM_ID)}mr.getNameAccountKeyWithBump=Wme;function Tfr(t,e,r){return am(this,void 0,void 0,function*(){let n=yield Kme.NameRecordHeader.fromAccountAddress(t,e),i=n.owner;if(!n.isValid)return;if(!r)return i;let[o]=wQe(r),[s]=SQe(e,o);return i?.toBase58()!==s.toBase58()?i:yield _Qe(t,s)})}mr.getNameOwner=Tfr;function Vme(t){return am(this,void 0,void 0,function*(){let e=Kme.NameRecordHeader.HASH_PREFIX+t,r=(0,Afr.sha256)(Buffer.from(e,"utf8")).slice(2);return Buffer.from(r,"hex")})}mr.getHashedName=Vme;function kfr(t=Uu.ORIGIN_TLD){return am(this,void 0,void 0,function*(){let e=yield Vme(t),[r]=Wme(e,void 0,void 0);return r})}mr.getOriginNameAccountKey=kfr;function vfr(t,e,r){return am(this,void 0,void 0,function*(){let n=[{memcmp:{offset:40,bytes:e.toBase58(),encoding:"base58"}}];return r&&n.push({memcmp:{offset:8,bytes:r.toBase58(),encoding:"base58"}}),(yield t.getProgramAccounts(Uu.ANS_PROGRAM_ID,{filters:n})).map(o=>o.pubkey)})}mr.findOwnedNameAccountsForUser=vfr;function xfr(t){return Np.PublicKey.findProgramAddressSync([Buffer.from(Uu.MAIN_DOMAIN_PREFIX),t.toBuffer()],Uu.TLD_HOUSE_PROGRAM_ID)}mr.findMainDomain=xfr;function Pfr(t){return am(this,void 0,void 0,function*(){let r=[{memcmp:{offset:0,bytes:[247,144,135,1,238,173,19,249],encoding:"binary"}}],n=yield t.getProgramAccounts(Uu.TLD_HOUSE_PROGRAM_ID,{filters:r}),i=[];return n.map(({account:o})=>{let s=bQe(o),a=gQe(o);i.push({tld:a,parentAccount:s})}),i})}mr.getAllTld=Pfr;function gQe(t){var e;let n=(e=t?.data)===null||e===void 0?void 0:e.subarray(104),i=new wfr.BN(n?.subarray(0,4),"le").toNumber();return n.subarray(4,4+i).toString().replace(/\0.*$/g,"")}mr.getTldFromTldHouseAccountInfo=gQe;function bQe(t){var e;let n=(e=t?.data)===null||e===void 0?void 0:e.subarray(72,104);return new Np.PublicKey(n)}mr.getParentAccountFromTldHouseAccountInfo=bQe;function Ofr(t,e){return am(this,void 0,void 0,function*(){let r=[{memcmp:{offset:8,bytes:e.toBase58(),encoding:"base58"}}];return(yield t.getProgramAccounts(Uu.ANS_PROGRAM_ID,{filters:r})).map(i=>i.pubkey)})}mr.findAllDomainsForTld=Ofr;function _Qe(t,e){return am(this,void 0,void 0,function*(){try{let r=yield Ifr.NftRecord.fromAccountAddress(t,e);if(r.tag!==Efr.Tag.ActiveRecord)return;let n=yield t.getTokenLargestAccounts(r.nftMintAccount),i=yield t.getParsedAccountInfo(n.value[0].address);return i.value.data?new Np.PublicKey(i.value.data.parsed.info.owner):void 0}catch{return}})}mr.getMintOwner=_Qe;function SQe(t,e){return Np.PublicKey.findProgramAddressSync([Buffer.from(Uu.NFT_RECORD_PREFIX),e.toBuffer(),t.toBuffer()],Uu.NAME_HOUSE_PROGRAM_ID)}mr.findNftRecord=SQe;function Rfr(t){return t=t.toLowerCase(),Np.PublicKey.findProgramAddressSync([Buffer.from(Uu.TLD_HOUSE_PREFIX),Buffer.from(t)],Uu.TLD_HOUSE_PROGRAM_ID)}mr.findTldHouse=Rfr;function wQe(t){return Np.PublicKey.findProgramAddressSync([Buffer.from(Uu.NAME_HOUSE_PREFIX),t.toBuffer()],Uu.NAME_HOUSE_PROGRAM_ID)}mr.findNameHouse=wQe;var Cfr=t=>Np.PublicKey.findProgramAddressSync([Buffer.from("metadata"),Uu.TOKEN_METADATA_PROGRAM_ID.toBuffer(),t.toBuffer()],Uu.TOKEN_METADATA_PROGRAM_ID)[0];mr.findMetadataAddress=Cfr;function Bfr(t,e,r){return am(this,void 0,void 0,function*(){let n=e.map(s=>am(this,void 0,void 0,function*(){let a=yield Vme(s.toBase58()),[c]=Wme(a,r,void 0);return c})),i=yield Promise.all(n);return(yield t.getMultipleAccountsInfo(i)).map(s=>s?.data.subarray(Kme.NameRecordHeader.byteSize,s?.data.length).toString())})}mr.performReverseLookupBatched=Bfr;function Mfr(t){return new Promise(e=>setTimeout(e,t))}mr.delay=Mfr;var Nfr=(t,e,r)=>am(void 0,void 0,void 0,function*(){let{value:n}=yield e.getParsedTokenAccountsByOwner(t,{programId:Uu.SPL_TOKEN_PROGRAM_ID}),i=n.filter(s=>{var a,c,d,f,p,m,y,g,b,S;let P=(p=(f=(d=(c=(a=s.account)===null||a===void 0?void 0:a.data)===null||c===void 0?void 0:c.parsed)===null||d===void 0?void 0:d.info)===null||f===void 0?void 0:f.tokenAmount)===null||p===void 0?void 0:p.uiAmount;return((S=(b=(g=(y=(m=s.account)===null||m===void 0?void 0:m.data)===null||y===void 0?void 0:y.parsed)===null||g===void 0?void 0:g.info)===null||b===void 0?void 0:b.tokenAmount)===null||S===void 0?void 0:S.decimals)===0&&P===1}).map(s=>{var a,c,d,f;return(f=(d=(c=(a=s.account)===null||a===void 0?void 0:a.data)===null||c===void 0?void 0:c.parsed)===null||d===void 0?void 0:d.info)===null||f===void 0?void 0:f.mint});return yield Dfr(i,e,r)});mr.getParsedAllDomainsNftAccountsByOwner=Nfr;var Dfr=(t,e,r)=>am(void 0,void 0,void 0,function*(){let n=[];if(t.length>100)for(;t.length>0;){let s=t.splice(0,100).map(c=>(0,mr.findMetadataAddress)(new Np.PublicKey(c))),a=yield e.getMultipleAccountsInfo(s);for(let c of a)if(c){let d=new Np.PublicKey(c.data.subarray(326,358));if(!!c.data.subarray(326,327)&&d.toString()===r.toString()){let p=c.data.subarray(66,101).toString().replace(/\u0000/g,"");n.push(p)}}}else{let s=t.map(c=>(0,mr.findMetadataAddress)(new Np.PublicKey(c))),a=yield e.getMultipleAccountsInfo(s);for(let c of a)if(c){let d=new Np.PublicKey(c.data.subarray(326,358));if(!!c.data.subarray(326,327)&&d.toString()===r.toString()){let p=c.data.subarray(66,101).toString().replace(/\u0000/g,"");n.push(p)}}}return n});function Ufr(t){let e=t.split("."),r="",n="",i="";return e.length===1?n=e[0]:(r="."+e[e.length-1],n=e[e.length-2],i=e.slice(0,e.length-2).join(".")),[r,n,i]}mr.splitDomainTld=Ufr});var Hme=_(vo=>{"use strict";u();l();var Lfr=vo&&vo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zfr=vo&&vo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Gme=vo&&vo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Lfr(e,t,r);return zfr(e,t),e},AQe=vo&&vo.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(vo,"__esModule",{value:!0});vo.mainDomainBeet=vo.MainDomain=vo.mainDomainDiscriminator=void 0;var Ffr=Gme(Ne()),EQe=Gme(Jr()),Kz=Gme(pe());vo.mainDomainDiscriminator=[109,239,227,199,98,226,66,175];var s$=class t{constructor(e,r,n){this.nameAccount=e,this.tld=r,this.domain=n}static fromArgs(e){return new t(e.nameAccount,e.tld,e.domain)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static fromAccountAddress(e,r,n){return AQe(this,void 0,void 0,function*(){let i=yield e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find MainDomain account at ${r}`);return t.fromAccountInfo(i,0)[0]})}static gpaBuilder(e=new Ffr.PublicKey("TLDHkysf5pCnKsVA4gXpNvmy7psXLPEu4LAdDJthT9S")){return EQe.GpaBuilder.fromStruct(e,vo.mainDomainBeet)}static deserialize(e,r=0){return vo.mainDomainBeet.deserialize(e,r)}serialize(){return vo.mainDomainBeet.serialize(Object.assign({accountDiscriminator:vo.mainDomainDiscriminator},this))}static byteSize(e){let r=t.fromArgs(e);return vo.mainDomainBeet.toFixedFromValue(Object.assign({accountDiscriminator:vo.mainDomainDiscriminator},r)).byteSize}static getMinimumBalanceForRentExemption(e,r,n){return AQe(this,void 0,void 0,function*(){return yield r.getMinimumBalanceForRentExemption(t.byteSize(e),n)})}pretty(){return{nameAccount:this.nameAccount.toBase58(),tld:this.tld,domain:this.domain}}};vo.MainDomain=s$;vo.mainDomainBeet=new Kz.FixableBeetStruct([["accountDiscriminator",Kz.uniformFixedSizeArray(Kz.u8,8)],["nameAccount",EQe.publicKey],["tld",Kz.utf8String],["domain",Kz.utf8String]],s$.fromArgs,"MainDomain")});var Yme=_(bP=>{"use strict";u();l();var IQe=bP&&bP.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(bP,"__esModule",{value:!0});bP.getDomainKey=void 0;var $me=o$(),qfr=(t,e=!1)=>IQe(void 0,void 0,void 0,function*(){let r=t.split(".");if(r.length===3){let a="."+r[2],c=r[1],d=r[0],{pubkey:f}=yield v0(a),{pubkey:p}=yield v0(c,f),y=Buffer.from([e?1:0]).toString().concat(d),g=yield v0(y,p);return Object.assign(Object.assign({},g),{isSub:!0,parent:p})}else if(r.length===4&&e){let a="."+r[3],c=r[2],d=r[1],f=r[0],{pubkey:p}=yield v0(a),{pubkey:m}=yield v0(c,p),{pubkey:y}=yield v0("\0".concat(d),m),g=Buffer.from([1]).toString(),b=yield v0(g.concat(f),y);return Object.assign(Object.assign({},b),{isSub:!0,parent:m,isSubRecord:!0})}else if(r.length>4)throw new Error("Invalid derivation input");let n="."+r[1],{pubkey:i}=yield v0(n),o=r[0],s=yield v0(o,i);return Object.assign(Object.assign({},s),{isSub:!1,parent:void 0})});bP.getDomainKey=qfr;var v0=(t,e)=>IQe(void 0,void 0,void 0,function*(){e||(e=yield(0,$me.getOriginNameAccountKey)());let r=yield(0,$me.getHashedName)(t),[n]=yield(0,$me.getNameAccountKeyWithBump)(r,void 0,e);return{pubkey:n,hashed:r}})});var kQe=_(_P=>{"use strict";u();l();var bf=_P&&_P.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(_P,"__esModule",{value:!0});_P.TldParser=void 0;var Tg=Ne(),jfr=Lu(),Kfr=Hme(),Xme=t$(),cr=o$(),Sw=Q7(),TQe=Yme(),Zme=class{constructor(e){this.connection=e}getAllUserDomains(e){return bf(this,void 0,void 0,function*(){return typeof e=="string"&&(e=new Tg.PublicKey(e)),yield(0,cr.findOwnedNameAccountsForUser)(this.connection,e,void 0)})}getAllUserDomainsFromTld(e,r){return bf(this,void 0,void 0,function*(){let n="."+r,i=yield(0,cr.getOriginNameAccountKey)(),o=yield(0,cr.getHashedName)(n),[s]=(0,cr.getNameAccountKeyWithBump)(o,void 0,i);return typeof e=="string"&&(e=new Tg.PublicKey(e)),yield(0,cr.findOwnedNameAccountsForUser)(this.connection,e,s)})}getOwnerFromDomainTld(e){return bf(this,void 0,void 0,function*(){let r=e.split("."),n=r[0],i="."+r[1],o=yield(0,cr.getOriginNameAccountKey)(),s=yield(0,cr.getHashedName)(i),[a]=(0,cr.getNameAccountKeyWithBump)(s,void 0,o),c=yield(0,cr.getHashedName)(n),[d]=(0,cr.getNameAccountKeyWithBump)(c,void 0,a),[f]=(0,cr.findTldHouse)(i);return yield(0,cr.getNameOwner)(this.connection,d,f)})}getNameRecordFromDomainTld(e){return bf(this,void 0,void 0,function*(){let r=e.split("."),n=r[0],i="."+r[1],o=yield(0,cr.getOriginNameAccountKey)(),s=yield(0,cr.getHashedName)(i),[a]=(0,cr.getNameAccountKeyWithBump)(s,void 0,o),c=yield(0,cr.getHashedName)(n),[d]=(0,cr.getNameAccountKeyWithBump)(c,void 0,a);return yield Xme.NameRecordHeader.fromAccountAddress(this.connection,d)})}getTldFromParentAccount(e){var r;return bf(this,void 0,void 0,function*(){typeof e=="string"&&(e=new Tg.PublicKey(e));let n=yield Xme.NameRecordHeader.fromAccountAddress(this.connection,e),i=yield this.connection.getAccountInfo(n?.owner),s=(r=i?.data)===null||r===void 0?void 0:r.subarray(104),a=new jfr.BN(s?.subarray(0,4),"le").toNumber();return s.subarray(4,4+a).toString().replace(/\0.*$/g,"")})}reverseLookupNameAccount(e,r){var n;return bf(this,void 0,void 0,function*(){typeof e=="string"&&(e=new Tg.PublicKey(e)),typeof r=="string"&&(r=new Tg.PublicKey(r));let i=yield(0,cr.getHashedName)(e.toString()),[o]=(0,cr.getNameAccountKeyWithBump)(i,r,void 0),s=yield Xme.NameRecordHeader.fromAccountAddress(this.connection,o);return(n=s?.data)===null||n===void 0?void 0:n.toString()})}getMainDomain(e){return bf(this,void 0,void 0,function*(){typeof e=="string"&&(e=new Tg.PublicKey(e));let[r]=(0,cr.findMainDomain)(e);return yield Kfr.MainDomain.fromAccountAddress(this.connection,r)})}getParsedAllUserDomainsFromTldUnwrapped(e,r){return bf(this,void 0,void 0,function*(){let n="."+r,i=yield(0,cr.getOriginNameAccountKey)(),o=yield(0,cr.getHashedName)(n),[s]=(0,cr.findTldHouse)(n),[a]=(0,cr.getNameAccountKeyWithBump)(o,void 0,i);typeof e=="string"&&(e=new Tg.PublicKey(e));let c=yield(0,cr.findOwnedNameAccountsForUser)(this.connection,e,a),d=[];for(let f=0;f<c.length;f+=Sw.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,cr.delay)(100);let p=Math.min(f+Sw.MULTIPLE_ACCOUNT_INFO_MAX,c.length),m=c.slice(f,p),g=(yield(0,cr.performReverseLookupBatched)(this.connection,m,s)).map((b,S)=>({nameAccount:m[S],domain:b+n}));g.length>0&&g.sort((b,S)=>b.domain.localeCompare(S.domain,void 0,{numeric:!0,sensitivity:"base"})),d.push(...g)}return d})}getParsedAllUserDomainsFromTld(e,r){return bf(this,void 0,void 0,function*(){let n="."+r,i=yield(0,cr.getOriginNameAccountKey)(),o=yield(0,cr.getHashedName)(n),[s]=(0,cr.findTldHouse)(n),[a]=(0,cr.getNameAccountKeyWithBump)(o,void 0,i);typeof e=="string"&&(e=new Tg.PublicKey(e));let c=yield(0,cr.findOwnedNameAccountsForUser)(this.connection,e,a),d=[],p=(yield(0,cr.getParsedAllDomainsNftAccountsByOwner)(e,this.connection,(0,cr.findNameHouse)(s)[0])).map(y=>y+n),m=yield Promise.all(p.map(y=>bf(this,void 0,void 0,function*(){return{nameAccount:(yield(0,TQe.getDomainKey)(y)).pubkey,domain:y}})));d.push(...m);for(let y=0;y<c.length;y+=Sw.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,cr.delay)(100);let g=Math.min(y+Sw.MULTIPLE_ACCOUNT_INFO_MAX,c.length),b=c.slice(y,g),P=(yield(0,cr.performReverseLookupBatched)(this.connection,b,s)).map((U,L)=>({nameAccount:b[L],domain:U+n}));d.push(...P)}return d.length>0&&d.sort((y,g)=>y.domain.localeCompare(g.domain,void 0,{numeric:!0,sensitivity:"base"})),d})}getParsedAllUserDomainsUnwrapped(e){return bf(this,void 0,void 0,function*(){let r=yield(0,cr.getAllTld)(this.connection),n=[];typeof e=="string"&&(e=new Tg.PublicKey(e));for(let{parentAccount:i,tld:o}of r){let s=o.toString(),[a]=(0,cr.findTldHouse)(s),c=yield(0,cr.findOwnedNameAccountsForUser)(this.connection,e,i);for(let d=0;d<c.length;d+=Sw.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,cr.delay)(100);let f=Math.min(d+Sw.MULTIPLE_ACCOUNT_INFO_MAX,c.length),p=c.slice(d,f),y=(yield(0,cr.performReverseLookupBatched)(this.connection,p,a)).map((g,b)=>({nameAccount:p[b],domain:g+s}));n.push(...y)}}return n.length>0&&n.sort((i,o)=>i.domain.localeCompare(o.domain,void 0,{numeric:!0,sensitivity:"base"})),n})}getParsedAllUserDomains(e){return bf(this,void 0,void 0,function*(){let r=yield(0,cr.getAllTld)(this.connection),n=[];typeof e=="string"&&(e=new Tg.PublicKey(e));for(let{parentAccount:i,tld:o}of r){let s=o.toString(),[a]=(0,cr.findTldHouse)(s),c=yield(0,cr.findOwnedNameAccountsForUser)(this.connection,e,i),f=(yield(0,cr.getParsedAllDomainsNftAccountsByOwner)(e,this.connection,(0,cr.findNameHouse)(a)[0])).map(m=>m+s),p=yield Promise.all(f.map(m=>bf(this,void 0,void 0,function*(){return{nameAccount:(yield(0,TQe.getDomainKey)(m)).pubkey,domain:m}})));n.push(...p);for(let m=0;m<c.length;m+=Sw.MULTIPLE_ACCOUNT_INFO_MAX){yield(0,cr.delay)(100);let y=Math.min(m+Sw.MULTIPLE_ACCOUNT_INFO_MAX,c.length),g=c.slice(m,y),S=(yield(0,cr.performReverseLookupBatched)(this.connection,g,a)).map((P,U)=>({nameAccount:g[U],domain:P+s}));n.push(...S)}}return n.length>0&&n.sort((i,o)=>i.domain.localeCompare(o.domain,void 0,{numeric:!0,sensitivity:"base"})),n})}};_P.TldParser=Zme});var vQe=_(Wz=>{"use strict";u();l();Object.defineProperty(Wz,"__esModule",{value:!0});Wz.Record=void 0;var Wfr;(function(t){t.IPFS="IPFS",t.ARWV="ARWV",t.SOL="SOL",t.ETH="ETH",t.BTC="BTC",t.LTC="LTC",t.DOGE="DOGE",t.Email="email",t.Url="url",t.Discord="discord",t.Github="github",t.Reddit="reddit",t.Twitter="twitter",t.Telegram="telegram",t.Pic="pic",t.SHDW="SHDW",t.POINT="POINT"})(Wfr=Wz.Record||(Wz.Record={}))});var xQe=_(wd=>{"use strict";u();l();var Vfr=wd&&wd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ww=wd&&wd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Vfr(e,t,r)};Object.defineProperty(wd,"__esModule",{value:!0});ww(o$(),wd);ww(Q7(),wd);ww(kQe(),wd);ww(t$(),wd);ww(Hme(),wd);ww(jme(),wd);ww(Yme(),wd);ww(vQe(),wd)});var ret={};jye(ret,{__addDisposableResource:()=>eet,__assign:()=>a$,__asyncDelegator:()=>GQe,__asyncGenerator:()=>VQe,__asyncValues:()=>HQe,__await:()=>SP,__awaiter:()=>zQe,__classPrivateFieldGet:()=>ZQe,__classPrivateFieldIn:()=>QQe,__classPrivateFieldSet:()=>JQe,__createBinding:()=>u$,__decorate:()=>DQe,__disposeResources:()=>tet,__esDecorate:()=>Yfr,__exportStar:()=>qQe,__extends:()=>MQe,__generator:()=>FQe,__importDefault:()=>XQe,__importStar:()=>YQe,__makeTemplateObject:()=>$Qe,__metadata:()=>LQe,__param:()=>UQe,__propKey:()=>Zfr,__read:()=>tye,__rest:()=>NQe,__runInitializers:()=>Xfr,__setFunctionName:()=>Jfr,__spread:()=>jQe,__spreadArray:()=>WQe,__spreadArrays:()=>KQe,__values:()=>c$,default:()=>tpr});function MQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");eye(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function NQe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function DQe(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function UQe(t,e){return function(r,n){e(r,n,t)}}function Yfr(t,e,r,n,i,o){function s(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",d=!e&&t?n.static?t:t.prototype:null,f=e||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p,m=!1,y=r.length-1;y>=0;y--){var g={};for(var b in n)g[b]=b==="access"?{}:n[b];for(var b in n.access)g.access[b]=n.access[b];g.addInitializer=function(P){if(m)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(P||null))};var S=(0,r[y])(a==="accessor"?{get:f.get,set:f.set}:f[c],g);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(p=s(S.get))&&(f.get=p),(p=s(S.set))&&(f.set=p),(p=s(S.init))&&i.unshift(p)}else(p=s(S))&&(a==="field"?i.unshift(p):f[c]=p)}d&&Object.defineProperty(d,n.name,f),m=!0}function Xfr(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function Zfr(t){return typeof t=="symbol"?t:"".concat(t)}function Jfr(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function LQe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function zQe(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}function FQe(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(d){return function(f){return c([d,f])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(f){d=[6,f],i=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function qQe(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&u$(e,t,r)}function c$(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tye(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function jQe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tye(arguments[e]));return t}function KQe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function WQe(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function SP(t){return this instanceof SP?(this.v=t,this):new SP(t)}function VQe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){n[m]&&(i[m]=function(y){return new Promise(function(g,b){o.push([m,y,g,b])>1||a(m,y)})})}function a(m,y){try{c(n[m](y))}catch(g){p(o[0][3],g)}}function c(m){m.value instanceof SP?Promise.resolve(m.value.v).then(d,f):p(o[0][2],m)}function d(m){a("next",m)}function f(m){a("throw",m)}function p(m,y){m(y),o.shift(),o.length&&a(o[0][0],o[0][1])}}function GQe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(s){return(r=!r)?{value:SP(t[i](s)),done:!1}:o?o(s):s}:o}}function HQe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof c$=="function"?c$(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},s)}}function $Qe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function YQe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&u$(e,t,r);return Qfr(e,t),e}function XQe(t){return t&&t.__esModule?t:{default:t}}function ZQe(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function JQe(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function QQe(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function eet(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function tet(t){function e(n){t.error=t.hasError?new epr(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(o){return e(o),r()})}catch(o){e(o)}}if(t.hasError)throw t.error}return r()}var eye,a$,u$,Qfr,epr,tpr,net=qye(()=>{u();l();eye=function(t,e){return eye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},eye(t,e)};a$=function(){return a$=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a$.apply(this,arguments)};u$=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};Qfr=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};epr=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};tpr={__extends:MQe,__assign:a$,__rest:NQe,__decorate:DQe,__param:UQe,__metadata:LQe,__awaiter:zQe,__generator:FQe,__createBinding:u$,__exportStar:qQe,__values:c$,__read:tye,__spread:jQe,__spreadArrays:KQe,__spreadArray:WQe,__await:SP,__asyncGenerator:VQe,__asyncDelegator:GQe,__asyncValues:HQe,__makeTemplateObject:$Qe,__importStar:YQe,__importDefault:XQe,__classPrivateFieldGet:ZQe,__classPrivateFieldSet:JQe,__classPrivateFieldIn:QQe,__addDisposableResource:eet,__disposeResources:tet}});var iet=_(rye=>{"use strict";u();l();Object.defineProperty(rye,"__esModule",{value:!0});var Aw=Es();function rpr(t,e){e===void 0&&(e=0);var r=Aw.useRef(!1),n=Aw.useRef(),i=Aw.useRef(t),o=Aw.useCallback(function(){return r.current},[]),s=Aw.useCallback(function(){r.current=!1,n.current&&clearTimeout(n.current),n.current=setTimeout(function(){r.current=!0,i.current()},e)},[e]),a=Aw.useCallback(function(){r.current=null,n.current&&clearTimeout(n.current)},[]);return Aw.useEffect(function(){i.current=t},[t]),Aw.useEffect(function(){return s(),a},[e]),[o,a,s]}rye.default=rpr});var oet=_(nye=>{"use strict";u();l();Object.defineProperty(nye,"__esModule",{value:!0});var npr=(net(),z$(ret)),ipr=Es(),opr=npr.__importDefault(iet());function spr(t,e,r){e===void 0&&(e=0),r===void 0&&(r=[]);var n=opr.default(t,e),i=n[0],o=n[1],s=n[2];return ipr.useEffect(s,r),[i,o]}nye.default=spr});u();l();var Wge=new Error("Missing either handle, networkID, or userRepository."),crt=new Error("Missing gas estimation args."),wmr=new Error("Unable to get fee for message."),Vge=new Error("Missing baseFeePerGas in eth_getBlockByNumber."),_8=new Error("This domain is not registered"),Gge=new Error("Invalid Solana address"),Hge=new Error("This Twitter handle is not registered"),Q$=new Error("This username is not registered"),e9=new Error("Domain names do not match"),Amr="Attempt to debit an account but found no record of a prior credit",Emr="Insufficient funds for fee",MI=new Error("Transaction is null"),BI=class extends Error{constructor(r,n){super(r);this.data=n}};u();l();u();l();var Yge=Oe(va()),Xge=Oe(G$());u();l();var CP=4294967293,BP=4294967295;var Tf={bip122_p2pkh:{header:10,perInput:148,perOutput:34},bip122_p2sh:{header:10.5,perInput:91,perOutput:32},bip122_p2wpkh:{header:10.5,perInput:68,perOutput:31},bip122_p2tr:{header:10.5,perInput:57.5,perOutput:43}},MP=75,$ge={bip122_p2tr:330,bip122_p2wpkh:294,bip122_p2sh:540,bip122_p2pkh:546};function NI({btcPerKilobyte:t,virtualBytes:e,additionalCosts:r}){return Fp(t).times(e).plus(r).integerValue(zr.ROUND_UP)}function Fp(t){let e=new zr(.001),r=Ef(Se.getTokenDecimals(qe.Bitcoin.Mainnet));return t.times(r).times(e)}function NP(t){let e=t.data.inputs[0],r;if(e.witnessUtxo)r=e.witnessUtxo.script;else if(e.nonWitnessUtxo)r=Yge.Transaction.fromBuffer(e.nonWitnessUtxo).outs[t.txInputs[0].index].script;else throw new Error(`Unable to determine sender address from input: ${JSON.stringify(e)}`);return(0,Xge.fromOutputScript)(r)}function S8(t){let e=NP(t),r=yl(qe.Bitcoin.Mainnet,e);if(Tge(r))return r;throw new Error(`Unknown address type for address: ${e}.`)}function DP(t){return t.extractTransaction().getId()}u();l();u();l();var jmr=v.object({chainId:xI,address:v.string()});var Zge=(o=>(o.TokenSend="TokenSend",o.Stake="Stake",o.Swap="Swap",o.DappInteraction="DappInteraction",o.Other="Other",o))(Zge||{}),t9=v.object({accounts:v.array(v.string()),chainId:v.enum([qe.Solana.Mainnet]),transactionType:v.nativeEnum(Zge).optional(),computeUnitLimit:v.number().optional(),getBounds:v.boolean().optional()}),Jge=v.object({networkID:$$}),Kmr=Jge.extend({senderAddress:Z$,type:v.literal("transferNativeSolana"),destination:v.string(),amount:v.union([v.instanceof(We),v.string()]),references:v.array(v.string()).optional(),memo:v.string().optional(),computeUnitPrice:v.union([v.number(),v.undefined()])}),Wmr=v.object({compressed:v.boolean(),merkleTree:v.string(),leafIndex:v.number()}),urt=Jge.extend({type:v.literal("transferSPLToken"),senderAddress:Z$,mint:v.string(),amount:v.union([v.instanceof(We),v.string()]),memo:v.string().optional()}),lrt=urt.extend({destination:v.string(),senderAccount:v.string(),decimals:v.number(),references:v.array(v.string()).optional(),programId:v.string(),transferHookProgramId:v.union([v.string(),v.undefined(),v.null()])}),Vmr=v.object({networkID:$$,id:v.string()}),Qge=v.object({executable:v.literal(!1),lamports:v.number(),owner:v.instanceof(le.PublicKey),rentEpoch:v.number(),data:v.object({program:v.literal("spl-token"),space:v.number(),parsed:v.object({type:v.literal("account"),info:v.object({isNative:v.boolean(),mint:v.string(),owner:v.string(),state:v.string(),tokenAmount:v.object({amount:v.string(),decimals:v.number(),uiAmount:v.number(),uiAmountString:v.string()})})})})}),Gmr=v.object({txID:v.string(),psbtHex:v.string(),confirmations:v.number()}),Hmr=v.object({digest:v.string()}),$mr=v.object({displayName:v.string(),logoURI:v.string()});var Ymr=v.object({networkID:H$,gasLimit:v.instanceof(We),maxFeePerGas:v.instanceof(We),maxPriorityFeePerGas:v.instanceof(We),l1Fee:v.instanceof(We).optional()}),Xmr=v.object({networkID:PP,virtualBytes:v.instanceof(We),btcPerKilobyte:v.instanceof(We),additionalCosts:v.instanceof(We)}),Zmr=v.object({networkID:H$,id:v.string()}),Jmr=v.object({txID:v.string(),psbtHex:v.string()}),Qmr=v.object({networkID:PP,id:v.string()}),eyr=v.object({digest:v.string()}),tyr=v.object({networkID:kge,id:v.string()});var Tw=t=>Se.isSolanaNetworkID(t.networkID),kw=t=>Se.isSuiNetworkID(t.networkID),vw=t=>Se.isEVMNetworkID(t.networkID),xw=t=>Se.isBitcoinNetworkID(t.networkID);var drt=t=>t?.maxFeePerGas!==void 0;function w8(t){return Se.isBitcoinNetworkID(t.networkID)}function UP(t){return Se.isEVMNetworkID(t.networkID)}function r9(t){return Se.isSolanaNetworkID(t.networkID)}function n9(t){return Se.isSuiNetworkID(t.networkID)}var frt=t=>DI(t),DI=t=>{if(!t)return;let e=t.networkID,r=Se.getTokenSymbol(e),n=Se.getTokenDecimals(e);if(Tw(t)){let i=new zr(t.value);return`${parseFloat(nge(i?.toNumber()).toFixed(6))} ${r}`}else if(vw(t)){let i=t.gasLimit.times(t.maxFeePerGas);return`${parseFloat(new zr(i).div(Ef(n)).toFixed(6))} ${r}`}else if(xw(t)){let i=NI(t);return`${parseFloat(i.div(Ef(n)).toFixed(6))} ${r}`}else if(kw(t))return`${a8(t.gasBudget,n)} ${r}`};u();l();u();l();u();l();u();l();u();l();u();l();u();l();var qP=Oe(Ed());u();l();var lm="abi/5.7.0";var an=new qP.Logger(lm),Pw={},ebe={calldata:!0,memory:!0,storage:!0},prt={calldata:!0,memory:!0};function A8(t,e){if(t==="bytes"||t==="string"){if(ebe[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&prt[e])return!0;return(ebe[e]||e==="payable")&&an.throwArgumentError("invalid modifier","name",e),!1}function hrt(t,e){let r=t;function n(a){an.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let o={type:"",name:"",state:{allowType:!0}},s=o;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":s.state.allowType&&s.type===""?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=UI(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),A8(s.type,s.name)&&(s.name=""),s.type=UI(s.type);let d=s;s=s.parent,s||n(a),delete d.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),A8(s.type,s.name)&&(s.name=""),s.type=UI(s.type);let f=i(s.parent);s.parent.components.push(f),delete s.parent,s=f;break;case" ":s.state.allowType&&s.type!==""&&(s.type=UI(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&s.name!==""&&(s.name==="indexed"?(e||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):A8(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=c,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=c,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=c,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=c,delete s.state.allowArray):s.state.readArray?s.type+=c:n(a)}}return s.parent&&an.throwArgumentError("unexpected eof","param",t),delete o.state,s.name==="indexed"?(e||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):A8(s.type,s.name)&&(s.name=""),o.type=UI(o.type),o}function E8(t,e){for(let r in e)et(t,r,e[r])}var pn=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),mrt=new RegExp(/^(.*)\[([0-9]*)\]$/),gl=class t{constructor(e,r){e!==Pw&&an.throwError("use fromString",qP.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),E8(this,r);let n=this.type.match(mrt);n?E8(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:t.fromObject({type:n[1],components:this.components}),baseType:"array"}):E8(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=pn.sighash),pn[e]||an.throwArgumentError("invalid format type","format",e),e===pn.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==pn.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===pn.full?", ":",")+")"):r+=this.type,e!==pn.sighash&&(this.indexed===!0&&(r+=" indexed"),e===pn.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?t.fromString(e,r):t.fromObject(e)}static fromObject(e){return t.isParamType(e)?e:new t(Pw,{name:e.name||null,type:UI(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(t.fromObject):null})}static fromString(e,r){function n(i){return t.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(hrt(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}};function LP(t,e){return grt(t).map(r=>gl.fromString(r,e))}var Ow=class t{constructor(e,r){e!==Pw&&an.throwError("use a static from method",qP.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),E8(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return t.isFragment(e)?e:typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isFragment(e))return e;switch(e.type){case"function":return Cw.fromObject(e);case"event":return LI.fromObject(e);case"constructor":return Rw.fromObject(e);case"error":return I8.fromObject(e);case"fallback":case"receive":return null}return an.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?LI.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Cw.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Rw.fromString(e.trim()):e.split(" ")[0]==="error"?I8.fromString(e.substring(5).trim()):an.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}},LI=class t extends Ow{format(e){if(e||(e=pn.sighash),pn[e]||an.throwArgumentError("invalid format type","format",e),e===pn.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==pn.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===pn.full?", ":",")+") ",e!==pn.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isEventFragment(e))return e;e.type!=="event"&&an.throwArgumentError("invalid event object","value",e);let r={name:zP(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(gl.fromObject):[],type:"event"};return new t(Pw,r)}static fromString(e){let r=e.match(FP);r||an.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:an.warn("unknown modifier: "+i)}}),t.fromObject({name:r[1].trim(),anonymous:n,inputs:LP(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}};function rbe(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&an.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||an.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Wt.from(r[1]),r[0]):t}function nbe(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function ibe(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&an.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&an.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&an.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&an.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&an.throwArgumentError("unable to determine stateMutability","value",t),e}var Rw=class t extends Ow{format(e){if(e||(e=pn.sighash),pn[e]||an.throwArgumentError("invalid format type","format",e),e===pn.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===pn.sighash&&an.throwError("cannot format a constructor for sighash",qP.Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===pn.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isConstructorFragment(e))return e;e.type!=="constructor"&&an.throwArgumentError("invalid constructor object","value",e);let r=ibe(e);r.constant&&an.throwArgumentError("constructor cannot be constant","value",e);let n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(gl.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Wt.from(e.gas):null};return new t(Pw,n)}static fromString(e){let r={type:"constructor"};e=rbe(e,r);let n=e.match(FP);return(!n||n[1].trim()!=="constructor")&&an.throwArgumentError("invalid constructor string","value",e),r.inputs=LP(n[2].trim(),!1),nbe(n[3].trim(),r),t.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}},Cw=class t extends Rw{format(e){if(e||(e=pn.sighash),pn[e]||an.throwArgumentError("invalid format type","format",e),e===pn.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==pn.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===pn.full?", ":",")+") ",e!==pn.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isFunctionFragment(e))return e;e.type!=="function"&&an.throwArgumentError("invalid function object","value",e);let r=ibe(e),n={type:e.type,name:zP(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(gl.fromObject):[],outputs:e.outputs?e.outputs.map(gl.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Wt.from(e.gas):null};return new t(Pw,n)}static fromString(e){let r={type:"function"};e=rbe(e,r);let n=e.split(" returns ");n.length>2&&an.throwArgumentError("invalid function string","value",e);let i=n[0].match(FP);if(i||an.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&zP(r.name),r.inputs=LP(i[2],!1),nbe(i[3].trim(),r),n.length>1){let o=n[1].match(FP);(o[1].trim()!=""||o[3].trim()!="")&&an.throwArgumentError("unexpected tokens","value",e),r.outputs=LP(o[2],!1)}else r.outputs=[];return t.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}};function tbe(t){let e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&an.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}var I8=class t extends Ow{format(e){if(e||(e=pn.sighash),pn[e]||an.throwArgumentError("invalid format type","format",e),e===pn.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==pn.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===pn.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?t.fromString(e):t.fromObject(e)}static fromObject(e){if(t.isErrorFragment(e))return e;e.type!=="error"&&an.throwArgumentError("invalid error object","value",e);let r={type:e.type,name:zP(e.name),inputs:e.inputs?e.inputs.map(gl.fromObject):[]};return tbe(new t(Pw,r))}static fromString(e){let r={type:"error"},n=e.match(FP);return n||an.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&zP(r.name),r.inputs=LP(n[2],!1),tbe(t.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}};function UI(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}var yrt=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function zP(t){return(!t||!t.match(yrt))&&an.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}var FP=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function grt(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let o=t[i];o===","&&n===0?(e.push(r),r=""):(r+=o,o==="("?n++:o===")"&&(n--,n===-1&&an.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}u();l();var sbe=Oe(Sf());var c9=Oe(Ed());u();l();var kf=Oe(Sf());var k8=Oe(Ed());var i9=new k8.Logger(lm);function v8(t){let e=[],r=function(n,i){if(Array.isArray(i))for(let o in i){let s=n.slice();s.push(o);try{r(s,i[o])}catch(a){e.push({path:s,error:a})}}};return r([],t),e}var Xo=class{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){i9.throwArgumentError(e,this.localName,r)}},Bw=class{constructor(e){et(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return(0,kf.hexConcat)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData((0,kf.concat)(e._data))}writeBytes(e){let r=(0,kf.arrayify)(e),n=r.length%this.wordSize;return n&&(r=(0,kf.concat)([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=(0,kf.arrayify)(Wt.from(e));return r.length>this.wordSize&&i9.throwError("value out-of-bounds",k8.Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=(0,kf.concat)([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}},T8=class t{constructor(e,r,n,i){et(this,"_data",(0,kf.arrayify)(e)),et(this,"wordSize",r||32),et(this,"_coerceFunc",n),et(this,"allowLoose",i),this._offset=0}get data(){return(0,kf.hexlify)(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):t.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:i9.throwError("data out-of-bounds",k8.Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new t(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return Wt.from(this.readBytes(this.wordSize))}};u();l();var obe=Oe(Sf());var x8=class extends Xo{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=wf(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return wf((0,obe.hexZeroPad)(e.readValue().toHexString(),20))}};u();l();var Mw=Oe(Ed());u();l();var P8=class extends Xo{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}};var zI=new Mw.Logger(lm);function o9(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(d=>{let f=d.localName;return f||zI.throwError("cannot encode object for signature with missing names",Mw.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:r}),c[f]&&zI.throwError("cannot encode object for signature with duplicate names",Mw.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:d,value:r}),c[f]=!0,r[f]})}else zI.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&zI.throwArgumentError("types/value length mismatch","tuple",r);let i=new Bw(t.wordSize),o=new Bw(t.wordSize),s=[];e.forEach((c,d)=>{let f=n[d];if(c.dynamic){let p=o.length;c.encode(o,f);let m=i.writeUpdatableValue();s.push(y=>{m(y+p)})}else c.encode(i,f)}),s.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function s9(t,e){let r=[],n=t.subReader(0);e.forEach(o=>{let s=null;if(o.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{s=o.decode(c)}catch(d){if(d.code===Mw.Logger.errors.BUFFER_OVERRUN)throw d;s=d,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(t)}catch(a){if(a.code===Mw.Logger.errors.BUFFER_OVERRUN)throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}s!=null&&r.push(s)});let i=e.reduce((o,s)=>{let a=s.localName;return a&&(o[a]||(o[a]=0),o[a]++),o},{});e.forEach((o,s)=>{let a=o.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;let c=r[s];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let o=0;o<r.length;o++){let s=r[o];s instanceof Error&&Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw s}})}return Object.freeze(r)}var O8=class extends Xo{constructor(e,r,n){let i=e.type+"["+(r>=0?r:"")+"]",o=r===-1||e.dynamic;super("array",i,n,o),this.coder=e,this.length=r}defaultValue(){let e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),zI.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<r.length;o++)i.push(this.coder);return o9(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&zI.throwError("insufficient data length",Mw.Logger.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new P8(this.coder));return e.coerce(this.name,s9(e,n))}};u();l();var R8=class extends Xo{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}};u();l();var B8=Oe(Sf());var jP=class extends Xo{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=(0,B8.arrayify)(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}},C8=class extends jP{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,(0,B8.hexlify)(super.decode(e)))}};u();l();var N8=Oe(Sf());var M8=class extends Xo{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=(0,N8.arrayify)(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,(0,N8.hexlify)(e.readBytes(this.size)))}};u();l();var D8=class extends Xo{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}};u();l();var U8=class extends Xo{constructor(e,r,n){let i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=Wt.from(r),i=gge.mask(e.wordSize*8);if(this.signed){let o=i.mask(this.size*8-1);(n.gt(o)||n.lt(o.add(yge).mul(hge)))&&this._throwError("value out-of-bounds",r)}else(n.lt(mge)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}};u();l();var L8=class extends jP{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Lp(r))}decode(e){return R0(super.decode(e))}};u();l();var Nw=class extends Xo{constructor(e,r){let n=!1,i=[];e.forEach(s=>{s.dynamic&&(n=!0),i.push(s.type)});let o="tuple("+i.join(",")+")";super("tuple",o,r,n),this.coders=e}defaultValue(){let e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});let r=this.coders.reduce((n,i)=>{let o=i.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});return this.coders.forEach((n,i)=>{let o=n.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,r){return o9(e,this.coders,r)}decode(e){return e.coerce(this.name,s9(e,this.coders))}};var z8=new c9.Logger(lm),brt=new RegExp(/^bytes([0-9]*)$/),_rt=new RegExp(/^(u?int)([0-9]*)$/),a9=class{constructor(e){et(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new x8(e.name);case"bool":return new R8(e.name);case"string":return new L8(e.name);case"bytes":return new C8(e.name);case"array":return new O8(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Nw((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new D8(e.name)}let r=e.type.match(_rt);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&z8.throwArgumentError("invalid "+r[1]+" bit length","param",e),new U8(n/8,r[1]==="int",e.name)}if(r=e.type.match(brt),r){let n=parseInt(r[1]);return(n===0||n>32)&&z8.throwArgumentError("invalid bytes length","param",e),new M8(n,e.name)}return z8.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new T8(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new Bw(this._getWordSize())}getDefaultValue(e){let r=e.map(i=>this._getCoder(gl.from(i)));return new Nw(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&z8.throwError("types/values length mismatch",c9.Logger.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});let n=e.map(s=>this._getCoder(gl.from(s))),i=new Nw(n,"_"),o=this._getWriter();return i.encode(o,r),o.data}decode(e,r,n){let i=e.map(s=>this._getCoder(gl.from(s)));return new Nw(i,"_").decode(this._getReader((0,sbe.arrayify)(r),n))}},abe=new a9;u();l();var jn=Oe(Sf());var KP=Oe(Ed());var ao=new KP.Logger(lm);var F8=class extends kP{},q8=class extends kP{},u9=class extends kP{},Dw=class extends kP{static isIndexed(e){return!!(e&&e._isIndexed)}},Srt={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function cbe(t,e){let r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}var FI=class{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,et(this,"fragments",r.map(n=>Ow.from(n)).filter(n=>n!=null)),et(this,"_abiCoder",hl(new.target,"getAbiCoder")()),et(this,"functions",{}),et(this,"errors",{}),et(this,"events",{}),et(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){ao.warn("duplicate definition - constructor");return}et(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let o=n.format();if(i[o]){ao.warn("duplicate definition - "+o);return}i[o]=n}),this.deploy||et(this,"deploy",Rw.from({payable:!1,type:"constructor"})),et(this,"_isInterface",!0)}format(e){e||(e=pn.full),e===pn.sighash&&ao.throwArgumentError("interface does not support formatting sighash","format",e);let r=this.fragments.map(n=>n.format(e));return e===pn.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return abe}static getAddress(e){return wf(e)}static getSighash(e){return(0,jn.hexDataSlice)(vP(e.format()),0,4)}static getEventTopic(e){return vP(e.format())}getFunction(e){if((0,jn.isHexString)(e)){for(let n in this.functions)if(e===this.getSighash(n))return this.functions[n];ao.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){let n=e.trim(),i=Object.keys(this.functions).filter(o=>o.split("(")[0]===n);return i.length===0?ao.throwArgumentError("no matching function","name",n):i.length>1&&ao.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}let r=this.functions[Cw.fromString(e).format()];return r||ao.throwArgumentError("no matching function","signature",e),r}getEvent(e){if((0,jn.isHexString)(e)){let n=e.toLowerCase();for(let i in this.events)if(n===this.getEventTopic(i))return this.events[i];ao.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){let n=e.trim(),i=Object.keys(this.events).filter(o=>o.split("(")[0]===n);return i.length===0?ao.throwArgumentError("no matching event","name",n):i.length>1&&ao.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}let r=this.events[LI.fromString(e).format()];return r||ao.throwArgumentError("no matching event","signature",e),r}getError(e){if((0,jn.isHexString)(e)){let n=hl(this.constructor,"getSighash");for(let i in this.errors){let o=this.errors[i];if(e===n(o))return this.errors[i]}ao.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){let n=e.trim(),i=Object.keys(this.errors).filter(o=>o.split("(")[0]===n);return i.length===0?ao.throwArgumentError("no matching error","name",n):i.length>1&&ao.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}let r=this.errors[Cw.fromString(e).format()];return r||ao.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return hl(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),hl(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));let n=(0,jn.arrayify)(r);return(0,jn.hexlify)(n.slice(0,4))!==this.getSighash(e)&&ao.throwArgumentError(`data signature does not match error ${e.name}.`,"data",(0,jn.hexlify)(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),(0,jn.hexlify)((0,jn.concat)([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=(0,jn.arrayify)(r);return(0,jn.hexlify)(n.slice(0,4))!==this.getSighash(e)&&ao.throwArgumentError(`data signature does not match function ${e.name}.`,"data",(0,jn.hexlify)(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),(0,jn.hexlify)((0,jn.concat)([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=(0,jn.arrayify)(r),i=null,o="",s=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{let d=(0,jn.hexlify)(n.slice(0,4)),f=Srt[d];if(f)s=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,c=f.signature,f.reason&&(i=s[0]),a==="Error"?o=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:a==="Panic"&&(o=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{let p=this.getError(d);s=this._abiCoder.decode(p.inputs,n.slice(4)),a=p.name,c=p.format()}catch{}break}}return ao.throwError("call revert exception"+o,KP.Logger.errors.CALL_EXCEPTION,{method:e.format(),data:(0,jn.hexlify)(r),errorArgs:s,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),(0,jn.hexlify)(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&ao.throwError("too many arguments for "+e.format(),KP.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));let i=(o,s)=>o.type==="string"?vP(s):o.type==="bytes"?F$((0,jn.hexlify)(s)):(o.type==="bool"&&typeof s=="boolean"&&(s=s?"0x01":"0x00"),o.type.match(/^u?int/)&&(s=Wt.from(s).toHexString()),o.type==="address"&&this._abiCoder.encode(["address"],[s]),(0,jn.hexZeroPad)((0,jn.hexlify)(s),32));for(r.forEach((o,s)=>{let a=e.inputs[s];if(!a.indexed){o!=null&&ao.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?ao.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?n.push(o.map(c=>i(a,c))):n.push(i(a,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));let n=[],i=[],o=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&ao.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((s,a)=>{let c=r[a];if(s.indexed)if(s.type==="string")n.push(vP(c));else if(s.type==="bytes")n.push(F$(c));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([s.type],[c]))}else i.push(s),o.push(c)}),{data:this._abiCoder.encode(i,o),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let m=this.getEventTopic(e);(!(0,jn.isHexString)(n[0],32)||n[0].toLowerCase()!==m)&&ao.throwError("fragment/topic mismatch",KP.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:m,value:n[0]}),n=n.slice(1)}let i=[],o=[],s=[];e.inputs.forEach((m,y)=>{m.indexed?m.type==="string"||m.type==="bytes"||m.baseType==="tuple"||m.baseType==="array"?(i.push(gl.fromObject({type:"bytes32",name:m.name})),s.push(!0)):(i.push(m),s.push(!1)):(o.push(m),s.push(!1))});let a=n!=null?this._abiCoder.decode(i,(0,jn.concat)(n)):null,c=this._abiCoder.decode(o,r,!0),d=[],f=0,p=0;e.inputs.forEach((m,y)=>{if(m.indexed)if(a==null)d[y]=new Dw({_isIndexed:!0,hash:null});else if(s[y])d[y]=new Dw({_isIndexed:!0,hash:a[p++]});else try{d[y]=a[p++]}catch(g){d[y]=g}else try{d[y]=c[f++]}catch(g){d[y]=g}if(m.name&&d[m.name]==null){let g=d[y];g instanceof Error?Object.defineProperty(d,m.name,{enumerable:!0,get:()=>{throw cbe(`property ${JSON.stringify(m.name)}`,g)}}):d[m.name]=g}});for(let m=0;m<d.length;m++){let y=d[m];y instanceof Error&&Object.defineProperty(d,m,{enumerable:!0,get:()=>{throw cbe(`index ${m}`,y)}})}return Object.freeze(d)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new q8({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Wt.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new F8({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){let r=(0,jn.hexlify)(e),n=this.getError(r.substring(0,10).toLowerCase());return n?new u9({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}};var zw=Oe(Sf());var Fu=Oe(Ed());u();l();var ube="contracts/5.7.0";var Uw=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},Po=new Fu.Logger(ube);function K8(t,e){return Uw(this,void 0,void 0,function*(){let r=yield e;typeof r!="string"&&Po.throwArgumentError("invalid address or ENS name","name",r);try{return wf(r)}catch{}t||Po.throwError("a provider or signer is needed to resolve ENS names",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});let n=yield t.resolveName(r);return n==null&&Po.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function j8(t,e,r){return Uw(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>j8(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield K8(t,e):r.type==="tuple"?yield j8(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>j8(t,n,r.arrayChildren))):Promise.reject(Po.makeError("invalid value for array",Fu.Logger.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function G8(t,e,r){return Uw(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Yo(r.pop())),Po.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=Us({override:K8(t.signer,n.from),signer:t.signer.getAddress()}).then(d=>Uw(this,void 0,void 0,function*(){return wf(d.signer)!==d.override&&Po.throwError("Contract with a Signer cannot override from",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),d.override})):n.from=t.signer.getAddress():n.from&&(n.from=K8(t.provider,n.from));let i=yield Us({args:j8(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Us(n)||{}}),o=t.interface.encodeFunctionData(e,i.args),s={data:o,to:i.address},a=i.overrides;if(a.nonce!=null&&(s.nonce=Wt.from(a.nonce).toNumber()),a.gasLimit!=null&&(s.gasLimit=Wt.from(a.gasLimit)),a.gasPrice!=null&&(s.gasPrice=Wt.from(a.gasPrice)),a.maxFeePerGas!=null&&(s.maxFeePerGas=Wt.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=Wt.from(a.maxPriorityFeePerGas)),a.from!=null&&(s.from=a.from),a.type!=null&&(s.type=a.type),a.accessList!=null&&(s.accessList=vI(a.accessList)),s.gasLimit==null&&e.gas!=null){let d=21e3,f=(0,zw.arrayify)(o);for(let p=0;p<f.length;p++)d+=4,f[p]&&(d+=64);s.gasLimit=Wt.from(e.gas).add(d)}if(a.value){let d=Wt.from(a.value);!d.isZero()&&!e.payable&&Po.throwError("non-payable method cannot override value",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=d}a.customData&&(s.customData=Yo(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;let c=Object.keys(n).filter(d=>n[d]!=null);return c.length&&Po.throwError(`cannot override ${c.map(d=>JSON.stringify(d)).join(",")}`,Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),s})}function wrt(t,e){return function(...r){return G8(t,e,r)}}function Art(t,e){let r=t.signer||t.provider;return function(...n){return Uw(this,void 0,void 0,function*(){r||Po.throwError("estimate require a provider or signer",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});let i=yield G8(t,e,n);return yield r.estimateGas(i)})}}function Ert(t,e){let r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(o=>{let s=O0(o),a=null;try{a=t.interface.parseLog(o)}catch{}return a&&(s.args=a.args,s.decode=(c,d)=>t.interface.decodeEventLog(a.eventFragment,c,d),s.event=a.name,s.eventSignature=a.signature),s.removeListener=()=>t.provider,s.getBlock=()=>t.provider.getBlock(i.blockHash),s.getTransaction=()=>t.provider.getTransaction(i.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(i),s}),i))}function dbe(t,e,r){let n=t.signer||t.provider;return function(...i){return Uw(this,void 0,void 0,function*(){let o;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){let c=Yo(i.pop());c.blockTag!=null&&(o=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(o));let s=yield G8(t,e,i),a=yield n.call(s,o);try{let c=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===Fu.Logger.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=s),c}})}}function Irt(t,e){return function(...r){return Uw(this,void 0,void 0,function*(){t.signer||Po.throwError("sending a transaction requires a signer",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());let n=yield G8(t,e,r),i=yield t.signer.sendTransaction(n);return Ert(t,i),i})}}function lbe(t,e,r){return e.constant?dbe(t,e,r):Irt(t,e)}function fbe(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}var Lw=class{constructor(e,r){et(this,"tag",e),et(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){let r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{let i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}},l9=class extends Lw{constructor(){super("error",null)}},W8=class extends Lw{constructor(e,r,n,i){let o={address:e},s=r.getEventTopic(n);i?(s!==i[0]&&Po.throwArgumentError("topic mismatch","topics",i),o.topics=i.slice()):o.topics=[s],super(fbe(o),o),et(this,"address",e),et(this,"interface",r),et(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){let r=v8(e.args);if(r.length)throw r[0].error;let n=(e.args||[]).slice();return n.push(e),n}},V8=class extends Lw{constructor(e,r){super("*",{address:e}),et(this,"address",e),et(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{let r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}},d9=class{constructor(e,r,n){et(this,"interface",hl(new.target,"getInterface")(r)),n==null?(et(this,"provider",null),et(this,"signer",null)):u8.isSigner(n)?(et(this,"provider",n.provider||null),et(this,"signer",n)):c8.isProvider(n)?(et(this,"provider",n),et(this,"signer",null)):Po.throwArgumentError("invalid signer or provider","signerOrProvider",n),et(this,"callStatic",{}),et(this,"estimateGas",{}),et(this,"functions",{}),et(this,"populateTransaction",{}),et(this,"filters",{});{let s={};Object.keys(this.interface.events).forEach(a=>{let c=this.interface.events[a];et(this.filters,a,(...d)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,d)})),s[c.name]||(s[c.name]=[]),s[c.name].push(a)}),Object.keys(s).forEach(a=>{let c=s[a];c.length===1?et(this.filters,a,this.filters[c[0]]):Po.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(et(this,"_runningEvents",{}),et(this,"_wrappedEmits",{}),e==null&&Po.throwArgumentError("invalid contract address or ENS name","addressOrName",e),et(this,"address",e),this.provider)et(this,"resolvedAddress",K8(this.provider,e));else try{et(this,"resolvedAddress",Promise.resolve(wf(e)))}catch{Po.throwError("provider is required to use ENS name as contract address",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});let i={},o={};Object.keys(this.interface.functions).forEach(s=>{let a=this.interface.functions[s];if(o[s]){Po.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}o[s]=!0;{let c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(s)}this[s]==null&&et(this,s,lbe(this,a,!0)),this.functions[s]==null&&et(this.functions,s,lbe(this,a,!1)),this.callStatic[s]==null&&et(this.callStatic,s,dbe(this,a,!0)),this.populateTransaction[s]==null&&et(this.populateTransaction,s,wrt(this,a)),this.estimateGas[s]==null&&et(this.estimateGas,s,Art(this,a))}),Object.keys(i).forEach(s=>{let a=i[s];if(a.length>1)return;s=s.substring(1);let c=a[0];try{this[s]==null&&et(this,s,this[c])}catch{}this.functions[s]==null&&et(this.functions,s,this.functions[c]),this.callStatic[s]==null&&et(this.callStatic,s,this.callStatic[c]),this.populateTransaction[s]==null&&et(this.populateTransaction,s,this.populateTransaction[c]),this.estimateGas[s]==null&&et(this.estimateGas,s,this.estimateGas[c])})}static getContractAddress(e){return s8(e)}static getInterface(e){return FI.isInterface(e)?e:new FI(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&Po.throwError("contract not deployed",Fu.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Po.throwError("sending a transactions require a signer",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});let r=Yo(e||{});return["from","to"].forEach(function(n){r[n]!=null&&Po.throwError("cannot override "+n,Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new l8(e,this.provider));let r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&et(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Dw.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new l9);if(e==="event")return this._normalizeRunningEvent(new Lw("event",null));if(e==="*")return this._normalizeRunningEvent(new V8(this.address,this.interface));let r=this.interface.getEvent(e);return this._normalizeRunningEvent(new W8(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{let n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");let i=this.interface.getEvent(n);return this._normalizeRunningEvent(new W8(this.address,this.interface,i,e.topics))}catch{}let r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Lw(fbe(r),r))}return this._normalizeRunningEvent(new V8(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];let r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){let i=O0(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||Po.throwError("events require a provider or a signer with a provider",Fu.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){let i=o=>{let s=this._wrapEvent(e,o,r);if(s.decodeError==null)try{let a=e.getEmit(s);this.emit(e.filter,...a)}catch(a){s.decodeError=a.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){let i=this._getRunningEvent(e),o=Yo(i.filter);return typeof r=="string"&&(0,zw.isHexString)(r,32)?(n!=null&&Po.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),o.blockHash=r):(o.fromBlock=r??0,o.toBlock=n??"latest"),this.provider.getLogs(o).then(s=>s.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;let n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){let r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(let n in this._runningEvents){let i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}let r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;let n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}},WP=class extends d9{};u();l();u();l();u();l();var bbe=Oe(Ed());u();l();var pbe="networks/5.7.1";var hbe=new bbe.Logger(pbe);function Trt(t){return t&&typeof t.renetwork=="function"}function Og(t){let e=function(r,n){n==null&&(n={});let i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){let o=["goerli","ropsten","rinkeby","sepolia"];try{let s=new r.PocketProvider(t,n.pocket);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{let o=["ropsten"],s=new r.AnkrProvider(t,n.ankr);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let o=1;return n.quorum!=null?o=n.quorum:t==="homestead"&&(o=2),new r.FallbackProvider(i,o)}return i[0]};return e.renetwork=function(r){return Og(r)},e}function $8(t,e){let r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return $8(t,n)},r}var mbe={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Og("homestead")},ybe={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Og("ropsten")},gbe={chainId:63,name:"classicMordor",_defaultProvider:$8("https://www.ethercluster.com/mordor","classicMordor")},H8={unspecified:{chainId:0,name:"unspecified"},homestead:mbe,mainnet:mbe,morden:{chainId:2,name:"morden"},ropsten:ybe,testnet:ybe,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Og("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Og("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Og("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Og("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:$8("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:gbe,classicTestnet:gbe,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:$8("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Og("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Og("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function _be(t){if(t==null)return null;if(typeof t=="number"){for(let n in H8){let i=H8[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){let n=H8[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}let e=H8[t.name];if(!e)return typeof t.chainId!="number"&&hbe.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&hbe.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(Trt(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}u();l();var Dt=Oe(Sf());var y9=Oe(wge());u();l();var Y8=Oe(Sf());var dm=Oe(Ed());u();l();var Sbe="web/5.7.1";u();l();var wbe=Oe(Sf()),krt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};function Abe(t,e){return krt(this,void 0,void 0,function*(){e==null&&(e={});let r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){let s=e.fetchOptions;s.mode&&(r.mode=s.mode),s.cache&&(r.cache=s.cache),s.credentials&&(r.credentials=s.credentials),s.redirect&&(r.redirect=s.redirect),s.referrer&&(r.referrer=s.referrer)}let n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((s,a)=>{o[a.toLowerCase()]=s}):n.headers.keys().forEach(s=>{o[s.toLowerCase()]=n.headers.get(s)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:(0,wbe.arrayify)(new Uint8Array(i))}})}var vrt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},qp=new dm.Logger(Sbe);function Ebe(t){return new Promise(e=>{setTimeout(e,t)})}function B0(t,e){if(t==null)return null;if(typeof t=="string")return t;if((0,Y8.isBytesLike)(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return R0(t)}catch{}return(0,Y8.hexlify)(t)}return t}function xrt(t){return Lp(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function Prt(t,e,r){let n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;qp.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);let i=typeof t=="object"?t.throttleCallback:null,o=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;qp.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);let s=typeof t=="object"?!!t.errorPassThrough:!1,a={},c=null,d={method:"GET"},f=!1,p=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&qp.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(p=t.timeout),t.headers)for(let P in t.headers)a[P.toLowerCase()]={key:P,value:String(t.headers[P])},["if-none-match","if-modified-since"].indexOf(P.toLowerCase())>=0&&(f=!0);if(d.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&qp.throwError("basic authentication requires a secure https url",dm.Logger.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});let P=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+d8(Lp(P))}}t.skipFetchSetup!=null&&(d.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(d.fetchOptions=Yo(t.fetchOptions))}let m=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),y=c?c.match(m):null;if(y)try{let P={statusCode:200,statusMessage:"OK",headers:{"content-type":y[1]||"text/plain"},body:y[2]?_ge(y[3]):xrt(y[3])},U=P.body;return r&&(U=r(P.body,P)),Promise.resolve(U)}catch(P){qp.throwError("processing response error",dm.Logger.errors.SERVER_ERROR,{body:B0(y[1],y[2]),error:P,requestBody:null,requestMethod:"GET",url:c})}e&&(d.method="POST",d.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));let g={};Object.keys(a).forEach(P=>{let U=a[P];g[U.key]=U.value}),d.headers=g;let b=function(){let P=null;return{promise:new Promise(function(j,Z){p&&(P=setTimeout(()=>{P!=null&&(P=null,Z(qp.makeError("timeout",dm.Logger.errors.TIMEOUT,{requestBody:B0(d.body,g["content-type"]),requestMethod:d.method,timeout:p,url:c})))},p))}),cancel:function(){P!=null&&(clearTimeout(P),P=null)}}}(),S=function(){return vrt(this,void 0,void 0,function*(){for(let P=0;P<n;P++){let U=null;try{if(U=yield Abe(c,d),P<n){if(U.statusCode===301||U.statusCode===302){let j=U.headers.location||"";if(d.method==="GET"&&j.match(/^https:/)){c=U.headers.location;continue}}else if(U.statusCode===429){let j=!0;if(i&&(j=yield i(P,c)),j){let Z=0,se=U.headers["retry-after"];typeof se=="string"&&se.match(/^[1-9][0-9]*$/)?Z=parseInt(se)*1e3:Z=o*parseInt(String(Math.random()*Math.pow(2,P))),yield Ebe(Z);continue}}}}catch(j){U=j.response,U==null&&(b.cancel(),qp.throwError("missing response",dm.Logger.errors.SERVER_ERROR,{requestBody:B0(d.body,g["content-type"]),requestMethod:d.method,serverError:j,url:c}))}let L=U.body;if(f&&U.statusCode===304?L=null:!s&&(U.statusCode<200||U.statusCode>=300)&&(b.cancel(),qp.throwError("bad response",dm.Logger.errors.SERVER_ERROR,{status:U.statusCode,headers:U.headers,body:B0(L,U.headers?U.headers["content-type"]:null),requestBody:B0(d.body,g["content-type"]),requestMethod:d.method,url:c})),r)try{let j=yield r(L,U);return b.cancel(),j}catch(j){if(j.throttleRetry&&P<n){let Z=!0;if(i&&(Z=yield i(P,c)),Z){let se=o*parseInt(String(Math.random()*Math.pow(2,P)));yield Ebe(se);continue}}b.cancel(),qp.throwError("processing response error",dm.Logger.errors.SERVER_ERROR,{body:B0(L,U.headers?U.headers["content-type"]:null),error:j,requestBody:B0(d.body,g["content-type"]),requestMethod:d.method,url:c})}return b.cancel(),L}return qp.throwError("failed response",dm.Logger.errors.SERVER_ERROR,{requestBody:B0(d.body,g["content-type"]),requestMethod:d.method,url:c})})}();return Promise.race([b.promise,S])}function VP(t,e,r){let n=(o,s)=>{let a=null;if(o!=null)try{a=JSON.parse(R0(o))}catch(c){qp.throwError("invalid JSON",dm.Logger.errors.SERVER_ERROR,{body:o,error:c})}return r&&(a=r(a,s)),a},i=null;if(e!=null){i=Lp(e);let o=typeof t=="string"?{url:t}:Yo(t);o.headers?Object.keys(o.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(o.headers=Yo(o.headers),o.headers["content-type"]="application/json"):o.headers={"content-type":"application/json"},t=o}return Prt(t,i,n)}function Fw(t,e){return e||(e={}),e=Yo(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,o=!1,s=()=>o?!1:(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{s()&&n(new Error("timeout"))},e.timeout));let a=e.retryLimit,c=0;function d(){return t().then(function(f){if(f!==void 0)s()&&r(f);else if(e.oncePoll)e.oncePoll.once("poll",d);else if(e.onceBlock)e.onceBlock.once("block",d);else if(!o){if(c++,c>a){s()&&n(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(d,p)}return null},function(f){s()&&n(f)})}d()})}var g9=Oe(vbe()),qr=Oe(Ed());u();l();var fm="providers/5.7.2";u();l();var qu=Oe(Sf());var xbe=Oe(Ed());var HP=new xbe.Logger(fm),$P=class t{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),d=this.type.bind(this),f=p=>this.data(p,!0);return e.transaction={hash:s,type:d,accessList:t.allowNull(this.accessList.bind(this),null),blockHash:t.allowNull(s,null),blockNumber:t.allowNull(c,null),transactionIndex:t.allowNull(c,null),confirmations:t.allowNull(c,null),from:r,gasPrice:t.allowNull(n),maxPriorityFeePerGas:t.allowNull(n),maxFeePerGas:t.allowNull(n),gasLimit:n,to:t.allowNull(r,null),value:n,nonce:c,data:o,r:t.allowNull(this.uint256),s:t.allowNull(this.uint256),v:t.allowNull(c),creates:t.allowNull(r,null),raw:t.allowNull(o)},e.transactionRequest={from:t.allowNull(r),nonce:t.allowNull(c),gasLimit:t.allowNull(n),gasPrice:t.allowNull(n),maxPriorityFeePerGas:t.allowNull(n),maxFeePerGas:t.allowNull(n),to:t.allowNull(r),value:t.allowNull(n),data:t.allowNull(f),type:t.allowNull(c),accessList:t.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:s,address:r,topics:t.arrayOf(s),data:o,logIndex:c,blockHash:s},e.receipt={to:t.allowNull(this.address,null),from:t.allowNull(this.address,null),contractAddress:t.allowNull(r,null),transactionIndex:c,root:t.allowNull(a),gasUsed:n,logsBloom:t.allowNull(o),blockHash:s,transactionHash:s,logs:t.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:t.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:t.allowNull(n),status:t.allowNull(c),type:d},e.block={hash:t.allowNull(s),parentHash:s,number:c,timestamp:c,nonce:t.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:t.allowNull(r),extraData:o,transactions:t.allowNull(t.arrayOf(s)),baseFeePerGas:t.allowNull(n)},e.blockWithTransactions=Yo(e.block),e.blockWithTransactions.transactions=t.allowNull(t.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:t.allowNull(i,void 0),toBlock:t.allowNull(i,void 0),blockHash:t.allowNull(s,void 0),address:t.allowNull(r,void 0),topics:t.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:t.allowNull(c),blockHash:t.allowNull(s),transactionIndex:c,removed:t.allowNull(this.boolean.bind(this)),address:r,data:t.allowFalsish(o,"0x"),topics:t.arrayOf(s),transactionHash:s,logIndex:c},e}accessList(e){return vI(e||[])}number(e){return e==="0x"?0:Wt.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Wt.from(e).toNumber()}bigNumber(e){return Wt.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),(0,qu.isHexString)(e))?e.toLowerCase():HP.throwArgumentError("invalid hash","value",e)}data(e,r){let n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return wf(e)}callAddress(e){if(!(0,qu.isHexString)(e,32))return null;let r=wf((0,qu.hexDataSlice)(e,12));return r===pge?null:r}contractAddress(e){return s8(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||(0,qu.isHexString)(e))return(0,qu.hexValue)(e);throw new Error("invalid blockTag")}hash(e,r){let n=this.hex(e,r);return(0,qu.hexDataLength)(n)!==32?HP.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;let r=Wt.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!(0,qu.isHexString)(e))throw new Error("invalid uint256");return(0,qu.hexZeroPad)(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);let n=e._difficulty!=null?e._difficulty:e.difficulty,i=t.check(r,e);return i._difficulty=n==null?null:Wt.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return t.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Wt.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);let r=t.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;(0,qu.isHexString)(n)&&(n=Wt.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),(0,qu.isHexString)(n)&&(n=Wt.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return Ege(e)}receiptLog(e){return t.check(this.formats.receiptLog,e)}receipt(e){let r=t.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){let n=Wt.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&HP.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):HP.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&HP.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return t.check(this.formats.filter,e)}filterLog(e){return t.check(this.formats.filterLog,e)}static check(e,r){let n={};for(let i in e)try{let o=e[i](r[i]);o!==void 0&&(n[i]=o)}catch(o){throw o.checkKey=i,o.checkValue=r[i],o}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");let n=[];return r.forEach(function(i){n.push(e(i))}),n}}};var pr=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},Fr=new qr.Logger(fm),Urt=10;function Pbe(t){return t==null?"null":((0,Dt.hexDataLength)(t)!==32&&Fr.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Obe(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){let r={};e.forEach(i=>{r[Pbe(i)]=!0});let n=Object.keys(r);return n.sort(),n.join("|")}else return Pbe(e)}).join("&")}function Lrt(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];let r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function jI(t){if(typeof t=="string"){if(t=t.toLowerCase(),(0,Dt.hexDataLength)(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+Obe(t);if(fge.isForkEvent(t))throw Fr.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+Obe(t.topics||[])}throw new Error("invalid event - "+t)}function YP(){return new Date().getTime()}function Rbe(t){return new Promise(e=>{setTimeout(e,t)})}var zrt=["block","network","pending","poll"],b9=class{constructor(e,r,n){et(this,"tag",e),et(this,"listener",r),et(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){let e=this.tag.split(":");if(e[0]!=="filter")return null;let r=e[1],n=Lrt(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||zrt.indexOf(this.tag)>=0}},Frt={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function p9(t){return(0,Dt.hexZeroPad)(Wt.from(t).toHexString(),32)}function Cbe(t){return f8.encode((0,Dt.concat)([t,(0,Dt.hexDataSlice)((0,y9.sha256)((0,y9.sha256)(t)),0,4)]))}var Nbe=new RegExp("^(ipfs)://(.*)$","i"),Bbe=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Nbe,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Q8(t,e){try{return R0(XP(t,e))}catch{}return null}function XP(t,e){if(t==="0x")return null;let r=Wt.from((0,Dt.hexDataSlice)(t,e,e+32)).toNumber(),n=Wt.from((0,Dt.hexDataSlice)(t,r,r+32)).toNumber();return(0,Dt.hexDataSlice)(t,r+32,r+32+n)}function h9(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Fr.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function Mbe(t){let e=(0,Dt.arrayify)(t);if(e.length>32)throw new Error("internal; should not happen");let r=new Uint8Array(32);return r.set(e,32-e.length),r}function qrt(t){if(t.length%32===0)return t;let e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function Dbe(t){let e=[],r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){let i=(0,Dt.arrayify)(t[n]);e[n]=Mbe(r),e.push(Mbe(i.length)),e.push(qrt(i)),r+=32+Math.ceil(i.length/32)*32}return(0,Dt.hexConcat)(e)}var eF=class{constructor(e,r,n,i){et(this,"provider",e),et(this,"name",n),et(this,"address",e.formatter.address(r)),et(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Wt.from(e).eq(1)).catch(e=>{if(e.code===qr.Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return pr(this,void 0,void 0,function*(){let n={to:this.address,ccipReadEnabled:!0,data:(0,Dt.hexConcat)([e,xP(this.name),r||"0x"])},i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=(0,Dt.hexConcat)(["0x9061b923",Dbe([Sge(this.name),n.data])]));try{let o=yield this.provider.call(n);return(0,Dt.arrayify)(o).length%32===4&&Fr.throwError("resolver threw error",qr.Logger.errors.CALL_EXCEPTION,{transaction:n,data:o}),i&&(o=XP(o,0)),o}catch(o){if(o.code===qr.Logger.errors.CALL_EXCEPTION)return null;throw o}})}_fetchBytes(e,r){return pr(this,void 0,void 0,function*(){let n=yield this._fetch(e,r);return n!=null?XP(n,0):null})}_getAddress(e,r){let n=Frt[String(e)];if(n==null&&Fr.throwError(`unsupported coin type: ${e}`,qr.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);let i=(0,Dt.arrayify)(r);if(n.p2pkh!=null){let o=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(o){let s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return Cbe((0,Dt.concat)([[n.p2pkh],"0x"+o[2]]))}}if(n.p2sh!=null){let o=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){let s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return Cbe((0,Dt.concat)([[n.p2sh],"0x"+o[2]]))}}if(n.prefix!=null){let o=i[1],s=i[0];if(s===0?o!==20&&o!==32&&(s=-1):s=-1,s>=0&&i.length===2+o&&o>=1&&o<=75){let a=g9.default.toWords(i.slice(2));return a.unshift(s),g9.default.encode(n.prefix,a)}}return null}getAddress(e){return pr(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{let i=yield this._fetch("0x3b3b57de");return i==="0x"||i===bge?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===qr.Logger.errors.CALL_EXCEPTION)return null;throw i}let r=yield this._fetchBytes("0xf1cb7e06",p9(e));if(r==null||r==="0x")return null;let n=this._getAddress(e,r);return n==null&&Fr.throwError("invalid or unsupported coin data",qr.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return pr(this,void 0,void 0,function*(){let e=[{type:"name",content:this.name}];try{let r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<Bbe.length;n++){let i=r.match(Bbe[n]);if(i==null)continue;let o=i[1].toLowerCase();switch(o){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:h9(r)};case"erc721":case"erc1155":{let s=o==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:o,content:r});let a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;let d=yield this.provider.formatter.address(c[0]),f=(0,Dt.hexZeroPad)(Wt.from(c[1]).toHexString(),32);if(o==="erc721"){let b=this.provider.formatter.callAddress(yield this.provider.call({to:d,data:(0,Dt.hexConcat)(["0x6352211e",f])}));if(a!==b)return null;e.push({type:"owner",content:b})}else if(o==="erc1155"){let b=Wt.from(yield this.provider.call({to:d,data:(0,Dt.hexConcat)(["0x00fdd58e",(0,Dt.hexZeroPad)(a,32),f])}));if(b.isZero())return null;e.push({type:"balance",content:b.toString()})}let p={to:this.provider.formatter.address(c[0]),data:(0,Dt.hexConcat)([s,f])},m=Q8(yield this.provider.call(p),0);if(m==null)return null;e.push({type:"metadata-url-base",content:m}),o==="erc1155"&&(m=m.replace("{id}",f.substring(2)),e.push({type:"metadata-url-expanded",content:m})),m.match(/^ipfs:/i)&&(m=h9(m)),e.push({type:"metadata-url",content:m});let y=yield VP(m);if(!y)return null;e.push({type:"metadata",content:JSON.stringify(y)});let g=y.image;if(typeof g!="string")return null;if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(Nbe)==null)return null;e.push({type:"url-ipfs",content:g}),g=h9(g)}return e.push({type:"url",content:g}),{linkage:e,url:g}}}}}catch{}return null})}getContentHash(){return pr(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;let r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let s=parseInt(r[3],16);if(r[4].length===s*2)return"ipfs://"+f8.encode("0x"+r[1])}let n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){let s=parseInt(n[3],16);if(n[4].length===s*2)return"ipns://"+f8.encode("0x"+n[1])}let i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];let o=e.match(/^0x90b2c605([0-9a-f]*)$/);if(o&&o[1].length===34*2){let s={"=":"","+":"-","/":"_"};return"sia://"+d8("0x"+o[1]).replace(/[=+\/]/g,c=>s[c])}return Fr.throwError("invalid or unsupported content hash data",qr.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return pr(this,void 0,void 0,function*(){let r=Lp(e);r=(0,Dt.concat)([p9(64),p9(r.length),r]),r.length%32!==0&&(r=(0,Dt.concat)([r,(0,Dt.hexZeroPad)("0x",32-e.length%32)]));let n=yield this._fetchBytes("0x59d1d43c",(0,Dt.hexlify)(r));return n==null||n==="0x"?null:R0(n)})}},m9=null,jrt=1,tF=class extends c8{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),et(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{let r=hl(new.target,"getNetwork")(e);r?(et(this,"_network",r),this.emit("network",r,null)):Fr.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return pr(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Fr.throwError("no network detected",qr.Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:et(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Fw(()=>this._ready().then(e=>e,e=>{if(!(e.code===qr.Logger.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return m9==null&&(m9=new $P),m9}static getNetwork(e){return _be(e??"homestead")}ccipReadFetch(e,r,n){return pr(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;let i=e.to.toLowerCase(),o=r.toLowerCase(),s=[];for(let a=0;a<n.length;a++){let c=n[a],d=c.replace("{sender}",i).replace("{data}",o),f=c.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:i}),p=yield VP({url:d,errorPassThrough:!0},f,(y,g)=>(y.status=g.statusCode,y));if(p.data)return p.data;let m=p.message||"unknown error";if(p.status>=400&&p.status<500)return Fr.throwError(`response not found during CCIP fetch: ${m}`,qr.Logger.errors.SERVER_ERROR,{url:c,errorMessage:m});s.push(m)}return Fr.throwError(`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,qr.Logger.errors.SERVER_ERROR,{urls:n,errorMessages:s})})}_getInternalBlockNumber(e){return pr(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let i=this._internalBlockNumber;try{let o=yield i;if(YP()-o.respTime<=e)return o.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}let r=YP(),n=Us({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:o})=>{if(o)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),o;let s=YP();return i=Wt.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:s}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return pr(this,void 0,void 0,function*(){let e=jrt++,r=[],n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Fr.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Fr.makeError("network block skew detected",qr.Logger.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;let o=this._emitted[i];o!=="pending"&&n-o>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{let o=i.hash,s=this.getTransactionReceipt(o).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+o]=a.blockNumber,this.emit(o,a)),null)).catch(a=>{this.emit("error",a)});r.push(s);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);let o=i.filter;o.fromBlock=i._lastBlockNumber+1,o.toBlock=n;let s=o.toBlock-this._maxFilterBlockRange;s>o.fromBlock&&(o.fromBlock=s),o.fromBlock<0&&(o.fromBlock=0);let a=this.getLogs(o).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(d=>{d.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=d.blockNumber),this._emitted["b:"+d.blockHash]=d.blockNumber,this._emitted["t:"+d.transactionHash]=d.blockNumber,this.emit(o,d)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return pr(this,void 0,void 0,function*(){return Fr.throwError("provider does not support network detection",qr.Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return pr(this,void 0,void 0,function*(){let e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield Rbe(0),this._network;let n=Fr.makeError("underlying network changed",qr.Logger.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=YP();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=YP(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return pr(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return pr(this,void 0,void 0,function*(){let o=yield this.getTransactionReceipt(e);return(o?o.confirmations:0)>=r?o:new Promise((s,a)=>{let c=[],d=!1,f=function(){return d?!0:(d=!0,c.forEach(m=>{m()}),!1)},p=m=>{m.confirmations<r||f()||s(m)};if(this.on(e,p),c.push(()=>{this.removeListener(e,p)}),i){let m=i.startBlock,y=null,g=b=>pr(this,void 0,void 0,function*(){d||(yield Rbe(1e3),this.getTransactionCount(i.from).then(S=>pr(this,void 0,void 0,function*(){if(!d){if(S<=i.nonce)m=b;else{{let P=yield this.getTransaction(e);if(P&&P.blockNumber!=null)return}for(y==null&&(y=m-3,y<i.startBlock&&(y=i.startBlock));y<=b;){if(d)return;let P=yield this.getBlockWithTransactions(y);for(let U=0;U<P.transactions.length;U++){let L=P.transactions[U];if(L.hash===e)return;if(L.from===i.from&&L.nonce===i.nonce){if(d)return;let j=yield this.waitForTransaction(L.hash,r);if(f())return;let Z="replaced";L.data===i.data&&L.to===i.to&&L.value.eq(i.value)?Z="repriced":L.data==="0x"&&L.from===L.to&&L.value.isZero()&&(Z="cancelled"),a(Fr.makeError("transaction was replaced",qr.Logger.errors.TRANSACTION_REPLACED,{cancelled:Z==="replaced"||Z==="cancelled",reason:Z,replacement:this._wrapTransaction(L),hash:e,receipt:j}));return}}y++}}d||this.once("block",g)}}),S=>{d||this.once("block",g)}))});if(d)return;this.once("block",g),c.push(()=>{this.removeListener("block",g)})}if(typeof n=="number"&&n>0){let m=setTimeout(()=>{f()||a(Fr.makeError("timeout exceeded",qr.Logger.errors.TIMEOUT,{timeout:n}))},n);m.unref&&m.unref(),c.push(()=>{clearTimeout(m)})}})})}getBlockNumber(){return pr(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return Wt.from(e)}catch(r){return Fr.throwError("bad result from backend",qr.Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield Us({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return Wt.from(i)}catch(o){return Fr.throwError("bad result from backend",qr.Logger.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:o})}})}getTransactionCount(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield Us({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return Wt.from(i).toNumber()}catch(o){return Fr.throwError("bad result from backend",qr.Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:o})}})}getCode(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield Us({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return(0,Dt.hexlify)(i)}catch(o){return Fr.throwError("bad result from backend",qr.Logger.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:o})}})}getStorageAt(e,r,n){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let i=yield Us({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(s=>(0,Dt.hexValue)(s))}),o=yield this.perform("getStorageAt",i);try{return(0,Dt.hexlify)(o)}catch(s){return Fr.throwError("bad result from backend",qr.Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:o,error:s})}})}_wrapTransaction(e,r,n){if(r!=null&&(0,Dt.hexDataLength)(r)!==32)throw new Error("invalid response - sendTransaction");let i=e;return r!=null&&e.hash!==r&&Fr.throwError("Transaction hash mismatch from Provider.sendTransaction.",qr.Logger.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(o,s)=>pr(this,void 0,void 0,function*(){o==null&&(o=1),s==null&&(s=0);let a;o!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});let c=yield this._waitForTransaction(e.hash,o,s,a);return c==null&&o===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&Fr.throwError("transaction failed",qr.Logger.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield Promise.resolve(e).then(o=>(0,Dt.hexlify)(o)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);let i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let o=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,o,i)}catch(o){throw o.transaction=n,o.transactionHash=n.hash,o}})}_getTransactionRequest(e){return pr(this,void 0,void 0,function*(){let r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?this._getAddress(o):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?Wt.from(o):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?(0,Dt.hexlify)(o):null))}),this.formatter.transactionRequest(yield Us(n))})}_getFilter(e){return pr(this,void 0,void 0,function*(){e=yield e;let r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield Us(r))})}_call(e,r,n){return pr(this,void 0,void 0,function*(){n>=Urt&&Fr.throwError("CCIP read exceeded maximum redirections",qr.Logger.errors.SERVER_ERROR,{redirects:n,transaction:e});let i=e.to,o=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&o.substring(0,10)==="0x556f1830"&&(0,Dt.hexDataLength)(o)%32===4)try{let s=(0,Dt.hexDataSlice)(o,4),a=(0,Dt.hexDataSlice)(s,0,32);Wt.from(a).eq(i)||Fr.throwError("CCIP Read sender did not match",qr.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});let c=[],d=Wt.from((0,Dt.hexDataSlice)(s,32,64)).toNumber(),f=Wt.from((0,Dt.hexDataSlice)(s,d,d+32)).toNumber(),p=(0,Dt.hexDataSlice)(s,d+32);for(let P=0;P<f;P++){let U=Q8(p,P*32);U==null&&Fr.throwError("CCIP Read contained corrupt URL string",qr.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),c.push(U)}let m=XP(s,64);Wt.from((0,Dt.hexDataSlice)(s,100,128)).isZero()||Fr.throwError("CCIP Read callback selector included junk",qr.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});let y=(0,Dt.hexDataSlice)(s,96,100),g=XP(s,128),b=yield this.ccipReadFetch(e,m,c);b==null&&Fr.throwError("CCIP Read disabled or provided no URLs",qr.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});let S={to:i,data:(0,Dt.hexConcat)([y,Dbe([b,g])])};return this._call(S,r,n+1)}catch(s){if(s.code===qr.Logger.errors.SERVER_ERROR)throw s}try{return(0,Dt.hexlify)(o)}catch(s){return Fr.throwError("bad result from backend",qr.Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:o,error:s})}})}call(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield Us({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield Us({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return Wt.from(n)}catch(i){return Fr.throwError("bad result from backend",qr.Logger.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return pr(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Fr.throwArgumentError("invalid address or ENS name","name",e);let r=yield this.resolveName(e);return r==null&&Fr.throwError("ENS name not configured",qr.Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128,i={includeTransactions:!!r};if((0,Dt.isHexString)(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),(0,Dt.isHexString)(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Fr.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Fw(()=>pr(this,void 0,void 0,function*(){let o=yield this.perform("getBlock",i);if(o==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let s=null;for(let c=0;c<o.transactions.length;c++){let d=o.transactions[c];if(d.blockNumber==null)d.confirmations=0;else if(d.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let f=s-d.blockNumber+1;f<=0&&(f=1),d.confirmations=f}}let a=this.formatter.blockWithTransactions(o);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(o)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r={transactionHash:this.formatter.hash(e,!0)};return Fw(()=>pr(this,void 0,void 0,function*(){let n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;let i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r={transactionHash:this.formatter.hash(e,!0)};return Fw(()=>pr(this,void 0,void 0,function*(){let n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;let i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield Us({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),$P.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return pr(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return pr(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Fr.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return pr(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;let n=yield this._getResolver(r,"getResolver");if(n!=null){let i=new eF(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return pr(this,void 0,void 0,function*(){r==null&&(r="ENS");let n=yield this.getNetwork();n.ensAddress||Fr.throwError("network does not support ENS",qr.Logger.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{let i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+xP(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return pr(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if((0,Dt.isHexString)(e))throw n}typeof e!="string"&&Fr.throwArgumentError("invalid ENS name","name",e);let r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return pr(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);let r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;let i=Q8(yield this.call({to:n,data:"0x691f3431"+xP(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return pr(this,void 0,void 0,function*(){let r=null;if((0,Dt.isHexString)(e)){let o=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(o,"getAvatar");if(!s)return null;r=new eF(this,s,o);try{let a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==qr.Logger.errors.CALL_EXCEPTION)throw a}try{let a=Q8(yield this.call({to:s,data:"0x691f3431"+xP(o).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==qr.Logger.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;let n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return Fr.throwError(e+" not implemented",qr.Logger.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){let i=new b9(jI(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],o=jI(e);return this._events=this._events.filter(s=>s.tag!==o?!0:(setTimeout(()=>{s.listener.apply(this,r)},0),n=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),n}listenerCount(e){if(!e)return this._events.length;let r=jI(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=jI(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);let n=[],i=!1,o=jI(e);return this._events=this._events.filter(s=>s.tag!==o||s.listener!=r||i?!0:(i=!0,n.push(s),!1)),n.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{let n=jI(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}};u();l();var pm=Oe(Sf());var Jo=Oe(Ed());var Rg=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{d(n.next(f))}catch(p){s(p)}}function c(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},Zo=new Jo.Logger(fm),Krt=["call","estimateGas"];function JP(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){let r=(0,pm.isHexString)(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(let r in t){let n=JP(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return JP(JSON.parse(t),e)}catch{}return null}function Lbe(t,e,r){let n=r.transaction||r.signedTransaction;if(t==="call"){let o=JP(e,!0);if(o)return o.data;Zo.throwError("missing revert data in call exception; Transaction reverted without a reason string",Jo.Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let o=JP(e.body,!1);o==null&&(o=JP(e,!1)),o&&Zo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Jo.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:o.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===Jo.Logger.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Zo.throwError("insufficient funds for intrinsic transaction cost",Jo.Logger.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Zo.throwError("nonce has already been used",Jo.Logger.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Zo.throwError("replacement fee too low",Jo.Logger.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Zo.throwError("legacy pre-eip-155 transactions not supported",Jo.Logger.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),Krt.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Zo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Jo.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function Ube(t){return new Promise(function(e){setTimeout(e,t)})}function Wrt(t){if(t.error){let e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function ZP(t){return t&&t.toLowerCase()}var _9={},rF=class extends u8{constructor(e,r,n){if(super(),e!==_9)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");et(this,"provider",r),n==null&&(n=0),typeof n=="string"?(et(this,"_address",this.provider.formatter.address(n)),et(this,"_index",null)):typeof n=="number"?(et(this,"_index",n),et(this,"_address",null)):Zo.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Zo.throwError("cannot alter JSON-RPC Signer connection",Jo.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new S9(_9,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Zo.throwError("unknown account #"+this._index,Jo.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Yo(e);let r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){let n=Yo(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Rg(this,void 0,void 0,function*(){if(n==null)return null;let i=yield this.provider.resolveName(n);return i==null&&Zo.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Us({tx:Us(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Zo.throwArgumentError("from address mismatch","transaction",e):n.from=i;let o=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[o]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&Zo.throwError("user rejected transaction",Jo.Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),Lbe("sendTransaction",s,o)))})}signTransaction(e){return Zo.throwError("signing transactions is unsupported",Jo.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Rg(this,void 0,void 0,function*(){let r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Fw(()=>Rg(this,void 0,void 0,function*(){let i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Rg(this,void 0,void 0,function*(){let r=typeof e=="string"?Lp(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[(0,pm.hexlify)(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Zo.throwError("user rejected signing",Jo.Logger.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Rg(this,void 0,void 0,function*(){let r=typeof e=="string"?Lp(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),(0,pm.hexlify)(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Zo.throwError("user rejected signing",Jo.Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Rg(this,void 0,void 0,function*(){let i=yield V$.resolveNames(e,r,n,s=>this.provider.resolveName(s)),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(V$.getPayload(i.domain,r,i.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&Zo.throwError("user rejected signing",Jo.Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:i.domain,types:r,value:i.value}}),s}})}unlock(e){return Rg(this,void 0,void 0,function*(){let r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}},S9=class extends rF{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}},Vrt={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0},nF=class extends tF{constructor(e,r){let n=r;n==null&&(n=new Promise((i,o)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{o(s)})},0)})),super(n),e||(e=hl(this.constructor,"defaultUrl")()),typeof e=="string"?et(this,"connection",Object.freeze({url:e})):et(this,"connection",Object.freeze(Yo(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Rg(this,void 0,void 0,function*(){yield Ube(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){let r=hl(this.constructor,"getNetwork");try{return r(Wt.from(e).toNumber())}catch(n){return Zo.throwError("could not detect network",Jo.Logger.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Zo.throwError("could not detect network",Jo.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new rF(_9,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){let n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:O0(n),provider:this});let i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];let o=VP(this.connection,JSON.stringify(n),Wrt).then(s=>(this.emit("debug",{action:"response",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:n,provider:this}),s});return i&&(this._cache[e]=o,setTimeout(()=>{this._cache[e]=null},0)),o}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[ZP(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[ZP(r.address),r.blockTag]];case"getCode":return["eth_getCode",[ZP(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[ZP(r.address),(0,pm.hexZeroPad)(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[hl(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[hl(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=ZP(r.filter.address)),["eth_getLogs",[r.filter]];default:break}return null}perform(e,r){return Rg(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){let i=r.transaction;if(i&&i.type!=null&&Wt.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){let o=yield this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(r=Yo(r),r.transaction=Yo(i),delete r.transaction.type)}}let n=this.prepareRequest(e,r);n==null&&Zo.throwError(e+" not implemented",Jo.Logger.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return Lbe(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;let e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(o){if(e._pendingFilter!=r)return null;let s=Promise.resolve();return o.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),s.then(function(){return Ube(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(o=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){let n=Yo(Vrt);if(r)for(let o in r)r[o]&&(n[o]=!0);dge(e,n);let i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(o){if(e[o]==null)return;let s=(0,pm.hexValue)(Wt.from(e[o]));o==="gasLimit"&&(o="gas"),i[o]=s}),["from","to","data"].forEach(function(o){e[o]!=null&&(i[o]=(0,pm.hexlify)(e[o]))}),e.accessList&&(i.accessList=vI(e.accessList)),i}};u();l();var qbe=Oe(Ed());var zbe=new qbe.Logger(fm),Grt=1;function Fbe(t,e){let r="Web3LegacyFetcher";return function(n,i){let o={method:n,params:i,id:Grt++,jsonrpc:"2.0"};return new Promise((s,a)=>{this.emit("debug",{action:"request",fetcher:r,request:O0(o),provider:this}),e(o,(c,d)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:o,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:r,request:o,response:d,provider:this}),d.error){let f=new Error(d.error.message);return f.code=d.error.code,f.data=d.error.data,a(f)}s(d.result)})})}}function Hrt(t){return function(e,r){r==null&&(r=[]);let n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:O0(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}var QP=class extends nF{constructor(e,r){e==null&&zbe.throwArgumentError("missing provider","provider",e);let n=null,i=null,o=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),o=e,e.request?(n===""&&(n="eip-1193:"),i=Hrt(e)):e.sendAsync?i=Fbe(e,e.sendAsync.bind(e)):e.send?i=Fbe(e,e.send.bind(e)):zbe.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),et(this,"jsonRpcFetchFunc",i),et(this,"provider",o)}send(e,r){return this.jsonRpcFetchFunc(e,r)}};var jbe=Oe(Ed());var N0r=new jbe.Logger(fm);var hm=t=>{let e=Se.getRpcProxyUrl(t);if(!e)throw Error(`No RPC URL found for chainID ${t}`);return e},jp=t=>{let e=Se.getEVMNetworkIDValue(t),r=Se.getRpcProxyUrl(t);return new QP(cge(r),e)},Kbe=async(t,e,r=1)=>{if((await jp(t).waitForTransaction(e,r)).status===0)throw new Error("tx reverted");return!0};var mm=(t,e,r,n)=>{let i=jp(t);return n?new WP(e,r,new l8(n,i)):new WP(e,r,i)};u();l();var Wbe="0x420000000000000000000000000000000000000F",Vbe=["function getL1Fee(bytes memory _data) external view returns (uint256)"];var iF=async({networkId:t,serializedUnsignedTransaction:e})=>{let n=await mm(t,Wbe,Vbe).getL1Fee(e);return new We(n.toString())};u();l();var ym=(t,e)=>{let{gas:r,nonce:n,from:i,type:o,chainId:s,...a}=t,c=2,d=typeof n=="string"?parseInt(n,16):void 0,f=s?parseInt(s):void 0,p={...a,gasLimit:r,nonce:d,type:c,chainId:f};return Age(p,e)};u();l();u();l();function oF(t,e){let r=Af.parse({...t.unsignedTransaction,...Gbe(e)});return{...t,unsignedTransaction:r}}function Gbe(t){return t?{gasLimit:`0x${t.gasLimit.toString(16)}`,maxFeePerGas:`0x${t.maxFeePerGas.toString(16)}`,maxPriorityFeePerGas:`0x${t.maxPriorityFeePerGas.toString(16)}`}:{}}u();l();u();l();function Hbe(t,e=!1,r){let n=r[t];return n?e?n.descriptionAbbreviatedKey:n.descriptionKey:""}var M0={transactionSpeedDescription:function(t,e){return Hbe(t,e,this.transactionTimes)},transactionSpeedSeconds:function(t){return this.transactionTimes[t]?.seconds},transactionTimes:{},onBeforeSend:({multichainTransaction:t})=>Promise.resolve(t)};var vf={...M0,transactionSettingsRowFeeDescription:void 0,isPendingTransactionMined:function(t){return t.data.transactions.some(e=>e.confirmations>0)},networkFeeRowString:function(t,e){return e?t?Mge("gasUpTo",{amount:t}):"":t??""},isPendingTransactionsEqual:({data:t},{data:e})=>t.nonce===e.nonce&&t.transactions.every((r,n)=>r.hash===e.transactions[n].hash),sendSuccessRedirect:()=>"history",droppedTransactionThresholdMs:tt({days:2}),onBeforeSend:({multichainTransaction:t,gasEstimation:e})=>{let r=e?oF(t,e):t;return Promise.resolve(r)},supportsNetworkSettings:!0};var $be={...vf,isPendingTransactionConfirmed:function({data:t}){return t.transactions.some(e=>e.confirmations>5)},sendSuccessRedirect:t=>t?"home":"history",additionalTransactionCost:async({networkID:t,unsignedTransaction:e})=>iF({networkId:t,serializedUnsignedTransaction:ym(e)}),droppedTransactionThresholdMs:tt({minutes:5})};u();l();var Ybe={...vf,isPendingTransactionConfirmed:function({data:t}){return t.transactions.some(e=>e.confirmations>5)},sendSuccessRedirect:t=>t?"home":"history",additionalTransactionCost:async({networkID:t,unsignedTransaction:e})=>iF({networkId:t,serializedUnsignedTransaction:ym(e)}),droppedTransactionThresholdMs:tt({minutes:5})};u();l();u();l();var $rt={descriptionKey:"timeDescription1hour",descriptionAbbreviatedKey:"timeDescriptionAbbrev1hour",seconds:3600},Yrt={descriptionKey:"timeDescription30minutes",descriptionAbbreviatedKey:"timeDescriptionAbbrev30minutes",seconds:1800},Xrt={descriptionKey:"timeDescription10minutes",descriptionAbbreviatedKey:"timeDescriptionAbbrev10minutes",seconds:600},Zrt={descriptionKey:"timeDescription2minutes",descriptionAbbreviatedKey:"timeDescriptionAbbrev2minutes",seconds:120},Jrt={descriptionKey:"timeDescription30seconds",descriptionAbbreviatedKey:"timeDescriptionAbbrev30seconds",seconds:30},Qrt={descriptionKey:"timeDescription15seconds",descriptionAbbreviatedKey:"timeDescriptionAbbrev15seconds",seconds:15},ent={descriptionKey:"timeDescription10seconds",descriptionAbbreviatedKey:"timeDescriptionAbbrev10seconds",seconds:10},tnt={descriptionKey:"timeDescription5seconds",descriptionAbbreviatedKey:"timeDescriptionAbbrev5seconds",seconds:5},rnt={descriptionKey:"timeDescription1second",descriptionAbbreviatedKey:"timeDescriptionAbbrev1second",seconds:1},Qo={TIME_1_HOUR:$rt,TIME_30_MINUTES:Yrt,TIME_10_MINUTES:Xrt,TIME_2_MINUTES:Zrt,TIME_30_SECONDS:Jrt,TIME_15_SECONDS:Qrt,TIME_10_SECONDS:ent,TIME_5_SECONDS:tnt,TIME_1_SECOND:rnt},w9=35e5,Xbe="http://127.0.0.1:8899",G_r=ige(5e-6),A9=500;var Zbe={...M0,transactionSettingsRowFeeDescription:t=>`${Fp(t.btcPerKilobyte).decimalPlaces(1,We.ROUND_HALF_UP)} sats/vB`,isPendingTransactionConfirmed:function(t){return t.data.confirmations>0},isPendingTransactionMined:function(t){return t.data.confirmations>0},networkFeeRowString:function(t){return t||""},transactionTimes:{slow:Qo.TIME_10_MINUTES,standard:Qo.TIME_10_MINUTES,fast:Qo.TIME_10_MINUTES},isPendingTransactionsEqual:(t,e)=>t.data.txID===e.data.txID,sendSuccessRedirect:()=>"history",droppedTransactionThresholdMs:tt({hours:3}),supportsNetworkSettings:!0};u();l();var Jbe={...vf,isPendingTransactionConfirmed:function({data:t}){return t.transactions.some(e=>e.confirmations>0)},transactionTimes:{slow:Qo.TIME_2_MINUTES,standard:Qo.TIME_30_SECONDS,fast:Qo.TIME_15_SECONDS}};u();l();var Qbe={...vf,isPendingTransactionConfirmed:function({data:t}){return t.transactions.some(e=>e.confirmations>5)},transactionTimes:{slow:Qo.TIME_15_SECONDS,standard:Qo.TIME_10_SECONDS,fast:Qo.TIME_5_SECONDS}};u();l();var e0e={...vf,isPendingTransactionConfirmed:function({data:t}){return t.transactions.some(e=>e.confirmations>1)},transactionTimes:{slow:Qo.TIME_1_SECOND,standard:Qo.TIME_1_SECOND,fast:Qo.TIME_1_SECOND},supportsNetworkSettings:!1};u();l();var t0e={...vf,isPendingTransactionConfirmed:function({data:t}){return t.transactions.some(e=>e.confirmations>5)},transactionTimes:{slow:Qo.TIME_15_SECONDS,standard:Qo.TIME_10_SECONDS,fast:Qo.TIME_5_SECONDS}};u();l();var r0e={...M0,transactionSettingsRowFeeDescription:void 0,isPendingTransactionConfirmed:function(t){return t.data.confirmationStatus==="confirmed"},isPendingTransactionMined:function(t){return t.data.confirmationStatus==="processed"},networkFeeRowString:function(t){return t||""},transactionTimes:{},isPendingTransactionsEqual:(t,e)=>t.data.signature===e.data.signature,sendSuccessRedirect:()=>"history",droppedTransactionThresholdMs:Number.POSITIVE_INFINITY,supportsNetworkSettings:!1};u();l();u();l();u();l();u();l();u();l();u();l();u();l();u();l();u();l();function nnt(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let d=0;d<e.length;d++)e[d]=255;for(let d=0;d<t.length;d++){let f=t.charAt(d),p=f.charCodeAt(0);if(e[p]!==255)throw new TypeError(f+" is ambiguous");e[p]=d}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let f=0,p=0,m=0,y=d.length;for(;m!==y&&d[m]===0;)m++,f++;let g=(y-m)*o+1>>>0,b=new Uint8Array(g);for(;m!==y;){let U=d[m],L=0;for(let j=g-1;(U!==0||L<p)&&j!==-1;j--,L++)U+=256*b[j]>>>0,b[j]=U%r>>>0,U=U/r>>>0;if(U!==0)throw new Error("Non-zero carry");p=L,m++}let S=g-p;for(;S!==g&&b[S]===0;)S++;let P=n.repeat(f);for(;S<g;++S)P+=t.charAt(b[S]);return P}function a(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let f=0,p=0,m=0;for(;d[f]===n;)p++,f++;let y=(d.length-f)*i+1>>>0,g=new Uint8Array(y);for(;d[f];){let U=e[d.charCodeAt(f)];if(U===255)return;let L=0;for(let j=y-1;(U!==0||L<m)&&j!==-1;j--,L++)U+=r*g[j]>>>0,g[j]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");m=L,f++}let b=y-m;for(;b!==y&&g[b]===0;)b++;let S=new Uint8Array(p+(y-b)),P=p;for(;b!==y;)S[P++]=g[b++];return S}function c(d){let f=a(d);if(f)return f;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:a,decode:c}}var n0e=nnt;var int="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",E9=n0e(int);var Cg=t=>E9.encode(t),Kp=t=>E9.decode(t);u();l();function xa(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}var I9=8192;function Zi(t){if(t.length<I9)return btoa(String.fromCharCode(...t));let e="";for(var r=0;r<t.length;r+=I9){let n=t.slice(r,r+I9);e+=String.fromCharCode(...n)}return btoa(e)}u();l();u();l();function KI(t){let e=t.startsWith("0x")?t.slice(2):t,r=e.length%2===0?e:`0${e}`,n=r.match(/[0-9a-fA-F]{2}/g)?.map(i=>parseInt(i,16))??[];if(n.length!==r.length/2)throw new Error(`Invalid hex string ${t}`);return Uint8Array.from(n)}function gm(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}u();l();u();l();function WI(t){let e=[],r=0;if(t===0)return[0];for(;t>0;)e[r]=t&127,(t>>=7)&&(e[r]|=128),r+=1;return e}function i0e(t){let e=0,r=0,n=0;for(;;){let i=t[n];if(n+=1,e|=(i&127)<<r,!(i&128))break;r+=7}return{value:e,length:n}}var sF=class{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let e=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let e=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(e){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,e);return this.shift(e),n}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e),{value:n,length:i}=i0e(r);return this.shift(i),n}readVec(e){let r=this.readULEB(),n=[];for(let i=0;i<r;i++)n.push(e(this,i,r));return n}};u();l();u();l();function T9(t,e){switch(e){case"base58":return Cg(t);case"base64":return Zi(t);case"hex":return gm(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function tO(t,e=["<",">"]){let[r,n]=e,i=[],o="",s=0;for(let a=0;a<t.length;a++){let c=t[a];if(c===r&&s++,c===n&&s--,s===0&&c===","){i.push(o.trim()),o="";continue}o+=c}return i.push(o.trim()),i}var aF=class{constructor({initialSize:e=1024,maxSize:r=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=r,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let r=this.bytePosition+e;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return k9(BigInt(e),8).forEach(r=>this.write8(r)),this}write128(e){return k9(BigInt(e),16).forEach(r=>this.write8(r)),this}write256(e){return k9(BigInt(e),32).forEach(r=>this.write8(r)),this}writeULEB(e){return WI(e).forEach(r=>this.write8(r)),this}writeVec(e,r){return this.writeULEB(e.length),Array.from(e).forEach((n,i)=>r(this,n,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return T9(this.toBytes(),e)}};function k9(t,e){let r=new Uint8Array(e),n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return r}var o0e=t=>{throw TypeError(t)},s0e=(t,e,r)=>e.has(t)||o0e("Cannot "+r),Wp=(t,e,r)=>(s0e(t,e,"read from private field"),r?r.call(t):e.get(t)),uF=(t,e,r)=>e.has(t)?o0e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),lF=(t,e,r,n)=>(s0e(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),VI,rO,cF,N0,ont=class a0e{constructor(e){uF(this,VI),uF(this,rO),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),lF(this,VI,e.write),lF(this,rO,e.serialize??((r,n)=>{let i=new aF({initialSize:this.serializedSize(r)??void 0,...n});return Wp(this,VI).call(this,r,i),i.toBytes()})),this.validate=e.validate??(()=>{})}write(e,r){this.validate(e),Wp(this,VI).call(this,e,r)}serialize(e,r){return this.validate(e),new dF(this,Wp(this,rO).call(this,e,r))}parse(e){let r=new sF(e);return this.read(r)}fromHex(e){return this.parse(KI(e))}fromBase58(e){return this.parse(Kp(e))}fromBase64(e){return this.parse(xa(e))}transform({name:e,input:r,output:n,validate:i}){return new a0e({name:e??this.name,read:o=>n(this.read(o)),write:(o,s)=>Wp(this,VI).call(this,r(o),s),serializedSize:o=>this.serializedSize(r(o)),serialize:(o,s)=>Wp(this,rO).call(this,r(o),s),validate:o=>{i?.(o),this.validate(r(o))}})}};VI=new WeakMap;rO=new WeakMap;var Vp=ont,c0e=Symbol.for("@mysten/serialized-bcs");function GI(t){return!!t&&typeof t=="object"&&t[c0e]===!0}var dF=class{constructor(e,r){uF(this,cF),uF(this,N0),lF(this,cF,e),lF(this,N0,r)}get[c0e](){return!0}toBytes(){return Wp(this,N0)}toHex(){return gm(Wp(this,N0))}toBase64(){return Zi(Wp(this,N0))}toBase58(){return Cg(Wp(this,N0))}parse(){return Wp(this,cF).parse(Wp(this,N0))}};cF=new WeakMap;N0=new WeakMap;function nO({size:t,...e}){return new Vp({...e,serializedSize:()=>t})}function fF({readMethod:t,writeMethod:e,...r}){return nO({...r,read:n=>n[t](),write:(n,i)=>i[e](n),validate:n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)}})}function pF({readMethod:t,writeMethod:e,...r}){return nO({...r,read:n=>n[t](),write:(n,i)=>i[e](BigInt(n)),validate:n=>{let i=BigInt(n);if(i<0||i>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${i}. Expected value in range 0-${r.maxValue}`);r.validate?.(i)}})}function u0e({serialize:t,...e}){let r=new Vp({...e,serialize:t,write:(n,i)=>{for(let o of r.serialize(n).toBytes())i.write8(o)}});return r}function l0e({toBytes:t,fromBytes:e,...r}){return new Vp({...r,read:n=>{let i=n.readULEB(),o=n.readBytes(i);return e(o)},write:(n,i)=>{let o=t(n);i.writeULEB(o.length);for(let s=0;s<o.length;s++)i.write8(o[s])},serialize:n=>{let i=t(n),o=WI(i.length),s=new Uint8Array(o.length+i.length);return s.set(o,0),s.set(i,o.length),s},validate:n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)}})}function d0e(t){let e=null;function r(){return e||(e=t()),e}return new Vp({name:"lazy",read:n=>r().read(n),serializedSize:n=>r().serializedSize(n),write:(n,i)=>r().write(n,i),serialize:(n,i)=>r().serialize(n,i).toBytes()})}u();l();var $={u8(t){return fF({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return fF({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return fF({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return pF({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return pF({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return pF({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return nO({name:"bool",size:1,read:e=>e.read8()===1,write:(e,r)=>r.write8(e?1:0),...t,validate:e=>{if(t?.validate?.(e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)}})},uleb128(t){return u0e({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(WI(e)),...t})},bytes(t,e){return nO({name:`bytes[${t}]`,size:t,read:r=>r.readBytes(t),write:(r,n)=>{let i=new Uint8Array(r);for(let o=0;o<t;o++)n.write8(i[o]??0)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t)throw new TypeError(`Expected array of length ${t}, found ${r.length}`)}})},string(t){return l0e({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...t})},fixedArray(t,e,r){return new Vp({name:`${e.name}[${t}]`,read:n=>{let i=new Array(t);for(let o=0;o<t;o++)i[o]=e.read(n);return i},write:(n,i)=>{for(let o of n)e.write(o,i)},...r,validate:n=>{if(r?.validate?.(n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)}})},option(t){return $.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:e=>e==null?{None:!0}:{Some:e},output:e=>e.$kind==="Some"?e.Some:null})},vector(t,e){return new Vp({name:`vector<${t.name}>`,read:r=>{let n=r.readULEB(),i=new Array(n);for(let o=0;o<n;o++)i[o]=t.read(r);return i},write:(r,n)=>{n.writeULEB(r.length);for(let i of r)t.write(i,n)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)}})},tuple(t,e){return new Vp({name:`(${t.map(r=>r.name).join(", ")})`,serializedSize:r=>{let n=0;for(let i=0;i<t.length;i++){let o=t[i].serializedSize(r[i]);if(o==null)return null;n+=o}return n},read:r=>{let n=[];for(let i of t)n.push(i.read(r));return n},write:(r,n)=>{for(let i=0;i<t.length;i++)t[i].write(r[i],n)},...e,validate:r=>{if(e?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${r.length}`)}})},struct(t,e,r){let n=Object.entries(e);return new Vp({name:t,serializedSize:i=>{let o=0;for(let[s,a]of n){let c=a.serializedSize(i[s]);if(c==null)return null;o+=c}return o},read:i=>{let o={};for(let[s,a]of n)o[s]=a.read(i);return o},write:(i,o)=>{for(let[s,a]of n)a.write(i[s],o)},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)}})},enum(t,e,r){let n=Object.entries(e);return new Vp({name:t,read:i=>{let o=i.readULEB(),s=n[o];if(!s)throw new TypeError(`Unknown value ${o} for enum ${t}`);let[a,c]=s;return{[a]:c?.read(i)??!0,$kind:a}},write:(i,o)=>{let[s,a]=Object.entries(i).filter(([c])=>Object.hasOwn(e,c))[0];for(let c=0;c<n.length;c++){let[d,f]=n[c];if(d===s){o.writeULEB(c),f?.write(a,o);return}}},...r,validate:i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);let o=Object.keys(i).filter(a=>i[a]!==void 0&&Object.hasOwn(e,a));if(o.length!==1)throw new TypeError(`Expected object with one key, but found ${o.length} for type ${t}}`);let[s]=o;if(!Object.hasOwn(e,s))throw new TypeError(`Invalid enum variant ${s}`)}})},map(t,e){return $.vector($.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:r=>[...r.entries()],output:r=>{let n=new Map;for(let[i,o]of r)n.set(i,o);return n}})},lazy(t){return d0e(t)}};u();l();u();l();var snt=32;function hF(t){try{return Kp(t).length===snt}catch{return!1}}var iO=32;function Id(t){return cnt(t)&&unt(t)===iO}function HI(t){return Id(t)}function ant(t){return t.includes("::")?v9(t):t}function v9(t){let[e,r]=t.split("::"),n=t.slice(e.length+r.length+4),i=n.includes("<")?n.slice(0,n.indexOf("<")):n,o=n.includes("<")?tO(n.slice(n.indexOf("<")+1,n.lastIndexOf(">"))).map(s=>ant(s.trim())):[];return{address:wr(e),module:r,name:i,typeParams:o}}function oO(t){let{address:e,module:r,name:n,typeParams:i}=typeof t=="string"?v9(t):t,o=i?.length>0?`<${i.map(s=>typeof s=="string"?s:oO(s)).join(",")}>`:"";return`${e}::${r}::${n}${o}`}function wr(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(iO*2,"0")}`}function bl(t,e=!1){return wr(t,e)}function cnt(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function unt(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}u();l();var lnt=/^vector<(.+)>$/,dnt=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,Bg=class t{static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(lnt);if(n)return{vector:t.parseFromStr(n[1],r)};let i=e.match(dnt);if(i)return{struct:{address:r?wr(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:t.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return tO(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function fnt(t){return $.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function pnt(t){return $.enum("Option",{None:null,Some:t})}var zi=$.bytes(iO).transform({validate:t=>{let e=typeof t=="string"?t:gm(t);if(!e||!Id(wr(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?KI(wr(t)):t,output:t=>wr(gm(t))}),Td=$.vector($.u8()).transform({name:"ObjectDigest",input:t=>Kp(t),output:t=>Cg(new Uint8Array(t)),validate:t=>{if(Kp(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),_l=$.struct("SuiObjectRef",{objectId:zi,version:$.u64(),digest:Td}),x9=$.struct("SharedObjectRef",{objectId:zi,initialSharedVersion:$.u64(),mutable:$.bool()}),P9=$.enum("ObjectArg",{ImmOrOwnedObject:_l,SharedObject:x9,Receiving:_l}),O9=$.enum("CallArg",{Pure:$.struct("Pure",{bytes:$.vector($.u8()).transform({input:t=>typeof t=="string"?xa(t):t,output:t=>Zi(new Uint8Array(t))})}),Object:P9}),R9=$.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:$.lazy(()=>R9),struct:$.lazy(()=>U9),u16:null,u32:null,u256:null}),mF=R9.transform({input:t=>typeof t=="string"?Bg.parseFromStr(t,!0):t,output:t=>Bg.tagToString(t)}),Gp=$.enum("Argument",{GasCoin:null,Input:$.u16(),Result:$.u16(),NestedResult:$.tuple([$.u16(),$.u16()])}),C9=$.struct("ProgrammableMoveCall",{package:zi,module:$.string(),function:$.string(),typeArguments:$.vector(mF),arguments:$.vector(Gp)}),B9=$.enum("Command",{MoveCall:C9,TransferObjects:$.struct("TransferObjects",{objects:$.vector(Gp),address:Gp}),SplitCoins:$.struct("SplitCoins",{coin:Gp,amounts:$.vector(Gp)}),MergeCoins:$.struct("MergeCoins",{destination:Gp,sources:$.vector(Gp)}),Publish:$.struct("Publish",{modules:$.vector($.vector($.u8()).transform({input:t=>typeof t=="string"?xa(t):t,output:t=>Zi(new Uint8Array(t))})),dependencies:$.vector(zi)}),MakeMoveVec:$.struct("MakeMoveVec",{type:pnt(mF).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:$.vector(Gp)}),Upgrade:$.struct("Upgrade",{modules:$.vector($.vector($.u8()).transform({input:t=>typeof t=="string"?xa(t):t,output:t=>Zi(new Uint8Array(t))})),dependencies:$.vector(zi),package:zi,ticket:Gp})}),M9=$.struct("ProgrammableTransaction",{inputs:$.vector(O9),commands:$.vector(B9)}),N9=$.enum("TransactionKind",{ProgrammableTransaction:M9,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),D9=$.enum("TransactionExpiration",{None:null,Epoch:fnt()}),U9=$.struct("StructTag",{address:zi,module:$.string(),name:$.string(),typeParams:$.vector(R9)}),L9=$.struct("GasData",{payment:$.vector(_l),owner:zi,price:$.u64(),budget:$.u64()}),z9=$.struct("TransactionDataV1",{kind:N9,sender:zi,gasData:L9,expiration:D9}),F9=$.enum("TransactionData",{V1:z9}),q9=$.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),j9=$.enum("IntentVersion",{V0:null}),K9=$.enum("AppId",{Sui:null}),W9=$.struct("Intent",{scope:q9,version:j9,appId:K9});function V9(t){return $.struct(`IntentMessage<${t.name}>`,{intent:W9,value:t})}var G9=$.enum("CompressedSignature",{ED25519:$.fixedArray(64,$.u8()),Secp256k1:$.fixedArray(64,$.u8()),Secp256r1:$.fixedArray(64,$.u8()),ZkLogin:$.vector($.u8())}),H9=$.enum("PublicKey",{ED25519:$.fixedArray(32,$.u8()),Secp256k1:$.fixedArray(33,$.u8()),Secp256r1:$.fixedArray(33,$.u8()),ZkLogin:$.vector($.u8())}),$9=$.struct("MultiSigPkMap",{pubKey:H9,weight:$.u8()}),Y9=$.struct("MultiSigPublicKey",{pk_map:$.vector($9),threshold:$.u16()}),f0e=$.struct("MultiSig",{sigs:$.vector(G9),bitmap:$.u16(),multisig_pk:Y9}),hnt=$.vector($.u8()).transform({input:t=>typeof t=="string"?xa(t):t,output:t=>Zi(new Uint8Array(t))}),X9=$.struct("SenderSignedTransaction",{intentMessage:V9(F9),txSignatures:$.vector(hnt)}),p0e=$.vector(X9,{name:"SenderSignedData"}),h0e=$.struct("PasskeyAuthenticator",{authenticatorData:$.vector($.u8()),clientDataJson:$.string(),userSignature:$.vector($.u8())});u();l();var mnt=$.enum("PackageUpgradeError",{UnableToFetchPackage:$.struct("UnableToFetchPackage",{packageId:zi}),NotAPackage:$.struct("NotAPackage",{objectId:zi}),IncompatibleUpgrade:null,DigestDoesNotMatch:$.struct("DigestDoesNotMatch",{digest:$.vector($.u8())}),UnknownUpgradePolicy:$.struct("UnknownUpgradePolicy",{policy:$.u8()}),PackageIDDoesNotMatch:$.struct("PackageIDDoesNotMatch",{packageId:zi,ticketId:zi})}),ynt=$.struct("ModuleId",{address:zi,name:$.string()}),m0e=$.struct("MoveLocation",{module:ynt,function:$.u16(),instruction:$.u16(),functionName:$.option($.string())}),gnt=$.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:$.struct("IndexOutOfBounds",{idx:$.u16()}),SecondaryIndexOutOfBounds:$.struct("SecondaryIndexOutOfBounds",{resultIdx:$.u16(),secondaryIdx:$.u16()}),InvalidResultArity:$.struct("InvalidResultArity",{resultIdx:$.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),bnt=$.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),_nt=$.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:$.struct("MoveObjectTooBig",{objectSize:$.u64(),maxObjectSize:$.u64()}),MovePackageTooBig:$.struct("MovePackageTooBig",{objectSize:$.u64(),maxObjectSize:$.u64()}),CircularObjectOwnership:$.struct("CircularObjectOwnership",{object:zi}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:$.option(m0e),MoveAbort:$.tuple([m0e,$.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:$.struct("CommandArgumentError",{argIdx:$.u16(),kind:gnt}),TypeArgumentError:$.struct("TypeArgumentError",{argumentIdx:$.u16(),kind:bnt}),UnusedValueWithoutDrop:$.struct("UnusedValueWithoutDrop",{resultIdx:$.u16(),secondaryIdx:$.u16()}),InvalidPublicFunctionReturnType:$.struct("InvalidPublicFunctionReturnType",{idx:$.u16()}),InvalidTransferObject:null,EffectsTooLarge:$.struct("EffectsTooLarge",{currentSize:$.u64(),maxSize:$.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:$.struct("PackageUpgradeError",{upgradeError:mnt}),WrittenObjectsTooLarge:$.struct("WrittenObjectsTooLarge",{currentSize:$.u64(),maxSize:$.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:$.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:$.vector(zi)}),AddressDeniedForCoin:$.struct("AddressDeniedForCoin",{address:zi,coinType:$.string()}),CoinTypeGlobalPause:$.struct("CoinTypeGlobalPause",{coinType:$.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),y0e=$.enum("ExecutionStatus",{Success:null,Failed:$.struct("ExecutionFailed",{error:_nt,command:$.option($.u64())})}),g0e=$.struct("GasCostSummary",{computationCost:$.u64(),storageCost:$.u64(),storageRebate:$.u64(),nonRefundableStorageFee:$.u64()}),$I=$.enum("Owner",{AddressOwner:zi,ObjectOwner:zi,Shared:$.struct("Shared",{initialSharedVersion:$.u64()}),Immutable:null}),Snt=$.struct("TransactionEffectsV1",{status:y0e,executedEpoch:$.u64(),gasUsed:g0e,modifiedAtVersions:$.vector($.tuple([zi,$.u64()])),sharedObjects:$.vector(_l),transactionDigest:Td,created:$.vector($.tuple([_l,$I])),mutated:$.vector($.tuple([_l,$I])),unwrapped:$.vector($.tuple([_l,$I])),deleted:$.vector(_l),unwrappedThenDeleted:$.vector(_l),wrapped:$.vector(_l),gasObject:$.tuple([_l,$I]),eventsDigest:$.option(Td),dependencies:$.vector(Td)}),Z9=$.tuple([$.u64(),Td]),wnt=$.enum("ObjectIn",{NotExist:null,Exist:$.tuple([Z9,$I])}),Ant=$.enum("ObjectOut",{NotExist:null,ObjectWrite:$.tuple([Td,$I]),PackageWrite:Z9}),Ent=$.enum("IDOperation",{None:null,Created:null,Deleted:null}),Int=$.struct("EffectsObjectChange",{inputState:wnt,outputState:Ant,idOperation:Ent}),Tnt=$.enum("UnchangedSharedKind",{ReadOnlyRoot:Z9,MutateDeleted:$.u64(),ReadDeleted:$.u64(),Cancelled:$.u64(),PerEpochConfig:null}),knt=$.struct("TransactionEffectsV2",{status:y0e,executedEpoch:$.u64(),gasUsed:g0e,transactionDigest:Td,gasObjectIndex:$.option($.u32()),eventsDigest:$.option(Td),dependencies:$.vector(Td),lamportVersion:$.u64(),changedObjects:$.vector($.tuple([zi,Int])),unchangedSharedObjects:$.vector($.tuple([zi,Tnt])),auxDataDigest:$.option(Td)}),b0e=$.enum("TransactionEffects",{V1:Snt,V2:knt});var Jt={...$,U8:$.u8(),U16:$.u16(),U32:$.u32(),U64:$.u64(),U128:$.u128(),U256:$.u256(),ULEB128:$.uleb128(),Bool:$.bool(),String:$.string(),Address:zi,AppId:K9,Argument:Gp,CallArg:O9,CompressedSignature:G9,GasData:L9,Intent:W9,IntentMessage:V9,IntentScope:q9,IntentVersion:j9,MultiSig:f0e,MultiSigPkMap:$9,MultiSigPublicKey:Y9,ObjectArg:P9,ObjectDigest:Td,ProgrammableMoveCall:C9,ProgrammableTransaction:M9,PublicKey:H9,SenderSignedData:p0e,SenderSignedTransaction:X9,SharedObjectRef:x9,StructTag:U9,SuiObjectRef:_l,Command:B9,TransactionData:F9,TransactionDataV1:z9,TransactionExpiration:D9,TransactionKind:N9,TypeTag:mF,TransactionEffects:b0e,PasskeyAuthenticator:h0e};u();l();u();l();var vnt=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,xnt=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i;function _0e(t,e="at"){let r=t.toLowerCase(),n;if(r.includes("@")){if(!vnt.test(r))throw new Error(`Invalid SuiNS name ${t}`);let[i,o]=r.split("@");n=[...i?i.split("."):[],o]}else{if(!xnt.test(r))throw new Error(`Invalid SuiNS name ${t}`);n=r.split(".").slice(0,-1)}return e==="dot"?`${n.join(".")}.sui`:`${n.slice(0,-1).join(".")}@${n[n.length-1]}`}u();l();var Pnt=BigInt(1e9),J9="0x1",yF="0x2";var Ont=bl("0x6");var Q9=`${yF}::sui::SUI`,Rnt=bl("0x5");u();l();u();l();u();l();function YI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function Cnt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function sO(t,...e){if(!Cnt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function wAr(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");YI(t.outputLen),YI(t.blockLen)}function eY(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function S0e(t,e){sO(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}u();l();u();l();var qw=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var XI=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),OAr=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),RAr=(t,e)=>t<<32-e|t>>>e;var D0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,A0e=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,Hp=D0?t=>t:t=>A0e(t);function jw(t){for(let e=0;e<t.length;e++)t[e]=A0e(t[e])}var Bnt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function CAr(t){sO(t);let e="";for(let r=0;r<t.length;r++)e+=Bnt[t[r]];return e}var Mg={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function w0e(t){if(t>=Mg._0&&t<=Mg._9)return t-Mg._0;if(t>=Mg._A&&t<=Mg._F)return t-(Mg._A-10);if(t>=Mg._a&&t<=Mg._f)return t-(Mg._a-10)}function BAr(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=w0e(t.charCodeAt(o)),a=w0e(t.charCodeAt(o+1));if(s===void 0||a===void 0){let c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function Mnt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function U0(t){return typeof t=="string"&&(t=Mnt(t)),sO(t),t}function MAr(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];sO(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var gF=class{clone(){return this._cloneInto()}},NAr={}.toString;function DAr(t){let e=n=>t().update(U0(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function E0e(t){let e=(n,i)=>t(i).update(U0(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function UAr(t=32){if(qw&&typeof qw.getRandomValues=="function")return qw.getRandomValues(new Uint8Array(t));if(qw&&typeof qw.randomBytes=="function")return qw.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}var I0e=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),bF=class extends gF{constructor(e,r,n={},i,o,s){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,YI(e),YI(r),YI(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==o)throw new Error(`salt must be ${o} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=XI(this.buffer=new Uint8Array(e))}update(e){eY(this);let{blockLen:r,buffer:n,buffer32:i}=this;e=U0(e);let o=e.length,s=e.byteOffset,a=e.buffer;for(let c=0;c<o;){this.pos===r&&(D0||jw(i),this.compress(i,0,!1),D0||jw(i),this.pos=0);let d=Math.min(r-this.pos,o-c),f=s+c;if(d===r&&!(f%4)&&c+d<o){let p=new Uint32Array(a,f,Math.floor((o-c)/4));D0||jw(p);for(let m=0;c+r<o;m+=i.length,c+=r)this.length+=r,this.compress(p,m,!1);D0||jw(p);continue}n.set(e.subarray(c,c+d),this.pos),this.pos+=d,this.length+=d,c+=d}return this}digestInto(e){eY(this),S0e(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),D0||jw(n),this.compress(n,0,!0),D0||jw(n);let i=XI(e);this.get().forEach((o,s)=>i[s]=Hp(o))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:o,outputLen:s,pos:a}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=o,e.outputLen=s,e.buffer.set(r),e.pos=a,e}};u();l();var _F=BigInt(4294967295),tY=BigInt(32);function T0e(t,e=!1){return e?{h:Number(t&_F),l:Number(t>>tY&_F)}:{h:Number(t>>tY&_F)|0,l:Number(t&_F)|0}}function Nnt(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=T0e(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var Dnt=(t,e)=>BigInt(t>>>0)<<tY|BigInt(e>>>0),Unt=(t,e,r)=>t>>>r,Lnt=(t,e,r)=>t<<32-r|e>>>r,znt=(t,e,r)=>t>>>r|e<<32-r,Fnt=(t,e,r)=>t<<32-r|e>>>r,qnt=(t,e,r)=>t<<64-r|e>>>r-32,jnt=(t,e,r)=>t>>>r-32|e<<64-r,Knt=(t,e)=>e,Wnt=(t,e)=>t,Vnt=(t,e,r)=>t<<r|e>>>32-r,Gnt=(t,e,r)=>e<<r|t>>>32-r,Hnt=(t,e,r)=>e<<r-32|t>>>64-r,$nt=(t,e,r)=>t<<r-32|e>>>64-r;function Ynt(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var Xnt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Znt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Jnt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Qnt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,eit=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),tit=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var rit={fromBig:T0e,split:Nnt,toBig:Dnt,shrSH:Unt,shrSL:Lnt,rotrSH:znt,rotrSL:Fnt,rotrBH:qnt,rotrBL:jnt,rotr32H:Knt,rotr32L:Wnt,rotlSH:Vnt,rotlSL:Gnt,rotlBH:Hnt,rotlBL:$nt,add:Ynt,add3L:Xnt,add3H:Znt,add4L:Jnt,add4H:Qnt,add5H:tit,add5L:eit},Pa=rit;var Is=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ct=new Uint32Array(32);function L0(t,e,r,n,i,o){let s=i[o],a=i[o+1],c=ct[2*t],d=ct[2*t+1],f=ct[2*e],p=ct[2*e+1],m=ct[2*r],y=ct[2*r+1],g=ct[2*n],b=ct[2*n+1],S=Pa.add3L(c,f,s);d=Pa.add3H(S,d,p,a),c=S|0,{Dh:b,Dl:g}={Dh:b^d,Dl:g^c},{Dh:b,Dl:g}={Dh:Pa.rotr32H(b,g),Dl:Pa.rotr32L(b,g)},{h:y,l:m}=Pa.add(y,m,b,g),{Bh:p,Bl:f}={Bh:p^y,Bl:f^m},{Bh:p,Bl:f}={Bh:Pa.rotrSH(p,f,24),Bl:Pa.rotrSL(p,f,24)},ct[2*t]=c,ct[2*t+1]=d,ct[2*e]=f,ct[2*e+1]=p,ct[2*r]=m,ct[2*r+1]=y,ct[2*n]=g,ct[2*n+1]=b}function z0(t,e,r,n,i,o){let s=i[o],a=i[o+1],c=ct[2*t],d=ct[2*t+1],f=ct[2*e],p=ct[2*e+1],m=ct[2*r],y=ct[2*r+1],g=ct[2*n],b=ct[2*n+1],S=Pa.add3L(c,f,s);d=Pa.add3H(S,d,p,a),c=S|0,{Dh:b,Dl:g}={Dh:b^d,Dl:g^c},{Dh:b,Dl:g}={Dh:Pa.rotrSH(b,g,16),Dl:Pa.rotrSL(b,g,16)},{h:y,l:m}=Pa.add(y,m,b,g),{Bh:p,Bl:f}={Bh:p^y,Bl:f^m},{Bh:p,Bl:f}={Bh:Pa.rotrBH(p,f,63),Bl:Pa.rotrBL(p,f,63)},ct[2*t]=c,ct[2*t+1]=d,ct[2*e]=f,ct[2*e+1]=p,ct[2*r]=m,ct[2*r+1]=y,ct[2*n]=g,ct[2*n+1]=b}var rY=class extends bF{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=Is[0]|0,this.v0h=Is[1]|0,this.v1l=Is[2]|0,this.v1h=Is[3]|0,this.v2l=Is[4]|0,this.v2h=Is[5]|0,this.v3l=Is[6]|0,this.v3h=Is[7]|0,this.v4l=Is[8]|0,this.v4h=Is[9]|0,this.v5l=Is[10]|0,this.v5h=Is[11]|0,this.v6l=Is[12]|0,this.v6h=Is[13]|0,this.v7l=Is[14]|0,this.v7h=Is[15]|0;let r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){let n=XI(U0(e.salt));this.v4l^=Hp(n[0]),this.v4h^=Hp(n[1]),this.v5l^=Hp(n[2]),this.v5h^=Hp(n[3])}if(e.personalization){let n=XI(U0(e.personalization));this.v6l^=Hp(n[0]),this.v6h^=Hp(n[1]),this.v7l^=Hp(n[2]),this.v7h^=Hp(n[3])}if(e.key){let n=new Uint8Array(this.blockLen);n.set(U0(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:o,v2h:s,v3l:a,v3h:c,v4l:d,v4h:f,v5l:p,v5h:m,v6l:y,v6h:g,v7l:b,v7h:S}=this;return[e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,S]}set(e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,S){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=a|0,this.v3h=c|0,this.v4l=d|0,this.v4h=f|0,this.v5l=p|0,this.v5h=m|0,this.v6l=y|0,this.v6h=g|0,this.v7l=b|0,this.v7h=S|0}compress(e,r,n){this.get().forEach((c,d)=>ct[d]=c),ct.set(Is,16);let{h:i,l:o}=Pa.fromBig(BigInt(this.length));ct[24]=Is[8]^o,ct[25]=Is[9]^i,n&&(ct[28]=~ct[28],ct[29]=~ct[29]);let s=0,a=I0e;for(let c=0;c<12;c++)L0(0,4,8,12,e,r+2*a[s++]),z0(0,4,8,12,e,r+2*a[s++]),L0(1,5,9,13,e,r+2*a[s++]),z0(1,5,9,13,e,r+2*a[s++]),L0(2,6,10,14,e,r+2*a[s++]),z0(2,6,10,14,e,r+2*a[s++]),L0(3,7,11,15,e,r+2*a[s++]),z0(3,7,11,15,e,r+2*a[s++]),L0(0,5,10,15,e,r+2*a[s++]),z0(0,5,10,15,e,r+2*a[s++]),L0(1,6,11,12,e,r+2*a[s++]),z0(1,6,11,12,e,r+2*a[s++]),L0(2,7,8,13,e,r+2*a[s++]),z0(2,7,8,13,e,r+2*a[s++]),L0(3,4,9,14,e,r+2*a[s++]),z0(3,4,9,14,e,r+2*a[s++]);this.v0l^=ct[0]^ct[16],this.v0h^=ct[1]^ct[17],this.v1l^=ct[2]^ct[18],this.v1h^=ct[3]^ct[19],this.v2l^=ct[4]^ct[20],this.v2h^=ct[5]^ct[21],this.v3l^=ct[6]^ct[22],this.v3h^=ct[7]^ct[23],this.v4l^=ct[8]^ct[24],this.v4h^=ct[9]^ct[25],this.v5l^=ct[10]^ct[26],this.v5h^=ct[11]^ct[27],this.v6l^=ct[12]^ct[28],this.v6h^=ct[13]^ct[29],this.v7l^=ct[14]^ct[30],this.v7h^=ct[15]^ct[31],ct.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},k0e=E0e(t=>new rY(t));var nit="object",iit="ID",oit="ascii",sit="String",ait="string",cit="String",uit="option",lit="Option";function v0e(t){let e=typeof t.body=="object"&&"datatype"in t.body?t.body.datatype:null;return!!e&&wr(e.package)===wr("0x2")&&e.module==="tx_context"&&e.type==="TxContext"}function SF(t){if(typeof t=="string")switch(t){case"address":return Jt.Address;case"bool":return Jt.Bool;case"u8":return Jt.U8;case"u16":return Jt.U16;case"u32":return Jt.U32;case"u64":return Jt.U64;case"u128":return Jt.U128;case"u256":return Jt.U256;default:throw new Error(`Unknown type signature ${t}`)}if("vector"in t){if(t.vector==="u8")return Jt.vector(Jt.U8).transform({input:r=>typeof r=="string"?new TextEncoder().encode(r):r,output:r=>r});let e=SF(t.vector);return e?Jt.vector(e):null}if("datatype"in t){let e=wr(t.datatype.package);if(e===wr(J9)){if(t.datatype.module===oit&&t.datatype.type===sit)return Jt.String;if(t.datatype.module===ait&&t.datatype.type===cit)return Jt.String;if(t.datatype.module===uit&&t.datatype.type===lit){let r=SF(t.datatype.typeParameters[0]);return r?Jt.vector(r):null}}if(e===wr(yF)&&t.datatype.module===nit&&t.datatype.type===iit)return Jt.Address}return null}function x0e(t){return typeof t=="object"&&"Reference"in t?{ref:"&",body:aO(t.Reference)}:typeof t=="object"&&"MutableReference"in t?{ref:"&mut",body:aO(t.MutableReference)}:{ref:null,body:aO(t)}}function aO(t){if(typeof t=="string")switch(t){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${t}`)}if("Vector"in t)return{vector:aO(t.Vector)};if("Struct"in t)return{datatype:{package:t.Struct.address,module:t.Struct.module,type:t.Struct.name,typeParameters:t.Struct.typeArguments.map(aO)}};if("TypeParameter"in t)return{typeParameter:t.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(t)}`)}u();l();function dit(t){return{$kind:"Pure",Pure:{bytes:t instanceof Uint8Array?Zi(t):t.toBase64()}}}var Sl={Pure:dit,ObjectRef({objectId:t,digest:e,version:r}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:e,version:r,objectId:wr(t)}}}},SharedObjectRef({objectId:t,mutable:e,initialSharedVersion:r}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:e,initialSharedVersion:r,objectId:wr(t)}}}},ReceivingRef({objectId:t,digest:e,version:r}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:e,version:r,objectId:wr(t)}}}}};u();l();u();l();var nY;function fit(t){return{lang:t?.lang??nY?.lang,message:t?.message,abortEarly:t?.abortEarly??nY?.abortEarly,abortPipeEarly:t?.abortPipeEarly??nY?.abortPipeEarly}}var pit;function hit(t){return pit?.get(t)}var mit;function yit(t){return mit?.get(t)}var git;function bit(t,e){return git?.get(t)?.get(e)}function O0e(t){let e=typeof t;return e==="string"?`"${t}"`:e==="number"||e==="bigint"||e==="boolean"?`${t}`:e==="object"||e==="function"?(t&&Object.getPrototypeOf(t)?.constructor?.name)??"null":e}function kd(t,e,r,n,i){let o=i&&"input"in i?i.input:r.value,s=i?.expected??t.expects??null,a=i?.received??O0e(o),c={kind:t.kind,type:t.type,input:o,expected:s,received:a,message:`Invalid ${e}: ${s?`Expected ${s} but r`:"R"}eceived ${a}`,requirement:t.requirement,path:i?.path,issues:i?.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},d=t.kind==="schema",f=i?.message??t.message??bit(t.reference,c.lang)??(d?yit(c.lang):null)??n.message??hit(c.lang);f&&(c.message=typeof f=="function"?f(c):f),d&&(r.typed=!1),r.issues?r.issues.push(c):r.issues=[c]}function _it(t,e){return Object.hasOwn(t,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}var Sit=class extends Error{issues;constructor(t){super(t[0].message),this.name="ValiError",this.issues=t}};function Kw(t,e){return{kind:"validation",type:"check",reference:Kw,async:!1,expects:null,requirement:t,message:e,_run(r,n){return r.typed&&!this.requirement(r.value)&&kd(this,"input",r,n),r}}}function Fi(t){return{kind:"validation",type:"integer",reference:Fi,async:!1,expects:null,requirement:Number.isInteger,message:t,_run(e,r){return e.typed&&!this.requirement(e.value)&&kd(this,"integer",e,r),e}}}function cO(t){return{kind:"transformation",type:"transform",reference:cO,async:!1,operation:t,_run(e){return e.value=this.operation(e.value),e}}}function iY(t,e,r){return typeof t.default=="function"?t.default(e,r):t.default}function uO(t,e){return!t._run({typed:!1,value:e},{abortEarly:!0}).issues}function Kt(t,e){return{kind:"schema",type:"array",reference:Kt,expects:"Array",async:!1,item:t,message:e,_run(r,n){let i=r.value;if(Array.isArray(i)){r.typed=!0,r.value=[];for(let o=0;o<i.length;o++){let s=i[o],a=this.item._run({typed:!1,value:s},n);if(a.issues){let c={type:"array",origin:"value",input:i,key:o,value:s};for(let d of a.issues)d.path?d.path.unshift(c):d.path=[c],r.issues?.push(d);if(r.issues||(r.issues=a.issues),n.abortEarly){r.typed=!1;break}}a.typed||(r.typed=!1),r.value.push(a.value)}}else kd(this,"type",r,n);return r}}}function ZI(t){return{kind:"schema",type:"bigint",reference:ZI,expects:"bigint",async:!1,message:t,_run(e,r){return typeof e.value=="bigint"?e.typed=!0:kd(this,"type",e,r),e}}}function Ww(t){return{kind:"schema",type:"boolean",reference:Ww,expects:"boolean",async:!1,message:t,_run(e,r){return typeof e.value=="boolean"?e.typed=!0:kd(this,"type",e,r),e}}}function Vw(t){return{kind:"schema",type:"lazy",reference:Vw,expects:"unknown",async:!1,getter:t,_run(e,r){return this.getter(e.value)._run(e,r)}}}function ir(t,e){return{kind:"schema",type:"literal",reference:ir,expects:O0e(t),async:!1,literal:t,message:e,_run(r,n){return r.value===this.literal?r.typed=!0:kd(this,"type",r,n),r}}}function hn(t,...e){let r={kind:"schema",type:"nullable",reference:hn,expects:`${t.expects} | null`,async:!1,wrapped:t,_run(n,i){return n.value===null&&("default"in this&&(n.value=iY(this,n,i)),n.value===null)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in e&&(r.default=e[0]),r}function Ng(t,...e){let r={kind:"schema",type:"nullish",reference:Ng,expects:`${t.expects} | null | undefined`,async:!1,wrapped:t,_run(n,i){return(n.value===null||n.value===void 0)&&("default"in this&&(n.value=iY(this,n,i)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in e&&(r.default=e[0]),r}function Ei(t){return{kind:"schema",type:"number",reference:Ei,expects:"number",async:!1,message:t,_run(e,r){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:kd(this,"type",e,r),e}}}function Qe(t,e){return{kind:"schema",type:"object",reference:Qe,expects:"Object",async:!1,entries:t,message:e,_run(r,n){let i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(let o in this.entries){let s=i[o],a=this.entries[o]._run({typed:!1,value:s},n);if(a.issues){let c={type:"object",origin:"value",input:i,key:o,value:s};for(let d of a.issues)d.path?d.path.unshift(c):d.path=[c],r.issues?.push(d);if(r.issues||(r.issues=a.issues),n.abortEarly){r.typed=!1;break}}a.typed||(r.typed=!1),(a.value!==void 0||o in i)&&(r.value[o]=a.value)}}else kd(this,"type",r,n);return r}}}function Ts(t,...e){let r={kind:"schema",type:"optional",reference:Ts,expects:`${t.expects} | undefined`,async:!1,wrapped:t,_run(n,i){return n.value===void 0&&("default"in this&&(n.value=iY(this,n,i)),n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in e&&(r.default=e[0]),r}function Gw(t,e,r){return{kind:"schema",type:"record",reference:Gw,expects:"Object",async:!1,key:t,value:e,message:r,_run(n,i){let o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(let s in o)if(_it(o,s)){let a=o[s],c=this.key._run({typed:!1,value:s},i);if(c.issues){let f={type:"object",origin:"key",input:o,key:s,value:a};for(let p of c.issues)p.path=[f],n.issues?.push(p);if(n.issues||(n.issues=c.issues),i.abortEarly){n.typed=!1;break}}let d=this.value._run({typed:!1,value:a},i);if(d.issues){let f={type:"object",origin:"value",input:o,key:s,value:a};for(let p of d.issues)p.path?p.path.unshift(f):p.path=[f],n.issues?.push(p);if(n.issues||(n.issues=d.issues),i.abortEarly){n.typed=!1;break}}(!c.typed||!d.typed)&&(n.typed=!1),c.typed&&(n.value[c.value]=d.value)}}else kd(this,"type",n,i);return n}}}function ur(t){return{kind:"schema",type:"string",reference:ur,expects:"string",async:!1,message:t,_run(e,r){return typeof e.value=="string"?e.typed=!0:kd(this,"type",e,r),e}}}function lO(t,e){return{kind:"schema",type:"tuple",reference:lO,expects:"Array",async:!1,items:t,message:e,_run(r,n){let i=r.value;if(Array.isArray(i)){r.typed=!0,r.value=[];for(let o=0;o<this.items.length;o++){let s=i[o],a=this.items[o]._run({typed:!1,value:s},n);if(a.issues){let c={type:"array",origin:"value",input:i,key:o,value:s};for(let d of a.issues)d.path?d.path.unshift(c):d.path=[c],r.issues?.push(d);if(r.issues||(r.issues=a.issues),n.abortEarly){r.typed=!1;break}}a.typed||(r.typed=!1),r.value.push(a.value)}}else kd(this,"type",r,n);return r}}}function P0e(t){let e;if(t)for(let r of t)e?e.push(...r.issues):e=r.issues;return e}function es(t,e){return{kind:"schema",type:"union",reference:es,expects:[...new Set(t.map(r=>r.expects))].join(" | ")||"never",async:!1,options:t,message:e,_run(r,n){let i,o,s;for(let a of this.options){let c=a._run({typed:!1,value:r.value},n);if(c.typed)if(c.issues)o?o.push(c):o=[c];else{i=c;break}else s?s.push(c):s=[c]}if(i)return i;if(o){if(o.length===1)return o[0];kd(this,"type",r,n,{issues:P0e(o)}),r.typed=!0}else{if(s?.length===1)return s[0];kd(this,"type",r,n,{issues:P0e(s)})}return r}}}function bm(){return{kind:"schema",type:"unknown",reference:bm,expects:"unknown",async:!1,_run(t){return t.typed=!0,t}}}function Zn(t,e,r){let n=t._run({typed:!1,value:e},fit(r));if(n.issues)throw new Sit(n.issues);return n.value}function Kn(...t){return{...t[0],pipe:t,_run(e,r){for(let n=0;n<t.length;n++){if(e.issues&&(t[n].kind==="schema"||t[n].kind==="transformation")){e.typed=!1;break}(!e.issues||!r.abortEarly&&!r.abortPipeEarly)&&(e=t[n]._run(e,r))}return e}}}u();l();function q0(t){let e=Object.entries(t).map(([r,n])=>Qe({[r]:n}));return Kn(es(e),cO(r=>({...r,$kind:Object.keys(r)[0]})))}var Hw=Kn(ur(),cO(t=>wr(t)),Kw(Id)),ju=Hw,F0=ur(),Oa=Kn(es([ur(),Kn(Ei(),Fi())]),Kw(t=>{try{return BigInt(t),BigInt(t)>=0&&BigInt(t)<=18446744073709551615n}catch{return!1}},"Invalid u64")),$p=Qe({objectId:Hw,version:Oa,digest:ur()}),Ii=Kn(es([Qe({GasCoin:ir(!0)}),Qe({Input:Kn(Ei(),Fi()),type:Ts(ir("pure"))}),Qe({Input:Kn(Ei(),Fi()),type:Ts(ir("object"))}),Qe({Result:Kn(Ei(),Fi())}),Qe({NestedResult:lO([Kn(Ei(),Fi()),Kn(Ei(),Fi())])})]),cO(t=>({...t,$kind:Object.keys(t)[0]}))),wit=Qe({budget:hn(Oa),price:hn(Oa),owner:hn(Hw),payment:hn(Kt($p))}),kEr=Qe({address:ur(),module:ur(),name:ur(),typeParams:Kt(ur())}),oY=es([ir("address"),ir("bool"),ir("u8"),ir("u16"),ir("u32"),ir("u64"),ir("u128"),ir("u256"),Qe({vector:Vw(()=>oY)}),Qe({datatype:Qe({package:ur(),module:ur(),type:ur(),typeParameters:Kt(Vw(()=>oY))})}),Qe({typeParameter:Kn(Ei(),Fi())})]),Ait=Qe({ref:hn(es([ir("&"),ir("&mut")])),body:oY}),Eit=Qe({package:ju,module:ur(),function:ur(),typeArguments:Kt(ur()),arguments:Kt(Ii),_argumentTypes:Ts(hn(Kt(Ait)))}),Iit=Qe({name:ur(),inputs:Gw(ur(),es([Ii,Kt(Ii)])),data:Gw(ur(),bm())}),Tit=q0({MoveCall:Eit,TransferObjects:Qe({objects:Kt(Ii),address:Ii}),SplitCoins:Qe({coin:Ii,amounts:Kt(Ii)}),MergeCoins:Qe({destination:Ii,sources:Kt(Ii)}),Publish:Qe({modules:Kt(F0),dependencies:Kt(ju)}),MakeMoveVec:Qe({type:hn(ur()),elements:Kt(Ii)}),Upgrade:Qe({modules:Kt(F0),dependencies:Kt(ju),package:ju,ticket:Ii}),$Intent:Iit}),R0e=q0({ImmOrOwnedObject:$p,SharedObject:Qe({objectId:ju,initialSharedVersion:Oa,mutable:Ww()}),Receiving:$p}),kit=q0({Object:R0e,Pure:Qe({bytes:F0}),UnresolvedPure:Qe({value:bm()}),UnresolvedObject:Qe({objectId:ju,version:Ts(hn(Oa)),digest:Ts(hn(ur())),initialSharedVersion:Ts(hn(Oa))})}),sY=q0({Object:R0e,Pure:Qe({bytes:F0})}),aY=q0({None:ir(!0),Epoch:Oa}),JI=Qe({version:ir(2),sender:Ng(Hw),expiration:Ng(aY),gasData:wit,inputs:Kt(kit),commands:Kt(Tit)});var vd={MoveCall(t){let[e,r="",n=""]="target"in t?t.target.split("::"):[t.package,t.module,t.function];return{$kind:"MoveCall",MoveCall:{package:e,module:r,function:n,typeArguments:t.typeArguments??[],arguments:t.arguments??[]}}},TransferObjects(t,e){return{$kind:"TransferObjects",TransferObjects:{objects:t.map(r=>Zn(Ii,r)),address:Zn(Ii,e)}}},SplitCoins(t,e){return{$kind:"SplitCoins",SplitCoins:{coin:Zn(Ii,t),amounts:e.map(r=>Zn(Ii,r))}}},MergeCoins(t,e){return{$kind:"MergeCoins",MergeCoins:{destination:Zn(Ii,t),sources:e.map(r=>Zn(Ii,r))}}},Publish({modules:t,dependencies:e}){return{$kind:"Publish",Publish:{modules:t.map(r=>typeof r=="string"?r:Zi(new Uint8Array(r))),dependencies:e.map(r=>bl(r))}}},Upgrade({modules:t,dependencies:e,package:r,ticket:n}){return{$kind:"Upgrade",Upgrade:{modules:t.map(i=>typeof i=="string"?i:Zi(new Uint8Array(i))),dependencies:e.map(i=>bl(i)),package:r,ticket:Zn(Ii,n)}}},MakeMoveVec({type:t,elements:e}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:t??null,elements:e.map(r=>Zn(Ii,r))}}},Intent({name:t,inputs:e={},data:r={}}){return{$kind:"$Intent",$Intent:{name:t,inputs:Object.fromEntries(Object.entries(e).map(([n,i])=>[n,Array.isArray(i)?i.map(o=>Zn(Ii,o)):Zn(Ii,i)])),data:r}}}};u();l();u();l();var cY=Qe({digest:ur(),objectId:ur(),version:es([Kn(Ei(),Fi()),ur(),ZI()])}),vit=q0({ImmOrOwned:cY,Shared:Qe({objectId:ju,initialSharedVersion:Oa,mutable:Ww()}),Receiving:cY}),C0e=q0({Object:vit,Pure:Kt(Kn(Ei(),Fi()))}),M0e=es([Qe({kind:ir("Input"),index:Kn(Ei(),Fi()),value:bm(),type:Ts(ir("object"))}),Qe({kind:ir("Input"),index:Kn(Ei(),Fi()),value:bm(),type:ir("pure")})]),xit=es([Qe({Epoch:Kn(Ei(),Fi())}),Qe({None:hn(ir(!0))})]),B0e=Kn(es([Ei(),ur(),ZI()]),Kw(t=>{if(!["string","number","bigint"].includes(typeof t))return!1;try{return BigInt(t),!0}catch{return!1}})),uY=es([Qe({bool:hn(ir(!0))}),Qe({u8:hn(ir(!0))}),Qe({u64:hn(ir(!0))}),Qe({u128:hn(ir(!0))}),Qe({address:hn(ir(!0))}),Qe({signer:hn(ir(!0))}),Qe({vector:Vw(()=>uY)}),Qe({struct:Vw(()=>Pit)}),Qe({u16:hn(ir(!0))}),Qe({u32:hn(ir(!0))}),Qe({u256:hn(ir(!0))})]),Pit=Qe({address:ur(),module:ur(),name:ur(),typeParams:Kt(uY)}),Oit=Qe({budget:Ts(B0e),price:Ts(B0e),payment:Ts(Kt(cY)),owner:Ts(ur())}),Rit=[M0e,Qe({kind:ir("GasCoin")}),Qe({kind:ir("Result"),index:Kn(Ei(),Fi())}),Qe({kind:ir("NestedResult"),index:Kn(Ei(),Fi()),resultIndex:Kn(Ei(),Fi())})],Lg=es([...Rit]),Cit=Qe({kind:ir("MoveCall"),target:Kn(ur(),Kw(t=>t.split("::").length===3)),typeArguments:Kt(ur()),arguments:Kt(Lg)}),Bit=Qe({kind:ir("TransferObjects"),objects:Kt(Lg),address:Lg}),Mit=Qe({kind:ir("SplitCoins"),coin:Lg,amounts:Kt(Lg)}),Nit=Qe({kind:ir("MergeCoins"),destination:Lg,sources:Kt(Lg)}),Dit=Qe({kind:ir("MakeMoveVec"),type:es([Qe({Some:uY}),Qe({None:hn(ir(!0))})]),objects:Kt(Lg)}),Uit=Qe({kind:ir("Publish"),modules:Kt(Kt(Kn(Ei(),Fi()))),dependencies:Kt(ur())}),Lit=Qe({kind:ir("Upgrade"),modules:Kt(Kt(Kn(Ei(),Fi()))),dependencies:Kt(ur()),packageId:ur(),ticket:Lg}),zit=[Cit,Bit,Mit,Nit,Uit,Lit,Dit],Fit=es([...zit]),qEr=Qe({version:ir(1),sender:Ts(ur()),expiration:Ng(xit),gasConfig:Oit,inputs:Kt(M0e),transactions:Kt(Fit)});function lY(t){let e=t.inputs.map((r,n)=>{if(r.Object)return{kind:"Input",index:n,value:{Object:r.Object.ImmOrOwnedObject?{ImmOrOwned:r.Object.ImmOrOwnedObject}:r.Object.Receiving?{Receiving:{digest:r.Object.Receiving.digest,version:r.Object.Receiving.version,objectId:r.Object.Receiving.objectId}}:{Shared:{mutable:r.Object.SharedObject.mutable,initialSharedVersion:r.Object.SharedObject.initialSharedVersion,objectId:r.Object.SharedObject.objectId}}},type:"object"};if(r.Pure)return{kind:"Input",index:n,value:{Pure:Array.from(xa(r.Pure.bytes))},type:"pure"};if(r.UnresolvedPure)return{kind:"Input",type:"pure",index:n,value:r.UnresolvedPure.value};if(r.UnresolvedObject)return{kind:"Input",type:"object",index:n,value:r.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:t.sender??void 0,expiration:t.expiration?.$kind==="Epoch"?{Epoch:Number(t.expiration.Epoch)}:t.expiration?{None:!0}:null,gasConfig:{owner:t.gasData.owner??void 0,budget:t.gasData.budget??void 0,price:t.gasData.price??void 0,payment:t.gasData.payment??void 0},inputs:e,transactions:t.commands.map(r=>{if(r.MakeMoveVec)return{kind:"MakeMoveVec",type:r.MakeMoveVec.type===null?{None:!0}:{Some:Bg.parseFromStr(r.MakeMoveVec.type)},objects:r.MakeMoveVec.elements.map(n=>Dg(n,e))};if(r.MergeCoins)return{kind:"MergeCoins",destination:Dg(r.MergeCoins.destination,e),sources:r.MergeCoins.sources.map(n=>Dg(n,e))};if(r.MoveCall)return{kind:"MoveCall",target:`${r.MoveCall.package}::${r.MoveCall.module}::${r.MoveCall.function}`,typeArguments:r.MoveCall.typeArguments,arguments:r.MoveCall.arguments.map(n=>Dg(n,e))};if(r.Publish)return{kind:"Publish",modules:r.Publish.modules.map(n=>Array.from(xa(n))),dependencies:r.Publish.dependencies};if(r.SplitCoins)return{kind:"SplitCoins",coin:Dg(r.SplitCoins.coin,e),amounts:r.SplitCoins.amounts.map(n=>Dg(n,e))};if(r.TransferObjects)return{kind:"TransferObjects",objects:r.TransferObjects.objects.map(n=>Dg(n,e)),address:Dg(r.TransferObjects.address,e)};if(r.Upgrade)return{kind:"Upgrade",modules:r.Upgrade.modules.map(n=>Array.from(xa(n))),dependencies:r.Upgrade.dependencies,packageId:r.Upgrade.package,ticket:Dg(r.Upgrade.ticket,e)};throw new Error(`Unknown transaction ${Object.keys(r)}`)})}}function Dg(t,e){if(t.$kind==="GasCoin")return{kind:"GasCoin"};if(t.$kind==="Result")return{kind:"Result",index:t.Result};if(t.$kind==="NestedResult")return{kind:"NestedResult",index:t.NestedResult[0],resultIndex:t.NestedResult[1]};if(t.$kind==="Input")return e[t.Input];throw new Error(`Invalid argument ${Object.keys(t)}`)}function N0e(t){return Zn(JI,{version:2,sender:t.sender??null,expiration:t.expiration?"Epoch"in t.expiration?{Epoch:t.expiration.Epoch}:{None:!0}:null,gasData:{owner:t.gasConfig.owner??null,budget:t.gasConfig.budget?.toString()??null,price:t.gasConfig.price?.toString()??null,payment:t.gasConfig.payment?.map(e=>({digest:e.digest,objectId:e.objectId,version:e.version.toString()}))??null},inputs:t.inputs.map(e=>{if(e.kind==="Input"){if(uO(C0e,e.value)){let r=Zn(C0e,e.value);if(r.Object){if(r.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:r.Object.ImmOrOwned.objectId,version:String(r.Object.ImmOrOwned.version),digest:r.Object.ImmOrOwned.digest}}};if(r.Object.Shared)return{Object:{SharedObject:{mutable:r.Object.Shared.mutable??null,initialSharedVersion:r.Object.Shared.initialSharedVersion,objectId:r.Object.Shared.objectId}}};if(r.Object.Receiving)return{Object:{Receiving:{digest:r.Object.Receiving.digest,version:String(r.Object.Receiving.version),objectId:r.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:Zi(new Uint8Array(r.Pure))}}}return e.type==="object"?{UnresolvedObject:{objectId:e.value}}:{UnresolvedPure:{value:e.value}}}throw new Error("Invalid input")}),commands:t.transactions.map(e=>{switch(e.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in e.type?Bg.tagToString(e.type.Some):null,elements:e.objects.map(r=>Ug(r))}};case"MergeCoins":return{MergeCoins:{destination:Ug(e.destination),sources:e.sources.map(r=>Ug(r))}};case"MoveCall":{let[r,n,i]=e.target.split("::");return{MoveCall:{package:r,module:n,function:i,typeArguments:e.typeArguments,arguments:e.arguments.map(o=>Ug(o))}}}case"Publish":return{Publish:{modules:e.modules.map(r=>Zi(Uint8Array.from(r))),dependencies:e.dependencies}};case"SplitCoins":return{SplitCoins:{coin:Ug(e.coin),amounts:e.amounts.map(r=>Ug(r))}};case"TransferObjects":return{TransferObjects:{objects:e.objects.map(r=>Ug(r)),address:Ug(e.address)}};case"Upgrade":return{Upgrade:{modules:e.modules.map(r=>Zi(Uint8Array.from(r))),dependencies:e.dependencies,package:e.packageId,ticket:Ug(e.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(e)}`)})})}function Ug(t){switch(t.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:t.index};case"NestedResult":return{NestedResult:[t.index,t.resultIndex]};case"Input":return{Input:t.index}}}u();l();function dO(t){return es(Object.entries(t).map(([e,r])=>Qe({[e]:r})))}var Yp=dO({GasCoin:ir(!0),Input:Kn(Ei(),Fi()),Result:Kn(Ei(),Fi()),NestedResult:lO([Kn(Ei(),Fi()),Kn(Ei(),Fi())])}),qit=Qe({budget:hn(Oa),price:hn(Oa),owner:hn(Hw),payment:hn(Kt($p))}),jit=Qe({package:ju,module:ur(),function:ur(),typeArguments:Kt(ur()),arguments:Kt(Yp)}),Kit=Qe({name:ur(),inputs:Gw(ur(),es([Yp,Kt(Yp)])),data:Gw(ur(),bm())}),Wit=dO({MoveCall:jit,TransferObjects:Qe({objects:Kt(Yp),address:Yp}),SplitCoins:Qe({coin:Yp,amounts:Kt(Yp)}),MergeCoins:Qe({destination:Yp,sources:Kt(Yp)}),Publish:Qe({modules:Kt(F0),dependencies:Kt(ju)}),MakeMoveVec:Qe({type:hn(ur()),elements:Kt(Yp)}),Upgrade:Qe({modules:Kt(F0),dependencies:Kt(ju),package:ju,ticket:Yp}),$Intent:Kit}),Vit=dO({ImmOrOwnedObject:$p,SharedObject:Qe({objectId:ju,initialSharedVersion:Oa,mutable:Ww()}),Receiving:$p}),Git=dO({Object:Vit,Pure:Qe({bytes:F0}),UnresolvedPure:Qe({value:bm()}),UnresolvedObject:Qe({objectId:ju,version:Ts(hn(Oa)),digest:Ts(hn(ur())),initialSharedVersion:Ts(hn(Oa))})}),Hit=dO({None:ir(!0),Epoch:Oa}),D0e=Qe({version:ir(2),sender:Ng(Hw),expiration:Ng(Hit),gasData:qit,inputs:Kt(Git),commands:Kt(Wit)});u();l();var $it=50,Yit=1000n,Xit=5e10;async function L0e(t,e,r){return await tot(t,e),await eot(t,e),e.onlyTransactionKind||(await Zit(t,e),await Jit(t,e),await Qit(t,e)),await rot(t),await r()}async function Zit(t,e){t.gasConfig.price||(t.gasConfig.price=String(await $w(e).getReferenceGasPrice()))}async function Jit(t,e){if(t.gasConfig.budget)return;let r=await $w(e).dryRunTransactionBlock({transactionBlock:t.build({overrides:{gasData:{budget:String(Xit),payment:[]}}})});if(r.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${r.effects.status.error}`,{cause:r});let n=Yit*BigInt(t.gasConfig.price||1n),i=BigInt(r.effects.gasUsed.computationCost)+n,o=i+BigInt(r.effects.gasUsed.storageCost)-BigInt(r.effects.gasUsed.storageRebate);t.gasConfig.budget=String(o>i?o:i)}async function Qit(t,e){if(!t.gasConfig.payment){let n=(await $w(e).getCoins({owner:t.gasConfig.owner||t.sender,coinType:Q9})).data.filter(i=>!t.inputs.find(s=>s.Object?.ImmOrOwnedObject?i.coinObjectId===s.Object.ImmOrOwnedObject.objectId:!1)).map(i=>({objectId:i.coinObjectId,digest:i.digest,version:i.version}));if(!n.length)throw new Error("No valid gas coins found for the transaction.");t.gasConfig.payment=n.map(i=>Zn($p,i))}}async function eot(t,e){let r=t.inputs.filter(f=>f.UnresolvedObject&&!(f.UnresolvedObject.version||f.UnresolvedObject?.initialSharedVersion)),n=[...new Set(r.map(f=>bl(f.UnresolvedObject.objectId)))],i=n.length?sot(n,$it):[],o=(await Promise.all(i.map(f=>$w(e).multiGetObjects({ids:f,options:{showOwner:!0}})))).flat(),s=new Map(n.map((f,p)=>[f,o[p]])),a=Array.from(s).filter(([f,p])=>p.error).map(([f,p])=>JSON.stringify(p.error));if(a.length)throw new Error(`The following input objects are invalid: ${a.join(", ")}`);let c=o.map(f=>{if(f.error||!f.data)throw new Error(`Failed to fetch object: ${f.error}`);let p=f.data.owner,m=p&&typeof p=="object"&&"Shared"in p?p.Shared.initial_shared_version:null;return{objectId:f.data.objectId,digest:f.data.digest,version:f.data.version,initialSharedVersion:m}}),d=new Map(n.map((f,p)=>[f,c[p]]));for(let[f,p]of t.inputs.entries()){if(!p.UnresolvedObject)continue;let m,y=wr(p.UnresolvedObject.objectId),g=d.get(y);p.UnresolvedObject.initialSharedVersion??g?.initialSharedVersion?m=Sl.SharedObjectRef({objectId:y,initialSharedVersion:p.UnresolvedObject.initialSharedVersion||g?.initialSharedVersion,mutable:not(t,f)}):iot(t,f)&&(m=Sl.ReceivingRef({objectId:y,digest:p.UnresolvedObject.digest??g?.digest,version:p.UnresolvedObject.version??g?.version})),t.inputs[t.inputs.indexOf(p)]=m??Sl.ObjectRef({objectId:y,digest:p.UnresolvedObject.digest??g?.digest,version:p.UnresolvedObject.version??g?.version})}}async function tot(t,e){let{inputs:r,commands:n}=t,i=[],o=new Set;n.forEach(a=>{if(a.MoveCall){if(a.MoveCall._argumentTypes)return;if(a.MoveCall.arguments.map(f=>f.$kind==="Input"?t.inputs[f.Input]:null).some(f=>f?.UnresolvedPure||f?.UnresolvedObject)){let f=`${a.MoveCall.package}::${a.MoveCall.module}::${a.MoveCall.function}`;o.add(f),i.push(a.MoveCall)}}switch(a.$kind){case"SplitCoins":a.SplitCoins.amounts.forEach(c=>{U0e(c,Jt.U64,t)});break;case"TransferObjects":U0e(a.TransferObjects.address,Jt.Address,t);break}});let s=new Map;if(o.size>0){let a=$w(e);await Promise.all([...o].map(async c=>{let[d,f,p]=c.split("::"),m=await a.getNormalizedMoveFunction({package:d,module:f,function:p});s.set(c,m.parameters.map(y=>x0e(y)))}))}i.length&&await Promise.all(i.map(async a=>{let c=s.get(`${a.package}::${a.module}::${a.function}`);if(!c)return;let f=c.length>0&&v0e(c.at(-1))?c.slice(0,c.length-1):c;a._argumentTypes=f})),n.forEach(a=>{if(!a.MoveCall)return;let c=a.MoveCall,d=`${c.package}::${c.module}::${c.function}`,f=c._argumentTypes;if(f){if(f.length!==a.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${d}`);f.forEach((p,m)=>{let y=c.arguments[m];if(y.$kind!=="Input")return;let g=r[y.Input];if(!g.UnresolvedPure&&!g.UnresolvedObject)return;let b=g.UnresolvedPure?.value??g.UnresolvedObject?.objectId,S=SF(p.body);if(S){y.type="pure",r[r.indexOf(g)]=Sl.Pure(S.serialize(b));return}if(typeof b!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(b,null,2)}`);y.type="object";let P=g.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:b}}:g;r[y.Input]=P})}})}function rot(t){t.inputs.forEach((e,r)=>{if(e.$kind!=="Object"&&e.$kind!=="Pure")throw new Error(`Input at index ${r} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(e)}`)})}function U0e(t,e,r){if(t.$kind!=="Input")return;let n=r.inputs[t.Input];n.$kind==="UnresolvedPure"&&(r.inputs[t.Input]=Sl.Pure(e.serialize(n.UnresolvedPure.value)))}function not(t,e){let r=!1;return t.getInputUses(e,(n,i)=>{if(i.MoveCall&&i.MoveCall._argumentTypes){let o=i.MoveCall.arguments.indexOf(n);r=i.MoveCall._argumentTypes[o].ref!=="&"||r}(i.$kind==="MakeMoveVec"||i.$kind==="MergeCoins"||i.$kind==="SplitCoins")&&(r=!0)}),r}function iot(t,e){let r=!1;return t.getInputUses(e,(n,i)=>{if(i.MoveCall&&i.MoveCall._argumentTypes){let o=i.MoveCall.arguments.indexOf(n);r=oot(i.MoveCall._argumentTypes[o])||r}}),r}function oot(t){return typeof t.body!="object"||!("datatype"in t.body)?!1:t.body.datatype.package==="0x2"&&t.body.datatype.module==="transfer"&&t.body.datatype.type==="Receiving"}function $w(t){if(!t.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return t.client}function sot(t,e){return Array.from({length:Math.ceil(t.length/e)},(r,n)=>t.slice(n*e,n*e+e))}u();l();function z0e(t){function e(r){return t(r)}return e.system=()=>e("0x5"),e.clock=()=>e("0x6"),e.random=()=>e("0x8"),e.denyList=()=>e("0x403"),e.option=({type:r,value:n})=>i=>i.moveCall({typeArguments:[r],target:`0x1::option::${n===null?"none":"some"}`,arguments:n===null?[]:[i.object(n)]}),e}u();l();function F0e(t){function e(r,n){if(typeof r=="string")return t(fO(r).serialize(n));if(r instanceof Uint8Array||GI(r))return t(r);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return e.u8=r=>t(Jt.U8.serialize(r)),e.u16=r=>t(Jt.U16.serialize(r)),e.u32=r=>t(Jt.U32.serialize(r)),e.u64=r=>t(Jt.U64.serialize(r)),e.u128=r=>t(Jt.U128.serialize(r)),e.u256=r=>t(Jt.U256.serialize(r)),e.bool=r=>t(Jt.Bool.serialize(r)),e.string=r=>t(Jt.String.serialize(r)),e.address=r=>t(Jt.Address.serialize(r)),e.id=e.address,e.vector=(r,n)=>t(Jt.vector(fO(r)).serialize(n)),e.option=(r,n)=>t(Jt.option(fO(r)).serialize(n)),e}function fO(t){switch(t){case"u8":return Jt.u8();case"u16":return Jt.u16();case"u32":return Jt.u32();case"u64":return Jt.u64();case"u128":return Jt.u128();case"u256":return Jt.u256();case"bool":return Jt.bool();case"string":return Jt.string();case"id":case"address":return Jt.Address}let e=t.match(/^(vector|option)<(.+)>$/);if(e){let[r,n]=e.slice(1);return r==="vector"?Jt.vector(fO(n)):Jt.option(fO(n))}throw new Error(`Invalid Pure type name: ${t}`)}u();l();u();l();function q0e(t,e){let r=Array.from(`${t}::`).map(i=>i.charCodeAt(0)),n=new Uint8Array(r.length+e.length);return n.set(r),n.set(e,r.length),k0e(n,{dkLen:32})}function j0e(t){return wr(t).replace("0x","")}var j0=class t{constructor(e){this.version=2,this.sender=e?.sender??null,this.expiration=e?.expiration??null,this.inputs=e?.inputs??[],this.commands=e?.commands??[],this.gasData=e?.gasData??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(e){let n=Jt.TransactionKind.parse(e).ProgrammableTransaction;if(!n)throw new Error("Unable to deserialize from bytes.");return t.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:n.inputs,commands:n.commands})}static fromBytes(e){let n=Jt.TransactionData.parse(e)?.V1,i=n.kind.ProgrammableTransaction;if(!n||!i)throw new Error("Unable to deserialize from bytes.");return t.restore({version:2,sender:n.sender,expiration:n.expiration,gasData:n.gasData,inputs:i.inputs,commands:i.commands})}static restore(e){return e.version===2?new t(Zn(JI,e)):new t(Zn(JI,N0e(e)))}static getDigestFromBytes(e){let r=q0e("TransactionData",e);return Cg(r)}get gasConfig(){return this.gasData}set gasConfig(e){this.gasData=e}build({maxSizeBytes:e=1/0,overrides:r,onlyTransactionKind:n}={}){let i=this.inputs,o=this.commands,s={ProgrammableTransaction:{inputs:i,commands:o}};if(n)return Jt.TransactionKind.serialize(s,{maxSize:e}).toBytes();let a=r?.expiration??this.expiration,c=r?.sender??this.sender,d={...this.gasData,...r?.gasConfig,...r?.gasData};if(!c)throw new Error("Missing transaction sender");if(!d.budget)throw new Error("Missing gas budget");if(!d.payment)throw new Error("Missing gas payment");if(!d.price)throw new Error("Missing gas price");let f={sender:j0e(c),expiration:a||{None:!0},gasData:{payment:d.payment,owner:j0e(this.gasData.owner??c),price:BigInt(d.price),budget:BigInt(d.budget)},kind:{ProgrammableTransaction:{inputs:i,commands:o}}};return Jt.TransactionData.serialize({V1:f},{maxSize:e}).toBytes()}addInput(e,r){let n=this.inputs.length;return this.inputs.push(r),{Input:n,type:e,$kind:"Input"}}getInputUses(e,r){this.mapArguments((n,i)=>(n.$kind==="Input"&&n.Input===e&&r(n,i),n))}mapArguments(e){for(let r of this.commands)switch(r.$kind){case"MoveCall":r.MoveCall.arguments=r.MoveCall.arguments.map(i=>e(i,r));break;case"TransferObjects":r.TransferObjects.objects=r.TransferObjects.objects.map(i=>e(i,r)),r.TransferObjects.address=e(r.TransferObjects.address,r);break;case"SplitCoins":r.SplitCoins.coin=e(r.SplitCoins.coin,r),r.SplitCoins.amounts=r.SplitCoins.amounts.map(i=>e(i,r));break;case"MergeCoins":r.MergeCoins.destination=e(r.MergeCoins.destination,r),r.MergeCoins.sources=r.MergeCoins.sources.map(i=>e(i,r));break;case"MakeMoveVec":r.MakeMoveVec.elements=r.MakeMoveVec.elements.map(i=>e(i,r));break;case"Upgrade":r.Upgrade.ticket=e(r.Upgrade.ticket,r);break;case"$Intent":let n=r.$Intent.inputs;r.$Intent.inputs={};for(let[i,o]of Object.entries(n))r.$Intent.inputs[i]=Array.isArray(o)?o.map(s=>e(s,r)):e(o,r);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${r.$kind}`)}}replaceCommand(e,r){if(!Array.isArray(r)){this.commands[e]=r;return}let n=r.length-1;this.commands.splice(e,1,...r),n!==0&&this.mapArguments(i=>{switch(i.$kind){case"Result":i.Result>e&&(i.Result+=n);break;case"NestedResult":i.NestedResult[0]>e&&(i.NestedResult[0]+=n);break}return i})}getDigest(){let e=this.build({onlyTransactionKind:!1});return t.getDigestFromBytes(e)}snapshot(){return Zn(JI,this)}};u();l();function dY(t){if(typeof t=="string")return wr(t);if(t.Object)return t.Object.ImmOrOwnedObject?wr(t.Object.ImmOrOwnedObject.objectId):t.Object.Receiving?wr(t.Object.Receiving.objectId):wr(t.Object.SharedObject.objectId);if(t.UnresolvedObject)return wr(t.UnresolvedObject.objectId)}var V0e=t=>{throw TypeError(t)},mY=(t,e,r)=>e.has(t)||V0e("Cannot "+r),cn=(t,e,r)=>(mY(t,e,"read from private field"),r?r.call(t):e.get(t)),pO=(t,e,r)=>e.has(t)?V0e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Yw=(t,e,r,n)=>(mY(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),zg=(t,e,r)=>(mY(t,e,"access private method"),r),mO,yO,Xw,mn,Xp,wF,yY,pY,gY;function K0e(t,e=1/0){let r={$kind:"Result",Result:t},n=[],i=o=>n[o]??(n[o]={$kind:"NestedResult",NestedResult:[t,o]});return new Proxy(r,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(o,s){if(s in o)return Reflect.get(o,s);if(s===Symbol.iterator)return function*(){let c=0;for(;c<e;)yield i(c),c++};if(typeof s=="symbol")return;let a=parseInt(s,10);if(!(Number.isNaN(a)||a<0))return i(a)}})}var G0e=Symbol.for("@mysten/transaction");function AF(t){return!!t&&typeof t=="object"&&t[G0e]===!0}var W0e={buildPlugins:new Map,serializationPlugins:new Map},fY=Symbol.for("@mysten/transaction/registry");function hO(){try{let t=globalThis;return t[fY]||(t[fY]=W0e),t[fY]}catch{return W0e}}var aot=class hY{constructor(){pO(this,Xp),pO(this,mO),pO(this,yO),pO(this,Xw,new Map),pO(this,mn),this.object=z0e(r=>{if(typeof r=="function")return this.object(r(this));if(typeof r=="object"&&uO(Ii,r))return r;let n=dY(r),i=cn(this,mn).inputs.find(o=>n===dY(o));return i?.Object?.SharedObject&&typeof r=="object"&&r.Object?.SharedObject&&(i.Object.SharedObject.mutable=i.Object.SharedObject.mutable||r.Object.SharedObject.mutable),i?{$kind:"Input",Input:cn(this,mn).inputs.indexOf(i),type:"object"}:cn(this,mn).addInput("object",typeof r=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:wr(r)}}:r)});let e=hO();Yw(this,mn,new j0),Yw(this,yO,[...e.buildPlugins.values()]),Yw(this,mO,[...e.serializationPlugins.values()])}static fromKind(e){let r=new hY;return Yw(r,mn,j0.fromKindBytes(typeof e=="string"?xa(e):e)),r}static from(e){let r=new hY;return AF(e)?Yw(r,mn,new j0(e.getData())):typeof e!="string"||!e.startsWith("{")?Yw(r,mn,j0.fromBytes(typeof e=="string"?xa(e):e)):Yw(r,mn,j0.restore(JSON.parse(e))),r}static registerGlobalSerializationPlugin(e,r){hO().serializationPlugins.set(e,r??e)}static unregisterGlobalSerializationPlugin(e){hO().serializationPlugins.delete(e)}static registerGlobalBuildPlugin(e,r){hO().buildPlugins.set(e,r??e)}static unregisterGlobalBuildPlugin(e){hO().buildPlugins.delete(e)}addSerializationPlugin(e){cn(this,mO).push(e)}addBuildPlugin(e){cn(this,yO).push(e)}addIntentResolver(e,r){if(cn(this,Xw).has(e)&&cn(this,Xw).get(e)!==r)throw new Error(`Intent resolver for ${e} already exists`);cn(this,Xw).set(e,r)}setSender(e){cn(this,mn).sender=e}setSenderIfNotSet(e){cn(this,mn).sender||(cn(this,mn).sender=e)}setExpiration(e){cn(this,mn).expiration=e?Zn(aY,e):null}setGasPrice(e){cn(this,mn).gasConfig.price=String(e)}setGasBudget(e){cn(this,mn).gasConfig.budget=String(e)}setGasBudgetIfNotSet(e){cn(this,mn).gasData.budget==null&&(cn(this,mn).gasConfig.budget=String(e))}setGasOwner(e){cn(this,mn).gasConfig.owner=e}setGasPayment(e){cn(this,mn).gasConfig.payment=e.map(r=>Zn($p,r))}get blockData(){return lY(cn(this,mn).snapshot())}getData(){return cn(this,mn).snapshot()}get[G0e](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:F0e(e=>GI(e)?cn(this,mn).addInput("pure",{$kind:"Pure",Pure:{bytes:e.toBase64()}}):cn(this,mn).addInput("pure",uO(sY,e)?Zn(sY,e):e instanceof Uint8Array?Sl.Pure(e):{$kind:"UnresolvedPure",UnresolvedPure:{value:e}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...e){return this.object(Sl.ObjectRef(...e))}receivingRef(...e){return this.object(Sl.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(Sl.SharedObjectRef(...e))}add(e){if(typeof e=="function")return e(this);let r=cn(this,mn).commands.push(e);return K0e(r-1)}splitCoins(e,r){let n=vd.SplitCoins(typeof e=="string"?this.object(e):zg(this,Xp,yY).call(this,e),r.map(o=>typeof o=="number"||typeof o=="bigint"||typeof o=="string"?this.pure.u64(o):zg(this,Xp,wF).call(this,o))),i=cn(this,mn).commands.push(n);return K0e(i-1,r.length)}mergeCoins(e,r){return this.add(vd.MergeCoins(this.object(e),r.map(n=>this.object(n))))}publish({modules:e,dependencies:r}){return this.add(vd.Publish({modules:e,dependencies:r}))}upgrade({modules:e,dependencies:r,package:n,ticket:i}){return this.add(vd.Upgrade({modules:e,dependencies:r,package:n,ticket:this.object(i)}))}moveCall({arguments:e,...r}){return this.add(vd.MoveCall({...r,arguments:e?.map(n=>zg(this,Xp,wF).call(this,n))}))}transferObjects(e,r){return this.add(vd.TransferObjects(e.map(n=>this.object(n)),typeof r=="string"?this.pure.address(r):zg(this,Xp,wF).call(this,r)))}makeMoveVec({type:e,elements:r}){return this.add(vd.MakeMoveVec({type:e,elements:r.map(n=>this.object(n))}))}serialize(){return JSON.stringify(lY(cn(this,mn).snapshot()))}async toJSON(e={}){return await this.prepareForSerialization(e),JSON.stringify(Zn(D0e,cn(this,mn).snapshot()),(r,n)=>typeof n=="bigint"?n.toString():n,2)}async sign(e){let{signer:r,...n}=e,i=await this.build(n);return r.signTransaction(i)}async build(e={}){return await this.prepareForSerialization(e),await zg(this,Xp,pY).call(this,e),cn(this,mn).build({onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await zg(this,Xp,pY).call(this,e),cn(this,mn).getDigest()}async prepareForSerialization(e){let r=new Set;for(let i of cn(this,mn).commands)i.$Intent&&r.add(i.$Intent.name);let n=[...cn(this,mO)];for(let i of r)if(!e.supportedIntents?.includes(i)){if(!cn(this,Xw).has(i))throw new Error(`Missing intent resolver for ${i}`);n.push(cn(this,Xw).get(i))}await zg(this,Xp,gY).call(this,n,e)}};mO=new WeakMap;yO=new WeakMap;Xw=new WeakMap;mn=new WeakMap;Xp=new WeakSet;wF=function(t){return GI(t)?this.pure(t):zg(this,Xp,yY).call(this,t)};yY=function(t){return typeof t=="function"?Zn(Ii,t(this)):Zn(Ii,t)};pY=async function(t){if(!t.onlyTransactionKind&&!cn(this,mn).sender)throw new Error("Missing transaction sender");await zg(this,Xp,gY).call(this,[...cn(this,yO),L0e],t)};gY=async function(t,e){let r=n=>{if(n>=t.length)return()=>{};let i=t[n];return async()=>{let o=r(n+1),s=!1,a=!1;if(await i(cn(this,mn),e,async()=>{if(s)throw new Error(`next() was call multiple times in TransactionPlugin ${n}`);s=!0,await o(),a=!0}),!s)throw new Error(`next() was not called in TransactionPlugin ${n}`);if(!a)throw new Error(`next() was not awaited in TransactionPlugin ${n}`)}};await r(0)()};var Fg=aot;u();l();var EF="CoinWithBalance",H0e=oO("0x2::sui::SUI");function bY({type:t=H0e,balance:e,useGasCoin:r=!0}){return n=>{n.addIntentResolver(EF,uot);let i=t==="gas"?t:oO(t);return n.add(vd.Intent({name:EF,inputs:{},data:{type:i===H0e&&r?"gas":i,balance:BigInt(e)}}))}}var cot=Qe({type:ur(),balance:ZI()});async function uot(t,e,r){let n=new Set,i=new Map;if(!t.sender)throw new Error("Sender must be set to resolve CoinWithBalance");for(let d of t.commands)if(d.$kind==="$Intent"&&d.$Intent.name===EF){let{type:f,balance:p}=Zn(cot,d.$Intent.data);f!=="gas"&&p>0n&&n.add(f),i.set(f,(i.get(f)??0n)+p)}let o=new Set;for(let d of t.inputs)d.Object?.ImmOrOwnedObject&&o.add(d.Object.ImmOrOwnedObject.objectId),d.UnresolvedObject?.objectId&&o.add(d.UnresolvedObject.objectId);let s=new Map,a=$w(e);await Promise.all([...n].map(async d=>{s.set(d,await lot({coinType:d,balance:i.get(d),client:a,owner:t.sender,usedIds:o}))}));let c=new Map;c.set("gas",{$kind:"GasCoin",GasCoin:!0});for(let[d,f]of t.commands.entries()){if(f.$kind!=="$Intent"||f.$Intent.name!==EF)continue;let{type:p,balance:m}=f.$Intent.data;if(m===0n){t.replaceCommand(d,vd.MoveCall({target:"0x2::coin::zero",typeArguments:[p]}));continue}let y=[];if(!c.has(p)){let[g,...b]=s.get(p).map(S=>t.addInput("object",Sl.ObjectRef({objectId:S.coinObjectId,digest:S.digest,version:S.version})));b.length>0&&y.push(vd.MergeCoins(g,b)),c.set(p,g)}y.push(vd.SplitCoins(c.get(p),[t.addInput("pure",Sl.Pure(Jt.u64().serialize(m)))])),t.replaceCommand(d,y),t.mapArguments(g=>g.$kind==="Result"&&g.Result===d?{$kind:"NestedResult",NestedResult:[d+y.length-1,0]}:g)}return r()}async function lot({coinType:t,balance:e,client:r,owner:n,usedIds:i}){let o=e,s=[];return a();async function a(c=null){let{data:d,hasNextPage:f,nextCursor:p}=await r.getCoins({owner:n,coinType:t,cursor:c}),m=d.sort((y,g)=>Number(BigInt(g.balance)-BigInt(y.balance)));for(let y of m){if(i.has(y.coinObjectId))continue;let g=BigInt(y.balance);if(s.push(y),o-=g,o<=0)return s}if(f)return a(p);throw new Error(`Not enough coins of type ${t} to satisfy requested balance`)}}u();l();u();l();u();l();u();l();var $0e="1.18.0",Y0e="1.40.0";u();l();var dot={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"},IF=class extends Error{},QI=class extends IF{constructor(e,r){super(e),this.code=r,this.type=dot[r]??"ServerError"}},TF=class extends IF{constructor(e,r,n){super(e),this.status=r,this.statusText=n}};u();l();var X0e=t=>{throw TypeError(t)},SY=(t,e,r)=>e.has(t)||X0e("Cannot "+r),bo=(t,e,r)=>(SY(t,e,"read from private field"),r?r.call(t):e.get(t)),Zw=(t,e,r)=>e.has(t)?X0e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),eT=(t,e,r,n)=>(SY(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Z0e=(t,e,r)=>(SY(t,e,"access private method"),r),fot=(t,e,r,n)=>({set _(i){eT(t,e,i,r)},get _(){return bo(t,e,n)}}),Jw,gO,qg,Qw,bO,tT,kF,J0e,Q0e;function pot(t){let e=new URL(t);return e.protocol=e.protocol.replace("http","ws"),e.toString()}var hot={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5},vF=class{constructor(e,r={}){if(Zw(this,kF),Zw(this,Jw,0),Zw(this,gO,0),Zw(this,qg,null),Zw(this,Qw,null),Zw(this,bO,new Set),Zw(this,tT,new Map),this.endpoint=e,this.options={...hot,...r},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=pot(this.endpoint))}async makeRequest(e,r){let n=await Z0e(this,kF,J0e).call(this);return new Promise((i,o)=>{eT(this,Jw,bo(this,Jw)+1),bo(this,tT).set(bo(this,Jw),{resolve:i,reject:o,timeout:setTimeout(()=>{bo(this,tT).delete(bo(this,Jw)),o(new Error(`Request timeout: ${e}`))},this.options.callTimeout)}),n.send(JSON.stringify({jsonrpc:"2.0",id:bo(this,Jw),method:e,params:r}))}).then(({error:i,result:o})=>{if(i)throw new QI(i.message,i.code);return o})}async subscribe(e){let r=new _Y(e);return bo(this,bO).add(r),await r.subscribe(this),()=>r.unsubscribe(this)}};Jw=new WeakMap;gO=new WeakMap;qg=new WeakMap;Qw=new WeakMap;bO=new WeakMap;tT=new WeakMap;kF=new WeakSet;J0e=function(){return bo(this,Qw)?bo(this,Qw):(eT(this,Qw,new Promise(t=>{bo(this,qg)?.close(),eT(this,qg,new this.options.WebSocketConstructor(this.endpoint)),bo(this,qg).addEventListener("open",()=>{eT(this,gO,0),t(bo(this,qg))}),bo(this,qg).addEventListener("close",()=>{fot(this,gO)._++,bo(this,gO)<=this.options.maxReconnects&&setTimeout(()=>{Z0e(this,kF,Q0e).call(this)},this.options.reconnectTimeout)}),bo(this,qg).addEventListener("message",({data:e})=>{let r;try{r=JSON.parse(e)}catch(n){console.error(new Error(`Failed to parse RPC message: ${e}`,{cause:n}));return}if("id"in r&&r.id!=null&&bo(this,tT).has(r.id)){let{resolve:n,timeout:i}=bo(this,tT).get(r.id);clearTimeout(i),n(r)}else if("params"in r){let{params:n}=r;bo(this,bO).forEach(i=>{i.subscriptionId===n.subscription&&n.subscription===i.subscriptionId&&i.onMessage(n.result)})}})})),bo(this,Qw))};Q0e=async function(){return bo(this,qg)?.close(),eT(this,Qw,null),Promise.allSettled([...bo(this,bO)].map(t=>t.subscribe(this)))};var _Y=class{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){let{subscriptionId:r}=this;return this.subscribed=!1,r==null?!1:(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[r]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;let r=await e.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=r)}};var e_e=t=>{throw TypeError(t)},EY=(t,e,r)=>e.has(t)||e_e("Cannot "+r),xf=(t,e,r)=>(EY(t,e,"read from private field"),r?r.call(t):e.get(t)),xF=(t,e,r)=>e.has(t)?e_e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),wY=(t,e,r,n)=>(EY(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),mot=(t,e,r)=>(EY(t,e,"access private method"),r),_O,Zp,SO,AY,t_e,PF=class{constructor(e){xF(this,AY),xF(this,_O,0),xF(this,Zp),xF(this,SO),wY(this,Zp,e)}fetch(e,r){let n=xf(this,Zp).fetch??fetch;if(!n)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return n(e,r)}async request(e){wY(this,_O,xf(this,_O)+1);let r=await this.fetch(xf(this,Zp).rpc?.url??xf(this,Zp).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":$0e,"Client-Target-Api-Version":Y0e,"Client-Request-Method":e.method,...xf(this,Zp).rpc?.headers},body:JSON.stringify({jsonrpc:"2.0",id:xf(this,_O),method:e.method,params:e.params})});if(!r.ok)throw new TF(`Unexpected status code: ${r.status}`,r.status,r.statusText);let n=await r.json();if("error"in n&&n.error!=null)throw new QI(n.error.message,n.error.code);return n.result}async subscribe(e){let r=await mot(this,AY,t_e).call(this).subscribe(e);return async()=>!!await r()}};_O=new WeakMap;Zp=new WeakMap;SO=new WeakMap;AY=new WeakSet;t_e=function(){if(!xf(this,SO)){let t=xf(this,Zp).WebSocketConstructor??WebSocket;if(!t)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");wY(this,SO,new vF(xf(this,Zp).websocket?.url??xf(this,Zp).url,{WebSocketConstructor:t,...xf(this,Zp).websocket}))}return xf(this,SO)};u();l();var yot=Symbol.for("@mysten/SuiClient");var eA=class{get[yot](){return!0}constructor(e){this.transport=e.transport??new PF({url:e.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(e){if(!e.owner||!Id(wr(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit]})}async getAllCoins(e){if(!e.owner||!Id(wr(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit]})}async getBalance(e){if(!e.owner||!Id(wr(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[e.owner,e.coinType]})}async getAllBalances(e){if(!e.owner||!Id(wr(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner]})}async getCoinMetadata(e){return await this.transport.request({method:"suix_getCoinMetadata",params:[e.coinType]})}async getTotalSupply(e){return await this.transport.request({method:"suix_getTotalSupply",params:[e.coinType]})}async call(e,r){return await this.transport.request({method:e,params:r})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e.package,e.module,e.function]})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e.package]})}async getNormalizedMoveModule(e){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e.package,e.module]})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e.package,e.module,e.function]})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e.package,e.module,e.struct]})}async getOwnedObjects(e){if(!e.owner||!Id(wr(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit]})}async getObject(e){if(!e.id||!HI(bl(e.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options]})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options]})}async multiGetObjects(e){if(e.ids.forEach(n=>{if(!n||!HI(bl(n)))throw new Error(`Invalid Sui Object id ${n}`)}),e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options]})}async queryTransactionBlocks(e){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,(e.order||"descending")==="descending"]})}async getTransactionBlock(e){if(!hF(e.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options]})}async multiGetTransactionBlocks(e){if(e.digests.forEach(n=>{if(!hF(n))throw new Error(`Invalid Transaction digest ${n}`)}),e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options]})}async executeTransactionBlock({transactionBlock:e,signature:r,options:n,requestType:i}){let o=await this.transport.request({method:"sui_executeTransactionBlock",params:[typeof e=="string"?e:Zi(e),Array.isArray(r)?r:[r],n]});if(i==="WaitForLocalExecution")try{await this.waitForTransaction({digest:o.digest})}catch{}return o}async signAndExecuteTransaction({transaction:e,signer:r,...n}){let i;e instanceof Uint8Array?i=e:(e.setSenderIfNotSet(r.toSuiAddress()),i=await e.build({client:this}));let{signature:o,bytes:s}=await r.signTransaction(i);return this.executeTransactionBlock({transactionBlock:s,signature:o,...n})}async getTotalTransactionBlocks(){let e=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(e)}async getReferenceGasPrice(){let e=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(e)}async getStakes(e){if(!e.owner||!Id(wr(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner]})}async getStakesByIds(e){return e.stakedSuiIds.forEach(r=>{if(!r||!HI(bl(r)))throw new Error(`Invalid Sui Stake id ${r}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(e){return await this.transport.request({method:"suix_queryEvents",params:[e.query,e.cursor,e.limit,(e.order||"descending")==="descending"]})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage})}async devInspectTransactionBlock(e){let r;if(AF(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),r=Zi(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof e.transactionBlock=="string")r=e.transactionBlock;else if(e.transactionBlock instanceof Uint8Array)r=Zi(e.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,r,e.gasPrice?.toString(),e.epoch]})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:[typeof e.transactionBlock=="string"?e.transactionBlock:Zi(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!HI(bl(e.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit]})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name]})}async getLatestCheckpointSequenceNumber(){let e=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(e)}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id]})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,e?.limit,e.descendingOrder]})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[e?.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(e){return await this.transport.request({method:"suix_getEpochMetrics",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[e?.descendingOrder]})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){let e=await this.getCheckpoint({id:"0"}),r=Kp(e.digest);return gm(r.slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name]})}async resolveNameServiceNames({format:e="dot",...r}){let{nextCursor:n,hasNextPage:i,data:o}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[r.address,r.cursor,r.limit]});return{hasNextPage:i,nextCursor:n,data:o.map(s=>_0e(s,e))}}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[e?.version]})}async waitForTransaction({signal:e,timeout:r=60*1e3,pollInterval:n=2*1e3,...i}){let o=AbortSignal.timeout(r),s=new Promise((a,c)=>{o.addEventListener("abort",()=>c(o.reason))});for(s.catch(()=>{});!o.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(i)}catch{await Promise.race([new Promise(c=>setTimeout(c,n)),s])}}throw o.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}};var Ra=t=>{let e=Se.getRpcProxyUrl(t);if(!e)throw new Error(`Unable to instantiate client for ${t}`);return new eA({url:e})};async function OF({multichainTransaction:t,gasEstimation:e}){if(!e)return t;let{transaction:r,networkID:n}=t,i=Fg.from(r);i.setGasBudget(BigInt(e.gasBudget.toString()));let o=await i.build({client:Ra(n)});return{...t,transaction:o}}var r_e={...M0,transactionSettingsRowFeeDescription:void 0,isPendingTransactionConfirmed:function(t){throw new Error("Function not implemented for Sui.")},isPendingTransactionMined:function(t){throw new Error("Function not implemented for Sui.")},networkFeeRowString:function(t){return t||""},isPendingTransactionsEqual:function(t,e){return t.data.digest===e.data.digest},sendSuccessRedirect:()=>"history",droppedTransactionThresholdMs:tt({minutes:5}),amountForGasEstimation:1,onBeforeSend:OF,supportsNetworkSettings:!1};var got=new OI({solana:r0e,ethereum:Jbe,polygon:t0e,monad:e0e,base:Ybe,arbitrum:$be,bitcoin:Zbe,sui:r_e,hypercore:Qbe}),ia=PI(got);u();l();u();l();u();l();var i_e=new le.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),wO=new le.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),RF=new le.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),CF=new le.PublicKey("DeJBGdMFa1uynnnKiwrVioatTuHmNLpyFKnmB5kaFdzQ"),rT=new le.PublicKey("11111111111111111111111111111111");var TY=(t,e)=>{if(!(t.toString()===rT.toString()||t.toString()===e.toString()))return t},BF=async(t,e,r)=>{let n={programId:r};return(await e.getParsedTokenAccountsByOwner(t,n,"confirmed")).value.map(({pubkey:a,account:c})=>{let{mint:d,owner:f,tokenAmount:p,delegate:m}=c.data.parsed.info,y=new le.PublicKey(f),g={pubkey:a,mintAddress:d,owner:y,tokenAmount:p};return m&&(g.delegate=TY(new le.PublicKey(m),y)),g})},Ku=(t,e)=>{let r=tA(t);return Jp(r,e)},Jp=(t,e)=>{let r={commitment:"processed",fetch:uge};if(e&&(r.httpHeaders=e),t==="localhost")return new le.Connection(Xbe,r);if(t==="mainnet-beta"){let n=Se.getRpcProxyUrl("solana:101");if(!n)throw new Error("Unable to find RPC Proxy Url for Solana Mainnet");return new le.Connection(n,r)}return new le.Connection((0,le.clusterApiUrl)(t),r)},tA=t=>{switch(t){case qe.Solana.Mainnet:return"mainnet-beta";case qe.Solana.Testnet:return"testnet";case qe.Solana.Devnet:return"devnet";case qe.Solana.Localnet:return"localhost"}};u();l();u();l();u();l();var oa=[];for(let t=0;t<256;++t)oa.push((t+256).toString(16).slice(1));function o_e(t,e=0){return(oa[t[e+0]]+oa[t[e+1]]+oa[t[e+2]]+oa[t[e+3]]+"-"+oa[t[e+4]]+oa[t[e+5]]+"-"+oa[t[e+6]]+oa[t[e+7]]+"-"+oa[t[e+8]]+oa[t[e+9]]+"-"+oa[t[e+10]]+oa[t[e+11]]+oa[t[e+12]]+oa[t[e+13]]+oa[t[e+14]]+oa[t[e+15]]).toLowerCase()}u();l();var kY,bot=new Uint8Array(16);function vY(){if(!kY){if(typeof self.crypto>"u"||!self.crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");kY=self.crypto.getRandomValues.bind(self.crypto)}return kY(bot)}u();l();u();l();var _ot=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),xY={randomUUID:_ot};function Sot(t,e,r){if(xY.randomUUID&&!e&&!t)return xY.randomUUID();t=t||{};let n=t.random??t.rng?.()??vY();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[r+i]=n[i];return e}return o_e(n)}var nT=Sot;u();l();u();l();u();l();var X1r=v.union([v.literal("UNSET"),v.literal("ECONOMICAL"),v.literal("CONSERVATIVE")]);function PY(t){return{getRawTransaction:r=>e("getrawtransaction",[r,2]),sendRawTransaction:r=>e("sendrawtransaction",[r]),estimateSmartFee:(r,n)=>e("estimatesmartfee",[r,n??"CONSERVATIVE"])};async function e(r,n){let i=await fn.headers({"Content-type":"application/json"}).post(t,{method:r,params:n});if("error"in i.data&&i.data.error)throw new Error("bitcoin rpc error:"+JSON.stringify(i.data.error));return i.data.result}}u();l();var wot=["eth_blockNumber","eth_call","eth_cancelPrivateTransaction","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_protocolVersion","eth_sendPrivateTransaction","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","net_listening","net_version","web3_clientVersion","web3_sha3"],Pf=wot.reduce((t,e)=>({...t,[e]:async(r,n)=>{let i,o=JSON.stringify({jsonrpc:"2.0",id:1,method:e,params:q$[e].params.parse(n)});try{return i=(await fn.headers({Accept:"application/json","Content-type":"application/json"}).post(r,o)).data,q$[e].response.parse(i)}catch(s){throw console.error("RPC request failed",r,e,n,i),s}}}),{});var Aot={[qe.Bitcoin.Mainnet]:"https://btc-mainnet.phantom.app",[qe.Bitcoin.Testnet]:"https://btc-mainnet.phantom.dev"},xd=t=>{if(!Se.isBitcoinNetworkID(t))throw new Error(`Unsupported network id: ${t}`);return PY(Aot[t])};u();l();var s_e=t=>{if(!t)return Jp("mainnet-beta");switch(t){case qe.Solana.Testnet:return Jp("testnet");case qe.Solana.Devnet:return Jp("devnet");case qe.Solana.Mainnet:return Jp("mainnet-beta");case qe.Solana.Localnet:return Jp("localhost")}};var MF={[qe.Ethereum.Mainnet]:5e3,[qe.Ethereum.Sepolia]:5e3,[qe.Polygon.Mainnet]:5e3,[qe.Polygon.Amoy]:5e3,[qe.Base.Mainnet]:5e3,[qe.Base.Sepolia]:5e3,[qe.Monad.Mainnet]:5e3,[qe.Monad.Testnet]:5e3,[qe.Monad.Devnet]:5e3,[qe.Bitcoin.Mainnet]:5e3,[qe.Bitcoin.Testnet]:5e3,[qe.Arbitrum.Mainnet]:5e3,[qe.Arbitrum.Sepolia]:5e3,[qe.Hypercore.Mainnet]:5e3,[qe.Hypercore.Testnet]:5e3},c_e=[],Iot=t=>{c_e.push(t)},u_e=[],Tot=t=>{u_e.push(t)},Of=async t=>await t.get("pendingTransactions")||{},K0=async(t,e)=>{let n=(await Of(e))[t.id];if(n)return n},Pd=async(t,e)=>{try{await NF(e,async r=>(r[t.id]&&delete r[t.id],r)),u_e.forEach(r=>{try{r(t,e)}catch{}})}catch(r){at.addBreadcrumb("transaction","Error removing pending transaction","error"),at.captureError(r,"transaction")}},a_e=async(t,e)=>{let r=await Of(e);return Object.values(r).filter(i=>i.networkID===t.networkID&&i.ownerAddress===t.ownerAddress&&i.id!==t.id)},rA=async(t,e)=>{try{await NF(e,async r=>(r[t.id]&&(r[t.id]=t),r)),c_e.forEach(r=>{try{r(t,e)}catch{}})}catch(r){at.addBreadcrumb("transaction","Error updating pending transaction","error"),at.captureError(r,"transaction")}},l_e=async(t,e,r)=>{try{let n=d_e(t),i=!1;(n.networkID==="bip122:000000000019d6689c085ae165831e93"||n.networkID==="bip122:000000000933ea01ad0ee984209779ba")&&(i=await Pot(n));let o=!1;if(await NF(r,async s=>{let a=!1;for(let c of Object.values(s))if(e(c,n)){a=!0;break}return!a&&!i&&(s[n.id]=n,o=!0),s}),o)return oT(n,r),1}catch(n){at.captureError(n,"transaction")}return 0},AO={},kot=async(t,e,r)=>{let n=await K0(e,r);if(!n)return!0;if(!n.networkID)return at.captureMessage("Removing pending tx where networkID is null","history"),await Pd(n,r),!0;let i=jp(t);if((await a_e(n,r)).some(c=>c.data.nonce<n.data.nonce&&!ia.get(n.networkID).isPendingTransactionMined(c)))return await Qp(n,r,MF[n.networkID]),!0;let a=n.data.transactions.find(c=>c.confirmations>0);return n.data.transactions.forEach(async c=>{if(a&&c.hash!==a.hash||AO[c.hash]!==void 0)return;let d=null;try{let m=0,y;for(;!d&&m<3;)try{AO[c.hash]=bi(()=>i.getTransactionReceipt(c.hash),()=>!0),d=await AO[c.hash],await xg(1e3)}catch(g){y=g}finally{++m}if(y&&!d)throw y}catch(m){at.captureError(m,"transaction"),delete AO[c.hash],await Qp(n,r,MF[n.networkID]);return}delete AO[c.hash];let f=await K0(n,r),p=f?.data.transactions.find(m=>m.hash===c.hash);if(!d){if(f&&p){if(p.confirmations>0)p.confirmations=0,rA(f,r);else if(Date.now()-f.data.transactions[f.data.transactions.length-1].timestamp>ia.get(e.networkID).droppedTransactionThresholdMs){at.addBreadcrumb("transaction","Removing long age TX","debug"),Pd(f,r);return}else try{if(!(await a_e(f,r)).some(P=>P.data.nonce<f.data.nonce)&&await bi(()=>i.getTransactionCount(f.ownerAddress),()=>!0)!==f.data.nonce&&f.data.transactions.every(U=>U.confirmations===0)){Pd(f,r);return}}catch(b){at.captureError(b,"transaction")}let m=Date.now()-p.timestamp,y=30*60*1e3;m<10*60*1e3?y=5*1e3:m<20*60*1e3?y=15*1e3:m<40*60*1e3?y=30*1e3:m<2*60*60*1e3?y=1*60*1e3:m<24*60*60*1e3&&(y=5*60*1e3),await Qp(n,r,y)}return}d.confirmations>=Bge[t]?Pd(n,r):f&&p&&(p.confirmations=d.confirmations,d.status===0&&(p.error={message:"Reverted"}),rA(f,r),await Qp(n,r,MF[n.networkID]))}),!0},EO={},vot=async(t,e,r)=>{let n=await K0(e,r);if(!n)return!0;if(!EO[n.id]){let i=s_e(t),o;try{let s=0,a;for(;(!o||o.value===null)&&s<10;)try{EO[n.id]=bi(()=>i.getSignatureStatuses([n.data.signature]),()=>!0);let c=await EO[n.id];o={...c,value:c.value?.[0]},await xg(2e3)}catch(c){a=c}finally{++s}if(a&&(!o||o.value===null))throw a}catch(s){return at.captureError(s,"transaction"),delete EO[n.id],await Qp(n,r,5e3),!0}if(delete EO[n.id],!o||o.value===null)Pd(n,r);else if(o.value?.confirmationStatus==="finalized")Pd(n,r);else{let s=await K0(n,r);s&&(s.data.confirmationStatus=o.value?.confirmationStatus,o.value?.err&&(s.data.error={message:"Error"}),rA(s,r),await Qp(n,r,1e3))}}return!0},IO={},xot=async(t,e,r)=>{let n=await K0(e,r);if(!n)return!0;if(!n.networkID)return at.captureMessage("Removing pending tx where networkID is null","history"),await Pd(n,r),!0;if(IO[n.id]!==void 0)return!0;let i=xd(t),o;try{let a=0,c;for(;(!o||o?.confirmations===void 0)&&a<20;)try{IO[n.id]=bi(()=>i.getRawTransaction(n.data.txID),()=>!0),o=await IO[n.id],await xg(10*1e3)}catch(d){c=d}finally{++a}if(c&&!o)throw c}catch(a){return at.captureError(a,"transaction"),delete IO[n.id],await Qp(n,r,5e3),!0}delete IO[n.id];let s=await K0(e,r);if(!o||o.confirmations===void 0){if(s){let a=Date.now()-s.timestamp;if(a>ia.get(e.networkID).droppedTransactionThresholdMs)return at.addBreadcrumb("transaction","Removing long age TX","debug"),await Pd(s,r),!0;let c=30*60*1e3;a<10*60*1e3?c=5*1e3:a<20*60*1e3?c=15*1e3:a<40*60*1e3?c=30*1e3:a<2*60*60*1e3?c=1*60*1e3:a<24*60*60*1e3&&(c=5*60*1e3),await Qp(n,r,c)}return!0}return o?.confirmations>=J$[t]?await Pd(n,r):s&&(s.data.confirmations=o.confirmations,await rA(s,r),await Qp(n,r,MF[n.networkID])),!0},Pot=async t=>{if(Date.now()-t.timestamp>36e5*48)return!0;let r=xd(t.networkID),n=await bi(()=>r.getRawTransaction(t.data.txID),()=>!0);return n?.confirmations!==void 0&&n.confirmations>=J$[t.networkID]},TO={},Oot=async(t,e,r)=>{let n=await K0(e,r);if(!n)return!0;if(!TO[n.id]){let i=Ra(t),o;try{let s=0,a;for(;(!o||o.effects===null)&&s<10;)try{TO[n.id]=bi(()=>i.getTransactionBlock({digest:n.data.digest,options:{showEffects:!0}}),()=>!0),o=await TO[n.id],await xg(2e3)}catch(c){a=c}finally{++s}if(a&&(!o||o.effects===null))throw a}catch(s){return at.captureError(s,"transaction"),delete TO[n.id],await Qp(n,r,5e3),!0}if(delete TO[n.id],o&&o.effects?.status)Pd(n,r);else{let s=await K0(n,r);s&&(rA(s,r),await Qp(n,r,1e3))}}return!0},oT=async(t,e)=>{let r=t.networkID;if(!r)return at.captureMessage("Removing pending tx where networkID is null","history"),await Pd(t,e),!0;switch(r){case qe.Base.Mainnet:case qe.Base.Sepolia:case qe.Arbitrum.Mainnet:case qe.Arbitrum.Sepolia:case qe.Hypercore.Mainnet:case qe.Hypercore.Testnet:case qe.Monad.Mainnet:case qe.Monad.Testnet:case qe.Monad.Devnet:case qe.Ethereum.Mainnet:case qe.Ethereum.Sepolia:case qe.Polygon.Mainnet:case qe.Polygon.Amoy:return kot(r,t,e);case qe.Solana.Mainnet:case qe.Solana.Testnet:case qe.Solana.Devnet:case qe.Solana.Localnet:return vot(r,t,e);case qe.Bitcoin.Mainnet:case qe.Bitcoin.Testnet:return xot(r,t,e);case qe.Sui.Mainnet:case qe.Sui.Testnet:return Oot(r,t,e)}},Qp=async(t,e,r)=>(await xg(r),oT(t,e));async function NF(t,e){return t.update("pendingTransactions",async r=>{let n=r;return n===null&&(n={}),e(n)})}function d_e(t){let e;switch(t.networkID){case qe.Base.Mainnet:case qe.Base.Sepolia:case qe.Arbitrum.Mainnet:case qe.Arbitrum.Sepolia:case qe.Hypercore.Mainnet:case qe.Hypercore.Testnet:case qe.Monad.Mainnet:case qe.Monad.Testnet:case qe.Monad.Devnet:case qe.Ethereum.Mainnet:case qe.Ethereum.Sepolia:case qe.Polygon.Mainnet:case qe.Polygon.Amoy:{let{networkID:r,display:n,ownerAddress:i,type:o}=t,{hash:s,nonce:a,unsignedTransaction:c,callPayload:d,estimatedTimeToMineInSeconds:f}=t.data,p=Date.now();e={id:nT(),ownerAddress:i,timestamp:p,networkID:r,type:o,display:n,data:{nonce:Number(a),transactions:[{hash:s,timestamp:p,unsignedTransaction:c,confirmations:0,callPayload:d}],estimatedTimeToMineInSeconds:f}};break}case qe.Solana.Mainnet:case qe.Solana.Testnet:case qe.Solana.Devnet:case qe.Solana.Localnet:{let{networkID:r,display:n,ownerAddress:i,type:o}=t,{signature:s}=t.data;e={id:nT(),timestamp:Date.now(),ownerAddress:i,networkID:r,type:o,display:n,data:{signature:s}};break}case qe.Sui.Mainnet:case qe.Sui.Testnet:{let{networkID:r,display:n,ownerAddress:i,type:o,data:s}=t,{digest:a}=s;e={id:nT(),timestamp:Date.now(),ownerAddress:i,networkID:r,type:o,display:n,data:{digest:a}};break}case qe.Bitcoin.Mainnet:case qe.Bitcoin.Testnet:{let{networkID:r,display:n,ownerAddress:i,type:o}=t,{txID:s,psbtHex:a}=t.data;e={id:nT(),timestamp:Date.now(),ownerAddress:i,networkID:r,type:o,display:n,data:{txID:s,psbtHex:a,confirmations:0}};break}}return e}var jg=async(t,e)=>{try{let r=d_e(t);await NF(e,async n=>(n[r.id]=r,n)),oT(r,e)}catch{at.captureMessage("Error adding pending transaction","transaction")}},f_e=async(t,e)=>{let n=(await Of(e))[t.pendingTransactionId];if(n){n.data.transactions.push({hash:t.hash,timestamp:Date.now(),unsignedTransaction:t.unsignedTransaction,callPayload:t.callPayload,confirmations:0});let i=qn.t("transactionCanceling");return n.type==="send"&&(i=qn.t("transactionCancelingSend")),n.type==="cancel"&&(i=qn.t("transactionPrioritizingCancel")),n.display.summary={topLeft:{text:i},topRight:{text:""},bottomLeft:{text:""},bottomRight:{text:""}},n.type="cancel",await rA(n,e),oT(n,e),!0}else return!1},p_e=async(t,e)=>{let n=(await Of(e))[t.pendingTransactionId];return n?(n.data.transactions.push({hash:t.hash,timestamp:Date.now(),unsignedTransaction:t.unsignedTransaction,callPayload:t.callPayload,confirmations:0}),await rA(n,e),oT(n,e),!0):!1},Rot=async t=>{let e=await Of(t);Object.values(e).forEach(r=>{oT(r,t)})},RY=(t,e)=>Object.values(t).filter(n=>{let i=e.map(s=>s.address.toLowerCase()).includes(n.ownerAddress.toLowerCase()),o=ia.get(n.networkID).isPendingTransactionConfirmed(n);return i&&!o}).sort((n,i)=>i.timestamp-n.timestamp);u();l();var Cot=async(t,e,r)=>{let n=await e.get("minedTransactionsForAnalytics")||[],i=t.data;if(Mot(i)&&Se.isMainnetNetworkID(t.networkID)&&Se.isEVMNetworkID(t.networkID)){let o=jp(t.networkID);i.transactions.forEach(async s=>{try{if(!!!n.find(c=>c===s.hash)&&s.confirmations>=1){let d=(await bi(()=>o.getTransaction(s.hash),()=>!0)).blockNumber;if(!d)return;let p=(await bi(()=>o.getBlock(d),()=>!0)).timestamp,m=Math.round(s.timestamp/1e3),y=p-m;r.capture("transactionTimeToMineInSeconds",{data:{actualTimeToMine:y,estimatedTimeToMine:i.estimatedTimeToMineInSeconds}}),n.push(s.hash),await e.set("minedTransactionsForAnalytics",n)}}catch(a){at.captureError(a,"transaction")}})}},Bot=async(t,e)=>{let r=await e.get("minedTransactionsForAnalytics")||[];(t.networkID===qe.Ethereum.Mainnet||t.networkID===qe.Polygon.Mainnet)&&t.data.transactions.forEach(async n=>{try{let i=r.filter(o=>o!==n.hash);await e.set("minedTransactionsForAnalytics",i)}catch(i){at.captureError(i,"transaction")}})};function Mot(t){return t.nonce!==void 0}u();l();u();l();u();l();u();l();var Not=2,h_e=async t=>{let e=hm(t),r=await Pf.eth_getBlockByNumber(e,["latest",!1]);if("error"in r)throw new Error(`[${r.error.code}] ${r.error.message}`);if(!r.result.baseFeePerGas)throw Vge;return new We(r.result.baseFeePerGas,16).multipliedBy(Not).integerValue(We.ROUND_DOWN)};u();l();var m_e=async t=>{let e=hm(t),r=await Pf.eth_maxPriorityFeePerGas(e,[]);if("error"in r)throw new Error(`[${r.error.code}] ${r.error.message}`);return new We(r.result,16)};var Dot=age()?"https://gas-price-oracle.phantom.app":"https://gas-price-oracle.phantom.dev",Uot=v.object({maxFeePerGas:v.string(),maxPriorityFeePerGas:v.string()}),CY=v.record(v.string(),Uot),Lot=v.object({gasPriceSources:v.object({recommended:v.object({priceEstimates:CY}),blocknative:v.object({priceEstimates:CY}).optional(),etherscan:v.object({priceEstimates:CY}).optional()})}),kO=class extends Error{message="Gas price oracle does not support this network"},g_e=async t=>{if(!Se.isMainnetNetworkID(t))throw new kO;let e=`${Dot}/?chainId=${t}`,n=(await fn.headers({"Content-Type":"application/json"}).get(e)).data;try{let i=Lot.parse(n),o=Object.keys(i.gasPriceSources.recommended.priceEstimates),s={};return o.forEach(a=>{s[a]={maxFeePerGas:new We(i.gasPriceSources.recommended.priceEstimates[a].maxFeePerGas),maxPriorityFeePerGas:new We(i.gasPriceSources.recommended.priceEstimates[a].maxPriorityFeePerGas)}}),s}catch(i){throw new Error(`Ethereum Price oracle response: ${JSON.stringify(n)}, ${i}`,{cause:i})}},y_e=new We(30*1e9),b_e=async t=>{let e=await h_e(t),r=await m_e(t),n=e.plus(r);return n.lt(y_e)&&Se.isPolygonNetworkID(t)&&(n=y_e),{maxFeePerGas:n,maxPriorityFeePerGas:r}};var BY=async(t,e=!0)=>{if(Se.isEVMNetworkID(t))try{return await g_e(t)}catch(r){if(!e)throw r;let n=await b_e(t);return{fast:n,standard:n,slow:n}}else throw new Error(`Estimating gas price for chainId:${t} is not supported.`)};u();l();var __e=Oe(Yye()),zot=new We(0),Fot=new We(1e-4),qot=new We(.01),aT=t=>{if(t.isEqualTo(zot))return"$0";if(t.isLessThan(Fot))return"< $0.0001";let e=(0,__e.default)(t.toNumber());return t.isLessThan(qot)?e.format("$0,0.0000"):e.format("$0,0.00")};u();l();var MY=t=>t.times(1.1).toFixed(0);u();l();u();l();u();l();var NY=new le.PublicKey("11111111111111111111111111111111"),Kg=new le.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),cT=new le.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),jot="noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV",DF=new le.PublicKey(jot),Kot="cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK",UF=new le.PublicKey(Kot),S_e=new le.PublicKey("auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),eh=new le.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");var Wot="BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY",LF=new le.PublicKey(Wot),DY="CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d";u();l();var YIe=Oe(PQ());var Fq=Oe(OQ());u();l();var $Ie=Oe(PQ());var zq=Oe(OQ());async function mbt({merkleTree:t,leafIndex:e,owner:r,destination:n,root:i,dataHash:o,creatorHash:s,proof:a,delegate:c}){let[d]=await le.PublicKey.findProgramAddressSync([new le.PublicKey(t).toBuffer()],new le.PublicKey(LF)),f=e,p=e,m=new le.PublicKey(c||r),y={treeAuthority:d,leafOwner:new le.PublicKey(r),leafDelegate:m,newLeafOwner:new le.PublicKey(n),merkleTree:new le.PublicKey(t),logWrapper:DF,compressionProgram:UF,anchorRemainingAccounts:RQ(a)},g={root:Array.from(zq.default.decode(i)),dataHash:Array.from(zq.default.decode(o.trim())),creatorHash:Array.from(zq.default.decode(s.trim())),nonce:f,index:p};return(0,$Ie.createTransferInstruction)(y,g)}var RQ=t=>{if(t.length===0)throw new Error("Proof is empty");return t.map(e=>({pubkey:new le.PublicKey(e),isSigner:!1,isWritable:!1}))};function ybt({merkleTree:t,leafIndex:e,owner:r,root:n,dataHash:i,creatorHash:o,proof:s,delegate:a}){let[c]=le.PublicKey.findProgramAddressSync([new le.PublicKey(t).toBuffer()],new le.PublicKey(LF)),d=e,f=e,p=new le.PublicKey(a||r),m={treeAuthority:c,leafOwner:new le.PublicKey(r),leafDelegate:p,merkleTree:new le.PublicKey(t),logWrapper:DF,compressionProgram:UF,anchorRemainingAccounts:RQ(s)},y={root:Array.from(Fq.default.decode(n)),dataHash:Array.from(Fq.default.decode(i.trim())),creatorHash:Array.from(Fq.default.decode(o.trim())),nonce:d,index:f},g=(0,YIe.createBurnInstruction)(m,y);return Promise.resolve(g)}u();l();var Xs=Oe(roe()),t4=async()=>({createBurnInstruction:Xs.createBurnInstruction,createBurnNftInstruction:Xs.createBurnNftInstruction,createTransferInstruction:Xs.createTransferInstruction,createCreateMasterEditionV3Instruction:Xs.createCreateMasterEditionV3Instruction,createCreateMetadataAccountV3Instruction:Xs.createCreateMetadataAccountV3Instruction,createSetAndVerifySizedCollectionItemInstruction:Xs.createSetAndVerifySizedCollectionItemInstruction,Edition:Xs.Edition,Metadata:Xs.Metadata,PROGRAM_ADDRESS:Xs.PROGRAM_ADDRESS});u();l();var mo=Oe(pe()),Ek=Oe(Jr());u();l();function r4(t,e){return le.PublicKey.findProgramAddressSync([t.toBuffer(),Kg.toBuffer(),e.toBuffer()],cT)[0]}u();l();var jNe=Oe(EI());function UD(t){return le.PublicKey.findProgramAddressSync([jNe.Buffer.from("metadata"),eh.toBuffer(),t.toBuffer()],eh)[0]}var noe=new le.PublicKey("CMTQqjzH6Anr9XcPVt73EFDTjWkJWPzH7H6DtvhHcyzV"),soe=new le.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E");function aoe(){return le.ComputeBudgetProgram.setComputeUnitLimit({units:14e5})}function ioe(t){return le.PublicKey.findProgramAddressSync([Buffer.from("mint_state"),t.toBuffer()],soe)[0]}function KNe(t){return le.PublicKey.findProgramAddressSync([t.toBuffer()],noe)[0]}async function coe(t,e){let r=ioe(t),n=await e.getAccountInfo(r);return n!==null?LD.deserialize(n.data,0)[0]:null}async function uoe({senderAddress:t,destinationAddress:e,mintAddress:r,mintState:n,connection:i}){let[o,s,a]=await Promise.all([r4(t,r),r4(e,r),UD(r)]),d=await i.getAccountInfo(s)?void 0:z8t({associatedTokenProgram:cT,cmtProgram:noe,freezeAuthority:KNe(n.policy),from:e,fromAccount:s,instructions:le.SYSVAR_INSTRUCTIONS_PUBKEY,metadata:a,mint:r,mintState:ioe(r),payer:t,policy:n.policy}),f=j8t({cmtProgram:noe,freezeAuthority:KNe(n.policy),from:t,fromAccount:o,instructions:le.SYSVAR_INSTRUCTIONS_PUBKEY,metadata:a,mint:r,mintState:ioe(r),policy:n.policy,to:e,toAccount:s});return{initAccountIX:d,transferIX:f}}var WNe=[81,17,143,120,23,57,22,117],ooe=class t{constructor(e,r,n,i,o,s,a,c){this.version=e;this.bump=r;this.mint=n;this.policy=i;this.lockedBy=o;this.lastApprovedAt=s;this.lastTransferredAt=a;this.transferredCount=c}static fromArgs(e){return new t(e.version,e.bump,e.mint,e.policy,e.lockedBy,e.lastApprovedAt,e.lastTransferredAt,e.transferredCount)}static fromAccountInfo(e,r=0){return t.deserialize(e.data,r)}static async fromAccountAddress(e,r){let n=await e.getAccountInfo(r);if(n==null)throw new Error(`Unable to find MintState account at ${r}`);return t.fromAccountInfo(n,0)[0]}static gpaBuilder(e=soe){return Ek.GpaBuilder.fromStruct(e,LD)}static deserialize(e,r=0){return LD.deserialize(e,r)}serialize(){return LD.serialize({accountDiscriminator:WNe,...this})}static byteSize(e){let r=t.fromArgs(e);return LD.toFixedFromValue({accountDiscriminator:WNe,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(t.byteSize(e),n)}pretty(){return{version:this.version,bump:this.bump,mint:this.mint.toBase58(),policy:this.policy.toBase58(),lockedBy:this.lockedBy,lastApprovedAt:(()=>{let e=this.lastApprovedAt;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),lastTransferredAt:(()=>{let e=this.lastTransferredAt;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),transferredCount:this.transferredCount}}},LD=new mo.FixableBeetStruct([["accountDiscriminator",mo.uniformFixedSizeArray(mo.u8,8)],["version",mo.u8],["bump",mo.uniformFixedSizeArray(mo.u8,1)],["mint",Ek.publicKey],["policy",Ek.publicKey],["lockedBy",mo.coption(Ek.publicKey)],["lastApprovedAt",mo.i64],["lastTransferredAt",mo.i64],["transferredCount",mo.u32]],ooe.fromArgs,"MintState"),U8t=new mo.BeetArgsStruct([["instructionDiscriminator",mo.uniformFixedSizeArray(mo.u8,8)]],"InitAccountInstructionArgs"),L8t=[169,188,158,199,9,151,101,125];function z8t(t,e=soe){let[r]=U8t.serialize({instructionDiscriminator:L8t}),n=[{pubkey:t.policy,isWritable:!1,isSigner:!1},{pubkey:t.freezeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.mintState,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.from,isWritable:!1,isSigner:!1},{pubkey:t.fromAccount,isWritable:!0,isSigner:!1},{pubkey:t.tokenProgram??Kg,isWritable:!1,isSigner:!1},{pubkey:t.systemProgram??le.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t.associatedTokenProgram,isWritable:!1,isSigner:!1},{pubkey:t.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:t.instructions,isWritable:!1,isSigner:!1}];return new gr.TransactionInstruction({programId:e,keys:n,data:r})}var F8t=new mo.BeetArgsStruct([["instructionDiscriminator",mo.uniformFixedSizeArray(mo.u8,8)]],"TransferInstructionArgs"),q8t=[163,52,200,231,140,3,69,186];function j8t(t,e=new le.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){let[r]=F8t.serialize({instructionDiscriminator:q8t}),n=[{pubkey:t.policy,isWritable:!1,isSigner:!1},{pubkey:t.freezeAuthority,isWritable:!1,isSigner:!1},{pubkey:t.mint,isWritable:!1,isSigner:!1},{pubkey:t.metadata,isWritable:!1,isSigner:!1},{pubkey:t.mintState,isWritable:!0,isSigner:!1},{pubkey:t.from,isWritable:!1,isSigner:!0},{pubkey:t.fromAccount,isWritable:!0,isSigner:!1},{pubkey:t.to,isWritable:!1,isSigner:!1},{pubkey:t.toAccount,isWritable:!0,isSigner:!1},{pubkey:t.tokenProgram??Kg,isWritable:!1,isSigner:!1},{pubkey:t.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:t.instructions,isWritable:!1,isSigner:!1}];return new gr.TransactionInstruction({programId:e,keys:n,data:r})}u();l();var zD=Oe(roe());u();l();function loe(t){return le.PublicKey.findProgramAddressSync([Buffer.from("metadata"),eh.toBuffer(),t.toBuffer(),Buffer.from("edition")],eh)[0]}u();l();function n4(t,e){return le.PublicKey.findProgramAddressSync([Buffer.from("metadata"),eh.toBuffer(),e.toBuffer(),Buffer.from("token_record"),t.toBuffer()],eh)[0]}async function doe({senderAddress:t,tokenAccount:e,destinationAddress:r,destinationAccount:n,mintAddress:i,connection:o}){let s=n4(e,i),{state:a}=await zD.TokenRecord.fromAccountAddress(o,s);if(a==zD.TokenState.Locked)throw new C0({key:"CollectibleLocked"});if(a==zD.TokenState.Listed)throw new C0({key:"CollectibleListed"});let{Metadata:c,createTransferInstruction:d}=await t4(),f=UD(i),m=(await c.fromAccountAddress(o,f)).programmableConfig?.ruleSet,y={authority:t,tokenOwner:t,token:e,metadata:f,mint:i,edition:loe(i),destinationOwner:r,destination:n,payer:t,splTokenProgram:Kg,splAtaProgram:cT,sysvarInstructions:le.SYSVAR_INSTRUCTIONS_PUBKEY,authorizationRules:m,authorizationRulesProgram:S_e,ownerTokenRecord:s,destinationTokenRecord:n4(n,i)};return d(y,{transferArgs:{__kind:"V1",amount:1,authorizationData:null}})}async function K8t({senderAddress:t,senderAccount:e,mintAddress:r}){let{createBurnInstruction:n}=await t4(),i=UD(r),o={authority:t,metadata:i,edition:loe(r),mint:r,token:e,tokenRecord:n4(e,r),systemProgram:NY,sysvarInstructions:le.SYSVAR_INSTRUCTIONS_PUBKEY,splTokenProgram:Kg},a=n(o,{burnArgs:{__kind:"V1",amount:1}});return new gr.Transaction().add(a)}u();l();var W8t=async()=>({createPNFTTransferIX:doe,createComputeBudgetIx:aoe,createOCPTransferIX:uoe,getOCPMintState:coe});u();l();u();l();u();l();var Qi="@phantom/transactions",V8t=`${Qi}:timestamps`,tn={customGasControls(){return[`${Qi}:custom-gas-controls`]},gasEstimation(t,e,r,n){return[`${Qi}:gas-estimation`,{networkID:t,multichainTransaction:e,transactionSpeed:r,additionalCosts:n}]},solanaGasEstimation(t){return[`${Qi}:solana-gas-estimation`,t||{}]},solanaComputeUnitPrice(t){return[`${Qi}:compute-unit-price`,t||{}]},gasEstimationPrice(t,e){return[`${Qi}:gas-estimation-price`,t?{networkID:t}:{},e||{}]},gasEstimationTimeToMine(t,e,r){return[`${Qi}:gas-estimation-time-to-mine`,{networkID:t,maxFeePerGas:e,maxPriorityFeePerGas:r}]},resolveDomainName(t,e){return[`${Qi}:resolve-domain-name`,{name:t},{networkID:e}]},waitForTransactionConfirmation(t){return[`${Qi}:wait-for-transaction-confirmation`,t?{transactionReceipt:t}:{}]},pendingTransactions(t){return[`${Qi}:pending-transactions`,{accounts:t}]},pendingTransactionById(t){return[`${Qi}:pending-transaction`,t]},transactionSpeedsToUnitCost(t){return[`${Qi}:transaction-speeds-to-cost`,{networkID:t}]},evmGasEstimationFallback(t){return[`${Qi}:evm-gas-estimation-fallback`,{networkID:t}]},erc20GasLimitEstimate(t,e){return[`${Qi}:evm-erc20-gas-limit-estimation`,{networkID:t,args:e}]},erc721GasLimitEstimate(t,e){return[`${Qi}:evm-erc721-gas-limit-estimation`,{networkID:t,args:e}]},erc1155GasLimitEstimate(t,e){return[`${Qi}:evm-erc1155-gas-limit-estimation`,{networkID:t,args:e}]},nativeEvmGasLimit(t,e){return[`${Qi}:native-evm-gas-limit`,{networkID:t,address:e}]},timestamps(){return[`${Qi}:timestamps`]},gasLimit(t){return[`${Qi}:gas-limit`,{args:t}]},gasLimitByTransaction(t){return[`${Qi}:gas-limit-by-transaction`,{multichainTransaction:t}]},transactionUnitAmount(t){return[`${Qi}:network-unit-by-transaction`,{multichainTransaction:t}]},utxoState(t){return[`${Qi}:utxo-state`,{address:t}]},transactionAdditionalCosts(t){return[`${Qi}:additional-costs`,{transaction:t}]},suiTransaction(t){return[`${Qi}:sui-transaction`,t]}};var i4=(t,e)=>{let r=tn.timestamps(),n=t.getQueryData(r);if(!n)return;let i={...n};e.forEach(o=>{delete i[o]}),t.setQueryData(r,i)};function foe(t,e,r){for(let n of t??[]){let{timestamps:i,chainId:o,transactionType:s,isLedger:a}=n,{confirmed:c,received:d,initiated:f,appUpdated:p}=i;if(f&&d&&c&&p){let m=d-f,y=c-d,g=p-c,b={networkId:o,chainId:Se.getChainID(o),transactionType:s,timeToReceived:m,timeToConfirmed:y,timeToAppUpdate:g,isLedger:a};e.capture("transactionTimes",{data:b})}}i4(r,t?.map(n=>n.transactionId)??[])}u();l();u();l();function poe(t){switch(!0){case Se.isBitcoinNetworkID(t):return{virtualBytes:new We(Tf.bip122_p2wpkh.header+Tf.bip122_p2wpkh.perInput+2*Tf.bip122_p2tr.perOutput),additionalCosts:{vb:new We(0),sats:new We(0)}};case Se.isEVMNetworkID(t):return{gasLimit:new We(21e3)};default:throw new Error(`Unsupported networkID: ${t}`)}}u();l();u();l();u();l();var yoe=Oe($Ne());u();l();u();l();async function o4(t,e){t.signatures;let r=await Promise.all(t.message.addressTableLookups.map(async i=>new le.AddressLookupTableAccount({key:i.accountKey,state:le.AddressLookupTableAccount.deserialize(await e.getAccountInfo(i.accountKey).then(o=>o.data))})));return{txMessage:gr.TransactionMessage.decompile(t.message,{addressLookupTableAccounts:r}),addressLookupTableAccounts:r,signatures:t.signatures}}function YNe(t,e){return t.some(r=>r.programId.toBase58()!==le.ComputeBudgetProgram.programId.toBase58()?!1:le.ComputeBudgetInstruction.decodeInstructionType(r)===e)}function FD(t){return YNe(t,"SetComputeUnitLimit")}function moe(t){return YNe(t,"SetComputeUnitPrice")}var X8t=async(t,e)=>{let{txMessage:r,addressLookupTableAccounts:n,signatures:i}=await o4(e,t);if(FD(r.instructions))return e;let o=le.ComputeBudgetProgram.setComputeUnitLimit({units:14e5}),s=new gr.TransactionMessage({...r,instructions:[o,...r.instructions]});return new gr.VersionedTransaction(s.compileToV0Message(n),i)},gb=class{constructor(e=2e5,r=500,n=14e5){this.computeUnitsPerInstruction=e;this.minimumComputeUnitLimit=r;this.maximumComputeUnitLimit=n}getNumberOfInstructions(e){return e.message.compiledInstructions.length}async getBudget(e,r){let i=this.getNumberOfInstructions(r)*this.computeUnitsPerInstruction,o=await X8t(e,r);try{let s=await bi(()=>e.simulateTransaction(o,{replaceRecentBlockhash:!0,sigVerify:!1}),c=>c instanceof Error&&c.message.includes("429")?(at.captureMessage("429 Too Many Requests in getBudget","transaction"),!0):!1,3,1e3);if(s.value.err||!s.value.unitsConsumed)return(0,yoe.default)(i,this.minimumComputeUnitLimit,this.maximumComputeUnitLimit);let a=s.value.unitsConsumed*1.25;return(0,yoe.default)(a,this.minimumComputeUnitLimit,this.maximumComputeUnitLimit)}catch(s){at.captureError(new Error(`Error during simulating transaction to calculate compute limit: ${s}}`),"transaction")}return i}},goe=new gb;u();l();var XNe=250,ZNe=`https://gas-price-oracle.phantom.${oge()||sge()?"dev":"app"}/solana_prioritization_fee`,Z8t=v.object({recommendedComputeUnitPriceInMicrolamports:v.number().positive()}),J8t=v.object({min:v.number().positive(),low:v.number().positive(),high:v.number().positive(),max:v.number().positive()});var boe=class{constructor(e=ZNe){this.url=e}async makeRequest(e){return(await fn.post(this.url,e.body)).data}async getPrice(e){e.accounts.length>XNe&&at.captureMessage(`Transaction had ${e.accounts.length} accounts in the transaction`,"transaction");let r=e.accounts.slice(0,XNe),n=t9.parse({accounts:r.map(a=>a.toBase58()),chainId:qe.Solana.Mainnet,transactionType:e.transactionType,computeUnitLimit:e.computeUnitLimit}),i={method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},o=await this.makeRequest(i),{recommendedComputeUnitPriceInMicrolamports:s}=Z8t.parse(o);return s}},Ik=new boe,JNe=async t=>{let e=t9.parse({accounts:[],chainId:qe.Solana.Mainnet,transactionType:t.transactionType,computeUnitLimit:t.computeUnitLimit,getBounds:!0}),r={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},n=await fn.post(ZNe,r.body);return J8t.parse(n.data)};var s4=1170,QNe=2,eDe=3,_oe=64,Soe={budget:goe,cost:Ik},tDe={index:eDe,layout:kI.struct([kI.u8("instruction"),Zye("microLamports")])},rDe={index:QNe,layout:kI.struct([kI.u8("instruction"),kI.u32("units")])};u();l();var woe=Oe(irt());function a4(t){let e=W$(tDe,{microLamports:BigInt(t)});return new gr.TransactionInstruction({keys:[],programId:le.ComputeBudgetProgram.programId,data:e})}function nDe(t){if(t<500||t>14e5)throw new Error("Compute unit fee is too large");let e=W$(rDe,{units:t});return new gr.TransactionInstruction({keys:[],programId:le.ComputeBudgetProgram.programId,data:e})}function iDe(t,e,r){return new gr.VersionedTransaction(new gr.TransactionMessage({instructions:t,payerKey:e||le.Keypair.generate().publicKey,recentBlockhash:le.PublicKey.default.toString()}).compileToV0Message(r))}async function Q8t(t,e,r){let n=new Set;for(let m of t.instructions){n.add(m.programId);for(let y of m.keys)n.add(y.pubkey)}let i=(0,woe.default)(t),o=iDe(i.instructions,i.feePayer),s=await r.budget.getBudget(e.connection,o),a=await r.cost.getPrice({accounts:Array.from(n),transactionType:e.transactionType,computeUnitLimit:s}),c=a4(a),d=nDe(s);if(FD(i.instructions)?i.instructions.unshift(c):i.instructions.unshift(c,d),i.recentBlockhash&&i.feePayer)try{if(i.serialize({requireAllSignatures:!1,verifySignatures:!1}).length>=s4)return t}catch{return t}return i.instructions.length>_oe?t:i}async function eFt(t,e,r,n,i,o){let s=new Set([...t.message.staticAccountKeys]);for(let L of i)for(let j of L.state.addresses)s.add(j);let a=(0,woe.default)(n),c=t.message.staticAccountKeys&&t.message.staticAccountKeys.length>0?t.message.staticAccountKeys[0]:void 0,d=iDe(a.instructions,c,i),f=await r.budget.getBudget(e.connection,d),p=await r.cost.getPrice({accounts:Array.from(s),transactionType:e.transactionType,computeUnitLimit:f}),m=a4(p),y=nDe(f);FD(a.instructions)?a.instructions.unshift(m):a.instructions.unshift(m,y);let b=a.compileToV0Message(i),S=new gr.VersionedTransaction(b,o);return S.serialize().length>=s4||S.message.compiledInstructions.length>_oe?t:S}async function $_(t,e){let r={budget:e.calculators?.budget??Soe.budget,cost:e.calculators?.cost??Soe.cost};try{if(Qye(t))return t;if(IP(t)){let{txMessage:n,addressLookupTableAccounts:i,signatures:o}=await o4(t,e.connection);return await moe(n.instructions)?t:await eFt(t,e,r,n,i,o)}else return moe(t.instructions)?t:await Q8t(t,e,r)}catch(n){return at.captureError(n,"transaction"),t}}u();l();u();l();var tFt="-";var rFt=/[^\0-\x7E]/,nFt=/[\x2E\u3002\uFF0E\uFF61]/g,iFt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Eoe=35,Tk=Math.floor,Ioe=String.fromCharCode;function sDe(t){throw new RangeError(iFt[t])}function oFt(t,e){let r=[],n=t.length;for(;n--;)r[n]=e(t[n]);return r}function sFt(t,e){let r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(nFt,".");let i=t.split("."),o=oFt(i,e).join(".");return n+o}function aFt(t){let e=[],r=0,n=t.length;for(;r<n;){let i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){let o=t.charCodeAt(r++);(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),r--)}else e.push(i)}return e}var aDe=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},cFt=function(t,e,r){let n=0;for(t=r?Tk(t/700):t>>1,t+=Tk(t/e);t>Eoe*26>>1;n+=36)t=Tk(t/Eoe);return Tk(n+(Eoe+1)*t/(t+38))};var uFt=function(t){let e=[];t=aFt(t);let r=t.length,n=128,i=0,o=72;for(let c of t)c<128&&e.push(Ioe(c));let s=e.length,a=s;for(s&&e.push(tFt);a<r;){let c=2147483647;for(let f of t)f>=n&&f<c&&(c=f);let d=a+1;c-n>Tk((2147483647-i)/d)&&sDe("overflow"),i+=(c-n)*d,n=c;for(let f of t)if(f<n&&++i>2147483647&&sDe("overflow"),f==n){let p=i;for(let m=36;;m+=36){let y=m<=o?1:m>=o+26?26:m-o;if(p<y)break;let g=p-y,b=36-y;e.push(Ioe(aDe(y+g%b,0))),p=Tk(g/b)}e.push(Ioe(aDe(p,0))),o=cFt(i,d,a==s),i=0,++a}++i,++n}return e.join("")};var cDe=function(t){return sFt(t,function(e){return rFt.test(e)?"xn--"+uFt(e):e})};var lFt=t=>t.startsWith("@")&&t.length>1||dFt(t);function dFt(t){return cDe(t).toLowerCase().match(/^(?:[a-z0-9](?:[-a-z0-9]*[a-z0-9])?\.)+[a-z0-9][-a-z0-9]*[a-z0-9]$/u)!==null}u();l();function Toe(t){return t?{gasLimit:`0x${t.gasLimit.toString(16)}`,maxFeePerGas:`0x${t.maxFeePerGas.toString(16)}`,maxPriorityFeePerGas:`0x${t.maxPriorityFeePerGas.toString(16)}`}:{}}u();l();function uE(t,e,r,n){if(Se.isBitcoinNetworkID(t)){let{virtualBytes:i,additionalCosts:o}=r,{sats:s,vb:a}=o,c=e,f=Fp(c.btcPerKilobyte).times(a).plus(s);return{networkID:t,virtualBytes:i,btcPerKilobyte:c.btcPerKilobyte,additionalCosts:f}}else if(Se.isEVMNetworkID(t)){let i=e;return{networkID:t,gasLimit:r.gasLimit,maxFeePerGas:i.maxFeePerGas,maxPriorityFeePerGas:i.maxPriorityFeePerGas,l1Fee:n}}else{if(Se.isSolanaNetworkID(t))throw new Error("Solana gas estimations are not constructed from transaction units and transaction unit costs.");if(Se.isSuiNetworkID(t))throw new p8("create gas estimation");return na(t)}}u();l();var Y_=Oe(P0()),lE={deserializeVersionedTransaction:t=>{let e;try{e=Y_.default.decode(t)}catch{e=Buffer.from(t,"base64")}let r=gr.VersionedTransaction.deserialize(e);return{transaction:r,metadata:{numInstructions:r.message.compiledInstructions.length,type:0}}},getTransactionClassType(t){return IP(t)?"versioned":"legacy"},deserializeWithVersion:t=>{let{transaction:e,type:r}=t,n;try{n=Y_.default.decode(e)}catch{n=Buffer.from(e,"base64")}if(r==="legacy"){let i=gr.Transaction.from(n);return{transaction:i,metadata:{numInstructions:i.instructions.length,type:r}}}else{if(r===0)return lE.deserializeVersionedTransaction(e);throw new Error(`Unknown transaction type => ${r}`)}},deserializeWithMessage(t){let{transaction:e,message:r}=t,n=Y_.default.decode(r),i=gr.VersionedMessage.deserializeMessageVersion(n);return lE.deserializeWithVersion({transaction:e,type:i})},serialize(t){if(IP(t)){let e=Y_.default.encode(t.serialize()),r=Y_.default.encode(t.message.serialize());return{transaction:e,message:r}}else{let e=Y_.default.encode(t.serialize({requireAllSignatures:!1,verifySignatures:!0})),r=Y_.default.encode(t.serializeMessage());return{transaction:e,message:r}}}};u();l();var koe=({networkID:t,address:e})=>({chainId:t,address:e});u();l();var c4=Oe(j$()),uDe=Oe(Gye());var fFt=3;c4.default.extend(uDe.default);var pFt=t=>v.array(v.unknown()).transform(e=>e?.filter(r=>t.safeParse(r).success)),hFt=v.object({chainId:PP,transaction:v.object({txID:v.string()}),submittedAt:v.string().datetime(),utxos:v.array(v.object({address:v.string()}))}),mFt=v.object({transactions:pFt(hFt)}),yFt="/pending-transactions/v1";async function gFt(t,e){if(t.length===0)return[];let r=await fn.api().post(yFt,{addresses:t.map(i=>({chainId:i.networkID,address:Se.isEVMNetworkID(i.networkID)?i.address.toLowerCase():i.address,resourceType:"address"}))});if(r.status!==200)return r.status>=400&&r.status<500&&at.captureError(new Error("Failed to fetch pending transactions, error code: "+r.status),"history"),[];let n=mFt.safeParse(r.data);return n.success?(await Promise.all(n.data.transactions.filter(i=>i.submittedAt?(0,c4.default)(e()).diff((0,c4.default)(i.submittedAt),"hours")<fFt:!1).map(async i=>{if(i.chainId==="bip122:000000000019d6689c085ae165831e93"||i.chainId==="bip122:000000000933ea01ad0ee984209779ba"){let o=t.filter(d=>d.networkID===i.chainId).map(d=>d.address),s=i.utxos.map(d=>d.address),a=o.find(d=>s.includes(d));return a?{ownerAddress:a,networkID:i.chainId,data:{txID:i.transaction.txID,psbtHex:Buffer.from(Lge.fromRaw(Buffer.from((await xd(i.chainId).getRawTransaction(i.transaction.txID)).hex??"","hex")).toPSBT()).toString("hex")},type:"dappInteraction",display:{summary:{topLeft:{text:qn.t("transactionsPendingBitcoinTransaction")}}}}:void 0}}))).filter(i=>i!==void 0):(at.captureError(new Error("Failed to parse pending transactions"),"history"),[])}var bFt=(t,e)=>{let r=t.networkID;return r!==e.networkID||!r?!1:ia.get(r).isPendingTransactionsEqual(t,e)};async function voe(t,e,r=()=>new Date){let n=0;try{let i=await gFt(t,r);for(let o of i)n+=await l_e(o,bFt,e)}catch(i){at.captureError(new Error("encountered error adding pending transaction: "+i.message),"history")}return n}u();l();var xoe=t=>t.gasLimit.times(t.maxFeePerGas),Poe=t=>new We(t.value),Ooe=t=>NI(t),_Ft=({gasBudget:t})=>t,SFt=t=>{if(t){if(vw(t))return xoe(t);if(Tw(t))return Poe(t);if(xw(t))return Ooe(t);if(kw(t))return _Ft(t);throw new Error("unsupported chain type")}};u();l();var wFt=45,lDe=(t,e,r)=>{let n=Hye(r?.timeToMineSeconds??0,t),i=n===t("pendingTransactionEstimatedTimeS",{seconds:wFt})?`< ${n}`:n;return e==="error"?t("pendingTransactionsUnknownEstimatedTime"):e==="success"?`${i}`:""};u();l();u();l();var u4=async(t,e,r)=>{let n="0x0";try{let a=await Of(r),c=Object.values(a).filter(d=>d.networkID===t&&d.ownerAddress===e).sort((d,f)=>f.timestamp-d.timestamp);c.length&&(n=`0x${(c[0].data.nonce+1).toString(16)}`)}catch{}let i=0,o="Error getting transaction count",s="";for(;i<3&&!s;){try{let a=hm(t),c=await Pf.eth_getTransactionCount(a,[e,"latest"]);"error"in c?o=`[${c.error.code}] ${c.error.message}`:s=c.result}catch{}++i,await new Promise(a=>setTimeout(a,200))}if(!s){let a=new Error(o);throw at.captureMessage(o,"transaction"),a}return Number(n)>Number(s)?n:s};u();l();u();l();var l4=["function allowance(address owner, address spender) view returns (uint256)","function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function approve(address spender, uint amount) returns (bool)","function transfer(address to, uint amount) returns (bool)","event Transfer(address indexed from, address indexed to, uint amount)"];var dDe=async({networkId:t,contractAddress:e,callerAddress:r,spender:n})=>mm(t,e,l4,r).allowance(r,n);u();l();u();l();var AFt=v.string().refine(t=>typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/),{message:"Value is not a valid hex string."}),Roe=t=>{if(AFt.safeParse(t).success){if(parseInt(t,16)===0)return"0x0";let r=t.replace("0x",""),n=0;for(;n<r.length&&r[n]==="0";)n++;return"0x"+r.substring(n)}else throw new Error("string is not in hex encoding.")},bb=t=>Roe("0x"+t.toString(16));var EFt=bb(new We("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),pDe=async({networkId:t,contractAddress:e,callerAddress:r,spender:n,exactAmount:i})=>{let s=await mm(t,e,l4,r).populateTransaction.approve(n,i?bb(new We(i)):EFt);return Af.parse({type:"0x2",from:r,data:s.data,chainId:Se.getEVMNetworkIDValue(t),to:e})};u();l();u();l();var IFt=v.object({domain:v.object({chainId:v.number(),name:v.string(),verifyingContract:v.string(),version:v.string()}),message:v.object({expiry:v.number(),nonce:v.number(),spender:v.string(),holder:v.string(),allowed:v.boolean()}),primaryType:v.literal("Permit"),types:v.object({EIP712Domain:v.array(v.object({name:v.string(),type:v.string()})),Permit:v.array(v.object({name:v.string(),type:v.string()}))})}),TFt=v.object({domain:v.object({chainId:v.number(),name:v.string(),verifyingContract:v.string(),version:v.string()}),message:v.object({deadline:v.number(),nonce:v.number(),spender:v.string(),holder:v.string(),value:v.number()}),primaryType:v.literal("Permit"),types:v.object({EIP712Domain:v.array(v.object({name:v.string(),type:v.string()})),Permit:v.array(v.object({name:v.string(),type:v.string()}))})});u();l();var kFt=v.object({domain:v.object({chainId:v.string(),name:v.literal("Permit2"),verifyingContract:v.string()}),message:v.object({details:v.object({token:v.string(),amount:v.string(),expiration:v.string(),nonce:v.string()}),spender:v.string(),sigDeadline:v.string()}),primaryType:v.literal("PermitSingle"),types:v.object({EIP712Domain:v.array(v.object({name:v.string(),type:v.string()})),PermitSingle:v.array(v.object({name:v.string(),type:v.string()})),PermitDetails:v.array(v.object({name:v.string(),type:v.string()}))})}),vFt=v.object({domain:v.object({chainId:v.string(),name:v.literal("Permit2"),verifyingContract:v.string()}),message:v.object({details:v.array(v.object({token:v.string(),amount:v.string(),expiration:v.string(),nonce:v.string()})),spender:v.string(),sigDeadline:v.string()}),primaryType:v.literal("PermitBatch"),types:v.object({EIP712Domain:v.array(v.object({name:v.string(),type:v.string()})),PermitBatch:v.array(v.object({name:v.string(),type:v.string()})),PermitDetails:v.array(v.object({name:v.string(),type:v.string()}))})});u();l();u();l();var xFt=v.object({results:v.array(v.object({id:v.string(),interactionData:v.object({dapp:v.union([v.null(),v.object({displayName:v.string(),logoURI:v.string()})])})}))}),hDe=async t=>{let e={transactions:[{type:"EvmType2",data:{type:2,...t,gasLimit:new We(t.gasLimit).toString(),maxPriorityFeePerGas:new We(t.maxPriorityFeePerGas).toString(),maxFeePerGas:new We(t.maxFeePerGas).toString(),chainId:parseInt(t.networkID.split(":")[1],10),value:t.value?new We(t.value).toString():"0"}}]},r=await fn.api().retry(3,2e3).post("/transaction_input_parser/v1",e);if(r.status>=300)throw new Error(`getPendingTransactionDapp: Status code: ${r.status}`);let n=r.data;try{return xFt.parse(n).results[0].interactionData.dapp}catch(i){throw at.captureMessage("getPendingTransactionDapp response is malformed","transaction"),i}};var Coe=async(t,e,r)=>{let n=r.nonce,i=r;return n||(n=await u4(t,r.from,e),i=Af.parse({...r,nonce:n})),i},d4=async({networkID:t,unsignedTransaction:e,callPayload:r,pendingTransactionInput:n,storage:i,signature:o})=>{let a=(await Coe(t,i,e)).nonce;if(!a)throw new Error("Nonce is undefined when sending an EVM transaction.");r&&(r=Kye.parse({...r,nonce:a}));let c=hm(t);if(r){let p=await Pf.eth_call(c,[r,"latest"]);if("error"in p)throw new Error(`eth_call failed to simulate transaction. Reason: ${p.error.message}`)}let d=ym(e,o),f=await bi(()=>Pf.eth_sendRawTransaction(c,[d]),p=>{if(typeof p=="object"&&"body"in p)try{if(JSON.parse(p.body).error.message.includes("transaction underpriced"))return!1}catch{}return!0});if("error"in f)throw new Error(`Failed to send transaction. Reason: ${f.error.message}`);{let p=f.result;if("data"in n){let m;try{n.type==="dappInteraction"&&(m=await hDe({networkID:t,value:e.value,gasLimit:e.gas||"",maxPriorityFeePerGas:e.maxPriorityFeePerGas||"",maxFeePerGas:e.maxFeePerGas||"",data:e.data||"",to:e.to||"",from:e.from,hash:p}))}catch{}m&&(n.display.summary.logoUri=m.logoURI,n.display.summary.bottomLeft={text:m.displayName},n.display.detail&&(n.display.detail.logoUri=m.logoURI,n.display.detail.secondaryHeader=m.displayName)),n.data.hash=p,n.data.unsignedTransaction=e,n.data.callPayload=r,n.data.nonce=a,await jg(n,i)}else n.hash=p,n.unsignedTransaction=e,n.callPayload=r,e.to?.toLowerCase()===r?.from?.toLowerCase()&&e.value!==void 0&&parseInt(e.value,16)===0?await f_e(n,i):await p_e(n,i);return p}};u();l();var kk=async t=>{let{networkID:e,storage:r,accountSigner:n,accountIdentifier:i,unsignedTransaction:o}=t,s=await Coe(e,r,o),a=await n.sign(i,{chainType:"eip155",signingType:"transaction",message:ym(s)});if(a.status==="error")throw new Error(a.message);return d4({...t,unsignedTransaction:s,signature:a.signature})};u();l();u();l();u();l();var v4=Oe($D());var zoe=class extends v4.Blob{constructor(e){super(32,e)}decode(e,r){return new le.PublicKey(super.decode(e,r))}encode(e,r,n){return super.encode(e.toBuffer(),r,n)}};function DFt(t){return new zoe(t)}var mDe=v4.struct([DFt("account")]);function x4(t){let{account:e,owner:r}=t,n=[{pubkey:e,isSigner:!1,isWritable:!1}];return new gr.TransactionInstruction({keys:n,data:UFt(r),programId:CF})}function UFt(t){let e={account:t},r=Buffer.alloc(mDe.span),n=mDe.encode(e,r);return r.slice(0,n)}u();l();function Foe(t,e,r){return le.PublicKey.findProgramAddressSync([t.toBuffer(),r.toBuffer(),e.toBuffer()],wO)[0]}async function P4(t,e,r,n){let i=await Foe(e,r,n),s=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:rT,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:le.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return[new gr.TransactionInstruction({keys:s,programId:wO,data:Buffer.from([])}),i]}u();l();var rg=Oe(Uqe());u();l();u();l();u();l();var k2=t=>({__option:"Some",value:t}),$v=()=>({__option:"None"}),que=t=>t&&typeof t=="object"&&"__option"in t&&(t.__option==="Some"&&"value"in t||t.__option==="None"),Yv=t=>t.__option==="Some";u();l();var jue=t=>t!==null?k2(t):$v();u();l();u();l();u();l();u();l();u();l();var d5=class extends Error{name="InvalidBaseStringError";constructor(e,r,n){let i=`Expected a string of base ${r}, got [${e}].`;super(i),this.cause=n}};var Lqe=t=>{let e=t.length,r=BigInt(e);return{description:`base${e}`,fixedSize:null,maxSize:null,serialize(n){if(!n.match(new RegExp(`^[${t}]*$`)))throw new d5(n,e);if(n==="")return new Uint8Array;let i=[...n],o=i.findIndex(p=>p!==t[0]);o=o===-1?i.length:o;let s=Array(o).fill(0);if(o===i.length)return Uint8Array.from(s);let a=i.slice(o),c=0n,d=1n;for(let p=a.length-1;p>=0;p-=1)c+=d*BigInt(t.indexOf(a[p])),d*=r;let f=[];for(;c>0n;)f.unshift(Number(c%256n)),c/=256n;return Uint8Array.from(s.concat(f))},deserialize(n,i=0){if(n.length===0)return["",0];let o=n.slice(i),s=o.findIndex(f=>f!==0);s=s===-1?o.length:s;let a=t[0].repeat(s);if(s===o.length)return[a,n.length];let c=o.slice(s).reduce((f,p)=>f*256n+BigInt(p),0n),d=[];for(;c>0n;)d.unshift(t[Number(c%r)]),c/=r;return[a+d.join(""),n.length]}}};u();l();var Aa=Lqe("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");u();l();u();l();var eo=t=>{let e=t.reduce((i,o)=>i+o.length,0),r=new Uint8Array(e),n=0;return t.forEach(i=>{r.set(i,n),n+=i.length}),r},zqe=(t,e)=>{if(t.length>=e)return t;let r=new Uint8Array(e).fill(0);return r.set(t),r},f5=(t,e)=>zqe(t.slice(0,e),e);u();l();var Ea=class extends Error{name="DeserializingEmptyBufferError";constructor(e){super(`Serializer [${e}] cannot deserialize empty buffers.`)}},ff=class extends Error{name="NotEnoughBytesError";constructor(e,r,n){super(`Serializer [${e}] expected ${r} bytes, got ${n}.`)}},Rb=class extends Error{name="ExpectedFixedSizeSerializerError";constructor(e){e??="Expected a fixed-size serializer, got a variable-size one.",super(e)}};u();l();function v2(t,e,r){return{description:r??`fixed(${e}, ${t.description})`,fixedSize:e,maxSize:e,serialize:n=>f5(t.serialize(n),e),deserialize:(n,i=0)=>{if(n=n.slice(i,i+e),n.length<e)throw new ff("fixSerializer",e,n.length);t.fixedSize!==null&&(n=f5(n,t.fixedSize));let[o]=t.deserialize(n,0);return[o,i+e]}}}u();l();function Kue(t,e,r){return{description:t.description,fixedSize:t.fixedSize,maxSize:t.maxSize,serialize:n=>t.serialize(e(n)),deserialize:(n,i=0)=>{let[o,s]=t.deserialize(n,i);return r?[r(o,n,i),s]:[o,s]}}}u();l();var Fqe=t=>t.replace(/\u0000/g,"");u();l();var x2={description:"utf8",fixedSize:null,maxSize:null,serialize(t){return new TextEncoder().encode(t)},deserialize(t,e=0){let r=new TextDecoder().decode(t.slice(e));return[Fqe(r),t.length]}};u();l();var LE=class extends Error{name="InvalidPublicKeyError";constructor(e,r){r=r?`. ${r}`:"",super(`The provided public key is invalid: ${e}${r}`),this.invalidPublicKey=e}};var Xv=32;function pf(t,e=!0){let r=typeof t=="string"?t:typeof t=="object"&&"publicKey"in t?t.publicKey:typeof t=="object"&&"toBase58"in t?t.toBase58():Array.isArray(t)?t[0]:Aa.deserialize(t)[0];return e&&Wue(r),r}var zE=t=>{try{return Wue(t),!0}catch{return!1}};function Wue(t){if(typeof t!="string")throw new LE(t,"Public keys must be strings.");Zv(t)}var Zv=t=>{if(t.length<32||t.length>44)throw new LE(t,"Public keys must be between 32 and 44 characters.");let e;try{e=Aa.serialize(t)}catch{throw new LE(t,"Public keys must be base58 encoded.")}if(e.length!==Xv)throw new LE(t,`Public keys must be ${Xv} bytes.`);return e};u();l();u();l();u();l();var p5;(function(t){t.Little="le",t.Big="be"})(p5||(p5={}));u();l();var h5=class extends RangeError{name="NumberOutOfRangeError";constructor(e,r,n,i){super(`Serializer [${e}] expected number to be between ${r} and ${n}, got ${i}.`)}};u();l();u();l();function to(t){let e,r=t.name;return t.size>1&&(e=!("endian"in t.options)||t.options.endian===p5.Little,r+=e?"(le)":"(be)"),{description:t.options.description??r,fixedSize:t.size,maxSize:t.size,serialize(n){t.range&&Vue(t.name,t.range[0],t.range[1],n);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),n,e),new Uint8Array(i)},deserialize(n,i=0){let o=n.slice(i,i+t.size);$Yt("i8",o,t.size);let s=HYt(o);return[t.get(s,e),i+t.size]}}}var GYt=t=>t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset),HYt=t=>new DataView(GYt(t)),Vue=(t,e,r,n)=>{if(n<e||n>r)throw new h5(t,e,r,n)},$Yt=(t,e,r)=>{if(e.length===0)throw new Ea(t);if(e.length<r)throw new ff(t,r,e.length)};var Gue=(t={})=>to({name:"f32",size:4,set:(e,r,n)=>e.setFloat32(0,Number(r),n),get:(e,r)=>e.getFloat32(0,r),options:t});u();l();var Hue=(t={})=>to({name:"f64",size:8,set:(e,r,n)=>e.setFloat64(0,Number(r),n),get:(e,r)=>e.getFloat64(0,r),options:t});u();l();var $ue=(t={})=>to({name:"i8",size:1,range:[-+"0x7f"-1,+"0x7f"],set:(e,r)=>e.setInt8(0,Number(r)),get:e=>e.getInt8(0),options:t});u();l();var Yue=(t={})=>to({name:"i16",size:2,range:[-+"0x7fff"-1,+"0x7fff"],set:(e,r,n)=>e.setInt16(0,Number(r),n),get:(e,r)=>e.getInt16(0,r),options:t});u();l();var Xue=(t={})=>to({name:"i32",size:4,range:[-+"0x7fffffff"-1,+"0x7fffffff"],set:(e,r,n)=>e.setInt32(0,Number(r),n),get:(e,r)=>e.getInt32(0,r),options:t});u();l();var Zue=(t={})=>to({name:"i64",size:8,range:[-BigInt("0x7fffffffffffffff")-1n,BigInt("0x7fffffffffffffff")],set:(e,r,n)=>e.setBigInt64(0,BigInt(r),n),get:(e,r)=>e.getBigInt64(0,r),options:t});u();l();var Jue=(t={})=>to({name:"i128",size:16,range:[-BigInt("0x7fffffffffffffffffffffffffffffff")-1n,BigInt("0x7fffffffffffffffffffffffffffffff")],set:(e,r,n)=>{let i=n?8:0,o=n?0:8,s=0xffffffffffffffffn;e.setBigInt64(i,BigInt(r)>>64n,n),e.setBigUint64(o,BigInt(r)&s,n)},get:(e,r)=>{let n=r?8:0,i=r?0:8,o=e.getBigInt64(n,r),s=e.getBigUint64(i,r);return(o<<64n)+s},options:t});u();l();var Oo=(t={})=>to({name:"u8",size:1,range:[0,+"0xff"],set:(e,r)=>e.setUint8(0,Number(r)),get:e=>e.getUint8(0),options:t});u();l();var Que=(t={})=>to({name:"u16",size:2,range:[0,+"0xffff"],set:(e,r,n)=>e.setUint16(0,Number(r),n),get:(e,r)=>e.getUint16(0,r),options:t});u();l();var Th=(t={})=>to({name:"u32",size:4,range:[0,+"0xffffffff"],set:(e,r,n)=>e.setUint32(0,Number(r),n),get:(e,r)=>e.getUint32(0,r),options:t});u();l();var ele=(t={})=>to({name:"u64",size:8,range:[0,BigInt("0xffffffffffffffff")],set:(e,r,n)=>e.setBigUint64(0,BigInt(r),n),get:(e,r)=>e.getBigUint64(0,r),options:t});u();l();var tle=(t={})=>to({name:"u128",size:16,range:[0,BigInt("0xffffffffffffffffffffffffffffffff")],set:(e,r,n)=>{let i=n?8:0,o=n?0:8,s=0xffffffffffffffffn;e.setBigUint64(i,BigInt(r)>>64n,n),e.setBigUint64(o,BigInt(r)&s,n)},get:(e,r)=>{let n=r?8:0,i=r?0:8,o=e.getBigUint64(n,r),s=e.getBigUint64(i,r);return(o<<64n)+s},options:t});u();l();var Qy=(t={})=>({description:t.description??"shortU16",fixedSize:null,maxSize:3,serialize:e=>{Vue("shortU16",0,65535,e);let r=[0];for(let n=0;;n+=1){let i=e>>n*7;if(i===0)break;let o=127&i;r[n]=o,n>0&&(r[n-1]|=128)}return new Uint8Array(r)},deserialize:(e,r=0)=>{let n=0,i=0;for(;++i;){let o=i-1,s=e[r+o],a=127&s;if(n|=a<<o*7,!(s&128))break}return[n,r+i]}});u();l();u();l();var eg=class extends Error{name="InvalidNumberOfItemsError";constructor(e,r,n){super(`Expected [${e}] to have ${r} items, got ${n}.`)}};var m5=class extends Error{name="UnrecognizedArrayLikeSerializerSizeError";constructor(e){super(`Unrecognized array-like serializer size: ${JSON.stringify(e)}`)}},y5=class extends Error{name="InvalidDataEnumVariantError";constructor(e,r){super(`Invalid data enum variant. Expected one of [${r.join(", ")}], got "${e}".`)}},g5=class extends Error{name="InvalidScalarEnumVariantError";constructor(e,r,n,i){super(`Invalid scalar enum variant. Expected one of [${r.join(", ")}] or a number between ${n} and ${i}, got "${e}".`)}},Jv=class extends RangeError{name="EnumDiscriminatorOutOfRangeError";constructor(e,r,n){super(`Enum discriminator out of range. Expected a number between ${r} and ${n}, got ${e}.`)}};u();l();u();l();function cl(t){return t.reduce((e,r)=>e===null||r===null?null:e+r,0)}function Qv(t,e,r){if(typeof t=="number")return[t,r];if(typeof t=="object")return t.deserialize(e,r);throw new m5(t)}function cd(t){return typeof t=="object"?t.description:`${t}`}function Cb(t,e){if(typeof t!="number")return null;if(t===0)return 0;let r=cl(e);return r===null?null:r*t}function ex(t,e){return typeof t=="object"?t.serialize(e):new Uint8Array}function kh(t,e={}){let r=e.size??Th();return{description:e.description??`array(${t.description}; ${cd(r)})`,fixedSize:Cb(r,[t.fixedSize]),maxSize:Cb(r,[t.maxSize]),serialize:n=>{if(typeof r=="number"&&n.length!==r)throw new eg("array",r,n.length);return eo([ex(r,n.length),...n.map(i=>t.serialize(i))])},deserialize:(n,i=0)=>{let o=[];if(typeof r=="object"&&n.slice(i).length===0)return[o,i];if(r==="remainder"){for(;i<n.length;){let[c,d]=t.deserialize(n,i);o.push(c),i=d}return[o,i]}let[s,a]=Qv(r,n,i);i=a;for(let c=0;c<s;c+=1){let[d,f]=t.deserialize(n,i);o.push(d),i=f}return[o,i]}}}u();l();function rle(t={}){let e=t.size??Oo();if(e.fixedSize===null)throw new Rb("Serializer [bool] requires a fixed size.");return{description:t.description??`bool(${e.description})`,fixedSize:e.fixedSize,maxSize:e.fixedSize,serialize:r=>e.serialize(r?1:0),deserialize:(r,n=0)=>{if(r.slice(n).length===0)throw new Ea("bool");let[i,o]=e.deserialize(r,n);return[i===1,o]}}}u();l();function FE(t={}){let e=t.size??"variable",r=t.description??`bytes(${cd(e)})`,n={description:r,fixedSize:null,maxSize:null,serialize:i=>new Uint8Array(i),deserialize:(i,o=0)=>{let s=i.slice(o);return[s,o+s.length]}};return e==="variable"?n:typeof e=="number"?v2(n,e,r):{description:r,fixedSize:null,maxSize:null,serialize:i=>{let o=n.serialize(i),s=e.serialize(o.length);return eo([s,o])},deserialize:(i,o=0)=>{if(i.slice(o).length===0)throw new Ea("bytes");let[s,a]=e.deserialize(i,o),c=Number(s);o=a;let d=i.slice(o,o+c);if(d.length<c)throw new ff("bytes",c,d.length);let[f,p]=n.deserialize(d);return o+=p,[f,o]}}}u();l();u();l();function qqe(t){return t.reduce((e,r)=>e===null||r===null?null:Math.max(e,r),0)}function nle(t,e={}){let r=e.size??Oo(),n=t.map(([a,c])=>`${String(a)}${c?`: ${c.description}`:""}`).join(", "),o=t.every((a,c,d)=>a[1].fixedSize===d[0][1].fixedSize)?t[0][1].fixedSize:null,s=qqe(t.map(([,a])=>a.maxSize));return{description:e.description??`dataEnum(${n}; ${r.description})`,fixedSize:t.length===0?r.fixedSize:cl([r.fixedSize,o]),maxSize:t.length===0?r.maxSize:cl([r.maxSize,s]),serialize:a=>{let c=t.findIndex(([m])=>a.__kind===m);if(c<0)throw new y5(a.__kind,t.map(([m])=>m));let d=r.serialize(c),p=t[c][1].serialize(a);return eo([d,p])},deserialize:(a,c=0)=>{if(a.slice(c).length===0)throw new Ea("dataEnum");let[d,f]=r.deserialize(a,c);c=f;let p=t[Number(d)]??null;if(!p)throw new Jv(d,0,t.length-1);let[m,y]=p[1].deserialize(a,c);return c=y,[{__kind:p[0],...m??{}},c]}}}u();l();function ile(t,e,r={}){let n=r.size??Th();return{description:r.description??`map(${t.description}, ${e.description}; ${cd(n)})`,fixedSize:Cb(n,[t.fixedSize,e.fixedSize]),maxSize:Cb(n,[t.maxSize,e.maxSize]),serialize:i=>{if(typeof n=="number"&&i.size!==n)throw new eg("map",n,i.size);let o=Array.from(i,([s,a])=>eo([t.serialize(s),e.serialize(a)]));return eo([ex(n,i.size),...o])},deserialize:(i,o=0)=>{let s=new Map;if(typeof n=="object"&&i.slice(o).length===0)return[s,o];if(n==="remainder"){for(;o<i.length;){let[d,f]=t.deserialize(i,o);o=f;let[p,m]=e.deserialize(i,o);o=m,s.set(d,p)}return[s,o]}let[a,c]=Qv(n,i,o);o=c;for(let d=0;d<a;d+=1){let[f,p]=t.deserialize(i,o);o=p;let[m,y]=e.deserialize(i,o);o=y,s.set(f,m)}return[s,o]}}}u();l();function ole(t,e={}){let r=e.prefix??Oo(),n=e.fixed??!1,i=`; ${cd(r)}`,o=t.fixedSize===0?r.fixedSize:null;if(n){if(t.fixedSize===null||r.fixedSize===null)throw new Rb("Fixed nullables can only be used with fixed-size serializers");i+="; fixed",o=r.fixedSize+t.fixedSize}return{description:e.description??`nullable(${t.description+i})`,fixedSize:o,maxSize:cl([r.maxSize,t.maxSize]),serialize:s=>{let a=r.serialize(+(s!==null));if(n){let d=t.fixedSize,f=s!==null?t.serialize(s).slice(0,d):new Uint8Array(d).fill(0);return eo([a,f])}let c=s!==null?t.serialize(s):new Uint8Array;return eo([a,c])},deserialize:(s,a=0)=>{if(s.slice(a).length===0)return[null,a];let c=a+(r.fixedSize??0)+(t.fixedSize??0),[d,f]=r.deserialize(s,a);if(a=f,d===0)return[null,n?c:a];let[p,m]=t.deserialize(s,a);return a=m,[p,n?c:a]}}}u();l();function sle(t,e={}){let r=e.prefix??Oo(),n=e.fixed??!1,i=`; ${cd(r)}`,o=t.fixedSize===0?r.fixedSize:null;if(n){if(t.fixedSize===null||r.fixedSize===null)throw new Rb("Fixed options can only be used with fixed-size serializers");i+="; fixed",o=r.fixedSize+t.fixedSize}return{description:e.description??`option(${t.description+i})`,fixedSize:o,maxSize:cl([r.maxSize,t.maxSize]),serialize:s=>{let a=que(s)?s:jue(s),c=r.serialize(Number(Yv(a)));if(n){let f=t.fixedSize,p=Yv(a)?t.serialize(a.value).slice(0,f):new Uint8Array(f).fill(0);return eo([c,p])}let d=Yv(a)?t.serialize(a.value):new Uint8Array;return eo([c,d])},deserialize:(s,a=0)=>{if(s.slice(a).length===0)return[$v(),a];let c=a+(r.fixedSize??0)+(t.fixedSize??0),[d,f]=r.deserialize(s,a);if(a=f,d===0)return[$v(),n?c:a];let[p,m]=t.deserialize(s,a);return a=m,[k2(p),n?c:a]}}}u();l();function tx(t={}){return{description:t.description??"publicKey",fixedSize:32,maxSize:32,serialize:e=>Zv(pf(e)),deserialize:(e,r=0)=>{let n=e.slice(r,r+32);if(n.length===0)throw new Ea("publicKey");if(n.length<Xv)throw new ff("publicKey",Xv,n.length);return[pf(n),r+32]}}}u();l();function ale(t,e={}){let r=e.size??Oo(),n=Object.keys(t),i=Object.values(t),o=i.some(p=>typeof p=="number"),s=i.filter(p=>typeof p=="string").join(", "),a=0,c=o?i.length/2-1:i.length-1,d=o?[...n]:[...new Set([...n,...i])];function f(p){let m=typeof p=="number"&&(p<a||p>c),y=typeof p=="string"&&!d.includes(p);if(m||y)throw new g5(p,d,a,c)}return{description:e.description??`enum(${s}; ${r.description})`,fixedSize:r.fixedSize,maxSize:r.maxSize,serialize:p=>{if(f(p),typeof p=="number")return r.serialize(p);let m=i.indexOf(p);return m>=0?r.serialize(m):r.serialize(n.indexOf(p))},deserialize:(p,m=0)=>{if(p.slice(m).length===0)throw new Ea("enum");let[y,g]=r.deserialize(p,m),b=Number(y);if(m=g,b<a||b>c)throw new Jv(b,a,c);return[o?b:i[b],m]}}}u();l();function cle(t,e={}){let r=e.size??Th();return{description:e.description??`set(${t.description}; ${cd(r)})`,fixedSize:Cb(r,[t.fixedSize]),maxSize:Cb(r,[t.maxSize]),serialize:n=>{if(typeof r=="number"&&n.size!==r)throw new eg("set",r,n.size);let i=Array.from(n,o=>t.serialize(o));return eo([ex(r,n.size),...i])},deserialize:(n,i=0)=>{let o=new Set;if(typeof r=="object"&&n.slice(i).length===0)return[o,i];if(r==="remainder"){for(;i<n.length;){let[c,d]=t.deserialize(n,i);o.add(c),i=d}return[o,i]}let[s,a]=Qv(r,n,i);i=a;for(let c=0;c<s;c+=1){let[d,f]=t.deserialize(n,i);o.add(d),i=f}return[o,i]}}}u();l();function P2(t={}){let e=t.size??Th(),r=t.encoding??x2,n=t.description??`string(${r.description}; ${cd(e)})`;return e==="variable"?{...r,description:n}:typeof e=="number"?v2(r,e,n):{description:n,fixedSize:null,maxSize:null,serialize:i=>{let o=r.serialize(i),s=e.serialize(o.length);return eo([s,o])},deserialize:(i,o=0)=>{if(i.slice(o).length===0)throw new Ea("string");let[s,a]=e.deserialize(i,o),c=Number(s);o=a;let d=i.slice(o,o+c);if(d.length<c)throw new ff("string",c,d.length);let[f,p]=r.deserialize(d);return o+=p,[f,o]}}}u();l();function Bb(t,e={}){let r=t.map(([n,i])=>`${String(n)}: ${i.description}`).join(", ");return{description:e.description??`struct(${r})`,fixedSize:cl(t.map(([,n])=>n.fixedSize)),maxSize:cl(t.map(([,n])=>n.maxSize)),serialize:n=>{let i=t.map(([o,s])=>s.serialize(n[o]));return eo(i)},deserialize:(n,i=0)=>{let o={};return t.forEach(([s,a])=>{let[c,d]=a.deserialize(n,i);i=d,o[s]=c}),[o,i]}}}u();l();function ule(t,e={}){let r=t.map(n=>n.description).join(", ");return{description:e.description??`tuple(${r})`,fixedSize:cl(t.map(n=>n.fixedSize)),maxSize:cl(t.map(n=>n.maxSize)),serialize:n=>{if(n.length!==t.length)throw new eg("tuple",t.length,n.length);return eo(t.map((i,o)=>i.serialize(n[o])))},deserialize:(n,i=0)=>{let o=[];return t.forEach(s=>{let[a,c]=s.deserialize(n,i);o.push(a),i=c}),[o,i]}}}u();l();function lle(t={}){return{description:t.description??"unit",fixedSize:0,maxSize:0,serialize:()=>new Uint8Array,deserialize:(e,r=0)=>[void 0,r]}}u();l();u();l();u();l();var rx=class extends Error{name="UmiError";constructor(e,r,n,i){super(e),this.source=r,this.sourceDetails=n,this.cause=i,this.message=`${this.message}

Source: ${this.getFullSource()}${this.cause?`

Caused By: ${this.cause}`:""}
`}getCapitalizedSource(){return this.source==="sdk"||this.source==="rpc"?this.source.toUpperCase():this.source[0].toUpperCase()+this.source.slice(1)}getFullSource(){let e=this.getCapitalizedSource(),r=this.sourceDetails?` > ${this.sourceDetails}`:"";return e+r}toString(){return`[${this.name}] ${this.message}`}};var Mb=class extends rx{name="SdkError";constructor(e,r){super(e,"sdk",void 0,r)}};var dle=128;u();l();u();l();var O2=t=>(t=typeof t=="object"?t.toString():t,BigInt(t));var b5=(t,e,r)=>({basisPoints:O2(t),identifier:e,decimals:r});var Nb=t=>b5(t,"SOL",9);var fle=t=>t.basisPoints===BigInt(0);u();l();var YYt=["api.mainnet-beta.solana.com","ssc-dao.genesysgo.net"],XYt=["api.devnet.solana.com","psytrbhymqlkfrhudd.dev.genesysgo.net"],ZYt=["api.testnet.solana.com"],JYt=["localhost","127.0.0.1"],ple=t=>{let e=new URL(t).hostname;return YYt.includes(e)?"mainnet-beta":XYt.includes(e)?"devnet":ZYt.includes(e)?"testnet":JYt.includes(e)?"localnet":t.includes("mainnet")?"mainnet-beta":t.includes("devnet")?"devnet":t.includes("testnet")?"testnet":t.includes("local")?"localnet":"custom"};u();l();u();l();u();l();var ra=class extends Mb{name="InterfaceImplementationMissingError";constructor(e,r){let n=e.replace(/Interface$/,""),i=`Tried using ${e} but no implementation of that interface was found. Make sure an implementation is registered, e.g. via "context.${r} = new My${n}();".`;super(i)}};function jqe(){let t=()=>{throw new ra("DownloaderInterface","downloader")};return{download:t,downloadJson:t}}u();l();function Kqe(){let t=()=>{throw new ra("EddsaInterface","eddsa")};return{generateKeypair:t,createKeypairFromSecretKey:t,createKeypairFromSeed:t,isOnCurve:t,findPda:t,sign:t,verify:t}}u();l();function Wqe(){return{send:()=>{throw new ra("HttpInterface","http")}}}u();l();function Vqe(){let t=()=>{throw new ra("ProgramRepositoryInterface","programs")};return{has:t,get:t,getPublicKey:t,all:t,add:t,bind:t,unbind:t,clone:t,resolveError:t}}u();l();function Gqe(){let t=()=>{throw new ra("RpcInterface","rpc")};return{getEndpoint:t,getCluster:t,getAccount:t,getAccounts:t,getProgramAccounts:t,getBlockTime:t,getBalance:t,getRent:t,getSlot:t,getLatestBlockhash:t,getTransaction:t,getSignatureStatuses:t,accountExists:t,airdrop:t,call:t,sendTransaction:t,confirmTransaction:t}}u();l();function Hqe(){let t=()=>{throw new ra("SerializerInterface","serializer")};return{tuple:t,array:t,map:t,set:t,option:t,nullable:t,struct:t,enum:t,dataEnum:t,string:t,bool:t,unit:t,u8:t,u16:t,u32:t,u64:t,u128:t,i8:t,i16:t,i32:t,i64:t,i128:t,f32:t,f64:t,bytes:t,publicKey:t}}u();l();u();l();var hle=(t,e)=>t.reduce((r,n,i)=>{let o=Math.floor(i/e);return r[o]||(r[o]=[]),r[o].push(n),r},[]);var mle=t=>({publicKey:t,async signMessage(e){return e},async signTransaction(e){return e},async signAllTransactions(e){return e}});function _5(){let t=new Error("Trying to use a NullSigner. Did you forget to set a Signer on your Umi instance? See the `signerIdentity` method for more information."),e=()=>{throw t};return{get publicKey(){throw t},signMessage:e,signTransaction:e,signAllTransactions:e}}u();l();function $qe(){let t=()=>{throw new ra("TransactionFactoryInterface","transactions")};return{create:t,serialize:t,deserialize:t,serializeMessage:t,deserializeMessage:t}}u();l();function Yqe(){let t=()=>{throw new ra("UploaderInterface","uploader")};return{upload:t,uploadJson:t,getUploadPrice:t}}var Xqe=()=>({downloader:jqe(),eddsa:Kqe(),http:Wqe(),identity:_5(),payer:_5(),programs:Vqe(),rpc:Gqe(),serializer:Hqe(),transactions:$qe(),uploader:Yqe()});u();l();var yle=t=>{if(typeof t=="string"||QYt(t)){let e=new Date(t),r=Math.floor(e.getTime()/1e3);return O2(r)}return O2(t)};var QYt=t=>Object.prototype.toString.call(t)==="[object Date]";u();l();u();l();var Zqe=(t=20,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")=>{let r="",n=e.length;for(let i=0;i<t;i+=1)r+=e.charAt(Math.floor(Math.random()*n));return r};var gle=(t,e,r={})=>({buffer:typeof t=="string"?x2.serialize(t):t,fileName:e,displayName:r.displayName??e,uniqueName:r.uniqueName??Zqe(),contentType:r.contentType??null,extension:r.extension??eXt(e),tags:r.tags??[]});var eXt=t=>{let e=t.lastIndexOf(".");return e<0?null:t.slice(e+1)};u();l();var w5=()=>new S5({method:"get",data:void 0,headers:{},url:""}),S5=class t{constructor(e){this.request=e}asJson(){return this.contentType("application/json")}asMultipart(){return this.contentType("multipart/form-data")}asForm(){return this.contentType("application/x-www-form-urlencoded")}accept(e){return this.withHeader("accept",e)}contentType(e){return this.withHeader("content-type",e)}userAgent(e){return this.withHeader("user-agent",e)}withToken(e,r="Bearer"){return this.withHeader("authorization",`${r} ${e}`)}withHeader(e,r){return this.withHeaders({[e]:r})}withHeaders(e){return new t({...this.request,headers:{...this.request.headers,...e}})}dontFollowRedirects(){return this.followRedirects(0)}followRedirects(e){return new t({...this.request,maxRedirects:e})}withoutTimeout(){return this.withTimeout(0)}withTimeout(e){return new t({...this.request,timeout:e})}withAbortSignal(e){return new t({...this.request,signal:e})}withEndpoint(e,r){return new t({...this.request,method:e,url:r})}withParams(e){let r=new URL(this.request.url),n=new URLSearchParams(e),i=new URLSearchParams(r.searchParams);return[...n.entries()].forEach(([o,s])=>{i.append(o,s)}),r.search=i.toString(),new t({...this.request,url:r.toString()})}withData(e){return new t({...this.request,data:e})}get(e){return this.withEndpoint("get",e)}post(e){return this.withEndpoint("post",e)}put(e){return this.withEndpoint("put",e)}patch(e){return this.withEndpoint("patch",e)}delete(e){return this.withEndpoint("delete",e)}get method(){return this.request.method}get url(){return this.request.url}get data(){return this.request.data}get headers(){return this.request.headers}get maxRedirects(){return this.request.maxRedirects}get timeout(){return this.request.timeout}get signal(){return this.request.signal}};u();l();var ble=(t,e=!0)=>({install(r){r.identity=t,e&&(r.payer=t)}});u();l();var _le=()=>({...Xqe(),use(t){return t.install(this),this}});u();l();var R2=class extends rx{name="ProgramError";constructor(e,r,n){super(e,"program",`${r.name} [${r.publicKey}]`,n),this.program=r,this.logs=n?.logs,this.logs&&(this.message+=`
Program Logs:
${this.logs.map(i=>`| ${i}`).join(`
`)}
`)}};u();l();u();l();u();l();u();l();function Jqe(t){let e=async(i,o={})=>{let s=await t.http.send(w5().get(i).withAbortSignal(o.signal));return gle(s.body,i)};return{download:async(i,o={})=>Promise.all(i.map(s=>e(s,o))),downloadJson:async(i,o={})=>(await t.http.send(w5().get(i).withAbortSignal(o.signal))).data}}u();l();var Sle=()=>({install(t){t.downloader=Jqe(t)}});u();l();u();l();u();l();u();l();u();l();var eje=Oe(Ne(),1),tje=Oe(EI(),1);u();l();var Qqe=Oe(Ne(),1);function ul(t){return t.toBase58()}function Os(t){return new Qqe.PublicKey(t)}function qE(t){return new eje.TransactionInstruction({keys:t.keys.map(e=>({...e,pubkey:Os(e.pubkey)})),programId:Os(t.programId),data:tje.Buffer.from(t.data)})}u();l();var tXt=Oe(Ne(),1);function C2(t){return{publicKey:ul(t.publicKey),secretKey:t.secretKey}}u();l();var nx=Oe(Ne(),1);function B2(t){return{version:t.version,header:t.header,accounts:t.staticAccountKeys.map(ul),blockhash:t.recentBlockhash,instructions:t.compiledInstructions.map(e=>({programIndex:e.programIdIndex,accountIndexes:e.accountKeyIndexes,data:new Uint8Array(e.data)})),addressLookupTables:t.addressTableLookups.map(e=>({publicKey:ul(e.accountKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))}}function wle(t){return t.version==="legacy"?nx.Message.compile({payerKey:Os(t.payer),instructions:t.instructions.map(qE),recentBlockhash:t.blockhash}):nx.MessageV0.compile({payerKey:Os(t.payer),instructions:t.instructions.map(qE),recentBlockhash:t.blockhash,addressLookupTableAccounts:t.addressLookupTables?.map(e=>new nx.AddressLookupTableAccount({key:Os(e.publicKey),state:{addresses:e.addresses.map(Os),authority:void 0,deactivationSlot:BigInt(`0x${"ff".repeat(8)}`),lastExtendedSlot:0,lastExtendedSlotStartIndex:0}}))})}u();l();u();l();u();l();u();l();function rXt(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Ale(t,...e){if(!rXt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Ele(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function rje(t,e){Ale(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}u();l();u();l();var jE=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var E5=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var Iyn=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function nje(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ile(t){return typeof t=="string"&&(t=nje(t)),Ale(t),t}var A5=class{clone(){return this._cloneInto()}},Tyn={}.toString;function ije(t){let e=n=>t().update(Ile(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function oje(t=32){if(jE&&typeof jE.getRandomValues=="function")return jE.getRandomValues(new Uint8Array(t));if(jE&&typeof jE.randomBytes=="function")return jE.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function nXt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,d=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+d,a,n)}var I5=class extends A5{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=E5(this.buffer)}update(e){Ele(this);let{view:r,buffer:n,blockLen:i}=this;e=Ile(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=E5(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ele(this),rje(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let p=s;p<i;p++)r[p]=0;nXt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=E5(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=c/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)a.setUint32(4*p,f[p],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};u();l();var T5=BigInt(4294967295),Tle=BigInt(32);function sje(t,e=!1){return e?{h:Number(t&T5),l:Number(t>>Tle&T5)}:{h:Number(t>>Tle&T5)|0,l:Number(t&T5)|0}}function iXt(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=sje(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var oXt=(t,e)=>BigInt(t>>>0)<<Tle|BigInt(e>>>0),sXt=(t,e,r)=>t>>>r,aXt=(t,e,r)=>t<<32-r|e>>>r,cXt=(t,e,r)=>t>>>r|e<<32-r,uXt=(t,e,r)=>t<<32-r|e>>>r,lXt=(t,e,r)=>t<<64-r|e>>>r-32,dXt=(t,e,r)=>t>>>r-32|e<<64-r,fXt=(t,e)=>e,pXt=(t,e)=>t,hXt=(t,e,r)=>t<<r|e>>>32-r,mXt=(t,e,r)=>e<<r|t>>>32-r,yXt=(t,e,r)=>e<<r-32|t>>>64-r,gXt=(t,e,r)=>t<<r-32|e>>>64-r;function bXt(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var _Xt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),SXt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,wXt=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),AXt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,EXt=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),IXt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var TXt={fromBig:sje,split:iXt,toBig:oXt,shrSH:sXt,shrSL:aXt,rotrSH:cXt,rotrSL:uXt,rotrBH:lXt,rotrBL:dXt,rotr32H:fXt,rotr32L:pXt,rotlSH:hXt,rotlSL:mXt,rotlBH:yXt,rotlBL:gXt,add:bXt,add3L:_Xt,add3H:SXt,add4L:wXt,add4H:AXt,add5H:IXt,add5L:EXt},Sr=TXt;var[kXt,vXt]=Sr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),US=new Uint32Array(80),LS=new Uint32Array(80),kle=class extends I5{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:d,El:f,Fh:p,Fl:m,Gh:y,Gl:g,Hh:b,Hl:S}=this;return[e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,S]}set(e,r,n,i,o,s,a,c,d,f,p,m,y,g,b,S){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=d|0,this.El=f|0,this.Fh=p|0,this.Fl=m|0,this.Gh=y|0,this.Gl=g|0,this.Hh=b|0,this.Hl=S|0}process(e,r){for(let L=0;L<16;L++,r+=4)US[L]=e.getUint32(r),LS[L]=e.getUint32(r+=4);for(let L=16;L<80;L++){let j=US[L-15]|0,Z=LS[L-15]|0,se=Sr.rotrSH(j,Z,1)^Sr.rotrSH(j,Z,8)^Sr.shrSH(j,Z,7),Ee=Sr.rotrSL(j,Z,1)^Sr.rotrSL(j,Z,8)^Sr.shrSL(j,Z,7),be=US[L-2]|0,fe=LS[L-2]|0,w=Sr.rotrSH(be,fe,19)^Sr.rotrBH(be,fe,61)^Sr.shrSH(be,fe,6),R=Sr.rotrSL(be,fe,19)^Sr.rotrBL(be,fe,61)^Sr.shrSL(be,fe,6),B=Sr.add4L(Ee,R,LS[L-7],LS[L-16]),C=Sr.add4H(B,se,w,US[L-7],US[L-16]);US[L]=C|0,LS[L]=B|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:d,Dl:f,Eh:p,El:m,Fh:y,Fl:g,Gh:b,Gl:S,Hh:P,Hl:U}=this;for(let L=0;L<80;L++){let j=Sr.rotrSH(p,m,14)^Sr.rotrSH(p,m,18)^Sr.rotrBH(p,m,41),Z=Sr.rotrSL(p,m,14)^Sr.rotrSL(p,m,18)^Sr.rotrBL(p,m,41),se=p&y^~p&b,Ee=m&g^~m&S,be=Sr.add5L(U,Z,Ee,vXt[L],LS[L]),fe=Sr.add5H(be,P,j,se,kXt[L],US[L]),w=be|0,R=Sr.rotrSH(n,i,28)^Sr.rotrBH(n,i,34)^Sr.rotrBH(n,i,39),B=Sr.rotrSL(n,i,28)^Sr.rotrBL(n,i,34)^Sr.rotrBL(n,i,39),C=n&o^n&a^o&a,O=i&s^i&c^s&c;P=b|0,U=S|0,b=y|0,S=g|0,y=p|0,g=m|0,{h:p,l:m}=Sr.add(d|0,f|0,fe|0,w|0),d=a|0,f=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let N=Sr.add3L(w,B,O);n=Sr.add3H(N,fe,R,C),i=N|0}({h:n,l:i}=Sr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Sr.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=Sr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:d,l:f}=Sr.add(this.Dh|0,this.Dl|0,d|0,f|0),{h:p,l:m}=Sr.add(this.Eh|0,this.El|0,p|0,m|0),{h:y,l:g}=Sr.add(this.Fh|0,this.Fl|0,y|0,g|0),{h:b,l:S}=Sr.add(this.Gh|0,this.Gl|0,b|0,S|0),{h:P,l:U}=Sr.add(this.Hh|0,this.Hl|0,P|0,U|0),this.set(n,i,o,s,a,c,d,f,p,m,y,g,b,S,P,U)}roundClean(){US.fill(0),LS.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var aje=ije(()=>new kle);u();l();u();l();u();l();u();l();var uje=BigInt(0),lje=BigInt(1),xXt=BigInt(2);function xle(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Ple(t){if(!xle(t))throw new Error("Uint8Array expected")}function k5(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)}var PXt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function v5(t){Ple(t);let e="";for(let r=0;r<t.length;r++)e+=PXt[t[r]];return e}function dje(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}var Db={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function cje(t){if(t>=Db._0&&t<=Db._9)return t-Db._0;if(t>=Db._A&&t<=Db._F)return t-(Db._A-10);if(t>=Db._a&&t<=Db._f)return t-(Db._a-10)}function fje(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=cje(t.charCodeAt(o)),a=cje(t.charCodeAt(o+1));if(s===void 0||a===void 0){let c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function pje(t){return dje(v5(t))}function ix(t){return Ple(t),dje(v5(Uint8Array.from(t).reverse()))}function Ole(t,e){return fje(t.toString(16).padStart(e*2,"0"))}function M2(t,e){return Ole(t,e).reverse()}function tg(t,e,r){let n;if(typeof e=="string")try{n=fje(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(xle(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Rle(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];Ple(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var vle=t=>typeof t=="bigint"&&uje<=t;function OXt(t,e,r){return vle(t)&&vle(e)&&vle(r)&&e<=t&&t<r}function ox(t,e,r,n){if(!OXt(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)}function hje(t){let e;for(e=0;t>uje;t>>=lje,e+=1);return e}var mje=t=>(xXt<<BigInt(t-1))-lje;var RXt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||xle(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function sx(t,e,r={}){let n=(i,o,s)=>{let a=RXt[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);let c=t[i];if(!(s&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}function Cle(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let o=t(r,...n);return e.set(r,o),o}}var Rs=BigInt(0),Eo=BigInt(1),KE=BigInt(2),BXt=BigInt(3),Ble=BigInt(4),yje=BigInt(5),gje=BigInt(8),MXt=BigInt(9),NXt=BigInt(16);function Ro(t,e){let r=t%e;return r>=Rs?r:e+r}function DXt(t,e,r){if(r<=Rs||e<Rs)throw new Error("Expected power/modulo > 0");if(r===Eo)return Rs;let n=Eo;for(;e>Rs;)e&Eo&&(n=n*t%r),t=t*t%r,e>>=Eo;return n}function vh(t,e,r){let n=t;for(;e-- >Rs;)n*=n,n%=r;return n}function bje(t,e){if(t===Rs||e<=Rs)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Ro(t,e),n=e,i=Rs,o=Eo,s=Eo,a=Rs;for(;r!==Rs;){let d=n/r,f=n%r,p=i-s*d,m=o-a*d;n=r,r=f,i=s,o=a,s=p,a=m}if(n!==Eo)throw new Error("invert: does not exist");return Ro(i,e)}function UXt(t){let e=(t-Eo)/KE,r,n,i;for(r=t-Eo,n=0;r%KE===Rs;r/=KE,n++);for(i=KE;i<t&&DXt(i,e,t)!==t-Eo;i++);if(n===1){let s=(t+Eo)/Ble;return function(c,d){let f=c.pow(d,s);if(!c.eql(c.sqr(f),d))throw new Error("Cannot find square root");return f}}let o=(r+Eo)/KE;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let d=n,f=a.pow(a.mul(a.ONE,i),r),p=a.pow(c,o),m=a.pow(c,r);for(;!a.eql(m,a.ONE);){if(a.eql(m,a.ZERO))return a.ZERO;let y=1;for(let b=a.sqr(m);y<d&&!a.eql(b,a.ONE);y++)b=a.sqr(b);let g=a.pow(f,Eo<<BigInt(d-y-1));f=a.sqr(g),p=a.mul(p,g),m=a.mul(m,f),d=y}return p}}function LXt(t){if(t%Ble===BXt){let e=(t+Eo)/Ble;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%gje===yje){let e=(t-yje)/gje;return function(n,i){let o=n.mul(i,KE),s=n.pow(o,e),a=n.mul(i,s),c=n.mul(n.mul(a,KE),s),d=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(d),i))throw new Error("Cannot find square root");return d}}return t%NXt,UXt(t)}var _je=(t,e)=>(Ro(t,e)&Eo)===Eo,zXt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Sje(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=zXt.reduce((n,i)=>(n[i]="function",n),e);return sx(t,r)}function FXt(t,e,r){if(r<Rs)throw new Error("Expected power > 0");if(r===Rs)return t.ONE;if(r===Eo)return e;let n=t.ONE,i=e;for(;r>Rs;)r&Eo&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Eo;return n}function qXt(t,e){let r=new Array(e.length),n=e.reduce((o,s,a)=>t.is0(s)?o:(r[a]=o,t.mul(o,s)),t.ONE),i=t.inv(n);return e.reduceRight((o,s,a)=>t.is0(s)?o:(r[a]=t.mul(o,r[a]),t.mul(o,s)),i),r}function Mle(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function x5(t,e,r=!1,n={}){if(t<=Rs)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=Mle(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=LXt(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:mje(i),ZERO:Rs,ONE:Eo,create:c=>Ro(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Rs<=c&&c<t},is0:c=>c===Rs,isOdd:c=>(c&Eo)===Eo,neg:c=>Ro(-c,t),eql:(c,d)=>c===d,sqr:c=>Ro(c*c,t),add:(c,d)=>Ro(c+d,t),sub:(c,d)=>Ro(c-d,t),mul:(c,d)=>Ro(c*d,t),pow:(c,d)=>FXt(a,c,d),div:(c,d)=>Ro(c*bje(d,t),t),sqrN:c=>c*c,addN:(c,d)=>c+d,subN:(c,d)=>c-d,mulN:(c,d)=>c*d,inv:c=>bje(c,t),sqrt:n.sqrt||(c=>s(a,c)),invertBatch:c=>qXt(a,c),cmov:(c,d,f)=>f?d:c,toBytes:c=>r?M2(c,o):Ole(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?ix(c):pje(c)}});return Object.freeze(a)}var jXt=BigInt(0),Nle=BigInt(1),Dle=new WeakMap,wje=new WeakMap;function Aje(t,e){let r=(o,s)=>{let a=s.negate();return o?a:s},n=o=>{if(!Number.isSafeInteger(o)||o<=0||o>e)throw new Error(`Wrong window size=${o}, should be [1..${e}]`)},i=o=>{n(o);let s=Math.ceil(e/o)+1,a=2**(o-1);return{windows:s,windowSize:a}};return{constTimeNegate:r,unsafeLadder(o,s){let a=t.ZERO,c=o;for(;s>jXt;)s&Nle&&(a=a.add(c)),c=c.double(),s>>=Nle;return a},precomputeWindow(o,s){let{windows:a,windowSize:c}=i(s),d=[],f=o,p=f;for(let m=0;m<a;m++){p=f,d.push(p);for(let y=1;y<c;y++)p=p.add(f),d.push(p);f=p.double()}return d},wNAF(o,s,a){let{windows:c,windowSize:d}=i(o),f=t.ZERO,p=t.BASE,m=BigInt(2**o-1),y=2**o,g=BigInt(o);for(let b=0;b<c;b++){let S=b*d,P=Number(a&m);a>>=g,P>d&&(P-=y,a+=Nle);let U=S,L=S+Math.abs(P)-1,j=b%2!==0,Z=P<0;P===0?p=p.add(r(j,s[U])):f=f.add(r(Z,s[L]))}return{p:f,f:p}},wNAFCached(o,s,a){let c=wje.get(o)||1,d=Dle.get(o);return d||(d=this.precomputeWindow(o,c),c!==1&&Dle.set(o,a(d))),this.wNAF(c,d,s)},setWindowSize(o,s){n(s),wje.set(o,s),Dle.delete(o)}}}function Eje(t,e,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((f,p)=>{if(!e.isValid(f))throw new Error(`wrong scalar at index ${p}`)}),r.forEach((f,p)=>{if(!(f instanceof t))throw new Error(`wrong point at index ${p}`)});let i=hje(BigInt(r.length)),o=i>12?i-3:i>4?i-2:i?2:1,s=(1<<o)-1,a=new Array(s+1).fill(t.ZERO),c=Math.floor((e.BITS-1)/o)*o,d=t.ZERO;for(let f=c;f>=0;f-=o){a.fill(t.ZERO);for(let m=0;m<n.length;m++){let y=n[m],g=Number(y>>BigInt(f)&BigInt(s));a[g]=a[g].add(r[m])}let p=t.ZERO;for(let m=a.length-1,y=t.ZERO;m>0;m--)y=y.add(a[m]),p=p.add(y);if(d=d.add(p),f!==0)for(let m=0;m<o;m++)d=d.double()}return d}function Ije(t){return Sje(t.Fp),sx(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Mle(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var xh=BigInt(0),ud=BigInt(1),P5=BigInt(2),KXt=BigInt(8),WXt={zip215:!0};function VXt(t){let e=Ije(t);return sx(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Tje(t){let e=VXt(t),{Fp:r,n,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=e,d=P5<<BigInt(a*8)-ud,f=r.create,p=x5(e.n,e.nBitLength),m=e.uvRatio||((ie,ue)=>{try{return{isValid:!0,value:r.sqrt(ie*r.inv(ue))}}catch{return{isValid:!1,value:xh}}}),y=e.adjustScalarBytes||(ie=>ie),g=e.domain||((ie,ue,me)=>{if(k5("phflag",me),ue.length||me)throw new Error("Contexts/pre-hash are not supported");return ie});function b(ie,ue){ox("coordinate "+ie,ue,xh,d)}function S(ie){if(!(ie instanceof L))throw new Error("ExtendedPoint expected")}let P=Cle((ie,ue)=>{let{ex:me,ey:ye,ez:Ge}=ie,Be=ie.is0();ue==null&&(ue=Be?KXt:r.inv(Ge));let Fe=f(me*ue),Ae=f(ye*ue),wt=f(Ge*ue);if(Be)return{x:xh,y:ud};if(wt!==ud)throw new Error("invZ was invalid");return{x:Fe,y:Ae}}),U=Cle(ie=>{let{a:ue,d:me}=e;if(ie.is0())throw new Error("bad point: ZERO");let{ex:ye,ey:Ge,ez:Be,et:Fe}=ie,Ae=f(ye*ye),wt=f(Ge*Ge),Lt=f(Be*Be),zn=f(Lt*Lt),qt=f(Ae*ue),rr=f(Lt*f(qt+wt)),z=f(zn+f(me*f(Ae*wt)));if(rr!==z)throw new Error("bad point: equation left != right (1)");let F=f(ye*Ge),K=f(Be*Fe);if(F!==K)throw new Error("bad point: equation left != right (2)");return!0});class L{constructor(ue,me,ye,Ge){this.ex=ue,this.ey=me,this.ez=ye,this.et=Ge,b("x",ue),b("y",me),b("z",ye),b("t",Ge),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(ue){if(ue instanceof L)throw new Error("extended point not allowed");let{x:me,y:ye}=ue||{};return b("x",me),b("y",ye),new L(me,ye,ud,f(me*ye))}static normalizeZ(ue){let me=r.invertBatch(ue.map(ye=>ye.ez));return ue.map((ye,Ge)=>ye.toAffine(me[Ge])).map(L.fromAffine)}static msm(ue,me){return Eje(L,p,ue,me)}_setWindowSize(ue){se.setWindowSize(this,ue)}assertValidity(){U(this)}equals(ue){S(ue);let{ex:me,ey:ye,ez:Ge}=this,{ex:Be,ey:Fe,ez:Ae}=ue,wt=f(me*Ae),Lt=f(Be*Ge),zn=f(ye*Ae),qt=f(Fe*Ge);return wt===Lt&&zn===qt}is0(){return this.equals(L.ZERO)}negate(){return new L(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){let{a:ue}=e,{ex:me,ey:ye,ez:Ge}=this,Be=f(me*me),Fe=f(ye*ye),Ae=f(P5*f(Ge*Ge)),wt=f(ue*Be),Lt=me+ye,zn=f(f(Lt*Lt)-Be-Fe),qt=wt+Fe,rr=qt-Ae,z=wt-Fe,F=f(zn*rr),K=f(qt*z),de=f(zn*z),ee=f(rr*qt);return new L(F,K,ee,de)}add(ue){S(ue);let{a:me,d:ye}=e,{ex:Ge,ey:Be,ez:Fe,et:Ae}=this,{ex:wt,ey:Lt,ez:zn,et:qt}=ue;if(me===BigInt(-1)){let Ie=f((Be-Ge)*(Lt+wt)),bt=f((Be+Ge)*(Lt-wt)),Ve=f(bt-Ie);if(Ve===xh)return this.double();let Et=f(Fe*P5*qt),Fn=f(Ae*P5*zn),jt=Fn+Et,Pt=bt+Ie,D=Fn-Et,k=f(jt*Ve),x=f(Pt*D),q=f(jt*D),J=f(Ve*Pt);return new L(k,x,J,q)}let rr=f(Ge*wt),z=f(Be*Lt),F=f(Ae*ye*qt),K=f(Fe*zn),de=f((Ge+Be)*(wt+Lt)-rr-z),ee=K-F,oe=K+F,_e=f(z-me*rr),Q=f(de*ee),ne=f(oe*_e),ge=f(de*_e),ae=f(ee*oe);return new L(Q,ne,ae,ge)}subtract(ue){return this.add(ue.negate())}wNAF(ue){return se.wNAFCached(this,ue,L.normalizeZ)}multiply(ue){let me=ue;ox("scalar",me,ud,n);let{p:ye,f:Ge}=this.wNAF(me);return L.normalizeZ([ye,Ge])[0]}multiplyUnsafe(ue){let me=ue;return ox("scalar",me,xh,n),me===xh?Z:this.equals(Z)||me===ud?this:this.equals(j)?this.wNAF(me).p:se.unsafeLadder(this,me)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return se.unsafeLadder(this,n).is0()}toAffine(ue){return P(this,ue)}clearCofactor(){let{h:ue}=e;return ue===ud?this:this.multiplyUnsafe(ue)}static fromHex(ue,me=!1){let{d:ye,a:Ge}=e,Be=r.BYTES;ue=tg("pointHex",ue,Be),k5("zip215",me);let Fe=ue.slice(),Ae=ue[Be-1];Fe[Be-1]=Ae&-129;let wt=ix(Fe),Lt=me?d:r.ORDER;ox("pointHex.y",wt,xh,Lt);let zn=f(wt*wt),qt=f(zn-ud),rr=f(ye*zn-Ge),{isValid:z,value:F}=m(qt,rr);if(!z)throw new Error("Point.fromHex: invalid y coordinate");let K=(F&ud)===ud,de=(Ae&128)!==0;if(!me&&F===xh&&de)throw new Error("Point.fromHex: x=0 and x_0=1");return de!==K&&(F=f(-F)),L.fromAffine({x:F,y:wt})}static fromPrivateKey(ue){return fe(ue).point}toRawBytes(){let{x:ue,y:me}=this.toAffine(),ye=M2(me,r.BYTES);return ye[ye.length-1]|=ue&ud?128:0,ye}toHex(){return v5(this.toRawBytes())}}L.BASE=new L(e.Gx,e.Gy,ud,f(e.Gx*e.Gy)),L.ZERO=new L(xh,ud,ud,xh);let{BASE:j,ZERO:Z}=L,se=Aje(L,a*8);function Ee(ie){return Ro(ie,n)}function be(ie){return Ee(ix(ie))}function fe(ie){let ue=a;ie=tg("private key",ie,ue);let me=tg("hashed private key",o(ie),2*ue),ye=y(me.slice(0,ue)),Ge=me.slice(ue,2*ue),Be=be(ye),Fe=j.multiply(Be),Ae=Fe.toRawBytes();return{head:ye,prefix:Ge,scalar:Be,point:Fe,pointBytes:Ae}}function w(ie){return fe(ie).pointBytes}function R(ie=new Uint8Array,...ue){let me=Rle(...ue);return be(o(g(me,tg("context",ie),!!i)))}function B(ie,ue,me={}){ie=tg("message",ie),i&&(ie=i(ie));let{prefix:ye,scalar:Ge,pointBytes:Be}=fe(ue),Fe=R(me.context,ye,ie),Ae=j.multiply(Fe).toRawBytes(),wt=R(me.context,Ae,Be,ie),Lt=Ee(Fe+wt*Ge);ox("signature.s",Lt,xh,n);let zn=Rle(Ae,M2(Lt,r.BYTES));return tg("result",zn,a*2)}let C=WXt;function O(ie,ue,me,ye=C){let{context:Ge,zip215:Be}=ye,Fe=r.BYTES;ie=tg("signature",ie,2*Fe),ue=tg("message",ue),Be!==void 0&&k5("zip215",Be),i&&(ue=i(ue));let Ae=ix(ie.slice(Fe,2*Fe)),wt,Lt,zn;try{wt=L.fromHex(me,Be),Lt=L.fromHex(ie.slice(0,Fe),Be),zn=j.multiplyUnsafe(Ae)}catch{return!1}if(!Be&&wt.isSmallOrder())return!1;let qt=R(Ge,Lt.toRawBytes(),wt.toRawBytes(),ue);return Lt.add(wt.multiplyUnsafe(qt)).subtract(zn).clearCofactor().equals(L.ZERO)}return j._setWindowSize(8),{CURVE:e,getPublicKey:w,sign:B,verify:O,ExtendedPoint:L,utils:{getExtendedPublicKey:fe,randomPrivateKey:()=>s(r.BYTES),precompute(ie=8,ue=L.BASE){return ue._setWindowSize(ie),ue.multiply(BigInt(3)),ue}}}}var Ule=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),kje=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),fgn=BigInt(0),GXt=BigInt(1),vje=BigInt(2),pgn=BigInt(3),HXt=BigInt(5),$Xt=BigInt(8);function YXt(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=Ule,a=t*t%o*t%o,c=vh(a,vje,o)*a%o,d=vh(c,GXt,o)*t%o,f=vh(d,HXt,o)*d%o,p=vh(f,e,o)*f%o,m=vh(p,r,o)*p%o,y=vh(m,n,o)*m%o,g=vh(y,i,o)*y%o,b=vh(g,i,o)*y%o,S=vh(b,e,o)*f%o;return{pow_p_5_8:vh(S,vje,o)*t%o,b2:a}}function XXt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function ZXt(t,e){let r=Ule,n=Ro(e*e*e,r),i=Ro(n*n*e,r),o=YXt(t*i).pow_p_5_8,s=Ro(t*n*o,r),a=Ro(e*s*s,r),c=s,d=Ro(s*kje,r),f=a===t,p=a===Ro(-t,r),m=a===Ro(-t*kje,r);return f&&(s=c),(p||m)&&(s=d),_je(s,r)&&(s=Ro(-s,r)),{isValid:f||p,value:s}}var JXt=x5(Ule,void 0,!0),QXt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:JXt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:$Xt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:aje,randomBytes:oje,adjustScalarBytes:XXt,uvRatio:ZXt},Lle=Tje(QXt);var WE=Oe(Ne(),1);function xje(){return{generateKeypair:()=>C2(WE.Keypair.generate()),createKeypairFromSecretKey:a=>C2(WE.Keypair.fromSecretKey(a)),createKeypairFromSeed:a=>C2(WE.Keypair.fromSeed(a)),isOnCurve:a=>WE.PublicKey.isOnCurve(Os(pf(a))),findPda:(a,c)=>{let[d,f]=WE.PublicKey.findProgramAddressSync(c,Os(pf(a)));return[ul(d),f]},sign:(a,c)=>Lle.sign(a,c.secretKey.slice(0,32)),verify:(a,c,d)=>Lle.verify(c,a,Zv(d))}}var zle=()=>({install(t){t.eddsa=xje()}});u();l();u();l();var Rje=Oe(Oje(),1);function Cje(){return{send:async t=>{let e=t.headers?Object.entries(t.headers).reduce((d,[f,p])=>({...d,[f.toLowerCase()]:(Array.isArray(p)?p.join(", "):p).toLowerCase()}),{}):{},r=e["content-type"]?.includes("application/json")??!1,n;r&&t.data?n=JSON.stringify(t.data):n=t.data;let i={method:t.method,body:n,headers:e,follow:t.maxRedirects,signal:t.signal,timeout:t.timeout},o=await(0,Rje.default)(t.url,i),s=o.headers.get("content-type")?.includes("application/json")??!1,a=await o.text();return{data:(s?JSON.parse(a):void 0)??a,body:a,ok:o.ok,status:o.status,statusText:o.statusText,headers:Object.fromEntries(o.headers.entries())}}}}u();l();var Fle=()=>({install(t){t.http=Cje()}});u();l();u();l();u();l();var O5=class extends Mb{name="ProgramNotRecognizedError";constructor(e,r){let n=!zE(e),i=e,o=r==="*"?"any":`the [${r}]`,s=`The provided program ${n?"name":"address"} [${i}] is not recognized in ${o} cluster. Did you forget to register this program? If so, you may use "context.programs.add(myProgram)" to fix this.`;super(s),this.identifier=e,this.cluster=r}},R5=class extends R2{name="ProgramErrorNotRecognizedError";constructor(e,r){let n=r.code?` of code [${r.code}]`:"",i=`The program [${e.name}] at address [${e.publicKey}] raised an error${n} that is not recognized by the programs registered on the SDK. Please check the underlying program error below for more details.`;super(i,e,r)}};function qle(t,e=[],r={}){let n=[...e],i={...r},o=(S,P="current")=>{let U=c(P),L=b(S);return zE(L)?U.some(j=>j.publicKey===L):U.some(j=>j.name===L)},s=(S,P="current")=>{let U=g(P),L=c(P),j=b(S),Z=zE(j)?L.find(se=>se.publicKey===j):L.find(se=>se.name===j);if(!Z)throw new O5(j,U);return Z},a=(S,P,U)=>{try{return s(S,U).publicKey}catch(L){if(P===void 0)throw L;return pf(P)}},c=(S="current")=>{let P=g(S);return P==="*"?n:n.filter(U=>U.isOnCluster(P))},d=(S,P=!0)=>{!P&&o(S.publicKey,"*")||n.unshift(S)},f=(S,P)=>{i[S]=P,b(S)},p=S=>{delete i[S]},m=()=>qle(t,n,i),y=(S,P)=>{if(!Array.isArray(S.logs)||S.logs.length===0)return null;let U=S.logs.join(`
`),L=/Error processing Instruction (\d+):/,j=S.message.match(L)?.[1]??null,Z=/Custom program error: (0x[a-f0-9]+)/i,se=U.match(Z)?.[1]??null,Ee=se?parseInt(se,16):null;if(j===null||Ee===null)return null;let be=parseInt(j,10),fe=P.message.instructions?.[be]?.programIndex??null,w=fe?P.message.accounts[fe]:null;if(!w)return null;let R;try{R=s(w)}catch{return null}return R.getErrorFromCode(Ee,S)??new R5(R,S)},g=S=>S==="current"?t.rpc.getCluster():S,b=(S,P=[])=>{if(zE(S)||i[S]===void 0)return S;let U=[...P,S];if(P.includes(S))throw new Error(`Circular binding detected: ${U.join(" -> ")}`);return b(i[S],U)};return{has:o,get:s,getPublicKey:a,all:c,add:d,bind:f,unbind:p,clone:m,resolveError:y}}u();l();var jle=()=>({install(t){t.programs=qle(t)}});u();l();u();l();u();l();var C5=Oe(Ne(),1);function Kle(t,e,r){let n=null,i=()=>n||(typeof e=="string"?n=new C5.Connection(e,r):n=e,n),o=ple(i().rpcEndpoint),s=async(j,Z={})=>{let se=await i().getAccountInfo(Os(j),Z);return Bje(se,j)},a=async(j,Z={})=>(await i().getMultipleAccountsInfo(j.map(Os),Z)).map((Ee,be)=>Bje(Ee,j[be])),c=async(j,Z={})=>(await i().getProgramAccounts(Os(j),{...Z,filters:Z.filters?.map(Ee=>tZt(Ee))})).map(({pubkey:Ee,account:be})=>Mje(be,ul(Ee))),d=async(j,Z={})=>{let se=await i().getBlockTime(j);return se?yle(se):null},f=async(j,Z={})=>{let se=await i().getBalance(Os(j),Z);return Nb(se)},p=async(j,Z={})=>{let se=Ee=>i().getMinimumBalanceForRentExemption(Ee,Z.commitment);if(Z.includesHeaderBytes??!1){let Ee=await se(0),be=BigInt(Ee)/BigInt(dle);return Nb(be*BigInt(j))}return Nb(await se(j))},m=async(j={})=>i().getLatestBlockhash(j),y=async(j,Z={})=>{let se=await i().getTransaction(Aa.deserialize(j)[0],{commitment:Z.commitment,maxSupportedTransactionVersion:0});if(!se)return null;if(!se.meta)throw new Error("Transaction meta is missing.");let{transaction:Ee,meta:be}=se,fe=B2(Ee.message),w=B=>ul(new C5.PublicKey(B)),R=B=>({accountIndex:B.accountIndex,amount:b5(B.uiTokenAmount.amount,"splToken",B.uiTokenAmount.decimals),mint:w(B.mint),owner:B.owner?w(B.owner):null});return{message:fe,serializedMessage:t.transactions.serializeMessage(fe),signatures:Ee.signatures.map(Aa.serialize),meta:{fee:Nb(be.fee),logs:be.logMessages??[],preBalances:be.preBalances.map(Nb),postBalances:be.postBalances.map(Nb),preTokenBalances:(be.preTokenBalances??[]).map(R),postTokenBalances:(be.postTokenBalances??[]).map(R),innerInstructions:be.innerInstructions?.map(B=>({index:B.index,instructions:B.instructions.map(C=>({programIndex:C.programIdIndex,accountIndexes:C.accounts,data:Aa.serialize(C.data)}))}))??null,loadedAddresses:{writable:(be.loadedAddresses?.writable??[]).map(ul),readonly:(be.loadedAddresses?.readonly??[]).map(ul)},computeUnitsConsumed:be.computeUnitsConsumed?BigInt(be.computeUnitsConsumed):null,err:be.err}}},g=async(j,Z={})=>(await i().getSignatureStatuses(j.map(Ee=>Aa.deserialize(Ee)[0]),{searchTransactionHistory:Z?.searchTransactionHistory??!1})).value.map(Ee=>Ee?{slot:Ee.slot,confirmations:Ee.confirmations,error:Ee.err,commitment:Ee.confirmationStatus??null}:null),b=async(j,Z={})=>!fle(await f(j,Z)),S=async(j,Z,se={})=>{let Ee=await i().requestAirdrop(Os(j),Number(Z.basisPoints));if(se.strategy){await L(Aa.serialize(Ee),se);return}await L(Aa.serialize(Ee),{...se,strategy:{type:"blockhash",...await m()}})},P=async(j,Z,se={})=>{let Ee=i()._rpcClient,be=nZt(Z?[...Z]:[],se.commitment,se.extra);return new Promise((fe,w)=>{let R=(B,C)=>B?w(B):fe(C.result);se.id?Ee.request(j,be,se.id,R):Ee.request(j,be,R)})},U=async(j,Z={})=>{try{let se=await i().sendRawTransaction(t.transactions.serialize(j),Z);return Aa.serialize(se)}catch(se){let Ee=null;throw se instanceof Error&&"logs"in se&&(Ee=t.programs.resolveError(se,j)),Ee||se}},L=async(j,Z)=>i().confirmTransaction(rZt(j,Z),Z.commitment);return{getEndpoint:()=>i().rpcEndpoint,getCluster:()=>o,getAccount:s,getAccounts:a,getProgramAccounts:c,getBlockTime:d,getBalance:f,getRent:p,getSlot:async(j={})=>i().getSlot(j),getLatestBlockhash:m,getTransaction:y,getSignatureStatuses:g,accountExists:b,airdrop:S,call:P,sendTransaction:U,confirmTransaction:L,get connection(){return i()}}}function Mje(t,e){return{executable:t.executable,owner:ul(t.owner),lamports:Nb(t.lamports),rentEpoch:t.rentEpoch?BigInt(t.rentEpoch):void 0,publicKey:e,data:new Uint8Array(t.data)}}function Bje(t,e){return t?{...Mje(t,e),exists:!0}:{exists:!1,publicKey:e}}function tZt(t){if(!("memcmp"in t))return t;let{bytes:e,...r}=t.memcmp;return{memcmp:{...r,bytes:Aa.deserialize(e)[0]}}}function rZt(t,e){return e.strategy.type==="blockhash"?{...e.strategy,signature:Aa.deserialize(t)[0]}:{...e.strategy,signature:Aa.deserialize(t)[0],nonceAccountPubkey:Os(e.strategy.nonceAccountPubkey)}}function nZt(t,e,r){if(!e&&!r)return t;let n={};return e&&(n.commitment=e),r&&(n={...n,...r}),t.push(n),t}function B5(t,e){return{install(r){r.rpc=typeof t=="string"?Kle(r,t,e):Kle(r,t)}}}u();l();u();l();var Nje=(t,e=100)=>({...t,getAccounts:async(r,n)=>{let i=hle(r,e).map(s=>t.getAccounts(s,n));return(await Promise.all(i)).flat()}});u();l();var Wle=(t=100)=>({install(e){e.rpc=Nje(e.rpc,t)}});u();l();u();l();function Dje(t={}){return{tuple:ule,array:kh,map:ile,set:cle,option:sle,nullable:ole,struct:Bb,enum:ale,dataEnum:nle,string:P2,bool:rle,unit:lle,u8:Oo,u16:Que,u32:Th,u64:ele,u128:tle,i8:$ue,i16:Yue,i32:Xue,i64:Zue,i128:Jue,f32:Gue,f64:Hue,bytes:FE,publicKey:tx}}u();l();var Vle=(t={})=>({install(e){e.serializer=Dje(t)}});u();l();u();l();u();l();var Lje=Oe(Ne(),1),Uje=128,iZt=127;function zje(){let t=m=>{let y=wle(m),g=B2(y),b=new Lje.VersionedTransaction(y,m.signatures);return{message:g,serializedMessage:n(g),signatures:b.signatures}},e=m=>o().serialize(m),r=m=>o().deserialize(m)[0],n=m=>s().serialize(m),i=m=>s().deserialize(m)[0],o=()=>({...Kue(Bb([["signatures",kh(FE({size:64}),{size:Qy()})],["serializedMessage",FE()]]),m=>m,m=>({...m,message:i(m.serializedMessage)})),description:"Transaction"}),s=()=>({description:"TransactionMessage",fixedSize:null,maxSize:null,serialize:m=>a(m.version).serialize(m),deserialize:(m,y=0)=>{let[g]=c().deserialize(m,y);return a(g).deserialize(m,y)}}),a=m=>Bb([["version",c()],["header",d()],["accounts",kh(tx(),{size:Qy()})],["blockhash",P2({encoding:Aa,size:32})],["instructions",kh(f(),{size:Qy()})],["addressLookupTables",kh(p(),{size:m==="legacy"?0:Qy()})]]),c=()=>({description:"TransactionVersion",fixedSize:null,maxSize:1,serialize:m=>m==="legacy"?new Uint8Array([]):new Uint8Array([Uje|m]),deserialize:(m,y=0)=>{let g=m.slice(y);if(g.length===0||!(g[0]&Uje))return["legacy",y];let b=g[0]&iZt;if(b>0)throw new Mb(`Unsupported transaction version: ${b}.`);return[b,y+1]}}),d=()=>Bb([["numRequiredSignatures",Oo()],["numReadonlySignedAccounts",Oo()],["numReadonlyUnsignedAccounts",Oo()]]),f=()=>Bb([["programIndex",Oo()],["accountIndexes",kh(Oo(),{size:Qy()})],["data",FE({size:Qy()})]]),p=()=>Bb([["publicKey",tx()],["writableIndexes",kh(Oo(),{size:Qy()})],["readonlyIndexes",kh(Oo(),{size:Qy()})]]);return{create:t,serialize:e,deserialize:r,serializeMessage:n,deserializeMessage:i}}var Gle=()=>({install(t){t.transactions=zje()}});function Hle(t,e){return{install(r){r.use(Vle()),r.use(jle()),r.use(Fle()),r.use(Sle()),r.use(zle()),r.use(typeof t=="string"?B5(t,e):B5(t)),r.use(Wle(e?.getAccountsChunkSize)),r.use(Gle())}}}function Fje(t,e){return _le().use(typeof t=="string"?Hle(t,e):Hle(t,e))}var qje=async({owner:t,mint:e,connection:r})=>{let n=mle(pf(t)),i=Fje(r).use((0,rg.mplCore)()).use(ble(n)),o=await(0,rg.fetchAsset)(i,pf(e)),s=o.updateAuthority.type==="Collection"?o.updateAuthority.address:void 0,a=s?await(0,rg.fetchCollectionV1)(i,s):void 0;return{umi:i,collection:a,asset:o}},jje=async({connection:t,mint:e,owner:r,destination:n})=>{let{umi:i,collection:o,asset:s}=await qje({connection:t,mint:e,owner:r}),c=(0,rg.transfer)(i,{asset:s,newOwner:pf(n),collection:o}).getInstructions().map(qE),d=new gr.Transaction;return c.forEach(f=>d.add(f)),d},Kje=async({connection:t,mint:e,owner:r})=>{let{umi:n,collection:i,asset:o}=await qje({connection:t,mint:e,owner:r}),a=(0,rg.burn)(n,{asset:o,collection:i}).getInstructions().map(qE),c=new gr.Transaction;return a.forEach(d=>c.add(d)),c};u();l();u();l();var cx=Oe(Ne(),1),Sp=new cx.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),x0n=new cx.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),GE=new cx.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),P0n=new cx.PublicKey("So11111111111111111111111111111111111111112"),O0n=new cx.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");u();l();u();l();var zS=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}};u();l();var $le=Oe(Ce(),1),FS=Oe(II(),1);var M5=t=>e=>{let r=(0,$le.blob)(t,e),{encode:n,decode:i}=zS(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return(0,FS.toBigIntLE)(Buffer.from(c))},o.encode=(s,a,c)=>{let d=(0,FS.toBufferLE)(s,t);return n(d,a,c)},o},N5=t=>e=>{let r=(0,$le.blob)(t,e),{encode:n,decode:i}=zS(r),o=r;return o.decode=(s,a)=>{let c=i(s,a);return(0,FS.toBigIntBE)(Buffer.from(c))},o.encode=(s,a,c)=>{let d=(0,FS.toBufferBE)(s,t);return n(d,a,c)},o},ng=M5(8),L0n=N5(8),oZt=M5(16),z0n=N5(16),F0n=M5(24),q0n=N5(24),j0n=M5(32),K0n=N5(32);u();l();var X0n=new We("1e+18");u();l();var Wje=Oe(Ce(),1);var qS=t=>{let e=(0,Wje.u8)(t),{encode:r,decode:n}=zS(e),i=e;return i.decode=(o,s)=>!!n(o,s),i.encode=(o,s,a)=>{let c=Number(o);return r(c,s,a)},i};u();l();var Vje=Oe(Ce(),1),Gje=Oe(wre(),1);var _i=t=>{let e=(0,Vje.blob)(32,t),{encode:r,decode:n}=zS(e),i=e;return i.decode=(o,s)=>{let a=n(o,s);return new Gje.PublicKey(a)},i.encode=(o,s,a)=>{let c=o.toBuffer();return r(c,s,a)},i};u();l();var wp=class extends Error{constructor(e){super(e)}},N2=class extends wp{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}},D5=class extends wp{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}};var D2=class extends wp{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}},ux=class extends wp{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};var U2=class extends wp{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};var lx=class extends wp{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}},hf=class extends wp{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}},dx=class extends wp{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}},fx=class extends wp{constructor(){super(...arguments),this.name="TokenTransferHookInvalidPubkeyData"}},L2=class extends wp{constructor(){super(...arguments),this.name="TokenTransferHookPubkeyDataTooSmall"}};u();l();var U5;(function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension",t[t.GroupPointerExtension=40]="GroupPointerExtension",t[t.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",t[t.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",t[t.PausableExtension=44]="PausableExtension"})(U5||(U5={}));u();l();var HE=Oe(Ce(),1);var K2=Oe(Ne(),1);u();l();var L5;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"})(L5||(L5={}));var Hje=1;u();l();var jS=Oe(Ce(),1);u();l();var z2=Oe(Ce(),1);var sZt=(0,z2.struct)([(0,z2.u8)("m"),(0,z2.u8)("n"),qS("isInitialized"),_i("signer1"),_i("signer2"),_i("signer3"),_i("signer4"),_i("signer5"),_i("signer6"),_i("signer7"),_i("signer8"),_i("signer9"),_i("signer10"),_i("signer11")]),$je=sZt.span;var z5;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"})(z5||(z5={}));var Yje=(0,jS.struct)([_i("mint"),_i("owner"),ng("amount"),(0,jS.u32)("delegateOption"),_i("delegate"),(0,jS.u8)("state"),(0,jS.u32)("isNativeOption"),ng("isNative"),ng("delegatedAmount"),(0,jS.u32)("closeAuthorityOption"),_i("closeAuthority")]),F2=Yje.span;async function M_n(t,e,r,n=Sp){let i=await t.getAccountInfo(e,r);return aZt(e,i,n)}function aZt(t,e,r=Sp){if(!e)throw new N2;if(!e.owner.equals(r))throw new D2;if(e.data.length<F2)throw new ux;let n=Yje.decode(e.data.slice(0,F2)),i=Buffer.alloc(0);if(e.data.length>F2){if(e.data.length===$je)throw new ux;if(e.data[F2]!=L5.Account)throw new D5;i=e.data.slice(F2+Hje)}return{address:t,mint:n.mint,owner:n.owner,amount:n.amount,delegate:n.delegateOption?n.delegate:null,delegatedAmount:n.delegatedAmount,isInitialized:n.state!==z5.Uninitialized,isFrozen:n.state===z5.Frozen,isNative:!!n.isNativeOption,rentExemptReserve:n.isNativeOption?n.isNative:null,closeAuthority:n.closeAuthorityOption?n.closeAuthority:null,tlvData:i}}u();l();var Xje=Oe(Ne(),1);function Zje(t,e,r){if(r.length){t.push({pubkey:e,isSigner:!1,isWritable:!1});for(let n of r)t.push({pubkey:n instanceof Xje.PublicKey?n:n.publicKey,isSigner:!0,isWritable:!1})}else t.push({pubkey:e,isSigner:!0,isWritable:!1});return t}u();l();var WS=Oe(Ce(),1),c6e=Oe(Ne(),1);u();l();var q2=Oe(Ce(),1);var Qje=Oe(Ne(),1);var Jje=(0,q2.struct)([(0,q2.u8)("instruction"),ng("amount"),(0,q2.u8)("decimals")]);function e6e(t,e,r,n,i,o,s=[],a=Sp){let c=Zje([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}],n,s),d=Buffer.alloc(Jje.span);return Jje.encode({instruction:U5.TransferChecked,amount:BigInt(i),decimals:o},d),new Qje.TransactionInstruction({keys:c,programId:a,data:d})}u();l();var Ia=Oe(Ce(),1);var j2=Oe(Ne(),1);u();l();var F5=1,cZt=1,uZt=1,lZt=1,dZt=1,fZt=1,pZt=1,hZt=1;function mZt(t){if(t.length<1)throw new hf;let[e,...r]=t;if(r.length<e)throw new hf;return{data:Buffer.from(r.slice(0,e)),packedLength:F5+cZt+e}}function yZt(t,e){if(t.length<2)throw new hf;let[r,n]=t;if(e.length<n+r)throw new hf;return{data:e.subarray(r,r+n),packedLength:F5+uZt+lZt}}function gZt(t,e){if(t.length<1)throw new hf;let[r]=t;if(e.length<=r)throw new hf;return{data:e[r].pubkey.toBuffer(),packedLength:F5+dZt}}async function bZt(t,e,r){if(t.length<3)throw new hf;let[n,i,o]=t;if(e.length<=n)throw new hf;let s=await r.getAccountInfo(e[n].pubkey);if(s==null)throw new dx;if(s.data.length<i+o)throw new hf;return{data:s.data.subarray(i,i+o),packedLength:F5+fZt+pZt+hZt}}async function _Zt(t,e,r,n){let[i,...o]=t,s=new Uint8Array(o);switch(i){case 0:return null;case 1:return mZt(s);case 2:return yZt(s,r);case 3:return gZt(s,e);case 4:return bZt(s,e,n);default:throw new hf}}async function t6e(t,e,r,n){let i=[],o=0;for(;o<32;){let s=await _Zt(t.slice(o),e,r,n);if(s==null)break;i.push(s.data),o+=s.packedLength}return i}u();l();var KS=Oe(Ne(),1);async function r6e(t,e,r,n){let[i,...o]=t,s=new Uint8Array(o);switch(i){case 1:return SZt(s,r);case 2:return wZt(s,e,n);default:throw new fx}}function SZt(t,e){if(t.length<1)throw new fx;let r=t[0];if(e.length<r+KS.PUBLIC_KEY_LENGTH)throw new L2;return new KS.PublicKey(e.subarray(r,r+KS.PUBLIC_KEY_LENGTH))}async function wZt(t,e,r){if(t.length<2)throw new fx;let[n,i]=t;if(e.length<=n)throw new dx;let o=await r.getAccountInfo(e[n].pubkey);if(o==null)throw new lx;if(o.data.length<i+KS.PUBLIC_KEY_LENGTH)throw new L2;return new KS.PublicKey(o.data.subarray(i,i+KS.PUBLIC_KEY_LENGTH))}var AZt=(0,Ia.struct)([_i("authority"),_i("programId")]),sSn=AZt.span;var EZt=(0,Ia.struct)([qS("transferring")]),aSn=EZt.span;function i6e(t,e){let r=[Buffer.from("extra-account-metas"),t.toBuffer()];return j2.PublicKey.findProgramAddressSync(r,e)[0]}var n6e=(0,Ia.struct)([(0,Ia.u8)("discriminator"),(0,Ia.blob)(32,"addressConfig"),qS("isSigner"),qS("isWritable")]),IZt=(0,Ia.struct)([(0,Ia.u32)("count"),(0,Ia.seq)(n6e,(0,Ia.greedy)(n6e.span),"extraAccounts")]),TZt=(0,Ia.struct)([ng("instructionDiscriminator"),(0,Ia.u32)("length"),IZt.replicate("extraAccountsList")]);function o6e(t){let e=TZt.decode(t.data).extraAccountsList;return e.extraAccounts.slice(0,e.count)}async function s6e(t,e,r,n,i){if(e.discriminator===0)return{pubkey:new j2.PublicKey(e.addressConfig),isSigner:e.isSigner,isWritable:e.isWritable};if(e.discriminator===2)return{pubkey:await r6e(e.addressConfig,r,n,t),isSigner:e.isSigner,isWritable:e.isWritable};let o=j2.PublicKey.default;if(e.discriminator===1)o=i;else{let c=e.discriminator-128;if(r.length<=c)throw new lx;o=r[c].pubkey}let s=await t6e(e.addressConfig,r,n,t);return{pubkey:j2.PublicKey.findProgramAddressSync(s,o)[0],isSigner:e.isSigner,isWritable:e.isWritable}}var a6e;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(a6e||(a6e={}));var hSn=(0,WS.struct)([(0,WS.u8)("instruction"),(0,WS.u8)("transferHookInstruction"),_i("authority"),_i("transferHookProgramId")]);var mSn=(0,WS.struct)([(0,WS.u8)("instruction"),(0,WS.u8)("transferHookInstruction"),_i("transferHookProgramId")]);function kZt(t,e){let r=e.filter(n=>n.pubkey.equals(t.pubkey)).reduce((n,i)=>n?{isSigner:n.isSigner||i.isSigner,isWritable:n.isWritable||i.isWritable}:{isSigner:i.isSigner,isWritable:i.isWritable},void 0);if(r){let{isSigner:n,isWritable:i}=r;!n&&n!==t.isSigner&&(t.isSigner=!1),!i&&i!==t.isWritable&&(t.isWritable=!1)}return t}function vZt(t,e,r,n,i,o,s){let a=[e,r,n,i,o].map(d=>({pubkey:d,isSigner:!1,isWritable:!1})),c=Buffer.alloc(16);return c.set(Buffer.from([105,37,101,197,75,251,102,26]),0),c.writeBigUInt64LE(BigInt(s),8),new c6e.TransactionInstruction({keys:a,programId:t,data:c})}async function u6e(t,e,r,n,i,o,s,a,c){let d=i6e(i,r),f=await t.getAccountInfo(d,c);if(f==null)return e;let p=o6e(f);if(![n,i,o,s].every(y=>e.keys.some(g=>g.pubkey.equals(y))))throw new Error("Missing required account in instruction");let m=vZt(r,n,i,o,s,d,BigInt(a));for(let y of p)m.keys.push(kZt(await s6e(t,y,m.keys,m.data,m.programId),m.keys));e.keys.push(...m.keys.slice(5)),e.keys.push({pubkey:r,isSigner:!1,isWritable:!1}),e.keys.push({pubkey:d,isSigner:!1,isWritable:!1})}var xZt=(0,HE.struct)([(0,HE.u32)("mintAuthorityOption"),_i("mintAuthority"),ng("supply"),(0,HE.u8)("decimals"),qS("isInitialized"),(0,HE.u32)("freezeAuthorityOption"),_i("freezeAuthority")]),ESn=xZt.span;async function l6e(t,e,r=!1,n=Sp,i=GE){if(!r&&!K2.PublicKey.isOnCurve(e.toBuffer()))throw new U2;let[o]=await K2.PublicKey.findProgramAddress([e.toBuffer(),n.toBuffer(),t.toBuffer()],i);return o}function ISn(t,e,r=!1,n=Sp,i=GE){if(!r&&!K2.PublicKey.isOnCurve(e.toBuffer()))throw new U2;let[o]=K2.PublicKey.findProgramAddressSync([e.toBuffer(),n.toBuffer(),t.toBuffer()],i);return o}u();l();var q5=Oe(Ne(),1);function d6e(t,e,r,n,i=Sp,o=GE){return f6e(t,e,r,n,Buffer.alloc(0),i,o)}function PSn(t,e,r,n,i=Sp,o=GE){return f6e(t,e,r,n,Buffer.from([1]),i,o)}function f6e(t,e,r,n,i,o=Sp,s=GE){let a=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:q5.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new q5.TransactionInstruction({keys:a,programId:s,data:i})}var p6e=async t=>{let e=e6e(t.source,t.mint,t.destination,t.owner,t.amount,t.decimals,[t.owner],t.programId);for(let r of t.references)e.keys.push({pubkey:r,isWritable:!1,isSigner:!1});return t.transferHookProgramId&&await u6e(t.connection,e,new le.PublicKey(t.transferHookProgramId),t.source,t.mint,t.destination,t.owner,t.amount),e};u();l();var j5=async({solanaConnection:t,destination:e,mint:r,programId:n})=>{let i=await t.getParsedAccountInfo(e);if(i.value?.owner.equals(n)){let a=Qge.safeParse(i.value);if(!a.success)throw new Error("The destination token account account data can't be parsed");let c=new le.PublicKey(a.data.data.parsed.info.mint);if(!r.equals(c))throw new Error("The destination token account does not support the token you are sending to it.");if(!a.data.data.parsed.info.owner)throw new Error("The destination token account does not have an owner");return{destinationAddress:new le.PublicKey(a.data.data.parsed.info.owner),destinationAccount:e}}let s=(await BF(e,t,n)).filter(a=>a.mintAddress===r.toString()).sort((a,c)=>c.tokenAmount.uiAmount-a.tokenAmount.uiAmount)[0];return s?{destinationAddress:e,destinationAccount:s.pubkey}:{destinationAddress:e,destinationAccount:void 0}};u();l();function $E({memoText:t}){return new gr.TransactionInstruction({keys:[],data:Buffer.from(t,"utf-8"),programId:RF})}async function W2(t){let{connection:e,destination:r,senderAddress:n,senderAccount:i,mint:o,decimals:s,amount:a,references:c,memo:d,programId:f,transferHookProgramId:p}=t;if(f===DY)return await jje({connection:e,destination:r,mint:o,owner:n.address});let m=new le.PublicKey(o),y=new le.PublicKey(f),{destinationAddress:g,destinationAccount:b}=await j5({solanaConnection:e,destination:new le.PublicKey(r),mint:new le.PublicKey(o),programId:y});if(n.address===i)throw new Error("When transferring tokens, sender account pubkey cannot be the sender address pubkey");let S=new le.PublicKey(n.address),P=new le.PublicKey(i),U=c?.map(se=>new le.PublicKey(se))??[],L=(typeof a=="string"?new We(a,10):a).toNumber(),j=new gr.Transaction,Z=b;if(d&&j.add($E({memoText:d})),!Z){let[se,Ee]=await P4(S,g,m,y);Z=Ee;let be=Se.getRpcProxyUrl("solana:101");e.rpcEndpoint===be&&j.add(x4({account:g,owner:le.SystemProgram.programId})),j.add(se)}return j.add(await p6e({connection:e,source:P,mint:m,destination:Z,owner:S,programId:y,amount:L,decimals:s,references:U,transferHookProgramId:p})),j}u();l();function V2(t){let{fromPubkey:e,toPubkey:r,lamports:n,references:i,memo:o}=t,s=le.SystemProgram.transfer({fromPubkey:e,toPubkey:r,lamports:n});for(let c of i)s.keys.push({pubkey:c,isWritable:!1,isSigner:!1});let a=new gr.Transaction;return o!==null&&a.add($E({memoText:o})),a.add(s),a}u();l();var h6e="estimate-fee-from-message",m6e=5e3,px=async(t,e)=>{let r=[];for(let o of e)r.push((async()=>{let s;try{s=await Ku(t).getFeeForMessage(o,"confirmed")}catch{return at.addBreadcrumb(h6e,"rpc failed","info"),o.header.numRequiredSignatures*m6e}return s.value===null?(at.addBreadcrumb(h6e,"null value returned from rpc","info"),o.header.numRequiredSignatures*m6e):s.value})());let n=vg(await Promise.all(r)),i=n/e.length>w9;return{networkID:t,value:n,highFees:i}};u();l();u();l();var PZt={skipPreflight:!1,preflightCommitment:"confirmed"},hx=async({connection:t,signedTx:e,opts:r={}})=>{let{skipPreflight:n,preflightCommitment:i}={...PZt,...r},o=e.serialize();return await bi(()=>t.sendRawTransaction(o,{preflightCommitment:i,skipPreflight:n}),a=>a.message!==void 0&&a.message.includes("Node is behind"))};u();l();u();l();u();l();u();l();var y6e="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",g6e={1:"createAssociatedTokenAccountErrorInsufficientFunds"};u();l();var b6e="CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d",_6e={9:"cpeInvalidAuthority",10:"cpeAssetFrozen"};u();l();var S6e="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",w6e={0:"cpeBalanceBelowRent",1:"cpeInsufficientFunds",17:"cpeAccountFrozen"};u();l();var A6e="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",E6e={0:"cpeBalanceBelowRent",1:"cpeInsufficientFunds",17:"cpeAccountFrozen",24:"cpeNotApprovedForConfidentialTransfers",25:"cpeNotAcceptingDepositsOrTransfers",36:"cpeNoMemoButRequired",37:"cpeTransferDisabledForMint",40:"cpeDepositAmountExceedsLimit",47:"Account ownership cannot be changed while CPI Guard is enabled",49:"Non-confidential transfers disabled"};var MZt={[b6e]:_6e,[S6e]:w6e,[A6e]:E6e,[y6e]:g6e};function I6e(t,e){let r=t.programId.toBase58(),n=e.message.startsWith("custom program error: ")?e.message.replace("custom program error: ",""):"",i=MZt[r];if(i&&n){let o=i[n];return o?{programId:r,customErrorCode:n,customErrorReason:o}:{programId:r,customErrorCode:n,customErrorReason:"Unknown Error"}}return{programId:r,customErrorReason:"Unknown Error",...n?{customErrorCode:n}:{}}}u();l();var Yle=new Map([["GenericError","generic instruction error"],["InvalidArgument","invalid program argument"],["InvalidInstructionData","invalid instruction data"],["InvalidAccountData","invalid account data for instruction"],["AccountDataTooSmall","account data too small for instruction"],["InsufficientFunds","insufficient funds for instruction"],["IncorrectProgramId","incorrect program id for instruction"],["MissingRequiredSignature","missing required signature for instruction"],["AccountAlreadyInitialized","instruction requires an uninitialized account"],["UninitializedAccount","instruction requires an initialized account"],["UnbalancedInstruction","sum of account balances before and after instruction do not match"],["ModifiedProgramId","instruction modified the program id of an account"],["ExternalAccountLamportSpend","instruction spent from the balance of an account it does not own"],["ExternalAccountDataModified","instruction modified data of an account it does not own"],["ReadonlyLamportChange","instruction changed the balance of a read-only account"],["ReadonlyDataModified","instruction modified data of a read-only account"],["DuplicateAccountIndex","instruction contains duplicate accounts"],["ExecutableModified","instruction changed executable bit of an account"],["RentEpochModified","instruction modified rent epoch of an account"],["NotEnoughAccountKeys","insufficient account keys for instruction"],["AccountDataSizeChanged","non-system instruction changed account size"],["AccountNotExecutable","instruction expected an executable account"],["AccountBorrowFailed","instruction tries to borrow reference for an account which is already borrowed"],["AccountBorrowOutstanding","instruction left account with an outstanding borrowed reference"],["DuplicateAccountOutOfSync","instruction modifications of multiply-passed account differ"],["Custom","custom program error: {0}"],["InvalidError","program returned invalid error code"],["ExecutableDataModified","instruction changed executable accounts data"],["ExecutableLamportChange","instruction changed the balance of a executable account"],["ExecutableAccountNotRentExempt","executable accounts must be rent exempt"],["UnsupportedProgramId","Unsupported program id"],["CallDepth","Cross-program invocation call depth too deep"],["MissingAccount","An account required by the instruction is missing"],["ReentrancyNotAllowed","Cross-program invocation reentrancy not allowed for this instruction"],["MaxSeedLengthExceeded","Length of the seed is too long for address generation"],["InvalidSeeds","Provided seeds do not result in a valid address"],["InvalidRealloc","Failed to reallocate account data"],["ComputationalBudgetExceeded","Computational budget exceeded"],["PrivilegeEscalation","Cross-program invocation with unauthorized signer or writable account"],["ProgramEnvironmentSetupFailure","Failed to create program execution environment"],["ProgramFailedToComplete","Program failed to complete"],["ProgramFailedToCompile","Program failed to compile"],["Immutable","Account is immutable"],["IncorrectAuthority","Incorrect authority provided"],["BorshIoError","Failed to serialize or deserialize account data: {0}"],["AccountNotRentExempt","An account does not have enough lamports to be rent-exempt"],["InvalidAccountOwner","Invalid account owner"],["ArithmeticOverflow","Program arithmetic overflowed"],["UnsupportedSysvar","Unsupported sysvar"],["IllegalOwner","Provided owner is not allowed"]]);function T6e(t){if(t&&typeof t=="object"&&"InstructionError"in t){let e=t.InstructionError,r=e[0],n=e[1];return{index:r,message:NZt(n)}}}function NZt(t){let e,r;if(typeof t=="string"){let n=Yle.get(t);if(n)return n}else"Custom"in t?(e=Yle.get("Custom"),r=t.Custom):"BorshIoError"in t&&(e=Yle.get("BorshIoError"),r=t.BorshIoError);return e&&r?e.replace("{0}",r):"Unknown instruction error"}async function k6e(t,e){let[r,n]=await Promise.all([DZt(t,e),t.getParsedTransaction(e,{commitment:"confirmed",maxSupportedTransactionVersion:0})]);return r.result.err?UZt(r,n?.transaction):(console.warn("Transaction was successful, no error to parse",e),null)}async function DZt(t,e){let r=await t.getSignatureStatuses([e],{searchTransactionHistory:!0}),[n]=r.value;if(n!==null){let i;typeof n.confirmations=="number"?i=n.confirmations:i="max";let o=null;try{o=await t.getBlockTime(n.slot)}catch(a){i==="max"&&console.error(a,{slot:`${n.slot}`})}let s=o!==null?o:"unavailable";return{confirmationStatus:n.confirmationStatus,confirmations:i,result:{err:n.err},slot:n.slot,timestamp:s}}throw new Error("Transaction not found")}function UZt(t,e){if(typeof t.result.err=="string")return{errorReason:`Runtime Error: "${t.result.err}"`};let r=T6e(t.result.err);if(r!==void 0)return{errorReason:`Program Error: "Instruction #${r.index+1} Failed"`,...e?I6e(e.message.instructions[r.index],r):{}};let{InsufficientFundsForRent:n}=t.result.err;return n!==void 0?e?{errorReason:"cpeInsufficientFundsForRent"}:{errorReason:"cpeInsufficientFundsForRent"}:{errorReason:`Unknown Error: "${JSON.stringify(t.result.err)}"`}}async function LZt(t,e,r){let n={searchTransactionHistory:!0},i=await t.getSignatureStatuses([e],n);if(i?.value?.[0]==null)throw MI;if(r==="finalized"){if(i.value[0].confirmationStatus!=="finalized")throw MI}else if(!["confirmed","finalized"].includes(i.value[0].confirmationStatus??""))throw MI;return i}async function mx(t){let{connection:e,signature:r,commitment:n}=t;try{let i=await bi(()=>LZt(e,r,n),s=>s===MI,60,500,!0);if(i?.value?.[0]==null)throw MI;let o=i.value[0].err;if(o!==null){let s=await k6e(e,r);throw s?new BI(`Error confirming transaction: ${JSON.stringify(o)}`,s):new Error(`Error confirming transaction: ${JSON.stringify(o)}`)}return{...i,value:i.value[0]}}catch(i){throw i instanceof le.TransactionExpiredBlockheightExceededError&&at.captureError(i,"transaction"),i}}var v6e=async({connection:t,signedTxs:e,opts:r={}})=>await Promise.all(e.map(async n=>{let i=null;try{let o=await bi(()=>hx({connection:t,signedTx:n,opts:r}),s=>s!=null,4,100);return i=await bi(async()=>{if(i=await mx({connection:t,signature:o}),i.value.err)throw Error("Transaction confirmation failed.");return i},()=>!0,2,100),o}catch(o){return at.captureError(new Error(o),"transaction"),null}}));u();l();u();l();var x6e=Oe(P0());var zZt={additionalSignerAccounts:[]},K5=async({accountIdentifier:t,feePayer:e,connection:r,accountSigner:n,transaction:i,pendingTransactionInput:o,storage:s,opts:a={}})=>{let{additionalSignerAccounts:c}={...zZt,...a};await ege(i,r),tge(i,e),c.length>0&&rge(i,c);let d=await n.sign(t,{chainType:"solana",signingType:"transaction",message:Jye(i)});if(d.status==="error")throw new Error(d.message);return i.addSignature(e,x6e.default.decode(d.signature)),o.data.signature=d.signature,jg(o,s),i};var yx=async({accountIdentifier:t,feePayer:e,connection:r,accountSigner:n,transaction:i,pendingTransactionInput:o,storage:s,opts:a={}})=>{let c=await K5({accountIdentifier:t,feePayer:e,connection:r,accountSigner:n,transaction:i,pendingTransactionInput:o,storage:s,opts:a});return await hx({connection:r,signedTx:c,opts:a})};u();l();u();l();u();l();u();l();var Ph=class extends Error{kind;meta;static createUnknownError(e,r){return VS.UNKNOWN_ERROR(e,r)}constructor(e,r,n){let i=[r];n&&i.push(JSON.stringify(n)),super(i.join(":")),this.meta=n,this.kind=e}},VS={ATL_MISMATCH:()=>new Ph("ATL_MISMATCH","Address table lookups do not match the initial transaction"),INSTRUCTION_MISMATCH:()=>new Ph("INSTRUCTION_MISMATCH","Instructions do not match the initial transaction"),UNKNOWN_PROGRAM_INTERACTION:t=>new Ph("UNKNOWN_PROGRAM_INTERACTION","Instruction is attempting to interact with an unknown program",{programId:t}),MISSING_LIGHTHOUSE_PROGRAM_CALL:()=>new Ph("MISSING_LIGHTHOUSE_PROGRAM_CALL","Instructions are missing Lighthouse program call"),TX_COUNT_MISMATCH:()=>new Ph("TX_COUNT_MISMATCH","There are more original transactions than Safeguard transactions"),UNKNOWN_ERROR:(t,e)=>new Ph("UNKNOWN_ERROR",t,e)};u();l();var B6e=Oe(EI());u();l();function YE(t,e,r){if(t!==e)throw r()}function W5(t,e){if(!t)throw e()}function P6e(t,e){if(t)throw e()}function FZt(t,e,r){if(t.length!==e.length)throw r();for(let[n,i]of t.entries())YE(i.pubkey.toString(),e[n].pubkey.toString(),r),YE(i.isSigner,e[n].isSigner,r),YE(i.isWritable,e[n].isWritable,r)}function O6e(t,e,r){YE(t.data.toString(),e.data.toString(),r),YE(t.programId.toString(),e.programId.toString(),r),FZt(t.keys,e.keys,r)}var V5=["L1TEVtgA75k273wWz1s6XMmDhQY5i3MwcvKb4VbZzfK","L2TExMFKdjpN9kozasaurPirfHy9P8sbXoAN1qA3S95"],Xle=V5[V5.length-1],qZt={lighthouseIds:V5};function Zle(t,e,{lighthouseIds:r=V5}=qZt){W5(e.length>=t.length,VS.TX_COUNT_MISMATCH);let n=t.map(p=>lE.deserializeVersionedTransaction(p).transaction),i=e.map(p=>lE.deserializeVersionedTransaction(p).transaction),o=n.flatMap(p=>p.message.addressTableLookups).map(p=>p.accountKey.toString()).sort(),s=i.flatMap(p=>p.message.addressTableLookups).map(p=>p.accountKey.toString()).sort();for(let[p,m]of o.entries()){let y=s[p];YE(m,y,VS.ATL_MISMATCH)}let a=n.flatMap(p=>R6e(p)).filter(p=>!C6e(p)),c=i.flatMap(p=>R6e(p)).filter(p=>!C6e(p));for(let[p,m]of a.entries()){let y=c[p];W5(y,VS.INSTRUCTION_MISMATCH),O6e(m,y,VS.INSTRUCTION_MISMATCH)}let d=c.slice(a.length);W5(d.length>0,VS.MISSING_LIGHTHOUSE_PROGRAM_CALL);let f=d.find(p=>!r.includes(p.programId));P6e(f,VS.UNKNOWN_PROGRAM_INTERACTION.bind(void 0,f?.programId))}function R6e(t){return t.message.compiledInstructions.map(e=>jZt(e,t))}function jZt(t,e){let r=[...e.message.staticAccountKeys.map(i=>i.toBase58()),...e.message.addressTableLookups.flatMap(i=>i.writableIndexes.map(()=>"ATL_WRITABLE_ACC")),...e.message.addressTableLookups.flatMap(i=>i.readonlyIndexes.map(()=>"ATL_READONLY_ACC"))],n=i=>{let o=r[i];if(!o)throw new Error(`Failed to get account at index ${i}`);return o};return{programId:n(t.programIdIndex),data:B6e.Buffer.from(t.data),keys:t.accountKeyIndexes.map(i=>[n(i),i]).map(([i,o])=>({pubkey:i,isSigner:e.message.isAccountSigner(o),isWritable:e.message.isAccountWritable(o)}))}}function C6e(t){return t.programId===le.ComputeBudgetProgram.programId.toString()}u();l();var gw=Oe(iJe()),Ez=Oe(Qde());var oJe=async t=>{let{rpcEndpoint:e}=t.connection,r=(0,Ez.createRpc)(e,e),n=new le.PublicKey(t.owner),i=new le.PublicKey(t.mint),o=(0,Ez.bn)(t.amount),s=t.programId?new le.PublicKey(t.programId):void 0,a=await l6e(i,n),c=[];await r.getAccountInfo(a)||c.push(d6e(n,a,n,i,s));let f=await r.getCompressedTokenAccountsByOwner(n,{mint:i}),[p]=(0,gw.selectMinCompressedTokenAccountsForTransfer)(f.items,o),m=await r.getValidityProofV0(p.map(j=>({hash:(0,Ez.bn)(j.compressedAccount.hash),tree:j.compressedAccount.treeInfo.tree,queue:j.compressedAccount.treeInfo.queue}))),y=await(0,gw.getTokenPoolInfos)(r,i),g=(0,gw.selectTokenPoolInfosForDecompression)(y,o),[b,S]=await Promise.all([await gw.CompressedTokenProgram.decompress({payer:n,inputCompressedTokenAccounts:p,toAddress:a,amount:o,recentInputStateRootIndices:m.rootIndices,recentValidityProof:m.compressedProof,tokenPoolInfos:g}),await r.getLatestBlockhash()]);c.push(b);let P=new gr.TransactionMessage({payerKey:n,recentBlockhash:S.blockhash,instructions:c}),U=new gr.VersionedTransaction(P.compileToV0Message());return await $_(U,{connection:r,calculators:{cost:Ik,budget:new gb}})};var clr=5e3;u();l();u();l();u();l();u();l();u();l();function dP(t,e){return{type:"text",content:Buffer.from(`{"p":"brc-20","op":"transfer","tick":"${t}","amt":"${e.toString()}"}`)}}u();l();var B7=Oe(va());u();l();var bme=Oe(va());function sJe(t,e){let r=bme.script.OPS;switch(t.push(Buffer.from("ord")),t.push(r.OP_1),e.type){case"text":{ulr(t,e);break}default:throw new Error(`Unsupported inscription type: ${JSON.stringify(e)}`)}}function ulr(t,e){let r=bme.script.OPS;t.push(Buffer.from("text/plain;charset=utf-8")),t.push(r.OP_0);let n=520,i=e.content,o=i.length;for(let s=0;s<o;s+=n){let a=s+n;a>o&&(a=o),t.push(i.slice(s,a))}}function Iz(t,e){let r=B7.script.OPS,n=[];n.push(t),n.push(r.OP_CHECKSIG),llr(n,e);let i=B7.script.compile(n);return dlr(i)}function llr(t,e){let r=B7.script.OPS;t.push(r.OP_FALSE),t.push(r.OP_IF),sJe(t,e),t.push(r.OP_ENDIF)}function dlr(t){return Buffer.from(t.toString("hex").replace("6f726451","6f72640101"),"hex")}u();l();u();l();u();l();u();l();u();l();var A0=t=>Tf[t].perInput,M7=t=>Tf[t].perOutput,flr=t=>Tf[t].header,yI=(t,e,r)=>flr(t)+e*A0(t)+Tz(r.map(n=>({value:M7(yl(qe.Bitcoin.Mainnet,n.address))})));function Tz(t){return t.reduce((e,r)=>e+(typeof r.value=="string"?parseFloat(r.value):r.value),0)}function aJe(t,e,r,n){let i=yI(t,e.length,r),o=n*(i+M7(t)),s=Tz(e)-(Tz(r)+o),a=n*M7(t),c=$ge[t];s>c&&s>a&&(r=r.concat({value:Math.ceil(s),address:e[0].owner}),i+=M7(t));let d=Tz(e)-Tz(r);return{type:"success",inputs:e,outputs:r,vb:i,fee:d}}function cJe(t,e,r,n,i){let o=A0(t),s=i*o,a=n.reduce((y,g)=>y+g.value,0),c=yI(t,r.length,n),d=vg(r.map(y=>parseFloat(y.value))),f=[];for(let y=0;y<e.length;y++){let g=e[y],b=parseFloat(g.value);if(s>b){if(y===e.length-1){let P=i*c;return{type:"error",maxAmount:d-P,vb:c}}continue}c+=o,d+=b,f.push(g);let S=i*c;if(d>=a+S)return aJe(t,r.concat(f),n,i)}let p=i*c;return{type:"error",maxAmount:d-p,vb:c}}function Sg(t,e,r,n,i=[]){let s=plr(t,e,n).filter(a=>!i.some(c=>c.transactionHash===a.transactionHash&&c.index===a.index));return cJe(t,s,i,r,n)}function uJe(t,e,r){return parseFloat(e.value)-r*A0(t)}function plr(t,e,r){return e.concat().sort((n,i)=>uJe(t,i,r)-uJe(t,n,r))}u();l();u();l();var N7=v.object({transactionHash:v.string(),index:v.number()}),hlr=v.object({id:v.string()}),_me=N7.extend({value:v.string(),owner:v.string(),inscription:v.optional(hlr),isSafeToSend:v.boolean()});var mlr=v.object({value:v.string(),transactionHash:v.string(),index:v.string(),inscriptionId:v.string().nullish(),isSafeToSend:v.boolean()}),lJe=v.object({utxos:v.array(mlr)});u();l();var D7=Oe(G$());function E0(t,e){return t.transactionHash===e.transactionHash&&t.index===e.index}function kz(t){let e=DP(t);return t.txInputs.map((r,n)=>{if(typeof r.hash=="string")throw new Error("Expected hash to be a Buffer");return{type:"UnconfirmedInput",unconfirmedTransactionHash:e,unconfirmedTransactionIndex:n,id:{index:r.index,transactionHash:vz(r.hash)}}})}function vz(t){return Buffer.from(t).reverse().toString("hex")}function U7(t){return Buffer.from(t,"hex").reverse()}function xz(t){let e=DP(t);return t.txOutputs.map((r,n)=>({transactionHash:e,index:n,value:r.value.toString(),owner:r.address??"",inscription:void 0,isSafeToSend:!1}))}function I0(t,e,r=!0){return{hash:U7(t.transactionHash),index:t.index,witnessUtxo:{script:(0,D7.toOutputScript)(e),value:parseInt(t.value)},sequence:r?CP:BP}}function dJe(t){return{transactionHash:vz(t.hash),index:t.index,value:t.witnessUtxo?.value.toString()??"",owner:(0,D7.fromOutputScript)(t.witnessUtxo?.script??Buffer.alloc(0)),isSafeToSend:!0}}var blr="utxos.v1",_lr="utxo_metadata.v1",gI=class{_storage;constructor(e){this._storage=e}getUtxoStorageKey(e){return`${blr}.${e}`}getMetadataStorageKey(e){return`${_lr}.${e}`}async getUtxos(e){try{let r=await this._storage.get(this.getUtxoStorageKey(e));return r||[]}catch{return this.reset(e),[]}}async getMetadata(e){try{let r=await this._storage.get(this.getMetadataStorageKey(e));return r||[]}catch{return this.reset(e),[]}}async getSafeToSendUtxos(e){return(await this.getUtxos(e)).filter(n=>n.isSafeToSend)}async getInscribedUtxos(e){return this.getUtxos(e).then(r=>r.filter(n=>n.inscription))}async getRareSatsUtxos(e){return this.getUtxos(e).then(r=>r.filter(n=>!n.inscription&&!n.isSafeToSend))}async apply(e,r){let[n,i]=await Promise.all([this.getUtxos(e),this.getMetadata(e)]);for(let o of r)switch(o.type){case"UpsertMeta":i=this.upsertMetadata(o,i);break;case"RemoveMeta":i=this.removeMetadata(o,i);break;case"AddUtxo":n=this.addUtxos(o,n);break;case"ReplaceUtxo":n=this.replaceUtxo(o,n);break}return await Promise.all([this._storage.set(this.getUtxoStorageKey(e),n),this._storage.set(this.getMetadataStorageKey(e),i)]),n}replaceUtxo(e,r){return e.utxos}removeMetadata(e,r){return r.filter(n=>!e.metasToRemove.some(i=>E0(i,n.id)))}upsertMetadata(e,r){for(let n of e.metas){let i=r.findIndex(o=>E0(o.id,n.id)&&o.type===n.type);i!==-1?r[i]=n:r.push(n)}return r}addUtxos(e,r){for(let n of e.utxos)r.some(o=>E0(o,n))||r.push(n);return r}async reset(e){return Promise.all([this._storage.remove(this.getUtxoStorageKey(e)),this._storage.remove(this.getMetadataStorageKey(e))])}};u();l();var fJe=new Error("Failed to get utxos for addresses"),Pz=t=>{async function e(a){let c=NP(a),d=kz(a),f=xz(a).filter(y=>y.owner===c),p=f.map(y=>({type:"UnconfirmedOutput",id:{transactionHash:y.transactionHash,index:y.index}})),m=[{type:"UpsertMeta",metas:[...d,...p]},{type:"AddUtxo",utxos:f}];return t.apply(c,m)}async function r(a){let c={address:a.address,chainId:a.networkID,resourceType:"address"};try{let d=await fn.api().post("/bitcoin/v1/spendable-utxos",{address:c});if(d.status!==200)throw fJe;let f=lJe.parse(d.data),p=f.utxos.map(m=>({index:parseFloat(m.index),owner:a.address,transactionHash:m.transactionHash,value:m.value,inscription:m.inscriptionId?{id:m.inscriptionId}:void 0,isSafeToSend:m.isSafeToSend})).sort((m,y)=>new We(y.value).comparedTo(new We(m.value)));return await n(p),f.utxos}catch{throw fJe}}async function n(a){if(a.length===0)return[];let c=a[0].owner,f=(await t.getMetadata(c)).reduce((p,m)=>{let y=a.some(g=>E0(g,m.id));return(m.type==="UnconfirmedOutput"&&y||m.type==="UnconfirmedInput"&&!y)&&p.push(m.id),p},[]);return t.apply(c,[{type:"RemoveMeta",metasToRemove:f},{type:"ReplaceUtxo",utxos:a}])}async function i(a){return t.getSafeToSendUtxos(a)}async function o(a){return t.getInscribedUtxos(a)}async function s(a){return t.getRareSatsUtxos(a)}return{notifyPendingTransaction:e,refetchUtxos:r,getSafeToSendUtxos:i,getInscribedUtxos:o,getRareSatsUtxos:s}};u();l();var ZRn=v.union([v.literal("UNSET"),v.literal("ECONOMICAL"),v.literal("CONSERVATIVE")]),Oz=class extends Error{},pP=class extends Oz{successfulTxIds;constructor({successfulTxIds:e,message:r}){super();let n=`Multi-transaction broadcast failed. The following transactions ids were successfully broadcast: ${e}`;this.message=n+(r?`: ${r}`:"."),this.successfulTxIds=e}};u();l();var _Je=Oe(va()),Sme=Oe(va());u();l();var gJe=Oe(va()),bJe=Oe(va());u();l();var L7=(t,e,r,n,i="info",o={minStatusCode:400,maxStatusCode:500})=>{(!e||e>=o.minStatusCode&&e<o.maxStatusCode)&&(at.addBreadcrumb(r,t.message,i,n),at.captureError(t,"transaction"))};var Slr=5,wlr=tt({seconds:2}),z7=async t=>{let{inputsToSign:e,accountSigner:r,accountIdentifier:n,psbt:i,psbtChain:o,pendingTransactionInput:s,storage:a}=t,c=[],d=S8(i),f=i,p=await yJe({accountSigner:r,accountIdentifier:n,addressType:d,psbt:i,inputsToSign:e});if(c.push({signedPsbt:p,metadata:void 0}),o)for(let{psbtFn:y,inputsToSign:g,metadata:b}of o){let S=mJe(c[c.length-1].signedPsbt),P=y(S);f=P;let U=await yJe({accountSigner:r,accountIdentifier:n,addressType:d,psbt:P,inputsToSign:g});c.push({signedPsbt:U,metadata:b})}let m=[];for(let{signedPsbt:y,metadata:g}of c)try{let b=y.extractTransaction(),S=b.toHex(),P=b.getId();await bi(()=>xd(s.networkID).sendRawTransaction(S),()=>!0,Slr,wlr),m.push(P)}catch(b){if(cm(b)&&(Elr(b,g),b.response&&b.response.status>=500&&b.response.status<600))throw new pP({successfulTxIds:m,message:b.message})}if(m.length===c.length){let{signedPsbt:y}=c[c.length-1],g=mJe(y);return Alr(s,a,g,f.toHex()),g}else throw new Error(`Unable to broadcast all signed transactions. 
      Successful transactions: ${m.join(", ")}, Transaction count: ${c.length}`)};function mJe(t){return t.extractTransaction().getId()}async function yJe({accountSigner:t,accountIdentifier:e,addressType:r,psbt:n,inputsToSign:i}){let o=await t.sign(e,{chainType:r,signingType:"transaction",message:n.toHex(),inputsToSign:i,finalize:!0});if(o.status==="error")throw new Error(o.message);let s=o.signature;return bJe.Psbt.fromHex(s,{network:gJe.networks.bitcoin})}async function Alr(t,e,r,n){t.data.txID=r,t.data.psbtHex=n,await jg(t,e)}function Elr(t,e){let r=t.response?.status;r&&L7(t,r,"transaction",{metadata:e??null,message:t.response?.data},"error",{minStatusCode:400,maxStatusCode:600})}var SJe=async(t,e,r)=>{let{accountIdentifier:n,pendingTransaction:i,pendingTransactionInput:o}=e,{data:{psbtHex:s}}=i,a=Sme.Psbt.fromHex(s),{networkID:c}=i,d=[];for(let g=0;g<a.data.inputs.length;g++){let b=a.data.inputs[g],S=a.txInputs[g];if(!b.witnessUtxo?.script)throw new Error("Missing witnessUtxo script");if(!b.witnessUtxo?.value)throw new Error("Missing witnessUtxo value");d.push(dJe({hash:S.hash,index:S.index,witnessUtxo:{script:b.witnessUtxo.script,value:b.witnessUtxo.value}}))}let f=Sg(e.addressType,e.safeToSendUtxos,a.txOutputs.map(g=>({address:g.address,value:g.value})),Fp(e.desiredFeeRateInBtcPerKilobyte).toNumber(),d),p=new Sme.Psbt({network:_Je.networks.bitcoin}),m=[];if(f.type==="success"){let{inputs:g,outputs:b}=f;p.addInputs(g.map(S=>I0(S,S.owner,!0))),p.addOutputs(b),m=g.map((S,P)=>({address:S.owner,signingIndexes:[P]}))}else throw new Error("coin select failed");let y=await z7({accountSigner:t,accountIdentifier:n,storage:r,utxoManager:e.utxoManager,psbt:p,psbtChain:void 0,inputsToSign:m,pendingTransactionInput:o});return Pd(i,r),{networkID:c,id:y}};u();l();u();l();var wJe=BigInt("2000"),Plr=5e10,Olr=BigInt(1e3),Rlr=1.2,F7=async({networkID:t,transaction:e})=>{let r=Ra(t),n=Blr(),i=Fg.from(e);if(!i.getData().sender)throw new Error(`Transaction does not yet have a sender set: ${i.getData()}. Cannot dry run transaction.`);i.setGasBudgetIfNotSet(Plr),i.setGasPayment([]);let o=await i.build({client:r}),{effects:s}=await r.dryRunTransactionBlock({transactionBlock:o}),a=s.gasUsed,c=Clr(a),d=c>wJe?c:wJe,f=BigInt(Math.ceil(Number(d)*n));return{networkID:t,gasBudget:We(f.toString())}},Clr=({computationCost:t,storageCost:e,storageRebate:r})=>{let n=BigInt(t)+Olr,i=n+BigInt(e)-BigInt(r);return i>n?i:n};function Blr(){let t=RI.getMultivariateAssignment("sui-gas-budget-multiplier"),e=t?parseFloat(t):NaN;return Number.isFinite(e)?e:Rlr}u();l();var q7=async({transaction:t,signature:e,pendingTransactionInput:r,storage:n})=>{let i=Ra(r.networkID),{digest:o,rawEffects:s}=await bi(()=>i.executeTransactionBlock({transactionBlock:t,signature:e,requestType:"WaitForLocalExecution",options:{showRawEffects:!0,showEffects:!0}}),()=>!0);return r.data.digest=o,jg(r,n),{digest:o,effects:s?Buffer.from(new Uint8Array(s)).toString("base64"):""}};u();l();var j7=async t=>{let{accountSigner:e,accountIdentifier:r,transaction:n}=t,i={chainType:"sui",signingType:"transaction",transaction:new Uint8Array(n)},o=await e.sign(r,i);if(o.status==="error")throw new Error(o.message);return{signature:o.signature}};u();l();var K7=async t=>{let{accountSigner:e,accountIdentifier:r,transaction:n,pendingTransactionInput:i,storage:o}=t,{signature:s}=await j7({accountSigner:e,accountIdentifier:r,transaction:n}),a=await q7({transaction:n,signature:s,pendingTransactionInput:i,storage:o});return{signature:s,digest:a.digest,effects:a.effects}};u();l();var AJe=Oe(P0()),EJe={deserializeTransactionString:t=>{try{try{return AJe.default.decode(t)}catch{return Buffer.from(t,"base64")}}catch{throw new Error("Invalid base58 or base64 string")}}};u();l();var Mlr=()=>{globalThis.AbortSignal.timeout||(globalThis.AbortSignal.timeout=t=>{let e=new AbortController,r=e.signal;return setTimeout(()=>e.abort(),t),r})},W7=async(t,e)=>{try{let r=Ra(t);Mlr();let n=await r.waitForTransaction({digest:e,pollInterval:1e3,options:{showEffects:!0}});if(!n||n.errors||n.effects?.status.status!=="success")throw new Error("Unable to confirm transaction");if(e!==n.digest)throw new Error(`Unable to confirm transaction: Digest: ${e} does not match txBlockResponse: ${n.digest}`);return n}catch(r){throw at.captureError(r,"transaction"),r}};u();l();var Nlr=3,Dlr=1e3,Ulr=t=>!0,Llr=async(t,e)=>{let r=Ra(e);return bi(()=>t.build({client:r}),Ulr,Nlr,Dlr)},V7=async(t,e={fallbackToProvider:!0})=>{let{networkID:r,transaction:n,address:i}=t,o=Fg.from(n);i&&o.setSenderIfNotSet(i);try{return await o.build()}catch(s){if(!e.fallbackToProvider)throw s;try{return await Llr(o,r)}catch(a){throw new Error(`Failed to build Sui transaction: ${a instanceof Error?a.message:"Unknown error"}`)}}};u();l();function zlr(t,e){return{networkID:t,id:e}}u();l();function Flr(t){return Se.isSolanaNetworkID(t.pendingTransactionInput.networkID)}function qlr(t){return Se.isEVMNetworkID(t.pendingTransactionInput.networkID)}function jlr(t){return Se.isBitcoinNetworkID(t.pendingTransactionInput.networkID)}function Klr(t){return Se.isSuiNetworkID(t.pendingTransactionInput.networkID)}async function Wlr(t){if(Flr(t)){let{accountIdentifier:e,networkID:r,multichainTransaction:n,accountSigner:i,storage:o,pendingTransactionInput:s,senderAddress:a}=t,c=Ku(r);if(n.transaction.length>1)throw new Error("Sending multiple transactions is not currently supported");return yx({accountIdentifier:e,accountSigner:i,connection:c,feePayer:new le.PublicKey(a.address),pendingTransactionInput:s,storage:o,transaction:n.transaction[0]})}else if(qlr(t)){let{accountIdentifier:e,accountSigner:r,networkID:n,pendingTransactionInput:i,storage:o,multichainTransaction:s}=t,{unsignedTransaction:a}=s;return kk({accountSigner:r,accountIdentifier:e,networkID:n,unsignedTransaction:a,callPayload:a,pendingTransactionInput:i,storage:o})}else if(jlr(t)){let{accountIdentifier:e,accountSigner:r,pendingTransactionInput:n,storage:i,multichainTransaction:o,utxoManager:s}=t,{psbt:a,psbtChain:c,inputsToSign:d}=o;if(!s)throw new Error("UTXO manager must be provided for Bitcoin sign and sends.");return z7({accountSigner:r,accountIdentifier:e,pendingTransactionInput:n,storage:i,psbt:a,psbtChain:c,utxoManager:s,inputsToSign:d})}else if(Klr(t)){let{accountIdentifier:e,accountSigner:r,pendingTransactionInput:n,storage:i,multichainTransaction:o}=t,{digest:s}=await K7({accountSigner:r,accountIdentifier:e,pendingTransactionInput:n,storage:i,transaction:o.transaction});return s}else throw new Error(`Unable to sign and send transaction for args: ${JSON.stringify(t,null,2)}`)}u();l();u();l();u();l();u();l();var Vlr=/[e|+|-]/i;function Glr(t,e){let r=Math.floor(t*e*100)/100;return!Number.isFinite(r)||r.toString().match(Vlr)?0:r}function Hlr(t,e,r){let n=zr(t);return e<=0||!n.isFinite()?0:n.dividedBy(e).decimalPlaces(r).toNumber()}u();l();u();l();var wme=v.object({usd:v.number().optional(),usd_24h_change:v.number().optional(),price:v.number().optional(),priceChange24h:v.number().optional(),currencyValue:v.number().optional(),currencyChange:v.number().optional(),lastUpdatedAt:v.string().datetime().optional()}),$lr=[v.literal("1H"),v.literal("1D"),v.literal("1W"),v.literal("1M"),v.literal("YTD"),v.literal("ALL")],Ylr=v.union($lr).nullish().transform(t=>t??"1D");var Xlr=[v.literal("1m"),v.literal("5m"),v.literal("1h"),v.literal("4h"),v.literal("1d"),v.literal("1w"),v.literal("4w"),v.literal("1mo")],gMn=v.union(Xlr).nullish().transform(t=>t??"1d"),Zlr=v.object({unixTime:v.number(),value:v.string()}),Ame=v.object({history:v.array(Zlr)});u();l();function Jlr(t,e){return+((e-t)/t*100||0).toFixed(2)}function Eme({balance:t,priceId:e,priceMap:r}){let n=e?r[e]?.usd:void 0,i=e?r[e]?.usd_24h_change:void 0;if(n===void 0)return{usd:void 0,usd_24h_change:void 0,price:n};let o=t.multipliedBy(n),s;return i!==void 0&&(s=o.minus(o.dividedBy(1+i/100))),{usd:o.toNumber(),usd_24h_change:s?.toNumber(),price:n,priceChange24h:i,currencyValue:o.toNumber(),currencyChange:s?.toNumber()}}u();l();u();l();var Qlr=new OI({solana:{},ethereum:{},polygon:{},base:{},arbitrum:{},monad:{pricesDisabled:!0},bitcoin:{},sui:{},hypercore:{}}),sm=PI(Qlr);u();l();u();l();var G7=(s=>(s[s.Always=1/0]="Always",s[s.Short=tt({days:1})]="Short",s[s.Medium=tt({days:3})]="Medium",s[s.Long=tt({days:7})]="Long",s[s.VeryLong=tt({days:30})]="VeryLong",s[s.Never=0]="Never",s))(G7||{}),fl=(a=>(a[a.Immediate=0]="Immediate",a[a.VeryShort=tt({seconds:1})]="VeryShort",a[a.Short=tt({seconds:15})]="Short",a[a.Medium=tt({minutes:3})]="Medium",a[a.Long=tt({minutes:5})]="Long",a[a.VeryLong=tt({minutes:10})]="VeryLong",a[a.Never=1/0]="Never",a))(fl||{}),wg=(i=>(i[i.VeryShort=tt({seconds:2})]="VeryShort",i[i.Short=tt({seconds:15})]="Short",i[i.Medium=tt({minutes:3})]="Medium",i[i.Long=tt({minutes:5})]="Long",i))(wg||{});var IJe=tt({seconds:10}),TJe={gcTime:G7.Short,staleTime:fl.Short};u();l();var edr="prices",H7=(t,e)=>{if(!cm(t))return;let n=t.response?.status;(!n||n>=400&&n<500&&n!==404)&&(at.addBreadcrumb(edr,t.message,"info",e),at.captureError(t,"prices"))};var vJe=v.object({price:v.number(),priceChange24h:v.number(),lastUpdatedAt:v.string().datetime().optional()}),kJe=v.object({prices:v.record(vge,vJe)});async function Rz({tokens:t}){try{let e=t.filter(s=>!sm.get(s.chainId)?.pricesDisabled),r={tokens:e.map(s=>({token:s}))},n="/price/v1",i,o=fn.timeout(IJe).retry(1,200).validateStatus(!0).api();if(e.length===0)return{};if(e.length===1){let s=e[0];n+=`/${s.chainId}`,s.resourceType==="nativeToken"?n+=`/nativeToken/${s.slip44}`:n+=`/address/${s.address}`;let a=await o.get(n);i=kJe.parse({prices:{[ml(s)]:a.data}})}else{let s=await o.post(n,r);i=kJe.parse(s.data)}return tdr(i.prices)}catch(e){throw H7(e),e}}function tdr(t){let e={};for(let r of Object.keys(t)){let{price:n,priceChange24h:i,lastUpdatedAt:o}=t[r],s={price:n,usd:n,usd_24h_change:i,lastUpdatedAt:o};e[r]=s}return e}u();l();u();l();var $7="prices",Ta={price:t=>[$7,{id:t}],priceError:()=>[$7,"error"],priceHistory:(t,e)=>[$7,t,e],priceHistoryInterval:(t,e,r,n)=>[$7,t,e,r,...n?[n]:[]],tempPrices:t=>["tempPrices",t]};var hP=new Error("Price history unavailable for this token"),Ime=new Error("Insufficient data for this time frame and token"),Tme=async({caip19:t,timeFrame:e})=>{let r=Pg(t);if(sm.get(r.chainId)?.pricesDisabled)throw hP;let n=await fn.api().get("/price-history/v1",{params:{token:t,type:e}});if(n.status===400)throw hP;let i=Ame.safeParse(n.data);if(!i.success)throw hP;if(i.data.history.length<2)throw Ime;return i.data.history},xJe=({caip19:t,timeFrame:e})=>({queryKey:Ta.priceHistory(t,e),queryFn:()=>Tme({caip19:t,timeFrame:e}),staleTime:fl.Short,gcTime:fl.Short}),kme=t=>Ft(xJe(t));u();l();var rdr=new Error("Price history interval unavailable for this token");u();l();var vme=({priceHistory:t,currentPrice:e})=>{let r=t.at(-1),n=t.at(-2),i=t.map(a=>({...a,tooltipUnixTime:a.unixTime}));if(e===void 0||!r||!n)return i;let o=r.unixTime-n.unixTime,s={unixTime:r.unixTime+o,value:e.toString(),tooltipUnixTime:r.unixTime+o};return[...i,s]};u();l();var xme=({priceHistory:t,realtimePriceUpdates:e})=>{let r=t.at(-1),n=t.at(-2);if(!r||!n)return t.map(a=>({...a,tooltipUnixTime:a.unixTime}));let i=r.unixTime-n.unixTime,o=e.map((a,c)=>({unixTime:r.unixTime+(c+1)*i,value:a.value,tooltipUnixTime:a.unixTime}));return[...t.map(a=>({...a,tooltipUnixTime:a.unixTime})),...o]};u();l();var ONn=[{value:"1m",ms:tt({minutes:1})},{value:"5m",ms:tt({minutes:5})},{value:"1h",ms:tt({hours:1})},{value:"4h",ms:tt({hours:4})},{value:"1d",ms:tt({days:1})},{value:"1w",ms:tt({days:7})},{value:"4w",ms:tt({days:28})},{value:"1mo",ms:tt({days:30})}];u();l();u();l();var Pme=v.object({feerate:v.string()}),PJe=v.object({conservative:Pme,economical:Pme,unset:Pme}),ndr=v.object({recommended:v.object({priceEstimates:PJe}),bitcoin_rpc:v.object({priceEstimates:PJe})}),idr=v.object({gasPriceSources:ndr}),odr=new We("1.25"),sdr=new We("1.5"),OJe=async(t,e=!0)=>{let r,n,i;try{let{priceEstimates:o}=(await adr(t)).gasPriceSources.recommended,{conservative:s,economical:a,unset:c}=o;r=new We(s.feerate),n=new We(a.feerate),i=new We(c.feerate)}catch(o){if(!e)throw o;let s=await xd(t).estimateSmartFee(2,"ECONOMICAL");i=new We(s.feerate),n=i.times(odr),r=i.times(sdr)}return{fast:{btcPerKilobyte:r.multipliedBy(1)},standard:{btcPerKilobyte:n.multipliedBy(1)},slow:{btcPerKilobyte:i.multipliedBy(1)}}};async function adr(t){let e=`https://gas-price-oracle.phantom.app/?chainId=${t}`,r=await fn.headers({"Content-Type":"application/json"}).get(e);return idr.parse(r.data)}u();l();var bI="gas-estimation";var cdr=3,udr=600,ldr=tt({seconds:30}),T0=({networkID:t,enableFallback:e=!1,retry:r=cdr,retryDelay:n=udr,enabled:i=!0})=>Ft({queryFn:async()=>{try{if(!t)throw new Error("Missing networkID");if(Se.isBitcoinNetworkID(t))return await OJe(t,e);if(Se.isEVMNetworkID(t))return await BY(t,e);if(Se.isSolanaNetworkID(t))throw new Error("Transaction speeds is not supported for Solana.");if(Se.isSuiNetworkID(t))throw new p8("transaction speeds to unit cost");return na(t)}catch(o){throw o instanceof kO||(at.addBreadcrumb(bI,`enableFallback: ${e}, networkID: ${t}`,"info"),at.captureError(o,"transaction")),o}},queryKey:tn.transactionSpeedsToUnitCost(t),refetchOnMount:"always",retry:r,retryDelay:n,staleTime:ldr,enabled:i&&!!t&&(Se.isEVMNetworkID(t)||Se.isBitcoinNetworkID(t)),placeholderData:m8});u();l();u();l();var RJe=async(t,e)=>{let r=hm(t),n=await Pf.eth_estimateGas(r,[e]);if("error"in n)throw new Error(`[${n.error.code}] ${n.error.message}`);return new We(n.result)};var NDn=new We(21e3),ddr=6,fdr=600,pdr=tt({seconds:5}),hdr=tt({days:1}),Ome=(t,e=!0)=>Ft({queryFn:async()=>{if(!t)throw new Error("Args is required for calculating transaction units.");try{return await mdr(t)}catch(n){throw at.addBreadcrumb(bI,`networkId: ${t?.networkID}`,"info"),at.captureError(n,"transaction"),n}},queryKey:tn.transactionUnitAmount(t),enabled:!!t&&(Se.isEVMNetworkID(t.networkID)||Se.isBitcoinNetworkID(t.networkID))&&e,retry:ddr,retryDelay:fdr,staleTime:pdr,gcTime:hdr}),mdr=async t=>{if(UP(t)){let{gas:e}=t.unsignedTransaction;if(e)return{gasLimit:new We(e,16)};{let r=await RJe(t.networkID,t.unsignedTransaction);return{gasLimit:new We(MY(r))}}}else if(w8(t)){let e=t.psbtChain,r=e?new We(vg(e.map(i=>i.additionalCost.vb.toNumber()))):new We(0),n=e?new We(vg(e.map(i=>i.additionalCost.sats.toNumber()))):new We(0);return{virtualBytes:new We(t.vb),additionalCosts:{vb:r,sats:n}}}else throw new Error(`Unsupported transaction networkId: ${t.networkID} for calculating transaction units.`)};u();l();u();l();var ydr=tt({seconds:30}),gdr=tt({minutes:5}),CJe=t=>Ft({queryKey:tn.transactionAdditionalCosts(t),queryFn:async()=>{if(!t)return new We(0);let e=ia.get(t.networkID).additionalTransactionCost;return e?await e(t):new We(0)},enabled:!!t,staleTime:ydr,gcTime:gdr});var bdr=6,_dr=600,Sdr=tt({seconds:5}),wdr=tt({days:1}),Adr=["fast","standard","slow"],Edr=t=>{if(!t)return"fast";for(let e of Adr)if(t[e])return e;throw new Error("No valid transaction speeds found.")},Rme=t=>{let e=kdr(t),r=t?.queryOptions?.refetchInterval,{data:n,isError:i}=Ome(t?.multichainTransaction,e),{data:o}=T0({networkID:t?.networkID,enableFallback:!0,refetchInterval:r}),{data:s}=CJe(t?.multichainTransaction),a=Tdr(t,n,o);return Ft({queryFn:async()=>{try{if(!t)throw new Error("Missing args");let{multichainTransaction:d,transactionSpeed:f="standard"}=t;if(!d)throw new Error("Multichain transaction is null.");if(i&&Cme(t.networkID))throw new Error("Transaction unit amount is required but errored.");if(UP(d)||w8(d)){if(!o)throw new Error("Missing transactionSpeedsToUnitCost");if(!n)throw new Error("Missing transactionUnit");let p=f==="fastest"?Edr(o):f,m=o[p];if(!m)throw new Error(`Missing transactionSpeedsToUnitCost for ${f}`);return uE(d.networkID,m,n,s)}if(r9(d))return d.networkID==="solana:localnet"?{networkID:d.networkID,value:0,highFees:!1}:await px(d.networkID,d.transaction.map(m=>"version"in m?m.message:m.compileMessage()));if(n9(d))return await F7(d);na(d)}catch(d){throw at.addBreadcrumb(bI,`chainId: ${t?.networkID}`,"info"),at.captureError(d,"transaction"),d}},queryKey:tn.gasEstimation(t?.networkID,t?.multichainTransaction,t?.transactionSpeed,s),enabled:a,retry:bdr,retryDelay:_dr,refetchInterval:r,staleTime:Sdr,gcTime:wdr,placeholderData:d=>d})};function Cme(t){return Se.isBitcoinNetworkID(t)||Se.isEVMNetworkID(t)?!0:Se.isSolanaNetworkID(t)||Se.isSuiNetworkID(t)?!1:na(t)}function Idr(t){return Se.isBitcoinNetworkID(t)||Se.isEVMNetworkID(t)?!0:Se.isSolanaNetworkID(t)||Se.isSuiNetworkID(t)?!1:na(t)}function Tdr(t,e,r){if(!t)return!1;let{networkID:n,multichainTransaction:i}=t;return i?(!!e||!Cme(n))&&(!!r||!Idr(n)):!1}function kdr(t){return t?Cme(t.networkID):!1}u();l();u();l();function Y7(t){return{caip19:Bme(t)}}function Bme(t){return typeof t=="string"?Pg(t):t}var BJe=new Error("Price not available"),MJe=({query:t,enabled:e=!0,queryOptions:r={refetchInterval:wg.Short,staleTime:fl.Short,gcTime:fl.Short}})=>{let n=t?t.data:void 0,i=n?vdr(n):void 0,o=r.refetchInterval,s=r.staleTime,a=r.gcTime,c=n?Y7(n).caip19.chainId:void 0,d=c?!sm.get(c).pricesDisabled:!1;return{enabled:e&&!!i&&d,queryKey:Ta.price(i),refetchInterval(p){return p.state.error===BJe?!1:o},staleTime:s,gcTime:a,retry:!1,queryFn:async()=>{if(!n||!i)throw new Error("No caip19able provided");let p=Bme(n);try{let y=(await Rz({tokens:[p]}))[i];if(!y)throw new Error(`Failed to fetch price for ${n}`);return y}catch(m){let y=m;throw i&&(y.response?.status===404||y.response?.status===400)?BJe:m}}}};function _I({query:t,enabled:e=!0,queryOptions:r={refetchInterval:wg.Short,staleTime:fl.Short,gcTime:fl.Short}}){return Ft(MJe({query:t,enabled:e,queryOptions:r}))}function vdr(t){return typeof t=="string"?t:ml(t)}u();l();u();l();var LJe=Oe(Es());u();l();var NJe=function(t,e=0){let r=3735928559^e,n=1103547991^e;for(let i=0,o;i<t.length;i++)o=t.charCodeAt(i),r=Math.imul(r^o,2654435761),n=Math.imul(n^o,1597334677);return r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)};u();l();function DJe(t){return t.data.map(Y7)}u();l();var xdr=500;async function UJe({queryClient:t,queries:e}){let r={};try{let n={},i=[];for(let d of e){let f=d.caip19,p=ml(f);if(n[p])continue;n[p]=!0;let m=Ta.price(p),y=t.getQueryState(m);if(y&&Date.now()-y.dataUpdatedAt<TJe.staleTime){r[p]=y.data;continue}i.push(f)}let o=await Promise.allSettled(Wye(i,xdr).map(d=>Rz({tokens:d}))),s=[],a=o.some(d=>d.status==="rejected"),c=o.reduce((d,f)=>f.status==="rejected"?d:{...d,...f.value},{});for(let d of i){let f=ml(d),p=c[f],m=Ta.price(f);!p&&a&&(p=t.getQueryData(m)),p&&(r[f]=p),s.push(()=>{let y=p??null;t.setQueryData(m,y,{updatedAt:Date.now()})})}if(a){let d=t.getQueryData(Ta.priceError())??0;t.setQueryData(Ta.priceError(),d+1)}else t.removeQueries({queryKey:Ta.priceError()});Pdr(s,50)}catch(n){H7(n)}return r}function Pdr(t,e){let r=t.length,n=0;function i(){let o=t.slice(n,n+e);Oge.batch(()=>{o.forEach(s=>s())}),n+=e,n<r&&setTimeout(i,0)}i()}var Odr=t=>typeof t=="string"?t:t.resourceType==="nativeToken"?t.slip44:t.address,Rdr=(t,e)=>t.localeCompare(e),zJe=t=>{let e=t.map(Odr).sort(Rdr).join(",");return NJe(e)},FJe=({query:t,enabled:e=!0,key:r,queryOptions:n={refetchInterval:wg.Short},queryClient:i})=>{let{refetchInterval:o}=n,s=DJe(t),a=e&&t!=null&&t.data.length>0;return{queryKey:Ta.tempPrices(r),staleTime:0,gcTime:0,refetchInterval:o,queryFn:()=>UJe({queryClient:i,queries:s}),enabled:a}};function Mme({query:t,enabled:e=!0,queryOptions:r={refetchInterval:wg.Short}}){let n=zu(),i=(0,LJe.useMemo)(()=>zJe(t.data),[t]);return Ft(FJe({query:t,enabled:e,key:i,queryOptions:r,queryClient:n}))}u();l();var Cdr=()=>Ft({queryKey:Ta.priceError(),initialData:0});u();l();var Bdr=1*60*1e3,Mdr=t=>{let e=t.queryKey[1];return Object.prototype.hasOwnProperty.call(e??{},"id")?t.state.dataUpdatedAt>Date.now()-Bdr:String(e)===Ta.priceError()[1]};u();l();u();l();u();l();u();l();u();l();var bw=(i=>(i[i.Always=1/0]="Always",i[i.Short=tt({days:1})]="Short",i[i.Medium=tt({days:3})]="Medium",i[i.Long=tt({days:7})]="Long",i))(bw||{}),mP=(o=>(o[o.Immediate=0]="Immediate",o[o.Short=tt({minutes:1})]="Short",o[o.Medium=tt({minutes:2.5})]="Medium",o[o.Long=tt({minutes:5})]="Long",o[o.Never=1/0]="Never",o))(mP||{}),Nme=(n=>(n[n.Short=tt({minutes:1})]="Short",n[n.Medium=tt({minutes:2.5})]="Medium",n[n.Long=tt({minutes:5})]="Long",n))(Nme||{});u();l();var Cz=(t,e,r,n)=>{(!e||e>=400&&e<500)&&(at.addBreadcrumb(r,t.message,"info",n),at.captureError(t,"fungibles"))};u();l();u();l();u();l();u();l();u();l();u();l();var X7=(i=>(i.Verified="VERIFIED",i.NotVerified="NOT_VERIFIED",i.PossibleSpam="POSSIBLE_SPAM",i.Spam="SPAM",i))(X7||{}),Z7=v.nativeEnum(X7);var dn=v.object({chain:xge,decimals:v.number(),logoUri:v.string().nullish().default(null),name:v.string().nullish().default(null),symbol:v.string().nullish().default(null),spamStatus:Z7.optional().default("NOT_VERIFIED"),marketCap:v.number().optional(),volume24hUsd:v.number().optional()});var qJe=(i=>(i.Website="website",i.Telegram="telegram",i.X="x",i.Discrod="discord",i))(qJe||{}),Ndr=v.object({type:v.nativeEnum(qJe),url:v.string()});var Ddr=v.object({extension:v.literal("interestBearingConfig"),state:v.object({currentRate:v.number(),initializationTimestamp:v.number(),lastUpdateTimestamp:v.number(),preUpdateAverageRate:v.number(),rateAuthority:v.string()}),meta:v.object({amountPrincipal:v.string()}).optional()}),Udr=v.object({extension:v.literal("transferFeeConfig"),state:v.object({newerTransferFee:v.object({transferFeeBasisPoints:v.number()})})}),Ldr=v.object({extension:v.literal("permanentDelegate"),state:v.object({delegate:v.string()})}),zdr=v.object({extension:v.literal("transferHook"),state:v.object({authority:v.string(),programId:v.string()})}),Fdr=v.object({extension:v.literal("tokenMetadata"),state:v.object({additionalMetadata:v.array(v.array(v.string())),mint:v.string(),name:v.string(),symbol:v.string(),updateAuthority:v.string(),uri:v.string()})}),qdr=v.object({extension:v.literal("mintCloseAuthority"),state:v.object({closeAuthority:v.string()})}),jdr=v.object({extension:v.literal("groupMemberPointer"),state:v.object({authority:v.string(),memberAddress:v.string()})}),Kdr=v.object({extension:v.literal("metadataPointer"),state:v.object({authority:v.string(),metadataAddress:v.string()})}),Wdr=v.object({extension:v.literal("nonTransferable")}),Bz=v.union([Ddr,Udr,Ldr,zdr,Fdr,qdr,Kdr,jdr,Wdr]),jJe=dn.merge(v.object({address:v.string().nullish(),description:v.string().nullish(),logoURI:v.string().nullish(),links:v.array(Ndr).nullish(),marketCap:v.number({coerce:!0}).nullish(),totalSupply:v.number({coerce:!0}).nullish(),circulatingSupply:v.number({coerce:!0}).nullish(),maxSupply:v.number({coerce:!0}).nullish(),holders:v.number().nullish(),volume24hUSD:v.number({coerce:!0}).nullish(),volume24hUSDChangePercentage:v.number().nullish(),trades24h:v.number().nullish(),trades24hChangePercentage:v.number().nullish(),uniqueWallets24h:v.number().nullish(),uniqueWallets24hChangePercentage:v.number().nullish(),top10HoldersPercent:v.number().nullish(),mintable:v.boolean().nullish(),freezable:v.boolean().nullish(),mutableMetadata:v.boolean().nullish(),ownershipRenounced:v.boolean().nullish(),updateAuthority:v.string().nullish(),freezeAuthority:v.string().nullish(),spamStatus:Z7.optional().default("NOT_VERIFIED"),mintExtensions:TI(Bz).nullish(),createdDate:v.string().datetime().nullish().default(null),categories:v.object({id:v.string(),name:v.string(),imageUri:v.string(),numTokens:v.number()}).array().optional()})),z2n=v.object({code:v.string(),message:v.string()});var Vdr="TokenDetailNotLoading";async function Dme(t){let e=Pg(t.caip19),r=e.resourceType==="nativeToken"?e.slip44:e.address,n=await fn.api().timeout(tt({seconds:10})).get(`/tokens/v1/${e.chainId}/${e.resourceType}/${r}`);if(n.status!==200)throw new C0({key:Vdr});let i=await n.data;jJe.parse(i.data);let o=i.data.description,s=o&&o.replace(/<[^>]*>/g,"");return{...i,data:{...i.data,description:s}}}u();l();var Mz={fungibleDetail({caip19:t}){return["fungibleDetail",{caip19:t}]}};var Gdr="get-fungible-detail",KJe=t=>({gcTime:bw.Short,staleTime:mP.Long,queryKey:Mz.fungibleDetail({caip19:t.caip19}),async queryFn(){try{return(await Dme(t)).data}catch(e){if(cm(e)){let r=e.response?.status;Cz(e,r,Gdr)}throw e}}});function Hdr(t){return Ft(KJe(t))}var Mo=Oe(Es());u();l();var WJe=Oe(art()),yP=Oe(Es()),VJe=(t,e=100)=>{let[r,n]=(0,yP.useState)(t),i=(0,yP.useMemo)(()=>(0,WJe.default)(o=>n(o),e),[e]);return(0,yP.useEffect)(()=>i(t),[i,t]),r};var $dr=({error:t,chainId:e,prices:r,isPending:n})=>{if(sm.get(e).pricesDisabled)return qn.t("assetDetailPriceNoValue");if(t===hP)return qn.t("assetDetailPriceHistoryUnavailable");if(t===Ime||!n&&r.length===0)return qn.t("assetDetailPriceHistoryInsufficientData");if(t)return qn.t("assetDetailPriceHistoryError")},Ydr=({caip19:t,userLocale:e="en-US",timeFrame:r="1D"})=>{let{t:n}=zge(),i=um(),o=zu(),[s,a]=(0,Mo.useState)(r),c=(0,Mo.useCallback)(Be=>{if(Be!==s){a(Be);try{let{symbol:Fe}=o.getQueryData(Mz.fungibleDetail({caip19:t}))||{};i.capture("onPublicFungibleTimeframeChanged",{data:{timeFrame:Be,caip19:t,symbol:typeof Fe=="string"?Fe:void 0}})}catch(Fe){console.error("error capturing onPublicFungibleTimeframeChanged",Fe)}}},[i,t,o,s]),{data:d,isPending:f,error:p}=kme({caip19:t,timeFrame:s}),{data:m}=_I({query:{data:t},queryOptions:{refetchInterval:wg.VeryShort,staleTime:fl.VeryShort}}),y=(0,Mo.useMemo)(()=>{if(d){if(m?.price&&m.lastUpdatedAt&&d){let Be=m.price,Fe=new Date(m.lastUpdatedAt),Ae={value:Be.toString(),unixTime:Math.floor(Fe.getTime()/1e3)};return xme({priceHistory:d,realtimePriceUpdates:[Ae]})}return vme({priceHistory:d,currentPrice:m?.price})}},[d,m?.price,m?.lastUpdatedAt]),b=Pg(t).chainId,S=m?.price,P=m?.usd_24h_change,U=(0,Mo.useMemo)(()=>!S||!P?null:S/(1+P/100),[S,P]),[L,j]=(0,Mo.useState)(null);(0,Mo.useEffect)(()=>{y?.length&&j(y)},[y,j]);let Z=(0,Mo.useMemo)(()=>y||L||[],[y,L]),se=$dr({error:p,chainId:b,prices:Z,isPending:f});(0,Mo.useEffect)(()=>{se&&j(null)},[se]);let Ee=(0,Mo.useMemo)(()=>[{timeFrame:"1H",label:n("assetDetailTimeFrame1H")},{timeFrame:"1D",label:n("assetDetailTimeFrame1D")},{timeFrame:"1W",label:n("assetDetailTimeFrame1W")},{timeFrame:"1M",label:n("assetDetailTimeFrame1M")},{timeFrame:"YTD",label:n("assetDetailTimeFrameYTD")},{timeFrame:"ALL",label:n("assetDetailTimeFrameAll")}].map(Be=>({...Be,label:Be.label?.toUpperCase()})),[n]),[be,fe]=(0,Mo.useState)(null),w=VJe(be,100),[R,B]=(0,Mo.useMemo)(()=>{if(!Z.length)return[U??null,S??null];let[Be,Fe]=[Z[0],Z[Z.length-1]].map(Ae=>new zr(Ae.value).toNumber());return[Be,S||Fe]},[S,U,Z]),C=(0,Mo.useMemo)(()=>w??B,[w,B]),O=(0,Mo.useMemo)(()=>B===null||R===null?null:B-R,[R,B]),N=(0,Mo.useMemo)(()=>C===null||R===null?null:C-R,[C,R]),ie=(0,Mo.useMemo)(()=>{if(N===null||R===null||R===0)return null;let Be=N/R*100;return`${Xye(Be,{includePlusPrefix:!0})}%`},[N,R]),ue=(0,Mo.useCallback)(Be=>{let Fe=new Date(Be*1e3),Ae=Fe.toLocaleTimeString(e,{hour:"2-digit",minute:"2-digit"}),wt=Fe.toLocaleString(e,{month:"short",day:"2-digit"}),Lt=Fe.getFullYear(),zn=Z.at(-1);if(zn&&zn.unixTime===Be)return n("assetDetailPriceHistoryNow");switch(s){case"1H":case"1D":return Ae;case"1W":case"1M":return`${Ae}, ${wt}`;case"YTD":case"ALL":return`${wt}, ${Lt}`;default:return s}},[e,Z,s,n]),me=(0,Mo.useMemo)(()=>sm.get(b).pricesDisabled??!1,[b]);return{activeTimeFrame:s,setActiveTimeFrame:c,prices:Z,isPending:f,errorText:se,timeFrames:Ee,setScrubValue:fe,scrubValue:w,currentPrice:C,overallPriceChange:O,currentPriceChange:N,formattedPercentageChange:ie,formatTimeFrameText:ue,hidePriceAmounts:me,hideTimeFrames:me}};u();l();u();l();u();l();var Xdr=new Error("missing price"),Zdr=new Error("Unable to format gas estimation"),J7=(t,e)=>{if(!e.usd)throw Xdr;try{let r=Se.getTokenDecimals(t.networkID);if(vw(t)){let n=xoe(t),o=new zr(n).div(Ef(r)).times(new zr(e.usd));return{gasEstimationPriceUSD:aT(o),gasEstimationPriceUSDNumber:o.toNumber(),gasEstimationAmount:n}}else if(Tw(t)){let n=Poe(t),o=n.div(new zr(le.LAMPORTS_PER_SOL)).times(e.usd);return{gasEstimationPriceUSD:aT(o),gasEstimationPriceUSDNumber:o.toNumber(),gasEstimationAmount:n}}else if(kw(t)){let i=a8(t.gasBudget,r).times(e.usd);return{gasEstimationPriceUSD:aT(i),gasEstimationPriceUSDNumber:i.toNumber(),gasEstimationAmount:t.gasBudget}}else if(xw(t)){let n=Ooe(t),o=new zr(n).div(Ef(r)).times(e.usd);return{gasEstimationPriceUSD:aT(o),gasEstimationPriceUSDNumber:o.toNumber(),gasEstimationAmount:n}}else throw na(t),new Error("unsupported chain type")}catch{throw Zdr}};var Jdr=(t,e,r)=>{let n=t?Se.getChainID(t):null,i=n?h8(n):void 0,{data:o,isFetched:s}=_I({query:{data:i}}),a=!!t&&!!e&&s,c=tn.gasEstimationPrice(t,e);return Ft({enabled:a,queryKey:c,queryFn:()=>{if(!o||!e)throw new Error("missing args");return J7(e,o)},refetchOnMount:!0,placeholderData:m8,...r||{}})};u();l();u();l();var GJe=Object.prototype.hasOwnProperty;function HJe(t,e,r){for(r of t.keys())if(k0(r,e))return r}function k0(t,e){var r,n,i;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&k0(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if(i=n,i&&typeof i=="object"&&(i=HJe(e,i),!i)||!e.has(i))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if(i=n[0],i&&typeof i=="object"&&(i=HJe(e,i),!i)||!k0(n[1],e.get(i)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(GJe.call(t,r)&&++n&&!GJe.call(e,r)||!(r in e)||!k0(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}var $Je=Oe(Es());var Qdr=t=>{let e=If(),r=(0,$Je.useRef)(),n=tn.pendingTransactionById(t);return Ft({queryKey:n,queryFn:async()=>{try{let s=(await Of(e))[t];return s?(k0(s,r.current)||(r.current=s),r.current):null}catch(o){throw at.captureError(o,"transaction"),o}},refetchInterval:200,staleTime:200,gcTime:0,refetchOnMount:!0})};u();l();var ZJe=Oe(j$()),JJe=Oe(Gye());var Dz=Oe(Es());u();l();var Nz=Oe(j$()),YJe=Oe(Es());function XJe(t,e){let r=(0,YJe.useRef)((0,Nz.default)());Ft({queryKey:["PENDING-TX-POLLER",t],enabled:t.length>0,queryFn:()=>voe(t,e),refetchInterval:()=>(0,Nz.default)().diff(r.current,"seconds")<30?5*1e3:(0,Nz.default)().diff(r.current,"minutes")<2?15*1e3:(0,Nz.default)().diff(r.current,"minutes")<5?30*1e3:!1})}ZJe.default.extend(JJe.default);var Uz=t=>{let e=If(),r=(0,Dz.useRef)([]),n=(0,Dz.useRef)([]);(0,Dz.useEffect)(()=>{r.current=[],n.current=[]},[t]);let i=tn.pendingTransactions(t),o=async()=>{let s=await Of(e),a=RY(s,t);if(!k0(a,r.current)){let c=r.current.filter(d=>!a.find(f=>f.id===d.id));k0(c,n.current)||(n.current=c),r.current=a}return{pendingTransaction:r.current,removedPendingTransactions:n.current}};return XJe(t,e),Ft({queryKey:i,queryFn:o,refetchInterval:1e3,staleTime:500,gcTime:0,refetchOnMount:!0,enabled:!!t.length})};u();l();var rQe=Oe(Es());u();l();var QJe=t=>({connection:Ku(t),cluster:tA(t)}),eQe=()=>QJe(qe.Solana.Mainnet),tQe=t=>{let e,r=t?.addresses??[];for(let i of r)if(Se.isSolanaNetworkID(i.networkID)){e=i.networkID;break}let n=e??qe.Solana.Mainnet;return QJe(n)};var efr=()=>{let t=(0,rQe.useMemo)(eQe,[]),{data:e=t}=g8({select:tQe});return e};u();l();u();l();u();l();u();l();u();l();var tfr="/currency_exchange/v1/rates",nQe=async()=>{let t=await fn.api().get(`${tfr}?from=USD&currencies=${Object.keys(RP).join(",")}`);if(!TP(t))throw new Error("Failed to fetch exchange rates");return await t.data};var rfr=tt({hours:2}),Ume=t=>Ft({queryKey:jge.currencyExchangeRates(),queryFn:nQe,enabled:!!t,staleTime:rfr,select(e){return t?e?.rates[t]:1}});var Ag=Oe(Es()),iQe=(0,Ag.createContext)(null),nfr=({children:t})=>{let{value:e}=Kge(),{data:r,isLoading:n}=Ume(e),i=e&&r?RP[e].languageCode:b8.languageCode,o=e||b8.value,s=e&&r?RP[e].symbol:b8.symbol,a=(0,Ag.useCallback)((p,m)=>Intl.NumberFormat(i,{style:"currency",currency:o,...m}).format(p),[o,i]),c=(0,Ag.useCallback)(p=>!e||!r?Number(p):zr(p).div(zr(r)).toNumber(),[e,r]),d=(0,Ag.useCallback)((p,m)=>{if(!e||!r)return Number(p);let y=zr(p).times(zr(r));return m===void 0?y.toNumber():y.decimalPlaces(m).toNumber()},[e,r]),f={isLoading:n,currencyLocale:i,currencySymbol:s,currencyCode:o,toUsd:c,fromUsd:d,formatLocalizedPrice:a};return Ag.default.createElement(iQe.Provider,{value:f},t)},Lz=()=>{let t=(0,Ag.useContext)(iQe);if(!t)throw new Error("useLocalizedCurrency must be used within a LocalizedCurrencyProvider");return t};u();l();u();l();u();l();var CQe=Oe(Es());u();l();var oQe=async t=>{try{return await jp(qe.Ethereum.Mainnet).resolveName(t)}catch(e){return console.error(e),null}};u();l();var sQe=async(t,e)=>{let r="/uns/v1/resolve";try{let n=await fn.api().headers({"Content-Type":"application/json"}).post(r,{query:t,chainId:e});if(!TP(n))throw e9;let i=n.data;if(i.address===""||i.status!=="OK")throw e9;return i.address}catch{return null}};u();l();var PQe=Oe(xQe());var OQe=async(t,e)=>{try{if(!Se.isSolanaNetworkID(e))return null;let r=tA(e),n=Jp(r),o=await new PQe.TldParser(n).getOwnerFromDomainTld(t);return o?o.toString():null}catch{return null}};u();l();var RQe=async(t,e)=>{try{if(!Se.isSuiNetworkID(e))return null;let r=Ra(e);return t.toLowerCase().endsWith(".sui")&&await r.resolveNameServiceAddress({name:t})||null}catch{return null}};function Jme(t,e){let r=t?.toLowerCase(),n=Qme(r,e),i=n.error,o=(0,CQe.useMemo)(()=>i===_8?qn.t("sendFormErrorInvalidDomain"):i===Gge?qn.t("sendFormErrorInvalidSolanaAddress"):i===Hge?qn.t("sendFormErrorInvalidTwitterHandle"):i===Q$?qn.t("sendFormErrorInvalidUsername"):"",[i]);return{...n,error:o}}function Qme(t,e){let r=Uge(),n=um(),i=!!t&&!!e,o=tn.resolveDomainName(t,e);return Ft({queryKey:o,queryFn:async()=>{if(!t||!e)throw Wge;let a=await BQe(t,e,r,n);return{address:a?.owner??null,type:a?.type??null,handle:t}},enabled:i})}var Gfr=async(t,e)=>{try{if(t.startsWith("@")||!Se.isEVMNetworkID(e))return null;let[r]=Dge(t);if(r){let n=await oQe(t);if(!n)throw _8;return n}return null}catch(r){return at.captureError(r instanceof Error?r:new Error(`Unable to resolve EVM domain: ${t}`),"transaction"),null}},Hfr=async(t,e,r)=>{try{if(t.startsWith("@")||!Se.isSolanaNetworkID(e))return null;let[n,i,o]=Nge(t);(n||i||o)&&r.capture("resolveDomainBonfida");let s=n||i||o,a=null;if(s&&(a=await sQe(t,e),!a))throw _8;return a}catch(n){return at.captureError(n instanceof Error?n:new Error(`Unable to resolve solana domain: ${t}`),"transaction"),null}},$fr=async(t,e,r)=>{try{if(!t.startsWith("@"))return null;let n=t.slice(1),i=await r.getUserProfileByUsername(n),o=i?.username?.toLowerCase()===n.toLowerCase(),s=i?.addresses?i.addresses?.[e]!==void 0:!1,a=!!i&&o&&s,c=null;if(a&&(c=i.addresses[e],!c))throw Q$;return c}catch(n){return at.captureError(n instanceof Error?n:new Error(`Unable to resolve username: ${t}`),"Auth"),null}};async function BQe(t,e,r,n){let i=RI.isFeatureEnabled("kill-suins"),o=[{type:"username",fetch:$fr(t,e,r)},{type:"solana",fetch:Hfr(t,e,n)},{type:"evm",fetch:Gfr(t,e)},{type:"ans",fetch:OQe(t,e)}];i||o.push({type:"suins",fetch:RQe(t,e)});let s=await Promise.all(o.map(({fetch:c})=>c)),a=s.findIndex(c=>c!==null);return a===-1?null:{type:o[a].type,owner:s[a]}}u();l();var l$=Oe(Es()),set=Oe(oet());function apr(t,e){let[r,n]=(0,l$.useState)(t);(0,set.default)(()=>n(t),500,[t]);let{data:i,error:o,isLoading:s}=Jme(r,e),c=i?.address??t,d=t.length>0,p=!d||t!==r||s,m=(0,l$.useMemo)(()=>{if(p)return;if(o)return o;if(!Pge(c,e))return qn.t("sendFormInvalidAddress",{assetName:Se.getChainName(e)})},[e,p,o,c]);return{recipientError:m,currentRecipient:c,isStaleRecipient:p,disabledDueToRecipient:!!m||p||!d,isRecipientLoading:s&&t!==""}}u();l();var cpr=3,upr=500,lpr=5e3,dpr=(t,e,r)=>Ft({async queryFn(){if(Se.isEVMNetworkID(t))try{return await fpr(t,e,r)}catch(n){throw at.captureError(n,"transaction"),n}},queryKey:tn.gasEstimationTimeToMine(t,e,r),retry:cpr,retryDelay:upr,refetchInterval:lpr,enabled:Se.isEVMNetworkID(t)&&Se.isMainnetNetworkID(t)});async function fpr(t,e,r){let n=`https://gas-price-oracle.phantom.app/time_to_mine?chainId=${t}&maxFeePerGas=${e}&maxPriorityFeePerGas=${r}`,i={Accept:"application/json","Content-Type":"application/json"},o=await fn.headers(i).get(n);if(o.status!==200)throw new Error("Error estimating time to mine");return o.data}u();l();u();l();var ppr=({networkID:t,refetchInterval:e,transactionSpeed:r="standard",gasLimit:n,enabled:i=!0})=>{let{data:o,status:s,fetchStatus:a,isError:c,isPending:d,isFetched:f,isSuccess:p}=T0({networkID:t,refetchInterval:e,enableFallback:!0,enabled:i}),m;if(i&&o&&n){let{maxFeePerGas:g,maxPriorityFeePerGas:b}=o[r];m={networkID:t,gasLimit:n,maxFeePerGas:g,maxPriorityFeePerGas:b}}return{status:s,data:m,isError:c,isLoading:d,fetchStatus:a,hasFailed:f&&!p}};u();l();var iye=t=>{let e=t[0]?.networkID,r=e?Se.getChainID(e):null,n=r?h8(r):void 0,{data:i}=_I({query:{data:n}});return Rge({queries:t.map(s=>({queryKey:tn.gasEstimationPrice(e,s),queryFn:()=>{if(!i||!s)throw new Error("missing args");return J7(s,i)}}))}).map(s=>s.data)};u();l();var aet=Oe(Es());var hpr=tt({days:5}),mpr=()=>{let t=um(),e=zu(),{data:r={}}=Ft({queryKey:tn.timestamps(),queryFn:()=>({...e.getQueryData(tn.timestamps())||{}})});(0,aet.useEffect)(()=>{let n=Object.values(r),{staleTimestampDatas:i,freshTimestampDatas:o}=n.reduce((a,c)=>{let d=Math.max(...Object.values(c.timestamps));return Date.now()-d>hpr?a.staleTimestampDatas.push(c):a.freshTimestampDatas.push(c),a},{staleTimestampDatas:[],freshTimestampDatas:[]});i4(e,i?.map(a=>a.transactionId)??[]);let s=o.filter(a=>a.timestamps.appUpdated);foe(s,t,e)},[r,t,e])};u();l();var cet=Oe(Es());var oye=(t,e,r=!1)=>{let n=zu();return(0,cet.useCallback)((o,s,a)=>{if(o===void 0)return;let c=tn.timestamps(),f=n.getQueryData(c)||{[o]:{chainId:e,transactionType:t,isLedger:r,transactionId:o,timestamps:{}}},p=f[o];if(p?.timestamps[s])return;let m={...f,[o]:{...p||{chainId:e,transactionType:t,isLedger:r,transactionId:o,timestamps:{}},timestamps:{...p?.timestamps??{},[s]:a??Date.now()}}};n.setQueryData(c,m)},[e,r,n,t])};u();l();function ypr(t){let e=If(),r=y8();return OP({mutationFn:async i=>await yx({...i,accountSigner:r,connection:t,storage:e})})}u();l();var Vz=Oe(Es());var gpr={fast:"gasFast",standard:"gasAverage",slow:"gasSlow"};function bpr(t,e,r){let[n,i]=(0,Vz.useState)(e),o=r??poe(t),{data:s={}}=T0({networkID:t}),a=(0,Vz.useMemo)(()=>Object.keys(s).reduce((S,P)=>{let U=P,L=s[U];return L&&(S[U]=uE(t,L,o,void 0)),S},{}),[s,t,o]),c=Object.keys(a),d=Object.values(a),f=iye(Object.values(a)),p=d.map(S=>DI(S)),{fromUsd:m,formatLocalizedPrice:y}=Lz(),g=c.map((S,P)=>{let U=d[P],L=f[P],j=p[P];return _pr(L,j,S,U,m,y)});return{presets:(0,Vz.useMemo)(()=>g.map((S,P)=>({description:S,title:qn.t(gpr[c[P]]),selected:n===c[P],onClick:()=>i(c[P]),withBorderTop:P!==0})),[g,c,n]),transactionSpeed:n}}var _pr=(t,e,r,n,i,o)=>{let s=[],a=t?.gasEstimationPriceUSDNumber?i(t?.gasEstimationPriceUSDNumber):void 0,c=a?o(a,{maximumFractionDigits:4}):void 0,d=c?qn.t("gasUpTo",{amount:c}):e?qn.t("gasUpTo",{amount:e}):void 0;s.push(d);let f=n?ia.get(n.networkID).transactionSettingsRowFeeDescription?.(n):void 0;s.push(f);let p=n?.networkID;if(p){let m=ia.get(p).transactionSpeedDescription(r);m&&s.push(qn.t(m))}return s.filter(Vye).join("  \u2022  ")};u();l();function Spr(t){let{data:e}=Uz(t?[t]:[]);if(t&&Se.isBitcoinNetworkID(t.networkID))return!e||e.pendingTransaction.length===0?void 0:{title:qn.t("sendSummaryBitcoinPendingTxTitle"),description:qn.t("sendSummaryBitcoinPendingTxDescription"),buttonText:qn.t("gotIt")}}u();l();var uet=Oe(Es());u();l();var d$=$ye(If,t=>Pz(new gI(t)));var wpr="transactions-utxo-state",Apr=6,Epr=600,Ipr=tt({seconds:30}),Tpr=tt({seconds:5}),kpr=tt({minutes:10}),sye=t=>{let e=d$();return Ft({queryFn:det(t,e),queryKey:tn.utxoState(t),enabled:fet(t),retry:Apr,retryDelay:Epr,refetchInterval:Ipr,staleTime:Tpr,gcTime:kpr})};function vpr(t){let e=d$(),r=zu(),n=tn.utxoState(t);(0,uet.useEffect)(()=>{fet(t)&&r.prefetchQuery({queryKey:n,queryFn:det(t,e)})},[])}function det(t,e){return async()=>{try{if(!t)throw new Error("chainAddress not provided when fetching utxo state.");if(Y$(t)){await e.refetchUtxos(t);let[r,n,i]=await Promise.all([e.getSafeToSendUtxos(t.address),e.getInscribedUtxos(t.address),e.getRareSatsUtxos(t.address)]);return{safeToSendUtxos:r,inscribedUtxos:n,rareSatsUtxos:i}}else throw new Error(`Unsupported chain address type for fetching utxo state: ${t.addressType}`)}catch(r){if(cm(r)){let n=r.response?.status;L7(r,n,wpr)}throw r}}}function fet(t){return!!t&&Y$(t)}u();l();function aye(t,e){let r=t?.toLowerCase(),{data:n}=Qme(r,e);return n?.address||t}u();l();var xpr=({networkID:t,gasEstimation:e,gasEstimationPrice:r})=>{let n=DI(e),{fromUsd:i,formatLocalizedPrice:o}=Lz(),s=r?.gasEstimationPriceUSDNumber?i(r?.gasEstimationPriceUSDNumber):void 0,a=s?o(s,{maximumFractionDigits:4}):void 0,c=!Se.isMainnetNetworkID(t),d=a&&!c?a:n||void 0;return ia.get(t).networkFeeRowString(d,a)};u();l();var pet=Oe(Es());function Ppr(t,e,r){let n=t.data.transactions[t.data.transactions.length-1],{data:i}=Uz(r?.addresses||[]),o=t.networkID;(0,pet.useEffect)(()=>{let S=i?.pendingTransaction.find(P=>P.id===t.id);(!S||S.data.transactions.some(P=>P.confirmations>0))&&e()},[i?.pendingTransaction,e,t]);let s={networkID:o,unsignedTransaction:n.unsignedTransaction},{data:a,status:c}=Rme({networkID:o,transactionSpeed:"fast",multichainTransaction:s,queryOptions:{refetchInterval:!1}}),d=new We(n.unsignedTransaction.maxFeePerGas??"0"),f=a?.maxFeePerGas&&a?.maxFeePerGas.gt(d)?a?.maxFeePerGas:d,p=new We(n.unsignedTransaction.maxPriorityFeePerGas??"0"),m=a?.maxPriorityFeePerGas&&a?.maxPriorityFeePerGas.gt(p)?a?.maxPriorityFeePerGas:p,y=f?.multipliedBy(1.11).integerValue(),g=m?.multipliedBy(1.11).integerValue();return{data:uE(o,{maxFeePerGas:y,maxPriorityFeePerGas:g},{gasLimit:new We(n.unsignedTransaction.gas??"0")},a?.l1Fee),status:c}}u();l();var Opr=Oe(nrt());u();l();var Rpr=()=>{let t=RI.getMultivariateAssignment("frontend-transaction-sharing-delay-ms");if(!t)return A9;let e=parseInt(t);return Number.isNaN(e)?A9:e},Cpr=()=>{let t=Rpr(),{data:[e]}=Cge(["enable-signonly-sharing"]);return{isEnabled:e,delayMs:t}};u();l();u();l();u();l();u();l();u();l();u();l();u();l();var het=async(t,e,r)=>{let{accountIdentifier:n,nonce:i,pendingTransaction:o,pendingTransactionInput:s,gasEstimation:a}=e,{data:{transactions:c}}=o,d=c[c.length-1],{callPayload:f,unsignedTransaction:p}=d,{networkID:m}=o,y=await kk({accountSigner:t,accountIdentifier:n,networkID:m,unsignedTransaction:{...p,...Toe(a),nonce:bb(new We(i))},callPayload:{...f},pendingTransactionInput:s,storage:r});return{networkID:m,id:y}};function Bpr(){let t=y8(),e=If();return OP({mutationFn:async n=>het(t,n,e)})}u();l();u();l();var Mpr=tt({seconds:5}),f$=async(t,e,r=1,n=Mpr,i=2)=>{try{let o=await xd(t).getRawTransaction(e);return o.confirmations&&o?.confirmations>=r?o:(await xg(n),f$(t,e,r,n,i))}catch(o){if(o instanceof Error&&i>0)return await xg(n),await f$(t,e,r,n,i-1);throw o}};function Npr(t,e){let r=um(),n=!!e,i=tn.waitForTransactionConfirmation(e);return Ft({enabled:n,queryKey:i,queryFn:async()=>{if(!e){let s="Missing chainID or transactionReceipt.";throw new Error(s)}try{if(Se.isSolanaNetworkID(e.networkID)){let s=Ku(e.networkID);await mx({connection:s,signature:e.id})}else if(Se.isEVMNetworkID(e.networkID))await Kbe(e.networkID,e.id);else if(Se.isBitcoinNetworkID(e.networkID))await f$(e.networkID,e.id);else if(Se.isSuiNetworkID(e.networkID))await W7(e.networkID,e.id);else throw new Error("Unsupported transaction receipt type.");return t(e),!0}catch(s){if(s&&s instanceof BI)throw s;let a="Unable to send transaction.";s.message&&(a=s.message);let{networkID:c}=e,d={chainId:Se.getChainID(c),networkId:c};throw r.capture("waitForTransactionConfirmationError",{data:{...d,errorMessage:s.message}}),new Error(a)}}})}u();l();var Dpr=t=>{let e=t.transaction.getData();return Ft({queryKey:tn.suiTransaction(e),queryFn:()=>V7(t)})};u();l();u();l();u();l();u();l();u();l();u();l();var $z=(i=>(i.Verified="VERIFIED",i.NotVerified="NOT_VERIFIED",i.PossibleSpam="POSSIBLE_SPAM",i.Spam="SPAM",i))($z||{});var Gz=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype),this.name="FungibleError"}},Hz=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype),this.name="CollectibleError"}};u();l();function Upr(t){return t.map(e=>typeof e=="string"?{mintId:e,status:"hidden"}:e)}function Lpr(t){return t?t.version===2?t:{version:2,value:Object.entries(t.value).reduce((e,[r,n])=>(e[r]=Upr(n),e),{})}:null}async function cye(t){try{return Lpr(await t.get("accountIdToHiddenMints"))}catch{throw new Gz("Failed to get visibility overrides")}}async function met(t,e){try{return await t.set("accountIdToHiddenMints",e)}catch{throw new Gz("Failed to set new visibility overrides")}}function zpr(t){return new Map(t.map(e=>typeof e=="string"?[e,{mintId:e,status:"hidden"}]:[e.mintId,e]))}async function uye(t,e){let n=((await cye(t))?.value??{})[e]??[];return zpr(n)}async function Fpr(t,e,{accountId:r,mutations:n}){let o=(await cye(t)??{version:2,value:{}}).value??{},s=new Map((o[r]??[]).map(a=>[a.mintId,a]));for(let{fungibleKey:a,...c}of n)if("isHidden"in c){let{isHidden:d}=c;e.capture(d?"hideFungibleToken":"unhideFungibleToken",{data:{fungibleKey:a}}),s.set(a,{mintId:a,status:d?"hidden":"visible"})}else{let{visibility:d}=c;s.set(a,{mintId:a,status:d})}return o[r]=Array.from(s.values()),met(t,{version:2,value:o})}u();l();u();l();async function qpr(t){let e=await t.get("hiddenCollections"),r=await t.get("unhiddenCollections");if(!e&&!r)return null;let n=await t.get("accountIdToCollectibleVisibilitySettings")??{version:2,value:{}},i=Object.entries(n.value).reduce((o,[s,a])=>(o[s]=new Map(a.map(c=>[c.id,c])),o),{});e&&Object.entries(e).forEach(([o,s])=>{i[o]||(i[o]=new Map);let a=i[o];s.forEach(c=>a.set(c,{id:c,status:"hidden"}))}),r&&Object.entries(r).forEach(([o,s])=>{i[o]||(i[o]=new Map);let a=i[o];s.forEach(c=>a.set(c,{id:c,status:"visible"}))}),await t.set("accountIdToCollectibleVisibilitySettings",{version:2,value:Object.entries(i).reduce((o,[s,a])=>(o[s]=Array.from(a.values()),o),{})}),await t.remove("hiddenCollections"),await t.remove("unhiddenCollections")}async function p$(t){try{return await qpr(t),await t.get("accountIdToCollectibleVisibilitySettings")}catch{throw new Hz("Failed to get visibility overrides")}}async function yet(t,e){try{return await t.set("accountIdToCollectibleVisibilitySettings",e)}catch{throw new Hz("Failed to set new visibility overrides")}}function jpr(t){return new Map(t.map(e=>[e.id,e]))}async function Kpr(t,e){let n=((await p$(t))?.value??{})[e]??[];return jpr(n)}async function Wpr(t){let r=(await p$(t)??{version:2,value:{}}).value??{};return Object.values(r).reduce((n,i)=>n+i.length,0)}async function Vpr(t,e,{accountId:r,mutations:n}){let o=(await p$(t)??{version:2,value:{}}).value??{},s=new Map((o[r]??[]).map(a=>[a.id,a]));for(let{id:a,visibility:c}of n)c===null?s.delete(a):(e.capture(c.includes("hidden")?"collectionHidden":"collectionUnhidden",{data:{id:a}}),s.set(a,{id:a,status:c}));return o[r]=Array.from(s.values()),yet(t,{version:2,value:o})}u();l();function get({visibilityStatus:t,spamStatus:e}){return t==="hidden:reported_spam"?"POSSIBLE_SPAM":t==="visible:reported_notSpam"?"NOT_VERIFIED":e}function Gpr(t,{key:e,spamStatus:r}){let n=t?.get(e);return bet(n,{spamStatus:r})}function bet(t,{spamStatus:e}){if(!t)return e;let{status:r}=t;return get({visibilityStatus:r,spamStatus:e})}function Hpr(t,{key:e,spamStatus:r}){let n=t?.get(e);return _et(n,{spamStatus:r})}function _et(t,{spamStatus:e}){if(!t)return e;let{status:r}=t;return get({visibilityStatus:r,spamStatus:e})}function $pr(t){return t==="POSSIBLE_SPAM"||t==="SPAM"}u();l();function wet(t,{key:e,spamStatus:r}){let n=t?.get(e);return Aet(n,{spamStatus:r})}function Aet(t,{spamStatus:e}){if(!t&&(e==="POSSIBLE_SPAM"||e==="SPAM"))return!0;if(!t)return!1;let{status:r}=t;return r==="hidden"||r==="hidden:reported_spam"}function lye(t,{key:e,spamStatus:r}){return!wet(t,{key:e,spamStatus:r})}function Ypr(t,{key:e,spamStatus:r}){let n=t?.get(e);return dye(n,{spamStatus:r})}function dye(t,{spamStatus:e}){if(!t&&(e==="POSSIBLE_SPAM"||e==="SPAM"))return!0;if(!t)return!1;let{status:r}=t;return Zpr(r)}function Xpr(t,{spamStatus:e}){return!dye(t,{spamStatus:e})}function Zpr(t){return t==="hidden"||t==="hidden:reported_spam"}u();l();function Jpr(t){return t.map(e=>`${e.networkID}/${e.address}`).sort()}function Eet(t){return["tokens",Jpr(t)]}var Dp={swapperDiscovery(t){return["swapperDiscovery",t]},hiddenMints(t){return["hiddenMints",{accountId:t}]},splTokenMap:["splTokenMap"],tokenPrices(t){return["tokenPrices",{tokenIds:t}]},tokens(t){return Eet(t)},tokensErrorCount(t){return[...Eet(t),"tokensError"]},minimumRequiredBalance(t){return["minimumRequiredBalance",{chainAddress:t}]},solanaBalance(t){return["solanaBalance",{chainAddress:t}]},transferFungibleLoggingContext(t){return["transferFungibleLoggingContext",{fungibleKey:t}]},transferTransaction(t){return["transferTransaction",t]},unwrapTransaction({caip19:t,amount:e,owner:r}){return["unwrapTransaction",{caip19:t,amount:e,owner:r}]},fungibleDetail({caip19:t}){return["fungibleDetail",{caip19:t}]},fungibleHoldings({caip19:t,walletAddress:e}){return["fungibleHoldings",{caip19:t,walletAddress:e}]}};function Iet(t){let e=Fge();return Ft(Qpr(e,t??""))}function Qpr(t,e){return{gcTime:bw.Long,staleTime:1/0,enabled:!!e&&!!t,queryKey:Dp.hiddenMints(e??""),async queryFn(){return!e||!t?new Map:await uye(t,e)}}}u();l();u();l();u();l();var Tet=(s=>(s.NonFungible="NonFungible",s.SemiFungible="SemiFungible",s.Fungible="Fungible",s.NonFungibleEdition="NonFungibleEdition",s.ProgrammableNonFungible="ProgrammableNonFungible",s.ProgrammableNonFungibleEdition="ProgrammableNonFungibleEdition",s))(Tet||{}),ket=(s=>(s.ERC20="ERC20",s.ERC721="ERC721",s.ERC777="ERC777",s.ERC1155="ERC1155",s.ERC4626="ERC4626",s.unknown="unknown",s))(ket||{});var vet=["BitcoinNative","EthereumNative","PolygonNative","MonadNative","SolanaNative","BaseNative","ArbitrumNative","SuiNative","HypercoreNative"],gi=v.object({walletAddress:v.string(),amount:v.string()}),ehr=v.object({type:v.literal("SolanaNative"),data:dn}),thr=v.object({type:v.literal("SolanaNative"),data:dn.merge(gi)}),rhr=v.object({type:v.literal("EthereumNative"),data:dn}),nhr=v.object({type:v.literal("EthereumNative"),data:dn.merge(gi)}),ihr=v.object({type:v.literal("PolygonNative"),data:dn}),ohr=v.object({type:v.literal("PolygonNative"),data:dn.merge(gi)}),shr=v.object({type:v.literal("BaseNative"),data:dn}),ahr=v.object({type:v.literal("BaseNative"),data:dn.merge(gi)}),chr=v.object({type:v.literal("ArbitrumNative"),data:dn}),uhr=v.object({type:v.literal("ArbitrumNative"),data:dn.merge(gi)}),lhr=v.object({type:v.literal("MonadNative"),data:dn}),dhr=v.object({type:v.literal("MonadNative"),data:dn.merge(gi)}),fhr=v.object({type:v.literal("SuiNative"),data:dn}),phr=v.object({type:v.literal("SuiNative"),data:dn.merge(gi)}),hhr=v.object({type:v.literal("HypercoreNative"),data:dn}),mhr=v.object({type:v.literal("HypercoreNative"),data:dn.merge(gi)}),yhr=v.object({type:v.literal("BitcoinNative"),data:dn}),ghr=v.object({type:v.literal("BitcoinNative"),data:dn.merge(gi)}),fye=(r=>(r.PreDeploy="preDeploy",r.Graduated="graduated",r))(fye||{}),bhr=v.object({programId:v.string(),status:v.nativeEnum(fye)}),wP=dn.extend({mintAddress:v.string(),splTokenAccountPubkey:v.string(),programId:v.string(),mintExtensions:TI(Bz).optional(),ugcTokenMeta:bhr.optional()}),U4n=v.object({type:v.literal("SPL"),data:wP}),_hr=v.object({type:v.literal("SPL"),data:wP.merge(gi)}),Shr=v.object({type:v.literal("CompressedSPL"),data:wP.merge(gi).omit({splTokenAccountPubkey:!0})}),whr=v.object({type:v.literal("SPL"),data:wP.omit({splTokenAccountPubkey:!0,programId:!0})}),pye=dn.extend({contractAddress:v.string()}),Ahr=v.object({type:v.literal("ERC20"),data:pye}),Ehr=v.object({type:v.literal("ERC20"),data:pye.merge(gi)}),hye=dn.extend({firstCreatedTransactionHash:v.string().optional(),firstCreatedInscriptionId:v.string()}),Ihr=v.object({type:v.literal("BRC20"),data:hye}),Thr=v.object({type:v.literal("BRC20"),data:hye.merge(gi)}),xet=dn.extend({contractAddress:v.string()}),khr=v.object({type:v.literal("SuiCoin"),data:xet}),Pet=dn.extend({contractAddress:v.string()}),L4n=v.object({type:v.literal("SuiCoin"),data:Pet}),vhr=v.object({type:v.literal("SuiCoin"),data:Pet.merge(gi)}),mye=v.discriminatedUnion("type",[Thr,Ehr,_hr,Shr,vhr,thr,nhr,ohr,ahr,uhr,dhr,ghr,phr,mhr]),xhr=v.union([Ihr,Ahr,whr,ehr,rhr,ihr,shr,chr,lhr,yhr,fhr,khr,hhr]),Oet=v.object({code:v.string(),message:v.string(),details:v.object({chainId:xI,address:v.string()})}),Ad=wme.extend({balance:v.instanceof(We),key:v.string(),tokenAddress:v.string().optional(),externalUrl:v.string().optional()}),Phr=v.union([v.object({type:v.literal("SolanaNative"),data:v.intersection(dn.merge(gi),Ad)}),v.object({type:v.literal("SPL"),data:v.intersection(wP.merge(gi),Ad)}),v.object({type:v.literal("CompressedSPL"),data:v.intersection(wP.merge(gi).omit({splTokenAccountPubkey:!0}),Ad)})]),Ohr=v.union([v.object({type:v.literal("EthereumNative"),data:v.intersection(dn.merge(gi),Ad)}),v.object({type:v.literal("ERC20"),data:v.intersection(pye.merge(gi),Ad)}),v.object({type:v.literal("PolygonNative"),data:v.intersection(dn.merge(gi),Ad)}),v.object({type:v.literal("BaseNative"),data:v.intersection(dn.merge(gi),Ad)}),v.object({type:v.literal("ArbitrumNative"),data:v.intersection(dn.merge(gi),Ad)}),v.object({type:v.literal("MonadNative"),data:v.intersection(dn.merge(gi),Ad)}),v.object({type:v.literal("HypercoreNative"),data:v.intersection(dn.merge(gi),Ad)})]),Rhr=v.union([v.object({type:v.literal("BitcoinNative"),data:v.intersection(dn.merge(gi),Ad)}),v.object({type:v.literal("BRC20"),data:v.intersection(hye.merge(gi),Ad)})]),Chr=v.union([v.object({type:v.literal("SuiNative"),data:v.intersection(dn.merge(gi),Ad)}),v.object({type:v.literal("SuiCoin"),data:v.intersection(xet.merge(gi),Ad)})]),z4n=v.union([Phr,Ohr,Rhr,Chr]),yye=(i=>(i.NOT_ONBOARDED="not_onboarded",i.ONBOARDING="onboarding",i.ONBOARDED="onboarded",i.ONBOARDING_FAILED="onboarding_failed",i))(yye||{}),Bhr=v.object({status:v.nativeEnum(yye),averageCost:v.string({coerce:!0}).optional()}),Xz=class t extends Error{statusCode=400;constructor(e){super(e),Object.setPrototypeOf(this,t.prototype),this.name="FungibleError"}getMessage(){return`Something went wrong: ${this.message}`}};u();l();function _f(t){return!!t&&vet.includes(t)}var x0=t=>{let e=t.data.chain.id;if(_f(t.type))return{chainId:e,slip44:Se.getSlip44(e),resourceType:"nativeToken"};{let r;switch(t.type){case"SPL":case"CompressedSPL":r=t.data.mintAddress;break;case"ERC20":case"SuiCoin":r=t.data.contractAddress;break;case"BRC20":r=t.data.firstCreatedInscriptionId;break}return{chainId:e,address:r,resourceType:"address"}}};u();l();var kg=Oe(Es());u();l();var Xet=Oe(Es());u();l();u();l();u();l();u();l();u();l();u();l();var Up={sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:4,minimumSendableCurrencyAmount:.01,nonNativeFungibleTokenType:"ERC20"};var Ret={...Up,nativeFungibleTokenType:"ArbitrumNative",nativeTokenFungibleBalanceKey:function(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!0};u();l();var Cet={...Up,nativeFungibleTokenType:"BaseNative",nativeTokenFungibleBalanceKey:function(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!0};u();l();var Bet={sendSuccessCondition:"SUBMISSION",formDisplayPrecision:6,minimumSendableCurrencyAmount:.5,nativeFungibleTokenType:"BitcoinNative",nonNativeFungibleTokenType:"BRC20",nativeTokenFungibleBalanceKey:function(t,e){if(e!==void 0)return`BitcoinNative-${e}`},alwaysShowNetworkBadge:!1};u();l();var Met={...Up,nativeFungibleTokenType:"EthereumNative",nativeTokenFungibleBalanceKey(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};u();l();var Net={...Up,nativeFungibleTokenType:"HypercoreNative",nativeTokenFungibleBalanceKey:function(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};u();l();var Det={...Up,nativeFungibleTokenType:"MonadNative",nativeTokenFungibleBalanceKey:function(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1,isPriceDetailSupported:!1};u();l();var Uet={...Up,nativeFungibleTokenType:"PolygonNative",nativeTokenFungibleBalanceKey:function(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};u();l();var Let={sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:4,minimumSendableCurrencyAmount:.01,nativeFungibleTokenType:"SolanaNative",nonNativeFungibleTokenType:"SPL",nativeTokenFungibleBalanceKey:function(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1};u();l();var zet={nativeFungibleTokenType:"SuiNative",nativeTokenFungibleBalanceKey:function(t){return this.nativeFungibleTokenType},alwaysShowNetworkBadge:!1,isPriceDetailSupported:!0,sendSuccessCondition:"CONFIRMATION",formDisplayPrecision:9,minimumSendableCurrencyAmount:0,nonNativeFungibleTokenType:"SuiCoin"};var Mhr=new OI({solana:Let,ethereum:Met,polygon:Uet,base:Cet,arbitrum:Ret,bitcoin:Bet,monad:Det,sui:zet,hypercore:Net}),wI=PI(Mhr);function gye(t){return t.resourceType==="nativeToken"?wI.get(t.chainId).nativeFungibleTokenType:wI.get(t.chainId).nonNativeFungibleTokenType}function AI(t){if(_f(t.type))return t.type==="BitcoinNative"?`${t.type}-${yl(t.data.chain.id,t.data.walletAddress)}`:t.type;switch(t.type){case"SPL":case"CompressedSPL":return t.data.mintAddress??"";case"ERC20":case"SuiCoin":return t.data.contractAddress;case"BRC20":{let e=yl(t.data.chain.id,t.data.walletAddress);return`${t.data.firstCreatedInscriptionId}-${e}`}}}function Nhr(t,e){let r=gye(t);if(_f(r))return r==="BitcoinNative"&&e!==void 0?[`${r}-${yl(t.chainId,e)}`]:[r];if(r==="SPL"&&t.resourceType==="address")return[t.address];if(r==="ERC20"&&t.resourceType==="address")return[t.address];if(r==="BRC20"&&t.resourceType==="address")return lge.map(n=>`${t.address}-${n}`);if(r==="SuiCoin"&&t.resourceType==="address")return[t.address]}u();l();u();l();u();l();u();l();u();l();var bye=t=>t/100;u();l();var _ye=t=>t.extension==="transferFeeConfig",Sye=t=>t.extension==="interestBearingConfig",Fet=t=>t.extension==="permanentDelegate";function vVn(t){return t.extension==="nonTransferable"}function qet(t){return Se.isSolanaNetworkID(t.data.chain.id)}function jet(t){return Se.isEVMNetworkID(t.data.chain.id)}function Ket(t){return Se.isSuiNetworkID(t.data.chain.id)}function Wet(t){return Se.isBitcoinNetworkID(t.data.chain.id)}var y$=t=>"data"in t&&t.data&&"mintExtensions"in t.data?t.data.mintExtensions||[]:"chainData"in t&&t.chainData&&"mintExtensions"in t.chainData?t.chainData.mintExtensions||[]:[];function Dhr(t){if(!t)return;let r=y$(t)?.find(_ye)?.state.newerTransferFee.transferFeeBasisPoints;return r?bye(r):void 0}function wye(t){return t?y$(t)?.find(Sye):void 0}function Uhr(t){return t?!!y$(t).find(n=>n.extension==="nonTransferable"):!1}function Aye(t){return t?y$(t).reduce((n,i)=>i.extension==="transferHook"?i.state.programId:n,void 0):void 0}var Vet=new zr("31556736"),Get=new zr("10000"),Lhr=17,Het=t=>new zr(Math.exp(t.toNumber())),Eye=class{initializationTimestamp;preUpdateAverageRate;lastUpdateTimestamp;currentRate;constructor(e){this.initializationTimestamp=new zr(e.initializationTimestamp),this.preUpdateAverageRate=new zr(e.preUpdateAverageRate),this.lastUpdateTimestamp=new zr(e.lastUpdateTimestamp),this.currentRate=new zr(e.currentRate)}preUpdateTimespan(){return this.lastUpdateTimestamp.minus(this.initializationTimestamp)}preUpdateExp(){let r=new zr(this.preUpdateAverageRate).times(this.preUpdateTimespan()).div(Vet).div(Get);return Het(r)}postUpdateTimespan(e){return e.minus(this.lastUpdateTimestamp)}postUpdateExp(e){let n=new zr(this.currentRate).times(this.postUpdateTimespan(e)).div(Vet).div(Get);return Het(n)}totalScale(e,r){return this.preUpdateExp()?.times(this.postUpdateExp(r)).div(Ef(e))}amountToUiAmount(e,r,n){return new zr(e).times(this.totalScale(r,new zr(n))).precision(Lhr).decimalPlaces(r).toString()}},$et=t=>{if(t.type!=="SPL")return t;let e=wye(t)?.state;if(!e)return t;let{amount:r,mintExtensions:n}=t.data,i=new Eye(e),o=Date.now()/1e3,s=i.amountToUiAmount(r,0,o),a=n?n?.map(c=>c.extension==="interestBearingConfig"?{...c,meta:{amountPrincipal:r}}:c):void 0;return{...t,data:{...t.data,amount:s,mintExtensions:a}}},Iye=(t,e)=>{let r=wye(t);if(!r||!r.meta)return e;let n=new zr(t.data.amount),i=new zr(r.meta.amountPrincipal);return new zr(e).times(i).div(n).decimalPlaces(0)};var XVn=new Xz("Failed to get fungible tokens for addresses");async function Tye(t){let{addresses:e,analytics:r}=t;try{let n=await fn.api().headers({"Content-Type":"application/json"}).timeout(tt({seconds:20})).post("/tokens/v1",{addresses:e},{params:{isSolCompressedTokensEnabled:"true"}});if(n.status!==200)throw new C0({key:"TokensNotLoading"});let i=await n.data,o=[],s=[],a=!1;for(let c of i.tokens){let d=mye.safeParse(c);if(d.success){let f=$et(d.data);o.push(f)}else a=!0}return i.errors.forEach(c=>{let d=Oet.safeParse(c);d.success&&s.push(d.data)}),s.length===0&&i.isTrimmed&&s.push({code:"TokensTrimmed",message:"",details:{chainId:"solana:101",address:"unknown"}}),s.length&&r.capture("getBalanceRequestError",{data:{chains:s.map(c=>c.details.chainId)}}),a&&at.captureError(new Error("fungibles failed to parse some items"),"fungibles"),{tokens:o,errors:s,isTrimmed:i.isTrimmed}}catch{throw new C0({key:"TokensNotLoading"})}}function Yet({select:t,chainAddresses:e=[],queryOptions:r={staleTime:mP.Short,refetchInterval:Nme.Long}}){let n=Dp.tokens(e),i=Dp.tokensErrorCount(e),o=um(),s=zu();return Ft({queryKey:n,enabled:e.length>0&&e.every(a=>!Se.isLocalNetworkID(a.networkID)),gcTime:bw.Medium,staleTime:r.staleTime,refetchInterval:r.refetchInterval,refetchOnReconnect:!0,networkMode:"always",retry:!1,select:t,async queryFn({queryKey:a}){try{let c=e.map(koe),d=await Tye({addresses:c,analytics:o});if(d.errors.length>0&&!d.isTrimmed){let f=s.getQueryData(a);if(f)for(let p of d.errors){let m=f.tokens.filter(y=>y.data.chain.id===p.details.chainId);d.tokens.push(...m)}}return s.removeQueries({queryKey:i}),d}catch(c){let d=s.getQueryData(i)??0;throw s.setQueryData(i,d+1),c}}})}function kye({chainAddresses:t,keys:e,queryOptions:r}){let n=(0,Xet.useCallback)(({tokens:i})=>!e||!e.length?i:i.filter(o=>e.includes(AI(o))),[e]);return Yet({select:n,chainAddresses:t,queryOptions:r})}u();l();function Zet(t){let e,r;for(let{data:n}of t){let{usd:i,usd_24h_change:o}=n;i!==void 0&&(e=e!==void 0?e+i:i),o!==void 0&&(r=r!==void 0?r+o:o)}return{value:e,earnings:r}}u();l();function Jet(t,e){return t.getQueriesData({predicate:n=>n.queryKey[0]==="transferFungibleLoggingContext"}).map(([,n])=>n).filter(n=>{if(!n)return!1;let{previousBalance:i,fungibleKey:o}=n,s=e.get(o);return s?!s.data.balance.isEqualTo(i):!1})}u();l();u();l();var Qet=["solana","eip155","sui","bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"],ett=K$(yl);function zhr(t,e){let r=ett(t.data.chain.id,t.data.walletAddress),n=ett(e.data.chain.id,e.data.walletAddress),i=Qet.indexOf(r)-Qet.indexOf(n);return i===0?0:i<0?-1:1}var ttt=K$(zhr);u();l();function vye(t,e){return e.data.balance.comparedTo(t.data.balance)}u();l();var rtt="\uFFFF";function ntt(t,e){let r=t.data.name?.toUpperCase()??rtt,n=e.data.name?.toUpperCase()??rtt;return r.localeCompare(n)}u();l();function itt(t,e){let r=t.data.usd??Number.NEGATIVE_INFINITY,n=e.data.usd??Number.NEGATIVE_INFINITY;return r>n?-1:r<n?1:0}u();l();function ott(t,e){let r=t.data.spamStatus,n=e.data.spamStatus,i=a=>{switch(a){case"VERIFIED":return 4;case"NOT_VERIFIED":return 3;case"POSSIBLE_SPAM":return 2;case"SPAM":return 1}},o=i(r),s=i(n);return o>s?-1:o<s?1:0}u();l();var stt="\uFFFF";function att(t,e){let r=t.data.symbol?.toUpperCase()??stt,n=e.data.symbol?.toUpperCase()??stt;return r.localeCompare(n)}u();l();function ctt(t,e){let r=_f(t.type),n=_f(e.type);return r!==n?r?-1:1:Se.compareNetworkID(t.data.chain.id,e.data.chain.id)}var xye=(t,e)=>{let r=itt(t,e);if(r)return r;let n=ott(t,e);if(n)return n;let i=vye(t,e);if(i)return i;let o=ctt(t,e);if(o)return o;let s=ttt(t,e);if(s)return s;let a=ntt(t,e);return a||att(t,e)};u();l();var utt=(t,e)=>{let r=Dp.transferFungibleLoggingContext(t);e.removeQueries({queryKey:r})};u();l();u();l();zr.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});var ltt=(t,e)=>new zr(t).div(Ef(e));function dtt({tokens:t,priceMap:e}){let r=[];for(let n of t){let{amount:i,decimals:o}=n.data,s=x0(n),a=ml(s),c=AI(n),d=ltt(i,o),f={type:n.type,data:{...n.data,balance:d,key:c}},p,m=Eme({priceId:a,balance:d,priceMap:e});if(n.type==="SPL"||n.type==="CompressedSPL"){let{mintAddress:y}=n.data;p=y}else if(n.type==="ERC20"||n.type==="SuiCoin"){let{contractAddress:y}=n.data;p=y}else if(n.type==="BRC20"){let{firstCreatedInscriptionId:y}=n.data;p=y}f.data.tokenAddress=p,f.data.usd=m.usd,f.data.price=m.price,f.data.usd_24h_change=m.usd_24h_change,f.data.priceChange24h=m.priceChange24h,f.data.currencyChange=m.currencyChange,f.data.currencyValue=m.currencyValue,r.push(f)}return r}function ftt({showHiddenMints:t=!1,keys:e,enablePrices:r=!0,enableSorting:n=!0,usePricesQueryOptions:i,useTokenQueryOptions:o}={}){let{data:s}=g8(),{data:a=[],isPending:c,isRefetching:d,refetch:f,isError:p,error:m}=kye({chainAddresses:s?.addresses,keys:e,queryOptions:o}),{data:y,isPending:g,isRefetching:b}=Iet(s?.identifier),{query:S}=(0,kg.useMemo)(()=>({query:{data:a.map(x0)}}),[a]),{data:P,isPending:U,isRefetching:L,refetch:j,isError:Z}=Mme({query:S,enabled:r&&!c&&s?.identifier!=null,queryOptions:i}),{fungibles:se,fungibleMap:Ee}=(0,kg.useMemo)(()=>{let O=t?a:a.filter(ue=>{let me=AI(ue),ye=(e||[]).includes(me),Ge=lye(y,{key:me,spamStatus:ue.data.spamStatus});return ye||Ge}),N=dtt({tokens:O,priceMap:P??{}});n&&(e===void 0?N=N.sort(xye):N=N.sort((ue,me)=>{let ye=e.indexOf(ue.data.key),Ge=e.indexOf(me.data.key);return ye<Ge?-1:ye>Ge?1:0}));let ie=new Map;for(let ue of N)ie.set(ue.data.key,ue);return{fungibles:N,fungibleMap:ie}},[a,e,t,y,P,n]),be=(0,kg.useMemo)(()=>!!y&&y.size>0&&a.length>0&&se.length===0,[a,y,se]),fe=zu(),w=(0,kg.useMemo)(()=>Jet(fe,Ee),[Ee,fe]),R=oye("send:fungible",qe.Solana.Mainnet);(0,kg.useEffect)(()=>{for(let O of w)R(O.transactionId,"appUpdated"),utt(O.fungibleKey,fe)},[w,R,fe]);let B=(0,kg.useMemo)(()=>Zet(se),[se]),C=(0,kg.useCallback)(async()=>{await Promise.all([f(),j()])},[f,j]);return{fungibles:se,portfolio:B,visibilityOverrides:y,isHidingAllFungibles:be,isLoadingTokens:c,isLoadingVisibilityOverrides:g,isLoadingPrices:r?U:!1,isRefetchingTokens:d,isRefetchingVisibilityOverrides:b,isRefetchingPrices:r?L:!1,isErrorTokens:p,tokensError:m,isErrorPrices:Z,refetch:C}}u();l();function ptt({key:t,splTokenAccount:e,...r}){let{fungibles:n,...i}=ftt({...r,keys:t?[t]:[]}),o;return n.length===1?o=n[0]:n.length>1&&e&&(o=n.find(s=>s.type==="SPL"&&s.data.splTokenAccountPubkey===e)),{fungible:o,...i}}u();l();var htt="pSo1f9nQXWgXibFtKf7NWYxb5enAM4qfP6UJSiXRQfL",Fhr=`solana:101/address:${htt}`;u();l();var Ew=Oe($D());var qhr=tt({days:30}),jhr=Ew.struct([Ew.blob(32,"mint"),Ew.blob(32,"owner"),Ew.nu64("amount"),Ew.blob(93)]),Khr=t=>{let e=Dp.minimumRequiredBalance(t);return Ft({enabled:!!t&&X$(t),gcTime:1/0,staleTime:qhr,queryKey:e,async queryFn(){if(!t)throw new Error("No chain address provided");if(X$(t))return Ku(t.networkID).getMinimumBalanceForRentExemption(jhr.span);throw new Error(`Minimum required balance not implemented for ${t.networkID}`)}})};u();l();var mtt={Taproot:"bip122_p2tr",NativeSegwit:"bip122_p2wpkh"};function Whr(t){return!t||!t.startsWith("BitcoinNative")?null:t.endsWith("bip122_p2tr")?mtt.Taproot:t.endsWith("bip122_p2wpkh")?mtt.NativeSegwit:null}u();l();var Vhr=(t,e)=>wI.get(t).nativeTokenFungibleBalanceKey(t,e);u();l();var Ghr=t=>Hhr[t],Hhr={"shortcut-chat":"MessageCircle","shortcut-default":"Link","shortcut-discord":"Discord","shortcut-gaming":"Joystick","shortcut-gaming-2":"PacMan","shortcut-generic-add":"Plus","shortcut-generic-link":"Link","shortcut-instagram":"Instagram","shortcut-leaderboard":"Crown","shortcut-mint":"Sparkle","shortcut-mint-2":"Leaf","shortcut-stake":"TrendingUp","shortcut-stake-2":"Star","shortcut-telegram":"Telegram","shortcut-tip":"DollarSign","shortcut-twitter":"XTwitter","shortcut-twitter-2":"XTwitter","shortcut-view":"Eye","shortcut-vote":"ThumbsUp","shortcut-vote-2":"CheckSquare","shortcut-x":"XTwitter",burnToken:"Burn",buy:"DollarSign",copyTokenAddress:"Copy",hide:"Eye",list:"Tag2",mintLST:"Droplet",more:"MoreHorizontal",pin:"PinRight",receive:"Qr",reportIssue:"Flag",reportAsNotSpam:"Flag",reportAsSpam:"Flag",saveToLibrary:"Download",send:"Send",setAsAvatar:"Smile",share:"Share",stake:"TrendingUp",stakeSol:"TrendingUp",swap:"Swap",unhide:"EyeOff",unpin:"PinRightOff",unstake:"MinusCircle",unwrapWrappedSol:"WalletOpen",viewOnExplorer:"ExternalLink",decompress:"PlusCircle"};u();l();u();l();var mHn=tt({seconds:10});var ytt={location:0,distance:50,threshold:.2,shouldSort:!0,keys:[{name:"data.name",weight:.4},{name:"data.symbol",weight:.4},{name:"data.chain.name",weight:.1},{name:"data.tokenAddress",weight:.1}]},$hr={...ytt,shouldSort:!1};var Yhr="https://help.phantom.com/hc/en-us/articles/22984230766483",Xhr={maximumFractionDigits:2,minimumFractionDigits:2};u();l();var Zhr=["asc","desc"],gtt=v.enum(Zhr),btt=["rank","volume","price","price-change","market-cap"],_tt=v.enum(btt),Stt=["1h","24h","7d","30d"],Jhr=v.enum(Stt),wtt=v.object({chainId:xI,address:v.string(),name:v.string(),symbol:v.string().default(""),logoUrl:v.string().optional(),marketCap:v.number().optional(),volume:v.number().optional(),price:v.number().optional(),priceChange:v.number().optional(),volumeChange:v.number().optional()}).transform(t=>({...t,symbol:t.symbol||t.name})),THn=v.object({items:TI(wtt),sortBy:_tt,sortDirection:gtt});u();l();u();l();u();l();u();l();var Mtt=Oe(Ige());u();l();var Att=Oe(va()),Ett=Oe(va()),Itt=Oe(Ige());u();l();u();l();u();l();function AP(t){return t*111+546}function b$(t){return t*151+AP(t)}function Ttt({sender:t,feerate:e,taprootScriptSpendPath:r,utxoState:{safeToSendUtxos:n}}){let i=b$(e),{scriptTree:o,inscribeP2tr:s}=r,a=s.output;if(!a)throw new Error("Commit output script is undefined");let c=s.address;if(!c)throw new Error("Reveal address is undefined");let d=[{address:c,script:a,value:i,tapInternalKey:s.internalPubkey,tapTree:{leaves:(0,Itt.tapTreeToList)(o)}}],f=Sg(yl(qe.Bitcoin.Mainnet,t),n,d,e),p=new Ett.Psbt({network:Att.networks.bitcoin});if(f.type==="success"){let{inputs:m,outputs:y}=f;p.addInputs(m.map(g=>I0(g,t,!0))),p.addOutputs(y)}return[p,p.data.inputs.map((m,y)=>({address:t,signingIndexes:[y]})),f.vb]}u();l();var ktt=Oe(va()),vtt=Oe(va());function xtt({sender:t,feerate:e,taprootScriptSpendPath:r}){return{metadata:"brc20_reveal",inputsToSign:[{address:t,signingIndexes:[0],isScriptSpend:!0}],psbtFn:n=>{let{inscribeP2tr:i,tapLeafScript:o}=r,s=i.output;if(!s)throw new Error("Commit output script is undefined");let a=new vtt.Psbt({network:ktt.networks.bitcoin}),c=b$(e),d={hash:n,index:0,value:c};a.addInput({hash:d.hash,index:d.index,witnessUtxo:{script:s,value:d.value},tapLeafScript:[o]});let f=AP(e);return a.addOutput({address:t,value:f}),a},additionalCost:{vb:new We(151),sats:new We(0)}}}u();l();var Ptt=Oe(va()),Ott=Oe(va()),Rtt=Oe(G$());function Ctt({sender:t,receiver:e,feerate:r}){return{metadata:"brc20_send",inputsToSign:[{address:t,signingIndexes:[0]}],psbtFn:n=>{let i=new Ott.Psbt({network:Ptt.networks.bitcoin}),o=AP(r),s={hash:n,index:0,value:o};return i.addInput({hash:s.hash,index:s.index,witnessUtxo:{script:(0,Rtt.toOutputScript)(t),value:s.value}}),i.addOutput({address:e,value:546}),i},additionalCost:{vb:new We(111),sats:new We(546)}}}u();l();var _$=Oe(va());function Btt(t,e,r){let n=Iz(t,dP(e,r)),i={output:n},o={output:n,redeemVersion:192},s=_$.payments.p2tr({internalPubkey:t,scriptTree:i,network:_$.networks.bitcoin,redeem:o}),a=s.witness;if(!a)throw new Error("Witness is undefined");let c={leafVersion:o.redeemVersion,script:o.output,controlBlock:a[a.length-1]};return{scriptTree:i,inscribeLockRedeem:o,inscribeP2tr:s,tapLeafScript:c}}var Ntt=({senderAddress:t,destination:e,tick:r,amount:n,scriptPublicKey:i,utxoState:o,feerate:s})=>{let a=(0,Mtt.toXOnly)(Buffer.from(i)),c=Btt(a,r,n.toNumber()),[d,f,p]=Ttt({sender:t,feerate:s,taprootScriptSpendPath:c,utxoState:o}),m=xtt({sender:t,feerate:s,taprootScriptSpendPath:c}),y=Ctt({sender:t,receiver:e,feerate:s});return[d,[m,y],f,p]};u();l();var Dtt=Oe(va()),Utt=Oe(va()),Ltt=({senderAddress:t,destination:e,amount:r,utxoState:{safeToSendUtxos:n},feerate:i})=>{let o=Sg(yl(qe.Bitcoin.Mainnet,t),n,[{address:e,value:r.toNumber()}],i),s=new Utt.Psbt({network:Dtt.networks.bitcoin});if(o.type==="success"){let{inputs:a,outputs:c}=o;s.addInputs(a.map(d=>I0(d,t,!0))),s.addOutputs(c)}return[s,s.data.inputs.map((a,c)=>({address:t,signingIndexes:[c]})),o.vb]};function ztt({data:t,type:e},{amountAsset:r,recipient:n,transactionSpeed:i},o){let s,a,c,d,{transactionSpeedsToUnitCost:f,utxoState:p,chainAddress:m}=o,y=t.chain.id,g=f[i??"standard"];if(!g?.btcPerKilobyte)throw new Error("Transaction unit cost is required");let b=Math.round(g?Fp(g.btcPerKilobyte).toNumber():MP);switch(e){case"BitcoinNative":[s,d,c]=Ltt({senderAddress:t.walletAddress,destination:n,amount:r,utxoState:p,feerate:b});break;case"BRC20":{if(!m)throw new Error("Cannot find chain address to sign with.");let S=m.publicKey;if(!S)throw new Error(`Public key does not exist for address ${t.walletAddress}`);[s,a,d,c]=Ntt({senderAddress:t.walletAddress,destination:n,amount:r,scriptPublicKey:S,tick:t.name??"",utxoState:p,feerate:b});break}}return{networkID:y,psbt:s,psbtChain:a,inputsToSign:d,vb:c}}u();l();u();l();var Qhr=["function allowance(address owner, address spender) view returns (uint256)","function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function approve(address spender, uint amount) returns (bool)","function transfer(address to, uint amount) returns (bool)","event Transfer(address indexed from, address indexed to, uint amount)"],Ftt=new Error("Error populating ERC20 transaction data."),qtt=async t=>{let{sender:e,networkID:r,destination:n,contractAddress:i,value:o,ethereumNetworkID:s}=t,a=mm(r,i,Qhr,e),c;try{let f=await a.populateTransaction.transfer(n,bb(o),{from:e});if(f.data)c=f.data;else throw Ftt}catch{throw Ftt}return Af.parse({type:"0x2",to:i,from:e,chainId:typeof s=="number"?s:Se.getEVMNetworkIDValue(s),data:c})};u();l();var Rye=t=>{let{nonce:e,sender:r,destination:n,value:i,ethereumNetworkID:o}=t;return Af.parse({type:"0x2",nonce:e!==void 0?`0x${Number(e).toString(16)}`:void 0,from:r,to:n,chainId:typeof o=="number"?o:Se.getEVMNetworkIDValue(o),value:`0x${i.toString(16)}`})};async function jtt({type:t,data:e},{recipient:r,amountAsset:n}){let{chain:i}=e,o=i.id,s;if(_f(t))s=Rye({sender:e.walletAddress,destination:r,value:n,ethereumNetworkID:o});else if(t==="ERC20")s=await qtt({sender:e.walletAddress,networkID:o,destination:r,contractAddress:e.contractAddress,value:n,ethereumNetworkID:o});else return na(t);return{networkID:o,unsignedTransaction:s}}u();l();async function Ktt(t,{amountAsset:e,recipient:r,solana:n}){let{type:i,data:o}=t,s=o.chain.id,{references:a,memo:c}=n,d=n.references?.map(g=>g.toString())??[],{walletAddress:f}=o,p=Ku(s),m,y=2e5;switch(i){case"SolanaNative":{let g=new le.PublicKey(f),b=new le.PublicKey(r);(!d||!d.length)&&!c&&(y=500),m=V2({fromPubkey:g,toPubkey:b,lamports:BigInt(e.toFixed()),references:d?.map(S=>new le.PublicKey(S))??[],memo:c??null});break}case"SPL":{m=await W2({connection:p,destination:r,senderAccount:o.splTokenAccountPubkey,mint:o.mintAddress,decimals:o.decimals,amount:Iye(t,e),programId:o.programId,references:d,memo:c,networkID:s,senderAddress:{networkID:s,addressType:"solana",address:o.walletAddress},transferHookProgramId:Aye(t)});break}default:throw new Error("Unsupported solana transfer transaction")}if(!m)throw new Error("Unable to create transaction.");return m.feePayer=new le.PublicKey(f),m=await $_(m,{connection:p,calculators:{budget:new gb(y)}}),m.recentBlockhash=(await p.getLatestBlockhash("confirmed")).blockhash,{networkID:s,transaction:[m]}}u();l();var emr=BigInt("4000000"),Wtt=async({type:t,data:e},r)=>{let{walletAddress:n,chain:i}=e,o=i.id,{amountAsset:s,recipient:a}=r,c=Se.getRpcProxyUrl(o);if(!c)throw new Error("Failed to get Sui RPC url");let d=new eA({url:c}),f=new Fg;f.setSender(n),f.setGasBudget(emr);let p=()=>{let g=BigInt(s.toFixed()),b;switch(t){case"SuiNative":b={useGasCoin:!0};break;case"SuiCoin":b={type:e.contractAddress};break;default:na(t)}return bY({balance:g,...b})};f.transferObjects([p()],a);let m=await f.build({client:d});return{networkID:o,transaction:m}};async function Vtt(t,e,r){return qet(t)?Ktt(t,e):jet(t)?jtt(t,e):Ket(t)?Wtt(t,e):Wet(t)?ztt(t,e,r):na(t)}var tmr="fungible-transfer-tx",rmr=tt({seconds:30});function nmr(t){let e=t?.fungibleKey,{fungible:r}=ptt({key:e,splTokenAccount:t?.splTokenAccount}),n=aye(t?.sendFormValues?.recipient,r?.data.chain.id)??"",i=t?.sendSessionId??"",{chain:o,walletAddress:s}=r?.data??{},{data:a}=qge({address:s,networkID:o?.id}),{data:c}=sye(a),{data:d}=T0({networkID:o?.id,enableFallback:!0}),f=imr(o?.id,d,c,a),p=f?.sendContextRequired?f.sendContext:void 0,m=t?.sendFormValues;return Ft({staleTime:rmr,enabled:!!r&&!!t&&!!f,queryKey:Dp.transferTransaction({fungibleKey:e,fungibleSendFormValues:m,sendSessionId:i,sendContext:p}),async queryFn(){if(!r||!m||!f)throw new Error("Missing required data to construct fungible transfer transaction");try{return await Vtt(r,{...m,recipient:n},p)}catch(y){if(cm(y)){let g=y.response?.status;Cz(y,g,tmr)}}throw new Error("Failed to create transfer transaction")}})}function imr(t,e,r,n){if(t)return Se.isBitcoinNetworkID(t)?!e||!r||!n?void 0:{sendContextRequired:!0,sendContext:{transactionSpeedsToUnitCost:e,utxoState:r,chainAddress:n}}:{sendContextRequired:!1}}u();l();u();l();function smr({fungible:t,accountId:e,analytics:r,setVisibilityOverrides:n}){if(!(!t||!e))return async()=>{r.capture("fungiblesReportAsSpam",{data:{caip19:"encodedCaip19"in t?t.encodedCaip19:ml(x0(t))}}),await n({accountId:e,mutations:[{fungibleKey:"legacyKey"in t?t.legacyKey:t.data.key,visibility:"hidden:reported_spam"}]})}}u();l();var amr=["receive","send","decompress","swap","buy","stakeSol","mintLST","stake","unstake","viewOnExplorer","copyTokenAddress","unwrapWrappedSol","share","reportIssue"],Gtt=new Map(amr.map((t,e)=>[t,e+1]));function cmr(t,e){let r=t.length>e?t.slice(e-1):[];return{more:r,primary:r.length>0?t.slice(0,e-1):t}}function j$n(t,e){let r=[...t].sort((a,c)=>(Gtt.get(a.type)??100)-(Gtt.get(c.type)??100)),n=r.filter(a=>!a.menuOnly),i=r.length>e||r.some(a=>a.menuOnly),o=n.length>e||i?n.slice(0,e-1):n;return{more:r.filter(a=>!o.includes(a)),primary:o}}u();l();u();l();function Htt(t,e,r,n,i,o,s,a){return{ownerAddress:t.address,networkID:e,data:{txID:"",psbtHex:""},type:"send",display:{summary:{topLeft:{text:`${r("transactionsPendingSending")} ${n} ${i}`},topRight:{text:`-${n} ${i}`},bottomLeft:{text:`${r("transactionsToParagraphInterpolated",{to:o})}`}},detail:{header:`${n} ${i}`,logoUri:s,uiRecipient:o,assetSymbol:i,tokenUSDPrice:a}}}}u();l();function $tt(t,e="standard",r,n,i,o,s,a,c){let d=ia.get(t).transactionSpeedSeconds(e);return{ownerAddress:r.address,networkID:t,data:{nonce:"",hash:"",unsignedTransaction:Af.parse({from:r.address}),estimatedTimeToMineInSeconds:d},type:"send",display:{summary:{topLeft:{text:`${n("transactionsPendingSending")}`},topRight:{text:`-${i} ${o}`},bottomLeft:{text:`${n("transactionsToParagraphInterpolated",{to:s})}`}},detail:{header:`${i} ${o}`,assetSymbol:o,logoUri:a,tokenUSDPrice:c,uiRecipient:s}}}}u();l();function Ytt(t,e,r,n,i,o,s){return{ownerAddress:t.address,networkID:e,data:{signature:""},type:"send",display:{summary:{topLeft:{text:`${r("transactionsPendingSending")} ${n} ${i}`},topRight:{text:`-${n} ${i}`},bottomLeft:{text:`${r("transactionsToParagraphInterpolated",{to:o})}`}},detail:{logoUri:s}}}}u();l();function Xtt(t,e,r,n,i,o){return{ownerAddress:t.address,networkID:e,data:{digest:""},type:"send",display:{summary:{topLeft:{text:`${qn.t("transactionsPendingSending")} ${r} ${n}`},topRight:{text:`-${r} ${n}`},bottomLeft:{text:`${qn.t("transactionsToParagraphInterpolated",{to:i})}`}},detail:{logoUri:o}}}}var umr=(t,e,r,n,i,o,s,a,c)=>{if(Se.isEVMNetworkID(t))return $tt(t,e,r,c,s,n,o,i,a);if(Se.isSolanaNetworkID(t))return Ytt(r,t,c,s,n,o,i);if(Se.isBitcoinNetworkID(t))return Htt(r,t,c,s,n,o,i,a);if(Se.isSuiNetworkID(t))return Xtt(r,t,s,n,o,i);throw new Error(`Unable to create pending transaction input for chain id ${t}}`)};u();l();var Cye=t=>{let e=Se.getAllChainIDs().reduce((r,n)=>(r[`${n}WalletBalance`]=!1,r),{});for(let r of t){let{balance:n,chain:i}=r.data,o=n.isGreaterThan(0),a=`${Se.getChainName(i.id).toLowerCase()}WalletBalance`;if(!e[a]&&(e[a]=o,Object.values(e).every(c=>c)))break}return e};u();l();u();l();function Ztt(t,e){return t instanceof Error?Ztt(t.message,e):typeof t=="string"&&e==="solana"?dmr(t):"UnknownError"}function dmr(t){let[e]=t.match(/0x\d+/)||[];return e&&typeof e=="string"&&e==="0x1"?"InsufficientFunds":"UnknownError"}u();l();function fmr(t){if(_f(t.type))return t.data.walletAddress;switch(t.type){case"ERC20":case"BRC20":case"CompressedSPL":case"SuiCoin":return t.data.walletAddress;case"SPL":return t.data.splTokenAccountPubkey}}u();l();function pmr(t){if(!t||t.type==="BRC20"||t.type==="BitcoinNative")return null;let e=x0(t);return e.resourceType==="address"?e.address:null}u();l();var Qtt=Oe(Yye()),Jtt=1e-5,hmr="0,0.[00]a",mmr=1e5,ymr=(t,e=5)=>{let r=new We(t);if(r.abs().isGreaterThan(0)&&r.abs().isLessThan(Jtt))return`< ${r.isLessThan(0)?"-":""}${Jtt}`;let n=(0,Qtt.default)(r.toNumber());return r.isGreaterThanOrEqualTo(mmr)?n.format(hmr):n.format(`0,0.[${"0".repeat(e)}]`)};u();l();var ert=[Se.solana,Se.ethereum,Se.polygon,Se.bitcoin,Se.base,Se.sui],gmr=({chainName:t,address:e})=>{let r=ert.find(i=>i.id===t);if(!r)throw new Error(`Chain ${t} not supported`);let n=r.mainnetID;return typeof e!="string"?ml({chainId:n,resourceType:"nativeToken",slip44:r.slip44}):ml({chainId:n,address:e,resourceType:"address"})},bmr=()=>(Math.random()*Date.now()).toString(36).replace(".",""),_mr=({caip19:t,isAnalyticsOptedOut:e,isRelative:r})=>{let n=t.resourceType==="address"?t.address:void 0;return trt({chainId:t.chainId,address:n,isAnalyticsOptedOut:e,isRelative:r})},trt=({chainId:t,address:e,isAnalyticsOptedOut:r,isRelative:n=!1})=>{let i=ert.find(d=>d.mainnetID===t);if(!i)return null;let s=`${n?"":"https://phantom.com"}/tokens/${i.id}`,a=e?`${s}/${e}`:s,c=r?"":`?referralId=${bmr()}`;return`${a}${c}`},Smr={getCaip19FromUrlPath:gmr,getUrlFromFungible:_mr,getUrlForFungibleComponents:trt};u();l();var Bye=class{#e;constructor(e){this.#e=e}walletBalance=(e,r,n)=>{let i=Cye(n),o={accountId:e,selectedNetworks:r,...i};this.#e.capture("walletBalance",{data:o})};ctaBarTrackPrimaryButtonsClick=({uiContext:e,position:r,type:n,maxButtons:i,primaryActions:o,moreActions:s,shortcutActions:a,typeSpecificMetadata:c})=>{let d=[...s,...a||[]],f=[...o,...d].findIndex(y=>y.type===n),p=o.length+d.length,m={type:n,typeSpecificMetadata:c,overallIndex:f,position:r,primaryButtons:o.map(({type:y})=>({type:y})),moreButtons:d.map(({type:y})=>({type:y})),uiContext:e,maxButtons:i,totalButtons:p};this.#e.capture("ctaBarClickByUser",{data:{ctaBar:m}})};ctaBarTrackMoreButtonClick=({uiContext:e,maxButtons:r,totalButtons:n})=>{let i={uiContext:e,maxButtons:r,totalButtons:n};this.#e.capture("ctaBarMoreClickByUser",{data:{ctaBar:i}})};onPublicFungiblePageOpen=({uiContext:e,caip19:r,address:n,symbol:i,hasBalance:o})=>{let s={uiContext:e,caip19:r,address:n,symbol:i,hasBalance:o};this.#e.capture("onPublicFungiblePageOpen",{data:s})}};u();l();export{ret as a,net as b,FI as c,V8t as d,$mr as e,Pf as f,Amr as g,Emr as h,Kbe as i,BY as j,MY as k,eh as l,DY as m,pe as n,Jr as o,mbt as p,ybt as q,t4 as r,coe as s,K8t as t,W8t as u,MP as v,NI as w,Fp as x,Tw as y,kw as z,vw as A,xw as B,drt as C,r9 as D,frt as E,DI as F,mm as G,ym as H,xa as I,Zi as J,gm as K,$ as L,iO as M,wr as N,h0e as O,Jt as P,sO as Q,wAr as R,eY as S,S0e as T,OAr as U,RAr as V,CAr as W,BAr as X,U0 as Y,MAr as Z,gF as _,DAr as $,UAr as aa,Pa as ba,k0e as ca,Kw as da,Fi as ea,cO as fa,uO as ga,Kt as ha,ZI as ia,Ww as ja,Vw as ka,ir as la,hn as ma,Ng as na,Ei as oa,Qe as pa,Ts as qa,Gw as ra,ur as sa,lO as ta,es as ua,bm as va,Zn as wa,Kn as xa,Fg as ya,ia as za,i_e as Aa,Ku as Ba,Jp as Ca,tA as Da,Iot as Ea,Tot as Fa,Rot as Ga,gb as Ha,Ik as Ia,JNe as Ja,$_ as Ka,lFt as La,Toe as Ma,Cot as Na,Bot as Oa,lE as Pa,koe as Qa,SFt as Ra,Sg as Sa,I0 as Ta,Oz as Ua,pP as Va,SJe as Wa,u4 as Xa,dDe as Ya,pDe as Za,d4 as _a,kk as $a,lDe as ab,F7 as bb,K7 as cb,EJe as db,W7 as eb,V7 as fb,$D as gb,x4 as hb,P4 as ib,Kje as jb,Sp as kb,x0n as lb,GE as mb,P0n as nb,ng as ob,U5 as pb,M_n as qb,Zje as rb,l6e as sb,ISn as tb,PSn as ub,j5 as vb,$E as wb,W2 as xb,px as yb,hx as zb,mx as Ab,v6e as Bb,K5 as Cb,yx as Db,Ph as Eb,Xle as Fb,Zle as Gb,MZe as Hb,oJe as Ib,clr as Jb,zlr as Kb,Wlr as Lb,bw as Mb,Bz as Nb,jJe as Ob,Jlr as Pb,Glr as Qb,Hlr as Rb,Rz as Sb,Tet as Tb,ket as Ub,xhr as Vb,Xz as Wb,Dp as Xb,$z as Yb,uye as Zb,Fpr as _b,Kpr as $b,Wpr as ac,Vpr as bc,Gpr as cc,bet as dc,Hpr as ec,_et as fc,$pr as gc,wet as hc,lye as ic,Ypr as jc,dye as kc,Xpr as lc,T0 as mc,ppr as nc,Ome as oc,Rme as pc,Mme as qc,_I as rc,Cdr as sc,Mdr as tc,Hdr as uc,Ydr as vc,Jdr as wc,mpr as xc,oye as yc,k0 as zc,Qdr as Ac,Uz as Bc,tQe as Cc,efr as Dc,ypr as Ec,nfr as Fc,Lz as Gc,bpr as Hc,Spr as Ic,d$ as Jc,sye as Kc,vpr as Lc,Jme as Mc,BQe as Nc,aye as Oc,xpr as Pc,Ppr as Qc,apr as Rc,Cpr as Sc,Bpr as Tc,Npr as Uc,dpr as Vc,Dpr as Wc,wI as Xc,gye as Yc,_f as Zc,AI as _c,Nhr as $c,bye as ad,_ye as bd,Fet as cd,vVn as dd,Dhr as ed,Uhr as fd,Aye as gd,Iye as hd,Yet as id,kye as jd,Iet as kd,x0 as ld,ltt as md,ftt as nd,ptt as od,Rye as pd,nmr as qd,ytt as rd,$hr as sd,Yhr as td,Xhr as ud,htt as vd,Fhr as wd,Khr as xd,Whr as yd,smr as zd,Gtt as Ad,cmr as Bd,j$n as Cd,umr as Dd,Vhr as Ed,Ztt as Fd,fmr as Gd,pmr as Hd,ymr as Id,Smr as Jd,Bye as Kd,Ghr as Ld};
/*! Bundled license information:

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@solana/spl-token/lib/index.browser.esm.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Buffer instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-U6X5ZLHM.js.map

import"./chunk-CXGFYZPV.js";import{Pa as M}from"./chunk-Q7EFTJLZ.js";import"./chunk-QQL7KG33.js";import"./chunk-MDZMKEZM.js";import"./chunk-PTJHYG2U.js";import"./chunk-P4ZL5KWS.js";import"./chunk-CEZMY2VY.js";import"./chunk-TRAXC57E.js";import"./chunk-252ILOVK.js";import"./chunk-IV2YAN4G.js";import"./chunk-SCZD5JNT.js";import"./chunk-HRPW7DWY.js";import"./chunk-FFNPQTO5.js";import"./chunk-3KWWVBRC.js";import"./chunk-PSYLTVFG.js";import"./chunk-QGYMCRC7.js";import"./chunk-UNPIHQLD.js";import"./chunk-FXCMZB3P.js";import"./chunk-WZIUK5ED.js";import"./chunk-KXXMDE73.js";import"./chunk-TN4WWJWX.js";import"./chunk-4CYOLQKB.js";import"./chunk-M2JZP6J5.js";import"./chunk-6R5SHFYO.js";import"./chunk-77BBM4YY.js";import"./chunk-QWMCWRVK.js";import"./chunk-RP4HT6XN.js";import"./chunk-BYWSHP5V.js";import"./chunk-JJOKJNIW.js";import"./chunk-HETLV2MV.js";import"./chunk-LP7JNY3B.js";import"./chunk-4Z7SMQUN.js";import"./chunk-AUAJXQXU.js";import"./chunk-K5HHPSTF.js";import{c as H}from"./chunk-6C52MCLT.js";import{Hb as $,Ib as P,Ob as I,Pb as L}from"./chunk-OERJXOXU.js";import"./chunk-UCBZOSRF.js";import"./chunk-IKQYPAXW.js";import"./chunk-PFNJNBM2.js";import"./chunk-55Q6ZFSF.js";import"./chunk-XEI5RGHZ.js";import"./chunk-GZVOHEMO.js";import"./chunk-TMK4CY5E.js";import"./chunk-QPRXGMQJ.js";import"./chunk-BR4JE5OD.js";import"./chunk-BRFTXGI6.js";import"./chunk-R4TGE3F2.js";import"./chunk-HYOCMEEG.js";import"./chunk-U6X5ZLHM.js";import{U as A}from"./chunk-7X5IGQSF.js";import{Rd as v,Za as C}from"./chunk-M4V43KDP.js";import"./chunk-7LN3AER5.js";import"./chunk-46FGAK6J.js";import{L as F,Sa as R,la as V,x as D}from"./chunk-HG4P4WCJ.js";import"./chunk-Q24656HF.js";import"./chunk-7KFKYD5L.js";import"./chunk-VU23O6LP.js";import"./chunk-RFTHTXRF.js";import"./chunk-YTFWYDJ6.js";import{a as X}from"./chunk-O2FNG2JZ.js";import"./chunk-TVMPABNZ.js";import"./chunk-4M6V6BRQ.js";import"./chunk-O2N6PUOM.js";import"./chunk-UNDMYLJW.js";import{f as O,h as N,n as h}from"./chunk-3KENBVE7.js";N();h();var t=O(X());var Y=o=>self.open(o,"_blank"),Z=()=>{let{handleHideModalVisibility:o}=M(),e=H(),{data:c}=v(),l=c?.type==="ledger",u="swapSDKConfirmation",s=(0,t.useCallback)(()=>{o(u)},[o,u]),i=(0,t.useCallback)(()=>{s(),e("/notifications")},[s,e]);return L({isLedger:l,goToSwapTab:s,goToActivityTab:i})},ee=()=>{let o=(0,t.useRef)(null),{t:e}=D(),c=$(),g=Z(),{data:l}=A(),u=e("swapTxConfirmationViewTransaction"),{isBridge:s,sellAsset:i,buyAsset:p,estimatedTime:K,isClosable:U,isSuccess:z,txErrorHelpButtonLink:Q,onClose:W,onSwapSuccess:_}=g,[d,j]=(0,t.useState)(void 0),[n,q]=(0,t.useState)(void 0),[y,G]=(0,t.useState)(!1),a,r,b,f,E=e("commandClose"),k,w=U||!1,S,B;if(s&&i){let m=`${i.amount} ${i.symbol}`,x=C.getNetworkName(i.networkID),T=`${p.amount} ${p.symbol}`,J=C.getNetworkName(p.networkID);a=e("swapTxBridgeSubmitting"),r=e("swapTxBridgeSubmittingDescription",{sellAmount:m,sellNetwork:x,buyAmount:T,buyNetwork:J})}else r=`${p.symbol||e("swapTxConfirmationTokens")} ${e("swapTxConfirmationTokensWillBeDeposited")} `,a=e("swapTxConfirmationSwappingTokens");return n?.type==="executeSwapStarted"&&o.current?.start(),n?.type==="transactionConfirmed"&&(s?(a=e("swapTxBridgeSubmitted"),r=e("swapTxBridgeSubmittedDescription",{estimatedTime:K}),b=e("swapTxBridgeSubmittedDisclaimer")):(a=e("swapTxConfirmationTokensDepositedTitle"),r=e("swapTxConfirmationTokensDepositedBody")),f={theme:"primary"},w=!0,o.current?.success()),(n?.type==="simulationFailed"||n?.type==="transactionConfirmationFailed"||n?.type==="transactionSubmissionFailed")&&(f={theme:"secondary"},E=e("commandClose"),w=!0,k=t.default.createElement(F,{alignItems:"flex-end"},t.default.createElement(V,{icon:"HelpCircle",size:32,onClick:()=>Y(Q),backgroundColor:[null,"bgButton"],color:["textSecondary","textPrimary"],label:e("commandHelp")}))),n?.type==="simulationFailed"&&(a=`${e("swapTxConfirmationSwapFailed")} ${i.symbol} \u2192 ${p.symbol}`,r=P(n.error),o.current?.fail()),(n?.type==="transactionConfirmationFailed"||n?.type==="transactionSubmissionFailed")&&(a=e("swapTxConfirmationSwapFailed"),r=e("swapTxConfirmationSwapFailedUnknownError"),o.current?.fail()),(0,t.useEffect)(()=>{!S&&setTimeout(()=>{!y&&o.current?.start(),G(!0)},200)},[y,S]),(0,t.useEffect)(()=>{let m=c.subscribeExecution({onStateChange:(x,T)=>{j(T),q(x)}});return()=>m()},[c]),d?.type==="confirmingTransaction"&&(B=I({txReceipt:d?.txReceipt,networkID:d?.executingQuote.sell.data.chain.id,preferredExplorers:l})),t.default.createElement(R,{ref:o,title:a,txLink:B,txTitle:u,description:r,disclaimer:b,isClosable:w,buttonVariant:f,buttonText:E,onClose:z?_:W,header:k,customIcon:S})},Te=ee;export{ee as SwapperSDKSwapConfirmationPage,Te as default};
//# sourceMappingURL=SwapperSDKSwapConfirmationPage-XMTNVHUP.js.map

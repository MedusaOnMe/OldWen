import{a as Oo,b as Do}from"./chunk-JHRYFWQA.js";import{a as Lo,b as No}from"./chunk-T247WLWZ.js";import"./chunk-GQ643KZ3.js";import"./chunk-N4RSOYKC.js";import{a as Fo,b as Mo}from"./chunk-RKMPMDIE.js";import{a as Eo}from"./chunk-SCKWH2C5.js";import{a as ke,b as Po,c as vo,e as Io}from"./chunk-2WXI5HBL.js";import"./chunk-XL6W5OUS.js";import"./chunk-S6EDO2VR.js";import"./chunk-XTOH2TAF.js";import{a as Yo}from"./chunk-35EODLUB.js";import"./chunk-MW7HV6Q7.js";import{a as Ho}from"./chunk-SBQBEWDE.js";import"./chunk-W3FA4YGV.js";import"./chunk-JABDXU4V.js";import"./chunk-7TJHTV5X.js";import"./chunk-GJ2TXUJK.js";import"./chunk-FPQAEUOM.js";import"./chunk-VKPLOSOF.js";import"./chunk-MVKAEI3Z.js";import"./chunk-L3N7XTZJ.js";import"./chunk-7M6V623U.js";import{Ba as Ao,Ca as Bo,Da as de,Ma as pe,Oa as ue,Pa as z,Q as xo,S as Ce,T as wo,U as Co,X as ko,y as ho}from"./chunk-Q7EFTJLZ.js";import{i as So}from"./chunk-QQL7KG33.js";import"./chunk-MDZMKEZM.js";import{a as To}from"./chunk-PTJHYG2U.js";import"./chunk-P4ZL5KWS.js";import{a as Z}from"./chunk-CEZMY2VY.js";import"./chunk-TRAXC57E.js";import"./chunk-252ILOVK.js";import"./chunk-IV2YAN4G.js";import"./chunk-SCZD5JNT.js";import"./chunk-HRPW7DWY.js";import"./chunk-FFNPQTO5.js";import{r as bo}from"./chunk-3KWWVBRC.js";import"./chunk-PSYLTVFG.js";import"./chunk-QGYMCRC7.js";import"./chunk-UNPIHQLD.js";import"./chunk-FXCMZB3P.js";import{a as j}from"./chunk-WZIUK5ED.js";import"./chunk-KXXMDE73.js";import{f as ce,h as me}from"./chunk-TN4WWJWX.js";import"./chunk-4CYOLQKB.js";import"./chunk-M2JZP6J5.js";import"./chunk-CSP4JV2R.js";import"./chunk-GSCCCNRG.js";import"./chunk-6R5SHFYO.js";import"./chunk-77BBM4YY.js";import{b as yo}from"./chunk-QWMCWRVK.js";import"./chunk-YVR742VV.js";import"./chunk-RP4HT6XN.js";import"./chunk-BYWSHP5V.js";import"./chunk-JJOKJNIW.js";import"./chunk-HETLV2MV.js";import"./chunk-LP7JNY3B.js";import"./chunk-4Z7SMQUN.js";import"./chunk-AUAJXQXU.js";import{d as go}from"./chunk-K5HHPSTF.js";import{R as mo,V as po,b as co,ib as H,na as uo,p as c,sa as fo}from"./chunk-6C52MCLT.js";import{Db as so,Eb as ao,Fb as lo,e as ze,f as oe,g as Ue,h as _e,i as $e,p as Xe,q as Ye,r as Qe,s as Je,t as Re}from"./chunk-OERJXOXU.js";import"./chunk-UCBZOSRF.js";import{g as ae,r as le}from"./chunk-IKQYPAXW.js";import"./chunk-PFNJNBM2.js";import"./chunk-55Q6ZFSF.js";import"./chunk-XEI5RGHZ.js";import"./chunk-GZVOHEMO.js";import{a as eo,f as oo}from"./chunk-TMK4CY5E.js";import"./chunk-QPRXGMQJ.js";import"./chunk-BR4JE5OD.js";import{c as se}from"./chunk-BRFTXGI6.js";import"./chunk-R4TGE3F2.js";import"./chunk-HYOCMEEG.js";import{Id as we,Pb as to,ld as io,nd as no,wd as ro}from"./chunk-U6X5ZLHM.js";import"./chunk-7X5IGQSF.js";import{Qd as De,Rd as Q,Sd as Le,Yd as Ne,Za as Ee,fb as He,je as Ve,le as re,qe as We,yd as Oe}from"./chunk-M4V43KDP.js";import"./chunk-7LN3AER5.js";import"./chunk-46FGAK6J.js";import{Da as je,Ga as Ze,H as u,Ha as qe,Ja as Ke,L as b,M as W,S as Se,d as Y,pa as Ge,x as G}from"./chunk-HG4P4WCJ.js";import{N as ee}from"./chunk-Q24656HF.js";import"./chunk-7KFKYD5L.js";import"./chunk-VU23O6LP.js";import"./chunk-RFTHTXRF.js";import{O as Fe,u as Te}from"./chunk-YTFWYDJ6.js";import{Q as Me,a as E}from"./chunk-O2FNG2JZ.js";import"./chunk-TVMPABNZ.js";import"./chunk-4M6V6BRQ.js";import"./chunk-O2N6PUOM.js";import"./chunk-UNDMYLJW.js";import{f as I,h as d,n as p}from"./chunk-3KENBVE7.js";d();p();var n=I(E());d();p();var L=I(E()),Wo=I(Yo());d();p();var B=I(E());d();p();var U=new ze(se);var Qo=c(Se.button)`
  background-color: ${u.colors.legacy.bgRow};
  &:hover {
    background-color: ${u.colors.legacy.bgButton};
  }
  border: none;
  appearance: none;
  transition: background-color 0.2s ease-in-out;
  border-radius: 16px;
  cursor: pointer;
  height: 100%;
  padding: 10px 12px;
  width: 100%;
`,Jo=c(Se.div)`
  align-items: center;
  display: flex;
`,Ro=c.img`
  margin-right: 12px;
  width: 44px;
`,et=c(H).attrs({lineHeight:17,size:14})`
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  display: -webkit-box;
  flex: 1;
  overflow: hidden;
  text-align: left;
`,ot=c.div`
  position: relative;
  top: -15px;
  right: -3px;
  background-color: ${u.colors.legacy.bgButton};
  border-radius: 50%;
  display: flex;
  height: 20px;
  justify-content: center;
  width: 20px;
`,tt=({banner:e})=>{let{t:o}=G(),i=Oo(),{mutateAsync:t}=$e(),{handleShowModalVisibility:r,handleHideModalVisibility:s}=z(),a=(0,B.useCallback)(y=>{let g=oe(e);switch(U.onBannerClick(g),e.bannerType){case"Deep Link":{let{destinationType:h,url:x,caip19:T}=e;i(y,{destinationType:h,url:x,caip19:T});break}case"Modal":{let{interstitial:h,destinationType:x,url:T}=e,{title:D,lineItems:P=[],imageUrl:w,primaryButtonText:N=o("commandContinue"),secondaryButtonText:v=o("commandDismiss")}=h,C=Ue(e),A=P.map(k=>({icon:k.imageUrl,subtitle:k.description,title:k.title}));r("interstitial",{bodyTitle:D,details:A,icon:w,onDismiss:()=>{U.onInterstitialDismiss(C)},FooterComponent:()=>B.default.createElement(go,{primaryText:N,secondaryText:v,onPrimaryClicked:()=>{i(y,{destinationType:x,url:T}),U.onInterstitialPrimaryClick(C),s("interstitial")},onSecondaryClicked:()=>{U.onInterstitialSecondaryClick(C),s("interstitial")}})}),U.onInterstitialSeen(C);break}}},[e,r,s,o,i]),f=(0,B.useCallback)(y=>{y.stopPropagation(),t({actionBannerId:e.id});let g=oe(e);U.onBannerDismiss(g)},[e,t]);return(0,B.useMemo)(()=>({banner:e,onClickBanner:a,onCloseBanner:f}),[e,a,f])},it=B.default.memo(({banner:e,onClickBanner:o,onCloseBanner:i})=>B.default.createElement(Qo,{layout:!0,onClick:o},B.default.createElement(Jo,{layout:!0},B.default.createElement(Ro,{src:e.imageUrl}),B.default.createElement(et,{weight:600},e.description),B.default.createElement(ot,{onClick:i},B.default.createElement(po,{fill:u.colors.legacy.textPrimary,width:8}))))),Vo=e=>{let o=tt(e);return B.default.createElement(it,{...o})};var nt=()=>{let{data:e={banners:[]}}=_e(),{data:o}=De(),{banners:i}=e,t=(0,Wo.default)(o),r=(0,L.useCallback)(a=>{if(!o||t!==o)return;let f=i[a],y=oe(f);U.onBannerSeen(y)},[i,o,t]),s=(0,L.useMemo)(()=>i.map(a=>({key:a.id,node:L.default.createElement(Vo,{banner:a})})),[i]);return(0,L.useMemo)(()=>({identifier:o??"",items:s,itemHeight:74,onIndexChange:r}),[s,o,r])},rt=L.default.memo(({identifier:e,items:o,onIndexChange:i,itemHeight:t})=>L.default.createElement(Do,{items:o,onIndexChange:i,key:e,itemHeight:t})),st=()=>{let e=nt();return L.default.createElement(rt,{...e})},fe=()=>{let{data:[e]}=ee(["kill-action-banners"]);return e?null:L.default.createElement(st,null)};d();p();var l=I(E());d();p();var _=I(E()),zo=({children:e,maxFontSize:o})=>{let i=(0,_.useRef)(null),[t,r]=(0,_.useState)(o);return(0,_.useEffect)(()=>{let s=i.current;if(!s)return;let a=new ResizeObserver(()=>{let f=t;s.querySelectorAll("*").forEach(g=>{for(;g.scrollWidth>s.clientWidth&&f>10;)f-=1,g.style.fontSize=`${f}px`}),r(f)});return a.observe(s),()=>{a.disconnect()}},[t]),_.default.createElement(b,{ref:i,overflow:"hidden",width:"100%",display:"flex",direction:"column",alignItems:"center"},_.default.createElement("div",{style:{fontSize:`${t}px`,whiteSpace:"nowrap"}},e))};d();p();var te=I(E());var ge=()=>{let{data:e}=Q(),{caip19:o,tokenName:i,tokenSymbol:t}=Ve(),{handleShowModalVisibility:r,handleHideModalVisibility:s}=z(),{openBuy:a}=ko({caip19:o,context:"nux",analyticsEvent:"nuxBuyTokenClickedByUser"}),f=(0,te.useCallback)(()=>{e&&r("receive",{account:e,onCloseClick:()=>s("receive")})},[s,r,e]);return te.default.createElement(ho,{image:te.default.createElement(Ge,{src:"https://assets.phantom.app/assets/nux-illustration-gm.webp",width:249,height:96}),onClickBuyToken:a,onClickReceive:f,tokenName:i,tokenSymbol:t})};var at=c(j).attrs({align:"center"})`
  margin-top: 2rem;
`,lt=c(j).attrs({align:"center"})`
  padding-left: 16px;
  padding-right: 16px;
  padding-top: 16px;
  padding-bottom: 0;
  margin-bottom: -8px; // Forces spacing between nux and CTA buttons to be 24px
`,Ae=c(j).attrs({align:"center",justify:"center",width:"100%"})`
  height: 5.3rem;
`,Uo=c(To).attrs({height:"8px",borderRadius:"6px",backgroundColor:u.colors.legacy.borderPrimary})`
  opacity: 0.2;
`,_o=c(Z)`
  height: 8px;
  border-radius: 6px;
  background-color: rgba(from ${u.colors.legacy.textSecondary} r g b / 50%);
  opacity: 0.5;
`,ct=c.div`
  display: flex;
  flex-direction: row;
  padding: 16px 5px;
  justify-content: center;
  align-items: center;
  gap: 6px;
  flex: 1 0 0;
  border-radius: 62px;
  background: ${u.colors.legacy.bgButton};
`,mt=c(H).attrs({size:15,weight:"600",color:u.colors.legacy.textPrimary,lineHeight:20})``,dt=c(H).attrs({size:36,weight:"bold",color:u.colors.legacy.textSecondary})``,pt=c(Z).attrs({justify:"center"})``,ut=c(H).attrs({weight:500,size:18})`
  border-radius: 6px;
  padding: 2px 5px;
`,ft=c.div`
  > * {
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.16);
  }
  display: flex;
  flex-direction: row;
  gap: 8px;
  width: 326px;
  margin-top: 2rem;
  margin-bottom: 22px;
  margin-left: auto;
  margin-right: auto;
`,gt=c.div`
  padding: 16px;
  padding-bottom: 0px;
`,yt=c.div`
  padding: 32px 16px;
  width: 100%;
`,ht={minimumFractionDigits:2,maximumFractionDigits:2},$o=l.default.memo(({hasFungibles:e,isErrorTokens:o,isLoading:i,isHidingAllFungibles:t,isReadOnlyAccount:r,value:s,earnings:a,showDollarValues:f,shouldShowPartialError:y,partialErrorMessage:g,ctaActions:h})=>{let{t:x}=G(),T=bt(a),D=xt(s,a),{buttonDisabled:P}=Tt({isLoading:i,isEnabled:e||t,isErrorTokens:o}),w=ao();return l.default.createElement(b,{width:"100%"},y?l.default.createElement(gt,null,l.default.createElement(Ao,{partialErrorMessage:g})):null,w?l.default.createElement(lt,null,l.default.createElement(ge,null)):l.default.createElement(at,null,f?i?l.default.createElement(Ae,null,l.default.createElement(Uo,{width:"184px",margin:"0 0 10px 0"}),l.default.createElement(Uo,{width:"112px"})):e||t?l.default.createElement(l.default.Fragment,null,l.default.createElement(b,{width:"100%",marginBottom:10},l.default.createElement(zo,{maxFontSize:38},l.default.createElement(Ce,{font:"inherit",fontWeight:"semibold",value:s,intlNumberFormatOptions:ht}))),l.default.createElement(pt,null,l.default.createElement(Ce,{signConfig:"always",marginRight:6,font:"title1",color:"sentiment",value:a}),l.default.createElement(ut,{color:T,backgroundColor:Fe(T,.1)},D))):o?l.default.createElement(Ae,null,l.default.createElement(_o,{width:"184px",margin:"0 0 10px 0"}),l.default.createElement(_o,{width:"112px"})):null:l.default.createElement(Ae,null,l.default.createElement(dt,null,"\u2013"))),l.default.createElement(Po,null),r?l.default.createElement(ft,null,l.default.createElement(ct,null,l.default.createElement(mo,{width:20,height:20,fill:u.colors.legacy.textPrimary}),l.default.createElement(mt,null,x("readOnlyAccountBannerWarning")))):l.default.createElement(yt,null,l.default.createElement(de,{disabled:P,actions:h,uiContextName:"home",maxButtons:4})))}),bt=e=>e===void 0||e===0?u.colors.legacy.textSecondary:e>0?u.colors.legacy.accentSuccess:u.colors.legacy.accentAlert,xt=(e,o)=>{let i=e===void 0,t=o===void 0,r=t||o>=0?"+":"-";return i||t?"-":`${r}${Math.abs(to(e-o,e)).toFixed(2)}%`},Tt=({isLoading:e,isEnabled:o,isErrorTokens:i})=>{let t="primary",r=!1;switch(!0){case e:t="secondary",r=!0;break;case o:t="primary",r=!1;break;case i:t="secondary",r=!0}return{buttonTheme:t,buttonDisabled:r}};d();p();var $=I(E());var St=c(j).attrs({align:"center"})``,wt=c.div`
  width: 48px;
  height: 48px;
  position: relative;
  margin-bottom: 15px;
  border-radius: 100%;
  background: ${u.colors.legacy.bgRow};
`,Ct=c(Z).attrs({align:"center",justify:"center"})`
  height: 100%;
`,kt=c(H).attrs({size:17,weight:500,lineHeight:22,margin:"0 0 10px 0"})``,At=c(H).attrs({size:15,weight:500,lineHeight:21,margin:"0 0 15px 0",color:u.colors.legacy.textSecondary})``,Bt=c(H).attrs({size:16,weight:500,lineHeight:22,margin:"0",color:u.colors.legacy.accentPrimary})``,Go=$.default.memo(e=>$.default.createElement(St,null,$.default.createElement(wt,null,$.default.createElement(Ct,null,$.default.createElement(fo,{width:22,exclamationFill:"transparent",circleFill:u.colors.brand.yellowMoon}))),$.default.createElement(kt,null,e.title),$.default.createElement(At,null,e.description),$.default.createElement(Bt,{onClick:e.refetch},e.buttonText)));d();p();var O=I(E());d();p();var M=I(E());function jo({initialTokens:e,futureTokens:o,formattedApy:i}){return M.default.createElement(b,{paddingLeft:16,paddingRight:16,paddingBottom:8},M.default.createElement(W,{paddingLeft:0,font:"captionSemibold",color:"textSecondary"},Y.t("stakingInterstitialWelcomeSubtitle")),M.default.createElement(W,{font:"title1Semibold",color:"textPrimary"},M.default.createElement(Je,{i18nKey:"stakingInterstitialWelcomeTitle",values:{apy:i},components:[M.default.createElement(W,{font:"title1Semibold",color:"accentSuccess"})]})),M.default.createElement("img",{src:"/images/staking/staking-graph.webp",style:{paddingTop:"16px",width:"100%"}}),M.default.createElement(b,{direction:"row",justifyContent:"space-between",marginTop:16},M.default.createElement(W,{font:"caption",color:"textSecondary"},Y.t("stakingInterstitialWelcomeChartToday")),M.default.createElement(W,{font:"caption",color:"accentSuccess"},Y.t("stakingInterstitialWelcomeChart5Year"))),M.default.createElement(b,{direction:"row",justifyContent:"space-between"},M.default.createElement(W,{font:"bodySemibold",color:"textSecondary"},we(e,2)," SOL"),M.default.createElement(W,{font:"bodySemibold",color:"accentSuccess"},we(o,2)," SOL")))}function Pt(){let{handleShowModalVisibility:e,handleHideModalVisibility:o,isAnyModalOpen:i}=z(),{shouldShowAdditionalPermissionsInterstitial:t}=Mo(),r=(0,O.useCallback)(()=>{o("unifiedInterstitial")},[o]),{isOpen:s}=me(),{shouldShow:a,showFlow:f}=so(),{interstitial:y,shouldShow:g}=Xe({onPrimaryAction:r,condition:()=>!s,image:O.default.createElement("img",{src:"/images/sui/onboarding.svg",style:{paddingTop:"16px"}})}),{interstitial:h,shouldShow:x}=Ye({onPrimaryAction:r,onSecondaryAction:r,condition:()=>!s,image:O.default.createElement("img",{src:"/images/arbitrum/onboarding.svg",style:{paddingTop:"16px"}})}),{shouldShowTermsOfServiceUpdateInterstitial:T,setTermsAcknowledgement:D}=lo(),{interstitial:P}=Re({onConfirm:()=>{D(!0),r()},openUrl:async C=>{self.open(C,"_blank")}}),w=bo(),{shouldShow:N,interstitial:v}=Qe({onPrimaryAction:()=>{r(),e("mintStakeAmount",{lstCaip19:ro})},onSecondaryAction:r,condition:()=>!s&&!w.shouldHide,image:O.default.createElement(jo,{...w})});return(0,O.useEffect)(()=>{let C=setTimeout(()=>{i()||(T?e("unifiedInterstitial",P):a?f(()=>e("quickClaimUsername",{isDismissable:!1})):g?e("unifiedInterstitial",y):x?e("unifiedInterstitial",h):N&&e("unifiedInterstitial",v))},500);return()=>clearTimeout(C)},[y,e,g,a,f,i,T,P,h,x,N,v]),O.default.createElement(O.default.Fragment,null,!Me()&&O.default.createElement(Eo,null),t&&O.default.createElement(Fo,null))}var ye=Pt;d();p();var J=I(E());var vt=c(Z).attrs({justify:"center",margin:"0 auto",width:"auto"})`
  cursor: pointer;
  height: 48px;
  margin-bottom: 10px;
  p {
    font-weight: 500;
  }
  &:hover {
    p {
      color: ${u.colors.legacy.accentPrimary} !important;
    }
    svg {
      fill: ${u.colors.legacy.accentPrimary};
      path {
        stroke: ${u.colors.legacy.accentPrimary};
      }
      circle {
        stroke: ${u.colors.legacy.accentPrimary};
      }
    }
  }
`,It=c(H).attrs({size:16,color:u.colors.legacy.textSecondary,weight:500,margin:"0 0 0 10px",lineHeight:19,noWrap:!0})``,Be=J.default.memo(e=>J.default.createElement(vt,{onClick:e.onClick},J.default.createElement(yo,null,J.default.createElement(uo,null)),J.default.createElement(It,null,e.buttonText)));d();p();var ie=I(E());function Zo(e,o,i){let t=re(),[r,s]=(0,ie.useState)(!1);(0,ie.useEffect)(()=>{t||s(!1)},[i,t]),(0,ie.useEffect)(()=>{r||!o.length||!e.length||t||(Bo.walletBalance(i,o,e),s(!0))},[i,o,e,r,t])}d();p();d();p();var m=I(E());function Ft(e){if(e){if(typeof e!="object"){console.error("PortfolioHomePage: state is expected to be an object");return}(!("defaultTab"in e)||!e.defaultTab||typeof e.defaultTab!="string"||!Object.values(ke).includes(e.defaultTab))&&console.error("PortfolioHomePage: defaultTab is required when trying to link to a selected tab"),(!("nonce"in e)||!e.nonce)&&console.error("PortfolioHomePage: nonce is required when trying to link to a selected tab")}}var Mt=({selectedAccount:e,ctaActions:o})=>m.default.createElement(b,null,e?.isReadOnly?m.default.createElement(Io,{marginBottom:24}):m.default.createElement(de,{actions:o,uiContextName:"home",maxButtons:4}));function Pe(){let{showSettingsMenu:e}=me(),{data:o}=Q(),i=pe(),{state:t}=co();Ft(t);let{pushDetailView:r}=ce(),{handleShowModalVisibility:s,handleHideModalVisibility:a}=z(),f=(0,m.useCallback)(()=>{o&&s("onramp")},[s,o]),y=(0,m.useCallback)(()=>{o&&s("receive",{account:o,onCloseClick:()=>a("receive")})},[a,s,o]),g=(0,m.useCallback)(()=>{i({})},[i]),h=(0,m.useCallback)(()=>{s("sendFungibleSelect")},[s]),x=(0,m.useCallback)(()=>e(),[e]),T=(0,m.useCallback)(()=>s("fungibleVisibility"),[s]),D=(0,m.useCallback)(()=>s("collectiblesVisibility"),[s]),P=ae(A=>A.resetSendSlice);(0,m.useEffect)(function(){o?.identifier&&P()},[o?.identifier,P]);let{ctaActions:w}=le({onTappingBuy:f,onTappingReceive:y,onTappingSend:h,onTappingSwap:g,account:o}),N=(0,m.useCallback)(({caip19:A,key:k,tokenAccount:V,isSplCompressed:q,name:K})=>{r(m.default.createElement(ue,{title:K,caip19:A,fungibleKey:k,splTokenAccount:V,entryPoint:"home",isSplCompressed:q}))},[r]),v=(0,m.useCallback)(({item:A})=>m.default.createElement(b,{direction:"row",paddingX:16,gap:16},A.data.pair&&A.data.pair.map((k,V)=>k?k.data.type==="collectibles-trimmed"?m.default.createElement(b,{direction:"row",justifyContent:"center",flex:1,key:"trimmed-collectible"},m.default.createElement(Ke,{noIcon:!0,level:"4-error"},Y.t("collectiblesTrimmed"))):k.data.type==="collection"?m.default.createElement(Lo,{key:`collection-${k.data.data.id}`,...k.data.data}):m.default.createElement(b,{key:`empty-collectible-${V}`,aspectRatio:"1/1",marginBottom:10,style:{width:159}}):null)),[]),C=Ho({itemSize:159,margin:10,horizontalPadding:16*2});return m.default.createElement(vo,{defaultTab:t??void 0,collectiblesPerRow:C,onTappingSettings:x,onTappingManageTokens:T,onTappingManageCollections:D,onFungibleDetailNav:N,renderCollectiblesComponent:v,listHeaderChildren:m.default.createElement(b,{marginX:"screen",gap:24},m.default.createElement(Mt,{selectedAccount:o,ctaActions:w}),!o?.isReadOnly&&m.default.createElement(fe,null),m.default.createElement(ye,null)),zeroBalanceNux:m.default.createElement(b,{marginX:16,marginTop:16},m.default.createElement(ge,null))})}var Et=eo(!0),Ht=n.default.memo(({listRowProps:e,fungible:o,isMainnet:i,visibilityOverrides:t})=>{let{t:r}=G(),{pushDetailView:s}=ce(),{chain:a,name:f,tokenAddress:y}=o.data,g=f??r("assetDetailUnknownToken"),h=He(io(o)),x=(0,n.useCallback)(()=>{se.capture("assetDetailClick",{data:{address:y,chain:a.name,chainId:Ee.getChainID(a.id),isNativeOfType:a.name,networkId:a.id,type:"fungible",spamStatus:o.data.spamStatus,name:g}}),s(n.default.createElement(ue,{caip19:h,fungibleKey:o.data.key,splTokenAccount:o.type==="SPL"?o.data.splTokenAccountPubkey:void 0,isSplCompressed:o.type==="CompressedSPL",entryPoint:"home"}))},[o,a,h,s,g,y]);return n.default.createElement("div",{key:e.key,style:e.style},n.default.createElement(Co,{...xo(o,t),onClick:()=>x(),showBalance:!0,showCurrencyValues:i,enableAnimations:!0}))}),Ot=Te({seconds:5}),Dt=Te({seconds:10}),Lt=()=>{let{data:e}=Q(),{data:o}=Oe(e?.identifier),i=pe(),{handleShowModalVisibility:t,handleHideModalVisibility:r}=z(),s=(0,n.useCallback)(()=>{e&&t("onramp")},[t,e]),a=(0,n.useCallback)(()=>{e&&t("receive",{account:e,onCloseClick:()=>r("receive")})},[r,t,e]),f=(0,n.useCallback)(()=>{i({})},[i]),y=(0,n.useCallback)(()=>{t("sendFungibleSelect")},[t]),{t:g}=G(),h=(0,n.useMemo)(()=>({manageTokenList:g("homeManageTokenList"),errorTitle:g("homeErrorTitle"),errorDescription:g("homeErrorDescription"),errorButton:g("homeErrorButtonText")}),[g]),{ctaActions:x,shouldShowPartialError:T,partialErrorMessage:D}=le({onTappingBuy:s,onTappingReceive:a,onTappingSend:y,onTappingSwap:f,account:e}),{accountBalance:P,accountId:w}=(0,n.useMemo)(()=>({accountBalance:o?.value,accountId:e?.identifier??""}),[o?.value,e?.identifier]),N=e?.isReadOnly,v=!re(),C=ae(ne=>ne.resetSendSlice);(0,n.useEffect)(function(){w&&C()},[w,C]);let{fungibles:A,visibilityOverrides:k,portfolio:V,isHidingAllFungibles:q,isLoadingVisibilityOverrides:K,isLoadingTokens:he,isLoadingPrices:be,isErrorTokens:X,refetch:xe}=no({useTokenQueryOptions:{staleTime:Ot,refetchInterval:Dt}}),{mutate:S}=Le();We({accountBalance:P,accountId:w,enabled:v,value:V.value,setAccountBalance:S});let R=Ne();return Zo(A,R,w),{data:(0,n.useMemo)(()=>({fungibles:A,earnings:V.earnings,value:V.value,isMainnet:v,translations:h,visibilityOverrides:k,ctaActions:x,showReceiveModal:a,handleShowModalVisibility:t,handleHideModalVisibility:r}),[k,A,V,h,v,a,t,r,x]),isHidingAllFungibles:q,isLoading:K||he||be,isErrorTokens:X,isReadOnlyAccount:N,refetch:xe,shouldShowPartialError:T,partialErrorMessage:D}},ve="home-tab",Nt=()=>{let{data:[e]}=ee(["enable-merge-collectibles"]),{t:o}=G(),{data:i,isHidingAllFungibles:t,isLoading:r,isErrorTokens:s,isReadOnlyAccount:a,refetch:f,shouldShowPartialError:y,partialErrorMessage:g}=Lt(),{fungibles:h,translations:x,isMainnet:T,earnings:D,value:P,visibilityOverrides:w,ctaActions:N,handleShowModalVisibility:v}=i,{manageTokenList:C,errorTitle:A,errorDescription:k,errorButton:V}=x,q=h.length>0,K=(0,n.useRef)(document.getElementById(ve));(0,n.useEffect)(()=>{let S=document.getElementById(ve);S&&(K.current=S)},[]);let[he,be]=oo(Et),X=e?he:!0,xe=(0,n.useCallback)(S=>n.default.createElement(Ht,{key:S.key,listRowProps:S,fungible:h[S.index],isMainnet:T,visibilityOverrides:w}),[h,T,w]);return n.default.createElement("div",{id:ve,style:{overflowY:X?"auto":void 0,overflowX:"hidden"}},n.default.createElement($o,{earnings:D,value:P,hasFungibles:q,isErrorTokens:s,isLoading:r,isHidingAllFungibles:t,isReadOnlyAccount:a,showDollarValues:T,shouldShowPartialError:y,partialErrorMessage:g,ctaActions:N}),n.default.createElement(j,{align:"center",padding:"0 16px 16px"},!a&&n.default.createElement(fe,null),n.default.createElement(ye,null),e?n.default.createElement(b,{direction:"row",gap:12,width:"100%",marginBottom:12},[{title:o("portfolioHomeTokens"),isActive:X},{title:o("portfolioHomeCollectibles"),isActive:!X}].map(S=>n.default.createElement(W,{key:S.title,font:"title1Semibold",onPress:S.isActive?void 0:()=>be(R=>!R),color:S.isActive?"textPrimary":"textSecondary"},S.title))):null,r?[1,2,3].map(S=>n.default.createElement(So,{key:`fungible-token-row-loader-${S}`})):q?X?n.default.createElement(n.default.Fragment,null,n.default.createElement(qe,{scrollElement:K.current??void 0},({height:S=0,isScrolling:R,registerChild:Ie,scrollTop:ne})=>n.default.createElement("div",{style:{width:"100%"},ref:Ie},n.default.createElement(je,{disableHeight:!0},({width:Xo})=>n.default.createElement(Ze,{autoHeight:!0,width:Xo,height:S,scrollTop:ne,isScrolling:R,rowCount:h.length,rowHeight:wo+10,rowRenderer:xe})))),n.default.createElement(Be,{buttonText:C,onClick:()=>v("fungibleVisibility")})):n.default.createElement(b,{size:"100%"},n.default.createElement(No,{hideSearch:!0,padding:0})):t?n.default.createElement(Be,{buttonText:C,onClick:()=>v("fungibleVisibility")}):n.default.createElement(Go,{title:A,description:k,buttonText:V,refetch:f})))};function Vt(){let{data:[e]}=ee(["enable-unlimited-fungibles"]);return e?n.default.createElement(Pe,null):n.default.createElement(Nt,null)}var zr=Vt;export{zr as default};
//# sourceMappingURL=HomeTabPage-RBAXV355.js.map

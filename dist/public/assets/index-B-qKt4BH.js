var W8=Object.defineProperty;var $A=t=>{throw TypeError(t)};var $8=(t,e,n)=>e in t?W8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var an=(t,e,n)=>$8(t,typeof e!="symbol"?e+"":e,n),u1=(t,e,n)=>e.has(t)||$A("Cannot "+n);var Y=(t,e,n)=>(u1(t,e,"read from private field"),n?n.call(t):e.get(t)),De=(t,e,n)=>e.has(t)?$A("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ie=(t,e,n,r)=>(u1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),st=(t,e,n)=>(u1(t,e,"access private method"),n);var eg=(t,e,n,r)=>({set _(s){Ie(t,e,s,n)},get _(){return Y(t,e,r)}});function H8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var _i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function oa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function HE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var iR={exports:{}},bw={},oR={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=Symbol.for("react.element"),q8=Symbol.for("react.portal"),K8=Symbol.for("react.fragment"),G8=Symbol.for("react.strict_mode"),Q8=Symbol.for("react.profiler"),Y8=Symbol.for("react.provider"),Z8=Symbol.for("react.context"),X8=Symbol.for("react.forward_ref"),J8=Symbol.for("react.suspense"),eF=Symbol.for("react.memo"),tF=Symbol.for("react.lazy"),HA=Symbol.iterator;function nF(t){return t===null||typeof t!="object"?null:(t=HA&&t[HA]||t["@@iterator"],typeof t=="function"?t:null)}var aR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lR=Object.assign,cR={};function yh(t,e,n){this.props=t,this.context=e,this.refs=cR,this.updater=n||aR}yh.prototype.isReactComponent={};yh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uR(){}uR.prototype=yh.prototype;function qE(t,e,n){this.props=t,this.context=e,this.refs=cR,this.updater=n||aR}var KE=qE.prototype=new uR;KE.constructor=qE;lR(KE,yh.prototype);KE.isPureReactComponent=!0;var qA=Array.isArray,dR=Object.prototype.hasOwnProperty,GE={current:null},hR={key:!0,ref:!0,__self:!0,__source:!0};function fR(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)dR.call(e,r)&&!hR.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Xp,type:t,key:i,ref:o,props:s,_owner:GE.current}}function rF(t,e){return{$$typeof:Xp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function QE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xp}function sF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var KA=/\/+/g;function d1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sF(""+t.key):e.toString(36)}function Kg(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xp:case q8:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+d1(o,0):r,qA(s)?(n="",t!=null&&(n=t.replace(KA,"$&/")+"/"),Kg(s,e,n,"",function(c){return c})):s!=null&&(QE(s)&&(s=rF(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(KA,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",qA(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+d1(i,a);o+=Kg(i,e,n,l,s)}else if(l=nF(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+d1(i,a++),o+=Kg(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tg(t,e,n){if(t==null)return t;var r=[],s=0;return Kg(t,r,"","",function(i){return e.call(n,i,s++)}),r}function iF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var os={current:null},Gg={transition:null},oF={ReactCurrentDispatcher:os,ReactCurrentBatchConfig:Gg,ReactCurrentOwner:GE};function pR(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:tg,forEach:function(t,e,n){tg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tg(t,function(){e++}),e},toArray:function(t){return tg(t,function(e){return e})||[]},only:function(t){if(!QE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ut.Component=yh;ut.Fragment=K8;ut.Profiler=Q8;ut.PureComponent=qE;ut.StrictMode=G8;ut.Suspense=J8;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oF;ut.act=pR;ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lR({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=GE.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dR.call(e,l)&&!hR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Xp,type:t.type,key:s,ref:i,props:r,_owner:o}};ut.createContext=function(t){return t={$$typeof:Z8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Y8,_context:t},t.Consumer=t};ut.createElement=fR;ut.createFactory=function(t){var e=fR.bind(null,t);return e.type=t,e};ut.createRef=function(){return{current:null}};ut.forwardRef=function(t){return{$$typeof:X8,render:t}};ut.isValidElement=QE;ut.lazy=function(t){return{$$typeof:tF,_payload:{_status:-1,_result:t},_init:iF}};ut.memo=function(t,e){return{$$typeof:eF,type:t,compare:e===void 0?null:e}};ut.startTransition=function(t){var e=Gg.transition;Gg.transition={};try{t()}finally{Gg.transition=e}};ut.unstable_act=pR;ut.useCallback=function(t,e){return os.current.useCallback(t,e)};ut.useContext=function(t){return os.current.useContext(t)};ut.useDebugValue=function(){};ut.useDeferredValue=function(t){return os.current.useDeferredValue(t)};ut.useEffect=function(t,e){return os.current.useEffect(t,e)};ut.useId=function(){return os.current.useId()};ut.useImperativeHandle=function(t,e,n){return os.current.useImperativeHandle(t,e,n)};ut.useInsertionEffect=function(t,e){return os.current.useInsertionEffect(t,e)};ut.useLayoutEffect=function(t,e){return os.current.useLayoutEffect(t,e)};ut.useMemo=function(t,e){return os.current.useMemo(t,e)};ut.useReducer=function(t,e,n){return os.current.useReducer(t,e,n)};ut.useRef=function(t){return os.current.useRef(t)};ut.useState=function(t){return os.current.useState(t)};ut.useSyncExternalStore=function(t,e,n){return os.current.useSyncExternalStore(t,e,n)};ut.useTransition=function(){return os.current.useTransition()};ut.version="18.3.1";oR.exports=ut;var k=oR.exports;const ce=oa(k),YE=H8({__proto__:null,default:ce},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aF=k,lF=Symbol.for("react.element"),cF=Symbol.for("react.fragment"),uF=Object.prototype.hasOwnProperty,dF=aF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hF={key:!0,ref:!0,__self:!0,__source:!0};function mR(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uF.call(e,r)&&!hF.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:lF,type:t,key:i,ref:o,props:s,_owner:dF.current}}bw.Fragment=cF;bw.jsx=mR;bw.jsxs=mR;iR.exports=bw;var d=iR.exports,Je={},Ew={};Ew.byteLength=mF;Ew.toByteArray=yF;Ew.fromByteArray=xF;var ji=[],qs=[],fF=typeof Uint8Array<"u"?Uint8Array:Array,h1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var bu=0,pF=h1.length;bu<pF;++bu)ji[bu]=h1[bu],qs[h1.charCodeAt(bu)]=bu;qs[45]=62;qs[95]=63;function gR(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function mF(t){var e=gR(t),n=e[0],r=e[1];return(n+r)*3/4-r}function gF(t,e,n){return(e+n)*3/4-n}function yF(t){var e,n=gR(t),r=n[0],s=n[1],i=new fF(gF(t,r,s)),o=0,a=s>0?r-4:r,l;for(l=0;l<a;l+=4)e=qs[t.charCodeAt(l)]<<18|qs[t.charCodeAt(l+1)]<<12|qs[t.charCodeAt(l+2)]<<6|qs[t.charCodeAt(l+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return s===2&&(e=qs[t.charCodeAt(l)]<<2|qs[t.charCodeAt(l+1)]>>4,i[o++]=e&255),s===1&&(e=qs[t.charCodeAt(l)]<<10|qs[t.charCodeAt(l+1)]<<4|qs[t.charCodeAt(l+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function wF(t){return ji[t>>18&63]+ji[t>>12&63]+ji[t>>6&63]+ji[t&63]}function vF(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(wF(r));return s.join("")}function xF(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(vF(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(ji[e>>2]+ji[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(ji[e>>10]+ji[e>>4&63]+ji[e<<2&63]+"=")),s.join("")}var ZE={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ZE.read=function(t,e,n,r,s){var i,o,a=s*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,f=n?s-1:0,p=n?-1:1,m=t[e+f];for(f+=p,i=m&(1<<-u)-1,m>>=-u,u+=a;u>0;i=i*256+t[e+f],f+=p,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=r;u>0;o=o*256+t[e+f],f+=p,u-=8);if(i===0)i=1-c;else{if(i===l)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-c}return(m?-1:1)*o*Math.pow(2,i-r)};ZE.write=function(t,e,n,r,s,i){var o,a,l,c=i*8-s-1,u=(1<<c)-1,f=u>>1,p=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:i-1,v=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=p/l:e+=p*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*l-1)*Math.pow(2,s),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,s),o=0));s>=8;t[n+m]=a&255,m+=v,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;t[n+m]=o&255,m+=v,o/=256,c-=8);t[n+m-v]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Ew,n=ZE,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const V=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(V,A),V.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(V){if(V>s)throw new RangeError('The value "'+V+'" is invalid for option "size"');const A=new Uint8Array(V);return Object.setPrototypeOf(A,a.prototype),A}function a(V,A,N){if(typeof V=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(V)}return l(V,A,N)}a.poolSize=8192;function l(V,A,N){if(typeof V=="string")return p(V,A);if(ArrayBuffer.isView(V))return v(V);if(V==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(At(V,ArrayBuffer)||V&&At(V.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(At(V,SharedArrayBuffer)||V&&At(V.buffer,SharedArrayBuffer)))return g(V,A,N);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=V.valueOf&&V.valueOf();if(Q!=null&&Q!==V)return a.from(Q,A,N);const Z=w(V);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return a.from(V[Symbol.toPrimitive]("string"),A,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}a.from=function(V,A,N){return l(V,A,N)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function u(V,A,N){return c(V),V<=0?o(V):A!==void 0?typeof N=="string"?o(V).fill(A,N):o(V).fill(A):o(V)}a.alloc=function(V,A,N){return u(V,A,N)};function f(V){return c(V),o(V<0?0:_(V)|0)}a.allocUnsafe=function(V){return f(V)},a.allocUnsafeSlow=function(V){return f(V)};function p(V,A){if((typeof A!="string"||A==="")&&(A="utf8"),!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const N=x(V,A)|0;let Q=o(N);const Z=Q.write(V,A);return Z!==N&&(Q=Q.slice(0,Z)),Q}function m(V){const A=V.length<0?0:_(V.length)|0,N=o(A);for(let Q=0;Q<A;Q+=1)N[Q]=V[Q]&255;return N}function v(V){if(At(V,Uint8Array)){const A=new Uint8Array(V);return g(A.buffer,A.byteOffset,A.byteLength)}return m(V)}function g(V,A,N){if(A<0||V.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(V.byteLength<A+(N||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return A===void 0&&N===void 0?Q=new Uint8Array(V):N===void 0?Q=new Uint8Array(V,A):Q=new Uint8Array(V,A,N),Object.setPrototypeOf(Q,a.prototype),Q}function w(V){if(a.isBuffer(V)){const A=_(V.length)|0,N=o(A);return N.length===0||V.copy(N,0,0,A),N}if(V.length!==void 0)return typeof V.length!="number"||Tt(V.length)?o(0):m(V);if(V.type==="Buffer"&&Array.isArray(V.data))return m(V.data)}function _(V){if(V>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return V|0}function b(V){return+V!=V&&(V=0),a.alloc(+V)}a.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==a.prototype},a.compare=function(A,N){if(At(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),At(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),!a.isBuffer(A)||!a.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===N)return 0;let Q=A.length,Z=N.length;for(let X=0,ne=Math.min(Q,Z);X<ne;++X)if(A[X]!==N[X]){Q=A[X],Z=N[X];break}return Q<Z?-1:Z<Q?1:0},a.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(A,N){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return a.alloc(0);let Q;if(N===void 0)for(N=0,Q=0;Q<A.length;++Q)N+=A[Q].length;const Z=a.allocUnsafe(N);let X=0;for(Q=0;Q<A.length;++Q){let ne=A[Q];if(At(ne,Uint8Array))X+ne.length>Z.length?(a.isBuffer(ne)||(ne=a.from(ne)),ne.copy(Z,X)):Uint8Array.prototype.set.call(Z,ne,X);else if(a.isBuffer(ne))ne.copy(Z,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=ne.length}return Z};function x(V,A){if(a.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||At(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);const N=V.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&N===0)return 0;let Z=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return at(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return wt(V).length;default:if(Z)return Q?-1:at(V).length;A=(""+A).toLowerCase(),Z=!0}}a.byteLength=x;function T(V,A,N){let Q=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,A>>>=0,N<=A))return"";for(V||(V="utf8");;)switch(V){case"hex":return j(this,A,N);case"utf8":case"utf-8":return y(this,A,N);case"ascii":return z(this,A,N);case"latin1":case"binary":return L(this,A,N);case"base64":return C(this,A,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,A,N);default:if(Q)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),Q=!0}}a.prototype._isBuffer=!0;function D(V,A,N){const Q=V[A];V[A]=V[N],V[N]=Q}a.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<A;N+=2)D(this,N,N+1);return this},a.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<A;N+=4)D(this,N,N+3),D(this,N+1,N+2);return this},a.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<A;N+=8)D(this,N,N+7),D(this,N+1,N+6),D(this,N+2,N+5),D(this,N+3,N+4);return this},a.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?y(this,0,A):T.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(A){if(!a.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:a.compare(this,A)===0},a.prototype.inspect=function(){let A="";const N=t.INSPECT_MAX_BYTES;return A=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(A+=" ... "),"<Buffer "+A+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(A,N,Q,Z,X){if(At(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),!a.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(N===void 0&&(N=0),Q===void 0&&(Q=A?A.length:0),Z===void 0&&(Z=0),X===void 0&&(X=this.length),N<0||Q>A.length||Z<0||X>this.length)throw new RangeError("out of range index");if(Z>=X&&N>=Q)return 0;if(Z>=X)return-1;if(N>=Q)return 1;if(N>>>=0,Q>>>=0,Z>>>=0,X>>>=0,this===A)return 0;let ne=X-Z,tt=Q-N;const qe=Math.min(ne,tt),Ke=this.slice(Z,X),Ft=A.slice(N,Q);for(let Be=0;Be<qe;++Be)if(Ke[Be]!==Ft[Be]){ne=Ke[Be],tt=Ft[Be];break}return ne<tt?-1:tt<ne?1:0};function F(V,A,N,Q,Z){if(V.length===0)return-1;if(typeof N=="string"?(Q=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,Tt(N)&&(N=Z?0:V.length-1),N<0&&(N=V.length+N),N>=V.length){if(Z)return-1;N=V.length-1}else if(N<0)if(Z)N=0;else return-1;if(typeof A=="string"&&(A=a.from(A,Q)),a.isBuffer(A))return A.length===0?-1:R(V,A,N,Q,Z);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(V,A,N):Uint8Array.prototype.lastIndexOf.call(V,A,N):R(V,[A],N,Q,Z);throw new TypeError("val must be string, number or Buffer")}function R(V,A,N,Q,Z){let X=1,ne=V.length,tt=A.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(V.length<2||A.length<2)return-1;X=2,ne/=2,tt/=2,N/=2}function qe(Ft,Be){return X===1?Ft[Be]:Ft.readUInt16BE(Be*X)}let Ke;if(Z){let Ft=-1;for(Ke=N;Ke<ne;Ke++)if(qe(V,Ke)===qe(A,Ft===-1?0:Ke-Ft)){if(Ft===-1&&(Ft=Ke),Ke-Ft+1===tt)return Ft*X}else Ft!==-1&&(Ke-=Ke-Ft),Ft=-1}else for(N+tt>ne&&(N=ne-tt),Ke=N;Ke>=0;Ke--){let Ft=!0;for(let Be=0;Be<tt;Be++)if(qe(V,Ke+Be)!==qe(A,Be)){Ft=!1;break}if(Ft)return Ke}return-1}a.prototype.includes=function(A,N,Q){return this.indexOf(A,N,Q)!==-1},a.prototype.indexOf=function(A,N,Q){return F(this,A,N,Q,!0)},a.prototype.lastIndexOf=function(A,N,Q){return F(this,A,N,Q,!1)};function M(V,A,N,Q){N=Number(N)||0;const Z=V.length-N;Q?(Q=Number(Q),Q>Z&&(Q=Z)):Q=Z;const X=A.length;Q>X/2&&(Q=X/2);let ne;for(ne=0;ne<Q;++ne){const tt=parseInt(A.substr(ne*2,2),16);if(Tt(tt))return ne;V[N+ne]=tt}return ne}function U(V,A,N,Q){return oe(at(A,V.length-N),V,N,Q)}function W(V,A,N,Q){return oe(Et(A),V,N,Q)}function $(V,A,N,Q){return oe(wt(A),V,N,Q)}function q(V,A,N,Q){return oe(ar(A,V.length-N),V,N,Q)}a.prototype.write=function(A,N,Q,Z){if(N===void 0)Z="utf8",Q=this.length,N=0;else if(Q===void 0&&typeof N=="string")Z=N,Q=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(Q)?(Q=Q>>>0,Z===void 0&&(Z="utf8")):(Z=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const X=this.length-N;if((Q===void 0||Q>X)&&(Q=X),A.length>0&&(Q<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");let ne=!1;for(;;)switch(Z){case"hex":return M(this,A,N,Q);case"utf8":case"utf-8":return U(this,A,N,Q);case"ascii":case"latin1":case"binary":return W(this,A,N,Q);case"base64":return $(this,A,N,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,A,N,Q);default:if(ne)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ne=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(V,A,N){return A===0&&N===V.length?e.fromByteArray(V):e.fromByteArray(V.slice(A,N))}function y(V,A,N){N=Math.min(V.length,N);const Q=[];let Z=A;for(;Z<N;){const X=V[Z];let ne=null,tt=X>239?4:X>223?3:X>191?2:1;if(Z+tt<=N){let qe,Ke,Ft,Be;switch(tt){case 1:X<128&&(ne=X);break;case 2:qe=V[Z+1],(qe&192)===128&&(Be=(X&31)<<6|qe&63,Be>127&&(ne=Be));break;case 3:qe=V[Z+1],Ke=V[Z+2],(qe&192)===128&&(Ke&192)===128&&(Be=(X&15)<<12|(qe&63)<<6|Ke&63,Be>2047&&(Be<55296||Be>57343)&&(ne=Be));break;case 4:qe=V[Z+1],Ke=V[Z+2],Ft=V[Z+3],(qe&192)===128&&(Ke&192)===128&&(Ft&192)===128&&(Be=(X&15)<<18|(qe&63)<<12|(Ke&63)<<6|Ft&63,Be>65535&&Be<1114112&&(ne=Be))}}ne===null?(ne=65533,tt=1):ne>65535&&(ne-=65536,Q.push(ne>>>10&1023|55296),ne=56320|ne&1023),Q.push(ne),Z+=tt}return O(Q)}const I=4096;function O(V){const A=V.length;if(A<=I)return String.fromCharCode.apply(String,V);let N="",Q=0;for(;Q<A;)N+=String.fromCharCode.apply(String,V.slice(Q,Q+=I));return N}function z(V,A,N){let Q="";N=Math.min(V.length,N);for(let Z=A;Z<N;++Z)Q+=String.fromCharCode(V[Z]&127);return Q}function L(V,A,N){let Q="";N=Math.min(V.length,N);for(let Z=A;Z<N;++Z)Q+=String.fromCharCode(V[Z]);return Q}function j(V,A,N){const Q=V.length;(!A||A<0)&&(A=0),(!N||N<0||N>Q)&&(N=Q);let Z="";for(let X=A;X<N;++X)Z+=Ct[V[X]];return Z}function H(V,A,N){const Q=V.slice(A,N);let Z="";for(let X=0;X<Q.length-1;X+=2)Z+=String.fromCharCode(Q[X]+Q[X+1]*256);return Z}a.prototype.slice=function(A,N){const Q=this.length;A=~~A,N=N===void 0?Q:~~N,A<0?(A+=Q,A<0&&(A=0)):A>Q&&(A=Q),N<0?(N+=Q,N<0&&(N=0)):N>Q&&(N=Q),N<A&&(N=A);const Z=this.subarray(A,N);return Object.setPrototypeOf(Z,a.prototype),Z};function B(V,A,N){if(V%1!==0||V<0)throw new RangeError("offset is not uint");if(V+A>N)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(A,N,Q){A=A>>>0,N=N>>>0,Q||B(A,N,this.length);let Z=this[A],X=1,ne=0;for(;++ne<N&&(X*=256);)Z+=this[A+ne]*X;return Z},a.prototype.readUintBE=a.prototype.readUIntBE=function(A,N,Q){A=A>>>0,N=N>>>0,Q||B(A,N,this.length);let Z=this[A+--N],X=1;for(;N>0&&(X*=256);)Z+=this[A+--N]*X;return Z},a.prototype.readUint8=a.prototype.readUInt8=function(A,N){return A=A>>>0,N||B(A,1,this.length),this[A]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(A,N){return A=A>>>0,N||B(A,2,this.length),this[A]|this[A+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(A,N){return A=A>>>0,N||B(A,2,this.length),this[A]<<8|this[A+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(A,N){return A=A>>>0,N||B(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(A,N){return A=A>>>0,N||B(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},a.prototype.readBigUInt64LE=Fn(function(A){A=A>>>0,He(A,"offset");const N=this[A],Q=this[A+7];(N===void 0||Q===void 0)&&Re(A,this.length-8);const Z=N+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,X=this[++A]+this[++A]*2**8+this[++A]*2**16+Q*2**24;return BigInt(Z)+(BigInt(X)<<BigInt(32))}),a.prototype.readBigUInt64BE=Fn(function(A){A=A>>>0,He(A,"offset");const N=this[A],Q=this[A+7];(N===void 0||Q===void 0)&&Re(A,this.length-8);const Z=N*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],X=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+Q;return(BigInt(Z)<<BigInt(32))+BigInt(X)}),a.prototype.readIntLE=function(A,N,Q){A=A>>>0,N=N>>>0,Q||B(A,N,this.length);let Z=this[A],X=1,ne=0;for(;++ne<N&&(X*=256);)Z+=this[A+ne]*X;return X*=128,Z>=X&&(Z-=Math.pow(2,8*N)),Z},a.prototype.readIntBE=function(A,N,Q){A=A>>>0,N=N>>>0,Q||B(A,N,this.length);let Z=N,X=1,ne=this[A+--Z];for(;Z>0&&(X*=256);)ne+=this[A+--Z]*X;return X*=128,ne>=X&&(ne-=Math.pow(2,8*N)),ne},a.prototype.readInt8=function(A,N){return A=A>>>0,N||B(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},a.prototype.readInt16LE=function(A,N){A=A>>>0,N||B(A,2,this.length);const Q=this[A]|this[A+1]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt16BE=function(A,N){A=A>>>0,N||B(A,2,this.length);const Q=this[A+1]|this[A]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt32LE=function(A,N){return A=A>>>0,N||B(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},a.prototype.readInt32BE=function(A,N){return A=A>>>0,N||B(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},a.prototype.readBigInt64LE=Fn(function(A){A=A>>>0,He(A,"offset");const N=this[A],Q=this[A+7];(N===void 0||Q===void 0)&&Re(A,this.length-8);const Z=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(Q<<24);return(BigInt(Z)<<BigInt(32))+BigInt(N+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),a.prototype.readBigInt64BE=Fn(function(A){A=A>>>0,He(A,"offset");const N=this[A],Q=this[A+7];(N===void 0||Q===void 0)&&Re(A,this.length-8);const Z=(N<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(Z)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+Q)}),a.prototype.readFloatLE=function(A,N){return A=A>>>0,N||B(A,4,this.length),n.read(this,A,!0,23,4)},a.prototype.readFloatBE=function(A,N){return A=A>>>0,N||B(A,4,this.length),n.read(this,A,!1,23,4)},a.prototype.readDoubleLE=function(A,N){return A=A>>>0,N||B(A,8,this.length),n.read(this,A,!0,52,8)},a.prototype.readDoubleBE=function(A,N){return A=A>>>0,N||B(A,8,this.length),n.read(this,A,!1,52,8)};function S(V,A,N,Q,Z,X){if(!a.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>Z||A<X)throw new RangeError('"value" argument is out of bounds');if(N+Q>V.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(A,N,Q,Z){if(A=+A,N=N>>>0,Q=Q>>>0,!Z){const tt=Math.pow(2,8*Q)-1;S(this,A,N,Q,tt,0)}let X=1,ne=0;for(this[N]=A&255;++ne<Q&&(X*=256);)this[N+ne]=A/X&255;return N+Q},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(A,N,Q,Z){if(A=+A,N=N>>>0,Q=Q>>>0,!Z){const tt=Math.pow(2,8*Q)-1;S(this,A,N,Q,tt,0)}let X=Q-1,ne=1;for(this[N+X]=A&255;--X>=0&&(ne*=256);)this[N+X]=A/ne&255;return N+Q},a.prototype.writeUint8=a.prototype.writeUInt8=function(A,N,Q){return A=+A,N=N>>>0,Q||S(this,A,N,1,255,0),this[N]=A&255,N+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(A,N,Q){return A=+A,N=N>>>0,Q||S(this,A,N,2,65535,0),this[N]=A&255,this[N+1]=A>>>8,N+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(A,N,Q){return A=+A,N=N>>>0,Q||S(this,A,N,2,65535,0),this[N]=A>>>8,this[N+1]=A&255,N+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(A,N,Q){return A=+A,N=N>>>0,Q||S(this,A,N,4,4294967295,0),this[N+3]=A>>>24,this[N+2]=A>>>16,this[N+1]=A>>>8,this[N]=A&255,N+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(A,N,Q){return A=+A,N=N>>>0,Q||S(this,A,N,4,4294967295,0),this[N]=A>>>24,this[N+1]=A>>>16,this[N+2]=A>>>8,this[N+3]=A&255,N+4};function K(V,A,N,Q,Z){_e(A,Q,Z,V,N,7);let X=Number(A&BigInt(4294967295));V[N++]=X,X=X>>8,V[N++]=X,X=X>>8,V[N++]=X,X=X>>8,V[N++]=X;let ne=Number(A>>BigInt(32)&BigInt(4294967295));return V[N++]=ne,ne=ne>>8,V[N++]=ne,ne=ne>>8,V[N++]=ne,ne=ne>>8,V[N++]=ne,N}function ae(V,A,N,Q,Z){_e(A,Q,Z,V,N,7);let X=Number(A&BigInt(4294967295));V[N+7]=X,X=X>>8,V[N+6]=X,X=X>>8,V[N+5]=X,X=X>>8,V[N+4]=X;let ne=Number(A>>BigInt(32)&BigInt(4294967295));return V[N+3]=ne,ne=ne>>8,V[N+2]=ne,ne=ne>>8,V[N+1]=ne,ne=ne>>8,V[N]=ne,N+8}a.prototype.writeBigUInt64LE=Fn(function(A,N=0){return K(this,A,N,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Fn(function(A,N=0){return ae(this,A,N,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(A,N,Q,Z){if(A=+A,N=N>>>0,!Z){const qe=Math.pow(2,8*Q-1);S(this,A,N,Q,qe-1,-qe)}let X=0,ne=1,tt=0;for(this[N]=A&255;++X<Q&&(ne*=256);)A<0&&tt===0&&this[N+X-1]!==0&&(tt=1),this[N+X]=(A/ne>>0)-tt&255;return N+Q},a.prototype.writeIntBE=function(A,N,Q,Z){if(A=+A,N=N>>>0,!Z){const qe=Math.pow(2,8*Q-1);S(this,A,N,Q,qe-1,-qe)}let X=Q-1,ne=1,tt=0;for(this[N+X]=A&255;--X>=0&&(ne*=256);)A<0&&tt===0&&this[N+X+1]!==0&&(tt=1),this[N+X]=(A/ne>>0)-tt&255;return N+Q},a.prototype.writeInt8=function(A,N,Q){return A=+A,N=N>>>0,Q||S(this,A,N,1,127,-128),A<0&&(A=255+A+1),this[N]=A&255,N+1},a.prototype.writeInt16LE=function(A,N,Q){return A=+A,N=N>>>0,Q||S(this,A,N,2,32767,-32768),this[N]=A&255,this[N+1]=A>>>8,N+2},a.prototype.writeInt16BE=function(A,N,Q){return A=+A,N=N>>>0,Q||S(this,A,N,2,32767,-32768),this[N]=A>>>8,this[N+1]=A&255,N+2},a.prototype.writeInt32LE=function(A,N,Q){return A=+A,N=N>>>0,Q||S(this,A,N,4,2147483647,-2147483648),this[N]=A&255,this[N+1]=A>>>8,this[N+2]=A>>>16,this[N+3]=A>>>24,N+4},a.prototype.writeInt32BE=function(A,N,Q){return A=+A,N=N>>>0,Q||S(this,A,N,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[N]=A>>>24,this[N+1]=A>>>16,this[N+2]=A>>>8,this[N+3]=A&255,N+4},a.prototype.writeBigInt64LE=Fn(function(A,N=0){return K(this,A,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Fn(function(A,N=0){return ae(this,A,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ue(V,A,N,Q,Z,X){if(N+Q>V.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function he(V,A,N,Q,Z){return A=+A,N=N>>>0,Z||ue(V,A,N,4),n.write(V,A,N,Q,23,4),N+4}a.prototype.writeFloatLE=function(A,N,Q){return he(this,A,N,!0,Q)},a.prototype.writeFloatBE=function(A,N,Q){return he(this,A,N,!1,Q)};function le(V,A,N,Q,Z){return A=+A,N=N>>>0,Z||ue(V,A,N,8),n.write(V,A,N,Q,52,8),N+8}a.prototype.writeDoubleLE=function(A,N,Q){return le(this,A,N,!0,Q)},a.prototype.writeDoubleBE=function(A,N,Q){return le(this,A,N,!1,Q)},a.prototype.copy=function(A,N,Q,Z){if(!a.isBuffer(A))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!Z&&Z!==0&&(Z=this.length),N>=A.length&&(N=A.length),N||(N=0),Z>0&&Z<Q&&(Z=Q),Z===Q||A.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),A.length-N<Z-Q&&(Z=A.length-N+Q);const X=Z-Q;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,Q,Z):Uint8Array.prototype.set.call(A,this.subarray(Q,Z),N),X},a.prototype.fill=function(A,N,Q,Z){if(typeof A=="string"){if(typeof N=="string"?(Z=N,N=0,Q=this.length):typeof Q=="string"&&(Z=Q,Q=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!a.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(A.length===1){const ne=A.charCodeAt(0);(Z==="utf8"&&ne<128||Z==="latin1")&&(A=ne)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(N<0||this.length<N||this.length<Q)throw new RangeError("Out of range index");if(Q<=N)return this;N=N>>>0,Q=Q===void 0?this.length:Q>>>0,A||(A=0);let X;if(typeof A=="number")for(X=N;X<Q;++X)this[X]=A;else{const ne=a.isBuffer(A)?A:a.from(A,Z),tt=ne.length;if(tt===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(X=0;X<Q-N;++X)this[X+N]=ne[X%tt]}return this};const ye={};function Te(V,A,N){ye[V]=class extends N{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${V}]`,this.stack,delete this.name}get code(){return V}set code(Z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Z,writable:!0})}toString(){return`${this.name} [${V}]: ${this.message}`}}}Te("ERR_BUFFER_OUT_OF_BOUNDS",function(V){return V?`${V} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Te("ERR_INVALID_ARG_TYPE",function(V,A){return`The "${V}" argument must be of type number. Received type ${typeof A}`},TypeError),Te("ERR_OUT_OF_RANGE",function(V,A,N){let Q=`The value of "${V}" is out of range.`,Z=N;return Number.isInteger(N)&&Math.abs(N)>2**32?Z=Me(String(N)):typeof N=="bigint"&&(Z=String(N),(N>BigInt(2)**BigInt(32)||N<-(BigInt(2)**BigInt(32)))&&(Z=Me(Z)),Z+="n"),Q+=` It must be ${A}. Received ${Z}`,Q},RangeError);function Me(V){let A="",N=V.length;const Q=V[0]==="-"?1:0;for(;N>=Q+4;N-=3)A=`_${V.slice(N-3,N)}${A}`;return`${V.slice(0,N)}${A}`}function Ee(V,A,N){He(A,"offset"),(V[A]===void 0||V[A+N]===void 0)&&Re(A,V.length-(N+1))}function _e(V,A,N,Q,Z,X){if(V>N||V<A){const ne=typeof A=="bigint"?"n":"";let tt;throw A===0||A===BigInt(0)?tt=`>= 0${ne} and < 2${ne} ** ${(X+1)*8}${ne}`:tt=`>= -(2${ne} ** ${(X+1)*8-1}${ne}) and < 2 ** ${(X+1)*8-1}${ne}`,new ye.ERR_OUT_OF_RANGE("value",tt,V)}Ee(Q,Z,X)}function He(V,A){if(typeof V!="number")throw new ye.ERR_INVALID_ARG_TYPE(A,"number",V)}function Re(V,A,N){throw Math.floor(V)!==V?(He(V,N),new ye.ERR_OUT_OF_RANGE("offset","an integer",V)):A<0?new ye.ERR_BUFFER_OUT_OF_BOUNDS:new ye.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${A}`,V)}const Ge=/[^+/0-9A-Za-z-_]/g;function Wt(V){if(V=V.split("=")[0],V=V.trim().replace(Ge,""),V.length<2)return"";for(;V.length%4!==0;)V=V+"=";return V}function at(V,A){A=A||1/0;let N;const Q=V.length;let Z=null;const X=[];for(let ne=0;ne<Q;++ne){if(N=V.charCodeAt(ne),N>55295&&N<57344){if(!Z){if(N>56319){(A-=3)>-1&&X.push(239,191,189);continue}else if(ne+1===Q){(A-=3)>-1&&X.push(239,191,189);continue}Z=N;continue}if(N<56320){(A-=3)>-1&&X.push(239,191,189),Z=N;continue}N=(Z-55296<<10|N-56320)+65536}else Z&&(A-=3)>-1&&X.push(239,191,189);if(Z=null,N<128){if((A-=1)<0)break;X.push(N)}else if(N<2048){if((A-=2)<0)break;X.push(N>>6|192,N&63|128)}else if(N<65536){if((A-=3)<0)break;X.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((A-=4)<0)break;X.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return X}function Et(V){const A=[];for(let N=0;N<V.length;++N)A.push(V.charCodeAt(N)&255);return A}function ar(V,A){let N,Q,Z;const X=[];for(let ne=0;ne<V.length&&!((A-=2)<0);++ne)N=V.charCodeAt(ne),Q=N>>8,Z=N%256,X.push(Z),X.push(Q);return X}function wt(V){return e.toByteArray(Wt(V))}function oe(V,A,N,Q){let Z;for(Z=0;Z<Q&&!(Z+N>=A.length||Z>=V.length);++Z)A[Z+N]=V[Z];return Z}function At(V,A){return V instanceof A||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===A.name}function Tt(V){return V!==V}const Ct=function(){const V="0123456789abcdef",A=new Array(256);for(let N=0;N<16;++N){const Q=N*16;for(let Z=0;Z<16;++Z)A[Q+Z]=V[N]+V[Z]}return A}();function Fn(V){return typeof BigInt>"u"?ot:V}function ot(){throw new Error("BigInt not supported")}})(Je);globalThis.Buffer=Je.Buffer;globalThis.process={env:{},browser:!0,nextTick:t=>Promise.resolve().then(()=>t())};try{globalThis.crypto=globalThis.crypto||window.crypto}catch{}globalThis.stream={Readable:class{},Writable:class{},Transform:class{}};var yR={exports:{}},Bs={},wR={exports:{}},vR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,j){var H=L.length;L.push(j);e:for(;0<H;){var B=H-1>>>1,S=L[B];if(0<s(S,j))L[B]=j,L[H]=S,H=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var j=L[0],H=L.pop();if(H!==j){L[0]=H;e:for(var B=0,S=L.length,K=S>>>1;B<K;){var ae=2*(B+1)-1,ue=L[ae],he=ae+1,le=L[he];if(0>s(ue,H))he<S&&0>s(le,ue)?(L[B]=le,L[he]=H,B=he):(L[B]=ue,L[ae]=H,B=ae);else if(he<S&&0>s(le,H))L[B]=le,L[he]=H,B=he;else break e}}return j}function s(L,j){var H=L.sortIndex-j.sortIndex;return H!==0?H:L.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=L)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function T(L){if(g=!1,x(L),!v)if(n(l)!==null)v=!0,O(D);else{var j=n(c);j!==null&&z(T,j.startTime-L)}}function D(L,j){v=!1,g&&(g=!1,_(M),M=-1),m=!0;var H=p;try{for(x(j),f=n(l);f!==null&&(!(f.expirationTime>j)||L&&!$());){var B=f.callback;if(typeof B=="function"){f.callback=null,p=f.priorityLevel;var S=B(f.expirationTime<=j);j=t.unstable_now(),typeof S=="function"?f.callback=S:f===n(l)&&r(l),x(j)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var ae=n(c);ae!==null&&z(T,ae.startTime-j),K=!1}return K}finally{f=null,p=H,m=!1}}var F=!1,R=null,M=-1,U=5,W=-1;function $(){return!(t.unstable_now()-W<U)}function q(){if(R!==null){var L=t.unstable_now();W=L;var j=!0;try{j=R(!0,L)}finally{j?C():(F=!1,R=null)}}else F=!1}var C;if(typeof b=="function")C=function(){b(q)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,I=y.port2;y.port1.onmessage=q,C=function(){I.postMessage(null)}}else C=function(){w(q,0)};function O(L){R=L,F||(F=!0,C())}function z(L,j){M=w(function(){L(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,O(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var H=p;p=j;try{return L()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=p;p=L;try{return j()}finally{p=H}},t.unstable_scheduleCallback=function(L,j,H){var B=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?B+H:B):H=B,L){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=H+S,L={id:u++,callback:j,priorityLevel:L,startTime:H,expirationTime:S,sortIndex:-1},H>B?(L.sortIndex=H,e(c,L),n(l)===null&&L===n(c)&&(g?(_(M),M=-1):g=!0,z(T,H-B))):(L.sortIndex=S,e(l,L),v||m||(v=!0,O(D))),L},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(L){var j=p;return function(){var H=p;p=j;try{return L.apply(this,arguments)}finally{p=H}}}})(vR);wR.exports=vR;var _F=wR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bF=k,js=_F;function me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xR=new Set,sp={};function Xc(t,e){zd(t,e),zd(t+"Capture",e)}function zd(t,e){for(sp[t]=e,t=0;t<e.length;t++)xR.add(e[t])}var Wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n_=Object.prototype.hasOwnProperty,EF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GA={},QA={};function SF(t){return n_.call(QA,t)?!0:n_.call(GA,t)?!1:EF.test(t)?QA[t]=!0:(GA[t]=!0,!1)}function TF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IF(t,e,n,r){if(e===null||typeof e>"u"||TF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function as(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Er[t]=new as(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Er[e]=new as(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Er[t]=new as(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Er[t]=new as(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Er[t]=new as(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Er[t]=new as(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Er[t]=new as(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Er[t]=new as(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Er[t]=new as(t,5,!1,t.toLowerCase(),null,!1,!1)});var XE=/[\-:]([a-z])/g;function JE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(XE,JE);Er[e]=new as(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(XE,JE);Er[e]=new as(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(XE,JE);Er[e]=new as(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Er[t]=new as(t,1,!1,t.toLowerCase(),null,!1,!1)});Er.xlinkHref=new as("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Er[t]=new as(t,1,!1,t.toLowerCase(),null,!0,!0)});function eS(t,e,n,r){var s=Er.hasOwnProperty(e)?Er[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IF(e,n,s,r)&&(n=null),r||s===null?SF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var aa=bF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ng=Symbol.for("react.element"),qu=Symbol.for("react.portal"),Ku=Symbol.for("react.fragment"),tS=Symbol.for("react.strict_mode"),r_=Symbol.for("react.profiler"),_R=Symbol.for("react.provider"),bR=Symbol.for("react.context"),nS=Symbol.for("react.forward_ref"),s_=Symbol.for("react.suspense"),i_=Symbol.for("react.suspense_list"),rS=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),ER=Symbol.for("react.offscreen"),YA=Symbol.iterator;function Zh(t){return t===null||typeof t!="object"?null:(t=YA&&t[YA]||t["@@iterator"],typeof t=="function"?t:null)}var Sn=Object.assign,f1;function gf(t){if(f1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);f1=e&&e[1]||""}return`
`+f1+t}var p1=!1;function m1(t,e){if(!t||p1)return"";p1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{p1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gf(t):""}function AF(t){switch(t.tag){case 5:return gf(t.type);case 16:return gf("Lazy");case 13:return gf("Suspense");case 19:return gf("SuspenseList");case 0:case 2:case 15:return t=m1(t.type,!1),t;case 11:return t=m1(t.type.render,!1),t;case 1:return t=m1(t.type,!0),t;default:return""}}function o_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ku:return"Fragment";case qu:return"Portal";case r_:return"Profiler";case tS:return"StrictMode";case s_:return"Suspense";case i_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bR:return(t.displayName||"Context")+".Consumer";case _R:return(t._context.displayName||"Context")+".Provider";case nS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rS:return e=t.displayName||null,e!==null?e:o_(t.type)||"Memo";case Ia:e=t._payload,t=t._init;try{return o_(t(e))}catch{}}return null}function CF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return o_(e);case 8:return e===tS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NF(t){var e=SR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rg(t){t._valueTracker||(t._valueTracker=NF(t))}function TR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=SR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function G0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function a_(t,e){var n=e.checked;return Sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ZA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IR(t,e){e=e.checked,e!=null&&eS(t,"checked",e,!1)}function l_(t,e){IR(t,e);var n=wl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?c_(t,e.type,n):e.hasOwnProperty("defaultValue")&&c_(t,e.type,wl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function XA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function c_(t,e,n){(e!=="number"||G0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yf=Array.isArray;function ud(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wl(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function u_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(me(91));return Sn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function JA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(me(92));if(yf(n)){if(1<n.length)throw Error(me(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wl(n)}}function AR(t,e){var n=wl(e.value),r=wl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function eC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function CR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function d_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?CR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sg,NR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sg=sg||document.createElement("div"),sg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ip(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kF=["Webkit","ms","Moz","O"];Object.keys(Bf).forEach(function(t){kF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bf[e]=Bf[t]})});function kR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bf.hasOwnProperty(t)&&Bf[t]?(""+e).trim():e+"px"}function MR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var MF=Sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h_(t,e){if(e){if(MF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(me(62))}}function f_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p_=null;function sS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var m_=null,dd=null,hd=null;function tC(t){if(t=tm(t)){if(typeof m_!="function")throw Error(me(280));var e=t.stateNode;e&&(e=Cw(e),m_(t.stateNode,t.type,e))}}function RR(t){dd?hd?hd.push(t):hd=[t]:dd=t}function PR(){if(dd){var t=dd,e=hd;if(hd=dd=null,tC(t),e)for(t=0;t<e.length;t++)tC(e[t])}}function OR(t,e){return t(e)}function LR(){}var g1=!1;function DR(t,e,n){if(g1)return t(e,n);g1=!0;try{return OR(t,e,n)}finally{g1=!1,(dd!==null||hd!==null)&&(LR(),PR())}}function op(t,e){var n=t.stateNode;if(n===null)return null;var r=Cw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(me(231,e,typeof n));return n}var g_=!1;if(Wo)try{var Xh={};Object.defineProperty(Xh,"passive",{get:function(){g_=!0}}),window.addEventListener("test",Xh,Xh),window.removeEventListener("test",Xh,Xh)}catch{g_=!1}function RF(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ff=!1,Q0=null,Y0=!1,y_=null,PF={onError:function(t){Ff=!0,Q0=t}};function OF(t,e,n,r,s,i,o,a,l){Ff=!1,Q0=null,RF.apply(PF,arguments)}function LF(t,e,n,r,s,i,o,a,l){if(OF.apply(this,arguments),Ff){if(Ff){var c=Q0;Ff=!1,Q0=null}else throw Error(me(198));Y0||(Y0=!0,y_=c)}}function Jc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nC(t){if(Jc(t)!==t)throw Error(me(188))}function DF(t){var e=t.alternate;if(!e){if(e=Jc(t),e===null)throw Error(me(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return nC(s),t;if(i===r)return nC(s),e;i=i.sibling}throw Error(me(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(me(189))}}if(n.alternate!==r)throw Error(me(190))}if(n.tag!==3)throw Error(me(188));return n.stateNode.current===n?t:e}function BR(t){return t=DF(t),t!==null?FR(t):null}function FR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FR(t);if(e!==null)return e;t=t.sibling}return null}var UR=js.unstable_scheduleCallback,rC=js.unstable_cancelCallback,jF=js.unstable_shouldYield,BF=js.unstable_requestPaint,jn=js.unstable_now,FF=js.unstable_getCurrentPriorityLevel,iS=js.unstable_ImmediatePriority,VR=js.unstable_UserBlockingPriority,Z0=js.unstable_NormalPriority,UF=js.unstable_LowPriority,zR=js.unstable_IdlePriority,Sw=null,zi=null;function VF(t){if(zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(Sw,t,void 0,(t.current.flags&128)===128)}catch{}}var wi=Math.clz32?Math.clz32:$F,zF=Math.log,WF=Math.LN2;function $F(t){return t>>>=0,t===0?32:31-(zF(t)/WF|0)|0}var ig=64,og=4194304;function wf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function X0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=wf(a):(i&=o,i!==0&&(r=wf(i)))}else o=n&~s,o!==0?r=wf(o):i!==0&&(r=wf(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wi(e),s=1<<n,r|=t[n],e&=~s;return r}function HF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-wi(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=HF(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function w_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WR(){var t=ig;return ig<<=1,!(ig&4194240)&&(ig=64),t}function y1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wi(e),t[e]=n}function KF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-wi(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function oS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wi(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Rt=0;function $R(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HR,aS,qR,KR,GR,v_=!1,ag=[],nl=null,rl=null,sl=null,ap=new Map,lp=new Map,ka=[],GF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sC(t,e){switch(t){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":ap.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lp.delete(e.pointerId)}}function Jh(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=tm(e),e!==null&&aS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function QF(t,e,n,r,s){switch(e){case"focusin":return nl=Jh(nl,t,e,n,r,s),!0;case"dragenter":return rl=Jh(rl,t,e,n,r,s),!0;case"mouseover":return sl=Jh(sl,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ap.set(i,Jh(ap.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,lp.set(i,Jh(lp.get(i)||null,t,e,n,r,s)),!0}return!1}function QR(t){var e=sc(t.target);if(e!==null){var n=Jc(e);if(n!==null){if(e=n.tag,e===13){if(e=jR(n),e!==null){t.blockedOn=e,GR(t.priority,function(){qR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=x_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);p_=r,n.target.dispatchEvent(r),p_=null}else return e=tm(n),e!==null&&aS(e),t.blockedOn=n,!1;e.shift()}return!0}function iC(t,e,n){Qg(t)&&n.delete(e)}function YF(){v_=!1,nl!==null&&Qg(nl)&&(nl=null),rl!==null&&Qg(rl)&&(rl=null),sl!==null&&Qg(sl)&&(sl=null),ap.forEach(iC),lp.forEach(iC)}function ef(t,e){t.blockedOn===e&&(t.blockedOn=null,v_||(v_=!0,js.unstable_scheduleCallback(js.unstable_NormalPriority,YF)))}function cp(t){function e(s){return ef(s,t)}if(0<ag.length){ef(ag[0],t);for(var n=1;n<ag.length;n++){var r=ag[n];r.blockedOn===t&&(r.blockedOn=null)}}for(nl!==null&&ef(nl,t),rl!==null&&ef(rl,t),sl!==null&&ef(sl,t),ap.forEach(e),lp.forEach(e),n=0;n<ka.length;n++)r=ka[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ka.length&&(n=ka[0],n.blockedOn===null);)QR(n),n.blockedOn===null&&ka.shift()}var fd=aa.ReactCurrentBatchConfig,J0=!0;function ZF(t,e,n,r){var s=Rt,i=fd.transition;fd.transition=null;try{Rt=1,lS(t,e,n,r)}finally{Rt=s,fd.transition=i}}function XF(t,e,n,r){var s=Rt,i=fd.transition;fd.transition=null;try{Rt=4,lS(t,e,n,r)}finally{Rt=s,fd.transition=i}}function lS(t,e,n,r){if(J0){var s=x_(t,e,n,r);if(s===null)A1(t,e,r,ey,n),sC(t,r);else if(QF(s,t,e,n,r))r.stopPropagation();else if(sC(t,r),e&4&&-1<GF.indexOf(t)){for(;s!==null;){var i=tm(s);if(i!==null&&HR(i),i=x_(t,e,n,r),i===null&&A1(t,e,r,ey,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else A1(t,e,r,null,n)}}var ey=null;function x_(t,e,n,r){if(ey=null,t=sS(r),t=sc(t),t!==null)if(e=Jc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ey=t,null}function YR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FF()){case iS:return 1;case VR:return 4;case Z0:case UF:return 16;case zR:return 536870912;default:return 16}default:return 16}}var Ga=null,cS=null,Yg=null;function ZR(){if(Yg)return Yg;var t,e=cS,n=e.length,r,s="value"in Ga?Ga.value:Ga.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Yg=s.slice(t,1<r?1-r:void 0)}function Zg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lg(){return!0}function oC(){return!1}function Fs(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?lg:oC,this.isPropagationStopped=oC,this}return Sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lg)},persist:function(){},isPersistent:lg}),e}var wh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uS=Fs(wh),em=Sn({},wh,{view:0,detail:0}),JF=Fs(em),w1,v1,tf,Tw=Sn({},em,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tf&&(tf&&t.type==="mousemove"?(w1=t.screenX-tf.screenX,v1=t.screenY-tf.screenY):v1=w1=0,tf=t),w1)},movementY:function(t){return"movementY"in t?t.movementY:v1}}),aC=Fs(Tw),eU=Sn({},Tw,{dataTransfer:0}),tU=Fs(eU),nU=Sn({},em,{relatedTarget:0}),x1=Fs(nU),rU=Sn({},wh,{animationName:0,elapsedTime:0,pseudoElement:0}),sU=Fs(rU),iU=Sn({},wh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oU=Fs(iU),aU=Sn({},wh,{data:0}),lC=Fs(aU),lU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uU[t])?!!e[t]:!1}function dS(){return dU}var hU=Sn({},em,{key:function(t){if(t.key){var e=lU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dS,charCode:function(t){return t.type==="keypress"?Zg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fU=Fs(hU),pU=Sn({},Tw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cC=Fs(pU),mU=Sn({},em,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dS}),gU=Fs(mU),yU=Sn({},wh,{propertyName:0,elapsedTime:0,pseudoElement:0}),wU=Fs(yU),vU=Sn({},Tw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xU=Fs(vU),_U=[9,13,27,32],hS=Wo&&"CompositionEvent"in window,Uf=null;Wo&&"documentMode"in document&&(Uf=document.documentMode);var bU=Wo&&"TextEvent"in window&&!Uf,XR=Wo&&(!hS||Uf&&8<Uf&&11>=Uf),uC=" ",dC=!1;function JR(t,e){switch(t){case"keyup":return _U.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gu=!1;function EU(t,e){switch(t){case"compositionend":return eP(e);case"keypress":return e.which!==32?null:(dC=!0,uC);case"textInput":return t=e.data,t===uC&&dC?null:t;default:return null}}function SU(t,e){if(Gu)return t==="compositionend"||!hS&&JR(t,e)?(t=ZR(),Yg=cS=Ga=null,Gu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XR&&e.locale!=="ko"?null:e.data;default:return null}}var TU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TU[t.type]:e==="textarea"}function tP(t,e,n,r){RR(r),e=ty(e,"onChange"),0<e.length&&(n=new uS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vf=null,up=null;function IU(t){hP(t,0)}function Iw(t){var e=Zu(t);if(TR(e))return t}function AU(t,e){if(t==="change")return e}var nP=!1;if(Wo){var _1;if(Wo){var b1="oninput"in document;if(!b1){var fC=document.createElement("div");fC.setAttribute("oninput","return;"),b1=typeof fC.oninput=="function"}_1=b1}else _1=!1;nP=_1&&(!document.documentMode||9<document.documentMode)}function pC(){Vf&&(Vf.detachEvent("onpropertychange",rP),up=Vf=null)}function rP(t){if(t.propertyName==="value"&&Iw(up)){var e=[];tP(e,up,t,sS(t)),DR(IU,e)}}function CU(t,e,n){t==="focusin"?(pC(),Vf=e,up=n,Vf.attachEvent("onpropertychange",rP)):t==="focusout"&&pC()}function NU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iw(up)}function kU(t,e){if(t==="click")return Iw(e)}function MU(t,e){if(t==="input"||t==="change")return Iw(e)}function RU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bi=typeof Object.is=="function"?Object.is:RU;function dp(t,e){if(bi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!n_.call(e,s)||!bi(t[s],e[s]))return!1}return!0}function mC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gC(t,e){var n=mC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mC(n)}}function sP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iP(){for(var t=window,e=G0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=G0(t.document)}return e}function fS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PU(t){var e=iP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sP(n.ownerDocument.documentElement,n)){if(r!==null&&fS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=gC(n,i);var o=gC(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OU=Wo&&"documentMode"in document&&11>=document.documentMode,Qu=null,__=null,zf=null,b_=!1;function yC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;b_||Qu==null||Qu!==G0(r)||(r=Qu,"selectionStart"in r&&fS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zf&&dp(zf,r)||(zf=r,r=ty(__,"onSelect"),0<r.length&&(e=new uS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qu)))}function cg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yu={animationend:cg("Animation","AnimationEnd"),animationiteration:cg("Animation","AnimationIteration"),animationstart:cg("Animation","AnimationStart"),transitionend:cg("Transition","TransitionEnd")},E1={},oP={};Wo&&(oP=document.createElement("div").style,"AnimationEvent"in window||(delete Yu.animationend.animation,delete Yu.animationiteration.animation,delete Yu.animationstart.animation),"TransitionEvent"in window||delete Yu.transitionend.transition);function Aw(t){if(E1[t])return E1[t];if(!Yu[t])return t;var e=Yu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oP)return E1[t]=e[n];return t}var aP=Aw("animationend"),lP=Aw("animationiteration"),cP=Aw("animationstart"),uP=Aw("transitionend"),dP=new Map,wC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nl(t,e){dP.set(t,e),Xc(e,[t])}for(var S1=0;S1<wC.length;S1++){var T1=wC[S1],LU=T1.toLowerCase(),DU=T1[0].toUpperCase()+T1.slice(1);Nl(LU,"on"+DU)}Nl(aP,"onAnimationEnd");Nl(lP,"onAnimationIteration");Nl(cP,"onAnimationStart");Nl("dblclick","onDoubleClick");Nl("focusin","onFocus");Nl("focusout","onBlur");Nl(uP,"onTransitionEnd");zd("onMouseEnter",["mouseout","mouseover"]);zd("onMouseLeave",["mouseout","mouseover"]);zd("onPointerEnter",["pointerout","pointerover"]);zd("onPointerLeave",["pointerout","pointerover"]);Xc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jU=new Set("cancel close invalid load scroll toggle".split(" ").concat(vf));function vC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LF(r,e,void 0,t),t.currentTarget=null}function hP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;vC(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;vC(s,a,c),i=l}}}if(Y0)throw t=y_,Y0=!1,y_=null,t}function nn(t,e){var n=e[A_];n===void 0&&(n=e[A_]=new Set);var r=t+"__bubble";n.has(r)||(fP(e,t,2,!1),n.add(r))}function I1(t,e,n){var r=0;e&&(r|=4),fP(n,t,r,e)}var ug="_reactListening"+Math.random().toString(36).slice(2);function hp(t){if(!t[ug]){t[ug]=!0,xR.forEach(function(n){n!=="selectionchange"&&(jU.has(n)||I1(n,!1,t),I1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ug]||(e[ug]=!0,I1("selectionchange",!1,e))}}function fP(t,e,n,r){switch(YR(e)){case 1:var s=ZF;break;case 4:s=XF;break;default:s=lS}n=s.bind(null,e,n,t),s=void 0,!g_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function A1(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=sc(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}DR(function(){var c=i,u=sS(n),f=[];e:{var p=dP.get(t);if(p!==void 0){var m=uS,v=t;switch(t){case"keypress":if(Zg(n)===0)break e;case"keydown":case"keyup":m=fU;break;case"focusin":v="focus",m=x1;break;case"focusout":v="blur",m=x1;break;case"beforeblur":case"afterblur":m=x1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=aC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=tU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=gU;break;case aP:case lP:case cP:m=sU;break;case uP:m=wU;break;case"scroll":m=JF;break;case"wheel":m=xU;break;case"copy":case"cut":case"paste":m=oU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cC}var g=(e&4)!==0,w=!g&&t==="scroll",_=g?p!==null?p+"Capture":null:p;g=[];for(var b=c,x;b!==null;){x=b;var T=x.stateNode;if(x.tag===5&&T!==null&&(x=T,_!==null&&(T=op(b,_),T!=null&&g.push(fp(b,T,x)))),w)break;b=b.return}0<g.length&&(p=new m(p,v,null,n,u),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==p_&&(v=n.relatedTarget||n.fromElement)&&(sc(v)||v[$o]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?sc(v):null,v!==null&&(w=Jc(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(g=aC,T="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=cC,T="onPointerLeave",_="onPointerEnter",b="pointer"),w=m==null?p:Zu(m),x=v==null?p:Zu(v),p=new g(T,b+"leave",m,n,u),p.target=w,p.relatedTarget=x,T=null,sc(u)===c&&(g=new g(_,b+"enter",v,n,u),g.target=x,g.relatedTarget=w,T=g),w=T,m&&v)t:{for(g=m,_=v,b=0,x=g;x;x=Eu(x))b++;for(x=0,T=_;T;T=Eu(T))x++;for(;0<b-x;)g=Eu(g),b--;for(;0<x-b;)_=Eu(_),x--;for(;b--;){if(g===_||_!==null&&g===_.alternate)break t;g=Eu(g),_=Eu(_)}g=null}else g=null;m!==null&&xC(f,p,m,g,!1),v!==null&&w!==null&&xC(f,w,v,g,!0)}}e:{if(p=c?Zu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var D=AU;else if(hC(p))if(nP)D=MU;else{D=NU;var F=CU}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=kU);if(D&&(D=D(t,c))){tP(f,D,n,u);break e}F&&F(t,p,c),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&c_(p,"number",p.value)}switch(F=c?Zu(c):window,t){case"focusin":(hC(F)||F.contentEditable==="true")&&(Qu=F,__=c,zf=null);break;case"focusout":zf=__=Qu=null;break;case"mousedown":b_=!0;break;case"contextmenu":case"mouseup":case"dragend":b_=!1,yC(f,n,u);break;case"selectionchange":if(OU)break;case"keydown":case"keyup":yC(f,n,u)}var R;if(hS)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Gu?JR(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(XR&&n.locale!=="ko"&&(Gu||M!=="onCompositionStart"?M==="onCompositionEnd"&&Gu&&(R=ZR()):(Ga=u,cS="value"in Ga?Ga.value:Ga.textContent,Gu=!0)),F=ty(c,M),0<F.length&&(M=new lC(M,t,null,n,u),f.push({event:M,listeners:F}),R?M.data=R:(R=eP(n),R!==null&&(M.data=R)))),(R=bU?EU(t,n):SU(t,n))&&(c=ty(c,"onBeforeInput"),0<c.length&&(u=new lC("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=R))}hP(f,e)})}function fp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ty(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=op(t,n),i!=null&&r.unshift(fp(t,i,s)),i=op(t,e),i!=null&&r.push(fp(t,i,s))),t=t.return}return r}function Eu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xC(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=op(n,i),l!=null&&o.unshift(fp(n,l,a))):s||(l=op(n,i),l!=null&&o.push(fp(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var BU=/\r\n?/g,FU=/\u0000|\uFFFD/g;function _C(t){return(typeof t=="string"?t:""+t).replace(BU,`
`).replace(FU,"")}function dg(t,e,n){if(e=_C(e),_C(t)!==e&&n)throw Error(me(425))}function ny(){}var E_=null,S_=null;function T_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var I_=typeof setTimeout=="function"?setTimeout:void 0,UU=typeof clearTimeout=="function"?clearTimeout:void 0,bC=typeof Promise=="function"?Promise:void 0,VU=typeof queueMicrotask=="function"?queueMicrotask:typeof bC<"u"?function(t){return bC.resolve(null).then(t).catch(zU)}:I_;function zU(t){setTimeout(function(){throw t})}function C1(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),cp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);cp(e)}function il(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function EC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vh=Math.random().toString(36).slice(2),Bi="__reactFiber$"+vh,pp="__reactProps$"+vh,$o="__reactContainer$"+vh,A_="__reactEvents$"+vh,WU="__reactListeners$"+vh,$U="__reactHandles$"+vh;function sc(t){var e=t[Bi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$o]||n[Bi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=EC(t);t!==null;){if(n=t[Bi])return n;t=EC(t)}return e}t=n,n=t.parentNode}return null}function tm(t){return t=t[Bi]||t[$o],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(me(33))}function Cw(t){return t[pp]||null}var C_=[],Xu=-1;function kl(t){return{current:t}}function sn(t){0>Xu||(t.current=C_[Xu],C_[Xu]=null,Xu--)}function Yt(t,e){Xu++,C_[Xu]=t.current,t.current=e}var vl={},qr=kl(vl),gs=kl(!1),Pc=vl;function Wd(t,e){var n=t.type.contextTypes;if(!n)return vl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ys(t){return t=t.childContextTypes,t!=null}function ry(){sn(gs),sn(qr)}function SC(t,e,n){if(qr.current!==vl)throw Error(me(168));Yt(qr,e),Yt(gs,n)}function pP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(me(108,CF(t)||"Unknown",s));return Sn({},n,r)}function sy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vl,Pc=qr.current,Yt(qr,t),Yt(gs,gs.current),!0}function TC(t,e,n){var r=t.stateNode;if(!r)throw Error(me(169));n?(t=pP(t,e,Pc),r.__reactInternalMemoizedMergedChildContext=t,sn(gs),sn(qr),Yt(qr,t)):sn(gs),Yt(gs,n)}var bo=null,Nw=!1,N1=!1;function mP(t){bo===null?bo=[t]:bo.push(t)}function HU(t){Nw=!0,mP(t)}function Ml(){if(!N1&&bo!==null){N1=!0;var t=0,e=Rt;try{var n=bo;for(Rt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bo=null,Nw=!1}catch(s){throw bo!==null&&(bo=bo.slice(t+1)),UR(iS,Ml),s}finally{Rt=e,N1=!1}}return null}var Ju=[],ed=0,iy=null,oy=0,Qs=[],Ys=0,Oc=null,Lo=1,Do="";function ql(t,e){Ju[ed++]=oy,Ju[ed++]=iy,iy=t,oy=e}function gP(t,e,n){Qs[Ys++]=Lo,Qs[Ys++]=Do,Qs[Ys++]=Oc,Oc=t;var r=Lo;t=Do;var s=32-wi(r)-1;r&=~(1<<s),n+=1;var i=32-wi(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Lo=1<<32-wi(e)+s|n<<s|r,Do=i+t}else Lo=1<<i|n<<s|r,Do=t}function pS(t){t.return!==null&&(ql(t,1),gP(t,1,0))}function mS(t){for(;t===iy;)iy=Ju[--ed],Ju[ed]=null,oy=Ju[--ed],Ju[ed]=null;for(;t===Oc;)Oc=Qs[--Ys],Qs[Ys]=null,Do=Qs[--Ys],Qs[Ys]=null,Lo=Qs[--Ys],Qs[Ys]=null}var Ps=null,Ms=null,hn=!1,fi=null;function yP(t,e){var n=Zs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function IC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ps=t,Ms=il(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ps=t,Ms=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oc!==null?{id:Lo,overflow:Do}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ps=t,Ms=null,!0):!1;default:return!1}}function N_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function k_(t){if(hn){var e=Ms;if(e){var n=e;if(!IC(t,e)){if(N_(t))throw Error(me(418));e=il(n.nextSibling);var r=Ps;e&&IC(t,e)?yP(r,n):(t.flags=t.flags&-4097|2,hn=!1,Ps=t)}}else{if(N_(t))throw Error(me(418));t.flags=t.flags&-4097|2,hn=!1,Ps=t}}}function AC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ps=t}function hg(t){if(t!==Ps)return!1;if(!hn)return AC(t),hn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!T_(t.type,t.memoizedProps)),e&&(e=Ms)){if(N_(t))throw wP(),Error(me(418));for(;e;)yP(t,e),e=il(e.nextSibling)}if(AC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ms=il(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ms=null}}else Ms=Ps?il(t.stateNode.nextSibling):null;return!0}function wP(){for(var t=Ms;t;)t=il(t.nextSibling)}function $d(){Ms=Ps=null,hn=!1}function gS(t){fi===null?fi=[t]:fi.push(t)}var qU=aa.ReactCurrentBatchConfig;function nf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(me(309));var r=n.stateNode}if(!r)throw Error(me(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(me(284));if(!n._owner)throw Error(me(290,t))}return t}function fg(t,e){throw t=Object.prototype.toString.call(e),Error(me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CC(t){var e=t._init;return e(t._payload)}function vP(t){function e(_,b){if(t){var x=_.deletions;x===null?(_.deletions=[b],_.flags|=16):x.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function s(_,b){return _=cl(_,b),_.index=0,_.sibling=null,_}function i(_,b,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<b?(_.flags|=2,b):x):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,b,x,T){return b===null||b.tag!==6?(b=D1(x,_.mode,T),b.return=_,b):(b=s(b,x),b.return=_,b)}function l(_,b,x,T){var D=x.type;return D===Ku?u(_,b,x.props.children,T,x.key):b!==null&&(b.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ia&&CC(D)===b.type)?(T=s(b,x.props),T.ref=nf(_,b,x),T.return=_,T):(T=s0(x.type,x.key,x.props,null,_.mode,T),T.ref=nf(_,b,x),T.return=_,T)}function c(_,b,x,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=j1(x,_.mode,T),b.return=_,b):(b=s(b,x.children||[]),b.return=_,b)}function u(_,b,x,T,D){return b===null||b.tag!==7?(b=Ic(x,_.mode,T,D),b.return=_,b):(b=s(b,x),b.return=_,b)}function f(_,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=D1(""+b,_.mode,x),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ng:return x=s0(b.type,b.key,b.props,null,_.mode,x),x.ref=nf(_,null,b),x.return=_,x;case qu:return b=j1(b,_.mode,x),b.return=_,b;case Ia:var T=b._init;return f(_,T(b._payload),x)}if(yf(b)||Zh(b))return b=Ic(b,_.mode,x,null),b.return=_,b;fg(_,b)}return null}function p(_,b,x,T){var D=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:a(_,b,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ng:return x.key===D?l(_,b,x,T):null;case qu:return x.key===D?c(_,b,x,T):null;case Ia:return D=x._init,p(_,b,D(x._payload),T)}if(yf(x)||Zh(x))return D!==null?null:u(_,b,x,T,null);fg(_,x)}return null}function m(_,b,x,T,D){if(typeof T=="string"&&T!==""||typeof T=="number")return _=_.get(x)||null,a(b,_,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ng:return _=_.get(T.key===null?x:T.key)||null,l(b,_,T,D);case qu:return _=_.get(T.key===null?x:T.key)||null,c(b,_,T,D);case Ia:var F=T._init;return m(_,b,x,F(T._payload),D)}if(yf(T)||Zh(T))return _=_.get(x)||null,u(b,_,T,D,null);fg(b,T)}return null}function v(_,b,x,T){for(var D=null,F=null,R=b,M=b=0,U=null;R!==null&&M<x.length;M++){R.index>M?(U=R,R=null):U=R.sibling;var W=p(_,R,x[M],T);if(W===null){R===null&&(R=U);break}t&&R&&W.alternate===null&&e(_,R),b=i(W,b,M),F===null?D=W:F.sibling=W,F=W,R=U}if(M===x.length)return n(_,R),hn&&ql(_,M),D;if(R===null){for(;M<x.length;M++)R=f(_,x[M],T),R!==null&&(b=i(R,b,M),F===null?D=R:F.sibling=R,F=R);return hn&&ql(_,M),D}for(R=r(_,R);M<x.length;M++)U=m(R,_,M,x[M],T),U!==null&&(t&&U.alternate!==null&&R.delete(U.key===null?M:U.key),b=i(U,b,M),F===null?D=U:F.sibling=U,F=U);return t&&R.forEach(function($){return e(_,$)}),hn&&ql(_,M),D}function g(_,b,x,T){var D=Zh(x);if(typeof D!="function")throw Error(me(150));if(x=D.call(x),x==null)throw Error(me(151));for(var F=D=null,R=b,M=b=0,U=null,W=x.next();R!==null&&!W.done;M++,W=x.next()){R.index>M?(U=R,R=null):U=R.sibling;var $=p(_,R,W.value,T);if($===null){R===null&&(R=U);break}t&&R&&$.alternate===null&&e(_,R),b=i($,b,M),F===null?D=$:F.sibling=$,F=$,R=U}if(W.done)return n(_,R),hn&&ql(_,M),D;if(R===null){for(;!W.done;M++,W=x.next())W=f(_,W.value,T),W!==null&&(b=i(W,b,M),F===null?D=W:F.sibling=W,F=W);return hn&&ql(_,M),D}for(R=r(_,R);!W.done;M++,W=x.next())W=m(R,_,M,W.value,T),W!==null&&(t&&W.alternate!==null&&R.delete(W.key===null?M:W.key),b=i(W,b,M),F===null?D=W:F.sibling=W,F=W);return t&&R.forEach(function(q){return e(_,q)}),hn&&ql(_,M),D}function w(_,b,x,T){if(typeof x=="object"&&x!==null&&x.type===Ku&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ng:e:{for(var D=x.key,F=b;F!==null;){if(F.key===D){if(D=x.type,D===Ku){if(F.tag===7){n(_,F.sibling),b=s(F,x.props.children),b.return=_,_=b;break e}}else if(F.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ia&&CC(D)===F.type){n(_,F.sibling),b=s(F,x.props),b.ref=nf(_,F,x),b.return=_,_=b;break e}n(_,F);break}else e(_,F);F=F.sibling}x.type===Ku?(b=Ic(x.props.children,_.mode,T,x.key),b.return=_,_=b):(T=s0(x.type,x.key,x.props,null,_.mode,T),T.ref=nf(_,b,x),T.return=_,_=T)}return o(_);case qu:e:{for(F=x.key;b!==null;){if(b.key===F)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(_,b.sibling),b=s(b,x.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else e(_,b);b=b.sibling}b=j1(x,_.mode,T),b.return=_,_=b}return o(_);case Ia:return F=x._init,w(_,b,F(x._payload),T)}if(yf(x))return v(_,b,x,T);if(Zh(x))return g(_,b,x,T);fg(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(_,b.sibling),b=s(b,x),b.return=_,_=b):(n(_,b),b=D1(x,_.mode,T),b.return=_,_=b),o(_)):n(_,b)}return w}var Hd=vP(!0),xP=vP(!1),ay=kl(null),ly=null,td=null,yS=null;function wS(){yS=td=ly=null}function vS(t){var e=ay.current;sn(ay),t._currentValue=e}function M_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pd(t,e){ly=t,yS=td=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fs=!0),t.firstContext=null)}function ei(t){var e=t._currentValue;if(yS!==t)if(t={context:t,memoizedValue:e,next:null},td===null){if(ly===null)throw Error(me(308));td=t,ly.dependencies={lanes:0,firstContext:t}}else td=td.next=t;return e}var ic=null;function xS(t){ic===null?ic=[t]:ic.push(t)}function _P(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,xS(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ho(t,r)}function Ho(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Aa=!1;function _S(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Uo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ol(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,gt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ho(t,n)}return s=r.interleaved,s===null?(e.next=e,xS(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ho(t,n)}function Xg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oS(t,n)}}function NC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cy(t,e,n,r){var s=t.updateQueue;Aa=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(p=e,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Sn({},f,p);break e;case 2:Aa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Dc|=o,t.lanes=o,t.memoizedState=f}}function kC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(me(191,s));s.call(r)}}}var nm={},Wi=kl(nm),mp=kl(nm),gp=kl(nm);function oc(t){if(t===nm)throw Error(me(174));return t}function bS(t,e){switch(Yt(gp,e),Yt(mp,t),Yt(Wi,nm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:d_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=d_(e,t)}sn(Wi),Yt(Wi,e)}function qd(){sn(Wi),sn(mp),sn(gp)}function EP(t){oc(gp.current);var e=oc(Wi.current),n=d_(e,t.type);e!==n&&(Yt(mp,t),Yt(Wi,n))}function ES(t){mp.current===t&&(sn(Wi),sn(mp))}var _n=kl(0);function uy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var k1=[];function SS(){for(var t=0;t<k1.length;t++)k1[t]._workInProgressVersionPrimary=null;k1.length=0}var Jg=aa.ReactCurrentDispatcher,M1=aa.ReactCurrentBatchConfig,Lc=0,En=null,Yn=null,rr=null,dy=!1,Wf=!1,yp=0,KU=0;function Cr(){throw Error(me(321))}function TS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bi(t[n],e[n]))return!1;return!0}function IS(t,e,n,r,s,i){if(Lc=i,En=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jg.current=t===null||t.memoizedState===null?ZU:XU,t=n(r,s),Wf){i=0;do{if(Wf=!1,yp=0,25<=i)throw Error(me(301));i+=1,rr=Yn=null,e.updateQueue=null,Jg.current=JU,t=n(r,s)}while(Wf)}if(Jg.current=hy,e=Yn!==null&&Yn.next!==null,Lc=0,rr=Yn=En=null,dy=!1,e)throw Error(me(300));return t}function AS(){var t=yp!==0;return yp=0,t}function Pi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?En.memoizedState=rr=t:rr=rr.next=t,rr}function ti(){if(Yn===null){var t=En.alternate;t=t!==null?t.memoizedState:null}else t=Yn.next;var e=rr===null?En.memoizedState:rr.next;if(e!==null)rr=e,Yn=t;else{if(t===null)throw Error(me(310));Yn=t,t={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},rr===null?En.memoizedState=rr=t:rr=rr.next=t}return rr}function wp(t,e){return typeof e=="function"?e(t):e}function R1(t){var e=ti(),n=e.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=t;var r=Yn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Lc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,En.lanes|=u,Dc|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,bi(r,e.memoizedState)||(fs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,En.lanes|=i,Dc|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function P1(t){var e=ti(),n=e.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);bi(i,e.memoizedState)||(fs=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function SP(){}function TP(t,e){var n=En,r=ti(),s=e(),i=!bi(r.memoizedState,s);if(i&&(r.memoizedState=s,fs=!0),r=r.queue,CS(CP.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||rr!==null&&rr.memoizedState.tag&1){if(n.flags|=2048,vp(9,AP.bind(null,n,r,s,e),void 0,null),or===null)throw Error(me(349));Lc&30||IP(n,e,s)}return s}function IP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=En.updateQueue,e===null?(e={lastEffect:null,stores:null},En.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AP(t,e,n,r){e.value=n,e.getSnapshot=r,NP(e)&&kP(t)}function CP(t,e,n){return n(function(){NP(e)&&kP(t)})}function NP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bi(t,n)}catch{return!0}}function kP(t){var e=Ho(t,1);e!==null&&vi(e,t,1,-1)}function MC(t){var e=Pi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wp,lastRenderedState:t},e.queue=t,t=t.dispatch=YU.bind(null,En,t),[e.memoizedState,t]}function vp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=En.updateQueue,e===null?(e={lastEffect:null,stores:null},En.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function MP(){return ti().memoizedState}function e0(t,e,n,r){var s=Pi();En.flags|=t,s.memoizedState=vp(1|e,n,void 0,r===void 0?null:r)}function kw(t,e,n,r){var s=ti();r=r===void 0?null:r;var i=void 0;if(Yn!==null){var o=Yn.memoizedState;if(i=o.destroy,r!==null&&TS(r,o.deps)){s.memoizedState=vp(e,n,i,r);return}}En.flags|=t,s.memoizedState=vp(1|e,n,i,r)}function RC(t,e){return e0(8390656,8,t,e)}function CS(t,e){return kw(2048,8,t,e)}function RP(t,e){return kw(4,2,t,e)}function PP(t,e){return kw(4,4,t,e)}function OP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LP(t,e,n){return n=n!=null?n.concat([t]):null,kw(4,4,OP.bind(null,e,t),n)}function NS(){}function DP(t,e){var n=ti();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&TS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jP(t,e){var n=ti();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&TS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BP(t,e,n){return Lc&21?(bi(n,e)||(n=WR(),En.lanes|=n,Dc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fs=!0),t.memoizedState=n)}function GU(t,e){var n=Rt;Rt=n!==0&&4>n?n:4,t(!0);var r=M1.transition;M1.transition={};try{t(!1),e()}finally{Rt=n,M1.transition=r}}function FP(){return ti().memoizedState}function QU(t,e,n){var r=ll(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UP(t))VP(e,n);else if(n=_P(t,e,n,r),n!==null){var s=ss();vi(n,t,r,s),zP(n,e,r)}}function YU(t,e,n){var r=ll(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UP(t))VP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,bi(a,o)){var l=e.interleaved;l===null?(s.next=s,xS(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=_P(t,e,s,r),n!==null&&(s=ss(),vi(n,t,r,s),zP(n,e,r))}}function UP(t){var e=t.alternate;return t===En||e!==null&&e===En}function VP(t,e){Wf=dy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oS(t,n)}}var hy={readContext:ei,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},ZU={readContext:ei,useCallback:function(t,e){return Pi().memoizedState=[t,e===void 0?null:e],t},useContext:ei,useEffect:RC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,e0(4194308,4,OP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return e0(4194308,4,t,e)},useInsertionEffect:function(t,e){return e0(4,2,t,e)},useMemo:function(t,e){var n=Pi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QU.bind(null,En,t),[r.memoizedState,t]},useRef:function(t){var e=Pi();return t={current:t},e.memoizedState=t},useState:MC,useDebugValue:NS,useDeferredValue:function(t){return Pi().memoizedState=t},useTransition:function(){var t=MC(!1),e=t[0];return t=GU.bind(null,t[1]),Pi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=En,s=Pi();if(hn){if(n===void 0)throw Error(me(407));n=n()}else{if(n=e(),or===null)throw Error(me(349));Lc&30||IP(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,RC(CP.bind(null,r,i,t),[t]),r.flags|=2048,vp(9,AP.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Pi(),e=or.identifierPrefix;if(hn){var n=Do,r=Lo;n=(r&~(1<<32-wi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XU={readContext:ei,useCallback:DP,useContext:ei,useEffect:CS,useImperativeHandle:LP,useInsertionEffect:RP,useLayoutEffect:PP,useMemo:jP,useReducer:R1,useRef:MP,useState:function(){return R1(wp)},useDebugValue:NS,useDeferredValue:function(t){var e=ti();return BP(e,Yn.memoizedState,t)},useTransition:function(){var t=R1(wp)[0],e=ti().memoizedState;return[t,e]},useMutableSource:SP,useSyncExternalStore:TP,useId:FP,unstable_isNewReconciler:!1},JU={readContext:ei,useCallback:DP,useContext:ei,useEffect:CS,useImperativeHandle:LP,useInsertionEffect:RP,useLayoutEffect:PP,useMemo:jP,useReducer:P1,useRef:MP,useState:function(){return P1(wp)},useDebugValue:NS,useDeferredValue:function(t){var e=ti();return Yn===null?e.memoizedState=t:BP(e,Yn.memoizedState,t)},useTransition:function(){var t=P1(wp)[0],e=ti().memoizedState;return[t,e]},useMutableSource:SP,useSyncExternalStore:TP,useId:FP,unstable_isNewReconciler:!1};function li(t,e){if(t&&t.defaultProps){e=Sn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function R_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Sn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mw={isMounted:function(t){return(t=t._reactInternals)?Jc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ss(),s=ll(t),i=Uo(r,s);i.payload=e,n!=null&&(i.callback=n),e=ol(t,i,s),e!==null&&(vi(e,t,s,r),Xg(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ss(),s=ll(t),i=Uo(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ol(t,i,s),e!==null&&(vi(e,t,s,r),Xg(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ss(),r=ll(t),s=Uo(n,r);s.tag=2,e!=null&&(s.callback=e),e=ol(t,s,r),e!==null&&(vi(e,t,r,n),Xg(e,t,r))}};function PC(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!dp(n,r)||!dp(s,i):!0}function WP(t,e,n){var r=!1,s=vl,i=e.contextType;return typeof i=="object"&&i!==null?i=ei(i):(s=ys(e)?Pc:qr.current,r=e.contextTypes,i=(r=r!=null)?Wd(t,s):vl),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function OC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mw.enqueueReplaceState(e,e.state,null)}function P_(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},_S(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ei(i):(i=ys(e)?Pc:qr.current,s.context=Wd(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(R_(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Mw.enqueueReplaceState(s,s.state,null),cy(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Kd(t,e){try{var n="",r=e;do n+=AF(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function O1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function O_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eV=typeof WeakMap=="function"?WeakMap:Map;function $P(t,e,n){n=Uo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){py||(py=!0,$_=r),O_(t,e)},n}function HP(t,e,n){n=Uo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){O_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){O_(t,e),typeof r!="function"&&(al===null?al=new Set([this]):al.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function LC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eV;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=pV.bind(null,t,e,n),e.then(t,t))}function DC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jC(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Uo(-1,1),e.tag=2,ol(n,e,1))),n.lanes|=1),t)}var tV=aa.ReactCurrentOwner,fs=!1;function Jr(t,e,n,r){e.child=t===null?xP(e,null,n,r):Hd(e,t.child,n,r)}function BC(t,e,n,r,s){n=n.render;var i=e.ref;return pd(e,s),r=IS(t,e,n,r,i,s),n=AS(),t!==null&&!fs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qo(t,e,s)):(hn&&n&&pS(e),e.flags|=1,Jr(t,e,r,s),e.child)}function FC(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!jS(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,qP(t,e,i,r,s)):(t=s0(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:dp,n(o,r)&&t.ref===e.ref)return qo(t,e,s)}return e.flags|=1,t=cl(i,r),t.ref=e.ref,t.return=e,e.child=t}function qP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(dp(i,r)&&t.ref===e.ref)if(fs=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(fs=!0);else return e.lanes=t.lanes,qo(t,e,s)}return L_(t,e,n,r,s)}function KP(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(rd,Ss),Ss|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Yt(rd,Ss),Ss|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Yt(rd,Ss),Ss|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Yt(rd,Ss),Ss|=r;return Jr(t,e,s,n),e.child}function GP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function L_(t,e,n,r,s){var i=ys(n)?Pc:qr.current;return i=Wd(e,i),pd(e,s),n=IS(t,e,n,r,i,s),r=AS(),t!==null&&!fs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qo(t,e,s)):(hn&&r&&pS(e),e.flags|=1,Jr(t,e,n,s),e.child)}function UC(t,e,n,r,s){if(ys(n)){var i=!0;sy(e)}else i=!1;if(pd(e,s),e.stateNode===null)t0(t,e),WP(e,n,r),P_(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ei(c):(c=ys(n)?Pc:qr.current,c=Wd(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&OC(e,o,r,c),Aa=!1;var p=e.memoizedState;o.state=p,cy(e,r,o,s),l=e.memoizedState,a!==r||p!==l||gs.current||Aa?(typeof u=="function"&&(R_(e,n,u,r),l=e.memoizedState),(a=Aa||PC(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:li(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ei(l):(l=ys(n)?Pc:qr.current,l=Wd(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&OC(e,o,r,l),Aa=!1,p=e.memoizedState,o.state=p,cy(e,r,o,s);var v=e.memoizedState;a!==f||p!==v||gs.current||Aa?(typeof m=="function"&&(R_(e,n,m,r),v=e.memoizedState),(c=Aa||PC(e,n,c,r,p,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return D_(t,e,n,r,i,s)}function D_(t,e,n,r,s,i){GP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&TC(e,n,!1),qo(t,e,i);r=e.stateNode,tV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hd(e,t.child,null,i),e.child=Hd(e,null,a,i)):Jr(t,e,a,i),e.memoizedState=r.state,s&&TC(e,n,!0),e.child}function QP(t){var e=t.stateNode;e.pendingContext?SC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&SC(t,e.context,!1),bS(t,e.containerInfo)}function VC(t,e,n,r,s){return $d(),gS(s),e.flags|=256,Jr(t,e,n,r),e.child}var j_={dehydrated:null,treeContext:null,retryLane:0};function B_(t){return{baseLanes:t,cachePool:null,transitions:null}}function YP(t,e,n){var r=e.pendingProps,s=_n.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Yt(_n,s&1),t===null)return k_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ow(o,r,0,null),t=Ic(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=B_(n),e.memoizedState=j_,t):kS(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return nV(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=cl(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=cl(a,i):(i=Ic(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?B_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=j_,r}return i=t.child,t=i.sibling,r=cl(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kS(t,e){return e=Ow({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pg(t,e,n,r){return r!==null&&gS(r),Hd(e,t.child,null,n),t=kS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nV(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=O1(Error(me(422))),pg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ow({mode:"visible",children:r.children},s,0,null),i=Ic(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Hd(e,t.child,null,o),e.child.memoizedState=B_(o),e.memoizedState=j_,i);if(!(e.mode&1))return pg(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(me(419)),r=O1(i,r,void 0),pg(t,e,o,r)}if(a=(o&t.childLanes)!==0,fs||a){if(r=or,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ho(t,s),vi(r,t,s,-1))}return DS(),r=O1(Error(me(421))),pg(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=mV.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ms=il(s.nextSibling),Ps=e,hn=!0,fi=null,t!==null&&(Qs[Ys++]=Lo,Qs[Ys++]=Do,Qs[Ys++]=Oc,Lo=t.id,Do=t.overflow,Oc=e),e=kS(e,r.children),e.flags|=4096,e)}function zC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),M_(t.return,e,n)}function L1(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ZP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Jr(t,e,r.children,n),r=_n.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zC(t,n,e);else if(t.tag===19)zC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Yt(_n,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&uy(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),L1(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&uy(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}L1(e,!0,n,null,i);break;case"together":L1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function t0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Dc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(me(153));if(e.child!==null){for(t=e.child,n=cl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rV(t,e,n){switch(e.tag){case 3:QP(e),$d();break;case 5:EP(e);break;case 1:ys(e.type)&&sy(e);break;case 4:bS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Yt(ay,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Yt(_n,_n.current&1),e.flags|=128,null):n&e.child.childLanes?YP(t,e,n):(Yt(_n,_n.current&1),t=qo(t,e,n),t!==null?t.sibling:null);Yt(_n,_n.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Yt(_n,_n.current),r)break;return null;case 22:case 23:return e.lanes=0,KP(t,e,n)}return qo(t,e,n)}var XP,F_,JP,e4;XP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};F_=function(){};JP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,oc(Wi.current);var i=null;switch(n){case"input":s=a_(t,s),r=a_(t,r),i=[];break;case"select":s=Sn({},s,{value:void 0}),r=Sn({},r,{value:void 0}),i=[];break;case"textarea":s=u_(t,s),r=u_(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ny)}h_(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sp.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nn("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};e4=function(t,e,n,r){n!==r&&(e.flags|=4)};function rf(t,e){if(!hn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sV(t,e,n){var r=e.pendingProps;switch(mS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(e),null;case 1:return ys(e.type)&&ry(),Nr(e),null;case 3:return r=e.stateNode,qd(),sn(gs),sn(qr),SS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fi!==null&&(K_(fi),fi=null))),F_(t,e),Nr(e),null;case 5:ES(e);var s=oc(gp.current);if(n=e.type,t!==null&&e.stateNode!=null)JP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(me(166));return Nr(e),null}if(t=oc(Wi.current),hg(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Bi]=e,r[pp]=i,t=(e.mode&1)!==0,n){case"dialog":nn("cancel",r),nn("close",r);break;case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(s=0;s<vf.length;s++)nn(vf[s],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"details":nn("toggle",r);break;case"input":ZA(r,i),nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},nn("invalid",r);break;case"textarea":JA(r,i),nn("invalid",r)}h_(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&dg(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&dg(r.textContent,a,t),s=["children",""+a]):sp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nn("scroll",r)}switch(n){case"input":rg(r),XA(r,i,!0);break;case"textarea":rg(r),eC(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ny)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=CR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Bi]=e,t[pp]=r,XP(t,e,!1,!1),e.stateNode=t;e:{switch(o=f_(n,r),n){case"dialog":nn("cancel",t),nn("close",t),s=r;break;case"iframe":case"object":case"embed":nn("load",t),s=r;break;case"video":case"audio":for(s=0;s<vf.length;s++)nn(vf[s],t);s=r;break;case"source":nn("error",t),s=r;break;case"img":case"image":case"link":nn("error",t),nn("load",t),s=r;break;case"details":nn("toggle",t),s=r;break;case"input":ZA(t,r),s=a_(t,r),nn("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Sn({},r,{value:void 0}),nn("invalid",t);break;case"textarea":JA(t,r),s=u_(t,r),nn("invalid",t);break;default:s=r}h_(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?MR(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NR(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ip(t,l):typeof l=="number"&&ip(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(sp.hasOwnProperty(i)?l!=null&&i==="onScroll"&&nn("scroll",t):l!=null&&eS(t,i,l,o))}switch(n){case"input":rg(t),XA(t,r,!1);break;case"textarea":rg(t),eC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wl(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ud(t,!!r.multiple,i,!1):r.defaultValue!=null&&ud(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ny)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nr(e),null;case 6:if(t&&e.stateNode!=null)e4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(me(166));if(n=oc(gp.current),oc(Wi.current),hg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bi]=e,(i=r.nodeValue!==n)&&(t=Ps,t!==null))switch(t.tag){case 3:dg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dg(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bi]=e,e.stateNode=r}return Nr(e),null;case 13:if(sn(_n),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(hn&&Ms!==null&&e.mode&1&&!(e.flags&128))wP(),$d(),e.flags|=98560,i=!1;else if(i=hg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(me(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(me(317));i[Bi]=e}else $d(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nr(e),i=!1}else fi!==null&&(K_(fi),fi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_n.current&1?Xn===0&&(Xn=3):DS())),e.updateQueue!==null&&(e.flags|=4),Nr(e),null);case 4:return qd(),F_(t,e),t===null&&hp(e.stateNode.containerInfo),Nr(e),null;case 10:return vS(e.type._context),Nr(e),null;case 17:return ys(e.type)&&ry(),Nr(e),null;case 19:if(sn(_n),i=e.memoizedState,i===null)return Nr(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)rf(i,!1);else{if(Xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=uy(t),o!==null){for(e.flags|=128,rf(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Yt(_n,_n.current&1|2),e.child}t=t.sibling}i.tail!==null&&jn()>Gd&&(e.flags|=128,r=!0,rf(i,!1),e.lanes=4194304)}else{if(!r)if(t=uy(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!hn)return Nr(e),null}else 2*jn()-i.renderingStartTime>Gd&&n!==1073741824&&(e.flags|=128,r=!0,rf(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=jn(),e.sibling=null,n=_n.current,Yt(_n,r?n&1|2:n&1),e):(Nr(e),null);case 22:case 23:return LS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ss&1073741824&&(Nr(e),e.subtreeFlags&6&&(e.flags|=8192)):Nr(e),null;case 24:return null;case 25:return null}throw Error(me(156,e.tag))}function iV(t,e){switch(mS(e),e.tag){case 1:return ys(e.type)&&ry(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qd(),sn(gs),sn(qr),SS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ES(e),null;case 13:if(sn(_n),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(me(340));$d()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return sn(_n),null;case 4:return qd(),null;case 10:return vS(e.type._context),null;case 22:case 23:return LS(),null;case 24:return null;default:return null}}var mg=!1,zr=!1,oV=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function nd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rn(t,e,r)}else n.current=null}function U_(t,e,n){try{n()}catch(r){Rn(t,e,r)}}var WC=!1;function aV(t,e){if(E_=J0,t=iP(),fS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(S_={focusedElem:t,selectionRange:n},J0=!1,Ae=e;Ae!==null;)if(e=Ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ae=t;else for(;Ae!==null;){e=Ae;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,w=v.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:li(e.type,g),w);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(T){Rn(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Ae=t;break}Ae=e.return}return v=WC,WC=!1,v}function $f(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&U_(e,n,i)}s=s.next}while(s!==r)}}function Rw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function V_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function t4(t){var e=t.alternate;e!==null&&(t.alternate=null,t4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bi],delete e[pp],delete e[A_],delete e[WU],delete e[$U])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function n4(t){return t.tag===5||t.tag===3||t.tag===4}function $C(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function z_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ny));else if(r!==4&&(t=t.child,t!==null))for(z_(t,e,n),t=t.sibling;t!==null;)z_(t,e,n),t=t.sibling}function W_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(W_(t,e,n),t=t.sibling;t!==null;)W_(t,e,n),t=t.sibling}var fr=null,hi=!1;function ha(t,e,n){for(n=n.child;n!==null;)r4(t,e,n),n=n.sibling}function r4(t,e,n){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(Sw,n)}catch{}switch(n.tag){case 5:zr||nd(n,e);case 6:var r=fr,s=hi;fr=null,ha(t,e,n),fr=r,hi=s,fr!==null&&(hi?(t=fr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):fr.removeChild(n.stateNode));break;case 18:fr!==null&&(hi?(t=fr,n=n.stateNode,t.nodeType===8?C1(t.parentNode,n):t.nodeType===1&&C1(t,n),cp(t)):C1(fr,n.stateNode));break;case 4:r=fr,s=hi,fr=n.stateNode.containerInfo,hi=!0,ha(t,e,n),fr=r,hi=s;break;case 0:case 11:case 14:case 15:if(!zr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&U_(n,e,o),s=s.next}while(s!==r)}ha(t,e,n);break;case 1:if(!zr&&(nd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rn(n,e,a)}ha(t,e,n);break;case 21:ha(t,e,n);break;case 22:n.mode&1?(zr=(r=zr)||n.memoizedState!==null,ha(t,e,n),zr=r):ha(t,e,n);break;default:ha(t,e,n)}}function HC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oV),e.forEach(function(r){var s=gV.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ii(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:fr=a.stateNode,hi=!1;break e;case 3:fr=a.stateNode.containerInfo,hi=!0;break e;case 4:fr=a.stateNode.containerInfo,hi=!0;break e}a=a.return}if(fr===null)throw Error(me(160));r4(i,o,s),fr=null,hi=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Rn(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s4(e,t),e=e.sibling}function s4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ii(e,t),Ni(t),r&4){try{$f(3,t,t.return),Rw(3,t)}catch(g){Rn(t,t.return,g)}try{$f(5,t,t.return)}catch(g){Rn(t,t.return,g)}}break;case 1:ii(e,t),Ni(t),r&512&&n!==null&&nd(n,n.return);break;case 5:if(ii(e,t),Ni(t),r&512&&n!==null&&nd(n,n.return),t.flags&32){var s=t.stateNode;try{ip(s,"")}catch(g){Rn(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&IR(s,i),f_(a,o);var c=f_(a,i);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?MR(s,f):u==="dangerouslySetInnerHTML"?NR(s,f):u==="children"?ip(s,f):eS(s,u,f,c)}switch(a){case"input":l_(s,i);break;case"textarea":AR(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ud(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?ud(s,!!i.multiple,i.defaultValue,!0):ud(s,!!i.multiple,i.multiple?[]:"",!1))}s[pp]=i}catch(g){Rn(t,t.return,g)}}break;case 6:if(ii(e,t),Ni(t),r&4){if(t.stateNode===null)throw Error(me(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Rn(t,t.return,g)}}break;case 3:if(ii(e,t),Ni(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cp(e.containerInfo)}catch(g){Rn(t,t.return,g)}break;case 4:ii(e,t),Ni(t);break;case 13:ii(e,t),Ni(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(PS=jn())),r&4&&HC(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(zr=(c=zr)||u,ii(e,t),zr=c):ii(e,t),Ni(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ae=t,u=t.child;u!==null;){for(f=Ae=u;Ae!==null;){switch(p=Ae,m=p.child,p.tag){case 0:case 11:case 14:case 15:$f(4,p,p.return);break;case 1:nd(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Rn(r,n,g)}}break;case 5:nd(p,p.return);break;case 22:if(p.memoizedState!==null){KC(f);continue}}m!==null?(m.return=p,Ae=m):KC(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kR("display",o))}catch(g){Rn(t,t.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Rn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ii(e,t),Ni(t),r&4&&HC(t);break;case 21:break;default:ii(e,t),Ni(t)}}function Ni(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(n4(n)){var r=n;break e}n=n.return}throw Error(me(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ip(s,""),r.flags&=-33);var i=$C(t);W_(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$C(t);z_(t,a,o);break;default:throw Error(me(161))}}catch(l){Rn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lV(t,e,n){Ae=t,i4(t)}function i4(t,e,n){for(var r=(t.mode&1)!==0;Ae!==null;){var s=Ae,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||mg;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||zr;a=mg;var c=zr;if(mg=o,(zr=l)&&!c)for(Ae=s;Ae!==null;)o=Ae,l=o.child,o.tag===22&&o.memoizedState!==null?GC(s):l!==null?(l.return=o,Ae=l):GC(s);for(;i!==null;)Ae=i,i4(i),i=i.sibling;Ae=s,mg=a,zr=c}qC(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ae=i):qC(t)}}function qC(t){for(;Ae!==null;){var e=Ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zr||Rw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:li(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&kC(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kC(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&cp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}zr||e.flags&512&&V_(e)}catch(p){Rn(e,e.return,p)}}if(e===t){Ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function KC(t){for(;Ae!==null;){var e=Ae;if(e===t){Ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function GC(t){for(;Ae!==null;){var e=Ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rw(4,e)}catch(l){Rn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Rn(e,s,l)}}var i=e.return;try{V_(e)}catch(l){Rn(e,i,l)}break;case 5:var o=e.return;try{V_(e)}catch(l){Rn(e,o,l)}}}catch(l){Rn(e,e.return,l)}if(e===t){Ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ae=a;break}Ae=e.return}}var cV=Math.ceil,fy=aa.ReactCurrentDispatcher,MS=aa.ReactCurrentOwner,Xs=aa.ReactCurrentBatchConfig,gt=0,or=null,$n=null,xr=0,Ss=0,rd=kl(0),Xn=0,xp=null,Dc=0,Pw=0,RS=0,Hf=null,ds=null,PS=0,Gd=1/0,_o=null,py=!1,$_=null,al=null,gg=!1,Qa=null,my=0,qf=0,H_=null,n0=-1,r0=0;function ss(){return gt&6?jn():n0!==-1?n0:n0=jn()}function ll(t){return t.mode&1?gt&2&&xr!==0?xr&-xr:qU.transition!==null?(r0===0&&(r0=WR()),r0):(t=Rt,t!==0||(t=window.event,t=t===void 0?16:YR(t.type)),t):1}function vi(t,e,n,r){if(50<qf)throw qf=0,H_=null,Error(me(185));Jp(t,n,r),(!(gt&2)||t!==or)&&(t===or&&(!(gt&2)&&(Pw|=n),Xn===4&&Ma(t,xr)),ws(t,r),n===1&&gt===0&&!(e.mode&1)&&(Gd=jn()+500,Nw&&Ml()))}function ws(t,e){var n=t.callbackNode;qF(t,e);var r=X0(t,t===or?xr:0);if(r===0)n!==null&&rC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rC(n),e===1)t.tag===0?HU(QC.bind(null,t)):mP(QC.bind(null,t)),VU(function(){!(gt&6)&&Ml()}),n=null;else{switch($R(r)){case 1:n=iS;break;case 4:n=VR;break;case 16:n=Z0;break;case 536870912:n=zR;break;default:n=Z0}n=f4(n,o4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function o4(t,e){if(n0=-1,r0=0,gt&6)throw Error(me(327));var n=t.callbackNode;if(md()&&t.callbackNode!==n)return null;var r=X0(t,t===or?xr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gy(t,r);else{e=r;var s=gt;gt|=2;var i=l4();(or!==t||xr!==e)&&(_o=null,Gd=jn()+500,Tc(t,e));do try{hV();break}catch(a){a4(t,a)}while(!0);wS(),fy.current=i,gt=s,$n!==null?e=0:(or=null,xr=0,e=Xn)}if(e!==0){if(e===2&&(s=w_(t),s!==0&&(r=s,e=q_(t,s))),e===1)throw n=xp,Tc(t,0),Ma(t,r),ws(t,jn()),n;if(e===6)Ma(t,r);else{if(s=t.current.alternate,!(r&30)&&!uV(s)&&(e=gy(t,r),e===2&&(i=w_(t),i!==0&&(r=i,e=q_(t,i))),e===1))throw n=xp,Tc(t,0),Ma(t,r),ws(t,jn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(me(345));case 2:Kl(t,ds,_o);break;case 3:if(Ma(t,r),(r&130023424)===r&&(e=PS+500-jn(),10<e)){if(X0(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ss(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=I_(Kl.bind(null,t,ds,_o),e);break}Kl(t,ds,_o);break;case 4:if(Ma(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-wi(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cV(r/1960))-r,10<r){t.timeoutHandle=I_(Kl.bind(null,t,ds,_o),r);break}Kl(t,ds,_o);break;case 5:Kl(t,ds,_o);break;default:throw Error(me(329))}}}return ws(t,jn()),t.callbackNode===n?o4.bind(null,t):null}function q_(t,e){var n=Hf;return t.current.memoizedState.isDehydrated&&(Tc(t,e).flags|=256),t=gy(t,e),t!==2&&(e=ds,ds=n,e!==null&&K_(e)),t}function K_(t){ds===null?ds=t:ds.push.apply(ds,t)}function uV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bi(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ma(t,e){for(e&=~RS,e&=~Pw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wi(e),r=1<<n;t[n]=-1,e&=~r}}function QC(t){if(gt&6)throw Error(me(327));md();var e=X0(t,0);if(!(e&1))return ws(t,jn()),null;var n=gy(t,e);if(t.tag!==0&&n===2){var r=w_(t);r!==0&&(e=r,n=q_(t,r))}if(n===1)throw n=xp,Tc(t,0),Ma(t,e),ws(t,jn()),n;if(n===6)throw Error(me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kl(t,ds,_o),ws(t,jn()),null}function OS(t,e){var n=gt;gt|=1;try{return t(e)}finally{gt=n,gt===0&&(Gd=jn()+500,Nw&&Ml())}}function jc(t){Qa!==null&&Qa.tag===0&&!(gt&6)&&md();var e=gt;gt|=1;var n=Xs.transition,r=Rt;try{if(Xs.transition=null,Rt=1,t)return t()}finally{Rt=r,Xs.transition=n,gt=e,!(gt&6)&&Ml()}}function LS(){Ss=rd.current,sn(rd)}function Tc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UU(n)),$n!==null)for(n=$n.return;n!==null;){var r=n;switch(mS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ry();break;case 3:qd(),sn(gs),sn(qr),SS();break;case 5:ES(r);break;case 4:qd();break;case 13:sn(_n);break;case 19:sn(_n);break;case 10:vS(r.type._context);break;case 22:case 23:LS()}n=n.return}if(or=t,$n=t=cl(t.current,null),xr=Ss=e,Xn=0,xp=null,RS=Pw=Dc=0,ds=Hf=null,ic!==null){for(e=0;e<ic.length;e++)if(n=ic[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ic=null}return t}function a4(t,e){do{var n=$n;try{if(wS(),Jg.current=hy,dy){for(var r=En.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}dy=!1}if(Lc=0,rr=Yn=En=null,Wf=!1,yp=0,MS.current=null,n===null||n.return===null){Xn=1,xp=e,$n=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=xr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=DC(o);if(m!==null){m.flags&=-257,jC(m,o,a,i,e),m.mode&1&&LC(i,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){LC(i,c,e),DS();break e}l=Error(me(426))}}else if(hn&&a.mode&1){var w=DC(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),jC(w,o,a,i,e),gS(Kd(l,a));break e}}i=l=Kd(l,a),Xn!==4&&(Xn=2),Hf===null?Hf=[i]:Hf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=$P(i,l,e);NC(i,_);break e;case 1:a=l;var b=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(al===null||!al.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=HP(i,a,e);NC(i,T);break e}}i=i.return}while(i!==null)}u4(n)}catch(D){e=D,$n===n&&n!==null&&($n=n=n.return);continue}break}while(!0)}function l4(){var t=fy.current;return fy.current=hy,t===null?hy:t}function DS(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),or===null||!(Dc&268435455)&&!(Pw&268435455)||Ma(or,xr)}function gy(t,e){var n=gt;gt|=2;var r=l4();(or!==t||xr!==e)&&(_o=null,Tc(t,e));do try{dV();break}catch(s){a4(t,s)}while(!0);if(wS(),gt=n,fy.current=r,$n!==null)throw Error(me(261));return or=null,xr=0,Xn}function dV(){for(;$n!==null;)c4($n)}function hV(){for(;$n!==null&&!jF();)c4($n)}function c4(t){var e=h4(t.alternate,t,Ss);t.memoizedProps=t.pendingProps,e===null?u4(t):$n=e,MS.current=null}function u4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iV(n,e),n!==null){n.flags&=32767,$n=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xn=6,$n=null;return}}else if(n=sV(n,e,Ss),n!==null){$n=n;return}if(e=e.sibling,e!==null){$n=e;return}$n=e=t}while(e!==null);Xn===0&&(Xn=5)}function Kl(t,e,n){var r=Rt,s=Xs.transition;try{Xs.transition=null,Rt=1,fV(t,e,n,r)}finally{Xs.transition=s,Rt=r}return null}function fV(t,e,n,r){do md();while(Qa!==null);if(gt&6)throw Error(me(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(me(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(KF(t,i),t===or&&($n=or=null,xr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gg||(gg=!0,f4(Z0,function(){return md(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Xs.transition,Xs.transition=null;var o=Rt;Rt=1;var a=gt;gt|=4,MS.current=null,aV(t,n),s4(n,t),PU(S_),J0=!!E_,S_=E_=null,t.current=n,lV(n),BF(),gt=a,Rt=o,Xs.transition=i}else t.current=n;if(gg&&(gg=!1,Qa=t,my=s),i=t.pendingLanes,i===0&&(al=null),VF(n.stateNode),ws(t,jn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(py)throw py=!1,t=$_,$_=null,t;return my&1&&t.tag!==0&&md(),i=t.pendingLanes,i&1?t===H_?qf++:(qf=0,H_=t):qf=0,Ml(),null}function md(){if(Qa!==null){var t=$R(my),e=Xs.transition,n=Rt;try{if(Xs.transition=null,Rt=16>t?16:t,Qa===null)var r=!1;else{if(t=Qa,Qa=null,my=0,gt&6)throw Error(me(331));var s=gt;for(gt|=4,Ae=t.current;Ae!==null;){var i=Ae,o=i.child;if(Ae.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ae=c;Ae!==null;){var u=Ae;switch(u.tag){case 0:case 11:case 15:$f(8,u,i)}var f=u.child;if(f!==null)f.return=u,Ae=f;else for(;Ae!==null;){u=Ae;var p=u.sibling,m=u.return;if(t4(u),u===c){Ae=null;break}if(p!==null){p.return=m,Ae=p;break}Ae=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ae=o;else e:for(;Ae!==null;){if(i=Ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$f(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Ae=_;break e}Ae=i.return}}var b=t.current;for(Ae=b;Ae!==null;){o=Ae;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Ae=x;else e:for(o=b;Ae!==null;){if(a=Ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rw(9,a)}}catch(D){Rn(a,a.return,D)}if(a===o){Ae=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Ae=T;break e}Ae=a.return}}if(gt=s,Ml(),zi&&typeof zi.onPostCommitFiberRoot=="function")try{zi.onPostCommitFiberRoot(Sw,t)}catch{}r=!0}return r}finally{Rt=n,Xs.transition=e}}return!1}function YC(t,e,n){e=Kd(n,e),e=$P(t,e,1),t=ol(t,e,1),e=ss(),t!==null&&(Jp(t,1,e),ws(t,e))}function Rn(t,e,n){if(t.tag===3)YC(t,t,n);else for(;e!==null;){if(e.tag===3){YC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(al===null||!al.has(r))){t=Kd(n,t),t=HP(e,t,1),e=ol(e,t,1),t=ss(),e!==null&&(Jp(e,1,t),ws(e,t));break}}e=e.return}}function pV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ss(),t.pingedLanes|=t.suspendedLanes&n,or===t&&(xr&n)===n&&(Xn===4||Xn===3&&(xr&130023424)===xr&&500>jn()-PS?Tc(t,0):RS|=n),ws(t,e)}function d4(t,e){e===0&&(t.mode&1?(e=og,og<<=1,!(og&130023424)&&(og=4194304)):e=1);var n=ss();t=Ho(t,e),t!==null&&(Jp(t,e,n),ws(t,n))}function mV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),d4(t,n)}function gV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(me(314))}r!==null&&r.delete(e),d4(t,n)}var h4;h4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gs.current)fs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fs=!1,rV(t,e,n);fs=!!(t.flags&131072)}else fs=!1,hn&&e.flags&1048576&&gP(e,oy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;t0(t,e),t=e.pendingProps;var s=Wd(e,qr.current);pd(e,n),s=IS(null,e,r,t,s,n);var i=AS();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ys(r)?(i=!0,sy(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_S(e),s.updater=Mw,e.stateNode=s,s._reactInternals=e,P_(e,r,t,n),e=D_(null,e,r,!0,i,n)):(e.tag=0,hn&&i&&pS(e),Jr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(t0(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=wV(r),t=li(r,t),s){case 0:e=L_(null,e,r,t,n);break e;case 1:e=UC(null,e,r,t,n);break e;case 11:e=BC(null,e,r,t,n);break e;case 14:e=FC(null,e,r,li(r.type,t),n);break e}throw Error(me(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:li(r,s),L_(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:li(r,s),UC(t,e,r,s,n);case 3:e:{if(QP(e),t===null)throw Error(me(387));r=e.pendingProps,i=e.memoizedState,s=i.element,bP(t,e),cy(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Kd(Error(me(423)),e),e=VC(t,e,r,n,s);break e}else if(r!==s){s=Kd(Error(me(424)),e),e=VC(t,e,r,n,s);break e}else for(Ms=il(e.stateNode.containerInfo.firstChild),Ps=e,hn=!0,fi=null,n=xP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($d(),r===s){e=qo(t,e,n);break e}Jr(t,e,r,n)}e=e.child}return e;case 5:return EP(e),t===null&&k_(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,T_(r,s)?o=null:i!==null&&T_(r,i)&&(e.flags|=32),GP(t,e),Jr(t,e,o,n),e.child;case 6:return t===null&&k_(e),null;case 13:return YP(t,e,n);case 4:return bS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hd(e,null,r,n):Jr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:li(r,s),BC(t,e,r,s,n);case 7:return Jr(t,e,e.pendingProps,n),e.child;case 8:return Jr(t,e,e.pendingProps.children,n),e.child;case 12:return Jr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Yt(ay,r._currentValue),r._currentValue=o,i!==null)if(bi(i.value,o)){if(i.children===s.children&&!gs.current){e=qo(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Uo(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),M_(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(me(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),M_(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Jr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,pd(e,n),s=ei(s),r=r(s),e.flags|=1,Jr(t,e,r,n),e.child;case 14:return r=e.type,s=li(r,e.pendingProps),s=li(r.type,s),FC(t,e,r,s,n);case 15:return qP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:li(r,s),t0(t,e),e.tag=1,ys(r)?(t=!0,sy(e)):t=!1,pd(e,n),WP(e,r,s),P_(e,r,s,n),D_(null,e,r,!0,t,n);case 19:return ZP(t,e,n);case 22:return KP(t,e,n)}throw Error(me(156,e.tag))};function f4(t,e){return UR(t,e)}function yV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(t,e,n,r){return new yV(t,e,n,r)}function jS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wV(t){if(typeof t=="function")return jS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nS)return 11;if(t===rS)return 14}return 2}function cl(t,e){var n=t.alternate;return n===null?(n=Zs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function s0(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")jS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ku:return Ic(n.children,s,i,e);case tS:o=8,s|=8;break;case r_:return t=Zs(12,n,e,s|2),t.elementType=r_,t.lanes=i,t;case s_:return t=Zs(13,n,e,s),t.elementType=s_,t.lanes=i,t;case i_:return t=Zs(19,n,e,s),t.elementType=i_,t.lanes=i,t;case ER:return Ow(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _R:o=10;break e;case bR:o=9;break e;case nS:o=11;break e;case rS:o=14;break e;case Ia:o=16,r=null;break e}throw Error(me(130,t==null?t:typeof t,""))}return e=Zs(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ic(t,e,n,r){return t=Zs(7,t,r,e),t.lanes=n,t}function Ow(t,e,n,r){return t=Zs(22,t,r,e),t.elementType=ER,t.lanes=n,t.stateNode={isHidden:!1},t}function D1(t,e,n){return t=Zs(6,t,null,e),t.lanes=n,t}function j1(t,e,n){return e=Zs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vV(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=y1(0),this.expirationTimes=y1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=y1(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function BS(t,e,n,r,s,i,o,a,l){return t=new vV(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Zs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_S(i),t}function xV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function p4(t){if(!t)return vl;t=t._reactInternals;e:{if(Jc(t)!==t||t.tag!==1)throw Error(me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ys(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(me(171))}if(t.tag===1){var n=t.type;if(ys(n))return pP(t,n,e)}return e}function m4(t,e,n,r,s,i,o,a,l){return t=BS(n,r,!0,t,s,i,o,a,l),t.context=p4(null),n=t.current,r=ss(),s=ll(n),i=Uo(r,s),i.callback=e??null,ol(n,i,s),t.current.lanes=s,Jp(t,s,r),ws(t,r),t}function Lw(t,e,n,r){var s=e.current,i=ss(),o=ll(s);return n=p4(n),e.context===null?e.context=n:e.pendingContext=n,e=Uo(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ol(s,e,o),t!==null&&(vi(t,s,o,i),Xg(t,s,o)),o}function yy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ZC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function FS(t,e){ZC(t,e),(t=t.alternate)&&ZC(t,e)}function _V(){return null}var g4=typeof reportError=="function"?reportError:function(t){console.error(t)};function US(t){this._internalRoot=t}Dw.prototype.render=US.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(me(409));Lw(t,e,null,null)};Dw.prototype.unmount=US.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jc(function(){Lw(null,t,null,null)}),e[$o]=null}};function Dw(t){this._internalRoot=t}Dw.prototype.unstable_scheduleHydration=function(t){if(t){var e=KR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ka.length&&e!==0&&e<ka[n].priority;n++);ka.splice(n,0,t),n===0&&QR(t)}};function VS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function XC(){}function bV(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=yy(o);i.call(c)}}var o=m4(e,r,t,0,null,!1,!1,"",XC);return t._reactRootContainer=o,t[$o]=o.current,hp(t.nodeType===8?t.parentNode:t),jc(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=yy(l);a.call(c)}}var l=BS(t,0,!1,null,null,!1,!1,"",XC);return t._reactRootContainer=l,t[$o]=l.current,hp(t.nodeType===8?t.parentNode:t),jc(function(){Lw(e,l,n,r)}),l}function Bw(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=yy(o);a.call(l)}}Lw(e,o,t,s)}else o=bV(n,e,t,s,r);return yy(o)}HR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wf(e.pendingLanes);n!==0&&(oS(e,n|1),ws(e,jn()),!(gt&6)&&(Gd=jn()+500,Ml()))}break;case 13:jc(function(){var r=Ho(t,1);if(r!==null){var s=ss();vi(r,t,1,s)}}),FS(t,1)}};aS=function(t){if(t.tag===13){var e=Ho(t,134217728);if(e!==null){var n=ss();vi(e,t,134217728,n)}FS(t,134217728)}};qR=function(t){if(t.tag===13){var e=ll(t),n=Ho(t,e);if(n!==null){var r=ss();vi(n,t,e,r)}FS(t,e)}};KR=function(){return Rt};GR=function(t,e){var n=Rt;try{return Rt=t,e()}finally{Rt=n}};m_=function(t,e,n){switch(e){case"input":if(l_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Cw(r);if(!s)throw Error(me(90));TR(r),l_(r,s)}}}break;case"textarea":AR(t,n);break;case"select":e=n.value,e!=null&&ud(t,!!n.multiple,e,!1)}};OR=OS;LR=jc;var EV={usingClientEntryPoint:!1,Events:[tm,Zu,Cw,RR,PR,OS]},sf={findFiberByHostInstance:sc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SV={bundleType:sf.bundleType,version:sf.version,rendererPackageName:sf.rendererPackageName,rendererConfig:sf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BR(t),t===null?null:t.stateNode},findFiberByHostInstance:sf.findFiberByHostInstance||_V,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yg.isDisabled&&yg.supportsFiber)try{Sw=yg.inject(SV),zi=yg}catch{}}Bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EV;Bs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VS(e))throw Error(me(200));return xV(t,e,null,n)};Bs.createRoot=function(t,e){if(!VS(t))throw Error(me(299));var n=!1,r="",s=g4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=BS(t,1,!1,null,null,n,!1,r,s),t[$o]=e.current,hp(t.nodeType===8?t.parentNode:t),new US(e)};Bs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(me(188)):(t=Object.keys(t).join(","),Error(me(268,t)));return t=BR(e),t=t===null?null:t.stateNode,t};Bs.flushSync=function(t){return jc(t)};Bs.hydrate=function(t,e,n){if(!jw(e))throw Error(me(200));return Bw(null,t,e,!0,n)};Bs.hydrateRoot=function(t,e,n){if(!VS(t))throw Error(me(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=g4;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=m4(e,null,t,1,n??null,s,!1,i,o),t[$o]=e.current,hp(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Dw(e)};Bs.render=function(t,e,n){if(!jw(e))throw Error(me(200));return Bw(null,t,e,!1,n)};Bs.unmountComponentAtNode=function(t){if(!jw(t))throw Error(me(40));return t._reactRootContainer?(jc(function(){Bw(null,null,t,!1,function(){t._reactRootContainer=null,t[$o]=null})}),!0):!1};Bs.unstable_batchedUpdates=OS;Bs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jw(n))throw Error(me(200));if(t==null||t._reactInternals===void 0)throw Error(me(38));return Bw(t,e,n,!1,r)};Bs.version="18.3.1-next-f1338f8080-20240426";function y4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y4)}catch(t){console.error(t)}}y4(),yR.exports=Bs;var Rl=yR.exports;const TV=oa(Rl);var w4,JC=Rl;w4=JC.createRoot,JC.hydrateRoot;function IV(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var v4={exports:{}},x4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=k;function AV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var CV=typeof Object.is=="function"?Object.is:AV,NV=Qd.useState,kV=Qd.useEffect,MV=Qd.useLayoutEffect,RV=Qd.useDebugValue;function PV(t,e){var n=e(),r=NV({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return MV(function(){s.value=n,s.getSnapshot=e,B1(s)&&i({inst:s})},[t,n,e]),kV(function(){return B1(s)&&i({inst:s}),t(function(){B1(s)&&i({inst:s})})},[t]),RV(n),n}function B1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!CV(t,n)}catch{return!0}}function OV(t,e){return e()}var LV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?OV:PV;x4.useSyncExternalStore=Qd.useSyncExternalStore!==void 0?Qd.useSyncExternalStore:LV;v4.exports=x4;var DV=v4.exports;const jV=YE.useInsertionEffect,BV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FV=BV?k.useLayoutEffect:k.useEffect,UV=jV||FV,_4=t=>{const e=k.useRef([t,(...n)=>e[0](...n)]).current;return UV(()=>{e[0]=t}),e[1]},VV="popstate",zS="pushState",WS="replaceState",zV="hashchange",eN=[VV,zS,WS,zV],WV=t=>{for(const e of eN)addEventListener(e,t);return()=>{for(const e of eN)removeEventListener(e,t)}},b4=(t,e)=>DV.useSyncExternalStore(WV,t,e),$V=()=>location.search,HV=({ssrSearch:t=""}={})=>b4($V,()=>t),tN=()=>location.pathname,qV=({ssrPath:t}={})=>b4(tN,t?()=>t:tN),KV=(t,{replace:e=!1,state:n=null}={})=>history[e?WS:zS](n,"",t),GV=(t={})=>[qV(t),KV],nN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[nN]>"u"){for(const t of[zS,WS]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,nN,{value:!0})}const QV=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",E4=(t="")=>t==="/"?"":t,YV=(t,e)=>t[0]==="~"?t.slice(1):E4(e)+t,ZV=(t="",e)=>QV(rN(E4(t)),rN(e)),rN=t=>{try{return decodeURI(t)}catch{return t}},S4={hook:GV,searchHook:HV,parser:IV,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},T4=k.createContext(S4),rm=()=>k.useContext(T4),I4={},A4=k.createContext(I4),C4=()=>k.useContext(A4),Fw=t=>{const[e,n]=t.hook(t);return[ZV(t.base,e),_4((r,s)=>n(YV(r,t.base),s))]},sm=()=>Fw(rm()),N4=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((f,p)=>[f,l[p]])):o.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[a]:[]]:[!1,null]},XV=({children:t,...e})=>{var u,f;const n=rm(),r=e.hook?S4:n;let s=r;const[i,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=k.useRef({}),l=a.current,c=l;for(let p in r){const m=p==="base"?r[p]+(e[p]||""):e[p]||r[p];l===c&&m!==c[p]&&(a.current=c={...c}),c[p]=m,(m!==r[p]||m!==s[p])&&(s=c)}return k.createElement(T4.Provider,{value:s,children:t})},sN=({children:t,component:e},n)=>e?k.createElement(e,{params:n}):typeof t=="function"?t(n):t,JV=t=>{let e=k.useRef(I4);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},Su=({path:t,nest:e,match:n,...r})=>{const s=rm(),[i]=Fw(s),[o,a,l]=n??N4(s.parser,t,i,e),c=JV({...C4(),...a});if(!o)return null;const u=l?k.createElement(XV,{base:l},sN(r,c)):sN(r,c);return k.createElement(A4.Provider,{value:c,children:u})};k.forwardRef((t,e)=>{const n=rm(),[r,s]=Fw(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:u,replace:f,state:p,...m}=t,v=_4(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(a==null||a(w),w.defaultPrevented||(w.preventDefault(),s(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&k.isValidElement(c)?k.cloneElement(c,{onClick:v,href:g}):k.createElement("a",{...m,onClick:v,href:g,className:u!=null&&u.call?u(r===o):u,children:c,ref:e})});const k4=t=>Array.isArray(t)?t.flatMap(e=>k4(e&&e.type===k.Fragment?e.props.children:e)):[t],e9=({children:t,location:e})=>{const n=rm(),[r]=Fw(n);for(const s of k4(t)){let i=0;if(k.isValidElement(s)&&(i=N4(n.parser,s.props.path,e||r,s.props.nest))[0])return k.cloneElement(s,{match:i})}return null};var xh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bc=typeof window>"u"||"Deno"in globalThis;function es(){}function t9(t,e){return typeof t=="function"?t(e):t}function G_(t){return typeof t=="number"&&t>=0&&t!==1/0}function M4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ul(t,e){return typeof t=="function"?t(e):t}function pi(t,e){return typeof t=="function"?t(e):t}function iN(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==$S(o,e.options))return!1}else if(!_p(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function oN(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Fc(e.options.mutationKey)!==Fc(i))return!1}else if(!_p(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function $S(t,e){return((e==null?void 0:e.queryKeyHashFn)||Fc)(t)}function Fc(t){return JSON.stringify(t,(e,n)=>Q_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function _p(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>_p(t[n],e[n])):!1}function R4(t,e){if(t===e)return t;const n=aN(t)&&aN(e);if(n||Q_(t)&&Q_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=R4(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function wy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function aN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Q_(t){if(!lN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!lN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lN(t){return Object.prototype.toString.call(t)==="[object Object]"}function n9(t){return new Promise(e=>{setTimeout(e,t)})}function Y_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?R4(t,e):e}function r9(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function s9(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var HS=Symbol();function P4(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===HS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function O4(t,e){return typeof t=="function"?t(...e):!!t}var yc,Ba,Nd,QM,i9=(QM=class extends xh{constructor(){super();De(this,yc);De(this,Ba);De(this,Nd);Ie(this,Nd,e=>{if(!Bc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,Ba)||this.setEventListener(Y(this,Nd))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Ba))==null||e.call(this),Ie(this,Ba,void 0))}setEventListener(e){var n;Ie(this,Nd,e),(n=Y(this,Ba))==null||n.call(this),Ie(this,Ba,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,yc)!==e&&(Ie(this,yc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Y(this,yc)=="boolean"?Y(this,yc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yc=new WeakMap,Ba=new WeakMap,Nd=new WeakMap,QM),qS=new i9,kd,Fa,Md,YM,o9=(YM=class extends xh{constructor(){super();De(this,kd,!0);De(this,Fa);De(this,Md);Ie(this,Md,e=>{if(!Bc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,Fa)||this.setEventListener(Y(this,Md))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Fa))==null||e.call(this),Ie(this,Fa,void 0))}setEventListener(e){var n;Ie(this,Md,e),(n=Y(this,Fa))==null||n.call(this),Ie(this,Fa,e(this.setOnline.bind(this)))}setOnline(e){Y(this,kd)!==e&&(Ie(this,kd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,kd)}},kd=new WeakMap,Fa=new WeakMap,Md=new WeakMap,YM),vy=new o9;function Z_(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function a9(t){return Math.min(1e3*2**t,3e4)}function L4(t){return(t??"online")==="online"?vy.isOnline():!0}var D4=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function F1(t){return t instanceof D4}function j4(t){let e=!1,n=0,r=!1,s;const i=Z_(),o=g=>{var w;r||(p(new D4(g)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>qS.isFocused()&&(t.networkMode==="always"||vy.isOnline())&&t.canRun(),u=()=>L4(t.networkMode)&&t.canRun(),f=g=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,g),s==null||s(),i.resolve(g))},p=g=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var w;s=_=>{(r||c())&&g(_)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(r)return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(_){g=Promise.reject(_)}Promise.resolve(g).then(f).catch(_=>{var F;if(r)return;const b=t.retry??(Bc?0:3),x=t.retryDelay??a9,T=typeof x=="function"?x(n,_):x,D=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,_);if(e||!D){p(_);return}n++,(F=t.onFail)==null||F.call(t,n,_),n9(T).then(()=>c()?void 0:m()).then(()=>{e?p(_):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?v():m().then(v),i)}}var l9=t=>setTimeout(t,0);function c9(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=l9;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Zn=c9(),wc,ZM,B4=(ZM=class{constructor(){De(this,wc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),G_(this.gcTime)&&Ie(this,wc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Bc?1/0:5*60*1e3))}clearGcTimeout(){Y(this,wc)&&(clearTimeout(Y(this,wc)),Ie(this,wc,void 0))}},wc=new WeakMap,ZM),Rd,Pd,Ks,vc,Ur,Gp,xc,ui,yo,XM,u9=(XM=class extends B4{constructor(n){super();De(this,ui);De(this,Rd);De(this,Pd);De(this,Ks);De(this,vc);De(this,Ur);De(this,Gp);De(this,xc);Ie(this,xc,!1),Ie(this,Gp,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ie(this,vc,n.client),Ie(this,Ks,Y(this,vc).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ie(this,Rd,d9(this.options)),this.state=n.state??Y(this,Rd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Y(this,Ur))==null?void 0:n.promise}setOptions(n){this.options={...Y(this,Gp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Ks).remove(this)}setData(n,r){const s=Y_(this.state.data,n,this.options);return st(this,ui,yo).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){st(this,ui,yo).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=Y(this,Ur))==null?void 0:s.promise;return(i=Y(this,Ur))==null||i.cancel(n),r?r.then(es).catch(es):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Rd))}isActive(){return this.observers.some(n=>pi(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===HS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ul(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!M4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Y(this,Ur))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Y(this,Ur))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Y(this,Ks).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Y(this,Ur)&&(Y(this,xc)?Y(this,Ur).cancel({revert:!0}):Y(this,Ur).cancelRetry()),this.scheduleGc()),Y(this,Ks).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,ui,yo).call(this,{type:"invalidate"})}fetch(n,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Ur))return Y(this,Ur).continueRetry(),Y(this,Ur).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Ie(this,xc,!0),s.signal)})},o=()=>{const p=P4(this.options,r),m={client:Y(this,vc),queryKey:this.queryKey,meta:this.meta};return i(m),Ie(this,xc,!1),this.options.persister?this.options.persister(p,m,this):p(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,vc),state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Ie(this,Pd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&st(this,ui,yo).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var m,v,g,w;F1(p)&&p.silent||st(this,ui,yo).call(this,{type:"error",error:p}),F1(p)||((v=(m=Y(this,Ks).config).onError)==null||v.call(m,p,this),(w=(g=Y(this,Ks).config).onSettled)==null||w.call(g,this.state.data,p,this)),this.scheduleGc()};return Ie(this,Ur,j4({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var m,v,g,w;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(_){l(_);return}(v=(m=Y(this,Ks).config).onSuccess)==null||v.call(m,p,this),(w=(g=Y(this,Ks).config).onSettled)==null||w.call(g,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{st(this,ui,yo).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{st(this,ui,yo).call(this,{type:"pause"})},onContinue:()=>{st(this,ui,yo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Y(this,Ur).start()}},Rd=new WeakMap,Pd=new WeakMap,Ks=new WeakMap,vc=new WeakMap,Ur=new WeakMap,Gp=new WeakMap,xc=new WeakMap,ui=new WeakSet,yo=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...F4(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return F1(i)&&i.revert&&Y(this,Pd)?{...Y(this,Pd),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Zn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Y(this,Ks).notify({query:this,type:"updated",action:n})})},XM);function F4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:L4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function d9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Oi,JM,h9=(JM=class extends xh{constructor(e={}){super();De(this,Oi);this.config=e,Ie(this,Oi,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??$S(s,n);let o=this.get(i);return o||(o=new u9({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){Y(this,Oi).has(e.queryHash)||(Y(this,Oi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Y(this,Oi).get(e.queryHash);n&&(e.destroy(),n===e&&Y(this,Oi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Oi).get(e)}getAll(){return[...Y(this,Oi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>iN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>iN(e,r)):n}notify(e){Zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Oi=new WeakMap,JM),Li,Yr,_c,Di,ba,eR,f9=(eR=class extends B4{constructor(n){super();De(this,Di);De(this,Li);De(this,Yr);De(this,_c);this.mutationId=n.mutationId,Ie(this,Yr,n.mutationCache),Ie(this,Li,[]),this.state=n.state||U4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Y(this,Li).includes(n)||(Y(this,Li).push(n),this.clearGcTimeout(),Y(this,Yr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ie(this,Li,Y(this,Li).filter(r=>r!==n)),this.scheduleGc(),Y(this,Yr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Y(this,Li).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Yr).remove(this))}continue(){var n;return((n=Y(this,_c))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,u,f,p,m,v,g,w,_,b,x,T,D,F,R,M,U;const r=()=>{st(this,Di,ba).call(this,{type:"continue"})};Ie(this,_c,j4({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(W,$)=>{st(this,Di,ba).call(this,{type:"failed",failureCount:W,error:$})},onPause:()=>{st(this,Di,ba).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Yr).canRun(this)}));const s=this.state.status==="pending",i=!Y(this,_c).canStart();try{if(s)r();else{st(this,Di,ba).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=Y(this,Yr).config).onMutate)==null?void 0:a.call(o,n,this));const $=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));$!==this.state.context&&st(this,Di,ba).call(this,{type:"pending",context:$,variables:n,isPaused:i})}const W=await Y(this,_c).start();return await((f=(u=Y(this,Yr).config).onSuccess)==null?void 0:f.call(u,W,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,W,n,this.state.context)),await((g=(v=Y(this,Yr).config).onSettled)==null?void 0:g.call(v,W,null,this.state.variables,this.state.context,this)),await((_=(w=this.options).onSettled)==null?void 0:_.call(w,W,null,n,this.state.context)),st(this,Di,ba).call(this,{type:"success",data:W}),W}catch(W){try{throw await((x=(b=Y(this,Yr).config).onError)==null?void 0:x.call(b,W,n,this.state.context,this)),await((D=(T=this.options).onError)==null?void 0:D.call(T,W,n,this.state.context)),await((R=(F=Y(this,Yr).config).onSettled)==null?void 0:R.call(F,void 0,W,this.state.variables,this.state.context,this)),await((U=(M=this.options).onSettled)==null?void 0:U.call(M,void 0,W,n,this.state.context)),W}finally{st(this,Di,ba).call(this,{type:"error",error:W})}}finally{Y(this,Yr).runNext(this)}}},Li=new WeakMap,Yr=new WeakMap,_c=new WeakMap,Di=new WeakSet,ba=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zn.batch(()=>{Y(this,Li).forEach(s=>{s.onMutationUpdate(n)}),Y(this,Yr).notify({mutation:this,type:"updated",action:n})})},eR);function U4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var To,di,Qp,tR,p9=(tR=class extends xh{constructor(e={}){super();De(this,To);De(this,di);De(this,Qp);this.config=e,Ie(this,To,new Set),Ie(this,di,new Map),Ie(this,Qp,0)}build(e,n,r){const s=new f9({mutationCache:this,mutationId:++eg(this,Qp)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){Y(this,To).add(e);const n=wg(e);if(typeof n=="string"){const r=Y(this,di).get(n);r?r.push(e):Y(this,di).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,To).delete(e)){const n=wg(e);if(typeof n=="string"){const r=Y(this,di).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&Y(this,di).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=wg(e);if(typeof n=="string"){const r=Y(this,di).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=wg(e);if(typeof n=="string"){const s=(r=Y(this,di).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zn.batch(()=>{Y(this,To).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,To).clear(),Y(this,di).clear()})}getAll(){return Array.from(Y(this,To))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oN(n,r))}findAll(e={}){return this.getAll().filter(n=>oN(e,n))}notify(e){Zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Zn.batch(()=>Promise.all(e.map(n=>n.continue().catch(es))))}},To=new WeakMap,di=new WeakMap,Qp=new WeakMap,tR);function wg(t){var e;return(e=t.options.scope)==null?void 0:e.id}function cN(t){return{onFetch:(e,n)=>{var u,f,p,m,v;const r=e.options,s=(p=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},_=P4(e.options,e.fetchOptions),b=async(x,T,D)=>{if(g)return Promise.reject();if(T==null&&x.pages.length)return Promise.resolve(x);const F={client:e.client,queryKey:e.queryKey,pageParam:T,direction:D?"backward":"forward",meta:e.options.meta};w(F);const R=await _(F),{maxPages:M}=e.options,U=D?s9:r9;return{pages:U(x.pages,R,M),pageParams:U(x.pageParams,T,M)}};if(s&&i.length){const x=s==="backward",T=x?m9:uN,D={pages:i,pageParams:o},F=T(r,D);a=await b(D,F,x)}else{const x=t??i.length;do{const T=l===0?o[0]??r.initialPageParam:uN(r,a);if(l>0&&T==null)break;a=await b(a,T),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function uN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function m9(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var kn,Ua,Va,Od,Ld,za,Dd,jd,nR,g9=(nR=class{constructor(t={}){De(this,kn);De(this,Ua);De(this,Va);De(this,Od);De(this,Ld);De(this,za);De(this,Dd);De(this,jd);Ie(this,kn,t.queryCache||new h9),Ie(this,Ua,t.mutationCache||new p9),Ie(this,Va,t.defaultOptions||{}),Ie(this,Od,new Map),Ie(this,Ld,new Map),Ie(this,za,0)}mount(){eg(this,za)._++,Y(this,za)===1&&(Ie(this,Dd,qS.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,kn).onFocus())})),Ie(this,jd,vy.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,kn).onOnline())})))}unmount(){var t,e;eg(this,za)._--,Y(this,za)===0&&((t=Y(this,Dd))==null||t.call(this),Ie(this,Dd,void 0),(e=Y(this,jd))==null||e.call(this),Ie(this,jd,void 0))}isFetching(t){return Y(this,kn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,Ua).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,kn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Y(this,kn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ul(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Y(this,kn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=Y(this,kn).get(r.queryHash),i=s==null?void 0:s.state.data,o=t9(e,i);if(o!==void 0)return Y(this,kn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Zn.batch(()=>Y(this,kn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,kn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Y(this,kn);Zn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Y(this,kn);return Zn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Zn.batch(()=>Y(this,kn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(es).catch(es)}invalidateQueries(t,e={}){return Zn.batch(()=>(Y(this,kn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Zn.batch(()=>Y(this,kn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(es)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(es)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Y(this,kn).build(this,e);return n.isStaleByTime(ul(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(es).catch(es)}fetchInfiniteQuery(t){return t.behavior=cN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(es).catch(es)}ensureInfiniteQueryData(t){return t.behavior=cN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return vy.isOnline()?Y(this,Ua).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,kn)}getMutationCache(){return Y(this,Ua)}getDefaultOptions(){return Y(this,Va)}setDefaultOptions(t){Ie(this,Va,t)}setQueryDefaults(t,e){Y(this,Od).set(Fc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,Od).values()],n={};return e.forEach(r=>{_p(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Y(this,Ld).set(Fc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,Ld).values()],n={};return e.forEach(r=>{_p(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,Va).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=$S(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===HS&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,Va).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,kn).clear(),Y(this,Ua).clear()}},kn=new WeakMap,Ua=new WeakMap,Va=new WeakMap,Od=new WeakMap,Ld=new WeakMap,za=new WeakMap,Dd=new WeakMap,jd=new WeakMap,nR),ls,ft,Yp,Zr,bc,Bd,Wa,$a,Zp,Fd,Ud,Ec,Sc,Ha,Vd,It,xf,X_,J_,eb,tb,nb,rb,sb,V4,rR,y9=(rR=class extends xh{constructor(e,n){super();De(this,It);De(this,ls);De(this,ft);De(this,Yp);De(this,Zr);De(this,bc);De(this,Bd);De(this,Wa);De(this,$a);De(this,Zp);De(this,Fd);De(this,Ud);De(this,Ec);De(this,Sc);De(this,Ha);De(this,Vd,new Set);this.options=n,Ie(this,ls,e),Ie(this,$a,null),Ie(this,Wa,Z_()),this.options.experimental_prefetchInRender||Y(this,Wa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,ft).addObserver(this),dN(Y(this,ft),this.options)?st(this,It,xf).call(this):this.updateResult(),st(this,It,tb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ib(Y(this,ft),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ib(Y(this,ft),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,st(this,It,nb).call(this),st(this,It,rb).call(this),Y(this,ft).removeObserver(this)}setOptions(e){const n=this.options,r=Y(this,ft);if(this.options=Y(this,ls).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof pi(this.options.enabled,Y(this,ft))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");st(this,It,sb).call(this),Y(this,ft).setOptions(this.options),n._defaulted&&!wy(this.options,n)&&Y(this,ls).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,ft),observer:this});const s=this.hasListeners();s&&hN(Y(this,ft),r,this.options,n)&&st(this,It,xf).call(this),this.updateResult(),s&&(Y(this,ft)!==r||pi(this.options.enabled,Y(this,ft))!==pi(n.enabled,Y(this,ft))||ul(this.options.staleTime,Y(this,ft))!==ul(n.staleTime,Y(this,ft)))&&st(this,It,X_).call(this);const i=st(this,It,J_).call(this);s&&(Y(this,ft)!==r||pi(this.options.enabled,Y(this,ft))!==pi(n.enabled,Y(this,ft))||i!==Y(this,Ha))&&st(this,It,eb).call(this,i)}getOptimisticResult(e){const n=Y(this,ls).getQueryCache().build(Y(this,ls),e),r=this.createResult(n,e);return v9(this,r)&&(Ie(this,Zr,r),Ie(this,Bd,this.options),Ie(this,bc,Y(this,ft).state)),r}getCurrentResult(){return Y(this,Zr)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){Y(this,Vd).add(e)}getCurrentQuery(){return Y(this,ft)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Y(this,ls).defaultQueryOptions(e),r=Y(this,ls).getQueryCache().build(Y(this,ls),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return st(this,It,xf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,Zr)))}createResult(e,n){var U;const r=Y(this,ft),s=this.options,i=Y(this,Zr),o=Y(this,bc),a=Y(this,Bd),c=e!==r?e.state:Y(this,Yp),{state:u}=e;let f={...u},p=!1,m;if(n._optimisticResults){const W=this.hasListeners(),$=!W&&dN(e,n),q=W&&hN(e,r,n,s);($||q)&&(f={...f,...F4(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:w}=f;m=f.data;let _=!1;if(n.placeholderData!==void 0&&m===void 0&&w==="pending"){let W;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(W=i.data,_=!0):W=typeof n.placeholderData=="function"?n.placeholderData((U=Y(this,Ud))==null?void 0:U.state.data,Y(this,Ud)):n.placeholderData,W!==void 0&&(w="success",m=Y_(i==null?void 0:i.data,W,n),p=!0)}if(n.select&&m!==void 0&&!_)if(i&&m===(o==null?void 0:o.data)&&n.select===Y(this,Zp))m=Y(this,Fd);else try{Ie(this,Zp,n.select),m=n.select(m),m=Y_(i==null?void 0:i.data,m,n),Ie(this,Fd,m),Ie(this,$a,null)}catch(W){Ie(this,$a,W)}Y(this,$a)&&(v=Y(this,$a),m=Y(this,Fd),g=Date.now(),w="error");const b=f.fetchStatus==="fetching",x=w==="pending",T=w==="error",D=x&&b,F=m!==void 0,M={status:w,fetchStatus:f.fetchStatus,isPending:x,isSuccess:w==="success",isError:T,isInitialLoading:D,isLoading:D,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!x,isLoadingError:T&&!F,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:T&&F,isStale:KS(e,n),refetch:this.refetch,promise:Y(this,Wa)};if(this.options.experimental_prefetchInRender){const W=C=>{M.status==="error"?C.reject(M.error):M.data!==void 0&&C.resolve(M.data)},$=()=>{const C=Ie(this,Wa,M.promise=Z_());W(C)},q=Y(this,Wa);switch(q.status){case"pending":e.queryHash===r.queryHash&&W(q);break;case"fulfilled":(M.status==="error"||M.data!==q.value)&&$();break;case"rejected":(M.status!=="error"||M.error!==q.reason)&&$();break}}return M}updateResult(){const e=Y(this,Zr),n=this.createResult(Y(this,ft),this.options);if(Ie(this,bc,Y(this,ft).state),Ie(this,Bd,this.options),Y(this,bc).data!==void 0&&Ie(this,Ud,Y(this,ft)),wy(n,e))return;Ie(this,Zr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Y(this,Vd).size)return!0;const o=new Set(i??Y(this,Vd));return this.options.throwOnError&&o.add("error"),Object.keys(Y(this,Zr)).some(a=>{const l=a;return Y(this,Zr)[l]!==e[l]&&o.has(l)})};st(this,It,V4).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&st(this,It,tb).call(this)}},ls=new WeakMap,ft=new WeakMap,Yp=new WeakMap,Zr=new WeakMap,bc=new WeakMap,Bd=new WeakMap,Wa=new WeakMap,$a=new WeakMap,Zp=new WeakMap,Fd=new WeakMap,Ud=new WeakMap,Ec=new WeakMap,Sc=new WeakMap,Ha=new WeakMap,Vd=new WeakMap,It=new WeakSet,xf=function(e){st(this,It,sb).call(this);let n=Y(this,ft).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(es)),n},X_=function(){st(this,It,nb).call(this);const e=ul(this.options.staleTime,Y(this,ft));if(Bc||Y(this,Zr).isStale||!G_(e))return;const r=M4(Y(this,Zr).dataUpdatedAt,e)+1;Ie(this,Ec,setTimeout(()=>{Y(this,Zr).isStale||this.updateResult()},r))},J_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,ft)):this.options.refetchInterval)??!1},eb=function(e){st(this,It,rb).call(this),Ie(this,Ha,e),!(Bc||pi(this.options.enabled,Y(this,ft))===!1||!G_(Y(this,Ha))||Y(this,Ha)===0)&&Ie(this,Sc,setInterval(()=>{(this.options.refetchIntervalInBackground||qS.isFocused())&&st(this,It,xf).call(this)},Y(this,Ha)))},tb=function(){st(this,It,X_).call(this),st(this,It,eb).call(this,st(this,It,J_).call(this))},nb=function(){Y(this,Ec)&&(clearTimeout(Y(this,Ec)),Ie(this,Ec,void 0))},rb=function(){Y(this,Sc)&&(clearInterval(Y(this,Sc)),Ie(this,Sc,void 0))},sb=function(){const e=Y(this,ls).getQueryCache().build(Y(this,ls),this.options);if(e===Y(this,ft))return;const n=Y(this,ft);Ie(this,ft,e),Ie(this,Yp,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},V4=function(e){Zn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Y(this,Zr))}),Y(this,ls).getQueryCache().notify({query:Y(this,ft),type:"observerResultsUpdated"})})},rR);function w9(t,e){return pi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function dN(t,e){return w9(t,e)||t.state.data!==void 0&&ib(t,e,e.refetchOnMount)}function ib(t,e,n){if(pi(e.enabled,t)!==!1&&ul(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&KS(t,e)}return!1}function hN(t,e,n,r){return(t!==e||pi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&KS(t,n)}function KS(t,e){return pi(e.enabled,t)!==!1&&t.isStaleByTime(ul(e.staleTime,t))}function v9(t,e){return!wy(t.getCurrentResult(),e)}var qa,Ka,cs,Io,zo,i0,ob,sR,x9=(sR=class extends xh{constructor(n,r){super();De(this,zo);De(this,qa);De(this,Ka);De(this,cs);De(this,Io);Ie(this,qa,n),this.setOptions(r),this.bindMethods(),st(this,zo,i0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=Y(this,qa).defaultMutationOptions(n),wy(this.options,r)||Y(this,qa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,cs),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Fc(r.mutationKey)!==Fc(this.options.mutationKey)?this.reset():((s=Y(this,cs))==null?void 0:s.state.status)==="pending"&&Y(this,cs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Y(this,cs))==null||n.removeObserver(this)}onMutationUpdate(n){st(this,zo,i0).call(this),st(this,zo,ob).call(this,n)}getCurrentResult(){return Y(this,Ka)}reset(){var n;(n=Y(this,cs))==null||n.removeObserver(this),Ie(this,cs,void 0),st(this,zo,i0).call(this),st(this,zo,ob).call(this)}mutate(n,r){var s;return Ie(this,Io,r),(s=Y(this,cs))==null||s.removeObserver(this),Ie(this,cs,Y(this,qa).getMutationCache().build(Y(this,qa),this.options)),Y(this,cs).addObserver(this),Y(this,cs).execute(n)}},qa=new WeakMap,Ka=new WeakMap,cs=new WeakMap,Io=new WeakMap,zo=new WeakSet,i0=function(){var r;const n=((r=Y(this,cs))==null?void 0:r.state)??U4();Ie(this,Ka,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ob=function(n){Zn.batch(()=>{var r,s,i,o,a,l,c,u;if(Y(this,Io)&&this.hasListeners()){const f=Y(this,Ka).variables,p=Y(this,Ka).context;(n==null?void 0:n.type)==="success"?((s=(r=Y(this,Io)).onSuccess)==null||s.call(r,n.data,f,p),(o=(i=Y(this,Io)).onSettled)==null||o.call(i,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((l=(a=Y(this,Io)).onError)==null||l.call(a,n.error,f,p),(u=(c=Y(this,Io)).onSettled)==null||u.call(c,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(Y(this,Ka))})})},sR),z4=k.createContext(void 0),GS=t=>{const e=k.useContext(z4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},_9=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(z4.Provider,{value:t,children:e})),W4=k.createContext(!1),b9=()=>k.useContext(W4);W4.Provider;function E9(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var S9=k.createContext(E9()),T9=()=>k.useContext(S9),I9=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},A9=t=>{k.useEffect(()=>{t.clearReset()},[t])},C9=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||O4(n,[t.error,r])),N9=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},k9=(t,e)=>t.isLoading&&t.isFetching&&!e,M9=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,fN=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function R9(t,e,n){var f,p,m,v,g;const r=GS(),s=b9(),i=T9(),o=r.defaultQueryOptions(t);(p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",N9(o),I9(o,i),A9(i);const a=!r.getQueryCache().get(o.queryHash),[l]=k.useState(()=>new e(r,o)),c=l.getOptimisticResult(o),u=!s&&t.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(w=>{const _=u?l.subscribe(Zn.batchCalls(w)):es;return l.updateResult(),_},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),k.useEffect(()=>{l.setOptions(o)},[o,l]),M9(o,c))throw fN(o,l,i);if(C9({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((v=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,c),o.experimental_prefetchInRender&&!Bc&&k9(c,s)){const w=a?fN(o,l,i):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;w==null||w.catch(es).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function Ao(t,e){return R9(t,y9)}function Tu(t,e){const n=GS(),[r]=k.useState(()=>new x9(n,t));k.useEffect(()=>{r.setOptions(t)},[r,t]);const s=k.useSyncExternalStore(k.useCallback(o=>r.subscribe(Zn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=k.useCallback((o,a)=>{r.mutate(o,a).catch(es)},[r]);if(s.error&&O4(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function P9(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const O9=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e[0],{credentials:"include"});return await P9(n),await n.json()},L9=new g9({defaultOptions:{queries:{queryFn:O9({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),D9=1,j9=1e6;let U1=0;function B9(){return U1=(U1+1)%Number.MAX_SAFE_INTEGER,U1.toString()}const V1=new Map,pN=t=>{if(V1.has(t))return;const e=setTimeout(()=>{V1.delete(t),Kf({type:"REMOVE_TOAST",toastId:t})},j9);V1.set(t,e)},F9=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,D9)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?pN(n):t.toasts.forEach(r=>{pN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},o0=[];let a0={toasts:[]};function Kf(t){a0=F9(a0,t),o0.forEach(e=>{e(a0)})}function U9({...t}){const e=B9(),n=s=>Kf({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Kf({type:"DISMISS_TOAST",toastId:e});return Kf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function _h(){const[t,e]=k.useState(a0);return k.useEffect(()=>(o0.push(e),()=>{const n=o0.indexOf(e);n>-1&&o0.splice(n,1)}),[t]),{...t,toast:U9,dismiss:n=>Kf({type:"DISMISS_TOAST",toastId:n})}}function Ve(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function mN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $4(...t){return e=>{let n=!1;const r=t.map(s=>{const i=mN(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():mN(t[s],null)}}}}function jt(...t){return k.useCallback($4(...t),t)}function V9(t,e){const n=k.createContext(e),r=i=>{const{children:o,...a}=i,l=k.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=k.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function eo(t,e=[]){let n=[];function r(i,o){const a=k.createContext(o),l=n.length;n=[...n,o];const c=f=>{var _;const{scope:p,children:m,...v}=f,g=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,w=k.useMemo(()=>v,Object.values(v));return d.jsx(g.Provider,{value:w,children:m})};c.displayName=i+"Provider";function u(f,p){var g;const m=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,v=k.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>k.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return k.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,z9(s,...e)]}function z9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Yd(t){const e=$9(t),n=k.forwardRef((r,s)=>{const{children:i,...o}=r,a=k.Children.toArray(i),l=a.find(q9);if(l){const c=l.props.children,u=a.map(f=>f===l?k.Children.count(c)>1?k.Children.only(null):k.isValidElement(c)?c.props.children:null:f);return d.jsx(e,{...o,ref:s,children:k.isValidElement(c)?k.cloneElement(c,void 0,u):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var W9=Yd("Slot");function $9(t){const e=k.forwardRef((n,r)=>{const{children:s,...i}=n;if(k.isValidElement(s)){const o=G9(s),a=K9(i,s.props);return s.type!==k.Fragment&&(a.ref=r?$4(r,o):o),k.cloneElement(s,a)}return k.Children.count(s)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var H4=Symbol("radix.slottable");function H9(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=H4,e}function q9(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===H4}function K9(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function G9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function QS(t){const e=t+"CollectionProvider",[n,r]=eo(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:_}=g,b=ce.useRef(null),x=ce.useRef(new Map).current;return d.jsx(s,{scope:w,itemMap:x,collectionRef:b,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=Yd(a),c=ce.forwardRef((g,w)=>{const{scope:_,children:b}=g,x=i(a,_),T=jt(w,x.collectionRef);return d.jsx(l,{ref:T,children:b})});c.displayName=a;const u=t+"CollectionItemSlot",f="data-radix-collection-item",p=Yd(u),m=ce.forwardRef((g,w)=>{const{scope:_,children:b,...x}=g,T=ce.useRef(null),D=jt(w,T),F=i(u,_);return ce.useEffect(()=>(F.itemMap.set(T,{ref:T,...x}),()=>void F.itemMap.delete(T))),d.jsx(p,{[f]:"",ref:D,children:b})});m.displayName=u;function v(g){const w=i(t+"CollectionConsumer",g);return ce.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((F,R)=>x.indexOf(F.ref.current)-x.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},v,r]}var Q9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],et=Q9.reduce((t,e)=>{const n=Yd(`Primitive.${e}`),r=k.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function q4(t,e){t&&Rl.flushSync(()=>t.dispatchEvent(e))}function ni(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Y9(t,e=globalThis==null?void 0:globalThis.document){const n=ni(t);k.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Z9="DismissableLayer",ab="dismissableLayer.update",X9="dismissableLayer.pointerDownOutside",J9="dismissableLayer.focusOutside",gN,K4=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),im=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=k.useContext(K4),[u,f]=k.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=k.useState({}),v=jt(e,R=>f(R)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(w),b=u?g.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,T=b>=_,D=tz(R=>{const M=R.target,U=[...c.branches].some(W=>W.contains(M));!T||U||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},p),F=nz(R=>{const M=R.target;[...c.branches].some(W=>W.contains(M))||(i==null||i(R),o==null||o(R),R.defaultPrevented||a==null||a())},p);return Y9(R=>{b===c.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},p),k.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(gN=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),yN(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=gN)}},[u,p,n,c]),k.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),yN())},[u,c]),k.useEffect(()=>{const R=()=>m({});return document.addEventListener(ab,R),()=>document.removeEventListener(ab,R)},[]),d.jsx(et.div,{...l,ref:v,style:{pointerEvents:x?T?"auto":"none":void 0,...t.style},onFocusCapture:Ve(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Ve(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Ve(t.onPointerDownCapture,D.onPointerDownCapture)})});im.displayName=Z9;var ez="DismissableLayerBranch",G4=k.forwardRef((t,e)=>{const n=k.useContext(K4),r=k.useRef(null),s=jt(e,r);return k.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(et.div,{...t,ref:s})});G4.displayName=ez;function tz(t,e=globalThis==null?void 0:globalThis.document){const n=ni(t),r=k.useRef(!1),s=k.useRef(()=>{});return k.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Q4(X9,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function nz(t,e=globalThis==null?void 0:globalThis.document){const n=ni(t),r=k.useRef(!1);return k.useEffect(()=>{const s=i=>{i.target&&!r.current&&Q4(J9,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yN(){const t=new CustomEvent(ab);document.dispatchEvent(t)}function Q4(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?q4(s,i):s.dispatchEvent(i)}var rz=im,sz=G4,Sr=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},iz="Portal",Uw=k.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=k.useState(!1);Sr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?TV.createPortal(d.jsx(et.div,{...r,ref:e}),o):null});Uw.displayName=iz;function oz(t,e){return k.useReducer((n,r)=>e[n][r]??n,t)}var eu=t=>{const{present:e,children:n}=t,r=az(e),s=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),i=jt(r.ref,lz(s));return typeof n=="function"||r.isPresent?k.cloneElement(s,{ref:i}):null};eu.displayName="Presence";function az(t){const[e,n]=k.useState(),r=k.useRef(null),s=k.useRef(t),i=k.useRef("none"),o=t?"mounted":"unmounted",[a,l]=oz(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const c=vg(r.current);i.current=a==="mounted"?c:"none"},[a]),Sr(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,m=vg(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Sr(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=m=>{const g=vg(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},p=m=>{m.target===e&&(i.current=vg(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:k.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function vg(t){return(t==null?void 0:t.animationName)||"none"}function lz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cz=YE[" useInsertionEffect ".trim().toString()]||Sr;function Uc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=uz({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const u=k.useRef(t!==void 0);k.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=k.useCallback(u=>{var f;if(a){const p=dz(u)?u(t):u;p!==t&&((f=o.current)==null||f.call(o,p))}else i(u)},[a,t,i,o]);return[l,c]}function uz({defaultProp:t,onChange:e}){const[n,r]=k.useState(t),s=k.useRef(n),i=k.useRef(e);return cz(()=>{i.current=e},[e]),k.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function dz(t){return typeof t=="function"}var Y4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hz="VisuallyHidden",Vw=k.forwardRef((t,e)=>d.jsx(et.span,{...t,ref:e,style:{...Y4,...t.style}}));Vw.displayName=hz;var fz=Vw,YS="ToastProvider",[ZS,pz,mz]=QS("Toast"),[Z4,Wde]=eo("Toast",[mz]),[gz,zw]=Z4(YS),X4=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=k.useState(null),[c,u]=k.useState(0),f=k.useRef(!1),p=k.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${YS}\`. Expected non-empty \`string\`.`),d.jsx(ZS.Provider,{scope:e,children:d.jsx(gz,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:k.useCallback(()=>u(m=>m+1),[]),onToastRemove:k.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};X4.displayName=YS;var J4="ToastViewport",yz=["F8"],lb="toast.viewportPause",cb="toast.viewportResume",eO=k.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=yz,label:s="Notifications ({hotkey})",...i}=t,o=zw(J4,n),a=pz(n),l=k.useRef(null),c=k.useRef(null),u=k.useRef(null),f=k.useRef(null),p=jt(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;k.useEffect(()=>{const w=_=>{var x;r.length!==0&&r.every(T=>_[T]||_.code===T)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),k.useEffect(()=>{const w=l.current,_=f.current;if(v&&w&&_){const b=()=>{if(!o.isClosePausedRef.current){const F=new CustomEvent(lb);_.dispatchEvent(F),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const F=new CustomEvent(cb);_.dispatchEvent(F),o.isClosePausedRef.current=!1}},T=F=>{!w.contains(F.relatedTarget)&&x()},D=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",b),w.addEventListener("focusout",T),w.addEventListener("pointermove",b),w.addEventListener("pointerleave",D),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",b),w.removeEventListener("focusout",T),w.removeEventListener("pointermove",b),w.removeEventListener("pointerleave",D),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const g=k.useCallback(({tabbingDirection:w})=>{const b=a().map(x=>{const T=x.ref.current,D=[T,...kz(T)];return w==="forwards"?D:D.reverse()});return(w==="forwards"?b.reverse():b).flat()},[a]);return k.useEffect(()=>{const w=f.current;if(w){const _=b=>{var D,F,R;const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const M=document.activeElement,U=b.shiftKey;if(b.target===w&&U){(D=c.current)==null||D.focus();return}const q=g({tabbingDirection:U?"backwards":"forwards"}),C=q.findIndex(y=>y===M);z1(q.slice(C+1))?b.preventDefault():U?(F=c.current)==null||F.focus():(R=u.current)==null||R.focus()}};return w.addEventListener("keydown",_),()=>w.removeEventListener("keydown",_)}},[a,g]),d.jsxs(sz,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&d.jsx(ub,{ref:c,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});z1(w)}}),d.jsx(ZS.Slot,{scope:n,children:d.jsx(et.ol,{tabIndex:-1,...i,ref:p})}),v&&d.jsx(ub,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});z1(w)}})]})});eO.displayName=J4;var tO="ToastFocusProxy",ub=k.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=zw(tO,n);return d.jsx(Vw,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});ub.displayName=tO;var om="Toast",wz="toast.swipeStart",vz="toast.swipeMove",xz="toast.swipeCancel",_z="toast.swipeEnd",nO=k.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Uc({prop:r,defaultProp:s??!0,onChange:i,caller:om});return d.jsx(eu,{present:n||a,children:d.jsx(Sz,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ni(t.onPause),onResume:ni(t.onResume),onSwipeStart:Ve(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ve(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ve(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ve(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});nO.displayName=om;var[bz,Ez]=Z4(om,{onClose(){}}),Sz=k.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...v}=t,g=zw(om,n),[w,_]=k.useState(null),b=jt(e,y=>_(y)),x=k.useRef(null),T=k.useRef(null),D=s||g.duration,F=k.useRef(0),R=k.useRef(D),M=k.useRef(0),{onToastAdd:U,onToastRemove:W}=g,$=ni(()=>{var I;(w==null?void 0:w.contains(document.activeElement))&&((I=g.viewport)==null||I.focus()),o()}),q=k.useCallback(y=>{!y||y===1/0||(window.clearTimeout(M.current),F.current=new Date().getTime(),M.current=window.setTimeout($,y))},[$]);k.useEffect(()=>{const y=g.viewport;if(y){const I=()=>{q(R.current),c==null||c()},O=()=>{const z=new Date().getTime()-F.current;R.current=R.current-z,window.clearTimeout(M.current),l==null||l()};return y.addEventListener(lb,O),y.addEventListener(cb,I),()=>{y.removeEventListener(lb,O),y.removeEventListener(cb,I)}}},[g.viewport,D,l,c,q]),k.useEffect(()=>{i&&!g.isClosePausedRef.current&&q(D)},[i,D,g.isClosePausedRef,q]),k.useEffect(()=>(U(),()=>W()),[U,W]);const C=k.useMemo(()=>w?cO(w):null,[w]);return g.viewport?d.jsxs(d.Fragment,{children:[C&&d.jsx(Tz,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:C}),d.jsx(bz,{scope:n,onClose:$,children:Rl.createPortal(d.jsx(ZS.ItemSlot,{scope:n,children:d.jsx(rz,{asChild:!0,onEscapeKeyDown:Ve(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||$(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(et.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ve(t.onKeyDown,y=>{y.key==="Escape"&&(a==null||a(y.nativeEvent),y.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:Ve(t.onPointerDown,y=>{y.button===0&&(x.current={x:y.clientX,y:y.clientY})}),onPointerMove:Ve(t.onPointerMove,y=>{if(!x.current)return;const I=y.clientX-x.current.x,O=y.clientY-x.current.y,z=!!T.current,L=["left","right"].includes(g.swipeDirection),j=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=L?j(0,I):0,B=L?0:j(0,O),S=y.pointerType==="touch"?10:2,K={x:H,y:B},ae={originalEvent:y,delta:K};z?(T.current=K,xg(vz,f,ae,{discrete:!1})):wN(K,g.swipeDirection,S)?(T.current=K,xg(wz,u,ae,{discrete:!1}),y.target.setPointerCapture(y.pointerId)):(Math.abs(I)>S||Math.abs(O)>S)&&(x.current=null)}),onPointerUp:Ve(t.onPointerUp,y=>{const I=T.current,O=y.target;if(O.hasPointerCapture(y.pointerId)&&O.releasePointerCapture(y.pointerId),T.current=null,x.current=null,I){const z=y.currentTarget,L={originalEvent:y,delta:I};wN(I,g.swipeDirection,g.swipeThreshold)?xg(_z,m,L,{discrete:!0}):xg(xz,p,L,{discrete:!0}),z.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Tz=t=>{const{__scopeToast:e,children:n,...r}=t,s=zw(om,e),[i,o]=k.useState(!1),[a,l]=k.useState(!1);return Cz(()=>o(!0)),k.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(Uw,{asChild:!0,children:d.jsx(Vw,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},Iz="ToastTitle",rO=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(et.div,{...r,ref:e})});rO.displayName=Iz;var Az="ToastDescription",sO=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(et.div,{...r,ref:e})});sO.displayName=Az;var iO="ToastAction",oO=k.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(lO,{altText:n,asChild:!0,children:d.jsx(XS,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${iO}\`. Expected non-empty \`string\`.`),null)});oO.displayName=iO;var aO="ToastClose",XS=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Ez(aO,n);return d.jsx(lO,{asChild:!0,children:d.jsx(et.button,{type:"button",...r,ref:e,onClick:Ve(t.onClick,s.onClose)})})});XS.displayName=aO;var lO=k.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function cO(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Nz(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...cO(r))}}),e}function xg(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?q4(s,i):s.dispatchEvent(i)}var wN=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Cz(t=()=>{}){const e=ni(t);Sr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Nz(t){return t.nodeType===t.ELEMENT_NODE}function kz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function z1(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Mz=X4,uO=eO,dO=nO,hO=rO,fO=sO,pO=oO,mO=XS;function gO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=gO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yO(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=gO(t))&&(r&&(r+=" "),r+=e);return r}const vN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,xN=yO,am=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return xN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],f=i==null?void 0:i[c];if(u===null)return null;const p=vN(u)||vN(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,p]=u;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:p,...m}=u;return Object.entries(m).every(v=>{let[g,w]=v;return Array.isArray(w)?w.includes({...i,...a}[g]):{...i,...a}[g]===w})?[...c,f,p]:c},[]);return xN(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wO=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>k.createElement("svg",{ref:l,...Pz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:wO("lucide",s),...a},[...o.map(([c,u])=>k.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(t,e)=>{const n=k.forwardRef(({className:r,...s},i)=>k.createElement(Oz,{ref:i,iconNode:e,className:wO(`lucide-${Rz(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=Ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=Ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=Ze("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=Ze("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=Ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=Ze("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=Ze("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=Ze("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=Ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=Ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=Ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=Ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=Ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=Ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Ze("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=Ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=Ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=Ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=Ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=Ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=Ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=Ze("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=Ze("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=Ze("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=Ze("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=Ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=Ze("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=Ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=Ze("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=Ze("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=Ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=Ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=Ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=Ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=Ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=Ze("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=Ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),rT="-",e7=t=>{const e=n7(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(rT);return a[0]===""&&a.length!==1&&a.shift(),SO(a,e)||t7(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},SO=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?SO(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(rT);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},NN=/^\[(.+)\]$/,t7=t=>{if(NN.test(t)){const e=NN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},n7=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return s7(Object.entries(t.classGroups),n).forEach(([i,o])=>{db(o,r,i,e)}),r},db=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:kN(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(r7(s)){db(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{db(o,kN(e,i),n,r)})})},kN=(t,e)=>{let n=t;return e.split(rT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},r7=t=>t.isThemeGetter,s7=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,i7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},TO="!",o7=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,f;for(let w=0;w<a.length;w++){let _=a[w];if(c===0){if(_===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(u,w)),u=w+i;continue}if(_==="/"){f=w;continue}}_==="["?c++:_==="]"&&c--}const p=l.length===0?a:a.substring(u),m=p.startsWith(TO),v=m?p.substring(1):p,g=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},a7=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},l7=t=>({cache:i7(t.cacheSize),parseClassName:o7(t),...e7(t)}),c7=/\s+/,u7=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(c7);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let v=!!m,g=r(v?p.substring(0,m):p);if(!g){if(!v){a=c+(a.length>0?" "+a:a);continue}if(g=r(p),!g){a=c+(a.length>0?" "+a:a);continue}v=!1}const w=a7(u).join(":"),_=f?w+TO:w,b=_+g;if(i.includes(b))continue;i.push(b);const x=s(g,v);for(let T=0;T<x.length;++T){const D=x[T];i.push(_+D)}a=c+(a.length>0?" "+a:a)}return a};function d7(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=IO(e))&&(r&&(r+=" "),r+=n);return r}const IO=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=IO(t[r]))&&(n&&(n+=" "),n+=e);return n};function h7(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,f)=>f(u),t());return n=l7(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=u7(l,n);return s(l,u),u}return function(){return i(d7.apply(null,arguments))}}const tn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},AO=/^\[(?:([a-z-]+):)?(.+)\]$/i,f7=/^\d+\/\d+$/,p7=new Set(["px","full","screen"]),m7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,g7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,y7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,w7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,v7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fo=t=>gd(t)||p7.has(t)||f7.test(t),fa=t=>bh(t,"length",A7),gd=t=>!!t&&!Number.isNaN(Number(t)),H1=t=>bh(t,"number",gd),of=t=>!!t&&Number.isInteger(Number(t)),x7=t=>t.endsWith("%")&&gd(t.slice(0,-1)),rt=t=>AO.test(t),pa=t=>m7.test(t),_7=new Set(["length","size","percentage"]),b7=t=>bh(t,_7,CO),E7=t=>bh(t,"position",CO),S7=new Set(["image","url"]),T7=t=>bh(t,S7,N7),I7=t=>bh(t,"",C7),af=()=>!0,bh=(t,e,n)=>{const r=AO.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},A7=t=>g7.test(t)&&!y7.test(t),CO=()=>!1,C7=t=>w7.test(t),N7=t=>v7.test(t),k7=()=>{const t=tn("colors"),e=tn("spacing"),n=tn("blur"),r=tn("brightness"),s=tn("borderColor"),i=tn("borderRadius"),o=tn("borderSpacing"),a=tn("borderWidth"),l=tn("contrast"),c=tn("grayscale"),u=tn("hueRotate"),f=tn("invert"),p=tn("gap"),m=tn("gradientColorStops"),v=tn("gradientColorStopPositions"),g=tn("inset"),w=tn("margin"),_=tn("opacity"),b=tn("padding"),x=tn("saturate"),T=tn("scale"),D=tn("sepia"),F=tn("skew"),R=tn("space"),M=tn("translate"),U=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",rt,e],q=()=>[rt,e],C=()=>["",fo,fa],y=()=>["auto",gd,rt],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",rt],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[gd,rt];return{cacheSize:500,separator:":",theme:{colors:[af],spacing:[fo,fa],blur:["none","",pa,rt],brightness:B(),borderColor:[t],borderRadius:["none","","full",pa,rt],borderSpacing:q(),borderWidth:C(),contrast:B(),grayscale:j(),hueRotate:B(),invert:j(),gap:q(),gradientColorStops:[t],gradientColorStopPositions:[x7,fa],inset:$(),margin:$(),opacity:B(),padding:q(),saturate:B(),scale:B(),sepia:j(),skew:B(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[pa]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),rt]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",of,rt]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",of,rt]}],"grid-cols":[{"grid-cols":[af]}],"col-start-end":[{col:["auto",{span:["full",of,rt]},rt]}],"col-start":[{"col-start":y()}],"col-end":[{"col-end":y()}],"grid-rows":[{"grid-rows":[af]}],"row-start-end":[{row:["auto",{span:[of,rt]},rt]}],"row-start":[{"row-start":y()}],"row-end":[{"row-end":y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,e]}],"min-w":[{"min-w":[rt,e,"min","max","fit"]}],"max-w":[{"max-w":[rt,e,"none","full","min","max","fit","prose",{screen:[pa]},pa]}],h:[{h:[rt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pa,fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",H1]}],"font-family":[{font:[af]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",gd,H1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fo,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fo,fa]}],"underline-offset":[{"underline-offset":["auto",fo,rt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),E7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",b7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},T7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[fo,rt]}],"outline-w":[{outline:[fo,fa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[fo,fa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",pa,I7]}],"shadow-color":[{shadow:[af]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",pa,rt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[of,rt]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[fo,fa,H1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},M7=h7(k7);function We(...t){return M7(yO(t))}const R7=Mz,NO=k.forwardRef(({className:t,...e},n)=>d.jsx(uO,{ref:n,className:We("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));NO.displayName=uO.displayName;const P7=am("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kO=k.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(dO,{ref:r,className:We(P7({variant:e}),t),...n}));kO.displayName=dO.displayName;const O7=k.forwardRef(({className:t,...e},n)=>d.jsx(pO,{ref:n,className:We("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));O7.displayName=pO.displayName;const MO=k.forwardRef(({className:t,...e},n)=>d.jsx(mO,{ref:n,className:We("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(nT,{className:"h-4 w-4"})}));MO.displayName=mO.displayName;const RO=k.forwardRef(({className:t,...e},n)=>d.jsx(hO,{ref:n,className:We("text-sm font-semibold",t),...e}));RO.displayName=hO.displayName;const PO=k.forwardRef(({className:t,...e},n)=>d.jsx(fO,{ref:n,className:We("text-sm opacity-90",t),...e}));PO.displayName=fO.displayName;function L7(){const{toasts:t}=_h();return d.jsxs(R7,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(kO,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(RO,{children:n}),r&&d.jsx(PO,{children:r})]}),s,d.jsx(MO,{})]},e)}),d.jsx(NO,{})]})}var D7=YE[" useId ".trim().toString()]||(()=>{}),j7=0;function hl(t){const[e,n]=k.useState(D7());return Sr(()=>{n(r=>r??String(j7++))},[t]),e?`radix-${e}`:""}const B7=["top","right","bottom","left"],xl=Math.min,ks=Math.max,xy=Math.round,bg=Math.floor,$i=t=>({x:t,y:t}),F7={left:"right",right:"left",bottom:"top",top:"bottom"},U7={start:"end",end:"start"};function hb(t,e,n){return ks(t,xl(e,n))}function Ko(t,e){return typeof t=="function"?t(e):t}function Go(t){return t.split("-")[0]}function Eh(t){return t.split("-")[1]}function sT(t){return t==="x"?"y":"x"}function iT(t){return t==="y"?"height":"width"}function Vo(t){return["top","bottom"].includes(Go(t))?"y":"x"}function oT(t){return sT(Vo(t))}function V7(t,e,n){n===void 0&&(n=!1);const r=Eh(t),s=oT(t),i=iT(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=_y(o)),[o,_y(o)]}function z7(t){const e=_y(t);return[fb(t),e,fb(e)]}function fb(t){return t.replace(/start|end/g,e=>U7[e])}function W7(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function $7(t,e,n,r){const s=Eh(t);let i=W7(Go(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(fb)))),i}function _y(t){return t.replace(/left|right|bottom|top/g,e=>F7[e])}function H7(t){return{top:0,right:0,bottom:0,left:0,...t}}function OO(t){return typeof t!="number"?H7(t):{top:t,right:t,bottom:t,left:t}}function by(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function MN(t,e,n){let{reference:r,floating:s}=t;const i=Vo(e),o=oT(e),a=iT(o),l=Go(e),c=i==="y",u=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-s.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Eh(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const q7=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:f}=MN(c,r,l),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:w,fn:_}=a[g],{x:b,y:x,data:T,reset:D}=await _({x:u,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});u=b??u,f=x??f,m={...m,[w]:{...m[w],...T}},D&&v<=50&&(v++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:u,y:f}=MN(c,p,l)),g=-1)}return{x:u,y:f,placement:p,strategy:s,middlewareData:m}};async function Sp(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Ko(e,t),v=OO(m),w=a[p?f==="floating"?"reference":"floating":f],_=by(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),T=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},D=by(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:x,strategy:l}):b);return{top:(_.top-D.top+v.top)/T.y,bottom:(D.bottom-_.bottom+v.bottom)/T.y,left:(_.left-D.left+v.left)/T.x,right:(D.right-_.right+v.right)/T.x}}const K7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ko(t,e)||{};if(c==null)return{};const f=OO(u),p={x:n,y:r},m=oT(s),v=iT(m),g=await o.getDimensions(c),w=m==="y",_=w?"top":"left",b=w?"bottom":"right",x=w?"clientHeight":"clientWidth",T=i.reference[v]+i.reference[m]-p[m]-i.floating[v],D=p[m]-i.reference[m],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let R=F?F[x]:0;(!R||!await(o.isElement==null?void 0:o.isElement(F)))&&(R=a.floating[x]||i.floating[v]);const M=T/2-D/2,U=R/2-g[v]/2-1,W=xl(f[_],U),$=xl(f[b],U),q=W,C=R-g[v]-$,y=R/2-g[v]/2+M,I=hb(q,y,C),O=!l.arrow&&Eh(s)!=null&&y!==I&&i.reference[v]/2-(y<q?W:$)-g[v]/2<0,z=O?y<q?y-q:y-C:0;return{[m]:p[m]+z,data:{[m]:I,centerOffset:y-I-z,...O&&{alignmentOffset:z}},reset:O}}}),G7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...w}=Ko(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Go(s),b=Vo(a),x=Go(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=p||(x||!g?[_y(a)]:z7(a)),F=v!=="none";!p&&F&&D.push(...$7(a,g,v,T));const R=[a,...D],M=await Sp(e,w),U=[];let W=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&U.push(M[_]),f){const I=V7(s,o,T);U.push(M[I[0]],M[I[1]])}if(W=[...W,{placement:s,overflows:U}],!U.every(I=>I<=0)){var $,q;const I=((($=i.flip)==null?void 0:$.index)||0)+1,O=R[I];if(O){var C;const L=f==="alignment"?b!==Vo(O):!1,j=((C=W[0])==null?void 0:C.overflows[0])>0;if(!L||j)return{data:{index:I,overflows:W},reset:{placement:O}}}let z=(q=W.filter(L=>L.overflows[0]<=0).sort((L,j)=>L.overflows[1]-j.overflows[1])[0])==null?void 0:q.placement;if(!z)switch(m){case"bestFit":{var y;const L=(y=W.filter(j=>{if(F){const H=Vo(j.placement);return H===b||H==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(H=>H>0).reduce((H,B)=>H+B,0)]).sort((j,H)=>j[1]-H[1])[0])==null?void 0:y[0];L&&(z=L);break}case"initialPlacement":z=a;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function RN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function PN(t){return B7.some(e=>t[e]>=0)}const Q7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ko(t,e);switch(r){case"referenceHidden":{const i=await Sp(e,{...s,elementContext:"reference"}),o=RN(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:PN(o)}}}case"escaped":{const i=await Sp(e,{...s,altBoundary:!0}),o=RN(i,n.floating);return{data:{escapedOffsets:o,escaped:PN(o)}}}default:return{}}}}};async function Y7(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Go(n),a=Eh(n),l=Vo(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,f=Ko(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const Z7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await Y7(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},X7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:_,y:b}=w;return{x:_,y:b}}},...l}=Ko(t,e),c={x:n,y:r},u=await Sp(e,l),f=Vo(Go(s)),p=sT(f);let m=c[p],v=c[f];if(i){const w=p==="y"?"top":"left",_=p==="y"?"bottom":"right",b=m+u[w],x=m-u[_];m=hb(b,m,x)}if(o){const w=f==="y"?"top":"left",_=f==="y"?"bottom":"right",b=v+u[w],x=v-u[_];v=hb(b,v,x)}const g=a.fn({...e,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:i,[f]:o}}}}}},J7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ko(t,e),u={x:n,y:r},f=Vo(s),p=sT(f);let m=u[p],v=u[f];const g=Ko(a,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=p==="y"?"height":"width",T=i.reference[p]-i.floating[x]+w.mainAxis,D=i.reference[p]+i.reference[x]-w.mainAxis;m<T?m=T:m>D&&(m=D)}if(c){var _,b;const x=p==="y"?"width":"height",T=["top","left"].includes(Go(s)),D=i.reference[f]-i.floating[x]+(T&&((_=o.offset)==null?void 0:_[f])||0)+(T?0:w.crossAxis),F=i.reference[f]+i.reference[x]+(T?0:((b=o.offset)==null?void 0:b[f])||0)-(T?w.crossAxis:0);v<D?v=D:v>F&&(v=F)}return{[p]:m,[f]:v}}}},eW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ko(t,e),u=await Sp(e,c),f=Go(s),p=Eh(s),m=Vo(s)==="y",{width:v,height:g}=i.floating;let w,_;f==="top"||f==="bottom"?(w=f,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,w=p==="end"?"top":"bottom");const b=g-u.top-u.bottom,x=v-u.left-u.right,T=xl(g-u[w],b),D=xl(v-u[_],x),F=!e.middlewareData.shift;let R=T,M=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=b),F&&!p){const W=ks(u.left,0),$=ks(u.right,0),q=ks(u.top,0),C=ks(u.bottom,0);m?M=v-2*(W!==0||$!==0?W+$:ks(u.left,u.right)):R=g-2*(q!==0||C!==0?q+C:ks(u.top,u.bottom))}await l({...e,availableWidth:M,availableHeight:R});const U=await o.getDimensions(a.floating);return v!==U.width||g!==U.height?{reset:{rects:!0}}:{}}}};function $w(){return typeof window<"u"}function Sh(t){return LO(t)?(t.nodeName||"").toLowerCase():"#document"}function Os(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function to(t){var e;return(e=(LO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function LO(t){return $w()?t instanceof Node||t instanceof Os(t).Node:!1}function Ei(t){return $w()?t instanceof Element||t instanceof Os(t).Element:!1}function Yi(t){return $w()?t instanceof HTMLElement||t instanceof Os(t).HTMLElement:!1}function ON(t){return!$w()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Os(t).ShadowRoot}function cm(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Si(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function tW(t){return["table","td","th"].includes(Sh(t))}function Hw(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function aT(t){const e=lT(),n=Ei(t)?Si(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function nW(t){let e=_l(t);for(;Yi(e)&&!Zd(e);){if(aT(e))return e;if(Hw(e))return null;e=_l(e)}return null}function lT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zd(t){return["html","body","#document"].includes(Sh(t))}function Si(t){return Os(t).getComputedStyle(t)}function qw(t){return Ei(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _l(t){if(Sh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ON(t)&&t.host||to(t);return ON(e)?e.host:e}function DO(t){const e=_l(t);return Zd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yi(e)&&cm(e)?e:DO(e)}function Tp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=DO(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Os(s);if(i){const a=pb(o);return e.concat(o,o.visualViewport||[],cm(s)?s:[],a&&n?Tp(a):[])}return e.concat(s,Tp(s,[],n))}function pb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function jO(t){const e=Si(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Yi(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=xy(n)!==i||xy(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function cT(t){return Ei(t)?t:t.contextElement}function yd(t){const e=cT(t);if(!Yi(e))return $i(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=jO(e);let o=(i?xy(n.width):n.width)/r,a=(i?xy(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const rW=$i(0);function BO(t){const e=Os(t);return!lT()||!e.visualViewport?rW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Os(t)?!1:e}function Vc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=cT(t);let o=$i(1);e&&(r?Ei(r)&&(o=yd(r)):o=yd(t));const a=sW(i,n,r)?BO(i):$i(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(i){const p=Os(i),m=r&&Ei(r)?Os(r):r;let v=p,g=pb(v);for(;g&&r&&m!==v;){const w=yd(g),_=g.getBoundingClientRect(),b=Si(g),x=_.left+(g.clientLeft+parseFloat(b.paddingLeft))*w.x,T=_.top+(g.clientTop+parseFloat(b.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,f*=w.y,l+=x,c+=T,v=Os(g),g=pb(v)}}return by({width:u,height:f,x:l,y:c})}function uT(t,e){const n=qw(t).scrollLeft;return e?e.left+n:Vc(to(t)).left+n}function FO(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:uT(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function iW(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=to(r),a=e?Hw(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=$i(1);const u=$i(0),f=Yi(r);if((f||!f&&!i)&&((Sh(r)!=="body"||cm(o))&&(l=qw(r)),Yi(r))){const m=Vc(r);c=yd(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const p=o&&!f&&!i?FO(o,l,!0):$i(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function oW(t){return Array.from(t.getClientRects())}function aW(t){const e=to(t),n=qw(t),r=t.ownerDocument.body,s=ks(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ks(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+uT(t);const a=-n.scrollTop;return Si(r).direction==="rtl"&&(o+=ks(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function lW(t,e){const n=Os(t),r=to(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=lT();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function cW(t,e){const n=Vc(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Yi(t)?yd(t):$i(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function LN(t,e,n){let r;if(e==="viewport")r=lW(t,n);else if(e==="document")r=aW(to(t));else if(Ei(e))r=cW(e,n);else{const s=BO(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return by(r)}function UO(t,e){const n=_l(t);return n===e||!Ei(n)||Zd(n)?!1:Si(n).position==="fixed"||UO(n,e)}function uW(t,e){const n=e.get(t);if(n)return n;let r=Tp(t,[],!1).filter(a=>Ei(a)&&Sh(a)!=="body"),s=null;const i=Si(t).position==="fixed";let o=i?_l(t):t;for(;Ei(o)&&!Zd(o);){const a=Si(o),l=aT(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||cm(o)&&!l&&UO(t,o))?r=r.filter(u=>u!==o):s=a,o=_l(o)}return e.set(t,r),r}function dW(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Hw(e)?[]:uW(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const f=LN(e,u,s);return c.top=ks(f.top,c.top),c.right=xl(f.right,c.right),c.bottom=xl(f.bottom,c.bottom),c.left=ks(f.left,c.left),c},LN(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function hW(t){const{width:e,height:n}=jO(t);return{width:e,height:n}}function fW(t,e,n){const r=Yi(e),s=to(e),i=n==="fixed",o=Vc(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=$i(0);function c(){l.x=uT(s)}if(r||!r&&!i)if((Sh(e)!=="body"||cm(s))&&(a=qw(e)),r){const m=Vc(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?FO(s,a):$i(0),f=o.left+a.scrollLeft-l.x-u.x,p=o.top+a.scrollTop-l.y-u.y;return{x:f,y:p,width:o.width,height:o.height}}function q1(t){return Si(t).position==="static"}function DN(t,e){if(!Yi(t)||Si(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return to(t)===n&&(n=n.ownerDocument.body),n}function VO(t,e){const n=Os(t);if(Hw(t))return n;if(!Yi(t)){let s=_l(t);for(;s&&!Zd(s);){if(Ei(s)&&!q1(s))return s;s=_l(s)}return n}let r=DN(t,e);for(;r&&tW(r)&&q1(r);)r=DN(r,e);return r&&Zd(r)&&q1(r)&&!aT(r)?n:r||nW(t)||n}const pW=async function(t){const e=this.getOffsetParent||VO,n=this.getDimensions,r=await n(t.floating);return{reference:fW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mW(t){return Si(t).direction==="rtl"}const gW={convertOffsetParentRelativeRectToViewportRelativeRect:iW,getDocumentElement:to,getClippingRect:dW,getOffsetParent:VO,getElementRects:pW,getClientRects:oW,getDimensions:hW,getScale:yd,isElement:Ei,isRTL:mW};function zO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yW(t,e){let n=null,r;const s=to(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:f,width:p,height:m}=c;if(a||e(),!p||!m)return;const v=bg(f),g=bg(s.clientWidth-(u+p)),w=bg(s.clientHeight-(f+m)),_=bg(u),x={rootMargin:-v+"px "+-g+"px "+-w+"px "+-_+"px",threshold:ks(0,xl(1,l))||1};let T=!0;function D(F){const R=F[0].intersectionRatio;if(R!==l){if(!T)return o();R?o(!1,R):r=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!zO(c,t.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(D,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,x)}n.observe(t)}return o(!0),i}function wW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=cT(t),u=s||i?[...c?Tp(c):[],...Tp(e)]:[];u.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=c&&a?yW(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(_=>{let[b]=_;b&&b.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,g=l?Vc(t):null;l&&w();function w(){const _=Vc(t);g&&!zO(g,_)&&n(),g=_,v=requestAnimationFrame(w)}return n(),()=>{var _;u.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f==null||f(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const vW=Z7,xW=X7,_W=G7,bW=eW,EW=Q7,jN=K7,SW=J7,TW=(t,e,n)=>{const r=new Map,s={platform:gW,...n},i={...s.platform,_c:r};return q7(t,e,{...s,platform:i})};var l0=typeof document<"u"?k.useLayoutEffect:k.useEffect;function Ey(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ey(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ey(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function WO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function BN(t,e){const n=WO(t);return Math.round(e*n)/n}function K1(t){const e=k.useRef(t);return l0(()=>{e.current=t}),e}function IW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=k.useState(r);Ey(p,r)||m(r);const[v,g]=k.useState(null),[w,_]=k.useState(null),b=k.useCallback(L=>{L!==F.current&&(F.current=L,g(L))},[]),x=k.useCallback(L=>{L!==R.current&&(R.current=L,_(L))},[]),T=i||v,D=o||w,F=k.useRef(null),R=k.useRef(null),M=k.useRef(u),U=l!=null,W=K1(l),$=K1(s),q=K1(c),C=k.useCallback(()=>{if(!F.current||!R.current)return;const L={placement:e,strategy:n,middleware:p};$.current&&(L.platform=$.current),TW(F.current,R.current,L).then(j=>{const H={...j,isPositioned:q.current!==!1};y.current&&!Ey(M.current,H)&&(M.current=H,Rl.flushSync(()=>{f(H)}))})},[p,e,n,$,q]);l0(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const y=k.useRef(!1);l0(()=>(y.current=!0,()=>{y.current=!1}),[]),l0(()=>{if(T&&(F.current=T),D&&(R.current=D),T&&D){if(W.current)return W.current(T,D,C);C()}},[T,D,C,W,U]);const I=k.useMemo(()=>({reference:F,floating:R,setReference:b,setFloating:x}),[b,x]),O=k.useMemo(()=>({reference:T,floating:D}),[T,D]),z=k.useMemo(()=>{const L={position:n,left:0,top:0};if(!O.floating)return L;const j=BN(O.floating,u.x),H=BN(O.floating,u.y);return a?{...L,transform:"translate("+j+"px, "+H+"px)",...WO(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:H}},[n,a,O.floating,u.x,u.y]);return k.useMemo(()=>({...u,update:C,refs:I,elements:O,floatingStyles:z}),[u,C,I,O,z])}const AW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?jN({element:r.current,padding:s}).fn(n):{}:r?jN({element:r,padding:s}).fn(n):{}}}},CW=(t,e)=>({...vW(t),options:[t,e]}),NW=(t,e)=>({...xW(t),options:[t,e]}),kW=(t,e)=>({...SW(t),options:[t,e]}),MW=(t,e)=>({..._W(t),options:[t,e]}),RW=(t,e)=>({...bW(t),options:[t,e]}),PW=(t,e)=>({...EW(t),options:[t,e]}),OW=(t,e)=>({...AW(t),options:[t,e]});var LW="Arrow",$O=k.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(et.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});$O.displayName=LW;var DW=$O;function HO(t){const[e,n]=k.useState(void 0);return Sr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var dT="Popper",[qO,Kw]=eo(dT),[jW,KO]=qO(dT),GO=t=>{const{__scopePopper:e,children:n}=t,[r,s]=k.useState(null);return d.jsx(jW,{scope:e,anchor:r,onAnchorChange:s,children:n})};GO.displayName=dT;var QO="PopperAnchor",YO=k.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=KO(QO,n),o=k.useRef(null),a=jt(e,o);return k.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(et.div,{...s,ref:a})});YO.displayName=QO;var hT="PopperContent",[BW,FW]=qO(hT),ZO=k.forwardRef((t,e)=>{var le,ye,Te,Me,Ee,_e;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=t,w=KO(hT,n),[_,b]=k.useState(null),x=jt(e,He=>b(He)),[T,D]=k.useState(null),F=HO(T),R=(F==null?void 0:F.width)??0,M=(F==null?void 0:F.height)??0,U=r+(i!=="center"?"-"+i:""),W=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},$=Array.isArray(c)?c:[c],q=$.length>0,C={padding:W,boundary:$.filter(VW),altBoundary:q},{refs:y,floatingStyles:I,placement:O,isPositioned:z,middlewareData:L}=IW({strategy:"fixed",placement:U,whileElementsMounted:(...He)=>wW(...He,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[CW({mainAxis:s+M,alignmentAxis:o}),l&&NW({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?kW():void 0,...C}),l&&MW({...C}),RW({...C,apply:({elements:He,rects:Re,availableWidth:Ge,availableHeight:Wt})=>{const{width:at,height:Et}=Re.reference,ar=He.floating.style;ar.setProperty("--radix-popper-available-width",`${Ge}px`),ar.setProperty("--radix-popper-available-height",`${Wt}px`),ar.setProperty("--radix-popper-anchor-width",`${at}px`),ar.setProperty("--radix-popper-anchor-height",`${Et}px`)}}),T&&OW({element:T,padding:a}),zW({arrowWidth:R,arrowHeight:M}),p&&PW({strategy:"referenceHidden",...C})]}),[j,H]=eL(O),B=ni(v);Sr(()=>{z&&(B==null||B())},[z,B]);const S=(le=L.arrow)==null?void 0:le.x,K=(ye=L.arrow)==null?void 0:ye.y,ae=((Te=L.arrow)==null?void 0:Te.centerOffset)!==0,[ue,he]=k.useState();return Sr(()=>{_&&he(window.getComputedStyle(_).zIndex)},[_]),d.jsx("div",{ref:y.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:z?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(Me=L.transformOrigin)==null?void 0:Me.x,(Ee=L.transformOrigin)==null?void 0:Ee.y].join(" "),...((_e=L.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(BW,{scope:n,placedSide:j,onArrowChange:D,arrowX:S,arrowY:K,shouldHideArrow:ae,children:d.jsx(et.div,{"data-side":j,"data-align":H,...g,ref:x,style:{...g.style,animation:z?void 0:"none"}})})})});ZO.displayName=hT;var XO="PopperArrow",UW={top:"bottom",right:"left",bottom:"top",left:"right"},JO=k.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=FW(XO,r),o=UW[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(DW,{...s,ref:n,style:{...s.style,display:"block"}})})});JO.displayName=XO;function VW(t){return t!==null}var zW=t=>({name:"transformOrigin",options:t,fn(e){var w,_,b;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=eL(n),f={start:"0%",center:"50%",end:"100%"}[u],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((b=s.arrow)==null?void 0:b.y)??0)+l/2;let v="",g="";return c==="bottom"?(v=o?f:`${p}px`,g=`${-l}px`):c==="top"?(v=o?f:`${p}px`,g=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,g=o?f:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,g=o?f:`${m}px`),{data:{x:v,y:g}}}});function eL(t){const[e,n="center"]=t.split("-");return[e,n]}var WW=GO,tL=YO,nL=ZO,rL=JO,[Gw,$de]=eo("Tooltip",[Kw]),fT=Kw(),sL="TooltipProvider",$W=700,FN="tooltip.open",[HW,iL]=Gw(sL),oL=t=>{const{__scopeTooltip:e,delayDuration:n=$W,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=k.useRef(!0),a=k.useRef(!1),l=k.useRef(0);return k.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(HW,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:k.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:k.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};oL.displayName=sL;var aL="Tooltip",[Hde,Qw]=Gw(aL),mb="TooltipTrigger",qW=k.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Qw(mb,n),i=iL(mb,n),o=fT(n),a=k.useRef(null),l=jt(e,a,s.onTriggerChange),c=k.useRef(!1),u=k.useRef(!1),f=k.useCallback(()=>c.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(tL,{asChild:!0,...o,children:d.jsx(et.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Ve(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ve(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Ve(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ve(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Ve(t.onBlur,s.onClose),onClick:Ve(t.onClick,s.onClose)})})});qW.displayName=mb;var KW="TooltipPortal",[qde,GW]=Gw(KW,{forceMount:void 0}),Xd="TooltipContent",lL=k.forwardRef((t,e)=>{const n=GW(Xd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Qw(Xd,t.__scopeTooltip);return d.jsx(eu,{present:r||o.open,children:o.disableHoverableContent?d.jsx(cL,{side:s,...i,ref:e}):d.jsx(QW,{side:s,...i,ref:e})})}),QW=k.forwardRef((t,e)=>{const n=Qw(Xd,t.__scopeTooltip),r=iL(Xd,t.__scopeTooltip),s=k.useRef(null),i=jt(e,s),[o,a]=k.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:f}=r,p=k.useCallback(()=>{a(null),f(!1)},[f]),m=k.useCallback((v,g)=>{const w=v.currentTarget,_={x:v.clientX,y:v.clientY},b=e$(_,w.getBoundingClientRect()),x=t$(_,b),T=n$(g.getBoundingClientRect()),D=s$([...x,...T]);a(D),f(!0)},[f]);return k.useEffect(()=>()=>p(),[p]),k.useEffect(()=>{if(l&&u){const v=w=>m(w,u),g=w=>m(w,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",g)}}},[l,u,m,p]),k.useEffect(()=>{if(o){const v=g=>{const w=g.target,_={x:g.clientX,y:g.clientY},b=(l==null?void 0:l.contains(w))||(u==null?void 0:u.contains(w)),x=!r$(_,o);b?p():x&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,o,c,p]),d.jsx(cL,{...t,ref:i})}),[YW,ZW]=Gw(aL,{isInside:!1}),XW=H9("TooltipContent"),cL=k.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Qw(Xd,n),c=fT(n),{onClose:u}=l;return k.useEffect(()=>(document.addEventListener(FN,u),()=>document.removeEventListener(FN,u)),[u]),k.useEffect(()=>{if(l.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),d.jsx(im,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:d.jsxs(nL,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(XW,{children:r}),d.jsx(YW,{scope:n,isInside:!0,children:d.jsx(fz,{id:l.contentId,role:"tooltip",children:s||r})})]})})});lL.displayName=Xd;var uL="TooltipArrow",JW=k.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=fT(n);return ZW(uL,n).isInside?null:d.jsx(rL,{...s,...r,ref:e})});JW.displayName=uL;function e$(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function t$(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function n$(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function r$(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,u=a.y,f=l.x,p=l.y;u>r!=p>r&&n<(f-c)*(r-u)/(p-u)+c&&(s=!s)}return s}function s$(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),i$(e)}function i$(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var o$=oL,dL=lL;const a$=o$,l$=k.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(dL,{ref:r,sideOffset:e,className:We("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));l$.displayName=dL.displayName;const Iu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function c$(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function um(t,...e){if(!c$(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function u$(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");gb(t.outputLen),gb(t.blockLen)}function Sy(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function d$(t,e){um(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Jd(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function G1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ki(t,e){return t<<32-e|t>>>e}function h$(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function pT(t){return typeof t=="string"&&(t=h$(t)),um(t),t}function f$(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];um(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class hL{}function fL(t){const e=r=>t().update(pT(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function pL(t=32){if(Iu&&typeof Iu.getRandomValues=="function")return Iu.getRandomValues(new Uint8Array(t));if(Iu&&typeof Iu.randomBytes=="function")return Uint8Array.from(Iu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function p$(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function m$(t,e,n){return t&e^~t&n}function g$(t,e,n){return t&e^t&n^e&n}class mL extends hL{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=G1(this.buffer)}update(e){Sy(this),e=pT(e),um(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const l=G1(e);for(;s<=i-o;o+=s)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Sy(this),d$(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Jd(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;p$(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=G1(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const ma=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),kr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Eg=BigInt(2**32-1),UN=BigInt(32);function y$(t,e=!1){return e?{h:Number(t&Eg),l:Number(t>>UN&Eg)}:{h:Number(t>>UN&Eg)|0,l:Number(t&Eg)|0}}function w$(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=y$(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const VN=(t,e,n)=>t>>>n,zN=(t,e,n)=>t<<32-n|e>>>n,Au=(t,e,n)=>t>>>n|e<<32-n,Cu=(t,e,n)=>t<<32-n|e>>>n,Sg=(t,e,n)=>t<<64-n|e>>>n-32,Tg=(t,e,n)=>t>>>n-32|e<<64-n;function po(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const v$=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),x$=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,_$=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),b$=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,E$=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),S$=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,T$=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ga=new Uint32Array(64);class I$ extends mL{constructor(e=32){super(64,e,8,!1),this.A=ma[0]|0,this.B=ma[1]|0,this.C=ma[2]|0,this.D=ma[3]|0,this.E=ma[4]|0,this.F=ma[5]|0,this.G=ma[6]|0,this.H=ma[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:l}=this;return[e,n,r,s,i,o,a,l]}set(e,n,r,s,i,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)ga[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=ga[f-15],m=ga[f-2],v=ki(p,7)^ki(p,18)^p>>>3,g=ki(m,17)^ki(m,19)^m>>>10;ga[f]=g+ga[f-7]+v+ga[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const p=ki(a,6)^ki(a,11)^ki(a,25),m=u+p+m$(a,l,c)+T$[f]+ga[f]|0,g=(ki(r,2)^ki(r,13)^ki(r,22))+g$(r,s,i)|0;u=c,c=l,l=a,a=o+m|0,o=i,i=s,s=r,r=m+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,l,c,u)}roundClean(){Jd(ga)}destroy(){this.set(0,0,0,0,0,0,0,0),Jd(this.buffer)}}const gL=w$(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),A$=gL[0],C$=gL[1],ya=new Uint32Array(80),wa=new Uint32Array(80);class N$ extends mL{constructor(e=64){super(128,e,16,!1),this.Ah=kr[0]|0,this.Al=kr[1]|0,this.Bh=kr[2]|0,this.Bl=kr[3]|0,this.Ch=kr[4]|0,this.Cl=kr[5]|0,this.Dh=kr[6]|0,this.Dl=kr[7]|0,this.Eh=kr[8]|0,this.El=kr[9]|0,this.Fh=kr[10]|0,this.Fl=kr[11]|0,this.Gh=kr[12]|0,this.Gl=kr[13]|0,this.Hh=kr[14]|0,this.Hl=kr[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:f,Fl:p,Gh:m,Gl:v,Hh:g,Hl:w}=this;return[e,n,r,s,i,o,a,l,c,u,f,p,m,v,g,w]}set(e,n,r,s,i,o,a,l,c,u,f,p,m,v,g,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=v|0,this.Hh=g|0,this.Hl=w|0}process(e,n){for(let x=0;x<16;x++,n+=4)ya[x]=e.getUint32(n),wa[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const T=ya[x-15]|0,D=wa[x-15]|0,F=Au(T,D,1)^Au(T,D,8)^VN(T,D,7),R=Cu(T,D,1)^Cu(T,D,8)^zN(T,D,7),M=ya[x-2]|0,U=wa[x-2]|0,W=Au(M,U,19)^Sg(M,U,61)^VN(M,U,6),$=Cu(M,U,19)^Tg(M,U,61)^zN(M,U,6),q=_$(R,$,wa[x-7],wa[x-16]),C=b$(q,F,W,ya[x-7],ya[x-16]);ya[x]=C|0,wa[x]=q|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:f,El:p,Fh:m,Fl:v,Gh:g,Gl:w,Hh:_,Hl:b}=this;for(let x=0;x<80;x++){const T=Au(f,p,14)^Au(f,p,18)^Sg(f,p,41),D=Cu(f,p,14)^Cu(f,p,18)^Tg(f,p,41),F=f&m^~f&g,R=p&v^~p&w,M=E$(b,D,R,C$[x],wa[x]),U=S$(M,_,T,F,A$[x],ya[x]),W=M|0,$=Au(r,s,28)^Sg(r,s,34)^Sg(r,s,39),q=Cu(r,s,28)^Tg(r,s,34)^Tg(r,s,39),C=r&i^r&a^i&a,y=s&o^s&l^o&l;_=g|0,b=w|0,g=m|0,w=v|0,m=f|0,v=p|0,{h:f,l:p}=po(c|0,u|0,U|0,W|0),c=a|0,u=l|0,a=i|0,l=o|0,i=r|0,o=s|0;const I=v$(W,q,y);r=x$(I,U,$,C),s=I|0}({h:r,l:s}=po(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=po(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=po(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=po(this.Dh|0,this.Dl|0,c|0,u|0),{h:f,l:p}=po(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:v}=po(this.Fh|0,this.Fl|0,m|0,v|0),{h:g,l:w}=po(this.Gh|0,this.Gl|0,g|0,w|0),{h:_,l:b}=po(this.Hh|0,this.Hl|0,_|0,b|0),this.set(r,s,i,o,a,l,c,u,f,p,m,v,g,w,_,b)}roundClean(){Jd(ya,wa)}destroy(){Jd(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const yL=fL(()=>new I$),k$=fL(()=>new N$);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mT=BigInt(0),yb=BigInt(1);function dm(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gT(t){if(!dm(t))throw new Error("Uint8Array expected")}function fl(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Ig(t){const e=t.toString(16);return e.length&1?"0"+e:e}function wL(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?mT:BigInt("0x"+t)}const vL=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",M$=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function eh(t){if(gT(t),vL)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=M$[t[n]];return e}const mo={_0:48,_9:57,A:65,F:70,a:97,f:102};function WN(t){if(t>=mo._0&&t<=mo._9)return t-mo._0;if(t>=mo.A&&t<=mo.F)return t-(mo.A-10);if(t>=mo.a&&t<=mo.f)return t-(mo.a-10)}function Ty(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(vL)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=WN(t.charCodeAt(i)),a=WN(t.charCodeAt(i+1));if(o===void 0||a===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=o*16+a}return r}function Ac(t){return wL(eh(t))}function Gf(t){return gT(t),wL(eh(Uint8Array.from(t).reverse()))}function hm(t,e){return Ty(t.toString(16).padStart(e*2,"0"))}function Iy(t,e){return hm(t,e).reverse()}function Ln(t,e,n){let r;if(typeof e=="string")try{r=Ty(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(dm(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function th(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];gT(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const Q1=t=>typeof t=="bigint"&&mT<=t;function yT(t,e,n){return Q1(t)&&Q1(e)&&Q1(n)&&e<=t&&t<n}function mi(t,e,n,r){if(!yT(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function R$(t){let e;for(e=0;t>mT;t>>=yb,e+=1);return e}const Yw=t=>(yb<<BigInt(t))-yb,Y1=t=>new Uint8Array(t),$N=t=>Uint8Array.from(t);function P$(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Y1(t),s=Y1(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...f)=>n(s,r,...f),l=(f=Y1(0))=>{s=a($N([0]),f),r=a(),f.length!==0&&(s=a($N([1]),f),r=a())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){r=a();const m=r.slice();p.push(m),f+=r.length}return th(...p)};return(f,p)=>{o(),l(f);let m;for(;!(m=p(c()));)l();return o(),m}}const O$={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||dm(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function fm(t,e,n={}){const r=(s,i,o)=>{const a=O$[i];if(typeof a!="function")throw new Error("invalid validator function");const l=t[s];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+l)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function Ay(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ps=BigInt(0),_r=BigInt(1),ac=BigInt(2),L$=BigInt(3),xL=BigInt(4),_L=BigInt(5),bL=BigInt(8);function dn(t,e){const n=t%e;return n>=ps?n:e+n}function Mn(t,e,n){let r=t;for(;e-- >ps;)r*=r,r%=n;return r}function wb(t,e){if(t===ps)throw new Error("invert: expected non-zero number");if(e<=ps)throw new Error("invert: expected positive modulus, got "+e);let n=dn(t,e),r=e,s=ps,i=_r;for(;n!==ps;){const a=r/n,l=r%n,c=s-i*a;r=n,n=l,s=i,i=c}if(r!==_r)throw new Error("invert: does not exist");return dn(s,e)}function EL(t,e){const n=(t.ORDER+_r)/xL,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function D$(t,e){const n=(t.ORDER-_L)/bL,r=t.mul(e,ac),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,ac),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function j$(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-_r,n=0;for(;e%ac===ps;)e/=ac,n++;let r=ac;const s=pm(t);for(;HN(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return EL;let i=s.pow(r,e);const o=(e+_r)/ac;return function(l,c){if(l.is0(c))return c;if(HN(l,c)!==1)throw new Error("Cannot find square root");let u=n,f=l.mul(l.ONE,i),p=l.pow(c,e),m=l.pow(c,o);for(;!l.eql(p,l.ONE);){if(l.is0(p))return l.ZERO;let v=1,g=l.sqr(p);for(;!l.eql(g,l.ONE);)if(v++,g=l.sqr(g),v===u)throw new Error("Cannot find square root");const w=_r<<BigInt(u-v-1),_=l.pow(f,w);u=v,f=l.sqr(_),p=l.mul(p,f),m=l.mul(m,_)}return m}}function B$(t){return t%xL===L$?EL:t%bL===_L?D$:j$(t)}const F$=(t,e)=>(dn(t,e)&_r)===_r,U$=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function V$(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=U$.reduce((r,s)=>(r[s]="function",r),e);return fm(t,n)}function z$(t,e,n){if(n<ps)throw new Error("invalid exponent, negatives unsupported");if(n===ps)return t.ONE;if(n===_r)return e;let r=t.ONE,s=e;for(;n>ps;)n&_r&&(r=t.mul(r,s)),s=t.sqr(s),n>>=_r;return r}function wT(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),i),r}function HN(t,e){const n=(t.ORDER-_r)/ac,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function SL(t,e){e!==void 0&&gb(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function pm(t,e,n=!1,r={}){if(t<=ps)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=SL(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:Yw(s),ZERO:ps,ONE:_r,create:l=>dn(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return ps<=l&&l<t},is0:l=>l===ps,isOdd:l=>(l&_r)===_r,neg:l=>dn(-l,t),eql:(l,c)=>l===c,sqr:l=>dn(l*l,t),add:(l,c)=>dn(l+c,t),sub:(l,c)=>dn(l-c,t),mul:(l,c)=>dn(l*c,t),pow:(l,c)=>z$(a,l,c),div:(l,c)=>dn(l*wb(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>wb(l,t),sqrt:r.sqrt||(l=>(o||(o=B$(t)),o(a,l))),toBytes:l=>n?Iy(l,i):hm(l,i),fromBytes:l=>{if(l.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+l.length);return n?Gf(l):Ac(l)},invertBatch:l=>wT(a,l),cmov:(l,c,u)=>u?c:l});return Object.freeze(a)}function TL(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function IL(t){const e=TL(t);return e+Math.ceil(e/2)}function W$(t,e,n=!1){const r=t.length,s=TL(e),i=IL(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?Gf(t):Ac(t),a=dn(o,e-_r)+_r;return n?Iy(a,s):hm(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qN=BigInt(0),vb=BigInt(1);function Z1(t,e){const n=e.negate();return t?n:e}function AL(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function X1(t,e){AL(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=Yw(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function KN(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),l=t>>o;a>r&&(a-=i,l+=vb);const c=e*r,u=c+Math.abs(a)-1,f=a===0,p=a<0,m=e%2!==0;return{nextN:l,offset:u,isZero:f,isNeg:p,isNegF:m,offsetF:c}}function $$(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function H$(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const J1=new WeakMap,CL=new WeakMap;function ex(t){return CL.get(t)||1}function NL(t,e){return{constTimeNegate:Z1,hasPrecomputes(n){return ex(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>qN;)r&vb&&(s=s.add(i)),i=i.double(),r>>=vb;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=X1(r,e),o=[];let a=n,l=a;for(let c=0;c<s;c++){l=a,o.push(l);for(let u=1;u<i;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=X1(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:f,isNeg:p,isNegF:m,offsetF:v}=KN(s,l,a);s=c,f?o=o.add(Z1(m,r[v])):i=i.add(Z1(p,r[u]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=X1(n,e);for(let a=0;a<o.windows&&s!==qN;a++){const{nextN:l,offset:c,isZero:u,isNeg:f}=KN(s,a,o);if(s=l,!u){const p=r[c];i=i.add(f?p.negate():p)}}return i},getPrecomputes(n,r,s){let i=J1.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&J1.set(r,s(i))),i},wNAFCached(n,r,s){const i=ex(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=ex(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){AL(r,e),CL.set(n,r),J1.delete(n)}}}function kL(t,e,n,r){$$(n,t),H$(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=R$(BigInt(s));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Yw(l),u=new Array(Number(c)+1).fill(o),f=Math.floor((e.BITS-1)/l)*l;let p=o;for(let m=f;m>=0;m-=l){u.fill(o);for(let g=0;g<i;g++){const w=r[g],_=Number(w>>BigInt(m)&c);u[_]=u[_].add(n[g])}let v=o;for(let g=u.length-1,w=o;g>0;g--)w=w.add(u[g]),v=v.add(w);if(p=p.add(v),m!==0)for(let g=0;g<l;g++)p=p.double()}return p}function vT(t){return V$(t.Fp),fm(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...SL(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mi=BigInt(0),Gr=BigInt(1),GN=BigInt(2),q$=BigInt(8),K$={zip215:!0};function G$(t){const e=vT(t);return fm(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Q$(t){const e=G$(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:l}=e,c=GN<<BigInt(a*8)-Gr,u=n.create,f=pm(e.n,e.nBitLength);function p(L,j){const H=n.sqr(L),B=n.sqr(j),S=n.add(n.mul(e.a,H),B),K=n.add(n.ONE,n.mul(e.d,n.mul(H,B)));return n.eql(S,K)}if(!p(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const m=e.uvRatio||((L,j)=>{try{return{isValid:!0,value:n.sqrt(L*n.inv(j))}}catch{return{isValid:!1,value:Mi}}}),v=e.adjustScalarBytes||(L=>L),g=e.domain||((L,j,H)=>{if(fl("phflag",H),j.length||H)throw new Error("Contexts/pre-hash are not supported");return L});function w(L,j,H=!1){const B=H?Gr:Mi;mi("coordinate "+L,j,B,c)}function _(L){if(!(L instanceof T))throw new Error("ExtendedPoint expected")}const b=Ay((L,j)=>{const{ex:H,ey:B,ez:S}=L,K=L.is0();j==null&&(j=K?q$:n.inv(S));const ae=u(H*j),ue=u(B*j),he=u(S*j);if(K)return{x:Mi,y:Gr};if(he!==Gr)throw new Error("invZ was invalid");return{x:ae,y:ue}}),x=Ay(L=>{const{a:j,d:H}=e;if(L.is0())throw new Error("bad point: ZERO");const{ex:B,ey:S,ez:K,et:ae}=L,ue=u(B*B),he=u(S*S),le=u(K*K),ye=u(le*le),Te=u(ue*j),Me=u(le*u(Te+he)),Ee=u(ye+u(H*u(ue*he)));if(Me!==Ee)throw new Error("bad point: equation left != right (1)");const _e=u(B*S),He=u(K*ae);if(_e!==He)throw new Error("bad point: equation left != right (2)");return!0});class T{constructor(j,H,B,S){w("x",j),w("y",H),w("z",B,!0),w("t",S),this.ex=j,this.ey=H,this.ez=B,this.et=S,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(j){if(j instanceof T)throw new Error("extended point not allowed");const{x:H,y:B}=j||{};return w("x",H),w("y",B),new T(H,B,Gr,u(H*B))}static normalizeZ(j){const H=wT(n,j.map(B=>B.ez));return j.map((B,S)=>B.toAffine(H[S])).map(T.fromAffine)}static msm(j,H){return kL(T,f,j,H)}_setWindowSize(j){R.setWindowSize(this,j)}assertValidity(){x(this)}equals(j){_(j);const{ex:H,ey:B,ez:S}=this,{ex:K,ey:ae,ez:ue}=j,he=u(H*ue),le=u(K*S),ye=u(B*ue),Te=u(ae*S);return he===le&&ye===Te}is0(){return this.equals(T.ZERO)}negate(){return new T(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:j}=e,{ex:H,ey:B,ez:S}=this,K=u(H*H),ae=u(B*B),ue=u(GN*u(S*S)),he=u(j*K),le=H+B,ye=u(u(le*le)-K-ae),Te=he+ae,Me=Te-ue,Ee=he-ae,_e=u(ye*Me),He=u(Te*Ee),Re=u(ye*Ee),Ge=u(Me*Te);return new T(_e,He,Ge,Re)}add(j){_(j);const{a:H,d:B}=e,{ex:S,ey:K,ez:ae,et:ue}=this,{ex:he,ey:le,ez:ye,et:Te}=j,Me=u(S*he),Ee=u(K*le),_e=u(ue*B*Te),He=u(ae*ye),Re=u((S+K)*(he+le)-Me-Ee),Ge=He-_e,Wt=He+_e,at=u(Ee-H*Me),Et=u(Re*Ge),ar=u(Wt*at),wt=u(Re*at),oe=u(Ge*Wt);return new T(Et,ar,oe,wt)}subtract(j){return this.add(j.negate())}wNAF(j){return R.wNAFCached(this,j,T.normalizeZ)}multiply(j){const H=j;mi("scalar",H,Gr,r);const{p:B,f:S}=this.wNAF(H);return T.normalizeZ([B,S])[0]}multiplyUnsafe(j,H=T.ZERO){const B=j;return mi("scalar",B,Mi,r),B===Mi?F:this.is0()||B===Gr?this:R.wNAFCachedUnsafe(this,B,T.normalizeZ,H)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return R.unsafeLadder(this,r).is0()}toAffine(j){return b(this,j)}clearCofactor(){const{h:j}=e;return j===Gr?this:this.multiplyUnsafe(j)}static fromHex(j,H=!1){const{d:B,a:S}=e,K=n.BYTES;j=Ln("pointHex",j,K),fl("zip215",H);const ae=j.slice(),ue=j[K-1];ae[K-1]=ue&-129;const he=Gf(ae),le=H?c:n.ORDER;mi("pointHex.y",he,Mi,le);const ye=u(he*he),Te=u(ye-Gr),Me=u(B*ye-S);let{isValid:Ee,value:_e}=m(Te,Me);if(!Ee)throw new Error("Point.fromHex: invalid y coordinate");const He=(_e&Gr)===Gr,Re=(ue&128)!==0;if(!H&&_e===Mi&&Re)throw new Error("Point.fromHex: x=0 and x_0=1");return Re!==He&&(_e=u(-_e)),T.fromAffine({x:_e,y:he})}static fromPrivateKey(j){const{scalar:H}=W(j);return D.multiply(H)}toRawBytes(){const{x:j,y:H}=this.toAffine(),B=Iy(H,n.BYTES);return B[B.length-1]|=j&Gr?128:0,B}toHex(){return eh(this.toRawBytes())}}T.BASE=new T(e.Gx,e.Gy,Gr,u(e.Gx*e.Gy)),T.ZERO=new T(Mi,Gr,Gr,Mi);const{BASE:D,ZERO:F}=T,R=NL(T,a*8);function M(L){return dn(L,r)}function U(L){return M(Gf(L))}function W(L){const j=n.BYTES;L=Ln("private key",L,j);const H=Ln("hashed private key",i(L),2*j),B=v(H.slice(0,j)),S=H.slice(j,2*j),K=U(B);return{head:B,prefix:S,scalar:K}}function $(L){const{head:j,prefix:H,scalar:B}=W(L),S=D.multiply(B),K=S.toRawBytes();return{head:j,prefix:H,scalar:B,point:S,pointBytes:K}}function q(L){return $(L).pointBytes}function C(L=Uint8Array.of(),...j){const H=th(...j);return U(i(g(H,Ln("context",L),!!s)))}function y(L,j,H={}){L=Ln("message",L),s&&(L=s(L));const{prefix:B,scalar:S,pointBytes:K}=$(j),ae=C(H.context,B,L),ue=D.multiply(ae).toRawBytes(),he=C(H.context,ue,K,L),le=M(ae+he*S);mi("signature.s",le,Mi,r);const ye=th(ue,Iy(le,n.BYTES));return Ln("result",ye,n.BYTES*2)}const I=K$;function O(L,j,H,B=I){const{context:S,zip215:K}=B,ae=n.BYTES;L=Ln("signature",L,2*ae),j=Ln("message",j),H=Ln("publicKey",H,ae),K!==void 0&&fl("zip215",K),s&&(j=s(j));const ue=Gf(L.slice(ae,2*ae));let he,le,ye;try{he=T.fromHex(H,K),le=T.fromHex(L.slice(0,ae),K),ye=D.multiplyUnsafe(ue)}catch{return!1}if(!K&&he.isSmallOrder())return!1;const Te=C(S,le.toRawBytes(),he.toRawBytes(),j);return le.add(he.multiplyUnsafe(Te)).subtract(ye).clearCofactor().equals(T.ZERO)}return D._setWindowSize(8),{CURVE:e,getPublicKey:q,sign:y,verify:O,ExtendedPoint:T,utils:{getExtendedPublicKey:$,randomPrivateKey:()=>o(n.BYTES),precompute(L=8,j=T.BASE){return j._setWindowSize(L),j.multiply(BigInt(3)),j}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xT=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),QN=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Y$=BigInt(1),YN=BigInt(2);BigInt(3);const Z$=BigInt(5),X$=BigInt(8);function J$(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=xT,a=t*t%i*t%i,l=Mn(a,YN,i)*a%i,c=Mn(l,Y$,i)*t%i,u=Mn(c,Z$,i)*c%i,f=Mn(u,e,i)*u%i,p=Mn(f,n,i)*f%i,m=Mn(p,r,i)*p%i,v=Mn(m,s,i)*m%i,g=Mn(v,s,i)*m%i,w=Mn(g,e,i)*u%i;return{pow_p_5_8:Mn(w,YN,i)*t%i,b2:a}}function eH(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function tH(t,e){const n=xT,r=dn(e*e*e,n),s=dn(r*r*e,n),i=J$(t*s).pow_p_5_8;let o=dn(t*r*i,n);const a=dn(e*o*o,n),l=o,c=dn(o*QN,n),u=a===t,f=a===dn(-t,n),p=a===dn(-t*QN,n);return u&&(o=l),(f||p)&&(o=c),F$(o,n)&&(o=dn(-o,n)),{isValid:u||f,value:o}}const ZN=pm(xT,void 0,!0),nH={a:ZN.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ZN,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:X$,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:k$,randomBytes:pL,adjustScalarBytes:eH,uvRatio:tH},_T=Q$(nH);var bT={exports:{}};const rH={},sH=Object.freeze(Object.defineProperty({__proto__:null,default:rH},Symbol.toStringTag,{value:"Module"})),iH=HE(sH);bT.exports;(function(t){(function(e,n){function r(C,y){if(!C)throw new Error(y||"Assertion failed")}function s(C,y){C.super_=y;var I=function(){};I.prototype=y.prototype,C.prototype=new I,C.prototype.constructor=C}function i(C,y,I){if(i.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((y==="le"||y==="be")&&(I=y,y=10),this._init(C||0,y||10,I||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=iH.Buffer}catch{}i.isBN=function(y){return y instanceof i?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===i.wordSize&&Array.isArray(y.words)},i.max=function(y,I){return y.cmp(I)>0?y:I},i.min=function(y,I){return y.cmp(I)<0?y:I},i.prototype._init=function(y,I,O){if(typeof y=="number")return this._initNumber(y,I,O);if(typeof y=="object")return this._initArray(y,I,O);I==="hex"&&(I=16),r(I===(I|0)&&I>=2&&I<=36),y=y.toString().replace(/\s+/g,"");var z=0;y[0]==="-"&&(z++,this.negative=1),z<y.length&&(I===16?this._parseHex(y,z,O):(this._parseBase(y,I,z),O==="le"&&this._initArray(this.toArray(),I,O)))},i.prototype._initNumber=function(y,I,O){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(r(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),O==="le"&&this._initArray(this.toArray(),I,O)},i.prototype._initArray=function(y,I,O){if(r(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var L,j,H=0;if(O==="be")for(z=y.length-1,L=0;z>=0;z-=3)j=y[z]|y[z-1]<<8|y[z-2]<<16,this.words[L]|=j<<H&67108863,this.words[L+1]=j>>>26-H&67108863,H+=24,H>=26&&(H-=26,L++);else if(O==="le")for(z=0,L=0;z<y.length;z+=3)j=y[z]|y[z+1]<<8|y[z+2]<<16,this.words[L]|=j<<H&67108863,this.words[L+1]=j>>>26-H&67108863,H+=24,H>=26&&(H-=26,L++);return this._strip()};function a(C,y){var I=C.charCodeAt(y);if(I>=48&&I<=57)return I-48;if(I>=65&&I<=70)return I-55;if(I>=97&&I<=102)return I-87;r(!1,"Invalid character in "+C)}function l(C,y,I){var O=a(C,I);return I-1>=y&&(O|=a(C,I-1)<<4),O}i.prototype._parseHex=function(y,I,O){this.length=Math.ceil((y.length-I)/6),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var L=0,j=0,H;if(O==="be")for(z=y.length-1;z>=I;z-=2)H=l(y,I,z)<<L,this.words[j]|=H&67108863,L>=18?(L-=18,j+=1,this.words[j]|=H>>>26):L+=8;else{var B=y.length-I;for(z=B%2===0?I+1:I;z<y.length;z+=2)H=l(y,I,z)<<L,this.words[j]|=H&67108863,L>=18?(L-=18,j+=1,this.words[j]|=H>>>26):L+=8}this._strip()};function c(C,y,I,O){for(var z=0,L=0,j=Math.min(C.length,I),H=y;H<j;H++){var B=C.charCodeAt(H)-48;z*=O,B>=49?L=B-49+10:B>=17?L=B-17+10:L=B,r(B>=0&&L<O,"Invalid character"),z+=L}return z}i.prototype._parseBase=function(y,I,O){this.words=[0],this.length=1;for(var z=0,L=1;L<=67108863;L*=I)z++;z--,L=L/I|0;for(var j=y.length-O,H=j%z,B=Math.min(j,j-H)+O,S=0,K=O;K<B;K+=z)S=c(y,K,K+z,I),this.imuln(L),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(H!==0){var ae=1;for(S=c(y,K,y.length,I),K=0;K<H;K++)ae*=I;this.imuln(ae),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}this._strip()},i.prototype.copy=function(y){y.words=new Array(this.length);for(var I=0;I<this.length;I++)y.words[I]=this.words[I];y.length=this.length,y.negative=this.negative,y.red=this.red};function u(C,y){C.words=y.words,C.length=y.length,C.negative=y.negative,C.red=y.red}if(i.prototype._move=function(y){u(y,this)},i.prototype.clone=function(){var y=new i(null);return this.copy(y),y},i.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(y,I){y=y||10,I=I|0||1;var O;if(y===16||y==="hex"){O="";for(var z=0,L=0,j=0;j<this.length;j++){var H=this.words[j],B=((H<<z|L)&16777215).toString(16);L=H>>>24-z&16777215,z+=2,z>=26&&(z-=26,j--),L!==0||j!==this.length-1?O=p[6-B.length]+B+O:O=B+O}for(L!==0&&(O=L.toString(16)+O);O.length%I!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}if(y===(y|0)&&y>=2&&y<=36){var S=m[y],K=v[y];O="";var ae=this.clone();for(ae.negative=0;!ae.isZero();){var ue=ae.modrn(K).toString(y);ae=ae.idivn(K),ae.isZero()?O=ue+O:O=p[S-ue.length]+ue+O}for(this.isZero()&&(O="0"+O);O.length%I!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(y,I){return this.toArrayLike(o,y,I)}),i.prototype.toArray=function(y,I){return this.toArrayLike(Array,y,I)};var g=function(y,I){return y.allocUnsafe?y.allocUnsafe(I):new y(I)};i.prototype.toArrayLike=function(y,I,O){this._strip();var z=this.byteLength(),L=O||Math.max(1,z);r(z<=L,"byte array longer than desired length"),r(L>0,"Requested array length <= 0");var j=g(y,L),H=I==="le"?"LE":"BE";return this["_toArrayLike"+H](j,z),j},i.prototype._toArrayLikeLE=function(y,I){for(var O=0,z=0,L=0,j=0;L<this.length;L++){var H=this.words[L]<<j|z;y[O++]=H&255,O<y.length&&(y[O++]=H>>8&255),O<y.length&&(y[O++]=H>>16&255),j===6?(O<y.length&&(y[O++]=H>>24&255),z=0,j=0):(z=H>>>24,j+=2)}if(O<y.length)for(y[O++]=z;O<y.length;)y[O++]=0},i.prototype._toArrayLikeBE=function(y,I){for(var O=y.length-1,z=0,L=0,j=0;L<this.length;L++){var H=this.words[L]<<j|z;y[O--]=H&255,O>=0&&(y[O--]=H>>8&255),O>=0&&(y[O--]=H>>16&255),j===6?(O>=0&&(y[O--]=H>>24&255),z=0,j=0):(z=H>>>24,j+=2)}if(O>=0)for(y[O--]=z;O>=0;)y[O--]=0},Math.clz32?i.prototype._countBits=function(y){return 32-Math.clz32(y)}:i.prototype._countBits=function(y){var I=y,O=0;return I>=4096&&(O+=13,I>>>=13),I>=64&&(O+=7,I>>>=7),I>=8&&(O+=4,I>>>=4),I>=2&&(O+=2,I>>>=2),O+I},i.prototype._zeroBits=function(y){if(y===0)return 26;var I=y,O=0;return I&8191||(O+=13,I>>>=13),I&127||(O+=7,I>>>=7),I&15||(O+=4,I>>>=4),I&3||(O+=2,I>>>=2),I&1||O++,O},i.prototype.bitLength=function(){var y=this.words[this.length-1],I=this._countBits(y);return(this.length-1)*26+I};function w(C){for(var y=new Array(C.bitLength()),I=0;I<y.length;I++){var O=I/26|0,z=I%26;y[I]=C.words[O]>>>z&1}return y}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,I=0;I<this.length;I++){var O=this._zeroBits(this.words[I]);if(y+=O,O!==26)break}return y},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},i.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var I=0;I<y.length;I++)this.words[I]=this.words[I]|y.words[I];return this._strip()},i.prototype.ior=function(y){return r((this.negative|y.negative)===0),this.iuor(y)},i.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},i.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},i.prototype.iuand=function(y){var I;this.length>y.length?I=y:I=this;for(var O=0;O<I.length;O++)this.words[O]=this.words[O]&y.words[O];return this.length=I.length,this._strip()},i.prototype.iand=function(y){return r((this.negative|y.negative)===0),this.iuand(y)},i.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},i.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},i.prototype.iuxor=function(y){var I,O;this.length>y.length?(I=this,O=y):(I=y,O=this);for(var z=0;z<O.length;z++)this.words[z]=I.words[z]^O.words[z];if(this!==I)for(;z<I.length;z++)this.words[z]=I.words[z];return this.length=I.length,this._strip()},i.prototype.ixor=function(y){return r((this.negative|y.negative)===0),this.iuxor(y)},i.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},i.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},i.prototype.inotn=function(y){r(typeof y=="number"&&y>=0);var I=Math.ceil(y/26)|0,O=y%26;this._expand(I),O>0&&I--;for(var z=0;z<I;z++)this.words[z]=~this.words[z]&67108863;return O>0&&(this.words[z]=~this.words[z]&67108863>>26-O),this._strip()},i.prototype.notn=function(y){return this.clone().inotn(y)},i.prototype.setn=function(y,I){r(typeof y=="number"&&y>=0);var O=y/26|0,z=y%26;return this._expand(O+1),I?this.words[O]=this.words[O]|1<<z:this.words[O]=this.words[O]&~(1<<z),this._strip()},i.prototype.iadd=function(y){var I;if(this.negative!==0&&y.negative===0)return this.negative=0,I=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,I=this.isub(y),y.negative=1,I._normSign();var O,z;this.length>y.length?(O=this,z=y):(O=y,z=this);for(var L=0,j=0;j<z.length;j++)I=(O.words[j]|0)+(z.words[j]|0)+L,this.words[j]=I&67108863,L=I>>>26;for(;L!==0&&j<O.length;j++)I=(O.words[j]|0)+L,this.words[j]=I&67108863,L=I>>>26;if(this.length=O.length,L!==0)this.words[this.length]=L,this.length++;else if(O!==this)for(;j<O.length;j++)this.words[j]=O.words[j];return this},i.prototype.add=function(y){var I;return y.negative!==0&&this.negative===0?(y.negative=0,I=this.sub(y),y.negative^=1,I):y.negative===0&&this.negative!==0?(this.negative=0,I=y.sub(this),this.negative=1,I):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},i.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var I=this.iadd(y);return y.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var O=this.cmp(y);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var z,L;O>0?(z=this,L=y):(z=y,L=this);for(var j=0,H=0;H<L.length;H++)I=(z.words[H]|0)-(L.words[H]|0)+j,j=I>>26,this.words[H]=I&67108863;for(;j!==0&&H<z.length;H++)I=(z.words[H]|0)+j,j=I>>26,this.words[H]=I&67108863;if(j===0&&H<z.length&&z!==this)for(;H<z.length;H++)this.words[H]=z.words[H];return this.length=Math.max(this.length,H),z!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(y){return this.clone().isub(y)};function _(C,y,I){I.negative=y.negative^C.negative;var O=C.length+y.length|0;I.length=O,O=O-1|0;var z=C.words[0]|0,L=y.words[0]|0,j=z*L,H=j&67108863,B=j/67108864|0;I.words[0]=H;for(var S=1;S<O;S++){for(var K=B>>>26,ae=B&67108863,ue=Math.min(S,y.length-1),he=Math.max(0,S-C.length+1);he<=ue;he++){var le=S-he|0;z=C.words[le]|0,L=y.words[he]|0,j=z*L+ae,K+=j/67108864|0,ae=j&67108863}I.words[S]=ae|0,B=K|0}return B!==0?I.words[S]=B|0:I.length--,I._strip()}var b=function(y,I,O){var z=y.words,L=I.words,j=O.words,H=0,B,S,K,ae=z[0]|0,ue=ae&8191,he=ae>>>13,le=z[1]|0,ye=le&8191,Te=le>>>13,Me=z[2]|0,Ee=Me&8191,_e=Me>>>13,He=z[3]|0,Re=He&8191,Ge=He>>>13,Wt=z[4]|0,at=Wt&8191,Et=Wt>>>13,ar=z[5]|0,wt=ar&8191,oe=ar>>>13,At=z[6]|0,Tt=At&8191,Ct=At>>>13,Fn=z[7]|0,ot=Fn&8191,V=Fn>>>13,A=z[8]|0,N=A&8191,Q=A>>>13,Z=z[9]|0,X=Z&8191,ne=Z>>>13,tt=L[0]|0,qe=tt&8191,Ke=tt>>>13,Ft=L[1]|0,Be=Ft&8191,fn=Ft>>>13,Uh=L[2]|0,$t=Uh&8191,on=Uh>>>13,cu=L[3]|0,Ot=cu&8191,pn=cu>>>13,jl=L[4]|0,mn=jl&8191,Ht=jl>>>13,Vh=L[5]|0,dt=Vh&8191,gn=Vh>>>13,la=L[6]|0,qt=la&8191,An=la>>>13,Vm=L[7]|0,Ut=Vm&8191,Cn=Vm>>>13,zm=L[8]|0,Xt=zm&8191,yn=zm>>>13,uu=L[9]|0,Jt=uu&8191,Nt=uu>>>13;O.negative=y.negative^I.negative,O.length=19,B=Math.imul(ue,qe),S=Math.imul(ue,Ke),S=S+Math.imul(he,qe)|0,K=Math.imul(he,Ke);var du=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(du>>>26)|0,du&=67108863,B=Math.imul(ye,qe),S=Math.imul(ye,Ke),S=S+Math.imul(Te,qe)|0,K=Math.imul(Te,Ke),B=B+Math.imul(ue,Be)|0,S=S+Math.imul(ue,fn)|0,S=S+Math.imul(he,Be)|0,K=K+Math.imul(he,fn)|0;var hu=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(hu>>>26)|0,hu&=67108863,B=Math.imul(Ee,qe),S=Math.imul(Ee,Ke),S=S+Math.imul(_e,qe)|0,K=Math.imul(_e,Ke),B=B+Math.imul(ye,Be)|0,S=S+Math.imul(ye,fn)|0,S=S+Math.imul(Te,Be)|0,K=K+Math.imul(Te,fn)|0,B=B+Math.imul(ue,$t)|0,S=S+Math.imul(ue,on)|0,S=S+Math.imul(he,$t)|0,K=K+Math.imul(he,on)|0;var Bl=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(Bl>>>26)|0,Bl&=67108863,B=Math.imul(Re,qe),S=Math.imul(Re,Ke),S=S+Math.imul(Ge,qe)|0,K=Math.imul(Ge,Ke),B=B+Math.imul(Ee,Be)|0,S=S+Math.imul(Ee,fn)|0,S=S+Math.imul(_e,Be)|0,K=K+Math.imul(_e,fn)|0,B=B+Math.imul(ye,$t)|0,S=S+Math.imul(ye,on)|0,S=S+Math.imul(Te,$t)|0,K=K+Math.imul(Te,on)|0,B=B+Math.imul(ue,Ot)|0,S=S+Math.imul(ue,pn)|0,S=S+Math.imul(he,Ot)|0,K=K+Math.imul(he,pn)|0;var Fl=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(Fl>>>26)|0,Fl&=67108863,B=Math.imul(at,qe),S=Math.imul(at,Ke),S=S+Math.imul(Et,qe)|0,K=Math.imul(Et,Ke),B=B+Math.imul(Re,Be)|0,S=S+Math.imul(Re,fn)|0,S=S+Math.imul(Ge,Be)|0,K=K+Math.imul(Ge,fn)|0,B=B+Math.imul(Ee,$t)|0,S=S+Math.imul(Ee,on)|0,S=S+Math.imul(_e,$t)|0,K=K+Math.imul(_e,on)|0,B=B+Math.imul(ye,Ot)|0,S=S+Math.imul(ye,pn)|0,S=S+Math.imul(Te,Ot)|0,K=K+Math.imul(Te,pn)|0,B=B+Math.imul(ue,mn)|0,S=S+Math.imul(ue,Ht)|0,S=S+Math.imul(he,mn)|0,K=K+Math.imul(he,Ht)|0;var fu=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(fu>>>26)|0,fu&=67108863,B=Math.imul(wt,qe),S=Math.imul(wt,Ke),S=S+Math.imul(oe,qe)|0,K=Math.imul(oe,Ke),B=B+Math.imul(at,Be)|0,S=S+Math.imul(at,fn)|0,S=S+Math.imul(Et,Be)|0,K=K+Math.imul(Et,fn)|0,B=B+Math.imul(Re,$t)|0,S=S+Math.imul(Re,on)|0,S=S+Math.imul(Ge,$t)|0,K=K+Math.imul(Ge,on)|0,B=B+Math.imul(Ee,Ot)|0,S=S+Math.imul(Ee,pn)|0,S=S+Math.imul(_e,Ot)|0,K=K+Math.imul(_e,pn)|0,B=B+Math.imul(ye,mn)|0,S=S+Math.imul(ye,Ht)|0,S=S+Math.imul(Te,mn)|0,K=K+Math.imul(Te,Ht)|0,B=B+Math.imul(ue,dt)|0,S=S+Math.imul(ue,gn)|0,S=S+Math.imul(he,dt)|0,K=K+Math.imul(he,gn)|0;var pu=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(pu>>>26)|0,pu&=67108863,B=Math.imul(Tt,qe),S=Math.imul(Tt,Ke),S=S+Math.imul(Ct,qe)|0,K=Math.imul(Ct,Ke),B=B+Math.imul(wt,Be)|0,S=S+Math.imul(wt,fn)|0,S=S+Math.imul(oe,Be)|0,K=K+Math.imul(oe,fn)|0,B=B+Math.imul(at,$t)|0,S=S+Math.imul(at,on)|0,S=S+Math.imul(Et,$t)|0,K=K+Math.imul(Et,on)|0,B=B+Math.imul(Re,Ot)|0,S=S+Math.imul(Re,pn)|0,S=S+Math.imul(Ge,Ot)|0,K=K+Math.imul(Ge,pn)|0,B=B+Math.imul(Ee,mn)|0,S=S+Math.imul(Ee,Ht)|0,S=S+Math.imul(_e,mn)|0,K=K+Math.imul(_e,Ht)|0,B=B+Math.imul(ye,dt)|0,S=S+Math.imul(ye,gn)|0,S=S+Math.imul(Te,dt)|0,K=K+Math.imul(Te,gn)|0,B=B+Math.imul(ue,qt)|0,S=S+Math.imul(ue,An)|0,S=S+Math.imul(he,qt)|0,K=K+Math.imul(he,An)|0;var zh=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(zh>>>26)|0,zh&=67108863,B=Math.imul(ot,qe),S=Math.imul(ot,Ke),S=S+Math.imul(V,qe)|0,K=Math.imul(V,Ke),B=B+Math.imul(Tt,Be)|0,S=S+Math.imul(Tt,fn)|0,S=S+Math.imul(Ct,Be)|0,K=K+Math.imul(Ct,fn)|0,B=B+Math.imul(wt,$t)|0,S=S+Math.imul(wt,on)|0,S=S+Math.imul(oe,$t)|0,K=K+Math.imul(oe,on)|0,B=B+Math.imul(at,Ot)|0,S=S+Math.imul(at,pn)|0,S=S+Math.imul(Et,Ot)|0,K=K+Math.imul(Et,pn)|0,B=B+Math.imul(Re,mn)|0,S=S+Math.imul(Re,Ht)|0,S=S+Math.imul(Ge,mn)|0,K=K+Math.imul(Ge,Ht)|0,B=B+Math.imul(Ee,dt)|0,S=S+Math.imul(Ee,gn)|0,S=S+Math.imul(_e,dt)|0,K=K+Math.imul(_e,gn)|0,B=B+Math.imul(ye,qt)|0,S=S+Math.imul(ye,An)|0,S=S+Math.imul(Te,qt)|0,K=K+Math.imul(Te,An)|0,B=B+Math.imul(ue,Ut)|0,S=S+Math.imul(ue,Cn)|0,S=S+Math.imul(he,Ut)|0,K=K+Math.imul(he,Cn)|0;var ca=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(ca>>>26)|0,ca&=67108863,B=Math.imul(N,qe),S=Math.imul(N,Ke),S=S+Math.imul(Q,qe)|0,K=Math.imul(Q,Ke),B=B+Math.imul(ot,Be)|0,S=S+Math.imul(ot,fn)|0,S=S+Math.imul(V,Be)|0,K=K+Math.imul(V,fn)|0,B=B+Math.imul(Tt,$t)|0,S=S+Math.imul(Tt,on)|0,S=S+Math.imul(Ct,$t)|0,K=K+Math.imul(Ct,on)|0,B=B+Math.imul(wt,Ot)|0,S=S+Math.imul(wt,pn)|0,S=S+Math.imul(oe,Ot)|0,K=K+Math.imul(oe,pn)|0,B=B+Math.imul(at,mn)|0,S=S+Math.imul(at,Ht)|0,S=S+Math.imul(Et,mn)|0,K=K+Math.imul(Et,Ht)|0,B=B+Math.imul(Re,dt)|0,S=S+Math.imul(Re,gn)|0,S=S+Math.imul(Ge,dt)|0,K=K+Math.imul(Ge,gn)|0,B=B+Math.imul(Ee,qt)|0,S=S+Math.imul(Ee,An)|0,S=S+Math.imul(_e,qt)|0,K=K+Math.imul(_e,An)|0,B=B+Math.imul(ye,Ut)|0,S=S+Math.imul(ye,Cn)|0,S=S+Math.imul(Te,Ut)|0,K=K+Math.imul(Te,Cn)|0,B=B+Math.imul(ue,Xt)|0,S=S+Math.imul(ue,yn)|0,S=S+Math.imul(he,Xt)|0,K=K+Math.imul(he,yn)|0;var mu=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(mu>>>26)|0,mu&=67108863,B=Math.imul(X,qe),S=Math.imul(X,Ke),S=S+Math.imul(ne,qe)|0,K=Math.imul(ne,Ke),B=B+Math.imul(N,Be)|0,S=S+Math.imul(N,fn)|0,S=S+Math.imul(Q,Be)|0,K=K+Math.imul(Q,fn)|0,B=B+Math.imul(ot,$t)|0,S=S+Math.imul(ot,on)|0,S=S+Math.imul(V,$t)|0,K=K+Math.imul(V,on)|0,B=B+Math.imul(Tt,Ot)|0,S=S+Math.imul(Tt,pn)|0,S=S+Math.imul(Ct,Ot)|0,K=K+Math.imul(Ct,pn)|0,B=B+Math.imul(wt,mn)|0,S=S+Math.imul(wt,Ht)|0,S=S+Math.imul(oe,mn)|0,K=K+Math.imul(oe,Ht)|0,B=B+Math.imul(at,dt)|0,S=S+Math.imul(at,gn)|0,S=S+Math.imul(Et,dt)|0,K=K+Math.imul(Et,gn)|0,B=B+Math.imul(Re,qt)|0,S=S+Math.imul(Re,An)|0,S=S+Math.imul(Ge,qt)|0,K=K+Math.imul(Ge,An)|0,B=B+Math.imul(Ee,Ut)|0,S=S+Math.imul(Ee,Cn)|0,S=S+Math.imul(_e,Ut)|0,K=K+Math.imul(_e,Cn)|0,B=B+Math.imul(ye,Xt)|0,S=S+Math.imul(ye,yn)|0,S=S+Math.imul(Te,Xt)|0,K=K+Math.imul(Te,yn)|0,B=B+Math.imul(ue,Jt)|0,S=S+Math.imul(ue,Nt)|0,S=S+Math.imul(he,Jt)|0,K=K+Math.imul(he,Nt)|0;var Ul=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(Ul>>>26)|0,Ul&=67108863,B=Math.imul(X,Be),S=Math.imul(X,fn),S=S+Math.imul(ne,Be)|0,K=Math.imul(ne,fn),B=B+Math.imul(N,$t)|0,S=S+Math.imul(N,on)|0,S=S+Math.imul(Q,$t)|0,K=K+Math.imul(Q,on)|0,B=B+Math.imul(ot,Ot)|0,S=S+Math.imul(ot,pn)|0,S=S+Math.imul(V,Ot)|0,K=K+Math.imul(V,pn)|0,B=B+Math.imul(Tt,mn)|0,S=S+Math.imul(Tt,Ht)|0,S=S+Math.imul(Ct,mn)|0,K=K+Math.imul(Ct,Ht)|0,B=B+Math.imul(wt,dt)|0,S=S+Math.imul(wt,gn)|0,S=S+Math.imul(oe,dt)|0,K=K+Math.imul(oe,gn)|0,B=B+Math.imul(at,qt)|0,S=S+Math.imul(at,An)|0,S=S+Math.imul(Et,qt)|0,K=K+Math.imul(Et,An)|0,B=B+Math.imul(Re,Ut)|0,S=S+Math.imul(Re,Cn)|0,S=S+Math.imul(Ge,Ut)|0,K=K+Math.imul(Ge,Cn)|0,B=B+Math.imul(Ee,Xt)|0,S=S+Math.imul(Ee,yn)|0,S=S+Math.imul(_e,Xt)|0,K=K+Math.imul(_e,yn)|0,B=B+Math.imul(ye,Jt)|0,S=S+Math.imul(ye,Nt)|0,S=S+Math.imul(Te,Jt)|0,K=K+Math.imul(Te,Nt)|0;var co=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(co>>>26)|0,co&=67108863,B=Math.imul(X,$t),S=Math.imul(X,on),S=S+Math.imul(ne,$t)|0,K=Math.imul(ne,on),B=B+Math.imul(N,Ot)|0,S=S+Math.imul(N,pn)|0,S=S+Math.imul(Q,Ot)|0,K=K+Math.imul(Q,pn)|0,B=B+Math.imul(ot,mn)|0,S=S+Math.imul(ot,Ht)|0,S=S+Math.imul(V,mn)|0,K=K+Math.imul(V,Ht)|0,B=B+Math.imul(Tt,dt)|0,S=S+Math.imul(Tt,gn)|0,S=S+Math.imul(Ct,dt)|0,K=K+Math.imul(Ct,gn)|0,B=B+Math.imul(wt,qt)|0,S=S+Math.imul(wt,An)|0,S=S+Math.imul(oe,qt)|0,K=K+Math.imul(oe,An)|0,B=B+Math.imul(at,Ut)|0,S=S+Math.imul(at,Cn)|0,S=S+Math.imul(Et,Ut)|0,K=K+Math.imul(Et,Cn)|0,B=B+Math.imul(Re,Xt)|0,S=S+Math.imul(Re,yn)|0,S=S+Math.imul(Ge,Xt)|0,K=K+Math.imul(Ge,yn)|0,B=B+Math.imul(Ee,Jt)|0,S=S+Math.imul(Ee,Nt)|0,S=S+Math.imul(_e,Jt)|0,K=K+Math.imul(_e,Nt)|0;var ri=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(ri>>>26)|0,ri&=67108863,B=Math.imul(X,Ot),S=Math.imul(X,pn),S=S+Math.imul(ne,Ot)|0,K=Math.imul(ne,pn),B=B+Math.imul(N,mn)|0,S=S+Math.imul(N,Ht)|0,S=S+Math.imul(Q,mn)|0,K=K+Math.imul(Q,Ht)|0,B=B+Math.imul(ot,dt)|0,S=S+Math.imul(ot,gn)|0,S=S+Math.imul(V,dt)|0,K=K+Math.imul(V,gn)|0,B=B+Math.imul(Tt,qt)|0,S=S+Math.imul(Tt,An)|0,S=S+Math.imul(Ct,qt)|0,K=K+Math.imul(Ct,An)|0,B=B+Math.imul(wt,Ut)|0,S=S+Math.imul(wt,Cn)|0,S=S+Math.imul(oe,Ut)|0,K=K+Math.imul(oe,Cn)|0,B=B+Math.imul(at,Xt)|0,S=S+Math.imul(at,yn)|0,S=S+Math.imul(Et,Xt)|0,K=K+Math.imul(Et,yn)|0,B=B+Math.imul(Re,Jt)|0,S=S+Math.imul(Re,Nt)|0,S=S+Math.imul(Ge,Jt)|0,K=K+Math.imul(Ge,Nt)|0;var Vl=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(Vl>>>26)|0,Vl&=67108863,B=Math.imul(X,mn),S=Math.imul(X,Ht),S=S+Math.imul(ne,mn)|0,K=Math.imul(ne,Ht),B=B+Math.imul(N,dt)|0,S=S+Math.imul(N,gn)|0,S=S+Math.imul(Q,dt)|0,K=K+Math.imul(Q,gn)|0,B=B+Math.imul(ot,qt)|0,S=S+Math.imul(ot,An)|0,S=S+Math.imul(V,qt)|0,K=K+Math.imul(V,An)|0,B=B+Math.imul(Tt,Ut)|0,S=S+Math.imul(Tt,Cn)|0,S=S+Math.imul(Ct,Ut)|0,K=K+Math.imul(Ct,Cn)|0,B=B+Math.imul(wt,Xt)|0,S=S+Math.imul(wt,yn)|0,S=S+Math.imul(oe,Xt)|0,K=K+Math.imul(oe,yn)|0,B=B+Math.imul(at,Jt)|0,S=S+Math.imul(at,Nt)|0,S=S+Math.imul(Et,Jt)|0,K=K+Math.imul(Et,Nt)|0;var Wh=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(Wh>>>26)|0,Wh&=67108863,B=Math.imul(X,dt),S=Math.imul(X,gn),S=S+Math.imul(ne,dt)|0,K=Math.imul(ne,gn),B=B+Math.imul(N,qt)|0,S=S+Math.imul(N,An)|0,S=S+Math.imul(Q,qt)|0,K=K+Math.imul(Q,An)|0,B=B+Math.imul(ot,Ut)|0,S=S+Math.imul(ot,Cn)|0,S=S+Math.imul(V,Ut)|0,K=K+Math.imul(V,Cn)|0,B=B+Math.imul(Tt,Xt)|0,S=S+Math.imul(Tt,yn)|0,S=S+Math.imul(Ct,Xt)|0,K=K+Math.imul(Ct,yn)|0,B=B+Math.imul(wt,Jt)|0,S=S+Math.imul(wt,Nt)|0,S=S+Math.imul(oe,Jt)|0,K=K+Math.imul(oe,Nt)|0;var gu=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(gu>>>26)|0,gu&=67108863,B=Math.imul(X,qt),S=Math.imul(X,An),S=S+Math.imul(ne,qt)|0,K=Math.imul(ne,An),B=B+Math.imul(N,Ut)|0,S=S+Math.imul(N,Cn)|0,S=S+Math.imul(Q,Ut)|0,K=K+Math.imul(Q,Cn)|0,B=B+Math.imul(ot,Xt)|0,S=S+Math.imul(ot,yn)|0,S=S+Math.imul(V,Xt)|0,K=K+Math.imul(V,yn)|0,B=B+Math.imul(Tt,Jt)|0,S=S+Math.imul(Tt,Nt)|0,S=S+Math.imul(Ct,Jt)|0,K=K+Math.imul(Ct,Nt)|0;var yu=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(yu>>>26)|0,yu&=67108863,B=Math.imul(X,Ut),S=Math.imul(X,Cn),S=S+Math.imul(ne,Ut)|0,K=Math.imul(ne,Cn),B=B+Math.imul(N,Xt)|0,S=S+Math.imul(N,yn)|0,S=S+Math.imul(Q,Xt)|0,K=K+Math.imul(Q,yn)|0,B=B+Math.imul(ot,Jt)|0,S=S+Math.imul(ot,Nt)|0,S=S+Math.imul(V,Jt)|0,K=K+Math.imul(V,Nt)|0;var wu=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(wu>>>26)|0,wu&=67108863,B=Math.imul(X,Xt),S=Math.imul(X,yn),S=S+Math.imul(ne,Xt)|0,K=Math.imul(ne,yn),B=B+Math.imul(N,Jt)|0,S=S+Math.imul(N,Nt)|0,S=S+Math.imul(Q,Jt)|0,K=K+Math.imul(Q,Nt)|0;var zl=(H+B|0)+((S&8191)<<13)|0;H=(K+(S>>>13)|0)+(zl>>>26)|0,zl&=67108863,B=Math.imul(X,Jt),S=Math.imul(X,Nt),S=S+Math.imul(ne,Jt)|0,K=Math.imul(ne,Nt);var Wl=(H+B|0)+((S&8191)<<13)|0;return H=(K+(S>>>13)|0)+(Wl>>>26)|0,Wl&=67108863,j[0]=du,j[1]=hu,j[2]=Bl,j[3]=Fl,j[4]=fu,j[5]=pu,j[6]=zh,j[7]=ca,j[8]=mu,j[9]=Ul,j[10]=co,j[11]=ri,j[12]=Vl,j[13]=Wh,j[14]=gu,j[15]=yu,j[16]=wu,j[17]=zl,j[18]=Wl,H!==0&&(j[19]=H,O.length++),O};Math.imul||(b=_);function x(C,y,I){I.negative=y.negative^C.negative,I.length=C.length+y.length;for(var O=0,z=0,L=0;L<I.length-1;L++){var j=z;z=0;for(var H=O&67108863,B=Math.min(L,y.length-1),S=Math.max(0,L-C.length+1);S<=B;S++){var K=L-S,ae=C.words[K]|0,ue=y.words[S]|0,he=ae*ue,le=he&67108863;j=j+(he/67108864|0)|0,le=le+H|0,H=le&67108863,j=j+(le>>>26)|0,z+=j>>>26,j&=67108863}I.words[L]=H,O=j,j=z}return O!==0?I.words[L]=O:I.length--,I._strip()}function T(C,y,I){return x(C,y,I)}i.prototype.mulTo=function(y,I){var O,z=this.length+y.length;return this.length===10&&y.length===10?O=b(this,y,I):z<63?O=_(this,y,I):z<1024?O=x(this,y,I):O=T(this,y,I),O},i.prototype.mul=function(y){var I=new i(null);return I.words=new Array(this.length+y.length),this.mulTo(y,I)},i.prototype.mulf=function(y){var I=new i(null);return I.words=new Array(this.length+y.length),T(this,y,I)},i.prototype.imul=function(y){return this.clone().mulTo(y,this)},i.prototype.imuln=function(y){var I=y<0;I&&(y=-y),r(typeof y=="number"),r(y<67108864);for(var O=0,z=0;z<this.length;z++){var L=(this.words[z]|0)*y,j=(L&67108863)+(O&67108863);O>>=26,O+=L/67108864|0,O+=j>>>26,this.words[z]=j&67108863}return O!==0&&(this.words[z]=O,this.length++),this.length=y===0?1:this.length,I?this.ineg():this},i.prototype.muln=function(y){return this.clone().imuln(y)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(y){var I=w(y);if(I.length===0)return new i(1);for(var O=this,z=0;z<I.length&&I[z]===0;z++,O=O.sqr());if(++z<I.length)for(var L=O.sqr();z<I.length;z++,L=L.sqr())I[z]!==0&&(O=O.mul(L));return O},i.prototype.iushln=function(y){r(typeof y=="number"&&y>=0);var I=y%26,O=(y-I)/26,z=67108863>>>26-I<<26-I,L;if(I!==0){var j=0;for(L=0;L<this.length;L++){var H=this.words[L]&z,B=(this.words[L]|0)-H<<I;this.words[L]=B|j,j=H>>>26-I}j&&(this.words[L]=j,this.length++)}if(O!==0){for(L=this.length-1;L>=0;L--)this.words[L+O]=this.words[L];for(L=0;L<O;L++)this.words[L]=0;this.length+=O}return this._strip()},i.prototype.ishln=function(y){return r(this.negative===0),this.iushln(y)},i.prototype.iushrn=function(y,I,O){r(typeof y=="number"&&y>=0);var z;I?z=(I-I%26)/26:z=0;var L=y%26,j=Math.min((y-L)/26,this.length),H=67108863^67108863>>>L<<L,B=O;if(z-=j,z=Math.max(0,z),B){for(var S=0;S<j;S++)B.words[S]=this.words[S];B.length=j}if(j!==0)if(this.length>j)for(this.length-=j,S=0;S<this.length;S++)this.words[S]=this.words[S+j];else this.words[0]=0,this.length=1;var K=0;for(S=this.length-1;S>=0&&(K!==0||S>=z);S--){var ae=this.words[S]|0;this.words[S]=K<<26-L|ae>>>L,K=ae&H}return B&&K!==0&&(B.words[B.length++]=K),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(y,I,O){return r(this.negative===0),this.iushrn(y,I,O)},i.prototype.shln=function(y){return this.clone().ishln(y)},i.prototype.ushln=function(y){return this.clone().iushln(y)},i.prototype.shrn=function(y){return this.clone().ishrn(y)},i.prototype.ushrn=function(y){return this.clone().iushrn(y)},i.prototype.testn=function(y){r(typeof y=="number"&&y>=0);var I=y%26,O=(y-I)/26,z=1<<I;if(this.length<=O)return!1;var L=this.words[O];return!!(L&z)},i.prototype.imaskn=function(y){r(typeof y=="number"&&y>=0);var I=y%26,O=(y-I)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(I!==0&&O++,this.length=Math.min(O,this.length),I!==0){var z=67108863^67108863>>>I<<I;this.words[this.length-1]&=z}return this._strip()},i.prototype.maskn=function(y){return this.clone().imaskn(y)},i.prototype.iaddn=function(y){return r(typeof y=="number"),r(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<=y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},i.prototype._iaddn=function(y){this.words[0]+=y;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},i.prototype.isubn=function(y){if(r(typeof y=="number"),r(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this._strip()},i.prototype.addn=function(y){return this.clone().iaddn(y)},i.prototype.subn=function(y){return this.clone().isubn(y)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(y,I,O){var z=y.length+O,L;this._expand(z);var j,H=0;for(L=0;L<y.length;L++){j=(this.words[L+O]|0)+H;var B=(y.words[L]|0)*I;j-=B&67108863,H=(j>>26)-(B/67108864|0),this.words[L+O]=j&67108863}for(;L<this.length-O;L++)j=(this.words[L+O]|0)+H,H=j>>26,this.words[L+O]=j&67108863;if(H===0)return this._strip();for(r(H===-1),H=0,L=0;L<this.length;L++)j=-(this.words[L]|0)+H,H=j>>26,this.words[L]=j&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(y,I){var O=this.length-y.length,z=this.clone(),L=y,j=L.words[L.length-1]|0,H=this._countBits(j);O=26-H,O!==0&&(L=L.ushln(O),z.iushln(O),j=L.words[L.length-1]|0);var B=z.length-L.length,S;if(I!=="mod"){S=new i(null),S.length=B+1,S.words=new Array(S.length);for(var K=0;K<S.length;K++)S.words[K]=0}var ae=z.clone()._ishlnsubmul(L,1,B);ae.negative===0&&(z=ae,S&&(S.words[B]=1));for(var ue=B-1;ue>=0;ue--){var he=(z.words[L.length+ue]|0)*67108864+(z.words[L.length+ue-1]|0);for(he=Math.min(he/j|0,67108863),z._ishlnsubmul(L,he,ue);z.negative!==0;)he--,z.negative=0,z._ishlnsubmul(L,1,ue),z.isZero()||(z.negative^=1);S&&(S.words[ue]=he)}return S&&S._strip(),z._strip(),I!=="div"&&O!==0&&z.iushrn(O),{div:S||null,mod:z}},i.prototype.divmod=function(y,I,O){if(r(!y.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var z,L,j;return this.negative!==0&&y.negative===0?(j=this.neg().divmod(y,I),I!=="mod"&&(z=j.div.neg()),I!=="div"&&(L=j.mod.neg(),O&&L.negative!==0&&L.iadd(y)),{div:z,mod:L}):this.negative===0&&y.negative!==0?(j=this.divmod(y.neg(),I),I!=="mod"&&(z=j.div.neg()),{div:z,mod:j.mod}):this.negative&y.negative?(j=this.neg().divmod(y.neg(),I),I!=="div"&&(L=j.mod.neg(),O&&L.negative!==0&&L.isub(y)),{div:j.div,mod:L}):y.length>this.length||this.cmp(y)<0?{div:new i(0),mod:this}:y.length===1?I==="div"?{div:this.divn(y.words[0]),mod:null}:I==="mod"?{div:null,mod:new i(this.modrn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new i(this.modrn(y.words[0]))}:this._wordDiv(y,I)},i.prototype.div=function(y){return this.divmod(y,"div",!1).div},i.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},i.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},i.prototype.divRound=function(y){var I=this.divmod(y);if(I.mod.isZero())return I.div;var O=I.div.negative!==0?I.mod.isub(y):I.mod,z=y.ushrn(1),L=y.andln(1),j=O.cmp(z);return j<0||L===1&&j===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},i.prototype.modrn=function(y){var I=y<0;I&&(y=-y),r(y<=67108863);for(var O=(1<<26)%y,z=0,L=this.length-1;L>=0;L--)z=(O*z+(this.words[L]|0))%y;return I?-z:z},i.prototype.modn=function(y){return this.modrn(y)},i.prototype.idivn=function(y){var I=y<0;I&&(y=-y),r(y<=67108863);for(var O=0,z=this.length-1;z>=0;z--){var L=(this.words[z]|0)+O*67108864;this.words[z]=L/y|0,O=L%y}return this._strip(),I?this.ineg():this},i.prototype.divn=function(y){return this.clone().idivn(y)},i.prototype.egcd=function(y){r(y.negative===0),r(!y.isZero());var I=this,O=y.clone();I.negative!==0?I=I.umod(y):I=I.clone();for(var z=new i(1),L=new i(0),j=new i(0),H=new i(1),B=0;I.isEven()&&O.isEven();)I.iushrn(1),O.iushrn(1),++B;for(var S=O.clone(),K=I.clone();!I.isZero();){for(var ae=0,ue=1;!(I.words[0]&ue)&&ae<26;++ae,ue<<=1);if(ae>0)for(I.iushrn(ae);ae-- >0;)(z.isOdd()||L.isOdd())&&(z.iadd(S),L.isub(K)),z.iushrn(1),L.iushrn(1);for(var he=0,le=1;!(O.words[0]&le)&&he<26;++he,le<<=1);if(he>0)for(O.iushrn(he);he-- >0;)(j.isOdd()||H.isOdd())&&(j.iadd(S),H.isub(K)),j.iushrn(1),H.iushrn(1);I.cmp(O)>=0?(I.isub(O),z.isub(j),L.isub(H)):(O.isub(I),j.isub(z),H.isub(L))}return{a:j,b:H,gcd:O.iushln(B)}},i.prototype._invmp=function(y){r(y.negative===0),r(!y.isZero());var I=this,O=y.clone();I.negative!==0?I=I.umod(y):I=I.clone();for(var z=new i(1),L=new i(0),j=O.clone();I.cmpn(1)>0&&O.cmpn(1)>0;){for(var H=0,B=1;!(I.words[0]&B)&&H<26;++H,B<<=1);if(H>0)for(I.iushrn(H);H-- >0;)z.isOdd()&&z.iadd(j),z.iushrn(1);for(var S=0,K=1;!(O.words[0]&K)&&S<26;++S,K<<=1);if(S>0)for(O.iushrn(S);S-- >0;)L.isOdd()&&L.iadd(j),L.iushrn(1);I.cmp(O)>=0?(I.isub(O),z.isub(L)):(O.isub(I),L.isub(z))}var ae;return I.cmpn(1)===0?ae=z:ae=L,ae.cmpn(0)<0&&ae.iadd(y),ae},i.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var I=this.clone(),O=y.clone();I.negative=0,O.negative=0;for(var z=0;I.isEven()&&O.isEven();z++)I.iushrn(1),O.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;O.isEven();)O.iushrn(1);var L=I.cmp(O);if(L<0){var j=I;I=O,O=j}else if(L===0||O.cmpn(1)===0)break;I.isub(O)}while(!0);return O.iushln(z)},i.prototype.invm=function(y){return this.egcd(y).a.umod(y)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(y){return this.words[0]&y},i.prototype.bincn=function(y){r(typeof y=="number");var I=y%26,O=(y-I)/26,z=1<<I;if(this.length<=O)return this._expand(O+1),this.words[O]|=z,this;for(var L=z,j=O;L!==0&&j<this.length;j++){var H=this.words[j]|0;H+=L,L=H>>>26,H&=67108863,this.words[j]=H}return L!==0&&(this.words[j]=L,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(y){var I=y<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this._strip();var O;if(this.length>1)O=1;else{I&&(y=-y),r(y<=67108863,"Number is too big");var z=this.words[0]|0;O=z===y?0:z<y?-1:1}return this.negative!==0?-O|0:O},i.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var I=this.ucmp(y);return this.negative!==0?-I|0:I},i.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var I=0,O=this.length-1;O>=0;O--){var z=this.words[O]|0,L=y.words[O]|0;if(z!==L){z<L?I=-1:z>L&&(I=1);break}}return I},i.prototype.gtn=function(y){return this.cmpn(y)===1},i.prototype.gt=function(y){return this.cmp(y)===1},i.prototype.gten=function(y){return this.cmpn(y)>=0},i.prototype.gte=function(y){return this.cmp(y)>=0},i.prototype.ltn=function(y){return this.cmpn(y)===-1},i.prototype.lt=function(y){return this.cmp(y)===-1},i.prototype.lten=function(y){return this.cmpn(y)<=0},i.prototype.lte=function(y){return this.cmp(y)<=0},i.prototype.eqn=function(y){return this.cmpn(y)===0},i.prototype.eq=function(y){return this.cmp(y)===0},i.red=function(y){return new $(y)},i.prototype.toRed=function(y){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(y){return this.red=y,this},i.prototype.forceRed=function(y){return r(!this.red,"Already a number in reduction context"),this._forceRed(y)},i.prototype.redAdd=function(y){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},i.prototype.redIAdd=function(y){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},i.prototype.redSub=function(y){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},i.prototype.redISub=function(y){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},i.prototype.redShl=function(y){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},i.prototype.redMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},i.prototype.redIMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(y){return r(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var D={k256:null,p224:null,p192:null,p25519:null};function F(C,y){this.name=C,this.p=new i(y,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}F.prototype._tmp=function(){var y=new i(null);return y.words=new Array(Math.ceil(this.n/13)),y},F.prototype.ireduce=function(y){var I=y,O;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),O=I.bitLength();while(O>this.n);var z=O<this.n?-1:I.ucmp(this.p);return z===0?(I.words[0]=0,I.length=1):z>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},F.prototype.split=function(y,I){y.iushrn(this.n,0,I)},F.prototype.imulK=function(y){return y.imul(this.k)};function R(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(R,F),R.prototype.split=function(y,I){for(var O=4194303,z=Math.min(y.length,9),L=0;L<z;L++)I.words[L]=y.words[L];if(I.length=z,y.length<=9){y.words[0]=0,y.length=1;return}var j=y.words[9];for(I.words[I.length++]=j&O,L=10;L<y.length;L++){var H=y.words[L]|0;y.words[L-10]=(H&O)<<4|j>>>22,j=H}j>>>=22,y.words[L-10]=j,j===0&&y.length>10?y.length-=10:y.length-=9},R.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var I=0,O=0;O<y.length;O++){var z=y.words[O]|0;I+=z*977,y.words[O]=I&67108863,I=z*64+(I/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function M(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(M,F);function U(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(U,F);function W(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(W,F),W.prototype.imulK=function(y){for(var I=0,O=0;O<y.length;O++){var z=(y.words[O]|0)*19+I,L=z&67108863;z>>>=26,y.words[O]=L,I=z}return I!==0&&(y.words[y.length++]=I),y},i._prime=function(y){if(D[y])return D[y];var I;if(y==="k256")I=new R;else if(y==="p224")I=new M;else if(y==="p192")I=new U;else if(y==="p25519")I=new W;else throw new Error("Unknown prime "+y);return D[y]=I,I};function $(C){if(typeof C=="string"){var y=i._prime(C);this.m=y.p,this.prime=y}else r(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}$.prototype._verify1=function(y){r(y.negative===0,"red works only with positives"),r(y.red,"red works only with red numbers")},$.prototype._verify2=function(y,I){r((y.negative|I.negative)===0,"red works only with positives"),r(y.red&&y.red===I.red,"red works only with red numbers")},$.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):(u(y,y.umod(this.m)._forceRed(this)),y)},$.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},$.prototype.add=function(y,I){this._verify2(y,I);var O=y.add(I);return O.cmp(this.m)>=0&&O.isub(this.m),O._forceRed(this)},$.prototype.iadd=function(y,I){this._verify2(y,I);var O=y.iadd(I);return O.cmp(this.m)>=0&&O.isub(this.m),O},$.prototype.sub=function(y,I){this._verify2(y,I);var O=y.sub(I);return O.cmpn(0)<0&&O.iadd(this.m),O._forceRed(this)},$.prototype.isub=function(y,I){this._verify2(y,I);var O=y.isub(I);return O.cmpn(0)<0&&O.iadd(this.m),O},$.prototype.shl=function(y,I){return this._verify1(y),this.imod(y.ushln(I))},$.prototype.imul=function(y,I){return this._verify2(y,I),this.imod(y.imul(I))},$.prototype.mul=function(y,I){return this._verify2(y,I),this.imod(y.mul(I))},$.prototype.isqr=function(y){return this.imul(y,y.clone())},$.prototype.sqr=function(y){return this.mul(y,y)},$.prototype.sqrt=function(y){if(y.isZero())return y.clone();var I=this.m.andln(3);if(r(I%2===1),I===3){var O=this.m.add(new i(1)).iushrn(2);return this.pow(y,O)}for(var z=this.m.subn(1),L=0;!z.isZero()&&z.andln(1)===0;)L++,z.iushrn(1);r(!z.isZero());var j=new i(1).toRed(this),H=j.redNeg(),B=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new i(2*S*S).toRed(this);this.pow(S,B).cmp(H)!==0;)S.redIAdd(H);for(var K=this.pow(S,z),ae=this.pow(y,z.addn(1).iushrn(1)),ue=this.pow(y,z),he=L;ue.cmp(j)!==0;){for(var le=ue,ye=0;le.cmp(j)!==0;ye++)le=le.redSqr();r(ye<he);var Te=this.pow(K,new i(1).iushln(he-ye-1));ae=ae.redMul(Te),K=Te.redSqr(),ue=ue.redMul(K),he=ye}return ae},$.prototype.invm=function(y){var I=y._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},$.prototype.pow=function(y,I){if(I.isZero())return new i(1).toRed(this);if(I.cmpn(1)===0)return y.clone();var O=4,z=new Array(1<<O);z[0]=new i(1).toRed(this),z[1]=y;for(var L=2;L<z.length;L++)z[L]=this.mul(z[L-1],y);var j=z[0],H=0,B=0,S=I.bitLength()%26;for(S===0&&(S=26),L=I.length-1;L>=0;L--){for(var K=I.words[L],ae=S-1;ae>=0;ae--){var ue=K>>ae&1;if(j!==z[0]&&(j=this.sqr(j)),ue===0&&H===0){B=0;continue}H<<=1,H|=ue,B++,!(B!==O&&(L!==0||ae!==0))&&(j=this.mul(j,z[H]),B=0,H=0)}S=26}return j},$.prototype.convertTo=function(y){var I=y.umod(this.m);return I===y?I.clone():I},$.prototype.convertFrom=function(y){var I=y.clone();return I.red=null,I},i.mont=function(y){return new q(y)};function q(C){$.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(q,$),q.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},q.prototype.convertFrom=function(y){var I=this.imod(y.mul(this.rinv));return I.red=null,I},q.prototype.imul=function(y,I){if(y.isZero()||I.isZero())return y.words[0]=0,y.length=1,y;var O=y.imul(I),z=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=O.isub(z).iushrn(this.shift),j=L;return L.cmp(this.m)>=0?j=L.isub(this.m):L.cmpn(0)<0&&(j=L.iadd(this.m)),j._forceRed(this)},q.prototype.mul=function(y,I){if(y.isZero()||I.isZero())return new i(0)._forceRed(this);var O=y.mul(I),z=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=O.isub(z).iushrn(this.shift),j=L;return L.cmp(this.m)>=0?j=L.isub(this.m):L.cmpn(0)<0&&(j=L.iadd(this.m)),j._forceRed(this)},q.prototype.invm=function(y){var I=this.imod(y._invmp(this.m).mul(this.r2));return I._forceRed(this)}})(t,_i)})(bT);var ML=bT.exports;const XN=oa(ML);var xb={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=Je,r=n.Buffer;function s(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=i);function i(o,a,l){return r(o,a,l)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},i.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(xb,xb.exports);var RL=xb.exports,Ag=RL.Buffer;function oH(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=Ag.from(m)),!Ag.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var v=0,g=0,w=0,_=m.length;w!==_&&m[w]===0;)w++,v++;for(var b=(_-w)*c+1>>>0,x=new Uint8Array(b);w!==_;){for(var T=m[w],D=0,F=b-1;(T!==0||D<g)&&F!==-1;F--,D++)T+=256*x[F]>>>0,x[F]=T%o>>>0,T=T/o>>>0;if(T!==0)throw new Error("Non-zero carry");g=D,w++}for(var R=b-g;R!==b&&x[R]===0;)R++;for(var M=a.repeat(v);R<b;++R)M+=t.charAt(x[R]);return M}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return Ag.alloc(0);for(var v=0,g=0,w=0;m[v]===a;)g++,v++;for(var _=(m.length-v)*l+1>>>0,b=new Uint8Array(_);v<m.length;){var x=m.charCodeAt(v);if(x>255)return;var T=e[x];if(T===255)return;for(var D=0,F=_-1;(T!==0||D<w)&&F!==-1;F--,D++)T+=o*b[F]>>>0,b[F]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");w=D,v++}for(var R=_-w;R!==_&&b[R]===0;)R++;var M=Ag.allocUnsafe(g+(_-R));M.fill(0,0,g);for(var U=g;R!==_;)M[U++]=b[R++];return M}function p(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:p}}var aH=oH,lH=aH,cH="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",uH=lH(cH);const wr=oa(uH),JN=yL;var gr={},Cg=RL.Buffer;function dH(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=Cg.from(m)),!Cg.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var v=0,g=0,w=0,_=m.length;w!==_&&m[w]===0;)w++,v++;for(var b=(_-w)*c+1>>>0,x=new Uint8Array(b);w!==_;){for(var T=m[w],D=0,F=b-1;(T!==0||D<g)&&F!==-1;F--,D++)T+=256*x[F]>>>0,x[F]=T%o>>>0,T=T/o>>>0;if(T!==0)throw new Error("Non-zero carry");g=D,w++}for(var R=b-g;R!==b&&x[R]===0;)R++;for(var M=a.repeat(v);R<b;++R)M+=t.charAt(x[R]);return M}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return Cg.alloc(0);for(var v=0,g=0,w=0;m[v]===a;)g++,v++;for(var _=(m.length-v)*l+1>>>0,b=new Uint8Array(_);v<m.length;){var x=m.charCodeAt(v);if(x>255)return;var T=e[x];if(T===255)return;for(var D=0,F=_-1;(T!==0||D<w)&&F!==-1;F--,D++)T+=o*b[F]>>>0,b[F]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");w=D,v++}for(var R=_-w;R!==_&&b[R]===0;)R++;var M=Cg.allocUnsafe(g+(_-R));M.fill(0,0,g);for(var U=g;R!==_;)M[U++]=b[R++];return M}function p(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:p}}var hH=dH,fH=hH,pH="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",mH=fH(pH);function Co(t,e,n){return e<=t&&t<=n}function Zw(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function gH(t){for(var e=String(t),n=e.length,r=0,s=[];r<n;){var i=e.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=i&1023,l=o&1023;s.push(65536+(a<<10)+l),r+=1}else s.push(65533)}r+=1}return s}function yH(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Cy=-1;function ET(t){this.tokens=[].slice.call(t)}ET.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Cy},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var nh=-1;function tx(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Ny="utf-8";function ky(t,e){if(!(this instanceof ky))return new ky(t,e);if(t=t!==void 0?String(t).toLowerCase():Ny,t!==Ny)throw new Error("Encoding not supported. Only utf-8 is supported");e=Zw(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}ky.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Zw(n),this._streaming||(this._decoder=new wH({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new ET(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==nh);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===nh)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),yH(i)}};function My(t,e){if(!(this instanceof My))return new My(t,e);if(t=t!==void 0?String(t).toLowerCase():Ny,t!==Ny)throw new Error("Encoding not supported. Only utf-8 is supported");e=Zw(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}My.prototype={encode:function(e,n){e=e?String(e):"",n=Zw(n),this._streaming||(this._encoder=new vH(this._options)),this._streaming=!!n.stream;for(var r=[],s=new ET(gH(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==nh);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==nh;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function wH(t){var e=t.fatal,n=0,r=0,s=0,i=128,o=191;this.handler=function(a,l){if(l===Cy&&s!==0)return s=0,tx(e);if(l===Cy)return nh;if(s===0){if(Co(l,0,127))return l;if(Co(l,194,223))s=1,n=l-192;else if(Co(l,224,239))l===224&&(i=160),l===237&&(o=159),s=2,n=l-224;else if(Co(l,240,244))l===240&&(i=144),l===244&&(o=143),s=3,n=l-240;else return tx(e);return n=n<<6*s,null}if(!Co(l,i,o))return n=s=r=0,i=128,o=191,a.prepend(l),tx(e);if(i=128,o=191,r+=1,n+=l-128<<6*(s-r),r!==s)return null;var c=n;return n=s=r=0,c}}function vH(t){t.fatal,this.handler=function(e,n){if(n===Cy)return nh;if(Co(n,0,127))return n;var r,s;Co(n,128,2047)?(r=1,s=192):Co(n,2048,65535)?(r=2,s=224):Co(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var o=n>>6*(r-1);i.push(128|o&63),r-=1}return i}}const xH=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:ky,TextEncoder:My},Symbol.toStringTag,{value:"Module"})),_H=HE(xH);var bH=_i&&_i.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),EH=_i&&_i.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),no=_i&&_i.__decorate||function(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},SH=_i&&_i.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&bH(e,t,n);return EH(e,t),e},PL=_i&&_i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gr,"__esModule",{value:!0});var OL=gr.deserializeUnchecked=UL=gr.deserialize=FL=gr.serialize=gr.BinaryReader=gr.BinaryWriter=gr.BorshError=gr.baseDecode=gr.baseEncode=void 0;const Ya=PL(ML),LL=PL(mH),TH=SH(_H),IH=typeof TextDecoder!="function"?TH.TextDecoder:TextDecoder,AH=new IH("utf-8",{fatal:!0});function CH(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),LL.default.encode(Buffer.from(t))}gr.baseEncode=CH;function NH(t){return Buffer.from(LL.default.decode(t))}gr.baseDecode=NH;const nx=1024;class rs extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}gr.BorshError=rs;class DL{constructor(){this.buf=Buffer.alloc(nx),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(nx)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ya.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ya.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ya.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ya.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(nx)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}gr.BinaryWriter=DL;function ro(t,e,n){const r=n.value;n.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new rs("Reached the end of buffer when deserializing")}throw i}}}class Us{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Ya.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Ya.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Ya.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Ya.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new rs(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return AH.decode(n)}catch(r){throw new rs(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let s=0;s<n;++s)r.push(e());return r}}no([ro],Us.prototype,"readU8",null);no([ro],Us.prototype,"readU16",null);no([ro],Us.prototype,"readU32",null);no([ro],Us.prototype,"readU64",null);no([ro],Us.prototype,"readU128",null);no([ro],Us.prototype,"readU256",null);no([ro],Us.prototype,"readU512",null);no([ro],Us.prototype,"readString",null);no([ro],Us.prototype,"readFixedArray",null);no([ro],Us.prototype,"readArray",null);gr.BinaryReader=Us;function jL(t){return t.charAt(0).toUpperCase()+t.slice(1)}function nc(t,e,n,r,s){try{if(typeof r=="string")s[`write${jL(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new rs(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new rs(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)nc(t,null,n[i],r[0],s)}else s.writeArray(n,i=>{nc(t,e,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?s.writeU8(0):(s.writeU8(1),nc(t,e,n,r.type,s));break}case"map":{s.writeU32(n.size),n.forEach((i,o)=>{nc(t,e,o,r.key,s),nc(t,e,i,r.value,s)});break}default:throw new rs(`FieldType ${r} unrecognized`)}else BL(t,n,s)}catch(i){throw i instanceof rs&&i.addToFieldPath(e),i}}function BL(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new rs(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{nc(t,s,e[s],i,n)});else if(r.kind==="enum"){const s=e[r.field];for(let i=0;i<r.values.length;++i){const[o,a]=r.values[i];if(o===s){n.writeU8(i),nc(t,o,e[o],a,n);break}}}else throw new rs(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function kH(t,e,n=DL){const r=new n;return BL(t,e,r),r.toArray()}var FL=gr.serialize=kH;function rc(t,e,n,r){try{if(typeof n=="string")return r[`read${jL(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const s=[];for(let i=0;i<n[1];i++)s.push(rc(t,null,n[0],r));return s}else return r.readArray(()=>rc(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?rc(t,e,n.type,r):void 0;if(n.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const a=rc(t,e,n.key,r),l=rc(t,e,n.value,r);s.set(a,l)}return s}return ST(t,n,r)}catch(s){throw s instanceof rs&&s.addToFieldPath(e),s}}function ST(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new rs(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of t.get(e).fields)s[i]=rc(t,i,o,n);return new e(s)}if(r.kind==="enum"){const s=n.readU8();if(s>=r.values.length)throw new rs(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],a=rc(t,i,o,n);return new e({[i]:a})}throw new rs(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function MH(t,e,n,r=Us){const s=new r(n),i=ST(t,e,s);if(s.offset<n.length)throw new rs(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return i}var UL=gr.deserialize=MH;function RH(t,e,n,r=Us){const s=new r(n);return ST(t,e,s)}OL=gr.deserializeUnchecked=RH;var te={};Object.defineProperty(te,"__esModule",{value:!0});te.s16=te.s8=te.nu64be=te.u48be=te.u40be=te.u32be=te.u24be=te.u16be=ur=te.nu64=te.u48=te.u40=je=te.u32=te.u24=Gs=te.u16=St=te.u8=Cc=te.offset=te.greedy=te.Constant=te.UTF8=te.CString=te.Blob=te.Boolean=te.BitField=te.BitStructure=te.VariantLayout=te.Union=te.UnionLayoutDiscriminator=te.UnionDiscriminator=te.Structure=te.Sequence=te.DoubleBE=te.Double=te.FloatBE=te.Float=te.NearInt64BE=te.NearInt64=te.NearUInt64BE=te.NearUInt64=te.IntBE=te.Int=te.UIntBE=te.UInt=te.OffsetLayout=te.GreedyCount=te.ExternalLayout=te.bindConstructorLayout=te.nameWithProperty=te.Layout=te.uint8ArrayToBuffer=te.checkUint8Array=void 0;te.constant=te.utf8=te.cstr=rn=te.blob=te.unionLayoutDiscriminator=te.union=$r=te.seq=te.bits=Ne=te.struct=te.f64be=te.f64=te.f32be=te.f32=te.ns64be=te.s48be=te.s40be=te.s32be=te.s24be=te.s16be=Is=te.ns64=te.s48=te.s40=te.s32=te.s24=void 0;const TT=Je;function Th(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}te.checkUint8Array=Th;function bt(t){return Th(t),TT.Buffer.from(t.buffer,t.byteOffset,t.length)}te.uint8ArrayToBuffer=bt;let Pt=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};te.Layout=Pt;function IT(t,e){return e.property?t+"["+e.property+"]":t}te.nameWithProperty=IT;function PH(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Pt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}te.bindConstructorLayout=PH;class hs extends Pt{isCount(){throw new Error("ExternalLayout is abstract")}}te.ExternalLayout=hs;class VL extends hs{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){Th(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}te.GreedyCount=VL;class AT extends hs{constructor(e,n=0,r){if(!(e instanceof Pt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Js||this.layout instanceof xi}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}te.OffsetLayout=AT;class Js extends Pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return bt(e).readUIntLE(n,this.span)}encode(e,n,r=0){return bt(n).writeUIntLE(e,r,this.span),this.span}}te.UInt=Js;class xi extends Pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return bt(e).readUIntBE(n,this.span)}encode(e,n,r=0){return bt(n).writeUIntBE(e,r,this.span),this.span}}te.UIntBE=xi;class tu extends Pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return bt(e).readIntLE(n,this.span)}encode(e,n,r=0){return bt(n).writeIntLE(e,r,this.span),this.span}}te.Int=tu;class Ih extends Pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return bt(e).readIntBE(n,this.span)}encode(e,n,r=0){return bt(n).writeIntBE(e,r,this.span),this.span}}te.IntBE=Ih;const _b=Math.pow(2,32);function Xw(t){const e=Math.floor(t/_b),n=t-e*_b;return{hi32:e,lo32:n}}function Jw(t,e){return t*_b+e}class zL extends Pt{constructor(e){super(8,e)}decode(e,n=0){const r=bt(e),s=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return Jw(i,s)}encode(e,n,r=0){const s=Xw(e),i=bt(n);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}te.NearUInt64=zL;class WL extends Pt{constructor(e){super(8,e)}decode(e,n=0){const r=bt(e),s=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return Jw(s,i)}encode(e,n,r=0){const s=Xw(e),i=bt(n);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}te.NearUInt64BE=WL;class $L extends Pt{constructor(e){super(8,e)}decode(e,n=0){const r=bt(e),s=r.readUInt32LE(n),i=r.readInt32LE(n+4);return Jw(i,s)}encode(e,n,r=0){const s=Xw(e),i=bt(n);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}te.NearInt64=$L;class HL extends Pt{constructor(e){super(8,e)}decode(e,n=0){const r=bt(e),s=r.readInt32BE(n),i=r.readUInt32BE(n+4);return Jw(s,i)}encode(e,n,r=0){const s=Xw(e),i=bt(n);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}te.NearInt64BE=HL;class qL extends Pt{constructor(e){super(4,e)}decode(e,n=0){return bt(e).readFloatLE(n)}encode(e,n,r=0){return bt(n).writeFloatLE(e,r),4}}te.Float=qL;class KL extends Pt{constructor(e){super(4,e)}decode(e,n=0){return bt(e).readFloatBE(n)}encode(e,n,r=0){return bt(n).writeFloatBE(e,r),4}}te.FloatBE=KL;class GL extends Pt{constructor(e){super(8,e)}decode(e,n=0){return bt(e).readDoubleLE(n)}encode(e,n,r=0){return bt(n).writeDoubleLE(e,r),8}}te.Double=GL;class QL extends Pt{constructor(e){super(8,e)}decode(e,n=0){return bt(e).readDoubleBE(n)}encode(e,n,r=0){return bt(n).writeDoubleBE(e,r),8}}te.DoubleBE=QL;class YL extends Pt{constructor(e,n,r){if(!(e instanceof Pt))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof hs&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof hs)&&0<e.span&&(s=n*e.span),super(s,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof hs&&(s=s.decode(e,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(e,n+r),++i}return r}decode(e,n=0){const r=[];let s=0,i=this.count;for(i instanceof hs&&(i=i.decode(e,n));s<i;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),s+=1;return r}encode(e,n,r=0){const s=this.elementLayout,i=e.reduce((o,a)=>o+s.encode(a,n,r+o),0);return this.count instanceof hs&&this.count.encode(e.length,n,r),i}}te.Sequence=YL;class ZL extends Pt{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof Pt,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){Th(e);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,n)),n+=s.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const s=r;let i=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}i=r,r+=l}return i+o-s}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}te.Structure=ZL;class CT{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}te.UnionDiscriminator=CT;class Ry extends CT{constructor(e,n){if(!(e instanceof hs&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}te.UnionLayoutDiscriminator=Ry;class NT extends Pt{constructor(e,n,r){let s;if(e instanceof Js||e instanceof xi)s=new Ry(new AT(e));else if(e instanceof hs&&e.isCount())s=new Ry(e);else if(e instanceof CT)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Pt))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(e instanceof Js||e instanceof xi)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof Js||e instanceof xi,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const s=this.discriminator,i=s.decode(e,n),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],n,r),a+o.encode(e[o.property],n,r+a)}return s.encode(e,n,r)}addVariant(e,n,r){const s=new XL(this,e,n,r);return this.registry[e]=s,s}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}te.Union=NT;class XL extends Pt{constructor(e,n,r,s){if(!(e instanceof NT))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof Pt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,n+r)),r+s}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}te.VariantLayout=XL;function Lu(t){return 0>t&&(t+=4294967296),t}class kT extends Pt{constructor(e,n,r){if(!(e instanceof Js||e instanceof xi))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(i){return s=Lu(i),this},this._packedGetValue=function(){return s}}decode(e,n=0){const r=this.makeDestinationObject(),s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(e));return r}encode(e,n,r=0){const s=this.word.decode(n,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new MT(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new JL(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}te.BitStructure=kT;class MT{constructor(e,n,r){if(!(e instanceof kT))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*e.span,i=e.fields.reduce((o,a)=>o+a.bits,0);if(n+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-n),this.wordMask=Lu(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Lu(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Lu(e&this.valueMask))throw new TypeError(IT("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Lu(e<<this.start);this.container._packedSetValue(Lu(n&~this.wordMask)|r)}}te.BitField=MT;let JL=class extends MT{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};te.Boolean=JL;let eD=class extends Pt{constructor(e,n){if(!(e instanceof hs&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof hs||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),bt(e).slice(n,n+r)}encode(e,n,r){let s=this.length;if(this.length instanceof hs&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(IT("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>n.length)throw new RangeError("encoding overruns Uint8Array");const i=bt(e);return bt(n).write(i.toString("hex"),r,s,"hex"),this.length instanceof hs&&this.length.encode(s,n,r),s}};te.Blob=eD;class tD extends Pt{constructor(e){super(-1,e)}getSpan(e,n=0){Th(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return bt(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=TT.Buffer.from(e,"utf8"),i=s.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const o=bt(n);return s.copy(o,r),o[r+i]=0,i+1}}te.CString=tD;class nD extends Pt{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return Th(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return bt(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=TT.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(bt(n),r),i}}te.UTF8=nD;class rD extends Pt{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}te.Constant=rD;te.greedy=(t,e)=>new VL(t,e);var Cc=te.offset=(t,e,n)=>new AT(t,e,n),St=te.u8=t=>new Js(1,t),Gs=te.u16=t=>new Js(2,t);te.u24=t=>new Js(3,t);var je=te.u32=t=>new Js(4,t);te.u40=t=>new Js(5,t);te.u48=t=>new Js(6,t);var ur=te.nu64=t=>new zL(t);te.u16be=t=>new xi(2,t);te.u24be=t=>new xi(3,t);te.u32be=t=>new xi(4,t);te.u40be=t=>new xi(5,t);te.u48be=t=>new xi(6,t);te.nu64be=t=>new WL(t);te.s8=t=>new tu(1,t);te.s16=t=>new tu(2,t);te.s24=t=>new tu(3,t);te.s32=t=>new tu(4,t);te.s40=t=>new tu(5,t);te.s48=t=>new tu(6,t);var Is=te.ns64=t=>new $L(t);te.s16be=t=>new Ih(2,t);te.s24be=t=>new Ih(3,t);te.s32be=t=>new Ih(4,t);te.s40be=t=>new Ih(5,t);te.s48be=t=>new Ih(6,t);te.ns64be=t=>new HL(t);te.f32=t=>new qL(t);te.f32be=t=>new KL(t);te.f64=t=>new GL(t);te.f64be=t=>new QL(t);var Ne=te.struct=(t,e,n)=>new ZL(t,e,n);te.bits=(t,e,n)=>new kT(t,e,n);var $r=te.seq=(t,e,n)=>new YL(t,e,n);te.union=(t,e,n)=>new NT(t,e,n);te.unionLayoutDiscriminator=(t,e)=>new Ry(t,e);var rn=te.blob=(t,e)=>new eD(t,e);te.cstr=t=>new tD(t);te.utf8=(t,e)=>new nD(t,e);te.constant=(t,e)=>new rD(t,e);var OH=8078e3,LH=8078001,DH=8078004,jH=8078005,BH=8078006,FH=8078011;function sD(t){return Array.isArray(t)?"%5B"+t.map(sD).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function UH([t,e]){return`${t}=${sD(e)}`}function VH(t){const e=Object.entries(t).map(UH).join("&");return btoa(e)}function zH(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${VH(e)}'`),`${n}\``}}var wd=class extends Error{constructor(...[e,n]){let r,s;if(n){const{cause:o,...a}=n;o&&(s={cause:o}),Object.keys(a).length>0&&(r=a)}const i=zH(e,r);super(i,s);an(this,"cause",this.cause);an(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function WH(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function $H(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(WH(e,t));return t.write(e,n,0),n}})}function HH(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Nu(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function qH(t,e){if(Nu(t)!==Nu(e))throw new wd(DH);if(Nu(t)&&Nu(e)&&t.fixedSize!==e.fixedSize)throw new wd(jH,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Nu(t)&&!Nu(e)&&t.maxSize!==e.maxSize)throw new wd(BH,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function KH(t,e,n=0){if(e.length-n<=0)throw new wd(OH,{codecDescription:t})}function GH(t,e,n,r=0){const s=n.length-r;if(s<e)throw new wd(LH,{bytesLength:s,codecDescription:t,expected:e})}function QH(t,e,n,r){if(r<e||r>n)throw new wd(FH,{codecDescription:t,max:n,min:e,value:r})}function iD(t){return(t==null?void 0:t.endian)!==1}function YH(t){return $H({fixedSize:t.size,write(e,n,r){t.range&&QH(t.name,t.range[0],t.range[1],e);const s=new ArrayBuffer(t.size);return t.set(new DataView(s),e,iD(t.config)),n.set(new Uint8Array(s),r),r+t.size}})}function ZH(t){return HH({fixedSize:t.size,read(e,n=0){KH(t.name,e,n),GH(t.name,t.size,e,n);const r=new DataView(XH(e,n,t.size));return[t.get(r,iD(t.config)),n+t.size]}})}function XH(t,e,n){const r=t.byteOffset+(e??0),s=n??t.byteLength;return t.buffer.slice(r,r+s)}var JH=(t={})=>YH({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),eq=(t={})=>ZH({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),tq=(t={})=>qH(JH(t),eq(t));class nq extends TypeError{constructor(e,n){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,l=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??l),i!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function rq(t){return mm(t)&&typeof t[Symbol.iterator]=="function"}function mm(t){return typeof t=="object"&&t!=null}function Py(t){return mm(t)&&!Array.isArray(t)}function Ti(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function sq(t){const{done:e,value:n}=t.next();return e?void 0:n}function iq(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:i}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ti(r)}\``}=t;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...t,message:l}}function*e2(t,e,n,r){rq(t)||(t=[t]);for(const s of t){const i=iq(s,e,n,r);i&&(yield i)}}function*RT(t,e,n={}){const{path:r=[],branch:s=[t],coerce:i=!1,mask:o=!1}=n,a={path:r,branch:s,mask:o};i&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,f]of e.entries(t,a)){const p=RT(u,f,{path:c===void 0?r:[...r,c],branch:c===void 0?s:[...s,u],coerce:i,mask:o,message:n.message});for(const m of p)m[0]?(l=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):i&&(u=m[1],c===void 0?t=u:t instanceof Map?t.set(c,u):t instanceof Set?t.add(u):mm(t)&&(u!==void 0||c in t)&&(t[c]=u))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let so=class{constructor(e){const{type:n,schema:r,validator:s,refiner:i,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(l,c)=>{const u=s(l,c);return e2(u,c,this,l)}:this.validator=()=>[],i?this.refiner=(l,c)=>{const u=i(l,c);return e2(u,c,this,l)}:this.refiner=()=>[]}assert(e,n){return oq(e,this,n)}create(e,n){return xe(e,this,n)}is(e){return oD(e,this)}mask(e,n){return aq(e,this,n)}validate(e,n={}){return gm(e,this,n)}};function oq(t,e,n){const r=gm(t,e,{message:n});if(r[0])throw r[0]}function xe(t,e,n){const r=gm(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function aq(t,e,n){const r=gm(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function oD(t,e){return!gm(t,e)[0]}function gm(t,e,n={}){const r=RT(t,e,n),s=sq(r);return s[0]?[new nq(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function nu(t,e){return new so({type:t,schema:null,validator:e})}function lq(){return nu("any",()=>!0)}function be(t){return new so({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ti(e)}`}})}function Zi(){return nu("boolean",t=>typeof t=="boolean")}function PT(t){return nu("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Ti(e)}`)}function bn(t){const e=Ti(t),n=typeof t;return new so({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${Ti(r)}`}})}function cq(){return nu("never",()=>!1)}function Se(t){return new so({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function ee(){return nu("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Ti(t)}`)}function Ue(t){return new so({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function aD(t,e){return new so({type:"record",schema:null,*entries(n){if(mm(n))for(const r in n){const s=n[r];yield[r,r,t],yield[r,s,e]}},validator(n){return Py(n)||`Expected an object, but received: ${Ti(n)}`},coercer(n){return Py(n)?{...n}:n}})}function ge(){return nu("string",t=>typeof t=="string"||`Expected a string, but received: ${Ti(t)}`)}function OT(t){const e=cq();return new so({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],t[s]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Ti(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function de(t){const e=Object.keys(t);return new so({type:"type",schema:t,*entries(n){if(mm(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Py(n)||`Expected an object, but received: ${Ti(n)}`},coercer(n){return Py(n)?{...n}:n}})}function is(t){const e=t.map(n=>n.type).join(" | ");return new so({type:"union",schema:null,coercer(n,r){for(const s of t){const[i,o]=s.validate(n,{coerce:!0,mask:r.mask});if(!i)return o}return n},validator(n,r){const s=[];for(const i of t){const[...o]=RT(n,i,r),[a]=o;if(a[0])for(const[l]of o)l&&s.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ti(n)}`,...s]}})}function Ah(){return nu("unknown",()=>!0)}function ym(t,e,n){return new so({...t,coercer:(r,s)=>oD(r,e)?t.coercer(n(r,s),s):t.coercer(r,s)})}var Ng,uq=new Uint8Array(16);function lD(){if(!Ng&&(Ng=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ng))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ng(uq)}const dq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ev(t){return typeof t=="string"&&dq.test(t)}var cr=[];for(var rx=0;rx<256;++rx)cr.push((rx+256).toString(16).substr(1));function tv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(cr[t[e+0]]+cr[t[e+1]]+cr[t[e+2]]+cr[t[e+3]]+"-"+cr[t[e+4]]+cr[t[e+5]]+"-"+cr[t[e+6]]+cr[t[e+7]]+"-"+cr[t[e+8]]+cr[t[e+9]]+"-"+cr[t[e+10]]+cr[t[e+11]]+cr[t[e+12]]+cr[t[e+13]]+cr[t[e+14]]+cr[t[e+15]]).toLowerCase();if(!ev(n))throw TypeError("Stringified UUID is invalid");return n}var t2,sx,ix=0,ox=0;function hq(t,e,n){var r=e&&n||0,s=e||new Array(16);t=t||{};var i=t.node||t2,o=t.clockseq!==void 0?t.clockseq:sx;if(i==null||o==null){var a=t.random||(t.rng||lD)();i==null&&(i=t2=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=sx=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:ox+1,u=l-ix+(c-ox)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||l>ix)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ix=l,ox=c,sx=o,l+=122192928e5;var f=((l&268435455)*1e4+c)%4294967296;s[r++]=f>>>24&255,s[r++]=f>>>16&255,s[r++]=f>>>8&255,s[r++]=f&255;var p=l/4294967296*1e4&268435455;s[r++]=p>>>8&255,s[r++]=p&255,s[r++]=p>>>24&15|16,s[r++]=p>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var m=0;m<6;++m)s[r+m]=i[m];return e||tv(s)}function cD(t){if(!ev(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function fq(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var pq="6ba7b810-9dad-11d1-80b4-00c04fd430c8",mq="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function uD(t,e,n){function r(s,i,o,a){if(typeof s=="string"&&(s=fq(s)),typeof i=="string"&&(i=cD(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+s.length);if(l.set(i),l.set(s,i.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return tv(l)}try{r.name=t}catch{}return r.DNS=pq,r.URL=mq,r}function gq(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return yq(wq(vq(t),t.length*8))}function yq(t){for(var e=[],n=t.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=t[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(o)}return e}function dD(t){return(t+64>>>9<<4)+14+1}function wq(t,e){t[e>>5]|=128<<e%32,t[dD(e)-1]=e;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=s,u=i;n=Mr(n,r,s,i,t[o],7,-680876936),i=Mr(i,n,r,s,t[o+1],12,-389564586),s=Mr(s,i,n,r,t[o+2],17,606105819),r=Mr(r,s,i,n,t[o+3],22,-1044525330),n=Mr(n,r,s,i,t[o+4],7,-176418897),i=Mr(i,n,r,s,t[o+5],12,1200080426),s=Mr(s,i,n,r,t[o+6],17,-1473231341),r=Mr(r,s,i,n,t[o+7],22,-45705983),n=Mr(n,r,s,i,t[o+8],7,1770035416),i=Mr(i,n,r,s,t[o+9],12,-1958414417),s=Mr(s,i,n,r,t[o+10],17,-42063),r=Mr(r,s,i,n,t[o+11],22,-1990404162),n=Mr(n,r,s,i,t[o+12],7,1804603682),i=Mr(i,n,r,s,t[o+13],12,-40341101),s=Mr(s,i,n,r,t[o+14],17,-1502002290),r=Mr(r,s,i,n,t[o+15],22,1236535329),n=Rr(n,r,s,i,t[o+1],5,-165796510),i=Rr(i,n,r,s,t[o+6],9,-1069501632),s=Rr(s,i,n,r,t[o+11],14,643717713),r=Rr(r,s,i,n,t[o],20,-373897302),n=Rr(n,r,s,i,t[o+5],5,-701558691),i=Rr(i,n,r,s,t[o+10],9,38016083),s=Rr(s,i,n,r,t[o+15],14,-660478335),r=Rr(r,s,i,n,t[o+4],20,-405537848),n=Rr(n,r,s,i,t[o+9],5,568446438),i=Rr(i,n,r,s,t[o+14],9,-1019803690),s=Rr(s,i,n,r,t[o+3],14,-187363961),r=Rr(r,s,i,n,t[o+8],20,1163531501),n=Rr(n,r,s,i,t[o+13],5,-1444681467),i=Rr(i,n,r,s,t[o+2],9,-51403784),s=Rr(s,i,n,r,t[o+7],14,1735328473),r=Rr(r,s,i,n,t[o+12],20,-1926607734),n=Pr(n,r,s,i,t[o+5],4,-378558),i=Pr(i,n,r,s,t[o+8],11,-2022574463),s=Pr(s,i,n,r,t[o+11],16,1839030562),r=Pr(r,s,i,n,t[o+14],23,-35309556),n=Pr(n,r,s,i,t[o+1],4,-1530992060),i=Pr(i,n,r,s,t[o+4],11,1272893353),s=Pr(s,i,n,r,t[o+7],16,-155497632),r=Pr(r,s,i,n,t[o+10],23,-1094730640),n=Pr(n,r,s,i,t[o+13],4,681279174),i=Pr(i,n,r,s,t[o],11,-358537222),s=Pr(s,i,n,r,t[o+3],16,-722521979),r=Pr(r,s,i,n,t[o+6],23,76029189),n=Pr(n,r,s,i,t[o+9],4,-640364487),i=Pr(i,n,r,s,t[o+12],11,-421815835),s=Pr(s,i,n,r,t[o+15],16,530742520),r=Pr(r,s,i,n,t[o+2],23,-995338651),n=Or(n,r,s,i,t[o],6,-198630844),i=Or(i,n,r,s,t[o+7],10,1126891415),s=Or(s,i,n,r,t[o+14],15,-1416354905),r=Or(r,s,i,n,t[o+5],21,-57434055),n=Or(n,r,s,i,t[o+12],6,1700485571),i=Or(i,n,r,s,t[o+3],10,-1894986606),s=Or(s,i,n,r,t[o+10],15,-1051523),r=Or(r,s,i,n,t[o+1],21,-2054922799),n=Or(n,r,s,i,t[o+8],6,1873313359),i=Or(i,n,r,s,t[o+15],10,-30611744),s=Or(s,i,n,r,t[o+6],15,-1560198380),r=Or(r,s,i,n,t[o+13],21,1309151649),n=Or(n,r,s,i,t[o+4],6,-145523070),i=Or(i,n,r,s,t[o+11],10,-1120210379),s=Or(s,i,n,r,t[o+2],15,718787259),r=Or(r,s,i,n,t[o+9],21,-343485551),n=Za(n,a),r=Za(r,l),s=Za(s,c),i=Za(i,u)}return[n,r,s,i]}function vq(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(dD(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Za(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function xq(t,e){return t<<e|t>>>32-e}function nv(t,e,n,r,s,i){return Za(xq(Za(Za(e,t),Za(r,i)),s),n)}function Mr(t,e,n,r,s,i,o){return nv(e&n|~e&r,t,e,s,i,o)}function Rr(t,e,n,r,s,i,o){return nv(e&r|n&~r,t,e,s,i,o)}function Pr(t,e,n,r,s,i,o){return nv(e^n^r,t,e,s,i,o)}function Or(t,e,n,r,s,i,o){return nv(n^(e|~r),t,e,s,i,o)}var _q=uD("v3",48,gq);function bq(t,e,n){t=t||{};var r=t.random||(t.rng||lD)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=r[s];return e}return tv(r)}function Eq(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function ax(t,e){return t<<e|t>>>32-e}function Sq(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var s=0;s<r.length;++s)t.push(r.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,o=Math.ceil(i/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=t[l*64+u*4]<<24|t[l*64+u*4+1]<<16|t[l*64+u*4+2]<<8|t[l*64+u*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var p=new Uint32Array(80),m=0;m<16;++m)p[m]=a[f][m];for(var v=16;v<80;++v)p[v]=ax(p[v-3]^p[v-8]^p[v-14]^p[v-16],1);for(var g=n[0],w=n[1],_=n[2],b=n[3],x=n[4],T=0;T<80;++T){var D=Math.floor(T/20),F=ax(g,5)+Eq(D,w,_,b)+x+e[D]+p[T]>>>0;x=b,b=_,_=ax(w,30)>>>0,w=g,g=F}n[0]=n[0]+g>>>0,n[1]=n[1]+w>>>0,n[2]=n[2]+_>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Tq=uD("v5",80,Sq);const Iq="00000000-0000-0000-0000-000000000000";function Aq(t){if(!ev(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const Cq=Object.freeze(Object.defineProperty({__proto__:null,NIL:Iq,parse:cD,stringify:tv,v1:hq,v3:_q,v4:bq,v5:Tq,validate:ev,version:Aq},Symbol.toStringTag,{value:"Module"})),hD=HE(Cq),Nq=hD.v4,kq=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:t};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return Nq()};i.id=o(i,r)}else s===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};var Mq=kq;const Rq=hD.v4,Pq=Mq,Ip=function(t,e){if(!(this instanceof Ip))return new Ip(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return Rq()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var Oq=Ip;Ip.prototype.request=function(t,e,n,r){const s=this;let i=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,i=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{i=Pq(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(c)return r(u);throw u}if(!c)return i}let l;try{l=JSON.stringify(i,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,u){s._parseResponse(c,u,r)}),i};Ip.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return n(s)}if(n.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return n(null,r.filter(s),r.filter(i))}else return n(null,r.error,r.result);n(null,r)};const Lq=oa(Oq);var fD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new s(u,f||l,p),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,v=new Array(m);p<m;p++)v[p]=f[p].fn;return v},a.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,u,f,p,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var w=this._events[g],_=arguments.length,b,x;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),_){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,f),!0;case 4:return w.fn.call(w.context,u,f,p),!0;case 5:return w.fn.call(w.context,u,f,p,m),!0;case 6:return w.fn.call(w.context,u,f,p,m,v),!0}for(x=1,b=new Array(_-1);x<_;x++)b[x-1]=arguments[x];w.fn.apply(w.context,b)}else{var T=w.length,D;for(x=0;x<T;x++)switch(w[x].once&&this.removeListener(c,w[x].fn,void 0,!0),_){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,u);break;case 3:w[x].fn.call(w[x].context,u,f);break;case 4:w[x].fn.call(w[x].context,u,f,p);break;default:if(!b)for(D=1,b=new Array(_-1);D<_;D++)b[D-1]=arguments[D];w[x].fn.apply(w[x].context,b)}}return!0},a.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},a.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},a.prototype.removeListener=function(c,u,f,p){var m=n?n+c:c;if(!this._events[m])return this;if(!u)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===u&&(!p||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var g=0,w=[],_=v.length;g<_;g++)(v[g].fn!==u||p&&!v[g].once||f&&v[g].context!==f)&&w.push(v[g]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(fD);var Dq=fD.exports;const LT=oa(Dq);var jq=class extends LT{constructor(e,n,r){super();an(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(e,n,r){const s=r||n;try{this.socket.send(e),s()}catch(i){s(i)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function Bq(t,e){return new jq(t,e)}var Fq=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},Uq=class extends LT{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...a}={},l,c){super();an(this,"address");an(this,"rpc_id");an(this,"queue");an(this,"options");an(this,"autoconnect");an(this,"ready");an(this,"reconnect");an(this,"reconnect_timer_id");an(this,"reconnect_interval");an(this,"max_reconnects");an(this,"rest_options");an(this,"current_reconnects");an(this,"generate_request_id");an(this,"socket");an(this,"webSocketFactory");an(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new Fq,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),s,c=>{if(c)return o(c);this.queue[a]={promise:[i,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Je.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let i=0;i<r.params.length;i++)s.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};class pD extends hL{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,u$(e);const r=pT(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Jd(i)}update(e){return Sy(this),this.iHash.update(e),this}digestInto(e){Sy(this),um(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const mD=(t,e,n)=>new pD(t,e).update(n).digest();mD.create=(t,e)=>new pD(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function n2(t){t.lowS!==void 0&&fl("lowS",t.lowS),t.prehash!==void 0&&fl("prehash",t.prehash)}function Vq(t){const e=vT(t);fm(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class zq extends Error{constructor(e=""){super(e)}}const Eo={Err:zq,_tlv:{encode:(t,e)=>{const{Err:n}=Eo;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Ig(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Ig(s.length/2|128):"";return Ig(t)+i+s+e},decode(t,e){const{Err:n}=Eo;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const l=s&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Eo;if(t<No)throw new e("integer: negative integers are not allowed");let n=Ig(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Eo;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ac(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Eo,s=Ln("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,i),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Eo,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}};function lx(t,e){return eh(hm(t,e))}const No=BigInt(0),tr=BigInt(1);BigInt(2);const cx=BigInt(3),Wq=BigInt(4);function $q(t){const e=Vq(t),{Fp:n}=e,r=pm(e.n,e.nBitLength),s=e.toBytes||((x,T,D)=>{const F=T.toAffine();return th(Uint8Array.from([4]),n.toBytes(F.x),n.toBytes(F.y))}),i=e.fromBytes||(x=>{const T=x.subarray(1),D=n.fromBytes(T.subarray(0,n.BYTES)),F=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:D,y:F}});function o(x){const{a:T,b:D}=e,F=n.sqr(x),R=n.mul(F,x);return n.add(n.add(R,n.mul(x,T)),D)}function a(x,T){const D=n.sqr(T),F=o(x);return n.eql(D,F)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(e.a,cx),Wq),c=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(l,c)))throw new Error("bad curve params: a or b");function u(x){return yT(x,tr,e.n)}function f(x){const{allowedPrivateKeyLengths:T,nByteLength:D,wrapPrivateKey:F,n:R}=e;if(T&&typeof x!="bigint"){if(dm(x)&&(x=eh(x)),typeof x!="string"||!T.includes(x.length))throw new Error("invalid private key");x=x.padStart(D*2,"0")}let M;try{M=typeof x=="bigint"?x:Ac(Ln("private key",x,D))}catch{throw new Error("invalid private key, expected hex or "+D+" bytes, got "+typeof x)}return F&&(M=dn(M,R)),mi("private key",M,tr,R),M}function p(x){if(!(x instanceof g))throw new Error("ProjectivePoint expected")}const m=Ay((x,T)=>{const{px:D,py:F,pz:R}=x;if(n.eql(R,n.ONE))return{x:D,y:F};const M=x.is0();T==null&&(T=M?n.ONE:n.inv(R));const U=n.mul(D,T),W=n.mul(F,T),$=n.mul(R,T);if(M)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:U,y:W}}),v=Ay(x=>{if(x.is0()){if(e.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:T,y:D}=x.toAffine();if(!n.isValid(T)||!n.isValid(D))throw new Error("bad point: x or y not FE");if(!a(T,D))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(T,D,F){if(T==null||!n.isValid(T))throw new Error("x required");if(D==null||!n.isValid(D)||n.is0(D))throw new Error("y required");if(F==null||!n.isValid(F))throw new Error("z required");this.px=T,this.py=D,this.pz=F,Object.freeze(this)}static fromAffine(T){const{x:D,y:F}=T||{};if(!T||!n.isValid(D)||!n.isValid(F))throw new Error("invalid affine point");if(T instanceof g)throw new Error("projective point not allowed");const R=M=>n.eql(M,n.ZERO);return R(D)&&R(F)?g.ZERO:new g(D,F,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){const D=wT(n,T.map(F=>F.pz));return T.map((F,R)=>F.toAffine(D[R])).map(g.fromAffine)}static fromHex(T){const D=g.fromAffine(i(Ln("pointHex",T)));return D.assertValidity(),D}static fromPrivateKey(T){return g.BASE.multiply(f(T))}static msm(T,D){return kL(g,r,T,D)}_setWindowSize(T){b.setWindowSize(this,T)}assertValidity(){v(this)}hasEvenY(){const{y:T}=this.toAffine();if(n.isOdd)return!n.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){p(T);const{px:D,py:F,pz:R}=this,{px:M,py:U,pz:W}=T,$=n.eql(n.mul(D,W),n.mul(M,R)),q=n.eql(n.mul(F,W),n.mul(U,R));return $&&q}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:T,b:D}=e,F=n.mul(D,cx),{px:R,py:M,pz:U}=this;let W=n.ZERO,$=n.ZERO,q=n.ZERO,C=n.mul(R,R),y=n.mul(M,M),I=n.mul(U,U),O=n.mul(R,M);return O=n.add(O,O),q=n.mul(R,U),q=n.add(q,q),W=n.mul(T,q),$=n.mul(F,I),$=n.add(W,$),W=n.sub(y,$),$=n.add(y,$),$=n.mul(W,$),W=n.mul(O,W),q=n.mul(F,q),I=n.mul(T,I),O=n.sub(C,I),O=n.mul(T,O),O=n.add(O,q),q=n.add(C,C),C=n.add(q,C),C=n.add(C,I),C=n.mul(C,O),$=n.add($,C),I=n.mul(M,U),I=n.add(I,I),C=n.mul(I,O),W=n.sub(W,C),q=n.mul(I,y),q=n.add(q,q),q=n.add(q,q),new g(W,$,q)}add(T){p(T);const{px:D,py:F,pz:R}=this,{px:M,py:U,pz:W}=T;let $=n.ZERO,q=n.ZERO,C=n.ZERO;const y=e.a,I=n.mul(e.b,cx);let O=n.mul(D,M),z=n.mul(F,U),L=n.mul(R,W),j=n.add(D,F),H=n.add(M,U);j=n.mul(j,H),H=n.add(O,z),j=n.sub(j,H),H=n.add(D,R);let B=n.add(M,W);return H=n.mul(H,B),B=n.add(O,L),H=n.sub(H,B),B=n.add(F,R),$=n.add(U,W),B=n.mul(B,$),$=n.add(z,L),B=n.sub(B,$),C=n.mul(y,H),$=n.mul(I,L),C=n.add($,C),$=n.sub(z,C),C=n.add(z,C),q=n.mul($,C),z=n.add(O,O),z=n.add(z,O),L=n.mul(y,L),H=n.mul(I,H),z=n.add(z,L),L=n.sub(O,L),L=n.mul(y,L),H=n.add(H,L),O=n.mul(z,H),q=n.add(q,O),O=n.mul(B,H),$=n.mul(j,$),$=n.sub($,O),O=n.mul(j,z),C=n.mul(B,C),C=n.add(C,O),new g($,q,C)}subtract(T){return this.add(T.negate())}is0(){return this.equals(g.ZERO)}wNAF(T){return b.wNAFCached(this,T,g.normalizeZ)}multiplyUnsafe(T){const{endo:D,n:F}=e;mi("scalar",T,No,F);const R=g.ZERO;if(T===No)return R;if(this.is0()||T===tr)return this;if(!D||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,T,g.normalizeZ);let{k1neg:M,k1:U,k2neg:W,k2:$}=D.splitScalar(T),q=R,C=R,y=this;for(;U>No||$>No;)U&tr&&(q=q.add(y)),$&tr&&(C=C.add(y)),y=y.double(),U>>=tr,$>>=tr;return M&&(q=q.negate()),W&&(C=C.negate()),C=new g(n.mul(C.px,D.beta),C.py,C.pz),q.add(C)}multiply(T){const{endo:D,n:F}=e;mi("scalar",T,tr,F);let R,M;if(D){const{k1neg:U,k1:W,k2neg:$,k2:q}=D.splitScalar(T);let{p:C,f:y}=this.wNAF(W),{p:I,f:O}=this.wNAF(q);C=b.constTimeNegate(U,C),I=b.constTimeNegate($,I),I=new g(n.mul(I.px,D.beta),I.py,I.pz),R=C.add(I),M=y.add(O)}else{const{p:U,f:W}=this.wNAF(T);R=U,M=W}return g.normalizeZ([R,M])[0]}multiplyAndAddUnsafe(T,D,F){const R=g.BASE,M=(W,$)=>$===No||$===tr||!W.equals(R)?W.multiplyUnsafe($):W.multiply($),U=M(this,D).add(M(T,F));return U.is0()?void 0:U}toAffine(T){return m(this,T)}isTorsionFree(){const{h:T,isTorsionFree:D}=e;if(T===tr)return!0;if(D)return D(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:T,clearCofactor:D}=e;return T===tr?this:D?D(g,this):this.multiplyUnsafe(e.h)}toRawBytes(T=!0){return fl("isCompressed",T),this.assertValidity(),s(g,this,T)}toHex(T=!0){return fl("isCompressed",T),eh(this.toRawBytes(T))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:_}=e,b=NL(g,w?Math.ceil(_/2):_);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:u}}function Hq(t){const e=vT(t);return fm(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function qq(t){const e=Hq(t),{Fp:n,n:r,nByteLength:s,nBitLength:i}=e,o=n.BYTES+1,a=2*n.BYTES+1;function l(I){return dn(I,r)}function c(I){return wb(I,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:p,isWithinCurveOrder:m}=$q({...e,toBytes(I,O,z){const L=O.toAffine(),j=n.toBytes(L.x),H=th;return fl("isCompressed",z),z?H(Uint8Array.from([O.hasEvenY()?2:3]),j):H(Uint8Array.from([4]),j,n.toBytes(L.y))},fromBytes(I){const O=I.length,z=I[0],L=I.subarray(1);if(O===o&&(z===2||z===3)){const j=Ac(L);if(!yT(j,tr,n.ORDER))throw new Error("Point is not on curve");const H=p(j);let B;try{B=n.sqrt(H)}catch(ae){const ue=ae instanceof Error?": "+ae.message:"";throw new Error("Point is not on curve"+ue)}const S=(B&tr)===tr;return(z&1)===1!==S&&(B=n.neg(B)),{x:j,y:B}}else if(O===a&&z===4){const j=n.fromBytes(L.subarray(0,n.BYTES)),H=n.fromBytes(L.subarray(n.BYTES,2*n.BYTES));return{x:j,y:H}}else{const j=o,H=a;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+H+", got "+O)}}});function v(I){const O=r>>tr;return I>O}function g(I){return v(I)?l(-I):I}const w=(I,O,z)=>Ac(I.slice(O,z));class _{constructor(O,z,L){mi("r",O,tr,r),mi("s",z,tr,r),this.r=O,this.s=z,L!=null&&(this.recovery=L),Object.freeze(this)}static fromCompact(O){const z=s;return O=Ln("compactSignature",O,z*2),new _(w(O,0,z),w(O,z,2*z))}static fromDER(O){const{r:z,s:L}=Eo.toSig(Ln("DER",O));return new _(z,L)}assertValidity(){}addRecoveryBit(O){return new _(this.r,this.s,O)}recoverPublicKey(O){const{r:z,s:L,recovery:j}=this,H=R(Ln("msgHash",O));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const B=j===2||j===3?z+e.n:z;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const S=j&1?"03":"02",K=u.fromHex(S+lx(B,n.BYTES)),ae=c(B),ue=l(-H*ae),he=l(L*ae),le=u.BASE.multiplyAndAddUnsafe(K,ue,he);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Ty(this.toDERHex())}toDERHex(){return Eo.hexFromSig(this)}toCompactRawBytes(){return Ty(this.toCompactHex())}toCompactHex(){const O=s;return lx(this.r,O)+lx(this.s,O)}}const b={isValidPrivateKey(I){try{return f(I),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const I=IL(e.n);return W$(e.randomBytes(I),e.n)},precompute(I=8,O=u.BASE){return O._setWindowSize(I),O.multiply(BigInt(3)),O}};function x(I,O=!0){return u.fromPrivateKey(I).toRawBytes(O)}function T(I){if(typeof I=="bigint")return!1;if(I instanceof u)return!0;const z=Ln("key",I).length,L=n.BYTES,j=L+1,H=2*L+1;if(!(e.allowedPrivateKeyLengths||s===j))return z===j||z===H}function D(I,O,z=!0){if(T(I)===!0)throw new Error("first arg must be private key");if(T(O)===!1)throw new Error("second arg must be public key");return u.fromHex(O).multiply(f(I)).toRawBytes(z)}const F=e.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const O=Ac(I),z=I.length*8-i;return z>0?O>>BigInt(z):O},R=e.bits2int_modN||function(I){return l(F(I))},M=Yw(i);function U(I){return mi("num < 2^"+i,I,No,M),hm(I,s)}function W(I,O,z=$){if(["recovered","canonical"].some(Te=>Te in z))throw new Error("sign() legacy options not supported");const{hash:L,randomBytes:j}=e;let{lowS:H,prehash:B,extraEntropy:S}=z;H==null&&(H=!0),I=Ln("msgHash",I),n2(z),B&&(I=Ln("prehashed msgHash",L(I)));const K=R(I),ae=f(O),ue=[U(ae),U(K)];if(S!=null&&S!==!1){const Te=S===!0?j(n.BYTES):S;ue.push(Ln("extraEntropy",Te))}const he=th(...ue),le=K;function ye(Te){const Me=F(Te);if(!m(Me))return;const Ee=c(Me),_e=u.BASE.multiply(Me).toAffine(),He=l(_e.x);if(He===No)return;const Re=l(Ee*l(le+He*ae));if(Re===No)return;let Ge=(_e.x===He?0:2)|Number(_e.y&tr),Wt=Re;return H&&v(Re)&&(Wt=g(Re),Ge^=1),new _(He,Wt,Ge)}return{seed:he,k2sig:ye}}const $={lowS:e.lowS,prehash:!1},q={lowS:e.lowS,prehash:!1};function C(I,O,z=$){const{seed:L,k2sig:j}=W(I,O,z),H=e;return P$(H.hash.outputLen,H.nByteLength,H.hmac)(L,j)}u.BASE._setWindowSize(8);function y(I,O,z,L=q){var Ge;const j=I;O=Ln("msgHash",O),z=Ln("publicKey",z);const{lowS:H,prehash:B,format:S}=L;if(n2(L),"strict"in L)throw new Error("options.strict was renamed to lowS");if(S!==void 0&&S!=="compact"&&S!=="der")throw new Error("format must be compact or der");const K=typeof j=="string"||dm(j),ae=!K&&!S&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!K&&!ae)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ue,he;try{if(ae&&(ue=new _(j.r,j.s)),K){try{S!=="compact"&&(ue=_.fromDER(j))}catch(Wt){if(!(Wt instanceof Eo.Err))throw Wt}!ue&&S!=="der"&&(ue=_.fromCompact(j))}he=u.fromHex(z)}catch{return!1}if(!ue||H&&ue.hasHighS())return!1;B&&(O=e.hash(O));const{r:le,s:ye}=ue,Te=R(O),Me=c(ye),Ee=l(Te*Me),_e=l(le*Me),He=(Ge=u.BASE.multiplyAndAddUnsafe(he,Ee,_e))==null?void 0:Ge.toAffine();return He?l(He.x)===le:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:D,sign:C,verify:y,ProjectivePoint:u,Signature:_,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Kq(t){return{hash:t,hmac:(e,...n)=>mD(t,e,f$(...n)),randomBytes:pL}}function Gq(t,e){const n=r=>qq({...t,...Kq(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gD=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),r2=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Qq=BigInt(0),Yq=BigInt(1),bb=BigInt(2),s2=(t,e)=>(t+e/bb)/e;function Zq(t){const e=gD,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,f=Mn(u,n,e)*u%e,p=Mn(f,n,e)*u%e,m=Mn(p,bb,e)*c%e,v=Mn(m,s,e)*m%e,g=Mn(v,i,e)*v%e,w=Mn(g,a,e)*g%e,_=Mn(w,l,e)*w%e,b=Mn(_,a,e)*g%e,x=Mn(b,n,e)*u%e,T=Mn(x,o,e)*v%e,D=Mn(T,r,e)*c%e,F=Mn(D,bb,e);if(!Eb.eql(Eb.sqr(F),t))throw new Error("Cannot find square root");return F}const Eb=pm(gD,void 0,void 0,{sqrt:Zq}),Xq=Gq({a:Qq,b:BigInt(7),Fp:Eb,n:r2,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=r2,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Yq*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=s2(i*t,e),l=s2(-r*t,e);let c=dn(t-a*n-l*s,e),u=dn(-a*r-l*i,e);const f=c>o,p=u>o;if(f&&(c=e-c),p&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:p,k2:u}}}},yL);function i2(t){try{return _T.ExtendedPoint.fromHex(t),!0}catch{return!1}}const yD=(t,e)=>_T.sign(t,e.slice(0,32)),Jq=_T.verify,pr=t=>Je.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Je.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Je.Buffer.from(t);class eK{constructor(e){Object.assign(this,e)}encode(){return Je.Buffer.from(FL(c0,this))}static decode(e){return UL(c0,this,e)}static decodeUnchecked(e){return OL(c0,this,e)}}const c0=new Map;var wD;const tK=32,pl=32;function nK(t){return t._bn!==void 0}let o2=1;class Oe extends eK{constructor(e){if(super({}),this._bn=void 0,nK(e))this._bn=e._bn;else{if(typeof e=="string"){const n=wr.decode(e);if(n.length!=pl)throw new Error("Invalid public key input");this._bn=new XN(n)}else this._bn=new XN(e);if(this._bn.byteLength()>pl)throw new Error("Invalid public key input")}}static unique(){const e=new Oe(o2);return o2+=1,new Oe(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return wr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Je.Buffer);if(e.length===pl)return e;const n=Je.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const s=Je.Buffer.concat([e.toBuffer(),Je.Buffer.from(n),r.toBuffer()]),i=JN(s);return new Oe(i)}static createProgramAddressSync(e,n){let r=Je.Buffer.alloc(0);e.forEach(function(i){if(i.length>tK)throw new TypeError("Max seed length exceeded");r=Je.Buffer.concat([r,pr(i)])}),r=Je.Buffer.concat([r,n.toBuffer(),Je.Buffer.from("ProgramDerivedAddress")]);const s=JN(r);if(i2(s))throw new Error("Invalid seeds, address must fall off the curve");return new Oe(s)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,s;for(;r!=0;){try{const i=e.concat(Je.Buffer.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Oe(e);return i2(n.toBytes())}}wD=Oe;Oe.default=new wD("11111111111111111111111111111111");c0.set(Oe,{kind:"struct",fields:[["_bn","u256"]]});new Oe("BPFLoader1111111111111111111111111111111111");const vd=1232,DT=127,Ap=64;class vD extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(vD.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class xD extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(xD.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ef extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ef.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Oy{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const ct=(t="publicKey")=>rn(32,t),rK=(t="signature")=>rn(64,t),sd=(t="string")=>{const e=Ne([je("length"),je("lengthPadding"),rn(Cc(je(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>n(i,o).chars.toString(),s.encode=(i,o,a)=>{const l={chars:Je.Buffer.from(i,"utf8")};return r(l,o,a)},s.alloc=i=>je().span+je().span+Je.Buffer.from(i,"utf8").length,s},sK=(t="authorized")=>Ne([ct("staker"),ct("withdrawer")],t),iK=(t="lockup")=>Ne([Is("unixTimestamp"),Is("epoch"),ct("custodian")],t),oK=(t="voteInit")=>Ne([ct("nodePubkey"),ct("authorizedVoter"),ct("authorizedWithdrawer"),St("commission")],t),aK=(t="voteAuthorizeWithSeedArgs")=>Ne([je("voteAuthorizationType"),ct("currentAuthorityDerivedKeyOwnerPubkey"),sd("currentAuthorityDerivedKeySeed"),ct("newAuthorized")],t);function _D(t,e){const n=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*n(s.elementLayout)}else if("fields"in s)return _D({layout:s},e[s.property]);return 0};let r=0;return t.layout.fields.forEach(s=>{r+=n(s)}),r}function As(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Cs(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function un(t,e){if(!t)throw new Error(e||"Assertion failed")}class rv{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,s=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const l=s(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new rv(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];un(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),s=e.filter(([,l])=>!l.isSigner&&l.isWritable),i=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{un(n.length>0,"Expected at least one writable signer key");const[l]=n[0];un(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Oe(l)),...r.map(([l])=>new Oe(l)),...s.map(([l])=>new Oe(l)),...i.map(([l])=>new Oe(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,n){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(n(o)){const a=new Oe(i),l=e.findIndex(c=>c.equals(a));l>=0&&(un(l<256,"Max lookup table index exceeded"),r.push(l),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const bD="Reached end of buffer unexpectedly";function ko(t){if(t.length===0)throw new Error(bD);return t.shift()}function Ns(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(bD);return t.splice(...e)}class Qo{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Oe(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:wr.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Oy(this.staticAccountKeys)}static compile(e){const n=rv.compile(e.instructions,e.payerKey),[r,s]=n.getMessageComponents(),o=new Oy(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:wr.encode(a.data)}));return new Qo({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Cs(n,e);const r=this.instructions.map(f=>{const{accounts:p,programIdIndex:m}=f,v=Array.from(wr.decode(f.data));let g=[];Cs(g,p.length);let w=[];return Cs(w,v.length),{programIdIndex:m,keyIndicesCount:Je.Buffer.from(g),keyIndices:p,dataLength:Je.Buffer.from(w),data:v}});let s=[];Cs(s,r.length);let i=Je.Buffer.alloc(vd);Je.Buffer.from(s).copy(i);let o=s.length;r.forEach(f=>{const m=Ne([St("programIdIndex"),rn(f.keyIndicesCount.length,"keyIndicesCount"),$r(St("keyIndex"),f.keyIndices.length,"keyIndices"),rn(f.dataLength.length,"dataLength"),$r(St("userdatum"),f.data.length,"data")]).encode(f,i,o);o+=m}),i=i.slice(0,o);const a=Ne([rn(1,"numRequiredSignatures"),rn(1,"numReadonlySignedAccounts"),rn(1,"numReadonlyUnsignedAccounts"),rn(n.length,"keyCount"),$r(ct("key"),e,"keys"),ct("recentBlockhash")]),l={numRequiredSignatures:Je.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Je.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Je.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Je.Buffer.from(n),keys:this.accountKeys.map(f=>pr(f.toBytes())),recentBlockhash:wr.decode(this.recentBlockhash)};let c=Je.Buffer.alloc(2048);const u=a.encode(l,c);return i.copy(c,u),c.slice(0,u+i.length)}static from(e){let n=[...e];const r=ko(n);if(r!==(r&DT))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=ko(n),i=ko(n),o=As(n);let a=[];for(let p=0;p<o;p++){const m=Ns(n,0,pl);a.push(new Oe(Je.Buffer.from(m)))}const l=Ns(n,0,pl),c=As(n);let u=[];for(let p=0;p<c;p++){const m=ko(n),v=As(n),g=Ns(n,0,v),w=As(n),_=Ns(n,0,w),b=wr.encode(Je.Buffer.from(_));u.push({programIdIndex:m,accounts:g,data:b})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:wr.encode(Je.Buffer.from(l)),accountKeys:a,instructions:u};return new Qo(f)}}class Cp{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Oy(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=n-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)n.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)n.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=rv.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const u of i){const f=n.extractTableLookup(u);if(f!==void 0){const[p,{writable:m,readonly:v}]=f;r.push(p),s.writable.push(...m),s.readonly.push(...v)}}const[o,a]=n.getMessageComponents(),c=new Oy(a,s).compileInstructions(e.instructions);return new Cp({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();Cs(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Cs(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Cs(i,this.addressTableLookups.length);const o=Ne([St("prefix"),Ne([St("numRequiredSignatures"),St("numReadonlySignedAccounts"),St("numReadonlyUnsignedAccounts")],"header"),rn(e.length,"staticAccountKeysLength"),$r(ct(),this.staticAccountKeys.length,"staticAccountKeys"),ct("recentBlockhash"),rn(r.length,"instructionsLength"),rn(n.length,"serializedInstructions"),rn(i.length,"addressTableLookupsLength"),rn(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(vd),c=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:wr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(vd);for(const r of this.compiledInstructions){const s=Array();Cs(s,r.accountKeyIndexes.length);const i=Array();Cs(i,r.data.length);const o=Ne([St("programIdIndex"),rn(s.length,"encodedAccountKeyIndexesLength"),$r(St(),r.accountKeyIndexes.length,"accountKeyIndexes"),rn(i.length,"encodedDataLength"),rn(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(vd);for(const r of this.addressTableLookups){const s=Array();Cs(s,r.writableIndexes.length);const i=Array();Cs(i,r.readonlyIndexes.length);const o=Ne([ct("accountKey"),rn(s.length,"encodedWritableIndexesLength"),$r(St(),r.writableIndexes.length,"writableIndexes"),rn(i.length,"encodedReadonlyIndexesLength"),$r(St(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=ko(n),s=r&DT;un(r!==s,"Expected versioned message but received legacy message");const i=s;un(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:ko(n),numReadonlySignedAccounts:ko(n),numReadonlyUnsignedAccounts:ko(n)},a=[],l=As(n);for(let v=0;v<l;v++)a.push(new Oe(Ns(n,0,pl)));const c=wr.encode(Ns(n,0,pl)),u=As(n),f=[];for(let v=0;v<u;v++){const g=ko(n),w=As(n),_=Ns(n,0,w),b=As(n),x=new Uint8Array(Ns(n,0,b));f.push({programIdIndex:g,accountKeyIndexes:_,data:x})}const p=As(n),m=[];for(let v=0;v<p;v++){const g=new Oe(Ns(n,0,pl)),w=As(n),_=Ns(n,0,w),b=As(n),x=Ns(n,0,b);m.push({accountKey:g,writableIndexes:_,readonlyIndexes:x})}return new Cp({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:f,addressTableLookups:m})}}const sv={deserializeMessageVersion(t){const e=t[0],n=e&DT;return n===e?"legacy":n},deserialize:t=>{const e=sv.deserializeMessageVersion(t);if(e==="legacy")return Qo.from(t);if(e===0)return Cp.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let va=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const lK=Je.Buffer.alloc(Ap).fill(0);class oi{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Je.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}let gi=class Sb{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new oi(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let g=0;g<n.length;g++)if(n[g].programId===void 0)throw new Error(`Transaction instruction index ${g} has undefined program id`);const s=[],i=[];n.forEach(g=>{g.keys.forEach(_=>{i.push({..._})});const w=g.programId.toString();s.includes(w)||s.push(w)}),s.forEach(g=>{i.push({pubkey:new Oe(g),isSigner:!1,isWritable:!1})});const o=[];i.forEach(g=>{const w=g.pubkey.toString(),_=o.findIndex(b=>b.pubkey.toString()===w);_>-1?(o[_].isWritable=o[_].isWritable||g.isWritable,o[_].isSigner=o[_].isSigner||g.isSigner):o.push(g)}),o.sort(function(g,w){if(g.isSigner!==w.isSigner)return g.isSigner?-1:1;if(g.isWritable!==w.isWritable)return g.isWritable?-1:1;const _={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return g.pubkey.toBase58().localeCompare(w.pubkey.toBase58(),"en",_)});const a=o.findIndex(g=>g.pubkey.equals(r));if(a>-1){const[g]=o.splice(a,1);g.isSigner=!0,g.isWritable=!0,o.unshift(g)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const g of this.signatures){const w=o.findIndex(_=>_.pubkey.equals(g.publicKey));if(w>-1)o[w].isSigner||(o[w].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${g.publicKey.toString()}`)}let l=0,c=0,u=0;const f=[],p=[];o.forEach(({pubkey:g,isSigner:w,isWritable:_})=>{w?(f.push(g.toString()),l+=1,_||(c+=1)):(p.push(g.toString()),_||(u+=1))});const m=f.concat(p),v=n.map(g=>{const{data:w,programId:_}=g;return{programIdIndex:m.indexOf(_.toString()),accounts:g.keys.map(b=>m.indexOf(b.pubkey.toString())),data:wr.encode(w)}});return v.forEach(g=>{un(g.programIdIndex>=0),g.accounts.forEach(w=>un(w>=0))}),new Qo({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:m,recentBlockhash:e,instructions:v})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(s=>{const i=yD(r,s.secretKey);this._addSignature(s.publicKey,pr(i))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){un(n.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Je.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?n&&(r.missing||(r.missing=[])).push(i):Jq(s,e,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,n);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:n}=this,r=[];Cs(r,n.length);const s=r.length+n.length*64+e.length,i=Je.Buffer.alloc(s);return un(n.length<256),Je.Buffer.from(r).copy(i,0),n.forEach(({signature:o},a)=>{o!==null&&(un(o.length===64,"signature has invalid length"),Je.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+n.length*64),un(i.length<=vd,`Transaction too large: ${i.length} > ${vd}`),i}get keys(){return un(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return un(this.instructions.length===1),this.instructions[0].programId}get data(){return un(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=As(n);let s=[];for(let i=0;i<r;i++){const o=Ns(n,0,Ap);s.push(wr.encode(Je.Buffer.from(o)))}return Sb.populate(Qo.from(n),s)}static populate(e,n=[]){const r=new Sb;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((s,i)=>{const o={signature:s==wr.encode(lK)?null:wr.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new oi({keys:i,programId:e.accountKeys[s.programIdIndex],data:wr.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}};class bl{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)un(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(Ap));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Cs(n,this.signatures.length);const r=Ne([rn(n.length,"encodedSignaturesLength"),$r(rK(),this.signatures.length,"signatures"),rn(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let n=[...e];const r=[],s=As(n);for(let o=0;o<s;o++)r.push(new Uint8Array(Ns(n,0,Ap)));const i=sv.deserialize(new Uint8Array(n));return new bl(i,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));un(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=yD(n,s.secretKey)}}addSignature(e,n){un(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));un(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}const cK=160,uK=64,dK=cK/uK,hK=1e3/dK;new Oe("SysvarC1ock11111111111111111111111111111111");new Oe("SysvarEpochSchedu1e111111111111111111111111");new Oe("Sysvar1nstructions1111111111111111111111111");const ux=new Oe("SysvarRecentB1ockHashes11111111111111111111"),a2=new Oe("SysvarRent111111111111111111111111111111111");new Oe("SysvarRewards111111111111111111111111111111");new Oe("SysvarS1otHashes111111111111111111111111111");new Oe("SysvarS1otHistory11111111111111111111111111");new Oe("SysvarStakeHistory1111111111111111111111111");class l2 extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,n(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class Pe extends Error{constructor({code:e,message:n,data:r},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function Du(t){return new Promise(e=>setTimeout(e,t))}function zs(t,e){const n=t.layout.span>=0?t.layout.span:_D(t,e),r=Je.Buffer.alloc(n),s=Object.assign({instruction:t.index},e);return t.layout.encode(s,r),r}const fK=ur("lamportsPerSignature"),ED=Ne([je("version"),je("state"),ct("authorizedPubkey"),ct("nonce"),Ne([fK],"feeCalculator")]),c2=ED.span;class jT{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=ED.decode(pr(e),0);return new jT({authorizedPubkey:new Oe(n.authorizedPubkey),nonce:new Oe(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function rh(t){const e=rn(8,t),n=e.decode.bind(e),r=e.encode.bind(e),s=e,i=tq();return s.decode=(o,a)=>{const l=n(o,a);return i.decode(l)},s.encode=(o,a,l)=>{const c=i.encode(o);return r(c,a,l)},s}const Ws=Object.freeze({Create:{index:0,layout:Ne([je("instruction"),Is("lamports"),Is("space"),ct("programId")])},Assign:{index:1,layout:Ne([je("instruction"),ct("programId")])},Transfer:{index:2,layout:Ne([je("instruction"),rh("lamports")])},CreateWithSeed:{index:3,layout:Ne([je("instruction"),ct("base"),sd("seed"),Is("lamports"),Is("space"),ct("programId")])},AdvanceNonceAccount:{index:4,layout:Ne([je("instruction")])},WithdrawNonceAccount:{index:5,layout:Ne([je("instruction"),Is("lamports")])},InitializeNonceAccount:{index:6,layout:Ne([je("instruction"),ct("authorized")])},AuthorizeNonceAccount:{index:7,layout:Ne([je("instruction"),ct("authorized")])},Allocate:{index:8,layout:Ne([je("instruction"),Is("space")])},AllocateWithSeed:{index:9,layout:Ne([je("instruction"),ct("base"),sd("seed"),Is("space"),ct("programId")])},AssignWithSeed:{index:10,layout:Ne([je("instruction"),ct("base"),sd("seed"),ct("programId")])},TransferWithSeed:{index:11,layout:Ne([je("instruction"),rh("lamports"),sd("seed"),ct("programId")])},UpgradeNonceAccount:{index:12,layout:Ne([je("instruction")])}});class Np{constructor(){}static createAccount(e){const n=Ws.Create,r=zs(n,{lamports:e.lamports,space:e.space,programId:pr(e.programId.toBuffer())});return new oi({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const s=Ws.TransferWithSeed;n=zs(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:pr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ws.Transfer;n=zs(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new oi({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const s=Ws.AssignWithSeed;n=zs(s,{base:pr(e.basePubkey.toBuffer()),seed:e.seed,programId:pr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ws.Assign;n=zs(s,{programId:pr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new oi({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=Ws.CreateWithSeed,r=zs(n,{base:pr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:pr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new oi({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const n=new gi;"basePubkey"in e&&"seed"in e?n.add(Np.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:c2,programId:this.programId})):n.add(Np.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:c2,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=Ws.InitializeNonceAccount,r=zs(n,{authorized:pr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ux,isSigner:!1,isWritable:!1},{pubkey:a2,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new oi(s)}static nonceAdvance(e){const n=Ws.AdvanceNonceAccount,r=zs(n),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ux,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new oi(s)}static nonceWithdraw(e){const n=Ws.WithdrawNonceAccount,r=zs(n,{lamports:e.lamports});return new oi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ux,isSigner:!1,isWritable:!1},{pubkey:a2,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=Ws.AuthorizeNonceAccount,r=zs(n,{authorized:pr(e.newAuthorizedPubkey.toBuffer())});return new oi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const s=Ws.AllocateWithSeed;n=zs(s,{base:pr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:pr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ws.Allocate;n=zs(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new oi({keys:r,programId:this.programId,data:n})}}Np.programId=new Oe("11111111111111111111111111111111");new Oe("BPFLoader2111111111111111111111111111111111");function pK(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dx,u2;function mK(){if(u2)return dx;u2=1;var t=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function n(r,s){var i,o,a,l,c,u,f;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),s);if(f=t.call(r),f==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=n(r[i],!0)+",";return o>-1&&(a+=n(r[i],!0)),a+"]"}else if(f==="[object Object]"){for(l=e(r).sort(),o=l.length,a="",i=0;i<o;)c=l[i],u=n(r[c],!1),u!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+u),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return dx=function(r){var s=n(r,!1);if(s!==void 0)return""+s},dx}var gK=mK(),d2=pK(gK);const lf=32;function hx(t){let e=0;for(;t>1;)t/=2,e++;return e}function yK(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class wK{constructor(e,n,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=hx(yK(e+lf+1))-hx(lf)-1,r=this.getSlotsInEpoch(n),s=e-(r-lf);return[n,s]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=n%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*lf:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+hx(lf)):this.slotsPerEpoch}}var vK=globalThis.fetch;class xK extends Uq{constructor(e,n,r){const s=i=>{const o=Bq(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function _K(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const h2=56;class f2{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=_K(bK,e),r=e.length-h2;un(r>=0,"lookup table is invalid"),un(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=Ne([$r(ct(),s,"addresses")]).decode(e.slice(h2));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Oe(n.authority[0]):void 0,addresses:i.map(o=>new Oe(o))}}}const bK={index:1,layout:Ne([je("typeIndex"),rh("deactivationSlot"),ur("lastExtendedSlot"),St("lastExtendedStartIndex"),St(),$r(ct(),Cc(St(),-1),"authority")])},EK=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function SK(t){const e=t.match(EK);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,s,i]=e,o=t.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${r}${l}${i}`}const Tn=ym(PT(Oe),ge(),t=>new Oe(t)),SD=OT([ge(),bn("base64")]),BT=ym(PT(Je.Buffer),SD,t=>Je.Buffer.from(t[0],"base64")),TK=30*1e3;function IK(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Kt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...s}=t;e=r,n=s}return{commitment:e,config:n}}function p2(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function TD(t){return is([de({jsonrpc:bn("2.0"),id:ge(),result:t}),de({jsonrpc:bn("2.0"),id:ge(),error:de({code:Ah(),message:ge(),data:Ue(lq())})})])}const AK=TD(Ah());function it(t){return ym(TD(t),AK,e=>"error"in e?e:{...e,result:xe(e.result,t)})}function On(t){return it(de({context:de({slot:ee()}),value:t}))}function iv(t){return de({context:de({slot:ee()}),value:t})}function fx(t,e){return t===0?new Cp({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new Oe(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:wr.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Qo(e)}const CK=de({foundation:ee(),foundationTerm:ee(),initial:ee(),taper:ee(),terminal:ee()}),NK=it(be(Se(de({epoch:ee(),effectiveSlot:ee(),amount:ee(),postBalance:ee(),commission:Ue(Se(ee()))})))),kK=be(de({slot:ee(),prioritizationFee:ee()})),MK=de({total:ee(),validator:ee(),foundation:ee(),epoch:ee()}),RK=de({epoch:ee(),slotIndex:ee(),slotsInEpoch:ee(),absoluteSlot:ee(),blockHeight:Ue(ee()),transactionCount:Ue(ee())}),PK=de({slotsPerEpoch:ee(),leaderScheduleSlotOffset:ee(),warmup:Zi(),firstNormalEpoch:ee(),firstNormalSlot:ee()}),OK=aD(ge(),be(ee())),ru=Se(is([de({}),ge()])),LK=de({err:ru}),DK=bn("receivedSignature"),jK=de({"solana-core":ge(),"feature-set":Ue(ee())}),BK=de({program:ge(),programId:Tn,parsed:Ah()}),FK=de({programId:Tn,accounts:be(Tn),data:ge()}),m2=On(de({err:Se(is([de({}),ge()])),logs:Se(be(ge())),accounts:Ue(Se(be(Se(de({executable:Zi(),owner:ge(),lamports:ee(),data:be(ge()),rentEpoch:Ue(ee())}))))),unitsConsumed:Ue(ee()),returnData:Ue(Se(de({programId:ge(),data:OT([ge(),bn("base64")])}))),innerInstructions:Ue(Se(be(de({index:ee(),instructions:be(is([BK,FK]))}))))})),UK=On(de({byIdentity:aD(ge(),be(ee())),range:de({firstSlot:ee(),lastSlot:ee()})}));function VK(t,e,n,r,s,i){const o=n||vK;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(u,f)=>{const p=await new Promise((m,v)=>{try{r(u,f,(g,w)=>m([g,w]))}catch(g){v(g)}});return await o(...p)}),new Lq(async(u,f)=>{const p={method:"POST",body:u,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},VG)};try{let m=5,v,g=500;for(;l?v=await l(t,p):v=await o(t,p),!(v.status!==429||s===!0||(m-=1,m===0));)console.error(`Server responded with ${v.status} ${v.statusText}.  Retrying after ${g}ms delay...`),await Du(g),g*=2;const w=await v.text();v.ok?f(null,w):f(new Error(`${v.status} ${v.statusText}: ${w}`))}catch(m){m instanceof Error&&f(m)}},{})}function zK(t){return(e,n)=>new Promise((r,s)=>{t.request(e,n,(i,o)=>{if(i){s(i);return}r(o)})})}function WK(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const s=e.map(i=>t.request(i.methodName,i.args));t.request(s,(i,o)=>{if(i){r(i);return}n(o)})})}const $K=it(CK),HK=it(MK),qK=it(kK),KK=it(RK),GK=it(PK),QK=it(OK),YK=it(ee()),ZK=On(de({total:ee(),circulating:ee(),nonCirculating:ee(),nonCirculatingAccounts:be(Tn)})),Tb=de({amount:ge(),uiAmount:Se(ee()),decimals:ee(),uiAmountString:Ue(ge())}),XK=On(be(de({address:Tn,amount:ge(),uiAmount:Se(ee()),decimals:ee(),uiAmountString:Ue(ge())}))),JK=On(be(de({pubkey:Tn,account:de({executable:Zi(),owner:Tn,lamports:ee(),data:BT,rentEpoch:ee()})}))),Ib=de({program:ge(),parsed:Ah(),space:ee()}),eG=On(be(de({pubkey:Tn,account:de({executable:Zi(),owner:Tn,lamports:ee(),data:Ib,rentEpoch:ee()})}))),tG=On(be(de({lamports:ee(),address:Tn}))),kp=de({executable:Zi(),owner:Tn,lamports:ee(),data:BT,rentEpoch:ee()}),nG=de({pubkey:Tn,account:kp}),rG=ym(is([PT(Je.Buffer),Ib]),is([SD,Ib]),t=>Array.isArray(t)?xe(t,BT):t),Ab=de({executable:Zi(),owner:Tn,lamports:ee(),data:rG,rentEpoch:ee()}),sG=de({pubkey:Tn,account:Ab}),iG=de({state:is([bn("active"),bn("inactive"),bn("activating"),bn("deactivating")]),active:ee(),inactive:ee()}),oG=it(be(de({signature:ge(),slot:ee(),err:ru,memo:Se(ge()),blockTime:Ue(Se(ee()))}))),aG=it(be(de({signature:ge(),slot:ee(),err:ru,memo:Se(ge()),blockTime:Ue(Se(ee()))}))),lG=de({subscription:ee(),result:iv(kp)}),cG=de({pubkey:Tn,account:kp}),uG=de({subscription:ee(),result:iv(cG)}),dG=de({parent:ee(),slot:ee(),root:ee()}),hG=de({subscription:ee(),result:dG}),fG=is([de({type:is([bn("firstShredReceived"),bn("completed"),bn("optimisticConfirmation"),bn("root")]),slot:ee(),timestamp:ee()}),de({type:bn("createdBank"),parent:ee(),slot:ee(),timestamp:ee()}),de({type:bn("frozen"),slot:ee(),timestamp:ee(),stats:de({numTransactionEntries:ee(),numSuccessfulTransactions:ee(),numFailedTransactions:ee(),maxTransactionsPerEntry:ee()})}),de({type:bn("dead"),slot:ee(),timestamp:ee(),err:ge()})]),pG=de({subscription:ee(),result:fG}),mG=de({subscription:ee(),result:iv(is([LK,DK]))}),gG=de({subscription:ee(),result:ee()}),yG=de({pubkey:ge(),gossip:Se(ge()),tpu:Se(ge()),rpc:Se(ge()),version:Se(ge())}),g2=de({votePubkey:ge(),nodePubkey:ge(),activatedStake:ee(),epochVoteAccount:Zi(),epochCredits:be(OT([ee(),ee(),ee()])),commission:ee(),lastVote:ee(),rootSlot:Se(ee())}),wG=it(de({current:be(g2),delinquent:be(g2)})),vG=is([bn("processed"),bn("confirmed"),bn("finalized")]),xG=de({slot:ee(),confirmations:Se(ee()),err:ru,confirmationStatus:Ue(vG)}),_G=On(be(Se(xG))),bG=it(ee()),ID=de({accountKey:Tn,writableIndexes:be(ee()),readonlyIndexes:be(ee())}),FT=de({signatures:be(ge()),message:de({accountKeys:be(ge()),header:de({numRequiredSignatures:ee(),numReadonlySignedAccounts:ee(),numReadonlyUnsignedAccounts:ee()}),instructions:be(de({accounts:be(ee()),data:ge(),programIdIndex:ee()})),recentBlockhash:ge(),addressTableLookups:Ue(be(ID))})}),AD=de({pubkey:Tn,signer:Zi(),writable:Zi(),source:Ue(is([bn("transaction"),bn("lookupTable")]))}),CD=de({accountKeys:be(AD),signatures:be(ge())}),ND=de({parsed:Ah(),program:ge(),programId:Tn}),kD=de({accounts:be(Tn),data:ge(),programId:Tn}),EG=is([kD,ND]),SG=is([de({parsed:Ah(),program:ge(),programId:ge()}),de({accounts:be(ge()),data:ge(),programId:ge()})]),MD=ym(EG,SG,t=>"accounts"in t?xe(t,kD):xe(t,ND)),RD=de({signatures:be(ge()),message:de({accountKeys:be(AD),instructions:be(MD),recentBlockhash:ge(),addressTableLookups:Ue(Se(be(ID)))})}),Ly=de({accountIndex:ee(),mint:ge(),owner:Ue(ge()),programId:Ue(ge()),uiTokenAmount:Tb}),PD=de({writable:be(Tn),readonly:be(Tn)}),ov=de({err:ru,fee:ee(),innerInstructions:Ue(Se(be(de({index:ee(),instructions:be(de({accounts:be(ee()),data:ge(),programIdIndex:ee()}))})))),preBalances:be(ee()),postBalances:be(ee()),logMessages:Ue(Se(be(ge()))),preTokenBalances:Ue(Se(be(Ly))),postTokenBalances:Ue(Se(be(Ly))),loadedAddresses:Ue(PD),computeUnitsConsumed:Ue(ee())}),UT=de({err:ru,fee:ee(),innerInstructions:Ue(Se(be(de({index:ee(),instructions:be(MD)})))),preBalances:be(ee()),postBalances:be(ee()),logMessages:Ue(Se(be(ge()))),preTokenBalances:Ue(Se(be(Ly))),postTokenBalances:Ue(Se(be(Ly))),loadedAddresses:Ue(PD),computeUnitsConsumed:Ue(ee())}),Ch=is([bn(0),bn("legacy")]),su=de({pubkey:ge(),lamports:ee(),postBalance:Se(ee()),rewardType:Se(ge()),commission:Ue(Se(ee()))}),TG=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:be(de({transaction:FT,meta:Se(ov),version:Ue(Ch)})),rewards:Ue(be(su)),blockTime:Se(ee()),blockHeight:Se(ee())}))),IG=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),rewards:Ue(be(su)),blockTime:Se(ee()),blockHeight:Se(ee())}))),AG=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:be(de({transaction:CD,meta:Se(ov),version:Ue(Ch)})),rewards:Ue(be(su)),blockTime:Se(ee()),blockHeight:Se(ee())}))),CG=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:be(de({transaction:RD,meta:Se(UT),version:Ue(Ch)})),rewards:Ue(be(su)),blockTime:Se(ee()),blockHeight:Se(ee())}))),NG=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:be(de({transaction:CD,meta:Se(UT),version:Ue(Ch)})),rewards:Ue(be(su)),blockTime:Se(ee()),blockHeight:Se(ee())}))),kG=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),rewards:Ue(be(su)),blockTime:Se(ee()),blockHeight:Se(ee())}))),MG=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:be(de({transaction:FT,meta:Se(ov)})),rewards:Ue(be(su)),blockTime:Se(ee())}))),y2=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),signatures:be(ge()),blockTime:Se(ee())}))),px=it(Se(de({slot:ee(),meta:Se(ov),blockTime:Ue(Se(ee())),transaction:FT,version:Ue(Ch)}))),kg=it(Se(de({slot:ee(),transaction:RD,meta:Se(UT),blockTime:Ue(Se(ee())),version:Ue(Ch)}))),RG=On(de({blockhash:ge(),lastValidBlockHeight:ee()})),PG=On(Zi()),OG=de({slot:ee(),numTransactions:ee(),numSlots:ee(),samplePeriodSecs:ee()}),LG=it(be(OG)),DG=On(Se(de({feeCalculator:de({lamportsPerSignature:ee()})}))),jG=it(ge()),BG=it(ge()),FG=de({err:ru,logs:be(ge()),signature:ge()}),UG=de({result:iv(FG),subscription:ee()}),VG={"solana-client":"js/1.0.0-maintenance"};class zG{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async u=>{const{commitment:f,config:p}=Kt(u),m=this._buildArgs([],f,void 0,p),v=d2(m);return c[v]=c[v]??(async()=>{try{const g=await this._rpcRequest("getBlockHeight",m),w=xe(g,it(ee()));if("error"in w)throw new Pe(w.error,"failed to get block height information");return w.result}finally{delete c[v]}})(),await c[v]}})();let r,s,i,o,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,s=n.httpHeaders,i=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=IK(e),this._rpcWsEndpoint=r||SK(e),this._rpcClient=VK(e,s,i,o,a,l),this._rpcRequest=zK(this._rpcClient),this._rpcBatchRequest=WK(this._rpcClient),this._rpcWebSocket=new xK(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:s}=Kt(n),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=xe(o,On(ee()));if("error"in a)throw new Pe(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=xe(n,it(Se(ee())));if("error"in r)throw new Pe(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=xe(e,it(ee()));if("error"in n)throw new Pe(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=xe(e,YK);if("error"in n)throw new Pe(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),s=xe(r,ZK);if("error"in s)throw new Pe(s.error,"failed to get supply");return s.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenSupply",r),i=xe(s,On(Tb));if("error"in i)throw new Pe(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",r),i=xe(s,On(Tb));if("error"in i)throw new Pe(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,n,r){const{commitment:s,config:i}=Kt(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=xe(l,JK);if("error"in c)throw new Pe(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=xe(o,eG);if("error"in a)throw new Pe(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",r),i=xe(s,tG);if("error"in i)throw new Pe(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",r),i=xe(s,XK);if("error"in i)throw new Pe(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:s}=Kt(n),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=xe(o,On(Se(kp)));if("error"in a)throw new Pe(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:s}=Kt(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=xe(o,On(Se(Ab)));if("error"in a)throw new Pe(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:s}=Kt(n),i=e.map(c=>c.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),l=xe(a,On(be(Se(Ab))));if("error"in l)throw new Pe(l.error,`failed to get info for accounts ${i}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:s}=Kt(n),i=e.map(c=>c.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),l=xe(a,On(be(Se(kp))));if("error"in l)throw new Pe(l.error,`failed to get info for accounts ${i}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:s,config:i}=Kt(n),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),l=xe(a,it(iG));if("error"in l)throw new Pe(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:s}=Kt(n),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:p2(o.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=be(nG),u=o.withContext===!0?xe(l,On(c)):xe(l,it(c));if("error"in u)throw new Pe(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:s}=Kt(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=xe(o,it(be(sG)));if("error"in a)throw new Pe(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=wr.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return un(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,s,i=!1;const o=new Promise((l,c)=>{try{r=this.onSignature(n,(f,p)=>{r=void 0;const m={context:p,value:f};l({__type:va.PROCESSED,response:m})},e);const u=new Promise(f=>{r==null?f():s=this._onSubscriptionStateChange(r,p=>{p==="subscribed"&&f()})});(async()=>{if(await u,i)return;const f=await this.getSignatureStatus(n);if(i||f==null)return;const{context:p,value:m}=f;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,l({__type:va.PROCESSED,response:{context:p,value:m}})}})()}catch(u){c(u)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(f=>{const p=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await p();if(!i){for(;m<=r;)if(await Du(1e3),i||(m=await p(),i))return;f({__type:va.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),c=this.getCancellationPromise(n);let u;try{const f=await Promise.race([c,l,o]);if(f.__type===va.PROCESSED)u=f.response;else throw new vD(s)}finally{i=!0,a()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const l=new Promise(m=>{let v=i,g=null;const w=async()=>{try{const{context:_,value:b}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return g=_.slot,b==null?void 0:b.nonce}catch{return v}};(async()=>{if(v=await w(),!a)for(;;){if(i!==v){m({__type:va.NONCE_INVALID,slotInWhichNonceDidAdvance:g});return}if(await Du(2e3),a||(v=await w(),a))return}})()}),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),f=this.getCancellationPromise(n);let p;try{const m=await Promise.race([f,u,l]);if(m.__type===va.PROCESSED)p=m.response;else{let v;for(;;){const g=await this.getSignatureStatus(o);if(g==null)break;if(g.context.slot<(m.slotInWhichNonceDidAdvance??r)){await Du(400);continue}v=g;break}if(v!=null&&v.value){const g=e||"finalized",{confirmationStatus:w}=v.value;switch(g){case"processed":case"recent":if(w!=="processed"&&w!=="confirmed"&&w!=="finalized")throw new Ef(o);break;case"confirmed":case"single":case"singleGossip":if(w!=="confirmed"&&w!=="finalized")throw new Ef(o);break;case"finalized":case"max":case"root":if(w!=="finalized")throw new Ef(o);break;default:}p={context:v.context,value:{err:v.value.err}}}else throw new Ef(o)}}finally{a=!0,c()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const s=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:va.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([o,s]);if(l.__type===va.PROCESSED)a=l.response;else throw new xD(n,l.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=xe(e,it(be(yG)));if("error"in n)throw new Pe(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),s=xe(r,wG);if("error"in s)throw new Pe(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:n,config:r}=Kt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlot",s),o=xe(i,it(ee()));if("error"in o)throw new Pe(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=Kt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=xe(i,it(ge()));if("error"in o)throw new Pe(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],s=await this._rpcRequest("getSlotLeaders",r),i=xe(s,it(be(Tn)));if("error"in i)throw new Pe(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,n){const{context:r,value:s}=await this.getSignatureStatuses([e],n);un(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const s=await this._rpcRequest("getSignatureStatuses",r),i=xe(s,_G);if("error"in i)throw new Pe(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:n,config:r}=Kt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=xe(i,it(ee()));if("error"in o)throw new Pe(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),s=xe(r,$K);if("error"in s)throw new Pe(s.error,"failed to get inflation");return s.result}async getInflationReward(e,n,r){const{commitment:s,config:i}=Kt(r),o=this._buildArgs([e.map(c=>c.toBase58())],s,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),l=xe(a,NK);if("error"in l)throw new Pe(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=xe(e,HK);if("error"in n)throw new Pe(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=Kt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=xe(i,KK);if("error"in o)throw new Pe(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=xe(e,GK);if("error"in n)throw new Pe(n.error,"failed to get epoch schedule");const r=n.result;return new wK(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=xe(e,QK);if("error"in n)throw new Pe(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=xe(s,bG);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=xe(n,LG);if("error"in r)throw new Pe(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=xe(s,DG);if("error"in i)throw new Pe(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=pr(e.serialize()).toString("base64"),s=this._buildArgs([r],n),i=await this._rpcRequest("getFeeForMessage",s),o=xe(i,On(Se(ee())));if("error"in o)throw new Pe(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=xe(s,qK);if("error"in i)throw new Pe(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=Kt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=xe(i,RG);if("error"in o)throw new Pe(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:s}=Kt(n),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=xe(o,PG);if("error"in a)throw new Pe(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=xe(e,it(jK));if("error"in n)throw new Pe(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=xe(e,it(ge()));if("error"in n)throw new Pe(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:s}=Kt(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=xe(o,AG);if("error"in a)throw a.error;return a.result}case"none":{const a=xe(o,IG);if("error"in a)throw a.error;return a.result}default:{const a=xe(o,TG);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:u,version:f})=>({meta:u,transaction:{...c,message:fx(f,c.message)},version:f}))}:null}}}catch(a){throw new Pe(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:s}=Kt(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=xe(o,NG);if("error"in a)throw a.error;return a.result}case"none":{const a=xe(o,kG);if("error"in a)throw a.error;return a.result}default:{const a=xe(o,CG);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Pe(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const s=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getBlockProduction",s),o=xe(i,UK);if("error"in o)throw new Pe(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:s}=Kt(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=xe(o,px);if("error"in a)throw new Pe(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:fx(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:s}=Kt(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=xe(o,kg);if("error"in a)throw new Pe(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:s}=Kt(n),i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(l=>{const c=xe(l,kg);if("error"in c)throw new Pe(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:s}=Kt(n),i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(l=>{const c=xe(l,px);if("error"in c)throw new Pe(c.error,"failed to get transactions");const u=c.result;return u&&{...u,transaction:{...u.transaction,message:fx(u.version,u.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getBlock",r),i=xe(s,MG);if("error"in i)throw new Pe(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:c})=>{const u=new Qo(l.message);return{meta:c,transaction:{...l,message:u}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:gi.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),i=await this._rpcRequest("getBlocks",s),o=xe(i,it(be(ee())));if("error"in o)throw new Pe(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=xe(s,y2);if("error"in i)throw new Pe(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=xe(s,y2);if("error"in i)throw new Pe(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getTransaction",r),i=xe(s,px);if("error"in i)throw new Pe(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new Qo(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:gi.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=xe(s,kg);if("error"in i)throw new Pe(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=xe(o,kg);if("error"in a)throw new Pe(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<i));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(s.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(s.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=xe(i,oG);if("error"in o)throw new Pe(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getSignaturesForAddress",s),o=xe(i,aG);if("error"in o)throw new Pe(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=new f2({key:e,state:f2.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=jT.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),s=xe(r,jG);if("error"in s)throw new Pe(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Du(100);const r=Date.now()-this._blockhashInfo.lastFetch>=TK;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Du(hK/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=Kt(e),s=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=xe(i,On(ee()));if("error"in o)throw new Pe(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const g=e.serialize(),w=Je.Buffer.from(g).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const _=n||{};_.encoding="base64","commitment"in _||(_.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(_.innerInstructions=n.innerInstructions);const b=[w,_],x=await this._rpcRequest("simulateTransaction",b),T=xe(x,m2);if("error"in T)throw new Error("failed to simulate transaction: "+T.error.message);return T.result}let s;if(e instanceof gi){let v=e;s=new gi,s.feePayer=v.feePayer,s.instructions=e.instructions,s.nonceInfo=v.nonceInfo,s.signatures=v.signatures}else s=gi.populate(e),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(s.nonceInfo&&i)s.sign(...i);else{let v=this._disableBlockhashCaching;for(;;){const g=await this._blockhashWithExpiryBlockHeight(v);if(s.lastValidBlockHeight=g.lastValidBlockHeight,s.recentBlockhash=g.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const w=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(w)&&!this._blockhashInfo.transactionSignatures.includes(w)){this._blockhashInfo.simulatedSignatures.push(w);break}else v=!0}}const o=s._compile(),a=o.serialize(),c=s._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const v=(Array.isArray(r)?r:o.nonProgramIds()).map(g=>g.toBase58());u.accounts={encoding:"base64",addresses:v}}i&&(u.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(u.innerInstructions=n.innerInstructions);const f=[c,u],p=await this._rpcRequest("simulateTransaction",f),m=xe(p,m2);if("error"in m){let v;if("data"in m.error&&(v=m.error.data.logs,v&&Array.isArray(v))){const g=`
    `,w=g+v.join(g);console.error(m.error.message,w)}throw new l2({action:"simulate",signature:"",transactionMessage:m.error.message,logs:v})}return m.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,n){const r=pr(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},s=n&&n.skipPreflight,i=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),l=xe(a,BG);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new l2({action:s?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var i;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!n())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...n)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=xe(e,lG);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,s=d2([e.method,n]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];un(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:s,config:i}=Kt(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=xe(e,uG);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,s){const{commitment:i,config:o}=Kt(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:p2(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=xe(e,UG);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=xe(e,hG);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=xe(e,pG);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,s){const i=n||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,s){const i=n||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,s)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=xe(e,mG);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,n,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=xe(e,gG);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:Ne([je("instruction"),rh("recentSlot"),St("bumpSeed")])},FreezeLookupTable:{index:1,layout:Ne([je("instruction")])},ExtendLookupTable:{index:2,layout:Ne([je("instruction"),rh(),$r(ct(),Cc(je(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Ne([je("instruction")])},CloseLookupTable:{index:4,layout:Ne([je("instruction")])}});new Oe("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:Ne([St("instruction"),je("units"),je("additionalFee")])},RequestHeapFrame:{index:1,layout:Ne([St("instruction"),je("bytes")])},SetComputeUnitLimit:{index:2,layout:Ne([St("instruction"),je("units")])},SetComputeUnitPrice:{index:3,layout:Ne([St("instruction"),rh("microLamports")])}});new Oe("ComputeBudget111111111111111111111111111111");Ne([St("numSignatures"),St("padding"),Gs("signatureOffset"),Gs("signatureInstructionIndex"),Gs("publicKeyOffset"),Gs("publicKeyInstructionIndex"),Gs("messageDataOffset"),Gs("messageDataSize"),Gs("messageInstructionIndex")]);new Oe("Ed25519SigVerify111111111111111111111111111");Xq.utils.isValidPrivateKey;Ne([St("numSignatures"),Gs("signatureOffset"),St("signatureInstructionIndex"),Gs("ethAddressOffset"),St("ethAddressInstructionIndex"),Gs("messageDataOffset"),Gs("messageDataSize"),St("messageInstructionIndex"),rn(20,"ethAddress"),rn(64,"signature"),St("recoveryId")]);new Oe("KeccakSecp256k11111111111111111111111111111");var OD;new Oe("StakeConfig11111111111111111111111111111111");class LD{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}OD=LD;LD.default=new OD(0,0,Oe.default);Object.freeze({Initialize:{index:0,layout:Ne([je("instruction"),sK(),iK()])},Authorize:{index:1,layout:Ne([je("instruction"),ct("newAuthorized"),je("stakeAuthorizationType")])},Delegate:{index:2,layout:Ne([je("instruction")])},Split:{index:3,layout:Ne([je("instruction"),Is("lamports")])},Withdraw:{index:4,layout:Ne([je("instruction"),Is("lamports")])},Deactivate:{index:5,layout:Ne([je("instruction")])},Merge:{index:7,layout:Ne([je("instruction")])},AuthorizeWithSeed:{index:8,layout:Ne([je("instruction"),ct("newAuthorized"),je("stakeAuthorizationType"),sd("authoritySeed"),ct("authorityOwner")])}});new Oe("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:Ne([je("instruction"),oK()])},Authorize:{index:1,layout:Ne([je("instruction"),ct("newAuthorized"),je("voteAuthorizationType")])},Withdraw:{index:3,layout:Ne([je("instruction"),Is("lamports")])},UpdateValidatorIdentity:{index:4,layout:Ne([je("instruction")])},AuthorizeWithSeed:{index:10,layout:Ne([je("instruction"),aK()])}});new Oe("Vote111111111111111111111111111111111111111");new Oe("Va1idator1nfo111111111111111111111111111111");de({name:ge(),website:Ue(ge()),details:Ue(ge()),iconUrl:Ue(ge()),keybaseUsername:Ue(ge())});new Oe("Vote111111111111111111111111111111111111111");Ne([ct("nodePubkey"),ct("authorizedWithdrawer"),St("commission"),ur(),$r(Ne([ur("slot"),je("confirmationCount")]),Cc(je(),-8),"votes"),St("rootSlotValid"),ur("rootSlot"),ur(),$r(Ne([ur("epoch"),ct("authorizedVoter")]),Cc(je(),-8),"authorizedVoters"),Ne([$r(Ne([ct("authorizedPubkey"),ur("epochOfLastAuthorizedSwitch"),ur("targetEpoch")]),32,"buf"),ur("idx"),St("isEmpty")],"priorVoters"),ur(),$r(Ne([ur("epoch"),ur("credits"),ur("prevCredits")]),Cc(je(),-8),"epochCredits"),Ne([ur("slot"),ur("timestamp")],"lastTimestamp")]);const w2=1e9,DD=k.createContext({});function jD(){return k.useContext(DD)}const WG=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=k.useMemo(()=>new zG(e,n),[e,n]);return ce.createElement(DD.Provider,{value:{connection:r}},t)};class Jn extends Error{constructor(e,n){super(e),this.error=n}}class Yo extends Jn{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class VT extends Jn{constructor(){super(...arguments),this.name="WalletLoadError"}}class lc extends Jn{constructor(){super(...arguments),this.name="WalletConfigError"}}class Zo extends Jn{constructor(){super(...arguments),this.name="WalletConnectionError"}}class av extends Jn{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class wm extends Jn{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Xa extends Jn{constructor(){super(...arguments),this.name="WalletAccountError"}}class El extends Jn{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Zt extends Jn{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Ui extends Jn{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class ms extends Jn{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class vm extends Jn{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class v2 extends Jn{constructor(){super(...arguments),this.name="WalletSignInError"}}var Xe;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(Xe||(Xe={}));class BD extends LT{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const s=this.publicKey;if(!s)throw new Zt;return e.feePayer=e.feePayer||s,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function FD(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const i of e)i()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function Cb(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function Vi(t){return"version"in t}class UD extends BD{async sendTransaction(e,n,r={}){let s=!0;try{if(Vi(e)){if(!this.supportedTransactionVersions)throw new Ui("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Ui(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const i=e.serialize();return await n.sendRawTransaction(i,r)}catch(i){throw i instanceof ms?(s=!1,i):new Ui(i==null?void 0:i.message,i)}}else try{const{signers:i,...o}=r;e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,o)}catch(i){throw i instanceof ms?(s=!1,i):new Ui(i==null?void 0:i.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(e){for(const r of e)if(Vi(r)){if(!this.supportedTransactionVersions)throw new ms("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new ms(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class lv extends UD{}class $G extends lv{}const ts="solana:signAndSendTransaction",Nc="solana:signIn",Mo="solana:signMessage",xn="solana:signTransaction",cv="standard:connect",Dy="standard:disconnect",uv="standard:events";function HG(t){return cv in t.features&&uv in t.features&&(ts in t.features||xn in t.features)}class x2 extends Jn{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const qG=[],dv={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){ci("call","select")},connect(){return Promise.reject(ci("call","connect"))},disconnect(){return Promise.reject(ci("call","disconnect"))},sendTransaction(){return Promise.reject(ci("call","sendTransaction"))},signTransaction(){return Promise.reject(ci("call","signTransaction"))},signAllTransactions(){return Promise.reject(ci("call","signAllTransactions"))},signMessage(){return Promise.reject(ci("call","signMessage"))},signIn(){return Promise.reject(ci("call","signIn"))}};Object.defineProperty(dv,"wallets",{get(){return ci("read","wallets"),qG}});Object.defineProperty(dv,"wallet",{get(){return ci("read","wallet"),null}});Object.defineProperty(dv,"publicKey",{get(){return ci("read","publicKey"),null}});function ci(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const VD=k.createContext(dv);function Nh(){return k.useContext(VD)}function KG(t,e){const n=k.useState(()=>{try{const i=localStorage.getItem(t);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return e}),r=n[0],s=k.useRef(!0);return k.useEffect(()=>{if(s.current){s.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,t]),n}var GG=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},zD={},Vs={};let zT;const QG=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Vs.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Vs.getSymbolTotalCodewords=function(e){return QG[e]};Vs.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Vs.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');zT=e};Vs.isKanjiModeEnabled=function(){return typeof zT<"u"};Vs.toSJIS=function(e){return zT(e)};var hv={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(hv);function WD(){this.buffer=[],this.length=0}WD.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var YG=WD;function xm(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}xm.prototype.set=function(t,e,n,r){const s=t*this.size+e;this.data[s]=n,r&&(this.reservedBit[s]=!0)};xm.prototype.get=function(t,e){return this.data[t*this.size+e]};xm.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};xm.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var ZG=xm,$D={};(function(t){const e=Vs.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let l=1;l<s-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),o=i.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||s.push([i[a],i[l]]);return s}})($D);var HD={};const XG=Vs.getSymbolSize,_2=7;HD.getPositions=function(e){const n=XG(e);return[[0,0],[n-_2,0],[0,n-_2]]};var qD={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,l=0,c=null,u=null;for(let f=0;f<i;f++){a=l=0,c=u=null;for(let p=0;p<i;p++){let m=s.get(f,p);m===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=m,a=1),m=s.get(p,f),m===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=m,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let l=0;l<i-1;l++){const c=s.get(a,l)+s.get(a,l+1)+s.get(a+1,l)+s.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,l=0;for(let c=0;c<i;c++){a=l=0;for(let u=0;u<i;u++)a=a<<1&2047|s.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|s.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let l=0;l<o;l++)i+=s.data[l];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)i.isReserved(l,a)||i.xor(l,a,n(s,l,a))},t.getBestMask=function(s,i){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){i(c),t.applyMask(c,s);const u=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(c,s),u<l&&(l=u,a=c)}return a}})(qD);var fv={};const Ja=hv,Mg=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Rg=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];fv.getBlocksCount=function(e,n){switch(n){case Ja.L:return Mg[(e-1)*4+0];case Ja.M:return Mg[(e-1)*4+1];case Ja.Q:return Mg[(e-1)*4+2];case Ja.H:return Mg[(e-1)*4+3];default:return}};fv.getTotalCodewordsCount=function(e,n){switch(n){case Ja.L:return Rg[(e-1)*4+0];case Ja.M:return Rg[(e-1)*4+1];case Ja.Q:return Rg[(e-1)*4+2];case Ja.H:return Rg[(e-1)*4+3];default:return}};var KD={},pv={};const Qf=new Uint8Array(512),jy=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Qf[n]=e,jy[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Qf[n]=Qf[n-255]})();pv.log=function(e){if(e<1)throw new Error("log("+e+")");return jy[e]};pv.exp=function(e){return Qf[e]};pv.mul=function(e,n){return e===0||n===0?0:Qf[jy[e]+jy[n]]};(function(t){const e=pv;t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=e.mul(r[o],s[a]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let l=0;l<s.length;l++)i[l]^=e.mul(s[l],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(KD);const GD=KD;function WT(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}WT.prototype.initialize=function(e){this.degree=e,this.genPoly=GD.generateECPolynomial(this.degree)};WT.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=GD.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var JG=WT,QD={},Pl={},$T={};$T.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var io={};const YD="[0-9]+",eQ="[A-Z $%*+\\-./:]+";let Mp="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Mp=Mp.replace(/u/g,"\\u");const tQ="(?:(?![A-Z0-9 $%*+\\-./:]|"+Mp+`)(?:.|[\r
]))+`;io.KANJI=new RegExp(Mp,"g");io.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");io.BYTE=new RegExp(tQ,"g");io.NUMERIC=new RegExp(YD,"g");io.ALPHANUMERIC=new RegExp(eQ,"g");const nQ=new RegExp("^"+Mp+"$"),rQ=new RegExp("^"+YD+"$"),sQ=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");io.testKanji=function(e){return nQ.test(e)};io.testNumeric=function(e){return rQ.test(e)};io.testAlphanumeric=function(e){return sQ.test(e)};(function(t){const e=$T,n=io;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,o){if(t.isValid(i))return i;try{return r(i)}catch{return o}}})(Pl);(function(t){const e=Vs,n=fv,r=hv,s=Pl,i=$T,o=7973,a=e.getBCHDigit(o);function l(p,m,v){for(let g=1;g<=40;g++)if(m<=t.getCapacity(g,v,p))return g}function c(p,m){return s.getCharCountIndicator(p,m)+4}function u(p,m){let v=0;return p.forEach(function(g){const w=c(g.mode,m);v+=w+g.getBitsLength()}),v}function f(p,m){for(let v=1;v<=40;v++)if(u(p,v)<=t.getCapacity(v,m,s.MIXED))return v}t.from=function(m,v){return i.isValid(m)?parseInt(m,10):v},t.getCapacity=function(m,v,g){if(!i.isValid(m))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=s.BYTE);const w=e.getSymbolTotalCodewords(m),_=n.getTotalCodewordsCount(m,v),b=(w-_)*8;if(g===s.MIXED)return b;const x=b-c(g,m);switch(g){case s.NUMERIC:return Math.floor(x/10*3);case s.ALPHANUMERIC:return Math.floor(x/11*2);case s.KANJI:return Math.floor(x/13);case s.BYTE:default:return Math.floor(x/8)}},t.getBestVersionForData=function(m,v){let g;const w=r.from(v,r.M);if(Array.isArray(m)){if(m.length>1)return f(m,w);if(m.length===0)return 1;g=m[0]}else g=m;return l(g.mode,g.getLength(),w)},t.getEncodedBits=function(m){if(!i.isValid(m)||m<7)throw new Error("Invalid QR Code version");let v=m<<12;for(;e.getBCHDigit(v)-a>=0;)v^=o<<e.getBCHDigit(v)-a;return m<<12|v}})(QD);var ZD={};const Nb=Vs,XD=1335,iQ=21522,b2=Nb.getBCHDigit(XD);ZD.getEncodedBits=function(e,n){const r=e.bit<<3|n;let s=r<<10;for(;Nb.getBCHDigit(s)-b2>=0;)s^=XD<<Nb.getBCHDigit(s)-b2;return(r<<10|s)^iQ};var JD={};const oQ=Pl;function sh(t){this.mode=oQ.NUMERIC,this.data=t.toString()}sh.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};sh.prototype.getLength=function(){return this.data.length};sh.prototype.getBitsLength=function(){return sh.getBitsLength(this.data.length)};sh.prototype.write=function(e){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),e.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),e.put(s,i*3+1))};var aQ=sh;const lQ=Pl,mx=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ih(t){this.mode=lQ.ALPHANUMERIC,this.data=t}ih.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ih.prototype.getLength=function(){return this.data.length};ih.prototype.getBitsLength=function(){return ih.getBitsLength(this.data.length)};ih.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=mx.indexOf(this.data[n])*45;r+=mx.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(mx.indexOf(this.data[n]),6)};var cQ=ih;const uQ=Pl;function oh(t){this.mode=uQ.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}oh.getBitsLength=function(e){return e*8};oh.prototype.getLength=function(){return this.data.length};oh.prototype.getBitsLength=function(){return oh.getBitsLength(this.data.length)};oh.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var dQ=oh;const hQ=Pl,fQ=Vs;function ah(t){this.mode=hQ.KANJI,this.data=t}ah.getBitsLength=function(e){return e*13};ah.prototype.getLength=function(){return this.data.length};ah.prototype.getBitsLength=function(){return ah.getBitsLength(this.data.length)};ah.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=fQ.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var pQ=ah,ej={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,f,p,m,v,g,w;!a.empty();){l=a.pop(),c=l.value,f=l.cost,p=n[c]||{};for(u in p)p.hasOwnProperty(u)&&(m=p[u],v=f+m,g=o[u],w=typeof o[u]>"u",(w||g>v)&&(o[u]=v,a.push(u,v),i[u]=c))}if(typeof s<"u"&&typeof o[s]>"u"){var _=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(_)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(ej);var mQ=ej.exports;(function(t){const e=Pl,n=aQ,r=cQ,s=dQ,i=pQ,o=io,a=Vs,l=mQ;function c(_){return unescape(encodeURIComponent(_)).length}function u(_,b,x){const T=[];let D;for(;(D=_.exec(x))!==null;)T.push({data:D[0],index:D.index,mode:b,length:D[0].length});return T}function f(_){const b=u(o.NUMERIC,e.NUMERIC,_),x=u(o.ALPHANUMERIC,e.ALPHANUMERIC,_);let T,D;return a.isKanjiModeEnabled()?(T=u(o.BYTE,e.BYTE,_),D=u(o.KANJI,e.KANJI,_)):(T=u(o.BYTE_KANJI,e.BYTE,_),D=[]),b.concat(x,T,D).sort(function(R,M){return R.index-M.index}).map(function(R){return{data:R.data,mode:R.mode,length:R.length}})}function p(_,b){switch(b){case e.NUMERIC:return n.getBitsLength(_);case e.ALPHANUMERIC:return r.getBitsLength(_);case e.KANJI:return i.getBitsLength(_);case e.BYTE:return s.getBitsLength(_)}}function m(_){return _.reduce(function(b,x){const T=b.length-1>=0?b[b.length-1]:null;return T&&T.mode===x.mode?(b[b.length-1].data+=x.data,b):(b.push(x),b)},[])}function v(_){const b=[];for(let x=0;x<_.length;x++){const T=_[x];switch(T.mode){case e.NUMERIC:b.push([T,{data:T.data,mode:e.ALPHANUMERIC,length:T.length},{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.ALPHANUMERIC:b.push([T,{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.KANJI:b.push([T,{data:T.data,mode:e.BYTE,length:c(T.data)}]);break;case e.BYTE:b.push([{data:T.data,mode:e.BYTE,length:c(T.data)}])}}return b}function g(_,b){const x={},T={start:{}};let D=["start"];for(let F=0;F<_.length;F++){const R=_[F],M=[];for(let U=0;U<R.length;U++){const W=R[U],$=""+F+U;M.push($),x[$]={node:W,lastCount:0},T[$]={};for(let q=0;q<D.length;q++){const C=D[q];x[C]&&x[C].node.mode===W.mode?(T[C][$]=p(x[C].lastCount+W.length,W.mode)-p(x[C].lastCount,W.mode),x[C].lastCount+=W.length):(x[C]&&(x[C].lastCount=W.length),T[C][$]=p(W.length,W.mode)+4+e.getCharCountIndicator(W.mode,b))}}D=M}for(let F=0;F<D.length;F++)T[D[F]].end=0;return{map:T,table:x}}function w(_,b){let x;const T=e.getBestModeForData(_);if(x=e.from(b,T),x!==e.BYTE&&x.bit<T.bit)throw new Error('"'+_+'" cannot be encoded with mode '+e.toString(x)+`.
 Suggested mode is: `+e.toString(T));switch(x===e.KANJI&&!a.isKanjiModeEnabled()&&(x=e.BYTE),x){case e.NUMERIC:return new n(_);case e.ALPHANUMERIC:return new r(_);case e.KANJI:return new i(_);case e.BYTE:return new s(_)}}t.fromArray=function(b){return b.reduce(function(x,T){return typeof T=="string"?x.push(w(T,null)):T.data&&x.push(w(T.data,T.mode)),x},[])},t.fromString=function(b,x){const T=f(b,a.isKanjiModeEnabled()),D=v(T),F=g(D,x),R=l.find_path(F.map,"start","end"),M=[];for(let U=1;U<R.length-1;U++)M.push(F.table[R[U]].node);return t.fromArray(m(M))},t.rawSplit=function(b){return t.fromArray(f(b,a.isKanjiModeEnabled()))}})(JD);const mv=Vs,gx=hv,gQ=YG,yQ=ZG,wQ=$D,vQ=HD,kb=qD,Mb=fv,xQ=JG,By=QD,_Q=ZD,bQ=Pl,yx=JD;function EQ(t,e){const n=t.size,r=vQ.getPositions(e);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||n<=i+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(i+a,o+l,!0,!0):t.set(i+a,o+l,!1,!0))}}function SQ(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function TQ(t,e){const n=wQ.getPositions(e);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(s+o,i+a,!0,!0):t.set(s+o,i+a,!1,!0)}}function IQ(t,e){const n=t.size,r=By.getEncodedBits(e);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+n-8-3,o=(r>>a&1)===1,t.set(s,i,o,!0),t.set(i,s,o,!0)}function wx(t,e,n){const r=t.size,s=_Q.getEncodedBits(e,n);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?t.set(i,8,o,!0):i<8?t.set(i+1,8,o,!0):t.set(r-15+i,8,o,!0),i<8?t.set(8,r-i-1,o,!0):i<9?t.set(8,15-i-1+1,o,!0):t.set(8,15-i-1,o,!0);t.set(r-8,8,1,!0)}function AQ(t,e){const n=t.size;let r=-1,s=n-1,i=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(s,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>i&1)===1),t.set(s,a-l,c),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function CQ(t,e,n){const r=new gQ;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),bQ.getCharCountIndicator(l.mode,t)),l.write(r)});const s=mv.getSymbolTotalCodewords(t),i=Mb.getTotalCodewordsCount(t,e),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return NQ(r,t,e)}function NQ(t,e,n){const r=mv.getSymbolTotalCodewords(e),s=Mb.getTotalCodewordsCount(e,n),i=r-s,o=Mb.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(i/o),f=u+1,p=c-u,m=new xQ(p);let v=0;const g=new Array(o),w=new Array(o);let _=0;const b=new Uint8Array(t.buffer);for(let R=0;R<o;R++){const M=R<l?u:f;g[R]=b.slice(v,v+M),w[R]=m.encode(g[R]),v+=M,_=Math.max(_,M)}const x=new Uint8Array(r);let T=0,D,F;for(D=0;D<_;D++)for(F=0;F<o;F++)D<g[F].length&&(x[T++]=g[F][D]);for(D=0;D<p;D++)for(F=0;F<o;F++)x[T++]=w[F][D];return x}function kQ(t,e,n,r){let s;if(Array.isArray(t))s=yx.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=yx.rawSplit(t);c=By.getBestVersionForData(u,n)}s=yx.fromString(t,c||40)}else throw new Error("Invalid data");const i=By.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=CQ(e,n,s),a=mv.getSymbolSize(e),l=new yQ(a);return EQ(l,e),SQ(l),TQ(l,e),wx(l,n,0),e>=7&&IQ(l,e),AQ(l,o),isNaN(r)&&(r=kb.getBestMask(l,wx.bind(null,l,n))),kb.applyMask(r,l),wx(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}zD.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=gx.M,s,i;return typeof n<"u"&&(r=gx.from(n.errorCorrectionLevel,gx.M),s=By.from(n.version),i=kb.from(n.maskPattern),n.toSJISFunc&&mv.setToSJISFunction(n.toSJISFunc)),kQ(e,s,r,i)};var tj={},HT={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const o=s.modules.size,a=s.modules.data,l=t.getScale(o,i),c=Math.floor((o+i.margin*2)*l),u=i.margin*l,f=[i.color.light,i.color.dark];for(let p=0;p<c;p++)for(let m=0;m<c;m++){let v=(p*c+m)*4,g=i.color.light;if(p>=u&&m>=u&&p<c-u&&m<c-u){const w=Math.floor((p-u)/l),_=Math.floor((m-u)/l);g=f[a[w*o+_]?1:0]}r[v++]=g.r,r[v++]=g.g,r[v++]=g.b,r[v]=g.a}}})(HT);(function(t){const e=HT;function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(i.modules.size,l),f=c.getContext("2d"),p=f.createImageData(u,u);return e.qrToImageData(p.data,i,l),n(f,c,u),f.putImageData(p,0,0),c},t.renderToDataURL=function(i,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(i,o,l),u=l.type||"image/png",f=l.rendererOpts||{};return c.toDataURL(u,f.quality)}})(tj);var nj={};const MQ=HT;function E2(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function vx(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function RQ(t,e,n){let r="",s=0,i=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!i&&(i=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=i?vx("M",l+n,.5+c+n):vx("m",s,0),s=0,i=!1),l+1<e&&t[a+1]||(r+=vx("h",o),o=0)):s++}return r}nj.render=function(e,n,r){const s=MQ.getOptions(n),i=e.modules.size,o=e.modules.data,a=i+s.margin*2,l=s.color.light.a?"<path "+E2(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+E2(s.color.dark,"stroke")+' d="'+RQ(o,i,s.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,p),p};const PQ=GG,Rb=zD,rj=tj,OQ=nj;function qT(t,e,n,r,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!PQ())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const u=Rb.create(n,r);l(t(u,e,r))}catch(u){c(u)}})}try{const l=Rb.create(n,r);s(null,t(l,e,r))}catch(l){s(l)}}Rb.create;qT.bind(null,rj.render);qT.bind(null,rj.renderToDataURL);qT.bind(null,function(t,e,n){return OQ.render(t,n)});const Rp="solana:mainnet",sj="solana:devnet",ij="solana:testnet",LQ="solana:localnet";function xx(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const DQ="https://api.mainnet-beta.solana.com";function jQ(t){return t.includes(DQ)?Rp:/\bdevnet\b/i.test(t)?sj:/\btestnet\b/i.test(t)?ij:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?LQ:Rp}function BQ(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const Xo={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Jo extends Error{constructor(...e){const[n,r,s]=e;super(r),this.code=n,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class oj extends Error{constructor(...e){const[n,r,s,i]=e;super(s),this.code=r,this.data=i,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function Wn(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function FQ(t){return window.btoa(t)}function _x(t,e){return Wn(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),s=new Uint8Array(n.byteLength+r.byteLength);return s.set(new Uint8Array(n),0),s.set(new Uint8Array(r),n.byteLength),s})}function UQ(t){return BQ(t)}function VQ(t){return FQ(UQ(t))}const zQ="solana:signTransactions",S2="solana:cloneAuthorization";function WQ(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(s){return Wn(this,void 0,void 0,function*(){const{method:i,params:o}=$Q(r,s,t),a=yield e(i,o);return i==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield qQ(o.sign_in_payload,a,e)),HQ(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function $Q(t,e,n){let r=e,s=t.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:i}=r;if(n==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:o}=r;if(i)switch(n){case"legacy":{s="reauthorize",r={auth_token:i,identity:o};break}default:{s="authorize";break}}break}}return{method:s,params:r}}function HQ(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const s=[zQ];return r.supports_clone_authorization===!0&&s.push(S2),Object.assign(Object.assign({},r),{features:s})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(S2)})}}}return e}function qQ(t,e,n){var r;return Wn(this,void 0,void 0,function*(){const s=(r=t.domain)!==null&&r!==void 0?r:window.location.host,i=e.accounts[0].address,o=VQ(Object.assign(Object.assign({},t),{domain:s,address:i})),a=yield n("sign_messages",{addresses:[i],payloads:[o]});return{address:i,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const cc=4;function KQ(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(cc);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const Pb=12,aj=65;function GQ(t,e,n){return Wn(this,void 0,void 0,function*(){const r=KQ(e),s=new Uint8Array(Pb);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(cj(r,s),n,new TextEncoder().encode(t)),o=new Uint8Array(r.byteLength+s.byteLength+i.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(s),r.byteLength),o.set(new Uint8Array(i),r.byteLength+s.byteLength),o})}function lj(t,e){return Wn(this,void 0,void 0,function*(){const n=t.slice(0,cc),r=t.slice(cc,cc+Pb),s=t.slice(cc+Pb),i=yield crypto.subtle.decrypt(cj(n,r),e,s);return QQ().decode(i)})}function cj(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let bx;function QQ(){return bx===void 0&&(bx=new TextDecoder("utf-8")),bx}function YQ(){return Wn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Ex(){return Wn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function ZQ(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let s=0;s<r;s++)e+=String.fromCharCode(n[s]);return window.btoa(e)}function XQ(){return uj(49152+Math.floor(Math.random()*16384))}function uj(t){if(t<49152||t>65535)throw new Jo(Xo.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function JQ(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const eY="solana-wallet";function T2(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function tY(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new Jo(Xo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${eY}:/`));const r=t.startsWith("/")?t:[...T2(n.pathname),...T2(t)].join("/");return new URL(r,n)}function nY(t,e,n,r=["v1"]){return Wn(this,void 0,void 0,function*(){const s=uj(e),i=yield crypto.subtle.exportKey("raw",t),o=ZQ(i),a=tY("v1/associate/local",n);return a.searchParams.set("association",JQ(o)),a.searchParams.set("port",`${s}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}function rY(t,e){return Wn(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return GQ(n,r,e)})}function sY(t,e){return Wn(this,void 0,void 0,function*(){const n=yield lj(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new oj(r.id,r.error.code,r.error.message);return r})}function iY(t,e,n){return Wn(this,void 0,void 0,function*(){const[r,s]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,aj),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},n,256),o=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function oY(t,e){return Wn(this,void 0,void 0,function*(){const n=yield lj(t,e),r=JSON.parse(n);let s="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new Jo(Xo.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:s}})}const Fy={Firefox:0,Other:1};function aY(){return navigator.userAgent.indexOf("Firefox/")!==-1?Fy.Firefox:Fy.Other}function lY(){return new Promise((t,e)=>{function n(){clearTimeout(s),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const s=setTimeout(()=>{n(),e()},3e3)})}let cf=null;function cY(t){cf==null&&(cf=document.createElement("iframe"),cf.style.display="none",document.body.appendChild(cf)),cf.contentWindow.location.href=t.toString()}function uY(t){return Wn(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=aY();switch(e){case Fy.Firefox:cY(t);break;case Fy.Other:{const n=lY();window.location.assign(t),yield n;break}default:}}catch{throw new Jo(Xo.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function dY(t,e){return Wn(this,void 0,void 0,function*(){const n=XQ(),r=yield nY(t,n,e);return yield uY(r),n})}const I2={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},hY="com.solana.mobilewalletadapter.v1";function fY(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Jo(Xo.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function pY(t){let e;try{e=new URL(t)}catch{throw new Jo(Xo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new Jo(Xo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function A2(t){return new DataView(t).getUint32(0,!1)}function mY(t,e){return Wn(this,void 0,void 0,function*(){fY();const n=yield YQ(),s=`ws://localhost:${yield dY(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let i;const o=(()=>{const u=[...I2.retryDelayScheduleMs];return()=>u.length>1?u.shift():u[0]})();let a=1,l=0,c={__type:"disconnected"};return new Promise((u,f)=>{let p;const m={},v=()=>Wn(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}p.removeEventListener("open",v);const{associationKeypair:D}=c,F=yield Ex();p.send(yield _x(F.publicKey,D.privateKey)),c={__type:"hello_req_sent",associationPublicKey:D.publicKey,ecdhPrivateKey:F.privateKey}}),g=D=>{D.wasClean?c={__type:"disconnected"}:f(new Jo(Xo.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${D.code}: ${D.reason}).`,{closeEvent:D})),b()},w=D=>Wn(this,void 0,void 0,function*(){b(),Date.now()-i>=I2.timeoutMs?f(new Jo(Xo.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(F=>{const R=o();x=window.setTimeout(F,R)}),T())}),_=D=>Wn(this,void 0,void 0,function*(){const F=yield D.data.arrayBuffer();switch(c.__type){case"connecting":if(F.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const R=yield Ex();p.send(yield _x(R.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:R.privateKey};break;case"connected":try{const M=F.slice(0,cc),U=A2(M);if(U!==l+1)throw new Error("Encrypted message has invalid sequence number");l=U;const W=yield sY(F,c.sharedSecret),$=m[W.id];delete m[W.id],$.resolve(W.result)}catch(M){if(M instanceof oj){const U=m[M.jsonRpcMessageId];delete m[M.jsonRpcMessageId],U.reject(M)}else throw M}break;case"hello_req_sent":{if(F.byteLength===0){const q=yield Ex();p.send(yield _x(q.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:q.privateKey};break}const M=yield iY(F,c.associationPublicKey,c.ecdhPrivateKey),U=F.slice(aj),W=U.byteLength!==0?yield Wn(this,void 0,void 0,function*(){const q=U.slice(0,cc),C=A2(q);if(C!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=C,oY(U,M)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:M,sessionProperties:W};const $=WQ(W.protocol_version,(q,C)=>Wn(this,void 0,void 0,function*(){const y=a++;return p.send(yield rY({id:y,jsonrpc:"2.0",method:q,params:C??{}},M)),new Promise((I,O)=>{m[y]={resolve(z){switch(q){case"authorize":case"reauthorize":{const{wallet_uri_base:L}=z;if(L!=null)try{pY(L)}catch(j){O(j);return}break}}I(z)},reject:O}})}));try{u(yield t($))}catch(q){f(q)}finally{b(),p.close()}break}}});let b,x;const T=()=>{b&&b(),c={__type:"connecting",associationKeypair:n},i===void 0&&(i=Date.now()),p=new WebSocket(s,[hY]),p.addEventListener("open",v),p.addEventListener("close",g),p.addEventListener("error",w),p.addEventListener("message",_),b=()=>{window.clearTimeout(x),p.removeEventListener("open",v),p.removeEventListener("close",g),p.removeEventListener("error",w),p.removeEventListener("message",_)}};T()})})}function gY(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var v=0,g=0,w=0,_=m.length;w!==_&&m[w]===0;)w++,v++;for(var b=(_-w)*c+1>>>0,x=new Uint8Array(b);w!==_;){for(var T=m[w],D=0,F=b-1;(T!==0||D<g)&&F!==-1;F--,D++)T+=256*x[F]>>>0,x[F]=T%o>>>0,T=T/o>>>0;if(T!==0)throw new Error("Non-zero carry");g=D,w++}for(var R=b-g;R!==b&&x[R]===0;)R++;for(var M=a.repeat(v);R<b;++R)M+=t.charAt(x[R]);return M}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var v=0,g=0,w=0;m[v]===a;)g++,v++;for(var _=(m.length-v)*l+1>>>0,b=new Uint8Array(_);m[v];){var x=m.charCodeAt(v);if(x>255)return;var T=e[x];if(T===255)return;for(var D=0,F=_-1;(T!==0||D<w)&&F!==-1;F--,D++)T+=o*b[F]>>>0,b[F]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");w=D,v++}for(var R=_-w;R!==_&&b[R]===0;)R++;for(var M=new Uint8Array(g+(_-R)),U=g;R!==_;)M[U++]=b[R++];return M}function p(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:p}}var yY=gY;const wY=yY,vY="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var xY=wY(vY);const _Y=oa(xY);function Sx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function u0(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function dj(t){return window.btoa(String.fromCharCode.call(null,...t))}function Tx(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function C2(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return dj(e)}function bY(t){const n=t[0]*Ap+1;return sv.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?gi.from(t):bl.deserialize(t)}function EY(t,e){return u0(this,void 0,void 0,function*(){return yield mY(r=>t(SY(r)),e)})}function SY(t){return new Proxy({},{get(e,n){if(e[n]==null)switch(n){case"signAndSendTransactions":e[n]=function(r){var{minContextSlot:s,commitment:i,skipPreflight:o,maxRetries:a,waitForCommitmentToSendNextTransaction:l,transactions:c}=r,u=Sx(r,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return u0(this,void 0,void 0,function*(){const f=c.map(C2),p={min_context_slot:s,commitment:i,skip_preflight:o,max_retries:a,wait_for_commitment_to_send_next_transaction:l},{signatures:m}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},u),Object.values(p).some(g=>g!=null)?{options:p}:null),{payloads:f}));return m.map(Tx).map(_Y.encode)})};break;case"signMessages":e[n]=function(r){var{payloads:s}=r,i=Sx(r,["payloads"]);return u0(this,void 0,void 0,function*(){const o=s.map(dj),{signed_payloads:a}=yield t.signMessages(Object.assign(Object.assign({},i),{payloads:o}));return a.map(Tx)})};break;case"signTransactions":e[n]=function(r){var{transactions:s}=r,i=Sx(r,["transactions"]);return u0(this,void 0,void 0,function*(){const o=s.map(C2),{signed_payloads:a}=yield t.signTransactions(Object.assign(Object.assign({},i),{payloads:o}));return a.map(Tx).map(bY)})};break;default:{e[n]=t[n];break}}return e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}function TY(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var v=0,g=0,w=0,_=m.length;w!==_&&m[w]===0;)w++,v++;for(var b=(_-w)*c+1>>>0,x=new Uint8Array(b);w!==_;){for(var T=m[w],D=0,F=b-1;(T!==0||D<g)&&F!==-1;F--,D++)T+=256*x[F]>>>0,x[F]=T%o>>>0,T=T/o>>>0;if(T!==0)throw new Error("Non-zero carry");g=D,w++}for(var R=b-g;R!==b&&x[R]===0;)R++;for(var M=a.repeat(v);R<b;++R)M+=t.charAt(x[R]);return M}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var v=0,g=0,w=0;m[v]===a;)g++,v++;for(var _=(m.length-v)*l+1>>>0,b=new Uint8Array(_);m[v];){var x=m.charCodeAt(v);if(x>255)return;var T=e[x];if(T===255)return;for(var D=0,F=_-1;(T!==0||D<w)&&F!==-1;F--,D++)T+=o*b[F]>>>0,b[F]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");w=D,v++}for(var R=_-w;R!==_&&b[R]===0;)R++;for(var M=new Uint8Array(g+(_-R)),U=g;R!==_;)M[U++]=b[R++];return M}function p(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:p}}var IY=TY;const AY=IY,CY="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var NY=AY(CY);const N2=oa(NY);function cn(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function fe(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Vn(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Sf,Qn,Gl,ju,hj,fj,pj,d0;const kY=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,MY=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,RY=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class PY{constructor(){Sf.add(this),Qn.set(this,null),Gl.set(this,{}),ju.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),fe(this,Sf,"m",fj).call(this),fe(this,Qn,"f")&&(fe(this,Qn,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),fe(this,Sf,"m",pj).call(this),fe(this,Qn,"f")&&(fe(this,Qn,"f").style.display="none"),(n=fe(this,Gl,"f").close)===null||n===void 0||n.forEach(r=>r(e))},d0.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),Vn(this,Qn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return cn(this,void 0,void 0,function*(){console.log("Injecting modal"),fe(this,Sf,"m",hj).call(this)})}addEventListener(e,n){var r;return!((r=fe(this,Gl,"f")[e])===null||r===void 0)&&r.push(n)||(fe(this,Gl,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;fe(this,Gl,"f")[e]=(r=fe(this,Gl,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)}}Qn=new WeakMap,Gl=new WeakMap,ju=new WeakMap,d0=new WeakMap,Sf=new WeakSet,hj=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){fe(this,Qn,"f")||Vn(this,Qn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Vn(this,Qn,document.createElement("div")),fe(this,Qn,"f").id="mobile-wallet-adapter-embedded-root-ui",fe(this,Qn,"f").innerHTML=kY,fe(this,Qn,"f").style.display="none";const e=fe(this,Qn,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=MY+this.contentStyles;const r=document.createElement("div");r.innerHTML=RY,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(fe(this,Qn,"f")),document.body.appendChild(r)},fj=function(){if(!fe(this,Qn,"f")||fe(this,ju,"f"))return;[...fe(this,Qn,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",fe(this,d0,"f")),Vn(this,ju,!0)},pj=function(){if(!fe(this,ju,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",fe(this,d0,"f")),!fe(this,Qn,"f")))return;[...fe(this,Qn,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),Vn(this,ju,!1)};const OY="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function LY(t){return"version"in t}function DY(t){return window.btoa(String.fromCharCode.call(null,...t))}function Pg(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var Bu,uc,Ob,Lb,Db,jb,Tf,Qr,wo,Ea,Fu,Uu,h0,If,f0,Bb,p0,mj,Fb,m0,Vu,Ub,Af,g0,zu,Cf,y0,Vb,zb,w0,Wb,$b,Hb,v0;const jY="Mobile Wallet Adapter",BY=64,FY=[ts,xn,Mo,Nc];class UY{constructor(e){Bu.add(this),uc.set(this,{}),Ob.set(this,"1.0.0"),Lb.set(this,jY),Db.set(this,"https://solanamobile.com/wallets"),jb.set(this,OY),Tf.set(this,void 0),Qr.set(this,void 0),wo.set(this,void 0),Ea.set(this,!1),Fu.set(this,0),Uu.set(this,[]),h0.set(this,void 0),If.set(this,void 0),f0.set(this,void 0),Bb.set(this,(n,r)=>{var s;return!((s=fe(this,uc,"f")[n])===null||s===void 0)&&s.push(r)||(fe(this,uc,"f")[n]=[r]),()=>fe(this,Bu,"m",mj).call(this,n,r)}),Fb.set(this,({silent:n}={})=>cn(this,void 0,void 0,function*(){if(fe(this,Ea,"f")||this.connected)return{accounts:this.accounts};Vn(this,Ea,!0);try{if(n){const r=yield fe(this,wo,"f").get();if(r)yield fe(this,Vu,"f").call(this,r);else return{accounts:this.accounts}}else yield fe(this,m0,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Vn(this,Ea,!1)}return{accounts:this.accounts}})),m0.set(this,n=>cn(this,void 0,void 0,function*(){try{const r=yield fe(this,wo,"f").get();if(r)return fe(this,Vu,"f").call(this,r),r;const s=yield fe(this,h0,"f").select(fe(this,Uu,"f"));return yield fe(this,zu,"f").call(this,i=>cn(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([i.getCapabilities(),i.authorize({chain:s,identity:fe(this,Tf,"f"),sign_in_payload:n})]),l=fe(this,y0,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:s});return Promise.all([fe(this,Ub,"f").call(this,o),fe(this,wo,"f").set(c),fe(this,Vu,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Vu.set(this,n=>cn(this,void 0,void 0,function*(){var r;const s=fe(this,Qr,"f")==null||((r=fe(this,Qr,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||fe(this,Qr,"f").accounts.some((i,o)=>i.address!==n.accounts[o].address);Vn(this,Qr,n),s&&fe(this,Bu,"m",p0).call(this,"change",{accounts:this.accounts})})),Ub.set(this,n=>cn(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),s=n.supports_sign_and_send_transactions,i=ts in this.features!==s||xn in this.features!==r;Vn(this,If,Object.assign(Object.assign({},(s||!s&&!r)&&{[ts]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:fe(this,w0,"f")}}),r&&{[xn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:fe(this,Wb,"f")}})),i&&fe(this,Bu,"m",p0).call(this,"change",{features:this.features})})),Af.set(this,(n,r,s)=>cn(this,void 0,void 0,function*(){try{const i=yield n.authorize({auth_token:r,identity:fe(this,Tf,"f"),chain:s}),o=fe(this,y0,"f").call(this,i.accounts),a=Object.assign(Object.assign({},i),{accounts:o,chain:s});Promise.all([fe(this,wo,"f").set(a),fe(this,Vu,"f").call(this,a)])}catch(i){throw fe(this,g0,"f").call(this),new Error(i instanceof Error&&i.message||"Unknown error")}})),g0.set(this,()=>cn(this,void 0,void 0,function*(){var n;fe(this,wo,"f").clear(),Vn(this,Ea,!1),Vn(this,Fu,(n=fe(this,Fu,"f"),n++,n)),Vn(this,Qr,void 0),fe(this,Bu,"m",p0).call(this,"change",{accounts:this.accounts})})),zu.set(this,n=>cn(this,void 0,void 0,function*(){var r;const s=(r=fe(this,Qr,"f"))===null||r===void 0?void 0:r.wallet_uri_base,i=s?{baseUri:s}:void 0,o=fe(this,Fu,"f");try{return yield EY(n,i)}catch(a){throw fe(this,Fu,"f")!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield fe(this,f0,"f").call(this,this)),a}})),Cf.set(this,()=>{if(!fe(this,Qr,"f"))throw new Error("Wallet not connected");return{authToken:fe(this,Qr,"f").auth_token,chain:fe(this,Qr,"f").chain}}),y0.set(this,n=>n.map(r=>{var s,i;const o=Pg(r.address);return{address:N2.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(s=r.chains)!==null&&s!==void 0?s:fe(this,Uu,"f"),features:(i=r.features)!==null&&i!==void 0?i:FY}})),Vb.set(this,n=>cn(this,void 0,void 0,function*(){const{authToken:r,chain:s}=fe(this,Cf,"f").call(this);try{return yield fe(this,zu,"f").call(this,i=>cn(this,void 0,void 0,function*(){return yield fe(this,Af,"f").call(this,i,r,s),yield i.signTransactions({transactions:n})}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),zb.set(this,(n,r)=>cn(this,void 0,void 0,function*(){const{authToken:s,chain:i}=fe(this,Cf,"f").call(this);try{return yield fe(this,zu,"f").call(this,o=>cn(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([o.getCapabilities(),fe(this,Af,"f").call(this,o,s,i)]);if(a.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),w0.set(this,(...n)=>cn(this,void 0,void 0,function*(){const r=[];for(const s of n){const i=bl.deserialize(s.transaction),o=yield fe(this,zb,"f").call(this,i,s.options);r.push({signature:N2.decode(o)})}return r})),Wb.set(this,(...n)=>cn(this,void 0,void 0,function*(){const r=n.map(({transaction:i})=>bl.deserialize(i));return(yield fe(this,Vb,"f").call(this,r)).map(i=>({signedTransaction:LY(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),$b.set(this,(...n)=>cn(this,void 0,void 0,function*(){const{authToken:r,chain:s}=fe(this,Cf,"f").call(this),i=n.map(({account:a})=>DY(a.publicKey)),o=n.map(({message:a})=>a);try{return yield fe(this,zu,"f").call(this,a=>cn(this,void 0,void 0,function*(){return yield fe(this,Af,"f").call(this,a,r,s),(yield a.signMessages({addresses:i,payloads:o})).map(c=>({signedMessage:c,signature:c.slice(-BY)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Hb.set(this,(...n)=>cn(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const s of n)r.push(yield fe(this,v0,"f").call(this,s));else return[yield fe(this,v0,"f").call(this,n[0])];return r})),v0.set(this,n=>cn(this,void 0,void 0,function*(){var r,s;Vn(this,Ea,!0);try{const i=yield fe(this,m0,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=i.sign_in_result.address;return{account:Object.assign(Object.assign({},(s=i.accounts.find(l=>l.address==o))!==null&&s!==void 0?s:{address:o}),{publicKey:Pg(o)}),signedMessage:Pg(i.sign_in_result.signed_message),signature:Pg(i.sign_in_result.signature)}}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}finally{Vn(this,Ea,!1)}})),Vn(this,wo,e.authorizationCache),Vn(this,Tf,e.appIdentity),Vn(this,Uu,e.chains),Vn(this,h0,e.chainSelector),Vn(this,f0,e.onWalletNotFound),Vn(this,If,{[ts]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:fe(this,w0,"f")}})}get version(){return fe(this,Ob,"f")}get name(){return fe(this,Lb,"f")}get url(){return fe(this,Db,"f")}get icon(){return fe(this,jb,"f")}get chains(){return fe(this,Uu,"f")}get features(){return Object.assign({[cv]:{version:"1.0.0",connect:fe(this,Fb,"f")},[Dy]:{version:"1.0.0",disconnect:fe(this,g0,"f")},[uv]:{version:"1.0.0",on:fe(this,Bb,"f")},[Mo]:{version:"1.0.0",signMessage:fe(this,$b,"f")},[Nc]:{version:"1.0.0",signIn:fe(this,Hb,"f")}},fe(this,If,"f"))}get accounts(){var e,n;return(n=(e=fe(this,Qr,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!fe(this,Qr,"f")}get isAuthorized(){return!!fe(this,Qr,"f")}get currentAuthorization(){return fe(this,Qr,"f")}get cachedAuthorizationResult(){return fe(this,wo,"f").get()}}uc=new WeakMap,Ob=new WeakMap,Lb=new WeakMap,Db=new WeakMap,jb=new WeakMap,Tf=new WeakMap,Qr=new WeakMap,wo=new WeakMap,Ea=new WeakMap,Fu=new WeakMap,Uu=new WeakMap,h0=new WeakMap,If=new WeakMap,f0=new WeakMap,Bb=new WeakMap,Fb=new WeakMap,m0=new WeakMap,Vu=new WeakMap,Ub=new WeakMap,Af=new WeakMap,g0=new WeakMap,zu=new WeakMap,Cf=new WeakMap,y0=new WeakMap,Vb=new WeakMap,zb=new WeakMap,w0=new WeakMap,Wb=new WeakMap,$b=new WeakMap,Hb=new WeakMap,v0=new WeakMap,Bu=new WeakSet,p0=function(e,...n){var r;(r=fe(this,uc,"f")[e])===null||r===void 0||r.forEach(s=>s.apply(null,n))},mj=function(e,n){var r;fe(this,uc,"f")[e]=(r=fe(this,uc,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)};const VY="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",zY="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class WY extends PY{constructor(){super(...arguments),this.contentStyles=HY,this.contentHtml=$Y}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const s=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),i=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(s){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":s.innerHTML=VY,i&&i.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":s.innerHTML=zY,i&&(i.style.display="none");return}s.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const $Y=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,HY=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function qY(){return cn(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new WY;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const Ix="SolanaMobileWalletAdapterDefaultAuthorizationCache";function KY(){let t;try{t=window.localStorage}catch{}return{clear(){return cn(this,void 0,void 0,function*(){if(t)try{t.removeItem(Ix)}catch{}})},get(){return cn(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(Ix));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):new Oe(r.address).toBytes()}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return cn(this,void 0,void 0,function*(){if(t)try{t.setItem(Ix,JSON.stringify(e))}catch{}})}}}function GY(){return{select(t){return cn(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(Rp)?Rp:t[0]})}}}function Qt(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Fe(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Es(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const qb="standard:connect",QY="standard:disconnect",YY="standard:events";function Ax(t){return window.btoa(String.fromCharCode.call(null,...t))}function ZY(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var er,wn,Ra,Ro,x0,So,Ql,Kb,Gb,gj,Uy,_0,Ca;const b0="Mobile Wallet Adapter",XY=64;function JY(t){return"version"in t}function yj(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class eZ extends $G{constructor(e,n){super(),er.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),wn.set(this,void 0),Ra.set(this,!1),Ro.set(this,ZY()?Xe.Loadable:Xe.Unsupported),x0.set(this,void 0),So.set(this,void 0),Ql.set(this,void 0),Kb.set(this,r=>Qt(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){Fe(this,er,"m",gj).call(this);const s=yield Fe(this,x0,"f").call(this,r.accounts);s!==Fe(this,So,"f")&&(Es(this,So,s),Es(this,Ql,void 0),this.emit("connect",this.publicKey))}})),Es(this,x0,r=>Qt(this,void 0,void 0,function*(){var s;const i=yield n.addressSelector.select(r.map(({publicKey:o})=>Ax(o)));return(s=r.find(({publicKey:o})=>Ax(o)===i))!==null&&s!==void 0?s:r[0]})),Es(this,wn,e),Fe(this,wn,"f").features[YY].on("change",Fe(this,Kb,"f")),this.name=Fe(this,wn,"f").name,this.icon=Fe(this,wn,"f").icon,this.url=Fe(this,wn,"f").url}get publicKey(){var e;if(!Fe(this,Ql,"f")&&Fe(this,So,"f"))try{Es(this,Ql,new Oe(Fe(this,So,"f").publicKey),"f")}catch(n){throw new El(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=Fe(this,Ql,"f"))!==null&&e!==void 0?e:null}get connected(){return Fe(this,wn,"f").connected}get connecting(){return Fe(this,Ra,"f")}get readyState(){return Fe(this,Ro,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Qt(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Qt(this,void 0,void 0,function*(){Fe(this,er,"m",Gb).call(this,!0)})}connect(){return Qt(this,void 0,void 0,function*(){Fe(this,er,"m",Gb).call(this)})}performAuthorization(e){return Qt(this,void 0,void 0,function*(){try{const n=yield Fe(this,wn,"f").cachedAuthorizationResult;return n?(yield Fe(this,wn,"f").features[qb].connect({silent:!0}),n):(e?yield Fe(this,wn,"f").features[Nc].signIn(e):yield Fe(this,wn,"f").features[qb].connect(),yield yield Fe(this,wn,"f").cachedAuthorizationResult)}catch(n){throw new Zo(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return Qt(this,void 0,void 0,function*(){return yield Fe(this,er,"m",Ca).call(this,()=>Qt(this,void 0,void 0,function*(){Es(this,Ra,!1),Es(this,Ql,void 0),Es(this,So,void 0),yield Fe(this,wn,"f").features[QY].disconnect(),this.emit("disconnect")}))})}signIn(e){return Qt(this,void 0,void 0,function*(){return Fe(this,er,"m",Ca).call(this,()=>Qt(this,void 0,void 0,function*(){var n;if(Fe(this,Ro,"f")!==Xe.Installed&&Fe(this,Ro,"f")!==Xe.Loadable)throw new Yo;Es(this,Ra,!0);try{const r=yield Fe(this,wn,"f").features[Nc].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new Zo(r instanceof Error&&r.message||"Unknown error",r)}finally{Es(this,Ra,!1)}}))})}signMessage(e){return Qt(this,void 0,void 0,function*(){return yield Fe(this,er,"m",Ca).call(this,()=>Qt(this,void 0,void 0,function*(){const n=Fe(this,er,"m",Uy).call(this);try{return(yield Fe(this,wn,"f").features[Mo].signMessage({account:n,message:e}))[0].signature}catch(r){throw new vm(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return Qt(this,void 0,void 0,function*(){return yield Fe(this,er,"m",Ca).call(this,()=>Qt(this,void 0,void 0,function*(){const s=Fe(this,er,"m",Uy).call(this);try{let i=function(){let o;switch(n.commitment){case"confirmed":case"finalized":case"processed":o=n.commitment;break;default:o="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=o;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(o==="finalized"?2:o==="confirmed"?1:0)?a:o};if(ts in Fe(this,wn,"f").features){const o=yj(Fe(this,wn,"f").currentAuthorization.chain),[a]=(yield Fe(this,wn,"f").features[ts].signAndSendTransaction({account:s,transaction:e.serialize(),chain:o,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(l=>Ax(l.signature));return a}else{const[o]=yield Fe(this,er,"m",_0).call(this,[e]);if(JY(o))return yield n.sendTransaction(o);{const a=o.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:i()}))}}}catch(i){throw new Ui(i==null?void 0:i.message,i)}}))})}signTransaction(e){return Qt(this,void 0,void 0,function*(){return yield Fe(this,er,"m",Ca).call(this,()=>Qt(this,void 0,void 0,function*(){const[n]=yield Fe(this,er,"m",_0).call(this,[e]);return n}))})}signAllTransactions(e){return Qt(this,void 0,void 0,function*(){return yield Fe(this,er,"m",Ca).call(this,()=>Qt(this,void 0,void 0,function*(){return yield Fe(this,er,"m",_0).call(this,e)}))})}}wn=new WeakMap,Ra=new WeakMap,Ro=new WeakMap,x0=new WeakMap,So=new WeakMap,Ql=new WeakMap,Kb=new WeakMap,er=new WeakSet,Gb=function(e=!1){return Qt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Fe(this,er,"m",Ca).call(this,()=>Qt(this,void 0,void 0,function*(){if(Fe(this,Ro,"f")!==Xe.Installed&&Fe(this,Ro,"f")!==Xe.Loadable)throw new Yo;Es(this,Ra,!0);try{yield Fe(this,wn,"f").features[qb].connect({silent:e})}catch(n){throw new Zo(n instanceof Error&&n.message||"Unknown error",n)}finally{Es(this,Ra,!1)}}))})},gj=function(){Fe(this,Ro,"f")!==Xe.Installed&&this.emit("readyStateChange",Es(this,Ro,Xe.Installed))},Uy=function(){if(!Fe(this,wn,"f").isAuthorized||!Fe(this,So,"f"))throw new Zt;return Fe(this,So,"f")},_0=function(e){return Qt(this,void 0,void 0,function*(){const n=Fe(this,er,"m",Uy).call(this);try{if(xn in Fe(this,wn,"f").features)return Fe(this,wn,"f").features[xn].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(s=>{const i=s.signedTransaction,a=i[0]*XY+1;return sv.deserializeMessageVersion(i.slice(a,i.length))==="legacy"?gi.from(i):bl.deserialize(i)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new ms(r==null?void 0:r.message,r)}})},Ca=function(e){return Qt(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class tZ extends eZ{constructor(e){var n;const r=yj((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new UY({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Qt(this,void 0,void 0,function*(){const s=yield e.authorizationResultCache.get();return s&&"chain"in s?s:s?Object.assign(Object.assign({},s),{chain:r}):void 0}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:GY(),onWalletNotFound:()=>Qt(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class nZ extends tZ{}function rZ(){return{select(t){return Qt(this,void 0,void 0,function*(){return t[0]})}}}function sZ(){return KY()}function iZ(t){return Qt(this,void 0,void 0,function*(){return qY()})}function oZ(){return iZ}var aZ=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},lZ=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},E0;function cZ(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new uZ(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class uZ extends Event{get detail(){return aZ(this,E0,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),E0.set(this,void 0),lZ(this,E0,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}E0=new WeakMap;function dZ(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function hZ(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const u=t.charAt(c),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=c}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let u=0,f=0,p=0;const m=c.length;for(;p!==m&&c[p]===0;)p++,u++;const v=(m-p)*i+1>>>0,g=new Uint8Array(v);for(;p!==m;){let b=c[p],x=0;for(let T=v-1;(b!==0||x<f)&&T!==-1;T--,x++)b+=256*g[T]>>>0,g[T]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");f=x,p++}let w=v-f;for(;w!==v&&g[w]===0;)w++;let _=r.repeat(u);for(;w<v;++w)_+=t.charAt(g[w]);return _}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let u=0,f=0,p=0;for(;c[u]===r;)f++,u++;const m=(c.length-u)*s+1>>>0,v=new Uint8Array(m);for(;u<c.length;){const b=c.charCodeAt(u);if(b>255)return;let x=e[b];if(x===255)return;let T=0;for(let D=m-1;(x!==0||T<p)&&D!==-1;D--,T++)x+=n*v[D]>>>0,v[D]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");p=T,u++}let g=m-p;for(;g!==m&&v[g]===0;)g++;const w=new Uint8Array(f+(m-g));let _=f;for(;g!==m;)w[_++]=v[g++];return w}function l(c){const u=a(c);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var fZ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const pZ=hZ(fZ);var ke=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},zn=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},mr,us,dc,hc,Yl,Nf,Vy,xt,zy,Qb,S0,Yb,Yf,Zb,k2,M2,R2,P2;class mZ extends BD{get name(){return ke(this,xt,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return ke(this,xt,"f").icon}get readyState(){return ke(this,zy,"f")}get publicKey(){return ke(this,dc,"f")}get connecting(){return ke(this,hc,"f")}get supportedTransactionVersions(){return ke(this,Vy,"f")}get wallet(){return ke(this,xt,"f")}get standard(){return!0}constructor({wallet:e}){super(),mr.add(this),us.set(this,void 0),dc.set(this,void 0),hc.set(this,void 0),Yl.set(this,void 0),Nf.set(this,void 0),Vy.set(this,void 0),xt.set(this,void 0),zy.set(this,typeof window>"u"||typeof document>"u"?Xe.Unsupported:Xe.Installed),Zb.set(this,n=>{if("accounts"in n){const r=ke(this,xt,"f").accounts[0];ke(this,us,"f")&&!ke(this,Yl,"f")&&r!==ke(this,us,"f")&&(r?ke(this,mr,"m",S0).call(this,r):(this.emit("error",new av),ke(this,mr,"m",Yb).call(this)))}"features"in n&&ke(this,mr,"m",Yf).call(this)}),zn(this,xt,e,"f"),zn(this,us,null,"f"),zn(this,dc,null,"f"),zn(this,hc,!1,"f"),zn(this,Yl,!1,"f"),zn(this,Nf,ke(this,xt,"f").features[uv].on("change",ke(this,Zb,"f")),"f"),ke(this,mr,"m",Yf).call(this)}destroy(){zn(this,us,null,"f"),zn(this,dc,null,"f"),zn(this,hc,!1,"f"),zn(this,Yl,!1,"f");const e=ke(this,Nf,"f");e&&(zn(this,Nf,null,"f"),e())}async autoConnect(){return ke(this,mr,"m",Qb).call(this,{silent:!0})}async connect(){return ke(this,mr,"m",Qb).call(this)}async disconnect(){if(Dy in ke(this,xt,"f").features)try{zn(this,Yl,!0,"f"),await ke(this,xt,"f").features[Dy].disconnect()}catch(e){this.emit("error",new wm(e==null?void 0:e.message,e))}finally{zn(this,Yl,!1,"f")}ke(this,mr,"m",Yb).call(this)}async sendTransaction(e,n,r={}){try{const s=ke(this,us,"f");if(!s)throw new Zt;let i;if(ts in ke(this,xt,"f").features)if(s.features.includes(ts))i=ts;else if(xn in ke(this,xt,"f").features&&s.features.includes(xn))i=xn;else throw new Xa;else if(xn in ke(this,xt,"f").features){if(!s.features.includes(xn))throw new Xa;i=xn}else throw new lc;const o=jQ(n.rpcEndpoint);if(!s.chains.includes(o))throw new Ui;try{const{signers:a,...l}=r;let c;if(Vi(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===ts){const[u]=await ke(this,xt,"f").features[ts].signAndSendTransaction({account:s,chain:o,transaction:c,options:{preflightCommitment:xx(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return pZ.encode(u.signature)}else{const[u]=await ke(this,xt,"f").features[xn].signTransaction({account:s,chain:o,transaction:c,options:{preflightCommitment:xx(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(u.signedTransaction,{...l,preflightCommitment:xx(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof Jn?a:new Ui(a==null?void 0:a.message,a)}}catch(s){throw this.emit("error",s),s}}}us=new WeakMap,dc=new WeakMap,hc=new WeakMap,Yl=new WeakMap,Nf=new WeakMap,Vy=new WeakMap,xt=new WeakMap,zy=new WeakMap,Zb=new WeakMap,mr=new WeakSet,Qb=async function(e){try{if(this.connected||this.connecting)return;if(ke(this,zy,"f")!==Xe.Installed)throw new Yo;if(zn(this,hc,!0,"f"),!ke(this,xt,"f").accounts.length)try{await ke(this,xt,"f").features[cv].connect(e)}catch(r){throw new Zo(r==null?void 0:r.message,r)}const n=ke(this,xt,"f").accounts[0];if(!n)throw new Xa;ke(this,mr,"m",S0).call(this,n)}catch(n){throw this.emit("error",n),n}finally{zn(this,hc,!1,"f")}},S0=function(e){let n;try{n=new Oe(e.address)}catch(r){throw new El(r==null?void 0:r.message,r)}zn(this,us,e,"f"),zn(this,dc,n,"f"),ke(this,mr,"m",Yf).call(this),this.emit("connect",n)},Yb=function(){zn(this,us,null,"f"),zn(this,dc,null,"f"),ke(this,mr,"m",Yf).call(this),this.emit("disconnect")},Yf=function(){var n,r;const e=ts in ke(this,xt,"f").features?ke(this,xt,"f").features[ts].supportedTransactionVersions:ke(this,xt,"f").features[xn].supportedTransactionVersions;zn(this,Vy,dZ(e,["legacy"])?null:new Set(e),"f"),xn in ke(this,xt,"f").features&&((n=ke(this,us,"f"))!=null&&n.features.includes(xn))?(this.signTransaction=ke(this,mr,"m",k2),this.signAllTransactions=ke(this,mr,"m",M2)):(delete this.signTransaction,delete this.signAllTransactions),Mo in ke(this,xt,"f").features&&((r=ke(this,us,"f"))!=null&&r.features.includes(Mo))?this.signMessage=ke(this,mr,"m",R2):delete this.signMessage,Nc in ke(this,xt,"f").features?this.signIn=ke(this,mr,"m",P2):delete this.signIn},k2=async function(e){try{const n=ke(this,us,"f");if(!n)throw new Zt;if(!(xn in ke(this,xt,"f").features))throw new lc;if(!n.features.includes(xn))throw new Xa;try{const s=(await ke(this,xt,"f").features[xn].signTransaction({account:n,transaction:Vi(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Vi(e)?bl.deserialize(s):gi.from(s)}catch(r){throw r instanceof Jn?r:new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},M2=async function(e){try{const n=ke(this,us,"f");if(!n)throw new Zt;if(!(xn in ke(this,xt,"f").features))throw new lc;if(!n.features.includes(xn))throw new Xa;try{const r=await ke(this,xt,"f").features[xn].signTransaction(...e.map(s=>({account:n,transaction:Vi(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((s,i)=>{const o=r[i].signedTransaction;return Vi(s)?bl.deserialize(o):gi.from(o)})}catch(r){throw new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},R2=async function(e){try{const n=ke(this,us,"f");if(!n)throw new Zt;if(!(Mo in ke(this,xt,"f").features))throw new lc;if(!n.features.includes(Mo))throw new Xa;try{return(await ke(this,xt,"f").features[Mo].signMessage({account:n,message:e}))[0].signature}catch(r){throw new vm(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},P2=async function(e={}){try{if(!(Nc in ke(this,xt,"f").features))throw new lc;let n;try{[n]=await ke(this,xt,"f").features[Nc].signIn(e)}catch(r){throw new v2(r==null?void 0:r.message,r)}if(!n)throw new v2;return ke(this,mr,"m",S0).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const gZ=HG;var yZ=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},wZ=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},T0;let Ts;const gv=new Set;function vZ(t){Zf=void 0,gv.add(t)}function xZ(t){Zf=void 0,gv.delete(t)}const id={};function _Z(){if(Ts||(Ts=Object.freeze({register:O2,get:bZ,on:EZ}),typeof window>"u"))return Ts;const t=Object.freeze({register:O2});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new SZ(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Ts}function O2(...t){var e;return t=t.filter(n=>!gv.has(n)),t.length?(t.forEach(n=>vZ(n)),(e=id.register)==null||e.forEach(n=>Xb(()=>n(...t))),function(){var r;t.forEach(s=>xZ(s)),(r=id.unregister)==null||r.forEach(s=>Xb(()=>s(...t)))}):()=>{}}let Zf;function bZ(){return Zf||(Zf=[...gv]),Zf}function EZ(t,e){var n;return(n=id[t])!=null&&n.push(e)||(id[t]=[e]),function(){var s;id[t]=(s=id[t])==null?void 0:s.filter(i=>e!==i)}}function Xb(t){try{t()}catch(e){console.error(e)}}class SZ extends Event{get detail(){return yZ(this,T0,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),T0.set(this,void 0),wZ(this,T0,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}T0=new WeakMap;function TZ(){if(Ts||(Ts=_Z(),typeof window>"u"))return Ts;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),Ts;const{register:e}=Ts,n=(...r)=>r.forEach(s=>Xb(()=>s({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),Ts}return n(...t),Ts}function IZ(t){const e=L2(()=>new Set),{get:n,on:r}=L2(()=>TZ()),[s,i]=k.useState(()=>D2(n()));k.useEffect(()=>{const a=[r("register",(...l)=>i(c=>[...c,...D2(l)])),r("unregister",(...l)=>i(c=>c.filter(u=>l.some(f=>f===u.wallet))))];return()=>a.forEach(l=>l())},[r]);const o=AZ(s);return k.useEffect(()=>{if(!o)return;const a=new Set(s);new Set(o.filter(c=>!a.has(c))).forEach(c=>c.destroy())},[o,s]),k.useEffect(()=>()=>s.forEach(a=>a.destroy()),[]),k.useMemo(()=>[...s,...t.filter(({name:a})=>s.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[s,t,e])}function L2(t){const e=k.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function AZ(t){const e=k.useRef(void 0);return k.useEffect(()=>{e.current=t}),e.current}function D2(t){return t.filter(gZ).map(e=>new mZ({wallet:e}))}var xd;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(xd||(xd={}));function CZ(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function NZ({adapters:t,userAgentString:e}){return t.some(n=>n.name!==b0&&n.readyState===Xe.Installed)?xd.DESKTOP_WEB:e&&/android/i.test(e)&&!CZ(e)?xd.MOBILE_WEB:xd.DESKTOP_WEB}function kZ(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function MZ({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:i,onError:o,onSelectWallet:a}){const l=k.useRef(!1),[c,u]=k.useState(!1),f=k.useRef(!1),[p,m]=k.useState(!1),[v,g]=k.useState(()=>(n==null?void 0:n.publicKey)??null),[w,_]=k.useState(()=>(n==null?void 0:n.connected)??!1),b=k.useRef(o);k.useEffect(()=>(b.current=o,()=>{b.current=void 0}),[o]);const x=k.useRef((I,O)=>(r.current||(b.current?b.current(I,O):(console.error(I,O),I instanceof Yo&&typeof window<"u"&&O&&window.open(O.url,"_blank"))),I)),[T,D]=k.useState(()=>e.map(I=>({adapter:I,readyState:I.readyState})).filter(({readyState:I})=>I!==Xe.Unsupported));k.useEffect(()=>{D(O=>e.map((z,L)=>{const j=O[L];return j&&j.adapter===z&&j.readyState===z.readyState?j:{adapter:z,readyState:z.readyState}}).filter(({readyState:z})=>z!==Xe.Unsupported));function I(O){D(z=>{const L=z.findIndex(({adapter:H})=>H===this);if(L===-1)return z;const{adapter:j}=z[L];return[...z.slice(0,L),{adapter:j,readyState:O},...z.slice(L+1)].filter(({readyState:H})=>H!==Xe.Unsupported)})}return e.forEach(O=>O.on("readyStateChange",I,O)),()=>{e.forEach(O=>O.off("readyStateChange",I,O))}},[n,e]);const F=k.useMemo(()=>T.find(I=>I.adapter===n)??null,[n,T]);k.useEffect(()=>{if(!n)return;const I=L=>{g(L),l.current=!1,u(!1),_(!0),f.current=!1,m(!1)},O=()=>{r.current||(g(null),l.current=!1,u(!1),_(!1),f.current=!1,m(!1))},z=L=>{x.current(L,n)};return n.on("connect",I),n.on("disconnect",O),n.on("error",z),()=>{n.off("connect",I),n.off("disconnect",O),n.off("error",z),O()}},[n,r]);const R=k.useRef(!1);k.useEffect(()=>()=>{R.current=!1},[n]),k.useEffect(()=>{R.current||l.current||w||!s||!((F==null?void 0:F.readyState)===Xe.Installed||(F==null?void 0:F.readyState)===Xe.Loadable)||(l.current=!0,u(!0),R.current=!0,async function(){try{await s()}catch{i()}finally{u(!1),l.current=!1}}())},[w,s,i,F]);const M=k.useCallback(async(I,O,z)=>{if(!n)throw x.current(new x2);if(!w)throw x.current(new Zt,n);return await n.sendTransaction(I,O,z)},[n,w]),U=k.useMemo(()=>n&&"signTransaction"in n?async I=>{if(!w)throw x.current(new Zt,n);return await n.signTransaction(I)}:void 0,[n,w]),W=k.useMemo(()=>n&&"signAllTransactions"in n?async I=>{if(!w)throw x.current(new Zt,n);return await n.signAllTransactions(I)}:void 0,[n,w]),$=k.useMemo(()=>n&&"signMessage"in n?async I=>{if(!w)throw x.current(new Zt,n);return await n.signMessage(I)}:void 0,[n,w]),q=k.useMemo(()=>n&&"signIn"in n?async I=>await n.signIn(I):void 0,[n]),C=k.useCallback(async()=>{if(l.current||f.current||F!=null&&F.adapter.connected)return;if(!F)throw x.current(new x2);const{adapter:I,readyState:O}=F;if(!(O===Xe.Installed||O===Xe.Loadable))throw x.current(new Yo,I);l.current=!0,u(!0);try{await I.connect()}catch(z){throw i(),z}finally{u(!1),l.current=!1}},[i,F]),y=k.useCallback(async()=>{if(!f.current&&n){f.current=!0,m(!0);try{await n.disconnect()}finally{m(!1),f.current=!1}}},[n]);return ce.createElement(VD.Provider,{value:{autoConnect:!!s,wallets:T,wallet:F,publicKey:v,connected:w,connecting:c,disconnecting:p,select:a,connect:C,disconnect:y,sendTransaction:M,signTransaction:U,signAllTransactions:W,signMessage:$,signIn:q}},t)}let Cx;function RZ(){var t;return Cx===void 0&&(Cx=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),Cx}function j2(t){const e=RZ();return NZ({adapters:t,userAgentString:e})===xd.MOBILE_WEB}function PZ(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function OZ({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:s}){const{connection:i}=jD(),o=IZ(e),a=k.useMemo(()=>{if(!j2(o))return null;const b=o.find(x=>x.name===b0);return b||new nZ({addressSelector:rZ(),appIdentity:{uri:PZ()},authorizationResultCache:sZ(),cluster:kZ(i==null?void 0:i.rpcEndpoint),onWalletNotFound:oZ()})},[o,i==null?void 0:i.rpcEndpoint]),l=k.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[c,u]=KG(r,null),f=k.useMemo(()=>l.find(b=>b.name===c)??null,[l,c]),p=k.useCallback(b=>{c!==b&&(f&&f.name!==b0&&f.disconnect(),u(b))},[f,u,c]);k.useEffect(()=>{if(!f)return;function b(){g.current||u(null)}return f.on("disconnect",b),()=>{f.off("disconnect",b)}},[f,o,u,c]);const m=k.useRef(!1),v=k.useMemo(()=>{if(!(!n||!f))return async()=>{(n===!0||await n(f))&&(m.current?await f.connect():await f.autoConnect())}},[n,f]),g=k.useRef(!1);k.useEffect(()=>{if(c===b0&&j2(o)){g.current=!1;return}function b(){g.current=!0}return window.addEventListener("beforeunload",b),()=>{window.removeEventListener("beforeunload",b)}},[o,c]);const w=k.useCallback(()=>{f&&p(null)},[f,p]),_=k.useCallback(b=>{m.current=!0,p(b)},[p]);return ce.createElement(MZ,{wallets:l,adapter:f,isUnloadingRef:g,onAutoConnectRequest:v,onConnectError:w,onError:s,onSelectWallet:_},t)}const wj={setVisible(t){console.error(vj("call","setVisible"))},visible:!1};Object.defineProperty(wj,"visible",{get(){return console.error(vj("read","visible")),!1}});function vj(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const xj=k.createContext(wj);function _j(){return k.useContext(xj)}function LZ({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:s,disconnecting:i,publicKey:o,select:a,wallet:l,wallets:c}=Nh();let u;r?u="connecting":n?u="connected":i?u="disconnecting":l?u="has-wallet":u="no-wallet";const f=k.useCallback(()=>{e().catch(()=>{})},[e]),p=k.useCallback(()=>{s().catch(()=>{})},[s]),m=k.useCallback(()=>{t({onSelectWallet:a,wallets:c})},[t,a,c]);return{buttonState:u,onConnect:u==="has-wallet"?f:void 0,onDisconnect:u!=="disconnecting"&&u!=="no-wallet"?p:void 0,onSelectWallet:m,publicKey:o??void 0,walletIcon:l==null?void 0:l.adapter.icon,walletName:l==null?void 0:l.adapter.name}}const bj=t=>ce.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&ce.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&ce.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),Ej=({wallet:t,...e})=>t&&ce.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function DZ({walletIcon:t,walletName:e,...n}){return ce.createElement(bj,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?ce.createElement(Ej,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function jZ({children:t,labels:e,...n}){const{setVisible:r}=_j(),{buttonState:s,onConnect:i,onDisconnect:o,publicKey:a,walletIcon:l,walletName:c}=LZ({onSelectWallet(){r(!0)}}),[u,f]=k.useState(!1),[p,m]=k.useState(!1),v=k.useRef(null);k.useEffect(()=>{const w=_=>{const b=v.current;!b||b.contains(_.target)||m(!1)};return document.addEventListener("mousedown",w),document.addEventListener("touchstart",w),()=>{document.removeEventListener("mousedown",w),document.removeEventListener("touchstart",w)}},[]);const g=k.useMemo(()=>{if(t)return t;if(a){const w=a.toBase58();return w.slice(0,4)+".."+w.slice(-4)}else return s==="connecting"||s==="has-wallet"?e[s]:e["no-wallet"]},[s,t,e,a]);return ce.createElement("div",{className:"wallet-adapter-dropdown"},ce.createElement(DZ,{...n,"aria-expanded":p,style:{pointerEvents:p?"none":"auto",...n.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":i&&i();break;case"connected":m(!0);break}},walletIcon:l,walletName:c},g),ce.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${p&&"wallet-adapter-dropdown-list-active"}`,ref:v,role:"menu"},a?ce.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),f(!0),setTimeout(()=>f(!1),400)},role:"menuitem"},u?e.copied:e["copy-address"]):null,ce.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),m(!1)},role:"menuitem"},e["change-wallet"]),o?ce.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),m(!1)},role:"menuitem"},e.disconnect):null))}const B2=({id:t,children:e,expanded:n=!1})=>{const r=k.useRef(null),s=k.useRef(!0),i="height 250ms ease-out",o=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return k.useLayoutEffect(()=>{n?o():a()},[n]),k.useLayoutEffect(()=>{const l=r.current;if(!l)return;function c(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function u(f){l&&f.target===l&&f.propertyName==="height"&&c()}return s.current&&(c(),s.current=!1),l.addEventListener("transitionend",u),()=>l.removeEventListener("transitionend",u)},[n]),ce.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:s.current?void 0:i}},e)},Nx=({handleClick:t,tabIndex:e,wallet:n})=>ce.createElement("li",null,ce.createElement(bj,{onClick:t,startIcon:ce.createElement(Ej,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===Xe.Installed&&ce.createElement("span",null,"Detected"))),BZ=()=>ce.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ce.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),ce.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),ce.createElement("g",{clipPath:"url(#clip0_880_5115)"},ce.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),ce.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),ce.createElement("defs",null,ce.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},ce.createElement("stop",{stopColor:"#9945FF"}),ce.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ce.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ce.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ce.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ce.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ce.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},ce.createElement("stop",{stopColor:"#9945FF"}),ce.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ce.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ce.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ce.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ce.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ce.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},ce.createElement("stop",{stopColor:"#9945FF"}),ce.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ce.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ce.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ce.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ce.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ce.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},ce.createElement("stop",{stopColor:"#9945FF"}),ce.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ce.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ce.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ce.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ce.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ce.createElement("clipPath",{id:"clip0_880_5115"},ce.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),FZ=({className:t="",container:e="body"})=>{const n=k.useRef(null),{wallets:r,select:s}=Nh(),{setVisible:i}=_j(),[o,a]=k.useState(!1),[l,c]=k.useState(!1),[u,f]=k.useState(null),[p,m]=k.useMemo(()=>{const x=[],T=[];for(const D of r)D.readyState===Xe.Installed?x.push(D):T.push(D);return x.length?[x,T]:[T,[]]},[r]),v=k.useCallback(()=>{c(!1),setTimeout(()=>i(!1),150)},[i]),g=k.useCallback(x=>{x.preventDefault(),v()},[v]),w=k.useCallback((x,T)=>{s(T),g(x)},[s,g]),_=k.useCallback(()=>a(!o),[o]),b=k.useCallback(x=>{const T=n.current;if(!T)return;const D=T.querySelectorAll("button"),F=D[0],R=D[D.length-1];x.shiftKey?document.activeElement===F&&(R.focus(),x.preventDefault()):document.activeElement===R&&(F.focus(),x.preventDefault())},[n]);return k.useLayoutEffect(()=>{const x=D=>{D.key==="Escape"?v():D.key==="Tab"&&b(D)},{overflow:T}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",x,!1),()=>{document.body.style.overflow=T,window.removeEventListener("keydown",x,!1)}},[v,b]),k.useLayoutEffect(()=>f(document.querySelector(e)),[e]),u&&Rl.createPortal(ce.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},ce.createElement("div",{className:"wallet-adapter-modal-container"},ce.createElement("div",{className:"wallet-adapter-modal-wrapper"},ce.createElement("button",{onClick:g,className:"wallet-adapter-modal-button-close"},ce.createElement("svg",{width:"14",height:"14"},ce.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),p.length?ce.createElement(ce.Fragment,null,ce.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),ce.createElement("ul",{className:"wallet-adapter-modal-list"},p.map(x=>ce.createElement(Nx,{key:x.adapter.name,handleClick:T=>w(T,x.adapter.name),wallet:x})),m.length?ce.createElement(B2,{expanded:o,id:"wallet-adapter-modal-collapse"},m.map(x=>ce.createElement(Nx,{key:x.adapter.name,handleClick:T=>w(T,x.adapter.name),tabIndex:o?0:-1,wallet:x}))):null),m.length?ce.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:_,tabIndex:0},ce.createElement("span",null,o?"Less ":"More ","options"),ce.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},ce.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):ce.createElement(ce.Fragment,null,ce.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),ce.createElement("div",{className:"wallet-adapter-modal-middle"},ce.createElement(BZ,null)),m.length?ce.createElement(ce.Fragment,null,ce.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:_,tabIndex:0},ce.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),ce.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},ce.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),ce.createElement(B2,{expanded:o,id:"wallet-adapter-modal-collapse"},ce.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(x=>ce.createElement(Nx,{key:x.adapter.name,handleClick:T=>w(T,x.adapter.name),tabIndex:o?0:-1,wallet:x}))))):null))),ce.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:g})),u)},UZ=({children:t,...e})=>{const[n,r]=k.useState(!1);return ce.createElement(xj.Provider,{value:{visible:n,setVisible:r}},t,n&&ce.createElement(FZ,{...e}))},VZ={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function Pp(t){return ce.createElement(jZ,{...t,labels:VZ})}const zZ="modulepreload",WZ=function(t){return"/"+t},F2={},yv=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=WZ(l),l in F2)return;F2[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":zZ,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var KT={exports:{}},_d=typeof Reflect=="object"?Reflect:null,U2=_d&&typeof _d.apply=="function"?_d.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},I0;_d&&typeof _d.ownKeys=="function"?I0=_d.ownKeys:Object.getOwnPropertySymbols?I0=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:I0=function(e){return Object.getOwnPropertyNames(e)};function $Z(t){console&&console.warn&&console.warn(t)}var Sj=Number.isNaN||function(e){return e!==e};function Bt(){Bt.init.call(this)}KT.exports=Bt;KT.exports.once=GZ;Bt.EventEmitter=Bt;Bt.prototype._events=void 0;Bt.prototype._eventsCount=0;Bt.prototype._maxListeners=void 0;var V2=10;function wv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Bt,"defaultMaxListeners",{enumerable:!0,get:function(){return V2},set:function(t){if(typeof t!="number"||t<0||Sj(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");V2=t}});Bt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Bt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Sj(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Tj(t){return t._maxListeners===void 0?Bt.defaultMaxListeners:t._maxListeners}Bt.prototype.getMaxListeners=function(){return Tj(this)};Bt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=i[e];if(l===void 0)return!1;if(typeof l=="function")U2(l,this,n);else for(var c=l.length,u=kj(l,c),r=0;r<c;++r)U2(u[r],this,n);return!0};function Ij(t,e,n,r){var s,i,o;if(wv(n),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),o===void 0)o=i[e]=n,++t._eventsCount;else if(typeof o=="function"?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=Tj(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,$Z(a)}return t}Bt.prototype.addListener=function(e,n){return Ij(this,e,n,!1)};Bt.prototype.on=Bt.prototype.addListener;Bt.prototype.prependListener=function(e,n){return Ij(this,e,n,!0)};function HZ(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Aj(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=HZ.bind(r);return s.listener=n,r.wrapFn=s,s}Bt.prototype.once=function(e,n){return wv(n),this.on(e,Aj(this,e,n)),this};Bt.prototype.prependOnceListener=function(e,n){return wv(n),this.prependListener(e,Aj(this,e,n)),this};Bt.prototype.removeListener=function(e,n){var r,s,i,o,a;if(wv(n),s=this._events,s===void 0)return this;if(r=s[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():qZ(r,i),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};Bt.prototype.off=Bt.prototype.removeListener;Bt.prototype.removeAllListeners=function(e){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(e,n[s]);return this};function Cj(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?KZ(s):kj(s,s.length)}Bt.prototype.listeners=function(e){return Cj(this,e,!0)};Bt.prototype.rawListeners=function(e){return Cj(this,e,!1)};Bt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Nj.call(t,e)};Bt.prototype.listenerCount=Nj;function Nj(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Bt.prototype.eventNames=function(){return this._eventsCount>0?I0(this._events):[]};function kj(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function qZ(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function KZ(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function GZ(t,e){return new Promise(function(n,r){function s(o){t.removeListener(e,i),r(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}Mj(t,e,i,{once:!0}),e!=="error"&&QZ(t,s,{once:!0})})}function QZ(t,e,n){typeof t.on=="function"&&Mj(t,"error",e,n)}function Mj(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){r.once&&t.removeEventListener(e,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var YZ=KT.exports;const Zde=oa(YZ),ZZ={},Rj=(t,e)=>{ZZ[t]=e},vv=t=>{class e extends Error{constructor(s,i,o){super(s||t,o);an(this,"cause");if(Object.setPrototypeOf(this,e.prototype),this.name=t,i)for(const a in i)this[a]=i[a];if(o&&XZ(o)&&"cause"in o&&!this.cause){const a=o.cause;this.cause=a,"stack"in a&&(this.stack=this.stack+`
CAUSE: `+a.stack)}}}return e};function XZ(t){return typeof t=="object"}const Xde=vv("DisconnectedDevice"),Jde=vv("DisconnectedDeviceDuringOperation"),ehe=vv("TransportOpenUserCancelled"),the=vv("TransportRaceCondition");var z2;(function(t){t.Unknown="Unknown",t.LocationServicesDisabled="LocationServicesDisabled",t.LocationServicesUnauthorized="LocationServicesUnauthorized",t.BluetoothScanStartFailed="BluetoothScanStartFailed"})(z2||(z2={}));class JZ extends Error{constructor(n,r){const s="TransportError";super(n||s);an(this,"id");this.name=s,this.message=n,this.stack=new Error(n).stack,this.id=r}}Rj("TransportError",t=>new JZ(t.message,t.id));const Xf={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function eX(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}class _m extends Error{constructor(n,{canBeMappedToChildError:r=!0}={}){const s=Object.keys(Xf).find(l=>Xf[l]===n)||"UNKNOWN_ERROR",i=eX(n)||s,o=n.toString(16),a=`Ledger device: ${i} (0x${o})`;super(a);an(this,"statusCode");an(this,"statusText");if(this.name="TransportStatusError",this.statusCode=n,this.statusText=s,Object.setPrototypeOf(this,_m.prototype),r&&n===Xf.LOCKED_DEVICE)return new GT(a)}}class GT extends _m{constructor(e){super(Xf.LOCKED_DEVICE,{canBeMappedToChildError:!1}),e&&(this.message=e),this.name="LockedDeviceError",Object.setPrototypeOf(this,GT.prototype)}}Rj("TransportStatusError",t=>new _m(t.statusCode));let Pj=0;const Na=[],nhe=(t,e,n)=>{const r={type:t,id:String(++Pj),date:new Date};e&&(r.message=e),Oj(r)},tX=({type:t,message:e,data:n,context:r})=>{const s={type:t,id:String(++Pj),date:new Date};e&&(s.message=e),n&&(s.data=n),r&&(s.context=r),Oj(s)};class A0{constructor(e,n){this.type=e,this.context=n}trace(e,n){tX({type:this.type,message:e,data:n,context:this.context})}getContext(){return this.context}setContext(e){this.context=e}updateContext(e){this.context=Object.assign(Object.assign({},this.context),e)}getType(){return this.type}setType(e){this.type=e}withType(e){return new A0(e,this.context)}withContext(e){return new A0(this.type,e)}withUpdatedContext(e){return new A0(this.type,Object.assign(Object.assign({},this.context),e))}}const nX=t=>(Na.push(t),()=>{const e=Na.indexOf(t);e!==-1&&(Na[e]=Na[Na.length-1],Na.pop())});function Oj(t){for(let e=0;e<Na.length;e++)try{Na[e](t)}catch(n){console.error(n)}}typeof window<"u"&&(window.__ledgerLogsListen=nX);function rX(t,e){const r=Buffer.alloc(17);let s=r.writeUInt8(4,0);return s=r.writeUInt32BE(Og(44),s),s=r.writeUInt32BE(Og(501),s),s=r.writeUInt32BE(Og(t),s),r.writeUInt32BE(Og(e),s),r}const sX=1<<31>>>0;function Og(t){return(t|sX)>>>0}const iX=5,oX=6,aX=0,lX=1,cX=1,uX=2,Lg=255,W2=224;async function dX(t,e){const n=await Lj(t,iX,aX,e);return new Oe(n)}async function hX(t,e,n){const r=Buffer.alloc(1);r.writeUInt8(1,0);const s=Vi(e)?e.message.serialize():e.serializeMessage(),i=Buffer.concat([r,n,s]);return await Lj(t,oX,lX,i)}async function Lj(t,e,n,r){let s=0,i=0;if(r.length>Lg)for(;r.length-i>Lg;){const l=r.slice(i,i+Lg);if((await t.send(W2,e,n,s|uX,l)).length!==2)throw new _m(Xf.INCORRECT_DATA);s|=cX,i+=Lg}const o=r.slice(i),a=await t.send(W2,e,n,s,o);return a.slice(0,a.length-2)}const fX="Ledger";class pX extends UD{constructor(e={}){super(),this.name=fX,this.url="https://ledger.com",this.icon="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzUgMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0ibTIzLjU4OCAwaC0xNnYyMS41ODNoMjEuNnYtMTZhNS41ODUgNS41ODUgMCAwIDAgLTUuNi01LjU4M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5KSIvPjxwYXRoIGQ9Im04LjM0MiAwaC0yLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCAtNS41ODUgNS41ODV2Mi43NTdoOC4zNDJ6Ii8+PHBhdGggZD0ibTAgNy41OWg4LjM0MnY4LjM0MmgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUuNzM5KSIvPjxwYXRoIGQ9Im0xNS4xOCAyMy40NTFoMi43NTdhNS41ODUgNS41ODUgMCAwIDAgNS41ODUtNS42di0yLjY3MWgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMS40NzggMTEuNDc4KSIvPjxwYXRoIGQ9Im03LjU5IDE1LjE4aDguMzQydjguMzQyaC04LjM0MnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5IDExLjQ3OCkiLz48cGF0aCBkPSJtMCAxNS4xOHYyLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCA1LjU4NSA1LjU4NWgyLjc1N3YtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDExLjQ3OCkiLz48L2c+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"||typeof navigator>"u"||!navigator.hid?Xe.Unsupported:Xe.Loadable,this._disconnected=()=>{const n=this._transport;n&&(n.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null,this.emit("error",new av),this.emit("disconnect"))},this._derivationPath=e.derivationPath||rX(0,0),this._connecting=!1,this._transport=null,this._publicKey=null}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Xe.Loadable)throw new Yo;this._connecting=!0;let e;try{e=(await yv(async()=>{const{default:s}=await import("./TransportWebHID-CboN0ncs.js");return{default:s}},[])).default}catch(s){throw new VT(s==null?void 0:s.message,s)}let n;try{n=await e.create()}catch(s){throw new Zo(s==null?void 0:s.message,s)}let r;try{r=await dX(n,this._derivationPath)}catch(s){throw new El(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),this._transport=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._transport;if(e){e.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null;try{await e.close()}catch(n){this.emit("error",new wm(n==null?void 0:n.message,n))}}this.emit("disconnect")}async signTransaction(e){try{const n=this._transport,r=this._publicKey;if(!n||!r)throw new Zt;try{const s=await hX(n,e,this._derivationPath);e.addSignature(r,s)}catch(s){throw new ms(s==null?void 0:s.message,s)}return e}catch(n){throw this.emit("error",n),n}}}const mX="Phantom";class gX extends lv{constructor(e={}){super(),this.name=mX,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Xe.Unsupported:Xe.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new av),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new Oe(n.toBytes())}catch(s){this.emit("error",new El(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Xe.Unsupported&&(Cb()?(this._readyState=Xe.Loadable,this.emit("readyStateChange",this._readyState)):FD(()=>{var n,r,s;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(s=window.solana)!=null&&s.isPhantom?(this._readyState=Xe.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Xe.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===Xe.Loadable){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${s}?ref=${i}`;return}if(this.readyState!==Xe.Installed)throw new Yo;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(s){throw new Zo(s==null?void 0:s.message,s)}if(!n.publicKey)throw new Xa;let r;try{r=new Oe(n.publicKey.toBytes())}catch(s){throw new El(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new wm(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new Zt;try{const{signers:i,...o}=r;Vi(e)?i!=null&&i.length&&e.sign(i):(e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await s.signAndSendTransaction(e,o);return a}catch(i){throw i instanceof Jn?i:new Ui(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signTransaction(e)||e}catch(r){throw new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signAllTransactions(e)||e}catch(r){throw new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Zt;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new vm(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const yX="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var kt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},wX=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},C0,fc,Jb,eE,tE,Dr,nE,Dj,jj,rE,sE,iE,oE,aE;class vX{constructor(){C0.add(this),fc.set(this,{}),Jb.set(this,"1.0.0"),eE.set(this,"MetaMask"),tE.set(this,yX),Dr.set(this,null),nE.set(this,(e,n)=>{var r;return(r=kt(this,fc,"f")[e])!=null&&r.push(n)||(kt(this,fc,"f")[e]=[n]),()=>kt(this,C0,"m",jj).call(this,e,n)}),rE.set(this,async()=>{if(!kt(this,Dr,"f")){let e;try{e=(await yv(async()=>{const{default:n}=await import("./index-Bmr8Sugr.js");return{default:n}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}wX(this,Dr,new e,"f"),kt(this,Dr,"f").on("standard_change",n=>kt(this,C0,"m",Dj).call(this,"change",n))}return this.accounts.length||await kt(this,Dr,"f").connect(),{accounts:this.accounts}}),sE.set(this,async()=>{kt(this,Dr,"f")&&await kt(this,Dr,"f").disconnect()}),iE.set(this,async(...e)=>{if(!kt(this,Dr,"f"))throw new Zt;return await kt(this,Dr,"f").standardSignAndSendTransaction(...e)}),oE.set(this,async(...e)=>{if(!kt(this,Dr,"f"))throw new Zt;return await kt(this,Dr,"f").standardSignTransaction(...e)}),aE.set(this,async(...e)=>{if(!kt(this,Dr,"f"))throw new Zt;return await kt(this,Dr,"f").standardSignMessage(...e)})}get version(){return kt(this,Jb,"f")}get name(){return kt(this,eE,"f")}get icon(){return kt(this,tE,"f")}get chains(){return[Rp,sj,ij]}get features(){return{[cv]:{version:"1.0.0",connect:kt(this,rE,"f")},[Dy]:{version:"1.0.0",disconnect:kt(this,sE,"f")},[uv]:{version:"1.0.0",on:kt(this,nE,"f")},[ts]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:kt(this,iE,"f")},[xn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:kt(this,oE,"f")},[Mo]:{version:"1.0.0",signMessage:kt(this,aE,"f")}}}get accounts(){return kt(this,Dr,"f")?kt(this,Dr,"f").standardAccounts:[]}}fc=new WeakMap,Jb=new WeakMap,eE=new WeakMap,tE=new WeakMap,Dr=new WeakMap,nE=new WeakMap,rE=new WeakMap,sE=new WeakMap,iE=new WeakMap,oE=new WeakMap,aE=new WeakMap,C0=new WeakSet,Dj=function(e,...n){var r;(r=kt(this,fc,"f")[e])==null||r.forEach(s=>s.apply(null,n))},jj=function(e,n){var r;kt(this,fc,"f")[e]=(r=kt(this,fc,"f")[e])==null?void 0:r.filter(s=>n!==s)};let $2=!1;function xX(){$2||(cZ(new vX),$2=!0)}async function _X(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var i,o;const s=r.data;(s==null?void 0:s.target)==="metamask-inpage"&&((i=s.data)==null?void 0:i.name)==="metamask-provider"&&(((o=s.data.data)==null?void 0:o.id)===t?(window.removeEventListener("message",n),s.data.data.error||xX()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const bX="Solflare";class EX extends lv{constructor(e={}){super(),this.name=bX,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Xe.Unsupported:Xe.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new av),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new Oe(n.toBytes())}catch(s){this.emit("error",new El(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==Xe.Unsupported&&(FD(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=Xe.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),_X())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===Xe.Loadable&&Cb()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Xe.Loadable&&this._readyState!==Xe.Installed)throw new Yo;if(this.readyState===Xe.Loadable&&Cb()){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${s}?ref=${i}`;return}let e;try{e=(await yv(async()=>{const{default:s}=await import("./index-BJF37awL.js");return{default:s}},[])).default}catch(s){throw new VT(s==null?void 0:s.message,s)}let n;try{n=new e({network:this._config.network})}catch(s){throw new lc(s==null?void 0:s.message,s)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(s){throw new Zo(s==null?void 0:s.message,s)}if(!n.publicKey)throw new Zo;let r;try{r=new Oe(n.publicKey.toBytes())}catch(s){throw new El(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new wm(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new Zt;try{const{signers:i,...o}=r;return Vi(e)?i!=null&&i.length&&e.sign(i):(e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment,await s.signAndSendTransaction(e,o)}catch(i){throw i instanceof Jn?i:new Ui(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signTransaction(e)||e}catch(r){throw new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signAllTransactions(e)||e}catch(r){throw new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signMessage(e,"utf8")}catch(r){throw new vm(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const SX="Torus";class TX extends lv{constructor({params:e={showTorusButton:!1}}={params:{showTorusButton:!1}}){super(),this.name=SX,this.url="https://tor.us",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMyAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuNSIgY3k9IjE2IiByPSIxNiIgZmlsbD0iIzAzNjRGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjIxODYgOS40OTIxOUMxMC40NTM5IDkuNDkyMTkgOS44MzM5OCAxMC4xMTIxIDkuODMzOTggMTAuODc2OFYxMi40ODk4QzkuODMzOTggMTMuMjU0NSAxMC40NTM5IDEzLjg3NDQgMTEuMjE4NiAxMy44NzQ0SDEzLjY2ODRWMjIuODk3NkMxMy42Njg0IDIzLjY2MjMgMTQuMjg4MyAyNC4yODIyIDE1LjA1MyAyNC4yODIySDE2LjY2NkMxNy40MzA3IDI0LjI4MjIgMTguMDUwNiAyMy42NjIzIDE4LjA1MDYgMjIuODk3NlYxMi41MDE1QzE4LjA1MDYgMTIuNDk3NiAxOC4wNTA2IDEyLjQ5MzcgMTguMDUwNiAxMi40ODk4VjEwLjg3NjhDMTguMDUwNiAxMC4xMTIxIDE3LjQzMDcgOS40OTIxOSAxNi42NjYgOS40OTIxOUgxNS4wNTNIMTEuMjE4NloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yMS4zMzc2IDEzLjg3NDRDMjIuNTQ3NyAxMy44NzQ0IDIzLjUyODcgMTIuODkzNCAyMy41Mjg3IDExLjY4MzNDMjMuNTI4NyAxMC40NzMyIDIyLjU0NzcgOS40OTIxOSAyMS4zMzc2IDkuNDkyMTlDMjAuMTI3NSA5LjQ5MjE5IDE5LjE0NjUgMTAuNDczMiAxOS4xNDY1IDExLjY4MzNDMTkuMTQ2NSAxMi44OTM0IDIwLjEyNzUgMTMuODc0NCAyMS4zMzc2IDEzLjg3NDRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Xe.Unsupported:Xe.Loadable,this._connecting=!1,this._wallet=null,this._publicKey=null,this._params=e}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isLoggedIn)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Xe.Loadable)throw new Yo;this._connecting=!0;let e;try{e=(await yv(async()=>{const{default:i}=await import("./solanaEmbed.esm-D645TB1K.js");return{default:i}},[])).default}catch(i){throw new VT(i==null?void 0:i.message,i)}let n;try{n=window.torus||new e}catch(i){throw new lc(i==null?void 0:i.message,i)}if(!n.isInitialized)try{await n.init(this._params)}catch(i){throw new Zo(i==null?void 0:i.message,i)}let r;try{r=await n.login()}catch(i){throw new Xa(i==null?void 0:i.message,i)}let s;try{s=new Oe(r[0])}catch(i){throw new El(i==null?void 0:i.message,i)}this._wallet=n,this._publicKey=s,this.emit("connect",s)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){this._wallet=null,this._publicKey=null;try{e.isLoggedIn&&await e.cleanUp()}catch(n){this.emit("error",new wm(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new Zt;try{const{signers:i,...o}=r;e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await s.signAndSendTransaction(e,o);return a}catch(i){throw i instanceof Jn?i:new Ui(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signTransaction(e)||e}catch(r){throw new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signAllTransactions(e)||e}catch(r){throw new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signMessage(e)}catch(r){throw new vm(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const IX=({children:t})=>{const e="mainnet-beta",n=k.useMemo(()=>{const s="https://mainnet.helius-rpc.com/?api-key=8e3b6efc-5c17-4baf-9eef-ec5ef39f02d5";return console.log("[Wallet Context] Network:",e),console.log("[Wallet Context] RPC Endpoint:",s),s},[e]),r=k.useMemo(()=>[new gX,new EX,new TX,new pX],[]);return d.jsx(WG,{endpoint:n,children:d.jsx(OZ,{wallets:r,autoConnect:!0,children:d.jsx(UZ,{children:t})})})},AX=am("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),xv=k.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,role:"alert",className:We(AX({variant:e}),t),...n}));xv.displayName="Alert";const CX=k.forwardRef(({className:t,...e},n)=>d.jsx("h5",{ref:n,className:We("mb-1 font-medium leading-none tracking-tight",t),...e}));CX.displayName="AlertTitle";const _v=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("text-sm [&_p]:leading-relaxed",t),...e}));_v.displayName="AlertDescription";const NX=am("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ln=k.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?W9:"button";return d.jsx(o,{className:We(NX({variant:e,size:n,className:t})),ref:i,...s})});ln.displayName="Button";class H2 extends k.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleRetry=()=>{this.setState({hasError:!1,error:void 0})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"flex items-center justify-center min-h-[200px] p-4",children:d.jsx("div",{className:"max-w-md w-full",children:d.jsx(xv,{variant:"destructive",children:d.jsx(_v,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsx("p",{className:"font-semibold",children:"Something went wrong"}),d.jsx("p",{className:"text-sm",children:((e=this.state.error)==null?void 0:e.message)||"An unexpected error occurred"}),d.jsx(ln,{onClick:this.handleRetry,variant:"outline",size:"sm",className:"w-full",children:"Try again"})]})})})})}):this.props.children}}function Bj(){const[t,e]=k.useState(!1),{connected:n}=Nh(),[r,s]=sm(),i=a=>r===a,o=[{href:"/",label:"Home",icon:JS},{href:"/campaigns",label:"Browse",icon:IN},{href:"/create-campaign",label:"Create",icon:dl}];return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed top-0 left-0 right-0 h-20 bg-gray-900/30 backdrop-blur-xl border-b border-gray-800/50 z-40"}),d.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50",children:[d.jsx("nav",{className:"container mx-auto px-6",children:d.jsxs("div",{className:"flex justify-between items-center h-20",children:[d.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:()=>s("/"),children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-xl blur-lg"}),d.jsx("div",{className:"relative bg-gradient-to-r from-purple-600 to-pink-600 p-2 rounded-xl",children:d.jsx(EO,{className:"h-6 w-6 text-white transition-transform group-hover:rotate-12"})})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-2xl font-black bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Wendex"}),d.jsx("span",{className:"text-xs text-purple-400 font-medium -mt-1",children:"CROWDFUNDING"})]})]}),d.jsx("div",{className:"hidden lg:flex items-center space-x-1",children:o.map(a=>{const l=a.icon;return d.jsxs("a",{href:a.href,className:`relative flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all duration-300 group ${i(a.href)?"text-white bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,onClick:c=>{c.preventDefault(),s(a.href)},children:[d.jsx(l,{className:"w-4 h-4"}),d.jsx("span",{children:a.label}),i(a.href)&&d.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-purple-400 rounded-full"})]},a.href)})}),d.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[d.jsxs("button",{className:"relative px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl overflow-hidden group transition-all duration-300 hover:shadow-2xl hover:shadow-purple-600/25 hover:scale-105",onClick:()=>s("/create-campaign"),children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-700 to-pink-700 opacity-0 group-hover:opacity-100 transition-opacity"}),d.jsxs("div",{className:"relative flex items-center space-x-2",children:[d.jsx(dl,{className:"w-4 h-4"}),d.jsx("span",{children:"Launch Campaign"})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-xl blur-lg"}),d.jsx(Pp,{className:"relative !bg-gray-900/50 !border !border-gray-700 !text-white hover:!bg-gray-800/50 hover:!border-gray-600 !rounded-xl !font-medium !px-6 !py-3 !backdrop-blur-sm !transition-all"})]})]}),d.jsx("button",{className:"lg:hidden relative p-3 rounded-xl bg-gray-900/50 border border-gray-700 text-gray-300 hover:text-white hover:bg-gray-800/50 transition-all",onClick:()=>e(!t),children:t?d.jsx(nT,{className:"h-5 w-5"}):d.jsx(IN,{className:"h-5 w-5"})})]})}),t&&d.jsx("div",{className:"lg:hidden mt-2 mx-6 mb-6",children:d.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-xl border border-gray-800 rounded-2xl p-6 space-y-4",children:[o.map(a=>{const l=a.icon;return d.jsxs("a",{href:a.href,className:`flex items-center space-x-3 p-4 rounded-xl transition-all ${i(a.href)?"bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"}`,onClick:c=>{c.preventDefault(),s(a.href),e(!1)},children:[d.jsx(l,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:a.label})]},a.href)}),d.jsxs("div",{className:"pt-4 border-t border-gray-800 space-y-3",children:[d.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 p-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all",onClick:()=>{s("/create-campaign"),e(!1)},children:[d.jsx(dl,{className:"w-5 h-5"}),d.jsx("span",{children:"Launch Campaign"})]}),d.jsx("div",{className:"px-2",children:d.jsx(Pp,{className:"!w-full !bg-gray-800/50 !border !border-gray-700 !text-white hover:!bg-gray-700/50 !rounded-xl !font-medium !px-6 !py-3"})})]})]})})]})]})}function Fj(t,e){return function(){return t.apply(e,arguments)}}const{toString:kX}=Object.prototype,{getPrototypeOf:QT}=Object,{iterator:bv,toStringTag:Uj}=Symbol,Ev=(t=>e=>{const n=kX.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ai=t=>(t=t.toLowerCase(),e=>Ev(e)===t),Sv=t=>e=>typeof e===t,{isArray:kh}=Array,Op=Sv("undefined");function MX(t){return t!==null&&!Op(t)&&t.constructor!==null&&!Op(t.constructor)&&vs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Vj=Ai("ArrayBuffer");function RX(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Vj(t.buffer),e}const PX=Sv("string"),vs=Sv("function"),zj=Sv("number"),Tv=t=>t!==null&&typeof t=="object",OX=t=>t===!0||t===!1,N0=t=>{if(Ev(t)!=="object")return!1;const e=QT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Uj in t)&&!(bv in t)},LX=Ai("Date"),DX=Ai("File"),jX=Ai("Blob"),BX=Ai("FileList"),FX=t=>Tv(t)&&vs(t.pipe),UX=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||vs(t.append)&&((e=Ev(t))==="formdata"||e==="object"&&vs(t.toString)&&t.toString()==="[object FormData]"))},VX=Ai("URLSearchParams"),[zX,WX,$X,HX]=["ReadableStream","Request","Response","Headers"].map(Ai),qX=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bm(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),kh(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function Wj(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const pc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,$j=t=>!Op(t)&&t!==pc;function lE(){const{caseless:t}=$j(this)&&this||{},e={},n=(r,s)=>{const i=t&&Wj(e,s)||s;N0(e[i])&&N0(r)?e[i]=lE(e[i],r):N0(r)?e[i]=lE({},r):kh(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&bm(arguments[r],n);return e}const KX=(t,e,n,{allOwnKeys:r}={})=>(bm(e,(s,i)=>{n&&vs(s)?t[i]=Fj(s,n):t[i]=s},{allOwnKeys:r}),t),GX=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),QX=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},YX=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&QT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},ZX=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},XX=t=>{if(!t)return null;if(kh(t))return t;let e=t.length;if(!zj(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},JX=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&QT(Uint8Array)),eJ=(t,e)=>{const r=(t&&t[bv]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},tJ=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},nJ=Ai("HTMLFormElement"),rJ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),q2=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),sJ=Ai("RegExp"),Hj=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};bm(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},iJ=t=>{Hj(t,(e,n)=>{if(vs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(vs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},oJ=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return kh(t)?r(t):r(String(t).split(e)),n},aJ=()=>{},lJ=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function cJ(t){return!!(t&&vs(t.append)&&t[Uj]==="FormData"&&t[bv])}const uJ=t=>{const e=new Array(10),n=(r,s)=>{if(Tv(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=kh(r)?[]:{};return bm(r,(o,a)=>{const l=n(o,s+1);!Op(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},dJ=Ai("AsyncFunction"),hJ=t=>t&&(Tv(t)||vs(t))&&vs(t.then)&&vs(t.catch),qj=((t,e)=>t?setImmediate:e?((n,r)=>(pc.addEventListener("message",({source:s,data:i})=>{s===pc&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),pc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",vs(pc.postMessage)),fJ=typeof queueMicrotask<"u"?queueMicrotask.bind(pc):typeof process<"u"&&process.nextTick||qj,pJ=t=>t!=null&&vs(t[bv]),re={isArray:kh,isArrayBuffer:Vj,isBuffer:MX,isFormData:UX,isArrayBufferView:RX,isString:PX,isNumber:zj,isBoolean:OX,isObject:Tv,isPlainObject:N0,isReadableStream:zX,isRequest:WX,isResponse:$X,isHeaders:HX,isUndefined:Op,isDate:LX,isFile:DX,isBlob:jX,isRegExp:sJ,isFunction:vs,isStream:FX,isURLSearchParams:VX,isTypedArray:JX,isFileList:BX,forEach:bm,merge:lE,extend:KX,trim:qX,stripBOM:GX,inherits:QX,toFlatObject:YX,kindOf:Ev,kindOfTest:Ai,endsWith:ZX,toArray:XX,forEachEntry:eJ,matchAll:tJ,isHTMLForm:nJ,hasOwnProperty:q2,hasOwnProp:q2,reduceDescriptors:Hj,freezeMethods:iJ,toObjectSet:oJ,toCamelCase:rJ,noop:aJ,toFiniteNumber:lJ,findKey:Wj,global:pc,isContextDefined:$j,isSpecCompliantForm:cJ,toJSONObject:uJ,isAsyncFn:dJ,isThenable:hJ,setImmediate:qj,asap:fJ,isIterable:pJ};function nt(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}re.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const Kj=nt.prototype,Gj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Gj[t]={value:t}});Object.defineProperties(nt,Gj);Object.defineProperty(Kj,"isAxiosError",{value:!0});nt.from=(t,e,n,r,s,i)=>{const o=Object.create(Kj);return re.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),nt.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const mJ=null;function cE(t){return re.isPlainObject(t)||re.isArray(t)}function Qj(t){return re.endsWith(t,"[]")?t.slice(0,-2):t}function K2(t,e,n){return t?t.concat(e).map(function(s,i){return s=Qj(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function gJ(t){return re.isArray(t)&&!t.some(cE)}const yJ=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Iv(t,e,n){if(!re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=re.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!re.isUndefined(w[g])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(s))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(re.isDate(v))return v.toISOString();if(!l&&re.isBlob(v))throw new nt("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(v)||re.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,g,w){let _=v;if(v&&!w&&typeof v=="object"){if(re.endsWith(g,"{}"))g=r?g:g.slice(0,-2),v=JSON.stringify(v);else if(re.isArray(v)&&gJ(v)||(re.isFileList(v)||re.endsWith(g,"[]"))&&(_=re.toArray(v)))return g=Qj(g),_.forEach(function(x,T){!(re.isUndefined(x)||x===null)&&e.append(o===!0?K2([g],T,i):o===null?g:g+"[]",c(x))}),!1}return cE(v)?!0:(e.append(K2(w,g,i),c(v)),!1)}const f=[],p=Object.assign(yJ,{defaultVisitor:u,convertValue:c,isVisitable:cE});function m(v,g){if(!re.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(v),re.forEach(v,function(_,b){(!(re.isUndefined(_)||_===null)&&s.call(e,_,re.isString(b)?b.trim():b,g,p))===!0&&m(_,g?g.concat(b):[b])}),f.pop()}}if(!re.isObject(t))throw new TypeError("data must be an object");return m(t),e}function G2(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function YT(t,e){this._pairs=[],t&&Iv(t,this,e)}const Yj=YT.prototype;Yj.append=function(e,n){this._pairs.push([e,n])};Yj.toString=function(e){const n=e?function(r){return e.call(this,r,G2)}:G2;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function wJ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zj(t,e,n){if(!e)return t;const r=n&&n.encode||wJ;re.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=re.isURLSearchParams(e)?e.toString():new YT(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Q2{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Xj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vJ=typeof URLSearchParams<"u"?URLSearchParams:YT,xJ=typeof FormData<"u"?FormData:null,_J=typeof Blob<"u"?Blob:null,bJ={isBrowser:!0,classes:{URLSearchParams:vJ,FormData:xJ,Blob:_J},protocols:["http","https","file","blob","url","data"]},ZT=typeof window<"u"&&typeof document<"u",uE=typeof navigator=="object"&&navigator||void 0,EJ=ZT&&(!uE||["ReactNative","NativeScript","NS"].indexOf(uE.product)<0),SJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TJ=ZT&&window.location.href||"http://localhost",IJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ZT,hasStandardBrowserEnv:EJ,hasStandardBrowserWebWorkerEnv:SJ,navigator:uE,origin:TJ},Symbol.toStringTag,{value:"Module"})),Wr={...IJ,...bJ};function AJ(t,e){return Iv(t,new Wr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Wr.isNode&&re.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function CJ(t){return re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function NJ(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function Jj(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&re.isArray(s)?s.length:o,l?(re.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!re.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&re.isArray(s[o])&&(s[o]=NJ(s[o])),!a)}if(re.isFormData(t)&&re.isFunction(t.entries)){const n={};return re.forEachEntry(t,(r,s)=>{e(CJ(r),s,n,0)}),n}return null}function kJ(t,e,n){if(re.isString(t))try{return(e||JSON.parse)(t),re.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Em={transitional:Xj,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=re.isObject(e);if(i&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return s?JSON.stringify(Jj(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return AJ(e,this.formSerializer).toString();if((a=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Iv(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),kJ(e)):e}],transformResponse:[function(e){const n=this.transitional||Em.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?nt.from(a,nt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wr.classes.FormData,Blob:Wr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],t=>{Em.headers[t]={}});const MJ=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),RJ=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&MJ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Y2=Symbol("internals");function uf(t){return t&&String(t).trim().toLowerCase()}function k0(t){return t===!1||t==null?t:re.isArray(t)?t.map(k0):String(t)}function PJ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const OJ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function kx(t,e,n,r,s){if(re.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function LJ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function DJ(t,e){const n=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let xs=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const u=uf(l);if(!u)throw new Error("header name must be a non-empty string");const f=re.findKey(s,u);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||l]=k0(a))}const o=(a,l)=>re.forEach(a,(c,u)=>i(c,u,l));if(re.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(re.isString(e)&&(e=e.trim())&&!OJ(e))o(RJ(e),n);else if(re.isObject(e)&&re.isIterable(e)){let a={},l,c;for(const u of e){if(!re.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?re.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=uf(e),e){const r=re.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return PJ(s);if(re.isFunction(n))return n.call(this,s,r);if(re.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=uf(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||kx(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=uf(o),o){const a=re.findKey(r,o);a&&(!n||kx(r,r[a],a,n))&&(delete r[a],s=!0)}}return re.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||kx(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return re.forEach(this,(s,i)=>{const o=re.findKey(r,i);if(o){n[o]=k0(s),delete n[i];return}const a=e?LJ(i):String(i).trim();a!==i&&delete n[i],n[a]=k0(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return re.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&re.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Y2]=this[Y2]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=uf(o);r[a]||(DJ(s,o),r[a]=!0)}return re.isArray(e)?e.forEach(i):i(e),this}};xs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(xs.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});re.freezeMethods(xs);function Mx(t,e){const n=this||Em,r=e||n,s=xs.from(r.headers);let i=r.data;return re.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function e3(t){return!!(t&&t.__CANCEL__)}function Mh(t,e,n){nt.call(this,t??"canceled",nt.ERR_CANCELED,e,n),this.name="CanceledError"}re.inherits(Mh,nt,{__CANCEL__:!0});function t3(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new nt("Request failed with status code "+n.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function jJ(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function BJ(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[s]=l,r[s]=c;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const m=u&&c-u;return m?Math.round(p*1e3/m):void 0}}function FJ(t,e){let n=0,r=1e3/e,s,i;const o=(c,u=Date.now())=>{n=u,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?o(c,u):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const Wy=(t,e,n=3)=>{let r=0;const s=BJ(50,250);return FJ(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),u=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},Z2=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},X2=t=>(...e)=>re.asap(()=>t(...e)),UJ=Wr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Wr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Wr.origin),Wr.navigator&&/(msie|trident)/i.test(Wr.navigator.userAgent)):()=>!0,VJ=Wr.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];re.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),re.isString(r)&&o.push("path="+r),re.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zJ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function WJ(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function n3(t,e,n){let r=!zJ(e);return t&&(r||n==!1)?WJ(t,e):e}const J2=t=>t instanceof xs?{...t}:t;function zc(t,e){e=e||{};const n={};function r(c,u,f,p){return re.isPlainObject(c)&&re.isPlainObject(u)?re.merge.call({caseless:p},c,u):re.isPlainObject(u)?re.merge({},u):re.isArray(u)?u.slice():u}function s(c,u,f,p){if(re.isUndefined(u)){if(!re.isUndefined(c))return r(void 0,c,f,p)}else return r(c,u,f,p)}function i(c,u){if(!re.isUndefined(u))return r(void 0,u)}function o(c,u){if(re.isUndefined(u)){if(!re.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,f)=>s(J2(c),J2(u),f,!0)};return re.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=l[u]||s,p=f(t[u],e[u],u);re.isUndefined(p)&&f!==a||(n[u]=p)}),n}const r3=t=>{const e=zc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=xs.from(o),e.url=Zj(n3(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(re.isFormData(n)){if(Wr.hasStandardBrowserEnv||Wr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Wr.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&UJ(e.url))){const c=s&&i&&VJ.read(i);c&&o.set(s,c)}return e},$J=typeof XMLHttpRequest<"u",HJ=$J&&function(t){return new Promise(function(n,r){const s=r3(t);let i=s.data;const o=xs.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,f,p,m,v;function g(){m&&m(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function _(){if(!w)return;const x=xs.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:x,config:t,request:w};t3(function(R){n(R),g()},function(R){r(R),g()},D),w=null}"onloadend"in w?w.onloadend=_:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(_)},w.onabort=function(){w&&(r(new nt("Request aborted",nt.ECONNABORTED,t,w)),w=null)},w.onerror=function(){r(new nt("Network Error",nt.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let T=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const D=s.transitional||Xj;s.timeoutErrorMessage&&(T=s.timeoutErrorMessage),r(new nt(T,D.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,t,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&re.forEach(o.toJSON(),function(T,D){w.setRequestHeader(D,T)}),re.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),a&&a!=="json"&&(w.responseType=s.responseType),c&&([p,v]=Wy(c,!0),w.addEventListener("progress",p)),l&&w.upload&&([f,m]=Wy(l),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(u=x=>{w&&(r(!x||x.type?new Mh(null,t,w):x),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const b=jJ(s.url);if(b&&Wr.protocols.indexOf(b)===-1){r(new nt("Unsupported protocol "+b+":",nt.ERR_BAD_REQUEST,t));return}w.send(i||null)})},qJ=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof nt?u:new Mh(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new nt(`timeout ${e} of ms exceeded`,nt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>re.asap(a),l}},KJ=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},GJ=async function*(t,e){for await(const n of QJ(t))yield*KJ(n,e)},QJ=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},ek=(t,e,n,r)=>{const s=GJ(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){a(),l.close();return}let f=u.byteLength;if(n){let p=i+=f;n(p)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Av=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",s3=Av&&typeof ReadableStream=="function",YJ=Av&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),i3=(t,...e)=>{try{return!!t(...e)}catch{return!1}},ZJ=s3&&i3(()=>{let t=!1;const e=new Request(Wr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),tk=64*1024,dE=s3&&i3(()=>re.isReadableStream(new Response("").body)),$y={stream:dE&&(t=>t.body)};Av&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!$y[e]&&($y[e]=re.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new nt(`Response type '${e}' is not supported`,nt.ERR_NOT_SUPPORT,r)})})})(new Response);const XJ=async t=>{if(t==null)return 0;if(re.isBlob(t))return t.size;if(re.isSpecCompliantForm(t))return(await new Request(Wr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(re.isArrayBufferView(t)||re.isArrayBuffer(t))return t.byteLength;if(re.isURLSearchParams(t)&&(t=t+""),re.isString(t))return(await YJ(t)).byteLength},JJ=async(t,e)=>{const n=re.toFiniteNumber(t.getContentLength());return n??XJ(e)},eee=Av&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:p}=r3(t);c=c?(c+"").toLowerCase():"text";let m=qJ([s,i&&i.toAbortSignal()],o),v;const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let w;try{if(l&&ZJ&&n!=="get"&&n!=="head"&&(w=await JJ(u,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),F;if(re.isFormData(r)&&(F=D.headers.get("content-type"))&&u.setContentType(F),D.body){const[R,M]=Z2(w,Wy(X2(l)));r=ek(D.body,tk,R,M)}}re.isString(f)||(f=f?"include":"omit");const _="credentials"in Request.prototype;v=new Request(e,{...p,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:_?f:void 0});let b=await fetch(v);const x=dE&&(c==="stream"||c==="response");if(dE&&(a||x&&g)){const D={};["status","statusText","headers"].forEach(U=>{D[U]=b[U]});const F=re.toFiniteNumber(b.headers.get("content-length")),[R,M]=a&&Z2(F,Wy(X2(a),!0))||[];b=new Response(ek(b.body,tk,R,()=>{M&&M(),g&&g()}),D)}c=c||"text";let T=await $y[re.findKey($y,c)||"text"](b,t);return!x&&g&&g(),await new Promise((D,F)=>{t3(D,F,{data:T,headers:xs.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:v})})}catch(_){throw g&&g(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new nt("Network Error",nt.ERR_NETWORK,t,v),{cause:_.cause||_}):nt.from(_,_&&_.code,t,v)}}),hE={http:mJ,xhr:HJ,fetch:eee};re.forEach(hE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const nk=t=>`- ${t}`,tee=t=>re.isFunction(t)||t===null||t===!1,o3={getAdapter:t=>{t=re.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!tee(n)&&(r=hE[(o=String(n)).toLowerCase()],r===void 0))throw new nt(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(nk).join(`
`):" "+nk(i[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:hE};function Rx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mh(null,t)}function rk(t){return Rx(t),t.headers=xs.from(t.headers),t.data=Mx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),o3.getAdapter(t.adapter||Em.adapter)(t).then(function(r){return Rx(t),r.data=Mx.call(t,t.transformResponse,r),r.headers=xs.from(r.headers),r},function(r){return e3(r)||(Rx(t),r&&r.response&&(r.response.data=Mx.call(t,t.transformResponse,r.response),r.response.headers=xs.from(r.response.headers))),Promise.reject(r)})}const a3="1.9.0",Cv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Cv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const sk={};Cv.transitional=function(e,n,r){function s(i,o){return"[Axios v"+a3+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new nt(s(o," has been removed"+(n?" in "+n:"")),nt.ERR_DEPRECATED);return n&&!sk[o]&&(sk[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};Cv.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function nee(t,e,n){if(typeof t!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new nt("option "+i+" must be "+l,nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new nt("Unknown option "+i,nt.ERR_BAD_OPTION)}}const M0={assertOptions:nee,validators:Cv},Ri=M0.validators;let kc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Q2,response:new Q2}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=zc(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&M0.assertOptions(r,{silentJSONParsing:Ri.transitional(Ri.boolean),forcedJSONParsing:Ri.transitional(Ri.boolean),clarifyTimeoutError:Ri.transitional(Ri.boolean)},!1),s!=null&&(re.isFunction(s)?n.paramsSerializer={serialize:s}:M0.assertOptions(s,{encode:Ri.function,serialize:Ri.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),M0.assertOptions(n,{baseUrl:Ri.spelling("baseURL"),withXsrfToken:Ri.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&re.merge(i.common,i[n.method]);i&&re.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=xs.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,f=0,p;if(!l){const v=[rk.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,c),p=v.length,u=Promise.resolve(n);f<p;)u=u.then(v[f++],v[f++]);return u}p=a.length;let m=n;for(f=0;f<p;){const v=a[f++],g=a[f++];try{m=v(m)}catch(w){g.call(this,w);break}}try{u=rk.call(this,m)}catch(v){return Promise.reject(v)}for(f=0,p=c.length;f<p;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=zc(this.defaults,e);const n=n3(e.baseURL,e.url,e.allowAbsoluteUrls);return Zj(n,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){kc.prototype[e]=function(n,r){return this.request(zc(r||{},{method:e,url:n,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(zc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}kc.prototype[e]=n(),kc.prototype[e+"Form"]=n(!0)});let ree=class l3{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Mh(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new l3(function(s){e=s}),cancel:e}}};function see(t){return function(n){return t.apply(null,n)}}function iee(t){return re.isObject(t)&&t.isAxiosError===!0}const fE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fE).forEach(([t,e])=>{fE[e]=t});function c3(t){const e=new kc(t),n=Fj(kc.prototype.request,e);return re.extend(n,kc.prototype,e,{allOwnKeys:!0}),re.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return c3(zc(t,s))},n}const lt=c3(Em);lt.Axios=kc;lt.CanceledError=Mh;lt.CancelToken=ree;lt.isCancel=e3;lt.VERSION=a3;lt.toFormData=Iv;lt.AxiosError=nt;lt.Cancel=lt.CanceledError;lt.all=function(e){return Promise.all(e)};lt.spread=see;lt.isAxiosError=iee;lt.mergeConfig=zc;lt.AxiosHeaders=xs;lt.formToJSON=t=>Jj(re.isHTMLForm(t)?new FormData(t):t);lt.getAdapter=o3.getAdapter;lt.HttpStatusCode=fE;lt.default=lt;const{Axios:ihe,AxiosError:ohe,CanceledError:ahe,isCancel:lhe,CancelToken:che,VERSION:uhe,all:dhe,Cancel:hhe,isAxiosError:fhe,spread:phe,toFormData:mhe,AxiosHeaders:ghe,HttpStatusCode:yhe,formToJSON:whe,getAdapter:vhe,mergeConfig:xhe}=lt,oee="/api",ku=lt.create({baseURL:oee,headers:{"Content-Type":"application/json"}}),Px=t=>{var e,n,r,s,i,o,a,l,c,u;return{...t,id:t.id,tokenMetadata:{name:((e=t.tokenMetadata)==null?void 0:e.name)||t.tokenName||"Unknown Token",symbol:((n=t.tokenMetadata)==null?void 0:n.symbol)||t.tokenSymbol||"UNKNOWN",description:((r=t.tokenMetadata)==null?void 0:r.description)||t.description||"",image:((s=t.tokenMetadata)==null?void 0:s.image)||t.logoUrl||"",verified:((i=t.tokenMetadata)==null?void 0:i.verified)||!1},logoUrl:t.logoUrl||((o=t.tokenMetadata)==null?void 0:o.image)||"/placeholder-token.png",tokenLogoUrl:t.tokenLogoUrl||t.logoUrl||((a=t.tokenMetadata)==null?void 0:a.image)||"/placeholder-token.png",bannerUrl:t.bannerUrl||"/placeholder-banner.jpg",contractAddress:t.contractAddress||t.tokenAddress,tokenAddress:t.contractAddress||t.tokenAddress,creatorAddress:t.createdBy||t.creatorAddress,contributionCount:t.contributionCount||0,socialLinks:t.socialLinks||{},postFundingAction:t.postFundingAction||{type:"none"},trending:t.trending||!1,featured:t.featured||!1,createdAt:(l=t.createdAt)!=null&&l._seconds?new Date(t.createdAt._seconds*1e3):new Date(t.createdAt),updatedAt:(c=t.updatedAt)!=null&&c._seconds?new Date(t.updatedAt._seconds*1e3):new Date(t.updatedAt),deadline:(u=t.deadline)!=null&&u._seconds?new Date(t.deadline._seconds*1e3):new Date(t.deadline)}},lh={create:async t=>{const e=await ku.post("/campaigns",t);return e.data.success&&e.data.campaign&&(e.data.campaign=Px(e.data.campaign)),e.data},list:async t=>{const e=await ku.get("/campaigns",{params:t});return e.data.success&&e.data.campaigns&&(e.data.campaigns=e.data.campaigns.map(Px)),e.data},get:async t=>{const e=await ku.get(`/campaigns/${t}`);return e.data.success&&e.data.campaign&&(e.data.campaign=Px(e.data.campaign)),e.data},getContributions:async t=>(await ku.get(`/campaigns/${t}/contributions`)).data,contribute:async(t,e)=>(await ku.post(`/campaigns/${t}/contribute`,e)).data,getPlatformStats:async()=>(await ku.get("/stats/platform")).data},aee=156;function lee(t){return t===0?"$0":t>=1e3?`$${(t/1e3).toFixed(1)}K`:`$${t.toFixed(0)}`}function ik(t){return`$${t.toFixed(2)}`}function cee(t){return t*aee}function uee(t){return`${t.toFixed(3)} SOL`}function dee(t,e){return e==="SOL"?{primary:ik(cee(t)),secondary:uee(t)}:{primary:ik(t),secondary:`${t.toFixed(2)} USDC`}}function hee(){var o,a,l;const[,t]=sm(),{data:e}=Ao({queryKey:["platform-stats"],queryFn:()=>lh.getPlatformStats()}),n=((o=e==null?void 0:e.stats)==null?void 0:o.activeCampaigns)||0,r=((a=e==null?void 0:e.stats)==null?void 0:a.totalFunded)||0,s=((l=e==null?void 0:e.stats)==null?void 0:l.totalContributions)||0,i=[{label:"Active Campaigns",value:n.toString(),icon:tT},{label:"Total Raised",value:lee(r),icon:eT},{label:"Contributions",value:s.toString(),icon:Ww}];return d.jsxs("section",{className:"relative overflow-hidden bg-dark-radial min-h-screen flex items-center pt-20 pb-20",children:[d.jsx("div",{className:"absolute inset-0 grid-pattern opacity-10"}),d.jsx("div",{className:"absolute top-20 left-1/4 w-72 h-72 bg-purple-600/15 rounded-full blur-3xl"}),d.jsx("div",{className:"absolute bottom-20 right-1/4 w-72 h-72 bg-pink-600/15 rounded-full blur-3xl"}),d.jsx("div",{className:"container mx-auto px-6 relative z-10 max-w-7xl",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[d.jsxs("div",{className:"space-y-10",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"inline-flex items-center px-5 py-3 rounded-full bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30 text-purple-300 text-sm font-medium backdrop-blur-sm",children:[d.jsx(dl,{className:"w-4 h-4 mr-2"}),"Community Crowdfunding Platform"]}),d.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-black leading-tight",children:[d.jsx("span",{className:"block text-white mb-2",children:"Fund Your Token's"}),d.jsx("span",{className:"block animated-gradient bg-clip-text text-transparent",children:"DexScreener Success"})]}),d.jsx("p",{className:"text-xl md:text-2xl text-gray-400 leading-relaxed max-w-xl",children:"Join the decentralized crowdfunding platform that helps Solana tokens get Enhanced Info, advertising, and boosts on DexScreener through community support."})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[d.jsxs("button",{className:"btn-dark-primary group text-lg px-8 py-4",onClick:()=>t("/campaigns"),children:["Browse Campaigns",d.jsx(vO,{className:"ml-3 h-6 w-6 inline transition-transform group-hover:translate-x-2"})]}),d.jsx("button",{className:"btn-dark-secondary text-lg px-8 py-4",onClick:()=>t("/create-campaign"),children:"Start a Campaign"})]}),d.jsx("div",{className:"grid grid-cols-3 gap-8 pt-12 mt-12 border-t border-gray-800",children:i.map(c=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:c.value}),d.jsx("div",{className:"text-base text-gray-400",children:c.label})]},c.label))})]}),d.jsx("div",{className:"relative lg:ml-16 mt-12 lg:mt-0",children:d.jsxs("div",{className:"relative max-w-lg mx-auto",children:[d.jsx("div",{className:"absolute -top-8 -left-8 card-dark p-6 hover-lift-dark z-20",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-600/20 to-emerald-600/20 flex items-center justify-center backdrop-blur-sm",children:d.jsx(lm,{className:"w-6 h-6 text-green-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-base font-semibold text-white",children:"Enhanced Info"}),d.jsx("p",{className:"text-sm text-gray-400",children:"$299 Target"})]})]})}),d.jsx("div",{className:"absolute -bottom-8 -right-8 card-dark p-6 hover-lift-dark z-20",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600/20 to-pink-600/20 flex items-center justify-center backdrop-blur-sm",children:d.jsx(xO,{className:"w-6 h-6 text-purple-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-base font-semibold text-white",children:"Token Boosted"}),d.jsx("p",{className:"text-sm text-gray-400",children:"+450% Visibility"})]})]})}),d.jsx("div",{className:"card-dark p-10 glow-purple relative z-10",children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-white",children:"Example Campaign"}),d.jsx("p",{className:"text-base text-gray-400 mt-1",children:"Enhanced Token Info"})]}),d.jsx("div",{className:"badge-dark badge-dark-active px-4 py-2",children:"Active"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between text-base",children:[d.jsx("span",{className:"text-gray-400",children:"Progress"}),d.jsx("span",{className:"font-bold text-white text-xl",children:"$0 / $299"})]}),d.jsx("div",{className:"progress-dark",children:d.jsx("div",{className:"progress-dark-bar",style:{width:"0%"}})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-6 border-t border-gray-800",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"0"}),d.jsx("p",{className:"text-base text-gray-400 mt-2",children:"Contributions"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"12h"}),d.jsx("p",{className:"text-base text-gray-400 mt-2",children:"Time Left"})]})]}),d.jsx("button",{className:"w-full btn-dark-primary text-lg py-4 mt-8",children:"View Campaign"})]})})]})})]})})]})}const fee=[{icon:tT,title:"Enhanced Token Info",description:"Get your token verified with enhanced information on DexScreener for increased visibility and trust.",gradient:"from-purple-500 to-indigo-600"},{icon:dl,title:"Token Boosts",description:"Boost your token's ranking on DexScreener to reach more traders and increase exposure.",gradient:"from-yellow-500 to-orange-600"},{icon:lm,title:"Secure Escrow",description:"All funds are held in secure escrow wallets until campaign goals are met, ensuring transparency.",gradient:"from-green-500 to-emerald-600"},{icon:Ww,title:"Community Powered",description:"Rally your community to crowdfund DexScreener services together, making premium features accessible.",gradient:"from-blue-500 to-cyan-600"},{icon:jz,title:"Real-time Tracking",description:"Monitor campaign progress in real-time with transparent contribution tracking and updates.",gradient:"from-pink-500 to-rose-600"},{icon:EO,title:"Instant Activation",description:"Services are automatically purchased and activated once funding goals are reached.",gradient:"from-indigo-500 to-purple-600"}];function pee(){return d.jsx("section",{className:"py-24 bg-dark-gradient",children:d.jsxs("div",{className:"container mx-auto px-6",children:[d.jsxs("div",{className:"text-center space-y-6 mb-20",children:[d.jsxs("h2",{className:"heading-dark-1",children:["Everything You Need to",d.jsx("span",{className:"block bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Boost Your Token"})]}),d.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto leading-relaxed",children:"Leverage the power of community crowdfunding to unlock premium DexScreener features for your token"})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:fee.map((t,e)=>{const n=t.icon;return d.jsx("div",{className:"card-dark hover:scale-105 transition-all duration-300 group",children:d.jsxs("div",{className:"p-8 space-y-6",children:[d.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-r ${t.gradient} flex items-center justify-center shadow-lg`,children:d.jsx(n,{className:"w-8 h-8 text-white"})}),d.jsx("h3",{className:"text-2xl font-bold text-white group-hover:text-purple-300 transition-colors",children:t.title}),d.jsx("p",{className:"text-gray-400 leading-relaxed text-lg",children:t.description})]})},e)})})]})})}function mee(){const t=()=>{console.log("Get started clicked")},e=()=>{console.log("Learn more clicked")};return d.jsx("section",{className:"py-20 bg-dark-gradient",children:d.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:d.jsxs("div",{className:"space-y-8",children:[d.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white",children:"Ready to Transform DeFi Funding?"}),d.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Join thousands of innovators and investors building the future of decentralized finance through our crowdfunding platform."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsxs("button",{onClick:t,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl font-semibold hover:from-purple-700 hover:to-indigo-700 transition-all duration-200 shadow-xl flex items-center justify-center",children:[d.jsx(vO,{className:"mr-2",size:18}),"Get Started Today"]}),d.jsxs("button",{onClick:e,className:"px-8 py-4 border-2 border-purple-500 text-purple-400 rounded-xl font-semibold hover:bg-purple-500 hover:text-white transition-all duration-200 flex items-center justify-center",children:[d.jsx(Dz,{className:"mr-2",size:18}),"Learn More"]})]})]})})})}var u3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ok=ce.createContext&&ce.createContext(u3),gee=["attr","size","title"];function yee(t,e){if(t==null)return{};var n=wee(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(this,arguments)}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vee(t,e,n){return e=xee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xee(t){var e=_ee(t,"string");return typeof e=="symbol"?e:e+""}function _ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d3(t){return t&&t.map((e,n)=>ce.createElement(e.tag,qy({key:n},e.attr),d3(e.child)))}function Nv(t){return e=>ce.createElement(bee,Hy({attr:qy({},t.attr)},e),d3(t.child))}function bee(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=yee(t,gee),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ce.createElement("svg",Hy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:qy(qy({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&ce.createElement("title",null,i),t.children)};return ok!==void 0?ce.createElement(ok.Consumer,null,n=>e(n)):e(u3)}function Eee(t){return Nv({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(t)}function See(t){return Nv({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function Tee(t){return Nv({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(t)}function Iee(t){return Nv({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function h3(){return d.jsx("footer",{className:"bg-gray-800 text-white py-16",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-crypto rounded-lg flex items-center justify-center",children:d.jsx(JS,{className:"text-white text-sm",size:16})}),d.jsx("span",{className:"text-xl font-bold",children:"Wendex"})]}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"The leading DexScreener-integrated crowdfunding platform for innovative DeFi projects and their supporters."}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Iee,{size:20})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Eee,{size:20})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Tee,{size:20})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(See,{size:20})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Platform"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Browse Projects"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Submit Project"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Analytics"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Governance"})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Resources"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Documentation"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"API Reference"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Smart Contracts"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Security"})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Company"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"About Us"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Careers"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Press Kit"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})})]})]})]}),d.jsx("div",{className:"bg-gray-900/50 border border-gray-600/30 rounded-lg p-5 mt-12",children:d.jsxs("div",{className:"text-gray-300 text-sm space-y-2 leading-relaxed",children:[d.jsx("h4",{className:"text-white font-semibold text-base mb-3",children:"Platform Terms"}),d.jsxs("p",{children:[d.jsx("strong",{children:"Service:"})," Wendex operates as a crowdfunding platform facilitating community funding for DexScreener enhanced information services. We are an intermediary platform only."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Contributions:"})," All contributions are final and non-refundable. We do not guarantee campaign success, service delivery, or token performance. Users participate voluntarily at their own risk."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Liability:"})," Wendex disclaims liability for campaign outcomes, technical issues, or user losses. We do not provide financial advice."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Terms:"})," Platform fees are non-refundable. By using this platform you agree to these terms."]})]})}),d.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[d.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 Wendex. All rights reserved."}),d.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookie Policy"})]})]})]})})}function Aee(){return d.jsxs("div",{className:"min-h-screen bg-dark-gradient",children:[d.jsx(Bj,{}),d.jsx(hee,{}),d.jsx(pee,{}),d.jsx(mee,{}),d.jsx(h3,{})]})}const dr=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));dr.displayName="Card";const jr=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("flex flex-col space-y-1.5 p-6",t),...e}));jr.displayName="CardHeader";const Br=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("text-2xl font-semibold leading-none tracking-tight",t),...e}));Br.displayName="CardTitle";const Cee=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("text-sm text-muted-foreground",t),...e}));Cee.displayName="CardDescription";const hr=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("p-6 pt-0",t),...e}));hr.displayName="CardContent";const Nee=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("flex items-center p-6 pt-0",t),...e}));Nee.displayName="CardFooter";function kee(){return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:d.jsx(dr,{className:"w-full max-w-md mx-4",children:d.jsxs(hr,{className:"pt-6",children:[d.jsxs("div",{className:"flex mb-4 gap-2",children:[d.jsx(_f,{className:"h-8 w-8 text-red-500"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),d.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Xr(t){try{if(!t)return new Date;if(t&&typeof t=="object"&&"toDate"in t&&typeof t.toDate=="function"){const e=t.toDate();return df(e)?e:new Date}if(t&&typeof t=="object"&&"seconds"in t){const e=new Date(t.seconds*1e3+(t.nanoseconds||0)/1e6);return df(e)?e:new Date}if(t instanceof Date)return df(t)?t:new Date;if(typeof t=="number"){const e=t>1e10?new Date(t):new Date(t*1e3);return df(e)?e:new Date}if(typeof t=="string"){const e=new Date(t);return df(e)?e:new Date}return new Date}catch(e){return console.warn("Timestamp conversion error:",e,"Input:",t),new Date}}function df(t){return t instanceof Date&&!isNaN(t.getTime())}function Mee(t,e={}){try{const n=Xr(t),r={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",...e};return n.toLocaleDateString("en-US",r)}catch(n){return console.warn("Timestamp formatting error:",n),"Invalid Date"}}function Ree(t){try{const e=Xr(t),n=new Date,r=e.getTime()-n.getTime();if(r<=0)return"Expired";const s=Math.floor(r/1e3),i=Math.floor(s/60),o=Math.floor(i/60),a=Math.floor(o/24);return a>0?`${a} day${a===1?"":"s"} left`:o>0?`${o} hour${o===1?"":"s"} left`:i>0?`${i} minute${i===1?"":"s"} left`:`${s} second${s===1?"":"s"} left`}catch(e){return console.warn("Time remaining calculation error:",e),"Unknown"}}function Pee(t){try{const e=Xr(t),n=new Date,r=e.getTime()-n.getTime();if(r<=0)return"Expired";const s=Math.floor(r/1e3),i=Math.floor(s/60),o=Math.floor(i/60),a=Math.floor(o/24),l=o%24,c=i%60;return a>0?l>0?`${a} day${a===1?"":"s"}, ${l} hour${l===1?"":"s"}`:`${a} day${a===1?"":"s"}`:o>0?c>0?`${o} hour${o===1?"":"s"}, ${c} minute${c===1?"":"s"}`:`${o} hour${o===1?"":"s"}`:i>0?`${i} minute${i===1?"":"s"}`:`${s} second${s===1?"":"s"}`}catch(e){return console.warn("Detailed time remaining calculation error:",e),"Unknown"}}function Oee(t){try{const e=Xr(t),n=new Date,r=e.getTime()-n.getTime(),s=r<=0,i=Mee(e,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),o=Ree(t);let a="low";if(s)a="high";else{const l=Math.floor(r/864e5);l<=1?a="high":l<=7&&(a="medium")}return{formatted:i,timeRemaining:o,isExpired:s,urgency:a}}catch(e){return console.warn("Campaign deadline formatting error:",e),{formatted:"Invalid Date",timeRemaining:"Unknown",isExpired:!0,urgency:"high"}}}const Ox=({campaign:t,featured:e=!1,showStats:n=!0,size:r="medium",interactive:s=!0,onLike:i,onShare:o,className:a=""})=>{var b,x,T;const[,l]=sm(),[c,u]=k.useState(!1),[f,p]=k.useState(!1),m=k.useMemo(()=>{const D=Math.min(t.currentAmount/t.targetAmount*100,100),F=Oee(t.deadline||t.createdAt),R=F.isExpired,M=F.timeRemaining;return{progress:D,isExpired:R,timeRemaining:M,urgency:F.urgency,isNearlyFunded:D>=80,isFunded:D>=100,fundingVelocity:t.currentAmount/Math.max(1,Math.floor((Date.now()-new Date(t.createdAt).getTime())/(24*60*60*1e3)))}},[t]),v=k.useMemo(()=>{var F;switch(((F=t.postFundingAction)==null?void 0:F.type)||"none"){case"boosts":return{icon:dl,color:"from-yellow-500 to-orange-600",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",label:"With Boosts"};case"advertising":return{icon:Xz,color:"from-purple-500 to-indigo-600",bgColor:"bg-purple-500/20",textColor:"text-purple-400",label:"With Advertising"};default:return{icon:lm,color:"from-green-500 to-emerald-600",bgColor:"bg-green-500/20",textColor:"text-green-400",label:"Enhanced Info"}}},[(b=t.postFundingAction)==null?void 0:b.type]),g=k.useMemo(()=>{switch(r){case"small":return{cardHeight:"h-full min-h-[320px]",bannerHeight:"h-24",logoSize:"w-12 h-12",titleSize:"text-base",descriptionLines:"line-clamp-2",padding:"p-4"};case"large":return{cardHeight:"h-full min-h-[420px]",bannerHeight:"h-32",logoSize:"w-16 h-16",titleSize:"text-xl",descriptionLines:"line-clamp-3",padding:"p-6"};default:return{cardHeight:"h-full min-h-[380px]",bannerHeight:"h-28",logoSize:"w-14 h-14",titleSize:"text-lg",descriptionLines:"line-clamp-2",padding:"p-4"}}},[r]),w=k.useMemo(()=>m.isFunded?{label:"Funded",variant:"default",className:"bg-green-500 text-white"}:m.isExpired?{label:"Expired",variant:"destructive",className:"bg-red-500 text-white"}:t.status==="processing"?{label:"Processing",variant:"secondary",className:"bg-blue-500 text-white"}:{label:"Active",variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500/50"},[m,t.status]),_=k.useCallback(D=>{if(!s)return;const F=D.target;F.closest("button")||F.closest('[role="button"]')||l(`/campaign/${t.id}`)},[s,l,t.id]);return k.useCallback(D=>{D.stopPropagation(),u(!c),i==null||i(t.id)},[c,i,t.id]),k.useCallback(D=>{D.stopPropagation(),o==null||o(t)},[o,t]),v.icon,d.jsxs("div",{className:`
        ${g.cardHeight} 
        bg-gray-900 border border-gray-800 rounded-2xl overflow-hidden
        ${e?"ring-2 ring-purple-500":""}
        ${s?"cursor-pointer hover:scale-105 hover:shadow-2xl hover:border-purple-500/50":""}
        transition-all duration-300 group shadow-xl
        ${a}
      `,onClick:_,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[d.jsx("div",{className:"absolute top-4 right-4 z-20",children:d.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${t.status==="active"?"bg-green-500 text-white":t.status==="funded"?"bg-blue-500 text-white":"bg-red-500 text-white"}`,children:w.label})}),d.jsx("div",{className:"h-32 bg-gradient-to-r from-purple-600 to-indigo-600 relative",children:t.bannerUrl&&t.bannerUrl!=="/placeholder-banner.jpg"?d.jsx("img",{src:t.bannerUrl,alt:`${t.tokenMetadata.name} banner`,className:"w-full h-full object-cover opacity-90",onError:D=>{D.currentTarget.style.display="none"}}):null}),d.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-4 mb-4 -mt-8 relative z-10",children:[d.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-gray-900 shadow-2xl bg-gradient-to-r from-purple-500 to-indigo-600 flex items-center justify-center overflow-hidden",children:t.logoUrl&&t.logoUrl!=="/placeholder-token.png"?d.jsx("img",{src:t.logoUrl,alt:t.tokenMetadata.name,className:"w-full h-full object-cover",onError:D=>{D.currentTarget.style.display="none"}}):d.jsx("div",{className:"text-white font-bold text-2xl",children:((x=t.tokenMetadata.symbol)==null?void 0:x.slice(0,2))||"TK"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-1 truncate",children:((T=t.tokenMetadata)==null?void 0:T.name)||t.tokenName||"Unknown Token"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("span",{className:"px-2 py-1 bg-purple-600 text-white text-sm font-medium rounded",children:["$",t.tokenMetadata.symbol]}),t.tokenMetadata.verified&&d.jsx(bf,{className:"w-4 h-4 text-blue-400"})]})]})]}),d.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:t.description}),d.jsxs("div",{className:"space-y-3 mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("span",{className:"text-2xl font-bold text-white",children:["$",t.currentAmount.toFixed(2)]}),d.jsxs("span",{className:"text-gray-400",children:["of $",t.targetAmount.toFixed(2)]})]}),d.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2",children:d.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(m.progress,100)}%`}})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-bold text-white",children:t.contributionCount||0}),d.jsx("div",{className:"text-xs text-gray-500",children:"Contributions"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-sm font-bold text-purple-400",children:[m.progress.toFixed(0),"%"]}),d.jsx("div",{className:"text-xs text-gray-500",children:"Funded"})]}),d.jsxs("div",{children:[d.jsx("div",{className:`text-sm font-bold ${m.urgency==="high"?"text-red-400":m.urgency==="medium"?"text-yellow-400":"text-green-400"}`,children:m.timeRemaining==="Expired"?"Expired":m.timeRemaining.split(" ")[0]}),d.jsx("div",{className:"text-xs text-gray-500",children:m.timeRemaining==="Expired"?"":m.timeRemaining.includes("hour")?"Hours Left":m.timeRemaining.includes("minute")?"Minutes Left":m.timeRemaining.includes("second")?"Seconds Left":"Days Left"})]})]})]}),d.jsx("div",{className:"flex-1"}),d.jsx("button",{className:`w-full py-3 rounded-xl font-semibold transition-all duration-200 ${m.isFunded?"bg-green-600 hover:bg-green-700 text-white":m.isExpired?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white hover:scale-105"}`,disabled:m.isExpired,onClick:D=>{D.stopPropagation(),l(`/campaign/${t.id}`)},children:m.isFunded?"View Campaign":m.isExpired?"Expired":"Contribute Now"})]})]})};function lk(t,[e,n]){return Math.min(n,Math.max(e,t))}var Lee=k.createContext(void 0);function XT(t){const e=k.useContext(Lee);return t||e||"ltr"}var Lx=0;function f3(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ck()),document.body.insertAdjacentElement("beforeend",t[1]??ck()),Lx++,()=>{Lx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Lx--}},[])}function ck(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Dx="focusScope.autoFocusOnMount",jx="focusScope.autoFocusOnUnmount",uk={bubbles:!1,cancelable:!0},Dee="FocusScope",JT=k.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=k.useState(null),c=ni(s),u=ni(i),f=k.useRef(null),p=jt(e,g=>l(g)),m=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(r){let g=function(x){if(m.paused||!a)return;const T=x.target;a.contains(T)?f.current=T:Sa(f.current,{select:!0})},w=function(x){if(m.paused||!a)return;const T=x.relatedTarget;T!==null&&(a.contains(T)||Sa(f.current,{select:!0}))},_=function(x){if(document.activeElement===document.body)for(const D of x)D.removedNodes.length>0&&Sa(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const b=new MutationObserver(_);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),b.disconnect()}}},[r,a,m.paused]),k.useEffect(()=>{if(a){hk.add(m);const g=document.activeElement;if(!a.contains(g)){const _=new CustomEvent(Dx,uk);a.addEventListener(Dx,c),a.dispatchEvent(_),_.defaultPrevented||(jee(zee(p3(a)),{select:!0}),document.activeElement===g&&Sa(a))}return()=>{a.removeEventListener(Dx,c),setTimeout(()=>{const _=new CustomEvent(jx,uk);a.addEventListener(jx,u),a.dispatchEvent(_),_.defaultPrevented||Sa(g??document.body,{select:!0}),a.removeEventListener(jx,u),hk.remove(m)},0)}}},[a,c,u,m]);const v=k.useCallback(g=>{if(!n&&!r||m.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(w&&_){const b=g.currentTarget,[x,T]=Bee(b);x&&T?!g.shiftKey&&_===T?(g.preventDefault(),n&&Sa(x,{select:!0})):g.shiftKey&&_===x&&(g.preventDefault(),n&&Sa(T,{select:!0})):_===b&&g.preventDefault()}},[n,r,m.paused]);return d.jsx(et.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});JT.displayName=Dee;function jee(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Sa(r,{select:e}),document.activeElement!==n)return}function Bee(t){const e=p3(t),n=dk(e,t),r=dk(e.reverse(),t);return[n,r]}function p3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dk(t,e){for(const n of t)if(!Fee(n,{upTo:e}))return n}function Fee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Uee(t){return t instanceof HTMLInputElement&&"select"in t}function Sa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Uee(t)&&e&&t.select()}}var hk=Vee();function Vee(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=fk(t,e),t.unshift(e)},remove(e){var n;t=fk(t,e),(n=t[0])==null||n.resume()}}}function fk(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function zee(t){return t.filter(e=>e.tagName!=="A")}function m3(t){const e=k.useRef({value:t,previous:t});return k.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Wee=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Mu=new WeakMap,Dg=new WeakMap,jg={},Bx=0,g3=function(t){return t&&(t.host||g3(t.parentNode))},$ee=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=g3(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Hee=function(t,e,n,r){var s=$ee(e,Array.isArray(t)?t:[t]);jg[n]||(jg[n]=new WeakMap);var i=jg[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))u(p);else try{var m=p.getAttribute(r),v=m!==null&&m!=="false",g=(Mu.get(p)||0)+1,w=(i.get(p)||0)+1;Mu.set(p,g),i.set(p,w),o.push(p),g===1&&v&&Dg.set(p,!0),w===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return u(e),a.clear(),Bx++,function(){o.forEach(function(f){var p=Mu.get(f)-1,m=i.get(f)-1;Mu.set(f,p),i.set(f,m),p||(Dg.has(f)||f.removeAttribute(r),Dg.delete(f)),m||f.removeAttribute(n)}),Bx--,Bx||(Mu=new WeakMap,Mu=new WeakMap,Dg=new WeakMap,jg={})}},y3=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Wee(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Hee(r,s,n,"aria-hidden")):function(){return null}},Fi=function(){return Fi=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fi.apply(this,arguments)};function Sm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function qee(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var R0="right-scroll-bar-position",P0="width-before-scroll-bar",Kee="with-scroll-bars-hidden",Gee="--removed-body-scroll-bar-size";function Fx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Qee(t,e){var n=k.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Yee=typeof window<"u"?k.useLayoutEffect:k.useEffect,pk=new WeakMap;function Zee(t,e){var n=Qee(null,function(r){return t.forEach(function(s){return Fx(s,r)})});return Yee(function(){var r=pk.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Fx(a,null)}),i.forEach(function(a){s.has(a)||Fx(a,o)})}pk.set(n,t)},[t]),n}function Xee(t){return t}function Jee(t,e){e===void 0&&(e=Xee);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function ete(t){t===void 0&&(t={});var e=Jee(null);return e.options=Fi({async:!0,ssr:!1},t),e}var w3=function(t){var e=t.sideCar,n=Sm(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,Fi({},n))};w3.isSideCarExport=!0;function tte(t,e){return t.useMedium(e),w3}var v3=ete(),Ux=function(){},kv=k.forwardRef(function(t,e){var n=k.useRef(null),r=k.useState({onScrollCapture:Ux,onWheelCapture:Ux,onTouchMoveCapture:Ux}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,p=t.sideCar,m=t.noRelative,v=t.noIsolation,g=t.inert,w=t.allowPinchZoom,_=t.as,b=_===void 0?"div":_,x=t.gapMode,T=Sm(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=p,F=Zee([n,e]),R=Fi(Fi({},T),s);return k.createElement(k.Fragment,null,u&&k.createElement(D,{sideCar:v3,removeScrollBar:c,shards:f,noRelative:m,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:x}),o?k.cloneElement(k.Children.only(a),Fi(Fi({},R),{ref:F})):k.createElement(b,Fi({},R,{className:l,ref:F}),a))});kv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kv.classNames={fullWidth:P0,zeroRight:R0};var nte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=nte();return e&&t.setAttribute("nonce",e),t}function ste(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ite(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ote=function(){var t=0,e=null;return{add:function(n){t==0&&(e=rte())&&(ste(e,n),ite(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ate=function(){var t=ote();return function(e,n){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},x3=function(){var t=ate(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},lte={left:0,top:0,right:0,gap:0},Vx=function(t){return parseInt(t||"",10)||0},cte=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Vx(n),Vx(r),Vx(s)]},ute=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lte;var e=cte(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},dte=x3(),bd="data-scroll-locked",hte=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Kee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(bd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(R0,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(P0,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(R0," .").concat(R0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(P0," .").concat(P0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bd,`] {
    `).concat(Gee,": ").concat(a,`px;
  }
`)},mk=function(){var t=parseInt(document.body.getAttribute(bd)||"0",10);return isFinite(t)?t:0},fte=function(){k.useEffect(function(){return document.body.setAttribute(bd,(mk()+1).toString()),function(){var t=mk()-1;t<=0?document.body.removeAttribute(bd):document.body.setAttribute(bd,t.toString())}},[])},pte=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;fte();var i=k.useMemo(function(){return ute(s)},[s]);return k.createElement(dte,{styles:hte(i,!e,s,n?"":"!important")})},pE=!1;if(typeof window<"u")try{var Bg=Object.defineProperty({},"passive",{get:function(){return pE=!0,!0}});window.addEventListener("test",Bg,Bg),window.removeEventListener("test",Bg,Bg)}catch{pE=!1}var Ru=pE?{passive:!1}:!1,mte=function(t){return t.tagName==="TEXTAREA"},_3=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!mte(t)&&n[e]==="visible")},gte=function(t){return _3(t,"overflowY")},yte=function(t){return _3(t,"overflowX")},gk=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=b3(t,r);if(s){var i=E3(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wte=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},vte=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},b3=function(t,e){return t==="v"?gte(e):yte(e)},E3=function(t,e){return t==="v"?wte(e):vte(e)},xte=function(t,e){return t==="h"&&e==="rtl"?-1:1},_te=function(t,e,n,r,s){var i=xte(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,f=0,p=0;do{var m=E3(t,a),v=m[0],g=m[1],w=m[2],_=g-w-i*v;(v||_)&&b3(t,a)&&(f+=_,p+=v),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(f)<1||!u&&Math.abs(p)<1)&&(c=!0),c},Fg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yk=function(t){return[t.deltaX,t.deltaY]},wk=function(t){return t&&"current"in t?t.current:t},bte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Ete=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Ste=0,Pu=[];function Tte(t){var e=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),s=k.useState(Ste++)[0],i=k.useState(x3)[0],o=k.useRef(t);k.useEffect(function(){o.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=qee([t.lockRef.current],(t.shards||[]).map(wk),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=k.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var _=Fg(g),b=n.current,x="deltaX"in g?g.deltaX:b[0]-_[0],T="deltaY"in g?g.deltaY:b[1]-_[1],D,F=g.target,R=Math.abs(x)>Math.abs(T)?"h":"v";if("touches"in g&&R==="h"&&F.type==="range")return!1;var M=gk(R,F);if(!M)return!0;if(M?D=R:(D=R==="v"?"h":"v",M=gk(R,F)),!M)return!1;if(!r.current&&"changedTouches"in g&&(x||T)&&(r.current=D),!D)return!0;var U=r.current||D;return _te(U,w,g,U==="h"?x:T)},[]),l=k.useCallback(function(g){var w=g;if(!(!Pu.length||Pu[Pu.length-1]!==i)){var _="deltaY"in w?yk(w):Fg(w),b=e.current.filter(function(D){return D.name===w.type&&(D.target===w.target||w.target===D.shadowParent)&&bte(D.delta,_)})[0];if(b&&b.should){w.cancelable&&w.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(wk).filter(Boolean).filter(function(D){return D.contains(w.target)}),T=x.length>0?a(w,x[0]):!o.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),c=k.useCallback(function(g,w,_,b){var x={name:g,delta:w,target:_,should:b,shadowParent:Ite(_)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(T){return T!==x})},1)},[]),u=k.useCallback(function(g){n.current=Fg(g),r.current=void 0},[]),f=k.useCallback(function(g){c(g.type,yk(g),g.target,a(g,t.lockRef.current))},[]),p=k.useCallback(function(g){c(g.type,Fg(g),g.target,a(g,t.lockRef.current))},[]);k.useEffect(function(){return Pu.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Ru),document.addEventListener("touchmove",l,Ru),document.addEventListener("touchstart",u,Ru),function(){Pu=Pu.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Ru),document.removeEventListener("touchmove",l,Ru),document.removeEventListener("touchstart",u,Ru)}},[]);var m=t.removeScrollBar,v=t.inert;return k.createElement(k.Fragment,null,v?k.createElement(i,{styles:Ete(s)}):null,m?k.createElement(pte,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Ite(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Ate=tte(v3,Tte);var eI=k.forwardRef(function(t,e){return k.createElement(kv,Fi({},t,{ref:e,sideCar:Ate}))});eI.classNames=kv.classNames;var Cte=[" ","Enter","ArrowUp","ArrowDown"],Nte=[" ","Enter"],Wc="Select",[Mv,Rv,kte]=QS(Wc),[Rh,_he]=eo(Wc,[kte,Kw]),Pv=Kw(),[Mte,Ol]=Rh(Wc),[Rte,Pte]=Rh(Wc),S3=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:p,required:m,form:v}=t,g=Pv(e),[w,_]=k.useState(null),[b,x]=k.useState(null),[T,D]=k.useState(!1),F=XT(c),[R,M]=Uc({prop:r,defaultProp:s??!1,onChange:i,caller:Wc}),[U,W]=Uc({prop:o,defaultProp:a,onChange:l,caller:Wc}),$=k.useRef(null),q=w?v||!!w.closest("form"):!0,[C,y]=k.useState(new Set),I=Array.from(C).map(O=>O.props.value).join(";");return d.jsx(WW,{...g,children:d.jsxs(Mte,{required:m,scope:e,trigger:w,onTriggerChange:_,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:T,onValueNodeHasChildrenChange:D,contentId:hl(),value:U,onValueChange:W,open:R,onOpenChange:M,dir:F,triggerPointerDownPosRef:$,disabled:p,children:[d.jsx(Mv.Provider,{scope:e,children:d.jsx(Rte,{scope:t.__scopeSelect,onNativeOptionAdd:k.useCallback(O=>{y(z=>new Set(z).add(O))},[]),onNativeOptionRemove:k.useCallback(O=>{y(z=>{const L=new Set(z);return L.delete(O),L})},[]),children:n})}),q?d.jsxs(G3,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:U,onChange:O=>W(O.target.value),disabled:p,form:v,children:[U===void 0?d.jsx("option",{value:""}):null,Array.from(C)]},I):null]})})};S3.displayName=Wc;var T3="SelectTrigger",I3=k.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Pv(n),o=Ol(T3,n),a=o.disabled||r,l=jt(e,o.onTriggerChange),c=Rv(n),u=k.useRef("touch"),[f,p,m]=Y3(g=>{const w=c().filter(x=>!x.disabled),_=w.find(x=>x.value===o.value),b=Z3(w,g,_);b!==void 0&&o.onValueChange(b.value)}),v=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return d.jsx(tL,{asChild:!0,...i,children:d.jsx(et.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Q3(o.value)?"":void 0,...s,ref:l,onClick:Ve(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&v(g)}),onPointerDown:Ve(s.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Ve(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(w&&g.key===" ")&&Cte.includes(g.key)&&(v(),g.preventDefault())})})})});I3.displayName=T3;var A3="SelectValue",C3=k.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Ol(A3,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,f=jt(e,l.onValueNodeChange);return Sr(()=>{c(u)},[c,u]),d.jsx(et.span,{...a,ref:f,style:{pointerEvents:"none"},children:Q3(l.value)?d.jsx(d.Fragment,{children:o}):i})});C3.displayName=A3;var Ote="SelectIcon",N3=k.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(et.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});N3.displayName=Ote;var Lte="SelectPortal",k3=t=>d.jsx(Uw,{asChild:!0,...t});k3.displayName=Lte;var $c="SelectContent",M3=k.forwardRef((t,e)=>{const n=Ol($c,t.__scopeSelect),[r,s]=k.useState();if(Sr(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Rl.createPortal(d.jsx(R3,{scope:t.__scopeSelect,children:d.jsx(Mv.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(P3,{...t,ref:e})});M3.displayName=$c;var ai=10,[R3,Ll]=Rh($c),Dte="SelectContentImpl",jte=Yd("SelectContent.RemoveScroll"),P3=k.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:w,..._}=t,b=Ol($c,n),[x,T]=k.useState(null),[D,F]=k.useState(null),R=jt(e,le=>T(le)),[M,U]=k.useState(null),[W,$]=k.useState(null),q=Rv(n),[C,y]=k.useState(!1),I=k.useRef(!1);k.useEffect(()=>{if(x)return y3(x)},[x]),f3();const O=k.useCallback(le=>{const[ye,...Te]=q().map(_e=>_e.ref.current),[Me]=Te.slice(-1),Ee=document.activeElement;for(const _e of le)if(_e===Ee||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===ye&&D&&(D.scrollTop=0),_e===Me&&D&&(D.scrollTop=D.scrollHeight),_e==null||_e.focus(),document.activeElement!==Ee))return},[q,D]),z=k.useCallback(()=>O([M,x]),[O,M,x]);k.useEffect(()=>{C&&z()},[C,z]);const{onOpenChange:L,triggerPointerDownPosRef:j}=b;k.useEffect(()=>{if(x){let le={x:0,y:0};const ye=Me=>{var Ee,_e;le={x:Math.abs(Math.round(Me.pageX)-(((Ee=j.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Me.pageY)-(((_e=j.current)==null?void 0:_e.y)??0))}},Te=Me=>{le.x<=10&&le.y<=10?Me.preventDefault():x.contains(Me.target)||L(!1),document.removeEventListener("pointermove",ye),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Te,{capture:!0})}}},[x,L,j]),k.useEffect(()=>{const le=()=>L(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[L]);const[H,B]=Y3(le=>{const ye=q().filter(Ee=>!Ee.disabled),Te=ye.find(Ee=>Ee.ref.current===document.activeElement),Me=Z3(ye,le,Te);Me&&setTimeout(()=>Me.ref.current.focus())}),S=k.useCallback((le,ye,Te)=>{const Me=!I.current&&!Te;(b.value!==void 0&&b.value===ye||Me)&&(U(le),Me&&(I.current=!0))},[b.value]),K=k.useCallback(()=>x==null?void 0:x.focus(),[x]),ae=k.useCallback((le,ye,Te)=>{const Me=!I.current&&!Te;(b.value!==void 0&&b.value===ye||Me)&&$(le)},[b.value]),ue=r==="popper"?mE:O3,he=ue===mE?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:w}:{};return d.jsx(R3,{scope:n,content:x,viewport:D,onViewportChange:F,itemRefCallback:S,selectedItem:M,onItemLeave:K,itemTextRefCallback:ae,focusSelectedItem:z,selectedItemText:W,position:r,isPositioned:C,searchRef:H,children:d.jsx(eI,{as:jte,allowPinchZoom:!0,children:d.jsx(JT,{asChild:!0,trapped:b.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Ve(s,le=>{var ye;(ye=b.trigger)==null||ye.focus({preventScroll:!0}),le.preventDefault()}),children:d.jsx(im,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:d.jsx(ue,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:le=>le.preventDefault(),..._,...he,onPlaced:()=>y(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ve(_.onKeyDown,le=>{const ye=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ye&&le.key.length===1&&B(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Me=q().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Ee=le.target,_e=Me.indexOf(Ee);Me=Me.slice(_e+1)}setTimeout(()=>O(Me)),le.preventDefault()}})})})})})})});P3.displayName=Dte;var Bte="SelectItemAlignedPosition",O3=k.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ol($c,n),o=Ll($c,n),[a,l]=k.useState(null),[c,u]=k.useState(null),f=jt(e,R=>u(R)),p=Rv(n),m=k.useRef(!1),v=k.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:_,focusSelectedItem:b}=o,x=k.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&w&&_){const R=i.trigger.getBoundingClientRect(),M=c.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),W=_.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=W.left-M.left,_e=U.left-Ee,He=R.left-_e,Re=R.width+He,Ge=Math.max(Re,M.width),Wt=window.innerWidth-ai,at=lk(_e,[ai,Math.max(ai,Wt-Ge)]);a.style.minWidth=Re+"px",a.style.left=at+"px"}else{const Ee=M.right-W.right,_e=window.innerWidth-U.right-Ee,He=window.innerWidth-R.right-_e,Re=R.width+He,Ge=Math.max(Re,M.width),Wt=window.innerWidth-ai,at=lk(_e,[ai,Math.max(ai,Wt-Ge)]);a.style.minWidth=Re+"px",a.style.right=at+"px"}const $=p(),q=window.innerHeight-ai*2,C=g.scrollHeight,y=window.getComputedStyle(c),I=parseInt(y.borderTopWidth,10),O=parseInt(y.paddingTop,10),z=parseInt(y.borderBottomWidth,10),L=parseInt(y.paddingBottom,10),j=I+O+C+L+z,H=Math.min(w.offsetHeight*5,j),B=window.getComputedStyle(g),S=parseInt(B.paddingTop,10),K=parseInt(B.paddingBottom,10),ae=R.top+R.height/2-ai,ue=q-ae,he=w.offsetHeight/2,le=w.offsetTop+he,ye=I+O+le,Te=j-ye;if(ye<=ae){const Ee=$.length>0&&w===$[$.length-1].ref.current;a.style.bottom="0px";const _e=c.clientHeight-g.offsetTop-g.offsetHeight,He=Math.max(ue,he+(Ee?K:0)+_e+z),Re=ye+He;a.style.height=Re+"px"}else{const Ee=$.length>0&&w===$[0].ref.current;a.style.top="0px";const He=Math.max(ae,I+g.offsetTop+(Ee?S:0)+he)+Te;a.style.height=He+"px",g.scrollTop=ye-ae+g.offsetTop}a.style.margin=`${ai}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=q+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,a,c,g,w,_,i.dir,r]);Sr(()=>x(),[x]);const[T,D]=k.useState();Sr(()=>{c&&D(window.getComputedStyle(c).zIndex)},[c]);const F=k.useCallback(R=>{R&&v.current===!0&&(x(),b==null||b(),v.current=!1)},[x,b]);return d.jsx(Ute,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:F,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:d.jsx(et.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});O3.displayName=Bte;var Fte="SelectPopperPosition",mE=k.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ai,...i}=t,o=Pv(n);return d.jsx(nL,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mE.displayName=Fte;var[Ute,tI]=Rh($c,{}),gE="SelectViewport",L3=k.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ll(gE,n),o=tI(gE,n),a=jt(e,i.onViewportChange),l=k.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Mv.Slot,{scope:n,children:d.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ve(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const m=Math.abs(l.current-u.scrollTop);if(m>0){const v=window.innerHeight-ai*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),_=Math.max(g,w);if(_<v){const b=_+m,x=Math.min(v,b),T=b-x;f.style.height=x+"px",f.style.bottom==="0px"&&(u.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});L3.displayName=gE;var D3="SelectGroup",[Vte,zte]=Rh(D3),Wte=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=hl();return d.jsx(Vte,{scope:n,id:s,children:d.jsx(et.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Wte.displayName=D3;var j3="SelectLabel",B3=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zte(j3,n);return d.jsx(et.div,{id:s.id,...r,ref:e})});B3.displayName=j3;var Ky="SelectItem",[$te,F3]=Rh(Ky),U3=k.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ol(Ky,n),l=Ll(Ky,n),c=a.value===r,[u,f]=k.useState(i??""),[p,m]=k.useState(!1),v=jt(e,b=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,b,r,s)}),g=hl(),w=k.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx($te,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:k.useCallback(b=>{f(x=>x||((b==null?void 0:b.textContent)??"").trim())},[]),children:d.jsx(Mv.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:d.jsx(et.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:Ve(o.onFocus,()=>m(!0)),onBlur:Ve(o.onBlur,()=>m(!1)),onClick:Ve(o.onClick,()=>{w.current!=="mouse"&&_()}),onPointerUp:Ve(o.onPointerUp,()=>{w.current==="mouse"&&_()}),onPointerDown:Ve(o.onPointerDown,b=>{w.current=b.pointerType}),onPointerMove:Ve(o.onPointerMove,b=>{var x;w.current=b.pointerType,s?(x=l.onItemLeave)==null||x.call(l):w.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ve(o.onPointerLeave,b=>{var x;b.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:Ve(o.onKeyDown,b=>{var T;((T=l.searchRef)==null?void 0:T.current)!==""&&b.key===" "||(Nte.includes(b.key)&&_(),b.key===" "&&b.preventDefault())})})})})});U3.displayName=Ky;var kf="SelectItemText",V3=k.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ol(kf,n),a=Ll(kf,n),l=F3(kf,n),c=Pte(kf,n),[u,f]=k.useState(null),p=jt(e,_=>f(_),l.onItemTextChange,_=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,_,l.value,l.disabled)}),m=u==null?void 0:u.textContent,v=k.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=c;return Sr(()=>(g(v),()=>w(v)),[g,w,v]),d.jsxs(d.Fragment,{children:[d.jsx(et.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Rl.createPortal(i.children,o.valueNode):null]})});V3.displayName=kf;var z3="SelectItemIndicator",W3=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return F3(z3,n).isSelected?d.jsx(et.span,{"aria-hidden":!0,...r,ref:e}):null});W3.displayName=z3;var yE="SelectScrollUpButton",$3=k.forwardRef((t,e)=>{const n=Ll(yE,t.__scopeSelect),r=tI(yE,t.__scopeSelect),[s,i]=k.useState(!1),o=jt(e,r.onScrollButtonChange);return Sr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(q3,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});$3.displayName=yE;var wE="SelectScrollDownButton",H3=k.forwardRef((t,e)=>{const n=Ll(wE,t.__scopeSelect),r=tI(wE,t.__scopeSelect),[s,i]=k.useState(!1),o=jt(e,r.onScrollButtonChange);return Sr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(q3,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});H3.displayName=wE;var q3=k.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ll("SelectScrollButton",n),o=k.useRef(null),a=Rv(n),l=k.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return k.useEffect(()=>()=>l(),[l]),Sr(()=>{var u;const c=a().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(et.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ve(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ve(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ve(s.onPointerLeave,()=>{l()})})}),Hte="SelectSeparator",K3=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(et.div,{"aria-hidden":!0,...r,ref:e})});K3.displayName=Hte;var vE="SelectArrow",qte=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Pv(n),i=Ol(vE,n),o=Ll(vE,n);return i.open&&o.position==="popper"?d.jsx(rL,{...s,...r,ref:e}):null});qte.displayName=vE;var Kte="SelectBubbleInput",G3=k.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=k.useRef(null),i=jt(r,s),o=m3(e);return k.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const f=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(f)}},[o,e]),d.jsx(et.select,{...n,style:{...Y4,...n.style},ref:i,defaultValue:e})});G3.displayName=Kte;function Q3(t){return t===""||t===void 0}function Y3(t){const e=ni(t),n=k.useRef(""),r=k.useRef(0),s=k.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=k.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Z3(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Gte(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Gte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Qte=S3,X3=I3,Yte=C3,Zte=N3,Xte=k3,J3=M3,Jte=L3,e5=B3,t5=U3,ene=V3,tne=W3,n5=$3,r5=H3,s5=K3;const Mf=Qte,Rf=Yte,od=k.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(X3,{ref:r,className:We("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(Zte,{asChild:!0,children:d.jsx(_O,{className:"h-4 w-4 opacity-50"})})]}));od.displayName=X3.displayName;const i5=k.forwardRef(({className:t,...e},n)=>d.jsx(n5,{ref:n,className:We("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(Uz,{className:"h-4 w-4"})}));i5.displayName=n5.displayName;const o5=k.forwardRef(({className:t,...e},n)=>d.jsx(r5,{ref:n,className:We("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(_O,{className:"h-4 w-4"})}));o5.displayName=r5.displayName;const ad=k.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(Xte,{children:d.jsxs(J3,{ref:s,className:We("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(i5,{}),d.jsx(Jte,{className:We("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(o5,{})]})}));ad.displayName=J3.displayName;const nne=k.forwardRef(({className:t,...e},n)=>d.jsx(e5,{ref:n,className:We("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));nne.displayName=e5.displayName;const vn=k.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(t5,{ref:r,className:We("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(tne,{children:d.jsx(Fz,{className:"h-4 w-4"})})}),d.jsx(ene,{children:e})]}));vn.displayName=t5.displayName;const rne=k.forwardRef(({className:t,...e},n)=>d.jsx(s5,{ref:n,className:We("-mx-1 my-1 h-px bg-muted",t),...e}));rne.displayName=s5.displayName;var zx="rovingFocusGroup.onEntryFocus",sne={bubbles:!1,cancelable:!0},Tm="RovingFocusGroup",[xE,a5,ine]=QS(Tm),[one,l5]=eo(Tm,[ine]),[ane,lne]=one(Tm),c5=k.forwardRef((t,e)=>d.jsx(xE.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(xE.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(cne,{...t,ref:e})})}));c5.displayName=Tm;var cne=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,p=k.useRef(null),m=jt(e,p),v=XT(i),[g,w]=Uc({prop:o,defaultProp:a??null,onChange:l,caller:Tm}),[_,b]=k.useState(!1),x=ni(c),T=a5(n),D=k.useRef(!1),[F,R]=k.useState(0);return k.useEffect(()=>{const M=p.current;if(M)return M.addEventListener(zx,x),()=>M.removeEventListener(zx,x)},[x]),d.jsx(ane,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:g,onItemFocus:k.useCallback(M=>w(M),[w]),onItemShiftTab:k.useCallback(()=>b(!0),[]),onFocusableItemAdd:k.useCallback(()=>R(M=>M+1),[]),onFocusableItemRemove:k.useCallback(()=>R(M=>M-1),[]),children:d.jsx(et.div,{tabIndex:_||F===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Ve(t.onMouseDown,()=>{D.current=!0}),onFocus:Ve(t.onFocus,M=>{const U=!D.current;if(M.target===M.currentTarget&&U&&!_){const W=new CustomEvent(zx,sne);if(M.currentTarget.dispatchEvent(W),!W.defaultPrevented){const $=T().filter(O=>O.focusable),q=$.find(O=>O.active),C=$.find(O=>O.id===g),I=[q,C,...$].filter(Boolean).map(O=>O.ref.current);h5(I,u)}}D.current=!1}),onBlur:Ve(t.onBlur,()=>b(!1))})})}),u5="RovingFocusGroupItem",d5=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=hl(),c=i||l,u=lne(u5,n),f=u.currentTabStopId===c,p=a5(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:g}=u;return k.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),d.jsx(xE.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:d.jsx(et.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Ve(t.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:Ve(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ve(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const _=hne(w,u.orientation,u.dir);if(_!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=p().filter(T=>T.focusable).map(T=>T.ref.current);if(_==="last")x.reverse();else if(_==="prev"||_==="next"){_==="prev"&&x.reverse();const T=x.indexOf(w.currentTarget);x=u.loop?fne(x,T+1):x.slice(T+1)}setTimeout(()=>h5(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});d5.displayName=u5;var une={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dne(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function hne(t,e,n){const r=dne(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return une[r]}function h5(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function fne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var pne=c5,mne=d5,Ov="Tabs",[gne,bhe]=eo(Ov,[l5]),f5=l5(),[yne,nI]=gne(Ov),p5=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=XT(a),[f,p]=Uc({prop:r,onChange:s,defaultProp:i??"",caller:Ov});return d.jsx(yne,{scope:n,baseId:hl(),value:f,onValueChange:p,orientation:o,dir:u,activationMode:l,children:d.jsx(et.div,{dir:u,"data-orientation":o,...c,ref:e})})});p5.displayName=Ov;var m5="TabsList",g5=k.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=nI(m5,n),o=f5(n);return d.jsx(pne,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(et.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});g5.displayName=m5;var y5="TabsTrigger",w5=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=nI(y5,n),a=f5(n),l=_5(o.baseId,r),c=b5(o.baseId,r),u=r===o.value;return d.jsx(mne,{asChild:!0,...a,focusable:!s,active:u,children:d.jsx(et.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Ve(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ve(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ve(t.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!s&&f&&o.onValueChange(r)})})})});w5.displayName=y5;var v5="TabsContent",x5=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=nI(v5,n),l=_5(a.baseId,r),c=b5(a.baseId,r),u=r===a.value,f=k.useRef(u);return k.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(eu,{present:s||u,children:({present:p})=>d.jsx(et.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});x5.displayName=v5;function _5(t,e){return`${t}-trigger-${e}`}function b5(t,e){return`${t}-content-${e}`}var wne=p5,E5=g5,S5=w5,T5=x5;const I5=wne,rI=k.forwardRef(({className:t,...e},n)=>d.jsx(E5,{ref:n,className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));rI.displayName=E5.displayName;const Po=k.forwardRef(({className:t,...e},n)=>d.jsx(S5,{ref:n,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Po.displayName=S5.displayName;const Oo=k.forwardRef(({className:t,...e},n)=>d.jsx(T5,{ref:n,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Oo.displayName=T5.displayName;function Ed({children:t}){return d.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[d.jsx(Bj,{}),d.jsx("main",{className:"flex-grow pt-20",children:t}),d.jsx(h3,{})]})}function vne(){const[,t]=sm(),[e,n]=k.useState(""),[r,s]=k.useState("all"),[i,o]=k.useState("all"),{data:a,isLoading:l,error:c}=Ao({queryKey:["campaigns",i,r],queryFn:()=>lh.list({status:i!=="all"?i:void 0,campaignType:r!=="all"?r:void 0}),refetchInterval:3e4}),f=((a==null?void 0:a.campaigns)||[]).filter(g=>{var w,_;if(e){const b=e.toLowerCase();return(((w=g.tokenMetadata)==null?void 0:w.name)||g.tokenName||"").toLowerCase().includes(b)||(((_=g.tokenMetadata)==null?void 0:_.symbol)||g.tokenSymbol||"").toLowerCase().includes(b)||(g.contractAddress||g.tokenAddress||"").toLowerCase().includes(b)}return!0}),p=f.filter(g=>g.status!=="active"?!1:new Date(g.deadline)>new Date),m=f.filter(g=>g.status==="funded"||g.status==="completed"),v=f.filter(g=>g.status==="failed"||g.status==="cancelled"?!0:g.status==="active"?new Date(g.deadline)<=new Date:!1);return d.jsx(Ed,{children:d.jsx("div",{className:"min-h-screen bg-dark-gradient",children:d.jsxs("div",{className:"container mx-auto px-6 py-12 space-y-8",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"heading-dark-1",children:"Active Campaigns"}),d.jsx("p",{className:"text-lg text-gray-400 mt-2",children:"Browse and contribute to DexScreener service crowdfunding campaigns"})]}),d.jsxs("button",{onClick:()=>t("/create-campaign"),className:"btn-dark-primary",children:[d.jsx(Kz,{className:"mr-2 h-4 w-4 inline"}),"Create Campaign"]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(Gz,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),d.jsx("input",{placeholder:"Search by token name, symbol, or address...",value:e,onChange:g=>n(g.target.value),className:"input-dark pl-10 w-full"})]}),d.jsxs(Mf,{value:r,onValueChange:s,children:[d.jsx(od,{className:"w-full sm:w-[180px] bg-gray-900/50 border-gray-800 text-gray-300",children:d.jsx(Rf,{placeholder:"Campaign Type"})}),d.jsxs(ad,{children:[d.jsx(vn,{value:"all",children:"All Types"}),d.jsx(vn,{value:"enhanced_token_info",children:"Enhanced Info"}),d.jsx(vn,{value:"advertising",children:"Advertising"}),d.jsx(vn,{value:"boost",children:"Boost"})]})]})]}),l?d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx(bp,{className:"h-8 w-8 animate-spin text-purple-400"})}):c?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"Failed to load campaigns. Please try again."})}):d.jsxs(I5,{defaultValue:"active",className:"w-full",children:[d.jsxs(rI,{className:"grid w-full grid-cols-3 bg-gray-900/50 border border-gray-800",children:[d.jsxs(Po,{value:"active",className:"data-[state=active]:bg-purple-600/20 data-[state=active]:text-white text-gray-400",children:["Active (",p.length,")"]}),d.jsxs(Po,{value:"funded",className:"data-[state=active]:bg-purple-600/20 data-[state=active]:text-white text-gray-400",children:["Funded (",m.length,")"]}),d.jsxs(Po,{value:"failed",className:"data-[state=active]:bg-purple-600/20 data-[state=active]:text-white text-gray-400",children:["Failed (",v.length,")"]})]}),d.jsx(Oo,{value:"active",className:"mt-6",children:p.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 auto-rows-fr",children:p.map(g=>d.jsx(Ox,{campaign:g},g.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"No active campaigns found."})})}),d.jsx(Oo,{value:"funded",className:"mt-6",children:m.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 auto-rows-fr",children:m.map(g=>d.jsx(Ox,{campaign:g},g.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"No funded campaigns yet."})})}),d.jsx(Oo,{value:"failed",className:"mt-6",children:v.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 auto-rows-fr",children:v.map(g=>d.jsx(Ox,{campaign:g},g.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"No failed campaigns."})})})]})]})})})}var Lv="Dialog",[A5,Ehe]=eo(Lv),[xne,Ci]=A5(Lv),C5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=k.useRef(null),l=k.useRef(null),[c,u]=Uc({prop:r,defaultProp:s??!1,onChange:i,caller:Lv});return d.jsx(xne,{scope:e,triggerRef:a,contentRef:l,contentId:hl(),titleId:hl(),descriptionId:hl(),open:c,onOpenChange:u,onOpenToggle:k.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};C5.displayName=Lv;var N5="DialogTrigger",_ne=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ci(N5,n),i=jt(e,s.triggerRef);return d.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":oI(s.open),...r,ref:i,onClick:Ve(t.onClick,s.onOpenToggle)})});_ne.displayName=N5;var sI="DialogPortal",[bne,k5]=A5(sI,{forceMount:void 0}),M5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Ci(sI,e);return d.jsx(bne,{scope:e,forceMount:n,children:k.Children.map(r,o=>d.jsx(eu,{present:n||i.open,children:d.jsx(Uw,{asChild:!0,container:s,children:o})}))})};M5.displayName=sI;var Gy="DialogOverlay",R5=k.forwardRef((t,e)=>{const n=k5(Gy,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ci(Gy,t.__scopeDialog);return i.modal?d.jsx(eu,{present:r||i.open,children:d.jsx(Sne,{...s,ref:e})}):null});R5.displayName=Gy;var Ene=Yd("DialogOverlay.RemoveScroll"),Sne=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ci(Gy,n);return d.jsx(eI,{as:Ene,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(et.div,{"data-state":oI(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Hc="DialogContent",P5=k.forwardRef((t,e)=>{const n=k5(Hc,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ci(Hc,t.__scopeDialog);return d.jsx(eu,{present:r||i.open,children:i.modal?d.jsx(Tne,{...s,ref:e}):d.jsx(Ine,{...s,ref:e})})});P5.displayName=Hc;var Tne=k.forwardRef((t,e)=>{const n=Ci(Hc,t.__scopeDialog),r=k.useRef(null),s=jt(e,n.contentRef,r);return k.useEffect(()=>{const i=r.current;if(i)return y3(i)},[]),d.jsx(O5,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ve(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ve(t.onFocusOutside,i=>i.preventDefault())})}),Ine=k.forwardRef((t,e)=>{const n=Ci(Hc,t.__scopeDialog),r=k.useRef(!1),s=k.useRef(!1);return d.jsx(O5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),O5=k.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Ci(Hc,n),l=k.useRef(null),c=jt(e,l);return f3(),d.jsxs(d.Fragment,{children:[d.jsx(JT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(im,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":oI(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(Ane,{titleId:a.titleId}),d.jsx(Nne,{contentRef:l,descriptionId:a.descriptionId})]})]})}),iI="DialogTitle",L5=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ci(iI,n);return d.jsx(et.h2,{id:s.titleId,...r,ref:e})});L5.displayName=iI;var D5="DialogDescription",j5=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ci(D5,n);return d.jsx(et.p,{id:s.descriptionId,...r,ref:e})});j5.displayName=D5;var B5="DialogClose",F5=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ci(B5,n);return d.jsx(et.button,{type:"button",...r,ref:e,onClick:Ve(t.onClick,()=>s.onOpenChange(!1))})});F5.displayName=B5;function oI(t){return t?"open":"closed"}var U5="DialogTitleWarning",[She,V5]=V9(U5,{contentName:Hc,titleName:iI,docsSlug:"dialog"}),Ane=({titleId:t})=>{const e=V5(U5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Cne="DialogDescriptionWarning",Nne=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${V5(Cne).contentName}}.`;return k.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},kne=C5,Mne=M5,z5=R5,W5=P5,$5=L5,H5=j5,Rne=F5;const _E=kne,Pne=Mne,q5=k.forwardRef(({className:t,...e},n)=>d.jsx(z5,{ref:n,className:We("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));q5.displayName=z5.displayName;const Qy=k.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(Pne,{children:[d.jsx(q5,{}),d.jsxs(W5,{ref:r,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(Rne,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(nT,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qy.displayName=W5.displayName;const Yy=({className:t,...e})=>d.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Yy.displayName="DialogHeader";const Zy=({className:t,...e})=>d.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Zy.displayName="DialogFooter";const Xy=k.forwardRef(({className:t,...e},n)=>d.jsx($5,{ref:n,className:We("text-lg font-semibold leading-none tracking-tight",t),...e}));Xy.displayName=$5.displayName;const Jy=k.forwardRef(({className:t,...e},n)=>d.jsx(H5,{ref:n,className:We("text-sm text-muted-foreground",t),...e}));Jy.displayName=H5.displayName;const mc=k.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));mc.displayName="Input";var One="Label",K5=k.forwardRef((t,e)=>d.jsx(et.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));K5.displayName=One;var G5=K5;const Lne=am("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pn=k.forwardRef(({className:t,...e},n)=>d.jsx(G5,{ref:n,className:We(Lne(),t),...e}));Pn.displayName=G5.displayName;function Dne({campaign:t,isOpen:e,onClose:n,onSuccess:r}){const{publicKey:s,sendTransaction:i}=Nh(),{connection:o}=jD(),{toast:a}=_h(),[l,c]=k.useState(""),[u,f]=k.useState(!1),[p,m]=k.useState(null),[v,g]=k.useState(!1),w=async()=>{var b,x,T,D,F;if(!s){m("Please connect your wallet first");return}if(!v){m("Please accept the terms before contributing");return}const _=parseFloat(l);if(isNaN(_)||_<.01){m("Minimum contribution is 0.01 SOL");return}f(!0),m(null);try{console.log("Starting SOL contribution transaction...");const R=new Oe(t.walletAddress),M=_*w2;console.log("Transfer details:",{from:s.toString(),to:R.toString(),amount:_,lamports:M});const U=await o.getBalance(s),W=M+5e3;if(U<W)throw new Error(`Insufficient SOL balance. You need at least ${(W/w2).toFixed(4)} SOL (including transaction fees).`);const $=new gi,{blockhash:q}=await o.getLatestBlockhash();$.recentBlockhash=q,$.feePayer=s;const C=Np.transfer({fromPubkey:s,toPubkey:R,lamports:M});$.add(C),console.log("Sending SOL transaction...");const y=await i($,o);console.log("Transaction sent:",y),await o.confirmTransaction(y,"confirmed"),console.log("Transaction confirmed"),await lh.contribute(t.id,{contributorAddress:s.toString(),amount:_,transactionHash:y}),a({title:"Contribution Successful!",description:`You contributed ${_} SOL to ${t.tokenName}`}),r==null||r(),n()}catch(R){console.error("Contribution error:",R);let M="Failed to process contribution";(b=R.message)!=null&&b.includes("User rejected the request")?M="Transaction was cancelled by user":(x=R.message)!=null&&x.includes("Insufficient funds")||(T=R.message)!=null&&T.includes("Insufficient SOL")||(D=R.message)!=null&&D.includes("SOL")?M=R.message:(F=R.message)!=null&&F.includes("simulation failed")?M="Transaction simulation failed. Please check your SOL balance and try again.":R.message&&(M=R.message),m(M)}finally{f(!1)}};return d.jsx(_E,{open:e,onOpenChange:n,children:d.jsxs(Qy,{className:"sm:max-w-[425px] bg-gray-900 border-gray-800 text-white",children:[d.jsxs(Yy,{children:[d.jsxs(Xy,{className:"text-xl font-bold text-white",children:["Contribute to ",t.tokenName]}),d.jsxs(Jy,{className:"text-gray-400",children:["Support this campaign by contributing SOL. Your contribution will help reach the $",t.targetAmount.toFixed(2)," goal."]})]}),d.jsxs("div",{className:"space-y-6",children:[p&&d.jsx(xv,{variant:"destructive",className:"bg-red-500/10 border-red-500/30 text-red-400",children:d.jsx(_v,{children:p})}),!s&&d.jsx("div",{className:"card-dark p-4 border border-purple-500/30 bg-purple-500/10",children:d.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[d.jsx(Ep,{className:"h-8 w-8 text-purple-400"}),d.jsx("p",{className:"text-purple-400 font-medium text-center",children:"Connect your wallet to contribute"}),d.jsx(Pp,{className:"!bg-gradient-to-r !from-purple-600 !to-pink-600 !text-white hover:!from-purple-700 hover:!to-pink-700 !font-semibold !py-2 !px-4 !rounded-lg !transition-all !duration-200"})]})}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Pn,{className:"text-gray-300 font-medium",children:"Campaign Progress"}),d.jsxs("div",{className:"card-dark p-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-lg font-semibold text-white",children:["$",t.currentAmount.toFixed(2)]}),d.jsxs("span",{className:"text-gray-400",children:["of $",t.targetAmount.toFixed(2)," USD"]})]}),d.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 mb-2",children:d.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(t.currentAmount/t.targetAmount*100,100)}%`}})}),d.jsxs("p",{className:"text-sm text-gray-400",children:[(t.currentAmount/t.targetAmount*100).toFixed(1),"% funded"]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Pn,{htmlFor:"amount",className:"text-gray-300 font-medium",children:"Contribution Amount (SOL)"}),d.jsx(mc,{id:"amount",type:"number",placeholder:"Enter amount in SOL",value:l,onChange:_=>c(_.target.value),min:"0.01",step:"0.01",className:"input-dark"}),d.jsxs("div",{className:"space-y-1 text-sm",children:[d.jsx("p",{className:"text-gray-500",children:"Minimum contribution: 0.01 SOL"}),l&&parseFloat(l)>0&&d.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[d.jsx("div",{className:"text-blue-400 font-medium mb-1",children:"Fee Breakdown:"}),d.jsxs("div",{className:"text-gray-300 space-y-1",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Your contribution:"}),d.jsxs("span",{children:[parseFloat(l).toFixed(4)," SOL"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Platform fee (5%):"}),d.jsxs("span",{children:[(parseFloat(l)*.05).toFixed(4)," SOL"]})]}),d.jsxs("div",{className:"flex justify-between border-t border-blue-500/30 pt-1 font-semibold",children:[d.jsx("span",{children:"Total to campaign:"}),d.jsxs("span",{children:[(parseFloat(l)*.95).toFixed(4)," SOL"]})]})]})]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"card-dark p-4 border border-amber-500/30 bg-amber-500/10",children:d.jsxs("div",{className:"text-sm text-amber-200 leading-relaxed space-y-2",children:[d.jsx("p",{className:"font-semibold",children:" No refunds are issued if the campaign does not reach its target goal"}),d.jsx("p",{className:"font-semibold",children:" No credits are issued if the token fails to graduate from Pump.fun"}),d.jsx("p",{className:"font-semibold",children:" No guarantees of token performance or campaign success"})]})}),d.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[d.jsx("input",{type:"checkbox",id:"disclaimer-accept",checked:v,onChange:_=>g(_.target.checked),className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),d.jsx("label",{htmlFor:"disclaimer-accept",className:"text-gray-300 text-sm leading-relaxed cursor-pointer",children:"I understand and agree to the terms above."})]})]})]}),d.jsxs(Zy,{className:"gap-3 pt-6",children:[d.jsx(ln,{variant:"outline",onClick:n,disabled:u,className:"bg-gray-800 border-gray-700 text-gray-300 hover:bg-gray-700 hover:text-white",children:"Cancel"}),d.jsx(ln,{onClick:w,disabled:u||!s||!l||!v,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:u?d.jsxs(d.Fragment,{children:[d.jsx(bp,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):s?v?`Contribute ${l||"0"} SOL`:"Accept Terms to Continue":d.jsxs(d.Fragment,{children:[d.jsx(Ep,{className:"mr-2 h-4 w-4"}),"Connect Wallet First"]})})]})]})})}function zt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Sl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Q5=6048e5,jne=864e5,Ug=43200,vk=1440;let Bne={};function Im(){return Bne}function Lp(t,e){var a,l,c,u;const n=Im(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=zt(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function ew(t){return Lp(t,{weekStartsOn:1})}function Y5(t){const e=zt(t),n=e.getFullYear(),r=Sl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=ew(r),i=Sl(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=ew(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function xk(t){const e=zt(t);return e.setHours(0,0,0,0),e}function tw(t){const e=zt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Fne(t,e){const n=xk(t),r=xk(e),s=+n-tw(n),i=+r-tw(r);return Math.round((s-i)/jne)}function Une(t){const e=Y5(t),n=Sl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ew(n)}function O0(t,e){const n=zt(t),r=zt(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function Vne(t){return Sl(t,Date.now())}function zne(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Wne(t){if(!zne(t)&&typeof t!="number")return!1;const e=zt(t);return!isNaN(Number(e))}function $ne(t,e){const n=zt(t),r=zt(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Hne(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function qne(t,e){return+zt(t)-+zt(e)}function Kne(t){const e=zt(t);return e.setHours(23,59,59,999),e}function Gne(t){const e=zt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Qne(t){const e=zt(t);return+Kne(e)==+Gne(e)}function Yne(t,e){const n=zt(t),r=zt(e),s=O0(n,r),i=Math.abs($ne(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=O0(n,r)===-s;Qne(zt(t))&&i===1&&O0(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function Zne(t,e,n){const r=qne(t,e)/1e3;return Hne(n==null?void 0:n.roundingMethod)(r)}function Xne(t){const e=zt(t),n=Sl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Jne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ere=(t,e,n)=>{let r;const s=Jne[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Wx(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const tre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sre={date:Wx({formats:tre,defaultWidth:"full"}),time:Wx({formats:nre,defaultWidth:"full"}),dateTime:Wx({formats:rre,defaultWidth:"full"})},ire={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ore=(t,e,n,r)=>ire[t];function hf(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const are={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ure={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fre=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pre={ordinalNumber:fre,era:hf({values:are,defaultWidth:"wide"}),quarter:hf({values:lre,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hf({values:cre,defaultWidth:"wide"}),day:hf({values:ure,defaultWidth:"wide"}),dayPeriod:hf({values:dre,defaultWidth:"wide",formattingValues:hre,defaultFormattingWidth:"wide"})};function ff(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?gre(a,f=>f.test(o)):mre(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function mre(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function gre(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function yre(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const wre=/^(\d+)(th|st|nd|rd)?/i,vre=/\d+/i,xre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_re={any:[/^b/i,/^(a|c)/i]},bre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ere={any:[/1/i,/2/i,/3/i,/4/i]},Sre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ire={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Are={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kre={ordinalNumber:yre({matchPattern:wre,parsePattern:vre,valueCallback:t=>parseInt(t,10)}),era:ff({matchPatterns:xre,defaultMatchWidth:"wide",parsePatterns:_re,defaultParseWidth:"any"}),quarter:ff({matchPatterns:bre,defaultMatchWidth:"wide",parsePatterns:Ere,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ff({matchPatterns:Sre,defaultMatchWidth:"wide",parsePatterns:Tre,defaultParseWidth:"any"}),day:ff({matchPatterns:Ire,defaultMatchWidth:"wide",parsePatterns:Are,defaultParseWidth:"any"}),dayPeriod:ff({matchPatterns:Cre,defaultMatchWidth:"any",parsePatterns:Nre,defaultParseWidth:"any"})},Z5={code:"en-US",formatDistance:ere,formatLong:sre,formatRelative:ore,localize:pre,match:kre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mre(t){const e=zt(t);return Fne(e,Xne(e))+1}function Rre(t){const e=zt(t),n=+ew(e)-+Une(e);return Math.round(n/Q5)+1}function X5(t,e){var u,f,p,m;const n=zt(t),r=n.getFullYear(),s=Im(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=Sl(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Lp(o,e),l=Sl(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Lp(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Pre(t,e){var a,l,c,u;const n=Im(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=X5(t,e),i=Sl(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Lp(i,e)}function Ore(t,e){const n=zt(t),r=+Lp(n,e)-+Pre(n,e);return Math.round(r/Q5)+1}function Mt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const xa={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Mt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Mt(n+1,2)},d(t,e){return Mt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Mt(t.getHours()%12||12,e.length)},H(t,e){return Mt(t.getHours(),e.length)},m(t,e){return Mt(t.getMinutes(),e.length)},s(t,e){return Mt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Mt(s,e.length)}},Ou={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_k={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return xa.y(t,e)},Y:function(t,e,n,r){const s=X5(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Mt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Mt(i,e.length)},R:function(t,e){const n=Y5(t);return Mt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Mt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Mt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Mt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return xa.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Mt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Ore(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Mt(s,e.length)},I:function(t,e,n){const r=Rre(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Mt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):xa.d(t,e)},D:function(t,e,n){const r=Mre(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Mt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Mt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Mt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Mt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Ou.noon:r===0?s=Ou.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Ou.evening:r>=12?s=Ou.afternoon:r>=4?s=Ou.morning:s=Ou.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):xa.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Mt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Mt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):xa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):xa.s(t,e)},S:function(t,e){return xa.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Ek(r);case"XXXX":case"XX":return Zl(r);case"XXXXX":case"XXX":default:return Zl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Ek(r);case"xxxx":case"xx":return Zl(r);case"xxxxx":case"xxx":default:return Zl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+bk(r,":");case"OOOO":default:return"GMT"+Zl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+bk(r,":");case"zzzz":default:return"GMT"+Zl(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Mt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Mt(r,e.length)}};function bk(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Mt(i,2)}function Ek(t,e){return t%60===0?(t>0?"-":"+")+Mt(Math.abs(t)/60,2):Zl(t,e)}function Zl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Mt(Math.trunc(r/60),2),i=Mt(r%60,2);return n+s+e+i}const Sk=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},J5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Lre=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Sk(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Sk(r,e)).replace("{{time}}",J5(s,e))},Dre={p:J5,P:Lre},jre=/^D+$/,Bre=/^Y+$/,Fre=["D","DD","YY","YYYY"];function Ure(t){return jre.test(t)}function Vre(t){return Bre.test(t)}function zre(t,e,n){const r=Wre(t,e,n);if(console.warn(r),Fre.includes(t))throw new RangeError(r)}function Wre(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $re=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qre=/^'([^]*?)'?$/,Kre=/''/g,Gre=/[a-zA-Z]/;function Xl(t,e,n){var u,f,p,m;const r=Im(),s=r.locale??Z5,i=r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,a=zt(t);if(!Wne(a))throw new RangeError("Invalid time value");let l=e.match(Hre).map(v=>{const g=v[0];if(g==="p"||g==="P"){const w=Dre[g];return w(v,s.formatLong)}return v}).join("").match($re).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:Qre(v)};if(_k[g])return{isToken:!0,value:v};if(g.match(Gre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(v=>{if(!v.isToken)return v.value;const g=v.value;(Vre(g)||Ure(g))&&zre(g,e,String(t));const w=_k[g[0]];return w(a,g,s.localize,c)}).join("")}function Qre(t){const e=t.match(qre);return e?e[1].replace(Kre,"'"):t}function Yre(t,e,n){const r=Im(),s=(n==null?void 0:n.locale)??r.locale??Z5,i=2520,o=O0(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let l,c;o>0?(l=zt(e),c=zt(t)):(l=zt(t),c=zt(e));const u=Zne(c,l),f=(tw(c)-tw(l))/1e3,p=Math.round((u-f)/60);let m;if(p<2)return n!=null&&n.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,a):u<10?s.formatDistance("lessThanXSeconds",10,a):u<20?s.formatDistance("lessThanXSeconds",20,a):u<40?s.formatDistance("halfAMinute",0,a):u<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):p===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",p,a);if(p<45)return s.formatDistance("xMinutes",p,a);if(p<90)return s.formatDistance("aboutXHours",1,a);if(p<vk){const v=Math.round(p/60);return s.formatDistance("aboutXHours",v,a)}else{if(p<i)return s.formatDistance("xDays",1,a);if(p<Ug){const v=Math.round(p/vk);return s.formatDistance("xDays",v,a)}else if(p<Ug*2)return m=Math.round(p/Ug),s.formatDistance("aboutXMonths",m,a)}if(m=Yne(c,l),m<12){const v=Math.round(p/Ug);return s.formatDistance("xMonths",v,a)}else{const v=m%12,g=Math.trunc(m/12);return v<3?s.formatDistance("aboutXYears",g,a):v<9?s.formatDistance("overXYears",g,a):s.formatDistance("almostXYears",g+1,a)}}function e6(t,e){return Yre(t,Vne(t),e)}function Zre({message:t,isOwnMessage:e}){const n=r=>`${r.slice(0,6)}...${r.slice(-4)}`;return d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-gray-600",children:d.jsx(Ep,{className:"h-4 w-4 text-white"})})}),d.jsxs("div",{className:"flex flex-col flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-sm font-medium text-purple-400",children:e?"You":n(t.userAddress)}),d.jsx("span",{className:"text-xs text-gray-500",children:e6(new Date(t.timestamp),{addSuffix:!0})})]}),d.jsx("div",{className:"text-gray-200",children:d.jsx("p",{className:"text-sm leading-relaxed",children:t.message})})]})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Xre=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},n6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[u],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xre(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new Jre;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Jre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ese=function(t){const e=t6(t);return n6.encodeByteArray(e,!0)},nw=function(t){return ese(t).replace(/\./g,"")},r6=function(t){try{return n6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tse(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nse=()=>tse().__FIREBASE_DEFAULTS__,rse=()=>{if(typeof process>"u"||typeof import.meta.env>"u")return;const t=import.meta.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sse=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&r6(t[1]);return e&&JSON.parse(e)},Dv=()=>{try{return nse()||rse()||sse()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},s6=t=>{var e,n;return(n=(e=Dv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},i6=t=>{const e=s6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o6=()=>{var t;return(t=Dv())===null||t===void 0?void 0:t.config},a6=t=>{var e;return(e=Dv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nw(JSON.stringify(n)),nw(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ose(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kr())}function ase(){var t;const e=(t=Dv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function lse(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cse(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function use(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dse(){const t=Kr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hse(){return!ase()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fse(){try{return typeof indexedDB=="object"}catch{return!1}}function pse(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mse="FirebaseError";class oo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mse,Object.setPrototypeOf(this,oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Am.prototype.create)}}class Am{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?gse(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new oo(s,a,r)}}function gse(t,e){return t.replace(yse,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yse=/\{\$([^}]+)}/g;function wse(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rw(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Tk(i)&&Tk(o)){if(!rw(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Tk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vse(t,e){const n=new xse(t,e);return n.subscribe.bind(n)}class xse{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_se(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=$x),s.error===void 0&&(s.error=$x),s.complete===void 0&&(s.complete=$x);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _se(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $x(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){return t&&t._delegate?t._delegate:t}class Tl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ise;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sse(e))try{this.getOrInitializeService({instanceIdentifier:Jl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Jl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jl){return this.instances.has(e)}getOptions(e=Jl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ese(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jl){return this.component?this.component.multipleInstances?e:Jl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ese(t){return t===Jl?void 0:t}function Sse(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bse(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pt||(pt={}));const Ise={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},Ase=pt.INFO,Cse={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},Nse=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Cse[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class aI{constructor(e){this.name=e,this._logLevel=Ase,this._logHandler=Nse,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ise[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const kse=(t,e)=>e.some(n=>t instanceof n);let Ik,Ak;function Mse(){return Ik||(Ik=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rse(){return Ak||(Ak=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c6=new WeakMap,bE=new WeakMap,u6=new WeakMap,Hx=new WeakMap,lI=new WeakMap;function Pse(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ml(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&c6.set(n,t)}).catch(()=>{}),lI.set(e,t),e}function Ose(t){if(bE.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});bE.set(t,e)}let EE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||u6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ml(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Lse(t){EE=t(EE)}function Dse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qx(this),e,...n);return u6.set(r,e.sort?e.sort():[e]),ml(r)}:Rse().includes(t)?function(...e){return t.apply(qx(this),e),ml(c6.get(this))}:function(...e){return ml(t.apply(qx(this),e))}}function jse(t){return typeof t=="function"?Dse(t):(t instanceof IDBTransaction&&Ose(t),kse(t,Mse())?new Proxy(t,EE):t)}function ml(t){if(t instanceof IDBRequest)return Pse(t);if(Hx.has(t))return Hx.get(t);const e=jse(t);return e!==t&&(Hx.set(t,e),lI.set(e,t)),e}const qx=t=>lI.get(t);function Bse(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ml(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ml(o.result),l.oldVersion,l.newVersion,ml(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Fse=["get","getKey","getAll","getAllKeys","count"],Use=["put","add","delete","clear"],Kx=new Map;function Ck(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kx.get(e))return Kx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Use.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Fse.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Kx.set(e,i),i}Lse(t=>({...t,get:(e,n,r)=>Ck(e,n)||t.get(e,n,r),has:(e,n)=>!!Ck(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zse(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zse(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const SE="@firebase/app",Nk="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new aI("@firebase/app"),Wse="@firebase/app-compat",$se="@firebase/analytics-compat",Hse="@firebase/analytics",qse="@firebase/app-check-compat",Kse="@firebase/app-check",Gse="@firebase/auth",Qse="@firebase/auth-compat",Yse="@firebase/database",Zse="@firebase/data-connect",Xse="@firebase/database-compat",Jse="@firebase/functions",eie="@firebase/functions-compat",tie="@firebase/installations",nie="@firebase/installations-compat",rie="@firebase/messaging",sie="@firebase/messaging-compat",iie="@firebase/performance",oie="@firebase/performance-compat",aie="@firebase/remote-config",lie="@firebase/remote-config-compat",cie="@firebase/storage",uie="@firebase/storage-compat",die="@firebase/firestore",hie="@firebase/vertexai-preview",fie="@firebase/firestore-compat",pie="firebase",mie="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="[DEFAULT]",gie={[SE]:"fire-core",[Wse]:"fire-core-compat",[Hse]:"fire-analytics",[$se]:"fire-analytics-compat",[Kse]:"fire-app-check",[qse]:"fire-app-check-compat",[Gse]:"fire-auth",[Qse]:"fire-auth-compat",[Yse]:"fire-rtdb",[Zse]:"fire-data-connect",[Xse]:"fire-rtdb-compat",[Jse]:"fire-fn",[eie]:"fire-fn-compat",[tie]:"fire-iid",[nie]:"fire-iid-compat",[rie]:"fire-fcm",[sie]:"fire-fcm-compat",[iie]:"fire-perf",[oie]:"fire-perf-compat",[aie]:"fire-rc",[lie]:"fire-rc-compat",[cie]:"fire-gcs",[uie]:"fire-gcs-compat",[die]:"fire-fst",[fie]:"fire-fst-compat",[hie]:"fire-vertex","fire-js":"fire-js",[pie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map,yie=new Map,IE=new Map;function kk(t,e){try{t.container.addComponent(e)}catch(n){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qc(t){const e=t.name;if(IE.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;IE.set(e,t);for(const n of sw.values())kk(n,t);for(const n of yie.values())kk(n,t);return!0}function jv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function el(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wie={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gl=new Am("app","Firebase",wie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=mie;function d6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:TE,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw gl.create("bad-app-name",{appName:String(s)});if(n||(n=o6()),!n)throw gl.create("no-options");const i=sw.get(s);if(i){if(rw(n,i.options)&&rw(r,i.config))return i;throw gl.create("duplicate-app",{appName:s})}const o=new Tse(s);for(const l of IE.values())o.addComponent(l);const a=new vie(n,r,o);return sw.set(s,a),a}function cI(t=TE){const e=sw.get(t);if(!e&&t===TE&&o6())return d6();if(!e)throw gl.create("no-app",{appName:t});return e}function Hi(t,e,n){var r;let s=(r=gie[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ea.warn(a.join(" "));return}qc(new Tl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xie="firebase-heartbeat-database",_ie=1,Dp="firebase-heartbeat-store";let Gx=null;function h6(){return Gx||(Gx=Bse(xie,_ie,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dp)}catch(n){console.warn(n)}}}}).catch(t=>{throw gl.create("idb-open",{originalErrorMessage:t.message})})),Gx}async function bie(t){try{const n=(await h6()).transaction(Dp),r=await n.objectStore(Dp).get(f6(t));return await n.done,r}catch(e){if(e instanceof oo)ea.warn(e.message);else{const n=gl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ea.warn(n.message)}}}async function Mk(t,e){try{const r=(await h6()).transaction(Dp,"readwrite");await r.objectStore(Dp).put(e,f6(t)),await r.done}catch(n){if(n instanceof oo)ea.warn(n.message);else{const r=gl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ea.warn(r.message)}}}function f6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eie=1024,Sie=30*24*60*60*1e3;class Tie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Aie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Rk();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Sie}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ea.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rk(),{heartbeatsToSend:r,unsentEntries:s}=Iie(this._heartbeatsCache.heartbeats),i=nw(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ea.warn(n),""}}}function Rk(){return new Date().toISOString().substring(0,10)}function Iie(t,e=Eie){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Pk(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Pk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Aie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fse()?pse().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bie(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Mk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Mk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Pk(t){return nw(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cie(t){qc(new Tl("platform-logger",e=>new Vse(e),"PRIVATE")),qc(new Tl("heartbeat",e=>new Tie(e),"PRIVATE")),Hi(SE,Nk,t),Hi(SE,Nk,"esm2017"),Hi("fire-js","")}Cie("");var Ok=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mc,p6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,M){function U(){}U.prototype=M.prototype,R.D=M.prototype,R.prototype=new U,R.prototype.constructor=R,R.C=function(W,$,q){for(var C=Array(arguments.length-2),y=2;y<arguments.length;y++)C[y-2]=arguments[y];return M.prototype[$].apply(W,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,M,U){U||(U=0);var W=Array(16);if(typeof M=="string")for(var $=0;16>$;++$)W[$]=M.charCodeAt(U++)|M.charCodeAt(U++)<<8|M.charCodeAt(U++)<<16|M.charCodeAt(U++)<<24;else for($=0;16>$;++$)W[$]=M[U++]|M[U++]<<8|M[U++]<<16|M[U++]<<24;M=R.g[0],U=R.g[1],$=R.g[2];var q=R.g[3],C=M+(q^U&($^q))+W[0]+3614090360&4294967295;M=U+(C<<7&4294967295|C>>>25),C=q+($^M&(U^$))+W[1]+3905402710&4294967295,q=M+(C<<12&4294967295|C>>>20),C=$+(U^q&(M^U))+W[2]+606105819&4294967295,$=q+(C<<17&4294967295|C>>>15),C=U+(M^$&(q^M))+W[3]+3250441966&4294967295,U=$+(C<<22&4294967295|C>>>10),C=M+(q^U&($^q))+W[4]+4118548399&4294967295,M=U+(C<<7&4294967295|C>>>25),C=q+($^M&(U^$))+W[5]+1200080426&4294967295,q=M+(C<<12&4294967295|C>>>20),C=$+(U^q&(M^U))+W[6]+2821735955&4294967295,$=q+(C<<17&4294967295|C>>>15),C=U+(M^$&(q^M))+W[7]+4249261313&4294967295,U=$+(C<<22&4294967295|C>>>10),C=M+(q^U&($^q))+W[8]+1770035416&4294967295,M=U+(C<<7&4294967295|C>>>25),C=q+($^M&(U^$))+W[9]+2336552879&4294967295,q=M+(C<<12&4294967295|C>>>20),C=$+(U^q&(M^U))+W[10]+4294925233&4294967295,$=q+(C<<17&4294967295|C>>>15),C=U+(M^$&(q^M))+W[11]+2304563134&4294967295,U=$+(C<<22&4294967295|C>>>10),C=M+(q^U&($^q))+W[12]+1804603682&4294967295,M=U+(C<<7&4294967295|C>>>25),C=q+($^M&(U^$))+W[13]+4254626195&4294967295,q=M+(C<<12&4294967295|C>>>20),C=$+(U^q&(M^U))+W[14]+2792965006&4294967295,$=q+(C<<17&4294967295|C>>>15),C=U+(M^$&(q^M))+W[15]+1236535329&4294967295,U=$+(C<<22&4294967295|C>>>10),C=M+($^q&(U^$))+W[1]+4129170786&4294967295,M=U+(C<<5&4294967295|C>>>27),C=q+(U^$&(M^U))+W[6]+3225465664&4294967295,q=M+(C<<9&4294967295|C>>>23),C=$+(M^U&(q^M))+W[11]+643717713&4294967295,$=q+(C<<14&4294967295|C>>>18),C=U+(q^M&($^q))+W[0]+3921069994&4294967295,U=$+(C<<20&4294967295|C>>>12),C=M+($^q&(U^$))+W[5]+3593408605&4294967295,M=U+(C<<5&4294967295|C>>>27),C=q+(U^$&(M^U))+W[10]+38016083&4294967295,q=M+(C<<9&4294967295|C>>>23),C=$+(M^U&(q^M))+W[15]+3634488961&4294967295,$=q+(C<<14&4294967295|C>>>18),C=U+(q^M&($^q))+W[4]+3889429448&4294967295,U=$+(C<<20&4294967295|C>>>12),C=M+($^q&(U^$))+W[9]+568446438&4294967295,M=U+(C<<5&4294967295|C>>>27),C=q+(U^$&(M^U))+W[14]+3275163606&4294967295,q=M+(C<<9&4294967295|C>>>23),C=$+(M^U&(q^M))+W[3]+4107603335&4294967295,$=q+(C<<14&4294967295|C>>>18),C=U+(q^M&($^q))+W[8]+1163531501&4294967295,U=$+(C<<20&4294967295|C>>>12),C=M+($^q&(U^$))+W[13]+2850285829&4294967295,M=U+(C<<5&4294967295|C>>>27),C=q+(U^$&(M^U))+W[2]+4243563512&4294967295,q=M+(C<<9&4294967295|C>>>23),C=$+(M^U&(q^M))+W[7]+1735328473&4294967295,$=q+(C<<14&4294967295|C>>>18),C=U+(q^M&($^q))+W[12]+2368359562&4294967295,U=$+(C<<20&4294967295|C>>>12),C=M+(U^$^q)+W[5]+4294588738&4294967295,M=U+(C<<4&4294967295|C>>>28),C=q+(M^U^$)+W[8]+2272392833&4294967295,q=M+(C<<11&4294967295|C>>>21),C=$+(q^M^U)+W[11]+1839030562&4294967295,$=q+(C<<16&4294967295|C>>>16),C=U+($^q^M)+W[14]+4259657740&4294967295,U=$+(C<<23&4294967295|C>>>9),C=M+(U^$^q)+W[1]+2763975236&4294967295,M=U+(C<<4&4294967295|C>>>28),C=q+(M^U^$)+W[4]+1272893353&4294967295,q=M+(C<<11&4294967295|C>>>21),C=$+(q^M^U)+W[7]+4139469664&4294967295,$=q+(C<<16&4294967295|C>>>16),C=U+($^q^M)+W[10]+3200236656&4294967295,U=$+(C<<23&4294967295|C>>>9),C=M+(U^$^q)+W[13]+681279174&4294967295,M=U+(C<<4&4294967295|C>>>28),C=q+(M^U^$)+W[0]+3936430074&4294967295,q=M+(C<<11&4294967295|C>>>21),C=$+(q^M^U)+W[3]+3572445317&4294967295,$=q+(C<<16&4294967295|C>>>16),C=U+($^q^M)+W[6]+76029189&4294967295,U=$+(C<<23&4294967295|C>>>9),C=M+(U^$^q)+W[9]+3654602809&4294967295,M=U+(C<<4&4294967295|C>>>28),C=q+(M^U^$)+W[12]+3873151461&4294967295,q=M+(C<<11&4294967295|C>>>21),C=$+(q^M^U)+W[15]+530742520&4294967295,$=q+(C<<16&4294967295|C>>>16),C=U+($^q^M)+W[2]+3299628645&4294967295,U=$+(C<<23&4294967295|C>>>9),C=M+($^(U|~q))+W[0]+4096336452&4294967295,M=U+(C<<6&4294967295|C>>>26),C=q+(U^(M|~$))+W[7]+1126891415&4294967295,q=M+(C<<10&4294967295|C>>>22),C=$+(M^(q|~U))+W[14]+2878612391&4294967295,$=q+(C<<15&4294967295|C>>>17),C=U+(q^($|~M))+W[5]+4237533241&4294967295,U=$+(C<<21&4294967295|C>>>11),C=M+($^(U|~q))+W[12]+1700485571&4294967295,M=U+(C<<6&4294967295|C>>>26),C=q+(U^(M|~$))+W[3]+2399980690&4294967295,q=M+(C<<10&4294967295|C>>>22),C=$+(M^(q|~U))+W[10]+4293915773&4294967295,$=q+(C<<15&4294967295|C>>>17),C=U+(q^($|~M))+W[1]+2240044497&4294967295,U=$+(C<<21&4294967295|C>>>11),C=M+($^(U|~q))+W[8]+1873313359&4294967295,M=U+(C<<6&4294967295|C>>>26),C=q+(U^(M|~$))+W[15]+4264355552&4294967295,q=M+(C<<10&4294967295|C>>>22),C=$+(M^(q|~U))+W[6]+2734768916&4294967295,$=q+(C<<15&4294967295|C>>>17),C=U+(q^($|~M))+W[13]+1309151649&4294967295,U=$+(C<<21&4294967295|C>>>11),C=M+($^(U|~q))+W[4]+4149444226&4294967295,M=U+(C<<6&4294967295|C>>>26),C=q+(U^(M|~$))+W[11]+3174756917&4294967295,q=M+(C<<10&4294967295|C>>>22),C=$+(M^(q|~U))+W[2]+718787259&4294967295,$=q+(C<<15&4294967295|C>>>17),C=U+(q^($|~M))+W[9]+3951481745&4294967295,R.g[0]=R.g[0]+M&4294967295,R.g[1]=R.g[1]+($+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+$&4294967295,R.g[3]=R.g[3]+q&4294967295}r.prototype.u=function(R,M){M===void 0&&(M=R.length);for(var U=M-this.blockSize,W=this.B,$=this.h,q=0;q<M;){if($==0)for(;q<=U;)s(this,R,q),q+=this.blockSize;if(typeof R=="string"){for(;q<M;)if(W[$++]=R.charCodeAt(q++),$==this.blockSize){s(this,W),$=0;break}}else for(;q<M;)if(W[$++]=R[q++],$==this.blockSize){s(this,W),$=0;break}}this.h=$,this.o+=M},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var M=1;M<R.length-8;++M)R[M]=0;var U=8*this.o;for(M=R.length-8;M<R.length;++M)R[M]=U&255,U/=256;for(this.u(R),R=Array(16),M=U=0;4>M;++M)for(var W=0;32>W;W+=8)R[U++]=this.g[M]>>>W&255;return R};function i(R,M){var U=a;return Object.prototype.hasOwnProperty.call(U,R)?U[R]:U[R]=M(R)}function o(R,M){this.h=M;for(var U=[],W=!0,$=R.length-1;0<=$;$--){var q=R[$]|0;W&&q==M||(U[$]=q,W=!1)}this.g=U}var a={};function l(R){return-128<=R&&128>R?i(R,function(M){return new o([M|0],0>M?-1:0)}):new o([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return f;if(0>R)return w(c(-R));for(var M=[],U=1,W=0;R>=U;W++)M[W]=R/U|0,U*=4294967296;return new o(M,0)}function u(R,M){if(R.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(R.charAt(0)=="-")return w(u(R.substring(1),M));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=c(Math.pow(M,8)),W=f,$=0;$<R.length;$+=8){var q=Math.min(8,R.length-$),C=parseInt(R.substring($,$+q),M);8>q?(q=c(Math.pow(M,q)),W=W.j(q).add(c(C))):(W=W.j(U),W=W.add(c(C)))}return W}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-w(this).m();for(var R=0,M=1,U=0;U<this.g.length;U++){var W=this.i(U);R+=(0<=W?W:4294967296+W)*M,M*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(v(this))return"0";if(g(this))return"-"+w(this).toString(R);for(var M=c(Math.pow(R,6)),U=this,W="";;){var $=T(U,M).g;U=_(U,$.j(M));var q=((0<U.g.length?U.g[0]:U.h)>>>0).toString(R);if(U=$,v(U))return q+W;for(;6>q.length;)q="0"+q;W=q+W}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function v(R){if(R.h!=0)return!1;for(var M=0;M<R.g.length;M++)if(R.g[M]!=0)return!1;return!0}function g(R){return R.h==-1}t.l=function(R){return R=_(this,R),g(R)?-1:v(R)?0:1};function w(R){for(var M=R.g.length,U=[],W=0;W<M;W++)U[W]=~R.g[W];return new o(U,~R.h).add(p)}t.abs=function(){return g(this)?w(this):this},t.add=function(R){for(var M=Math.max(this.g.length,R.g.length),U=[],W=0,$=0;$<=M;$++){var q=W+(this.i($)&65535)+(R.i($)&65535),C=(q>>>16)+(this.i($)>>>16)+(R.i($)>>>16);W=C>>>16,q&=65535,C&=65535,U[$]=C<<16|q}return new o(U,U[U.length-1]&-2147483648?-1:0)};function _(R,M){return R.add(w(M))}t.j=function(R){if(v(this)||v(R))return f;if(g(this))return g(R)?w(this).j(w(R)):w(w(this).j(R));if(g(R))return w(this.j(w(R)));if(0>this.l(m)&&0>R.l(m))return c(this.m()*R.m());for(var M=this.g.length+R.g.length,U=[],W=0;W<2*M;W++)U[W]=0;for(W=0;W<this.g.length;W++)for(var $=0;$<R.g.length;$++){var q=this.i(W)>>>16,C=this.i(W)&65535,y=R.i($)>>>16,I=R.i($)&65535;U[2*W+2*$]+=C*I,b(U,2*W+2*$),U[2*W+2*$+1]+=q*I,b(U,2*W+2*$+1),U[2*W+2*$+1]+=C*y,b(U,2*W+2*$+1),U[2*W+2*$+2]+=q*y,b(U,2*W+2*$+2)}for(W=0;W<M;W++)U[W]=U[2*W+1]<<16|U[2*W];for(W=M;W<2*M;W++)U[W]=0;return new o(U,0)};function b(R,M){for(;(R[M]&65535)!=R[M];)R[M+1]+=R[M]>>>16,R[M]&=65535,M++}function x(R,M){this.g=R,this.h=M}function T(R,M){if(v(M))throw Error("division by zero");if(v(R))return new x(f,f);if(g(R))return M=T(w(R),M),new x(w(M.g),w(M.h));if(g(M))return M=T(R,w(M)),new x(w(M.g),M.h);if(30<R.g.length){if(g(R)||g(M))throw Error("slowDivide_ only works with positive integers.");for(var U=p,W=M;0>=W.l(R);)U=D(U),W=D(W);var $=F(U,1),q=F(W,1);for(W=F(W,2),U=F(U,2);!v(W);){var C=q.add(W);0>=C.l(R)&&($=$.add(U),q=C),W=F(W,1),U=F(U,1)}return M=_(R,$.j(M)),new x($,M)}for($=f;0<=R.l(M);){for(U=Math.max(1,Math.floor(R.m()/M.m())),W=Math.ceil(Math.log(U)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),q=c(U),C=q.j(M);g(C)||0<C.l(R);)U-=W,q=c(U),C=q.j(M);v(q)&&(q=p),$=$.add(q),R=_(R,C)}return new x($,R)}t.A=function(R){return T(this,R).h},t.and=function(R){for(var M=Math.max(this.g.length,R.g.length),U=[],W=0;W<M;W++)U[W]=this.i(W)&R.i(W);return new o(U,this.h&R.h)},t.or=function(R){for(var M=Math.max(this.g.length,R.g.length),U=[],W=0;W<M;W++)U[W]=this.i(W)|R.i(W);return new o(U,this.h|R.h)},t.xor=function(R){for(var M=Math.max(this.g.length,R.g.length),U=[],W=0;W<M;W++)U[W]=this.i(W)^R.i(W);return new o(U,this.h^R.h)};function D(R){for(var M=R.g.length+1,U=[],W=0;W<M;W++)U[W]=R.i(W)<<1|R.i(W-1)>>>31;return new o(U,R.h)}function F(R,M){var U=M>>5;M%=32;for(var W=R.g.length-U,$=[],q=0;q<W;q++)$[q]=0<M?R.i(q+U)>>>M|R.i(q+U+1)<<32-M:R.i(q+U);return new o($,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,p6=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Mc=o}).apply(typeof Ok<"u"?Ok:typeof self<"u"?self:typeof window<"u"?window:{});var Vg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m6,Pf,g6,L0,AE,y6,w6,v6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,E,P){return h==Array.prototype||h==Object.prototype||(h[E]=P.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vg=="object"&&Vg];for(var E=0;E<h.length;++E){var P=h[E];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function s(h,E){if(E)e:{var P=r;h=h.split(".");for(var G=0;G<h.length-1;G++){var J=h[G];if(!(J in P))break e;P=P[J]}h=h[h.length-1],G=P[h],E=E(G),E!=G&&E!=null&&e(P,h,{configurable:!0,writable:!0,value:E})}}function i(h,E){h instanceof String&&(h+="");var P=0,G=!1,J={next:function(){if(!G&&P<h.length){var se=P++;return{value:E(se,h[se]),done:!1}}return G=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}s("Array.prototype.values",function(h){return h||function(){return i(this,function(E,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var E=typeof h;return E=E!="object"?E:h?Array.isArray(h)?"array":E:"null",E=="array"||E=="object"&&typeof h.length=="number"}function c(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function u(h,E,P){return h.call.apply(h.bind,arguments)}function f(h,E,P){if(!h)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,G),h.apply(E,J)}}return function(){return h.apply(E,arguments)}}function p(h,E,P){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,p.apply(null,arguments)}function m(h,E){var P=Array.prototype.slice.call(arguments,1);return function(){var G=P.slice();return G.push.apply(G,arguments),h.apply(this,G)}}function v(h,E){function P(){}P.prototype=E.prototype,h.aa=E.prototype,h.prototype=new P,h.prototype.constructor=h,h.Qb=function(G,J,se){for(var ve=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)ve[Vt-2]=arguments[Vt];return E.prototype[J].apply(G,ve)}}function g(h){const E=h.length;if(0<E){const P=Array(E);for(let G=0;G<E;G++)P[G]=h[G];return P}return[]}function w(h,E){for(let P=1;P<arguments.length;P++){const G=arguments[P];if(l(G)){const J=h.length||0,se=G.length||0;h.length=J+se;for(let ve=0;ve<se;ve++)h[J+ve]=G[ve]}else h.push(G)}}class _{constructor(E,P){this.i=E,this.j=P,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(h){return/^[\s\xa0]*$/.test(h)}function x(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function T(h){return T[" "](h),h}T[" "]=function(){};var D=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function F(h,E,P){for(const G in h)E.call(P,h[G],G,h)}function R(h,E){for(const P in h)E.call(void 0,h[P],P,h)}function M(h){const E={};for(const P in h)E[P]=h[P];return E}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(h,E){let P,G;for(let J=1;J<arguments.length;J++){G=arguments[J];for(P in G)h[P]=G[P];for(let se=0;se<U.length;se++)P=U[se],Object.prototype.hasOwnProperty.call(G,P)&&(h[P]=G[P])}}function $(h){var E=1;h=h.split(":");const P=[];for(;0<E&&h.length;)P.push(h.shift()),E--;return h.length&&P.push(h.join(":")),P}function q(h){a.setTimeout(()=>{throw h},0)}function C(){var h=j;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class y{constructor(){this.h=this.g=null}add(E,P){const G=I.get();G.set(E,P),this.h?this.h.next=G:this.g=G,this.h=G}}var I=new _(()=>new O,h=>h.reset());class O{constructor(){this.next=this.g=this.h=null}set(E,P){this.h=E,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let z,L=!1,j=new y,H=()=>{const h=a.Promise.resolve(void 0);z=()=>{h.then(B)}};var B=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(P){q(P)}var E=I;E.j(h),100>E.h&&(E.h++,h.next=E.g,E.g=h)}L=!1};function S(){this.s=this.s,this.C=this.C}S.prototype.s=!1,S.prototype.ma=function(){this.s||(this.s=!0,this.N())},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const P=()=>{};a.addEventListener("test",P,E),a.removeEventListener("test",P,E)}catch{}return h}();function ue(h,E){if(K.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var P=this.type=h.type,G=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget){if(D){e:{try{T(E.nodeName);var J=!0;break e}catch{}J=!1}J||(E=null)}}else P=="mouseover"?E=h.fromElement:P=="mouseout"&&(E=h.toElement);this.relatedTarget=E,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:he[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ue.aa.h.call(this)}}v(ue,K);var he={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),ye=0;function Te(h,E,P,G,J){this.listener=h,this.proxy=null,this.src=E,this.type=P,this.capture=!!G,this.ha=J,this.key=++ye,this.da=this.fa=!1}function Me(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ee(h){this.src=h,this.g={},this.h=0}Ee.prototype.add=function(h,E,P,G,J){var se=h.toString();h=this.g[se],h||(h=this.g[se]=[],this.h++);var ve=He(h,E,G,J);return-1<ve?(E=h[ve],P||(E.fa=!1)):(E=new Te(E,this.src,se,!!G,J),E.fa=P,h.push(E)),E};function _e(h,E){var P=E.type;if(P in h.g){var G=h.g[P],J=Array.prototype.indexOf.call(G,E,void 0),se;(se=0<=J)&&Array.prototype.splice.call(G,J,1),se&&(Me(E),h.g[P].length==0&&(delete h.g[P],h.h--))}}function He(h,E,P,G){for(var J=0;J<h.length;++J){var se=h[J];if(!se.da&&se.listener==E&&se.capture==!!P&&se.ha==G)return J}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),Ge={};function Wt(h,E,P,G,J){if(Array.isArray(E)){for(var se=0;se<E.length;se++)Wt(h,E[se],P,G,J);return null}return P=Fn(P),h&&h[le]?h.K(E,P,c(G)?!!G.capture:!1,J):at(h,E,P,!1,G,J)}function at(h,E,P,G,J,se){if(!E)throw Error("Invalid event type");var ve=c(J)?!!J.capture:!!J,Vt=Tt(h);if(Vt||(h[Re]=Vt=new Ee(h)),P=Vt.add(E,P,G,ve,se),P.proxy)return P;if(G=Et(),P.proxy=G,G.src=h,G.listener=P,h.addEventListener)ae||(J=ve),J===void 0&&(J=!1),h.addEventListener(E.toString(),G,J);else if(h.attachEvent)h.attachEvent(oe(E.toString()),G);else if(h.addListener&&h.removeListener)h.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Et(){function h(P){return E.call(h.src,h.listener,P)}const E=At;return h}function ar(h,E,P,G,J){if(Array.isArray(E))for(var se=0;se<E.length;se++)ar(h,E[se],P,G,J);else G=c(G)?!!G.capture:!!G,P=Fn(P),h&&h[le]?(h=h.i,E=String(E).toString(),E in h.g&&(se=h.g[E],P=He(se,P,G,J),-1<P&&(Me(se[P]),Array.prototype.splice.call(se,P,1),se.length==0&&(delete h.g[E],h.h--)))):h&&(h=Tt(h))&&(E=h.g[E.toString()],h=-1,E&&(h=He(E,P,G,J)),(P=-1<h?E[h]:null)&&wt(P))}function wt(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[le])_e(E.i,h);else{var P=h.type,G=h.proxy;E.removeEventListener?E.removeEventListener(P,G,h.capture):E.detachEvent?E.detachEvent(oe(P),G):E.addListener&&E.removeListener&&E.removeListener(G),(P=Tt(E))?(_e(P,h),P.h==0&&(P.src=null,E[Re]=null)):Me(h)}}}function oe(h){return h in Ge?Ge[h]:Ge[h]="on"+h}function At(h,E){if(h.da)h=!0;else{E=new ue(E,this);var P=h.listener,G=h.ha||h.src;h.fa&&wt(h),h=P.call(G,E)}return h}function Tt(h){return h=h[Re],h instanceof Ee?h:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fn(h){return typeof h=="function"?h:(h[Ct]||(h[Ct]=function(E){return h.handleEvent(E)}),h[Ct])}function ot(){S.call(this),this.i=new Ee(this),this.M=this,this.F=null}v(ot,S),ot.prototype[le]=!0,ot.prototype.removeEventListener=function(h,E,P,G){ar(this,h,E,P,G)};function V(h,E){var P,G=h.F;if(G)for(P=[];G;G=G.F)P.push(G);if(h=h.M,G=E.type||E,typeof E=="string")E=new K(E,h);else if(E instanceof K)E.target=E.target||h;else{var J=E;E=new K(G,h),W(E,J)}if(J=!0,P)for(var se=P.length-1;0<=se;se--){var ve=E.g=P[se];J=A(ve,G,!0,E)&&J}if(ve=E.g=h,J=A(ve,G,!0,E)&&J,J=A(ve,G,!1,E)&&J,P)for(se=0;se<P.length;se++)ve=E.g=P[se],J=A(ve,G,!1,E)&&J}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var h=this.i,E;for(E in h.g){for(var P=h.g[E],G=0;G<P.length;G++)Me(P[G]);delete h.g[E],h.h--}}this.F=null},ot.prototype.K=function(h,E,P,G){return this.i.add(String(h),E,!1,P,G)},ot.prototype.L=function(h,E,P,G){return this.i.add(String(h),E,!0,P,G)};function A(h,E,P,G){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();for(var J=!0,se=0;se<E.length;++se){var ve=E[se];if(ve&&!ve.da&&ve.capture==P){var Vt=ve.listener,lr=ve.ha||ve.src;ve.fa&&_e(h.i,ve),J=Vt.call(lr,G)!==!1&&J}}return J&&!G.defaultPrevented}function N(h,E,P){if(typeof h=="function")P&&(h=p(h,P));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(h,E||0)}function Q(h){h.g=N(()=>{h.g=null,h.i&&(h.i=!1,Q(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class Z extends S{constructor(E,P){super(),this.m=E,this.l=P,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function X(h){S.call(this),this.h=h,this.g={}}v(X,S);var ne=[];function tt(h){F(h.g,function(E,P){this.g.hasOwnProperty(P)&&wt(E)},h),h.g={}}X.prototype.N=function(){X.aa.N.call(this),tt(this)},X.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=a.JSON.stringify,Ke=a.JSON.parse,Ft=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Be(){}Be.prototype.h=null;function fn(h){return h.h||(h.h=h.i())}function Uh(){}var $t={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function on(){K.call(this,"d")}v(on,K);function cu(){K.call(this,"c")}v(cu,K);var Ot={},pn=null;function jl(){return pn=pn||new ot}Ot.La="serverreachability";function mn(h){K.call(this,Ot.La,h)}v(mn,K);function Ht(h){const E=jl();V(E,new mn(E))}Ot.STAT_EVENT="statevent";function Vh(h,E){K.call(this,Ot.STAT_EVENT,h),this.stat=E}v(Vh,K);function dt(h){const E=jl();V(E,new Vh(E,h))}Ot.Ma="timingevent";function gn(h,E){K.call(this,Ot.Ma,h),this.size=E}v(gn,K);function la(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},E)}function qt(){this.g=!0}qt.prototype.xa=function(){this.g=!1};function An(h,E,P,G,J,se){h.info(function(){if(h.g)if(se)for(var ve="",Vt=se.split("&"),lr=0;lr<Vt.length;lr++){var vt=Vt[lr].split("=");if(1<vt.length){var Ir=vt[0];vt=vt[1];var Ar=Ir.split("_");ve=2<=Ar.length&&Ar[1]=="type"?ve+(Ir+"="+vt+"&"):ve+(Ir+"=redacted&")}}else ve=null;else ve=se;return"XMLHTTP REQ ("+G+") [attempt "+J+"]: "+E+`
`+P+`
`+ve})}function Vm(h,E,P,G,J,se,ve){h.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+J+"]: "+E+`
`+P+`
`+se+" "+ve})}function Ut(h,E,P,G){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+zm(h,P)+(G?" "+G:"")})}function Cn(h,E){h.info(function(){return"TIMEOUT: "+E})}qt.prototype.info=function(){};function zm(h,E){if(!h.g)return E;if(!E)return null;try{var P=JSON.parse(E);if(P){for(h=0;h<P.length;h++)if(Array.isArray(P[h])){var G=P[h];if(!(2>G.length)){var J=G[1];if(Array.isArray(J)&&!(1>J.length)){var se=J[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ve=1;ve<J.length;ve++)J[ve]=""}}}}return qe(P)}catch{return E}}var Xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uu;function Jt(){}v(Jt,Be),Jt.prototype.g=function(){return new XMLHttpRequest},Jt.prototype.i=function(){return{}},uu=new Jt;function Nt(h,E,P,G){this.j=h,this.i=E,this.l=P,this.R=G||1,this.U=new X(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new du}function du(){this.i=null,this.g="",this.h=!1}var hu={},Bl={};function Fl(h,E,P){h.L=1,h.v=Hm(uo(E)),h.m=P,h.P=!0,fu(h,null)}function fu(h,E){h.F=Date.now(),ca(h),h.A=uo(h.v);var P=h.A,G=h.R;Array.isArray(G)||(G=[String(G)]),bA(P.i,"t",G),h.C=0,P=h.j.J,h.h=new du,h.g=UA(h.j,P?E:null,!h.m),0<h.O&&(h.M=new Z(p(h.Y,h,h.g),h.O)),E=h.U,P=h.g,G=h.ca;var J="readystatechange";Array.isArray(J)||(J&&(ne[0]=J.toString()),J=ne);for(var se=0;se<J.length;se++){var ve=Wt(P,J[se],G||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=h.H?M(h.H):{},h.m?(h.u||(h.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,E)):(h.u="GET",h.g.ea(h.A,h.u,null,E)),Ht(),An(h.i,h.u,h.A,h.l,h.R,h.m)}Nt.prototype.ca=function(h){h=h.target;const E=this.M;E&&ho(h)==3?E.j():this.Y(h)},Nt.prototype.Y=function(h){try{if(h==this.g)e:{const Ar=ho(this.g);var E=this.g.Ba();const _u=this.g.Z();if(!(3>Ar)&&(Ar!=3||this.g&&(this.h.h||this.g.oa()||NA(this.g)))){this.J||Ar!=4||E==7||(E==8||0>=_u?Ht(3):Ht(2)),Ul(this);var P=this.g.Z();this.X=P;t:if(pu(this)){var G=NA(this.g);h="";var J=G.length,se=ho(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),co(this);var ve="";break t}this.h.i=new a.TextDecoder}for(E=0;E<J;E++)this.h.h=!0,h+=this.h.i.decode(G[E],{stream:!(se&&E==J-1)});G.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=P==200,Vm(this.i,this.u,this.A,this.l,this.R,Ar,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Vt,lr=this.g;if((Vt=lr.g?lr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Vt)){var vt=Vt;break t}}vt=null}if(P=vt)Ut(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vl(this,P);else{this.o=!1,this.s=3,dt(12),ri(this),co(this);break e}}if(this.P){P=!0;let si;for(;!this.J&&this.C<ve.length;)if(si=zh(this,ve),si==Bl){Ar==4&&(this.s=4,dt(14),P=!1),Ut(this.i,this.l,null,"[Incomplete Response]");break}else if(si==hu){this.s=4,dt(15),Ut(this.i,this.l,ve,"[Invalid Chunk]"),P=!1;break}else Ut(this.i,this.l,si,null),Vl(this,si);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ar!=4||ve.length!=0||this.h.h||(this.s=1,dt(16),P=!1),this.o=this.o&&P,!P)Ut(this.i,this.l,ve,"[Invalid Chunked Response]"),ri(this),co(this);else if(0<ve.length&&!this.W){this.W=!0;var Ir=this.j;Ir.g==this&&Ir.ba&&!Ir.M&&(Ir.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),l1(Ir),Ir.M=!0,dt(11))}}else Ut(this.i,this.l,ve,null),Vl(this,ve);Ar==4&&ri(this),this.o&&!this.J&&(Ar==4?DA(this.j,this):(this.o=!1,ca(this)))}else V8(this.g),P==400&&0<ve.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),ri(this),co(this)}}}catch{}finally{}};function pu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function zh(h,E){var P=h.C,G=E.indexOf(`
`,P);return G==-1?Bl:(P=Number(E.substring(P,G)),isNaN(P)?hu:(G+=1,G+P>E.length?Bl:(E=E.slice(G,G+P),h.C=G+P,E)))}Nt.prototype.cancel=function(){this.J=!0,ri(this)};function ca(h){h.S=Date.now()+h.I,mu(h,h.I)}function mu(h,E){if(h.B!=null)throw Error("WatchDog timer not null");h.B=la(p(h.ba,h),E)}function Ul(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Nt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Cn(this.i,this.A),this.L!=2&&(Ht(),dt(17)),ri(this),this.s=2,co(this)):mu(this,this.S-h)};function co(h){h.j.G==0||h.J||DA(h.j,h)}function ri(h){Ul(h);var E=h.M;E&&typeof E.ma=="function"&&E.ma(),h.M=null,tt(h.U),h.g&&(E=h.g,h.g=null,E.abort(),E.ma())}function Vl(h,E){try{var P=h.j;if(P.G!=0&&(P.g==h||zl(P.h,h))){if(!h.K&&zl(P.h,h)&&P.G==3){try{var G=P.Da.g.parse(E)}catch{G=null}if(Array.isArray(G)&&G.length==3){var J=G;if(J[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<h.F)Zm(P),Qm(P);else break e;a1(P),dt(18)}}else P.za=J[1],0<P.za-P.T&&37500>J[2]&&P.F&&P.v==0&&!P.C&&(P.C=la(p(P.Za,P),6e3));if(1>=wu(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Hl(P,11)}else if((h.K||P.g==h)&&Zm(P),!b(E))for(J=P.Da.g.parse(E),E=0;E<J.length;E++){let vt=J[E];if(P.T=vt[0],vt=vt[1],P.G==2)if(vt[0]=="c"){P.K=vt[1],P.ia=vt[2];const Ir=vt[3];Ir!=null&&(P.la=Ir,P.j.info("VER="+P.la));const Ar=vt[4];Ar!=null&&(P.Aa=Ar,P.j.info("SVER="+P.Aa));const _u=vt[5];_u!=null&&typeof _u=="number"&&0<_u&&(G=1.5*_u,P.L=G,P.j.info("backChannelRequestTimeoutMs_="+G)),G=P;const si=h.g;if(si){const Jm=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jm){var se=G.h;se.g||Jm.indexOf("spdy")==-1&&Jm.indexOf("quic")==-1&&Jm.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Wl(se,se.h),se.h=null))}if(G.D){const c1=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;c1&&(G.ya=c1,en(G.I,G.D,c1))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-h.F,P.j.info("Handshake RTT: "+P.R+"ms")),G=P;var ve=h;if(G.qa=FA(G,G.J?G.ia:null,G.W),ve.K){pA(G.h,ve);var Vt=ve,lr=G.L;lr&&(Vt.I=lr),Vt.B&&(Ul(Vt),ca(Vt)),G.g=ve}else OA(G);0<P.i.length&&Ym(P)}else vt[0]!="stop"&&vt[0]!="close"||Hl(P,7);else P.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Hl(P,7):o1(P):vt[0]!="noop"&&P.l&&P.l.ta(vt),P.v=0)}}Ht(4)}catch{}}var Wh=class{constructor(h,E){this.g=h,this.map=E}};function gu(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yu(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function wu(h){return h.h?1:h.g?h.g.size:0}function zl(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function Wl(h,E){h.g?h.g.add(E):h.h=E}function pA(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}gu.prototype.cancel=function(){if(this.i=mA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function mA(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const P of h.g.values())E=E.concat(P.D);return E}return g(h.i)}function I8(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var E=[],P=h.length,G=0;G<P;G++)E.push(h[G]);return E}E=[],P=0;for(G in h)E[P++]=h[G];return E}function A8(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var E=[];h=h.length;for(var P=0;P<h;P++)E.push(P);return E}E=[],P=0;for(const G in h)E[P++]=G;return E}}}function gA(h,E){if(h.forEach&&typeof h.forEach=="function")h.forEach(E,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,E,void 0);else for(var P=A8(h),G=I8(h),J=G.length,se=0;se<J;se++)E.call(void 0,G[se],P&&P[se],h)}var yA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function C8(h,E){if(h){h=h.split("&");for(var P=0;P<h.length;P++){var G=h[P].indexOf("="),J=null;if(0<=G){var se=h[P].substring(0,G);J=h[P].substring(G+1)}else se=h[P];E(se,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function $l(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof $l){this.h=h.h,Wm(this,h.j),this.o=h.o,this.g=h.g,$m(this,h.s),this.l=h.l;var E=h.i,P=new qh;P.i=E.i,E.g&&(P.g=new Map(E.g),P.h=E.h),wA(this,P),this.m=h.m}else h&&(E=String(h).match(yA))?(this.h=!1,Wm(this,E[1]||"",!0),this.o=$h(E[2]||""),this.g=$h(E[3]||"",!0),$m(this,E[4]),this.l=$h(E[5]||"",!0),wA(this,E[6]||"",!0),this.m=$h(E[7]||"")):(this.h=!1,this.i=new qh(null,this.h))}$l.prototype.toString=function(){var h=[],E=this.j;E&&h.push(Hh(E,vA,!0),":");var P=this.g;return(P||E=="file")&&(h.push("//"),(E=this.o)&&h.push(Hh(E,vA,!0),"@"),h.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&h.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&h.push("/"),h.push(Hh(P,P.charAt(0)=="/"?M8:k8,!0))),(P=this.i.toString())&&h.push("?",P),(P=this.m)&&h.push("#",Hh(P,P8)),h.join("")};function uo(h){return new $l(h)}function Wm(h,E,P){h.j=P?$h(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function $m(h,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);h.s=E}else h.s=null}function wA(h,E,P){E instanceof qh?(h.i=E,O8(h.i,h.h)):(P||(E=Hh(E,R8)),h.i=new qh(E,h.h))}function en(h,E,P){h.i.set(E,P)}function Hm(h){return en(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function $h(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Hh(h,E,P){return typeof h=="string"?(h=encodeURI(h).replace(E,N8),P&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function N8(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var vA=/[#\/\?@]/g,k8=/[#\?:]/g,M8=/[#\?]/g,R8=/[#\?@]/g,P8=/#/g;function qh(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function ua(h){h.g||(h.g=new Map,h.h=0,h.i&&C8(h.i,function(E,P){h.add(decodeURIComponent(E.replace(/\+/g," ")),P)}))}t=qh.prototype,t.add=function(h,E){ua(this),this.i=null,h=vu(this,h);var P=this.g.get(h);return P||this.g.set(h,P=[]),P.push(E),this.h+=1,this};function xA(h,E){ua(h),E=vu(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function _A(h,E){return ua(h),E=vu(h,E),h.g.has(E)}t.forEach=function(h,E){ua(this),this.g.forEach(function(P,G){P.forEach(function(J){h.call(E,J,G,this)},this)},this)},t.na=function(){ua(this);const h=Array.from(this.g.values()),E=Array.from(this.g.keys()),P=[];for(let G=0;G<E.length;G++){const J=h[G];for(let se=0;se<J.length;se++)P.push(E[G])}return P},t.V=function(h){ua(this);let E=[];if(typeof h=="string")_A(this,h)&&(E=E.concat(this.g.get(vu(this,h))));else{h=Array.from(this.g.values());for(let P=0;P<h.length;P++)E=E.concat(h[P])}return E},t.set=function(h,E){return ua(this),this.i=null,h=vu(this,h),_A(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},t.get=function(h,E){return h?(h=this.V(h),0<h.length?String(h[0]):E):E};function bA(h,E,P){xA(h,E),0<P.length&&(h.i=null,h.g.set(vu(h,E),g(P)),h.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(var P=0;P<E.length;P++){var G=E[P];const se=encodeURIComponent(String(G)),ve=this.V(G);for(G=0;G<ve.length;G++){var J=se;ve[G]!==""&&(J+="="+encodeURIComponent(String(ve[G]))),h.push(J)}}return this.i=h.join("&")};function vu(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function O8(h,E){E&&!h.j&&(ua(h),h.i=null,h.g.forEach(function(P,G){var J=G.toLowerCase();G!=J&&(xA(this,G),bA(this,J,P))},h)),h.j=E}function L8(h,E){const P=new qt;if(a.Image){const G=new Image;G.onload=m(da,P,"TestLoadImage: loaded",!0,E,G),G.onerror=m(da,P,"TestLoadImage: error",!1,E,G),G.onabort=m(da,P,"TestLoadImage: abort",!1,E,G),G.ontimeout=m(da,P,"TestLoadImage: timeout",!1,E,G),a.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=h}else E(!1)}function D8(h,E){const P=new qt,G=new AbortController,J=setTimeout(()=>{G.abort(),da(P,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:G.signal}).then(se=>{clearTimeout(J),se.ok?da(P,"TestPingServer: ok",!0,E):da(P,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(J),da(P,"TestPingServer: error",!1,E)})}function da(h,E,P,G,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),G(P)}catch{}}function j8(){this.g=new Ft}function B8(h,E,P){const G=P||"";try{gA(h,function(J,se){let ve=J;c(J)&&(ve=qe(J)),E.push(G+se+"="+encodeURIComponent(ve))})}catch(J){throw E.push(G+"type="+encodeURIComponent("_badmap")),J}}function qm(h){this.l=h.Ub||null,this.j=h.eb||!1}v(qm,Be),qm.prototype.g=function(){return new Km(this.l,this.j)},qm.prototype.i=function(h){return function(){return h}}({});function Km(h,E){ot.call(this),this.D=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Km,ot),t=Km.prototype,t.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=E,this.readyState=1,Gh(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(E.body=h),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kh(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Gh(this)),this.g&&(this.readyState=3,Gh(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;EA(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function EA(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?Kh(this):Gh(this),this.readyState==3&&EA(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Kh(this))},t.Qa=function(h){this.g&&(this.response=h,Kh(this))},t.ga=function(){this.g&&Kh(this)};function Kh(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Gh(h)}t.setRequestHeader=function(h,E){this.u.append(h,E)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var P=E.next();!P.done;)P=P.value,h.push(P[0]+": "+P[1]),P=E.next();return h.join(`\r
`)};function Gh(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Km.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function SA(h){let E="";return F(h,function(P,G){E+=G,E+=":",E+=P,E+=`\r
`}),E}function i1(h,E,P){e:{for(G in P){var G=!1;break e}G=!0}G||(P=SA(P),typeof h=="string"?P!=null&&encodeURIComponent(String(P)):en(h,E,P))}function Nn(h){ot.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Nn,ot);var F8=/^https?$/i,U8=["POST","PUT"];t=Nn.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,E,P,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uu.g(),this.v=this.o?fn(this.o):fn(uu),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(se){TA(this,se);return}if(h=P||"",P=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var J in G)P.set(J,G[J]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const se of G.keys())P.set(se,G.get(se));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(P.keys()).find(se=>se.toLowerCase()=="content-type"),J=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(U8,E,void 0))||G||J||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ve]of P)this.g.setRequestHeader(se,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{CA(this),this.u=!0,this.g.send(h),this.u=!1}catch(se){TA(this,se)}};function TA(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.m=5,IA(h),Gm(h)}function IA(h){h.A||(h.A=!0,V(h,"complete"),V(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,V(this,"complete"),V(this,"abort"),Gm(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gm(this,!0)),Nn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?AA(this):this.bb())},t.bb=function(){AA(this)};function AA(h){if(h.h&&typeof o<"u"&&(!h.v[1]||ho(h)!=4||h.Z()!=2)){if(h.u&&ho(h)==4)N(h.Ea,0,h);else if(V(h,"readystatechange"),ho(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var P;if(!(P=E)){var G;if(G=ve===0){var J=String(h.D).match(yA)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),G=!F8.test(J?J.toLowerCase():"")}P=G}if(P)V(h,"complete"),V(h,"success");else{h.m=6;try{var se=2<ho(h)?h.g.statusText:""}catch{se=""}h.l=se+" ["+h.Z()+"]",IA(h)}}finally{Gm(h)}}}}function Gm(h,E){if(h.g){CA(h);const P=h.g,G=h.v[0]?()=>{}:null;h.g=null,h.v=null,E||V(h,"ready");try{P.onreadystatechange=G}catch{}}}function CA(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ho(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ho(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),Ke(E)}};function NA(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function V8(h){const E={};h=(h.g&&2<=ho(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<h.length;G++){if(b(h[G]))continue;var P=$(h[G]);const J=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const se=E[J]||[];E[J]=se,se.push(P)}R(E,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qh(h,E,P){return P&&P.internalChannelParams&&P.internalChannelParams[h]||E}function kA(h){this.Aa=0,this.i=[],this.j=new qt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qh("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qh("baseRetryDelayMs",5e3,h),this.cb=Qh("retryDelaySeedMs",1e4,h),this.Wa=Qh("forwardChannelMaxRetries",2,h),this.wa=Qh("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new gu(h&&h.concurrentRequestLimit),this.Da=new j8,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kA.prototype,t.la=8,t.G=1,t.connect=function(h,E,P,G){dt(0),this.W=h,this.H=E||{},P&&G!==void 0&&(this.H.OSID=P,this.H.OAID=G),this.F=this.X,this.I=FA(this,null,this.W),Ym(this)};function o1(h){if(MA(h),h.G==3){var E=h.U++,P=uo(h.I);if(en(P,"SID",h.K),en(P,"RID",E),en(P,"TYPE","terminate"),Yh(h,P),E=new Nt(h,h.j,E),E.L=2,E.v=Hm(uo(P)),P=!1,a.navigator&&a.navigator.sendBeacon)try{P=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!P&&a.Image&&(new Image().src=E.v,P=!0),P||(E.g=UA(E.j,null),E.g.ea(E.v)),E.F=Date.now(),ca(E)}BA(h)}function Qm(h){h.g&&(l1(h),h.g.cancel(),h.g=null)}function MA(h){Qm(h),h.u&&(a.clearTimeout(h.u),h.u=null),Zm(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Ym(h){if(!yu(h.h)&&!h.s){h.s=!0;var E=h.Ga;z||H(),L||(z(),L=!0),j.add(E,h),h.B=0}}function z8(h,E){return wu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=E.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=la(p(h.Ga,h,E),jA(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const J=new Nt(this,this.j,h);let se=this.o;if(this.S&&(se?(se=M(se),W(se,this.S)):se=this.S),this.m!==null||this.O||(J.H=se,se=null),this.P)e:{for(var E=0,P=0;P<this.i.length;P++){t:{var G=this.i[P];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(E+=G,4096<E){E=P;break e}if(E===4096||P===this.i.length-1){E=P+1;break e}}E=1e3}else E=1e3;E=PA(this,J,E),P=uo(this.I),en(P,"RID",h),en(P,"CVER",22),this.D&&en(P,"X-HTTP-Session-Id",this.D),Yh(this,P),se&&(this.O?E="headers="+encodeURIComponent(String(SA(se)))+"&"+E:this.m&&i1(P,this.m,se)),Wl(this.h,J),this.Ua&&en(P,"TYPE","init"),this.P?(en(P,"$req",E),en(P,"SID","null"),J.T=!0,Fl(J,P,null)):Fl(J,P,E),this.G=2}}else this.G==3&&(h?RA(this,h):this.i.length==0||yu(this.h)||RA(this))};function RA(h,E){var P;E?P=E.l:P=h.U++;const G=uo(h.I);en(G,"SID",h.K),en(G,"RID",P),en(G,"AID",h.T),Yh(h,G),h.m&&h.o&&i1(G,h.m,h.o),P=new Nt(h,h.j,P,h.B+1),h.m===null&&(P.H=h.o),E&&(h.i=E.D.concat(h.i)),E=PA(h,P,1e3),P.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Wl(h.h,P),Fl(P,G,E)}function Yh(h,E){h.H&&F(h.H,function(P,G){en(E,G,P)}),h.l&&gA({},function(P,G){en(E,G,P)})}function PA(h,E,P){P=Math.min(h.i.length,P);var G=h.l?p(h.l.Na,h.l,h):null;e:{var J=h.i;let se=-1;for(;;){const ve=["count="+P];se==-1?0<P?(se=J[0].g,ve.push("ofs="+se)):se=0:ve.push("ofs="+se);let Vt=!0;for(let lr=0;lr<P;lr++){let vt=J[lr].g;const Ir=J[lr].map;if(vt-=se,0>vt)se=Math.max(0,J[lr].g-100),Vt=!1;else try{B8(Ir,ve,"req"+vt+"_")}catch{G&&G(Ir)}}if(Vt){G=ve.join("&");break e}}}return h=h.i.splice(0,P),E.D=h,G}function OA(h){if(!h.g&&!h.u){h.Y=1;var E=h.Fa;z||H(),L||(z(),L=!0),j.add(E,h),h.v=0}}function a1(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=la(p(h.Fa,h),jA(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,LA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=la(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Qm(this),LA(this))};function l1(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function LA(h){h.g=new Nt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var E=uo(h.qa);en(E,"RID","rpc"),en(E,"SID",h.K),en(E,"AID",h.T),en(E,"CI",h.F?"0":"1"),!h.F&&h.ja&&en(E,"TO",h.ja),en(E,"TYPE","xmlhttp"),Yh(h,E),h.m&&h.o&&i1(E,h.m,h.o),h.L&&(h.g.I=h.L);var P=h.g;h=h.ia,P.L=1,P.v=Hm(uo(E)),P.m=null,P.P=!0,fu(P,h)}t.Za=function(){this.C!=null&&(this.C=null,Qm(this),a1(this),dt(19))};function Zm(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function DA(h,E){var P=null;if(h.g==E){Zm(h),l1(h),h.g=null;var G=2}else if(zl(h.h,E))P=E.D,pA(h.h,E),G=1;else return;if(h.G!=0){if(E.o)if(G==1){P=E.m?E.m.length:0,E=Date.now()-E.F;var J=h.B;G=jl(),V(G,new gn(G,P)),Ym(h)}else OA(h);else if(J=E.s,J==3||J==0&&0<E.X||!(G==1&&z8(h,E)||G==2&&a1(h)))switch(P&&0<P.length&&(E=h.h,E.i=E.i.concat(P)),J){case 1:Hl(h,5);break;case 4:Hl(h,10);break;case 3:Hl(h,6);break;default:Hl(h,2)}}}function jA(h,E){let P=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(P*=2),P*E}function Hl(h,E){if(h.j.info("Error code "+E),E==2){var P=p(h.fb,h),G=h.Xa;const J=!G;G=new $l(G||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wm(G,"https"),Hm(G),J?L8(G.toString(),P):D8(G.toString(),P)}else dt(2);h.G=0,h.l&&h.l.sa(E),BA(h),MA(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function BA(h){if(h.G=0,h.ka=[],h.l){const E=mA(h.h);(E.length!=0||h.i.length!=0)&&(w(h.ka,E),w(h.ka,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.ra()}}function FA(h,E,P){var G=P instanceof $l?uo(P):new $l(P);if(G.g!="")E&&(G.g=E+"."+G.g),$m(G,G.s);else{var J=a.location;G=J.protocol,E=E?E+"."+J.hostname:J.hostname,J=+J.port;var se=new $l(null);G&&Wm(se,G),E&&(se.g=E),J&&$m(se,J),P&&(se.l=P),G=se}return P=h.D,E=h.ya,P&&E&&en(G,P,E),en(G,"VER",h.la),Yh(h,G),G}function UA(h,E,P){if(E&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Ca&&!h.pa?new Nn(new qm({eb:P})):new Nn(h.pa),E.Ha(h.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function VA(){}t=VA.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xm(){}Xm.prototype.g=function(h,E){return new _s(h,E)};function _s(h,E){ot.call(this),this.g=new kA(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(h?h["X-WebChannel-Client-Profile"]=E.va:h={"X-WebChannel-Client-Profile":E.va}),this.g.S=h,(h=E&&E.Sb)&&!b(h)&&(this.g.m=h),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!b(E)&&(this.g.D=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new xu(this)}v(_s,ot),_s.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_s.prototype.close=function(){o1(this.g)},_s.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var P={};P.__data__=h,h=P}else this.u&&(P={},P.__data__=qe(h),h=P);E.i.push(new Wh(E.Ya++,h)),E.G==3&&Ym(E)},_s.prototype.N=function(){this.g.l=null,delete this.j,o1(this.g),delete this.g,_s.aa.N.call(this)};function zA(h){on.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const P in E){h=P;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}v(zA,on);function WA(){cu.call(this),this.status=1}v(WA,cu);function xu(h){this.g=h}v(xu,VA),xu.prototype.ua=function(){V(this.g,"a")},xu.prototype.ta=function(h){V(this.g,new zA(h))},xu.prototype.sa=function(h){V(this.g,new WA)},xu.prototype.ra=function(){V(this.g,"b")},Xm.prototype.createWebChannel=Xm.prototype.g,_s.prototype.send=_s.prototype.o,_s.prototype.open=_s.prototype.m,_s.prototype.close=_s.prototype.close,v6=function(){return new Xm},w6=function(){return jl()},y6=Ot,AE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xt.NO_ERROR=0,Xt.TIMEOUT=8,Xt.HTTP_ERROR=6,L0=Xt,yn.COMPLETE="complete",g6=yn,Uh.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Pf=Uh,Nn.prototype.listenOnce=Nn.prototype.L,Nn.prototype.getLastError=Nn.prototype.Ka,Nn.prototype.getLastErrorCode=Nn.prototype.Ba,Nn.prototype.getStatus=Nn.prototype.Z,Nn.prototype.getResponseJson=Nn.prototype.Oa,Nn.prototype.getResponseText=Nn.prototype.oa,Nn.prototype.send=Nn.prototype.ea,Nn.prototype.setWithCredentials=Nn.prototype.Ha,m6=Nn}).apply(typeof Vg<"u"?Vg:typeof self<"u"?self:typeof window<"u"?window:{});const Lk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new aI("@firebase/firestore");function pf(){return Kc.logLevel}function Ce(t,...e){if(Kc.logLevel<=pt.DEBUG){const n=e.map(uI);Kc.debug(`Firestore (${Ph}): ${t}`,...n)}}function ta(t,...e){if(Kc.logLevel<=pt.ERROR){const n=e.map(uI);Kc.error(`Firestore (${Ph}): ${t}`,...n)}}function ch(t,...e){if(Kc.logLevel<=pt.WARN){const n=e.map(uI);Kc.warn(`Firestore (${Ph}): ${t}`,...n)}}function uI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t="Unexpected state"){const e=`FIRESTORE (${Ph}) INTERNAL ASSERTION FAILED: `+t;throw ta(e),new Error(e)}function yt(t,e){t||ze()}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends oo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vr.UNAUTHENTICATED))}shutdown(){}}class kie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Mie{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt(typeof r.accessToken=="string"),new x6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string"),new Vr(e)}}class Rie{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Pie{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Rie(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Oie{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lie{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){yt(this.o===void 0);const r=i=>{i.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string"),this.R=n.token,new Oie(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Die(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Die(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function _t(t,e){return t<e?-1:t>e?1:0}function uh(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $e(e)}static min(){return new $e(new qn(0,0))}static max(){return new $e(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(),r===void 0?r=e.length-n:r>e.length-n&&ze(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Dt extends jp{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const jie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends jp{construct(e,n,r){return new vr(e,n,r)}static isValidIdentifier(e){return jie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vr(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new we(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new we(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new we(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new we(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(n)}static emptyPath(){return new vr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Dt.fromString(e))}static fromName(e){return new Le(Dt.fromString(e).popFirst(5))}static empty(){return new Le(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Dt(e.slice()))}}function Bie(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=$e.fromTimestamp(r===1e9?new qn(n+1,0):new qn(n,r));return new Il(s,Le.empty(),e)}function Fie(t){return new Il(t.readTime,t.key,-1)}class Il{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Il($e.min(),Le.empty(),-1)}static max(){return new Il($e.max(),Le.empty(),-1)}}function Uie(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:_t(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nm(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==Vie)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.reject(n)}static resolve(e){return new pe((n,r)=>{n(e)})}static reject(e){return new pe((n,r)=>{r(e)})}static waitFor(e){return new pe((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=pe.resolve(!1);for(const r of e)n=n.next(s=>s?pe.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new pe((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new pe((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Wie(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function km(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dI.oe=-1;function Mm(t){return t==null}function iw(t){return t===0&&1/t==-1/0}function $ie(t){return typeof t=="number"&&Number.isInteger(t)&&!iw(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ou(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function b6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n){this.comparator=e,this.root=n||yr.EMPTY}insert(e,n){return new In(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new In(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zg(this.root,e,this.comparator,!1)}getReverseIterator(){return new zg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zg(this.root,e,this.comparator,!0)}}class zg{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??yr.RED,this.left=s??yr.EMPTY,this.right=i??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new yr(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return yr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(e,n,r,s,i){return this}insert(e,n,r){return new yr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.comparator=e,this.data=new In(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jk(this.data.getIterator())}getIteratorFrom(e){return new jk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new br(this.comparator);return n.data=e,n}}class jk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new Rs([])}unionWith(e){let n=new br(vr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new E6("Invalid base64 string: "+i):i}}(e);return new Tr(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const Hie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Al(t){if(yt(!!t),typeof t=="string"){let e=0;const n=Hie.exec(t);if(yt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dn(t.seconds),nanos:Dn(t.nanos)}}function Dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gc(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hI(t){const e=t.mapValue.fields.__previous_value__;return Bv(e)?hI(e):e}function Bp(t){const e=Al(t.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qie{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Fp{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg={mapValue:{}};function Qc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bv(t)?4:Gie(t)?9007199254740991:Kie(t)?10:11:ze()}function Xi(t,e){if(t===e)return!0;const n=Qc(t);if(n!==Qc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bp(t).isEqual(Bp(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Al(s.timestampValue),a=Al(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Gc(s.bytesValue).isEqual(Gc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Dn(s.geoPointValue.latitude)===Dn(i.geoPointValue.latitude)&&Dn(s.geoPointValue.longitude)===Dn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Dn(s.integerValue)===Dn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Dn(s.doubleValue),a=Dn(i.doubleValue);return o===a?iw(o)===iw(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return uh(t.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Dk(o)!==Dk(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xi(o[l],a[l])))return!1;return!0}(t,e);default:return ze()}}function Up(t,e){return(t.values||[]).find(n=>Xi(n,e))!==void 0}function dh(t,e){if(t===e)return 0;const n=Qc(t),r=Qc(e);if(n!==r)return _t(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _t(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Dn(i.integerValue||i.doubleValue),l=Dn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Bk(t.timestampValue,e.timestampValue);case 4:return Bk(Bp(t),Bp(e));case 5:return _t(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Gc(i),l=Gc(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=_t(a[c],l[c]);if(u!==0)return u}return _t(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=_t(Dn(i.latitude),Dn(o.latitude));return a!==0?a:_t(Dn(i.longitude),Dn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Fk(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const f=i.fields||{},p=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(l=p.value)===null||l===void 0?void 0:l.arrayValue,g=_t(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:Fk(m,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Wg.mapValue&&o===Wg.mapValue)return 0;if(i===Wg.mapValue)return 1;if(o===Wg.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const p=_t(l[f],u[f]);if(p!==0)return p;const m=dh(a[l[f]],c[u[f]]);if(m!==0)return m}return _t(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ze()}}function Bk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _t(t,e);const n=Al(t),r=Al(e),s=_t(n.seconds,r.seconds);return s!==0?s:_t(n.nanos,r.nanos)}function Fk(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=dh(n[s],r[s]);if(i)return i}return _t(n.length,r.length)}function hh(t){return CE(t)}function CE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Al(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=CE(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${CE(n.fields[o])}`;return s+"}"}(t.mapValue):ze()}function ow(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function NE(t){return!!t&&"integerValue"in t}function fI(t){return!!t&&"arrayValue"in t}function Uk(t){return!!t&&"nullValue"in t}function Vk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function D0(t){return!!t&&"mapValue"in t}function Kie(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Jf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ou(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Jf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Gie(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.value=e}static empty(){return new ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!D0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jf(n)}setAll(e){let n=vr.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Jf(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());D0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];D0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ou(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ns(Jf(this.value))}}function S6(t){const e=[];return ou(t.fields,(n,r)=>{const s=new vr([n]);if(D0(r)){const i=S6(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Rs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new sr(e,0,$e.min(),$e.min(),$e.min(),ns.empty(),0)}static newFoundDocument(e,n,r,s){return new sr(e,1,n,$e.min(),r,s,0)}static newNoDocument(e,n){return new sr(e,2,n,$e.min(),$e.min(),ns.empty(),0)}static newUnknownDocument(e,n){return new sr(e,3,n,$e.min(),$e.min(),ns.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function zk(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Le.comparator(Le.fromName(o.referenceValue),n.key):r=dh(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Qie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{}class Hn extends T6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Zie(e,n,r):n==="array-contains"?new eoe(e,r):n==="in"?new toe(e,r):n==="not-in"?new noe(e,r):n==="array-contains-any"?new roe(e,r):new Hn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Xie(e,r):new Jie(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(dh(n,this.value)):n!==null&&Qc(this.value)===Qc(n)&&this.matchesComparison(dh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends T6{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ii(e,n)}matches(e){return I6(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function I6(t){return t.op==="and"}function A6(t){return Yie(t)&&I6(t)}function Yie(t){for(const e of t.filters)if(e instanceof Ii)return!1;return!0}function kE(t){if(t instanceof Hn)return t.field.canonicalString()+t.op.toString()+hh(t.value);if(A6(t))return t.filters.map(e=>kE(e)).join(",");{const e=t.filters.map(n=>kE(n)).join(",");return`${t.op}(${e})`}}function C6(t,e){return t instanceof Hn?function(r,s){return s instanceof Hn&&r.op===s.op&&r.field.isEqual(s.field)&&Xi(r.value,s.value)}(t,e):t instanceof Ii?function(r,s){return s instanceof Ii&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&C6(o,s.filters[a]),!0):!1}(t,e):void ze()}function N6(t){return t instanceof Hn?function(n){return`${n.field.canonicalString()} ${n.op} ${hh(n.value)}`}(t):t instanceof Ii?function(n){return n.op.toString()+" {"+n.getFilters().map(N6).join(" ,")+"}"}(t):"Filter"}class Zie extends Hn{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class Xie extends Hn{constructor(e,n){super(e,"in",n),this.keys=k6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Jie extends Hn{constructor(e,n){super(e,"not-in",n),this.keys=k6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function k6(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Le.fromName(r.referenceValue))}class eoe extends Hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fI(n)&&Up(n.arrayValue,this.value)}}class toe extends Hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Up(this.value.arrayValue,n)}}class noe extends Hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Up(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Up(this.value.arrayValue,n)}}class roe extends Hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Up(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class soe{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function $k(t,e=null,n=[],r=[],s=null,i=null,o=null){return new soe(t,e,n,r,s,i,o)}function pI(t){const e=Ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Mm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hh(r)).join(",")),e.ue=n}return e.ue}function mI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Qie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!C6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wk(t.startAt,e.startAt)&&Wk(t.endAt,e.endAt)}function ME(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ioe(t,e,n,r,s,i,o,a){return new au(t,e,n,r,s,i,o,a)}function Fv(t){return new au(t)}function Hk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gI(t){return t.collectionGroup!==null}function Sd(t){const e=Ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new br(vr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Vp(i,r))}),n.has(vr.keyField().canonicalString())||e.ce.push(new Vp(vr.keyField(),r))}return e.ce}function Ki(t){const e=Ye(t);return e.le||(e.le=ooe(e,Sd(t))),e.le}function ooe(t,e){if(t.limitType==="F")return $k(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Vp(s.field,i)});const n=t.endAt?new fh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fh(t.startAt.position,t.startAt.inclusive):null;return $k(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function RE(t,e){const n=t.filters.concat([e]);return new au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function aw(t,e,n){return new au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uv(t,e){return mI(Ki(t),Ki(e))&&t.limitType===e.limitType}function M6(t){return`${pI(Ki(t))}|lt:${t.limitType}`}function Wu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>N6(s)).join(", ")}]`),Mm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>hh(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>hh(s)).join(",")),`Target(${r})`}(Ki(t))}; limitType=${t.limitType})`}function Vv(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Le.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Sd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=zk(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Sd(r),s)||r.endAt&&!function(o,a,l){const c=zk(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Sd(r),s))}(t,e)}function aoe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function R6(t){return(e,n)=>{let r=!1;for(const s of Sd(t)){const i=loe(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function loe(t,e,n){const r=t.field.isKeyField()?Le.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?dh(l,c):ze()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ou(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return b6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const coe=new In(Le.comparator);function na(){return coe}const P6=new In(Le.comparator);function Of(...t){let e=P6;for(const n of t)e=e.insert(n.key,n);return e}function O6(t){let e=P6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gc(){return ep()}function L6(){return ep()}function ep(){return new Oh(t=>t.toString(),(t,e)=>t.isEqual(e))}const uoe=new In(Le.comparator),doe=new br(Le.comparator);function ht(...t){let e=doe;for(const n of t)e=e.add(n);return e}const hoe=new br(_t);function foe(){return hoe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iw(e)?"-0":e}}function D6(t){return{integerValue:""+t}}function j6(t,e){return $ie(e)?D6(e):yI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this._=void 0}}function poe(t,e,n){return t instanceof zp?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Bv(i)&&(i=hI(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Wp?F6(t,e):t instanceof $p?U6(t,e):function(s,i){const o=B6(s,i),a=qk(o)+qk(s.Pe);return NE(o)&&NE(s.Pe)?D6(a):yI(s.serializer,a)}(t,e)}function moe(t,e,n){return t instanceof Wp?F6(t,e):t instanceof $p?U6(t,e):n}function B6(t,e){return t instanceof Hp?function(r){return NE(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class zp extends zv{}class Wp extends zv{constructor(e){super(),this.elements=e}}function F6(t,e){const n=V6(e);for(const r of t.elements)n.some(s=>Xi(s,r))||n.push(r);return{arrayValue:{values:n}}}class $p extends zv{constructor(e){super(),this.elements=e}}function U6(t,e){let n=V6(e);for(const r of t.elements)n=n.filter(s=>!Xi(s,r));return{arrayValue:{values:n}}}class Hp extends zv{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qk(t){return Dn(t.integerValue||t.doubleValue)}function V6(t){return fI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n){this.field=e,this.transform=n}}function goe(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Wp&&s instanceof Wp||r instanceof $p&&s instanceof $p?uh(r.elements,s.elements,Xi):r instanceof Hp&&s instanceof Hp?Xi(r.Pe,s.Pe):r instanceof zp&&s instanceof zp}(t.transform,e.transform)}class yoe{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function j0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wv{}function W6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $v(t.key,ir.none()):new Rm(t.key,t.data,ir.none());{const n=t.data,r=ns.empty();let s=new br(vr.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Dl(t.key,r,new Rs(s.toArray()),ir.none())}}function woe(t,e,n){t instanceof Rm?function(s,i,o){const a=s.value.clone(),l=Gk(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Dl?function(s,i,o){if(!j0(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Gk(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll($6(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function tp(t,e,n,r){return t instanceof Rm?function(i,o,a,l){if(!j0(i.precondition,o))return a;const c=i.value.clone(),u=Qk(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Dl?function(i,o,a,l){if(!j0(i.precondition,o))return a;const c=Qk(i.fieldTransforms,l,o),u=o.data;return u.setAll($6(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return j0(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function voe(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=B6(r.transform,s||null);i!=null&&(n===null&&(n=ns.empty()),n.set(r.field,i))}return n||null}function Kk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&uh(r,s,(i,o)=>goe(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rm extends Wv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Dl extends Wv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function $6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Gk(t,e,n){const r=new Map;yt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,moe(o,a,n[s]))}return r}function Qk(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,poe(i,o,e))}return r}class $v extends Wv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H6 extends Wv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&woe(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=L6();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=W6(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ht())}isEqual(e){return this.batchId===e.batchId&&uh(this.mutations,e.mutations,(n,r)=>Kk(n,r))&&uh(this.baseMutations,e.baseMutations,(n,r)=>Kk(n,r))}}class wI{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){yt(e.mutations.length===r.length);let s=function(){return uoe}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new wI(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un,mt;function q6(t){switch(t){default:return ze();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function K6(t){if(t===void 0)return ta("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Un.OK:return ie.OK;case Un.CANCELLED:return ie.CANCELLED;case Un.UNKNOWN:return ie.UNKNOWN;case Un.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Un.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Un.INTERNAL:return ie.INTERNAL;case Un.UNAVAILABLE:return ie.UNAVAILABLE;case Un.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Un.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Un.NOT_FOUND:return ie.NOT_FOUND;case Un.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Un.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Un.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Un.ABORTED:return ie.ABORTED;case Un.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Un.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Un.DATA_LOSS:return ie.DATA_LOSS;default:return ze()}}(mt=Un||(Un={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eoe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Soe=new Mc([4294967295,4294967295],0);function Yk(t){const e=Eoe().encode(t),n=new p6;return n.update(e),new Uint8Array(n.digest())}function Zk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Mc([n,r],0),new Mc([s,i],0)]}class vI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Lf(`Invalid padding: ${n}`);if(r<0)throw new Lf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Lf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Lf(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Mc.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Mc.fromNumber(r)));return s.compare(Soe)===1&&(s=new Mc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Yk(e),[r,s]=Zk(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new vI(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Yk(e),[r,s]=Zk(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Lf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Pm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hv($e.min(),s,new In(_t),na(),ht())}}class Pm{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pm(r,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class G6{constructor(e,n){this.targetId=e,this.me=n}}class Q6{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Xk{constructor(){this.fe=0,this.ge=eM(),this.pe=Tr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ht(),n=ht(),r=ht();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ze()}}),new Pm(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=eM()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Toe{constructor(e){this.Le=e,this.Be=new Map,this.ke=na(),this.qe=Jk(),this.Qe=new In(_t)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ze()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(ME(i))if(r===0){const o=new Le(i.path);this.Ue(n,o,sr.newNoDocument(o,$e.min()))}else yt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Gc(r).toUint8Array()}catch(l){if(l instanceof E6)return ch("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new vI(o,s,i)}catch(l){return ch(l instanceof Lf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&ME(a.target)){const l=new Le(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,sr.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ht();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Hv(e,n,this.Qe,this.ke,r);return this.ke=na(),this.qe=Jk(),this.Qe=new In(_t),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xk,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new br(_t),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xk),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Jk(){return new In(Le.comparator)}function eM(){return new In(Le.comparator)}const Ioe={asc:"ASCENDING",desc:"DESCENDING"},Aoe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Coe={and:"AND",or:"OR"};class Noe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function PE(t,e){return t.useProto3Json||Mm(e)?e:{value:e}}function lw(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function koe(t,e){return lw(t,e.toTimestamp())}function Ls(t){return yt(!!t),$e.fromTimestamp(function(n){const r=Al(n);return new qn(r.seconds,r.nanos)}(t))}function xI(t,e){return OE(t,e).canonicalString()}function OE(t,e){const n=function(s){return new Dt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Z6(t){const e=Dt.fromString(t);return yt(rB(e)),e}function cw(t,e){return xI(t.databaseId,e.path)}function np(t,e){const n=Z6(e);if(n.get(1)!==t.databaseId.projectId)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le(J6(n))}function X6(t,e){return xI(t.databaseId,e)}function Moe(t){const e=Z6(t);return e.length===4?Dt.emptyPath():J6(e)}function LE(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function J6(t){return yt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tM(t,e,n){return{name:cw(t,e),fields:n.value.mapValue.fields}}function Roe(t,e){return"found"in e?function(r,s){yt(!!s.found),s.found.name,s.found.updateTime;const i=np(r,s.found.name),o=Ls(s.found.updateTime),a=s.found.createTime?Ls(s.found.createTime):$e.min(),l=new ns({mapValue:{fields:s.found.fields}});return sr.newFoundDocument(i,o,a,l)}(t,e):"missing"in e?function(r,s){yt(!!s.missing),yt(!!s.readTime);const i=np(r,s.missing),o=Ls(s.readTime);return sr.newNoDocument(i,o)}(t,e):ze()}function Poe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(yt(u===void 0||typeof u=="string"),Tr.fromBase64String(u||"")):(yt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Tr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?ie.UNKNOWN:K6(c.code);return new we(u,c.message||"")}(o);n=new Q6(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=np(t,r.document.name),i=Ls(r.document.updateTime),o=r.document.createTime?Ls(r.document.createTime):$e.min(),a=new ns({mapValue:{fields:r.document.fields}}),l=sr.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new B0(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=np(t,r.document),i=r.readTime?Ls(r.readTime):$e.min(),o=sr.newNoDocument(s,i),a=r.removedTargetIds||[];n=new B0([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=np(t,r.document),i=r.removedTargetIds||[];n=new B0([],i,s,null)}else{if(!("filter"in e))return ze();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new boe(s,i),a=r.targetId;n=new G6(a,o)}}return n}function eB(t,e){let n;if(e instanceof Rm)n={update:tM(t,e.key,e.value)};else if(e instanceof $v)n={delete:cw(t,e.key)};else if(e instanceof Dl)n={update:tM(t,e.key,e.data),updateMask:zoe(e.fieldMask)};else{if(!(e instanceof H6))return ze();n={verify:cw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof zp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $p)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ze()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:koe(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ze()}(t,e.precondition)),n}function Ooe(t,e){return t&&t.length>0?(yt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Ls(s.updateTime):Ls(i);return o.isEqual($e.min())&&(o=Ls(i)),new yoe(o,s.transformResults||[])}(n,e))):[]}function Loe(t,e){return{documents:[X6(t,e.path)]}}function Doe(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=X6(t,s);const i=function(c){if(c.length!==0)return nB(Ii.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:$u(p.field),direction:Foe(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=PE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function joe(t){let e=Moe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){yt(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(f){const p=tB(f);return p instanceof Ii&&A6(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(v){return new Vp(Hu(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Mm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new fh(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new fh(m,p)}(n.endAt)),ioe(e,s,o,i,a,"F",l,c)}function Boe(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tB(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hu(n.unaryFilter.field);return Hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Hu(n.unaryFilter.field);return Hn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Hu(n.unaryFilter.field);return Hn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hu(n.unaryFilter.field);return Hn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(t):t.fieldFilter!==void 0?function(n){return Hn.create(Hu(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ii.create(n.compositeFilter.filters.map(r=>tB(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ze()}}(n.compositeFilter.op))}(t):ze()}function Foe(t){return Ioe[t]}function Uoe(t){return Aoe[t]}function Voe(t){return Coe[t]}function $u(t){return{fieldPath:t.canonicalString()}}function Hu(t){return vr.fromServerFormat(t.fieldPath)}function nB(t){return t instanceof Hn?function(n){if(n.op==="=="){if(Vk(n.value))return{unaryFilter:{field:$u(n.field),op:"IS_NAN"}};if(Uk(n.value))return{unaryFilter:{field:$u(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vk(n.value))return{unaryFilter:{field:$u(n.field),op:"IS_NOT_NAN"}};if(Uk(n.value))return{unaryFilter:{field:$u(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$u(n.field),op:Uoe(n.op),value:n.value}}}(t):t instanceof Ii?function(n){const r=n.getFilters().map(s=>nB(s));return r.length===1?r[0]:{compositeFilter:{op:Voe(n.op),filters:r}}}(t):ze()}function zoe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r,s,i=$e.min(),o=$e.min(),a=Tr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Woe{constructor(e){this.ct=e}}function $oe(t){const e=joe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?aw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hoe{constructor(){this.un=new qoe}addToCollectionParentIndex(e,n){return this.un.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(Il.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(Il.min())}updateCollectionGroup(e,n,r){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class qoe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new br(Dt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new br(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ph(0)}static kn(){return new ph(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Koe{constructor(){this.changes=new Oh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Goe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qoe{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&tp(r.mutation,s,Rs.empty(),qn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ht()){const s=gc();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Of();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=gc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ht()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=na();const o=ep(),a=function(){return ep()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Dl)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),tp(u.mutation,c,u.mutation.getFieldMask(),qn.now())):o.set(c.key,Rs.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new Goe(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ep();let s=new In((o,a)=>o-a),i=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Rs.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(s.get(a.batchId)||ht()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=L6();u.forEach(p=>{if(!i.has(p)){const m=W6(n.get(p),r.get(p));m!==null&&f.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return pe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):pe.resolve(gc());let a=-1,l=i;return o.next(c=>pe.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(u)?pe.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ht())).next(u=>({batchId:a,changes:O6(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next(r=>{let s=Of();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Of();return this.indexManager.getCollectionParents(e,i).next(a=>pe.forEach(a,l=>{const c=function(f,p){return new au(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,sr.newInvalidDocument(u)))});let a=Of();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&tp(u.mutation,c,Rs.empty(),qn.now()),Vv(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yoe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return pe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ls(s.createTime)}}(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:$oe(s.bundledQuery),readTime:Ls(s.readTime)}}(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{constructor(){this.overlays=new In(Le.comparator),this.Ir=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gc();return pe.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),pe.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),pe.resolve()}getOverlaysForCollection(e,n,r){const s=gc(),i=n.length+1,o=new Le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return pe.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new In((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=gc(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=gc(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return pe.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _oe(n,r));let i=this.Ir.get(n);i===void 0&&(i=ht(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xoe{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.Tr=new br(nr.Er),this.dr=new br(nr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new nr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new nr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Le(new Dt([])),r=new nr(n,e),s=new nr(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Le(new Dt([])),r=new nr(n,e),s=new nr(n,e+1);let i=ht();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new nr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Le.comparator(e.key,n.key)||_t(e.wr,n.wr)}static Ar(e,n){return _t(e.wr,n.wr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new br(nr.Er)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xoe(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new nr(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return pe.resolve(o)}lookupMutationBatch(e,n){return pe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return pe.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nr(n,0),s=new nr(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),pe.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new br(_t);return n.forEach(s=>{const i=new nr(s,0),o=new nr(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),pe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Le.isDocumentKey(i)||(i=i.child(""));const o=new nr(new Le(i),0);let a=new br(_t);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),pe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){yt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return pe.forEach(n.mutations,s=>{const i=new nr(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new nr(n,0),s=this.br.firstAfterOrEqual(r);return pe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eae{constructor(e){this.Mr=e,this.docs=function(){return new In(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return pe.resolve(r?r.document.mutableCopy():sr.newInvalidDocument(n))}getEntries(e,n){let r=na();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():sr.newInvalidDocument(s))}),pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=na();const o=n.path,a=new Le(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Uie(Fie(u),r)<=0||(s.has(u.key)||Vv(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return pe.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ze()}Or(e,n){return pe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tae(this)}getSize(e){return pe.resolve(this.size)}}class tae extends Koe{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),pe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(e){this.persistence=e,this.Nr=new Oh(n=>pI(n),mI),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _I,this.targetCount=0,this.kr=ph.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),pe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ph(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Kn(n),pe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),pe.waitFor(i).next(()=>s)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return pe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),pe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),pe.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return pe.resolve(r)}containsKey(e,n){return pe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(e,n){this.qr={},this.overlays={},this.Qr=new dI(0),this.Kr=!1,this.Kr=!0,this.$r=new Xoe,this.referenceDelegate=e(this),this.Ur=new nae(this),this.indexManager=new Hoe,this.remoteDocumentCache=function(s){return new eae(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Woe(n),this.Gr=new Yoe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zoe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Joe(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const s=new sae(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return pe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class sae extends zie{constructor(e){super(),this.currentSequenceNumber=e}}class bI{constructor(e){this.persistence=e,this.Jr=new _I,this.Yr=null}static Zr(e){return new bI(e)}get Xr(){if(this.Yr)return this.Yr;throw ze()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),pe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Xr,r=>{const s=Le.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,$e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return pe.or([()=>pe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ht(),s=ht();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new EI(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iae{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oae{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return hse()?8:Wie(Kr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new iae;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(pf()<=pt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Wu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pe.resolve()):(pf()<=pt.DEBUG&&Ce("QueryEngine","Query:",Wu(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(pf()<=pt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Wu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):pe.resolve())}Yi(e,n){if(Hk(n))return pe.resolve(null);let r=Ki(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=aw(n,null,"F"),r=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ht(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,aw(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return Hk(n)||s.isEqual($e.min())?pe.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?pe.resolve(null):(pf()<=pt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wu(n)),this.rs(e,o,n,Bie(s,-1)).next(a=>a))})}ts(e,n){let r=new br(R6(e));return n.forEach((s,i)=>{Vv(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return pf()<=pt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Wu(n)),this.Ji.getDocumentsMatchingQuery(e,n,Il.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aae{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new In(_t),this._s=new Oh(i=>pI(i),mI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qoe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function lae(t,e,n,r){return new aae(t,e,n,r)}async function sB(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ht();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function cae(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,p=f.keys();let m=pe.resolve();return p.forEach(v=>{m=m.next(()=>u.getEntry(l,v)).next(g=>{const w=c.docVersions.get(v);yt(w!==null),g.version.compareTo(w)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ht();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function iB(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function uae(t,e){const n=Ye(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,f)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Tr.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(f,m),function(g,w,_){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,u)&&a.push(n.Ur.updateTargetData(i,m))});let l=na(),c=ht();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(dae(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual($e.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return pe.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function dae(t,e,n){let r=ht(),s=ht();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=na();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual($e.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function hae(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fae(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,pe.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new tl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function DE(t,e,n){const r=Ye(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!km(o))throw o;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function nM(t,e,n){const r=Ye(t);let s=$e.min(),i=ht();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=Ye(l),p=f._s.get(u);return p!==void 0?pe.resolve(f.os.get(p)):f.Ur.getTargetData(c,u)}(r,o,Ki(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:$e.min(),n?i:ht())).next(a=>(pae(r,aoe(e),a),{documents:a,Ts:i})))}function pae(t,e,n){let r=t.us.get(e)||$e.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class rM{constructor(){this.activeTargetIds=foe()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mae{constructor(){this.so=new rM,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g=null;function Qx(){return $g===null?$g=function(){return 268435456+Math.round(2147483648*Math.random())}():$g++,"0x"+$g.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wae{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="WebChannelConnection";class vae extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Qx(),l=this.xo(n,r.toUriEncodedString());Ce("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(u=>(Ce("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ch("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ph}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=yae[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Qx();return new Promise((o,a)=>{const l=new m6;l.setWithCredentials(!0),l.listenOnce(g6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case L0.NO_ERROR:const u=l.getResponseJson();Ce(Lr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case L0.TIMEOUT:Ce(Lr,`RPC '${e}' ${i} timed out`),a(new we(ie.DEADLINE_EXCEEDED,"Request time out"));break;case L0.HTTP_ERROR:const f=l.getStatus();if(Ce(Lr,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(_)>=0?_:ie.UNKNOWN}(m.status);a(new we(v,m.message))}else a(new we(ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new we(ie.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{Ce(Lr,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);Ce(Lr,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Qx(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=v6(),a=w6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");Ce(Lr,`Creating RPC '${e}' stream ${s}: ${u}`,l);const f=o.createWebChannel(u,l);let p=!1,m=!1;const v=new wae({Io:w=>{m?Ce(Lr,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(p||(Ce(Lr,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Ce(Lr,`RPC '${e}' stream ${s} sending:`,w),f.send(w))},To:()=>f.close()}),g=(w,_,b)=>{w.listen(_,x=>{try{b(x)}catch(T){setTimeout(()=>{throw T},0)}})};return g(f,Pf.EventType.OPEN,()=>{m||(Ce(Lr,`RPC '${e}' stream ${s} transport opened.`),v.yo())}),g(f,Pf.EventType.CLOSE,()=>{m||(m=!0,Ce(Lr,`RPC '${e}' stream ${s} transport closed`),v.So())}),g(f,Pf.EventType.ERROR,w=>{m||(m=!0,ch(Lr,`RPC '${e}' stream ${s} transport errored:`,w),v.So(new we(ie.UNAVAILABLE,"The operation could not be completed")))}),g(f,Pf.EventType.MESSAGE,w=>{var _;if(!m){const b=w.data[0];yt(!!b);const x=b,T=x.error||((_=x[0])===null||_===void 0?void 0:_.error);if(T){Ce(Lr,`RPC '${e}' stream ${s} received error:`,T);const D=T.status;let F=function(U){const W=Un[U];if(W!==void 0)return K6(W)}(D),R=T.message;F===void 0&&(F=ie.INTERNAL,R="Unknown error status: "+D+" with message "+T.message),m=!0,v.So(new we(F,R)),f.close()}else Ce(Lr,`RPC '${e}' stream ${s} received:`,b),v.bo(b)}}),g(a,y6.STAT_EVENT,w=>{w.stat===AE.PROXY?Ce(Lr,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===AE.NOPROXY&&Ce(Lr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Yx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t){return new Noe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new SI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ta(n.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new we(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xae extends oB{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Poe(this.serializer,e),r=function(i){if(!("targetChange"in i))return $e.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?$e.min():o.readTime?Ls(o.readTime):$e.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=LE(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=ME(l)?{documents:Loe(i,l)}:{query:Doe(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Y6(i,o.resumeToken);const c=PE(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo($e.min())>0){a.readTime=lw(i,o.snapshotVersion.toTimestamp());const c=PE(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Boe(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=LE(this.serializer),n.removeTarget=e,this.a_(n)}}class _ae extends oB{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return yt(!!e.streamToken),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Ooe(e.writeResults,e.commitTime),r=Ls(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=LE(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eB(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,OE(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new we(ie.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,OE(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(ie.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Eae{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ta(n),this.D_=!1):Ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sae{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{lu(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ye(l);c.L_.add(4),await Om(c),c.q_.set("Unknown"),c.L_.delete(4),await Kv(c)}(this))})}),this.q_=new Eae(r,s)}}async function Kv(t){if(lu(t))for(const e of t.B_)await e(!0)}async function Om(t){for(const e of t.B_)await e(!1)}function aB(t,e){const n=Ye(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),CI(n)?AI(n):Lh(n).r_()&&II(n,e))}function TI(t,e){const n=Ye(t),r=Lh(n);n.N_.delete(e),r.r_()&&lB(n,e),n.N_.size===0&&(r.r_()?r.o_():lu(n)&&n.q_.set("Unknown"))}function II(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lh(t).A_(e)}function lB(t,e){t.Q_.xe(e),Lh(t).R_(e)}function AI(t){t.Q_=new Toe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Lh(t).start(),t.q_.v_()}function CI(t){return lu(t)&&!Lh(t).n_()&&t.N_.size>0}function lu(t){return Ye(t).L_.size===0}function cB(t){t.Q_=void 0}async function Tae(t){t.q_.set("Online")}async function Iae(t){t.N_.forEach((e,n)=>{II(t,e)})}async function Aae(t,e){cB(t),CI(t)?(t.q_.M_(e),AI(t)):t.q_.set("Unknown")}async function Cae(t,e,n){if(t.q_.set("Online"),e instanceof Q6&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uw(t,r)}else if(e instanceof B0?t.Q_.Ke(e):e instanceof G6?t.Q_.He(e):t.Q_.We(e),!n.isEqual($e.min()))try{const r=await iB(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(Tr.EMPTY_BYTE_STRING,u.snapshotVersion)),lB(i,l);const f=new tl(u.target,l,c,u.sequenceNumber);II(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ce("RemoteStore","Failed to raise snapshot:",r),await uw(t,r)}}async function uw(t,e,n){if(!km(e))throw e;t.L_.add(1),await Om(t),t.q_.set("Offline"),n||(n=()=>iB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Kv(t)})}function uB(t,e){return e().catch(n=>uw(t,n,e))}async function Gv(t){const e=Ye(t),n=Cl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Nae(e);)try{const s=await hae(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,kae(e,s)}catch(s){await uw(e,s)}dB(e)&&hB(e)}function Nae(t){return lu(t)&&t.O_.length<10}function kae(t,e){t.O_.push(e);const n=Cl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function dB(t){return lu(t)&&!Cl(t).n_()&&t.O_.length>0}function hB(t){Cl(t).start()}async function Mae(t){Cl(t).p_()}async function Rae(t){const e=Cl(t);for(const n of t.O_)e.m_(n.mutations)}async function Pae(t,e,n){const r=t.O_.shift(),s=wI.from(r,e,n);await uB(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gv(t)}async function Oae(t,e){e&&Cl(t).V_&&await async function(r,s){if(function(o){return q6(o)&&o!==ie.ABORTED}(s.code)){const i=r.O_.shift();Cl(r).s_(),await uB(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gv(r)}}(t,e),dB(t)&&hB(t)}async function iM(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const r=lu(n);n.L_.add(3),await Om(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Kv(n)}async function Lae(t,e){const n=Ye(t);e?(n.L_.delete(2),await Kv(n)):e||(n.L_.add(2),await Om(n),n.q_.set("Unknown"))}function Lh(t){return t.K_||(t.K_=function(n,r,s){const i=Ye(n);return i.w_(),new xae(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Tae.bind(null,t),Ro:Iae.bind(null,t),mo:Aae.bind(null,t),d_:Cae.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),CI(t)?AI(t):t.q_.set("Unknown")):(await t.K_.stop(),cB(t))})),t.K_}function Cl(t){return t.U_||(t.U_=function(n,r,s){const i=Ye(n);return i.w_(),new _ae(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Mae.bind(null,t),mo:Oae.bind(null,t),f_:Rae.bind(null,t),g_:Pae.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Gv(t)):(await t.U_.stop(),t.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new NI(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kI(t,e){if(ta("AsyncQueue",`${e}: ${t}`),km(t))return new we(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=Of(),this.sortedSet=new In(this.comparator)}static emptySet(e){return new Td(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Td)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Td;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.W_=new In(Le.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ze():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class mh{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new mh(e,n,Td.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class jae{constructor(){this.queries=aM(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ye(n),i=s.queries;s.queries=aM(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new we(ie.ABORTED,"Firestore shutting down"))}}function aM(){return new Oh(t=>M6(t),Uv)}async function MI(t,e){const n=Ye(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Dae,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=kI(o,`Initialization of query '${Wu(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&PI(n)}async function RI(t,e){const n=Ye(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Bae(t,e){const n=Ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&PI(n)}function Fae(t,e,n){const r=Ye(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function PI(t){t.Y_.forEach(e=>{e.next()})}var jE,lM;(lM=jE||(jE={})).ea="default",lM.Cache="cache";class OI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new mh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=mh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==jE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.key=e}}class pB{constructor(e){this.key=e}}class Uae{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ht(),this.mutatedKeys=ht(),this.Aa=R6(e),this.Ra=new Td(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new oM,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,f)=>{const p=s.get(u),m=Vv(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;p&&m?p.data.isEqual(m.data)?v!==g&&(r.track({type:3,doc:m}),w=!0):this.ga(p,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),w=!0):p&&!m&&(r.track({type:1,doc:p}),w=!0,(l||c)&&(a=!0)),w&&(m?(o=o.add(m),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,f)=>function(m,v){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return g(m)-g(v)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new mh(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new oM,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ht(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new pB(r))}),this.da.forEach(r=>{e.has(r)||n.push(new fB(r))}),n}ba(e){this.Ta=e.Ts,this.da=ht();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return mh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Vae{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zae{constructor(e){this.key=e,this.va=!1}}class Wae{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Oh(a=>M6(a),Uv),this.Ma=new Map,this.xa=new Set,this.Oa=new In(Le.comparator),this.Na=new Map,this.La=new _I,this.Ba={},this.ka=new Map,this.qa=ph.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function $ae(t,e,n=!0){const r=xB(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await mB(r,e,n,!0),s}async function Hae(t,e){const n=xB(t);await mB(n,e,!0,!1)}async function mB(t,e,n,r){const s=await fae(t.localStore,Ki(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await qae(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&aB(t.remoteStore,s),a}async function qae(t,e,n,r,s){t.Ka=(f,p,m)=>async function(g,w,_,b){let x=w.view.ma(_);x.ns&&(x=await nM(g.localStore,w.query,!1).then(({documents:R})=>w.view.ma(R,x)));const T=b&&b.targetChanges.get(w.targetId),D=b&&b.targetMismatches.get(w.targetId)!=null,F=w.view.applyChanges(x,g.isPrimaryClient,T,D);return uM(g,w.targetId,F.wa),F.snapshot}(t,f,p,m);const i=await nM(t.localStore,e,!0),o=new Uae(e,i.Ts),a=o.ma(i.documents),l=Pm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);uM(t,n,c.wa);const u=new Vae(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Kae(t,e,n){const r=Ye(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Uv(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await DE(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&TI(r.remoteStore,s.targetId),BE(r,s.targetId)}).catch(Nm)):(BE(r,s.targetId),await DE(r.localStore,s.targetId,!0))}async function Gae(t,e){const n=Ye(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),TI(n.remoteStore,r.targetId))}async function Qae(t,e,n){const r=nle(t);try{const s=await function(o,a){const l=Ye(o),c=qn.now(),u=a.reduce((m,v)=>m.add(v.key),ht());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=na(),g=ht();return l.cs.getEntries(m,u).next(w=>{v=w,v.forEach((_,b)=>{b.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(w=>{f=w;const _=[];for(const b of a){const x=voe(b,f.get(b.key).overlayedDocument);x!=null&&_.push(new Dl(b.key,x,S6(x.value.mapValue),ir.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,_,a)}).next(w=>{p=w;const _=w.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,w.batchId,_)})}).then(()=>({batchId:p.batchId,changes:O6(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new In(_t)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Lm(r,s.changes),await Gv(r.remoteStore)}catch(s){const i=kI(s,"Failed to persist write");n.reject(i)}}async function gB(t,e){const n=Ye(t);try{const r=await uae(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(yt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?yt(o.va):s.removedDocuments.size>0&&(yt(o.va),o.va=!1))}),await Lm(n,r,e)}catch(r){await Nm(r)}}function cM(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ye(o);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const p of f.j_)p.Z_(a)&&(c=!0)}),c&&PI(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Yae(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new In(Le.comparator);o=o.insert(i,sr.newNoDocument(i,$e.min()));const a=ht().add(i),l=new Hv($e.min(),new Map,new In(_t),o,a);await gB(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),LI(r)}else await DE(r.localStore,e,!1).then(()=>BE(r,e,n)).catch(Nm)}async function Zae(t,e){const n=Ye(t),r=e.batch.batchId;try{const s=await cae(n.localStore,e);wB(n,r,null),yB(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lm(n,s)}catch(s){await Nm(s)}}async function Xae(t,e,n){const r=Ye(t);try{const s=await function(o,a){const l=Ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(yt(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);wB(r,e,n),yB(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lm(r,s)}catch(s){await Nm(s)}}function yB(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function wB(t,e,n){const r=Ye(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function BE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||vB(t,r)})}function vB(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(TI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),LI(t))}function uM(t,e,n){for(const r of n)r instanceof fB?(t.La.addReference(r.key,e),Jae(t,r)):r instanceof pB?(Ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||vB(t,r.key)):ze()}function Jae(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),LI(t))}function LI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Le(Dt.fromString(e)),r=t.qa.next();t.Na.set(r,new zae(n)),t.Oa=t.Oa.insert(n,r),aB(t.remoteStore,new tl(Ki(Fv(n.path)),r,"TargetPurposeLimboResolution",dI.oe))}}async function Lm(t,e,n){const r=Ye(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=EI.Wi(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const u=Ye(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>pe.forEach(c,p=>pe.forEach(p.$i,m=>u.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>pe.forEach(p.Ui,m=>u.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!km(f))throw f;Ce("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=u.os.get(p),v=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(v);u.os=u.os.insert(p,g)}}}(r.localStore,i))}async function ele(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const r=await sB(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new we(ie.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lm(n,r.hs)}}function tle(t,e){const n=Ye(t),r=n.Na.get(e);if(r&&r.va)return ht().add(r.key);{let s=ht();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function xB(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tle.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yae.bind(null,e),e.Ca.d_=Bae.bind(null,e.eventManager),e.Ca.$a=Fae.bind(null,e.eventManager),e}function nle(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xae.bind(null,e),e}class dw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qv(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return lae(this.persistence,new oae,e.initialUser,this.serializer)}Ga(e){return new rae(bI.Zr,this.serializer)}Wa(e){return new mae}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dw.provider={build:()=>new dw};class FE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ele.bind(null,this.syncEngine),await Lae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jae}()}createDatastore(e){const n=qv(e.databaseInfo.databaseId),r=function(i){return new vae(i)}(e.databaseInfo);return function(i,o,a,l){return new bae(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Sae(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>cM(this.syncEngine,n,0),function(){return sM.D()?new sM:new gae}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const f=new Wae(s,i,o,a,l,c);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ye(s);Ce("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Om(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}FE.provider={build:()=>new FE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rle{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new we(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const o=Ye(s),a={documents:i.map(f=>cw(o.serializer,f))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,Dt.emptyPath(),a,i.length),c=new Map;l.forEach(f=>{const p=Roe(o.serializer,f);c.set(p.key.toString(),p)});const u=[];return i.forEach(f=>{const p=c.get(f.toString());yt(!!p),u.push(p)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $v(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=Le.fromPath(r);this.mutations.push(new H6(s,this.precondition(s)))}),await async function(r,s){const i=Ye(r),o={writes:s.map(a=>eB(i.serializer,a))};await i.Mo("Commit",i.serializer.databaseId,Dt.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ze();n=$e.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new we(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual($e.min())?ir.exists(!1):ir.updateTime(n):ir.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual($e.min()))throw new we(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ir.updateTime(n)}return ir.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sle{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new SI(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new rle(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.lu(s)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Mm(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!q6(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ile{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Vr.UNAUTHENTICATED,this.clientId=_6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Ce("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ce("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kI(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zx(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await sB(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dM(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ole(t);Ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>iM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>iM(e.remoteStore,s)),t._onlineComponents=e}async function ole(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ch("Error using user provided cache. Falling back to memory cache: "+n),await Zx(t,new dw)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),await Zx(t,new dw);return t._offlineComponents}async function jI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),await dM(t,t._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),await dM(t,new FE))),t._onlineComponents}function ale(t){return jI(t).then(e=>e.syncEngine)}function lle(t){return jI(t).then(e=>e.datastore)}async function hw(t){const e=await jI(t),n=e.eventManager;return n.onListen=$ae.bind(null,e.syncEngine),n.onUnlisten=Kae.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hae.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Gae.bind(null,e.syncEngine),n}function cle(t,e,n={}){const r=new qi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new DI({next:p=>{u.Za(),o.enqueueAndForget(()=>RI(i,f));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new we(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new we(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new OI(Fv(a.path),u,{includeMetadataChanges:!0,_a:!0});return MI(i,f)}(await hw(t),t.asyncQueue,e,n,r)),r.promise}function ule(t,e,n={}){const r=new qi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new DI({next:p=>{u.Za(),o.enqueueAndForget(()=>RI(i,f)),p.fromCache&&l.source==="server"?c.reject(new we(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new OI(a,u,{includeMetadataChanges:!0,_a:!0});return MI(i,f)}(await hw(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(t,e,n){if(!n)throw new we(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dle(t,e,n,r){if(e===!0&&r===!0)throw new we(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fM(t){if(!Le.isDocumentKey(t))throw new we(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pM(t){if(Le.isDocumentKey(t))throw new we(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze()}function Ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qv(t);throw new we(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function hle(t,e){if(e<=0)throw new we(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dle("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_B((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mM({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mM(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Nie;switch(r.type){case"firstParty":return new Pie(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hM.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),hM.delete(n),r.terminate())}(this),Promise.resolve()}}function fle(t,e,n,r={}){var s;const i=(t=Ds(t,Yv))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ch("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Vr.MOCK_USER;else{a=l6(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new we(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Vr(c)}t._authCredentials=new kie(new x6(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class Hr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hr(this.firestore,e,this._key)}}class yl extends ao{constructor(e,n,r){super(e,n,Fv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hr(this.firestore,null,new Le(e))}withConverter(e){return new yl(this.firestore,e,this._path)}}function Fr(t,e,...n){if(t=Bn(t),bB("collection","path",e),t instanceof Yv){const r=Dt.fromString(e,...n);return pM(r),new yl(t,null,r)}{if(!(t instanceof Hr||t instanceof yl))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return pM(r),new yl(t.firestore,null,r)}}function Hs(t,e,...n){if(t=Bn(t),arguments.length===1&&(e=_6.newId()),bB("doc","path",e),t instanceof Yv){const r=Dt.fromString(e,...n);return fM(r),new Hr(t,null,new Le(r))}{if(!(t instanceof Hr||t instanceof yl))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return fM(r),new Hr(t.firestore,t instanceof yl?t.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new SI(this,"async_queue_retry"),this.Vu=()=>{const r=Yx();r&&Ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Yx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Yx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new qi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!km(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ta("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=NI.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ze()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function yM(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ra extends Yv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new gM,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gM(e),this._firestoreClient=void 0,await e}}}function ple(t,e){const n=typeof t=="object"?t:cI(),r=typeof t=="string"?t:"(default)",s=jv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=i6("firestore");i&&fle(s,...i)}return s}function Dh(t){if(t._terminated)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mle(t),t._firestoreClient}function mle(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new qie(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,_B(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new ile(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yc(Tr.fromBase64String(e))}catch(n){throw new we(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yc(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gle=/^__.*__$/;class yle{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Dl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rm(e,this.data,n,this.fieldTransforms)}}class EB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Dl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze()}}class UI{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new UI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return fw(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(SB(this.Cu)&&gle.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class wle{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qv(e)}Qu(e,n,r,s=!1){return new UI({Cu:e,methodName:n,qu:r,path:vr.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bh(t){const e=t._freezeSettings(),n=qv(t._databaseId);return new wle(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VI(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);qI("Data must be an object, but it was:",o,r);const a=IB(r,o);let l,c;if(i.merge)l=new Rs(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const p=UE(e,f,n);if(!o.contains(p))throw new we(ie.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);CB(u,p)||u.push(p)}l=new Rs(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new yle(new ns(a),l,c)}class Zv extends Dm{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zv}}class zI extends Dm{_toFieldTransform(e){return new z6(e.path,new zp)}isEqual(e){return e instanceof zI}}class WI extends Dm{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Hp(e.serializer,j6(e.serializer,this.$u));return new z6(e.path,n)}isEqual(e){return e instanceof WI&&this.$u===e.$u}}function $I(t,e,n,r){const s=t.Qu(1,e,n);qI("Data must be an object, but it was:",s,r);const i=[],o=ns.empty();ou(r,(l,c)=>{const u=KI(e,l,n);c=Bn(c);const f=s.Nu(u);if(c instanceof Zv)i.push(u);else{const p=jm(c,f);p!=null&&(i.push(u),o.set(u,p))}});const a=new Rs(i);return new EB(o,a,s.fieldTransforms)}function HI(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[UE(e,r,n)],l=[s];if(i.length%2!=0)throw new we(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(UE(e,i[p])),l.push(i[p+1]);const c=[],u=ns.empty();for(let p=a.length-1;p>=0;--p)if(!CB(c,a[p])){const m=a[p];let v=l[p];v=Bn(v);const g=o.Nu(m);if(v instanceof Zv)c.push(m);else{const w=jm(v,g);w!=null&&(c.push(m),u.set(m,w))}}const f=new Rs(c);return new EB(u,f,o.fieldTransforms)}function TB(t,e,n,r=!1){return jm(n,t.Qu(r?4:3,e))}function jm(t,e){if(AB(t=Bn(t)))return qI("Unsupported field value:",e,t),IB(t,e);if(t instanceof Dm)return function(r,s){if(!SB(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=jm(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return j6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=qn.fromDate(r);return{timestampValue:lw(s.serializer,i)}}if(r instanceof qn){const i=new qn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lw(s.serializer,i)}}if(r instanceof BI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yc)return{bytesValue:Y6(s.serializer,r._byteString)};if(r instanceof Hr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:xI(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof FI)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return yI(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Qv(r)}`)}(t,e)}function IB(t,e){const n={};return b6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ou(t,(r,s)=>{const i=jm(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function AB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qn||t instanceof BI||t instanceof Yc||t instanceof Hr||t instanceof Dm||t instanceof FI)}function qI(t,e,n){if(!AB(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Qv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function UE(t,e,n){if((e=Bn(e))instanceof jh)return e._internalPath;if(typeof e=="string")return KI(t,e);throw fw("Field path arguments must be of type string or ",t,!1,void 0,n)}const vle=new RegExp("[~\\*/\\[\\]]");function KI(t,e,n){if(e.search(vle)>=0)throw fw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jh(...e.split("."))._internalPath}catch{throw fw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fw(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new we(ie.INVALID_ARGUMENT,a+t+l)}function CB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xle extends qp{data(){return super.data()}}function Xv(t,e){return typeof e=="string"?KI(t,e):e instanceof jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GI{}class Jv extends GI{}function vo(t,e,...n){let r=[];e instanceof GI&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof QI).length,a=i.filter(l=>l instanceof e1).length;if(o>1||o>0&&a>0)throw new we(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class e1 extends Jv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new e1(e,n,r)}_apply(e){const n=this._parse(e);return kB(e._query,n),new ao(e.firestore,e.converter,RE(e._query,n))}_parse(e){const n=Bh(e.firestore);return function(i,o,a,l,c,u,f){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new we(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){xM(f,u);const m=[];for(const v of f)m.push(vM(l,i,v));p={arrayValue:{values:m}}}else p=vM(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||xM(f,u),p=TB(a,o,f,u==="in"||u==="not-in");return Hn.create(c,u,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xo(t,e,n){const r=e,s=Xv("where",t);return e1._create(s,r,n)}class QI extends GI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new QI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)kB(o,l),o=RE(o,l)}(e._query,n),new ao(e.firestore,e.converter,RE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class YI extends Jv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new YI(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new we(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new we(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vp(i,o)}(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new au(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Df(t,e="asc"){const n=e,r=Xv("orderBy",t);return YI._create(r,n)}class ZI extends Jv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ZI(e,n,r)}_apply(e){return new ao(e.firestore,e.converter,aw(e._query,this._limit,this._limitType))}}function ec(t){return hle("limit",t),ZI._create("limit",t,"F")}class XI extends Jv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new XI(e,n,r)}_apply(e){const n=_le(e,this.type,this._docOrFields,this._inclusive);return new ao(e.firestore,e.converter,function(s,i){return new au(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function wM(...t){return XI._create("startAfter",t,!1)}function _le(t,e,n,r){if(n[0]=Bn(n[0]),n[0]instanceof qp)return function(i,o,a,l,c){if(!l)throw new we(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const f of Sd(i))if(f.field.isKeyField())u.push(ow(o,l.key));else{const p=l.data.field(f.field);if(Bv(p))throw new we(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const m=f.field.canonicalString();throw new we(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}u.push(p)}return new fh(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Bh(t.firestore);return function(o,a,l,c,u,f){const p=o.explicitOrderBy;if(u.length>p.length)throw new we(ie.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let v=0;v<u.length;v++){const g=u[v];if(p[v].field.isKeyField()){if(typeof g!="string")throw new we(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!gI(o)&&g.indexOf("/")!==-1)throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);const w=o.path.child(Dt.fromString(g));if(!Le.isDocumentKey(w))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const _=new Le(w);m.push(ow(a,_))}else{const w=TB(l,c,g);m.push(w)}}return new fh(m,f)}(t._query,t.firestore._databaseId,s,e,n,r)}}function vM(t,e,n){if(typeof(n=Bn(n))=="string"){if(n==="")throw new we(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gI(e)&&n.indexOf("/")!==-1)throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dt.fromString(n));if(!Le.isDocumentKey(r))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ow(t,new Le(r))}if(n instanceof Hr)return ow(t,n._key);throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qv(n)}.`)}function xM(t,e){if(!Array.isArray(t)||t.length===0)throw new we(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kB(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new we(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MB{convertValue(e,n="none"){switch(Qc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ou(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Dn(o.doubleValue));return new FI(i)}convertGeoPoint(e){return new BI(Dn(e.latitude),Dn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bp(e));default:return null}}convertTimestamp(e){const n=Al(e);return new qn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);yt(rB(r));const s=new Fp(r.get(1),r.get(3)),i=new Le(r.popFirst(5));return s.isEqual(n)||ta(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ble extends MB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eA extends qp{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new F0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class F0 extends eA{data(e={}){return super.data(e)}}class RB{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ld(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new F0(this._firestore,this._userDataWriter,r.key,r,new ld(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new F0(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ld(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new F0(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ld(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Ele(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ele(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sle(t){t=Ds(t,Hr);const e=Ds(t.firestore,ra);return cle(Dh(e),t._key).then(n=>PB(e,t,n))}class t1 extends MB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,n)}}function go(t){t=Ds(t,ao);const e=Ds(t.firestore,ra),n=Dh(e),r=new t1(e);return NB(t._query),ule(n,t._query).then(s=>new RB(e,r,t,s))}function Tle(t,e,n,...r){t=Ds(t,Hr);const s=Ds(t.firestore,ra),i=Bh(s);let o;return o=typeof(e=Bn(e))=="string"||e instanceof jh?HI(i,"updateDoc",t._key,e,n,r):$I(i,"updateDoc",t._key,e),tA(s,[o.toMutation(t._key,ir.exists(!0))])}function Ile(t,e){const n=Ds(t.firestore,ra),r=Hs(t),s=JI(t.converter,e);return tA(n,[VI(Bh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}function VE(t,...e){var n,r,s;t=Bn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||yM(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(yM(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,u;if(t instanceof Hr)c=Ds(t.firestore,ra),u=Fv(t._key.path),l={next:f=>{e[o]&&e[o](PB(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Ds(t,ao);c=Ds(f.firestore,ra),u=f._query;const p=new t1(c);l={next:m=>{e[o]&&e[o](new RB(c,p,f,m))},error:e[o+1],complete:e[o+2]},NB(t._query)}return function(p,m,v,g){const w=new DI(g),_=new OI(m,w,v);return p.asyncQueue.enqueueAndForget(async()=>MI(await hw(p),_)),()=>{w.Za(),p.asyncQueue.enqueueAndForget(async()=>RI(await hw(p),_))}}(Dh(c),u,a,l)}function tA(t,e){return function(r,s){const i=new qi;return r.asyncQueue.enqueueAndForget(async()=>Qae(await ale(r),s,i)),i.promise}(Dh(t),e)}function PB(t,e,n){const r=n.docs.get(e._key),s=new t1(t);return new eA(t,s,e._key,r,new ld(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ale={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cle{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Bh(e)}set(e,n,r){this._verifyNotCommitted();const s=Pa(e,this._firestore),i=JI(s.converter,n,r),o=VI(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,ir.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Pa(e,this._firestore);let o;return o=typeof(n=Bn(n))=="string"||n instanceof jh?HI(this._dataReader,"WriteBatch.update",i._key,n,r,s):$I(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Pa(e,this._firestore);return this._mutations=this._mutations.concat(new $v(n._key,ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pa(t,e){if((t=Bn(t)).firestore!==e)throw new we(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nle extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Bh(n)}get(n){const r=Pa(n,this._firestore),s=new ble(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return ze();const o=i[0];if(o.isFoundDocument())return new qp(this._firestore,s,o.key,o,r.converter);if(o.isNoDocument())return new qp(this._firestore,s,r._key,null,r.converter);throw ze()})}set(n,r,s){const i=Pa(n,this._firestore),o=JI(i.converter,r,s),a=VI(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const o=Pa(n,this._firestore);let a;return a=typeof(r=Bn(r))=="string"||r instanceof jh?HI(this._dataReader,"Transaction.update",o._key,r,s,i):$I(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Pa(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Pa(e,this._firestore),r=new t1(this._firestore);return super.get(e).then(s=>new eA(this._firestore,r,n._key,s._document,new ld(!1,!1),n.converter))}}function Xx(t,e,n){t=Ds(t,ra);const r=Object.assign(Object.assign({},Ale),n);return function(i){if(i.maxAttempts<1)throw new we(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,a){const l=new qi;return i.asyncQueue.enqueueAndForget(async()=>{const c=await lle(i);new sle(i.asyncQueue,c,a,o,l).au()}),l.promise}(Dh(t),s=>e(new Nle(t,s)),r)}function $s(){return new zI("serverTimestamp")}function mf(t){return new WI("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t){return Dh(t=Ds(t,ra)),new Cle(t,e=>tA(t,e))}(function(e,n=!0){(function(s){Ph=s})(iu),qc(new Tl("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ra(new Mie(r.getProvider("auth-internal")),new Lie(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new we(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fp(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Hi(Lk,"4.7.3",e),Hi(Lk,"4.7.3","esm2017")})();var kle="firebase",Mle="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi(kle,Mle,"app");function OB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rle=OB,LB=new Am("auth","Firebase",OB());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new aI("@firebase/auth");function Ple(t,...e){pw.logLevel<=pt.WARN&&pw.warn(`Auth (${iu}): ${t}`,...e)}function U0(t,...e){pw.logLevel<=pt.ERROR&&pw.error(`Auth (${iu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t,...e){throw nA(t,...e)}function Gi(t,...e){return nA(t,...e)}function DB(t,e,n){const r=Object.assign(Object.assign({},Rle()),{[e]:n});return new Am("auth","Firebase",r).create(e,{appName:t.name})}function Rc(t){return DB(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LB.create(t,...e)}function Qe(t,e,...n){if(!t)throw nA(e,...n)}function jo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw U0(e),new Error(e)}function ia(t,e){t||jo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ole(){return bM()==="http:"||bM()==="https:"}function bM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lle(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ole()||cse()||"connection"in navigator)?navigator.onLine:!0}function Dle(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.shortDelay=e,this.longDelay=n,ia(n>e,"Short delay should be less than long delay!"),this.isMobile=ose()||use()}get(){return Lle()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t,e){ia(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jle={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble=new Bm(3e4,6e4);function sA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fh(t,e,n,r,s={}){return BB(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Cm(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return lse()||(c.referrerPolicy="no-referrer"),jB.fetch()(FB(t,t.config.apiHost,n,a),c)})}async function BB(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},jle),e);try{const s=new Ule(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Hg(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hg(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Hg(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Hg(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw DB(t,u,c);sa(t,u)}}catch(s){if(s instanceof oo)throw s;sa(t,"network-request-failed",{message:String(s)})}}async function Fle(t,e,n,r,s={}){const i=await Fh(t,e,n,r,s);return"mfaPendingCredential"in i&&sa(t,"multi-factor-auth-required",{_serverResponse:i}),i}function FB(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?rA(t.config,s):`${t.config.apiScheme}://${s}`}class Ule{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gi(this.auth,"network-request-failed")),Ble.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Gi(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vle(t,e){return Fh(t,"POST","/v1/accounts:delete",e)}async function UB(t,e){return Fh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zle(t,e=!1){const n=Bn(t),r=await n.getIdToken(e),s=iA(r);Qe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:rp(Jx(s.auth_time)),issuedAtTime:rp(Jx(s.iat)),expirationTime:rp(Jx(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Jx(t){return Number(t)*1e3}function iA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return U0("JWT malformed, contained fewer than 3 sections"),null;try{const s=r6(n);return s?JSON.parse(s):(U0("Failed to decode base64 JWT payload"),null)}catch(s){return U0("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function EM(t){const e=iA(t);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof oo&&Wle(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Wle({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $le{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rp(this.lastLoginAt),this.creationTime=rp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Kp(t,UB(n,{idToken:r}));Qe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?VB(i.providerUserInfo):[],a=qle(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new WE(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function Hle(t){const e=Bn(t);await mw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qle(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function VB(t){return t.map(e=>{var{providerId:n}=e,r=Sm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kle(t,e){const n=await BB(t,{},async()=>{const r=Cm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=FB(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jB.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Gle(t,e){return Fh(t,"POST","/v2/accounts:revokeToken",sA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const n=EM(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Kle(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Id;return r&&(Qe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Qe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Qe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Id,this.toJSON())}_performRefresh(){return jo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t,e){Qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bo{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Sm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $le(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new WE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Kp(this,this.stsTokenManager.getToken(this.auth,e));return Qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zle(this,e)}reload(){return Hle(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(el(this.auth.app))return Promise.reject(Rc(this.auth));const e=await this.getIdToken();return await Kp(this,Vle(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:T,isAnonymous:D,providerData:F,stsTokenManager:R}=n;Qe(x&&R,e,"internal-error");const M=Id.fromJSON(this.name,R);Qe(typeof x=="string",e,"internal-error"),_a(f,e.name),_a(p,e.name),Qe(typeof T=="boolean",e,"internal-error"),Qe(typeof D=="boolean",e,"internal-error"),_a(m,e.name),_a(v,e.name),_a(g,e.name),_a(w,e.name),_a(_,e.name),_a(b,e.name);const U=new Bo({uid:x,auth:e,email:p,emailVerified:T,displayName:f,isAnonymous:D,photoURL:v,phoneNumber:m,tenantId:g,stsTokenManager:M,createdAt:_,lastLoginAt:b});return F&&Array.isArray(F)&&(U.providerData=F.map(W=>Object.assign({},W))),w&&(U._redirectEventId=w),U}static async _fromIdTokenResponse(e,n,r=!1){const s=new Id;s.updateFromServerResponse(n);const i=new Bo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await mw(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Qe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?VB(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Id;a.updateFromIdToken(r);const l=new Bo({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new WE(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=new Map;function Fo(t){ia(t instanceof Function,"Expected a class definition");let e=SM.get(t);return e?(ia(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zB.type="NONE";const TM=zB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t,e,n){return`firebase:${t}:${e}:${n}`}class Ad{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=V0(this.userKey,s.apiKey,i),this.fullPersistenceKey=V0("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ad(Fo(TM),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Fo(TM);const o=V0(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const f=Bo._fromJSON(e,u);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ad(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ad(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GB(e))return"Blackberry";if(QB(e))return"Webos";if($B(e))return"Safari";if((e.includes("chrome/")||HB(e))&&!e.includes("edge/"))return"Chrome";if(KB(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WB(t=Kr()){return/firefox\//i.test(t)}function $B(t=Kr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HB(t=Kr()){return/crios\//i.test(t)}function qB(t=Kr()){return/iemobile/i.test(t)}function KB(t=Kr()){return/android/i.test(t)}function GB(t=Kr()){return/blackberry/i.test(t)}function QB(t=Kr()){return/webos/i.test(t)}function oA(t=Kr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Qle(t=Kr()){var e;return oA(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Yle(){return dse()&&document.documentMode===10}function YB(t=Kr()){return oA(t)||KB(t)||QB(t)||GB(t)||/windows phone/i.test(t)||qB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t,e=[]){let n;switch(t){case"Browser":n=IM(Kr());break;case"Worker":n=`${IM(Kr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${iu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xle(t,e={}){return Fh(t,"GET","/v2/passwordPolicy",sA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jle=6;class ece{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Jle,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tce{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AM(this),this.idTokenSubscription=new AM(this),this.beforeStateQueue=new Zle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fo(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ad.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await UB(this,{idToken:e}),r=await Bo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(el(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mw(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Dle()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(el(this.app))return Promise.reject(Rc(this));const n=e?Bn(e):null;return n&&Qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return el(this.app)?Promise.reject(Rc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return el(this.app)?Promise.reject(Rc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Xle(this),n=new ece(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Am("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Gle(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fo(e)||this._popupRedirectResolver;Qe(n,this,"argument-error"),this.redirectPersistenceManager=await Ad.create(this,[Fo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ple(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function aA(t){return Bn(t)}class AM{constructor(e){this.auth=e,this.observer=null,this.addObserver=vse(n=>this.observer=n)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lA={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nce(t){lA=t}function rce(t){return lA.loadJS(t)}function sce(){return lA.gapiScript}function ice(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oce(t,e){const n=jv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(rw(i,e??{}))return s;sa(s,"already-initialized")}return n.initialize({options:e})}function ace(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lce(t,e,n){const r=aA(t);Qe(r._canInitEmulator,r,"emulator-config-failed"),Qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=XB(e),{host:o,port:a}=cce(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),uce()}function XB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cce(t){const e=XB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:CM(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:CM(o)}}}function CM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uce(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jo("not implemented")}_getIdTokenResponse(e){return jo("not implemented")}_linkToIdToken(e,n){return jo("not implemented")}_getReauthenticationResolver(e){return jo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t,e){return Fle(t,"POST","/v1/accounts:signInWithIdp",sA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dce="http://localhost";class Zc extends JB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Sm(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Zc(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Cd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Cd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cd(e,n)}buildRequest(){const e={requestUri:dce,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends e8{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Fm{constructor(){super("facebook.com")}static credential(e){return Zc._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Fm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zc._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return La.credential(n,r)}catch{return null}}}La.GOOGLE_SIGN_IN_METHOD="google.com";La.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Fm{constructor(){super("github.com")}static credential(e){return Zc._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Da.credential(e.oauthAccessToken)}catch{return null}}}Da.GITHUB_SIGN_IN_METHOD="github.com";Da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Fm{constructor(){super("twitter.com")}static credential(e,n){return Zc._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ja.credential(n,r)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Bo._fromIdTokenResponse(e,r,s),o=NM(r);return new gh({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=NM(r);return new gh({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function NM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw extends oo{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gw.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gw(e,n,r,s)}}function t8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gw._fromErrorAndOperation(t,i,e,r):i})}async function hce(t,e,n=!1){const r=await Kp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fce(t,e,n=!1){const{auth:r}=t;if(el(r.app))return Promise.reject(Rc(r));const s="reauthenticate";try{const i=await Kp(t,t8(r,s,e,t),n);Qe(i.idToken,r,"internal-error");const o=iA(i.idToken);Qe(o,r,"internal-error");const{sub:a}=o;return Qe(t.uid===a,r,"user-mismatch"),gh._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&sa(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pce(t,e,n=!1){if(el(t.app))return Promise.reject(Rc(t));const r="signIn",s=await t8(t,r,e),i=await gh._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function mce(t,e,n,r){return Bn(t).onIdTokenChanged(e,n,r)}function gce(t,e,n){return Bn(t).beforeAuthStateChanged(e,n)}const yw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yw,"1"),this.storage.removeItem(yw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yce=1e3,wce=10;class r8 extends n8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Yle()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,wce):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}r8.type="LOCAL";const vce=r8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8 extends n8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}s8.type="SESSION";const i8=s8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xce(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new n1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await xce(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ce{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=cA("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function bce(t){Qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function Ece(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sce(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Tce(){return o8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8="firebaseLocalStorageDb",Ice=1,ww="firebaseLocalStorage",l8="fbase_key";class Um{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function r1(t,e){return t.transaction([ww],e?"readwrite":"readonly").objectStore(ww)}function Ace(){const t=indexedDB.deleteDatabase(a8);return new Um(t).toPromise()}function $E(){const t=indexedDB.open(a8,Ice);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ww,{keyPath:l8})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ww)?e(r):(r.close(),await Ace(),e(await $E()))})})}async function kM(t,e,n){const r=r1(t,!0).put({[l8]:e,value:n});return new Um(r).toPromise()}async function Cce(t,e){const n=r1(t,!1).get(e),r=await new Um(n).toPromise();return r===void 0?null:r.value}function MM(t,e){const n=r1(t,!0).delete(e);return new Um(n).toPromise()}const Nce=800,kce=3;class c8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $E(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kce)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=n1._getInstance(Tce()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Ece(),!this.activeServiceWorker)return;this.sender=new _ce(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Sce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $E();return await kM(e,yw,"1"),await MM(e,yw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kM(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Cce(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>MM(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=r1(s,!1).getAll();return new Um(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}c8.type="LOCAL";const Mce=c8;new Bm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rce(t,e){return e?Fo(e):(Qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends JB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Pce(t){return pce(t.auth,new uA(t),t.bypassAuthState)}function Oce(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),fce(n,new uA(t),t.bypassAuthState)}async function Lce(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),hce(n,new uA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pce;case"linkViaPopup":case"linkViaRedirect":return Lce;case"reauthViaPopup":case"reauthViaRedirect":return Oce;default:sa(this.auth,"internal-error")}}resolve(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dce=new Bm(2e3,1e4);class cd extends u8{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,cd.currentPopupAction&&cd.currentPopupAction.cancel(),cd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){ia(this.filter.length===1,"Popup operations only handle one event");const e=cA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Dce.get())};e()}}cd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jce="pendingRedirect",z0=new Map;class Bce extends u8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=z0.get(this.auth._key());if(!e){try{const r=await Fce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}z0.set(this.auth._key(),e)}return this.bypassAuthState||z0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fce(t,e){const n=zce(e),r=Vce(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Uce(t,e){z0.set(t._key(),e)}function Vce(t){return Fo(t._redirectPersistence)}function zce(t){return V0(jce,t.config.apiKey,t.name)}async function Wce(t,e,n=!1){if(el(t.app))return Promise.reject(Rc(t));const r=aA(t),s=Rce(r,e),o=await new Bce(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ce=10*60*1e3;class Hce{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qce(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!d8(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$ce&&this.cachedEventUids.clear(),this.cachedEventUids.has(RM(e))}saveEventToCache(e){this.cachedEventUids.add(RM(e)),this.lastProcessedEventTime=Date.now()}}function RM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function d8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kce(t,e={}){return Fh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qce=/^https?/;async function Yce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Kce(t);for(const n of e)try{if(Zce(n))return}catch{}sa(t,"unauthorized-domain")}function Zce(t){const e=zE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Qce.test(n))return!1;if(Gce.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xce=new Bm(3e4,6e4);function PM(){const t=Qi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Jce(t){return new Promise((e,n)=>{var r,s,i;function o(){PM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PM(),n(Gi(t,"network-request-failed"))},timeout:Xce.get()})}if(!((s=(r=Qi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Qi().gapi)===null||i===void 0)&&i.load)o();else{const a=ice("iframefcb");return Qi()[a]=()=>{gapi.load?o():n(Gi(t,"network-request-failed"))},rce(`${sce()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw W0=null,e})}let W0=null;function eue(t){return W0=W0||Jce(t),W0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tue=new Bm(5e3,15e3),nue="__/auth/iframe",rue="emulator/auth/iframe",sue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oue(t){const e=t.config;Qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rA(e,rue):`https://${t.config.authDomain}/${nue}`,r={apiKey:e.apiKey,appName:t.name,v:iu},s=iue.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Cm(r).slice(1)}`}async function aue(t){const e=await eue(t),n=Qi().gapi;return Qe(n,t,"internal-error"),e.open({where:document.body,url:oue(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sue,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Gi(t,"network-request-failed"),a=Qi().setTimeout(()=>{i(o)},tue.get());function l(){Qi().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cue=500,uue=600,due="_blank",hue="http://localhost";class OM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fue(t,e,n,r=cue,s=uue){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},lue),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Kr().toLowerCase();n&&(a=HB(c)?due:n),WB(c)&&(e=e||hue,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(Qle(c)&&a!=="_self")return pue(e||"",a),new OM(null);const f=window.open(e||"",a,u);Qe(f,t,"popup-blocked");try{f.focus()}catch{}return new OM(f)}function pue(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mue="__/auth/handler",gue="emulator/auth/handler",yue=encodeURIComponent("fac");async function LM(t,e,n,r,s,i){Qe(t.config.authDomain,t,"auth-domain-config-required"),Qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:iu,eventId:s};if(e instanceof e8){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",wse(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof Fm){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${yue}=${encodeURIComponent(l)}`:"";return`${wue(t)}?${Cm(a).slice(1)}${c}`}function wue({config:t}){return t.emulator?rA(t,gue):`https://${t.authDomain}/${mue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="webStorageSupport";class vue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i8,this._completeRedirectFn=Wce,this._overrideRedirectResult=Uce}async _openPopup(e,n,r,s){var i;ia((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await LM(e,n,r,zE(),s);return fue(e,o,cA())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await LM(e,n,r,zE(),s);return bce(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ia(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aue(e),r=new Hce(e);return n.register("authEvent",s=>(Qe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(e_,{type:e_},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[e_];o!==void 0&&n(!!o),sa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Yce(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YB()||$B()||oA()}}const xue=vue;var DM="@firebase/auth",jM="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Eue(t){qc(new Tl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Qe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZB(t)},c=new tce(r,s,i,l);return ace(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qc(new Tl("auth-internal",e=>{const n=aA(e.getProvider("auth").getImmediate());return(r=>new _ue(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(DM,jM,bue(t)),Hi(DM,jM,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sue=5*60,Tue=a6("authIdTokenMaxAge")||Sue;let BM=null;const Iue=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Tue)return;const s=n==null?void 0:n.token;BM!==s&&(BM=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Aue(t=cI()){const e=jv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oce(t,{popupRedirectResolver:xue,persistence:[Mce,vce,i8]}),r=a6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Iue(i.toString());gce(n,o,()=>o(n.currentUser)),mce(n,a=>o(a))}}const s=s6("auth");return s&&lce(n,`http://${s}`),n}function Cue(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nce({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Gi("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Cue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Eue("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8="firebasestorage.googleapis.com",Nue="storageBucket",kue=2*60*1e3,Mue=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends oo{constructor(e,n,r=0){super(t_(e),`Firebase Storage: ${n} (${t_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return t_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ji;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ji||(Ji={}));function t_(t){return"storage/"+t}function Rue(){const t="An unknown error occurred, please check the error payload for server response.";return new lo(Ji.UNKNOWN,t)}function Pue(){return new lo(Ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Oue(){return new lo(Ji.CANCELED,"User canceled the upload/download.")}function Lue(t){return new lo(Ji.INVALID_URL,"Invalid URL '"+t+"'.")}function Due(t){return new lo(Ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function FM(t){return new lo(Ji.INVALID_ARGUMENT,t)}function f8(){return new lo(Ji.APP_DELETED,"The Firebase app was deleted.")}function jue(t){return new lo(Ji.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yi.makeFromUrl(e,n)}catch{return new yi(e,"")}if(r.path==="")return r;throw Due(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(T){T.path_=decodeURIComponent(T.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${u}/b/${s}/o${p}`,"i"),v={bucket:1,path:3},g=n===h8?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",_=new RegExp(`^https?://${g}/${s}/${w}`,"i"),x=[{regex:a,indices:l,postModify:i},{regex:m,indices:v,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<x.length;T++){const D=x[T],F=D.regex.exec(e);if(F){const R=F[D.indices.bucket];let M=F[D.indices.path];M||(M=""),r=new yi(R,M),D.postModify(r);break}}if(r==null)throw Lue(e);return r}}class Bue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fue(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...w){c||(c=!0,e.apply(null,w))}function f(w){s=setTimeout(()=>{s=null,t(m,l())},w)}function p(){i&&clearTimeout(i)}function m(w,..._){if(c){p();return}if(w){p(),u.call(null,w,..._);return}if(l()||o){p(),u.call(null,w,..._);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,f(x)}let v=!1;function g(w){v||(v=!0,p(),!c&&(s!==null?(w||(a=2),clearTimeout(s),f(0)):w||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function Uue(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vue(t){return t!==void 0}function UM(t,e,n,r){if(r<e)throw FM(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw FM(`Invalid value for '${t}'. Expected ${n} or less.`)}function zue(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var vw;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vw||(vw={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wue(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ue{constructor(e,n,r,s,i,o,a,l,c,u,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new qg(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===vw.NO_ERROR,l=i.getStatus();if(!a||Wue(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===vw.ABORT;r(!1,new qg(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new qg(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Vue(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Rue();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?f8():Oue();o(l)}else{const l=Pue();o(l)}};this.canceled_?n(!1,new qg(!1,null,!0)):this.backoffId_=Fue(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Uue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Hue(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function que(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Kue(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Gue(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Que(t,e,n,r,s,i,o=!0){const a=zue(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Kue(c,e),Hue(c,n),que(c,i),Gue(c,r),new $ue(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yue(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Zue(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n){this._service=e,n instanceof yi?this._location=n:this._location=yi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xw(e,n)}get root(){const e=new yi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zue(this._location.path)}get storage(){return this._service}get parent(){const e=Yue(this._location.path);if(e===null)return null;const n=new yi(this._location.bucket,e);return new xw(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw jue(e)}}function VM(t,e){const n=e==null?void 0:e[Nue];return n==null?null:yi.makeFromBucketSpec(n,t)}function Xue(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:l6(s,t.app.options.projectId))}class Jue{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=h8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kue,this._maxUploadRetryTime=Mue,this._requests=new Set,s!=null?this._bucket=yi.makeFromBucketSpec(s,this._host):this._bucket=VM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yi.makeFromBucketSpec(this._url,e):this._bucket=VM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xw(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Bue(f8());{const o=Que(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const zM="@firebase/storage",WM="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8="storage";function ede(t=cI(),e){t=Bn(t);const r=jv(t,p8).getImmediate({identifier:e}),s=i6("storage");return s&&tde(r,...s),r}function tde(t,e,n,r={}){Xue(t,e,n,r)}function nde(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Jue(n,r,s,e,iu)}function rde(){qc(new Tl(p8,nde,"PUBLIC").setMultipleInstances(!0)),Hi(zM,WM,""),Hi(zM,WM,"esm2017")}rde();const sde={apiKey:"AIzaSyBkK6RmHqSU9rivBUJ2sJ5VVqFgCoOBmso",authDomain:"wendex-7438c.firebaseapp.com",projectId:"wendex-7438c",storageBucket:"wendex-7438c.firebasestorage.app",messagingSenderId:"682166033434",appId:"1:682166033434:web:f29e18b1b8f94170029498"},dA=d6(sde),Lt=ple(dA);Aue(dA);ede(dA);const $M="chatMessages",ide=100;class HM{static async sendMessage(e){try{const n={campaignId:e.campaignId,userAddress:e.userAddress,message:e.message.trim(),timestamp:Date.now(),createdAt:qn.now()};return(await Ile(Fr(Lt,$M),n)).id}catch(n){throw console.error("Error sending message:",n),new Error("Failed to send message")}}static subscribeToMessages(e,n){const r=vo(Fr(Lt,$M),xo("campaignId","==",e),Df("timestamp","desc"),ec(ide));return VE(r,s=>{const i=[];s.forEach(o=>{var l;const a=o.data();i.push({id:o.id,campaignId:a.campaignId,userAddress:a.userAddress,message:a.message,timestamp:a.timestamp,createdAt:((l=a.createdAt)==null?void 0:l.toDate())||new Date(a.timestamp)})}),n(i.reverse())},s=>{console.error("Error listening to messages:",s),n([])})}}function ode({campaignId:t}){const{publicKey:e}=Nh(),{toast:n}=_h(),[r,s]=k.useState([]),[i,o]=k.useState(""),[a,l]=k.useState(!1),c=k.useRef(null),u=()=>{var p;(p=c.current)==null||p.scrollIntoView({behavior:"smooth"})};k.useEffect(()=>{u()},[r]),k.useEffect(()=>HM.subscribeToMessages(t,m=>{s(m)}),[t]);const f=async p=>{if(p.preventDefault(),!e){n({title:"Wallet Required",description:"Please connect your wallet to send messages",variant:"destructive"});return}if(i.trim()){if(i.trim().length>500){n({title:"Message Too Long",description:"Messages must be 500 characters or less",variant:"destructive"});return}l(!0);try{await HM.sendMessage({campaignId:t,userAddress:e.toString(),message:i.trim()}),o(""),n({title:"Message Sent",description:"Your message has been posted"})}catch(m){console.error("Error sending message:",m),n({title:"Failed to Send",description:"Could not send your message. Please try again.",variant:"destructive"})}finally{l(!1)}}};return d.jsxs("div",{className:"flex flex-col h-[500px] bg-gray-900/50 rounded-lg border border-gray-800",children:[d.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-gray-800",children:[d.jsx(AN,{className:"h-5 w-5 text-purple-400"}),d.jsx("h3",{className:"font-semibold text-white",children:"Campaign Chat"}),d.jsxs("span",{className:"text-xs text-gray-400 ml-auto",children:[r.length," messages"]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:r.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[d.jsx(AN,{className:"h-12 w-12 text-gray-600 mb-3"}),d.jsx("p",{className:"text-gray-400 mb-2",children:"No messages yet"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Be the first to start the conversation!"})]}):d.jsxs(d.Fragment,{children:[r.map(p=>d.jsx(Zre,{message:p,isOwnMessage:(e==null?void 0:e.toString())===p.userAddress},p.id)),d.jsx("div",{ref:c})]})}),d.jsx("div",{className:"p-4 border-t border-gray-800",children:e?d.jsxs("form",{onSubmit:f,className:"flex gap-2",children:[d.jsx(mc,{value:i,onChange:p=>o(p.target.value),placeholder:"Type a message...",maxLength:500,className:"flex-1 bg-gray-800 border-gray-700 text-white placeholder-gray-400 focus:border-purple-500",disabled:a}),d.jsx(ln,{type:"submit",disabled:a||!i.trim(),className:"bg-purple-600 hover:bg-purple-700 text-white px-4",children:a?d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):d.jsx(Qz,{className:"h-4 w-4"})})]}):d.jsxs("div",{className:"flex flex-col items-center space-y-3 p-4 bg-gray-800/50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[d.jsx(Ep,{className:"h-5 w-5"}),d.jsx("span",{className:"text-sm",children:"Connect your wallet to join the chat"})]}),d.jsx(Pp,{className:"!bg-gradient-to-r !from-purple-600 !to-pink-600 !text-white hover:!from-purple-700 hover:!to-pink-700 !font-semibold !py-2 !px-4 !rounded-lg !transition-all !duration-200"})]})})]})}const ade=am("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ta({className:t,variant:e,...n}){return d.jsx("div",{className:We(ade({variant:e}),t),...n})}function lde(){var _,b,x,T,D;const{id:t}=C4(),{toast:e}=_h(),[n,r]=k.useState(!1),[s,i]=k.useState("contributions"),{data:o,isLoading:a,error:l,refetch:c}=Ao({queryKey:["campaign",t],queryFn:()=>lh.get(t),enabled:!!t}),{data:u,refetch:f}=Ao({queryKey:["contributions",t],queryFn:()=>lh.getContributions(t),enabled:!!t});if(a)return d.jsx(Ed,{children:d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx(bp,{className:"h-8 w-8 animate-spin"})})});if(l||!(o!=null&&o.success))return d.jsx(Ed,{children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Campaign Not Found"}),d.jsx("p",{className:"text-muted-foreground",children:"The campaign you're looking for doesn't exist."})]})});const p=o.campaign,m=(u==null?void 0:u.contributions)||[],v=p.currentAmount/p.targetAmount*100,g=Pee(p.deadline),w=F=>{navigator.clipboard.writeText(F),e({title:"Address Copied",description:"Address copied to clipboard"})};return d.jsx(Ed,{children:d.jsxs("div",{className:"min-h-screen bg-dark-gradient",children:[d.jsx("div",{className:"container mx-auto px-6 py-12 space-y-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"card-dark overflow-hidden",children:[p.bannerUrl&&p.bannerUrl!=="/placeholder-banner.jpg"&&d.jsx("div",{className:"h-48 bg-gradient-to-r from-purple-600 to-indigo-600 relative",children:d.jsx("img",{src:p.bannerUrl,alt:`${((_=p.tokenMetadata)==null?void 0:_.name)||p.tokenName} banner`,className:"w-full h-full object-cover opacity-90",onError:F=>{F.currentTarget.style.display="none"}})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[p.tokenLogoUrl&&d.jsx("img",{src:p.tokenLogoUrl,alt:p.tokenSymbol,className:"w-20 h-20 rounded-full border-2 border-gray-700"}),d.jsxs("div",{children:[d.jsx("h1",{className:"heading-dark-1",children:((b=p.tokenMetadata)==null?void 0:b.name)||p.tokenName}),d.jsxs("p",{className:"text-xl text-purple-400 font-semibold",children:["$",((x=p.tokenMetadata)==null?void 0:x.symbol)||p.tokenSymbol]})]})]}),d.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${p.status==="active"?"bg-green-500/20 text-green-400":p.status==="funded"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:p.status})]}),d.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:p.description}),d.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Campaign Type"}),d.jsx("p",{className:"text-white font-medium",children:p.campaignType?p.campaignType.split("_").map(F=>F.charAt(0).toUpperCase()+F.slice(1)).join(" "):"Enhanced Token Info"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),d.jsx("p",{className:"text-white font-medium",children:p.createdAt&&!isNaN(new Date(p.createdAt).getTime())?Xl(new Date(p.createdAt),"PPP"):"Unknown"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Token Address"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("code",{className:"text-xs bg-gray-800 px-3 py-2 rounded text-gray-300 flex-1 font-mono break-all",children:p.tokenAddress||p.contractAddress||"Unknown"}),d.jsx("button",{className:"text-gray-400 hover:text-white transition-colors p-2",onClick:()=>w(p.tokenAddress||p.contractAddress),children:d.jsx(_N,{className:"h-4 w-4"})})]}),d.jsxs("a",{href:`https://dexscreener.com/solana/${p.tokenAddress||p.contractAddress}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-purple-400 hover:text-purple-300 transition-colors",children:["View on DexScreener",d.jsx(EN,{className:"h-4 w-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Campaign Creator"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("code",{className:"text-sm bg-gray-800 px-3 py-2 rounded text-gray-300 flex-1",children:[((T=p.creatorAddress)==null?void 0:T.slice(0,8))||"Unknown","...",(D=p.creatorAddress)==null?void 0:D.slice(-8)]}),d.jsx("button",{className:"text-gray-400 hover:text-white transition-colors p-2",onClick:()=>w(p.creatorAddress),children:d.jsx(_N,{className:"h-4 w-4"})})]}),d.jsxs("a",{href:`https://solscan.io/account/${p.creatorAddress}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-blue-400 hover:text-blue-300 transition-colors",children:["View Creator on Solscan",d.jsx(EN,{className:"h-4 w-4"})]})]})]})]})]}),d.jsxs("div",{className:"card-dark",children:[d.jsx("div",{className:"border-b border-gray-800",children:d.jsxs("div",{className:"flex space-x-8 px-6",children:[d.jsx("button",{className:`py-4 px-2 border-b-2 font-medium transition-colors ${s==="contributions"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,onClick:()=>i("contributions"),children:"Contributions"}),d.jsx("button",{className:`py-4 px-2 border-b-2 font-medium transition-colors ${s==="chat"?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300"}`,onClick:()=>i("chat"),children:"Chat"})]})}),d.jsx("div",{className:"p-6",children:s==="contributions"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Recent Contributors"}),d.jsxs("p",{className:"text-gray-400",children:[m.length," total contributions"]})]}),m.length>0?d.jsx("div",{className:"space-y-4",children:m.map(F=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ep,{className:"h-5 w-5 text-purple-400"}),d.jsxs("div",{children:[d.jsxs("code",{className:"text-sm text-gray-300",children:[F.contributorAddress.slice(0,8),"...",F.contributorAddress.slice(-6)]}),d.jsx("p",{className:"text-xs text-gray-500",children:F.timestamp&&!isNaN(new Date(F.timestamp).getTime())?e6(new Date(F.timestamp),{addSuffix:!0}):"Just now"})]})]}),d.jsxs("div",{className:"text-right",children:[(()=>{const R=F.currency||"SOL",M=dee(F.amount,R);return d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-lg font-semibold text-white",children:M.primary}),d.jsx("p",{className:"text-xs text-gray-500",children:M.secondary})]})})(),d.jsx("div",{className:`text-xs px-2 py-1 rounded ${F.status==="confirmed"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:F.status})]})]},F.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"No contributions yet. Be the first to support this campaign!"})})]}):d.jsx(ode,{campaignId:t})})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"card-dark",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Funding Progress"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-end",children:[d.jsxs("span",{className:"text-3xl font-bold text-white",children:["$",p.currentAmount.toFixed(2)]}),d.jsxs("span",{className:"text-gray-400",children:["of $",p.targetAmount.toFixed(2)]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"w-full bg-gray-800 rounded-full h-3",children:d.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(v,100)}%`}})}),d.jsxs("p",{className:"text-sm text-gray-400",children:[v.toFixed(1),"% funded"]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 py-6 border-t border-gray-800 mt-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center mb-2",children:[d.jsx(Ww,{className:"h-5 w-5 mr-2 text-blue-400"}),d.jsx("span",{className:"text-xl font-bold text-white",children:m.length})]}),d.jsx("p",{className:"text-sm text-gray-400",children:"Contributions"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex items-center justify-center mb-2",children:d.jsx(bO,{className:"h-5 w-5 mr-2 text-purple-400"})}),d.jsx("div",{className:"text-lg font-bold text-white mb-1",children:g}),d.jsx("p",{className:"text-sm text-gray-400",children:"Time left"})]})]}),p.status==="active"&&d.jsxs("button",{className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 flex items-center justify-center mt-6",onClick:()=>r(!0),children:[d.jsx(eT,{className:"mr-2 h-5 w-5"}),"Contribute Now"]})]})}),p.status==="completed"&&p.serviceDetails&&d.jsxs(dr,{children:[d.jsx(jr,{children:d.jsx(Br,{children:"Service Status"})}),d.jsxs(hr,{children:[d.jsx(Ta,{className:"mb-2",children:"Active"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"The DexScreener service has been successfully purchased and activated."})]})]})]})]})}),d.jsx(Dne,{campaign:p,isOpen:n,onClose:()=>r(!1),onSuccess:()=>{c(),f()}})]})})}class cde{constructor(){this.rateLimitDelay=100,this.lastRequestTime=0,this.requestQueue=[],this.isProcessingQueue=!1,this.apiKey="",this.baseUrl="https://api.helius.xyz",console.log("Client-side Helius service initialized - using server proxy for all operations")}async enforceRateLimit(){const n=Date.now()-this.lastRequestTime;n<this.rateLimitDelay&&await new Promise(r=>setTimeout(r,this.rateLimitDelay-n)),this.lastRequestTime=Date.now()}async queueRequest(e){return new Promise((n,r)=>{this.requestQueue.push(async()=>{try{await this.enforceRateLimit();const s=await e();n(s)}catch(s){r(s)}}),this.processQueue()})}async processQueue(){if(!(this.isProcessingQueue||this.requestQueue.length===0)){for(this.isProcessingQueue=!0;this.requestQueue.length>0;){const e=this.requestQueue.shift();if(e)try{await e()}catch(n){console.error("Queued request failed:",n)}}this.isProcessingQueue=!1}}async makeRequest(e,n,r=3){const s=`${this.baseUrl}/?api-key=${this.apiKey}`;for(let i=1;i<=r;i++)try{return await lt.post(s,n,{headers:{"Content-Type":"application/json"},timeout:1e4})}catch(o){const a=o;if(a.response&&a.response.status>=400&&a.response.status<500||i===r)throw o;const l=Math.min(1e3*Math.pow(2,i-1),5e3);await new Promise(c=>setTimeout(c,l))}throw new Error("Max retries exceeded")}async validateToken(e){console.log("[Client Helius API] ========== START TOKEN VALIDATION =========="),console.log(`[Client Helius API] Validating token: ${e}`),console.log("[Client Helius API] Using server proxy for all Helius operations");try{return!e||e.length<32||e.length>44?(console.log("[Client Helius API] ERROR: Invalid address format"),console.log("[Client Helius API] Address length:",e.length),{isValid:!1,error:"Invalid Solana address format",contractAddress:e}):(console.log("[Client Helius API] Calling server endpoint for real Helius data"),await this.validateTokenViaServer(e))}catch(n){return console.error("[Client Helius API] Token validation error:",n),console.error("[Client Helius API] Error stack:",n.stack),console.log("[Client Helius API] ========== END TOKEN VALIDATION ERROR =========="),{isValid:!1,error:"Token validation failed",contractAddress:e}}}async validateTokenViaServer(e){var n,r,s,i,o,a;try{console.log("[Client Helius API] Making request to server endpoint"),console.log("[Client Helius API] POST /api/helius/validate-token"),console.log("[Client Helius API] Request body:",{contractAddress:e});const l=await lt.post("/api/helius/validate-token",{contractAddress:e},{headers:{"Content-Type":"application/json"},timeout:15e3});return console.log("[Client Helius API] Server response status:",l.status),console.log("[Client Helius API] Server response data:",JSON.stringify(l.data,null,2)),l.data&&l.data.isValid?(console.log("[Client Helius API] Token validated successfully via server"),console.log("[Client Helius API] ========== END TOKEN VALIDATION SUCCESS =========="),l.data):(console.log("[Client Helius API] Server returned invalid token"),console.log("[Client Helius API] ========== END TOKEN VALIDATION INVALID =========="),l.data)}catch(l){return console.error("[Client Helius API] Server request failed:",l),console.error("[Client Helius API] Error response:",(n=l.response)==null?void 0:n.data),console.error("[Client Helius API] Error status:",(r=l.response)==null?void 0:r.status),console.log("[Client Helius API] NO FALLBACK - Returning error"),console.log("[Client Helius API] ========== END TOKEN VALIDATION SERVER ERROR =========="),{isValid:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Server validation failed",contractAddress:e,details:(a=(o=l.response)==null?void 0:o.data)==null?void 0:a.details}}}async validateTokenWithHelius(e){var n,r,s,i,o,a;try{console.log(`[Client Helius API] Fetching token metadata from Helius API for: ${e}`);const l=`https://api.helius.xyz/v0/token-metadata?api-key=${this.apiKey}`,c={mintAccounts:[e]};console.log("[Client Helius API] Making request to:",l.replace(this.apiKey,"API_KEY_HIDDEN")),console.log("[Client Helius API] Request payload:",c);const u=await lt.post(l,c,{headers:{"Content-Type":"application/json"},timeout:1e4});if(console.log("[Client Helius API] Response status:",u.status),console.log("[Client Helius API] Response data:",u.data),u.data&&Array.isArray(u.data)&&u.data.length>0){const f=u.data[0];console.log("[Client Helius API] Token data found:",f);const p=f.onChainMetadata,m=f.offChainMetadata;if(!p&&!m)return{isValid:!1,error:"Token metadata not found",contractAddress:e};const v={name:(m==null?void 0:m.name)||((n=p==null?void 0:p.data)==null?void 0:n.name)||"Unknown Token",symbol:(m==null?void 0:m.symbol)||((r=p==null?void 0:p.data)==null?void 0:r.symbol)||"UNKNOWN",description:(m==null?void 0:m.description)||((s=p==null?void 0:p.data)==null?void 0:s.uri)||"",image:(m==null?void 0:m.image)||"",supply:p!=null&&p.supply?parseInt(p.supply.toString()):void 0,decimals:(p==null?void 0:p.decimals)||9,verified:(p==null?void 0:p.primarySaleHappened)||!1,mintAuthority:p==null?void 0:p.mintAuthority,freezeAuthority:p==null?void 0:p.freezeAuthority};if(m!=null&&m.attributes){const g={};m.attributes.forEach(w=>{w.trait_type==="website"&&(g.website=w.value),w.trait_type==="twitter"&&(g.twitter=w.value),w.trait_type==="telegram"&&(g.telegram=w.value),w.trait_type==="discord"&&(g.discord=w.value)}),Object.keys(g).length>0&&(v.socialLinks=g,v.extensions=g)}return console.log("[Client Helius API] Token validated successfully:",v),{isValid:!0,metadata:v,exists:!0,contractAddress:e}}return console.log("[Client Helius API] No token data in response array"),{isValid:!1,error:"Token not found in Helius database",contractAddress:e}}catch(l){return console.error("[Client Helius API] Token metadata API error:",l),console.error("[Client Helius API] Error response:",(i=l.response)==null?void 0:i.data),{isValid:!1,error:((a=(o=l.response)==null?void 0:o.data)==null?void 0:a.error)||l.message||"Failed to fetch token metadata",contractAddress:e}}}parseTokenMetadata(e){var o,a,l,c,u,f,p;const n=e.content,r=n.metadata,s=e.token_info,i=this.extractSocialLinks(r.description||"",r.external_url);return{name:r.name||"Unknown Token",symbol:r.symbol||"UNKNOWN",description:r.description,image:r.image||((a=(o=n.files)==null?void 0:o[0])==null?void 0:a.uri),supply:s?parseInt(s.supply):(l=e.supply)==null?void 0:l.print_current_supply,decimals:(s==null?void 0:s.decimals)||9,verified:((c=e.royalty)==null?void 0:c.primary_sale_happened)||!1,mintAuthority:(u=e.authorities.find(m=>m.scopes.includes("mint")))==null?void 0:u.address,freezeAuthority:(f=e.authorities.find(m=>m.scopes.includes("freeze")))==null?void 0:f.address,creators:e.creators||((p=r.properties)==null?void 0:p.creators),attributes:r.attributes,socialLinks:i,extensions:i}}extractSocialLinks(e,n){const r={};n&&(n.includes("twitter.com")||n.includes("x.com")?r.twitter=n:n.includes("t.me")||n.includes("telegram")?r.telegram=n:n.includes("discord")?r.discord=n:r.website=n);const s=/https?:\/\/[^\s]+/g,i=e.match(s)||[];for(const o of i)(o.includes("twitter.com")||o.includes("x.com"))&&!r.twitter?r.twitter=o:(o.includes("t.me")||o.includes("telegram"))&&!r.telegram?r.telegram=o:o.includes("discord")&&!r.discord?r.discord=o:!r.website&&!o.includes("twitter")&&!o.includes("telegram")&&!o.includes("discord")&&(r.website=o);return r}async getTokenBalance(e,n){try{return this.apiKey?await this.queueRequest(async()=>{const s=(await this.makeRequest("",{jsonrpc:"2.0",id:"get-token-balance",method:"getTokenAccountsByOwner",params:[e,{mint:n},{encoding:"jsonParsed"}]})).data.result.value;return s.length===0?0:s.reduce((o,a)=>o+parseInt(a.amount),0)/Math.pow(10,s[0].decimals||9)}):(console.warn("Token balance lookup requires Helius API key"),0)}catch(r){return console.error("Token balance lookup error:",r),0}}async getTokenAnalytics(e){try{return this.apiKey?await this.queueRequest(async()=>({holderCount:0,transactionCount:0,volume24h:0,marketCap:0,price:0})):{}}catch(n){return console.error("Token analytics error:",n),{}}}async checkExistingCampaign(e){return!1}async validateTokenBatch(e){return(await Promise.allSettled(e.map(r=>this.validateToken(r)))).map((r,s)=>r.status==="fulfilled"?r.value:{isValid:!1,error:"Batch validation failed",contractAddress:e[s]})}async healthCheck(){const e=Date.now();try{return this.apiKey?(await this.makeRequest("",{jsonrpc:"2.0",id:"health-check",method:"getVersion"}),{healthy:!0,latency:Date.now()-e}):{healthy:!1,error:"API key not configured"}}catch(n){return{healthy:!1,latency:Date.now()-e,error:n instanceof Error?n.message:"Unknown error"}}}}const ude=new cde,Gt={CAMPAIGNS:"campaigns",CONTRIBUTIONS:"contributions",USERS:"users",TRANSACTIONS:"transactions",ANALYTICS:"analytics"};class dde{constructor(){this.cache=new Map,this.cacheDefaultTTL=5*60*1e3,this.subscribers=new Map,setInterval(()=>this.cleanupCache(),6e4)}getCacheKey(e,n,r){return`${e}:${n||"query"}:${r||"default"}`}setCache(e,n,r=this.cacheDefaultTTL){this.cache.set(e,{data:n,timestamp:Date.now(),ttl:r})}getCache(e){const n=this.cache.get(e);return n?Date.now()-n.timestamp>n.ttl?(this.cache.delete(e),null):n.data:null}cleanupCache(){const e=Date.now();for(const[n,r]of this.cache.entries())e-r.timestamp>r.ttl&&this.cache.delete(n)}invalidateCache(e){for(const n of this.cache.keys())n.includes(e)&&this.cache.delete(n)}async createCampaign(e){try{const n=vo(Fr(Lt,Gt.CAMPAIGNS),xo("contractAddress","==",e.contractAddress));if(!(await go(n)).empty)throw new Error("Campaign already exists for this contract address");const s=await Xx(Lt,async i=>{let o=null,a=null;e.createdBy&&(a=Hs(Lt,Gt.USERS,e.createdBy),o=await i.get(a));const l=Hs(Fr(Lt,Gt.CAMPAIGNS)),c={...e,createdAt:$s(),updatedAt:$s()};return i.set(l,c),e.createdBy&&a&&(o&&o.exists()?i.update(a,{campaignsCreated:mf(1),updatedAt:$s()}):i.set(a,{id:e.createdBy,campaignsCreated:1,createdAt:$s(),updatedAt:$s(),profile:{displayName:null,avatar:null,bio:null}})),l.id});return this.invalidateCache(Gt.CAMPAIGNS),s}catch(n){throw console.error("Campaign creation error:",n),new Error(`Failed to create campaign: ${n.message}`)}}async getCampaigns(e={}){try{const{limit:n=20,orderBy:r="createdAt",orderDirection:s="desc",startAfter:i,filters:o=[]}=e,a=this.getCacheKey(Gt.CAMPAIGNS,void 0,JSON.stringify({pageLimit:n,orderField:r,orderDirection:s,filters:o}));if(!i){const g=this.getCache(a);if(g)return g}const l=[];o.forEach(g=>{l.push(xo(g.field,g.operator,g.value))}),l.push(Df(r,s)),i&&l.push(wM(i)),l.push(ec(n+1));const c=vo(Fr(Lt,Gt.CAMPAIGNS),...l),u=await go(c),f=[];let p=null,m=!1;u.docs.forEach((g,w)=>{if(w<n){const _=g.data();f.push({id:g.id,..._,createdAt:Xr(_.createdAt),updatedAt:Xr(_.updatedAt)}),p=g}else m=!0});const v={data:f,lastDoc:p,hasMore:m};return i||this.setCache(a,v),v}catch(n){throw console.error("Get campaigns error:",n),new Error("Failed to fetch campaigns")}}async getCampaign(e){try{const n=this.getCacheKey(Gt.CAMPAIGNS,e),r=this.getCache(n);if(r)return r;const s=Hs(Lt,Gt.CAMPAIGNS,e),i=await Sle(s);if(!i.exists())return null;const o=i.data(),a={id:i.id,...o,createdAt:Xr(o.createdAt),updatedAt:Xr(o.updatedAt)};return this.setCache(n,a),a}catch(n){throw console.error("Get campaign error:",n),new Error("Failed to fetch campaign")}}async updateCampaign(e,n){try{const r=Hs(Lt,Gt.CAMPAIGNS,e),s={...n,updatedAt:$s()};await Tle(r,s),this.invalidateCache(Gt.CAMPAIGNS)}catch(r){throw console.error("Update campaign error:",r),new Error("Failed to update campaign")}}async createContribution(e){try{return await Xx(Lt,async n=>{const r=Hs(Fr(Lt,Gt.CONTRIBUTIONS)),s={...e,createdAt:$s()};n.set(r,s);const i=Hs(Lt,Gt.CAMPAIGNS,e.campaignId);if(n.update(i,{currentAmount:mf(e.amount),contributorCount:mf(1),updatedAt:$s()}),e.userId){const o=Hs(Lt,Gt.USERS,e.userId);n.update(o,{totalContributed:mf(e.amount),campaignsSupported:mf(1),updatedAt:$s()})}return r.id})}catch(n){throw console.error("Contribution creation error:",n),new Error("Failed to create contribution")}}async getCampaignContributions(e,n={}){try{const{limit:r=50,orderBy:s="createdAt",orderDirection:i="desc",startAfter:o}=n,a=[xo("campaignId","==",e),Df(s,i)];o&&a.push(wM(o)),a.push(ec(r+1));const l=vo(Fr(Lt,Gt.CONTRIBUTIONS),...a),c=await go(l),u=[];let f=null,p=!1;return c.docs.forEach((m,v)=>{if(v<r){const g=m.data();u.push({id:m.id,...g,createdAt:Xr(g.createdAt)}),f=m}else p=!0}),{data:u,lastDoc:f,hasMore:p}}catch(r){throw console.error("Get campaign contributions error:",r),new Error("Failed to fetch campaign contributions")}}async batchUpdateCampaigns(e){try{const n=_M(Lt);e.forEach(({id:r,data:s})=>{const i=Hs(Lt,Gt.CAMPAIGNS,r);n.update(i,{...s,updatedAt:$s()})}),await n.commit(),this.invalidateCache(Gt.CAMPAIGNS)}catch(n){throw console.error("Batch update campaigns error:",n),new Error("Failed to batch update campaigns")}}async batchCreateContributions(e){try{const n=_M(Lt),r=[];return e.forEach(s=>{const i=Hs(Fr(Lt,Gt.CONTRIBUTIONS));n.set(i,{...s,createdAt:$s()}),r.push(i.id)}),await n.commit(),r}catch(n){throw console.error("Batch create contributions error:",n),new Error("Failed to batch create contributions")}}subscribeToCampaign(e,n){const r=Hs(Lt,Gt.CAMPAIGNS,e),s=VE(r,o=>{if(o.exists()){const a=o.data(),l={id:o.id,...a,createdAt:Xr(a.createdAt),updatedAt:Xr(a.updatedAt)},c=this.getCacheKey(Gt.CAMPAIGNS,e);this.setCache(c,l),n(l)}else n(null)},o=>{console.error("Campaign subscription error:",o),n(null)}),i=`campaign:${e}`;return this.subscribers.set(i,s),()=>{s(),this.subscribers.delete(i)}}subscribeToActiveCampaigns(e,n=[]){const r=[xo("status","==","active"),Df("createdAt","desc"),ec(50)];n.forEach(o=>{r.push(xo(o.field,o.operator,o.value))});const s=vo(Fr(Lt,Gt.CAMPAIGNS),...r);return VE(s,o=>{const a=[];o.docs.forEach(l=>{const c=l.data();a.push({id:l.id,...c,createdAt:Xr(c.createdAt),updatedAt:Xr(c.updatedAt)})}),e(a)},o=>{console.error("Active campaigns subscription error:",o),e([])})}async getPlatformStats(){try{const e=this.getCacheKey("stats","platform"),n=this.getCache(e);if(n)return n;const[r,s,i]=await Promise.all([go(Fr(Lt,Gt.CAMPAIGNS)),go(vo(Fr(Lt,Gt.CAMPAIGNS),xo("status","==","active"))),go(Fr(Lt,Gt.CONTRIBUTIONS))]);let o=0,a=0;i.docs.forEach(c=>{const u=c.data();u.status==="confirmed"&&(o+=u.amount||0,a++)});const l={totalCampaigns:r.size,activeCampaigns:s.size,totalFunded:o,totalContributions:a};return this.setCache(e,l,5*60*1e3),l}catch(e){throw console.error("Get platform stats error:",e),new Error("Failed to fetch platform statistics")}}async checkContractAddressExists(e){try{console.log("[Database Service] Checking if contract address exists:",e);const n=vo(Fr(Lt,Gt.CAMPAIGNS),xo("contractAddress","==",e),ec(1));console.log("[Database Service] Executing Firestore query...");const r=await go(n),s=!r.empty;return console.log("[Database Service] Query result - exists:",s,"docs count:",r.size),s}catch(n){return console.error("[Database Service] Contract address check error:",n),console.log("[Database Service] Returning false due to error"),!1}}async searchCampaigns(e,n={}){try{const r=e.toLowerCase(),s=vo(Fr(Lt,Gt.CAMPAIGNS),xo("status","==","active"),Df("createdAt","desc"),ec(n.limit||20)),i=await go(s),o=[];return i.docs.forEach(a=>{var m,v,g,w,_;const l=a.data(),c={id:a.id,...l,createdAt:Xr(l.createdAt),updatedAt:Xr(l.updatedAt)},u=((v=(m=c.tokenMetadata)==null?void 0:m.name)==null?void 0:v.toLowerCase())||"",f=((w=(g=c.tokenMetadata)==null?void 0:g.symbol)==null?void 0:w.toLowerCase())||"",p=((_=c.description)==null?void 0:_.toLowerCase())||"";(u.includes(r)||f.includes(r)||p.includes(r))&&o.push(c)}),o}catch(r){return console.error("Search campaigns error:",r),[]}}cleanup(){this.subscribers.forEach(e=>{e()}),this.subscribers.clear(),this.cache.clear()}async healthCheck(){const e=Date.now();try{const n=vo(Fr(Lt,Gt.CAMPAIGNS),ec(1));await go(n);const r=!0;let s=!1;try{const o=Hs(Fr(Lt,"health-check"));await Xx(Lt,async a=>{a.set(o,{test:!0,timestamp:$s()}),a.delete(o)}),s=!0}catch(o){console.warn("Write test failed:",o)}const i=Date.now()-e;return{healthy:r,canRead:r,canWrite:s,latency:i,cacheSize:this.cache.size,activeSubscriptions:this.subscribers.size}}catch{return{healthy:!1,canRead:!1,canWrite:!1,latency:Date.now()-e,cacheSize:this.cache.size,activeSubscriptions:this.subscribers.size}}}}const hde=new dde;class fde{async uploadImage(e,n,r){try{if(e.size>5242880)throw new Error("File size exceeds 5MB limit");if(!e.type.startsWith("image/"))throw new Error("File must be an image");const i=await this.convertToBase64(e),o=Date.now(),a=Math.random().toString(36).substring(2),l=r?`campaigns/${r}/${n}/${o}_${a}`:`${n}/${o}_${a}`;return{url:i,path:l}}catch(s){throw console.error("Image upload error:",s),new Error(`Failed to upload image: ${s.message}`)}}convertToBase64(e){return new Promise((n,r)=>{const s=document.createElement("canvas"),i=s.getContext("2d"),o=new Image;o.onload=()=>{const l=Math.min(800/o.width,800/o.height);s.width=o.width*l,s.height=o.height*l,i==null||i.drawImage(o,0,0,s.width,s.height);const c=s.toDataURL("image/jpeg",.7);n(c)},o.onerror=r,o.src=URL.createObjectURL(e)})}async uploadLogo(e,n){return new Promise((r,s)=>{const i=new Image;i.onload=async()=>{const o=i.width/i.height;if(o<.8||o>1.2){s(new Error("Logo image should have a square aspect ratio (1:1)"));return}try{const a=await this.uploadImage(e,"logos",n);r(a)}catch(a){s(a)}},i.onerror=()=>{s(new Error("Failed to load image for validation"))},i.src=URL.createObjectURL(e)})}async uploadBanner(e,n){return new Promise((r,s)=>{const i=new Image;i.onload=async()=>{const o=i.width/i.height;if(o<2.8||o>3.2){s(new Error("Banner image should have a 3:1 aspect ratio"));return}try{const a=await this.uploadImage(e,"banners",n);r(a)}catch(a){s(a)}},i.onerror=()=>{s(new Error("Failed to load image for validation"))},i.src=URL.createObjectURL(e)})}}const qM=new fde,pde=()=>{var D;const[,t]=sm(),{publicKey:e,connected:n}=Nh(),{toast:r}=_h(),[s,i]=k.useState({contractAddress:"",tokenMetadata:null,logoImage:null,bannerImage:null,duration:24,socialLinks:{}}),[o,a]=k.useState(!1),[l,c]=k.useState(null),[u,f]=k.useState(!1),[p,m]=k.useState(0),[v,g]=k.useState(null),w=k.useCallback(mde(async F=>{if(console.log("[Campaign Form] validateToken called with:",F),!F||F.length<32){console.log("[Campaign Form] Address too short, clearing metadata"),i(R=>({...R,tokenMetadata:null})),c(null);return}console.log("[Campaign Form] Starting validation process..."),a(!0),c(null);try{console.log("[Campaign Form] Checking if campaign exists...");const R=await hde.checkContractAddressExists(F);if(console.log("[Campaign Form] Campaign exists check result:",R),R){console.log("[Campaign Form] Campaign already exists, showing error"),c("A campaign already exists for this token"),i(U=>({...U,tokenMetadata:null}));return}console.log("[Campaign Form] Calling heliusService.validateToken...");const M=await ude.validateToken(F);console.log("[Campaign Form] Helius validation result:",M),M.isValid&&M.metadata?(console.log("[Campaign Form] Token is valid, setting metadata:",M.metadata),i(U=>({...U,tokenMetadata:M.metadata})),M.metadata.extensions&&(console.log("[Campaign Form] Auto-populating social links:",M.metadata.extensions),i(U=>{var W,$,q;return{...U,socialLinks:{twitter:((W=M.metadata.extensions)==null?void 0:W.twitter)||"",telegram:(($=M.metadata.extensions)==null?void 0:$.telegram)||"",website:((q=M.metadata.extensions)==null?void 0:q.website)||""}}})),console.log("[Campaign Form] Validation successful, clearing error"),c(null)):(console.log("[Campaign Form] Token validation failed:",M.error),c(M.error||"Invalid token contract"),i(U=>({...U,tokenMetadata:null})))}catch(R){console.error("[Campaign Form] Token validation error:",R),c("Failed to validate token. Please try again."),i(M=>({...M,tokenMetadata:null}))}finally{console.log("[Campaign Form] Validation process complete, setting isValidatingToken to false"),a(!1)}},500),[]);k.useEffect(()=>{w(s.contractAddress)},[s.contractAddress,w]);const _=F=>R=>{i(M=>({...M,socialLinks:{...M.socialLinks,[F]:R.target.value}}))},b=F=>R=>{var W;const M=(W=R.target.files)==null?void 0:W[0];if(!M)return;if(M.size>5*1024*1024){r({title:"File too large",description:"Please choose an image smaller than 5MB",variant:"destructive"});return}if(!M.type.startsWith("image/")){r({title:"Invalid file type",description:"Please choose an image file",variant:"destructive"});return}const U=new Image;U.onload=()=>{const $=U.width/U.height;if(F==="logo"){if($<.8||$>1.2){r({title:"Invalid aspect ratio",description:"Logo image should be square (1:1 aspect ratio)",variant:"destructive"});return}}else if(F==="banner"&&($<2.8||$>3.2)){r({title:"Invalid aspect ratio",description:"Banner image should have a 3:1 aspect ratio",variant:"destructive"});return}i(q=>({...q,[`${F}Image`]:M}))},U.onerror=()=>{r({title:"Invalid image",description:"Failed to load the selected image",variant:"destructive"})},U.src=URL.createObjectURL(M)},x=s.tokenMetadata&&s.logoImage&&s.bannerImage&&!o&&!u,T=async()=>{if(console.log("[Campaign Creation] Starting campaign creation process"),!e||!n||!s.tokenMetadata){g("Please connect your wallet first");return}f(!0),m(0),g(null);try{console.log("[Campaign Creation] Step 1: Uploading images"),m(50);const F=await qM.uploadLogo(s.logoImage),R=await qM.uploadBanner(s.bannerImage);console.log("[Campaign Creation] Images uploaded:",{logoUrl:F.url,bannerUrl:R.url}),console.log("[Campaign Creation] Step 2: Creating campaign via API"),m(75);const M={tokenAddress:s.contractAddress,tokenName:s.tokenMetadata.name,tokenSymbol:s.tokenMetadata.symbol,tokenLogoUrl:F.url,bannerUrl:R.url,campaignType:"enhanced_token_info",targetAmount:299,deadline:new Date(Date.now()+s.duration*60*60*1e3),description:`Community crowdfunding campaign to purchase Enhanced Token Info for ${s.tokenMetadata.name} (${s.tokenMetadata.symbol})`,creatorAddress:e.toString()},U=await lh.create(M);if(!U.success)throw new Error("Failed to create campaign");m(100),setTimeout(()=>{t(`/campaign/${U.campaign.id}`)},1e3)}catch(F){console.error("Campaign creation error:",F),g(F instanceof Error?F.message:"Failed to create campaign")}finally{f(!1)}};return n?d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h2",{className:"heading-dark-2",children:"Create Campaign"}),d.jsx("p",{className:"text-gray-400 text-lg",children:"Fund Enhanced Token Info for your favorite Solana token"})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-base font-semibold text-white",children:"Token Contract Address"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Enter Solana token contract address...",value:s.contractAddress,onChange:F=>i(R=>({...R,contractAddress:F.target.value})),className:"input-dark w-full pr-12"}),o&&d.jsx(bp,{className:"absolute right-4 top-4 h-5 w-5 animate-spin text-purple-400"})]}),l&&d.jsx("div",{className:"card-dark p-4 border border-red-500/30 bg-red-500/10",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(_f,{className:"h-5 w-5 text-red-400 flex-shrink-0"}),d.jsx("p",{className:"text-red-400 text-sm",children:l})]})}),s.tokenMetadata&&d.jsx("div",{className:"card-dark p-6 border border-purple-500/30 bg-gradient-to-r from-purple-600/10 to-pink-600/10",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[s.tokenMetadata.image&&d.jsx("img",{src:s.tokenMetadata.image,alt:s.tokenMetadata.name,className:"w-16 h-16 rounded-full border-2 border-gray-700"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.jsx("span",{className:"text-xl font-bold text-white",children:s.tokenMetadata.name}),d.jsx("div",{className:"badge-dark badge-dark-active",children:s.tokenMetadata.symbol}),s.tokenMetadata.verified&&d.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-green-500/20 text-green-400 border border-green-500/50 rounded-lg",children:[d.jsx(bf,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm font-medium",children:"Verified"})]})]}),d.jsxs("p",{className:"text-gray-400",children:["Supply: ",((D=s.tokenMetadata.supply)==null?void 0:D.toLocaleString())||"Unknown"]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Contract: ",s.contractAddress]})]})]})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[d.jsx(Hz,{className:"h-6 w-6 mr-3 text-purple-400"}),"Social Links (Optional)"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-base font-medium text-gray-300",children:"Twitter"}),d.jsx("input",{type:"url",placeholder:"https://twitter.com/...",value:s.socialLinks.twitter||"",onChange:_("twitter"),className:"input-dark w-full"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-base font-medium text-gray-300",children:"Telegram"}),d.jsx("input",{type:"url",placeholder:"https://t.me/...",value:s.socialLinks.telegram||"",onChange:_("telegram"),className:"input-dark w-full"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-base font-medium text-gray-300",children:"Website"}),d.jsx("input",{type:"url",placeholder:"https://example.com",value:s.socialLinks.website||"",onChange:_("website"),className:"input-dark w-full"})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[d.jsx(Wz,{className:"h-6 w-6 mr-3 text-purple-400"}),"Campaign Images"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx("div",{className:"space-y-3",children:d.jsx("label",{className:"block",children:d.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-300
                  ${s.logoImage?"border-purple-500 bg-purple-500/10":"border-gray-700 hover:border-purple-500/50 hover:bg-purple-500/5"}`,children:[d.jsx("input",{type:"file",accept:"image/*",onChange:b("logo"),className:"sr-only"}),s.logoImage?d.jsxs("div",{className:"space-y-3",children:[d.jsx(bf,{className:"h-10 w-10 mx-auto text-purple-400"}),d.jsx("p",{className:"text-base font-medium text-white",children:s.logoImage.name}),d.jsx("p",{className:"text-sm text-gray-400",children:"Click to change"})]}):d.jsxs("div",{className:"space-y-3",children:[d.jsx(CN,{className:"h-10 w-10 mx-auto text-gray-400"}),d.jsx("p",{className:"text-base font-medium text-white",children:"Logo Image (1:1)"}),d.jsx("p",{className:"text-sm text-gray-400",children:"Square image, max 5MB"})]})]})})}),d.jsx("div",{className:"space-y-3",children:d.jsx("label",{className:"block",children:d.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-300
                  ${s.bannerImage?"border-purple-500 bg-purple-500/10":"border-gray-700 hover:border-purple-500/50 hover:bg-purple-500/5"}`,children:[d.jsx("input",{type:"file",accept:"image/*",onChange:b("banner"),className:"sr-only"}),s.bannerImage?d.jsxs("div",{className:"space-y-3",children:[d.jsx(bf,{className:"h-10 w-10 mx-auto text-purple-400"}),d.jsx("p",{className:"text-base font-medium text-white",children:s.bannerImage.name}),d.jsx("p",{className:"text-sm text-gray-400",children:"Click to change"})]}):d.jsxs("div",{className:"space-y-3",children:[d.jsx(CN,{className:"h-10 w-10 mx-auto text-gray-400"}),d.jsx("p",{className:"text-base font-medium text-white",children:"Banner Image (3:1)"}),d.jsx("p",{className:"text-sm text-gray-400",children:"Wide image, max 5MB"})]})]})})})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[d.jsx(bO,{className:"h-6 w-6 mr-3 text-purple-400"}),"Campaign Duration"]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[4,8,12,24].map(F=>d.jsx("button",{type:"button",onClick:()=>i(R=>({...R,duration:F})),className:`p-4 rounded-xl border-2 transition-all duration-200 ${s.duration===F?"border-purple-500 bg-purple-500/20 text-white":"border-gray-700 bg-gray-800/50 text-gray-400 hover:border-purple-500/50 hover:text-gray-300"}`,children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold mb-1",children:F}),d.jsxs("div",{className:"text-sm",children:["Hour",F!==1?"s":""]})]})},F))}),d.jsx("div",{className:"card-dark p-4 border border-yellow-500/30 bg-yellow-500/10",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(_f,{className:"h-5 w-5 text-yellow-400 flex-shrink-0"}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:["Selected duration: ",d.jsxs("strong",{className:"text-white",children:[s.duration," hours"]}),". Campaign will end at ",new Date(Date.now()+s.duration*60*60*1e3).toLocaleString(),"."]})]})})]}),d.jsx("div",{className:"card-dark p-6 border border-blue-500/30 bg-blue-500/10",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(_f,{className:"h-6 w-6 text-blue-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-blue-400 font-medium mb-2",children:"Campaign Information"}),d.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["Your campaign will raise ",d.jsx("strong",{className:"text-white",children:"$299 USD"})," to purchase Enhanced Token Info on DexScreener. The campaign will run for ",d.jsxs("strong",{className:"text-white",children:[s.duration," hours"]})," or until fully funded."]})]})]})}),u&&d.jsxs("div",{className:"card-dark p-8 space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-lg font-semibold text-white",children:"Creating Campaign..."}),d.jsxs("span",{className:"text-base text-purple-400 font-medium",children:[p,"%"]})]}),d.jsx("div",{className:"progress-dark",children:d.jsx("div",{className:"progress-dark-bar",style:{width:`${p}%`}})}),d.jsxs("p",{className:"text-base text-gray-400",children:[p<=25&&"Generating secure campaign wallet...",p>25&&p<=50&&"Uploading images...",p>50&&p<=75&&"Creating campaign...",p>75&&"Finalizing..."]})]}),v&&d.jsx("div",{className:"card-dark p-6 border border-red-500/30 bg-red-500/10",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(_f,{className:"h-6 w-6 text-red-400 flex-shrink-0"}),d.jsx("p",{className:"text-red-400 text-base",children:v})]})}),d.jsx("button",{onClick:T,disabled:!x||u,className:`w-full btn-dark-primary text-lg py-4 ${!x||u?"opacity-50 cursor-not-allowed":""}`,children:u?d.jsxs(d.Fragment,{children:[d.jsx(bp,{className:"h-5 w-5 mr-3 animate-spin"}),"Creating Campaign..."]}):d.jsxs(d.Fragment,{children:["Create Campaign",d.jsx(bf,{className:"h-5 w-5 ml-3"})]})})]})]}):d.jsx("div",{className:"min-h-screen bg-dark-gradient flex items-center justify-center p-4",children:d.jsxs("div",{className:"card-dark max-w-md w-full p-8 text-center space-y-8 glow-purple",children:[d.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center",children:d.jsx(lm,{className:"h-8 w-8 text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Connect Your Wallet"}),d.jsx("p",{className:"text-gray-400 text-lg",children:"Connect your Solana wallet to create a campaign"})]}),d.jsx(Pp,{className:"!bg-gradient-to-r !from-purple-600 !to-pink-600 !text-white hover:!from-purple-700 hover:!to-pink-700 !font-semibold !py-4 !px-8 !rounded-xl !transition-all !duration-200 w-full !text-lg"})]})})};function mde(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>t(...r),e)}}const gde=k.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:We("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));gde.displayName="Textarea";var hA="Progress",fA=100,[yde,Nhe]=eo(hA),[wde,vde]=yde(hA),m8=k.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=xde,...o}=t;(s||s===0)&&!KM(s)&&console.error(_de(`${s}`,"Progress"));const a=KM(s)?s:fA;r!==null&&!GM(r,a)&&console.error(bde(`${r}`,"Progress"));const l=GM(r,a)?r:null,c=_w(l)?i(l,a):void 0;return d.jsx(wde,{scope:n,value:l,max:a,children:d.jsx(et.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":_w(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":w8(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});m8.displayName=hA;var g8="ProgressIndicator",y8=k.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=vde(g8,n);return d.jsx(et.div,{"data-state":w8(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});y8.displayName=g8;function xde(t,e){return`${Math.round(t/e*100)}%`}function w8(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function _w(t){return typeof t=="number"}function KM(t){return _w(t)&&!isNaN(t)&&t>0}function GM(t,e){return _w(t)&&!isNaN(t)&&t<=e&&t>=0}function _de(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${fA}\`.`}function bde(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${fA} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var v8=m8,Ede=y8;const $0=k.forwardRef(({className:t,value:e,...n},r)=>d.jsx(v8,{ref:r,className:We("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:d.jsx(Ede,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));$0.displayName=v8.displayName;function Sde(){return d.jsx(Ed,{children:d.jsx("div",{className:"min-h-screen bg-dark-gradient",children:d.jsx("div",{className:"container mx-auto py-8 max-w-4xl px-6",children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"heading-dark-1",children:"Create Campaign"}),d.jsx("p",{className:"text-gray-400 mt-2 text-lg",children:"Start a crowdfunding campaign to purchase DexScreener services for your favorite token"})]}),d.jsx("div",{className:"card-dark p-6 border border-purple-500/30",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx($z,{className:"h-5 w-5 text-purple-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-purple-400 font-medium mb-2",children:"Important Information"}),d.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Campaign funds are held in a unique Solana wallet. Once the target is reached, the service will be automatically purchased. If the deadline passes without reaching the target, all contributors will be refunded."})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx("div",{className:"card-dark p-6 hover-lift-dark",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"heading-dark-3",children:"Enhanced Token Info"}),d.jsx("p",{className:"text-purple-400 font-semibold",children:"$299 USDC"})]}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Add detailed token information, social links, and descriptions to DexScreener"})]})}),d.jsx("div",{className:"card-dark p-6 hover-lift-dark",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"heading-dark-3",children:"Token Advertising"}),d.jsx("p",{className:"text-blue-400 font-semibold",children:"Custom Budget"})]}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Promote your token with banner ads and featured placements on DexScreener"})]})}),d.jsx("div",{className:"card-dark p-6 hover-lift-dark",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"heading-dark-3",children:"DexScreener Boost"}),d.jsx("p",{className:"text-green-400 font-semibold",children:"Variable Pricing"})]}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Boost your token's visibility with trending placement and increased exposure"})]})})]}),d.jsx("div",{className:"card-dark p-8 glow-purple",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"heading-dark-2",children:"Campaign Details"}),d.jsx("p",{className:"text-gray-400 mt-2",children:"Fill in the information below to create your crowdfunding campaign"})]}),d.jsx(pde,{})]})})]})})})})}const H0=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:We("w-full caption-bottom text-sm",t),...e})}));H0.displayName="Table";const q0=k.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:We("[&_tr]:border-b",t),...e}));q0.displayName="TableHeader";const K0=k.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:We("[&_tr:last-child]:border-0",t),...e}));K0.displayName="TableBody";const Tde=k.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:We("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Tde.displayName="TableFooter";const tc=k.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:We("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));tc.displayName="TableRow";const Kn=k.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:We("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Kn.displayName="TableHead";const Gn=k.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:We("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Gn.displayName="TableCell";const Ide=k.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:We("mt-4 text-sm text-muted-foreground",t),...e}));Ide.displayName="TableCaption";var s1="Switch",[Ade,khe]=eo(s1),[Cde,Nde]=Ade(s1),x8=k.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...f}=t,[p,m]=k.useState(null),v=jt(e,x=>m(x)),g=k.useRef(!1),w=p?u||!!p.closest("form"):!0,[_,b]=Uc({prop:s,defaultProp:i??!1,onChange:c,caller:s1});return d.jsxs(Cde,{scope:n,checked:_,disabled:a,children:[d.jsx(et.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":S8(_),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:v,onClick:Ve(t.onClick,x=>{b(T=>!T),w&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),w&&d.jsx(E8,{control:p,bubbles:!g.current,name:r,value:l,checked:_,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});x8.displayName=s1;var _8="SwitchThumb",b8=k.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=Nde(_8,n);return d.jsx(et.span,{"data-state":S8(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});b8.displayName=_8;var kde="SwitchBubbleInput",E8=k.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=k.useRef(null),a=jt(o,i),l=m3(n),c=HO(e);return k.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&m){const v=new Event("click",{bubbles:r});m.call(u,n),u.dispatchEvent(v)}},[l,n,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});E8.displayName=kde;function S8(t){return t?"checked":"unchecked"}var T8=x8,Mde=b8;const jf=k.forwardRef(({className:t,...e},n)=>d.jsx(T8,{className:We("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:d.jsx(Mde,{className:We("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));jf.displayName=T8.displayName;const bs={getStats:()=>lt.get("/api/admin/stats"),getCampaigns:t=>lt.get("/api/admin/campaigns",{params:t}),getUsers:t=>lt.get("/api/admin/users",{params:t}),getTransactions:t=>lt.get("/api/admin/transactions",{params:t}),getSystemHealth:()=>lt.get("/api/admin/health"),updateCampaignStatus:(t,e)=>lt.put(`/api/admin/campaigns/${t}/status`,{status:e}),triggerRefund:t=>lt.post(`/api/admin/campaigns/${t}/refund`),banUser:t=>lt.post(`/api/admin/users/${t}/ban`),unbanUser:t=>lt.post(`/api/admin/users/${t}/unban`),triggerPurchase:t=>lt.post(`/api/admin/campaigns/${t}/purchase`),exportData:(t,e)=>lt.get(`/api/admin/export/${t}`,{params:e,responseType:"blob"}),reconcileBalances:()=>lt.post("/api/admin/reconcile"),pausePlatform:()=>lt.post("/api/admin/platform/pause"),resumePlatform:()=>lt.post("/api/admin/platform/resume")};function Rde(){var S,K,ae,ue,he,le,ye,Te,Me,Ee,_e,He,Re,Ge,Wt,at,Et,ar,wt;const{toast:t}=_h(),e=GS(),[n,r]=k.useState(null),[s,i]=k.useState(null),[o,a]=k.useState(!1),[l,c]=k.useState(!1),[u,f]=k.useState({}),[p,m]=k.useState({}),[v,g]=k.useState({}),[w,_]=k.useState("7d"),[b,x]=k.useState(!1),{data:T,isLoading:D}=Ao({queryKey:["admin-stats",w],queryFn:()=>bs.getStats(),refetchInterval:3e4}),{data:F,isLoading:R}=Ao({queryKey:["admin-campaigns",u],queryFn:()=>bs.getCampaigns(u),refetchInterval:6e4}),{data:M,isLoading:U}=Ao({queryKey:["admin-users",p],queryFn:()=>bs.getUsers(p),refetchInterval:3e5}),{data:W,isLoading:$}=Ao({queryKey:["admin-transactions",v],queryFn:()=>bs.getTransactions(v),refetchInterval:3e4}),{data:q}=Ao({queryKey:["admin-health"],queryFn:()=>bs.getSystemHealth(),refetchInterval:1e4}),C=Tu({mutationFn:({campaignId:oe,status:At})=>bs.updateCampaignStatus(oe,At),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Campaign updated successfully"})},onError:oe=>{t({title:"Update failed",description:oe.message,variant:"destructive"})}}),y=Tu({mutationFn:oe=>bs.triggerRefund(oe),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Refund initiated successfully"})},onError:oe=>{t({title:"Refund failed",description:oe.message,variant:"destructive"})}}),I=Tu({mutationFn:oe=>bs.banUser(oe),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-users"]}),t({title:"User banned successfully"})},onError:oe=>{t({title:"Ban failed",description:oe.message,variant:"destructive"})}}),O=Tu({mutationFn:oe=>bs.triggerPurchase(oe),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Purchase triggered successfully"})},onError:oe=>{t({title:"Purchase trigger failed",description:oe.message,variant:"destructive"})}}),z=Tu({mutationFn:()=>bs.reconcileBalances(),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Balance reconciliation completed"})},onError:oe=>{t({title:"Reconciliation failed",description:oe.message,variant:"destructive"})}}),L=Tu({mutationFn:oe=>oe==="pause"?bs.pausePlatform():bs.resumePlatform(),onSuccess:(oe,At)=>{x(At==="pause"),t({title:`Platform ${At==="pause"?"paused":"resumed"} successfully`,variant:At==="pause"?"destructive":"default"})},onError:oe=>{t({title:"Platform control failed",description:oe.message,variant:"destructive"})}}),j=async oe=>{try{const At=await bs.exportData(oe,{dateRange:w}),Tt=new Blob([At.data],{type:"text/csv"}),Ct=window.URL.createObjectURL(Tt),Fn=document.createElement("a");Fn.href=Ct,Fn.download=`wendex_${oe}_${Xl(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(Fn),Fn.click(),window.URL.revokeObjectURL(Ct),document.body.removeChild(Fn),t({title:`${oe} data exported successfully`})}catch(At){t({title:"Export failed",description:At.message,variant:"destructive"})}},H=oe=>{const At={active:"bg-green-500",funded:"bg-blue-500",completed:"bg-purple-500",failed:"bg-red-500",cancelled:"bg-gray-500",refunding:"bg-orange-500"};return d.jsx(Ta,{className:At[oe]||"bg-gray-500",children:oe})},B=oe=>{const At={healthy:"text-green-500",degraded:"text-yellow-500",down:"text-red-500"};return d.jsx("span",{className:At[oe],children:oe})};return d.jsx(Ed,{children:d.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Comprehensive platform management and monitoring"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(ln,{variant:b?"default":"destructive",onClick:()=>L.mutate(b?"resume":"pause"),children:[b?d.jsx(TN,{className:"mr-2 h-4 w-4"}):d.jsx(W1,{className:"mr-2 h-4 w-4"}),b?"Resume Platform":"Pause Platform"]}),d.jsxs(ln,{variant:"outline",onClick:()=>z.mutate(),children:[d.jsx($1,{className:"mr-2 h-4 w-4"}),"Reconcile Balances"]})]})]}),b&&d.jsxs(xv,{variant:"destructive",children:[d.jsx(Jz,{className:"h-4 w-4"}),d.jsx(_v,{children:"Platform is currently paused. New campaigns and contributions are disabled."})]}),d.jsxs(dr,{children:[d.jsx(jr,{children:d.jsxs(Br,{className:"flex items-center gap-2",children:[d.jsx(qz,{className:"h-5 w-5"}),"System Health"]})}),d.jsxs(hr,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx(Yz,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"API"}),d.jsx("div",{children:B(((S=q==null?void 0:q.data)==null?void 0:S.apiStatus)||"unknown")})]}),d.jsxs("div",{className:"text-center",children:[d.jsx(bN,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"Database"}),d.jsx("div",{children:B(((K=q==null?void 0:q.data)==null?void 0:K.dbStatus)||"unknown")})]}),d.jsxs("div",{className:"text-center",children:[d.jsx(zz,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"Blockchain"}),d.jsx("div",{children:B(((ae=q==null?void 0:q.data)==null?void 0:ae.blockchainStatus)||"unknown")})]}),d.jsxs("div",{className:"text-center",children:[d.jsx(dl,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"Webhooks"}),d.jsx("div",{children:B(((ue=q==null?void 0:q.data)==null?void 0:ue.webhookStatus)||"unknown")})]})]}),(q==null?void 0:q.data)&&d.jsxs("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:["Response Time: ",q.data.responseTime,"ms | Error Rate: ",q.data.errorRate.toFixed(2),"% | Last Update: ",Xl(new Date(q.data.lastUpdate),"HH:mm:ss")]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs(dr,{children:[d.jsxs(jr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Br,{className:"text-sm font-medium",children:"Total Campaigns"}),d.jsx(Lz,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(hr,{children:[d.jsx("div",{className:"text-2xl font-bold",children:((he=T==null?void 0:T.data)==null?void 0:he.totalCampaigns)||0}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[((le=T==null?void 0:T.data)==null?void 0:le.activeCampaigns)||0," active"]})]})]}),d.jsxs(dr,{children:[d.jsxs(jr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Br,{className:"text-sm font-medium",children:"Total Funded"}),d.jsx(eT,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(hr,{children:[d.jsxs("div",{className:"text-2xl font-bold",children:["$",((Te=(ye=T==null?void 0:T.data)==null?void 0:ye.totalFunded)==null?void 0:Te.toLocaleString())||0]}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",((Ee=(Me=T==null?void 0:T.data)==null?void 0:Me.avgCampaignSize)==null?void 0:Ee.toFixed(0))||0," avg campaign"]})]})]}),d.jsxs(dr,{children:[d.jsxs(jr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Br,{className:"text-sm font-medium",children:"Contributors"}),d.jsx(Ww,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(hr,{children:[d.jsx("div",{className:"text-2xl font-bold",children:((_e=T==null?void 0:T.data)==null?void 0:_e.totalContributors)||0}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique addresses"})]})]}),d.jsxs(dr,{children:[d.jsxs(jr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Br,{className:"text-sm font-medium",children:"Success Rate"}),d.jsx(tT,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(hr,{children:[d.jsxs("div",{className:"text-2xl font-bold",children:[((Re=(He=T==null?void 0:T.data)==null?void 0:He.successRate)==null?void 0:Re.toFixed(1))||0,"%"]}),d.jsx($0,{value:((Ge=T==null?void 0:T.data)==null?void 0:Ge.successRate)||0,className:"mt-2"})]})]})]}),d.jsxs(I5,{defaultValue:"campaigns",className:"w-full",children:[d.jsxs(rI,{className:"grid w-full grid-cols-5",children:[d.jsx(Po,{value:"campaigns",children:"Campaigns"}),d.jsx(Po,{value:"users",children:"Users"}),d.jsx(Po,{value:"transactions",children:"Transactions"}),d.jsx(Po,{value:"analytics",children:"Analytics"}),d.jsx(Po,{value:"settings",children:"Settings"})]}),d.jsx(Oo,{value:"campaigns",className:"space-y-4",children:d.jsxs(dr,{children:[d.jsx(jr,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(Br,{children:"Campaign Management"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(ln,{variant:"outline",onClick:()=>j("campaigns"),children:[d.jsx(_g,{className:"mr-2 h-4 w-4"}),"Export"]}),d.jsxs(Mf,{value:u.status||"all",onValueChange:oe=>f({...u,status:oe==="all"?void 0:oe}),children:[d.jsx(od,{className:"w-32",children:d.jsx(Rf,{placeholder:"Status"})}),d.jsxs(ad,{children:[d.jsx(vn,{value:"all",children:"All Status"}),d.jsx(vn,{value:"active",children:"Active"}),d.jsx(vn,{value:"funded",children:"Funded"}),d.jsx(vn,{value:"completed",children:"Completed"}),d.jsx(vn,{value:"failed",children:"Failed"})]})]})]})]})}),d.jsx(hr,{children:d.jsxs(H0,{children:[d.jsx(q0,{children:d.jsxs(tc,{children:[d.jsx(Kn,{children:"Token"}),d.jsx(Kn,{children:"Type"}),d.jsx(Kn,{children:"Progress"}),d.jsx(Kn,{children:"Status"}),d.jsx(Kn,{children:"Created"}),d.jsx(Kn,{children:"Actions"})]})}),d.jsx(K0,{children:(Wt=F==null?void 0:F.data)==null?void 0:Wt.map(oe=>d.jsxs(tc,{children:[d.jsx(Gn,{children:d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:oe.tokenName}),d.jsx("div",{className:"text-sm text-muted-foreground",children:oe.tokenSymbol})]})}),d.jsx(Gn,{children:oe.campaignType.replace("_"," ")}),d.jsx(Gn,{children:d.jsxs("div",{className:"w-24",children:[d.jsx($0,{value:oe.currentAmount/oe.targetAmount*100,className:"h-2"}),d.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["$",oe.currentAmount.toFixed(0)," / $",oe.targetAmount.toFixed(0)]})]})}),d.jsx(Gn,{children:H(oe.status)}),d.jsx(Gn,{children:Xl(new Date(oe.createdAt),"MMM dd")}),d.jsx(Gn,{children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(ln,{size:"sm",variant:"outline",onClick:()=>{r(oe),a(!0)},children:d.jsx(SN,{className:"h-3 w-3"})}),oe.status==="funded"&&d.jsx(ln,{size:"sm",variant:"outline",onClick:()=>O.mutate(oe.id),children:d.jsx(dl,{className:"h-3 w-3"})}),["active","funded"].includes(oe.status)&&d.jsx(ln,{size:"sm",variant:"outline",onClick:()=>y.mutate(oe.id),children:d.jsx($1,{className:"h-3 w-3"})})]})})]},oe.id))})]})})]})}),d.jsx(Oo,{value:"users",className:"space-y-4",children:d.jsxs(dr,{children:[d.jsx(jr,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(Br,{children:"User Management"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(ln,{variant:"outline",onClick:()=>j("users"),children:[d.jsx(_g,{className:"mr-2 h-4 w-4"}),"Export"]}),d.jsxs(Mf,{value:p.status||"all",onValueChange:oe=>m({...p,status:oe==="all"?void 0:oe}),children:[d.jsx(od,{className:"w-32",children:d.jsx(Rf,{placeholder:"Status"})}),d.jsxs(ad,{children:[d.jsx(vn,{value:"all",children:"All Users"}),d.jsx(vn,{value:"active",children:"Active"}),d.jsx(vn,{value:"flagged",children:"Flagged"}),d.jsx(vn,{value:"banned",children:"Banned"})]})]})]})]})}),d.jsx(hr,{children:d.jsxs(H0,{children:[d.jsx(q0,{children:d.jsxs(tc,{children:[d.jsx(Kn,{children:"Address"}),d.jsx(Kn,{children:"Contributed"}),d.jsx(Kn,{children:"Campaigns"}),d.jsx(Kn,{children:"Risk Score"}),d.jsx(Kn,{children:"Status"}),d.jsx(Kn,{children:"Actions"})]})}),d.jsx(K0,{children:(at=M==null?void 0:M.data)==null?void 0:at.map(oe=>d.jsxs(tc,{children:[d.jsx(Gn,{children:d.jsxs("code",{className:"text-xs",children:[oe.address.slice(0,8),"...",oe.address.slice(-6)]})}),d.jsxs(Gn,{children:["$",oe.totalContributed.toLocaleString()]}),d.jsx(Gn,{children:oe.campaignsSupported}),d.jsx(Gn,{children:d.jsx(Ta,{variant:oe.riskScore>75?"destructive":oe.riskScore>50?"secondary":"default",children:oe.riskScore})}),d.jsx(Gn,{children:H(oe.status)}),d.jsx(Gn,{children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(ln,{size:"sm",variant:"outline",onClick:()=>{i(oe),c(!0)},children:d.jsx(SN,{className:"h-3 w-3"})}),oe.status==="active"&&d.jsx(ln,{size:"sm",variant:"outline",onClick:()=>I.mutate(oe.address),children:d.jsx(W1,{className:"h-3 w-3"})})]})})]},oe.address))})]})})]})}),d.jsx(Oo,{value:"transactions",className:"space-y-4",children:d.jsxs(dr,{children:[d.jsx(jr,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(Br,{children:"Transaction Monitoring"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(ln,{variant:"outline",onClick:()=>j("transactions"),children:[d.jsx(_g,{className:"mr-2 h-4 w-4"}),"Export"]}),d.jsxs(Mf,{value:v.type||"all",onValueChange:oe=>g({...v,type:oe==="all"?void 0:oe}),children:[d.jsx(od,{className:"w-32",children:d.jsx(Rf,{placeholder:"Type"})}),d.jsxs(ad,{children:[d.jsx(vn,{value:"all",children:"All Types"}),d.jsx(vn,{value:"contribution",children:"Contributions"}),d.jsx(vn,{value:"refund",children:"Refunds"}),d.jsx(vn,{value:"service_purchase",children:"Purchases"})]})]})]})]})}),d.jsx(hr,{children:d.jsxs(H0,{children:[d.jsx(q0,{children:d.jsxs(tc,{children:[d.jsx(Kn,{children:"Signature"}),d.jsx(Kn,{children:"Type"}),d.jsx(Kn,{children:"Amount"}),d.jsx(Kn,{children:"Status"}),d.jsx(Kn,{children:"Time"}),d.jsx(Kn,{children:"Method"})]})}),d.jsx(K0,{children:(Et=W==null?void 0:W.data)==null?void 0:Et.map(oe=>d.jsxs(tc,{children:[d.jsx(Gn,{children:d.jsxs("code",{className:"text-xs",children:[oe.signature.slice(0,8),"...",oe.signature.slice(-6)]})}),d.jsx(Gn,{children:oe.type.replace("_"," ")}),d.jsxs(Gn,{children:["$",oe.amount.toFixed(2)]}),d.jsx(Gn,{children:H(oe.status)}),d.jsx(Gn,{children:Xl(new Date(oe.timestamp),"MMM dd HH:mm")}),d.jsx(Gn,{children:d.jsx(Ta,{variant:"outline",children:oe.verificationMethod})})]},oe.id))})]})})]})}),d.jsx(Oo,{value:"analytics",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(dr,{children:[d.jsx(jr,{children:d.jsxs(Br,{className:"flex items-center gap-2",children:[d.jsx(xO,{className:"h-5 w-5"}),"Platform Revenue"]})}),d.jsxs(hr,{children:[d.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",((wt=(ar=T==null?void 0:T.data)==null?void 0:ar.platformFees)==null?void 0:wt.toLocaleString())||0]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"2% fee on successful campaigns"})]})]}),d.jsxs(dr,{children:[d.jsx(jr,{children:d.jsxs(Br,{className:"flex items-center gap-2",children:[d.jsx(Bz,{className:"h-5 w-5"}),"Campaign Types"]})}),d.jsx(hr,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Enhanced Token Info"}),d.jsx(Ta,{children:"65%"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Advertising"}),d.jsx(Ta,{children:"25%"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Boost"}),d.jsx(Ta,{children:"10%"})]})]})})]}),d.jsxs(dr,{className:"md:col-span-2",children:[d.jsx(jr,{children:d.jsxs(Br,{className:"flex items-center gap-2",children:[d.jsx(JS,{className:"h-5 w-5"}),"Performance Metrics"]})}),d.jsx(hr,{children:d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"98.5%"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:"156ms"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Response"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"99.2%"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Payment Success"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"4.2s"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Tx Confirmation"})]})]})})]})]})}),d.jsx(Oo,{value:"settings",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(dr,{children:[d.jsx(jr,{children:d.jsxs(Br,{className:"flex items-center gap-2",children:[d.jsx(Zz,{className:"h-5 w-5"}),"Platform Controls"]})}),d.jsxs(hr,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Pn,{htmlFor:"platform-pause",children:"Platform Status"}),d.jsx(jf,{id:"platform-pause",checked:!b,onCheckedChange:oe=>L.mutate(oe?"resume":"pause")})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Pn,{htmlFor:"new-campaigns",children:"Allow New Campaigns"}),d.jsx(jf,{id:"new-campaigns",defaultChecked:!0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Pn,{htmlFor:"contributions",children:"Allow Contributions"}),d.jsx(jf,{id:"contributions",defaultChecked:!0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Pn,{htmlFor:"auto-purchase",children:"Auto Purchase Services"}),d.jsx(jf,{id:"auto-purchase",defaultChecked:!0})]})]})]}),d.jsxs(dr,{children:[d.jsx(jr,{children:d.jsxs(Br,{className:"flex items-center gap-2",children:[d.jsx(lm,{className:"h-5 w-5"}),"Security Settings"]})}),d.jsxs(hr,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Pn,{htmlFor:"min-contribution",children:"Minimum Contribution (USDC)"}),d.jsx(mc,{id:"min-contribution",type:"number",defaultValue:"5"})]}),d.jsxs("div",{children:[d.jsx(Pn,{htmlFor:"max-contribution",children:"Maximum Contribution (USDC)"}),d.jsx(mc,{id:"max-contribution",type:"number",defaultValue:"10000"})]}),d.jsxs("div",{children:[d.jsx(Pn,{htmlFor:"platform-fee",children:"Platform Fee (%)"}),d.jsx(mc,{id:"platform-fee",type:"number",defaultValue:"2",step:"0.1"})]}),d.jsxs("div",{children:[d.jsx(Pn,{htmlFor:"fraud-threshold",children:"Fraud Detection Threshold"}),d.jsx(mc,{id:"fraud-threshold",type:"number",defaultValue:"75"})]})]})]}),d.jsxs(dr,{className:"md:col-span-2",children:[d.jsx(jr,{children:d.jsxs(Br,{className:"flex items-center gap-2",children:[d.jsx(bN,{className:"h-5 w-5"}),"System Maintenance"]})}),d.jsx(hr,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs(ln,{variant:"outline",onClick:()=>z.mutate(),disabled:z.isPending,children:[d.jsx($1,{className:"mr-2 h-4 w-4"}),"Reconcile All Balances"]}),d.jsxs(ln,{variant:"outline",children:[d.jsx(_g,{className:"mr-2 h-4 w-4"}),"Backup Database"]}),d.jsxs(ln,{variant:"outline",children:[d.jsx(Vz,{className:"mr-2 h-4 w-4"}),"Generate Report"]})]})})]})]})})]}),d.jsx(_E,{open:o,onOpenChange:a,children:d.jsxs(Qy,{className:"max-w-2xl",children:[d.jsxs(Yy,{children:[d.jsx(Xy,{children:"Campaign Details"}),d.jsxs(Jy,{children:["Detailed information and management for ",n==null?void 0:n.tokenName]})]}),n&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(Pn,{children:"Token Address"}),d.jsx("code",{className:"block text-xs bg-muted p-2 rounded",children:n.creatorAddress})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"Creator"}),d.jsx("code",{className:"block text-xs bg-muted p-2 rounded",children:n.creatorAddress})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"Progress"}),d.jsxs("div",{className:"space-y-1",children:[d.jsx($0,{value:n.currentAmount/n.targetAmount*100}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",n.currentAmount," / $",n.targetAmount]})]})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"Contributions"}),d.jsx("div",{className:"text-lg font-semibold",children:n.contributionCount})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Mf,{value:n.status,onValueChange:oe=>C.mutate({campaignId:n.id,status:oe}),children:[d.jsx(od,{className:"w-40",children:d.jsx(Rf,{})}),d.jsxs(ad,{children:[d.jsx(vn,{value:"active",children:"Active"}),d.jsx(vn,{value:"funded",children:"Funded"}),d.jsx(vn,{value:"completed",children:"Completed"}),d.jsx(vn,{value:"failed",children:"Failed"}),d.jsx(vn,{value:"cancelled",children:"Cancelled"})]})]}),d.jsx(ln,{variant:"outline",onClick:()=>O.mutate(n.id),children:"Trigger Purchase"}),d.jsx(ln,{variant:"outline",onClick:()=>y.mutate(n.id),children:"Process Refunds"})]})]}),d.jsx(Zy,{children:d.jsx(ln,{variant:"outline",onClick:()=>a(!1),children:"Close"})})]})}),d.jsx(_E,{open:l,onOpenChange:c,children:d.jsxs(Qy,{className:"max-w-2xl",children:[d.jsxs(Yy,{children:[d.jsx(Xy,{children:"User Details"}),d.jsx(Jy,{children:"User activity and risk assessment"})]}),s&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(Pn,{children:"Wallet Address"}),d.jsx("code",{className:"block text-xs bg-muted p-2 rounded",children:s.address})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"Risk Score"}),d.jsxs(Ta,{variant:s.riskScore>75?"destructive":s.riskScore>50?"secondary":"default",className:"text-lg",children:[s.riskScore,"/100"]})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"Total Contributed"}),d.jsxs("div",{className:"text-lg font-semibold",children:["$",s.totalContributed.toLocaleString()]})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"Campaigns Supported"}),d.jsx("div",{className:"text-lg font-semibold",children:s.campaignsSupported})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"First Activity"}),d.jsx("div",{className:"text-sm",children:Xl(new Date(s.firstContribution),"PPP")})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"Last Activity"}),d.jsx("div",{className:"text-sm",children:Xl(new Date(s.lastActivity),"PPP")})]})]}),d.jsxs("div",{className:"flex gap-2",children:[s.status==="active"&&d.jsxs(ln,{variant:"destructive",onClick:()=>I.mutate(s.address),children:[d.jsx(W1,{className:"mr-2 h-4 w-4"}),"Ban User"]}),s.status==="banned"&&d.jsxs(ln,{variant:"outline",onClick:()=>I.mutate(s.address),children:[d.jsx(TN,{className:"mr-2 h-4 w-4"}),"Unban User"]})]})]}),d.jsx(Zy,{children:d.jsx(ln,{variant:"outline",onClick:()=>c(!1),children:"Close"})})]})})]})})}function Pde(){return d.jsxs(e9,{children:[d.jsx(Su,{path:"/",component:Aee}),d.jsx(Su,{path:"/campaigns",component:vne}),d.jsx(Su,{path:"/campaign/:id",component:lde}),d.jsx(Su,{path:"/create-campaign",component:Sde}),d.jsx(Su,{path:"/admin",component:Rde}),d.jsx(Su,{component:kee})]})}function Ode(){return d.jsx(H2,{children:d.jsx(_9,{client:L9,children:d.jsx(IX,{children:d.jsxs(a$,{children:[d.jsx(L7,{}),d.jsx(H2,{children:d.jsx(Pde,{})})]})})})})}document.documentElement.classList.remove("dark");document.documentElement.classList.add("light");localStorage.setItem("theme","light");w4(document.getElementById("root")).render(d.jsx(Ode,{}));export{Zde as C,Jde as D,LT as E,A0 as L,Oe as P,Xf as S,gi as T,bl as V,JZ as a,Je as b,_i as c,_m as d,YZ as e,the as f,oa as g,ehe as h,Xde as i,ts as j,xn as k,nhe as l,Mo as m,iH as r,RL as s};

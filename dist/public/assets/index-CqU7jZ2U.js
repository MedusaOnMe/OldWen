var I7=Object.defineProperty;var XT=t=>{throw TypeError(t)};var R7=(t,e,n)=>e in t?I7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Gn=(t,e,n)=>R7(t,typeof e!="symbol"?e+"":e,n),Aw=(t,e,n)=>e.has(t)||XT("Cannot "+n);var Y=(t,e,n)=>(Aw(t,e,"read from private field"),n?n.call(t):e.get(t)),ze=(t,e,n)=>e.has(t)?XT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ie=(t,e,n,r)=>(Aw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),at=(t,e,n)=>(Aw(t,e,"access private method"),n);var pm=(t,e,n,r)=>({set _(s){Ie(t,e,s,n)},get _(){return Y(t,e,r)}});function k7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Pc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $2(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var WM={exports:{}},Dv={},$M={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp=Symbol.for("react.element"),N7=Symbol.for("react.portal"),M7=Symbol.for("react.fragment"),D7=Symbol.for("react.strict_mode"),P7=Symbol.for("react.profiler"),B7=Symbol.for("react.provider"),O7=Symbol.for("react.context"),L7=Symbol.for("react.forward_ref"),j7=Symbol.for("react.suspense"),F7=Symbol.for("react.memo"),U7=Symbol.for("react.lazy"),ZT=Symbol.iterator;function z7(t){return t===null||typeof t!="object"?null:(t=ZT&&t[ZT]||t["@@iterator"],typeof t=="function"?t:null)}var HM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qM=Object.assign,KM={};function Rf(t,e,n){this.props=t,this.context=e,this.refs=KM,this.updater=n||HM}Rf.prototype.isReactComponent={};Rf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GM(){}GM.prototype=Rf.prototype;function H2(t,e,n){this.props=t,this.context=e,this.refs=KM,this.updater=n||HM}var q2=H2.prototype=new GM;q2.constructor=H2;qM(q2,Rf.prototype);q2.isPureReactComponent=!0;var JT=Array.isArray,QM=Object.prototype.hasOwnProperty,K2={current:null},YM={key:!0,ref:!0,__self:!0,__source:!0};function XM(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)QM.call(e,r)&&!YM.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:cp,type:t,key:i,ref:o,props:s,_owner:K2.current}}function V7(t,e){return{$$typeof:cp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function G2(t){return typeof t=="object"&&t!==null&&t.$$typeof===cp}function W7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eI=/\/+/g;function Sw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?W7(""+t.key):e.toString(36)}function og(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cp:case N7:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Sw(o,0):r,JT(s)?(n="",t!=null&&(n=t.replace(eI,"$&/")+"/"),og(s,e,n,"",function(l){return l})):s!=null&&(G2(s)&&(s=V7(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(eI,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",JT(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Sw(i,a);o+=og(i,e,n,c,s)}else if(c=z7(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Sw(i,a++),o+=og(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function mm(t,e,n){if(t==null)return t;var r=[],s=0;return og(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cs={current:null},ag={transition:null},H7={ReactCurrentDispatcher:cs,ReactCurrentBatchConfig:ag,ReactCurrentOwner:K2};function ZM(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:mm,forEach:function(t,e,n){mm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mm(t,function(){e++}),e},toArray:function(t){return mm(t,function(e){return e})||[]},only:function(t){if(!G2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gt.Component=Rf;gt.Fragment=M7;gt.Profiler=P7;gt.PureComponent=H2;gt.StrictMode=D7;gt.Suspense=j7;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H7;gt.act=ZM;gt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qM({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=K2.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)QM.call(e,c)&&!YM.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:cp,type:t.type,key:s,ref:i,props:r,_owner:o}};gt.createContext=function(t){return t={$$typeof:O7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:B7,_context:t},t.Consumer=t};gt.createElement=XM;gt.createFactory=function(t){var e=XM.bind(null,t);return e.type=t,e};gt.createRef=function(){return{current:null}};gt.forwardRef=function(t){return{$$typeof:L7,render:t}};gt.isValidElement=G2;gt.lazy=function(t){return{$$typeof:U7,_payload:{_status:-1,_result:t},_init:$7}};gt.memo=function(t,e){return{$$typeof:F7,type:t,compare:e===void 0?null:e}};gt.startTransition=function(t){var e=ag.transition;ag.transition={};try{t()}finally{ag.transition=e}};gt.unstable_act=ZM;gt.useCallback=function(t,e){return cs.current.useCallback(t,e)};gt.useContext=function(t){return cs.current.useContext(t)};gt.useDebugValue=function(){};gt.useDeferredValue=function(t){return cs.current.useDeferredValue(t)};gt.useEffect=function(t,e){return cs.current.useEffect(t,e)};gt.useId=function(){return cs.current.useId()};gt.useImperativeHandle=function(t,e,n){return cs.current.useImperativeHandle(t,e,n)};gt.useInsertionEffect=function(t,e){return cs.current.useInsertionEffect(t,e)};gt.useLayoutEffect=function(t,e){return cs.current.useLayoutEffect(t,e)};gt.useMemo=function(t,e){return cs.current.useMemo(t,e)};gt.useReducer=function(t,e,n){return cs.current.useReducer(t,e,n)};gt.useRef=function(t){return cs.current.useRef(t)};gt.useState=function(t){return cs.current.useState(t)};gt.useSyncExternalStore=function(t,e,n){return cs.current.useSyncExternalStore(t,e,n)};gt.useTransition=function(){return cs.current.useTransition()};gt.version="18.3.1";$M.exports=gt;var I=$M.exports;const fe=Pc(I),Q2=k7({__proto__:null,default:fe},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q7=I,K7=Symbol.for("react.element"),G7=Symbol.for("react.fragment"),Q7=Object.prototype.hasOwnProperty,Y7=q7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X7={key:!0,ref:!0,__self:!0,__source:!0};function JM(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Q7.call(e,r)&&!X7.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:K7,type:t,key:i,ref:o,props:s,_owner:Y7.current}}Dv.Fragment=G7;Dv.jsx=JM;Dv.jsxs=JM;WM.exports=Dv;var d=WM.exports,nt={},Pv={};Pv.byteLength=eU;Pv.toByteArray=nU;Pv.fromByteArray=iU;var Wi=[],qs=[],Z7=typeof Uint8Array<"u"?Uint8Array:Array,Cw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Mu=0,J7=Cw.length;Mu<J7;++Mu)Wi[Mu]=Cw[Mu],qs[Cw.charCodeAt(Mu)]=Mu;qs[45]=62;qs[95]=63;function e3(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function eU(t){var e=e3(t),n=e[0],r=e[1];return(n+r)*3/4-r}function tU(t,e,n){return(e+n)*3/4-n}function nU(t){var e,n=e3(t),r=n[0],s=n[1],i=new Z7(tU(t,r,s)),o=0,a=s>0?r-4:r,c;for(c=0;c<a;c+=4)e=qs[t.charCodeAt(c)]<<18|qs[t.charCodeAt(c+1)]<<12|qs[t.charCodeAt(c+2)]<<6|qs[t.charCodeAt(c+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return s===2&&(e=qs[t.charCodeAt(c)]<<2|qs[t.charCodeAt(c+1)]>>4,i[o++]=e&255),s===1&&(e=qs[t.charCodeAt(c)]<<10|qs[t.charCodeAt(c+1)]<<4|qs[t.charCodeAt(c+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function rU(t){return Wi[t>>18&63]+Wi[t>>12&63]+Wi[t>>6&63]+Wi[t&63]}function sU(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(rU(r));return s.join("")}function iU(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(sU(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(Wi[e>>2]+Wi[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(Wi[e>>10]+Wi[e>>4&63]+Wi[e<<2&63]+"=")),s.join("")}var Y2={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Y2.read=function(t,e,n,r,s){var i,o,a=s*8-r-1,c=(1<<a)-1,l=c>>1,u=-7,f=n?s-1:0,h=n?-1:1,m=t[e+f];for(f+=h,i=m&(1<<-u)-1,m>>=-u,u+=a;u>0;i=i*256+t[e+f],f+=h,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=r;u>0;o=o*256+t[e+f],f+=h,u-=8);if(i===0)i=1-l;else{if(i===c)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-l}return(m?-1:1)*o*Math.pow(2,i-r)};Y2.write=function(t,e,n,r,s,i){var o,a,c,l=i*8-s-1,u=(1<<l)-1,f=u>>1,h=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:i-1,v=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?e+=h/c:e+=h*Math.pow(2,1-f),e*c>=2&&(o++,c/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*c-1)*Math.pow(2,s),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,s),o=0));s>=8;t[n+m]=a&255,m+=v,a/=256,s-=8);for(o=o<<s|a,l+=s;l>0;t[n+m]=o&255,m+=v,o/=256,l-=8);t[n+m-v]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Pv,n=Y2,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=w,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const q=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(q,N),q.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(q){if(q>s)throw new RangeError('The value "'+q+'" is invalid for option "size"');const N=new Uint8Array(q);return Object.setPrototypeOf(N,a.prototype),N}function a(q,N,M){if(typeof q=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(q)}return c(q,N,M)}a.poolSize=8192;function c(q,N,M){if(typeof q=="string")return h(q,N);if(ArrayBuffer.isView(q))return v(q);if(q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(st(q,ArrayBuffer)||q&&st(q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(st(q,SharedArrayBuffer)||q&&st(q.buffer,SharedArrayBuffer)))return g(q,N,M);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=q.valueOf&&q.valueOf();if(Q!=null&&Q!==q)return a.from(Q,N,M);const Z=y(q);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return a.from(q[Symbol.toPrimitive]("string"),N,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}a.from=function(q,N,M){return c(q,N,M)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function u(q,N,M){return l(q),q<=0?o(q):N!==void 0?typeof M=="string"?o(q).fill(N,M):o(q).fill(N):o(q)}a.alloc=function(q,N,M){return u(q,N,M)};function f(q){return l(q),o(q<0?0:E(q)|0)}a.allocUnsafe=function(q){return f(q)},a.allocUnsafeSlow=function(q){return f(q)};function h(q,N){if((typeof N!="string"||N==="")&&(N="utf8"),!a.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const M=x(q,N)|0;let Q=o(M);const Z=Q.write(q,N);return Z!==M&&(Q=Q.slice(0,Z)),Q}function m(q){const N=q.length<0?0:E(q.length)|0,M=o(N);for(let Q=0;Q<N;Q+=1)M[Q]=q[Q]&255;return M}function v(q){if(st(q,Uint8Array)){const N=new Uint8Array(q);return g(N.buffer,N.byteOffset,N.byteLength)}return m(q)}function g(q,N,M){if(N<0||q.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<N+(M||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return N===void 0&&M===void 0?Q=new Uint8Array(q):M===void 0?Q=new Uint8Array(q,N):Q=new Uint8Array(q,N,M),Object.setPrototypeOf(Q,a.prototype),Q}function y(q){if(a.isBuffer(q)){const N=E(q.length)|0,M=o(N);return M.length===0||q.copy(M,0,0,N),M}if(q.length!==void 0)return typeof q.length!="number"||lt(q.length)?o(0):m(q);if(q.type==="Buffer"&&Array.isArray(q.data))return m(q.data)}function E(q){if(q>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return q|0}function w(q){return+q!=q&&(q=0),a.alloc(+q)}a.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==a.prototype},a.compare=function(N,M){if(st(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),st(M,Uint8Array)&&(M=a.from(M,M.offset,M.byteLength)),!a.isBuffer(N)||!a.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===M)return 0;let Q=N.length,Z=M.length;for(let J=0,re=Math.min(Q,Z);J<re;++J)if(N[J]!==M[J]){Q=N[J],Z=M[J];break}return Q<Z?-1:Z<Q?1:0},a.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(N,M){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return a.alloc(0);let Q;if(M===void 0)for(M=0,Q=0;Q<N.length;++Q)M+=N[Q].length;const Z=a.allocUnsafe(M);let J=0;for(Q=0;Q<N.length;++Q){let re=N[Q];if(st(re,Uint8Array))J+re.length>Z.length?(a.isBuffer(re)||(re=a.from(re)),re.copy(Z,J)):Uint8Array.prototype.set.call(Z,re,J);else if(a.isBuffer(re))re.copy(Z,J);else throw new TypeError('"list" argument must be an Array of Buffers');J+=re.length}return Z};function x(q,N){if(a.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||st(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);const M=q.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&M===0)return 0;let Z=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return rt(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return dt(q).length;default:if(Z)return Q?-1:rt(q).length;N=(""+N).toLowerCase(),Z=!0}}a.byteLength=x;function b(q,N,M){let Q=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,N>>>=0,M<=N))return"";for(q||(q="utf8");;)switch(q){case"hex":return z(this,N,M);case"utf8":case"utf-8":return _(this,N,M);case"ascii":return H(this,N,M);case"latin1":case"binary":return j(this,N,M);case"base64":return S(this,N,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,N,M);default:if(Q)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),Q=!0}}a.prototype._isBuffer=!0;function D(q,N,M){const Q=q[N];q[N]=q[M],q[M]=Q}a.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<N;M+=2)D(this,M,M+1);return this},a.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<N;M+=4)D(this,M,M+3),D(this,M+1,M+2);return this},a.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<N;M+=8)D(this,M,M+7),D(this,M+1,M+6),D(this,M+2,M+5),D(this,M+3,M+4);return this},a.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?_(this,0,N):b.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(N){if(!a.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:a.compare(this,N)===0},a.prototype.inspect=function(){let N="";const M=t.INSPECT_MAX_BYTES;return N=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(N+=" ... "),"<Buffer "+N+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(N,M,Q,Z,J){if(st(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),!a.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(M===void 0&&(M=0),Q===void 0&&(Q=N?N.length:0),Z===void 0&&(Z=0),J===void 0&&(J=this.length),M<0||Q>N.length||Z<0||J>this.length)throw new RangeError("out of range index");if(Z>=J&&M>=Q)return 0;if(Z>=J)return-1;if(M>=Q)return 1;if(M>>>=0,Q>>>=0,Z>>>=0,J>>>=0,this===N)return 0;let re=J-Z,Je=Q-M;const qe=Math.min(re,Je),Qe=this.slice(Z,J),jt=N.slice(M,Q);for(let Fe=0;Fe<qe;++Fe)if(Qe[Fe]!==jt[Fe]){re=Qe[Fe],Je=jt[Fe];break}return re<Je?-1:Je<re?1:0};function L(q,N,M,Q,Z){if(q.length===0)return-1;if(typeof M=="string"?(Q=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,lt(M)&&(M=Z?0:q.length-1),M<0&&(M=q.length+M),M>=q.length){if(Z)return-1;M=q.length-1}else if(M<0)if(Z)M=0;else return-1;if(typeof N=="string"&&(N=a.from(N,Q)),a.isBuffer(N))return N.length===0?-1:T(q,N,M,Q,Z);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(q,N,M):Uint8Array.prototype.lastIndexOf.call(q,N,M):T(q,[N],M,Q,Z);throw new TypeError("val must be string, number or Buffer")}function T(q,N,M,Q,Z){let J=1,re=q.length,Je=N.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(q.length<2||N.length<2)return-1;J=2,re/=2,Je/=2,M/=2}function qe(jt,Fe){return J===1?jt[Fe]:jt.readUInt16BE(Fe*J)}let Qe;if(Z){let jt=-1;for(Qe=M;Qe<re;Qe++)if(qe(q,Qe)===qe(N,jt===-1?0:Qe-jt)){if(jt===-1&&(jt=Qe),Qe-jt+1===Je)return jt*J}else jt!==-1&&(Qe-=Qe-jt),jt=-1}else for(M+Je>re&&(M=re-Je),Qe=M;Qe>=0;Qe--){let jt=!0;for(let Fe=0;Fe<Je;Fe++)if(qe(q,Qe+Fe)!==qe(N,Fe)){jt=!1;break}if(jt)return Qe}return-1}a.prototype.includes=function(N,M,Q){return this.indexOf(N,M,Q)!==-1},a.prototype.indexOf=function(N,M,Q){return L(this,N,M,Q,!0)},a.prototype.lastIndexOf=function(N,M,Q){return L(this,N,M,Q,!1)};function R(q,N,M,Q){M=Number(M)||0;const Z=q.length-M;Q?(Q=Number(Q),Q>Z&&(Q=Z)):Q=Z;const J=N.length;Q>J/2&&(Q=J/2);let re;for(re=0;re<Q;++re){const Je=parseInt(N.substr(re*2,2),16);if(lt(Je))return re;q[M+re]=Je}return re}function F(q,N,M,Q){return ue(rt(N,q.length-M),q,M,Q)}function P(q,N,M,Q){return ue(ht(N),q,M,Q)}function U(q,N,M,Q){return ue(dt(N),q,M,Q)}function W(q,N,M,Q){return ue(zn(N,q.length-M),q,M,Q)}a.prototype.write=function(N,M,Q,Z){if(M===void 0)Z="utf8",Q=this.length,M=0;else if(Q===void 0&&typeof M=="string")Z=M,Q=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(Q)?(Q=Q>>>0,Z===void 0&&(Z="utf8")):(Z=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const J=this.length-M;if((Q===void 0||Q>J)&&(Q=J),N.length>0&&(Q<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");let re=!1;for(;;)switch(Z){case"hex":return R(this,N,M,Q);case"utf8":case"utf-8":return F(this,N,M,Q);case"ascii":case"latin1":case"binary":return P(this,N,M,Q);case"base64":return U(this,N,M,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,N,M,Q);default:if(re)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),re=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(q,N,M){return N===0&&M===q.length?e.fromByteArray(q):e.fromByteArray(q.slice(N,M))}function _(q,N,M){M=Math.min(q.length,M);const Q=[];let Z=N;for(;Z<M;){const J=q[Z];let re=null,Je=J>239?4:J>223?3:J>191?2:1;if(Z+Je<=M){let qe,Qe,jt,Fe;switch(Je){case 1:J<128&&(re=J);break;case 2:qe=q[Z+1],(qe&192)===128&&(Fe=(J&31)<<6|qe&63,Fe>127&&(re=Fe));break;case 3:qe=q[Z+1],Qe=q[Z+2],(qe&192)===128&&(Qe&192)===128&&(Fe=(J&15)<<12|(qe&63)<<6|Qe&63,Fe>2047&&(Fe<55296||Fe>57343)&&(re=Fe));break;case 4:qe=q[Z+1],Qe=q[Z+2],jt=q[Z+3],(qe&192)===128&&(Qe&192)===128&&(jt&192)===128&&(Fe=(J&15)<<18|(qe&63)<<12|(Qe&63)<<6|jt&63,Fe>65535&&Fe<1114112&&(re=Fe))}}re===null?(re=65533,Je=1):re>65535&&(re-=65536,Q.push(re>>>10&1023|55296),re=56320|re&1023),Q.push(re),Z+=Je}return O(Q)}const C=4096;function O(q){const N=q.length;if(N<=C)return String.fromCharCode.apply(String,q);let M="",Q=0;for(;Q<N;)M+=String.fromCharCode.apply(String,q.slice(Q,Q+=C));return M}function H(q,N,M){let Q="";M=Math.min(q.length,M);for(let Z=N;Z<M;++Z)Q+=String.fromCharCode(q[Z]&127);return Q}function j(q,N,M){let Q="";M=Math.min(q.length,M);for(let Z=N;Z<M;++Z)Q+=String.fromCharCode(q[Z]);return Q}function z(q,N,M){const Q=q.length;(!N||N<0)&&(N=0),(!M||M<0||M>Q)&&(M=Q);let Z="";for(let J=N;J<M;++J)Z+=bt[q[J]];return Z}function K(q,N,M){const Q=q.slice(N,M);let Z="";for(let J=0;J<Q.length-1;J+=2)Z+=String.fromCharCode(Q[J]+Q[J+1]*256);return Z}a.prototype.slice=function(N,M){const Q=this.length;N=~~N,M=M===void 0?Q:~~M,N<0?(N+=Q,N<0&&(N=0)):N>Q&&(N=Q),M<0?(M+=Q,M<0&&(M=0)):M>Q&&(M=Q),M<N&&(M=N);const Z=this.subarray(N,M);return Object.setPrototypeOf(Z,a.prototype),Z};function B(q,N,M){if(q%1!==0||q<0)throw new RangeError("offset is not uint");if(q+N>M)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(N,M,Q){N=N>>>0,M=M>>>0,Q||B(N,M,this.length);let Z=this[N],J=1,re=0;for(;++re<M&&(J*=256);)Z+=this[N+re]*J;return Z},a.prototype.readUintBE=a.prototype.readUIntBE=function(N,M,Q){N=N>>>0,M=M>>>0,Q||B(N,M,this.length);let Z=this[N+--M],J=1;for(;M>0&&(J*=256);)Z+=this[N+--M]*J;return Z},a.prototype.readUint8=a.prototype.readUInt8=function(N,M){return N=N>>>0,M||B(N,1,this.length),this[N]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(N,M){return N=N>>>0,M||B(N,2,this.length),this[N]|this[N+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(N,M){return N=N>>>0,M||B(N,2,this.length),this[N]<<8|this[N+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(N,M){return N=N>>>0,M||B(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(N,M){return N=N>>>0,M||B(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},a.prototype.readBigUInt64LE=_n(function(N){N=N>>>0,Oe(N,"offset");const M=this[N],Q=this[N+7];(M===void 0||Q===void 0)&&Te(N,this.length-8);const Z=M+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,J=this[++N]+this[++N]*2**8+this[++N]*2**16+Q*2**24;return BigInt(Z)+(BigInt(J)<<BigInt(32))}),a.prototype.readBigUInt64BE=_n(function(N){N=N>>>0,Oe(N,"offset");const M=this[N],Q=this[N+7];(M===void 0||Q===void 0)&&Te(N,this.length-8);const Z=M*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],J=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+Q;return(BigInt(Z)<<BigInt(32))+BigInt(J)}),a.prototype.readIntLE=function(N,M,Q){N=N>>>0,M=M>>>0,Q||B(N,M,this.length);let Z=this[N],J=1,re=0;for(;++re<M&&(J*=256);)Z+=this[N+re]*J;return J*=128,Z>=J&&(Z-=Math.pow(2,8*M)),Z},a.prototype.readIntBE=function(N,M,Q){N=N>>>0,M=M>>>0,Q||B(N,M,this.length);let Z=M,J=1,re=this[N+--Z];for(;Z>0&&(J*=256);)re+=this[N+--Z]*J;return J*=128,re>=J&&(re-=Math.pow(2,8*M)),re},a.prototype.readInt8=function(N,M){return N=N>>>0,M||B(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},a.prototype.readInt16LE=function(N,M){N=N>>>0,M||B(N,2,this.length);const Q=this[N]|this[N+1]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt16BE=function(N,M){N=N>>>0,M||B(N,2,this.length);const Q=this[N+1]|this[N]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt32LE=function(N,M){return N=N>>>0,M||B(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},a.prototype.readInt32BE=function(N,M){return N=N>>>0,M||B(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},a.prototype.readBigInt64LE=_n(function(N){N=N>>>0,Oe(N,"offset");const M=this[N],Q=this[N+7];(M===void 0||Q===void 0)&&Te(N,this.length-8);const Z=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+(Q<<24);return(BigInt(Z)<<BigInt(32))+BigInt(M+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),a.prototype.readBigInt64BE=_n(function(N){N=N>>>0,Oe(N,"offset");const M=this[N],Q=this[N+7];(M===void 0||Q===void 0)&&Te(N,this.length-8);const Z=(M<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(Z)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+Q)}),a.prototype.readFloatLE=function(N,M){return N=N>>>0,M||B(N,4,this.length),n.read(this,N,!0,23,4)},a.prototype.readFloatBE=function(N,M){return N=N>>>0,M||B(N,4,this.length),n.read(this,N,!1,23,4)},a.prototype.readDoubleLE=function(N,M){return N=N>>>0,M||B(N,8,this.length),n.read(this,N,!0,52,8)},a.prototype.readDoubleBE=function(N,M){return N=N>>>0,M||B(N,8,this.length),n.read(this,N,!1,52,8)};function A(q,N,M,Q,Z,J){if(!a.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>Z||N<J)throw new RangeError('"value" argument is out of bounds');if(M+Q>q.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(N,M,Q,Z){if(N=+N,M=M>>>0,Q=Q>>>0,!Z){const Je=Math.pow(2,8*Q)-1;A(this,N,M,Q,Je,0)}let J=1,re=0;for(this[M]=N&255;++re<Q&&(J*=256);)this[M+re]=N/J&255;return M+Q},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(N,M,Q,Z){if(N=+N,M=M>>>0,Q=Q>>>0,!Z){const Je=Math.pow(2,8*Q)-1;A(this,N,M,Q,Je,0)}let J=Q-1,re=1;for(this[M+J]=N&255;--J>=0&&(re*=256);)this[M+J]=N/re&255;return M+Q},a.prototype.writeUint8=a.prototype.writeUInt8=function(N,M,Q){return N=+N,M=M>>>0,Q||A(this,N,M,1,255,0),this[M]=N&255,M+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(N,M,Q){return N=+N,M=M>>>0,Q||A(this,N,M,2,65535,0),this[M]=N&255,this[M+1]=N>>>8,M+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(N,M,Q){return N=+N,M=M>>>0,Q||A(this,N,M,2,65535,0),this[M]=N>>>8,this[M+1]=N&255,M+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(N,M,Q){return N=+N,M=M>>>0,Q||A(this,N,M,4,4294967295,0),this[M+3]=N>>>24,this[M+2]=N>>>16,this[M+1]=N>>>8,this[M]=N&255,M+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(N,M,Q){return N=+N,M=M>>>0,Q||A(this,N,M,4,4294967295,0),this[M]=N>>>24,this[M+1]=N>>>16,this[M+2]=N>>>8,this[M+3]=N&255,M+4};function $(q,N,M,Q,Z){xe(N,Q,Z,q,M,7);let J=Number(N&BigInt(4294967295));q[M++]=J,J=J>>8,q[M++]=J,J=J>>8,q[M++]=J,J=J>>8,q[M++]=J;let re=Number(N>>BigInt(32)&BigInt(4294967295));return q[M++]=re,re=re>>8,q[M++]=re,re=re>>8,q[M++]=re,re=re>>8,q[M++]=re,M}function X(q,N,M,Q,Z){xe(N,Q,Z,q,M,7);let J=Number(N&BigInt(4294967295));q[M+7]=J,J=J>>8,q[M+6]=J,J=J>>8,q[M+5]=J,J=J>>8,q[M+4]=J;let re=Number(N>>BigInt(32)&BigInt(4294967295));return q[M+3]=re,re=re>>8,q[M+2]=re,re=re>>8,q[M+1]=re,re=re>>8,q[M]=re,M+8}a.prototype.writeBigUInt64LE=_n(function(N,M=0){return $(this,N,M,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=_n(function(N,M=0){return X(this,N,M,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(N,M,Q,Z){if(N=+N,M=M>>>0,!Z){const qe=Math.pow(2,8*Q-1);A(this,N,M,Q,qe-1,-qe)}let J=0,re=1,Je=0;for(this[M]=N&255;++J<Q&&(re*=256);)N<0&&Je===0&&this[M+J-1]!==0&&(Je=1),this[M+J]=(N/re>>0)-Je&255;return M+Q},a.prototype.writeIntBE=function(N,M,Q,Z){if(N=+N,M=M>>>0,!Z){const qe=Math.pow(2,8*Q-1);A(this,N,M,Q,qe-1,-qe)}let J=Q-1,re=1,Je=0;for(this[M+J]=N&255;--J>=0&&(re*=256);)N<0&&Je===0&&this[M+J+1]!==0&&(Je=1),this[M+J]=(N/re>>0)-Je&255;return M+Q},a.prototype.writeInt8=function(N,M,Q){return N=+N,M=M>>>0,Q||A(this,N,M,1,127,-128),N<0&&(N=255+N+1),this[M]=N&255,M+1},a.prototype.writeInt16LE=function(N,M,Q){return N=+N,M=M>>>0,Q||A(this,N,M,2,32767,-32768),this[M]=N&255,this[M+1]=N>>>8,M+2},a.prototype.writeInt16BE=function(N,M,Q){return N=+N,M=M>>>0,Q||A(this,N,M,2,32767,-32768),this[M]=N>>>8,this[M+1]=N&255,M+2},a.prototype.writeInt32LE=function(N,M,Q){return N=+N,M=M>>>0,Q||A(this,N,M,4,2147483647,-2147483648),this[M]=N&255,this[M+1]=N>>>8,this[M+2]=N>>>16,this[M+3]=N>>>24,M+4},a.prototype.writeInt32BE=function(N,M,Q){return N=+N,M=M>>>0,Q||A(this,N,M,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[M]=N>>>24,this[M+1]=N>>>16,this[M+2]=N>>>8,this[M+3]=N&255,M+4},a.prototype.writeBigInt64LE=_n(function(N,M=0){return $(this,N,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=_n(function(N,M=0){return X(this,N,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function oe(q,N,M,Q,Z,J){if(M+Q>q.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function ae(q,N,M,Q,Z){return N=+N,M=M>>>0,Z||oe(q,N,M,4),n.write(q,N,M,Q,23,4),M+4}a.prototype.writeFloatLE=function(N,M,Q){return ae(this,N,M,!0,Q)},a.prototype.writeFloatBE=function(N,M,Q){return ae(this,N,M,!1,Q)};function ce(q,N,M,Q,Z){return N=+N,M=M>>>0,Z||oe(q,N,M,8),n.write(q,N,M,Q,52,8),M+8}a.prototype.writeDoubleLE=function(N,M,Q){return ce(this,N,M,!0,Q)},a.prototype.writeDoubleBE=function(N,M,Q){return ce(this,N,M,!1,Q)},a.prototype.copy=function(N,M,Q,Z){if(!a.isBuffer(N))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!Z&&Z!==0&&(Z=this.length),M>=N.length&&(M=N.length),M||(M=0),Z>0&&Z<Q&&(Z=Q),Z===Q||N.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),N.length-M<Z-Q&&(Z=N.length-M+Q);const J=Z-Q;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,Q,Z):Uint8Array.prototype.set.call(N,this.subarray(Q,Z),M),J},a.prototype.fill=function(N,M,Q,Z){if(typeof N=="string"){if(typeof M=="string"?(Z=M,M=0,Q=this.length):typeof Q=="string"&&(Z=Q,Q=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!a.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(N.length===1){const re=N.charCodeAt(0);(Z==="utf8"&&re<128||Z==="latin1")&&(N=re)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(M<0||this.length<M||this.length<Q)throw new RangeError("Out of range index");if(Q<=M)return this;M=M>>>0,Q=Q===void 0?this.length:Q>>>0,N||(N=0);let J;if(typeof N=="number")for(J=M;J<Q;++J)this[J]=N;else{const re=a.isBuffer(N)?N:a.from(N,Z),Je=re.length;if(Je===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(J=0;J<Q-M;++J)this[J+M]=re[J%Je]}return this};const le={};function ye(q,N,M){le[q]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${q}]`,this.stack,delete this.name}get code(){return q}set code(Z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Z,writable:!0})}toString(){return`${this.name} [${q}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(q){return q?`${q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(q,N){return`The "${q}" argument must be of type number. Received type ${typeof N}`},TypeError),ye("ERR_OUT_OF_RANGE",function(q,N,M){let Q=`The value of "${q}" is out of range.`,Z=M;return Number.isInteger(M)&&Math.abs(M)>2**32?Z=Re(String(M)):typeof M=="bigint"&&(Z=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(Z=Re(Z)),Z+="n"),Q+=` It must be ${N}. Received ${Z}`,Q},RangeError);function Re(q){let N="",M=q.length;const Q=q[0]==="-"?1:0;for(;M>=Q+4;M-=3)N=`_${q.slice(M-3,M)}${N}`;return`${q.slice(0,M)}${N}`}function be(q,N,M){Oe(N,"offset"),(q[N]===void 0||q[N+M]===void 0)&&Te(N,q.length-(M+1))}function xe(q,N,M,Q,Z,J){if(q>M||q<N){const re=typeof N=="bigint"?"n":"";let Je;throw N===0||N===BigInt(0)?Je=`>= 0${re} and < 2${re} ** ${(J+1)*8}${re}`:Je=`>= -(2${re} ** ${(J+1)*8-1}${re}) and < 2 ** ${(J+1)*8-1}${re}`,new le.ERR_OUT_OF_RANGE("value",Je,q)}be(Q,Z,J)}function Oe(q,N){if(typeof q!="number")throw new le.ERR_INVALID_ARG_TYPE(N,"number",q)}function Te(q,N,M){throw Math.floor(q)!==q?(Oe(q,M),new le.ERR_OUT_OF_RANGE("offset","an integer",q)):N<0?new le.ERR_BUFFER_OUT_OF_BOUNDS:new le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,q)}const He=/[^+/0-9A-Za-z-_]/g;function Rt(q){if(q=q.split("=")[0],q=q.trim().replace(He,""),q.length<2)return"";for(;q.length%4!==0;)q=q+"=";return q}function rt(q,N){N=N||1/0;let M;const Q=q.length;let Z=null;const J=[];for(let re=0;re<Q;++re){if(M=q.charCodeAt(re),M>55295&&M<57344){if(!Z){if(M>56319){(N-=3)>-1&&J.push(239,191,189);continue}else if(re+1===Q){(N-=3)>-1&&J.push(239,191,189);continue}Z=M;continue}if(M<56320){(N-=3)>-1&&J.push(239,191,189),Z=M;continue}M=(Z-55296<<10|M-56320)+65536}else Z&&(N-=3)>-1&&J.push(239,191,189);if(Z=null,M<128){if((N-=1)<0)break;J.push(M)}else if(M<2048){if((N-=2)<0)break;J.push(M>>6|192,M&63|128)}else if(M<65536){if((N-=3)<0)break;J.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((N-=4)<0)break;J.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return J}function ht(q){const N=[];for(let M=0;M<q.length;++M)N.push(q.charCodeAt(M)&255);return N}function zn(q,N){let M,Q,Z;const J=[];for(let re=0;re<q.length&&!((N-=2)<0);++re)M=q.charCodeAt(re),Q=M>>8,Z=M%256,J.push(Z),J.push(Q);return J}function dt(q){return e.toByteArray(Rt(q))}function ue(q,N,M,Q){let Z;for(Z=0;Z<Q&&!(Z+M>=N.length||Z>=q.length);++Z)N[Z+M]=q[Z];return Z}function st(q,N){return q instanceof N||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===N.name}function lt(q){return q!==q}const bt=function(){const q="0123456789abcdef",N=new Array(256);for(let M=0;M<16;++M){const Q=M*16;for(let Z=0;Z<16;++Z)N[Q+Z]=q[M]+q[Z]}return N}();function _n(q){return typeof BigInt>"u"?Ze:q}function Ze(){throw new Error("BigInt not supported")}})(nt);globalThis.Buffer=nt.Buffer;globalThis.process={env:{},browser:!0,nextTick:t=>Promise.resolve().then(()=>t())};var t3={exports:{}},zs={},n3={exports:{}},r3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,z){var K=j.length;j.push(z);e:for(;0<K;){var B=K-1>>>1,A=j[B];if(0<s(A,z))j[B]=z,j[K]=A,K=B;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],K=j.pop();if(K!==z){j[0]=K;e:for(var B=0,A=j.length,$=A>>>1;B<$;){var X=2*(B+1)-1,oe=j[X],ae=X+1,ce=j[ae];if(0>s(oe,K))ae<A&&0>s(ce,oe)?(j[B]=ce,j[ae]=K,B=ae):(j[B]=oe,j[X]=K,B=X);else if(ae<A&&0>s(ce,K))j[B]=ce,j[ae]=K,B=ae;else break e}}return z}function s(j,z){var K=j.sortIndex-z.sortIndex;return K!==0?K:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,f=null,h=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var z=n(l);z!==null;){if(z.callback===null)r(l);else if(z.startTime<=j)r(l),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(l)}}function b(j){if(g=!1,x(j),!v)if(n(c)!==null)v=!0,O(D);else{var z=n(l);z!==null&&H(b,z.startTime-j)}}function D(j,z){v=!1,g&&(g=!1,E(R),R=-1),m=!0;var K=h;try{for(x(z),f=n(c);f!==null&&(!(f.expirationTime>z)||j&&!U());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var A=B(f.expirationTime<=z);z=t.unstable_now(),typeof A=="function"?f.callback=A:f===n(c)&&r(c),x(z)}else r(c);f=n(c)}if(f!==null)var $=!0;else{var X=n(l);X!==null&&H(b,X.startTime-z),$=!1}return $}finally{f=null,h=K,m=!1}}var L=!1,T=null,R=-1,F=5,P=-1;function U(){return!(t.unstable_now()-P<F)}function W(){if(T!==null){var j=t.unstable_now();P=j;var z=!0;try{z=T(!0,j)}finally{z?S():(L=!1,T=null)}}else L=!1}var S;if(typeof w=="function")S=function(){w(W)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,C=_.port2;_.port1.onmessage=W,S=function(){C.postMessage(null)}}else S=function(){y(W,0)};function O(j){T=j,L||(L=!0,S())}function H(j,z){R=y(function(){j(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,O(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var K=h;h=z;try{return j()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=h;h=j;try{return z()}finally{h=K}},t.unstable_scheduleCallback=function(j,z,K){var B=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?B+K:B):K=B,j){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=K+A,j={id:u++,callback:z,priorityLevel:j,startTime:K,expirationTime:A,sortIndex:-1},K>B?(j.sortIndex=K,e(l,j),n(c)===null&&j===n(l)&&(g?(E(R),R=-1):g=!0,H(b,K-B))):(j.sortIndex=A,e(c,j),v||m||(v=!0,O(D))),j},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(j){var z=h;return function(){var K=h;h=z;try{return j.apply(this,arguments)}finally{h=K}}}})(r3);n3.exports=r3;var oU=n3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aU=I,Us=oU;function ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s3=new Set,p0={};function iu(t,e){Jd(t,e),Jd(t+"Capture",e)}function Jd(t,e){for(p0[t]=e,t=0;t<e.length;t++)s3.add(e[t])}var Ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Y_=Object.prototype.hasOwnProperty,cU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tI={},nI={};function lU(t){return Y_.call(nI,t)?!0:Y_.call(tI,t)?!1:cU.test(t)?nI[t]=!0:(tI[t]=!0,!1)}function uU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dU(t,e,n,r){if(e===null||typeof e>"u"||uU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ls(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ir[t]=new ls(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ir[e]=new ls(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ir[t]=new ls(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ir[t]=new ls(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ir[t]=new ls(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ir[t]=new ls(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ir[t]=new ls(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ir[t]=new ls(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ir[t]=new ls(t,5,!1,t.toLowerCase(),null,!1,!1)});var X2=/[\-:]([a-z])/g;function Z2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(X2,Z2);Ir[e]=new ls(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(X2,Z2);Ir[e]=new ls(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(X2,Z2);Ir[e]=new ls(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ir[t]=new ls(t,1,!1,t.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new ls("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ir[t]=new ls(t,1,!1,t.toLowerCase(),null,!0,!0)});function J2(t,e,n,r){var s=Ir.hasOwnProperty(e)?Ir[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dU(e,n,s,r)&&(n=null),r||s===null?lU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var aa=aU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gm=Symbol.for("react.element"),nd=Symbol.for("react.portal"),rd=Symbol.for("react.fragment"),eA=Symbol.for("react.strict_mode"),X_=Symbol.for("react.profiler"),i3=Symbol.for("react.provider"),o3=Symbol.for("react.context"),tA=Symbol.for("react.forward_ref"),Z_=Symbol.for("react.suspense"),J_=Symbol.for("react.suspense_list"),nA=Symbol.for("react.memo"),ka=Symbol.for("react.lazy"),a3=Symbol.for("react.offscreen"),rI=Symbol.iterator;function oh(t){return t===null||typeof t!="object"?null:(t=rI&&t[rI]||t["@@iterator"],typeof t=="function"?t:null)}var Nn=Object.assign,Tw;function Sh(t){if(Tw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tw=e&&e[1]||""}return`
`+Tw+t}var Iw=!1;function Rw(t,e){if(!t||Iw)return"";Iw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Iw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sh(t):""}function fU(t){switch(t.tag){case 5:return Sh(t.type);case 16:return Sh("Lazy");case 13:return Sh("Suspense");case 19:return Sh("SuspenseList");case 0:case 2:case 15:return t=Rw(t.type,!1),t;case 11:return t=Rw(t.type.render,!1),t;case 1:return t=Rw(t.type,!0),t;default:return""}}function eE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rd:return"Fragment";case nd:return"Portal";case X_:return"Profiler";case eA:return"StrictMode";case Z_:return"Suspense";case J_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case o3:return(t.displayName||"Context")+".Consumer";case i3:return(t._context.displayName||"Context")+".Provider";case tA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nA:return e=t.displayName||null,e!==null?e:eE(t.type)||"Memo";case ka:e=t._payload,t=t._init;try{return eE(t(e))}catch{}}return null}function hU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eE(e);case 8:return e===eA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ec(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function c3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pU(t){var e=c3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ym(t){t._valueTracker||(t._valueTracker=pU(t))}function l3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=c3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ry(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tE(t,e){var n=e.checked;return Nn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ec(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function u3(t,e){e=e.checked,e!=null&&J2(t,"checked",e,!1)}function nE(t,e){u3(t,e);var n=Ec(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rE(t,e.type,n):e.hasOwnProperty("defaultValue")&&rE(t,e.type,Ec(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rE(t,e,n){(e!=="number"||ry(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ch=Array.isArray;function _d(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ec(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ge(91));return Nn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function oI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ge(92));if(Ch(n)){if(1<n.length)throw Error(ge(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ec(n)}}function d3(t,e){var n=Ec(e.value),r=Ec(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function aI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function f3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?f3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vm,h3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vm=vm||document.createElement("div"),vm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function m0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mU=["Webkit","ms","Moz","O"];Object.keys(qh).forEach(function(t){mU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qh[e]=qh[t]})});function p3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qh.hasOwnProperty(t)&&qh[t]?(""+e).trim():e+"px"}function m3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=p3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var gU=Nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oE(t,e){if(e){if(gU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ge(62))}}function aE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cE=null;function rA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lE=null,Ed=null,bd=null;function cI(t){if(t=dp(t)){if(typeof lE!="function")throw Error(ge(280));var e=t.stateNode;e&&(e=Fv(e),lE(t.stateNode,t.type,e))}}function g3(t){Ed?bd?bd.push(t):bd=[t]:Ed=t}function y3(){if(Ed){var t=Ed,e=bd;if(bd=Ed=null,cI(t),e)for(t=0;t<e.length;t++)cI(e[t])}}function v3(t,e){return t(e)}function x3(){}var kw=!1;function w3(t,e,n){if(kw)return t(e,n);kw=!0;try{return v3(t,e,n)}finally{kw=!1,(Ed!==null||bd!==null)&&(x3(),y3())}}function g0(t,e){var n=t.stateNode;if(n===null)return null;var r=Fv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ge(231,e,typeof n));return n}var uE=!1;if(Ko)try{var ah={};Object.defineProperty(ah,"passive",{get:function(){uE=!0}}),window.addEventListener("test",ah,ah),window.removeEventListener("test",ah,ah)}catch{uE=!1}function yU(t,e,n,r,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var Kh=!1,sy=null,iy=!1,dE=null,vU={onError:function(t){Kh=!0,sy=t}};function xU(t,e,n,r,s,i,o,a,c){Kh=!1,sy=null,yU.apply(vU,arguments)}function wU(t,e,n,r,s,i,o,a,c){if(xU.apply(this,arguments),Kh){if(Kh){var l=sy;Kh=!1,sy=null}else throw Error(ge(198));iy||(iy=!0,dE=l)}}function ou(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lI(t){if(ou(t)!==t)throw Error(ge(188))}function _U(t){var e=t.alternate;if(!e){if(e=ou(t),e===null)throw Error(ge(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lI(s),t;if(i===r)return lI(s),e;i=i.sibling}throw Error(ge(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ge(189))}}if(n.alternate!==r)throw Error(ge(190))}if(n.tag!==3)throw Error(ge(188));return n.stateNode.current===n?t:e}function E3(t){return t=_U(t),t!==null?b3(t):null}function b3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=b3(t);if(e!==null)return e;t=t.sibling}return null}var A3=Us.unstable_scheduleCallback,uI=Us.unstable_cancelCallback,EU=Us.unstable_shouldYield,bU=Us.unstable_requestPaint,Hn=Us.unstable_now,AU=Us.unstable_getCurrentPriorityLevel,sA=Us.unstable_ImmediatePriority,S3=Us.unstable_UserBlockingPriority,oy=Us.unstable_NormalPriority,SU=Us.unstable_LowPriority,C3=Us.unstable_IdlePriority,Bv=null,Gi=null;function CU(t){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(Bv,t,void 0,(t.current.flags&128)===128)}catch{}}var Ei=Math.clz32?Math.clz32:RU,TU=Math.log,IU=Math.LN2;function RU(t){return t>>>=0,t===0?32:31-(TU(t)/IU|0)|0}var xm=64,wm=4194304;function Th(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ay(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Th(a):(i&=o,i!==0&&(r=Th(i)))}else o=n&~s,o!==0?r=Th(o):i!==0&&(r=Th(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ei(e),s=1<<n,r|=t[n],e&=~s;return r}function kU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ei(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=kU(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function fE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function T3(){var t=xm;return xm<<=1,!(xm&4194240)&&(xm=64),t}function Nw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ei(e),t[e]=n}function MU(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ei(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function iA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ei(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Vt=0;function I3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var R3,oA,k3,N3,M3,hE=!1,_m=[],oc=null,ac=null,cc=null,y0=new Map,v0=new Map,Pa=[],DU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dI(t,e){switch(t){case"focusin":case"focusout":oc=null;break;case"dragenter":case"dragleave":ac=null;break;case"mouseover":case"mouseout":cc=null;break;case"pointerover":case"pointerout":y0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":v0.delete(e.pointerId)}}function ch(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=dp(e),e!==null&&oA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function PU(t,e,n,r,s){switch(e){case"focusin":return oc=ch(oc,t,e,n,r,s),!0;case"dragenter":return ac=ch(ac,t,e,n,r,s),!0;case"mouseover":return cc=ch(cc,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return y0.set(i,ch(y0.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,v0.set(i,ch(v0.get(i)||null,t,e,n,r,s)),!0}return!1}function D3(t){var e=cl(t.target);if(e!==null){var n=ou(e);if(n!==null){if(e=n.tag,e===13){if(e=_3(n),e!==null){t.blockedOn=e,M3(t.priority,function(){k3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cE=r,n.target.dispatchEvent(r),cE=null}else return e=dp(n),e!==null&&oA(e),t.blockedOn=n,!1;e.shift()}return!0}function fI(t,e,n){cg(t)&&n.delete(e)}function BU(){hE=!1,oc!==null&&cg(oc)&&(oc=null),ac!==null&&cg(ac)&&(ac=null),cc!==null&&cg(cc)&&(cc=null),y0.forEach(fI),v0.forEach(fI)}function lh(t,e){t.blockedOn===e&&(t.blockedOn=null,hE||(hE=!0,Us.unstable_scheduleCallback(Us.unstable_NormalPriority,BU)))}function x0(t){function e(s){return lh(s,t)}if(0<_m.length){lh(_m[0],t);for(var n=1;n<_m.length;n++){var r=_m[n];r.blockedOn===t&&(r.blockedOn=null)}}for(oc!==null&&lh(oc,t),ac!==null&&lh(ac,t),cc!==null&&lh(cc,t),y0.forEach(e),v0.forEach(e),n=0;n<Pa.length;n++)r=Pa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pa.length&&(n=Pa[0],n.blockedOn===null);)D3(n),n.blockedOn===null&&Pa.shift()}var Ad=aa.ReactCurrentBatchConfig,cy=!0;function OU(t,e,n,r){var s=Vt,i=Ad.transition;Ad.transition=null;try{Vt=1,aA(t,e,n,r)}finally{Vt=s,Ad.transition=i}}function LU(t,e,n,r){var s=Vt,i=Ad.transition;Ad.transition=null;try{Vt=4,aA(t,e,n,r)}finally{Vt=s,Ad.transition=i}}function aA(t,e,n,r){if(cy){var s=pE(t,e,n,r);if(s===null)zw(t,e,r,ly,n),dI(t,r);else if(PU(s,t,e,n,r))r.stopPropagation();else if(dI(t,r),e&4&&-1<DU.indexOf(t)){for(;s!==null;){var i=dp(s);if(i!==null&&R3(i),i=pE(t,e,n,r),i===null&&zw(t,e,r,ly,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else zw(t,e,r,null,n)}}var ly=null;function pE(t,e,n,r){if(ly=null,t=rA(r),t=cl(t),t!==null)if(e=ou(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ly=t,null}function P3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AU()){case sA:return 1;case S3:return 4;case oy:case SU:return 16;case C3:return 536870912;default:return 16}default:return 16}}var Za=null,cA=null,lg=null;function B3(){if(lg)return lg;var t,e=cA,n=e.length,r,s="value"in Za?Za.value:Za.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return lg=s.slice(t,1<r?1-r:void 0)}function ug(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Em(){return!0}function hI(){return!1}function Vs(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Em:hI,this.isPropagationStopped=hI,this}return Nn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Em)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Em)},persist:function(){},isPersistent:Em}),e}var kf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lA=Vs(kf),up=Nn({},kf,{view:0,detail:0}),jU=Vs(up),Mw,Dw,uh,Ov=Nn({},up,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uh&&(uh&&t.type==="mousemove"?(Mw=t.screenX-uh.screenX,Dw=t.screenY-uh.screenY):Dw=Mw=0,uh=t),Mw)},movementY:function(t){return"movementY"in t?t.movementY:Dw}}),pI=Vs(Ov),FU=Nn({},Ov,{dataTransfer:0}),UU=Vs(FU),zU=Nn({},up,{relatedTarget:0}),Pw=Vs(zU),VU=Nn({},kf,{animationName:0,elapsedTime:0,pseudoElement:0}),WU=Vs(VU),$U=Nn({},kf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HU=Vs($U),qU=Nn({},kf,{data:0}),mI=Vs(qU),KU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QU[t])?!!e[t]:!1}function uA(){return YU}var XU=Nn({},up,{key:function(t){if(t.key){var e=KU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ug(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uA,charCode:function(t){return t.type==="keypress"?ug(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ug(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZU=Vs(XU),JU=Nn({},Ov,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gI=Vs(JU),ez=Nn({},up,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uA}),tz=Vs(ez),nz=Nn({},kf,{propertyName:0,elapsedTime:0,pseudoElement:0}),rz=Vs(nz),sz=Nn({},Ov,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iz=Vs(sz),oz=[9,13,27,32],dA=Ko&&"CompositionEvent"in window,Gh=null;Ko&&"documentMode"in document&&(Gh=document.documentMode);var az=Ko&&"TextEvent"in window&&!Gh,O3=Ko&&(!dA||Gh&&8<Gh&&11>=Gh),yI=" ",vI=!1;function L3(t,e){switch(t){case"keyup":return oz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sd=!1;function cz(t,e){switch(t){case"compositionend":return j3(e);case"keypress":return e.which!==32?null:(vI=!0,yI);case"textInput":return t=e.data,t===yI&&vI?null:t;default:return null}}function lz(t,e){if(sd)return t==="compositionend"||!dA&&L3(t,e)?(t=B3(),lg=cA=Za=null,sd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O3&&e.locale!=="ko"?null:e.data;default:return null}}var uz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uz[t.type]:e==="textarea"}function F3(t,e,n,r){g3(r),e=uy(e,"onChange"),0<e.length&&(n=new lA("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qh=null,w0=null;function dz(t){Y3(t,0)}function Lv(t){var e=ad(t);if(l3(e))return t}function fz(t,e){if(t==="change")return e}var U3=!1;if(Ko){var Bw;if(Ko){var Ow="oninput"in document;if(!Ow){var wI=document.createElement("div");wI.setAttribute("oninput","return;"),Ow=typeof wI.oninput=="function"}Bw=Ow}else Bw=!1;U3=Bw&&(!document.documentMode||9<document.documentMode)}function _I(){Qh&&(Qh.detachEvent("onpropertychange",z3),w0=Qh=null)}function z3(t){if(t.propertyName==="value"&&Lv(w0)){var e=[];F3(e,w0,t,rA(t)),w3(dz,e)}}function hz(t,e,n){t==="focusin"?(_I(),Qh=e,w0=n,Qh.attachEvent("onpropertychange",z3)):t==="focusout"&&_I()}function pz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lv(w0)}function mz(t,e){if(t==="click")return Lv(e)}function gz(t,e){if(t==="input"||t==="change")return Lv(e)}function yz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Si=typeof Object.is=="function"?Object.is:yz;function _0(t,e){if(Si(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Y_.call(e,s)||!Si(t[s],e[s]))return!1}return!0}function EI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bI(t,e){var n=EI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=EI(n)}}function V3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?V3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function W3(){for(var t=window,e=ry();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ry(t.document)}return e}function fA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vz(t){var e=W3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&V3(n.ownerDocument.documentElement,n)){if(r!==null&&fA(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=bI(n,i);var o=bI(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xz=Ko&&"documentMode"in document&&11>=document.documentMode,id=null,mE=null,Yh=null,gE=!1;function AI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gE||id==null||id!==ry(r)||(r=id,"selectionStart"in r&&fA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yh&&_0(Yh,r)||(Yh=r,r=uy(mE,"onSelect"),0<r.length&&(e=new lA("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=id)))}function bm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var od={animationend:bm("Animation","AnimationEnd"),animationiteration:bm("Animation","AnimationIteration"),animationstart:bm("Animation","AnimationStart"),transitionend:bm("Transition","TransitionEnd")},Lw={},$3={};Ko&&($3=document.createElement("div").style,"AnimationEvent"in window||(delete od.animationend.animation,delete od.animationiteration.animation,delete od.animationstart.animation),"TransitionEvent"in window||delete od.transitionend.transition);function jv(t){if(Lw[t])return Lw[t];if(!od[t])return t;var e=od[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $3)return Lw[t]=e[n];return t}var H3=jv("animationend"),q3=jv("animationiteration"),K3=jv("animationstart"),G3=jv("transitionend"),Q3=new Map,SI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bc(t,e){Q3.set(t,e),iu(e,[t])}for(var jw=0;jw<SI.length;jw++){var Fw=SI[jw],wz=Fw.toLowerCase(),_z=Fw[0].toUpperCase()+Fw.slice(1);Bc(wz,"on"+_z)}Bc(H3,"onAnimationEnd");Bc(q3,"onAnimationIteration");Bc(K3,"onAnimationStart");Bc("dblclick","onDoubleClick");Bc("focusin","onFocus");Bc("focusout","onBlur");Bc(G3,"onTransitionEnd");Jd("onMouseEnter",["mouseout","mouseover"]);Jd("onMouseLeave",["mouseout","mouseover"]);Jd("onPointerEnter",["pointerout","pointerover"]);Jd("onPointerLeave",["pointerout","pointerover"]);iu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));iu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));iu("onBeforeInput",["compositionend","keypress","textInput","paste"]);iu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));iu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));iu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ez=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ih));function CI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wU(r,e,void 0,t),t.currentTarget=null}function Y3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;CI(s,a,l),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;CI(s,a,l),i=c}}}if(iy)throw t=dE,iy=!1,dE=null,t}function hn(t,e){var n=e[_E];n===void 0&&(n=e[_E]=new Set);var r=t+"__bubble";n.has(r)||(X3(e,t,2,!1),n.add(r))}function Uw(t,e,n){var r=0;e&&(r|=4),X3(n,t,r,e)}var Am="_reactListening"+Math.random().toString(36).slice(2);function E0(t){if(!t[Am]){t[Am]=!0,s3.forEach(function(n){n!=="selectionchange"&&(Ez.has(n)||Uw(n,!1,t),Uw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Am]||(e[Am]=!0,Uw("selectionchange",!1,e))}}function X3(t,e,n,r){switch(P3(e)){case 1:var s=OU;break;case 4:s=LU;break;default:s=aA}n=s.bind(null,e,n,t),s=void 0,!uE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function zw(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=cl(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}w3(function(){var l=i,u=rA(n),f=[];e:{var h=Q3.get(t);if(h!==void 0){var m=lA,v=t;switch(t){case"keypress":if(ug(n)===0)break e;case"keydown":case"keyup":m=ZU;break;case"focusin":v="focus",m=Pw;break;case"focusout":v="blur",m=Pw;break;case"beforeblur":case"afterblur":m=Pw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=UU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tz;break;case H3:case q3:case K3:m=WU;break;case G3:m=rz;break;case"scroll":m=jU;break;case"wheel":m=iz;break;case"copy":case"cut":case"paste":m=HU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gI}var g=(e&4)!==0,y=!g&&t==="scroll",E=g?h!==null?h+"Capture":null:h;g=[];for(var w=l,x;w!==null;){x=w;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,E!==null&&(b=g0(w,E),b!=null&&g.push(b0(w,b,x)))),y)break;w=w.return}0<g.length&&(h=new m(h,v,null,n,u),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==cE&&(v=n.relatedTarget||n.fromElement)&&(cl(v)||v[Go]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=l,v=v?cl(v):null,v!==null&&(y=ou(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=l),m!==v)){if(g=pI,b="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=gI,b="onPointerLeave",E="onPointerEnter",w="pointer"),y=m==null?h:ad(m),x=v==null?h:ad(v),h=new g(b,w+"leave",m,n,u),h.target=y,h.relatedTarget=x,b=null,cl(u)===l&&(g=new g(E,w+"enter",v,n,u),g.target=x,g.relatedTarget=y,b=g),y=b,m&&v)t:{for(g=m,E=v,w=0,x=g;x;x=Du(x))w++;for(x=0,b=E;b;b=Du(b))x++;for(;0<w-x;)g=Du(g),w--;for(;0<x-w;)E=Du(E),x--;for(;w--;){if(g===E||E!==null&&g===E.alternate)break t;g=Du(g),E=Du(E)}g=null}else g=null;m!==null&&TI(f,h,m,g,!1),v!==null&&y!==null&&TI(f,y,v,g,!0)}}e:{if(h=l?ad(l):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var D=fz;else if(xI(h))if(U3)D=gz;else{D=pz;var L=hz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=mz);if(D&&(D=D(t,l))){F3(f,D,n,u);break e}L&&L(t,h,l),t==="focusout"&&(L=h._wrapperState)&&L.controlled&&h.type==="number"&&rE(h,"number",h.value)}switch(L=l?ad(l):window,t){case"focusin":(xI(L)||L.contentEditable==="true")&&(id=L,mE=l,Yh=null);break;case"focusout":Yh=mE=id=null;break;case"mousedown":gE=!0;break;case"contextmenu":case"mouseup":case"dragend":gE=!1,AI(f,n,u);break;case"selectionchange":if(xz)break;case"keydown":case"keyup":AI(f,n,u)}var T;if(dA)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else sd?L3(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(O3&&n.locale!=="ko"&&(sd||R!=="onCompositionStart"?R==="onCompositionEnd"&&sd&&(T=B3()):(Za=u,cA="value"in Za?Za.value:Za.textContent,sd=!0)),L=uy(l,R),0<L.length&&(R=new mI(R,t,null,n,u),f.push({event:R,listeners:L}),T?R.data=T:(T=j3(n),T!==null&&(R.data=T)))),(T=az?cz(t,n):lz(t,n))&&(l=uy(l,"onBeforeInput"),0<l.length&&(u=new mI("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:l}),u.data=T))}Y3(f,e)})}function b0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uy(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=g0(t,n),i!=null&&r.unshift(b0(t,i,s)),i=g0(t,e),i!=null&&r.push(b0(t,i,s))),t=t.return}return r}function Du(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function TI(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,s?(c=g0(n,i),c!=null&&o.unshift(b0(n,c,a))):s||(c=g0(n,i),c!=null&&o.push(b0(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bz=/\r\n?/g,Az=/\u0000|\uFFFD/g;function II(t){return(typeof t=="string"?t:""+t).replace(bz,`
`).replace(Az,"")}function Sm(t,e,n){if(e=II(e),II(t)!==e&&n)throw Error(ge(425))}function dy(){}var yE=null,vE=null;function xE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wE=typeof setTimeout=="function"?setTimeout:void 0,Sz=typeof clearTimeout=="function"?clearTimeout:void 0,RI=typeof Promise=="function"?Promise:void 0,Cz=typeof queueMicrotask=="function"?queueMicrotask:typeof RI<"u"?function(t){return RI.resolve(null).then(t).catch(Tz)}:wE;function Tz(t){setTimeout(function(){throw t})}function Vw(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),x0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);x0(e)}function lc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),$i="__reactFiber$"+Nf,A0="__reactProps$"+Nf,Go="__reactContainer$"+Nf,_E="__reactEvents$"+Nf,Iz="__reactListeners$"+Nf,Rz="__reactHandles$"+Nf;function cl(t){var e=t[$i];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Go]||n[$i]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kI(t);t!==null;){if(n=t[$i])return n;t=kI(t)}return e}t=n,n=t.parentNode}return null}function dp(t){return t=t[$i]||t[Go],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ad(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ge(33))}function Fv(t){return t[A0]||null}var EE=[],cd=-1;function Oc(t){return{current:t}}function pn(t){0>cd||(t.current=EE[cd],EE[cd]=null,cd--)}function rn(t,e){cd++,EE[cd]=t.current,t.current=e}var bc={},Gr=Oc(bc),ws=Oc(!1),Ll=bc;function ef(t,e){var n=t.type.contextTypes;if(!n)return bc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _s(t){return t=t.childContextTypes,t!=null}function fy(){pn(ws),pn(Gr)}function NI(t,e,n){if(Gr.current!==bc)throw Error(ge(168));rn(Gr,e),rn(ws,n)}function Z3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ge(108,hU(t)||"Unknown",s));return Nn({},n,r)}function hy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bc,Ll=Gr.current,rn(Gr,t),rn(ws,ws.current),!0}function MI(t,e,n){var r=t.stateNode;if(!r)throw Error(ge(169));n?(t=Z3(t,e,Ll),r.__reactInternalMemoizedMergedChildContext=t,pn(ws),pn(Gr),rn(Gr,t)):pn(ws),rn(ws,n)}var So=null,Uv=!1,Ww=!1;function J3(t){So===null?So=[t]:So.push(t)}function kz(t){Uv=!0,J3(t)}function Lc(){if(!Ww&&So!==null){Ww=!0;var t=0,e=Vt;try{var n=So;for(Vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}So=null,Uv=!1}catch(s){throw So!==null&&(So=So.slice(t+1)),A3(sA,Lc),s}finally{Vt=e,Ww=!1}}return null}var ld=[],ud=0,py=null,my=0,Qs=[],Ys=0,jl=null,Lo=1,jo="";function Zc(t,e){ld[ud++]=my,ld[ud++]=py,py=t,my=e}function eD(t,e,n){Qs[Ys++]=Lo,Qs[Ys++]=jo,Qs[Ys++]=jl,jl=t;var r=Lo;t=jo;var s=32-Ei(r)-1;r&=~(1<<s),n+=1;var i=32-Ei(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Lo=1<<32-Ei(e)+s|n<<s|r,jo=i+t}else Lo=1<<i|n<<s|r,jo=t}function hA(t){t.return!==null&&(Zc(t,1),eD(t,1,0))}function pA(t){for(;t===py;)py=ld[--ud],ld[ud]=null,my=ld[--ud],ld[ud]=null;for(;t===jl;)jl=Qs[--Ys],Qs[Ys]=null,jo=Qs[--Ys],Qs[Ys]=null,Lo=Qs[--Ys],Qs[Ys]=null}var Ls=null,Bs=null,wn=!1,mi=null;function tD(t,e){var n=Xs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function DI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ls=t,Bs=lc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ls=t,Bs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jl!==null?{id:Lo,overflow:jo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ls=t,Bs=null,!0):!1;default:return!1}}function bE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function AE(t){if(wn){var e=Bs;if(e){var n=e;if(!DI(t,e)){if(bE(t))throw Error(ge(418));e=lc(n.nextSibling);var r=Ls;e&&DI(t,e)?tD(r,n):(t.flags=t.flags&-4097|2,wn=!1,Ls=t)}}else{if(bE(t))throw Error(ge(418));t.flags=t.flags&-4097|2,wn=!1,Ls=t}}}function PI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ls=t}function Cm(t){if(t!==Ls)return!1;if(!wn)return PI(t),wn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xE(t.type,t.memoizedProps)),e&&(e=Bs)){if(bE(t))throw nD(),Error(ge(418));for(;e;)tD(t,e),e=lc(e.nextSibling)}if(PI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bs=lc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bs=null}}else Bs=Ls?lc(t.stateNode.nextSibling):null;return!0}function nD(){for(var t=Bs;t;)t=lc(t.nextSibling)}function tf(){Bs=Ls=null,wn=!1}function mA(t){mi===null?mi=[t]:mi.push(t)}var Nz=aa.ReactCurrentBatchConfig;function dh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ge(309));var r=n.stateNode}if(!r)throw Error(ge(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ge(284));if(!n._owner)throw Error(ge(290,t))}return t}function Tm(t,e){throw t=Object.prototype.toString.call(e),Error(ge(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BI(t){var e=t._init;return e(t._payload)}function rD(t){function e(E,w){if(t){var x=E.deletions;x===null?(E.deletions=[w],E.flags|=16):x.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=hc(E,w),E.index=0,E.sibling=null,E}function i(E,w,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<w?(E.flags|=2,w):x):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,x,b){return w===null||w.tag!==6?(w=Yw(x,E.mode,b),w.return=E,w):(w=s(w,x),w.return=E,w)}function c(E,w,x,b){var D=x.type;return D===rd?u(E,w,x.props.children,b,x.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ka&&BI(D)===w.type)?(b=s(w,x.props),b.ref=dh(E,w,x),b.return=E,b):(b=yg(x.type,x.key,x.props,null,E.mode,b),b.ref=dh(E,w,x),b.return=E,b)}function l(E,w,x,b){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Xw(x,E.mode,b),w.return=E,w):(w=s(w,x.children||[]),w.return=E,w)}function u(E,w,x,b,D){return w===null||w.tag!==7?(w=Rl(x,E.mode,b,D),w.return=E,w):(w=s(w,x),w.return=E,w)}function f(E,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Yw(""+w,E.mode,x),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gm:return x=yg(w.type,w.key,w.props,null,E.mode,x),x.ref=dh(E,null,w),x.return=E,x;case nd:return w=Xw(w,E.mode,x),w.return=E,w;case ka:var b=w._init;return f(E,b(w._payload),x)}if(Ch(w)||oh(w))return w=Rl(w,E.mode,x,null),w.return=E,w;Tm(E,w)}return null}function h(E,w,x,b){var D=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:a(E,w,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case gm:return x.key===D?c(E,w,x,b):null;case nd:return x.key===D?l(E,w,x,b):null;case ka:return D=x._init,h(E,w,D(x._payload),b)}if(Ch(x)||oh(x))return D!==null?null:u(E,w,x,b,null);Tm(E,x)}return null}function m(E,w,x,b,D){if(typeof b=="string"&&b!==""||typeof b=="number")return E=E.get(x)||null,a(w,E,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gm:return E=E.get(b.key===null?x:b.key)||null,c(w,E,b,D);case nd:return E=E.get(b.key===null?x:b.key)||null,l(w,E,b,D);case ka:var L=b._init;return m(E,w,x,L(b._payload),D)}if(Ch(b)||oh(b))return E=E.get(x)||null,u(w,E,b,D,null);Tm(w,b)}return null}function v(E,w,x,b){for(var D=null,L=null,T=w,R=w=0,F=null;T!==null&&R<x.length;R++){T.index>R?(F=T,T=null):F=T.sibling;var P=h(E,T,x[R],b);if(P===null){T===null&&(T=F);break}t&&T&&P.alternate===null&&e(E,T),w=i(P,w,R),L===null?D=P:L.sibling=P,L=P,T=F}if(R===x.length)return n(E,T),wn&&Zc(E,R),D;if(T===null){for(;R<x.length;R++)T=f(E,x[R],b),T!==null&&(w=i(T,w,R),L===null?D=T:L.sibling=T,L=T);return wn&&Zc(E,R),D}for(T=r(E,T);R<x.length;R++)F=m(T,E,R,x[R],b),F!==null&&(t&&F.alternate!==null&&T.delete(F.key===null?R:F.key),w=i(F,w,R),L===null?D=F:L.sibling=F,L=F);return t&&T.forEach(function(U){return e(E,U)}),wn&&Zc(E,R),D}function g(E,w,x,b){var D=oh(x);if(typeof D!="function")throw Error(ge(150));if(x=D.call(x),x==null)throw Error(ge(151));for(var L=D=null,T=w,R=w=0,F=null,P=x.next();T!==null&&!P.done;R++,P=x.next()){T.index>R?(F=T,T=null):F=T.sibling;var U=h(E,T,P.value,b);if(U===null){T===null&&(T=F);break}t&&T&&U.alternate===null&&e(E,T),w=i(U,w,R),L===null?D=U:L.sibling=U,L=U,T=F}if(P.done)return n(E,T),wn&&Zc(E,R),D;if(T===null){for(;!P.done;R++,P=x.next())P=f(E,P.value,b),P!==null&&(w=i(P,w,R),L===null?D=P:L.sibling=P,L=P);return wn&&Zc(E,R),D}for(T=r(E,T);!P.done;R++,P=x.next())P=m(T,E,R,P.value,b),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?R:P.key),w=i(P,w,R),L===null?D=P:L.sibling=P,L=P);return t&&T.forEach(function(W){return e(E,W)}),wn&&Zc(E,R),D}function y(E,w,x,b){if(typeof x=="object"&&x!==null&&x.type===rd&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case gm:e:{for(var D=x.key,L=w;L!==null;){if(L.key===D){if(D=x.type,D===rd){if(L.tag===7){n(E,L.sibling),w=s(L,x.props.children),w.return=E,E=w;break e}}else if(L.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ka&&BI(D)===L.type){n(E,L.sibling),w=s(L,x.props),w.ref=dh(E,L,x),w.return=E,E=w;break e}n(E,L);break}else e(E,L);L=L.sibling}x.type===rd?(w=Rl(x.props.children,E.mode,b,x.key),w.return=E,E=w):(b=yg(x.type,x.key,x.props,null,E.mode,b),b.ref=dh(E,w,x),b.return=E,E=b)}return o(E);case nd:e:{for(L=x.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(E,w.sibling),w=s(w,x.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=Xw(x,E.mode,b),w.return=E,E=w}return o(E);case ka:return L=x._init,y(E,w,L(x._payload),b)}if(Ch(x))return v(E,w,x,b);if(oh(x))return g(E,w,x,b);Tm(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,x),w.return=E,E=w):(n(E,w),w=Yw(x,E.mode,b),w.return=E,E=w),o(E)):n(E,w)}return y}var nf=rD(!0),sD=rD(!1),gy=Oc(null),yy=null,dd=null,gA=null;function yA(){gA=dd=yy=null}function vA(t){var e=gy.current;pn(gy),t._currentValue=e}function SE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Sd(t,e){yy=t,gA=dd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vs=!0),t.firstContext=null)}function ni(t){var e=t._currentValue;if(gA!==t)if(t={context:t,memoizedValue:e,next:null},dd===null){if(yy===null)throw Error(ge(308));dd=t,yy.dependencies={lanes:0,firstContext:t}}else dd=dd.next=t;return e}var ll=null;function xA(t){ll===null?ll=[t]:ll.push(t)}function iD(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,xA(e)):(n.next=s.next,s.next=n),e.interleaved=n,Qo(t,r)}function Qo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Na=!1;function wA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $o(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ct&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Qo(t,n)}return s=r.interleaved,s===null?(e.next=e,xA(r)):(e.next=s.next,s.next=e),r.interleaved=e,Qo(t,n)}function dg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iA(t,n)}}function OI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vy(t,e,n,r){var s=t.updateQueue;Na=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,u=l=c=null,a=i;do{var h=a.lane,m=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(h=e,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=Nn({},f,h);break e;case 2:Na=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=m,c=f):u=u.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ul|=o,t.lanes=o,t.memoizedState=f}}function LI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ge(191,s));s.call(r)}}}var fp={},Qi=Oc(fp),S0=Oc(fp),C0=Oc(fp);function ul(t){if(t===fp)throw Error(ge(174));return t}function _A(t,e){switch(rn(C0,e),rn(S0,t),rn(Qi,fp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iE(e,t)}pn(Qi),rn(Qi,e)}function rf(){pn(Qi),pn(S0),pn(C0)}function aD(t){ul(C0.current);var e=ul(Qi.current),n=iE(e,t.type);e!==n&&(rn(S0,t),rn(Qi,n))}function EA(t){S0.current===t&&(pn(Qi),pn(S0))}var In=Oc(0);function xy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $w=[];function bA(){for(var t=0;t<$w.length;t++)$w[t]._workInProgressVersionPrimary=null;$w.length=0}var fg=aa.ReactCurrentDispatcher,Hw=aa.ReactCurrentBatchConfig,Fl=0,kn=null,rr=null,ur=null,wy=!1,Xh=!1,T0=0,Mz=0;function Mr(){throw Error(ge(321))}function AA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Si(t[n],e[n]))return!1;return!0}function SA(t,e,n,r,s,i){if(Fl=i,kn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fg.current=t===null||t.memoizedState===null?Oz:Lz,t=n(r,s),Xh){i=0;do{if(Xh=!1,T0=0,25<=i)throw Error(ge(301));i+=1,ur=rr=null,e.updateQueue=null,fg.current=jz,t=n(r,s)}while(Xh)}if(fg.current=_y,e=rr!==null&&rr.next!==null,Fl=0,ur=rr=kn=null,wy=!1,e)throw Error(ge(300));return t}function CA(){var t=T0!==0;return T0=0,t}function Fi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?kn.memoizedState=ur=t:ur=ur.next=t,ur}function ri(){if(rr===null){var t=kn.alternate;t=t!==null?t.memoizedState:null}else t=rr.next;var e=ur===null?kn.memoizedState:ur.next;if(e!==null)ur=e,rr=t;else{if(t===null)throw Error(ge(310));rr=t,t={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},ur===null?kn.memoizedState=ur=t:ur=ur.next=t}return ur}function I0(t,e){return typeof e=="function"?e(t):e}function qw(t){var e=ri(),n=e.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=t;var r=rr,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,l=i;do{var u=l.lane;if((Fl&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var f={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,kn.lanes|=u,Ul|=u}l=l.next}while(l!==null&&l!==i);c===null?o=r:c.next=a,Si(r,e.memoizedState)||(vs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,kn.lanes|=i,Ul|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kw(t){var e=ri(),n=e.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Si(i,e.memoizedState)||(vs=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function cD(){}function lD(t,e){var n=kn,r=ri(),s=e(),i=!Si(r.memoizedState,s);if(i&&(r.memoizedState=s,vs=!0),r=r.queue,TA(fD.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ur!==null&&ur.memoizedState.tag&1){if(n.flags|=2048,R0(9,dD.bind(null,n,r,s,e),void 0,null),fr===null)throw Error(ge(349));Fl&30||uD(n,e,s)}return s}function uD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kn.updateQueue,e===null?(e={lastEffect:null,stores:null},kn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dD(t,e,n,r){e.value=n,e.getSnapshot=r,hD(e)&&pD(t)}function fD(t,e,n){return n(function(){hD(e)&&pD(t)})}function hD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Si(t,n)}catch{return!0}}function pD(t){var e=Qo(t,1);e!==null&&bi(e,t,1,-1)}function jI(t){var e=Fi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:I0,lastRenderedState:t},e.queue=t,t=t.dispatch=Bz.bind(null,kn,t),[e.memoizedState,t]}function R0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=kn.updateQueue,e===null?(e={lastEffect:null,stores:null},kn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mD(){return ri().memoizedState}function hg(t,e,n,r){var s=Fi();kn.flags|=t,s.memoizedState=R0(1|e,n,void 0,r===void 0?null:r)}function zv(t,e,n,r){var s=ri();r=r===void 0?null:r;var i=void 0;if(rr!==null){var o=rr.memoizedState;if(i=o.destroy,r!==null&&AA(r,o.deps)){s.memoizedState=R0(e,n,i,r);return}}kn.flags|=t,s.memoizedState=R0(1|e,n,i,r)}function FI(t,e){return hg(8390656,8,t,e)}function TA(t,e){return zv(2048,8,t,e)}function gD(t,e){return zv(4,2,t,e)}function yD(t,e){return zv(4,4,t,e)}function vD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xD(t,e,n){return n=n!=null?n.concat([t]):null,zv(4,4,vD.bind(null,e,t),n)}function IA(){}function wD(t,e){var n=ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&AA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _D(t,e){var n=ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&AA(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ED(t,e,n){return Fl&21?(Si(n,e)||(n=T3(),kn.lanes|=n,Ul|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vs=!0),t.memoizedState=n)}function Dz(t,e){var n=Vt;Vt=n!==0&&4>n?n:4,t(!0);var r=Hw.transition;Hw.transition={};try{t(!1),e()}finally{Vt=n,Hw.transition=r}}function bD(){return ri().memoizedState}function Pz(t,e,n){var r=fc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},AD(t))SD(e,n);else if(n=iD(t,e,n,r),n!==null){var s=is();bi(n,t,r,s),CD(n,e,r)}}function Bz(t,e,n){var r=fc(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(AD(t))SD(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Si(a,o)){var c=e.interleaved;c===null?(s.next=s,xA(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=iD(t,e,s,r),n!==null&&(s=is(),bi(n,t,r,s),CD(n,e,r))}}function AD(t){var e=t.alternate;return t===kn||e!==null&&e===kn}function SD(t,e){Xh=wy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iA(t,n)}}var _y={readContext:ni,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},Oz={readContext:ni,useCallback:function(t,e){return Fi().memoizedState=[t,e===void 0?null:e],t},useContext:ni,useEffect:FI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hg(4194308,4,vD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hg(4194308,4,t,e)},useInsertionEffect:function(t,e){return hg(4,2,t,e)},useMemo:function(t,e){var n=Fi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Pz.bind(null,kn,t),[r.memoizedState,t]},useRef:function(t){var e=Fi();return t={current:t},e.memoizedState=t},useState:jI,useDebugValue:IA,useDeferredValue:function(t){return Fi().memoizedState=t},useTransition:function(){var t=jI(!1),e=t[0];return t=Dz.bind(null,t[1]),Fi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=kn,s=Fi();if(wn){if(n===void 0)throw Error(ge(407));n=n()}else{if(n=e(),fr===null)throw Error(ge(349));Fl&30||uD(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,FI(fD.bind(null,r,i,t),[t]),r.flags|=2048,R0(9,dD.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Fi(),e=fr.identifierPrefix;if(wn){var n=jo,r=Lo;n=(r&~(1<<32-Ei(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=T0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Mz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Lz={readContext:ni,useCallback:wD,useContext:ni,useEffect:TA,useImperativeHandle:xD,useInsertionEffect:gD,useLayoutEffect:yD,useMemo:_D,useReducer:qw,useRef:mD,useState:function(){return qw(I0)},useDebugValue:IA,useDeferredValue:function(t){var e=ri();return ED(e,rr.memoizedState,t)},useTransition:function(){var t=qw(I0)[0],e=ri().memoizedState;return[t,e]},useMutableSource:cD,useSyncExternalStore:lD,useId:bD,unstable_isNewReconciler:!1},jz={readContext:ni,useCallback:wD,useContext:ni,useEffect:TA,useImperativeHandle:xD,useInsertionEffect:gD,useLayoutEffect:yD,useMemo:_D,useReducer:Kw,useRef:mD,useState:function(){return Kw(I0)},useDebugValue:IA,useDeferredValue:function(t){var e=ri();return rr===null?e.memoizedState=t:ED(e,rr.memoizedState,t)},useTransition:function(){var t=Kw(I0)[0],e=ri().memoizedState;return[t,e]},useMutableSource:cD,useSyncExternalStore:lD,useId:bD,unstable_isNewReconciler:!1};function ui(t,e){if(t&&t.defaultProps){e=Nn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function CE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Nn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vv={isMounted:function(t){return(t=t._reactInternals)?ou(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=is(),s=fc(t),i=$o(r,s);i.payload=e,n!=null&&(i.callback=n),e=uc(t,i,s),e!==null&&(bi(e,t,s,r),dg(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=is(),s=fc(t),i=$o(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=uc(t,i,s),e!==null&&(bi(e,t,s,r),dg(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=is(),r=fc(t),s=$o(n,r);s.tag=2,e!=null&&(s.callback=e),e=uc(t,s,r),e!==null&&(bi(e,t,r,n),dg(e,t,r))}};function UI(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!_0(n,r)||!_0(s,i):!0}function TD(t,e,n){var r=!1,s=bc,i=e.contextType;return typeof i=="object"&&i!==null?i=ni(i):(s=_s(e)?Ll:Gr.current,r=e.contextTypes,i=(r=r!=null)?ef(t,s):bc),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function zI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vv.enqueueReplaceState(e,e.state,null)}function TE(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},wA(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ni(i):(i=_s(e)?Ll:Gr.current,s.context=ef(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(CE(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Vv.enqueueReplaceState(s,s.state,null),vy(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sf(t,e){try{var n="",r=e;do n+=fU(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Gw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function IE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Fz=typeof WeakMap=="function"?WeakMap:Map;function ID(t,e,n){n=$o(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){by||(by=!0,jE=r),IE(t,e)},n}function RD(t,e,n){n=$o(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){IE(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){IE(t,e),typeof r!="function"&&(dc===null?dc=new Set([this]):dc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function VI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Fz;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Jz.bind(null,t,e,n),e.then(t,t))}function WI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $I(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$o(-1,1),e.tag=2,uc(n,e,1))),n.lanes|=1),t)}var Uz=aa.ReactCurrentOwner,vs=!1;function es(t,e,n,r){e.child=t===null?sD(e,null,n,r):nf(e,t.child,n,r)}function HI(t,e,n,r,s){n=n.render;var i=e.ref;return Sd(e,s),r=SA(t,e,n,r,i,s),n=CA(),t!==null&&!vs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Yo(t,e,s)):(wn&&n&&hA(e),e.flags|=1,es(t,e,r,s),e.child)}function qI(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!OA(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,kD(t,e,i,r,s)):(t=yg(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_0,n(o,r)&&t.ref===e.ref)return Yo(t,e,s)}return e.flags|=1,t=hc(i,r),t.ref=e.ref,t.return=e,e.child=t}function kD(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(_0(i,r)&&t.ref===e.ref)if(vs=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(vs=!0);else return e.lanes=t.lanes,Yo(t,e,s)}return RE(t,e,n,r,s)}function ND(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(hd,Is),Is|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rn(hd,Is),Is|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,rn(hd,Is),Is|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,rn(hd,Is),Is|=r;return es(t,e,s,n),e.child}function MD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function RE(t,e,n,r,s){var i=_s(n)?Ll:Gr.current;return i=ef(e,i),Sd(e,s),n=SA(t,e,n,r,i,s),r=CA(),t!==null&&!vs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Yo(t,e,s)):(wn&&r&&hA(e),e.flags|=1,es(t,e,n,s),e.child)}function KI(t,e,n,r,s){if(_s(n)){var i=!0;hy(e)}else i=!1;if(Sd(e,s),e.stateNode===null)pg(t,e),TD(e,n,r),TE(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=ni(l):(l=_s(n)?Ll:Gr.current,l=ef(e,l));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&zI(e,o,r,l),Na=!1;var h=e.memoizedState;o.state=h,vy(e,r,o,s),c=e.memoizedState,a!==r||h!==c||ws.current||Na?(typeof u=="function"&&(CE(e,n,u,r),c=e.memoizedState),(a=Na||UI(e,n,a,r,h,c,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,oD(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:ui(e.type,a),o.props=l,f=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ni(c):(c=_s(n)?Ll:Gr.current,c=ef(e,c));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==c)&&zI(e,o,r,c),Na=!1,h=e.memoizedState,o.state=h,vy(e,r,o,s);var v=e.memoizedState;a!==f||h!==v||ws.current||Na?(typeof m=="function"&&(CE(e,n,m,r),v=e.memoizedState),(l=Na||UI(e,n,l,r,h,v,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return kE(t,e,n,r,i,s)}function kE(t,e,n,r,s,i){MD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&MI(e,n,!1),Yo(t,e,i);r=e.stateNode,Uz.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=nf(e,t.child,null,i),e.child=nf(e,null,a,i)):es(t,e,a,i),e.memoizedState=r.state,s&&MI(e,n,!0),e.child}function DD(t){var e=t.stateNode;e.pendingContext?NI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&NI(t,e.context,!1),_A(t,e.containerInfo)}function GI(t,e,n,r,s){return tf(),mA(s),e.flags|=256,es(t,e,n,r),e.child}var NE={dehydrated:null,treeContext:null,retryLane:0};function ME(t){return{baseLanes:t,cachePool:null,transitions:null}}function PD(t,e,n){var r=e.pendingProps,s=In.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),rn(In,s&1),t===null)return AE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hv(o,r,0,null),t=Rl(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ME(n),e.memoizedState=NE,t):RA(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return zz(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=hc(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=hc(a,i):(i=Rl(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ME(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=NE,r}return i=t.child,t=i.sibling,r=hc(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function RA(t,e){return e=Hv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Im(t,e,n,r){return r!==null&&mA(r),nf(e,t.child,null,n),t=RA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zz(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Gw(Error(ge(422))),Im(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Hv({mode:"visible",children:r.children},s,0,null),i=Rl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&nf(e,t.child,null,o),e.child.memoizedState=ME(o),e.memoizedState=NE,i);if(!(e.mode&1))return Im(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ge(419)),r=Gw(i,r,void 0),Im(t,e,o,r)}if(a=(o&t.childLanes)!==0,vs||a){if(r=fr,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Qo(t,s),bi(r,t,s,-1))}return BA(),r=Gw(Error(ge(421))),Im(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=eV.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Bs=lc(s.nextSibling),Ls=e,wn=!0,mi=null,t!==null&&(Qs[Ys++]=Lo,Qs[Ys++]=jo,Qs[Ys++]=jl,Lo=t.id,jo=t.overflow,jl=e),e=RA(e,r.children),e.flags|=4096,e)}function QI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),SE(t.return,e,n)}function Qw(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function BD(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(es(t,e,r.children,n),r=In.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QI(t,n,e);else if(t.tag===19)QI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rn(In,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&xy(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Qw(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xy(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Qw(e,!0,n,null,i);break;case"together":Qw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ul|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ge(153));if(e.child!==null){for(t=e.child,n=hc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Vz(t,e,n){switch(e.tag){case 3:DD(e),tf();break;case 5:aD(e);break;case 1:_s(e.type)&&hy(e);break;case 4:_A(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;rn(gy,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rn(In,In.current&1),e.flags|=128,null):n&e.child.childLanes?PD(t,e,n):(rn(In,In.current&1),t=Yo(t,e,n),t!==null?t.sibling:null);rn(In,In.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BD(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),rn(In,In.current),r)break;return null;case 22:case 23:return e.lanes=0,ND(t,e,n)}return Yo(t,e,n)}var OD,DE,LD,jD;OD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};DE=function(){};LD=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ul(Qi.current);var i=null;switch(n){case"input":s=tE(t,s),r=tE(t,r),i=[];break;case"select":s=Nn({},s,{value:void 0}),r=Nn({},r,{value:void 0}),i=[];break;case"textarea":s=sE(t,s),r=sE(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dy)}oE(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(p0.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(p0.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&hn("scroll",t),i||a===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};jD=function(t,e,n,r){n!==r&&(e.flags|=4)};function fh(t,e){if(!wn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Wz(t,e,n){var r=e.pendingProps;switch(pA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(e),null;case 1:return _s(e.type)&&fy(),Dr(e),null;case 3:return r=e.stateNode,rf(),pn(ws),pn(Gr),bA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mi!==null&&(zE(mi),mi=null))),DE(t,e),Dr(e),null;case 5:EA(e);var s=ul(C0.current);if(n=e.type,t!==null&&e.stateNode!=null)LD(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ge(166));return Dr(e),null}if(t=ul(Qi.current),Cm(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[$i]=e,r[A0]=i,t=(e.mode&1)!==0,n){case"dialog":hn("cancel",r),hn("close",r);break;case"iframe":case"object":case"embed":hn("load",r);break;case"video":case"audio":for(s=0;s<Ih.length;s++)hn(Ih[s],r);break;case"source":hn("error",r);break;case"img":case"image":case"link":hn("error",r),hn("load",r);break;case"details":hn("toggle",r);break;case"input":sI(r,i),hn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},hn("invalid",r);break;case"textarea":oI(r,i),hn("invalid",r)}oE(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Sm(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Sm(r.textContent,a,t),s=["children",""+a]):p0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&hn("scroll",r)}switch(n){case"input":ym(r),iI(r,i,!0);break;case"textarea":ym(r),aI(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=dy)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=f3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[$i]=e,t[A0]=r,OD(t,e,!1,!1),e.stateNode=t;e:{switch(o=aE(n,r),n){case"dialog":hn("cancel",t),hn("close",t),s=r;break;case"iframe":case"object":case"embed":hn("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ih.length;s++)hn(Ih[s],t);s=r;break;case"source":hn("error",t),s=r;break;case"img":case"image":case"link":hn("error",t),hn("load",t),s=r;break;case"details":hn("toggle",t),s=r;break;case"input":sI(t,r),s=tE(t,r),hn("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Nn({},r,{value:void 0}),hn("invalid",t);break;case"textarea":oI(t,r),s=sE(t,r),hn("invalid",t);break;default:s=r}oE(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?m3(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&h3(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&m0(t,c):typeof c=="number"&&m0(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(p0.hasOwnProperty(i)?c!=null&&i==="onScroll"&&hn("scroll",t):c!=null&&J2(t,i,c,o))}switch(n){case"input":ym(t),iI(t,r,!1);break;case"textarea":ym(t),aI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ec(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?_d(t,!!r.multiple,i,!1):r.defaultValue!=null&&_d(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=dy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dr(e),null;case 6:if(t&&e.stateNode!=null)jD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ge(166));if(n=ul(C0.current),ul(Qi.current),Cm(e)){if(r=e.stateNode,n=e.memoizedProps,r[$i]=e,(i=r.nodeValue!==n)&&(t=Ls,t!==null))switch(t.tag){case 3:Sm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sm(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$i]=e,e.stateNode=r}return Dr(e),null;case 13:if(pn(In),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wn&&Bs!==null&&e.mode&1&&!(e.flags&128))nD(),tf(),e.flags|=98560,i=!1;else if(i=Cm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ge(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ge(317));i[$i]=e}else tf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dr(e),i=!1}else mi!==null&&(zE(mi),mi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||In.current&1?ir===0&&(ir=3):BA())),e.updateQueue!==null&&(e.flags|=4),Dr(e),null);case 4:return rf(),DE(t,e),t===null&&E0(e.stateNode.containerInfo),Dr(e),null;case 10:return vA(e.type._context),Dr(e),null;case 17:return _s(e.type)&&fy(),Dr(e),null;case 19:if(pn(In),i=e.memoizedState,i===null)return Dr(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)fh(i,!1);else{if(ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xy(t),o!==null){for(e.flags|=128,fh(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rn(In,In.current&1|2),e.child}t=t.sibling}i.tail!==null&&Hn()>of&&(e.flags|=128,r=!0,fh(i,!1),e.lanes=4194304)}else{if(!r)if(t=xy(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!wn)return Dr(e),null}else 2*Hn()-i.renderingStartTime>of&&n!==1073741824&&(e.flags|=128,r=!0,fh(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Hn(),e.sibling=null,n=In.current,rn(In,r?n&1|2:n&1),e):(Dr(e),null);case 22:case 23:return PA(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Is&1073741824&&(Dr(e),e.subtreeFlags&6&&(e.flags|=8192)):Dr(e),null;case 24:return null;case 25:return null}throw Error(ge(156,e.tag))}function $z(t,e){switch(pA(e),e.tag){case 1:return _s(e.type)&&fy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rf(),pn(ws),pn(Gr),bA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return EA(e),null;case 13:if(pn(In),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ge(340));tf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pn(In),null;case 4:return rf(),null;case 10:return vA(e.type._context),null;case 22:case 23:return PA(),null;case 24:return null;default:return null}}var Rm=!1,$r=!1,Hz=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function fd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Un(t,e,r)}else n.current=null}function PE(t,e,n){try{n()}catch(r){Un(t,e,r)}}var YI=!1;function qz(t,e){if(yE=cy,t=W3(),fA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,f=t,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++l===s&&(a=o),h===i&&++u===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vE={focusedElem:t,selectionRange:n},cy=!1,Ne=e;Ne!==null;)if(e=Ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ne=t;else for(;Ne!==null;){e=Ne;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?g:ui(e.type,g),y);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(b){Un(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Ne=t;break}Ne=e.return}return v=YI,YI=!1,v}function Zh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&PE(e,n,i)}s=s.next}while(s!==r)}}function Wv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function BE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function FD(t){var e=t.alternate;e!==null&&(t.alternate=null,FD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$i],delete e[A0],delete e[_E],delete e[Iz],delete e[Rz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UD(t){return t.tag===5||t.tag===3||t.tag===4}function XI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function OE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dy));else if(r!==4&&(t=t.child,t!==null))for(OE(t,e,n),t=t.sibling;t!==null;)OE(t,e,n),t=t.sibling}function LE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(LE(t,e,n),t=t.sibling;t!==null;)LE(t,e,n),t=t.sibling}var vr=null,pi=!1;function pa(t,e,n){for(n=n.child;n!==null;)zD(t,e,n),n=n.sibling}function zD(t,e,n){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(Bv,n)}catch{}switch(n.tag){case 5:$r||fd(n,e);case 6:var r=vr,s=pi;vr=null,pa(t,e,n),vr=r,pi=s,vr!==null&&(pi?(t=vr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vr.removeChild(n.stateNode));break;case 18:vr!==null&&(pi?(t=vr,n=n.stateNode,t.nodeType===8?Vw(t.parentNode,n):t.nodeType===1&&Vw(t,n),x0(t)):Vw(vr,n.stateNode));break;case 4:r=vr,s=pi,vr=n.stateNode.containerInfo,pi=!0,pa(t,e,n),vr=r,pi=s;break;case 0:case 11:case 14:case 15:if(!$r&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&PE(n,e,o),s=s.next}while(s!==r)}pa(t,e,n);break;case 1:if(!$r&&(fd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Un(n,e,a)}pa(t,e,n);break;case 21:pa(t,e,n);break;case 22:n.mode&1?($r=(r=$r)||n.memoizedState!==null,pa(t,e,n),$r=r):pa(t,e,n);break;default:pa(t,e,n)}}function ZI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Hz),e.forEach(function(r){var s=tV.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function oi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vr=a.stateNode,pi=!1;break e;case 3:vr=a.stateNode.containerInfo,pi=!0;break e;case 4:vr=a.stateNode.containerInfo,pi=!0;break e}a=a.return}if(vr===null)throw Error(ge(160));zD(i,o,s),vr=null,pi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){Un(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VD(e,t),e=e.sibling}function VD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(oi(e,t),Pi(t),r&4){try{Zh(3,t,t.return),Wv(3,t)}catch(g){Un(t,t.return,g)}try{Zh(5,t,t.return)}catch(g){Un(t,t.return,g)}}break;case 1:oi(e,t),Pi(t),r&512&&n!==null&&fd(n,n.return);break;case 5:if(oi(e,t),Pi(t),r&512&&n!==null&&fd(n,n.return),t.flags&32){var s=t.stateNode;try{m0(s,"")}catch(g){Un(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&u3(s,i),aE(a,o);var l=aE(a,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?m3(s,f):u==="dangerouslySetInnerHTML"?h3(s,f):u==="children"?m0(s,f):J2(s,u,f,l)}switch(a){case"input":nE(s,i);break;case"textarea":d3(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?_d(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?_d(s,!!i.multiple,i.defaultValue,!0):_d(s,!!i.multiple,i.multiple?[]:"",!1))}s[A0]=i}catch(g){Un(t,t.return,g)}}break;case 6:if(oi(e,t),Pi(t),r&4){if(t.stateNode===null)throw Error(ge(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Un(t,t.return,g)}}break;case 3:if(oi(e,t),Pi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{x0(e.containerInfo)}catch(g){Un(t,t.return,g)}break;case 4:oi(e,t),Pi(t);break;case 13:oi(e,t),Pi(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(MA=Hn())),r&4&&ZI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?($r=(l=$r)||u,oi(e,t),$r=l):oi(e,t),Pi(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(Ne=t,u=t.child;u!==null;){for(f=Ne=u;Ne!==null;){switch(h=Ne,m=h.child,h.tag){case 0:case 11:case 14:case 15:Zh(4,h,h.return);break;case 1:fd(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Un(r,n,g)}}break;case 5:fd(h,h.return);break;case 22:if(h.memoizedState!==null){e4(f);continue}}m!==null?(m.return=h,Ne=m):e4(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=p3("display",o))}catch(g){Un(t,t.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){Un(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:oi(e,t),Pi(t),r&4&&ZI(t);break;case 21:break;default:oi(e,t),Pi(t)}}function Pi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UD(n)){var r=n;break e}n=n.return}throw Error(ge(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(m0(s,""),r.flags&=-33);var i=XI(t);LE(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=XI(t);OE(t,a,o);break;default:throw Error(ge(161))}}catch(c){Un(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kz(t,e,n){Ne=t,WD(t)}function WD(t,e,n){for(var r=(t.mode&1)!==0;Ne!==null;){var s=Ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Rm;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||$r;a=Rm;var l=$r;if(Rm=o,($r=c)&&!l)for(Ne=s;Ne!==null;)o=Ne,c=o.child,o.tag===22&&o.memoizedState!==null?t4(s):c!==null?(c.return=o,Ne=c):t4(s);for(;i!==null;)Ne=i,WD(i),i=i.sibling;Ne=s,Rm=a,$r=l}JI(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ne=i):JI(t)}}function JI(t){for(;Ne!==null;){var e=Ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$r||Wv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$r)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ui(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&LI(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}LI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&x0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}$r||e.flags&512&&BE(e)}catch(h){Un(e,e.return,h)}}if(e===t){Ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function e4(t){for(;Ne!==null;){var e=Ne;if(e===t){Ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function t4(t){for(;Ne!==null;){var e=Ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wv(4,e)}catch(c){Un(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Un(e,s,c)}}var i=e.return;try{BE(e)}catch(c){Un(e,i,c)}break;case 5:var o=e.return;try{BE(e)}catch(c){Un(e,o,c)}}}catch(c){Un(e,e.return,c)}if(e===t){Ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ne=a;break}Ne=e.return}}var Gz=Math.ceil,Ey=aa.ReactCurrentDispatcher,kA=aa.ReactCurrentOwner,Zs=aa.ReactCurrentBatchConfig,Ct=0,fr=null,Jn=null,Sr=0,Is=0,hd=Oc(0),ir=0,k0=null,Ul=0,$v=0,NA=0,Jh=null,gs=null,MA=0,of=1/0,Ao=null,by=!1,jE=null,dc=null,km=!1,Ja=null,Ay=0,e0=0,FE=null,mg=-1,gg=0;function is(){return Ct&6?Hn():mg!==-1?mg:mg=Hn()}function fc(t){return t.mode&1?Ct&2&&Sr!==0?Sr&-Sr:Nz.transition!==null?(gg===0&&(gg=T3()),gg):(t=Vt,t!==0||(t=window.event,t=t===void 0?16:P3(t.type)),t):1}function bi(t,e,n,r){if(50<e0)throw e0=0,FE=null,Error(ge(185));lp(t,n,r),(!(Ct&2)||t!==fr)&&(t===fr&&(!(Ct&2)&&($v|=n),ir===4&&Ba(t,Sr)),Es(t,r),n===1&&Ct===0&&!(e.mode&1)&&(of=Hn()+500,Uv&&Lc()))}function Es(t,e){var n=t.callbackNode;NU(t,e);var r=ay(t,t===fr?Sr:0);if(r===0)n!==null&&uI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uI(n),e===1)t.tag===0?kz(n4.bind(null,t)):J3(n4.bind(null,t)),Cz(function(){!(Ct&6)&&Lc()}),n=null;else{switch(I3(r)){case 1:n=sA;break;case 4:n=S3;break;case 16:n=oy;break;case 536870912:n=C3;break;default:n=oy}n=XD(n,$D.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $D(t,e){if(mg=-1,gg=0,Ct&6)throw Error(ge(327));var n=t.callbackNode;if(Cd()&&t.callbackNode!==n)return null;var r=ay(t,t===fr?Sr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sy(t,r);else{e=r;var s=Ct;Ct|=2;var i=qD();(fr!==t||Sr!==e)&&(Ao=null,of=Hn()+500,Il(t,e));do try{Xz();break}catch(a){HD(t,a)}while(!0);yA(),Ey.current=i,Ct=s,Jn!==null?e=0:(fr=null,Sr=0,e=ir)}if(e!==0){if(e===2&&(s=fE(t),s!==0&&(r=s,e=UE(t,s))),e===1)throw n=k0,Il(t,0),Ba(t,r),Es(t,Hn()),n;if(e===6)Ba(t,r);else{if(s=t.current.alternate,!(r&30)&&!Qz(s)&&(e=Sy(t,r),e===2&&(i=fE(t),i!==0&&(r=i,e=UE(t,i))),e===1))throw n=k0,Il(t,0),Ba(t,r),Es(t,Hn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ge(345));case 2:Jc(t,gs,Ao);break;case 3:if(Ba(t,r),(r&130023424)===r&&(e=MA+500-Hn(),10<e)){if(ay(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){is(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=wE(Jc.bind(null,t,gs,Ao),e);break}Jc(t,gs,Ao);break;case 4:if(Ba(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ei(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Hn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gz(r/1960))-r,10<r){t.timeoutHandle=wE(Jc.bind(null,t,gs,Ao),r);break}Jc(t,gs,Ao);break;case 5:Jc(t,gs,Ao);break;default:throw Error(ge(329))}}}return Es(t,Hn()),t.callbackNode===n?$D.bind(null,t):null}function UE(t,e){var n=Jh;return t.current.memoizedState.isDehydrated&&(Il(t,e).flags|=256),t=Sy(t,e),t!==2&&(e=gs,gs=n,e!==null&&zE(e)),t}function zE(t){gs===null?gs=t:gs.push.apply(gs,t)}function Qz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Si(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ba(t,e){for(e&=~NA,e&=~$v,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ei(e),r=1<<n;t[n]=-1,e&=~r}}function n4(t){if(Ct&6)throw Error(ge(327));Cd();var e=ay(t,0);if(!(e&1))return Es(t,Hn()),null;var n=Sy(t,e);if(t.tag!==0&&n===2){var r=fE(t);r!==0&&(e=r,n=UE(t,r))}if(n===1)throw n=k0,Il(t,0),Ba(t,e),Es(t,Hn()),n;if(n===6)throw Error(ge(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jc(t,gs,Ao),Es(t,Hn()),null}function DA(t,e){var n=Ct;Ct|=1;try{return t(e)}finally{Ct=n,Ct===0&&(of=Hn()+500,Uv&&Lc())}}function zl(t){Ja!==null&&Ja.tag===0&&!(Ct&6)&&Cd();var e=Ct;Ct|=1;var n=Zs.transition,r=Vt;try{if(Zs.transition=null,Vt=1,t)return t()}finally{Vt=r,Zs.transition=n,Ct=e,!(Ct&6)&&Lc()}}function PA(){Is=hd.current,pn(hd)}function Il(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Sz(n)),Jn!==null)for(n=Jn.return;n!==null;){var r=n;switch(pA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fy();break;case 3:rf(),pn(ws),pn(Gr),bA();break;case 5:EA(r);break;case 4:rf();break;case 13:pn(In);break;case 19:pn(In);break;case 10:vA(r.type._context);break;case 22:case 23:PA()}n=n.return}if(fr=t,Jn=t=hc(t.current,null),Sr=Is=e,ir=0,k0=null,NA=$v=Ul=0,gs=Jh=null,ll!==null){for(e=0;e<ll.length;e++)if(n=ll[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ll=null}return t}function HD(t,e){do{var n=Jn;try{if(yA(),fg.current=_y,wy){for(var r=kn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wy=!1}if(Fl=0,ur=rr=kn=null,Xh=!1,T0=0,kA.current=null,n===null||n.return===null){ir=1,k0=e,Jn=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Sr,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=WI(o);if(m!==null){m.flags&=-257,$I(m,o,a,i,e),m.mode&1&&VI(i,l,e),e=m,c=l;var v=e.updateQueue;if(v===null){var g=new Set;g.add(c),e.updateQueue=g}else v.add(c);break e}else{if(!(e&1)){VI(i,l,e),BA();break e}c=Error(ge(426))}}else if(wn&&a.mode&1){var y=WI(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),$I(y,o,a,i,e),mA(sf(c,a));break e}}i=c=sf(c,a),ir!==4&&(ir=2),Jh===null?Jh=[i]:Jh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=ID(i,c,e);OI(i,E);break e;case 1:a=c;var w=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(dc===null||!dc.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=RD(i,a,e);OI(i,b);break e}}i=i.return}while(i!==null)}GD(n)}catch(D){e=D,Jn===n&&n!==null&&(Jn=n=n.return);continue}break}while(!0)}function qD(){var t=Ey.current;return Ey.current=_y,t===null?_y:t}function BA(){(ir===0||ir===3||ir===2)&&(ir=4),fr===null||!(Ul&268435455)&&!($v&268435455)||Ba(fr,Sr)}function Sy(t,e){var n=Ct;Ct|=2;var r=qD();(fr!==t||Sr!==e)&&(Ao=null,Il(t,e));do try{Yz();break}catch(s){HD(t,s)}while(!0);if(yA(),Ct=n,Ey.current=r,Jn!==null)throw Error(ge(261));return fr=null,Sr=0,ir}function Yz(){for(;Jn!==null;)KD(Jn)}function Xz(){for(;Jn!==null&&!EU();)KD(Jn)}function KD(t){var e=YD(t.alternate,t,Is);t.memoizedProps=t.pendingProps,e===null?GD(t):Jn=e,kA.current=null}function GD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$z(n,e),n!==null){n.flags&=32767,Jn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ir=6,Jn=null;return}}else if(n=Wz(n,e,Is),n!==null){Jn=n;return}if(e=e.sibling,e!==null){Jn=e;return}Jn=e=t}while(e!==null);ir===0&&(ir=5)}function Jc(t,e,n){var r=Vt,s=Zs.transition;try{Zs.transition=null,Vt=1,Zz(t,e,n,r)}finally{Zs.transition=s,Vt=r}return null}function Zz(t,e,n,r){do Cd();while(Ja!==null);if(Ct&6)throw Error(ge(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ge(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(MU(t,i),t===fr&&(Jn=fr=null,Sr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||km||(km=!0,XD(oy,function(){return Cd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Zs.transition,Zs.transition=null;var o=Vt;Vt=1;var a=Ct;Ct|=4,kA.current=null,qz(t,n),VD(n,t),vz(vE),cy=!!yE,vE=yE=null,t.current=n,Kz(n),bU(),Ct=a,Vt=o,Zs.transition=i}else t.current=n;if(km&&(km=!1,Ja=t,Ay=s),i=t.pendingLanes,i===0&&(dc=null),CU(n.stateNode),Es(t,Hn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(by)throw by=!1,t=jE,jE=null,t;return Ay&1&&t.tag!==0&&Cd(),i=t.pendingLanes,i&1?t===FE?e0++:(e0=0,FE=t):e0=0,Lc(),null}function Cd(){if(Ja!==null){var t=I3(Ay),e=Zs.transition,n=Vt;try{if(Zs.transition=null,Vt=16>t?16:t,Ja===null)var r=!1;else{if(t=Ja,Ja=null,Ay=0,Ct&6)throw Error(ge(331));var s=Ct;for(Ct|=4,Ne=t.current;Ne!==null;){var i=Ne,o=i.child;if(Ne.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(Ne=l;Ne!==null;){var u=Ne;switch(u.tag){case 0:case 11:case 15:Zh(8,u,i)}var f=u.child;if(f!==null)f.return=u,Ne=f;else for(;Ne!==null;){u=Ne;var h=u.sibling,m=u.return;if(FD(u),u===l){Ne=null;break}if(h!==null){h.return=m,Ne=h;break}Ne=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ne=o;else e:for(;Ne!==null;){if(i=Ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zh(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,Ne=E;break e}Ne=i.return}}var w=t.current;for(Ne=w;Ne!==null;){o=Ne;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Ne=x;else e:for(o=w;Ne!==null;){if(a=Ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wv(9,a)}}catch(D){Un(a,a.return,D)}if(a===o){Ne=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Ne=b;break e}Ne=a.return}}if(Ct=s,Lc(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(Bv,t)}catch{}r=!0}return r}finally{Vt=n,Zs.transition=e}}return!1}function r4(t,e,n){e=sf(n,e),e=ID(t,e,1),t=uc(t,e,1),e=is(),t!==null&&(lp(t,1,e),Es(t,e))}function Un(t,e,n){if(t.tag===3)r4(t,t,n);else for(;e!==null;){if(e.tag===3){r4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dc===null||!dc.has(r))){t=sf(n,t),t=RD(e,t,1),e=uc(e,t,1),t=is(),e!==null&&(lp(e,1,t),Es(e,t));break}}e=e.return}}function Jz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=is(),t.pingedLanes|=t.suspendedLanes&n,fr===t&&(Sr&n)===n&&(ir===4||ir===3&&(Sr&130023424)===Sr&&500>Hn()-MA?Il(t,0):NA|=n),Es(t,e)}function QD(t,e){e===0&&(t.mode&1?(e=wm,wm<<=1,!(wm&130023424)&&(wm=4194304)):e=1);var n=is();t=Qo(t,e),t!==null&&(lp(t,e,n),Es(t,n))}function eV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QD(t,n)}function tV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ge(314))}r!==null&&r.delete(e),QD(t,n)}var YD;YD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ws.current)vs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vs=!1,Vz(t,e,n);vs=!!(t.flags&131072)}else vs=!1,wn&&e.flags&1048576&&eD(e,my,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pg(t,e),t=e.pendingProps;var s=ef(e,Gr.current);Sd(e,n),s=SA(null,e,r,t,s,n);var i=CA();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_s(r)?(i=!0,hy(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wA(e),s.updater=Vv,e.stateNode=s,s._reactInternals=e,TE(e,r,t,n),e=kE(null,e,r,!0,i,n)):(e.tag=0,wn&&i&&hA(e),es(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pg(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=rV(r),t=ui(r,t),s){case 0:e=RE(null,e,r,t,n);break e;case 1:e=KI(null,e,r,t,n);break e;case 11:e=HI(null,e,r,t,n);break e;case 14:e=qI(null,e,r,ui(r.type,t),n);break e}throw Error(ge(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ui(r,s),RE(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ui(r,s),KI(t,e,r,s,n);case 3:e:{if(DD(e),t===null)throw Error(ge(387));r=e.pendingProps,i=e.memoizedState,s=i.element,oD(t,e),vy(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=sf(Error(ge(423)),e),e=GI(t,e,r,n,s);break e}else if(r!==s){s=sf(Error(ge(424)),e),e=GI(t,e,r,n,s);break e}else for(Bs=lc(e.stateNode.containerInfo.firstChild),Ls=e,wn=!0,mi=null,n=sD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tf(),r===s){e=Yo(t,e,n);break e}es(t,e,r,n)}e=e.child}return e;case 5:return aD(e),t===null&&AE(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,xE(r,s)?o=null:i!==null&&xE(r,i)&&(e.flags|=32),MD(t,e),es(t,e,o,n),e.child;case 6:return t===null&&AE(e),null;case 13:return PD(t,e,n);case 4:return _A(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nf(e,null,r,n):es(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ui(r,s),HI(t,e,r,s,n);case 7:return es(t,e,e.pendingProps,n),e.child;case 8:return es(t,e,e.pendingProps.children,n),e.child;case 12:return es(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,rn(gy,r._currentValue),r._currentValue=o,i!==null)if(Si(i.value,o)){if(i.children===s.children&&!ws.current){e=Yo(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=$o(-1,n&-n),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),SE(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ge(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),SE(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}es(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Sd(e,n),s=ni(s),r=r(s),e.flags|=1,es(t,e,r,n),e.child;case 14:return r=e.type,s=ui(r,e.pendingProps),s=ui(r.type,s),qI(t,e,r,s,n);case 15:return kD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ui(r,s),pg(t,e),e.tag=1,_s(r)?(t=!0,hy(e)):t=!1,Sd(e,n),TD(e,r,s),TE(e,r,s,n),kE(null,e,r,!0,t,n);case 19:return BD(t,e,n);case 22:return ND(t,e,n)}throw Error(ge(156,e.tag))};function XD(t,e){return A3(t,e)}function nV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(t,e,n,r){return new nV(t,e,n,r)}function OA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rV(t){if(typeof t=="function")return OA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tA)return 11;if(t===nA)return 14}return 2}function hc(t,e){var n=t.alternate;return n===null?(n=Xs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yg(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")OA(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case rd:return Rl(n.children,s,i,e);case eA:o=8,s|=8;break;case X_:return t=Xs(12,n,e,s|2),t.elementType=X_,t.lanes=i,t;case Z_:return t=Xs(13,n,e,s),t.elementType=Z_,t.lanes=i,t;case J_:return t=Xs(19,n,e,s),t.elementType=J_,t.lanes=i,t;case a3:return Hv(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case i3:o=10;break e;case o3:o=9;break e;case tA:o=11;break e;case nA:o=14;break e;case ka:o=16,r=null;break e}throw Error(ge(130,t==null?t:typeof t,""))}return e=Xs(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Rl(t,e,n,r){return t=Xs(7,t,r,e),t.lanes=n,t}function Hv(t,e,n,r){return t=Xs(22,t,r,e),t.elementType=a3,t.lanes=n,t.stateNode={isHidden:!1},t}function Yw(t,e,n){return t=Xs(6,t,null,e),t.lanes=n,t}function Xw(t,e,n){return e=Xs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sV(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nw(0),this.expirationTimes=Nw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nw(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function LA(t,e,n,r,s,i,o,a,c){return t=new sV(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wA(i),t}function iV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZD(t){if(!t)return bc;t=t._reactInternals;e:{if(ou(t)!==t||t.tag!==1)throw Error(ge(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_s(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ge(171))}if(t.tag===1){var n=t.type;if(_s(n))return Z3(t,n,e)}return e}function JD(t,e,n,r,s,i,o,a,c){return t=LA(n,r,!0,t,s,i,o,a,c),t.context=ZD(null),n=t.current,r=is(),s=fc(n),i=$o(r,s),i.callback=e??null,uc(n,i,s),t.current.lanes=s,lp(t,s,r),Es(t,r),t}function qv(t,e,n,r){var s=e.current,i=is(),o=fc(s);return n=ZD(n),e.context===null?e.context=n:e.pendingContext=n,e=$o(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=uc(s,e,o),t!==null&&(bi(t,s,o,i),dg(t,s,o)),o}function Cy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function s4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jA(t,e){s4(t,e),(t=t.alternate)&&s4(t,e)}function oV(){return null}var eP=typeof reportError=="function"?reportError:function(t){console.error(t)};function FA(t){this._internalRoot=t}Kv.prototype.render=FA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ge(409));qv(t,e,null,null)};Kv.prototype.unmount=FA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zl(function(){qv(null,t,null,null)}),e[Go]=null}};function Kv(t){this._internalRoot=t}Kv.prototype.unstable_scheduleHydration=function(t){if(t){var e=N3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pa.length&&e!==0&&e<Pa[n].priority;n++);Pa.splice(n,0,t),n===0&&D3(t)}};function UA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function i4(){}function aV(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=Cy(o);i.call(l)}}var o=JD(e,r,t,0,null,!1,!1,"",i4);return t._reactRootContainer=o,t[Go]=o.current,E0(t.nodeType===8?t.parentNode:t),zl(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=Cy(c);a.call(l)}}var c=LA(t,0,!1,null,null,!1,!1,"",i4);return t._reactRootContainer=c,t[Go]=c.current,E0(t.nodeType===8?t.parentNode:t),zl(function(){qv(e,c,n,r)}),c}function Qv(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Cy(o);a.call(c)}}qv(e,o,t,s)}else o=aV(n,e,t,s,r);return Cy(o)}R3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Th(e.pendingLanes);n!==0&&(iA(e,n|1),Es(e,Hn()),!(Ct&6)&&(of=Hn()+500,Lc()))}break;case 13:zl(function(){var r=Qo(t,1);if(r!==null){var s=is();bi(r,t,1,s)}}),jA(t,1)}};oA=function(t){if(t.tag===13){var e=Qo(t,134217728);if(e!==null){var n=is();bi(e,t,134217728,n)}jA(t,134217728)}};k3=function(t){if(t.tag===13){var e=fc(t),n=Qo(t,e);if(n!==null){var r=is();bi(n,t,e,r)}jA(t,e)}};N3=function(){return Vt};M3=function(t,e){var n=Vt;try{return Vt=t,e()}finally{Vt=n}};lE=function(t,e,n){switch(e){case"input":if(nE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Fv(r);if(!s)throw Error(ge(90));l3(r),nE(r,s)}}}break;case"textarea":d3(t,n);break;case"select":e=n.value,e!=null&&_d(t,!!n.multiple,e,!1)}};v3=DA;x3=zl;var cV={usingClientEntryPoint:!1,Events:[dp,ad,Fv,g3,y3,DA]},hh={findFiberByHostInstance:cl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lV={bundleType:hh.bundleType,version:hh.version,rendererPackageName:hh.rendererPackageName,rendererConfig:hh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=E3(t),t===null?null:t.stateNode},findFiberByHostInstance:hh.findFiberByHostInstance||oV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nm.isDisabled&&Nm.supportsFiber)try{Bv=Nm.inject(lV),Gi=Nm}catch{}}zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cV;zs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UA(e))throw Error(ge(200));return iV(t,e,null,n)};zs.createRoot=function(t,e){if(!UA(t))throw Error(ge(299));var n=!1,r="",s=eP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=LA(t,1,!1,null,null,n,!1,r,s),t[Go]=e.current,E0(t.nodeType===8?t.parentNode:t),new FA(e)};zs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ge(188)):(t=Object.keys(t).join(","),Error(ge(268,t)));return t=E3(e),t=t===null?null:t.stateNode,t};zs.flushSync=function(t){return zl(t)};zs.hydrate=function(t,e,n){if(!Gv(e))throw Error(ge(200));return Qv(null,t,e,!0,n)};zs.hydrateRoot=function(t,e,n){if(!UA(t))throw Error(ge(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=eP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=JD(e,null,t,1,n??null,s,!1,i,o),t[Go]=e.current,E0(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Kv(e)};zs.render=function(t,e,n){if(!Gv(e))throw Error(ge(200));return Qv(null,t,e,!1,n)};zs.unmountComponentAtNode=function(t){if(!Gv(t))throw Error(ge(40));return t._reactRootContainer?(zl(function(){Qv(null,null,t,!1,function(){t._reactRootContainer=null,t[Go]=null})}),!0):!1};zs.unstable_batchedUpdates=DA;zs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gv(n))throw Error(ge(200));if(t==null||t._reactInternals===void 0)throw Error(ge(38));return Qv(t,e,n,!1,r)};zs.version="18.3.1-next-f1338f8080-20240426";function tP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tP)}catch(t){console.error(t)}}tP(),t3.exports=zs;var jc=t3.exports;const uV=Pc(jc);var nP,o4=jc;nP=o4.createRoot,o4.hydrateRoot;function dV(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var rP={exports:{}},sP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=I;function fV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hV=typeof Object.is=="function"?Object.is:fV,pV=af.useState,mV=af.useEffect,gV=af.useLayoutEffect,yV=af.useDebugValue;function vV(t,e){var n=e(),r=pV({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return gV(function(){s.value=n,s.getSnapshot=e,Zw(s)&&i({inst:s})},[t,n,e]),mV(function(){return Zw(s)&&i({inst:s}),t(function(){Zw(s)&&i({inst:s})})},[t]),yV(n),n}function Zw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hV(t,n)}catch{return!0}}function xV(t,e){return e()}var wV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xV:vV;sP.useSyncExternalStore=af.useSyncExternalStore!==void 0?af.useSyncExternalStore:wV;rP.exports=sP;var iP=rP.exports;const _V=Q2.useInsertionEffect,EV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bV=EV?I.useLayoutEffect:I.useEffect,AV=_V||bV,oP=t=>{const e=I.useRef([t,(...n)=>e[0](...n)]).current;return AV(()=>{e[0]=t}),e[1]},SV="popstate",zA="pushState",VA="replaceState",CV="hashchange",a4=[SV,zA,VA,CV],TV=t=>{for(const e of a4)addEventListener(e,t);return()=>{for(const e of a4)removeEventListener(e,t)}},aP=(t,e)=>iP.useSyncExternalStore(TV,t,e),IV=()=>location.search,RV=({ssrSearch:t=""}={})=>aP(IV,()=>t),c4=()=>location.pathname,kV=({ssrPath:t}={})=>aP(c4,t?()=>t:c4),NV=(t,{replace:e=!1,state:n=null}={})=>history[e?VA:zA](n,"",t),MV=(t={})=>[kV(t),NV],l4=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[l4]>"u"){for(const t of[zA,VA]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,l4,{value:!0})}const DV=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",cP=(t="")=>t==="/"?"":t,PV=(t,e)=>t[0]==="~"?t.slice(1):cP(e)+t,BV=(t="",e)=>DV(u4(cP(t)),u4(e)),u4=t=>{try{return decodeURI(t)}catch{return t}},lP={hook:MV,searchHook:RV,parser:dV,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},uP=I.createContext(lP),hp=()=>I.useContext(uP),dP={},fP=I.createContext(dP),hP=()=>I.useContext(fP),Yv=t=>{const[e,n]=t.hook(t);return[BV(t.base,e),oP((r,s)=>n(PV(r,t.base),s))]},pp=()=>Yv(hp()),pP=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...c]=o;return a!==void 0?[!0,(()=>{const l=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let u={...c};return l&&Object.assign(u,l),u})(),...r?[a]:[]]:[!1,null]},OV=({children:t,...e})=>{var u,f;const n=hp(),r=e.hook?lP:n;let s=r;const[i,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=I.useRef({}),c=a.current,l=c;for(let h in r){const m=h==="base"?r[h]+(e[h]||""):e[h]||r[h];c===l&&m!==l[h]&&(a.current=l={...l}),l[h]=m,(m!==r[h]||m!==s[h])&&(s=l)}return I.createElement(uP.Provider,{value:s,children:t})},d4=({children:t,component:e},n)=>e?I.createElement(e,{params:n}):typeof t=="function"?t(n):t,LV=t=>{let e=I.useRef(dP);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},Pu=({path:t,nest:e,match:n,...r})=>{const s=hp(),[i]=Yv(s),[o,a,c]=n??pP(s.parser,t,i,e),l=LV({...hP(),...a});if(!o)return null;const u=c?I.createElement(OV,{base:c},d4(r,l)):d4(r,l);return I.createElement(fP.Provider,{value:l,children:u})};I.forwardRef((t,e)=>{const n=hp(),[r,s]=Yv(n),{to:i="",href:o=i,onClick:a,asChild:c,children:l,className:u,replace:f,state:h,...m}=t,v=oP(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(a==null||a(y),y.defaultPrevented||(y.preventDefault(),s(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&I.isValidElement(l)?I.cloneElement(l,{onClick:v,href:g}):I.createElement("a",{...m,onClick:v,href:g,className:u!=null&&u.call?u(r===o):u,children:l,ref:e})});const mP=t=>Array.isArray(t)?t.flatMap(e=>mP(e&&e.type===I.Fragment?e.props.children:e)):[t],jV=({children:t,location:e})=>{const n=hp(),[r]=Yv(n);for(const s of mP(t)){let i=0;if(I.isValidElement(s)&&(i=pP(n.parser,s.props.path,e||r,s.props.nest))[0])return I.cloneElement(s,{match:i})}return null};var Mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vl=typeof window>"u"||"Deno"in globalThis;function ts(){}function FV(t,e){return typeof t=="function"?t(e):t}function VE(t){return typeof t=="number"&&t>=0&&t!==1/0}function gP(t,e){return Math.max(t+(e||0)-Date.now(),0)}function pc(t,e){return typeof t=="function"?t(e):t}function gi(t,e){return typeof t=="function"?t(e):t}function f4(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==WA(o,e.options))return!1}else if(!N0(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function h4(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Wl(e.options.mutationKey)!==Wl(i))return!1}else if(!N0(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function WA(t,e){return((e==null?void 0:e.queryKeyHashFn)||Wl)(t)}function Wl(t){return JSON.stringify(t,(e,n)=>WE(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function N0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>N0(t[n],e[n])):!1}function yP(t,e){if(t===e)return t;const n=p4(t)&&p4(e);if(n||WE(t)&&WE(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let l=0;l<o;l++){const u=n?l:i[l];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,c++):(a[u]=yP(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function Ty(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function p4(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function WE(t){if(!m4(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!m4(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function m4(t){return Object.prototype.toString.call(t)==="[object Object]"}function UV(t){return new Promise(e=>{setTimeout(e,t)})}function $E(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?yP(t,e):e}function zV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function VV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var $A=Symbol();function vP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===$A?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function xP(t,e){return typeof t=="function"?t(...e):!!t}var wl,Va,Ud,DM,WV=(DM=class extends Mf{constructor(){super();ze(this,wl);ze(this,Va);ze(this,Ud);Ie(this,Ud,e=>{if(!Vl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,Va)||this.setEventListener(Y(this,Ud))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Va))==null||e.call(this),Ie(this,Va,void 0))}setEventListener(e){var n;Ie(this,Ud,e),(n=Y(this,Va))==null||n.call(this),Ie(this,Va,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,wl)!==e&&(Ie(this,wl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Y(this,wl)=="boolean"?Y(this,wl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},wl=new WeakMap,Va=new WeakMap,Ud=new WeakMap,DM),HA=new WV,zd,Wa,Vd,PM,$V=(PM=class extends Mf{constructor(){super();ze(this,zd,!0);ze(this,Wa);ze(this,Vd);Ie(this,Vd,e=>{if(!Vl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,Wa)||this.setEventListener(Y(this,Vd))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Wa))==null||e.call(this),Ie(this,Wa,void 0))}setEventListener(e){var n;Ie(this,Vd,e),(n=Y(this,Wa))==null||n.call(this),Ie(this,Wa,e(this.setOnline.bind(this)))}setOnline(e){Y(this,zd)!==e&&(Ie(this,zd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,zd)}},zd=new WeakMap,Wa=new WeakMap,Vd=new WeakMap,PM),Iy=new $V;function HE(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function HV(t){return Math.min(1e3*2**t,3e4)}function wP(t){return(t??"online")==="online"?Iy.isOnline():!0}var _P=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Jw(t){return t instanceof _P}function EP(t){let e=!1,n=0,r=!1,s;const i=HE(),o=g=>{var y;r||(h(new _P(g)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>HA.isFocused()&&(t.networkMode==="always"||Iy.isOnline())&&t.canRun(),u=()=>wP(t.networkMode)&&t.canRun(),f=g=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var y;s=E=>{(r||l())&&g(E)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(r)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(E){g=Promise.reject(E)}Promise.resolve(g).then(f).catch(E=>{var L;if(r)return;const w=t.retry??(Vl?0:3),x=t.retryDelay??HV,b=typeof x=="function"?x(n,E):x,D=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,E);if(e||!D){h(E);return}n++,(L=t.onFail)==null||L.call(t,n,E),UV(b).then(()=>l()?void 0:m()).then(()=>{e?h(E):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?v():m().then(v),i)}}var qV=t=>setTimeout(t,0);function KV(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=qV;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var sr=KV(),_l,BM,bP=(BM=class{constructor(){ze(this,_l)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),VE(this.gcTime)&&Ie(this,_l,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Vl?1/0:5*60*1e3))}clearGcTimeout(){Y(this,_l)&&(clearTimeout(Y(this,_l)),Ie(this,_l,void 0))}},_l=new WeakMap,BM),Wd,$d,Ks,El,zr,sp,bl,fi,Eo,OM,GV=(OM=class extends bP{constructor(n){super();ze(this,fi);ze(this,Wd);ze(this,$d);ze(this,Ks);ze(this,El);ze(this,zr);ze(this,sp);ze(this,bl);Ie(this,bl,!1),Ie(this,sp,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ie(this,El,n.client),Ie(this,Ks,Y(this,El).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ie(this,Wd,QV(this.options)),this.state=n.state??Y(this,Wd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Y(this,zr))==null?void 0:n.promise}setOptions(n){this.options={...Y(this,sp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Ks).remove(this)}setData(n,r){const s=$E(this.state.data,n,this.options);return at(this,fi,Eo).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){at(this,fi,Eo).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=Y(this,zr))==null?void 0:s.promise;return(i=Y(this,zr))==null||i.cancel(n),r?r.then(ts).catch(ts):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Wd))}isActive(){return this.observers.some(n=>gi(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$A||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>pc(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!gP(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Y(this,zr))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Y(this,zr))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Y(this,Ks).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Y(this,zr)&&(Y(this,bl)?Y(this,zr).cancel({revert:!0}):Y(this,zr).cancelRetry()),this.scheduleGc()),Y(this,Ks).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||at(this,fi,Eo).call(this,{type:"invalidate"})}fetch(n,r){var l,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,zr))return Y(this,zr).continueRetry(),Y(this,zr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ie(this,bl,!0),s.signal)})},o=()=>{const h=vP(this.options,r),m={client:Y(this,El),queryKey:this.queryKey,meta:this.meta};return i(m),Ie(this,bl,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,El),state:this.state,fetchFn:o};i(a),(l=this.options.behavior)==null||l.onFetch(a,this),Ie(this,$d,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&at(this,fi,Eo).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,v,g,y;Jw(h)&&h.silent||at(this,fi,Eo).call(this,{type:"error",error:h}),Jw(h)||((v=(m=Y(this,Ks).config).onError)==null||v.call(m,h,this),(y=(g=Y(this,Ks).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return Ie(this,zr,EP({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var m,v,g,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(E){c(E);return}(v=(m=Y(this,Ks).config).onSuccess)==null||v.call(m,h,this),(y=(g=Y(this,Ks).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{at(this,fi,Eo).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{at(this,fi,Eo).call(this,{type:"pause"})},onContinue:()=>{at(this,fi,Eo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Y(this,zr).start()}},Wd=new WeakMap,$d=new WeakMap,Ks=new WeakMap,El=new WeakMap,zr=new WeakMap,sp=new WeakMap,bl=new WeakMap,fi=new WeakSet,Eo=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...AP(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Jw(i)&&i.revert&&Y(this,$d)?{...Y(this,$d),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),sr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Y(this,Ks).notify({query:this,type:"updated",action:n})})},OM);function AP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function QV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ui,LM,YV=(LM=class extends Mf{constructor(e={}){super();ze(this,Ui);this.config=e,Ie(this,Ui,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??WA(s,n);let o=this.get(i);return o||(o=new GV({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){Y(this,Ui).has(e.queryHash)||(Y(this,Ui).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Y(this,Ui).get(e.queryHash);n&&(e.destroy(),n===e&&Y(this,Ui).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){sr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Ui).get(e)}getAll(){return[...Y(this,Ui).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>f4(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>f4(e,r)):n}notify(e){sr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){sr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){sr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ui=new WeakMap,LM),zi,Zr,Al,Vi,Ta,jM,XV=(jM=class extends bP{constructor(n){super();ze(this,Vi);ze(this,zi);ze(this,Zr);ze(this,Al);this.mutationId=n.mutationId,Ie(this,Zr,n.mutationCache),Ie(this,zi,[]),this.state=n.state||SP(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Y(this,zi).includes(n)||(Y(this,zi).push(n),this.clearGcTimeout(),Y(this,Zr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ie(this,zi,Y(this,zi).filter(r=>r!==n)),this.scheduleGc(),Y(this,Zr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Y(this,zi).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Zr).remove(this))}continue(){var n;return((n=Y(this,Al))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,c,l,u,f,h,m,v,g,y,E,w,x,b,D,L,T,R,F;const r=()=>{at(this,Vi,Ta).call(this,{type:"continue"})};Ie(this,Al,EP({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,U)=>{at(this,Vi,Ta).call(this,{type:"failed",failureCount:P,error:U})},onPause:()=>{at(this,Vi,Ta).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Zr).canRun(this)}));const s=this.state.status==="pending",i=!Y(this,Al).canStart();try{if(s)r();else{at(this,Vi,Ta).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=Y(this,Zr).config).onMutate)==null?void 0:a.call(o,n,this));const U=await((l=(c=this.options).onMutate)==null?void 0:l.call(c,n));U!==this.state.context&&at(this,Vi,Ta).call(this,{type:"pending",context:U,variables:n,isPaused:i})}const P=await Y(this,Al).start();return await((f=(u=Y(this,Zr).config).onSuccess)==null?void 0:f.call(u,P,n,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,P,n,this.state.context)),await((g=(v=Y(this,Zr).config).onSettled)==null?void 0:g.call(v,P,null,this.state.variables,this.state.context,this)),await((E=(y=this.options).onSettled)==null?void 0:E.call(y,P,null,n,this.state.context)),at(this,Vi,Ta).call(this,{type:"success",data:P}),P}catch(P){try{throw await((x=(w=Y(this,Zr).config).onError)==null?void 0:x.call(w,P,n,this.state.context,this)),await((D=(b=this.options).onError)==null?void 0:D.call(b,P,n,this.state.context)),await((T=(L=Y(this,Zr).config).onSettled)==null?void 0:T.call(L,void 0,P,this.state.variables,this.state.context,this)),await((F=(R=this.options).onSettled)==null?void 0:F.call(R,void 0,P,n,this.state.context)),P}finally{at(this,Vi,Ta).call(this,{type:"error",error:P})}}finally{Y(this,Zr).runNext(this)}}},zi=new WeakMap,Zr=new WeakMap,Al=new WeakMap,Vi=new WeakSet,Ta=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),sr.batch(()=>{Y(this,zi).forEach(s=>{s.onMutationUpdate(n)}),Y(this,Zr).notify({mutation:this,type:"updated",action:n})})},jM);function SP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ro,hi,ip,FM,ZV=(FM=class extends Mf{constructor(e={}){super();ze(this,Ro);ze(this,hi);ze(this,ip);this.config=e,Ie(this,Ro,new Set),Ie(this,hi,new Map),Ie(this,ip,0)}build(e,n,r){const s=new XV({mutationCache:this,mutationId:++pm(this,ip)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){Y(this,Ro).add(e);const n=Mm(e);if(typeof n=="string"){const r=Y(this,hi).get(n);r?r.push(e):Y(this,hi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,Ro).delete(e)){const n=Mm(e);if(typeof n=="string"){const r=Y(this,hi).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&Y(this,hi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Mm(e);if(typeof n=="string"){const r=Y(this,hi).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Mm(e);if(typeof n=="string"){const s=(r=Y(this,hi).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){sr.batch(()=>{Y(this,Ro).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,Ro).clear(),Y(this,hi).clear()})}getAll(){return Array.from(Y(this,Ro))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>h4(n,r))}findAll(e={}){return this.getAll().filter(n=>h4(e,n))}notify(e){sr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return sr.batch(()=>Promise.all(e.map(n=>n.continue().catch(ts))))}},Ro=new WeakMap,hi=new WeakMap,ip=new WeakMap,FM);function Mm(t){var e;return(e=t.options.scope)==null?void 0:e.id}function g4(t){return{onFetch:(e,n)=>{var u,f,h,m,v;const r=e.options,s=(h=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let g=!1;const y=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},E=vP(e.options,e.fetchOptions),w=async(x,b,D)=>{if(g)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const L={client:e.client,queryKey:e.queryKey,pageParam:b,direction:D?"backward":"forward",meta:e.options.meta};y(L);const T=await E(L),{maxPages:R}=e.options,F=D?VV:zV;return{pages:F(x.pages,T,R),pageParams:F(x.pageParams,b,R)}};if(s&&i.length){const x=s==="backward",b=x?JV:y4,D={pages:i,pageParams:o},L=b(r,D);a=await w(D,L,x)}else{const x=t??i.length;do{const b=c===0?o[0]??r.initialPageParam:y4(r,a);if(c>0&&b==null)break;a=await w(a,b),c++}while(c<x)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function y4(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function JV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ln,$a,Ha,Hd,qd,qa,Kd,Gd,UM,eW=(UM=class{constructor(t={}){ze(this,Ln);ze(this,$a);ze(this,Ha);ze(this,Hd);ze(this,qd);ze(this,qa);ze(this,Kd);ze(this,Gd);Ie(this,Ln,t.queryCache||new YV),Ie(this,$a,t.mutationCache||new ZV),Ie(this,Ha,t.defaultOptions||{}),Ie(this,Hd,new Map),Ie(this,qd,new Map),Ie(this,qa,0)}mount(){pm(this,qa)._++,Y(this,qa)===1&&(Ie(this,Kd,HA.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Ln).onFocus())})),Ie(this,Gd,Iy.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Ln).onOnline())})))}unmount(){var t,e;pm(this,qa)._--,Y(this,qa)===0&&((t=Y(this,Kd))==null||t.call(this),Ie(this,Kd,void 0),(e=Y(this,Gd))==null||e.call(this),Ie(this,Gd,void 0))}isFetching(t){return Y(this,Ln).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,$a).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,Ln).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Y(this,Ln).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(pc(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Y(this,Ln).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=Y(this,Ln).get(r.queryHash),i=s==null?void 0:s.state.data,o=FV(e,i);if(o!==void 0)return Y(this,Ln).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return sr.batch(()=>Y(this,Ln).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,Ln).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Y(this,Ln);sr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Y(this,Ln);return sr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=sr.batch(()=>Y(this,Ln).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ts).catch(ts)}invalidateQueries(t,e={}){return sr.batch(()=>(Y(this,Ln).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=sr.batch(()=>Y(this,Ln).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ts)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ts)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Y(this,Ln).build(this,e);return n.isStaleByTime(pc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ts).catch(ts)}fetchInfiniteQuery(t){return t.behavior=g4(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ts).catch(ts)}ensureInfiniteQueryData(t){return t.behavior=g4(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Iy.isOnline()?Y(this,$a).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Ln)}getMutationCache(){return Y(this,$a)}getDefaultOptions(){return Y(this,Ha)}setDefaultOptions(t){Ie(this,Ha,t)}setQueryDefaults(t,e){Y(this,Hd).set(Wl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,Hd).values()],n={};return e.forEach(r=>{N0(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Y(this,qd).set(Wl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,qd).values()],n={};return e.forEach(r=>{N0(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,Ha).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=WA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===$A&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,Ha).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,Ln).clear(),Y(this,$a).clear()}},Ln=new WeakMap,$a=new WeakMap,Ha=new WeakMap,Hd=new WeakMap,qd=new WeakMap,qa=new WeakMap,Kd=new WeakMap,Gd=new WeakMap,UM),hs,xt,op,Jr,Sl,Qd,Ka,Ga,ap,Yd,Xd,Cl,Tl,Qa,Zd,Lt,Rh,qE,KE,GE,QE,YE,XE,ZE,CP,zM,tW=(zM=class extends Mf{constructor(e,n){super();ze(this,Lt);ze(this,hs);ze(this,xt);ze(this,op);ze(this,Jr);ze(this,Sl);ze(this,Qd);ze(this,Ka);ze(this,Ga);ze(this,ap);ze(this,Yd);ze(this,Xd);ze(this,Cl);ze(this,Tl);ze(this,Qa);ze(this,Zd,new Set);this.options=n,Ie(this,hs,e),Ie(this,Ga,null),Ie(this,Ka,HE()),this.options.experimental_prefetchInRender||Y(this,Ka).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,xt).addObserver(this),v4(Y(this,xt),this.options)?at(this,Lt,Rh).call(this):this.updateResult(),at(this,Lt,QE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return JE(Y(this,xt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return JE(Y(this,xt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,at(this,Lt,YE).call(this),at(this,Lt,XE).call(this),Y(this,xt).removeObserver(this)}setOptions(e){const n=this.options,r=Y(this,xt);if(this.options=Y(this,hs).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gi(this.options.enabled,Y(this,xt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");at(this,Lt,ZE).call(this),Y(this,xt).setOptions(this.options),n._defaulted&&!Ty(this.options,n)&&Y(this,hs).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,xt),observer:this});const s=this.hasListeners();s&&x4(Y(this,xt),r,this.options,n)&&at(this,Lt,Rh).call(this),this.updateResult(),s&&(Y(this,xt)!==r||gi(this.options.enabled,Y(this,xt))!==gi(n.enabled,Y(this,xt))||pc(this.options.staleTime,Y(this,xt))!==pc(n.staleTime,Y(this,xt)))&&at(this,Lt,qE).call(this);const i=at(this,Lt,KE).call(this);s&&(Y(this,xt)!==r||gi(this.options.enabled,Y(this,xt))!==gi(n.enabled,Y(this,xt))||i!==Y(this,Qa))&&at(this,Lt,GE).call(this,i)}getOptimisticResult(e){const n=Y(this,hs).getQueryCache().build(Y(this,hs),e),r=this.createResult(n,e);return rW(this,r)&&(Ie(this,Jr,r),Ie(this,Qd,this.options),Ie(this,Sl,Y(this,xt).state)),r}getCurrentResult(){return Y(this,Jr)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){Y(this,Zd).add(e)}getCurrentQuery(){return Y(this,xt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Y(this,hs).defaultQueryOptions(e),r=Y(this,hs).getQueryCache().build(Y(this,hs),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return at(this,Lt,Rh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,Jr)))}createResult(e,n){var F;const r=Y(this,xt),s=this.options,i=Y(this,Jr),o=Y(this,Sl),a=Y(this,Qd),l=e!==r?e.state:Y(this,op),{state:u}=e;let f={...u},h=!1,m;if(n._optimisticResults){const P=this.hasListeners(),U=!P&&v4(e,n),W=P&&x4(e,r,n,s);(U||W)&&(f={...f,...AP(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:y}=f;m=f.data;let E=!1;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let P;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(P=i.data,E=!0):P=typeof n.placeholderData=="function"?n.placeholderData((F=Y(this,Xd))==null?void 0:F.state.data,Y(this,Xd)):n.placeholderData,P!==void 0&&(y="success",m=$E(i==null?void 0:i.data,P,n),h=!0)}if(n.select&&m!==void 0&&!E)if(i&&m===(o==null?void 0:o.data)&&n.select===Y(this,ap))m=Y(this,Yd);else try{Ie(this,ap,n.select),m=n.select(m),m=$E(i==null?void 0:i.data,m,n),Ie(this,Yd,m),Ie(this,Ga,null)}catch(P){Ie(this,Ga,P)}Y(this,Ga)&&(v=Y(this,Ga),m=Y(this,Yd),g=Date.now(),y="error");const w=f.fetchStatus==="fetching",x=y==="pending",b=y==="error",D=x&&w,L=m!==void 0,R={status:y,fetchStatus:f.fetchStatus,isPending:x,isSuccess:y==="success",isError:b,isInitialLoading:D,isLoading:D,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:w,isRefetching:w&&!x,isLoadingError:b&&!L,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&L,isStale:qA(e,n),refetch:this.refetch,promise:Y(this,Ka)};if(this.options.experimental_prefetchInRender){const P=S=>{R.status==="error"?S.reject(R.error):R.data!==void 0&&S.resolve(R.data)},U=()=>{const S=Ie(this,Ka,R.promise=HE());P(S)},W=Y(this,Ka);switch(W.status){case"pending":e.queryHash===r.queryHash&&P(W);break;case"fulfilled":(R.status==="error"||R.data!==W.value)&&U();break;case"rejected":(R.status!=="error"||R.error!==W.reason)&&U();break}}return R}updateResult(){const e=Y(this,Jr),n=this.createResult(Y(this,xt),this.options);if(Ie(this,Sl,Y(this,xt).state),Ie(this,Qd,this.options),Y(this,Sl).data!==void 0&&Ie(this,Xd,Y(this,xt)),Ty(n,e))return;Ie(this,Jr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Y(this,Zd).size)return!0;const o=new Set(i??Y(this,Zd));return this.options.throwOnError&&o.add("error"),Object.keys(Y(this,Jr)).some(a=>{const c=a;return Y(this,Jr)[c]!==e[c]&&o.has(c)})};at(this,Lt,CP).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&at(this,Lt,QE).call(this)}},hs=new WeakMap,xt=new WeakMap,op=new WeakMap,Jr=new WeakMap,Sl=new WeakMap,Qd=new WeakMap,Ka=new WeakMap,Ga=new WeakMap,ap=new WeakMap,Yd=new WeakMap,Xd=new WeakMap,Cl=new WeakMap,Tl=new WeakMap,Qa=new WeakMap,Zd=new WeakMap,Lt=new WeakSet,Rh=function(e){at(this,Lt,ZE).call(this);let n=Y(this,xt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(ts)),n},qE=function(){at(this,Lt,YE).call(this);const e=pc(this.options.staleTime,Y(this,xt));if(Vl||Y(this,Jr).isStale||!VE(e))return;const r=gP(Y(this,Jr).dataUpdatedAt,e)+1;Ie(this,Cl,setTimeout(()=>{Y(this,Jr).isStale||this.updateResult()},r))},KE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,xt)):this.options.refetchInterval)??!1},GE=function(e){at(this,Lt,XE).call(this),Ie(this,Qa,e),!(Vl||gi(this.options.enabled,Y(this,xt))===!1||!VE(Y(this,Qa))||Y(this,Qa)===0)&&Ie(this,Tl,setInterval(()=>{(this.options.refetchIntervalInBackground||HA.isFocused())&&at(this,Lt,Rh).call(this)},Y(this,Qa)))},QE=function(){at(this,Lt,qE).call(this),at(this,Lt,GE).call(this,at(this,Lt,KE).call(this))},YE=function(){Y(this,Cl)&&(clearTimeout(Y(this,Cl)),Ie(this,Cl,void 0))},XE=function(){Y(this,Tl)&&(clearInterval(Y(this,Tl)),Ie(this,Tl,void 0))},ZE=function(){const e=Y(this,hs).getQueryCache().build(Y(this,hs),this.options);if(e===Y(this,xt))return;const n=Y(this,xt);Ie(this,xt,e),Ie(this,op,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},CP=function(e){sr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Y(this,Jr))}),Y(this,hs).getQueryCache().notify({query:Y(this,xt),type:"observerResultsUpdated"})})},zM);function nW(t,e){return gi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function v4(t,e){return nW(t,e)||t.state.data!==void 0&&JE(t,e,e.refetchOnMount)}function JE(t,e,n){if(gi(e.enabled,t)!==!1&&pc(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&qA(t,e)}return!1}function x4(t,e,n,r){return(t!==e||gi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&qA(t,n)}function qA(t,e){return gi(e.enabled,t)!==!1&&t.isStaleByTime(pc(e.staleTime,t))}function rW(t,e){return!Ty(t.getCurrentResult(),e)}var Ya,Xa,ps,ko,qo,vg,eb,VM,sW=(VM=class extends Mf{constructor(n,r){super();ze(this,qo);ze(this,Ya);ze(this,Xa);ze(this,ps);ze(this,ko);Ie(this,Ya,n),this.setOptions(r),this.bindMethods(),at(this,qo,vg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=Y(this,Ya).defaultMutationOptions(n),Ty(this.options,r)||Y(this,Ya).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,ps),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Wl(r.mutationKey)!==Wl(this.options.mutationKey)?this.reset():((s=Y(this,ps))==null?void 0:s.state.status)==="pending"&&Y(this,ps).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Y(this,ps))==null||n.removeObserver(this)}onMutationUpdate(n){at(this,qo,vg).call(this),at(this,qo,eb).call(this,n)}getCurrentResult(){return Y(this,Xa)}reset(){var n;(n=Y(this,ps))==null||n.removeObserver(this),Ie(this,ps,void 0),at(this,qo,vg).call(this),at(this,qo,eb).call(this)}mutate(n,r){var s;return Ie(this,ko,r),(s=Y(this,ps))==null||s.removeObserver(this),Ie(this,ps,Y(this,Ya).getMutationCache().build(Y(this,Ya),this.options)),Y(this,ps).addObserver(this),Y(this,ps).execute(n)}},Ya=new WeakMap,Xa=new WeakMap,ps=new WeakMap,ko=new WeakMap,qo=new WeakSet,vg=function(){var r;const n=((r=Y(this,ps))==null?void 0:r.state)??SP();Ie(this,Xa,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},eb=function(n){sr.batch(()=>{var r,s,i,o,a,c,l,u;if(Y(this,ko)&&this.hasListeners()){const f=Y(this,Xa).variables,h=Y(this,Xa).context;(n==null?void 0:n.type)==="success"?((s=(r=Y(this,ko)).onSuccess)==null||s.call(r,n.data,f,h),(o=(i=Y(this,ko)).onSettled)==null||o.call(i,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((c=(a=Y(this,ko)).onError)==null||c.call(a,n.error,f,h),(u=(l=Y(this,ko)).onSettled)==null||u.call(l,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(Y(this,Xa))})})},VM),TP=I.createContext(void 0),KA=t=>{const e=I.useContext(TP);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},iW=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(TP.Provider,{value:t,children:e})),IP=I.createContext(!1),oW=()=>I.useContext(IP);IP.Provider;function aW(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var cW=I.createContext(aW()),lW=()=>I.useContext(cW),uW=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},dW=t=>{I.useEffect(()=>{t.clearReset()},[t])},fW=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||xP(n,[t.error,r])),hW=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},pW=(t,e)=>t.isLoading&&t.isFetching&&!e,mW=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,w4=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function gW(t,e,n){var f,h,m,v,g;const r=KA(),s=oW(),i=lW(),o=r.defaultQueryOptions(t);(h=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",hW(o),uW(o,i),dW(i);const a=!r.getQueryCache().get(o.queryHash),[c]=I.useState(()=>new e(r,o)),l=c.getOptimisticResult(o),u=!s&&t.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(y=>{const E=u?c.subscribe(sr.batchCalls(y)):ts;return c.updateResult(),E},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),I.useEffect(()=>{c.setOptions(o)},[o,c]),mW(o,l))throw w4(o,c,i);if(fW({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((v=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,l),o.experimental_prefetchInRender&&!Vl&&pW(l,s)){const y=a?w4(o,c,i):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(ts).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?l:c.trackResult(l)}function No(t,e){return gW(t,tW)}function Bu(t,e){const n=KA(),[r]=I.useState(()=>new sW(n,t));I.useEffect(()=>{r.setOptions(t)},[r,t]);const s=I.useSyncExternalStore(I.useCallback(o=>r.subscribe(sr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=I.useCallback((o,a)=>{r.mutate(o,a).catch(ts)},[r]);if(s.error&&xP(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function yW(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const vW=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e[0],{credentials:"include"});return await yW(n),await n.json()},xW=new eW({defaultOptions:{queries:{queryFn:vW({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),wW=1,_W=1e6;let e1=0;function EW(){return e1=(e1+1)%Number.MAX_SAFE_INTEGER,e1.toString()}const t1=new Map,_4=t=>{if(t1.has(t))return;const e=setTimeout(()=>{t1.delete(t),t0({type:"REMOVE_TOAST",toastId:t})},_W);t1.set(t,e)},bW=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,wW)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?_4(n):t.toasts.forEach(r=>{_4(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},xg=[];let wg={toasts:[]};function t0(t){wg=bW(wg,t),xg.forEach(e=>{e(wg)})}function AW({...t}){const e=EW(),n=s=>t0({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>t0({type:"DISMISS_TOAST",toastId:e});return t0({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function mp(){const[t,e]=I.useState(wg);return I.useEffect(()=>(xg.push(e),()=>{const n=xg.indexOf(e);n>-1&&xg.splice(n,1)}),[t]),{...t,toast:AW,dismiss:n=>t0({type:"DISMISS_TOAST",toastId:n})}}function Ae(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function E4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Xv(...t){return e=>{let n=!1;const r=t.map(s=>{const i=E4(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():E4(t[s],null)}}}}function It(...t){return I.useCallback(Xv(...t),t)}function SW(t,e){const n=I.createContext(e),r=i=>{const{children:o,...a}=i,c=I.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=I.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ws(t,e=[]){let n=[];function r(i,o){const a=I.createContext(o),c=n.length;n=[...n,o];const l=f=>{var E;const{scope:h,children:m,...v}=f,g=((E=h==null?void 0:h[t])==null?void 0:E[c])||a,y=I.useMemo(()=>v,Object.values(v));return d.jsx(g.Provider,{value:y,children:m})};l.displayName=i+"Provider";function u(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[c])||a,v=I.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[l,u]}const s=()=>{const i=n.map(o=>I.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return I.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,CW(s,...e)]}function CW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const f=c(i)[`__scope${l}`];return{...a,...f}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function $l(t){const e=IW(t),n=I.forwardRef((r,s)=>{const{children:i,...o}=r,a=I.Children.toArray(i),c=a.find(kW);if(c){const l=c.props.children,u=a.map(f=>f===c?I.Children.count(l)>1?I.Children.only(null):I.isValidElement(l)?l.props.children:null:f);return d.jsx(e,{...o,ref:s,children:I.isValidElement(l)?I.cloneElement(l,void 0,u):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var TW=$l("Slot");function IW(t){const e=I.forwardRef((n,r)=>{const{children:s,...i}=n;if(I.isValidElement(s)){const o=MW(s),a=NW(i,s.props);return s.type!==I.Fragment&&(a.ref=r?Xv(r,o):o),I.cloneElement(s,a)}return I.Children.count(s)>1?I.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var RP=Symbol("radix.slottable");function RW(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=RP,e}function kW(t){return I.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===RP}function NW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function MW(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Zv(t){const e=t+"CollectionProvider",[n,r]=Ws(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:E}=g,w=fe.useRef(null),x=fe.useRef(new Map).current;return d.jsx(s,{scope:y,itemMap:x,collectionRef:w,children:E})};o.displayName=e;const a=t+"CollectionSlot",c=$l(a),l=fe.forwardRef((g,y)=>{const{scope:E,children:w}=g,x=i(a,E),b=It(y,x.collectionRef);return d.jsx(c,{ref:b,children:w})});l.displayName=a;const u=t+"CollectionItemSlot",f="data-radix-collection-item",h=$l(u),m=fe.forwardRef((g,y)=>{const{scope:E,children:w,...x}=g,b=fe.useRef(null),D=It(y,b),L=i(u,E);return fe.useEffect(()=>(L.itemMap.set(b,{ref:b,...x}),()=>void L.itemMap.delete(b))),d.jsx(h,{[f]:"",ref:D,children:w})});m.displayName=u;function v(g){const y=i(t+"CollectionConsumer",g);return fe.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((L,T)=>x.indexOf(L.ref.current)-x.indexOf(T.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:m},v,r]}var DW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=DW.reduce((t,e)=>{const n=$l(`Primitive.${e}`),r=I.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function GA(t,e){t&&jc.flushSync(()=>t.dispatchEvent(e))}function os(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function PW(t,e=globalThis==null?void 0:globalThis.document){const n=os(t);I.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var BW="DismissableLayer",tb="dismissableLayer.update",OW="dismissableLayer.pointerDownOutside",LW="dismissableLayer.focusOutside",b4,kP=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Df=I.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,l=I.useContext(kP),[u,f]=I.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=I.useState({}),v=It(e,T=>f(T)),g=Array.from(l.layers),[y]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(y),w=u?g.indexOf(u):-1,x=l.layersWithOutsidePointerEventsDisabled.size>0,b=w>=E,D=FW(T=>{const R=T.target,F=[...l.branches].some(P=>P.contains(R));!b||F||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},h),L=UW(T=>{const R=T.target;[...l.branches].some(P=>P.contains(R))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},h);return PW(T=>{w===l.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},h),I.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(b4=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),A4(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=b4)}},[u,h,n,l]),I.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),A4())},[u,l]),I.useEffect(()=>{const T=()=>m({});return document.addEventListener(tb,T),()=>document.removeEventListener(tb,T)},[]),d.jsx(Ve.div,{...c,ref:v,style:{pointerEvents:x?b?"auto":"none":void 0,...t.style},onFocusCapture:Ae(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Ae(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ae(t.onPointerDownCapture,D.onPointerDownCapture)})});Df.displayName=BW;var jW="DismissableLayerBranch",NP=I.forwardRef((t,e)=>{const n=I.useContext(kP),r=I.useRef(null),s=It(e,r);return I.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Ve.div,{...t,ref:s})});NP.displayName=jW;function FW(t,e=globalThis==null?void 0:globalThis.document){const n=os(t),r=I.useRef(!1),s=I.useRef(()=>{});return I.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){MP(OW,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function UW(t,e=globalThis==null?void 0:globalThis.document){const n=os(t),r=I.useRef(!1);return I.useEffect(()=>{const s=i=>{i.target&&!r.current&&MP(LW,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function A4(){const t=new CustomEvent(tb);document.dispatchEvent(t)}function MP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?GA(s,i):s.dispatchEvent(i)}var zW=Df,VW=NP,tr=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},WW="Portal",gp=I.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=I.useState(!1);tr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?uV.createPortal(d.jsx(Ve.div,{...r,ref:e}),o):null});gp.displayName=WW;function $W(t,e){return I.useReducer((n,r)=>e[n][r]??n,t)}var ki=t=>{const{present:e,children:n}=t,r=HW(e),s=typeof n=="function"?n({present:r.isPresent}):I.Children.only(n),i=It(r.ref,qW(s));return typeof n=="function"||r.isPresent?I.cloneElement(s,{ref:i}):null};ki.displayName="Presence";function HW(t){const[e,n]=I.useState(),r=I.useRef(null),s=I.useRef(t),i=I.useRef("none"),o=t?"mounted":"unmounted",[a,c]=$W(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const l=Dm(r.current);i.current=a==="mounted"?l:"none"},[a]),tr(()=>{const l=r.current,u=s.current;if(u!==t){const h=i.current,m=Dm(l);t?c("MOUNT"):m==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),tr(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,f=m=>{const g=Dm(r.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=m=>{m.target===e&&(i.current=Dm(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:I.useCallback(l=>{r.current=l?getComputedStyle(l):null,n(l)},[])}}function Dm(t){return(t==null?void 0:t.animationName)||"none"}function qW(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var KW=Q2[" useInsertionEffect ".trim().toString()]||tr;function Ac({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=GW({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const u=I.useRef(t!==void 0);I.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const l=I.useCallback(u=>{var f;if(a){const h=QW(u)?u(t):u;h!==t&&((f=o.current)==null||f.call(o,h))}else i(u)},[a,t,i,o]);return[c,l]}function GW({defaultProp:t,onChange:e}){const[n,r]=I.useState(t),s=I.useRef(n),i=I.useRef(e);return KW(()=>{i.current=e},[e]),I.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function QW(t){return typeof t=="function"}var DP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YW="VisuallyHidden",Jv=I.forwardRef((t,e)=>d.jsx(Ve.span,{...t,ref:e,style:{...DP,...t.style}}));Jv.displayName=YW;var XW=Jv,QA="ToastProvider",[YA,ZW,JW]=Zv("Toast"),[PP,qpe]=Ws("Toast",[JW]),[e$,ex]=PP(QA),BP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=I.useState(null),[l,u]=I.useState(0),f=I.useRef(!1),h=I.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${QA}\`. Expected non-empty \`string\`.`),d.jsx(YA.Provider,{scope:e,children:d.jsx(e$,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:l,viewport:a,onViewportChange:c,onToastAdd:I.useCallback(()=>u(m=>m+1),[]),onToastRemove:I.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};BP.displayName=QA;var OP="ToastViewport",t$=["F8"],nb="toast.viewportPause",rb="toast.viewportResume",LP=I.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=t$,label:s="Notifications ({hotkey})",...i}=t,o=ex(OP,n),a=ZW(n),c=I.useRef(null),l=I.useRef(null),u=I.useRef(null),f=I.useRef(null),h=It(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;I.useEffect(()=>{const y=E=>{var x;r.length!==0&&r.every(b=>E[b]||E.code===b)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),I.useEffect(()=>{const y=c.current,E=f.current;if(v&&y&&E){const w=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(nb);E.dispatchEvent(L),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(rb);E.dispatchEvent(L),o.isClosePausedRef.current=!1}},b=L=>{!y.contains(L.relatedTarget)&&x()},D=()=>{y.contains(document.activeElement)||x()};return y.addEventListener("focusin",w),y.addEventListener("focusout",b),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",x),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",b),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const g=I.useCallback(({tabbingDirection:y})=>{const w=a().map(x=>{const b=x.ref.current,D=[b,...p$(b)];return y==="forwards"?D:D.reverse()});return(y==="forwards"?w.reverse():w).flat()},[a]);return I.useEffect(()=>{const y=f.current;if(y){const E=w=>{var D,L,T;const x=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!x){const R=document.activeElement,F=w.shiftKey;if(w.target===y&&F){(D=l.current)==null||D.focus();return}const W=g({tabbingDirection:F?"backwards":"forwards"}),S=W.findIndex(_=>_===R);n1(W.slice(S+1))?w.preventDefault():F?(L=l.current)==null||L.focus():(T=u.current)==null||T.focus()}};return y.addEventListener("keydown",E),()=>y.removeEventListener("keydown",E)}},[a,g]),d.jsxs(VW,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&d.jsx(sb,{ref:l,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});n1(y)}}),d.jsx(YA.Slot,{scope:n,children:d.jsx(Ve.ol,{tabIndex:-1,...i,ref:h})}),v&&d.jsx(sb,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});n1(y)}})]})});LP.displayName=OP;var jP="ToastFocusProxy",sb=I.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=ex(jP,n);return d.jsx(Jv,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var l;const a=o.relatedTarget;!((l=i.viewport)!=null&&l.contains(a))&&r()}})});sb.displayName=jP;var yp="Toast",n$="toast.swipeStart",r$="toast.swipeMove",s$="toast.swipeCancel",i$="toast.swipeEnd",FP=I.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,c]=Ac({prop:r,defaultProp:s??!0,onChange:i,caller:yp});return d.jsx(ki,{present:n||a,children:d.jsx(c$,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:os(t.onPause),onResume:os(t.onResume),onSwipeStart:Ae(t.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ae(t.onSwipeMove,l=>{const{x:u,y:f}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ae(t.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ae(t.onSwipeEnd,l=>{const{x:u,y:f}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});FP.displayName=yp;var[o$,a$]=PP(yp,{onClose(){}}),c$=I.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:l,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=t,g=ex(yp,n),[y,E]=I.useState(null),w=It(e,_=>E(_)),x=I.useRef(null),b=I.useRef(null),D=s||g.duration,L=I.useRef(0),T=I.useRef(D),R=I.useRef(0),{onToastAdd:F,onToastRemove:P}=g,U=os(()=>{var C;(y==null?void 0:y.contains(document.activeElement))&&((C=g.viewport)==null||C.focus()),o()}),W=I.useCallback(_=>{!_||_===1/0||(window.clearTimeout(R.current),L.current=new Date().getTime(),R.current=window.setTimeout(U,_))},[U]);I.useEffect(()=>{const _=g.viewport;if(_){const C=()=>{W(T.current),l==null||l()},O=()=>{const H=new Date().getTime()-L.current;T.current=T.current-H,window.clearTimeout(R.current),c==null||c()};return _.addEventListener(nb,O),_.addEventListener(rb,C),()=>{_.removeEventListener(nb,O),_.removeEventListener(rb,C)}}},[g.viewport,D,c,l,W]),I.useEffect(()=>{i&&!g.isClosePausedRef.current&&W(D)},[i,D,g.isClosePausedRef,W]),I.useEffect(()=>(F(),()=>P()),[F,P]);const S=I.useMemo(()=>y?qP(y):null,[y]);return g.viewport?d.jsxs(d.Fragment,{children:[S&&d.jsx(l$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:S}),d.jsx(o$,{scope:n,onClose:U,children:jc.createPortal(d.jsx(YA.ItemSlot,{scope:n,children:d.jsx(zW,{asChild:!0,onEscapeKeyDown:Ae(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||U(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ae(t.onKeyDown,_=>{_.key==="Escape"&&(a==null||a(_.nativeEvent),_.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:Ae(t.onPointerDown,_=>{_.button===0&&(x.current={x:_.clientX,y:_.clientY})}),onPointerMove:Ae(t.onPointerMove,_=>{if(!x.current)return;const C=_.clientX-x.current.x,O=_.clientY-x.current.y,H=!!b.current,j=["left","right"].includes(g.swipeDirection),z=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,K=j?z(0,C):0,B=j?0:z(0,O),A=_.pointerType==="touch"?10:2,$={x:K,y:B},X={originalEvent:_,delta:$};H?(b.current=$,Pm(r$,f,X,{discrete:!1})):S4($,g.swipeDirection,A)?(b.current=$,Pm(n$,u,X,{discrete:!1}),_.target.setPointerCapture(_.pointerId)):(Math.abs(C)>A||Math.abs(O)>A)&&(x.current=null)}),onPointerUp:Ae(t.onPointerUp,_=>{const C=b.current,O=_.target;if(O.hasPointerCapture(_.pointerId)&&O.releasePointerCapture(_.pointerId),b.current=null,x.current=null,C){const H=_.currentTarget,j={originalEvent:_,delta:C};S4(C,g.swipeDirection,g.swipeThreshold)?Pm(i$,m,j,{discrete:!0}):Pm(s$,h,j,{discrete:!0}),H.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),l$=t=>{const{__scopeToast:e,children:n,...r}=t,s=ex(yp,e),[i,o]=I.useState(!1),[a,c]=I.useState(!1);return f$(()=>o(!0)),I.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),a?null:d.jsx(gp,{asChild:!0,children:d.jsx(Jv,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},u$="ToastTitle",UP=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ve.div,{...r,ref:e})});UP.displayName=u$;var d$="ToastDescription",zP=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ve.div,{...r,ref:e})});zP.displayName=d$;var VP="ToastAction",WP=I.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(HP,{altText:n,asChild:!0,children:d.jsx(XA,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${VP}\`. Expected non-empty \`string\`.`),null)});WP.displayName=VP;var $P="ToastClose",XA=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=a$($P,n);return d.jsx(HP,{asChild:!0,children:d.jsx(Ve.button,{type:"button",...r,ref:e,onClick:Ae(t.onClick,s.onClose)})})});XA.displayName=$P;var HP=I.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function qP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),h$(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...qP(r))}}),e}function Pm(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?GA(s,i):s.dispatchEvent(i)}var S4=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function f$(t=()=>{}){const e=os(t);tr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function h$(t){return t.nodeType===t.ELEMENT_NODE}function p$(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function n1(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var m$=BP,KP=LP,GP=FP,QP=UP,YP=zP,XP=WP,ZP=XA;function JP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=JP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function e8(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=JP(t))&&(r&&(r+=" "),r+=e);return r}const C4=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,T4=e8,vp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return T4(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(l=>{const u=n==null?void 0:n[l],f=i==null?void 0:i[l];if(u===null)return null;const h=C4(u)||C4(f);return s[l][h]}),a=n&&Object.entries(n).reduce((l,u)=>{let[f,h]=u;return h===void 0||(l[f]=h),l},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((l,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...i,...a}[g]):{...i,...a}[g]===y})?[...l,f,h]:l},[]);return T4(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),t8=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>I.createElement("svg",{ref:c,...y$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:t8("lucide",s),...a},[...o.map(([l,u])=>I.createElement(l,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const n=I.forwardRef(({className:r,...s},i)=>I.createElement(v$,{ref:i,iconNode:e,className:t8(`lucide-${g$(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=Ge("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=Ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=Ge("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=Ge("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=Ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=Ge("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=Ge("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=Ge("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=Ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=Ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=Ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=Ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=Ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=Ge("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=Ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=Ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=Ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=Ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=Ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=Ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=Ge("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=Ge("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=Ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=Ge("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=Ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=Ge("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=Ge("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=Ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=Ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=Ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=Ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=Ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=Ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=Ge("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),eS="-",U$=t=>{const e=V$(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(eS);return a[0]===""&&a.length!==1&&a.shift(),f8(a,e)||z$(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},f8=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?f8(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(eS);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},P4=/^\[(.+)\]$/,z$=t=>{if(P4.test(t)){const e=P4.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},V$=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return $$(Object.entries(t.classGroups),n).forEach(([i,o])=>{ib(o,r,i,e)}),r},ib=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:B4(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(W$(s)){ib(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ib(o,B4(e,i),n,r)})})},B4=(t,e)=>{let n=t;return e.split(eS).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},W$=t=>t.isThemeGetter,$$=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,H$=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},h8="!",q$=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let l=0,u=0,f;for(let y=0;y<a.length;y++){let E=a[y];if(l===0){if(E===s&&(r||a.slice(y,y+i)===e)){c.push(a.slice(u,y)),u=y+i;continue}if(E==="/"){f=y;continue}}E==="["?l++:E==="]"&&l--}const h=c.length===0?a:a.substring(u),m=h.startsWith(h8),v=m?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},K$=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},G$=t=>({cache:H$(t.cacheSize),parseClassName:q$(t),...U$(t)}),Q$=/\s+/,Y$=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Q$);let a="";for(let c=o.length-1;c>=0;c-=1){const l=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(l);let v=!!m,g=r(v?h.substring(0,m):h);if(!g){if(!v){a=l+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=l+(a.length>0?" "+a:a);continue}v=!1}const y=K$(u).join(":"),E=f?y+h8:y,w=E+g;if(i.includes(w))continue;i.push(w);const x=s(g,v);for(let b=0;b<x.length;++b){const D=x[b];i.push(E+D)}a=l+(a.length>0?" "+a:a)}return a};function X$(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=p8(e))&&(r&&(r+=" "),r+=n);return r}const p8=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=p8(t[r]))&&(n&&(n+=" "),n+=e);return n};function Z$(t,...e){let n,r,s,i=o;function o(c){const l=e.reduce((u,f)=>f(u),t());return n=G$(l),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const l=r(c);if(l)return l;const u=Y$(c,n);return s(c,u),u}return function(){return i(X$.apply(null,arguments))}}const fn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},m8=/^\[(?:([a-z-]+):)?(.+)\]$/i,J$=/^\d+\/\d+$/,eH=new Set(["px","full","screen"]),tH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xo=t=>Td(t)||eH.has(t)||J$.test(t),ma=t=>Pf(t,"length",hH),Td=t=>!!t&&!Number.isNaN(Number(t)),i1=t=>Pf(t,"number",Td),ph=t=>!!t&&Number.isInteger(Number(t)),oH=t=>t.endsWith("%")&&Td(t.slice(0,-1)),ot=t=>m8.test(t),ga=t=>tH.test(t),aH=new Set(["length","size","percentage"]),cH=t=>Pf(t,aH,g8),lH=t=>Pf(t,"position",g8),uH=new Set(["image","url"]),dH=t=>Pf(t,uH,mH),fH=t=>Pf(t,"",pH),mh=()=>!0,Pf=(t,e,n)=>{const r=m8.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},hH=t=>nH.test(t)&&!rH.test(t),g8=()=>!1,pH=t=>sH.test(t),mH=t=>iH.test(t),gH=()=>{const t=fn("colors"),e=fn("spacing"),n=fn("blur"),r=fn("brightness"),s=fn("borderColor"),i=fn("borderRadius"),o=fn("borderSpacing"),a=fn("borderWidth"),c=fn("contrast"),l=fn("grayscale"),u=fn("hueRotate"),f=fn("invert"),h=fn("gap"),m=fn("gradientColorStops"),v=fn("gradientColorStopPositions"),g=fn("inset"),y=fn("margin"),E=fn("opacity"),w=fn("padding"),x=fn("saturate"),b=fn("scale"),D=fn("sepia"),L=fn("skew"),T=fn("space"),R=fn("translate"),F=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",ot,e],W=()=>[ot,e],S=()=>["",xo,ma],_=()=>["auto",Td,ot],C=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ot],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Td,ot];return{cacheSize:500,separator:":",theme:{colors:[mh],spacing:[xo,ma],blur:["none","",ga,ot],brightness:B(),borderColor:[t],borderRadius:["none","","full",ga,ot],borderSpacing:W(),borderWidth:S(),contrast:B(),grayscale:z(),hueRotate:B(),invert:z(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[oH,ma],inset:U(),margin:U(),opacity:B(),padding:W(),saturate:B(),scale:B(),sepia:z(),skew:B(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",ot]}],container:["container"],columns:[{columns:[ga]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...C(),ot]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ph,ot]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ot]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",ph,ot]}],"grid-cols":[{"grid-cols":[mh]}],"col-start-end":[{col:["auto",{span:["full",ph,ot]},ot]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[mh]}],"row-start-end":[{row:["auto",{span:[ph,ot]},ot]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ot]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ot]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ot,e]}],"min-w":[{"min-w":[ot,e,"min","max","fit"]}],"max-w":[{"max-w":[ot,e,"none","full","min","max","fit","prose",{screen:[ga]},ga]}],h:[{h:[ot,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ot,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ot,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ot,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ga,ma]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",i1]}],"font-family":[{font:[mh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ot]}],"line-clamp":[{"line-clamp":["none",Td,i1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xo,ot]}],"list-image":[{"list-image":["none",ot]}],"list-style-type":[{list:["none","disc","decimal",ot]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xo,ma]}],"underline-offset":[{"underline-offset":["auto",xo,ot]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...C(),lH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[xo,ot]}],"outline-w":[{outline:[xo,ma]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:S()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[xo,ma]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ga,fH]}],"shadow-color":[{shadow:[mh]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ga,ot]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ot]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",ot]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",ot]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ph,ot]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ot]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ot]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ot]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xo,ma,i1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},yH=Z$(gH);function Be(...t){return yH(e8(t))}const vH=m$,y8=I.forwardRef(({className:t,...e},n)=>d.jsx(KP,{ref:n,className:Be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));y8.displayName=KP.displayName;const xH=vp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),v8=I.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(GP,{ref:r,className:Be(xH({variant:e}),t),...n}));v8.displayName=GP.displayName;const wH=I.forwardRef(({className:t,...e},n)=>d.jsx(XP,{ref:n,className:Be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));wH.displayName=XP.displayName;const x8=I.forwardRef(({className:t,...e},n)=>d.jsx(ZP,{ref:n,className:Be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(JA,{className:"h-4 w-4"})}));x8.displayName=ZP.displayName;const w8=I.forwardRef(({className:t,...e},n)=>d.jsx(QP,{ref:n,className:Be("text-sm font-semibold",t),...e}));w8.displayName=QP.displayName;const _8=I.forwardRef(({className:t,...e},n)=>d.jsx(YP,{ref:n,className:Be("text-sm opacity-90",t),...e}));_8.displayName=YP.displayName;function _H(){const{toasts:t}=mp();return d.jsxs(vH,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(v8,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(w8,{children:n}),r&&d.jsx(_8,{children:r})]}),s,d.jsx(x8,{})]},e)}),d.jsx(y8,{})]})}var EH=Q2[" useId ".trim().toString()]||(()=>{}),bH=0;function Yi(t){const[e,n]=I.useState(EH());return tr(()=>{n(r=>r??String(bH++))},[t]),e?`radix-${e}`:""}const AH=["top","right","bottom","left"],Sc=Math.min,Ps=Math.max,Ry=Math.round,Om=Math.floor,Xi=t=>({x:t,y:t}),SH={left:"right",right:"left",bottom:"top",top:"bottom"},CH={start:"end",end:"start"};function ob(t,e,n){return Ps(t,Sc(e,n))}function Xo(t,e){return typeof t=="function"?t(e):t}function Zo(t){return t.split("-")[0]}function Bf(t){return t.split("-")[1]}function tS(t){return t==="x"?"y":"x"}function nS(t){return t==="y"?"height":"width"}function Ho(t){return["top","bottom"].includes(Zo(t))?"y":"x"}function rS(t){return tS(Ho(t))}function TH(t,e,n){n===void 0&&(n=!1);const r=Bf(t),s=rS(t),i=nS(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=ky(o)),[o,ky(o)]}function IH(t){const e=ky(t);return[ab(t),e,ab(e)]}function ab(t){return t.replace(/start|end/g,e=>CH[e])}function RH(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function kH(t,e,n,r){const s=Bf(t);let i=RH(Zo(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(ab)))),i}function ky(t){return t.replace(/left|right|bottom|top/g,e=>SH[e])}function NH(t){return{top:0,right:0,bottom:0,left:0,...t}}function E8(t){return typeof t!="number"?NH(t):{top:t,right:t,bottom:t,left:t}}function Ny(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function O4(t,e,n){let{reference:r,floating:s}=t;const i=Ho(e),o=rS(e),a=nS(o),c=Zo(e),l=i==="y",u=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let m;switch(c){case"top":m={x:u,y:r.y-s.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Bf(e)){case"start":m[o]-=h*(n&&l?-1:1);break;case"end":m[o]+=h*(n&&l?-1:1);break}return m}const MH=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:f}=O4(l,r,c),h=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:E}=a[g],{x:w,y:x,data:b,reset:D}=await E({x:u,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:l,platform:o,elements:{reference:t,floating:e}});u=w??u,f=x??f,m={...m,[y]:{...m[y],...b}},D&&v<=50&&(v++,typeof D=="object"&&(D.placement&&(h=D.placement),D.rects&&(l=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:u,y:f}=O4(l,h,c)),g=-1)}return{x:u,y:f,placement:h,strategy:s,middlewareData:m}};async function D0(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Xo(e,t),v=E8(m),y=a[h?f==="floating"?"reference":"floating":f],E=Ny(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},D=Ny(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:x,strategy:c}):w);return{top:(E.top-D.top+v.top)/b.y,bottom:(D.bottom-E.bottom+v.bottom)/b.y,left:(E.left-D.left+v.left)/b.x,right:(D.right-E.right+v.right)/b.x}}const DH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:l,padding:u=0}=Xo(t,e)||{};if(l==null)return{};const f=E8(u),h={x:n,y:r},m=rS(s),v=nS(m),g=await o.getDimensions(l),y=m==="y",E=y?"top":"left",w=y?"bottom":"right",x=y?"clientHeight":"clientWidth",b=i.reference[v]+i.reference[m]-h[m]-i.floating[v],D=h[m]-i.reference[m],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let T=L?L[x]:0;(!T||!await(o.isElement==null?void 0:o.isElement(L)))&&(T=a.floating[x]||i.floating[v]);const R=b/2-D/2,F=T/2-g[v]/2-1,P=Sc(f[E],F),U=Sc(f[w],F),W=P,S=T-g[v]-U,_=T/2-g[v]/2+R,C=ob(W,_,S),O=!c.arrow&&Bf(s)!=null&&_!==C&&i.reference[v]/2-(_<W?P:U)-g[v]/2<0,H=O?_<W?_-W:_-S:0;return{[m]:h[m]+H,data:{[m]:C,centerOffset:_-C-H,...O&&{alignmentOffset:H}},reset:O}}}),PH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=Xo(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Zo(s),w=Ho(a),x=Zo(a)===a,b=await(c.isRTL==null?void 0:c.isRTL(l.floating)),D=h||(x||!g?[ky(a)]:IH(a)),L=v!=="none";!h&&L&&D.push(...kH(a,g,v,b));const T=[a,...D],R=await D0(e,y),F=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&F.push(R[E]),f){const C=TH(s,o,b);F.push(R[C[0]],R[C[1]])}if(P=[...P,{placement:s,overflows:F}],!F.every(C=>C<=0)){var U,W;const C=(((U=i.flip)==null?void 0:U.index)||0)+1,O=T[C];if(O){var S;const j=f==="alignment"?w!==Ho(O):!1,z=((S=P[0])==null?void 0:S.overflows[0])>0;if(!j||z)return{data:{index:C,overflows:P},reset:{placement:O}}}let H=(W=P.filter(j=>j.overflows[0]<=0).sort((j,z)=>j.overflows[1]-z.overflows[1])[0])==null?void 0:W.placement;if(!H)switch(m){case"bestFit":{var _;const j=(_=P.filter(z=>{if(L){const K=Ho(z.placement);return K===w||K==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(K=>K>0).reduce((K,B)=>K+B,0)]).sort((z,K)=>z[1]-K[1])[0])==null?void 0:_[0];j&&(H=j);break}case"initialPlacement":H=a;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function L4(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function j4(t){return AH.some(e=>t[e]>=0)}const BH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Xo(t,e);switch(r){case"referenceHidden":{const i=await D0(e,{...s,elementContext:"reference"}),o=L4(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:j4(o)}}}case"escaped":{const i=await D0(e,{...s,altBoundary:!0}),o=L4(i,n.floating);return{data:{escapedOffsets:o,escaped:j4(o)}}}default:return{}}}}};async function OH(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Zo(n),a=Bf(n),c=Ho(n)==="y",l=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=Xo(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*u,y:h*l}:{x:h*l,y:m*u}}const LH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await OH(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},jH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:E,y:w}=y;return{x:E,y:w}}},...c}=Xo(t,e),l={x:n,y:r},u=await D0(e,c),f=Ho(Zo(s)),h=tS(f);let m=l[h],v=l[f];if(i){const y=h==="y"?"top":"left",E=h==="y"?"bottom":"right",w=m+u[y],x=m-u[E];m=ob(w,m,x)}if(o){const y=f==="y"?"top":"left",E=f==="y"?"bottom":"right",w=v+u[y],x=v-u[E];v=ob(w,v,x)}const g=a.fn({...e,[h]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[f]:o}}}}}},FH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=Xo(t,e),u={x:n,y:r},f=Ho(s),h=tS(f);let m=u[h],v=u[f];const g=Xo(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=h==="y"?"height":"width",b=i.reference[h]-i.floating[x]+y.mainAxis,D=i.reference[h]+i.reference[x]-y.mainAxis;m<b?m=b:m>D&&(m=D)}if(l){var E,w;const x=h==="y"?"width":"height",b=["top","left"].includes(Zo(s)),D=i.reference[f]-i.floating[x]+(b&&((E=o.offset)==null?void 0:E[f])||0)+(b?0:y.crossAxis),L=i.reference[f]+i.reference[x]+(b?0:((w=o.offset)==null?void 0:w[f])||0)-(b?y.crossAxis:0);v<D?v=D:v>L&&(v=L)}return{[h]:m,[f]:v}}}},UH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...l}=Xo(t,e),u=await D0(e,l),f=Zo(s),h=Bf(s),m=Ho(s)==="y",{width:v,height:g}=i.floating;let y,E;f==="top"||f==="bottom"?(y=f,E=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,y=h==="end"?"top":"bottom");const w=g-u.top-u.bottom,x=v-u.left-u.right,b=Sc(g-u[y],w),D=Sc(v-u[E],x),L=!e.middlewareData.shift;let T=b,R=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=w),L&&!h){const P=Ps(u.left,0),U=Ps(u.right,0),W=Ps(u.top,0),S=Ps(u.bottom,0);m?R=v-2*(P!==0||U!==0?P+U:Ps(u.left,u.right)):T=g-2*(W!==0||S!==0?W+S:Ps(u.top,u.bottom))}await c({...e,availableWidth:R,availableHeight:T});const F=await o.getDimensions(a.floating);return v!==F.width||g!==F.height?{reset:{rects:!0}}:{}}}};function nx(){return typeof window<"u"}function Of(t){return b8(t)?(t.nodeName||"").toLowerCase():"#document"}function js(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ao(t){var e;return(e=(b8(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function b8(t){return nx()?t instanceof Node||t instanceof js(t).Node:!1}function Ci(t){return nx()?t instanceof Element||t instanceof js(t).Element:!1}function ro(t){return nx()?t instanceof HTMLElement||t instanceof js(t).HTMLElement:!1}function F4(t){return!nx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof js(t).ShadowRoot}function _p(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ti(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function zH(t){return["table","td","th"].includes(Of(t))}function rx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function sS(t){const e=iS(),n=Ci(t)?Ti(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function VH(t){let e=Cc(t);for(;ro(e)&&!cf(e);){if(sS(e))return e;if(rx(e))return null;e=Cc(e)}return null}function iS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cf(t){return["html","body","#document"].includes(Of(t))}function Ti(t){return js(t).getComputedStyle(t)}function sx(t){return Ci(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Cc(t){if(Of(t)==="html")return t;const e=t.assignedSlot||t.parentNode||F4(t)&&t.host||ao(t);return F4(e)?e.host:e}function A8(t){const e=Cc(t);return cf(e)?t.ownerDocument?t.ownerDocument.body:t.body:ro(e)&&_p(e)?e:A8(e)}function P0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=A8(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=js(s);if(i){const a=cb(o);return e.concat(o,o.visualViewport||[],_p(s)?s:[],a&&n?P0(a):[])}return e.concat(s,P0(s,[],n))}function cb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function S8(t){const e=Ti(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ro(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ry(n)!==i||Ry(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function oS(t){return Ci(t)?t:t.contextElement}function Id(t){const e=oS(t);if(!ro(e))return Xi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=S8(e);let o=(i?Ry(n.width):n.width)/r,a=(i?Ry(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const WH=Xi(0);function C8(t){const e=js(t);return!iS()||!e.visualViewport?WH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $H(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==js(t)?!1:e}function ql(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=oS(t);let o=Xi(1);e&&(r?Ci(r)&&(o=Id(r)):o=Id(t));const a=$H(i,n,r)?C8(i):Xi(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(i){const h=js(i),m=r&&Ci(r)?js(r):r;let v=h,g=cb(v);for(;g&&r&&m!==v;){const y=Id(g),E=g.getBoundingClientRect(),w=Ti(g),x=E.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,b=E.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,l*=y.y,u*=y.x,f*=y.y,c+=x,l+=b,v=js(g),g=cb(v)}}return Ny({width:u,height:f,x:c,y:l})}function aS(t,e){const n=sx(t).scrollLeft;return e?e.left+n:ql(ao(t)).left+n}function T8(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:aS(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function HH(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ao(r),a=e?rx(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},l=Xi(1);const u=Xi(0),f=ro(r);if((f||!f&&!i)&&((Of(r)!=="body"||_p(o))&&(c=sx(r)),ro(r))){const m=ql(r);l=Id(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const h=o&&!f&&!i?T8(o,c,!0):Xi(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+h.x,y:n.y*l.y-c.scrollTop*l.y+u.y+h.y}}function qH(t){return Array.from(t.getClientRects())}function KH(t){const e=ao(t),n=sx(t),r=t.ownerDocument.body,s=Ps(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Ps(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+aS(t);const a=-n.scrollTop;return Ti(r).direction==="rtl"&&(o+=Ps(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function GH(t,e){const n=js(t),r=ao(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const l=iS();(!l||l&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function QH(t,e){const n=ql(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ro(t)?Id(t):Xi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,l=r*i.y;return{width:o,height:a,x:c,y:l}}function U4(t,e,n){let r;if(e==="viewport")r=GH(t,n);else if(e==="document")r=KH(ao(t));else if(Ci(e))r=QH(e,n);else{const s=C8(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ny(r)}function I8(t,e){const n=Cc(t);return n===e||!Ci(n)||cf(n)?!1:Ti(n).position==="fixed"||I8(n,e)}function YH(t,e){const n=e.get(t);if(n)return n;let r=P0(t,[],!1).filter(a=>Ci(a)&&Of(a)!=="body"),s=null;const i=Ti(t).position==="fixed";let o=i?Cc(t):t;for(;Ci(o)&&!cf(o);){const a=Ti(o),c=sS(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||_p(o)&&!c&&I8(t,o))?r=r.filter(u=>u!==o):s=a,o=Cc(o)}return e.set(t,r),r}function XH(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?rx(e)?[]:YH(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const f=U4(e,u,s);return l.top=Ps(f.top,l.top),l.right=Sc(f.right,l.right),l.bottom=Sc(f.bottom,l.bottom),l.left=Ps(f.left,l.left),l},U4(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ZH(t){const{width:e,height:n}=S8(t);return{width:e,height:n}}function JH(t,e,n){const r=ro(e),s=ao(e),i=n==="fixed",o=ql(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Xi(0);function l(){c.x=aS(s)}if(r||!r&&!i)if((Of(e)!=="body"||_p(s))&&(a=sx(e)),r){const m=ql(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&l();i&&!r&&s&&l();const u=s&&!r&&!i?T8(s,a):Xi(0),f=o.left+a.scrollLeft-c.x-u.x,h=o.top+a.scrollTop-c.y-u.y;return{x:f,y:h,width:o.width,height:o.height}}function o1(t){return Ti(t).position==="static"}function z4(t,e){if(!ro(t)||Ti(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ao(t)===n&&(n=n.ownerDocument.body),n}function R8(t,e){const n=js(t);if(rx(t))return n;if(!ro(t)){let s=Cc(t);for(;s&&!cf(s);){if(Ci(s)&&!o1(s))return s;s=Cc(s)}return n}let r=z4(t,e);for(;r&&zH(r)&&o1(r);)r=z4(r,e);return r&&cf(r)&&o1(r)&&!sS(r)?n:r||VH(t)||n}const eq=async function(t){const e=this.getOffsetParent||R8,n=this.getDimensions,r=await n(t.floating);return{reference:JH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tq(t){return Ti(t).direction==="rtl"}const nq={convertOffsetParentRelativeRectToViewportRelativeRect:HH,getDocumentElement:ao,getClippingRect:XH,getOffsetParent:R8,getElementRects:eq,getClientRects:qH,getDimensions:ZH,getScale:Id,isElement:Ci,isRTL:tq};function k8(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function rq(t,e){let n=null,r;const s=ao(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const l=t.getBoundingClientRect(),{left:u,top:f,width:h,height:m}=l;if(a||e(),!h||!m)return;const v=Om(f),g=Om(s.clientWidth-(u+h)),y=Om(s.clientHeight-(f+m)),E=Om(u),x={rootMargin:-v+"px "+-g+"px "+-y+"px "+-E+"px",threshold:Ps(0,Sc(1,c))||1};let b=!0;function D(L){const T=L[0].intersectionRatio;if(T!==c){if(!b)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!k8(l,t.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(D,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,x)}n.observe(t)}return o(!0),i}function sq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=oS(t),u=s||i?[...l?P0(l):[],...P0(e)]:[];u.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const f=l&&a?rq(l,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(E=>{let[w]=E;w&&w.target===l&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),l&&!c&&m.observe(l),m.observe(e));let v,g=c?ql(t):null;c&&y();function y(){const E=ql(t);g&&!k8(g,E)&&n(),g=E,v=requestAnimationFrame(y)}return n(),()=>{var E;u.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(E=m)==null||E.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const iq=LH,oq=jH,aq=PH,cq=UH,lq=BH,V4=DH,uq=FH,dq=(t,e,n)=>{const r=new Map,s={platform:nq,...n},i={...s.platform,_c:r};return MH(t,e,{...s,platform:i})};var bg=typeof document<"u"?I.useLayoutEffect:I.useEffect;function My(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!My(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!My(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function N8(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function W4(t,e){const n=N8(t);return Math.round(e*n)/n}function a1(t){const e=I.useRef(t);return bg(()=>{e.current=t}),e}function fq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[u,f]=I.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=I.useState(r);My(h,r)||m(r);const[v,g]=I.useState(null),[y,E]=I.useState(null),w=I.useCallback(j=>{j!==L.current&&(L.current=j,g(j))},[]),x=I.useCallback(j=>{j!==T.current&&(T.current=j,E(j))},[]),b=i||v,D=o||y,L=I.useRef(null),T=I.useRef(null),R=I.useRef(u),F=c!=null,P=a1(c),U=a1(s),W=a1(l),S=I.useCallback(()=>{if(!L.current||!T.current)return;const j={placement:e,strategy:n,middleware:h};U.current&&(j.platform=U.current),dq(L.current,T.current,j).then(z=>{const K={...z,isPositioned:W.current!==!1};_.current&&!My(R.current,K)&&(R.current=K,jc.flushSync(()=>{f(K)}))})},[h,e,n,U,W]);bg(()=>{l===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[l]);const _=I.useRef(!1);bg(()=>(_.current=!0,()=>{_.current=!1}),[]),bg(()=>{if(b&&(L.current=b),D&&(T.current=D),b&&D){if(P.current)return P.current(b,D,S);S()}},[b,D,S,P,F]);const C=I.useMemo(()=>({reference:L,floating:T,setReference:w,setFloating:x}),[w,x]),O=I.useMemo(()=>({reference:b,floating:D}),[b,D]),H=I.useMemo(()=>{const j={position:n,left:0,top:0};if(!O.floating)return j;const z=W4(O.floating,u.x),K=W4(O.floating,u.y);return a?{...j,transform:"translate("+z+"px, "+K+"px)",...N8(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:K}},[n,a,O.floating,u.x,u.y]);return I.useMemo(()=>({...u,update:S,refs:C,elements:O,floatingStyles:H}),[u,S,C,O,H])}const hq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?V4({element:r.current,padding:s}).fn(n):{}:r?V4({element:r,padding:s}).fn(n):{}}}},pq=(t,e)=>({...iq(t),options:[t,e]}),mq=(t,e)=>({...oq(t),options:[t,e]}),gq=(t,e)=>({...uq(t),options:[t,e]}),yq=(t,e)=>({...aq(t),options:[t,e]}),vq=(t,e)=>({...cq(t),options:[t,e]}),xq=(t,e)=>({...lq(t),options:[t,e]}),wq=(t,e)=>({...hq(t),options:[t,e]});var _q="Arrow",M8=I.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(Ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});M8.displayName=_q;var Eq=M8;function D8(t){const[e,n]=I.useState(void 0);return tr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var cS="Popper",[P8,Lf]=Ws(cS),[bq,B8]=P8(cS),O8=t=>{const{__scopePopper:e,children:n}=t,[r,s]=I.useState(null);return d.jsx(bq,{scope:e,anchor:r,onAnchorChange:s,children:n})};O8.displayName=cS;var L8="PopperAnchor",j8=I.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=B8(L8,n),o=I.useRef(null),a=It(e,o);return I.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(Ve.div,{...s,ref:a})});j8.displayName=L8;var lS="PopperContent",[Aq,Sq]=P8(lS),F8=I.forwardRef((t,e)=>{var ce,le,ye,Re,be,xe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=t,y=B8(lS,n),[E,w]=I.useState(null),x=It(e,Oe=>w(Oe)),[b,D]=I.useState(null),L=D8(b),T=(L==null?void 0:L.width)??0,R=(L==null?void 0:L.height)??0,F=r+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},U=Array.isArray(l)?l:[l],W=U.length>0,S={padding:P,boundary:U.filter(Tq),altBoundary:W},{refs:_,floatingStyles:C,placement:O,isPositioned:H,middlewareData:j}=fq({strategy:"fixed",placement:F,whileElementsMounted:(...Oe)=>sq(...Oe,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[pq({mainAxis:s+R,alignmentAxis:o}),c&&mq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?gq():void 0,...S}),c&&yq({...S}),vq({...S,apply:({elements:Oe,rects:Te,availableWidth:He,availableHeight:Rt})=>{const{width:rt,height:ht}=Te.reference,zn=Oe.floating.style;zn.setProperty("--radix-popper-available-width",`${He}px`),zn.setProperty("--radix-popper-available-height",`${Rt}px`),zn.setProperty("--radix-popper-anchor-width",`${rt}px`),zn.setProperty("--radix-popper-anchor-height",`${ht}px`)}}),b&&wq({element:b,padding:a}),Iq({arrowWidth:T,arrowHeight:R}),h&&xq({strategy:"referenceHidden",...S})]}),[z,K]=V8(O),B=os(v);tr(()=>{H&&(B==null||B())},[H,B]);const A=(ce=j.arrow)==null?void 0:ce.x,$=(le=j.arrow)==null?void 0:le.y,X=((ye=j.arrow)==null?void 0:ye.centerOffset)!==0,[oe,ae]=I.useState();return tr(()=>{E&&ae(window.getComputedStyle(E).zIndex)},[E]),d.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...C,transform:H?C.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(Re=j.transformOrigin)==null?void 0:Re.x,(be=j.transformOrigin)==null?void 0:be.y].join(" "),...((xe=j.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(Aq,{scope:n,placedSide:z,onArrowChange:D,arrowX:A,arrowY:$,shouldHideArrow:X,children:d.jsx(Ve.div,{"data-side":z,"data-align":K,...g,ref:x,style:{...g.style,animation:H?void 0:"none"}})})})});F8.displayName=lS;var U8="PopperArrow",Cq={top:"bottom",right:"left",bottom:"top",left:"right"},z8=I.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Sq(U8,r),o=Cq[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(Eq,{...s,ref:n,style:{...s.style,display:"block"}})})});z8.displayName=U8;function Tq(t){return t!==null}var Iq=t=>({name:"transformOrigin",options:t,fn(e){var y,E,w;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[l,u]=V8(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let v="",g="";return l==="bottom"?(v=o?f:`${h}px`,g=`${-c}px`):l==="top"?(v=o?f:`${h}px`,g=`${r.floating.height+c}px`):l==="right"?(v=`${-c}px`,g=o?f:`${m}px`):l==="left"&&(v=`${r.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:v,y:g}}}});function V8(t){const[e,n="center"]=t.split("-");return[e,n]}var W8=O8,uS=j8,dS=F8,fS=z8,[ix,Kpe]=Ws("Tooltip",[Lf]),hS=Lf(),$8="TooltipProvider",Rq=700,$4="tooltip.open",[kq,H8]=ix($8),q8=t=>{const{__scopeTooltip:e,delayDuration:n=Rq,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=I.useRef(!0),a=I.useRef(!1),c=I.useRef(0);return I.useEffect(()=>{const l=c.current;return()=>window.clearTimeout(l)},[]),d.jsx(kq,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:I.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:I.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:I.useCallback(l=>{a.current=l},[]),disableHoverableContent:s,children:i})};q8.displayName=$8;var K8="Tooltip",[Gpe,ox]=ix(K8),lb="TooltipTrigger",Nq=I.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ox(lb,n),i=H8(lb,n),o=hS(n),a=I.useRef(null),c=It(e,a,s.onTriggerChange),l=I.useRef(!1),u=I.useRef(!1),f=I.useCallback(()=>l.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(uS,{asChild:!0,...o,children:d.jsx(Ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Ae(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ae(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Ae(t.onPointerDown,()=>{s.open&&s.onClose(),l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ae(t.onFocus,()=>{l.current||s.onOpen()}),onBlur:Ae(t.onBlur,s.onClose),onClick:Ae(t.onClick,s.onClose)})})});Nq.displayName=lb;var Mq="TooltipPortal",[Qpe,Dq]=ix(Mq,{forceMount:void 0}),lf="TooltipContent",G8=I.forwardRef((t,e)=>{const n=Dq(lf,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=ox(lf,t.__scopeTooltip);return d.jsx(ki,{present:r||o.open,children:o.disableHoverableContent?d.jsx(Q8,{side:s,...i,ref:e}):d.jsx(Pq,{side:s,...i,ref:e})})}),Pq=I.forwardRef((t,e)=>{const n=ox(lf,t.__scopeTooltip),r=H8(lf,t.__scopeTooltip),s=I.useRef(null),i=It(e,s),[o,a]=I.useState(null),{trigger:c,onClose:l}=n,u=s.current,{onPointerInTransitChange:f}=r,h=I.useCallback(()=>{a(null),f(!1)},[f]),m=I.useCallback((v,g)=>{const y=v.currentTarget,E={x:v.clientX,y:v.clientY},w=Fq(E,y.getBoundingClientRect()),x=Uq(E,w),b=zq(g.getBoundingClientRect()),D=Wq([...x,...b]);a(D),f(!0)},[f]);return I.useEffect(()=>()=>h(),[h]),I.useEffect(()=>{if(c&&u){const v=y=>m(y,u),g=y=>m(y,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",g)}}},[c,u,m,h]),I.useEffect(()=>{if(o){const v=g=>{const y=g.target,E={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),x=!Vq(E,o);w?h():x&&(h(),l())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,o,l,h]),d.jsx(Q8,{...t,ref:i})}),[Bq,Oq]=ix(K8,{isInside:!1}),Lq=RW("TooltipContent"),Q8=I.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=ox(lf,n),l=hS(n),{onClose:u}=c;return I.useEffect(()=>(document.addEventListener($4,u),()=>document.removeEventListener($4,u)),[u]),I.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),d.jsx(Df,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:d.jsxs(dS,{"data-state":c.stateAttribute,...l,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(Lq,{children:r}),d.jsx(Bq,{scope:n,isInside:!0,children:d.jsx(XW,{id:c.contentId,role:"tooltip",children:s||r})})]})})});G8.displayName=lf;var Y8="TooltipArrow",jq=I.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=hS(n);return Oq(Y8,n).isInside?null:d.jsx(fS,{...s,...r,ref:e})});jq.displayName=Y8;function Fq(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Uq(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function zq(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function Vq(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],l=a.x,u=a.y,f=c.x,h=c.y;u>r!=h>r&&n<(f-l)*(r-u)/(h-u)+l&&(s=!s)}return s}function Wq(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),$q(e)}function $q(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Hq=q8,X8=G8;const qq=Hq,Kq=I.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(X8,{ref:r,sideOffset:e,className:Be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));Kq.displayName=X8.displayName;const Ou=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Gq(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ub(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ep(t,...e){if(!Gq(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Qq(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ub(t.outputLen),ub(t.blockLen)}function Dy(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Yq(t,e){Ep(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function uf(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function c1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Bi(t,e){return t<<32-e|t>>>e}function Xq(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function pS(t){return typeof t=="string"&&(t=Xq(t)),Ep(t),t}function Zq(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Ep(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class Z8{}function J8(t){const e=r=>t().update(pS(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function e6(t=32){if(Ou&&typeof Ou.getRandomValues=="function")return Ou.getRandomValues(new Uint8Array(t));if(Ou&&typeof Ou.randomBytes=="function")return Uint8Array.from(Ou.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function Jq(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function eK(t,e,n){return t&e^~t&n}function tK(t,e,n){return t&e^t&n^e&n}class t6 extends Z8{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=c1(this.buffer)}update(e){Dy(this),e=pS(e),Ep(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=c1(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Dy(this),Yq(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,uf(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;Jq(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=c1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const ya=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Lm=BigInt(2**32-1),H4=BigInt(32);function nK(t,e=!1){return e?{h:Number(t&Lm),l:Number(t>>H4&Lm)}:{h:Number(t>>H4&Lm)|0,l:Number(t&Lm)|0}}function rK(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=nK(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const q4=(t,e,n)=>t>>>n,K4=(t,e,n)=>t<<32-n|e>>>n,Lu=(t,e,n)=>t>>>n|e<<32-n,ju=(t,e,n)=>t<<32-n|e>>>n,jm=(t,e,n)=>t<<64-n|e>>>n-32,Fm=(t,e,n)=>t>>>n-32|e<<64-n;function wo(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const sK=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),iK=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,oK=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),aK=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,cK=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),lK=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,uK=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),va=new Uint32Array(64);class dK extends t6{constructor(e=32){super(64,e,8,!1),this.A=ya[0]|0,this.B=ya[1]|0,this.C=ya[2]|0,this.D=ya[3]|0,this.E=ya[4]|0,this.F=ya[5]|0,this.G=ya[6]|0,this.H=ya[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)va[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=va[f-15],m=va[f-2],v=Bi(h,7)^Bi(h,18)^h>>>3,g=Bi(m,17)^Bi(m,19)^m>>>10;va[f]=g+va[f-7]+v+va[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const h=Bi(a,6)^Bi(a,11)^Bi(a,25),m=u+h+eK(a,c,l)+uK[f]+va[f]|0,g=(Bi(r,2)^Bi(r,13)^Bi(r,22))+tK(r,s,i)|0;u=l,l=c,c=a,a=o+m|0,o=i,i=s,s=r,r=m+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){uf(va)}destroy(){this.set(0,0,0,0,0,0,0,0),uf(this.buffer)}}const n6=rK(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),fK=n6[0],hK=n6[1],xa=new Uint32Array(80),wa=new Uint32Array(80);class pK extends t6{constructor(e=64){super(128,e,16,!1),this.Ah=Pr[0]|0,this.Al=Pr[1]|0,this.Bh=Pr[2]|0,this.Bl=Pr[3]|0,this.Ch=Pr[4]|0,this.Cl=Pr[5]|0,this.Dh=Pr[6]|0,this.Dl=Pr[7]|0,this.Eh=Pr[8]|0,this.El=Pr[9]|0,this.Fh=Pr[10]|0,this.Fl=Pr[11]|0,this.Gh=Pr[12]|0,this.Gl=Pr[13]|0,this.Hh=Pr[14]|0,this.Hl=Pr[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:m,Gl:v,Hh:g,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,f,h,m,v,g,y]}set(e,n,r,s,i,o,a,c,l,u,f,h,m,v,g,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=m|0,this.Gl=v|0,this.Hh=g|0,this.Hl=y|0}process(e,n){for(let x=0;x<16;x++,n+=4)xa[x]=e.getUint32(n),wa[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const b=xa[x-15]|0,D=wa[x-15]|0,L=Lu(b,D,1)^Lu(b,D,8)^q4(b,D,7),T=ju(b,D,1)^ju(b,D,8)^K4(b,D,7),R=xa[x-2]|0,F=wa[x-2]|0,P=Lu(R,F,19)^jm(R,F,61)^q4(R,F,6),U=ju(R,F,19)^Fm(R,F,61)^K4(R,F,6),W=oK(T,U,wa[x-7],wa[x-16]),S=aK(W,L,P,xa[x-7],xa[x-16]);xa[x]=S|0,wa[x]=W|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:m,Fl:v,Gh:g,Gl:y,Hh:E,Hl:w}=this;for(let x=0;x<80;x++){const b=Lu(f,h,14)^Lu(f,h,18)^jm(f,h,41),D=ju(f,h,14)^ju(f,h,18)^Fm(f,h,41),L=f&m^~f&g,T=h&v^~h&y,R=cK(w,D,T,hK[x],wa[x]),F=lK(R,E,b,L,fK[x],xa[x]),P=R|0,U=Lu(r,s,28)^jm(r,s,34)^jm(r,s,39),W=ju(r,s,28)^Fm(r,s,34)^Fm(r,s,39),S=r&i^r&a^i&a,_=s&o^s&c^o&c;E=g|0,w=y|0,g=m|0,y=v|0,m=f|0,v=h|0,{h:f,l:h}=wo(l|0,u|0,F|0,P|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const C=sK(P,W,_);r=iK(C,F,U,S),s=C|0}({h:r,l:s}=wo(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=wo(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=wo(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=wo(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=wo(this.Eh|0,this.El|0,f|0,h|0),{h:m,l:v}=wo(this.Fh|0,this.Fl|0,m|0,v|0),{h:g,l:y}=wo(this.Gh|0,this.Gl|0,g|0,y|0),{h:E,l:w}=wo(this.Hh|0,this.Hl|0,E|0,w|0),this.set(r,s,i,o,a,c,l,u,f,h,m,v,g,y,E,w)}roundClean(){uf(xa,wa)}destroy(){uf(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const r6=J8(()=>new dK),mK=J8(()=>new pK);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mS=BigInt(0),db=BigInt(1);function bp(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gS(t){if(!bp(t))throw new Error("Uint8Array expected")}function mc(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Um(t){const e=t.toString(16);return e.length&1?"0"+e:e}function s6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?mS:BigInt("0x"+t)}const i6=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",gK=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function df(t){if(gS(t),i6)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=gK[t[n]];return e}const _o={_0:48,_9:57,A:65,F:70,a:97,f:102};function G4(t){if(t>=_o._0&&t<=_o._9)return t-_o._0;if(t>=_o.A&&t<=_o.F)return t-(_o.A-10);if(t>=_o.a&&t<=_o.f)return t-(_o.a-10)}function Py(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(i6)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=G4(t.charCodeAt(i)),a=G4(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function kl(t){return s6(df(t))}function n0(t){return gS(t),s6(df(Uint8Array.from(t).reverse()))}function Ap(t,e){return Py(t.toString(16).padStart(e*2,"0"))}function By(t,e){return Ap(t,e).reverse()}function Wn(t,e,n){let r;if(typeof e=="string")try{r=Py(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(bp(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function ff(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];gS(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const l1=t=>typeof t=="bigint"&&mS<=t;function yS(t,e,n){return l1(t)&&l1(e)&&l1(n)&&e<=t&&t<n}function yi(t,e,n,r){if(!yS(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function yK(t){let e;for(e=0;t>mS;t>>=db,e+=1);return e}const ax=t=>(db<<BigInt(t))-db,u1=t=>new Uint8Array(t),Q4=t=>Uint8Array.from(t);function vK(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=u1(t),s=u1(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...f)=>n(s,r,...f),c=(f=u1(0))=>{s=a(Q4([0]),f),r=a(),f.length!==0&&(s=a(Q4([1]),f),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){r=a();const m=r.slice();h.push(m),f+=r.length}return ff(...h)};return(f,h)=>{o(),c(f);let m;for(;!(m=h(l()));)c();return o(),m}}const xK={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||bp(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Sp(t,e,n={}){const r=(s,i,o)=>{const a=xK[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function Oy(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xs=BigInt(0),Cr=BigInt(1),dl=BigInt(2),wK=BigInt(3),o6=BigInt(4),a6=BigInt(5),c6=BigInt(8);function xn(t,e){const n=t%e;return n>=xs?n:e+n}function Fn(t,e,n){let r=t;for(;e-- >xs;)r*=r,r%=n;return r}function fb(t,e){if(t===xs)throw new Error("invert: expected non-zero number");if(e<=xs)throw new Error("invert: expected positive modulus, got "+e);let n=xn(t,e),r=e,s=xs,i=Cr;for(;n!==xs;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==Cr)throw new Error("invert: does not exist");return xn(s,e)}function l6(t,e){const n=(t.ORDER+Cr)/o6,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function _K(t,e){const n=(t.ORDER-a6)/c6,r=t.mul(e,dl),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,dl),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function EK(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Cr,n=0;for(;e%dl===xs;)e/=dl,n++;let r=dl;const s=Cp(t);for(;Y4(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return l6;let i=s.pow(r,e);const o=(e+Cr)/dl;return function(c,l){if(c.is0(l))return l;if(Y4(c,l)!==1)throw new Error("Cannot find square root");let u=n,f=c.mul(c.ONE,i),h=c.pow(l,e),m=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let v=1,g=c.sqr(h);for(;!c.eql(g,c.ONE);)if(v++,g=c.sqr(g),v===u)throw new Error("Cannot find square root");const y=Cr<<BigInt(u-v-1),E=c.pow(f,y);u=v,f=c.sqr(E),h=c.mul(h,f),m=c.mul(m,E)}return m}}function bK(t){return t%o6===wK?l6:t%c6===a6?_K:EK(t)}const AK=(t,e)=>(xn(t,e)&Cr)===Cr,SK=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function CK(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=SK.reduce((r,s)=>(r[s]="function",r),e);return Sp(t,n)}function TK(t,e,n){if(n<xs)throw new Error("invalid exponent, negatives unsupported");if(n===xs)return t.ONE;if(n===Cr)return e;let r=t.ONE,s=e;for(;n>xs;)n&Cr&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Cr;return r}function vS(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function Y4(t,e){const n=(t.ORDER-Cr)/dl,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function u6(t,e){e!==void 0&&ub(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Cp(t,e,n=!1,r={}){if(t<=xs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=u6(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:ax(s),ZERO:xs,ONE:Cr,create:c=>xn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return xs<=c&&c<t},is0:c=>c===xs,isOdd:c=>(c&Cr)===Cr,neg:c=>xn(-c,t),eql:(c,l)=>c===l,sqr:c=>xn(c*c,t),add:(c,l)=>xn(c+l,t),sub:(c,l)=>xn(c-l,t),mul:(c,l)=>xn(c*l,t),pow:(c,l)=>TK(a,c,l),div:(c,l)=>xn(c*fb(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>fb(c,t),sqrt:r.sqrt||(c=>(o||(o=bK(t)),o(a,c))),toBytes:c=>n?By(c,i):Ap(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?n0(c):kl(c)},invertBatch:c=>vS(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function d6(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function f6(t){const e=d6(t);return e+Math.ceil(e/2)}function IK(t,e,n=!1){const r=t.length,s=d6(e),i=f6(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?n0(t):kl(t),a=xn(o,e-Cr)+Cr;return n?By(a,s):Ap(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const X4=BigInt(0),hb=BigInt(1);function d1(t,e){const n=e.negate();return t?n:e}function h6(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function f1(t,e){h6(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=ax(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function Z4(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=hb);const l=e*r,u=l+Math.abs(a)-1,f=a===0,h=a<0,m=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:h,isNegF:m,offsetF:l}}function RK(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function kK(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const h1=new WeakMap,p6=new WeakMap;function p1(t){return p6.get(t)||1}function m6(t,e){return{constTimeNegate:d1,hasPrecomputes(n){return p1(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>X4;)r&hb&&(s=s.add(i)),i=i.double(),r>>=hb;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=f1(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=f1(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:f,isNeg:h,isNegF:m,offsetF:v}=Z4(s,c,a);s=l,f?o=o.add(d1(m,r[v])):i=i.add(d1(h,r[u]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=f1(n,e);for(let a=0;a<o.windows&&s!==X4;a++){const{nextN:c,offset:l,isZero:u,isNeg:f}=Z4(s,a,o);if(s=c,!u){const h=r[l];i=i.add(f?h.negate():h)}}return i},getPrecomputes(n,r,s){let i=h1.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&h1.set(r,s(i))),i},wNAFCached(n,r,s){const i=p1(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=p1(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){h6(r,e),p6.set(n,r),h1.delete(n)}}}function g6(t,e,n,r){RK(n,t),kK(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=yK(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=ax(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c;let h=o;for(let m=f;m>=0;m-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],E=Number(y>>BigInt(m)&l);u[E]=u[E].add(n[g])}let v=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),v=v.add(y);if(h=h.add(v),m!==0)for(let g=0;g<c;g++)h=h.double()}return h}function xS(t){return CK(t.Fp),Sp(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...u6(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Oi=BigInt(0),Yr=BigInt(1),J4=BigInt(2),NK=BigInt(8),MK={zip215:!0};function DK(t){const e=xS(t);return Sp(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function PK(t){const e=DK(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=J4<<BigInt(a*8)-Yr,u=n.create,f=Cp(e.n,e.nBitLength);function h(j,z){const K=n.sqr(j),B=n.sqr(z),A=n.add(n.mul(e.a,K),B),$=n.add(n.ONE,n.mul(e.d,n.mul(K,B)));return n.eql(A,$)}if(!h(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const m=e.uvRatio||((j,z)=>{try{return{isValid:!0,value:n.sqrt(j*n.inv(z))}}catch{return{isValid:!1,value:Oi}}}),v=e.adjustScalarBytes||(j=>j),g=e.domain||((j,z,K)=>{if(mc("phflag",K),z.length||K)throw new Error("Contexts/pre-hash are not supported");return j});function y(j,z,K=!1){const B=K?Yr:Oi;yi("coordinate "+j,z,B,l)}function E(j){if(!(j instanceof b))throw new Error("ExtendedPoint expected")}const w=Oy((j,z)=>{const{ex:K,ey:B,ez:A}=j,$=j.is0();z==null&&(z=$?NK:n.inv(A));const X=u(K*z),oe=u(B*z),ae=u(A*z);if($)return{x:Oi,y:Yr};if(ae!==Yr)throw new Error("invZ was invalid");return{x:X,y:oe}}),x=Oy(j=>{const{a:z,d:K}=e;if(j.is0())throw new Error("bad point: ZERO");const{ex:B,ey:A,ez:$,et:X}=j,oe=u(B*B),ae=u(A*A),ce=u($*$),le=u(ce*ce),ye=u(oe*z),Re=u(ce*u(ye+ae)),be=u(le+u(K*u(oe*ae)));if(Re!==be)throw new Error("bad point: equation left != right (1)");const xe=u(B*A),Oe=u($*X);if(xe!==Oe)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(z,K,B,A){y("x",z),y("y",K),y("z",B,!0),y("t",A),this.ex=z,this.ey=K,this.ez=B,this.et=A,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(z){if(z instanceof b)throw new Error("extended point not allowed");const{x:K,y:B}=z||{};return y("x",K),y("y",B),new b(K,B,Yr,u(K*B))}static normalizeZ(z){const K=vS(n,z.map(B=>B.ez));return z.map((B,A)=>B.toAffine(K[A])).map(b.fromAffine)}static msm(z,K){return g6(b,f,z,K)}_setWindowSize(z){T.setWindowSize(this,z)}assertValidity(){x(this)}equals(z){E(z);const{ex:K,ey:B,ez:A}=this,{ex:$,ey:X,ez:oe}=z,ae=u(K*oe),ce=u($*A),le=u(B*oe),ye=u(X*A);return ae===ce&&le===ye}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:z}=e,{ex:K,ey:B,ez:A}=this,$=u(K*K),X=u(B*B),oe=u(J4*u(A*A)),ae=u(z*$),ce=K+B,le=u(u(ce*ce)-$-X),ye=ae+X,Re=ye-oe,be=ae-X,xe=u(le*Re),Oe=u(ye*be),Te=u(le*be),He=u(Re*ye);return new b(xe,Oe,He,Te)}add(z){E(z);const{a:K,d:B}=e,{ex:A,ey:$,ez:X,et:oe}=this,{ex:ae,ey:ce,ez:le,et:ye}=z,Re=u(A*ae),be=u($*ce),xe=u(oe*B*ye),Oe=u(X*le),Te=u((A+$)*(ae+ce)-Re-be),He=Oe-xe,Rt=Oe+xe,rt=u(be-K*Re),ht=u(Te*He),zn=u(Rt*rt),dt=u(Te*rt),ue=u(He*Rt);return new b(ht,zn,ue,dt)}subtract(z){return this.add(z.negate())}wNAF(z){return T.wNAFCached(this,z,b.normalizeZ)}multiply(z){const K=z;yi("scalar",K,Yr,r);const{p:B,f:A}=this.wNAF(K);return b.normalizeZ([B,A])[0]}multiplyUnsafe(z,K=b.ZERO){const B=z;return yi("scalar",B,Oi,r),B===Oi?L:this.is0()||B===Yr?this:T.wNAFCachedUnsafe(this,B,b.normalizeZ,K)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine(z){return w(this,z)}clearCofactor(){const{h:z}=e;return z===Yr?this:this.multiplyUnsafe(z)}static fromHex(z,K=!1){const{d:B,a:A}=e,$=n.BYTES;z=Wn("pointHex",z,$),mc("zip215",K);const X=z.slice(),oe=z[$-1];X[$-1]=oe&-129;const ae=n0(X),ce=K?l:n.ORDER;yi("pointHex.y",ae,Oi,ce);const le=u(ae*ae),ye=u(le-Yr),Re=u(B*le-A);let{isValid:be,value:xe}=m(ye,Re);if(!be)throw new Error("Point.fromHex: invalid y coordinate");const Oe=(xe&Yr)===Yr,Te=(oe&128)!==0;if(!K&&xe===Oi&&Te)throw new Error("Point.fromHex: x=0 and x_0=1");return Te!==Oe&&(xe=u(-xe)),b.fromAffine({x:xe,y:ae})}static fromPrivateKey(z){const{scalar:K}=P(z);return D.multiply(K)}toRawBytes(){const{x:z,y:K}=this.toAffine(),B=By(K,n.BYTES);return B[B.length-1]|=z&Yr?128:0,B}toHex(){return df(this.toRawBytes())}}b.BASE=new b(e.Gx,e.Gy,Yr,u(e.Gx*e.Gy)),b.ZERO=new b(Oi,Yr,Yr,Oi);const{BASE:D,ZERO:L}=b,T=m6(b,a*8);function R(j){return xn(j,r)}function F(j){return R(n0(j))}function P(j){const z=n.BYTES;j=Wn("private key",j,z);const K=Wn("hashed private key",i(j),2*z),B=v(K.slice(0,z)),A=K.slice(z,2*z),$=F(B);return{head:B,prefix:A,scalar:$}}function U(j){const{head:z,prefix:K,scalar:B}=P(j),A=D.multiply(B),$=A.toRawBytes();return{head:z,prefix:K,scalar:B,point:A,pointBytes:$}}function W(j){return U(j).pointBytes}function S(j=Uint8Array.of(),...z){const K=ff(...z);return F(i(g(K,Wn("context",j),!!s)))}function _(j,z,K={}){j=Wn("message",j),s&&(j=s(j));const{prefix:B,scalar:A,pointBytes:$}=U(z),X=S(K.context,B,j),oe=D.multiply(X).toRawBytes(),ae=S(K.context,oe,$,j),ce=R(X+ae*A);yi("signature.s",ce,Oi,r);const le=ff(oe,By(ce,n.BYTES));return Wn("result",le,n.BYTES*2)}const C=MK;function O(j,z,K,B=C){const{context:A,zip215:$}=B,X=n.BYTES;j=Wn("signature",j,2*X),z=Wn("message",z),K=Wn("publicKey",K,X),$!==void 0&&mc("zip215",$),s&&(z=s(z));const oe=n0(j.slice(X,2*X));let ae,ce,le;try{ae=b.fromHex(K,$),ce=b.fromHex(j.slice(0,X),$),le=D.multiplyUnsafe(oe)}catch{return!1}if(!$&&ae.isSmallOrder())return!1;const ye=S(A,ce.toRawBytes(),ae.toRawBytes(),z);return ce.add(ae.multiplyUnsafe(ye)).subtract(le).clearCofactor().equals(b.ZERO)}return D._setWindowSize(8),{CURVE:e,getPublicKey:W,sign:_,verify:O,ExtendedPoint:b,utils:{getExtendedPublicKey:U,randomPrivateKey:()=>o(n.BYTES),precompute(j=8,z=b.BASE){return z._setWindowSize(j),z.multiply(BigInt(3)),z}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wS=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),eR=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const BK=BigInt(1),tR=BigInt(2);BigInt(3);const OK=BigInt(5),LK=BigInt(8);function jK(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=wS,a=t*t%i*t%i,c=Fn(a,tR,i)*a%i,l=Fn(c,BK,i)*t%i,u=Fn(l,OK,i)*l%i,f=Fn(u,e,i)*u%i,h=Fn(f,n,i)*f%i,m=Fn(h,r,i)*h%i,v=Fn(m,s,i)*m%i,g=Fn(v,s,i)*m%i,y=Fn(g,e,i)*u%i;return{pow_p_5_8:Fn(y,tR,i)*t%i,b2:a}}function FK(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function UK(t,e){const n=wS,r=xn(e*e*e,n),s=xn(r*r*e,n),i=jK(t*s).pow_p_5_8;let o=xn(t*r*i,n);const a=xn(e*o*o,n),c=o,l=xn(o*eR,n),u=a===t,f=a===xn(-t,n),h=a===xn(-t*eR,n);return u&&(o=c),(f||h)&&(o=l),AK(o,n)&&(o=xn(-o,n)),{isValid:u||f,value:o}}const nR=Cp(wS,void 0,!0),zK={a:nR.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:nR,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:LK,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:mK,randomBytes:e6,adjustScalarBytes:FK,uvRatio:UK},Tp=PK(zK);var _S={exports:{}};const VK={},WK=Object.freeze(Object.defineProperty({__proto__:null,default:VK},Symbol.toStringTag,{value:"Module"})),y6=$2(WK);_S.exports;(function(t){(function(e,n){function r(S,_){if(!S)throw new Error(_||"Assertion failed")}function s(S,_){S.super_=_;var C=function(){};C.prototype=_.prototype,S.prototype=new C,S.prototype.constructor=S}function i(S,_,C){if(i.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((_==="le"||_==="be")&&(C=_,_=10),this._init(S||0,_||10,C||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=y6.Buffer}catch{}i.isBN=function(_){return _ instanceof i?!0:_!==null&&typeof _=="object"&&_.constructor.wordSize===i.wordSize&&Array.isArray(_.words)},i.max=function(_,C){return _.cmp(C)>0?_:C},i.min=function(_,C){return _.cmp(C)<0?_:C},i.prototype._init=function(_,C,O){if(typeof _=="number")return this._initNumber(_,C,O);if(typeof _=="object")return this._initArray(_,C,O);C==="hex"&&(C=16),r(C===(C|0)&&C>=2&&C<=36),_=_.toString().replace(/\s+/g,"");var H=0;_[0]==="-"&&(H++,this.negative=1),H<_.length&&(C===16?this._parseHex(_,H,O):(this._parseBase(_,C,H),O==="le"&&this._initArray(this.toArray(),C,O)))},i.prototype._initNumber=function(_,C,O){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[_&67108863],this.length=1):_<4503599627370496?(this.words=[_&67108863,_/67108864&67108863],this.length=2):(r(_<9007199254740992),this.words=[_&67108863,_/67108864&67108863,1],this.length=3),O==="le"&&this._initArray(this.toArray(),C,O)},i.prototype._initArray=function(_,C,O){if(r(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var j,z,K=0;if(O==="be")for(H=_.length-1,j=0;H>=0;H-=3)z=_[H]|_[H-1]<<8|_[H-2]<<16,this.words[j]|=z<<K&67108863,this.words[j+1]=z>>>26-K&67108863,K+=24,K>=26&&(K-=26,j++);else if(O==="le")for(H=0,j=0;H<_.length;H+=3)z=_[H]|_[H+1]<<8|_[H+2]<<16,this.words[j]|=z<<K&67108863,this.words[j+1]=z>>>26-K&67108863,K+=24,K>=26&&(K-=26,j++);return this._strip()};function a(S,_){var C=S.charCodeAt(_);if(C>=48&&C<=57)return C-48;if(C>=65&&C<=70)return C-55;if(C>=97&&C<=102)return C-87;r(!1,"Invalid character in "+S)}function c(S,_,C){var O=a(S,C);return C-1>=_&&(O|=a(S,C-1)<<4),O}i.prototype._parseHex=function(_,C,O){this.length=Math.ceil((_.length-C)/6),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var j=0,z=0,K;if(O==="be")for(H=_.length-1;H>=C;H-=2)K=c(_,C,H)<<j,this.words[z]|=K&67108863,j>=18?(j-=18,z+=1,this.words[z]|=K>>>26):j+=8;else{var B=_.length-C;for(H=B%2===0?C+1:C;H<_.length;H+=2)K=c(_,C,H)<<j,this.words[z]|=K&67108863,j>=18?(j-=18,z+=1,this.words[z]|=K>>>26):j+=8}this._strip()};function l(S,_,C,O){for(var H=0,j=0,z=Math.min(S.length,C),K=_;K<z;K++){var B=S.charCodeAt(K)-48;H*=O,B>=49?j=B-49+10:B>=17?j=B-17+10:j=B,r(B>=0&&j<O,"Invalid character"),H+=j}return H}i.prototype._parseBase=function(_,C,O){this.words=[0],this.length=1;for(var H=0,j=1;j<=67108863;j*=C)H++;H--,j=j/C|0;for(var z=_.length-O,K=z%H,B=Math.min(z,z-K)+O,A=0,$=O;$<B;$+=H)A=l(_,$,$+H,C),this.imuln(j),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A);if(K!==0){var X=1;for(A=l(_,$,_.length,C),$=0;$<K;$++)X*=C;this.imuln(X),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A)}this._strip()},i.prototype.copy=function(_){_.words=new Array(this.length);for(var C=0;C<this.length;C++)_.words[C]=this.words[C];_.length=this.length,_.negative=this.negative,_.red=this.red};function u(S,_){S.words=_.words,S.length=_.length,S.negative=_.negative,S.red=_.red}if(i.prototype._move=function(_){u(_,this)},i.prototype.clone=function(){var _=new i(null);return this.copy(_),_},i.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(_,C){_=_||10,C=C|0||1;var O;if(_===16||_==="hex"){O="";for(var H=0,j=0,z=0;z<this.length;z++){var K=this.words[z],B=((K<<H|j)&16777215).toString(16);j=K>>>24-H&16777215,H+=2,H>=26&&(H-=26,z--),j!==0||z!==this.length-1?O=h[6-B.length]+B+O:O=B+O}for(j!==0&&(O=j.toString(16)+O);O.length%C!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}if(_===(_|0)&&_>=2&&_<=36){var A=m[_],$=v[_];O="";var X=this.clone();for(X.negative=0;!X.isZero();){var oe=X.modrn($).toString(_);X=X.idivn($),X.isZero()?O=oe+O:O=h[A-oe.length]+oe+O}for(this.isZero()&&(O="0"+O);O.length%C!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(_,C){return this.toArrayLike(o,_,C)}),i.prototype.toArray=function(_,C){return this.toArrayLike(Array,_,C)};var g=function(_,C){return _.allocUnsafe?_.allocUnsafe(C):new _(C)};i.prototype.toArrayLike=function(_,C,O){this._strip();var H=this.byteLength(),j=O||Math.max(1,H);r(H<=j,"byte array longer than desired length"),r(j>0,"Requested array length <= 0");var z=g(_,j),K=C==="le"?"LE":"BE";return this["_toArrayLike"+K](z,H),z},i.prototype._toArrayLikeLE=function(_,C){for(var O=0,H=0,j=0,z=0;j<this.length;j++){var K=this.words[j]<<z|H;_[O++]=K&255,O<_.length&&(_[O++]=K>>8&255),O<_.length&&(_[O++]=K>>16&255),z===6?(O<_.length&&(_[O++]=K>>24&255),H=0,z=0):(H=K>>>24,z+=2)}if(O<_.length)for(_[O++]=H;O<_.length;)_[O++]=0},i.prototype._toArrayLikeBE=function(_,C){for(var O=_.length-1,H=0,j=0,z=0;j<this.length;j++){var K=this.words[j]<<z|H;_[O--]=K&255,O>=0&&(_[O--]=K>>8&255),O>=0&&(_[O--]=K>>16&255),z===6?(O>=0&&(_[O--]=K>>24&255),H=0,z=0):(H=K>>>24,z+=2)}if(O>=0)for(_[O--]=H;O>=0;)_[O--]=0},Math.clz32?i.prototype._countBits=function(_){return 32-Math.clz32(_)}:i.prototype._countBits=function(_){var C=_,O=0;return C>=4096&&(O+=13,C>>>=13),C>=64&&(O+=7,C>>>=7),C>=8&&(O+=4,C>>>=4),C>=2&&(O+=2,C>>>=2),O+C},i.prototype._zeroBits=function(_){if(_===0)return 26;var C=_,O=0;return C&8191||(O+=13,C>>>=13),C&127||(O+=7,C>>>=7),C&15||(O+=4,C>>>=4),C&3||(O+=2,C>>>=2),C&1||O++,O},i.prototype.bitLength=function(){var _=this.words[this.length-1],C=this._countBits(_);return(this.length-1)*26+C};function y(S){for(var _=new Array(S.bitLength()),C=0;C<_.length;C++){var O=C/26|0,H=C%26;_[C]=S.words[O]>>>H&1}return _}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,C=0;C<this.length;C++){var O=this._zeroBits(this.words[C]);if(_+=O,O!==26)break}return _},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},i.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var C=0;C<_.length;C++)this.words[C]=this.words[C]|_.words[C];return this._strip()},i.prototype.ior=function(_){return r((this.negative|_.negative)===0),this.iuor(_)},i.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},i.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},i.prototype.iuand=function(_){var C;this.length>_.length?C=_:C=this;for(var O=0;O<C.length;O++)this.words[O]=this.words[O]&_.words[O];return this.length=C.length,this._strip()},i.prototype.iand=function(_){return r((this.negative|_.negative)===0),this.iuand(_)},i.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},i.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},i.prototype.iuxor=function(_){var C,O;this.length>_.length?(C=this,O=_):(C=_,O=this);for(var H=0;H<O.length;H++)this.words[H]=C.words[H]^O.words[H];if(this!==C)for(;H<C.length;H++)this.words[H]=C.words[H];return this.length=C.length,this._strip()},i.prototype.ixor=function(_){return r((this.negative|_.negative)===0),this.iuxor(_)},i.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},i.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},i.prototype.inotn=function(_){r(typeof _=="number"&&_>=0);var C=Math.ceil(_/26)|0,O=_%26;this._expand(C),O>0&&C--;for(var H=0;H<C;H++)this.words[H]=~this.words[H]&67108863;return O>0&&(this.words[H]=~this.words[H]&67108863>>26-O),this._strip()},i.prototype.notn=function(_){return this.clone().inotn(_)},i.prototype.setn=function(_,C){r(typeof _=="number"&&_>=0);var O=_/26|0,H=_%26;return this._expand(O+1),C?this.words[O]=this.words[O]|1<<H:this.words[O]=this.words[O]&~(1<<H),this._strip()},i.prototype.iadd=function(_){var C;if(this.negative!==0&&_.negative===0)return this.negative=0,C=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,C=this.isub(_),_.negative=1,C._normSign();var O,H;this.length>_.length?(O=this,H=_):(O=_,H=this);for(var j=0,z=0;z<H.length;z++)C=(O.words[z]|0)+(H.words[z]|0)+j,this.words[z]=C&67108863,j=C>>>26;for(;j!==0&&z<O.length;z++)C=(O.words[z]|0)+j,this.words[z]=C&67108863,j=C>>>26;if(this.length=O.length,j!==0)this.words[this.length]=j,this.length++;else if(O!==this)for(;z<O.length;z++)this.words[z]=O.words[z];return this},i.prototype.add=function(_){var C;return _.negative!==0&&this.negative===0?(_.negative=0,C=this.sub(_),_.negative^=1,C):_.negative===0&&this.negative!==0?(this.negative=0,C=_.sub(this),this.negative=1,C):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},i.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var C=this.iadd(_);return _.negative=1,C._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var O=this.cmp(_);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var H,j;O>0?(H=this,j=_):(H=_,j=this);for(var z=0,K=0;K<j.length;K++)C=(H.words[K]|0)-(j.words[K]|0)+z,z=C>>26,this.words[K]=C&67108863;for(;z!==0&&K<H.length;K++)C=(H.words[K]|0)+z,z=C>>26,this.words[K]=C&67108863;if(z===0&&K<H.length&&H!==this)for(;K<H.length;K++)this.words[K]=H.words[K];return this.length=Math.max(this.length,K),H!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(_){return this.clone().isub(_)};function E(S,_,C){C.negative=_.negative^S.negative;var O=S.length+_.length|0;C.length=O,O=O-1|0;var H=S.words[0]|0,j=_.words[0]|0,z=H*j,K=z&67108863,B=z/67108864|0;C.words[0]=K;for(var A=1;A<O;A++){for(var $=B>>>26,X=B&67108863,oe=Math.min(A,_.length-1),ae=Math.max(0,A-S.length+1);ae<=oe;ae++){var ce=A-ae|0;H=S.words[ce]|0,j=_.words[ae]|0,z=H*j+X,$+=z/67108864|0,X=z&67108863}C.words[A]=X|0,B=$|0}return B!==0?C.words[A]=B|0:C.length--,C._strip()}var w=function(_,C,O){var H=_.words,j=C.words,z=O.words,K=0,B,A,$,X=H[0]|0,oe=X&8191,ae=X>>>13,ce=H[1]|0,le=ce&8191,ye=ce>>>13,Re=H[2]|0,be=Re&8191,xe=Re>>>13,Oe=H[3]|0,Te=Oe&8191,He=Oe>>>13,Rt=H[4]|0,rt=Rt&8191,ht=Rt>>>13,zn=H[5]|0,dt=zn&8191,ue=zn>>>13,st=H[6]|0,lt=st&8191,bt=st>>>13,_n=H[7]|0,Ze=_n&8191,q=_n>>>13,N=H[8]|0,M=N&8191,Q=N>>>13,Z=H[9]|0,J=Z&8191,re=Z>>>13,Je=j[0]|0,qe=Je&8191,Qe=Je>>>13,jt=j[1]|0,Fe=jt&8191,sn=jt>>>13,ca=j[2]|0,$t=ca&8191,Kt=ca>>>13,la=j[3]|0,Pt=la&8191,on=la>>>13,Di=j[4]|0,an=Di&8191,Ht=Di>>>13,ua=j[5]|0,ft=ua&8191,Zt=ua>>>13,Pn=j[6]|0,vt=Pn&8191,cn=Pn>>>13,xu=j[7]|0,Gt=xu&8191,Bn=xu>>>13,nm=j[8]|0,ln=nm&8191,En=nm>>>13,wu=j[9]|0,un=wu&8191,Ft=wu>>>13;O.negative=_.negative^C.negative,O.length=19,B=Math.imul(oe,qe),A=Math.imul(oe,Qe),A=A+Math.imul(ae,qe)|0,$=Math.imul(ae,Qe);var _u=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(_u>>>26)|0,_u&=67108863,B=Math.imul(le,qe),A=Math.imul(le,Qe),A=A+Math.imul(ye,qe)|0,$=Math.imul(ye,Qe),B=B+Math.imul(oe,Fe)|0,A=A+Math.imul(oe,sn)|0,A=A+Math.imul(ae,Fe)|0,$=$+Math.imul(ae,sn)|0;var Eu=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(Eu>>>26)|0,Eu&=67108863,B=Math.imul(be,qe),A=Math.imul(be,Qe),A=A+Math.imul(xe,qe)|0,$=Math.imul(xe,Qe),B=B+Math.imul(le,Fe)|0,A=A+Math.imul(le,sn)|0,A=A+Math.imul(ye,Fe)|0,$=$+Math.imul(ye,sn)|0,B=B+Math.imul(oe,$t)|0,A=A+Math.imul(oe,Kt)|0,A=A+Math.imul(ae,$t)|0,$=$+Math.imul(ae,Kt)|0;var $c=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+($c>>>26)|0,$c&=67108863,B=Math.imul(Te,qe),A=Math.imul(Te,Qe),A=A+Math.imul(He,qe)|0,$=Math.imul(He,Qe),B=B+Math.imul(be,Fe)|0,A=A+Math.imul(be,sn)|0,A=A+Math.imul(xe,Fe)|0,$=$+Math.imul(xe,sn)|0,B=B+Math.imul(le,$t)|0,A=A+Math.imul(le,Kt)|0,A=A+Math.imul(ye,$t)|0,$=$+Math.imul(ye,Kt)|0,B=B+Math.imul(oe,Pt)|0,A=A+Math.imul(oe,on)|0,A=A+Math.imul(ae,Pt)|0,$=$+Math.imul(ae,on)|0;var Hc=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(Hc>>>26)|0,Hc&=67108863,B=Math.imul(rt,qe),A=Math.imul(rt,Qe),A=A+Math.imul(ht,qe)|0,$=Math.imul(ht,Qe),B=B+Math.imul(Te,Fe)|0,A=A+Math.imul(Te,sn)|0,A=A+Math.imul(He,Fe)|0,$=$+Math.imul(He,sn)|0,B=B+Math.imul(be,$t)|0,A=A+Math.imul(be,Kt)|0,A=A+Math.imul(xe,$t)|0,$=$+Math.imul(xe,Kt)|0,B=B+Math.imul(le,Pt)|0,A=A+Math.imul(le,on)|0,A=A+Math.imul(ye,Pt)|0,$=$+Math.imul(ye,on)|0,B=B+Math.imul(oe,an)|0,A=A+Math.imul(oe,Ht)|0,A=A+Math.imul(ae,an)|0,$=$+Math.imul(ae,Ht)|0;var bu=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(bu>>>26)|0,bu&=67108863,B=Math.imul(dt,qe),A=Math.imul(dt,Qe),A=A+Math.imul(ue,qe)|0,$=Math.imul(ue,Qe),B=B+Math.imul(rt,Fe)|0,A=A+Math.imul(rt,sn)|0,A=A+Math.imul(ht,Fe)|0,$=$+Math.imul(ht,sn)|0,B=B+Math.imul(Te,$t)|0,A=A+Math.imul(Te,Kt)|0,A=A+Math.imul(He,$t)|0,$=$+Math.imul(He,Kt)|0,B=B+Math.imul(be,Pt)|0,A=A+Math.imul(be,on)|0,A=A+Math.imul(xe,Pt)|0,$=$+Math.imul(xe,on)|0,B=B+Math.imul(le,an)|0,A=A+Math.imul(le,Ht)|0,A=A+Math.imul(ye,an)|0,$=$+Math.imul(ye,Ht)|0,B=B+Math.imul(oe,ft)|0,A=A+Math.imul(oe,Zt)|0,A=A+Math.imul(ae,ft)|0,$=$+Math.imul(ae,Zt)|0;var Au=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(Au>>>26)|0,Au&=67108863,B=Math.imul(lt,qe),A=Math.imul(lt,Qe),A=A+Math.imul(bt,qe)|0,$=Math.imul(bt,Qe),B=B+Math.imul(dt,Fe)|0,A=A+Math.imul(dt,sn)|0,A=A+Math.imul(ue,Fe)|0,$=$+Math.imul(ue,sn)|0,B=B+Math.imul(rt,$t)|0,A=A+Math.imul(rt,Kt)|0,A=A+Math.imul(ht,$t)|0,$=$+Math.imul(ht,Kt)|0,B=B+Math.imul(Te,Pt)|0,A=A+Math.imul(Te,on)|0,A=A+Math.imul(He,Pt)|0,$=$+Math.imul(He,on)|0,B=B+Math.imul(be,an)|0,A=A+Math.imul(be,Ht)|0,A=A+Math.imul(xe,an)|0,$=$+Math.imul(xe,Ht)|0,B=B+Math.imul(le,ft)|0,A=A+Math.imul(le,Zt)|0,A=A+Math.imul(ye,ft)|0,$=$+Math.imul(ye,Zt)|0,B=B+Math.imul(oe,vt)|0,A=A+Math.imul(oe,cn)|0,A=A+Math.imul(ae,vt)|0,$=$+Math.imul(ae,cn)|0;var Xf=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(Xf>>>26)|0,Xf&=67108863,B=Math.imul(Ze,qe),A=Math.imul(Ze,Qe),A=A+Math.imul(q,qe)|0,$=Math.imul(q,Qe),B=B+Math.imul(lt,Fe)|0,A=A+Math.imul(lt,sn)|0,A=A+Math.imul(bt,Fe)|0,$=$+Math.imul(bt,sn)|0,B=B+Math.imul(dt,$t)|0,A=A+Math.imul(dt,Kt)|0,A=A+Math.imul(ue,$t)|0,$=$+Math.imul(ue,Kt)|0,B=B+Math.imul(rt,Pt)|0,A=A+Math.imul(rt,on)|0,A=A+Math.imul(ht,Pt)|0,$=$+Math.imul(ht,on)|0,B=B+Math.imul(Te,an)|0,A=A+Math.imul(Te,Ht)|0,A=A+Math.imul(He,an)|0,$=$+Math.imul(He,Ht)|0,B=B+Math.imul(be,ft)|0,A=A+Math.imul(be,Zt)|0,A=A+Math.imul(xe,ft)|0,$=$+Math.imul(xe,Zt)|0,B=B+Math.imul(le,vt)|0,A=A+Math.imul(le,cn)|0,A=A+Math.imul(ye,vt)|0,$=$+Math.imul(ye,cn)|0,B=B+Math.imul(oe,Gt)|0,A=A+Math.imul(oe,Bn)|0,A=A+Math.imul(ae,Gt)|0,$=$+Math.imul(ae,Bn)|0;var da=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(da>>>26)|0,da&=67108863,B=Math.imul(M,qe),A=Math.imul(M,Qe),A=A+Math.imul(Q,qe)|0,$=Math.imul(Q,Qe),B=B+Math.imul(Ze,Fe)|0,A=A+Math.imul(Ze,sn)|0,A=A+Math.imul(q,Fe)|0,$=$+Math.imul(q,sn)|0,B=B+Math.imul(lt,$t)|0,A=A+Math.imul(lt,Kt)|0,A=A+Math.imul(bt,$t)|0,$=$+Math.imul(bt,Kt)|0,B=B+Math.imul(dt,Pt)|0,A=A+Math.imul(dt,on)|0,A=A+Math.imul(ue,Pt)|0,$=$+Math.imul(ue,on)|0,B=B+Math.imul(rt,an)|0,A=A+Math.imul(rt,Ht)|0,A=A+Math.imul(ht,an)|0,$=$+Math.imul(ht,Ht)|0,B=B+Math.imul(Te,ft)|0,A=A+Math.imul(Te,Zt)|0,A=A+Math.imul(He,ft)|0,$=$+Math.imul(He,Zt)|0,B=B+Math.imul(be,vt)|0,A=A+Math.imul(be,cn)|0,A=A+Math.imul(xe,vt)|0,$=$+Math.imul(xe,cn)|0,B=B+Math.imul(le,Gt)|0,A=A+Math.imul(le,Bn)|0,A=A+Math.imul(ye,Gt)|0,$=$+Math.imul(ye,Bn)|0,B=B+Math.imul(oe,ln)|0,A=A+Math.imul(oe,En)|0,A=A+Math.imul(ae,ln)|0,$=$+Math.imul(ae,En)|0;var Su=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(Su>>>26)|0,Su&=67108863,B=Math.imul(J,qe),A=Math.imul(J,Qe),A=A+Math.imul(re,qe)|0,$=Math.imul(re,Qe),B=B+Math.imul(M,Fe)|0,A=A+Math.imul(M,sn)|0,A=A+Math.imul(Q,Fe)|0,$=$+Math.imul(Q,sn)|0,B=B+Math.imul(Ze,$t)|0,A=A+Math.imul(Ze,Kt)|0,A=A+Math.imul(q,$t)|0,$=$+Math.imul(q,Kt)|0,B=B+Math.imul(lt,Pt)|0,A=A+Math.imul(lt,on)|0,A=A+Math.imul(bt,Pt)|0,$=$+Math.imul(bt,on)|0,B=B+Math.imul(dt,an)|0,A=A+Math.imul(dt,Ht)|0,A=A+Math.imul(ue,an)|0,$=$+Math.imul(ue,Ht)|0,B=B+Math.imul(rt,ft)|0,A=A+Math.imul(rt,Zt)|0,A=A+Math.imul(ht,ft)|0,$=$+Math.imul(ht,Zt)|0,B=B+Math.imul(Te,vt)|0,A=A+Math.imul(Te,cn)|0,A=A+Math.imul(He,vt)|0,$=$+Math.imul(He,cn)|0,B=B+Math.imul(be,Gt)|0,A=A+Math.imul(be,Bn)|0,A=A+Math.imul(xe,Gt)|0,$=$+Math.imul(xe,Bn)|0,B=B+Math.imul(le,ln)|0,A=A+Math.imul(le,En)|0,A=A+Math.imul(ye,ln)|0,$=$+Math.imul(ye,En)|0,B=B+Math.imul(oe,un)|0,A=A+Math.imul(oe,Ft)|0,A=A+Math.imul(ae,un)|0,$=$+Math.imul(ae,Ft)|0;var qc=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(qc>>>26)|0,qc&=67108863,B=Math.imul(J,Fe),A=Math.imul(J,sn),A=A+Math.imul(re,Fe)|0,$=Math.imul(re,sn),B=B+Math.imul(M,$t)|0,A=A+Math.imul(M,Kt)|0,A=A+Math.imul(Q,$t)|0,$=$+Math.imul(Q,Kt)|0,B=B+Math.imul(Ze,Pt)|0,A=A+Math.imul(Ze,on)|0,A=A+Math.imul(q,Pt)|0,$=$+Math.imul(q,on)|0,B=B+Math.imul(lt,an)|0,A=A+Math.imul(lt,Ht)|0,A=A+Math.imul(bt,an)|0,$=$+Math.imul(bt,Ht)|0,B=B+Math.imul(dt,ft)|0,A=A+Math.imul(dt,Zt)|0,A=A+Math.imul(ue,ft)|0,$=$+Math.imul(ue,Zt)|0,B=B+Math.imul(rt,vt)|0,A=A+Math.imul(rt,cn)|0,A=A+Math.imul(ht,vt)|0,$=$+Math.imul(ht,cn)|0,B=B+Math.imul(Te,Gt)|0,A=A+Math.imul(Te,Bn)|0,A=A+Math.imul(He,Gt)|0,$=$+Math.imul(He,Bn)|0,B=B+Math.imul(be,ln)|0,A=A+Math.imul(be,En)|0,A=A+Math.imul(xe,ln)|0,$=$+Math.imul(xe,En)|0,B=B+Math.imul(le,un)|0,A=A+Math.imul(le,Ft)|0,A=A+Math.imul(ye,un)|0,$=$+Math.imul(ye,Ft)|0;var go=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(go>>>26)|0,go&=67108863,B=Math.imul(J,$t),A=Math.imul(J,Kt),A=A+Math.imul(re,$t)|0,$=Math.imul(re,Kt),B=B+Math.imul(M,Pt)|0,A=A+Math.imul(M,on)|0,A=A+Math.imul(Q,Pt)|0,$=$+Math.imul(Q,on)|0,B=B+Math.imul(Ze,an)|0,A=A+Math.imul(Ze,Ht)|0,A=A+Math.imul(q,an)|0,$=$+Math.imul(q,Ht)|0,B=B+Math.imul(lt,ft)|0,A=A+Math.imul(lt,Zt)|0,A=A+Math.imul(bt,ft)|0,$=$+Math.imul(bt,Zt)|0,B=B+Math.imul(dt,vt)|0,A=A+Math.imul(dt,cn)|0,A=A+Math.imul(ue,vt)|0,$=$+Math.imul(ue,cn)|0,B=B+Math.imul(rt,Gt)|0,A=A+Math.imul(rt,Bn)|0,A=A+Math.imul(ht,Gt)|0,$=$+Math.imul(ht,Bn)|0,B=B+Math.imul(Te,ln)|0,A=A+Math.imul(Te,En)|0,A=A+Math.imul(He,ln)|0,$=$+Math.imul(He,En)|0,B=B+Math.imul(be,un)|0,A=A+Math.imul(be,Ft)|0,A=A+Math.imul(xe,un)|0,$=$+Math.imul(xe,Ft)|0;var si=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(si>>>26)|0,si&=67108863,B=Math.imul(J,Pt),A=Math.imul(J,on),A=A+Math.imul(re,Pt)|0,$=Math.imul(re,on),B=B+Math.imul(M,an)|0,A=A+Math.imul(M,Ht)|0,A=A+Math.imul(Q,an)|0,$=$+Math.imul(Q,Ht)|0,B=B+Math.imul(Ze,ft)|0,A=A+Math.imul(Ze,Zt)|0,A=A+Math.imul(q,ft)|0,$=$+Math.imul(q,Zt)|0,B=B+Math.imul(lt,vt)|0,A=A+Math.imul(lt,cn)|0,A=A+Math.imul(bt,vt)|0,$=$+Math.imul(bt,cn)|0,B=B+Math.imul(dt,Gt)|0,A=A+Math.imul(dt,Bn)|0,A=A+Math.imul(ue,Gt)|0,$=$+Math.imul(ue,Bn)|0,B=B+Math.imul(rt,ln)|0,A=A+Math.imul(rt,En)|0,A=A+Math.imul(ht,ln)|0,$=$+Math.imul(ht,En)|0,B=B+Math.imul(Te,un)|0,A=A+Math.imul(Te,Ft)|0,A=A+Math.imul(He,un)|0,$=$+Math.imul(He,Ft)|0;var Kc=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(Kc>>>26)|0,Kc&=67108863,B=Math.imul(J,an),A=Math.imul(J,Ht),A=A+Math.imul(re,an)|0,$=Math.imul(re,Ht),B=B+Math.imul(M,ft)|0,A=A+Math.imul(M,Zt)|0,A=A+Math.imul(Q,ft)|0,$=$+Math.imul(Q,Zt)|0,B=B+Math.imul(Ze,vt)|0,A=A+Math.imul(Ze,cn)|0,A=A+Math.imul(q,vt)|0,$=$+Math.imul(q,cn)|0,B=B+Math.imul(lt,Gt)|0,A=A+Math.imul(lt,Bn)|0,A=A+Math.imul(bt,Gt)|0,$=$+Math.imul(bt,Bn)|0,B=B+Math.imul(dt,ln)|0,A=A+Math.imul(dt,En)|0,A=A+Math.imul(ue,ln)|0,$=$+Math.imul(ue,En)|0,B=B+Math.imul(rt,un)|0,A=A+Math.imul(rt,Ft)|0,A=A+Math.imul(ht,un)|0,$=$+Math.imul(ht,Ft)|0;var Zf=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(Zf>>>26)|0,Zf&=67108863,B=Math.imul(J,ft),A=Math.imul(J,Zt),A=A+Math.imul(re,ft)|0,$=Math.imul(re,Zt),B=B+Math.imul(M,vt)|0,A=A+Math.imul(M,cn)|0,A=A+Math.imul(Q,vt)|0,$=$+Math.imul(Q,cn)|0,B=B+Math.imul(Ze,Gt)|0,A=A+Math.imul(Ze,Bn)|0,A=A+Math.imul(q,Gt)|0,$=$+Math.imul(q,Bn)|0,B=B+Math.imul(lt,ln)|0,A=A+Math.imul(lt,En)|0,A=A+Math.imul(bt,ln)|0,$=$+Math.imul(bt,En)|0,B=B+Math.imul(dt,un)|0,A=A+Math.imul(dt,Ft)|0,A=A+Math.imul(ue,un)|0,$=$+Math.imul(ue,Ft)|0;var Cu=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(Cu>>>26)|0,Cu&=67108863,B=Math.imul(J,vt),A=Math.imul(J,cn),A=A+Math.imul(re,vt)|0,$=Math.imul(re,cn),B=B+Math.imul(M,Gt)|0,A=A+Math.imul(M,Bn)|0,A=A+Math.imul(Q,Gt)|0,$=$+Math.imul(Q,Bn)|0,B=B+Math.imul(Ze,ln)|0,A=A+Math.imul(Ze,En)|0,A=A+Math.imul(q,ln)|0,$=$+Math.imul(q,En)|0,B=B+Math.imul(lt,un)|0,A=A+Math.imul(lt,Ft)|0,A=A+Math.imul(bt,un)|0,$=$+Math.imul(bt,Ft)|0;var Tu=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(Tu>>>26)|0,Tu&=67108863,B=Math.imul(J,Gt),A=Math.imul(J,Bn),A=A+Math.imul(re,Gt)|0,$=Math.imul(re,Bn),B=B+Math.imul(M,ln)|0,A=A+Math.imul(M,En)|0,A=A+Math.imul(Q,ln)|0,$=$+Math.imul(Q,En)|0,B=B+Math.imul(Ze,un)|0,A=A+Math.imul(Ze,Ft)|0,A=A+Math.imul(q,un)|0,$=$+Math.imul(q,Ft)|0;var Iu=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(Iu>>>26)|0,Iu&=67108863,B=Math.imul(J,ln),A=Math.imul(J,En),A=A+Math.imul(re,ln)|0,$=Math.imul(re,En),B=B+Math.imul(M,un)|0,A=A+Math.imul(M,Ft)|0,A=A+Math.imul(Q,un)|0,$=$+Math.imul(Q,Ft)|0;var Gc=(K+B|0)+((A&8191)<<13)|0;K=($+(A>>>13)|0)+(Gc>>>26)|0,Gc&=67108863,B=Math.imul(J,un),A=Math.imul(J,Ft),A=A+Math.imul(re,un)|0,$=Math.imul(re,Ft);var Qc=(K+B|0)+((A&8191)<<13)|0;return K=($+(A>>>13)|0)+(Qc>>>26)|0,Qc&=67108863,z[0]=_u,z[1]=Eu,z[2]=$c,z[3]=Hc,z[4]=bu,z[5]=Au,z[6]=Xf,z[7]=da,z[8]=Su,z[9]=qc,z[10]=go,z[11]=si,z[12]=Kc,z[13]=Zf,z[14]=Cu,z[15]=Tu,z[16]=Iu,z[17]=Gc,z[18]=Qc,K!==0&&(z[19]=K,O.length++),O};Math.imul||(w=E);function x(S,_,C){C.negative=_.negative^S.negative,C.length=S.length+_.length;for(var O=0,H=0,j=0;j<C.length-1;j++){var z=H;H=0;for(var K=O&67108863,B=Math.min(j,_.length-1),A=Math.max(0,j-S.length+1);A<=B;A++){var $=j-A,X=S.words[$]|0,oe=_.words[A]|0,ae=X*oe,ce=ae&67108863;z=z+(ae/67108864|0)|0,ce=ce+K|0,K=ce&67108863,z=z+(ce>>>26)|0,H+=z>>>26,z&=67108863}C.words[j]=K,O=z,z=H}return O!==0?C.words[j]=O:C.length--,C._strip()}function b(S,_,C){return x(S,_,C)}i.prototype.mulTo=function(_,C){var O,H=this.length+_.length;return this.length===10&&_.length===10?O=w(this,_,C):H<63?O=E(this,_,C):H<1024?O=x(this,_,C):O=b(this,_,C),O},i.prototype.mul=function(_){var C=new i(null);return C.words=new Array(this.length+_.length),this.mulTo(_,C)},i.prototype.mulf=function(_){var C=new i(null);return C.words=new Array(this.length+_.length),b(this,_,C)},i.prototype.imul=function(_){return this.clone().mulTo(_,this)},i.prototype.imuln=function(_){var C=_<0;C&&(_=-_),r(typeof _=="number"),r(_<67108864);for(var O=0,H=0;H<this.length;H++){var j=(this.words[H]|0)*_,z=(j&67108863)+(O&67108863);O>>=26,O+=j/67108864|0,O+=z>>>26,this.words[H]=z&67108863}return O!==0&&(this.words[H]=O,this.length++),this.length=_===0?1:this.length,C?this.ineg():this},i.prototype.muln=function(_){return this.clone().imuln(_)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(_){var C=y(_);if(C.length===0)return new i(1);for(var O=this,H=0;H<C.length&&C[H]===0;H++,O=O.sqr());if(++H<C.length)for(var j=O.sqr();H<C.length;H++,j=j.sqr())C[H]!==0&&(O=O.mul(j));return O},i.prototype.iushln=function(_){r(typeof _=="number"&&_>=0);var C=_%26,O=(_-C)/26,H=67108863>>>26-C<<26-C,j;if(C!==0){var z=0;for(j=0;j<this.length;j++){var K=this.words[j]&H,B=(this.words[j]|0)-K<<C;this.words[j]=B|z,z=K>>>26-C}z&&(this.words[j]=z,this.length++)}if(O!==0){for(j=this.length-1;j>=0;j--)this.words[j+O]=this.words[j];for(j=0;j<O;j++)this.words[j]=0;this.length+=O}return this._strip()},i.prototype.ishln=function(_){return r(this.negative===0),this.iushln(_)},i.prototype.iushrn=function(_,C,O){r(typeof _=="number"&&_>=0);var H;C?H=(C-C%26)/26:H=0;var j=_%26,z=Math.min((_-j)/26,this.length),K=67108863^67108863>>>j<<j,B=O;if(H-=z,H=Math.max(0,H),B){for(var A=0;A<z;A++)B.words[A]=this.words[A];B.length=z}if(z!==0)if(this.length>z)for(this.length-=z,A=0;A<this.length;A++)this.words[A]=this.words[A+z];else this.words[0]=0,this.length=1;var $=0;for(A=this.length-1;A>=0&&($!==0||A>=H);A--){var X=this.words[A]|0;this.words[A]=$<<26-j|X>>>j,$=X&K}return B&&$!==0&&(B.words[B.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(_,C,O){return r(this.negative===0),this.iushrn(_,C,O)},i.prototype.shln=function(_){return this.clone().ishln(_)},i.prototype.ushln=function(_){return this.clone().iushln(_)},i.prototype.shrn=function(_){return this.clone().ishrn(_)},i.prototype.ushrn=function(_){return this.clone().iushrn(_)},i.prototype.testn=function(_){r(typeof _=="number"&&_>=0);var C=_%26,O=(_-C)/26,H=1<<C;if(this.length<=O)return!1;var j=this.words[O];return!!(j&H)},i.prototype.imaskn=function(_){r(typeof _=="number"&&_>=0);var C=_%26,O=(_-C)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(C!==0&&O++,this.length=Math.min(O,this.length),C!==0){var H=67108863^67108863>>>C<<C;this.words[this.length-1]&=H}return this._strip()},i.prototype.maskn=function(_){return this.clone().imaskn(_)},i.prototype.iaddn=function(_){return r(typeof _=="number"),r(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(this.words[0]|0)<=_?(this.words[0]=_-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},i.prototype._iaddn=function(_){this.words[0]+=_;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},i.prototype.isubn=function(_){if(r(typeof _=="number"),r(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},i.prototype.addn=function(_){return this.clone().iaddn(_)},i.prototype.subn=function(_){return this.clone().isubn(_)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(_,C,O){var H=_.length+O,j;this._expand(H);var z,K=0;for(j=0;j<_.length;j++){z=(this.words[j+O]|0)+K;var B=(_.words[j]|0)*C;z-=B&67108863,K=(z>>26)-(B/67108864|0),this.words[j+O]=z&67108863}for(;j<this.length-O;j++)z=(this.words[j+O]|0)+K,K=z>>26,this.words[j+O]=z&67108863;if(K===0)return this._strip();for(r(K===-1),K=0,j=0;j<this.length;j++)z=-(this.words[j]|0)+K,K=z>>26,this.words[j]=z&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(_,C){var O=this.length-_.length,H=this.clone(),j=_,z=j.words[j.length-1]|0,K=this._countBits(z);O=26-K,O!==0&&(j=j.ushln(O),H.iushln(O),z=j.words[j.length-1]|0);var B=H.length-j.length,A;if(C!=="mod"){A=new i(null),A.length=B+1,A.words=new Array(A.length);for(var $=0;$<A.length;$++)A.words[$]=0}var X=H.clone()._ishlnsubmul(j,1,B);X.negative===0&&(H=X,A&&(A.words[B]=1));for(var oe=B-1;oe>=0;oe--){var ae=(H.words[j.length+oe]|0)*67108864+(H.words[j.length+oe-1]|0);for(ae=Math.min(ae/z|0,67108863),H._ishlnsubmul(j,ae,oe);H.negative!==0;)ae--,H.negative=0,H._ishlnsubmul(j,1,oe),H.isZero()||(H.negative^=1);A&&(A.words[oe]=ae)}return A&&A._strip(),H._strip(),C!=="div"&&O!==0&&H.iushrn(O),{div:A||null,mod:H}},i.prototype.divmod=function(_,C,O){if(r(!_.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var H,j,z;return this.negative!==0&&_.negative===0?(z=this.neg().divmod(_,C),C!=="mod"&&(H=z.div.neg()),C!=="div"&&(j=z.mod.neg(),O&&j.negative!==0&&j.iadd(_)),{div:H,mod:j}):this.negative===0&&_.negative!==0?(z=this.divmod(_.neg(),C),C!=="mod"&&(H=z.div.neg()),{div:H,mod:z.mod}):this.negative&_.negative?(z=this.neg().divmod(_.neg(),C),C!=="div"&&(j=z.mod.neg(),O&&j.negative!==0&&j.isub(_)),{div:z.div,mod:j}):_.length>this.length||this.cmp(_)<0?{div:new i(0),mod:this}:_.length===1?C==="div"?{div:this.divn(_.words[0]),mod:null}:C==="mod"?{div:null,mod:new i(this.modrn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new i(this.modrn(_.words[0]))}:this._wordDiv(_,C)},i.prototype.div=function(_){return this.divmod(_,"div",!1).div},i.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},i.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},i.prototype.divRound=function(_){var C=this.divmod(_);if(C.mod.isZero())return C.div;var O=C.div.negative!==0?C.mod.isub(_):C.mod,H=_.ushrn(1),j=_.andln(1),z=O.cmp(H);return z<0||j===1&&z===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},i.prototype.modrn=function(_){var C=_<0;C&&(_=-_),r(_<=67108863);for(var O=(1<<26)%_,H=0,j=this.length-1;j>=0;j--)H=(O*H+(this.words[j]|0))%_;return C?-H:H},i.prototype.modn=function(_){return this.modrn(_)},i.prototype.idivn=function(_){var C=_<0;C&&(_=-_),r(_<=67108863);for(var O=0,H=this.length-1;H>=0;H--){var j=(this.words[H]|0)+O*67108864;this.words[H]=j/_|0,O=j%_}return this._strip(),C?this.ineg():this},i.prototype.divn=function(_){return this.clone().idivn(_)},i.prototype.egcd=function(_){r(_.negative===0),r(!_.isZero());var C=this,O=_.clone();C.negative!==0?C=C.umod(_):C=C.clone();for(var H=new i(1),j=new i(0),z=new i(0),K=new i(1),B=0;C.isEven()&&O.isEven();)C.iushrn(1),O.iushrn(1),++B;for(var A=O.clone(),$=C.clone();!C.isZero();){for(var X=0,oe=1;!(C.words[0]&oe)&&X<26;++X,oe<<=1);if(X>0)for(C.iushrn(X);X-- >0;)(H.isOdd()||j.isOdd())&&(H.iadd(A),j.isub($)),H.iushrn(1),j.iushrn(1);for(var ae=0,ce=1;!(O.words[0]&ce)&&ae<26;++ae,ce<<=1);if(ae>0)for(O.iushrn(ae);ae-- >0;)(z.isOdd()||K.isOdd())&&(z.iadd(A),K.isub($)),z.iushrn(1),K.iushrn(1);C.cmp(O)>=0?(C.isub(O),H.isub(z),j.isub(K)):(O.isub(C),z.isub(H),K.isub(j))}return{a:z,b:K,gcd:O.iushln(B)}},i.prototype._invmp=function(_){r(_.negative===0),r(!_.isZero());var C=this,O=_.clone();C.negative!==0?C=C.umod(_):C=C.clone();for(var H=new i(1),j=new i(0),z=O.clone();C.cmpn(1)>0&&O.cmpn(1)>0;){for(var K=0,B=1;!(C.words[0]&B)&&K<26;++K,B<<=1);if(K>0)for(C.iushrn(K);K-- >0;)H.isOdd()&&H.iadd(z),H.iushrn(1);for(var A=0,$=1;!(O.words[0]&$)&&A<26;++A,$<<=1);if(A>0)for(O.iushrn(A);A-- >0;)j.isOdd()&&j.iadd(z),j.iushrn(1);C.cmp(O)>=0?(C.isub(O),H.isub(j)):(O.isub(C),j.isub(H))}var X;return C.cmpn(1)===0?X=H:X=j,X.cmpn(0)<0&&X.iadd(_),X},i.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var C=this.clone(),O=_.clone();C.negative=0,O.negative=0;for(var H=0;C.isEven()&&O.isEven();H++)C.iushrn(1),O.iushrn(1);do{for(;C.isEven();)C.iushrn(1);for(;O.isEven();)O.iushrn(1);var j=C.cmp(O);if(j<0){var z=C;C=O,O=z}else if(j===0||O.cmpn(1)===0)break;C.isub(O)}while(!0);return O.iushln(H)},i.prototype.invm=function(_){return this.egcd(_).a.umod(_)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(_){return this.words[0]&_},i.prototype.bincn=function(_){r(typeof _=="number");var C=_%26,O=(_-C)/26,H=1<<C;if(this.length<=O)return this._expand(O+1),this.words[O]|=H,this;for(var j=H,z=O;j!==0&&z<this.length;z++){var K=this.words[z]|0;K+=j,j=K>>>26,K&=67108863,this.words[z]=K}return j!==0&&(this.words[z]=j,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(_){var C=_<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;this._strip();var O;if(this.length>1)O=1;else{C&&(_=-_),r(_<=67108863,"Number is too big");var H=this.words[0]|0;O=H===_?0:H<_?-1:1}return this.negative!==0?-O|0:O},i.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var C=this.ucmp(_);return this.negative!==0?-C|0:C},i.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var C=0,O=this.length-1;O>=0;O--){var H=this.words[O]|0,j=_.words[O]|0;if(H!==j){H<j?C=-1:H>j&&(C=1);break}}return C},i.prototype.gtn=function(_){return this.cmpn(_)===1},i.prototype.gt=function(_){return this.cmp(_)===1},i.prototype.gten=function(_){return this.cmpn(_)>=0},i.prototype.gte=function(_){return this.cmp(_)>=0},i.prototype.ltn=function(_){return this.cmpn(_)===-1},i.prototype.lt=function(_){return this.cmp(_)===-1},i.prototype.lten=function(_){return this.cmpn(_)<=0},i.prototype.lte=function(_){return this.cmp(_)<=0},i.prototype.eqn=function(_){return this.cmpn(_)===0},i.prototype.eq=function(_){return this.cmp(_)===0},i.red=function(_){return new U(_)},i.prototype.toRed=function(_){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(_){return this.red=_,this},i.prototype.forceRed=function(_){return r(!this.red,"Already a number in reduction context"),this._forceRed(_)},i.prototype.redAdd=function(_){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},i.prototype.redIAdd=function(_){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},i.prototype.redSub=function(_){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},i.prototype.redISub=function(_){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},i.prototype.redShl=function(_){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},i.prototype.redMul=function(_){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},i.prototype.redIMul=function(_){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(_){return r(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var D={k256:null,p224:null,p192:null,p25519:null};function L(S,_){this.name=S,this.p=new i(_,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var _=new i(null);return _.words=new Array(Math.ceil(this.n/13)),_},L.prototype.ireduce=function(_){var C=_,O;do this.split(C,this.tmp),C=this.imulK(C),C=C.iadd(this.tmp),O=C.bitLength();while(O>this.n);var H=O<this.n?-1:C.ucmp(this.p);return H===0?(C.words[0]=0,C.length=1):H>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},L.prototype.split=function(_,C){_.iushrn(this.n,0,C)},L.prototype.imulK=function(_){return _.imul(this.k)};function T(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(T,L),T.prototype.split=function(_,C){for(var O=4194303,H=Math.min(_.length,9),j=0;j<H;j++)C.words[j]=_.words[j];if(C.length=H,_.length<=9){_.words[0]=0,_.length=1;return}var z=_.words[9];for(C.words[C.length++]=z&O,j=10;j<_.length;j++){var K=_.words[j]|0;_.words[j-10]=(K&O)<<4|z>>>22,z=K}z>>>=22,_.words[j-10]=z,z===0&&_.length>10?_.length-=10:_.length-=9},T.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var C=0,O=0;O<_.length;O++){var H=_.words[O]|0;C+=H*977,_.words[O]=C&67108863,C=H*64+(C/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_};function R(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(R,L);function F(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(F,L);function P(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(P,L),P.prototype.imulK=function(_){for(var C=0,O=0;O<_.length;O++){var H=(_.words[O]|0)*19+C,j=H&67108863;H>>>=26,_.words[O]=j,C=H}return C!==0&&(_.words[_.length++]=C),_},i._prime=function(_){if(D[_])return D[_];var C;if(_==="k256")C=new T;else if(_==="p224")C=new R;else if(_==="p192")C=new F;else if(_==="p25519")C=new P;else throw new Error("Unknown prime "+_);return D[_]=C,C};function U(S){if(typeof S=="string"){var _=i._prime(S);this.m=_.p,this.prime=_}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}U.prototype._verify1=function(_){r(_.negative===0,"red works only with positives"),r(_.red,"red works only with red numbers")},U.prototype._verify2=function(_,C){r((_.negative|C.negative)===0,"red works only with positives"),r(_.red&&_.red===C.red,"red works only with red numbers")},U.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):(u(_,_.umod(this.m)._forceRed(this)),_)},U.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},U.prototype.add=function(_,C){this._verify2(_,C);var O=_.add(C);return O.cmp(this.m)>=0&&O.isub(this.m),O._forceRed(this)},U.prototype.iadd=function(_,C){this._verify2(_,C);var O=_.iadd(C);return O.cmp(this.m)>=0&&O.isub(this.m),O},U.prototype.sub=function(_,C){this._verify2(_,C);var O=_.sub(C);return O.cmpn(0)<0&&O.iadd(this.m),O._forceRed(this)},U.prototype.isub=function(_,C){this._verify2(_,C);var O=_.isub(C);return O.cmpn(0)<0&&O.iadd(this.m),O},U.prototype.shl=function(_,C){return this._verify1(_),this.imod(_.ushln(C))},U.prototype.imul=function(_,C){return this._verify2(_,C),this.imod(_.imul(C))},U.prototype.mul=function(_,C){return this._verify2(_,C),this.imod(_.mul(C))},U.prototype.isqr=function(_){return this.imul(_,_.clone())},U.prototype.sqr=function(_){return this.mul(_,_)},U.prototype.sqrt=function(_){if(_.isZero())return _.clone();var C=this.m.andln(3);if(r(C%2===1),C===3){var O=this.m.add(new i(1)).iushrn(2);return this.pow(_,O)}for(var H=this.m.subn(1),j=0;!H.isZero()&&H.andln(1)===0;)j++,H.iushrn(1);r(!H.isZero());var z=new i(1).toRed(this),K=z.redNeg(),B=this.m.subn(1).iushrn(1),A=this.m.bitLength();for(A=new i(2*A*A).toRed(this);this.pow(A,B).cmp(K)!==0;)A.redIAdd(K);for(var $=this.pow(A,H),X=this.pow(_,H.addn(1).iushrn(1)),oe=this.pow(_,H),ae=j;oe.cmp(z)!==0;){for(var ce=oe,le=0;ce.cmp(z)!==0;le++)ce=ce.redSqr();r(le<ae);var ye=this.pow($,new i(1).iushln(ae-le-1));X=X.redMul(ye),$=ye.redSqr(),oe=oe.redMul($),ae=le}return X},U.prototype.invm=function(_){var C=_._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},U.prototype.pow=function(_,C){if(C.isZero())return new i(1).toRed(this);if(C.cmpn(1)===0)return _.clone();var O=4,H=new Array(1<<O);H[0]=new i(1).toRed(this),H[1]=_;for(var j=2;j<H.length;j++)H[j]=this.mul(H[j-1],_);var z=H[0],K=0,B=0,A=C.bitLength()%26;for(A===0&&(A=26),j=C.length-1;j>=0;j--){for(var $=C.words[j],X=A-1;X>=0;X--){var oe=$>>X&1;if(z!==H[0]&&(z=this.sqr(z)),oe===0&&K===0){B=0;continue}K<<=1,K|=oe,B++,!(B!==O&&(j!==0||X!==0))&&(z=this.mul(z,H[K]),B=0,K=0)}A=26}return z},U.prototype.convertTo=function(_){var C=_.umod(this.m);return C===_?C.clone():C},U.prototype.convertFrom=function(_){var C=_.clone();return C.red=null,C},i.mont=function(_){return new W(_)};function W(S){U.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(W,U),W.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},W.prototype.convertFrom=function(_){var C=this.imod(_.mul(this.rinv));return C.red=null,C},W.prototype.imul=function(_,C){if(_.isZero()||C.isZero())return _.words[0]=0,_.length=1,_;var O=_.imul(C),H=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=O.isub(H).iushrn(this.shift),z=j;return j.cmp(this.m)>=0?z=j.isub(this.m):j.cmpn(0)<0&&(z=j.iadd(this.m)),z._forceRed(this)},W.prototype.mul=function(_,C){if(_.isZero()||C.isZero())return new i(0)._forceRed(this);var O=_.mul(C),H=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=O.isub(H).iushrn(this.shift),z=j;return j.cmp(this.m)>=0?z=j.isub(this.m):j.cmpn(0)<0&&(z=j.iadd(this.m)),z._forceRed(this)},W.prototype.invm=function(_){var C=this.imod(_._invmp(this.m).mul(this.r2));return C._forceRed(this)}})(t,Xe)})(_S);var v6=_S.exports;const rR=Pc(v6);var pb={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=nt,r=n.Buffer;function s(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=i);function i(o,a,c){return r(o,a,c)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},i.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=r(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(pb,pb.exports);var x6=pb.exports,zm=x6.Buffer;function $K(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function u(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=zm.from(m)),!zm.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var v=0,g=0,y=0,E=m.length;y!==E&&m[y]===0;)y++,v++;for(var w=(E-y)*l+1>>>0,x=new Uint8Array(w);y!==E;){for(var b=m[y],D=0,L=w-1;(b!==0||D<g)&&L!==-1;L--,D++)b+=256*x[L]>>>0,x[L]=b%o>>>0,b=b/o>>>0;if(b!==0)throw new Error("Non-zero carry");g=D,y++}for(var T=w-g;T!==w&&x[T]===0;)T++;for(var R=a.repeat(v);T<w;++T)R+=t.charAt(x[T]);return R}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return zm.alloc(0);for(var v=0,g=0,y=0;m[v]===a;)g++,v++;for(var E=(m.length-v)*c+1>>>0,w=new Uint8Array(E);v<m.length;){var x=m.charCodeAt(v);if(x>255)return;var b=e[x];if(b===255)return;for(var D=0,L=E-1;(b!==0||D<y)&&L!==-1;L--,D++)b+=o*w[L]>>>0,w[L]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");y=D,v++}for(var T=E-y;T!==E&&w[T]===0;)T++;var R=zm.allocUnsafe(g+(E-T));R.fill(0,0,g);for(var F=g;T!==E;)R[F++]=w[T++];return R}function h(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:h}}var HK=$K,qK=HK,KK="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",GK=qK(KK);const Er=Pc(GK),sR=r6;var wr={},Vm=x6.Buffer;function QK(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function u(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=Vm.from(m)),!Vm.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var v=0,g=0,y=0,E=m.length;y!==E&&m[y]===0;)y++,v++;for(var w=(E-y)*l+1>>>0,x=new Uint8Array(w);y!==E;){for(var b=m[y],D=0,L=w-1;(b!==0||D<g)&&L!==-1;L--,D++)b+=256*x[L]>>>0,x[L]=b%o>>>0,b=b/o>>>0;if(b!==0)throw new Error("Non-zero carry");g=D,y++}for(var T=w-g;T!==w&&x[T]===0;)T++;for(var R=a.repeat(v);T<w;++T)R+=t.charAt(x[T]);return R}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return Vm.alloc(0);for(var v=0,g=0,y=0;m[v]===a;)g++,v++;for(var E=(m.length-v)*c+1>>>0,w=new Uint8Array(E);v<m.length;){var x=m.charCodeAt(v);if(x>255)return;var b=e[x];if(b===255)return;for(var D=0,L=E-1;(b!==0||D<y)&&L!==-1;L--,D++)b+=o*w[L]>>>0,w[L]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");y=D,v++}for(var T=E-y;T!==E&&w[T]===0;)T++;var R=Vm.allocUnsafe(g+(E-T));R.fill(0,0,g);for(var F=g;T!==E;)R[F++]=w[T++];return R}function h(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:h}}var YK=QK,XK=YK,ZK="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",JK=XK(ZK);function Mo(t,e,n){return e<=t&&t<=n}function cx(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function eG(t){for(var e=String(t),n=e.length,r=0,s=[];r<n;){var i=e.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=i&1023,c=o&1023;s.push(65536+(a<<10)+c),r+=1}else s.push(65533)}r+=1}return s}function tG(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Ly=-1;function ES(t){this.tokens=[].slice.call(t)}ES.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Ly},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var hf=-1;function m1(t,e){if(t)throw TypeError("Decoder error");return e||65533}var jy="utf-8";function Fy(t,e){if(!(this instanceof Fy))return new Fy(t,e);if(t=t!==void 0?String(t).toLowerCase():jy,t!==jy)throw new Error("Encoding not supported. Only utf-8 is supported");e=cx(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Fy.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=cx(n),this._streaming||(this._decoder=new nG({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new ES(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==hf);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===hf)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),tG(i)}};function Uy(t,e){if(!(this instanceof Uy))return new Uy(t,e);if(t=t!==void 0?String(t).toLowerCase():jy,t!==jy)throw new Error("Encoding not supported. Only utf-8 is supported");e=cx(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Uy.prototype={encode:function(e,n){e=e?String(e):"",n=cx(n),this._streaming||(this._encoder=new rG(this._options)),this._streaming=!!n.stream;for(var r=[],s=new ES(eG(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==hf);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==hf;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function nG(t){var e=t.fatal,n=0,r=0,s=0,i=128,o=191;this.handler=function(a,c){if(c===Ly&&s!==0)return s=0,m1(e);if(c===Ly)return hf;if(s===0){if(Mo(c,0,127))return c;if(Mo(c,194,223))s=1,n=c-192;else if(Mo(c,224,239))c===224&&(i=160),c===237&&(o=159),s=2,n=c-224;else if(Mo(c,240,244))c===240&&(i=144),c===244&&(o=143),s=3,n=c-240;else return m1(e);return n=n<<6*s,null}if(!Mo(c,i,o))return n=s=r=0,i=128,o=191,a.prepend(c),m1(e);if(i=128,o=191,r+=1,n+=c-128<<6*(s-r),r!==s)return null;var l=n;return n=s=r=0,l}}function rG(t){t.fatal,this.handler=function(e,n){if(n===Ly)return hf;if(Mo(n,0,127))return n;var r,s;Mo(n,128,2047)?(r=1,s=192):Mo(n,2048,65535)?(r=2,s=224):Mo(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var o=n>>6*(r-1);i.push(128|o&63),r-=1}return i}}const sG=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Fy,TextEncoder:Uy},Symbol.toStringTag,{value:"Module"})),iG=$2(sG);var oG=Xe&&Xe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),aG=Xe&&Xe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),co=Xe&&Xe.__decorate||function(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},cG=Xe&&Xe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&oG(e,t,n);return aG(e,t),e},w6=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wr,"__esModule",{value:!0});var _6=wr.deserializeUnchecked=T6=wr.deserialize=C6=wr.serialize=wr.BinaryReader=wr.BinaryWriter=wr.BorshError=wr.baseDecode=wr.baseEncode=void 0;const ec=w6(v6),E6=w6(JK),lG=cG(iG),uG=typeof TextDecoder!="function"?lG.TextDecoder:TextDecoder,dG=new uG("utf-8",{fatal:!0});function fG(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),E6.default.encode(Buffer.from(t))}wr.baseEncode=fG;function hG(t){return Buffer.from(E6.default.decode(t))}wr.baseDecode=hG;const g1=1024;class ss extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}wr.BorshError=ss;class b6{constructor(){this.buf=Buffer.alloc(g1),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(g1)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ec.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ec.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ec.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ec.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(g1)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}wr.BinaryWriter=b6;function lo(t,e,n){const r=n.value;n.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new ss("Reached the end of buffer when deserializing")}throw i}}}class $s{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new ec.default(e,"le")}readU128(){const e=this.readBuffer(16);return new ec.default(e,"le")}readU256(){const e=this.readBuffer(32);return new ec.default(e,"le")}readU512(){const e=this.readBuffer(64);return new ec.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new ss(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return dG.decode(n)}catch(r){throw new ss(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let s=0;s<n;++s)r.push(e());return r}}co([lo],$s.prototype,"readU8",null);co([lo],$s.prototype,"readU16",null);co([lo],$s.prototype,"readU32",null);co([lo],$s.prototype,"readU64",null);co([lo],$s.prototype,"readU128",null);co([lo],$s.prototype,"readU256",null);co([lo],$s.prototype,"readU512",null);co([lo],$s.prototype,"readString",null);co([lo],$s.prototype,"readFixedArray",null);co([lo],$s.prototype,"readArray",null);wr.BinaryReader=$s;function A6(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ol(t,e,n,r,s){try{if(typeof r=="string")s[`write${A6(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new ss(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new ss(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)ol(t,null,n[i],r[0],s)}else s.writeArray(n,i=>{ol(t,e,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?s.writeU8(0):(s.writeU8(1),ol(t,e,n,r.type,s));break}case"map":{s.writeU32(n.size),n.forEach((i,o)=>{ol(t,e,o,r.key,s),ol(t,e,i,r.value,s)});break}default:throw new ss(`FieldType ${r} unrecognized`)}else S6(t,n,s)}catch(i){throw i instanceof ss&&i.addToFieldPath(e),i}}function S6(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new ss(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{ol(t,s,e[s],i,n)});else if(r.kind==="enum"){const s=e[r.field];for(let i=0;i<r.values.length;++i){const[o,a]=r.values[i];if(o===s){n.writeU8(i),ol(t,o,e[o],a,n);break}}}else throw new ss(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function pG(t,e,n=b6){const r=new n;return S6(t,e,r),r.toArray()}var C6=wr.serialize=pG;function al(t,e,n,r){try{if(typeof n=="string")return r[`read${A6(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const s=[];for(let i=0;i<n[1];i++)s.push(al(t,null,n[0],r));return s}else return r.readArray(()=>al(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?al(t,e,n.type,r):void 0;if(n.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const a=al(t,e,n.key,r),c=al(t,e,n.value,r);s.set(a,c)}return s}return bS(t,n,r)}catch(s){throw s instanceof ss&&s.addToFieldPath(e),s}}function bS(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new ss(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of t.get(e).fields)s[i]=al(t,i,o,n);return new e(s)}if(r.kind==="enum"){const s=n.readU8();if(s>=r.values.length)throw new ss(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],a=al(t,i,o,n);return new e({[i]:a})}throw new ss(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function mG(t,e,n,r=$s){const s=new r(n),i=bS(t,e,s);if(s.offset<n.length)throw new ss(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return i}var T6=wr.deserialize=mG;function gG(t,e,n,r=$s){const s=new r(n);return bS(t,e,s)}_6=wr.deserializeUnchecked=gG;var ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.s16=ne.s8=ne.nu64be=ne.u48be=ne.u40be=ne.u32be=ne.u24be=ne.u16be=yr=ne.nu64=ne.u48=ne.u40=Ue=ne.u32=ne.u24=Gs=ne.u16=St=ne.u8=Nl=ne.offset=ne.greedy=ne.Constant=ne.UTF8=ne.CString=ne.Blob=ne.Boolean=ne.BitField=ne.BitStructure=ne.VariantLayout=ne.Union=ne.UnionLayoutDiscriminator=ne.UnionDiscriminator=ne.Structure=ne.Sequence=ne.DoubleBE=ne.Double=ne.FloatBE=ne.Float=ne.NearInt64BE=ne.NearInt64=ne.NearUInt64BE=ne.NearUInt64=ne.IntBE=ne.Int=ne.UIntBE=ne.UInt=ne.OffsetLayout=ne.GreedyCount=ne.ExternalLayout=ne.bindConstructorLayout=ne.nameWithProperty=ne.Layout=ne.uint8ArrayToBuffer=ne.checkUint8Array=void 0;ne.constant=ne.utf8=ne.cstr=Yt=ne.blob=ne.unionLayoutDiscriminator=ne.union=qr=ne.seq=ne.bits=Me=ne.struct=ne.f64be=ne.f64=ne.f32be=ne.f32=ne.ns64be=ne.s48be=ne.s40be=ne.s32be=ne.s24be=ne.s16be=ks=ne.ns64=ne.s48=ne.s40=ne.s32=ne.s24=void 0;const AS=nt;function jf(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ne.checkUint8Array=jf;function Dt(t){return jf(t),AS.Buffer.from(t.buffer,t.byteOffset,t.length)}ne.uint8ArrayToBuffer=Dt;let Wt=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};ne.Layout=Wt;function SS(t,e){return e.property?t+"["+e.property+"]":t}ne.nameWithProperty=SS;function yG(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Wt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}ne.bindConstructorLayout=yG;class ys extends Wt{isCount(){throw new Error("ExternalLayout is abstract")}}ne.ExternalLayout=ys;class I6 extends ys{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){jf(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}ne.GreedyCount=I6;class CS extends ys{constructor(e,n=0,r){if(!(e instanceof Wt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Js||this.layout instanceof Ai}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}ne.OffsetLayout=CS;class Js extends Wt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Dt(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Dt(n).writeUIntLE(e,r,this.span),this.span}}ne.UInt=Js;class Ai extends Wt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Dt(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Dt(n).writeUIntBE(e,r,this.span),this.span}}ne.UIntBE=Ai;class au extends Wt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Dt(e).readIntLE(n,this.span)}encode(e,n,r=0){return Dt(n).writeIntLE(e,r,this.span),this.span}}ne.Int=au;class Ff extends Wt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Dt(e).readIntBE(n,this.span)}encode(e,n,r=0){return Dt(n).writeIntBE(e,r,this.span),this.span}}ne.IntBE=Ff;const mb=Math.pow(2,32);function lx(t){const e=Math.floor(t/mb),n=t-e*mb;return{hi32:e,lo32:n}}function ux(t,e){return t*mb+e}class R6 extends Wt{constructor(e){super(8,e)}decode(e,n=0){const r=Dt(e),s=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return ux(i,s)}encode(e,n,r=0){const s=lx(e),i=Dt(n);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}ne.NearUInt64=R6;class k6 extends Wt{constructor(e){super(8,e)}decode(e,n=0){const r=Dt(e),s=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return ux(s,i)}encode(e,n,r=0){const s=lx(e),i=Dt(n);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}ne.NearUInt64BE=k6;class N6 extends Wt{constructor(e){super(8,e)}decode(e,n=0){const r=Dt(e),s=r.readUInt32LE(n),i=r.readInt32LE(n+4);return ux(i,s)}encode(e,n,r=0){const s=lx(e),i=Dt(n);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}ne.NearInt64=N6;class M6 extends Wt{constructor(e){super(8,e)}decode(e,n=0){const r=Dt(e),s=r.readInt32BE(n),i=r.readUInt32BE(n+4);return ux(s,i)}encode(e,n,r=0){const s=lx(e),i=Dt(n);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}ne.NearInt64BE=M6;class D6 extends Wt{constructor(e){super(4,e)}decode(e,n=0){return Dt(e).readFloatLE(n)}encode(e,n,r=0){return Dt(n).writeFloatLE(e,r),4}}ne.Float=D6;class P6 extends Wt{constructor(e){super(4,e)}decode(e,n=0){return Dt(e).readFloatBE(n)}encode(e,n,r=0){return Dt(n).writeFloatBE(e,r),4}}ne.FloatBE=P6;class B6 extends Wt{constructor(e){super(8,e)}decode(e,n=0){return Dt(e).readDoubleLE(n)}encode(e,n,r=0){return Dt(n).writeDoubleLE(e,r),8}}ne.Double=B6;class O6 extends Wt{constructor(e){super(8,e)}decode(e,n=0){return Dt(e).readDoubleBE(n)}encode(e,n,r=0){return Dt(n).writeDoubleBE(e,r),8}}ne.DoubleBE=O6;class L6 extends Wt{constructor(e,n,r){if(!(e instanceof Wt))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ys&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof ys)&&0<e.span&&(s=n*e.span),super(s,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof ys&&(s=s.decode(e,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(e,n+r),++i}return r}decode(e,n=0){const r=[];let s=0,i=this.count;for(i instanceof ys&&(i=i.decode(e,n));s<i;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),s+=1;return r}encode(e,n,r=0){const s=this.elementLayout,i=e.reduce((o,a)=>o+s.encode(a,n,r+o),0);return this.count instanceof ys&&this.count.encode(e.length,n,r),i}}ne.Sequence=L6;class j6 extends Wt{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof Wt,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){jf(e);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,n)),n+=s.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const s=r;let i=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const l=e[a.property];l!==void 0&&(o=a.encode(l,n,r),0>c&&(c=a.getSpan(n,r)))}i=r,r+=c}return i+o-s}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}ne.Structure=j6;class TS{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}ne.UnionDiscriminator=TS;class zy extends TS{constructor(e,n){if(!(e instanceof ys&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}ne.UnionLayoutDiscriminator=zy;class IS extends Wt{constructor(e,n,r){let s;if(e instanceof Js||e instanceof Ai)s=new zy(new CS(e));else if(e instanceof ys&&e.isCount())s=new zy(e);else if(e instanceof TS)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Wt))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(e instanceof Js||e instanceof Ai)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof Js||e instanceof Ai,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const s=this.discriminator,i=s.decode(e,n),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[a.property]=a.decode(e,n+c)}else r=o.decode(e,n);return r}encode(e,n,r=0){const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],n,r),a+o.encode(e[o.property],n,r+a)}return s.encode(e,n,r)}addVariant(e,n,r){const s=new F6(this,e,n,r);return this.registry[e]=s,s}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}ne.Union=IS;class F6 extends Wt{constructor(e,n,r,s){if(!(e instanceof IS))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof Wt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,n+r)),r+s}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}ne.VariantLayout=F6;function Hu(t){return 0>t&&(t+=4294967296),t}class RS extends Wt{constructor(e,n,r){if(!(e instanceof Js||e instanceof Ai))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(i){return s=Hu(i),this},this._packedGetValue=function(){return s}}decode(e,n=0){const r=this.makeDestinationObject(),s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(e));return r}encode(e,n,r=0){const s=this.word.decode(n,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new kS(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new U6(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}ne.BitStructure=RS;class kS{constructor(e,n,r){if(!(e instanceof RS))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*e.span,i=e.fields.reduce((o,a)=>o+a.bits,0);if(n+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-n),this.wordMask=Hu(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Hu(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Hu(e&this.valueMask))throw new TypeError(SS("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Hu(e<<this.start);this.container._packedSetValue(Hu(n&~this.wordMask)|r)}}ne.BitField=kS;let U6=class extends kS{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};ne.Boolean=U6;let z6=class extends Wt{constructor(e,n){if(!(e instanceof ys&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ys||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Dt(e).slice(n,n+r)}encode(e,n,r){let s=this.length;if(this.length instanceof ys&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(SS("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>n.length)throw new RangeError("encoding overruns Uint8Array");const i=Dt(e);return Dt(n).write(i.toString("hex"),r,s,"hex"),this.length instanceof ys&&this.length.encode(s,n,r),s}};ne.Blob=z6;class V6 extends Wt{constructor(e){super(-1,e)}getSpan(e,n=0){jf(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Dt(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=AS.Buffer.from(e,"utf8"),i=s.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const o=Dt(n);return s.copy(o,r),o[r+i]=0,i+1}}ne.CString=V6;class W6 extends Wt{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return jf(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Dt(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=AS.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(Dt(n),r),i}}ne.UTF8=W6;class $6 extends Wt{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}ne.Constant=$6;ne.greedy=(t,e)=>new I6(t,e);var Nl=ne.offset=(t,e,n)=>new CS(t,e,n),St=ne.u8=t=>new Js(1,t),Gs=ne.u16=t=>new Js(2,t);ne.u24=t=>new Js(3,t);var Ue=ne.u32=t=>new Js(4,t);ne.u40=t=>new Js(5,t);ne.u48=t=>new Js(6,t);var yr=ne.nu64=t=>new R6(t);ne.u16be=t=>new Ai(2,t);ne.u24be=t=>new Ai(3,t);ne.u32be=t=>new Ai(4,t);ne.u40be=t=>new Ai(5,t);ne.u48be=t=>new Ai(6,t);ne.nu64be=t=>new k6(t);ne.s8=t=>new au(1,t);ne.s16=t=>new au(2,t);ne.s24=t=>new au(3,t);ne.s32=t=>new au(4,t);ne.s40=t=>new au(5,t);ne.s48=t=>new au(6,t);var ks=ne.ns64=t=>new N6(t);ne.s16be=t=>new Ff(2,t);ne.s24be=t=>new Ff(3,t);ne.s32be=t=>new Ff(4,t);ne.s40be=t=>new Ff(5,t);ne.s48be=t=>new Ff(6,t);ne.ns64be=t=>new M6(t);ne.f32=t=>new D6(t);ne.f32be=t=>new P6(t);ne.f64=t=>new B6(t);ne.f64be=t=>new O6(t);var Me=ne.struct=(t,e,n)=>new j6(t,e,n);ne.bits=(t,e,n)=>new RS(t,e,n);var qr=ne.seq=(t,e,n)=>new L6(t,e,n);ne.union=(t,e,n)=>new IS(t,e,n);ne.unionLayoutDiscriminator=(t,e)=>new zy(t,e);var Yt=ne.blob=(t,e)=>new z6(t,e);ne.cstr=t=>new V6(t);ne.utf8=(t,e)=>new W6(t,e);ne.constant=(t,e)=>new $6(t,e);var vG=8078e3,xG=8078001,wG=8078004,_G=8078005,EG=8078006,bG=8078011;function H6(t){return Array.isArray(t)?"%5B"+t.map(H6).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function AG([t,e]){return`${t}=${H6(e)}`}function SG(t){const e=Object.entries(t).map(AG).join("&");return btoa(e)}function CG(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${SG(e)}'`),`${n}\``}}var Rd=class extends Error{constructor(...[e,n]){let r,s;if(n){const{cause:o,...a}=n;o&&(s={cause:o}),Object.keys(a).length>0&&(r=a)}const i=CG(e,r);super(i,s);Gn(this,"cause",this.cause);Gn(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function TG(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function IG(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(TG(e,t));return t.write(e,n,0),n}})}function RG(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Fu(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function kG(t,e){if(Fu(t)!==Fu(e))throw new Rd(wG);if(Fu(t)&&Fu(e)&&t.fixedSize!==e.fixedSize)throw new Rd(_G,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Fu(t)&&!Fu(e)&&t.maxSize!==e.maxSize)throw new Rd(EG,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function NG(t,e,n=0){if(e.length-n<=0)throw new Rd(vG,{codecDescription:t})}function MG(t,e,n,r=0){const s=n.length-r;if(s<e)throw new Rd(xG,{bytesLength:s,codecDescription:t,expected:e})}function DG(t,e,n,r){if(r<e||r>n)throw new Rd(bG,{codecDescription:t,max:n,min:e,value:r})}function q6(t){return(t==null?void 0:t.endian)!==1}function PG(t){return IG({fixedSize:t.size,write(e,n,r){t.range&&DG(t.name,t.range[0],t.range[1],e);const s=new ArrayBuffer(t.size);return t.set(new DataView(s),e,q6(t.config)),n.set(new Uint8Array(s),r),r+t.size}})}function BG(t){return RG({fixedSize:t.size,read(e,n=0){NG(t.name,e,n),MG(t.name,t.size,e,n);const r=new DataView(OG(e,n,t.size));return[t.get(r,q6(t.config)),n+t.size]}})}function OG(t,e,n){const r=t.byteOffset+(e??0),s=n??t.byteLength;return t.buffer.slice(r,r+s)}var LG=(t={})=>PG({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),jG=(t={})=>BG({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),FG=(t={})=>kG(LG(t),jG(t));class UG extends TypeError{constructor(e,n){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function zG(t){return Ip(t)&&typeof t[Symbol.iterator]=="function"}function Ip(t){return typeof t=="object"&&t!=null}function Vy(t){return Ip(t)&&!Array.isArray(t)}function Ii(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function VG(t){const{done:e,value:n}=t.next();return e?void 0:n}function WG(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:i}=e,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ii(r)}\``}=t;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...t,message:c}}function*iR(t,e,n,r){zG(t)||(t=[t]);for(const s of t){const i=WG(s,e,n,r);i&&(yield i)}}function*NS(t,e,n={}){const{path:r=[],branch:s=[t],coerce:i=!1,mask:o=!1}=n,a={path:r,branch:s,mask:o};i&&(t=e.coercer(t,a));let c="valid";for(const l of e.validator(t,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,f]of e.entries(t,a)){const h=NS(u,f,{path:l===void 0?r:[...r,l],branch:l===void 0?s:[...s,u],coerce:i,mask:o,message:n.message});for(const m of h)m[0]?(c=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):i&&(u=m[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):Ip(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}let uo=class{constructor(e){const{type:n,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,l)=>{const u=s(c,l);return iR(u,l,this,c)}:this.validator=()=>[],i?this.refiner=(c,l)=>{const u=i(c,l);return iR(u,l,this,c)}:this.refiner=()=>[]}assert(e,n){return $G(e,this,n)}create(e,n){return Ee(e,this,n)}is(e){return K6(e,this)}mask(e,n){return HG(e,this,n)}validate(e,n={}){return Rp(e,this,n)}};function $G(t,e,n){const r=Rp(t,e,{message:n});if(r[0])throw r[0]}function Ee(t,e,n){const r=Rp(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function HG(t,e,n){const r=Rp(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function K6(t,e){return!Rp(t,e)[0]}function Rp(t,e,n={}){const r=NS(t,e,n),s=VG(r);return s[0]?[new UG(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function cu(t,e){return new uo({type:t,schema:null,validator:e})}function qG(){return cu("any",()=>!0)}function Se(t){return new uo({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ii(e)}`}})}function so(){return cu("boolean",t=>typeof t=="boolean")}function MS(t){return cu("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Ii(e)}`)}function Rn(t){const e=Ii(t),n=typeof t;return new uo({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${Ii(r)}`}})}function KG(){return cu("never",()=>!1)}function Ce(t){return new uo({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function te(){return cu("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Ii(t)}`)}function $e(t){return new uo({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function G6(t,e){return new uo({type:"record",schema:null,*entries(n){if(Ip(n))for(const r in n){const s=n[r];yield[r,r,t],yield[r,s,e]}},validator(n){return Vy(n)||`Expected an object, but received: ${Ii(n)}`},coercer(n){return Vy(n)?{...n}:n}})}function ve(){return cu("string",t=>typeof t=="string"||`Expected a string, but received: ${Ii(t)}`)}function DS(t){const e=KG();return new uo({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],t[s]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Ii(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function he(t){const e=Object.keys(t);return new uo({type:"type",schema:t,*entries(n){if(Ip(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Vy(n)||`Expected an object, but received: ${Ii(n)}`},coercer(n){return Vy(n)?{...n}:n}})}function as(t){const e=t.map(n=>n.type).join(" | ");return new uo({type:"union",schema:null,coercer(n,r){for(const s of t){const[i,o]=s.validate(n,{coerce:!0,mask:r.mask});if(!i)return o}return n},validator(n,r){const s=[];for(const i of t){const[...o]=NS(n,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ii(n)}`,...s]}})}function Uf(){return cu("unknown",()=>!0)}function kp(t,e,n){return new uo({...t,coercer:(r,s)=>K6(r,e)?t.coercer(n(r,s),s):t.coercer(r,s)})}var Wm,GG=new Uint8Array(16);function Q6(){if(!Wm&&(Wm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Wm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wm(GG)}const QG=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function dx(t){return typeof t=="string"&&QG.test(t)}var gr=[];for(var y1=0;y1<256;++y1)gr.push((y1+256).toString(16).substr(1));function fx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(gr[t[e+0]]+gr[t[e+1]]+gr[t[e+2]]+gr[t[e+3]]+"-"+gr[t[e+4]]+gr[t[e+5]]+"-"+gr[t[e+6]]+gr[t[e+7]]+"-"+gr[t[e+8]]+gr[t[e+9]]+"-"+gr[t[e+10]]+gr[t[e+11]]+gr[t[e+12]]+gr[t[e+13]]+gr[t[e+14]]+gr[t[e+15]]).toLowerCase();if(!dx(n))throw TypeError("Stringified UUID is invalid");return n}var oR,v1,x1=0,w1=0;function YG(t,e,n){var r=e&&n||0,s=e||new Array(16);t=t||{};var i=t.node||oR,o=t.clockseq!==void 0?t.clockseq:v1;if(i==null||o==null){var a=t.random||(t.rng||Q6)();i==null&&(i=oR=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=v1=(a[6]<<8|a[7])&16383)}var c=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:w1+1,u=c-x1+(l-w1)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||c>x1)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");x1=c,w1=l,v1=o,c+=122192928e5;var f=((c&268435455)*1e4+l)%4294967296;s[r++]=f>>>24&255,s[r++]=f>>>16&255,s[r++]=f>>>8&255,s[r++]=f&255;var h=c/4294967296*1e4&268435455;s[r++]=h>>>8&255,s[r++]=h&255,s[r++]=h>>>24&15|16,s[r++]=h>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var m=0;m<6;++m)s[r+m]=i[m];return e||fx(s)}function Y6(t){if(!dx(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function XG(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var ZG="6ba7b810-9dad-11d1-80b4-00c04fd430c8",JG="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function X6(t,e,n){function r(s,i,o,a){if(typeof s=="string"&&(s=XG(s)),typeof i=="string"&&(i=Y6(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(var l=0;l<16;++l)o[a+l]=c[l];return o}return fx(c)}try{r.name=t}catch{}return r.DNS=ZG,r.URL=JG,r}function eQ(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return tQ(nQ(rQ(t),t.length*8))}function tQ(t){for(var e=[],n=t.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=t[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(o)}return e}function Z6(t){return(t+64>>>9<<4)+14+1}function nQ(t,e){t[e>>5]|=128<<e%32,t[Z6(e)-1]=e;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<t.length;o+=16){var a=n,c=r,l=s,u=i;n=Br(n,r,s,i,t[o],7,-680876936),i=Br(i,n,r,s,t[o+1],12,-389564586),s=Br(s,i,n,r,t[o+2],17,606105819),r=Br(r,s,i,n,t[o+3],22,-1044525330),n=Br(n,r,s,i,t[o+4],7,-176418897),i=Br(i,n,r,s,t[o+5],12,1200080426),s=Br(s,i,n,r,t[o+6],17,-1473231341),r=Br(r,s,i,n,t[o+7],22,-45705983),n=Br(n,r,s,i,t[o+8],7,1770035416),i=Br(i,n,r,s,t[o+9],12,-1958414417),s=Br(s,i,n,r,t[o+10],17,-42063),r=Br(r,s,i,n,t[o+11],22,-1990404162),n=Br(n,r,s,i,t[o+12],7,1804603682),i=Br(i,n,r,s,t[o+13],12,-40341101),s=Br(s,i,n,r,t[o+14],17,-1502002290),r=Br(r,s,i,n,t[o+15],22,1236535329),n=Or(n,r,s,i,t[o+1],5,-165796510),i=Or(i,n,r,s,t[o+6],9,-1069501632),s=Or(s,i,n,r,t[o+11],14,643717713),r=Or(r,s,i,n,t[o],20,-373897302),n=Or(n,r,s,i,t[o+5],5,-701558691),i=Or(i,n,r,s,t[o+10],9,38016083),s=Or(s,i,n,r,t[o+15],14,-660478335),r=Or(r,s,i,n,t[o+4],20,-405537848),n=Or(n,r,s,i,t[o+9],5,568446438),i=Or(i,n,r,s,t[o+14],9,-1019803690),s=Or(s,i,n,r,t[o+3],14,-187363961),r=Or(r,s,i,n,t[o+8],20,1163531501),n=Or(n,r,s,i,t[o+13],5,-1444681467),i=Or(i,n,r,s,t[o+2],9,-51403784),s=Or(s,i,n,r,t[o+7],14,1735328473),r=Or(r,s,i,n,t[o+12],20,-1926607734),n=Lr(n,r,s,i,t[o+5],4,-378558),i=Lr(i,n,r,s,t[o+8],11,-2022574463),s=Lr(s,i,n,r,t[o+11],16,1839030562),r=Lr(r,s,i,n,t[o+14],23,-35309556),n=Lr(n,r,s,i,t[o+1],4,-1530992060),i=Lr(i,n,r,s,t[o+4],11,1272893353),s=Lr(s,i,n,r,t[o+7],16,-155497632),r=Lr(r,s,i,n,t[o+10],23,-1094730640),n=Lr(n,r,s,i,t[o+13],4,681279174),i=Lr(i,n,r,s,t[o],11,-358537222),s=Lr(s,i,n,r,t[o+3],16,-722521979),r=Lr(r,s,i,n,t[o+6],23,76029189),n=Lr(n,r,s,i,t[o+9],4,-640364487),i=Lr(i,n,r,s,t[o+12],11,-421815835),s=Lr(s,i,n,r,t[o+15],16,530742520),r=Lr(r,s,i,n,t[o+2],23,-995338651),n=jr(n,r,s,i,t[o],6,-198630844),i=jr(i,n,r,s,t[o+7],10,1126891415),s=jr(s,i,n,r,t[o+14],15,-1416354905),r=jr(r,s,i,n,t[o+5],21,-57434055),n=jr(n,r,s,i,t[o+12],6,1700485571),i=jr(i,n,r,s,t[o+3],10,-1894986606),s=jr(s,i,n,r,t[o+10],15,-1051523),r=jr(r,s,i,n,t[o+1],21,-2054922799),n=jr(n,r,s,i,t[o+8],6,1873313359),i=jr(i,n,r,s,t[o+15],10,-30611744),s=jr(s,i,n,r,t[o+6],15,-1560198380),r=jr(r,s,i,n,t[o+13],21,1309151649),n=jr(n,r,s,i,t[o+4],6,-145523070),i=jr(i,n,r,s,t[o+11],10,-1120210379),s=jr(s,i,n,r,t[o+2],15,718787259),r=jr(r,s,i,n,t[o+9],21,-343485551),n=tc(n,a),r=tc(r,c),s=tc(s,l),i=tc(i,u)}return[n,r,s,i]}function rQ(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(Z6(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function tc(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function sQ(t,e){return t<<e|t>>>32-e}function hx(t,e,n,r,s,i){return tc(sQ(tc(tc(e,t),tc(r,i)),s),n)}function Br(t,e,n,r,s,i,o){return hx(e&n|~e&r,t,e,s,i,o)}function Or(t,e,n,r,s,i,o){return hx(e&r|n&~r,t,e,s,i,o)}function Lr(t,e,n,r,s,i,o){return hx(e^n^r,t,e,s,i,o)}function jr(t,e,n,r,s,i,o){return hx(n^(e|~r),t,e,s,i,o)}var iQ=X6("v3",48,eQ);function oQ(t,e,n){t=t||{};var r=t.random||(t.rng||Q6)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=r[s];return e}return fx(r)}function aQ(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function _1(t,e){return t<<e|t>>>32-e}function cQ(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var s=0;s<r.length;++s)t.push(r.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,o=Math.ceil(i/16),a=new Array(o),c=0;c<o;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=t[c*64+u*4]<<24|t[c*64+u*4+1]<<16|t[c*64+u*4+2]<<8|t[c*64+u*4+3];a[c]=l}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var h=new Uint32Array(80),m=0;m<16;++m)h[m]=a[f][m];for(var v=16;v<80;++v)h[v]=_1(h[v-3]^h[v-8]^h[v-14]^h[v-16],1);for(var g=n[0],y=n[1],E=n[2],w=n[3],x=n[4],b=0;b<80;++b){var D=Math.floor(b/20),L=_1(g,5)+aQ(D,y,E,w)+x+e[D]+h[b]>>>0;x=w,w=E,E=_1(y,30)>>>0,y=g,g=L}n[0]=n[0]+g>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+E>>>0,n[3]=n[3]+w>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var lQ=X6("v5",80,cQ);const uQ="00000000-0000-0000-0000-000000000000";function dQ(t){if(!dx(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const fQ=Object.freeze(Object.defineProperty({__proto__:null,NIL:uQ,parse:Y6,stringify:fx,v1:YG,v3:iQ,v4:oQ,v5:lQ,validate:dx,version:dQ},Symbol.toStringTag,{value:"Module"})),J6=$2(fQ),hQ=J6.v4,pQ=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:t};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return hQ()};i.id=o(i,r)}else s===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};var mQ=pQ;const gQ=J6.v4,yQ=mQ,B0=function(t,e){if(!(this instanceof B0))return new B0(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return gQ()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var vQ=B0;B0.prototype.request=function(t,e,n,r){const s=this;let i=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,i=t;else{typeof n=="function"&&(r=n,n=void 0);const l=typeof r=="function";try{i=yQ(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(l)return r(u);throw u}if(!l)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(l){return r(l)}return this.callServer(c,function(l,u){s._parseResponse(l,u,r)}),i};B0.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return n(s)}if(n.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return n(null,r.filter(s),r.filter(i))}else return n(null,r.error,r.result);n(null,r)};const xQ=Pc(vQ);var e5={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new s(u,f||c,h),v=n?n+l:l;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)e.call(u,f)&&l.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(l){var u=n?n+l:l,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(l,u,f,h,m,v){var g=n?n+l:l;if(!this._events[g])return!1;var y=this._events[g],E=arguments.length,w,x;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),E){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,h),!0;case 5:return y.fn.call(y.context,u,f,h,m),!0;case 6:return y.fn.call(y.context,u,f,h,m,v),!0}for(x=1,w=new Array(E-1);x<E;x++)w[x-1]=arguments[x];y.fn.apply(y.context,w)}else{var b=y.length,D;for(x=0;x<b;x++)switch(y[x].once&&this.removeListener(l,y[x].fn,void 0,!0),E){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,u);break;case 3:y[x].fn.call(y[x].context,u,f);break;case 4:y[x].fn.call(y[x].context,u,f,h);break;default:if(!w)for(D=1,w=new Array(E-1);D<E;D++)w[D-1]=arguments[D];y[x].fn.apply(y[x].context,w)}}return!0},a.prototype.on=function(l,u,f){return i(this,l,u,f,!1)},a.prototype.once=function(l,u,f){return i(this,l,u,f,!0)},a.prototype.removeListener=function(l,u,f,h){var m=n?n+l:l;if(!this._events[m])return this;if(!u)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===u&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var g=0,y=[],E=v.length;g<E;g++)(v[g].fn!==u||h&&!v[g].once||f&&v[g].context!==f)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(e5);var wQ=e5.exports;const PS=Pc(wQ);var _Q=class extends PS{constructor(e,n,r){super();Gn(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(e,n,r){const s=r||n;try{this.socket.send(e),s()}catch(i){s(i)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function EQ(t,e){return new _Q(t,e)}var bQ=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},AQ=class extends PS{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...a}={},c,l){super();Gn(this,"address");Gn(this,"rpc_id");Gn(this,"queue");Gn(this,"options");Gn(this,"autoconnect");Gn(this,"ready");Gn(this,"reconnect");Gn(this,"reconnect_timer_id");Gn(this,"reconnect_interval");Gn(this,"max_reconnects");Gn(this,"rest_options");Gn(this,"current_reconnects");Gn(this,"generate_request_id");Gn(this,"socket");Gn(this,"webSocketFactory");Gn(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),l?this.dataPack=l:this.dataPack=new bQ,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,n),c={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(c),s,l=>{if(l)return o(l);this.queue[a]={promise:[i,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=nt.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let i=0;i<r.params.length;i++)s.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};class t5 extends Z8{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Qq(e);const r=pS(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),uf(i)}update(e){return Dy(this),this.iHash.update(e),this}digestInto(e){Dy(this),Ep(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const n5=(t,e,n)=>new t5(t,e).update(n).digest();n5.create=(t,e)=>new t5(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function aR(t){t.lowS!==void 0&&mc("lowS",t.lowS),t.prehash!==void 0&&mc("prehash",t.prehash)}function SQ(t){const e=xS(t);Sp(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class CQ extends Error{constructor(e=""){super(e)}}const Co={Err:CQ,_tlv:{encode:(t,e)=>{const{Err:n}=Co;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Um(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Um(s.length/2|128):"";return Um(t)+i+s+e},decode(t,e){const{Err:n}=Co;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Co;if(t<Do)throw new e("integer: negative integers are not allowed");let n=Um(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Co;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return kl(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Co,s=Wn("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Co,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}};function E1(t,e){return df(Ap(t,e))}const Do=BigInt(0),cr=BigInt(1);BigInt(2);const b1=BigInt(3),TQ=BigInt(4);function IQ(t){const e=SQ(t),{Fp:n}=e,r=Cp(e.n,e.nBitLength),s=e.toBytes||((x,b,D)=>{const L=b.toAffine();return ff(Uint8Array.from([4]),n.toBytes(L.x),n.toBytes(L.y))}),i=e.fromBytes||(x=>{const b=x.subarray(1),D=n.fromBytes(b.subarray(0,n.BYTES)),L=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:D,y:L}});function o(x){const{a:b,b:D}=e,L=n.sqr(x),T=n.mul(L,x);return n.add(n.add(T,n.mul(x,b)),D)}function a(x,b){const D=n.sqr(b),L=o(x);return n.eql(D,L)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,b1),TQ),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(x){return yS(x,cr,e.n)}function f(x){const{allowedPrivateKeyLengths:b,nByteLength:D,wrapPrivateKey:L,n:T}=e;if(b&&typeof x!="bigint"){if(bp(x)&&(x=df(x)),typeof x!="string"||!b.includes(x.length))throw new Error("invalid private key");x=x.padStart(D*2,"0")}let R;try{R=typeof x=="bigint"?x:kl(Wn("private key",x,D))}catch{throw new Error("invalid private key, expected hex or "+D+" bytes, got "+typeof x)}return L&&(R=xn(R,T)),yi("private key",R,cr,T),R}function h(x){if(!(x instanceof g))throw new Error("ProjectivePoint expected")}const m=Oy((x,b)=>{const{px:D,py:L,pz:T}=x;if(n.eql(T,n.ONE))return{x:D,y:L};const R=x.is0();b==null&&(b=R?n.ONE:n.inv(T));const F=n.mul(D,b),P=n.mul(L,b),U=n.mul(T,b);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(U,n.ONE))throw new Error("invZ was invalid");return{x:F,y:P}}),v=Oy(x=>{if(x.is0()){if(e.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:b,y:D}=x.toAffine();if(!n.isValid(b)||!n.isValid(D))throw new Error("bad point: x or y not FE");if(!a(b,D))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(b,D,L){if(b==null||!n.isValid(b))throw new Error("x required");if(D==null||!n.isValid(D)||n.is0(D))throw new Error("y required");if(L==null||!n.isValid(L))throw new Error("z required");this.px=b,this.py=D,this.pz=L,Object.freeze(this)}static fromAffine(b){const{x:D,y:L}=b||{};if(!b||!n.isValid(D)||!n.isValid(L))throw new Error("invalid affine point");if(b instanceof g)throw new Error("projective point not allowed");const T=R=>n.eql(R,n.ZERO);return T(D)&&T(L)?g.ZERO:new g(D,L,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const D=vS(n,b.map(L=>L.pz));return b.map((L,T)=>L.toAffine(D[T])).map(g.fromAffine)}static fromHex(b){const D=g.fromAffine(i(Wn("pointHex",b)));return D.assertValidity(),D}static fromPrivateKey(b){return g.BASE.multiply(f(b))}static msm(b,D){return g6(g,r,b,D)}_setWindowSize(b){w.setWindowSize(this,b)}assertValidity(){v(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){h(b);const{px:D,py:L,pz:T}=this,{px:R,py:F,pz:P}=b,U=n.eql(n.mul(D,P),n.mul(R,T)),W=n.eql(n.mul(L,P),n.mul(F,T));return U&&W}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:D}=e,L=n.mul(D,b1),{px:T,py:R,pz:F}=this;let P=n.ZERO,U=n.ZERO,W=n.ZERO,S=n.mul(T,T),_=n.mul(R,R),C=n.mul(F,F),O=n.mul(T,R);return O=n.add(O,O),W=n.mul(T,F),W=n.add(W,W),P=n.mul(b,W),U=n.mul(L,C),U=n.add(P,U),P=n.sub(_,U),U=n.add(_,U),U=n.mul(P,U),P=n.mul(O,P),W=n.mul(L,W),C=n.mul(b,C),O=n.sub(S,C),O=n.mul(b,O),O=n.add(O,W),W=n.add(S,S),S=n.add(W,S),S=n.add(S,C),S=n.mul(S,O),U=n.add(U,S),C=n.mul(R,F),C=n.add(C,C),S=n.mul(C,O),P=n.sub(P,S),W=n.mul(C,_),W=n.add(W,W),W=n.add(W,W),new g(P,U,W)}add(b){h(b);const{px:D,py:L,pz:T}=this,{px:R,py:F,pz:P}=b;let U=n.ZERO,W=n.ZERO,S=n.ZERO;const _=e.a,C=n.mul(e.b,b1);let O=n.mul(D,R),H=n.mul(L,F),j=n.mul(T,P),z=n.add(D,L),K=n.add(R,F);z=n.mul(z,K),K=n.add(O,H),z=n.sub(z,K),K=n.add(D,T);let B=n.add(R,P);return K=n.mul(K,B),B=n.add(O,j),K=n.sub(K,B),B=n.add(L,T),U=n.add(F,P),B=n.mul(B,U),U=n.add(H,j),B=n.sub(B,U),S=n.mul(_,K),U=n.mul(C,j),S=n.add(U,S),U=n.sub(H,S),S=n.add(H,S),W=n.mul(U,S),H=n.add(O,O),H=n.add(H,O),j=n.mul(_,j),K=n.mul(C,K),H=n.add(H,j),j=n.sub(O,j),j=n.mul(_,j),K=n.add(K,j),O=n.mul(H,K),W=n.add(W,O),O=n.mul(B,K),U=n.mul(z,U),U=n.sub(U,O),O=n.mul(z,H),S=n.mul(B,S),S=n.add(S,O),new g(U,W,S)}subtract(b){return this.add(b.negate())}is0(){return this.equals(g.ZERO)}wNAF(b){return w.wNAFCached(this,b,g.normalizeZ)}multiplyUnsafe(b){const{endo:D,n:L}=e;yi("scalar",b,Do,L);const T=g.ZERO;if(b===Do)return T;if(this.is0()||b===cr)return this;if(!D||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,b,g.normalizeZ);let{k1neg:R,k1:F,k2neg:P,k2:U}=D.splitScalar(b),W=T,S=T,_=this;for(;F>Do||U>Do;)F&cr&&(W=W.add(_)),U&cr&&(S=S.add(_)),_=_.double(),F>>=cr,U>>=cr;return R&&(W=W.negate()),P&&(S=S.negate()),S=new g(n.mul(S.px,D.beta),S.py,S.pz),W.add(S)}multiply(b){const{endo:D,n:L}=e;yi("scalar",b,cr,L);let T,R;if(D){const{k1neg:F,k1:P,k2neg:U,k2:W}=D.splitScalar(b);let{p:S,f:_}=this.wNAF(P),{p:C,f:O}=this.wNAF(W);S=w.constTimeNegate(F,S),C=w.constTimeNegate(U,C),C=new g(n.mul(C.px,D.beta),C.py,C.pz),T=S.add(C),R=_.add(O)}else{const{p:F,f:P}=this.wNAF(b);T=F,R=P}return g.normalizeZ([T,R])[0]}multiplyAndAddUnsafe(b,D,L){const T=g.BASE,R=(P,U)=>U===Do||U===cr||!P.equals(T)?P.multiplyUnsafe(U):P.multiply(U),F=R(this,D).add(R(b,L));return F.is0()?void 0:F}toAffine(b){return m(this,b)}isTorsionFree(){const{h:b,isTorsionFree:D}=e;if(b===cr)return!0;if(D)return D(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:D}=e;return b===cr?this:D?D(g,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return mc("isCompressed",b),this.assertValidity(),s(g,this,b)}toHex(b=!0){return mc("isCompressed",b),df(this.toRawBytes(b))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:E}=e,w=m6(g,y?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:u}}function RQ(t){const e=xS(t);return Sp(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function kQ(t){const e=RQ(t),{Fp:n,n:r,nByteLength:s,nBitLength:i}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(C){return xn(C,r)}function l(C){return fb(C,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:h,isWithinCurveOrder:m}=IQ({...e,toBytes(C,O,H){const j=O.toAffine(),z=n.toBytes(j.x),K=ff;return mc("isCompressed",H),H?K(Uint8Array.from([O.hasEvenY()?2:3]),z):K(Uint8Array.from([4]),z,n.toBytes(j.y))},fromBytes(C){const O=C.length,H=C[0],j=C.subarray(1);if(O===o&&(H===2||H===3)){const z=kl(j);if(!yS(z,cr,n.ORDER))throw new Error("Point is not on curve");const K=h(z);let B;try{B=n.sqrt(K)}catch(X){const oe=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+oe)}const A=(B&cr)===cr;return(H&1)===1!==A&&(B=n.neg(B)),{x:z,y:B}}else if(O===a&&H===4){const z=n.fromBytes(j.subarray(0,n.BYTES)),K=n.fromBytes(j.subarray(n.BYTES,2*n.BYTES));return{x:z,y:K}}else{const z=o,K=a;throw new Error("invalid Point, expected length of "+z+", or uncompressed "+K+", got "+O)}}});function v(C){const O=r>>cr;return C>O}function g(C){return v(C)?c(-C):C}const y=(C,O,H)=>kl(C.slice(O,H));class E{constructor(O,H,j){yi("r",O,cr,r),yi("s",H,cr,r),this.r=O,this.s=H,j!=null&&(this.recovery=j),Object.freeze(this)}static fromCompact(O){const H=s;return O=Wn("compactSignature",O,H*2),new E(y(O,0,H),y(O,H,2*H))}static fromDER(O){const{r:H,s:j}=Co.toSig(Wn("DER",O));return new E(H,j)}assertValidity(){}addRecoveryBit(O){return new E(this.r,this.s,O)}recoverPublicKey(O){const{r:H,s:j,recovery:z}=this,K=T(Wn("msgHash",O));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const B=z===2||z===3?H+e.n:H;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const A=z&1?"03":"02",$=u.fromHex(A+E1(B,n.BYTES)),X=l(B),oe=c(-K*X),ae=c(j*X),ce=u.BASE.multiplyAndAddUnsafe($,oe,ae);if(!ce)throw new Error("point at infinify");return ce.assertValidity(),ce}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Py(this.toDERHex())}toDERHex(){return Co.hexFromSig(this)}toCompactRawBytes(){return Py(this.toCompactHex())}toCompactHex(){const O=s;return E1(this.r,O)+E1(this.s,O)}}const w={isValidPrivateKey(C){try{return f(C),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const C=f6(e.n);return IK(e.randomBytes(C),e.n)},precompute(C=8,O=u.BASE){return O._setWindowSize(C),O.multiply(BigInt(3)),O}};function x(C,O=!0){return u.fromPrivateKey(C).toRawBytes(O)}function b(C){if(typeof C=="bigint")return!1;if(C instanceof u)return!0;const H=Wn("key",C).length,j=n.BYTES,z=j+1,K=2*j+1;if(!(e.allowedPrivateKeyLengths||s===z))return H===z||H===K}function D(C,O,H=!0){if(b(C)===!0)throw new Error("first arg must be private key");if(b(O)===!1)throw new Error("second arg must be public key");return u.fromHex(O).multiply(f(C)).toRawBytes(H)}const L=e.bits2int||function(C){if(C.length>8192)throw new Error("input is too large");const O=kl(C),H=C.length*8-i;return H>0?O>>BigInt(H):O},T=e.bits2int_modN||function(C){return c(L(C))},R=ax(i);function F(C){return yi("num < 2^"+i,C,Do,R),Ap(C,s)}function P(C,O,H=U){if(["recovered","canonical"].some(ye=>ye in H))throw new Error("sign() legacy options not supported");const{hash:j,randomBytes:z}=e;let{lowS:K,prehash:B,extraEntropy:A}=H;K==null&&(K=!0),C=Wn("msgHash",C),aR(H),B&&(C=Wn("prehashed msgHash",j(C)));const $=T(C),X=f(O),oe=[F(X),F($)];if(A!=null&&A!==!1){const ye=A===!0?z(n.BYTES):A;oe.push(Wn("extraEntropy",ye))}const ae=ff(...oe),ce=$;function le(ye){const Re=L(ye);if(!m(Re))return;const be=l(Re),xe=u.BASE.multiply(Re).toAffine(),Oe=c(xe.x);if(Oe===Do)return;const Te=c(be*c(ce+Oe*X));if(Te===Do)return;let He=(xe.x===Oe?0:2)|Number(xe.y&cr),Rt=Te;return K&&v(Te)&&(Rt=g(Te),He^=1),new E(Oe,Rt,He)}return{seed:ae,k2sig:le}}const U={lowS:e.lowS,prehash:!1},W={lowS:e.lowS,prehash:!1};function S(C,O,H=U){const{seed:j,k2sig:z}=P(C,O,H),K=e;return vK(K.hash.outputLen,K.nByteLength,K.hmac)(j,z)}u.BASE._setWindowSize(8);function _(C,O,H,j=W){var He;const z=C;O=Wn("msgHash",O),H=Wn("publicKey",H);const{lowS:K,prehash:B,format:A}=j;if(aR(j),"strict"in j)throw new Error("options.strict was renamed to lowS");if(A!==void 0&&A!=="compact"&&A!=="der")throw new Error("format must be compact or der");const $=typeof z=="string"||bp(z),X=!$&&!A&&typeof z=="object"&&z!==null&&typeof z.r=="bigint"&&typeof z.s=="bigint";if(!$&&!X)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let oe,ae;try{if(X&&(oe=new E(z.r,z.s)),$){try{A!=="compact"&&(oe=E.fromDER(z))}catch(Rt){if(!(Rt instanceof Co.Err))throw Rt}!oe&&A!=="der"&&(oe=E.fromCompact(z))}ae=u.fromHex(H)}catch{return!1}if(!oe||K&&oe.hasHighS())return!1;B&&(O=e.hash(O));const{r:ce,s:le}=oe,ye=T(O),Re=l(le),be=c(ye*Re),xe=c(ce*Re),Oe=(He=u.BASE.multiplyAndAddUnsafe(ae,be,xe))==null?void 0:He.toAffine();return Oe?c(Oe.x)===ce:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:D,sign:S,verify:_,ProjectivePoint:u,Signature:E,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function NQ(t){return{hash:t,hmac:(e,...n)=>n5(t,e,Zq(...n)),randomBytes:e6}}function MQ(t,e){const n=r=>kQ({...t,...NQ(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r5=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),cR=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),DQ=BigInt(0),PQ=BigInt(1),gb=BigInt(2),lR=(t,e)=>(t+e/gb)/e;function BQ(t){const e=r5,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=Fn(u,n,e)*u%e,h=Fn(f,n,e)*u%e,m=Fn(h,gb,e)*l%e,v=Fn(m,s,e)*m%e,g=Fn(v,i,e)*v%e,y=Fn(g,a,e)*g%e,E=Fn(y,c,e)*y%e,w=Fn(E,a,e)*g%e,x=Fn(w,n,e)*u%e,b=Fn(x,o,e)*v%e,D=Fn(b,r,e)*l%e,L=Fn(D,gb,e);if(!yb.eql(yb.sqr(L),t))throw new Error("Cannot find square root");return L}const yb=Cp(r5,void 0,void 0,{sqrt:BQ}),OQ=MQ({a:DQ,b:BigInt(7),Fp:yb,n:cR,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=cR,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-PQ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=lR(i*t,e),c=lR(-r*t,e);let l=xn(t-a*n-c*s,e),u=xn(-a*r-c*i,e);const f=l>o,h=u>o;if(f&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:h,k2:u}}}},r6),uR=()=>{const t=Tp.utils.randomPrivateKey(),e=vb(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},vb=Tp.getPublicKey;function dR(t){try{return Tp.ExtendedPoint.fromHex(t),!0}catch{return!1}}const s5=(t,e)=>Tp.sign(t,e.slice(0,32)),LQ=Tp.verify,pf=t=>nt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?nt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):nt.Buffer.from(t);class jQ{constructor(e){Object.assign(this,e)}encode(){return nt.Buffer.from(C6(Ag,this))}static decode(e){return T6(Ag,this,e)}static decodeUnchecked(e){return _6(Ag,this,e)}}const Ag=new Map;var i5;const FQ=32,gc=32;function UQ(t){return t._bn!==void 0}let fR=1;class ke extends jQ{constructor(e){if(super({}),this._bn=void 0,UQ(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Er.decode(e);if(n.length!=gc)throw new Error("Invalid public key input");this._bn=new rR(n)}else this._bn=new rR(e);if(this._bn.byteLength()>gc)throw new Error("Invalid public key input")}}static unique(){const e=new ke(fR);return fR+=1,new ke(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Er.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(nt.Buffer);if(e.length===gc)return e;const n=nt.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const s=nt.Buffer.concat([e.toBuffer(),nt.Buffer.from(n),r.toBuffer()]),i=sR(s);return new ke(i)}static createProgramAddressSync(e,n){let r=nt.Buffer.alloc(0);e.forEach(function(i){if(i.length>FQ)throw new TypeError("Max seed length exceeded");r=nt.Buffer.concat([r,pf(i)])}),r=nt.Buffer.concat([r,n.toBuffer(),nt.Buffer.from("ProgramDerivedAddress")]);const s=sR(r);if(dR(s))throw new Error("Invalid seeds, address must fall off the curve");return new ke(s)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,s;for(;r!=0;){try{const i=e.concat(nt.Buffer.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new ke(e);return dR(n.toBytes())}}i5=ke;ke.default=new i5("11111111111111111111111111111111");Ag.set(ke,{kind:"struct",fields:[["_bn","u256"]]});new ke("BPFLoader1111111111111111111111111111111111");const kd=1232,BS=127,O0=64;class o5 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(o5.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class a5 extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(a5.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Nh extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Nh.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Wy{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const mt=(t="publicKey")=>Yt(32,t),zQ=(t="signature")=>Yt(64,t),pd=(t="string")=>{const e=Me([Ue("length"),Ue("lengthPadding"),Yt(Nl(Ue(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>n(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:nt.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>Ue().span+Ue().span+nt.Buffer.from(i,"utf8").length,s},VQ=(t="authorized")=>Me([mt("staker"),mt("withdrawer")],t),WQ=(t="lockup")=>Me([ks("unixTimestamp"),ks("epoch"),mt("custodian")],t),$Q=(t="voteInit")=>Me([mt("nodePubkey"),mt("authorizedVoter"),mt("authorizedWithdrawer"),St("commission")],t),HQ=(t="voteAuthorizeWithSeedArgs")=>Me([Ue("voteAuthorizationType"),mt("currentAuthorityDerivedKeyOwnerPubkey"),pd("currentAuthorityDerivedKeySeed"),mt("newAuthorized")],t);function Ns(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Ms(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function vn(t,e){if(!t)throw new Error(e||"Assertion failed")}class px{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new px(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];vn(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{vn(n.length>0,"Expected at least one writable signer key");const[c]=n[0];vn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new ke(c)),...r.map(([c])=>new ke(c)),...s.map(([c])=>new ke(c)),...i.map(([c])=>new ke(c))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,n){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(n(o)){const a=new ke(i),c=e.findIndex(l=>l.equals(a));c>=0&&(vn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const c5="Reached end of buffer unexpectedly";function Po(t){if(t.length===0)throw new Error(c5);return t.shift()}function Ds(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(c5);return t.splice(...e)}class Jo{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new ke(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Er.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Wy(this.staticAccountKeys)}static compile(e){const n=px.compile(e.instructions,e.payerKey),[r,s]=n.getMessageComponents(),o=new Wy(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Er.encode(a.data)}));return new Jo({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Ms(n,e);const r=this.instructions.map(f=>{const{accounts:h,programIdIndex:m}=f,v=Array.from(Er.decode(f.data));let g=[];Ms(g,h.length);let y=[];return Ms(y,v.length),{programIdIndex:m,keyIndicesCount:nt.Buffer.from(g),keyIndices:h,dataLength:nt.Buffer.from(y),data:v}});let s=[];Ms(s,r.length);let i=nt.Buffer.alloc(kd);nt.Buffer.from(s).copy(i);let o=s.length;r.forEach(f=>{const m=Me([St("programIdIndex"),Yt(f.keyIndicesCount.length,"keyIndicesCount"),qr(St("keyIndex"),f.keyIndices.length,"keyIndices"),Yt(f.dataLength.length,"dataLength"),qr(St("userdatum"),f.data.length,"data")]).encode(f,i,o);o+=m}),i=i.slice(0,o);const a=Me([Yt(1,"numRequiredSignatures"),Yt(1,"numReadonlySignedAccounts"),Yt(1,"numReadonlyUnsignedAccounts"),Yt(n.length,"keyCount"),qr(mt("key"),e,"keys"),mt("recentBlockhash")]),c={numRequiredSignatures:nt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:nt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:nt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:nt.Buffer.from(n),keys:this.accountKeys.map(f=>pf(f.toBytes())),recentBlockhash:Er.decode(this.recentBlockhash)};let l=nt.Buffer.alloc(2048);const u=a.encode(c,l);return i.copy(l,u),l.slice(0,u+i.length)}static from(e){let n=[...e];const r=Po(n);if(r!==(r&BS))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Po(n),i=Po(n),o=Ns(n);let a=[];for(let h=0;h<o;h++){const m=Ds(n,0,gc);a.push(new ke(nt.Buffer.from(m)))}const c=Ds(n,0,gc),l=Ns(n);let u=[];for(let h=0;h<l;h++){const m=Po(n),v=Ns(n),g=Ds(n,0,v),y=Ns(n),E=Ds(n,0,y),w=Er.encode(nt.Buffer.from(E));u.push({programIdIndex:m,accounts:g,data:w})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Er.encode(nt.Buffer.from(c)),accountKeys:a,instructions:u};return new Jo(f)}}class L0{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Wy(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=n-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)n.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)n.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=px.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const u of i){const f=n.extractTableLookup(u);if(f!==void 0){const[h,{writable:m,readonly:v}]=f;r.push(h),s.writable.push(...m),s.readonly.push(...v)}}const[o,a]=n.getMessageComponents(),l=new Wy(a,s).compileInstructions(e.instructions);return new L0({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:l,addressTableLookups:r})}serialize(){const e=Array();Ms(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Ms(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Ms(i,this.addressTableLookups.length);const o=Me([St("prefix"),Me([St("numRequiredSignatures"),St("numReadonlySignedAccounts"),St("numReadonlyUnsignedAccounts")],"header"),Yt(e.length,"staticAccountKeysLength"),qr(mt(),this.staticAccountKeys.length,"staticAccountKeys"),mt("recentBlockhash"),Yt(r.length,"instructionsLength"),Yt(n.length,"serializedInstructions"),Yt(i.length,"addressTableLookupsLength"),Yt(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(kd),l=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:Er.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,l)}serializeInstructions(){let e=0;const n=new Uint8Array(kd);for(const r of this.compiledInstructions){const s=Array();Ms(s,r.accountKeyIndexes.length);const i=Array();Ms(i,r.data.length);const o=Me([St("programIdIndex"),Yt(s.length,"encodedAccountKeyIndexesLength"),qr(St(),r.accountKeyIndexes.length,"accountKeyIndexes"),Yt(i.length,"encodedDataLength"),Yt(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(kd);for(const r of this.addressTableLookups){const s=Array();Ms(s,r.writableIndexes.length);const i=Array();Ms(i,r.readonlyIndexes.length);const o=Me([mt("accountKey"),Yt(s.length,"encodedWritableIndexesLength"),qr(St(),r.writableIndexes.length,"writableIndexes"),Yt(i.length,"encodedReadonlyIndexesLength"),qr(St(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=Po(n),s=r&BS;vn(r!==s,"Expected versioned message but received legacy message");const i=s;vn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Po(n),numReadonlySignedAccounts:Po(n),numReadonlyUnsignedAccounts:Po(n)},a=[],c=Ns(n);for(let v=0;v<c;v++)a.push(new ke(Ds(n,0,gc)));const l=Er.encode(Ds(n,0,gc)),u=Ns(n),f=[];for(let v=0;v<u;v++){const g=Po(n),y=Ns(n),E=Ds(n,0,y),w=Ns(n),x=new Uint8Array(Ds(n,0,w));f.push({programIdIndex:g,accountKeyIndexes:E,data:x})}const h=Ns(n),m=[];for(let v=0;v<h;v++){const g=new ke(Ds(n,0,gc)),y=Ns(n),E=Ds(n,0,y),w=Ns(n),x=Ds(n,0,w);m.push({accountKey:g,writableIndexes:E,readonlyIndexes:x})}return new L0({header:o,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:f,addressTableLookups:m})}}const mx={deserializeMessageVersion(t){const e=t[0],n=e&BS;return n===e?"legacy":n},deserialize:t=>{const e=mx.deserializeMessageVersion(t);if(e==="legacy")return Jo.from(t);if(e===0)return L0.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let _a=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const qQ=nt.Buffer.alloc(O0).fill(0);class xb{constructor(e){this.keys=void 0,this.programId=void 0,this.data=nt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}let Hi=class wb{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new xb(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let g=0;g<n.length;g++)if(n[g].programId===void 0)throw new Error(`Transaction instruction index ${g} has undefined program id`);const s=[],i=[];n.forEach(g=>{g.keys.forEach(E=>{i.push({...E})});const y=g.programId.toString();s.includes(y)||s.push(y)}),s.forEach(g=>{i.push({pubkey:new ke(g),isSigner:!1,isWritable:!1})});const o=[];i.forEach(g=>{const y=g.pubkey.toString(),E=o.findIndex(w=>w.pubkey.toString()===y);E>-1?(o[E].isWritable=o[E].isWritable||g.isWritable,o[E].isSigner=o[E].isSigner||g.isSigner):o.push(g)}),o.sort(function(g,y){if(g.isSigner!==y.isSigner)return g.isSigner?-1:1;if(g.isWritable!==y.isWritable)return g.isWritable?-1:1;const E={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return g.pubkey.toBase58().localeCompare(y.pubkey.toBase58(),"en",E)});const a=o.findIndex(g=>g.pubkey.equals(r));if(a>-1){const[g]=o.splice(a,1);g.isSigner=!0,g.isWritable=!0,o.unshift(g)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const g of this.signatures){const y=o.findIndex(E=>E.pubkey.equals(g.publicKey));if(y>-1)o[y].isSigner||(o[y].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${g.publicKey.toString()}`)}let c=0,l=0,u=0;const f=[],h=[];o.forEach(({pubkey:g,isSigner:y,isWritable:E})=>{y?(f.push(g.toString()),c+=1,E||(l+=1)):(h.push(g.toString()),E||(u+=1))});const m=f.concat(h),v=n.map(g=>{const{data:y,programId:E}=g;return{programIdIndex:m.indexOf(E.toString()),accounts:g.keys.map(w=>m.indexOf(w.pubkey.toString())),data:Er.encode(y)}});return v.forEach(g=>{vn(g.programIdIndex>=0),g.accounts.forEach(y=>vn(y>=0))}),new Jo({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u},accountKeys:m,recentBlockhash:e,instructions:v})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(s=>{const i=s5(r,s.secretKey);this._addSignature(s.publicKey,pf(i))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){vn(n.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=nt.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?n&&(r.missing||(r.missing=[])).push(i):LQ(s,e,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,n);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:n}=this,r=[];Ms(r,n.length);const s=r.length+n.length*64+e.length,i=nt.Buffer.alloc(s);return vn(n.length<256),nt.Buffer.from(r).copy(i,0),n.forEach(({signature:o},a)=>{o!==null&&(vn(o.length===64,"signature has invalid length"),nt.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+n.length*64),vn(i.length<=kd,`Transaction too large: ${i.length} > ${kd}`),i}get keys(){return vn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return vn(this.instructions.length===1),this.instructions[0].programId}get data(){return vn(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Ns(n);let s=[];for(let i=0;i<r;i++){const o=Ds(n,0,O0);s.push(Er.encode(nt.Buffer.from(o)))}return wb.populate(Jo.from(n),s)}static populate(e,n=[]){const r=new wb;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((s,i)=>{const o={signature:s==Er.encode(qQ)?null:Er.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new xb({keys:i,programId:e.accountKeys[s.programIdIndex],data:Er.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}};class Tc{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)vn(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(O0));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Ms(n,this.signatures.length);const r=Me([Yt(n.length,"encodedSignaturesLength"),qr(zQ(),this.signatures.length,"signatures"),Yt(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let n=[...e];const r=[],s=Ns(n);for(let o=0;o<s;o++)r.push(new Uint8Array(Ds(n,0,O0)));const i=mx.deserialize(new Uint8Array(n));return new Tc(i,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));vn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=s5(n,s.secretKey)}}addSignature(e,n){vn(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));vn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}const KQ=160,GQ=64,QQ=KQ/GQ,YQ=1e3/QQ;new ke("SysvarC1ock11111111111111111111111111111111");new ke("SysvarEpochSchedu1e111111111111111111111111");new ke("Sysvar1nstructions1111111111111111111111111");new ke("SysvarRecentB1ockHashes11111111111111111111");new ke("SysvarRent111111111111111111111111111111111");new ke("SysvarRewards111111111111111111111111111111");new ke("SysvarS1otHashes111111111111111111111111111");new ke("SysvarS1otHistory11111111111111111111111111");new ke("SysvarStakeHistory1111111111111111111111111");class hR extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,n(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class Le extends Error{constructor({code:e,message:n,data:r},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function qu(t){return new Promise(e=>setTimeout(e,t))}const XQ=yr("lamportsPerSignature"),l5=Me([Ue("version"),Ue("state"),mt("authorizedPubkey"),mt("nonce"),Me([XQ],"feeCalculator")]);l5.span;class OS{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=l5.decode(pf(e),0);return new OS({authorizedPubkey:new ke(n.authorizedPubkey),nonce:new ke(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function mf(t){const e=Yt(8,t),n=e.decode.bind(e),r=e.encode.bind(e),s=e,i=FG();return s.decode=(o,a)=>{const c=n(o,a);return i.decode(c)},s.encode=(o,a,c)=>{const l=i.encode(o);return r(l,a,c)},s}Object.freeze({Create:{index:0,layout:Me([Ue("instruction"),ks("lamports"),ks("space"),mt("programId")])},Assign:{index:1,layout:Me([Ue("instruction"),mt("programId")])},Transfer:{index:2,layout:Me([Ue("instruction"),mf("lamports")])},CreateWithSeed:{index:3,layout:Me([Ue("instruction"),mt("base"),pd("seed"),ks("lamports"),ks("space"),mt("programId")])},AdvanceNonceAccount:{index:4,layout:Me([Ue("instruction")])},WithdrawNonceAccount:{index:5,layout:Me([Ue("instruction"),ks("lamports")])},InitializeNonceAccount:{index:6,layout:Me([Ue("instruction"),mt("authorized")])},AuthorizeNonceAccount:{index:7,layout:Me([Ue("instruction"),mt("authorized")])},Allocate:{index:8,layout:Me([Ue("instruction"),ks("space")])},AllocateWithSeed:{index:9,layout:Me([Ue("instruction"),mt("base"),pd("seed"),ks("space"),mt("programId")])},AssignWithSeed:{index:10,layout:Me([Ue("instruction"),mt("base"),pd("seed"),mt("programId")])},TransferWithSeed:{index:11,layout:Me([Ue("instruction"),mf("lamports"),pd("seed"),mt("programId")])},UpgradeNonceAccount:{index:12,layout:Me([Ue("instruction")])}});new ke("11111111111111111111111111111111");new ke("BPFLoader2111111111111111111111111111111111");function ZQ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A1,pR;function JQ(){if(pR)return A1;pR=1;var t=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function n(r,s){var i,o,a,c,l,u,f;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),s);if(f=t.call(r),f==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=n(r[i],!0)+",";return o>-1&&(a+=n(r[i],!0)),a+"]"}else if(f==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)l=c[i],u=n(r[l],!1),u!==void 0&&(a&&(a+=","),a+=JSON.stringify(l)+":"+u),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return A1=function(r){var s=n(r,!1);if(s!==void 0)return""+s},A1}var eY=JQ(),mR=ZQ(eY);const gh=32;function S1(t){let e=0;for(;t>1;)t/=2,e++;return e}function tY(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class nY{constructor(e,n,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=S1(tY(e+gh+1))-S1(gh)-1,r=this.getSlotsInEpoch(n),s=e-(r-gh);return[n,s]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=n%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*gh:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+S1(gh)):this.slotsPerEpoch}}var rY=globalThis.fetch;class sY extends AQ{constructor(e,n,r){const s=i=>{const o=EQ(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function iY(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const gR=56;class yR{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=iY(oY,e),r=e.length-gR;vn(r>=0,"lookup table is invalid"),vn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=Me([qr(mt(),s,"addresses")]).decode(e.slice(gR));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new ke(n.authority[0]):void 0,addresses:i.map(o=>new ke(o))}}}const oY={index:1,layout:Me([Ue("typeIndex"),mf("deactivationSlot"),yr("lastExtendedSlot"),St("lastExtendedStartIndex"),St(),qr(mt(),Nl(St(),-1),"authority")])},aY=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function cY(t){const e=t.match(aY);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,s,i]=e,o=t.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Mn=kp(MS(ke),ve(),t=>new ke(t)),u5=DS([ve(),Rn("base64")]),LS=kp(MS(nt.Buffer),u5,t=>nt.Buffer.from(t[0],"base64")),lY=30*1e3;function uY(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Jt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...s}=t;e=r,n=s}return{commitment:e,config:n}}function vR(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function d5(t){return as([he({jsonrpc:Rn("2.0"),id:ve(),result:t}),he({jsonrpc:Rn("2.0"),id:ve(),error:he({code:Uf(),message:ve(),data:$e(qG())})})])}const dY=d5(Uf());function ct(t){return kp(d5(t),dY,e=>"error"in e?e:{...e,result:Ee(e.result,t)})}function Vn(t){return ct(he({context:he({slot:te()}),value:t}))}function gx(t){return he({context:he({slot:te()}),value:t})}function C1(t,e){return t===0?new L0({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new ke(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Er.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Jo(e)}const fY=he({foundation:te(),foundationTerm:te(),initial:te(),taper:te(),terminal:te()}),hY=ct(Se(Ce(he({epoch:te(),effectiveSlot:te(),amount:te(),postBalance:te(),commission:$e(Ce(te()))})))),pY=Se(he({slot:te(),prioritizationFee:te()})),mY=he({total:te(),validator:te(),foundation:te(),epoch:te()}),gY=he({epoch:te(),slotIndex:te(),slotsInEpoch:te(),absoluteSlot:te(),blockHeight:$e(te()),transactionCount:$e(te())}),yY=he({slotsPerEpoch:te(),leaderScheduleSlotOffset:te(),warmup:so(),firstNormalEpoch:te(),firstNormalSlot:te()}),vY=G6(ve(),Se(te())),lu=Ce(as([he({}),ve()])),xY=he({err:lu}),wY=Rn("receivedSignature"),_Y=he({"solana-core":ve(),"feature-set":$e(te())}),EY=he({program:ve(),programId:Mn,parsed:Uf()}),bY=he({programId:Mn,accounts:Se(Mn),data:ve()}),xR=Vn(he({err:Ce(as([he({}),ve()])),logs:Ce(Se(ve())),accounts:$e(Ce(Se(Ce(he({executable:so(),owner:ve(),lamports:te(),data:Se(ve()),rentEpoch:$e(te())}))))),unitsConsumed:$e(te()),returnData:$e(Ce(he({programId:ve(),data:DS([ve(),Rn("base64")])}))),innerInstructions:$e(Ce(Se(he({index:te(),instructions:Se(as([EY,bY]))}))))})),AY=Vn(he({byIdentity:G6(ve(),Se(te())),range:he({firstSlot:te(),lastSlot:te()})}));function SY(t,e,n,r,s,i){const o=n||rY;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(u,f)=>{const h=await new Promise((m,v)=>{try{r(u,f,(g,y)=>m([g,y]))}catch(g){v(g)}});return await o(...h)}),new xQ(async(u,f)=>{const h={method:"POST",body:u,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},SX)};try{let m=5,v,g=500;for(;c?v=await c(t,h):v=await o(t,h),!(v.status!==429||s===!0||(m-=1,m===0));)console.error(`Server responded with ${v.status} ${v.statusText}.  Retrying after ${g}ms delay...`),await qu(g),g*=2;const y=await v.text();v.ok?f(null,y):f(new Error(`${v.status} ${v.statusText}: ${y}`))}catch(m){m instanceof Error&&f(m)}},{})}function CY(t){return(e,n)=>new Promise((r,s)=>{t.request(e,n,(i,o)=>{if(i){s(i);return}r(o)})})}function TY(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const s=e.map(i=>t.request(i.methodName,i.args));t.request(s,(i,o)=>{if(i){r(i);return}n(o)})})}const IY=ct(fY),RY=ct(mY),kY=ct(pY),NY=ct(gY),MY=ct(yY),DY=ct(vY),PY=ct(te()),BY=Vn(he({total:te(),circulating:te(),nonCirculating:te(),nonCirculatingAccounts:Se(Mn)})),_b=he({amount:ve(),uiAmount:Ce(te()),decimals:te(),uiAmountString:$e(ve())}),OY=Vn(Se(he({address:Mn,amount:ve(),uiAmount:Ce(te()),decimals:te(),uiAmountString:$e(ve())}))),LY=Vn(Se(he({pubkey:Mn,account:he({executable:so(),owner:Mn,lamports:te(),data:LS,rentEpoch:te()})}))),Eb=he({program:ve(),parsed:Uf(),space:te()}),jY=Vn(Se(he({pubkey:Mn,account:he({executable:so(),owner:Mn,lamports:te(),data:Eb,rentEpoch:te()})}))),FY=Vn(Se(he({lamports:te(),address:Mn}))),j0=he({executable:so(),owner:Mn,lamports:te(),data:LS,rentEpoch:te()}),UY=he({pubkey:Mn,account:j0}),zY=kp(as([MS(nt.Buffer),Eb]),as([u5,Eb]),t=>Array.isArray(t)?Ee(t,LS):t),bb=he({executable:so(),owner:Mn,lamports:te(),data:zY,rentEpoch:te()}),VY=he({pubkey:Mn,account:bb}),WY=he({state:as([Rn("active"),Rn("inactive"),Rn("activating"),Rn("deactivating")]),active:te(),inactive:te()}),$Y=ct(Se(he({signature:ve(),slot:te(),err:lu,memo:Ce(ve()),blockTime:$e(Ce(te()))}))),HY=ct(Se(he({signature:ve(),slot:te(),err:lu,memo:Ce(ve()),blockTime:$e(Ce(te()))}))),qY=he({subscription:te(),result:gx(j0)}),KY=he({pubkey:Mn,account:j0}),GY=he({subscription:te(),result:gx(KY)}),QY=he({parent:te(),slot:te(),root:te()}),YY=he({subscription:te(),result:QY}),XY=as([he({type:as([Rn("firstShredReceived"),Rn("completed"),Rn("optimisticConfirmation"),Rn("root")]),slot:te(),timestamp:te()}),he({type:Rn("createdBank"),parent:te(),slot:te(),timestamp:te()}),he({type:Rn("frozen"),slot:te(),timestamp:te(),stats:he({numTransactionEntries:te(),numSuccessfulTransactions:te(),numFailedTransactions:te(),maxTransactionsPerEntry:te()})}),he({type:Rn("dead"),slot:te(),timestamp:te(),err:ve()})]),ZY=he({subscription:te(),result:XY}),JY=he({subscription:te(),result:gx(as([xY,wY]))}),eX=he({subscription:te(),result:te()}),tX=he({pubkey:ve(),gossip:Ce(ve()),tpu:Ce(ve()),rpc:Ce(ve()),version:Ce(ve())}),wR=he({votePubkey:ve(),nodePubkey:ve(),activatedStake:te(),epochVoteAccount:so(),epochCredits:Se(DS([te(),te(),te()])),commission:te(),lastVote:te(),rootSlot:Ce(te())}),nX=ct(he({current:Se(wR),delinquent:Se(wR)})),rX=as([Rn("processed"),Rn("confirmed"),Rn("finalized")]),sX=he({slot:te(),confirmations:Ce(te()),err:lu,confirmationStatus:$e(rX)}),iX=Vn(Se(Ce(sX))),oX=ct(te()),f5=he({accountKey:Mn,writableIndexes:Se(te()),readonlyIndexes:Se(te())}),jS=he({signatures:Se(ve()),message:he({accountKeys:Se(ve()),header:he({numRequiredSignatures:te(),numReadonlySignedAccounts:te(),numReadonlyUnsignedAccounts:te()}),instructions:Se(he({accounts:Se(te()),data:ve(),programIdIndex:te()})),recentBlockhash:ve(),addressTableLookups:$e(Se(f5))})}),h5=he({pubkey:Mn,signer:so(),writable:so(),source:$e(as([Rn("transaction"),Rn("lookupTable")]))}),p5=he({accountKeys:Se(h5),signatures:Se(ve())}),m5=he({parsed:Uf(),program:ve(),programId:Mn}),g5=he({accounts:Se(Mn),data:ve(),programId:Mn}),aX=as([g5,m5]),cX=as([he({parsed:Uf(),program:ve(),programId:ve()}),he({accounts:Se(ve()),data:ve(),programId:ve()})]),y5=kp(aX,cX,t=>"accounts"in t?Ee(t,g5):Ee(t,m5)),v5=he({signatures:Se(ve()),message:he({accountKeys:Se(h5),instructions:Se(y5),recentBlockhash:ve(),addressTableLookups:$e(Ce(Se(f5)))})}),$y=he({accountIndex:te(),mint:ve(),owner:$e(ve()),programId:$e(ve()),uiTokenAmount:_b}),x5=he({writable:Se(Mn),readonly:Se(Mn)}),yx=he({err:lu,fee:te(),innerInstructions:$e(Ce(Se(he({index:te(),instructions:Se(he({accounts:Se(te()),data:ve(),programIdIndex:te()}))})))),preBalances:Se(te()),postBalances:Se(te()),logMessages:$e(Ce(Se(ve()))),preTokenBalances:$e(Ce(Se($y))),postTokenBalances:$e(Ce(Se($y))),loadedAddresses:$e(x5),computeUnitsConsumed:$e(te())}),FS=he({err:lu,fee:te(),innerInstructions:$e(Ce(Se(he({index:te(),instructions:Se(y5)})))),preBalances:Se(te()),postBalances:Se(te()),logMessages:$e(Ce(Se(ve()))),preTokenBalances:$e(Ce(Se($y))),postTokenBalances:$e(Ce(Se($y))),loadedAddresses:$e(x5),computeUnitsConsumed:$e(te())}),zf=as([Rn(0),Rn("legacy")]),uu=he({pubkey:ve(),lamports:te(),postBalance:Ce(te()),rewardType:Ce(ve()),commission:$e(Ce(te()))}),lX=ct(Ce(he({blockhash:ve(),previousBlockhash:ve(),parentSlot:te(),transactions:Se(he({transaction:jS,meta:Ce(yx),version:$e(zf)})),rewards:$e(Se(uu)),blockTime:Ce(te()),blockHeight:Ce(te())}))),uX=ct(Ce(he({blockhash:ve(),previousBlockhash:ve(),parentSlot:te(),rewards:$e(Se(uu)),blockTime:Ce(te()),blockHeight:Ce(te())}))),dX=ct(Ce(he({blockhash:ve(),previousBlockhash:ve(),parentSlot:te(),transactions:Se(he({transaction:p5,meta:Ce(yx),version:$e(zf)})),rewards:$e(Se(uu)),blockTime:Ce(te()),blockHeight:Ce(te())}))),fX=ct(Ce(he({blockhash:ve(),previousBlockhash:ve(),parentSlot:te(),transactions:Se(he({transaction:v5,meta:Ce(FS),version:$e(zf)})),rewards:$e(Se(uu)),blockTime:Ce(te()),blockHeight:Ce(te())}))),hX=ct(Ce(he({blockhash:ve(),previousBlockhash:ve(),parentSlot:te(),transactions:Se(he({transaction:p5,meta:Ce(FS),version:$e(zf)})),rewards:$e(Se(uu)),blockTime:Ce(te()),blockHeight:Ce(te())}))),pX=ct(Ce(he({blockhash:ve(),previousBlockhash:ve(),parentSlot:te(),rewards:$e(Se(uu)),blockTime:Ce(te()),blockHeight:Ce(te())}))),mX=ct(Ce(he({blockhash:ve(),previousBlockhash:ve(),parentSlot:te(),transactions:Se(he({transaction:jS,meta:Ce(yx)})),rewards:$e(Se(uu)),blockTime:Ce(te())}))),_R=ct(Ce(he({blockhash:ve(),previousBlockhash:ve(),parentSlot:te(),signatures:Se(ve()),blockTime:Ce(te())}))),T1=ct(Ce(he({slot:te(),meta:Ce(yx),blockTime:$e(Ce(te())),transaction:jS,version:$e(zf)}))),$m=ct(Ce(he({slot:te(),transaction:v5,meta:Ce(FS),blockTime:$e(Ce(te())),version:$e(zf)}))),gX=Vn(he({blockhash:ve(),lastValidBlockHeight:te()})),yX=Vn(so()),vX=he({slot:te(),numTransactions:te(),numSlots:te(),samplePeriodSecs:te()}),xX=ct(Se(vX)),wX=Vn(Ce(he({feeCalculator:he({lamportsPerSignature:te()})}))),_X=ct(ve()),EX=ct(ve()),bX=he({err:lu,logs:Se(ve()),signature:ve()}),AX=he({result:gx(bX),subscription:te()}),SX={"solana-client":"js/1.0.0-maintenance"};class CX{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const l={};return async u=>{const{commitment:f,config:h}=Jt(u),m=this._buildArgs([],f,void 0,h),v=mR(m);return l[v]=l[v]??(async()=>{try{const g=await this._rpcRequest("getBlockHeight",m),y=Ee(g,ct(te()));if("error"in y)throw new Le(y.error,"failed to get block height information");return y.result}finally{delete l[v]}})(),await l[v]}})();let r,s,i,o,a,c;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,s=n.httpHeaders,i=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,c=n.httpAgent),this._rpcEndpoint=uY(e),this._rpcWsEndpoint=r||cY(e),this._rpcClient=SY(e,s,i,o,a,c),this._rpcRequest=CY(this._rpcClient),this._rpcBatchRequest=TY(this._rpcClient),this._rpcWebSocket=new sY(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:s}=Jt(n),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=Ee(o,Vn(te()));if("error"in a)throw new Le(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=Ee(n,ct(Ce(te())));if("error"in r)throw new Le(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=Ee(e,ct(te()));if("error"in n)throw new Le(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=Ee(e,PY);if("error"in n)throw new Le(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),s=Ee(r,BY);if("error"in s)throw new Le(s.error,"failed to get supply");return s.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenSupply",r),i=Ee(s,Vn(_b));if("error"in i)throw new Le(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",r),i=Ee(s,Vn(_b));if("error"in i)throw new Le(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,n,r){const{commitment:s,config:i}=Jt(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),l=Ee(c,LY);if("error"in l)throw new Le(l.error,`failed to get token accounts owned by account ${e.toBase58()}`);return l.result}async getParsedTokenAccountsByOwner(e,n,r){let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=Ee(o,jY);if("error"in a)throw new Le(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",r),i=Ee(s,FY);if("error"in i)throw new Le(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",r),i=Ee(s,OY);if("error"in i)throw new Le(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:s}=Jt(n),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=Ee(o,Vn(Ce(j0)));if("error"in a)throw new Le(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:s}=Jt(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=Ee(o,Vn(Ce(bb)));if("error"in a)throw new Le(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:s}=Jt(n),i=e.map(l=>l.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=Ee(a,Vn(Se(Ce(bb))));if("error"in c)throw new Le(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:s}=Jt(n),i=e.map(l=>l.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=Ee(a,Vn(Se(Ce(j0))));if("error"in c)throw new Le(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:s,config:i}=Jt(n),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=Ee(a,ct(WY));if("error"in c)throw new Le(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,n){const{commitment:r,config:s}=Jt(n),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:vR(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),l=Se(UY),u=o.withContext===!0?Ee(c,Vn(l)):Ee(c,ct(l));if("error"in u)throw new Le(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:s}=Jt(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=Ee(o,ct(Se(VY)));if("error"in a)throw new Le(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Er.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return vn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,s,i=!1;const o=new Promise((c,l)=>{try{r=this.onSignature(n,(f,h)=>{r=void 0;const m={context:h,value:f};c({__type:_a.PROCESSED,response:m})},e);const u=new Promise(f=>{r==null?f():s=this._onSubscriptionStateChange(r,h=>{h==="subscribed"&&f()})});(async()=>{if(await u,i)return;const f=await this.getSignatureStatus(n);if(i||f==null)return;const{context:h,value:m}=f;if(m!=null)if(m!=null&&m.err)l(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:_a.PROCESSED,response:{context:h,value:m}})}})()}catch(u){l(u)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(f=>{const h=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await h();if(!i){for(;m<=r;)if(await qu(1e3),i||(m=await h(),i))return;f({__type:_a.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),l=this.getCancellationPromise(n);let u;try{const f=await Promise.race([l,c,o]);if(f.__type===_a.PROCESSED)u=f.response;else throw new o5(s)}finally{i=!0,a()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(m=>{let v=i,g=null;const y=async()=>{try{const{context:E,value:w}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return g=E.slot,w==null?void 0:w.nonce}catch{return v}};(async()=>{if(v=await y(),!a)for(;;){if(i!==v){m({__type:_a.NONCE_INVALID,slotInWhichNonceDidAdvance:g});return}if(await qu(2e3),a||(v=await y(),a))return}})()}),{abortConfirmation:l,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),f=this.getCancellationPromise(n);let h;try{const m=await Promise.race([f,u,c]);if(m.__type===_a.PROCESSED)h=m.response;else{let v;for(;;){const g=await this.getSignatureStatus(o);if(g==null)break;if(g.context.slot<(m.slotInWhichNonceDidAdvance??r)){await qu(400);continue}v=g;break}if(v!=null&&v.value){const g=e||"finalized",{confirmationStatus:y}=v.value;switch(g){case"processed":case"recent":if(y!=="processed"&&y!=="confirmed"&&y!=="finalized")throw new Nh(o);break;case"confirmed":case"single":case"singleGossip":if(y!=="confirmed"&&y!=="finalized")throw new Nh(o);break;case"finalized":case"max":case"root":if(y!=="finalized")throw new Nh(o);break;default:}h={context:v.context,value:{err:v.value.err}}}else throw new Nh(o)}}finally{a=!0,l()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const s=new Promise(c=>{let l=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{l=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:_a.TIMED_OUT,timeoutMs:l}),l)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const c=await Promise.race([o,s]);if(c.__type===_a.PROCESSED)a=c.response;else throw new a5(n,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=Ee(e,ct(Se(tX)));if("error"in n)throw new Le(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),s=Ee(r,nX);if("error"in s)throw new Le(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:n,config:r}=Jt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlot",s),o=Ee(i,ct(te()));if("error"in o)throw new Le(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=Jt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=Ee(i,ct(ve()));if("error"in o)throw new Le(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],s=await this._rpcRequest("getSlotLeaders",r),i=Ee(s,ct(Se(Mn)));if("error"in i)throw new Le(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,n){const{context:r,value:s}=await this.getSignatureStatuses([e],n);vn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const s=await this._rpcRequest("getSignatureStatuses",r),i=Ee(s,iX);if("error"in i)throw new Le(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:n,config:r}=Jt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=Ee(i,ct(te()));if("error"in o)throw new Le(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),s=Ee(r,IY);if("error"in s)throw new Le(s.error,"failed to get inflation");return s.result}async getInflationReward(e,n,r){const{commitment:s,config:i}=Jt(r),o=this._buildArgs([e.map(l=>l.toBase58())],s,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=Ee(a,hY);if("error"in c)throw new Le(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=Ee(e,RY);if("error"in n)throw new Le(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=Jt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=Ee(i,NY);if("error"in o)throw new Le(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=Ee(e,MY);if("error"in n)throw new Le(n.error,"failed to get epoch schedule");const r=n.result;return new nY(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=Ee(e,DY);if("error"in n)throw new Le(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=Ee(s,oX);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=Ee(n,xX);if("error"in r)throw new Le(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=Ee(s,wX);if("error"in i)throw new Le(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=pf(e.serialize()).toString("base64"),s=this._buildArgs([r],n),i=await this._rpcRequest("getFeeForMessage",s),o=Ee(i,Vn(Ce(te())));if("error"in o)throw new Le(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=Ee(s,kY);if("error"in i)throw new Le(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=Jt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=Ee(i,gX);if("error"in o)throw new Le(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:s}=Jt(n),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=Ee(o,yX);if("error"in a)throw new Le(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=Ee(e,ct(_Y));if("error"in n)throw new Le(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=Ee(e,ct(ve()));if("error"in n)throw new Le(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:s}=Jt(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=Ee(o,dX);if("error"in a)throw a.error;return a.result}case"none":{const a=Ee(o,uX);if("error"in a)throw a.error;return a.result}default:{const a=Ee(o,lX);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:l,meta:u,version:f})=>({meta:u,transaction:{...l,message:C1(f,l.message)},version:f}))}:null}}}catch(a){throw new Le(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:s}=Jt(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=Ee(o,hX);if("error"in a)throw a.error;return a.result}case"none":{const a=Ee(o,pX);if("error"in a)throw a.error;return a.result}default:{const a=Ee(o,fX);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Le(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,n=c}const s=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getBlockProduction",s),o=Ee(i,AY);if("error"in o)throw new Le(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:s}=Jt(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=Ee(o,T1);if("error"in a)throw new Le(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:C1(c.version,c.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:s}=Jt(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=Ee(o,$m);if("error"in a)throw new Le(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:s}=Jt(n),i=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(c=>{const l=Ee(c,$m);if("error"in l)throw new Le(l.error,"failed to get transactions");return l.result})}async getTransactions(e,n){const{commitment:r,config:s}=Jt(n),i=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(c=>{const l=Ee(c,T1);if("error"in l)throw new Le(l.error,"failed to get transactions");const u=l.result;return u&&{...u,transaction:{...u.transaction,message:C1(u.version,u.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getBlock",r),i=Ee(s,mX);if("error"in i)throw new Le(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:l})=>{const u=new Jo(c.message);return{meta:l,transaction:{...c,message:u}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:l})=>({meta:l,transaction:Hi.populate(c.message,c.signatures)}))}}async getBlocks(e,n,r){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),i=await this._rpcRequest("getBlocks",s),o=Ee(i,ct(Se(te())));if("error"in o)throw new Le(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=Ee(s,_R);if("error"in i)throw new Le(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=Ee(s,_R);if("error"in i)throw new Le(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getTransaction",r),i=Ee(s,T1);if("error"in i)throw new Le(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new Jo(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Hi.populate(a,c)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=Ee(s,$m);if("error"in i)throw new Le(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=Ee(o,$m);if("error"in a)throw new Le(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<i));)try{const c=await this.getConfirmedBlockSignatures(n,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=Ee(i,$Y);if("error"in o)throw new Le(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getSignaturesForAddress",s),o=Ee(i,HY);if("error"in o)throw new Le(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=new yR({key:e,state:yR.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=OS.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),s=Ee(r,_X);if("error"in s)throw new Le(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await qu(100);const r=Date.now()-this._blockhashInfo.lastFetch>=lY;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await qu(YQ/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=Jt(e),s=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=Ee(i,Vn(te()));if("error"in o)throw new Le(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const g=e.serialize(),y=nt.Buffer.from(g).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const E=n||{};E.encoding="base64","commitment"in E||(E.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(E.innerInstructions=n.innerInstructions);const w=[y,E],x=await this._rpcRequest("simulateTransaction",w),b=Ee(x,xR);if("error"in b)throw new Error("failed to simulate transaction: "+b.error.message);return b.result}let s;if(e instanceof Hi){let v=e;s=new Hi,s.feePayer=v.feePayer,s.instructions=e.instructions,s.nonceInfo=v.nonceInfo,s.signatures=v.signatures}else s=Hi.populate(e),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(s.nonceInfo&&i)s.sign(...i);else{let v=this._disableBlockhashCaching;for(;;){const g=await this._blockhashWithExpiryBlockHeight(v);if(s.lastValidBlockHeight=g.lastValidBlockHeight,s.recentBlockhash=g.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const y=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(y)&&!this._blockhashInfo.transactionSignatures.includes(y)){this._blockhashInfo.simulatedSignatures.push(y);break}else v=!0}}const o=s._compile(),a=o.serialize(),l=s._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const v=(Array.isArray(r)?r:o.nonProgramIds()).map(g=>g.toBase58());u.accounts={encoding:"base64",addresses:v}}i&&(u.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(u.innerInstructions=n.innerInstructions);const f=[l,u],h=await this._rpcRequest("simulateTransaction",f),m=Ee(h,xR);if("error"in m){let v;if("data"in m.error&&(v=m.error.data.logs,v&&Array.isArray(v))){const g=`
    `,y=g+v.join(g);console.error(m.error.message,y)}throw new hR({action:"simulate",signature:"",transactionMessage:m.error.message,logs:v})}return m.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,n){const r=pf(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},s=n&&n.skipPreflight,i=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=Ee(a,EX);if("error"in c){let l;throw"data"in c.error&&(l=c.error.data.logs),new hR({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:l})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var i;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!n())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...n)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=Ee(e,qY);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,s=mR([e.method,n]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];vn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:s,config:i}=Jt(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=Ee(e,GY);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,s){const{commitment:i,config:o}=Jt(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:vR(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=Ee(e,AX);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=Ee(e,YY);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=Ee(e,ZY);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,s){const i=n||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,s){const i=n||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,s)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=Ee(e,JY);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,n,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,l)=>{n(c,l);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=Ee(e,eX);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Nd{constructor(e){this._keypair=void 0,this._keypair=e??uR()}static generate(){return new Nd(uR())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const s=e.slice(0,32),i=vb(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Nd({publicKey:r,secretKey:e})}static fromSeed(e){const n=vb(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new Nd({publicKey:n,secretKey:r})}get publicKey(){return new ke(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:Me([Ue("instruction"),mf("recentSlot"),St("bumpSeed")])},FreezeLookupTable:{index:1,layout:Me([Ue("instruction")])},ExtendLookupTable:{index:2,layout:Me([Ue("instruction"),mf(),qr(mt(),Nl(Ue(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Me([Ue("instruction")])},CloseLookupTable:{index:4,layout:Me([Ue("instruction")])}});new ke("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:Me([St("instruction"),Ue("units"),Ue("additionalFee")])},RequestHeapFrame:{index:1,layout:Me([St("instruction"),Ue("bytes")])},SetComputeUnitLimit:{index:2,layout:Me([St("instruction"),Ue("units")])},SetComputeUnitPrice:{index:3,layout:Me([St("instruction"),mf("microLamports")])}});new ke("ComputeBudget111111111111111111111111111111");Me([St("numSignatures"),St("padding"),Gs("signatureOffset"),Gs("signatureInstructionIndex"),Gs("publicKeyOffset"),Gs("publicKeyInstructionIndex"),Gs("messageDataOffset"),Gs("messageDataSize"),Gs("messageInstructionIndex")]);new ke("Ed25519SigVerify111111111111111111111111111");OQ.utils.isValidPrivateKey;Me([St("numSignatures"),Gs("signatureOffset"),St("signatureInstructionIndex"),Gs("ethAddressOffset"),St("ethAddressInstructionIndex"),Gs("messageDataOffset"),Gs("messageDataSize"),St("messageInstructionIndex"),Yt(20,"ethAddress"),Yt(64,"signature"),St("recoveryId")]);new ke("KeccakSecp256k11111111111111111111111111111");var w5;new ke("StakeConfig11111111111111111111111111111111");class _5{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}w5=_5;_5.default=new w5(0,0,ke.default);Object.freeze({Initialize:{index:0,layout:Me([Ue("instruction"),VQ(),WQ()])},Authorize:{index:1,layout:Me([Ue("instruction"),mt("newAuthorized"),Ue("stakeAuthorizationType")])},Delegate:{index:2,layout:Me([Ue("instruction")])},Split:{index:3,layout:Me([Ue("instruction"),ks("lamports")])},Withdraw:{index:4,layout:Me([Ue("instruction"),ks("lamports")])},Deactivate:{index:5,layout:Me([Ue("instruction")])},Merge:{index:7,layout:Me([Ue("instruction")])},AuthorizeWithSeed:{index:8,layout:Me([Ue("instruction"),mt("newAuthorized"),Ue("stakeAuthorizationType"),pd("authoritySeed"),mt("authorityOwner")])}});new ke("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:Me([Ue("instruction"),$Q()])},Authorize:{index:1,layout:Me([Ue("instruction"),mt("newAuthorized"),Ue("voteAuthorizationType")])},Withdraw:{index:3,layout:Me([Ue("instruction"),ks("lamports")])},UpdateValidatorIdentity:{index:4,layout:Me([Ue("instruction")])},AuthorizeWithSeed:{index:10,layout:Me([Ue("instruction"),HQ()])}});new ke("Vote111111111111111111111111111111111111111");new ke("Va1idator1nfo111111111111111111111111111111");he({name:ve(),website:$e(ve()),details:$e(ve()),iconUrl:$e(ve()),keybaseUsername:$e(ve())});new ke("Vote111111111111111111111111111111111111111");Me([mt("nodePubkey"),mt("authorizedWithdrawer"),St("commission"),yr(),qr(Me([yr("slot"),Ue("confirmationCount")]),Nl(Ue(),-8),"votes"),St("rootSlotValid"),yr("rootSlot"),yr(),qr(Me([yr("epoch"),mt("authorizedVoter")]),Nl(Ue(),-8),"authorizedVoters"),Me([qr(Me([mt("authorizedPubkey"),yr("epochOfLastAuthorizedSwitch"),yr("targetEpoch")]),32,"buf"),yr("idx"),St("isEmpty")],"priorVoters"),yr(),qr(Me([yr("epoch"),yr("credits"),yr("prevCredits")]),Nl(Ue(),-8),"epochCredits"),Me([yr("slot"),yr("timestamp")],"lastTimestamp")]);const TX={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function IX(t,e){return TX["https"][t]}const E5=I.createContext({});function b5(){return I.useContext(E5)}const RX=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=I.useMemo(()=>new CX(e,n),[e,n]);return fe.createElement(E5.Provider,{value:{connection:r}},t)};class hr extends Error{constructor(e,n){super(e),this.error=n}}class Kl extends hr{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class kX extends hr{constructor(){super(...arguments),this.name="WalletLoadError"}}class md extends hr{constructor(){super(...arguments),this.name="WalletConfigError"}}class Gl extends hr{constructor(){super(...arguments),this.name="WalletConnectionError"}}class US extends hr{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class zS extends hr{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class fl extends hr{constructor(){super(...arguments),this.name="WalletAccountError"}}class gf extends hr{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class qn extends hr{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Fo extends hr{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class wi extends hr{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class vx extends hr{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class ER extends hr{constructor(){super(...arguments),this.name="WalletSignInError"}}var ut;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(ut||(ut={}));class A5 extends PS{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const s=this.publicKey;if(!s)throw new qn;return e.feePayer=e.feePayer||s,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function S5(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const i of e)i()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function Ab(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function Uo(t){return"version"in t}class NX extends A5{async sendTransaction(e,n,r={}){let s=!0;try{if(Uo(e)){if(!this.supportedTransactionVersions)throw new Fo("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Fo(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const i=e.serialize();return await n.sendRawTransaction(i,r)}catch(i){throw i instanceof wi?(s=!1,i):new Fo(i==null?void 0:i.message,i)}}else try{const{signers:i,...o}=r;e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,o)}catch(i){throw i instanceof wi?(s=!1,i):new Fo(i==null?void 0:i.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(e){for(const r of e)if(Uo(r)){if(!this.supportedTransactionVersions)throw new wi("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new wi(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class VS extends NX{}class MX extends VS{}const ns="solana:signAndSendTransaction",Ml="solana:signIn",Bo="solana:signMessage",Tn="solana:signTransaction",xx="standard:connect",Hy="standard:disconnect",wx="standard:events";function DX(t){return xx in t.features&&wx in t.features&&(ns in t.features||Tn in t.features)}class bR extends hr{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const PX=[],_x={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){di("call","select")},connect(){return Promise.reject(di("call","connect"))},disconnect(){return Promise.reject(di("call","disconnect"))},sendTransaction(){return Promise.reject(di("call","sendTransaction"))},signTransaction(){return Promise.reject(di("call","signTransaction"))},signAllTransactions(){return Promise.reject(di("call","signAllTransactions"))},signMessage(){return Promise.reject(di("call","signMessage"))},signIn(){return Promise.reject(di("call","signIn"))}};Object.defineProperty(_x,"wallets",{get(){return di("read","wallets"),PX}});Object.defineProperty(_x,"wallet",{get(){return di("read","wallet"),null}});Object.defineProperty(_x,"publicKey",{get(){return di("read","publicKey"),null}});function di(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const C5=I.createContext(_x);function Np(){return I.useContext(C5)}function BX(t,e){const n=I.useState(()=>{try{const i=localStorage.getItem(t);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return e}),r=n[0],s=I.useRef(!0);return I.useEffect(()=>{if(s.current){s.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,t]),n}var OX=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},T5={},Hs={};let WS;const LX=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Hs.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Hs.getSymbolTotalCodewords=function(e){return LX[e]};Hs.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Hs.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');WS=e};Hs.isKanjiModeEnabled=function(){return typeof WS<"u"};Hs.toSJIS=function(e){return WS(e)};var Ex={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(Ex);function I5(){this.buffer=[],this.length=0}I5.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var jX=I5;function Mp(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Mp.prototype.set=function(t,e,n,r){const s=t*this.size+e;this.data[s]=n,r&&(this.reservedBit[s]=!0)};Mp.prototype.get=function(t,e){return this.data[t*this.size+e]};Mp.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Mp.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var FX=Mp,R5={};(function(t){const e=Hs.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let c=1;c<s-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),o=i.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||s.push([i[a],i[c]]);return s}})(R5);var k5={};const UX=Hs.getSymbolSize,AR=7;k5.getPositions=function(e){const n=UX(e);return[[0,0],[n-AR,0],[0,n-AR]]};var N5={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,c=0,l=null,u=null;for(let f=0;f<i;f++){a=c=0,l=u=null;for(let h=0;h<i;h++){let m=s.get(f,h);m===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=m,a=1),m=s.get(h,f),m===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=m,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let c=0;c<i-1;c++){const l=s.get(a,c)+s.get(a,c+1)+s.get(a+1,c)+s.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,c=0;for(let l=0;l<i;l++){a=c=0;for(let u=0;u<i;u++)a=a<<1&2047|s.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|s.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let c=0;c<o;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)i.isReserved(c,a)||i.xor(c,a,n(s,c,a))},t.getBestMask=function(s,i){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){i(l),t.applyMask(l,s);const u=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(l,s),u<c&&(c=u,a=l)}return a}})(N5);var bx={};const nc=Ex,Hm=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],qm=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];bx.getBlocksCount=function(e,n){switch(n){case nc.L:return Hm[(e-1)*4+0];case nc.M:return Hm[(e-1)*4+1];case nc.Q:return Hm[(e-1)*4+2];case nc.H:return Hm[(e-1)*4+3];default:return}};bx.getTotalCodewordsCount=function(e,n){switch(n){case nc.L:return qm[(e-1)*4+0];case nc.M:return qm[(e-1)*4+1];case nc.Q:return qm[(e-1)*4+2];case nc.H:return qm[(e-1)*4+3];default:return}};var M5={},Ax={};const r0=new Uint8Array(512),qy=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)r0[n]=e,qy[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)r0[n]=r0[n-255]})();Ax.log=function(e){if(e<1)throw new Error("log("+e+")");return qy[e]};Ax.exp=function(e){return r0[e]};Ax.mul=function(e,n){return e===0||n===0?0:r0[qy[e]+qy[n]]};(function(t){const e=Ax;t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=e.mul(r[o],s[a]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let c=0;c<s.length;c++)i[c]^=e.mul(s[c],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(M5);const D5=M5;function $S(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}$S.prototype.initialize=function(e){this.degree=e,this.genPoly=D5.generateECPolynomial(this.degree)};$S.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=D5.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var zX=$S,P5={},Fc={},HS={};HS.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var fo={};const B5="[0-9]+",VX="[A-Z $%*+\\-./:]+";let F0="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";F0=F0.replace(/u/g,"\\u");const WX="(?:(?![A-Z0-9 $%*+\\-./:]|"+F0+`)(?:.|[\r
]))+`;fo.KANJI=new RegExp(F0,"g");fo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");fo.BYTE=new RegExp(WX,"g");fo.NUMERIC=new RegExp(B5,"g");fo.ALPHANUMERIC=new RegExp(VX,"g");const $X=new RegExp("^"+F0+"$"),HX=new RegExp("^"+B5+"$"),qX=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");fo.testKanji=function(e){return $X.test(e)};fo.testNumeric=function(e){return HX.test(e)};fo.testAlphanumeric=function(e){return qX.test(e)};(function(t){const e=HS,n=fo;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,o){if(t.isValid(i))return i;try{return r(i)}catch{return o}}})(Fc);(function(t){const e=Hs,n=bx,r=Ex,s=Fc,i=HS,o=7973,a=e.getBCHDigit(o);function c(h,m,v){for(let g=1;g<=40;g++)if(m<=t.getCapacity(g,v,h))return g}function l(h,m){return s.getCharCountIndicator(h,m)+4}function u(h,m){let v=0;return h.forEach(function(g){const y=l(g.mode,m);v+=y+g.getBitsLength()}),v}function f(h,m){for(let v=1;v<=40;v++)if(u(h,v)<=t.getCapacity(v,m,s.MIXED))return v}t.from=function(m,v){return i.isValid(m)?parseInt(m,10):v},t.getCapacity=function(m,v,g){if(!i.isValid(m))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=s.BYTE);const y=e.getSymbolTotalCodewords(m),E=n.getTotalCodewordsCount(m,v),w=(y-E)*8;if(g===s.MIXED)return w;const x=w-l(g,m);switch(g){case s.NUMERIC:return Math.floor(x/10*3);case s.ALPHANUMERIC:return Math.floor(x/11*2);case s.KANJI:return Math.floor(x/13);case s.BYTE:default:return Math.floor(x/8)}},t.getBestVersionForData=function(m,v){let g;const y=r.from(v,r.M);if(Array.isArray(m)){if(m.length>1)return f(m,y);if(m.length===0)return 1;g=m[0]}else g=m;return c(g.mode,g.getLength(),y)},t.getEncodedBits=function(m){if(!i.isValid(m)||m<7)throw new Error("Invalid QR Code version");let v=m<<12;for(;e.getBCHDigit(v)-a>=0;)v^=o<<e.getBCHDigit(v)-a;return m<<12|v}})(P5);var O5={};const Sb=Hs,L5=1335,KX=21522,SR=Sb.getBCHDigit(L5);O5.getEncodedBits=function(e,n){const r=e.bit<<3|n;let s=r<<10;for(;Sb.getBCHDigit(s)-SR>=0;)s^=L5<<Sb.getBCHDigit(s)-SR;return(r<<10|s)^KX};var j5={};const GX=Fc;function yf(t){this.mode=GX.NUMERIC,this.data=t.toString()}yf.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};yf.prototype.getLength=function(){return this.data.length};yf.prototype.getBitsLength=function(){return yf.getBitsLength(this.data.length)};yf.prototype.write=function(e){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),e.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),e.put(s,i*3+1))};var QX=yf;const YX=Fc,I1=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function vf(t){this.mode=YX.ALPHANUMERIC,this.data=t}vf.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};vf.prototype.getLength=function(){return this.data.length};vf.prototype.getBitsLength=function(){return vf.getBitsLength(this.data.length)};vf.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=I1.indexOf(this.data[n])*45;r+=I1.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(I1.indexOf(this.data[n]),6)};var XX=vf;const ZX=Fc;function xf(t){this.mode=ZX.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}xf.getBitsLength=function(e){return e*8};xf.prototype.getLength=function(){return this.data.length};xf.prototype.getBitsLength=function(){return xf.getBitsLength(this.data.length)};xf.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var JX=xf;const eZ=Fc,tZ=Hs;function wf(t){this.mode=eZ.KANJI,this.data=t}wf.getBitsLength=function(e){return e*13};wf.prototype.getLength=function(){return this.data.length};wf.prototype.getBitsLength=function(){return wf.getBitsLength(this.data.length)};wf.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=tZ.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var nZ=wf,F5={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var c,l,u,f,h,m,v,g,y;!a.empty();){c=a.pop(),l=c.value,f=c.cost,h=n[l]||{};for(u in h)h.hasOwnProperty(u)&&(m=h[u],v=f+m,g=o[u],y=typeof o[u]>"u",(y||g>v)&&(o[u]=v,a.push(u,v),i[u]=l))}if(typeof s<"u"&&typeof o[s]>"u"){var E=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(E)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(F5);var rZ=F5.exports;(function(t){const e=Fc,n=QX,r=XX,s=JX,i=nZ,o=fo,a=Hs,c=rZ;function l(E){return unescape(encodeURIComponent(E)).length}function u(E,w,x){const b=[];let D;for(;(D=E.exec(x))!==null;)b.push({data:D[0],index:D.index,mode:w,length:D[0].length});return b}function f(E){const w=u(o.NUMERIC,e.NUMERIC,E),x=u(o.ALPHANUMERIC,e.ALPHANUMERIC,E);let b,D;return a.isKanjiModeEnabled()?(b=u(o.BYTE,e.BYTE,E),D=u(o.KANJI,e.KANJI,E)):(b=u(o.BYTE_KANJI,e.BYTE,E),D=[]),w.concat(x,b,D).sort(function(T,R){return T.index-R.index}).map(function(T){return{data:T.data,mode:T.mode,length:T.length}})}function h(E,w){switch(w){case e.NUMERIC:return n.getBitsLength(E);case e.ALPHANUMERIC:return r.getBitsLength(E);case e.KANJI:return i.getBitsLength(E);case e.BYTE:return s.getBitsLength(E)}}function m(E){return E.reduce(function(w,x){const b=w.length-1>=0?w[w.length-1]:null;return b&&b.mode===x.mode?(w[w.length-1].data+=x.data,w):(w.push(x),w)},[])}function v(E){const w=[];for(let x=0;x<E.length;x++){const b=E[x];switch(b.mode){case e.NUMERIC:w.push([b,{data:b.data,mode:e.ALPHANUMERIC,length:b.length},{data:b.data,mode:e.BYTE,length:b.length}]);break;case e.ALPHANUMERIC:w.push([b,{data:b.data,mode:e.BYTE,length:b.length}]);break;case e.KANJI:w.push([b,{data:b.data,mode:e.BYTE,length:l(b.data)}]);break;case e.BYTE:w.push([{data:b.data,mode:e.BYTE,length:l(b.data)}])}}return w}function g(E,w){const x={},b={start:{}};let D=["start"];for(let L=0;L<E.length;L++){const T=E[L],R=[];for(let F=0;F<T.length;F++){const P=T[F],U=""+L+F;R.push(U),x[U]={node:P,lastCount:0},b[U]={};for(let W=0;W<D.length;W++){const S=D[W];x[S]&&x[S].node.mode===P.mode?(b[S][U]=h(x[S].lastCount+P.length,P.mode)-h(x[S].lastCount,P.mode),x[S].lastCount+=P.length):(x[S]&&(x[S].lastCount=P.length),b[S][U]=h(P.length,P.mode)+4+e.getCharCountIndicator(P.mode,w))}}D=R}for(let L=0;L<D.length;L++)b[D[L]].end=0;return{map:b,table:x}}function y(E,w){let x;const b=e.getBestModeForData(E);if(x=e.from(w,b),x!==e.BYTE&&x.bit<b.bit)throw new Error('"'+E+'" cannot be encoded with mode '+e.toString(x)+`.
 Suggested mode is: `+e.toString(b));switch(x===e.KANJI&&!a.isKanjiModeEnabled()&&(x=e.BYTE),x){case e.NUMERIC:return new n(E);case e.ALPHANUMERIC:return new r(E);case e.KANJI:return new i(E);case e.BYTE:return new s(E)}}t.fromArray=function(w){return w.reduce(function(x,b){return typeof b=="string"?x.push(y(b,null)):b.data&&x.push(y(b.data,b.mode)),x},[])},t.fromString=function(w,x){const b=f(w,a.isKanjiModeEnabled()),D=v(b),L=g(D,x),T=c.find_path(L.map,"start","end"),R=[];for(let F=1;F<T.length-1;F++)R.push(L.table[T[F]].node);return t.fromArray(m(R))},t.rawSplit=function(w){return t.fromArray(f(w,a.isKanjiModeEnabled()))}})(j5);const Sx=Hs,R1=Ex,sZ=jX,iZ=FX,oZ=R5,aZ=k5,Cb=N5,Tb=bx,cZ=zX,Ky=P5,lZ=O5,uZ=Fc,k1=j5;function dZ(t,e){const n=t.size,r=aZ.getPositions(e);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||n<=i+a))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(i+a,o+c,!0,!0):t.set(i+a,o+c,!1,!0))}}function fZ(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function hZ(t,e){const n=oZ.getPositions(e);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(s+o,i+a,!0,!0):t.set(s+o,i+a,!1,!0)}}function pZ(t,e){const n=t.size,r=Ky.getEncodedBits(e);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+n-8-3,o=(r>>a&1)===1,t.set(s,i,o,!0),t.set(i,s,o,!0)}function N1(t,e,n){const r=t.size,s=lZ.getEncodedBits(e,n);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?t.set(i,8,o,!0):i<8?t.set(i+1,8,o,!0):t.set(r-15+i,8,o,!0),i<8?t.set(8,r-i-1,o,!0):i<9?t.set(8,15-i-1+1,o,!0):t.set(8,15-i-1,o,!0);t.set(r-8,8,1,!0)}function mZ(t,e){const n=t.size;let r=-1,s=n-1,i=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(s,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>i&1)===1),t.set(s,a-c,l),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function gZ(t,e,n){const r=new sZ;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),uZ.getCharCountIndicator(c.mode,t)),c.write(r)});const s=Sx.getSymbolTotalCodewords(t),i=Tb.getTotalCodewordsCount(t,e),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return yZ(r,t,e)}function yZ(t,e,n){const r=Sx.getSymbolTotalCodewords(e),s=Tb.getTotalCodewordsCount(e,n),i=r-s,o=Tb.getBlocksCount(e,n),a=r%o,c=o-a,l=Math.floor(r/o),u=Math.floor(i/o),f=u+1,h=l-u,m=new cZ(h);let v=0;const g=new Array(o),y=new Array(o);let E=0;const w=new Uint8Array(t.buffer);for(let T=0;T<o;T++){const R=T<c?u:f;g[T]=w.slice(v,v+R),y[T]=m.encode(g[T]),v+=R,E=Math.max(E,R)}const x=new Uint8Array(r);let b=0,D,L;for(D=0;D<E;D++)for(L=0;L<o;L++)D<g[L].length&&(x[b++]=g[L][D]);for(D=0;D<h;D++)for(L=0;L<o;L++)x[b++]=y[L][D];return x}function vZ(t,e,n,r){let s;if(Array.isArray(t))s=k1.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const u=k1.rawSplit(t);l=Ky.getBestVersionForData(u,n)}s=k1.fromString(t,l||40)}else throw new Error("Invalid data");const i=Ky.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=gZ(e,n,s),a=Sx.getSymbolSize(e),c=new iZ(a);return dZ(c,e),fZ(c),hZ(c,e),N1(c,n,0),e>=7&&pZ(c,e),mZ(c,o),isNaN(r)&&(r=Cb.getBestMask(c,N1.bind(null,c,n))),Cb.applyMask(r,c),N1(c,n,r),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}T5.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=R1.M,s,i;return typeof n<"u"&&(r=R1.from(n.errorCorrectionLevel,R1.M),s=Ky.from(n.version),i=Cb.from(n.maskPattern),n.toSJISFunc&&Sx.setToSJISFunction(n.toSJISFunc)),vZ(e,s,r,i)};var U5={},qS={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const o=s.modules.size,a=s.modules.data,c=t.getScale(o,i),l=Math.floor((o+i.margin*2)*c),u=i.margin*c,f=[i.color.light,i.color.dark];for(let h=0;h<l;h++)for(let m=0;m<l;m++){let v=(h*l+m)*4,g=i.color.light;if(h>=u&&m>=u&&h<l-u&&m<l-u){const y=Math.floor((h-u)/c),E=Math.floor((m-u)/c);g=f[a[y*o+E]?1:0]}r[v++]=g.r,r[v++]=g.g,r[v++]=g.b,r[v]=g.a}}})(qS);(function(t){const e=qS;function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=r()),c=e.getOptions(c);const u=e.getImageWidth(i.modules.size,c),f=l.getContext("2d"),h=f.createImageData(u,u);return e.qrToImageData(h.data,i,c),n(f,l,u),f.putImageData(h,0,0),l},t.renderToDataURL=function(i,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(i,o,c),u=c.type||"image/png",f=c.rendererOpts||{};return l.toDataURL(u,f.quality)}})(U5);var z5={};const xZ=qS;function CR(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function M1(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function wZ(t,e,n){let r="",s=0,i=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!i&&(i=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(r+=i?M1("M",c+n,.5+l+n):M1("m",s,0),s=0,i=!1),c+1<e&&t[a+1]||(r+=M1("h",o),o=0)):s++}return r}z5.render=function(e,n,r){const s=xZ.getOptions(n),i=e.modules.size,o=e.modules.data,a=i+s.margin*2,c=s.color.light.a?"<path "+CR(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+CR(s.color.dark,"stroke")+' d="'+wZ(o,i,s.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof r=="function"&&r(null,h),h};const _Z=OX,Ib=T5,V5=U5,EZ=z5;function KS(t,e,n,r,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!_Z())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(c,l){try{const u=Ib.create(n,r);c(t(u,e,r))}catch(u){l(u)}})}try{const c=Ib.create(n,r);s(null,t(c,e,r))}catch(c){s(c)}}Ib.create;KS.bind(null,V5.render);KS.bind(null,V5.renderToDataURL);KS.bind(null,function(t,e,n){return EZ.render(t,n)});const U0="solana:mainnet",W5="solana:devnet",$5="solana:testnet",bZ="solana:localnet";function D1(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const AZ="https://api.mainnet-beta.solana.com";function SZ(t){return t.includes(AZ)?U0:/\bdevnet\b/i.test(t)?W5:/\btestnet\b/i.test(t)?$5:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?bZ:U0}function CZ(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const ea={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class ta extends Error{constructor(...e){const[n,r,s]=e;super(r),this.code=n,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class H5 extends Error{constructor(...e){const[n,r,s,i]=e;super(s),this.code=r,this.data=i,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function Zn(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,[])).next())})}function TZ(t){return window.btoa(t)}function P1(t,e){return Zn(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),s=new Uint8Array(n.byteLength+r.byteLength);return s.set(new Uint8Array(n),0),s.set(new Uint8Array(r),n.byteLength),s})}function IZ(t){return CZ(t)}function RZ(t){return TZ(IZ(t))}const kZ="solana:signTransactions",TR="solana:cloneAuthorization";function NZ(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(s){return Zn(this,void 0,void 0,function*(){const{method:i,params:o}=MZ(r,s,t),a=yield e(i,o);return i==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield PZ(o.sign_in_payload,a,e)),DZ(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function MZ(t,e,n){let r=e,s=t.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:i}=r;if(n==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:o}=r;if(i)switch(n){case"legacy":{s="reauthorize",r={auth_token:i,identity:o};break}default:{s="authorize";break}}break}}return{method:s,params:r}}function DZ(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const s=[kZ];return r.supports_clone_authorization===!0&&s.push(TR),Object.assign(Object.assign({},r),{features:s})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(TR)})}}}return e}function PZ(t,e,n){var r;return Zn(this,void 0,void 0,function*(){const s=(r=t.domain)!==null&&r!==void 0?r:window.location.host,i=e.accounts[0].address,o=RZ(Object.assign(Object.assign({},t),{domain:s,address:i})),a=yield n("sign_messages",{addresses:[i],payloads:[o]});return{address:i,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const hl=4;function BZ(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(hl);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const Rb=12,q5=65;function OZ(t,e,n){return Zn(this,void 0,void 0,function*(){const r=BZ(e),s=new Uint8Array(Rb);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(G5(r,s),n,new TextEncoder().encode(t)),o=new Uint8Array(r.byteLength+s.byteLength+i.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(s),r.byteLength),o.set(new Uint8Array(i),r.byteLength+s.byteLength),o})}function K5(t,e){return Zn(this,void 0,void 0,function*(){const n=t.slice(0,hl),r=t.slice(hl,hl+Rb),s=t.slice(hl+Rb),i=yield crypto.subtle.decrypt(G5(n,r),e,s);return LZ().decode(i)})}function G5(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let B1;function LZ(){return B1===void 0&&(B1=new TextDecoder("utf-8")),B1}function jZ(){return Zn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function O1(){return Zn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function FZ(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let s=0;s<r;s++)e+=String.fromCharCode(n[s]);return window.btoa(e)}function UZ(){return Q5(49152+Math.floor(Math.random()*16384))}function Q5(t){if(t<49152||t>65535)throw new ta(ea.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function zZ(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const VZ="solana-wallet";function IR(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function WZ(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new ta(ea.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${VZ}:/`));const r=t.startsWith("/")?t:[...IR(n.pathname),...IR(t)].join("/");return new URL(r,n)}function $Z(t,e,n,r=["v1"]){return Zn(this,void 0,void 0,function*(){const s=Q5(e),i=yield crypto.subtle.exportKey("raw",t),o=FZ(i),a=WZ("v1/associate/local",n);return a.searchParams.set("association",zZ(o)),a.searchParams.set("port",`${s}`),r.forEach(c=>{a.searchParams.set("v",c)}),a})}function HZ(t,e){return Zn(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return OZ(n,r,e)})}function qZ(t,e){return Zn(this,void 0,void 0,function*(){const n=yield K5(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new H5(r.id,r.error.code,r.error.message);return r})}function KZ(t,e,n){return Zn(this,void 0,void 0,function*(){const[r,s]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,q5),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},n,256),o=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function GZ(t,e){return Zn(this,void 0,void 0,function*(){const n=yield K5(t,e),r=JSON.parse(n);let s="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new ta(ea.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:s}})}const Gy={Firefox:0,Other:1};function QZ(){return navigator.userAgent.indexOf("Firefox/")!==-1?Gy.Firefox:Gy.Other}function YZ(){return new Promise((t,e)=>{function n(){clearTimeout(s),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const s=setTimeout(()=>{n(),e()},3e3)})}let yh=null;function XZ(t){yh==null&&(yh=document.createElement("iframe"),yh.style.display="none",document.body.appendChild(yh)),yh.contentWindow.location.href=t.toString()}function ZZ(t){return Zn(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=QZ();switch(e){case Gy.Firefox:XZ(t);break;case Gy.Other:{const n=YZ();window.location.assign(t),yield n;break}default:}}catch{throw new ta(ea.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function JZ(t,e){return Zn(this,void 0,void 0,function*(){const n=UZ(),r=yield $Z(t,n,e);return yield ZZ(r),n})}const RR={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},eJ="com.solana.mobilewalletadapter.v1";function tJ(){if(typeof window>"u"||window.isSecureContext!==!0)throw new ta(ea.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function nJ(t){let e;try{e=new URL(t)}catch{throw new ta(ea.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new ta(ea.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function kR(t){return new DataView(t).getUint32(0,!1)}function rJ(t,e){return Zn(this,void 0,void 0,function*(){tJ();const n=yield jZ(),s=`ws://localhost:${yield JZ(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let i;const o=(()=>{const u=[...RR.retryDelayScheduleMs];return()=>u.length>1?u.shift():u[0]})();let a=1,c=0,l={__type:"disconnected"};return new Promise((u,f)=>{let h;const m={},v=()=>Zn(this,void 0,void 0,function*(){if(l.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);return}h.removeEventListener("open",v);const{associationKeypair:D}=l,L=yield O1();h.send(yield P1(L.publicKey,D.privateKey)),l={__type:"hello_req_sent",associationPublicKey:D.publicKey,ecdhPrivateKey:L.privateKey}}),g=D=>{D.wasClean?l={__type:"disconnected"}:f(new ta(ea.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${D.code}: ${D.reason}).`,{closeEvent:D})),w()},y=D=>Zn(this,void 0,void 0,function*(){w(),Date.now()-i>=RR.timeoutMs?f(new ta(ea.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(L=>{const T=o();x=window.setTimeout(L,T)}),b())}),E=D=>Zn(this,void 0,void 0,function*(){const L=yield D.data.arrayBuffer();switch(l.__type){case"connecting":if(L.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const T=yield O1();h.send(yield P1(T.publicKey,n.privateKey)),l={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:T.privateKey};break;case"connected":try{const R=L.slice(0,hl),F=kR(R);if(F!==c+1)throw new Error("Encrypted message has invalid sequence number");c=F;const P=yield qZ(L,l.sharedSecret),U=m[P.id];delete m[P.id],U.resolve(P.result)}catch(R){if(R instanceof H5){const F=m[R.jsonRpcMessageId];delete m[R.jsonRpcMessageId],F.reject(R)}else throw R}break;case"hello_req_sent":{if(L.byteLength===0){const W=yield O1();h.send(yield P1(W.publicKey,n.privateKey)),l={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:W.privateKey};break}const R=yield KZ(L,l.associationPublicKey,l.ecdhPrivateKey),F=L.slice(q5),P=F.byteLength!==0?yield Zn(this,void 0,void 0,function*(){const W=F.slice(0,hl),S=kR(W);if(S!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=S,GZ(F,R)}):{protocol_version:"legacy"};l={__type:"connected",sharedSecret:R,sessionProperties:P};const U=NZ(P.protocol_version,(W,S)=>Zn(this,void 0,void 0,function*(){const _=a++;return h.send(yield HZ({id:_,jsonrpc:"2.0",method:W,params:S??{}},R)),new Promise((C,O)=>{m[_]={resolve(H){switch(W){case"authorize":case"reauthorize":{const{wallet_uri_base:j}=H;if(j!=null)try{nJ(j)}catch(z){O(z);return}break}}C(H)},reject:O}})}));try{u(yield t(U))}catch(W){f(W)}finally{w(),h.close()}break}}});let w,x;const b=()=>{w&&w(),l={__type:"connecting",associationKeypair:n},i===void 0&&(i=Date.now()),h=new WebSocket(s,[eJ]),h.addEventListener("open",v),h.addEventListener("close",g),h.addEventListener("error",y),h.addEventListener("message",E),w=()=>{window.clearTimeout(x),h.removeEventListener("open",v),h.removeEventListener("close",g),h.removeEventListener("error",y),h.removeEventListener("message",E)}};b()})})}function sJ(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function u(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var v=0,g=0,y=0,E=m.length;y!==E&&m[y]===0;)y++,v++;for(var w=(E-y)*l+1>>>0,x=new Uint8Array(w);y!==E;){for(var b=m[y],D=0,L=w-1;(b!==0||D<g)&&L!==-1;L--,D++)b+=256*x[L]>>>0,x[L]=b%o>>>0,b=b/o>>>0;if(b!==0)throw new Error("Non-zero carry");g=D,y++}for(var T=w-g;T!==w&&x[T]===0;)T++;for(var R=a.repeat(v);T<w;++T)R+=t.charAt(x[T]);return R}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var v=0,g=0,y=0;m[v]===a;)g++,v++;for(var E=(m.length-v)*c+1>>>0,w=new Uint8Array(E);m[v];){var x=m.charCodeAt(v);if(x>255)return;var b=e[x];if(b===255)return;for(var D=0,L=E-1;(b!==0||D<y)&&L!==-1;L--,D++)b+=o*w[L]>>>0,w[L]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");y=D,v++}for(var T=E-y;T!==E&&w[T]===0;)T++;for(var R=new Uint8Array(g+(E-T)),F=g;T!==E;)R[F++]=w[T++];return R}function h(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:h}}var iJ=sJ;const oJ=iJ,aJ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var cJ=oJ(aJ);const kb=Pc(cJ);function L1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Sg(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,[])).next())})}function Y5(t){return window.btoa(String.fromCharCode.call(null,...t))}function j1(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function NR(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return Y5(e)}function lJ(t){const n=t[0]*O0+1;return mx.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?Hi.from(t):Tc.deserialize(t)}function uJ(t,e){return Sg(this,void 0,void 0,function*(){return yield rJ(r=>t(dJ(r)),e)})}function dJ(t){return new Proxy({},{get(e,n){if(e[n]==null)switch(n){case"signAndSendTransactions":e[n]=function(r){var{minContextSlot:s,commitment:i,skipPreflight:o,maxRetries:a,waitForCommitmentToSendNextTransaction:c,transactions:l}=r,u=L1(r,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return Sg(this,void 0,void 0,function*(){const f=l.map(NR),h={min_context_slot:s,commitment:i,skip_preflight:o,max_retries:a,wait_for_commitment_to_send_next_transaction:c},{signatures:m}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},u),Object.values(h).some(g=>g!=null)?{options:h}:null),{payloads:f}));return m.map(j1).map(kb.encode)})};break;case"signMessages":e[n]=function(r){var{payloads:s}=r,i=L1(r,["payloads"]);return Sg(this,void 0,void 0,function*(){const o=s.map(Y5),{signed_payloads:a}=yield t.signMessages(Object.assign(Object.assign({},i),{payloads:o}));return a.map(j1)})};break;case"signTransactions":e[n]=function(r){var{transactions:s}=r,i=L1(r,["transactions"]);return Sg(this,void 0,void 0,function*(){const o=s.map(NR),{signed_payloads:a}=yield t.signTransactions(Object.assign(Object.assign({},i),{payloads:o}));return a.map(j1).map(lJ)})};break;default:{e[n]=t[n];break}}return e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}function mn(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,[])).next())})}function pe(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Yn(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Mh,nr,el,Ku,X5,Z5,J5,Cg;const fJ=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,hJ=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,pJ=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class mJ{constructor(){Mh.add(this),nr.set(this,null),el.set(this,{}),Ku.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),pe(this,Mh,"m",Z5).call(this),pe(this,nr,"f")&&(pe(this,nr,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),pe(this,Mh,"m",J5).call(this),pe(this,nr,"f")&&(pe(this,nr,"f").style.display="none"),(n=pe(this,el,"f").close)===null||n===void 0||n.forEach(r=>r(e))},Cg.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),Yn(this,nr,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return mn(this,void 0,void 0,function*(){console.log("Injecting modal"),pe(this,Mh,"m",X5).call(this)})}addEventListener(e,n){var r;return!((r=pe(this,el,"f")[e])===null||r===void 0)&&r.push(n)||(pe(this,el,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;pe(this,el,"f")[e]=(r=pe(this,el,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)}}nr=new WeakMap,el=new WeakMap,Ku=new WeakMap,Cg=new WeakMap,Mh=new WeakSet,X5=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){pe(this,nr,"f")||Yn(this,nr,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Yn(this,nr,document.createElement("div")),pe(this,nr,"f").id="mobile-wallet-adapter-embedded-root-ui",pe(this,nr,"f").innerHTML=fJ,pe(this,nr,"f").style.display="none";const e=pe(this,nr,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=hJ+this.contentStyles;const r=document.createElement("div");r.innerHTML=pJ,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(pe(this,nr,"f")),document.body.appendChild(r)},Z5=function(){if(!pe(this,nr,"f")||pe(this,Ku,"f"))return;[...pe(this,nr,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",pe(this,Cg,"f")),Yn(this,Ku,!0)},J5=function(){if(!pe(this,Ku,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",pe(this,Cg,"f")),!pe(this,nr,"f")))return;[...pe(this,nr,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),Yn(this,Ku,!1)};const gJ="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function yJ(t){return"version"in t}function vJ(t){return window.btoa(String.fromCharCode.call(null,...t))}function Km(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var Gu,pl,Nb,Mb,Db,Pb,Dh,Xr,bo,Ia,Qu,Yu,Tg,Ph,Ig,Bb,Rg,eB,Ob,kg,Xu,Lb,Bh,Ng,Zu,Oh,Mg,jb,Fb,Dg,Ub,zb,Vb,Pg;const xJ="Mobile Wallet Adapter",wJ=64,_J=[ns,Tn,Bo,Ml];class EJ{constructor(e){Gu.add(this),pl.set(this,{}),Nb.set(this,"1.0.0"),Mb.set(this,xJ),Db.set(this,"https://solanamobile.com/wallets"),Pb.set(this,gJ),Dh.set(this,void 0),Xr.set(this,void 0),bo.set(this,void 0),Ia.set(this,!1),Qu.set(this,0),Yu.set(this,[]),Tg.set(this,void 0),Ph.set(this,void 0),Ig.set(this,void 0),Bb.set(this,(n,r)=>{var s;return!((s=pe(this,pl,"f")[n])===null||s===void 0)&&s.push(r)||(pe(this,pl,"f")[n]=[r]),()=>pe(this,Gu,"m",eB).call(this,n,r)}),Ob.set(this,({silent:n}={})=>mn(this,void 0,void 0,function*(){if(pe(this,Ia,"f")||this.connected)return{accounts:this.accounts};Yn(this,Ia,!0);try{if(n){const r=yield pe(this,bo,"f").get();if(r)yield pe(this,Xu,"f").call(this,r);else return{accounts:this.accounts}}else yield pe(this,kg,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Yn(this,Ia,!1)}return{accounts:this.accounts}})),kg.set(this,n=>mn(this,void 0,void 0,function*(){try{const r=yield pe(this,bo,"f").get();if(r)return pe(this,Xu,"f").call(this,r),r;const s=yield pe(this,Tg,"f").select(pe(this,Yu,"f"));return yield pe(this,Zu,"f").call(this,i=>mn(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([i.getCapabilities(),i.authorize({chain:s,identity:pe(this,Dh,"f"),sign_in_payload:n})]),c=pe(this,Mg,"f").call(this,a.accounts),l=Object.assign(Object.assign({},a),{accounts:c,chain:s});return Promise.all([pe(this,Lb,"f").call(this,o),pe(this,bo,"f").set(l),pe(this,Xu,"f").call(this,l)]),l}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Xu.set(this,n=>mn(this,void 0,void 0,function*(){var r;const s=pe(this,Xr,"f")==null||((r=pe(this,Xr,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||pe(this,Xr,"f").accounts.some((i,o)=>i.address!==n.accounts[o].address);Yn(this,Xr,n),s&&pe(this,Gu,"m",Rg).call(this,"change",{accounts:this.accounts})})),Lb.set(this,n=>mn(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),s=n.supports_sign_and_send_transactions,i=ns in this.features!==s||Tn in this.features!==r;Yn(this,Ph,Object.assign(Object.assign({},(s||!s&&!r)&&{[ns]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:pe(this,Dg,"f")}}),r&&{[Tn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:pe(this,Ub,"f")}})),i&&pe(this,Gu,"m",Rg).call(this,"change",{features:this.features})})),Bh.set(this,(n,r,s)=>mn(this,void 0,void 0,function*(){try{const i=yield n.authorize({auth_token:r,identity:pe(this,Dh,"f"),chain:s}),o=pe(this,Mg,"f").call(this,i.accounts),a=Object.assign(Object.assign({},i),{accounts:o,chain:s});Promise.all([pe(this,bo,"f").set(a),pe(this,Xu,"f").call(this,a)])}catch(i){throw pe(this,Ng,"f").call(this),new Error(i instanceof Error&&i.message||"Unknown error")}})),Ng.set(this,()=>mn(this,void 0,void 0,function*(){var n;pe(this,bo,"f").clear(),Yn(this,Ia,!1),Yn(this,Qu,(n=pe(this,Qu,"f"),n++,n)),Yn(this,Xr,void 0),pe(this,Gu,"m",Rg).call(this,"change",{accounts:this.accounts})})),Zu.set(this,n=>mn(this,void 0,void 0,function*(){var r;const s=(r=pe(this,Xr,"f"))===null||r===void 0?void 0:r.wallet_uri_base,i=s?{baseUri:s}:void 0,o=pe(this,Qu,"f");try{return yield uJ(n,i)}catch(a){throw pe(this,Qu,"f")!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield pe(this,Ig,"f").call(this,this)),a}})),Oh.set(this,()=>{if(!pe(this,Xr,"f"))throw new Error("Wallet not connected");return{authToken:pe(this,Xr,"f").auth_token,chain:pe(this,Xr,"f").chain}}),Mg.set(this,n=>n.map(r=>{var s,i;const o=Km(r.address);return{address:kb.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(s=r.chains)!==null&&s!==void 0?s:pe(this,Yu,"f"),features:(i=r.features)!==null&&i!==void 0?i:_J}})),jb.set(this,n=>mn(this,void 0,void 0,function*(){const{authToken:r,chain:s}=pe(this,Oh,"f").call(this);try{return yield pe(this,Zu,"f").call(this,i=>mn(this,void 0,void 0,function*(){return yield pe(this,Bh,"f").call(this,i,r,s),yield i.signTransactions({transactions:n})}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),Fb.set(this,(n,r)=>mn(this,void 0,void 0,function*(){const{authToken:s,chain:i}=pe(this,Oh,"f").call(this);try{return yield pe(this,Zu,"f").call(this,o=>mn(this,void 0,void 0,function*(){const[a,c]=yield Promise.all([o.getCapabilities(),pe(this,Bh,"f").call(this,o,s,i)]);if(a.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),Dg.set(this,(...n)=>mn(this,void 0,void 0,function*(){const r=[];for(const s of n){const i=Tc.deserialize(s.transaction),o=yield pe(this,Fb,"f").call(this,i,s.options);r.push({signature:kb.decode(o)})}return r})),Ub.set(this,(...n)=>mn(this,void 0,void 0,function*(){const r=n.map(({transaction:i})=>Tc.deserialize(i));return(yield pe(this,jb,"f").call(this,r)).map(i=>({signedTransaction:yJ(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),zb.set(this,(...n)=>mn(this,void 0,void 0,function*(){const{authToken:r,chain:s}=pe(this,Oh,"f").call(this),i=n.map(({account:a})=>vJ(a.publicKey)),o=n.map(({message:a})=>a);try{return yield pe(this,Zu,"f").call(this,a=>mn(this,void 0,void 0,function*(){return yield pe(this,Bh,"f").call(this,a,r,s),(yield a.signMessages({addresses:i,payloads:o})).map(l=>({signedMessage:l,signature:l.slice(-wJ)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Vb.set(this,(...n)=>mn(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const s of n)r.push(yield pe(this,Pg,"f").call(this,s));else return[yield pe(this,Pg,"f").call(this,n[0])];return r})),Pg.set(this,n=>mn(this,void 0,void 0,function*(){var r,s;Yn(this,Ia,!0);try{const i=yield pe(this,kg,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=i.sign_in_result.address;return{account:Object.assign(Object.assign({},(s=i.accounts.find(c=>c.address==o))!==null&&s!==void 0?s:{address:o}),{publicKey:Km(o)}),signedMessage:Km(i.sign_in_result.signed_message),signature:Km(i.sign_in_result.signature)}}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}finally{Yn(this,Ia,!1)}})),Yn(this,bo,e.authorizationCache),Yn(this,Dh,e.appIdentity),Yn(this,Yu,e.chains),Yn(this,Tg,e.chainSelector),Yn(this,Ig,e.onWalletNotFound),Yn(this,Ph,{[ns]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:pe(this,Dg,"f")}})}get version(){return pe(this,Nb,"f")}get name(){return pe(this,Mb,"f")}get url(){return pe(this,Db,"f")}get icon(){return pe(this,Pb,"f")}get chains(){return pe(this,Yu,"f")}get features(){return Object.assign({[xx]:{version:"1.0.0",connect:pe(this,Ob,"f")},[Hy]:{version:"1.0.0",disconnect:pe(this,Ng,"f")},[wx]:{version:"1.0.0",on:pe(this,Bb,"f")},[Bo]:{version:"1.0.0",signMessage:pe(this,zb,"f")},[Ml]:{version:"1.0.0",signIn:pe(this,Vb,"f")}},pe(this,Ph,"f"))}get accounts(){var e,n;return(n=(e=pe(this,Xr,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!pe(this,Xr,"f")}get isAuthorized(){return!!pe(this,Xr,"f")}get currentAuthorization(){return pe(this,Xr,"f")}get cachedAuthorizationResult(){return pe(this,bo,"f").get()}}pl=new WeakMap,Nb=new WeakMap,Mb=new WeakMap,Db=new WeakMap,Pb=new WeakMap,Dh=new WeakMap,Xr=new WeakMap,bo=new WeakMap,Ia=new WeakMap,Qu=new WeakMap,Yu=new WeakMap,Tg=new WeakMap,Ph=new WeakMap,Ig=new WeakMap,Bb=new WeakMap,Ob=new WeakMap,kg=new WeakMap,Xu=new WeakMap,Lb=new WeakMap,Bh=new WeakMap,Ng=new WeakMap,Zu=new WeakMap,Oh=new WeakMap,Mg=new WeakMap,jb=new WeakMap,Fb=new WeakMap,Dg=new WeakMap,Ub=new WeakMap,zb=new WeakMap,Vb=new WeakMap,Pg=new WeakMap,Gu=new WeakSet,Rg=function(e,...n){var r;(r=pe(this,pl,"f")[e])===null||r===void 0||r.forEach(s=>s.apply(null,n))},eB=function(e,n){var r;pe(this,pl,"f")[e]=(r=pe(this,pl,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)};const bJ="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",AJ="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class SJ extends mJ{constructor(){super(...arguments),this.contentStyles=TJ,this.contentHtml=CJ}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const s=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),i=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(s){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":s.innerHTML=bJ,i&&i.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":s.innerHTML=AJ,i&&(i.style.display="none");return}s.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const CJ=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,TJ=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function IJ(){return mn(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new SJ;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const F1="SolanaMobileWalletAdapterDefaultAuthorizationCache";function RJ(){let t;try{t=window.localStorage}catch{}return{clear(){return mn(this,void 0,void 0,function*(){if(t)try{t.removeItem(F1)}catch{}})},get(){return mn(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(F1));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):new ke(r.address).toBytes()}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return mn(this,void 0,void 0,function*(){if(t)try{t.setItem(F1,JSON.stringify(e))}catch{}})}}}function kJ(){return{select(t){return mn(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(U0)?U0:t[0]})}}}function nn(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,[])).next())})}function We(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Ts(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const Wb="standard:connect",NJ="standard:disconnect",MJ="standard:events";function U1(t){return window.btoa(String.fromCharCode.call(null,...t))}function DJ(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var ar,bn,Oa,Oo,Bg,To,tl,$b,Hb,tB,Qy,Og,Ma;const Lg="Mobile Wallet Adapter",PJ=64;function BJ(t){return"version"in t}function nB(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class OJ extends MX{constructor(e,n){super(),ar.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),bn.set(this,void 0),Oa.set(this,!1),Oo.set(this,DJ()?ut.Loadable:ut.Unsupported),Bg.set(this,void 0),To.set(this,void 0),tl.set(this,void 0),$b.set(this,r=>nn(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){We(this,ar,"m",tB).call(this);const s=yield We(this,Bg,"f").call(this,r.accounts);s!==We(this,To,"f")&&(Ts(this,To,s),Ts(this,tl,void 0),this.emit("connect",this.publicKey))}})),Ts(this,Bg,r=>nn(this,void 0,void 0,function*(){var s;const i=yield n.addressSelector.select(r.map(({publicKey:o})=>U1(o)));return(s=r.find(({publicKey:o})=>U1(o)===i))!==null&&s!==void 0?s:r[0]})),Ts(this,bn,e),We(this,bn,"f").features[MJ].on("change",We(this,$b,"f")),this.name=We(this,bn,"f").name,this.icon=We(this,bn,"f").icon,this.url=We(this,bn,"f").url}get publicKey(){var e;if(!We(this,tl,"f")&&We(this,To,"f"))try{Ts(this,tl,new ke(We(this,To,"f").publicKey),"f")}catch(n){throw new gf(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=We(this,tl,"f"))!==null&&e!==void 0?e:null}get connected(){return We(this,bn,"f").connected}get connecting(){return We(this,Oa,"f")}get readyState(){return We(this,Oo,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return nn(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return nn(this,void 0,void 0,function*(){We(this,ar,"m",Hb).call(this,!0)})}connect(){return nn(this,void 0,void 0,function*(){We(this,ar,"m",Hb).call(this)})}performAuthorization(e){return nn(this,void 0,void 0,function*(){try{const n=yield We(this,bn,"f").cachedAuthorizationResult;return n?(yield We(this,bn,"f").features[Wb].connect({silent:!0}),n):(e?yield We(this,bn,"f").features[Ml].signIn(e):yield We(this,bn,"f").features[Wb].connect(),yield yield We(this,bn,"f").cachedAuthorizationResult)}catch(n){throw new Gl(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return nn(this,void 0,void 0,function*(){return yield We(this,ar,"m",Ma).call(this,()=>nn(this,void 0,void 0,function*(){Ts(this,Oa,!1),Ts(this,tl,void 0),Ts(this,To,void 0),yield We(this,bn,"f").features[NJ].disconnect(),this.emit("disconnect")}))})}signIn(e){return nn(this,void 0,void 0,function*(){return We(this,ar,"m",Ma).call(this,()=>nn(this,void 0,void 0,function*(){var n;if(We(this,Oo,"f")!==ut.Installed&&We(this,Oo,"f")!==ut.Loadable)throw new Kl;Ts(this,Oa,!0);try{const r=yield We(this,bn,"f").features[Ml].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new Gl(r instanceof Error&&r.message||"Unknown error",r)}finally{Ts(this,Oa,!1)}}))})}signMessage(e){return nn(this,void 0,void 0,function*(){return yield We(this,ar,"m",Ma).call(this,()=>nn(this,void 0,void 0,function*(){const n=We(this,ar,"m",Qy).call(this);try{return(yield We(this,bn,"f").features[Bo].signMessage({account:n,message:e}))[0].signature}catch(r){throw new vx(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return nn(this,void 0,void 0,function*(){return yield We(this,ar,"m",Ma).call(this,()=>nn(this,void 0,void 0,function*(){const s=We(this,ar,"m",Qy).call(this);try{let i=function(){let o;switch(n.commitment){case"confirmed":case"finalized":case"processed":o=n.commitment;break;default:o="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=o;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(o==="finalized"?2:o==="confirmed"?1:0)?a:o};if(ns in We(this,bn,"f").features){const o=nB(We(this,bn,"f").currentAuthorization.chain),[a]=(yield We(this,bn,"f").features[ns].signAndSendTransaction({account:s,transaction:e.serialize(),chain:o,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(c=>U1(c.signature));return a}else{const[o]=yield We(this,ar,"m",Og).call(this,[e]);if(BJ(o))return yield n.sendTransaction(o);{const a=o.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:i()}))}}}catch(i){throw new Fo(i==null?void 0:i.message,i)}}))})}signTransaction(e){return nn(this,void 0,void 0,function*(){return yield We(this,ar,"m",Ma).call(this,()=>nn(this,void 0,void 0,function*(){const[n]=yield We(this,ar,"m",Og).call(this,[e]);return n}))})}signAllTransactions(e){return nn(this,void 0,void 0,function*(){return yield We(this,ar,"m",Ma).call(this,()=>nn(this,void 0,void 0,function*(){return yield We(this,ar,"m",Og).call(this,e)}))})}}bn=new WeakMap,Oa=new WeakMap,Oo=new WeakMap,Bg=new WeakMap,To=new WeakMap,tl=new WeakMap,$b=new WeakMap,ar=new WeakSet,Hb=function(e=!1){return nn(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield We(this,ar,"m",Ma).call(this,()=>nn(this,void 0,void 0,function*(){if(We(this,Oo,"f")!==ut.Installed&&We(this,Oo,"f")!==ut.Loadable)throw new Kl;Ts(this,Oa,!0);try{yield We(this,bn,"f").features[Wb].connect({silent:e})}catch(n){throw new Gl(n instanceof Error&&n.message||"Unknown error",n)}finally{Ts(this,Oa,!1)}}))})},tB=function(){We(this,Oo,"f")!==ut.Installed&&this.emit("readyStateChange",Ts(this,Oo,ut.Installed))},Qy=function(){if(!We(this,bn,"f").isAuthorized||!We(this,To,"f"))throw new qn;return We(this,To,"f")},Og=function(e){return nn(this,void 0,void 0,function*(){const n=We(this,ar,"m",Qy).call(this);try{if(Tn in We(this,bn,"f").features)return We(this,bn,"f").features[Tn].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(s=>{const i=s.signedTransaction,a=i[0]*PJ+1;return mx.deserializeMessageVersion(i.slice(a,i.length))==="legacy"?Hi.from(i):Tc.deserialize(i)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new wi(r==null?void 0:r.message,r)}})},Ma=function(e){return nn(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class LJ extends OJ{constructor(e){var n;const r=nB((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new EJ({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>nn(this,void 0,void 0,function*(){const s=yield e.authorizationResultCache.get();return s&&"chain"in s?s:s?Object.assign(Object.assign({},s),{chain:r}):void 0}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:kJ(),onWalletNotFound:()=>nn(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class jJ extends LJ{}function FJ(){return{select(t){return nn(this,void 0,void 0,function*(){return t[0]})}}}function UJ(){return RJ()}function zJ(t){return nn(this,void 0,void 0,function*(){return IJ()})}function VJ(){return zJ}var WJ=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},$J=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},jg;function HJ(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new qJ(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class qJ extends Event{get detail(){return WJ(this,jg,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),jg.set(this,void 0),$J(this,jg,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}jg=new WeakMap;function KJ(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function GJ(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=l}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,h=0;const m=l.length;for(;h!==m&&l[h]===0;)h++,u++;const v=(m-h)*i+1>>>0,g=new Uint8Array(v);for(;h!==m;){let w=l[h],x=0;for(let b=v-1;(w!==0||x<f)&&b!==-1;b--,x++)w+=256*g[b]>>>0,g[b]=w%n>>>0,w=w/n>>>0;if(w!==0)throw new Error("Non-zero carry");f=x,h++}let y=v-f;for(;y!==v&&g[y]===0;)y++;let E=r.repeat(u);for(;y<v;++y)E+=t.charAt(g[y]);return E}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,h=0;for(;l[u]===r;)f++,u++;const m=(l.length-u)*s+1>>>0,v=new Uint8Array(m);for(;u<l.length;){const w=l.charCodeAt(u);if(w>255)return;let x=e[w];if(x===255)return;let b=0;for(let D=m-1;(x!==0||b<h)&&D!==-1;D--,b++)x+=n*v[D]>>>0,v[D]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");h=b,u++}let g=m-h;for(;g!==m&&v[g]===0;)g++;const y=new Uint8Array(f+(m-g));let E=f;for(;g!==m;)y[E++]=v[g++];return y}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var QJ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const YJ=GJ(QJ);var Pe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Xn=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},xr,ms,ml,gl,nl,Lh,Yy,Nt,Xy,qb,Fg,Kb,s0,Gb,MR,DR,PR,BR;class XJ extends A5{get name(){return Pe(this,Nt,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Pe(this,Nt,"f").icon}get readyState(){return Pe(this,Xy,"f")}get publicKey(){return Pe(this,ml,"f")}get connecting(){return Pe(this,gl,"f")}get supportedTransactionVersions(){return Pe(this,Yy,"f")}get wallet(){return Pe(this,Nt,"f")}get standard(){return!0}constructor({wallet:e}){super(),xr.add(this),ms.set(this,void 0),ml.set(this,void 0),gl.set(this,void 0),nl.set(this,void 0),Lh.set(this,void 0),Yy.set(this,void 0),Nt.set(this,void 0),Xy.set(this,typeof window>"u"||typeof document>"u"?ut.Unsupported:ut.Installed),Gb.set(this,n=>{if("accounts"in n){const r=Pe(this,Nt,"f").accounts[0];Pe(this,ms,"f")&&!Pe(this,nl,"f")&&r!==Pe(this,ms,"f")&&(r?Pe(this,xr,"m",Fg).call(this,r):(this.emit("error",new US),Pe(this,xr,"m",Kb).call(this)))}"features"in n&&Pe(this,xr,"m",s0).call(this)}),Xn(this,Nt,e,"f"),Xn(this,ms,null,"f"),Xn(this,ml,null,"f"),Xn(this,gl,!1,"f"),Xn(this,nl,!1,"f"),Xn(this,Lh,Pe(this,Nt,"f").features[wx].on("change",Pe(this,Gb,"f")),"f"),Pe(this,xr,"m",s0).call(this)}destroy(){Xn(this,ms,null,"f"),Xn(this,ml,null,"f"),Xn(this,gl,!1,"f"),Xn(this,nl,!1,"f");const e=Pe(this,Lh,"f");e&&(Xn(this,Lh,null,"f"),e())}async autoConnect(){return Pe(this,xr,"m",qb).call(this,{silent:!0})}async connect(){return Pe(this,xr,"m",qb).call(this)}async disconnect(){if(Hy in Pe(this,Nt,"f").features)try{Xn(this,nl,!0,"f"),await Pe(this,Nt,"f").features[Hy].disconnect()}catch(e){this.emit("error",new zS(e==null?void 0:e.message,e))}finally{Xn(this,nl,!1,"f")}Pe(this,xr,"m",Kb).call(this)}async sendTransaction(e,n,r={}){try{const s=Pe(this,ms,"f");if(!s)throw new qn;let i;if(ns in Pe(this,Nt,"f").features)if(s.features.includes(ns))i=ns;else if(Tn in Pe(this,Nt,"f").features&&s.features.includes(Tn))i=Tn;else throw new fl;else if(Tn in Pe(this,Nt,"f").features){if(!s.features.includes(Tn))throw new fl;i=Tn}else throw new md;const o=SZ(n.rpcEndpoint);if(!s.chains.includes(o))throw new Fo;try{const{signers:a,...c}=r;let l;if(Uo(e)?(a!=null&&a.length&&e.sign(a),l=e.serialize()):(e=await this.prepareTransaction(e,n,c),a!=null&&a.length&&e.partialSign(...a),l=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===ns){const[u]=await Pe(this,Nt,"f").features[ns].signAndSendTransaction({account:s,chain:o,transaction:l,options:{preflightCommitment:D1(c.preflightCommitment||n.commitment),skipPreflight:c.skipPreflight,maxRetries:c.maxRetries,minContextSlot:c.minContextSlot}});return YJ.encode(u.signature)}else{const[u]=await Pe(this,Nt,"f").features[Tn].signTransaction({account:s,chain:o,transaction:l,options:{preflightCommitment:D1(c.preflightCommitment||n.commitment),minContextSlot:c.minContextSlot}});return await n.sendRawTransaction(u.signedTransaction,{...c,preflightCommitment:D1(c.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof hr?a:new Fo(a==null?void 0:a.message,a)}}catch(s){throw this.emit("error",s),s}}}ms=new WeakMap,ml=new WeakMap,gl=new WeakMap,nl=new WeakMap,Lh=new WeakMap,Yy=new WeakMap,Nt=new WeakMap,Xy=new WeakMap,Gb=new WeakMap,xr=new WeakSet,qb=async function(e){try{if(this.connected||this.connecting)return;if(Pe(this,Xy,"f")!==ut.Installed)throw new Kl;if(Xn(this,gl,!0,"f"),!Pe(this,Nt,"f").accounts.length)try{await Pe(this,Nt,"f").features[xx].connect(e)}catch(r){throw new Gl(r==null?void 0:r.message,r)}const n=Pe(this,Nt,"f").accounts[0];if(!n)throw new fl;Pe(this,xr,"m",Fg).call(this,n)}catch(n){throw this.emit("error",n),n}finally{Xn(this,gl,!1,"f")}},Fg=function(e){let n;try{n=new ke(e.address)}catch(r){throw new gf(r==null?void 0:r.message,r)}Xn(this,ms,e,"f"),Xn(this,ml,n,"f"),Pe(this,xr,"m",s0).call(this),this.emit("connect",n)},Kb=function(){Xn(this,ms,null,"f"),Xn(this,ml,null,"f"),Pe(this,xr,"m",s0).call(this),this.emit("disconnect")},s0=function(){var n,r;const e=ns in Pe(this,Nt,"f").features?Pe(this,Nt,"f").features[ns].supportedTransactionVersions:Pe(this,Nt,"f").features[Tn].supportedTransactionVersions;Xn(this,Yy,KJ(e,["legacy"])?null:new Set(e),"f"),Tn in Pe(this,Nt,"f").features&&((n=Pe(this,ms,"f"))!=null&&n.features.includes(Tn))?(this.signTransaction=Pe(this,xr,"m",MR),this.signAllTransactions=Pe(this,xr,"m",DR)):(delete this.signTransaction,delete this.signAllTransactions),Bo in Pe(this,Nt,"f").features&&((r=Pe(this,ms,"f"))!=null&&r.features.includes(Bo))?this.signMessage=Pe(this,xr,"m",PR):delete this.signMessage,Ml in Pe(this,Nt,"f").features?this.signIn=Pe(this,xr,"m",BR):delete this.signIn},MR=async function(e){try{const n=Pe(this,ms,"f");if(!n)throw new qn;if(!(Tn in Pe(this,Nt,"f").features))throw new md;if(!n.features.includes(Tn))throw new fl;try{const s=(await Pe(this,Nt,"f").features[Tn].signTransaction({account:n,transaction:Uo(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Uo(e)?Tc.deserialize(s):Hi.from(s)}catch(r){throw r instanceof hr?r:new wi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},DR=async function(e){try{const n=Pe(this,ms,"f");if(!n)throw new qn;if(!(Tn in Pe(this,Nt,"f").features))throw new md;if(!n.features.includes(Tn))throw new fl;try{const r=await Pe(this,Nt,"f").features[Tn].signTransaction(...e.map(s=>({account:n,transaction:Uo(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((s,i)=>{const o=r[i].signedTransaction;return Uo(s)?Tc.deserialize(o):Hi.from(o)})}catch(r){throw new wi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},PR=async function(e){try{const n=Pe(this,ms,"f");if(!n)throw new qn;if(!(Bo in Pe(this,Nt,"f").features))throw new md;if(!n.features.includes(Bo))throw new fl;try{return(await Pe(this,Nt,"f").features[Bo].signMessage({account:n,message:e}))[0].signature}catch(r){throw new vx(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},BR=async function(e={}){try{if(!(Ml in Pe(this,Nt,"f").features))throw new md;let n;try{[n]=await Pe(this,Nt,"f").features[Ml].signIn(e)}catch(r){throw new ER(r==null?void 0:r.message,r)}if(!n)throw new ER;return Pe(this,xr,"m",Fg).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const ZJ=DX;var JJ=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},eee=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Ug;let Rs;const Cx=new Set;function tee(t){i0=void 0,Cx.add(t)}function nee(t){i0=void 0,Cx.delete(t)}const gd={};function ree(){if(Rs||(Rs=Object.freeze({register:OR,get:see,on:iee}),typeof window>"u"))return Rs;const t=Object.freeze({register:OR});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new oee(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Rs}function OR(...t){var e;return t=t.filter(n=>!Cx.has(n)),t.length?(t.forEach(n=>tee(n)),(e=gd.register)==null||e.forEach(n=>Qb(()=>n(...t))),function(){var r;t.forEach(s=>nee(s)),(r=gd.unregister)==null||r.forEach(s=>Qb(()=>s(...t)))}):()=>{}}let i0;function see(){return i0||(i0=[...Cx]),i0}function iee(t,e){var n;return(n=gd[t])!=null&&n.push(e)||(gd[t]=[e]),function(){var s;gd[t]=(s=gd[t])==null?void 0:s.filter(i=>e!==i)}}function Qb(t){try{t()}catch(e){console.error(e)}}class oee extends Event{get detail(){return JJ(this,Ug,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Ug.set(this,void 0),eee(this,Ug,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Ug=new WeakMap;function aee(){if(Rs||(Rs=ree(),typeof window>"u"))return Rs;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),Rs;const{register:e}=Rs,n=(...r)=>r.forEach(s=>Qb(()=>s({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),Rs}return n(...t),Rs}function cee(t){const e=LR(()=>new Set),{get:n,on:r}=LR(()=>aee()),[s,i]=I.useState(()=>jR(n()));I.useEffect(()=>{const a=[r("register",(...c)=>i(l=>[...l,...jR(c)])),r("unregister",(...c)=>i(l=>l.filter(u=>c.some(f=>f===u.wallet))))];return()=>a.forEach(c=>c())},[r]);const o=lee(s);return I.useEffect(()=>{if(!o)return;const a=new Set(s);new Set(o.filter(l=>!a.has(l))).forEach(l=>l.destroy())},[o,s]),I.useEffect(()=>()=>s.forEach(a=>a.destroy()),[]),I.useMemo(()=>[...s,...t.filter(({name:a})=>s.some(c=>c.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[s,t,e])}function LR(t){const e=I.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function lee(t){const e=I.useRef(void 0);return I.useEffect(()=>{e.current=t}),e.current}function jR(t){return t.filter(ZJ).map(e=>new XJ({wallet:e}))}var Md;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(Md||(Md={}));function uee(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function dee({adapters:t,userAgentString:e}){return t.some(n=>n.name!==Lg&&n.readyState===ut.Installed)?Md.DESKTOP_WEB:e&&/android/i.test(e)&&!uee(e)?Md.MOBILE_WEB:Md.DESKTOP_WEB}function fee(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function hee({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:i,onError:o,onSelectWallet:a}){const c=I.useRef(!1),[l,u]=I.useState(!1),f=I.useRef(!1),[h,m]=I.useState(!1),[v,g]=I.useState(()=>(n==null?void 0:n.publicKey)??null),[y,E]=I.useState(()=>(n==null?void 0:n.connected)??!1),w=I.useRef(o);I.useEffect(()=>(w.current=o,()=>{w.current=void 0}),[o]);const x=I.useRef((C,O)=>(r.current||(w.current?w.current(C,O):(console.error(C,O),C instanceof Kl&&typeof window<"u"&&O&&window.open(O.url,"_blank"))),C)),[b,D]=I.useState(()=>e.map(C=>({adapter:C,readyState:C.readyState})).filter(({readyState:C})=>C!==ut.Unsupported));I.useEffect(()=>{D(O=>e.map((H,j)=>{const z=O[j];return z&&z.adapter===H&&z.readyState===H.readyState?z:{adapter:H,readyState:H.readyState}}).filter(({readyState:H})=>H!==ut.Unsupported));function C(O){D(H=>{const j=H.findIndex(({adapter:K})=>K===this);if(j===-1)return H;const{adapter:z}=H[j];return[...H.slice(0,j),{adapter:z,readyState:O},...H.slice(j+1)].filter(({readyState:K})=>K!==ut.Unsupported)})}return e.forEach(O=>O.on("readyStateChange",C,O)),()=>{e.forEach(O=>O.off("readyStateChange",C,O))}},[n,e]);const L=I.useMemo(()=>b.find(C=>C.adapter===n)??null,[n,b]);I.useEffect(()=>{if(!n)return;const C=j=>{g(j),c.current=!1,u(!1),E(!0),f.current=!1,m(!1)},O=()=>{r.current||(g(null),c.current=!1,u(!1),E(!1),f.current=!1,m(!1))},H=j=>{x.current(j,n)};return n.on("connect",C),n.on("disconnect",O),n.on("error",H),()=>{n.off("connect",C),n.off("disconnect",O),n.off("error",H),O()}},[n,r]);const T=I.useRef(!1);I.useEffect(()=>()=>{T.current=!1},[n]),I.useEffect(()=>{T.current||c.current||y||!s||!((L==null?void 0:L.readyState)===ut.Installed||(L==null?void 0:L.readyState)===ut.Loadable)||(c.current=!0,u(!0),T.current=!0,async function(){try{await s()}catch{i()}finally{u(!1),c.current=!1}}())},[y,s,i,L]);const R=I.useCallback(async(C,O,H)=>{if(!n)throw x.current(new bR);if(!y)throw x.current(new qn,n);return await n.sendTransaction(C,O,H)},[n,y]),F=I.useMemo(()=>n&&"signTransaction"in n?async C=>{if(!y)throw x.current(new qn,n);return await n.signTransaction(C)}:void 0,[n,y]),P=I.useMemo(()=>n&&"signAllTransactions"in n?async C=>{if(!y)throw x.current(new qn,n);return await n.signAllTransactions(C)}:void 0,[n,y]),U=I.useMemo(()=>n&&"signMessage"in n?async C=>{if(!y)throw x.current(new qn,n);return await n.signMessage(C)}:void 0,[n,y]),W=I.useMemo(()=>n&&"signIn"in n?async C=>await n.signIn(C):void 0,[n]),S=I.useCallback(async()=>{if(c.current||f.current||L!=null&&L.adapter.connected)return;if(!L)throw x.current(new bR);const{adapter:C,readyState:O}=L;if(!(O===ut.Installed||O===ut.Loadable))throw x.current(new Kl,C);c.current=!0,u(!0);try{await C.connect()}catch(H){throw i(),H}finally{u(!1),c.current=!1}},[i,L]),_=I.useCallback(async()=>{if(!f.current&&n){f.current=!0,m(!0);try{await n.disconnect()}finally{m(!1),f.current=!1}}},[n]);return fe.createElement(C5.Provider,{value:{autoConnect:!!s,wallets:b,wallet:L,publicKey:v,connected:y,connecting:l,disconnecting:h,select:a,connect:S,disconnect:_,sendTransaction:R,signTransaction:F,signAllTransactions:P,signMessage:U,signIn:W}},t)}let z1;function pee(){var t;return z1===void 0&&(z1=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),z1}function FR(t){const e=pee();return dee({adapters:t,userAgentString:e})===Md.MOBILE_WEB}function mee(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function gee({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:s}){const{connection:i}=b5(),o=cee(e),a=I.useMemo(()=>{if(!FR(o))return null;const w=o.find(x=>x.name===Lg);return w||new jJ({addressSelector:FJ(),appIdentity:{uri:mee()},authorizationResultCache:UJ(),cluster:fee(i==null?void 0:i.rpcEndpoint),onWalletNotFound:VJ()})},[o,i==null?void 0:i.rpcEndpoint]),c=I.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[l,u]=BX(r,null),f=I.useMemo(()=>c.find(w=>w.name===l)??null,[c,l]),h=I.useCallback(w=>{l!==w&&(f&&f.name!==Lg&&f.disconnect(),u(w))},[f,u,l]);I.useEffect(()=>{if(!f)return;function w(){g.current||u(null)}return f.on("disconnect",w),()=>{f.off("disconnect",w)}},[f,o,u,l]);const m=I.useRef(!1),v=I.useMemo(()=>{if(!(!n||!f))return async()=>{(n===!0||await n(f))&&(m.current?await f.connect():await f.autoConnect())}},[n,f]),g=I.useRef(!1);I.useEffect(()=>{if(l===Lg&&FR(o)){g.current=!1;return}function w(){g.current=!0}return window.addEventListener("beforeunload",w),()=>{window.removeEventListener("beforeunload",w)}},[o,l]);const y=I.useCallback(()=>{f&&h(null)},[f,h]),E=I.useCallback(w=>{m.current=!0,h(w)},[h]);return fe.createElement(hee,{wallets:c,adapter:f,isUnloadingRef:g,onAutoConnectRequest:v,onConnectError:y,onError:s,onSelectWallet:E},t)}const rB={setVisible(t){console.error(sB("call","setVisible"))},visible:!1};Object.defineProperty(rB,"visible",{get(){return console.error(sB("read","visible")),!1}});function sB(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const iB=I.createContext(rB);function oB(){return I.useContext(iB)}function yee({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:s,disconnecting:i,publicKey:o,select:a,wallet:c,wallets:l}=Np();let u;r?u="connecting":n?u="connected":i?u="disconnecting":c?u="has-wallet":u="no-wallet";const f=I.useCallback(()=>{e().catch(()=>{})},[e]),h=I.useCallback(()=>{s().catch(()=>{})},[s]),m=I.useCallback(()=>{t({onSelectWallet:a,wallets:l})},[t,a,l]);return{buttonState:u,onConnect:u==="has-wallet"?f:void 0,onDisconnect:u!=="disconnecting"&&u!=="no-wallet"?h:void 0,onSelectWallet:m,publicKey:o??void 0,walletIcon:c==null?void 0:c.adapter.icon,walletName:c==null?void 0:c.adapter.name}}const aB=t=>fe.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&fe.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&fe.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),cB=({wallet:t,...e})=>t&&fe.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function vee({walletIcon:t,walletName:e,...n}){return fe.createElement(aB,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?fe.createElement(cB,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function xee({children:t,labels:e,...n}){const{setVisible:r}=oB(),{buttonState:s,onConnect:i,onDisconnect:o,publicKey:a,walletIcon:c,walletName:l}=yee({onSelectWallet(){r(!0)}}),[u,f]=I.useState(!1),[h,m]=I.useState(!1),v=I.useRef(null);I.useEffect(()=>{const y=E=>{const w=v.current;!w||w.contains(E.target)||m(!1)};return document.addEventListener("mousedown",y),document.addEventListener("touchstart",y),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("touchstart",y)}},[]);const g=I.useMemo(()=>{if(t)return t;if(a){const y=a.toBase58();return y.slice(0,4)+".."+y.slice(-4)}else return s==="connecting"||s==="has-wallet"?e[s]:e["no-wallet"]},[s,t,e,a]);return fe.createElement("div",{className:"wallet-adapter-dropdown"},fe.createElement(vee,{...n,"aria-expanded":h,style:{pointerEvents:h?"none":"auto",...n.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":i&&i();break;case"connected":m(!0);break}},walletIcon:c,walletName:l},g),fe.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${h&&"wallet-adapter-dropdown-list-active"}`,ref:v,role:"menu"},a?fe.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),f(!0),setTimeout(()=>f(!1),400)},role:"menuitem"},u?e.copied:e["copy-address"]):null,fe.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),m(!1)},role:"menuitem"},e["change-wallet"]),o?fe.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),m(!1)},role:"menuitem"},e.disconnect):null))}const UR=({id:t,children:e,expanded:n=!1})=>{const r=I.useRef(null),s=I.useRef(!0),i="height 250ms ease-out",o=()=>{const c=r.current;c&&requestAnimationFrame(()=>{c.style.height=c.scrollHeight+"px"})},a=()=>{const c=r.current;c&&requestAnimationFrame(()=>{c.style.height=c.offsetHeight+"px",c.style.overflow="hidden",requestAnimationFrame(()=>{c.style.height="0"})})};return I.useLayoutEffect(()=>{n?o():a()},[n]),I.useLayoutEffect(()=>{const c=r.current;if(!c)return;function l(){c&&(c.style.overflow=n?"initial":"hidden",n&&(c.style.height="auto"))}function u(f){c&&f.target===c&&f.propertyName==="height"&&l()}return s.current&&(l(),s.current=!1),c.addEventListener("transitionend",u),()=>c.removeEventListener("transitionend",u)},[n]),fe.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:s.current?void 0:i}},e)},V1=({handleClick:t,tabIndex:e,wallet:n})=>fe.createElement("li",null,fe.createElement(aB,{onClick:t,startIcon:fe.createElement(cB,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===ut.Installed&&fe.createElement("span",null,"Detected"))),wee=()=>fe.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},fe.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),fe.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),fe.createElement("g",{clipPath:"url(#clip0_880_5115)"},fe.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),fe.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),fe.createElement("defs",null,fe.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},fe.createElement("stop",{stopColor:"#9945FF"}),fe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),fe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),fe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),fe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),fe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),fe.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},fe.createElement("stop",{stopColor:"#9945FF"}),fe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),fe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),fe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),fe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),fe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),fe.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},fe.createElement("stop",{stopColor:"#9945FF"}),fe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),fe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),fe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),fe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),fe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),fe.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},fe.createElement("stop",{stopColor:"#9945FF"}),fe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),fe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),fe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),fe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),fe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),fe.createElement("clipPath",{id:"clip0_880_5115"},fe.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),_ee=({className:t="",container:e="body"})=>{const n=I.useRef(null),{wallets:r,select:s}=Np(),{setVisible:i}=oB(),[o,a]=I.useState(!1),[c,l]=I.useState(!1),[u,f]=I.useState(null),[h,m]=I.useMemo(()=>{const x=[],b=[];for(const D of r)D.readyState===ut.Installed?x.push(D):b.push(D);return x.length?[x,b]:[b,[]]},[r]),v=I.useCallback(()=>{l(!1),setTimeout(()=>i(!1),150)},[i]),g=I.useCallback(x=>{x.preventDefault(),v()},[v]),y=I.useCallback((x,b)=>{s(b),g(x)},[s,g]),E=I.useCallback(()=>a(!o),[o]),w=I.useCallback(x=>{const b=n.current;if(!b)return;const D=b.querySelectorAll("button"),L=D[0],T=D[D.length-1];x.shiftKey?document.activeElement===L&&(T.focus(),x.preventDefault()):document.activeElement===T&&(L.focus(),x.preventDefault())},[n]);return I.useLayoutEffect(()=>{const x=D=>{D.key==="Escape"?v():D.key==="Tab"&&w(D)},{overflow:b}=window.getComputedStyle(document.body);return setTimeout(()=>l(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",x,!1),()=>{document.body.style.overflow=b,window.removeEventListener("keydown",x,!1)}},[v,w]),I.useLayoutEffect(()=>f(document.querySelector(e)),[e]),u&&jc.createPortal(fe.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${c&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},fe.createElement("div",{className:"wallet-adapter-modal-container"},fe.createElement("div",{className:"wallet-adapter-modal-wrapper"},fe.createElement("button",{onClick:g,className:"wallet-adapter-modal-button-close"},fe.createElement("svg",{width:"14",height:"14"},fe.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),h.length?fe.createElement(fe.Fragment,null,fe.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),fe.createElement("ul",{className:"wallet-adapter-modal-list"},h.map(x=>fe.createElement(V1,{key:x.adapter.name,handleClick:b=>y(b,x.adapter.name),wallet:x})),m.length?fe.createElement(UR,{expanded:o,id:"wallet-adapter-modal-collapse"},m.map(x=>fe.createElement(V1,{key:x.adapter.name,handleClick:b=>y(b,x.adapter.name),tabIndex:o?0:-1,wallet:x}))):null),m.length?fe.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:E,tabIndex:0},fe.createElement("span",null,o?"Less ":"More ","options"),fe.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},fe.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):fe.createElement(fe.Fragment,null,fe.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),fe.createElement("div",{className:"wallet-adapter-modal-middle"},fe.createElement(wee,null)),m.length?fe.createElement(fe.Fragment,null,fe.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:E,tabIndex:0},fe.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),fe.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},fe.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),fe.createElement(UR,{expanded:o,id:"wallet-adapter-modal-collapse"},fe.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(x=>fe.createElement(V1,{key:x.adapter.name,handleClick:b=>y(b,x.adapter.name),tabIndex:o?0:-1,wallet:x}))))):null))),fe.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:g})),u)},Eee=({children:t,...e})=>{const[n,r]=I.useState(!1);return fe.createElement(iB.Provider,{value:{visible:n,setVisible:r}},t,n&&fe.createElement(_ee,{...e}))},bee={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function lB(t){return fe.createElement(xee,{...t,labels:bee})}const Aee="modulepreload",See=function(t){return"/"+t},zR={},uB=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=See(c),c in zR)return;zR[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":Aee,l||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),l)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Cee="Phantom";class Tee extends VS{constructor(e={}){super(),this.name=Cee,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?ut.Unsupported:ut.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new US),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new ke(n.toBytes())}catch(s){this.emit("error",new gf(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==ut.Unsupported&&(Ab()?(this._readyState=ut.Loadable,this.emit("readyStateChange",this._readyState)):S5(()=>{var n,r,s;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(s=window.solana)!=null&&s.isPhantom?(this._readyState=ut.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===ut.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===ut.Loadable){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${s}?ref=${i}`;return}if(this.readyState!==ut.Installed)throw new Kl;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(s){throw new Gl(s==null?void 0:s.message,s)}if(!n.publicKey)throw new fl;let r;try{r=new ke(n.publicKey.toBytes())}catch(s){throw new gf(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new zS(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new qn;try{const{signers:i,...o}=r;Uo(e)?i!=null&&i.length&&e.sign(i):(e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await s.signAndSendTransaction(e,o);return a}catch(i){throw i instanceof hr?i:new Fo(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new qn;try{return await n.signTransaction(e)||e}catch(r){throw new wi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new qn;try{return await n.signAllTransactions(e)||e}catch(r){throw new wi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new qn;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new vx(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const Iee="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var Ut=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ree=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},zg,yl,Yb,Xb,Zb,Ur,Jb,dB,fB,e2,t2,n2,r2,s2;class kee{constructor(){zg.add(this),yl.set(this,{}),Yb.set(this,"1.0.0"),Xb.set(this,"MetaMask"),Zb.set(this,Iee),Ur.set(this,null),Jb.set(this,(e,n)=>{var r;return(r=Ut(this,yl,"f")[e])!=null&&r.push(n)||(Ut(this,yl,"f")[e]=[n]),()=>Ut(this,zg,"m",fB).call(this,e,n)}),e2.set(this,async()=>{if(!Ut(this,Ur,"f")){let e;try{e=(await uB(async()=>{const{default:n}=await import("./index-DqYhv0-b.js");return{default:n}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}Ree(this,Ur,new e,"f"),Ut(this,Ur,"f").on("standard_change",n=>Ut(this,zg,"m",dB).call(this,"change",n))}return this.accounts.length||await Ut(this,Ur,"f").connect(),{accounts:this.accounts}}),t2.set(this,async()=>{Ut(this,Ur,"f")&&await Ut(this,Ur,"f").disconnect()}),n2.set(this,async(...e)=>{if(!Ut(this,Ur,"f"))throw new qn;return await Ut(this,Ur,"f").standardSignAndSendTransaction(...e)}),r2.set(this,async(...e)=>{if(!Ut(this,Ur,"f"))throw new qn;return await Ut(this,Ur,"f").standardSignTransaction(...e)}),s2.set(this,async(...e)=>{if(!Ut(this,Ur,"f"))throw new qn;return await Ut(this,Ur,"f").standardSignMessage(...e)})}get version(){return Ut(this,Yb,"f")}get name(){return Ut(this,Xb,"f")}get icon(){return Ut(this,Zb,"f")}get chains(){return[U0,W5,$5]}get features(){return{[xx]:{version:"1.0.0",connect:Ut(this,e2,"f")},[Hy]:{version:"1.0.0",disconnect:Ut(this,t2,"f")},[wx]:{version:"1.0.0",on:Ut(this,Jb,"f")},[ns]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Ut(this,n2,"f")},[Tn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Ut(this,r2,"f")},[Bo]:{version:"1.0.0",signMessage:Ut(this,s2,"f")}}}get accounts(){return Ut(this,Ur,"f")?Ut(this,Ur,"f").standardAccounts:[]}}yl=new WeakMap,Yb=new WeakMap,Xb=new WeakMap,Zb=new WeakMap,Ur=new WeakMap,Jb=new WeakMap,e2=new WeakMap,t2=new WeakMap,n2=new WeakMap,r2=new WeakMap,s2=new WeakMap,zg=new WeakSet,dB=function(e,...n){var r;(r=Ut(this,yl,"f")[e])==null||r.forEach(s=>s.apply(null,n))},fB=function(e,n){var r;Ut(this,yl,"f")[e]=(r=Ut(this,yl,"f")[e])==null?void 0:r.filter(s=>n!==s)};let VR=!1;function Nee(){VR||(HJ(new kee),VR=!0)}async function Mee(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var i,o;const s=r.data;(s==null?void 0:s.target)==="metamask-inpage"&&((i=s.data)==null?void 0:i.name)==="metamask-provider"&&(((o=s.data.data)==null?void 0:o.id)===t?(window.removeEventListener("message",n),s.data.data.error||Nee()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const Dee="Solflare";class Pee extends VS{constructor(e={}){super(),this.name=Dee,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?ut.Unsupported:ut.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new US),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new ke(n.toBytes())}catch(s){this.emit("error",new gf(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==ut.Unsupported&&(S5(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=ut.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),Mee())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===ut.Loadable&&Ab()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==ut.Loadable&&this._readyState!==ut.Installed)throw new Kl;if(this.readyState===ut.Loadable&&Ab()){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${s}?ref=${i}`;return}let e;try{e=(await uB(async()=>{const{default:s}=await import("./index-CDar0KAK.js");return{default:s}},[])).default}catch(s){throw new kX(s==null?void 0:s.message,s)}let n;try{n=new e({network:this._config.network})}catch(s){throw new md(s==null?void 0:s.message,s)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(s){throw new Gl(s==null?void 0:s.message,s)}if(!n.publicKey)throw new Gl;let r;try{r=new ke(n.publicKey.toBytes())}catch(s){throw new gf(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new zS(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new qn;try{const{signers:i,...o}=r;return Uo(e)?i!=null&&i.length&&e.sign(i):(e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment,await s.signAndSendTransaction(e,o)}catch(i){throw i instanceof hr?i:new Fo(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new qn;try{return await n.signTransaction(e)||e}catch(r){throw new wi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new qn;try{return await n.signAllTransactions(e)||e}catch(r){throw new wi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new qn;try{return await n.signMessage(e,"utf8")}catch(r){throw new vx(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const Bee=({children:t})=>{const e="mainnet-beta",n=I.useMemo(()=>IX(e),[e]),r=I.useMemo(()=>[new Tee,new Pee],[]);return d.jsx(RX,{endpoint:n,children:d.jsx(gee,{wallets:r,autoConnect:!0,children:d.jsx(Eee,{children:t})})})},Oee=vp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),yc=I.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,role:"alert",className:Be(Oee({variant:e}),t),...n}));yc.displayName="Alert";const Lee=I.forwardRef(({className:t,...e},n)=>d.jsx("h5",{ref:n,className:Be("mb-1 font-medium leading-none tracking-tight",t),...e}));Lee.displayName="AlertTitle";const vc=I.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Be("text-sm [&_p]:leading-relaxed",t),...e}));vc.displayName="AlertDescription";const jee=vp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),wt=I.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?TW:"button";return d.jsx(o,{className:Be(jee({variant:e,size:n,className:t})),ref:i,...s})});wt.displayName="Button";class WR extends I.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleRetry=()=>{this.setState({hasError:!1,error:void 0})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"flex items-center justify-center min-h-[200px] p-4",children:d.jsx("div",{className:"max-w-md w-full",children:d.jsx(yc,{variant:"destructive",children:d.jsx(vc,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsx("p",{className:"font-semibold",children:"Something went wrong"}),d.jsx("p",{className:"text-sm",children:((e=this.state.error)==null?void 0:e.message)||"An unexpected error occurred"}),d.jsx(wt,{onClick:this.handleRetry,variant:"outline",size:"sm",className:"w-full",children:"Try again"})]})})})})}):this.props.children}}function hB(){const[t,e]=I.useState(!1),{connected:n}=Np(),[r,s]=pp(),i=a=>r===a,o=[{href:"/",label:"Home"},{href:"/campaigns",label:"Browse"},{href:"/create-campaign",label:"Create"}];return d.jsx("header",{className:"nav-minimal sticky top-0 z-50",children:d.jsxs("nav",{className:"container-minimal",children:[d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer group",onClick:()=>s("/"),children:[d.jsx(l8,{className:"h-6 w-6 text-gray-900"}),d.jsx("span",{className:"text-xl font-semibold text-gray-900",children:"Wendex"})]}),d.jsx("div",{className:"hidden md:flex items-center space-x-2",children:o.map(a=>d.jsx("a",{href:a.href,className:`nav-link-minimal ${i(a.href)?"active":""}`,onClick:c=>{c.preventDefault(),s(a.href)},children:a.label},a.href))}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("button",{className:"hidden md:flex btn-primary",onClick:()=>s("/create-campaign"),children:[d.jsx(Hl,{className:"w-4 h-4 mr-2"}),"Launch Campaign"]}),d.jsx(lB,{className:"!bg-black !text-white hover:!bg-gray-800 !rounded-xl !font-medium !px-6 !py-2"}),d.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>e(!t),children:t?d.jsx(JA,{className:"h-6 w-6"}):d.jsx(D$,{className:"h-6 w-6"})})]})]}),t&&d.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:d.jsxs("div",{className:"flex flex-col space-y-2",children:[o.map(a=>d.jsx("a",{href:a.href,className:`block py-2 px-4 rounded-lg transition-colors ${i(a.href)?"bg-gray-100 text-gray-900":"hover:bg-gray-50"}`,onClick:c=>{c.preventDefault(),s(a.href),e(!1)},children:a.label},a.href)),d.jsxs("button",{className:"w-full mt-4 btn-primary",onClick:()=>{s("/create-campaign"),e(!1)},children:[d.jsx(Hl,{className:"w-4 h-4 mr-2 inline"}),"Launch Campaign"]})]})})]})})}function pB(t,e){return function(){return t.apply(e,arguments)}}const{toString:Fee}=Object.prototype,{getPrototypeOf:GS}=Object,{iterator:Tx,toStringTag:mB}=Symbol,Ix=(t=>e=>{const n=Fee.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ni=t=>(t=t.toLowerCase(),e=>Ix(e)===t),Rx=t=>e=>typeof e===t,{isArray:Vf}=Array,z0=Rx("undefined");function Uee(t){return t!==null&&!z0(t)&&t.constructor!==null&&!z0(t.constructor)&&bs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const gB=Ni("ArrayBuffer");function zee(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&gB(t.buffer),e}const Vee=Rx("string"),bs=Rx("function"),yB=Rx("number"),kx=t=>t!==null&&typeof t=="object",Wee=t=>t===!0||t===!1,Vg=t=>{if(Ix(t)!=="object")return!1;const e=GS(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(mB in t)&&!(Tx in t)},$ee=Ni("Date"),Hee=Ni("File"),qee=Ni("Blob"),Kee=Ni("FileList"),Gee=t=>kx(t)&&bs(t.pipe),Qee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||bs(t.append)&&((e=Ix(t))==="formdata"||e==="object"&&bs(t.toString)&&t.toString()==="[object FormData]"))},Yee=Ni("URLSearchParams"),[Xee,Zee,Jee,ete]=["ReadableStream","Request","Response","Headers"].map(Ni),tte=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dp(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Vf(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function vB(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const vl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,xB=t=>!z0(t)&&t!==vl;function i2(){const{caseless:t}=xB(this)&&this||{},e={},n=(r,s)=>{const i=t&&vB(e,s)||s;Vg(e[i])&&Vg(r)?e[i]=i2(e[i],r):Vg(r)?e[i]=i2({},r):Vf(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Dp(arguments[r],n);return e}const nte=(t,e,n,{allOwnKeys:r}={})=>(Dp(e,(s,i)=>{n&&bs(s)?t[i]=pB(s,n):t[i]=s},{allOwnKeys:r}),t),rte=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ste=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},ite=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&GS(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},ote=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},ate=t=>{if(!t)return null;if(Vf(t))return t;let e=t.length;if(!yB(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},cte=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&GS(Uint8Array)),lte=(t,e)=>{const r=(t&&t[Tx]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},ute=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},dte=Ni("HTMLFormElement"),fte=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),$R=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),hte=Ni("RegExp"),wB=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Dp(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},pte=t=>{wB(t,(e,n)=>{if(bs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(bs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},mte=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Vf(t)?r(t):r(String(t).split(e)),n},gte=()=>{},yte=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function vte(t){return!!(t&&bs(t.append)&&t[mB]==="FormData"&&t[Tx])}const xte=t=>{const e=new Array(10),n=(r,s)=>{if(kx(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Vf(r)?[]:{};return Dp(r,(o,a)=>{const c=n(o,s+1);!z0(c)&&(i[a]=c)}),e[s]=void 0,i}}return r};return n(t,0)},wte=Ni("AsyncFunction"),_te=t=>t&&(kx(t)||bs(t))&&bs(t.then)&&bs(t.catch),_B=((t,e)=>t?setImmediate:e?((n,r)=>(vl.addEventListener("message",({source:s,data:i})=>{s===vl&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),vl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",bs(vl.postMessage)),Ete=typeof queueMicrotask<"u"?queueMicrotask.bind(vl):typeof process<"u"&&process.nextTick||_B,bte=t=>t!=null&&bs(t[Tx]),se={isArray:Vf,isArrayBuffer:gB,isBuffer:Uee,isFormData:Qee,isArrayBufferView:zee,isString:Vee,isNumber:yB,isBoolean:Wee,isObject:kx,isPlainObject:Vg,isReadableStream:Xee,isRequest:Zee,isResponse:Jee,isHeaders:ete,isUndefined:z0,isDate:$ee,isFile:Hee,isBlob:qee,isRegExp:hte,isFunction:bs,isStream:Gee,isURLSearchParams:Yee,isTypedArray:cte,isFileList:Kee,forEach:Dp,merge:i2,extend:nte,trim:tte,stripBOM:rte,inherits:ste,toFlatObject:ite,kindOf:Ix,kindOfTest:Ni,endsWith:ote,toArray:ate,forEachEntry:lte,matchAll:ute,isHTMLForm:dte,hasOwnProperty:$R,hasOwnProp:$R,reduceDescriptors:wB,freezeMethods:pte,toObjectSet:mte,toCamelCase:fte,noop:gte,toFiniteNumber:yte,findKey:vB,global:vl,isContextDefined:xB,isSpecCompliantForm:vte,toJSONObject:xte,isAsyncFn:wte,isThenable:_te,setImmediate:_B,asap:Ete,isIterable:bte};function it(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}se.inherits(it,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const EB=it.prototype,bB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{bB[t]={value:t}});Object.defineProperties(it,bB);Object.defineProperty(EB,"isAxiosError",{value:!0});it.from=(t,e,n,r,s,i)=>{const o=Object.create(EB);return se.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),it.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Ate=null;function o2(t){return se.isPlainObject(t)||se.isArray(t)}function AB(t){return se.endsWith(t,"[]")?t.slice(0,-2):t}function HR(t,e,n){return t?t.concat(e).map(function(s,i){return s=AB(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function Ste(t){return se.isArray(t)&&!t.some(o2)}const Cte=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function Nx(t,e,n){if(!se.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=se.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!se.isUndefined(y[g])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(s))throw new TypeError("visitor must be a function");function l(v){if(v===null)return"";if(se.isDate(v))return v.toISOString();if(!c&&se.isBlob(v))throw new it("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(v)||se.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,g,y){let E=v;if(v&&!y&&typeof v=="object"){if(se.endsWith(g,"{}"))g=r?g:g.slice(0,-2),v=JSON.stringify(v);else if(se.isArray(v)&&Ste(v)||(se.isFileList(v)||se.endsWith(g,"[]"))&&(E=se.toArray(v)))return g=AB(g),E.forEach(function(x,b){!(se.isUndefined(x)||x===null)&&e.append(o===!0?HR([g],b,i):o===null?g:g+"[]",l(x))}),!1}return o2(v)?!0:(e.append(HR(y,g,i),l(v)),!1)}const f=[],h=Object.assign(Cte,{defaultVisitor:u,convertValue:l,isVisitable:o2});function m(v,g){if(!se.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(v),se.forEach(v,function(E,w){(!(se.isUndefined(E)||E===null)&&s.call(e,E,se.isString(w)?w.trim():w,g,h))===!0&&m(E,g?g.concat(w):[w])}),f.pop()}}if(!se.isObject(t))throw new TypeError("data must be an object");return m(t),e}function qR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function QS(t,e){this._pairs=[],t&&Nx(t,this,e)}const SB=QS.prototype;SB.append=function(e,n){this._pairs.push([e,n])};SB.toString=function(e){const n=e?function(r){return e.call(this,r,qR)}:qR;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Tte(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function CB(t,e,n){if(!e)return t;const r=n&&n.encode||Tte;se.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=se.isURLSearchParams(e)?e.toString():new QS(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class KR{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(r){r!==null&&e(r)})}}const TB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ite=typeof URLSearchParams<"u"?URLSearchParams:QS,Rte=typeof FormData<"u"?FormData:null,kte=typeof Blob<"u"?Blob:null,Nte={isBrowser:!0,classes:{URLSearchParams:Ite,FormData:Rte,Blob:kte},protocols:["http","https","file","blob","url","data"]},YS=typeof window<"u"&&typeof document<"u",a2=typeof navigator=="object"&&navigator||void 0,Mte=YS&&(!a2||["ReactNative","NativeScript","NS"].indexOf(a2.product)<0),Dte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Pte=YS&&window.location.href||"http://localhost",Bte=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:YS,hasStandardBrowserEnv:Mte,hasStandardBrowserWebWorkerEnv:Dte,navigator:a2,origin:Pte},Symbol.toStringTag,{value:"Module"})),Hr={...Bte,...Nte};function Ote(t,e){return Nx(t,new Hr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Hr.isNode&&se.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Lte(t){return se.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jte(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function IB(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=n.length;return o=!o&&se.isArray(s)?s.length:o,c?(se.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!se.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&se.isArray(s[o])&&(s[o]=jte(s[o])),!a)}if(se.isFormData(t)&&se.isFunction(t.entries)){const n={};return se.forEachEntry(t,(r,s)=>{e(Lte(r),s,n,0)}),n}return null}function Fte(t,e,n){if(se.isString(t))try{return(e||JSON.parse)(t),se.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Pp={transitional:TB,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=se.isObject(e);if(i&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return s?JSON.stringify(IB(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ote(e,this.formSerializer).toString();if((a=se.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Nx(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),Fte(e)):e}],transformResponse:[function(e){const n=this.transitional||Pp.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?it.from(a,it.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hr.classes.FormData,Blob:Hr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],t=>{Pp.headers[t]={}});const Ute=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zte=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&Ute[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},GR=Symbol("internals");function vh(t){return t&&String(t).trim().toLowerCase()}function Wg(t){return t===!1||t==null?t:se.isArray(t)?t.map(Wg):String(t)}function Vte(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Wte=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function W1(t,e,n,r,s){if(se.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!se.isString(e)){if(se.isString(r))return e.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(e)}}function $te(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Hte(t,e){const n=se.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let As=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,c,l){const u=vh(c);if(!u)throw new Error("header name must be a non-empty string");const f=se.findKey(s,u);(!f||s[f]===void 0||l===!0||l===void 0&&s[f]!==!1)&&(s[f||c]=Wg(a))}const o=(a,c)=>se.forEach(a,(l,u)=>i(l,u,c));if(se.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(se.isString(e)&&(e=e.trim())&&!Wte(e))o(zte(e),n);else if(se.isObject(e)&&se.isIterable(e)){let a={},c,l;for(const u of e){if(!se.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[l=u[0]]=(c=a[l])?se.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(a,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=vh(e),e){const r=se.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return Vte(s);if(se.isFunction(n))return n.call(this,s,r);if(se.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=vh(e),e){const r=se.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||W1(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=vh(o),o){const a=se.findKey(r,o);a&&(!n||W1(r,r[a],a,n))&&(delete r[a],s=!0)}}return se.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||W1(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return se.forEach(this,(s,i)=>{const o=se.findKey(r,i);if(o){n[o]=Wg(s),delete n[i];return}const a=e?$te(i):String(i).trim();a!==i&&delete n[i],n[a]=Wg(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return se.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&se.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[GR]=this[GR]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=vh(o);r[a]||(Hte(s,o),r[a]=!0)}return se.isArray(e)?e.forEach(i):i(e),this}};As.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(As.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});se.freezeMethods(As);function $1(t,e){const n=this||Pp,r=e||n,s=As.from(r.headers);let i=r.data;return se.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function RB(t){return!!(t&&t.__CANCEL__)}function Wf(t,e,n){it.call(this,t??"canceled",it.ERR_CANCELED,e,n),this.name="CanceledError"}se.inherits(Wf,it,{__CANCEL__:!0});function kB(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new it("Request failed with status code "+n.status,[it.ERR_BAD_REQUEST,it.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function qte(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Kte(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=r[i];o||(o=l),n[s]=c,r[s]=l;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),l-o<e)return;const m=u&&l-u;return m?Math.round(h*1e3/m):void 0}}function Gte(t,e){let n=0,r=1e3/e,s,i;const o=(l,u=Date.now())=>{n=u,s=null,i&&(clearTimeout(i),i=null),t.apply(null,l)};return[(...l)=>{const u=Date.now(),f=u-n;f>=r?o(l,u):(s=l,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const Zy=(t,e,n=3)=>{let r=0;const s=Kte(50,250);return Gte(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-r,l=s(c),u=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-o)/l:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},QR=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},YR=t=>(...e)=>se.asap(()=>t(...e)),Qte=Hr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Hr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Hr.origin),Hr.navigator&&/(msie|trident)/i.test(Hr.navigator.userAgent)):()=>!0,Yte=Hr.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];se.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),se.isString(r)&&o.push("path="+r),se.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Xte(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Zte(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function NB(t,e,n){let r=!Xte(e);return t&&(r||n==!1)?Zte(t,e):e}const XR=t=>t instanceof As?{...t}:t;function Ql(t,e){e=e||{};const n={};function r(l,u,f,h){return se.isPlainObject(l)&&se.isPlainObject(u)?se.merge.call({caseless:h},l,u):se.isPlainObject(u)?se.merge({},u):se.isArray(u)?u.slice():u}function s(l,u,f,h){if(se.isUndefined(u)){if(!se.isUndefined(l))return r(void 0,l,f,h)}else return r(l,u,f,h)}function i(l,u){if(!se.isUndefined(u))return r(void 0,u)}function o(l,u){if(se.isUndefined(u)){if(!se.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function a(l,u,f){if(f in e)return r(l,u);if(f in t)return r(void 0,l)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,u,f)=>s(XR(l),XR(u),f,!0)};return se.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=c[u]||s,h=f(t[u],e[u],u);se.isUndefined(h)&&f!==a||(n[u]=h)}),n}const MB=t=>{const e=Ql({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=As.from(o),e.url=CB(NB(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(se.isFormData(n)){if(Hr.hasStandardBrowserEnv||Hr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[l,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...u].join("; "))}}if(Hr.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(e)),r||r!==!1&&Qte(e.url))){const l=s&&i&&Yte.read(i);l&&o.set(s,l)}return e},Jte=typeof XMLHttpRequest<"u",ene=Jte&&function(t){return new Promise(function(n,r){const s=MB(t);let i=s.data;const o=As.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:l}=s,u,f,h,m,v;function g(){m&&m(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function E(){if(!y)return;const x=As.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:t,request:y};kB(function(T){n(T),g()},function(T){r(T),g()},D),y=null}"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(E)},y.onabort=function(){y&&(r(new it("Request aborted",it.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new it("Network Error",it.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const D=s.transitional||TB;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),r(new it(b,D.clarifyTimeoutError?it.ETIMEDOUT:it.ECONNABORTED,t,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&se.forEach(o.toJSON(),function(b,D){y.setRequestHeader(D,b)}),se.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),l&&([h,v]=Zy(l,!0),y.addEventListener("progress",h)),c&&y.upload&&([f,m]=Zy(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(u=x=>{y&&(r(!x||x.type?new Wf(null,t,y):x),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const w=qte(s.url);if(w&&Hr.protocols.indexOf(w)===-1){r(new it("Unsupported protocol "+w+":",it.ERR_BAD_REQUEST,t));return}y.send(i||null)})},tne=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(l){if(!s){s=!0,a();const u=l instanceof Error?l:this.reason;r.abort(u instanceof it?u:new Wf(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new it(`timeout ${e} of ms exceeded`,it.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),t=null)};t.forEach(l=>l.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>se.asap(a),c}},nne=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},rne=async function*(t,e){for await(const n of sne(t))yield*nne(n,e)},sne=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},ZR=(t,e,n,r)=>{const s=rne(t,e);let i=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await s.next();if(l){a(),c.close();return}let f=u.byteLength;if(n){let h=i+=f;n(h)}c.enqueue(new Uint8Array(u))}catch(l){throw a(l),l}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},Mx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",DB=Mx&&typeof ReadableStream=="function",ine=Mx&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),PB=(t,...e)=>{try{return!!t(...e)}catch{return!1}},one=DB&&PB(()=>{let t=!1;const e=new Request(Hr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),JR=64*1024,c2=DB&&PB(()=>se.isReadableStream(new Response("").body)),Jy={stream:c2&&(t=>t.body)};Mx&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Jy[e]&&(Jy[e]=se.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new it(`Response type '${e}' is not supported`,it.ERR_NOT_SUPPORT,r)})})})(new Response);const ane=async t=>{if(t==null)return 0;if(se.isBlob(t))return t.size;if(se.isSpecCompliantForm(t))return(await new Request(Hr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(se.isArrayBufferView(t)||se.isArrayBuffer(t))return t.byteLength;if(se.isURLSearchParams(t)&&(t=t+""),se.isString(t))return(await ine(t)).byteLength},cne=async(t,e)=>{const n=se.toFiniteNumber(t.getContentLength());return n??ane(e)},lne=Mx&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:f="same-origin",fetchOptions:h}=MB(t);l=l?(l+"").toLowerCase():"text";let m=tne([s,i&&i.toAbortSignal()],o),v;const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let y;try{if(c&&one&&n!=="get"&&n!=="head"&&(y=await cne(u,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),L;if(se.isFormData(r)&&(L=D.headers.get("content-type"))&&u.setContentType(L),D.body){const[T,R]=QR(y,Zy(YR(c)));r=ZR(D.body,JR,T,R)}}se.isString(f)||(f=f?"include":"omit");const E="credentials"in Request.prototype;v=new Request(e,{...h,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:E?f:void 0});let w=await fetch(v);const x=c2&&(l==="stream"||l==="response");if(c2&&(a||x&&g)){const D={};["status","statusText","headers"].forEach(F=>{D[F]=w[F]});const L=se.toFiniteNumber(w.headers.get("content-length")),[T,R]=a&&QR(L,Zy(YR(a),!0))||[];w=new Response(ZR(w.body,JR,T,()=>{R&&R(),g&&g()}),D)}l=l||"text";let b=await Jy[se.findKey(Jy,l)||"text"](w,t);return!x&&g&&g(),await new Promise((D,L)=>{kB(D,L,{data:b,headers:As.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:v})})}catch(E){throw g&&g(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new it("Network Error",it.ERR_NETWORK,t,v),{cause:E.cause||E}):it.from(E,E&&E.code,t,v)}}),l2={http:Ate,xhr:ene,fetch:lne};se.forEach(l2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ek=t=>`- ${t}`,une=t=>se.isFunction(t)||t===null||t===!1,BB={getAdapter:t=>{t=se.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!une(n)&&(r=l2[(o=String(n)).toLowerCase()],r===void 0))throw new it(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(ek).join(`
`):" "+ek(i[0]):"as no adapter specified";throw new it("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:l2};function H1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wf(null,t)}function tk(t){return H1(t),t.headers=As.from(t.headers),t.data=$1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),BB.getAdapter(t.adapter||Pp.adapter)(t).then(function(r){return H1(t),r.data=$1.call(t,t.transformResponse,r),r.headers=As.from(r.headers),r},function(r){return RB(r)||(H1(t),r&&r.response&&(r.response.data=$1.call(t,t.transformResponse,r.response),r.response.headers=As.from(r.response.headers))),Promise.reject(r)})}const OB="1.9.0",Dx={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Dx[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const nk={};Dx.transitional=function(e,n,r){function s(i,o){return"[Axios v"+OB+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new it(s(o," has been removed"+(n?" in "+n:"")),it.ERR_DEPRECATED);return n&&!nk[o]&&(nk[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};Dx.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function dne(t,e,n){if(typeof t!="object")throw new it("options must be an object",it.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],c=a===void 0||o(a,i,t);if(c!==!0)throw new it("option "+i+" must be "+c,it.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new it("Unknown option "+i,it.ERR_BAD_OPTION)}}const $g={assertOptions:dne,validators:Dx},Li=$g.validators;let Dl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new KR,response:new KR}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ql(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&$g.assertOptions(r,{silentJSONParsing:Li.transitional(Li.boolean),forcedJSONParsing:Li.transitional(Li.boolean),clarifyTimeoutError:Li.transitional(Li.boolean)},!1),s!=null&&(se.isFunction(s)?n.paramsSerializer={serialize:s}:$g.assertOptions(s,{encode:Li.function,serialize:Li.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),$g.assertOptions(n,{baseUrl:Li.spelling("baseURL"),withXsrfToken:Li.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&se.merge(i.common,i[n.method]);i&&se.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=As.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const l=[];this.interceptors.response.forEach(function(g){l.push(g.fulfilled,g.rejected)});let u,f=0,h;if(!c){const v=[tk.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,l),h=v.length,u=Promise.resolve(n);f<h;)u=u.then(v[f++],v[f++]);return u}h=a.length;let m=n;for(f=0;f<h;){const v=a[f++],g=a[f++];try{m=v(m)}catch(y){g.call(this,y);break}}try{u=tk.call(this,m)}catch(v){return Promise.reject(v)}for(f=0,h=l.length;f<h;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=Ql(this.defaults,e);const n=NB(e.baseURL,e.url,e.allowAbsoluteUrls);return CB(n,e.params,e.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(e){Dl.prototype[e]=function(n,r){return this.request(Ql(r||{},{method:e,url:n,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(Ql(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Dl.prototype[e]=n(),Dl.prototype[e+"Form"]=n(!0)});let fne=class LB{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Wf(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new LB(function(s){e=s}),cancel:e}}};function hne(t){return function(n){return t.apply(null,n)}}function pne(t){return se.isObject(t)&&t.isAxiosError===!0}const u2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(u2).forEach(([t,e])=>{u2[e]=t});function jB(t){const e=new Dl(t),n=pB(Dl.prototype.request,e);return se.extend(n,Dl.prototype,e,{allOwnKeys:!0}),se.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return jB(Ql(t,s))},n}const pt=jB(Pp);pt.Axios=Dl;pt.CanceledError=Wf;pt.CancelToken=fne;pt.isCancel=RB;pt.VERSION=OB;pt.toFormData=Nx;pt.AxiosError=it;pt.Cancel=pt.CanceledError;pt.all=function(e){return Promise.all(e)};pt.spread=hne;pt.isAxiosError=pne;pt.mergeConfig=Ql;pt.AxiosHeaders=As;pt.formToJSON=t=>IB(se.isHTMLForm(t)?new FormData(t):t);pt.getAdapter=BB.getAdapter;pt.HttpStatusCode=u2;pt.default=pt;const{Axios:nme,AxiosError:rme,CanceledError:sme,isCancel:ime,CancelToken:ome,VERSION:ame,all:cme,Cancel:lme,isAxiosError:ume,spread:dme,toFormData:fme,AxiosHeaders:hme,HttpStatusCode:pme,formToJSON:mme,getAdapter:gme,mergeConfig:yme}=pt,mne="/api",xh=pt.create({baseURL:mne,headers:{"Content-Type":"application/json"}}),q1=t=>({...t,tokenMetadata:{name:t.tokenName||"Unknown Token",symbol:t.tokenSymbol||"UNKNOWN",description:t.description||"",image:t.tokenLogoUrl||"",verified:!1},logoUrl:t.tokenLogoUrl||"/placeholder-token.png",bannerUrl:t.bannerUrl||"/placeholder-banner.jpg",contractAddress:t.tokenAddress,contributorCount:t.contributorCount||0,socialLinks:t.socialLinks||{},postFundingAction:t.postFundingAction||{type:"none"},createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt),deadline:new Date(t.deadline)}),V0={create:async t=>{const e=await xh.post("/campaigns",t);return e.data.success&&e.data.campaign&&(e.data.campaign=q1(e.data.campaign)),e.data},list:async t=>{const e=await xh.get("/campaigns",{params:t});return e.data.success&&e.data.campaigns&&(e.data.campaigns=e.data.campaigns.map(q1)),e.data},get:async t=>{const e=await xh.get(`/campaigns/${t}`);return e.data.success&&e.data.campaign&&(e.data.campaign=q1(e.data.campaign)),e.data},getContributions:async t=>(await xh.get(`/campaigns/${t}/contributions`)).data,contribute:async(t,e)=>(await xh.post(`/campaigns/${t}/contribute`,e)).data};function gne(){var i,o;const[,t]=pp(),{data:e}=No({queryKey:["campaigns-stats"],queryFn:()=>V0.list({status:"active"})}),n=((i=e==null?void 0:e.campaigns)==null?void 0:i.length)||127,r=((o=e==null?void 0:e.campaigns)==null?void 0:o.reduce((a,c)=>a+c.currentAmount,0))||89400,s=[{label:"Active Campaigns",value:n.toString(),icon:tx},{label:"Total Raised",value:`$${(r/1e3).toFixed(1)}K`,icon:ZA},{label:"Contributors",value:"3,421",icon:wp}];return d.jsx("section",{className:"section-minimal bg-white",children:d.jsx("div",{className:"container-minimal",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-gray-100 text-gray-600 text-sm font-medium",children:[d.jsx(Hl,{className:"w-4 h-4 mr-2"}),"Community Crowdfunding Platform"]}),d.jsxs("h1",{className:"heading-1",children:["Fund Your Token's",d.jsx("span",{className:"block text-gray-900",children:"DexScreener Success"})]}),d.jsx("p",{className:"text-lg text-secondary leading-relaxed",children:"Join the decentralized crowdfunding platform that helps Solana tokens get Enhanced Info, advertising, and boosts on DexScreener through community support."})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("button",{className:"btn-primary",onClick:()=>t("/campaigns"),children:["Browse Campaigns",d.jsx(n8,{className:"ml-2 h-5 w-5 inline transition-transform group-hover:translate-x-1"})]}),d.jsx("button",{className:"btn-secondary",onClick:()=>t("/create-campaign"),children:"Start a Campaign"})]}),d.jsx("div",{className:"grid grid-cols-3 gap-6 pt-8 border-t border-gray-200",children:s.map(a=>d.jsxs("div",{className:"stat-minimal",children:[d.jsx("div",{className:"stat-minimal-value",children:a.value}),d.jsx("div",{className:"stat-minimal-label",children:a.label})]},a.label))})]}),d.jsx("div",{className:"relative lg:ml-12",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute -top-4 -left-4 clean-card p-4 hover-lift",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center",children:d.jsx(xp,{className:"w-5 h-5 text-gray-700"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Enhanced Info"}),d.jsx("p",{className:"text-xs text-gray-500",children:"$299 Target"})]})]})}),d.jsx("div",{className:"absolute -bottom-4 -right-4 clean-card p-4 hover-lift",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center",children:d.jsx(r8,{className:"w-5 h-5 text-gray-700"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Token Boosted"}),d.jsx("p",{className:"text-xs text-gray-500",children:"+450% Visibility"})]})]})}),d.jsx("div",{className:"clean-card p-8",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"heading-3",children:"BONK Campaign"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Enhanced Token Info"})]}),d.jsx("div",{className:"badge-minimal badge-active",children:"Active"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Progress"}),d.jsx("span",{className:"font-semibold text-gray-900",children:"$247 / $299"})]}),d.jsx("div",{className:"progress-minimal",children:d.jsx("div",{className:"progress-minimal-bar",style:{width:"82%"}})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"143"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Contributors"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"4d"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Time Left"})]})]}),d.jsx("button",{className:"w-full btn-primary",children:"View Campaign"})]})})]})})]})})})}const yne=[{icon:tx,title:"Enhanced Token Info",description:"Get your token verified with enhanced information on DexScreener for increased visibility and trust.",gradient:"from-purple-500 to-indigo-600"},{icon:Hl,title:"Token Boosts",description:"Boost your token's ranking on DexScreener to reach more traders and increase exposure.",gradient:"from-yellow-500 to-orange-600"},{icon:xp,title:"Secure Escrow",description:"All funds are held in secure escrow wallets until campaign goals are met, ensuring transparency.",gradient:"from-green-500 to-emerald-600"},{icon:wp,title:"Community Powered",description:"Rally your community to crowdfund DexScreener services together, making premium features accessible.",gradient:"from-blue-500 to-cyan-600"},{icon:_$,title:"Real-time Tracking",description:"Monitor campaign progress in real-time with transparent contribution tracking and updates.",gradient:"from-pink-500 to-rose-600"},{icon:l8,title:"Instant Activation",description:"Services are automatically purchased and activated once funding goals are reached.",gradient:"from-indigo-500 to-purple-600"}];function vne(){return d.jsx("section",{className:"section-minimal bg-white",children:d.jsxs("div",{className:"container-minimal",children:[d.jsxs("div",{className:"text-center space-y-4 mb-16",children:[d.jsxs("h2",{className:"heading-2",children:["Everything You Need to",d.jsx("span",{className:"block",children:"Boost Your Token"})]}),d.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Leverage the power of community crowdfunding to unlock premium DexScreener features for your token"})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:yne.map((t,e)=>{const n=t.icon;return d.jsx("div",{className:"feature-minimal",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:d.jsx(n,{className:"w-6 h-6 text-gray-700"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t.title}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]})},e)})})]})})}function xne(){const t=()=>{console.log("Get started clicked")},e=()=>{console.log("Learn more clicked")};return d.jsx("section",{className:"py-20 bg-gradient-crypto",children:d.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:d.jsxs("div",{className:"space-y-8",children:[d.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white",children:"Ready to Transform DeFi Funding?"}),d.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:"Join thousands of innovators and investors building the future of decentralized finance through our crowdfunding platform."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsxs(wt,{onClick:t,size:"lg",className:"bg-white text-indigo-600 hover:bg-gray-100 shadow-lg transition-all duration-200",children:[d.jsx(n8,{className:"mr-2",size:18}),"Get Started Today"]}),d.jsxs(wt,{onClick:e,variant:"outline",size:"lg",className:"border-2 border-white text-white hover:bg-white hover:text-indigo-600 transition-all duration-200",children:[d.jsx(w$,{className:"mr-2",size:18}),"Learn More"]})]})]})})})}var FB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rk=fe.createContext&&fe.createContext(FB),wne=["attr","size","title"];function _ne(t,e){if(t==null)return{};var n=Ene(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ene(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bne(t,e,n){return e=Ane(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ane(t){var e=Sne(t,"string");return typeof e=="symbol"?e:e+""}function Sne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UB(t){return t&&t.map((e,n)=>fe.createElement(e.tag,tv({key:n},e.attr),UB(e.child)))}function Px(t){return e=>fe.createElement(Cne,ev({attr:tv({},t.attr)},e),UB(t.child))}function Cne(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=_ne(t,wne),a=s||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),fe.createElement("svg",ev({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:tv(tv({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&fe.createElement("title",null,i),t.children)};return rk!==void 0?fe.createElement(rk.Consumer,null,n=>e(n)):e(FB)}function Tne(t){return Px({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(t)}function Ine(t){return Px({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function Rne(t){return Px({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(t)}function kne(t){return Px({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function zB(){return d.jsx("footer",{className:"bg-gray-800 text-white py-16",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-crypto rounded-lg flex items-center justify-center",children:d.jsx(s8,{className:"text-white text-sm",size:16})}),d.jsx("span",{className:"text-xl font-bold",children:"Wendex"})]}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"The leading DexScreener-integrated crowdfunding platform for innovative DeFi projects and their supporters."}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(kne,{size:20})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Tne,{size:20})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Rne,{size:20})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Ine,{size:20})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Platform"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Browse Projects"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Submit Project"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Analytics"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Governance"})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Resources"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Documentation"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"API Reference"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Smart Contracts"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Security"})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Company"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"About Us"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Careers"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Press Kit"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})})]})]})]}),d.jsxs("div",{className:"border-t border-gray-700 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[d.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 Wendex. All rights reserved."}),d.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookie Policy"})]})]})]})})}function Nne(){return d.jsxs("div",{className:"min-h-screen bg-white",children:[d.jsx(hB,{}),d.jsx(gne,{}),d.jsx(vne,{}),d.jsx(xne,{}),d.jsx(zB,{})]})}const Bt=I.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Be("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Bt.displayName="Card";const gn=I.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Be("flex flex-col space-y-1.5 p-6",t),...e}));gn.displayName="CardHeader";const yn=I.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Be("text-2xl font-semibold leading-none tracking-tight",t),...e}));yn.displayName="CardTitle";const rc=I.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Be("text-sm text-muted-foreground",t),...e}));rc.displayName="CardDescription";const Ot=I.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Be("p-6 pt-0",t),...e}));Ot.displayName="CardContent";const Mne=I.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Be("flex items-center p-6 pt-0",t),...e}));Mne.displayName="CardFooter";function Dne(){return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:d.jsx(Bt,{className:"w-full max-w-md mx-4",children:d.jsxs(Ot,{className:"pt-6",children:[d.jsxs("div",{className:"flex mb-4 gap-2",children:[d.jsx(_g,{className:"h-8 w-8 text-red-500"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),d.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Pne=vp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Wr({className:t,variant:e,...n}){return d.jsx("div",{className:Be(Pne({variant:e}),t),...n})}var XS="Progress",ZS=100,[Bne,vme]=Ws(XS),[One,Lne]=Bne(XS),VB=I.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=jne,...o}=t;(s||s===0)&&!ik(s)&&console.error(Fne(`${s}`,"Progress"));const a=ik(s)?s:ZS;r!==null&&!ok(r,a)&&console.error(Une(`${r}`,"Progress"));const c=ok(r,a)?r:null,l=nv(c)?i(c,a):void 0;return d.jsx(One,{scope:n,value:c,max:a,children:d.jsx(Ve.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":nv(c)?c:void 0,"aria-valuetext":l,role:"progressbar","data-state":HB(c,a),"data-value":c??void 0,"data-max":a,...o,ref:e})})});VB.displayName=XS;var WB="ProgressIndicator",$B=I.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Lne(WB,n);return d.jsx(Ve.div,{"data-state":HB(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});$B.displayName=WB;function jne(t,e){return`${Math.round(t/e*100)}%`}function HB(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function nv(t){return typeof t=="number"}function ik(t){return nv(t)&&!isNaN(t)&&t>0}function ok(t,e){return nv(t)&&!isNaN(t)&&t<=e&&t>=0}function Fne(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ZS}\`.`}function Une(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ZS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qB=VB,zne=$B;const Pl=I.forwardRef(({className:t,value:e,...n},r)=>d.jsx(qB,{ref:r,className:Be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:d.jsx(zne,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Pl.displayName=qB.displayName;function Vne(){return iP.useSyncExternalStore(Wne,()=>!0,()=>!1)}function Wne(){return()=>{}}var JS="Avatar",[$ne,xme]=Ws(JS),[Hne,KB]=$ne(JS),GB=I.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=I.useState("idle");return d.jsx(Hne,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:d.jsx(Ve.span,{...r,ref:e})})});GB.displayName=JS;var QB="AvatarImage",YB=I.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=KB(QB,n),a=qne(r,i),c=os(l=>{s(l),o.onImageLoadingStatusChange(l)});return tr(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?d.jsx(Ve.img,{...i,ref:e,src:r}):null});YB.displayName=QB;var XB="AvatarFallback",ZB=I.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=KB(XB,n),[o,a]=I.useState(r===void 0);return I.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?d.jsx(Ve.span,{...s,ref:e}):null});ZB.displayName=XB;function ak(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qne(t,{referrerPolicy:e,crossOrigin:n}){const r=Vne(),s=I.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=I.useState(()=>ak(i,t));return tr(()=>{a(ak(i,t))},[i,t]),tr(()=>{const c=f=>()=>{a(f)};if(!i)return;const l=c("loaded"),u=c("error");return i.addEventListener("load",l),i.addEventListener("error",u),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",l),i.removeEventListener("error",u)}},[i,n,e]),o}var JB=GB,eO=YB,tO=ZB;const nO=I.forwardRef(({className:t,...e},n)=>d.jsx(JB,{ref:n,className:Be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));nO.displayName=JB.displayName;const rO=I.forwardRef(({className:t,...e},n)=>d.jsx(eO,{ref:n,className:Be("aspect-square h-full w-full",t),...e}));rO.displayName=eO.displayName;const sO=I.forwardRef(({className:t,...e},n)=>d.jsx(tO,{ref:n,className:Be("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));sO.displayName=tO.displayName;var Kne=I.createContext(void 0);function Bx(t){const e=I.useContext(Kne);return t||e||"ltr"}var K1=0;function eC(){I.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ck()),document.body.insertAdjacentElement("beforeend",t[1]??ck()),K1++,()=>{K1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),K1--}},[])}function ck(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var G1="focusScope.autoFocusOnMount",Q1="focusScope.autoFocusOnUnmount",lk={bubbles:!1,cancelable:!0},Gne="FocusScope",Ox=I.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=I.useState(null),l=os(s),u=os(i),f=I.useRef(null),h=It(e,g=>c(g)),m=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(r){let g=function(x){if(m.paused||!a)return;const b=x.target;a.contains(b)?f.current=b:Ra(f.current,{select:!0})},y=function(x){if(m.paused||!a)return;const b=x.relatedTarget;b!==null&&(a.contains(b)||Ra(f.current,{select:!0}))},E=function(x){if(document.activeElement===document.body)for(const D of x)D.removedNodes.length>0&&Ra(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const w=new MutationObserver(E);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),w.disconnect()}}},[r,a,m.paused]),I.useEffect(()=>{if(a){dk.add(m);const g=document.activeElement;if(!a.contains(g)){const E=new CustomEvent(G1,lk);a.addEventListener(G1,l),a.dispatchEvent(E),E.defaultPrevented||(Qne(ere(iO(a)),{select:!0}),document.activeElement===g&&Ra(a))}return()=>{a.removeEventListener(G1,l),setTimeout(()=>{const E=new CustomEvent(Q1,lk);a.addEventListener(Q1,u),a.dispatchEvent(E),E.defaultPrevented||Ra(g??document.body,{select:!0}),a.removeEventListener(Q1,u),dk.remove(m)},0)}}},[a,l,u,m]);const v=I.useCallback(g=>{if(!n&&!r||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,E=document.activeElement;if(y&&E){const w=g.currentTarget,[x,b]=Yne(w);x&&b?!g.shiftKey&&E===b?(g.preventDefault(),n&&Ra(x,{select:!0})):g.shiftKey&&E===x&&(g.preventDefault(),n&&Ra(b,{select:!0})):E===w&&g.preventDefault()}},[n,r,m.paused]);return d.jsx(Ve.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Ox.displayName=Gne;function Qne(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ra(r,{select:e}),document.activeElement!==n)return}function Yne(t){const e=iO(t),n=uk(e,t),r=uk(e.reverse(),t);return[n,r]}function iO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function uk(t,e){for(const n of t)if(!Xne(n,{upTo:e}))return n}function Xne(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Zne(t){return t instanceof HTMLInputElement&&"select"in t}function Ra(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Zne(t)&&e&&t.select()}}var dk=Jne();function Jne(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=fk(t,e),t.unshift(e)},remove(e){var n;t=fk(t,e),(n=t[0])==null||n.resume()}}}function fk(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ere(t){return t.filter(e=>e.tagName!=="A")}var Y1="rovingFocusGroup.onEntryFocus",tre={bubbles:!1,cancelable:!0},Bp="RovingFocusGroup",[d2,oO,nre]=Zv(Bp),[rre,Lx]=Ws(Bp,[nre]),[sre,ire]=rre(Bp),aO=I.forwardRef((t,e)=>d.jsx(d2.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(d2.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(ore,{...t,ref:e})})}));aO.displayName=Bp;var ore=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...f}=t,h=I.useRef(null),m=It(e,h),v=Bx(i),[g,y]=Ac({prop:o,defaultProp:a??null,onChange:c,caller:Bp}),[E,w]=I.useState(!1),x=os(l),b=oO(n),D=I.useRef(!1),[L,T]=I.useState(0);return I.useEffect(()=>{const R=h.current;if(R)return R.addEventListener(Y1,x),()=>R.removeEventListener(Y1,x)},[x]),d.jsx(sre,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:g,onItemFocus:I.useCallback(R=>y(R),[y]),onItemShiftTab:I.useCallback(()=>w(!0),[]),onFocusableItemAdd:I.useCallback(()=>T(R=>R+1),[]),onFocusableItemRemove:I.useCallback(()=>T(R=>R-1),[]),children:d.jsx(Ve.div,{tabIndex:E||L===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Ae(t.onMouseDown,()=>{D.current=!0}),onFocus:Ae(t.onFocus,R=>{const F=!D.current;if(R.target===R.currentTarget&&F&&!E){const P=new CustomEvent(Y1,tre);if(R.currentTarget.dispatchEvent(P),!P.defaultPrevented){const U=b().filter(O=>O.focusable),W=U.find(O=>O.active),S=U.find(O=>O.id===g),C=[W,S,...U].filter(Boolean).map(O=>O.ref.current);uO(C,u)}}D.current=!1}),onBlur:Ae(t.onBlur,()=>w(!1))})})}),cO="RovingFocusGroupItem",lO=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,c=Yi(),l=i||c,u=ire(cO,n),f=u.currentTabStopId===l,h=oO(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:g}=u;return I.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),d.jsx(d2.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:d.jsx(Ve.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Ae(t.onMouseDown,y=>{r?u.onItemFocus(l):y.preventDefault()}),onFocus:Ae(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:Ae(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const E=lre(y,u.orientation,u.dir);if(E!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=h().filter(b=>b.focusable).map(b=>b.ref.current);if(E==="last")x.reverse();else if(E==="prev"||E==="next"){E==="prev"&&x.reverse();const b=x.indexOf(y.currentTarget);x=u.loop?ure(x,b+1):x.slice(b+1)}setTimeout(()=>uO(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});lO.displayName=cO;var are={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cre(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function lre(t,e,n){const r=cre(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return are[r]}function uO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function ure(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var dO=aO,fO=lO,dre=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Uu=new WeakMap,Gm=new WeakMap,Qm={},X1=0,hO=function(t){return t&&(t.host||hO(t.parentNode))},fre=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=hO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hre=function(t,e,n,r){var s=fre(e,Array.isArray(t)?t:[t]);Qm[n]||(Qm[n]=new WeakMap);var i=Qm[n],o=[],a=new Set,c=new Set(s),l=function(f){!f||a.has(f)||(a.add(f),l(f.parentNode))};s.forEach(l);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))u(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",g=(Uu.get(h)||0)+1,y=(i.get(h)||0)+1;Uu.set(h,g),i.set(h,y),o.push(h),g===1&&v&&Gm.set(h,!0),y===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",h,E)}})};return u(e),a.clear(),X1++,function(){o.forEach(function(f){var h=Uu.get(f)-1,m=i.get(f)-1;Uu.set(f,h),i.set(f,m),h||(Gm.has(f)||f.removeAttribute(r),Gm.delete(f)),m||f.removeAttribute(n)}),X1--,X1||(Uu=new WeakMap,Uu=new WeakMap,Gm=new WeakMap,Qm={})}},tC=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=dre(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),hre(r,s,n,"aria-hidden")):function(){return null}},qi=function(){return qi=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qi.apply(this,arguments)};function Op(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function pre(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Hg="right-scroll-bar-position",qg="width-before-scroll-bar",mre="with-scroll-bars-hidden",gre="--removed-body-scroll-bar-size";function Z1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function yre(t,e){var n=I.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var vre=typeof window<"u"?I.useLayoutEffect:I.useEffect,hk=new WeakMap;function xre(t,e){var n=yre(null,function(r){return t.forEach(function(s){return Z1(s,r)})});return vre(function(){var r=hk.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Z1(a,null)}),i.forEach(function(a){s.has(a)||Z1(a,o)})}hk.set(n,t)},[t]),n}function wre(t){return t}function _re(t,e){e===void 0&&(e=wre);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),n}}}};return s}function Ere(t){t===void 0&&(t={});var e=_re(null);return e.options=qi({async:!0,ssr:!1},t),e}var pO=function(t){var e=t.sideCar,n=Op(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return I.createElement(r,qi({},n))};pO.isSideCarExport=!0;function bre(t,e){return t.useMedium(e),pO}var mO=Ere(),J1=function(){},jx=I.forwardRef(function(t,e){var n=I.useRef(null),r=I.useState({onScrollCapture:J1,onWheelCapture:J1,onTouchMoveCapture:J1}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,l=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,m=t.noRelative,v=t.noIsolation,g=t.inert,y=t.allowPinchZoom,E=t.as,w=E===void 0?"div":E,x=t.gapMode,b=Op(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=h,L=xre([n,e]),T=qi(qi({},b),s);return I.createElement(I.Fragment,null,u&&I.createElement(D,{sideCar:mO,removeScrollBar:l,shards:f,noRelative:m,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:x}),o?I.cloneElement(I.Children.only(a),qi(qi({},T),{ref:L})):I.createElement(w,qi({},T,{className:c,ref:L}),a))});jx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jx.classNames={fullWidth:qg,zeroRight:Hg};var Are=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Sre(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Are();return e&&t.setAttribute("nonce",e),t}function Cre(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Tre(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Ire=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Sre())&&(Cre(e,n),Tre(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Rre=function(){var t=Ire();return function(e,n){I.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},gO=function(){var t=Rre(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},kre={left:0,top:0,right:0,gap:0},e_=function(t){return parseInt(t||"",10)||0},Nre=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[e_(n),e_(r),e_(s)]},Mre=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return kre;var e=Nre(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Dre=gO(),Dd="data-scroll-locked",Pre=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(mre,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Dd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Hg," .").concat(Hg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(qg," .").concat(qg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Dd,`] {
    `).concat(gre,": ").concat(a,`px;
  }
`)},pk=function(){var t=parseInt(document.body.getAttribute(Dd)||"0",10);return isFinite(t)?t:0},Bre=function(){I.useEffect(function(){return document.body.setAttribute(Dd,(pk()+1).toString()),function(){var t=pk()-1;t<=0?document.body.removeAttribute(Dd):document.body.setAttribute(Dd,t.toString())}},[])},Ore=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Bre();var i=I.useMemo(function(){return Mre(s)},[s]);return I.createElement(Dre,{styles:Pre(i,!e,s,n?"":"!important")})},f2=!1;if(typeof window<"u")try{var Ym=Object.defineProperty({},"passive",{get:function(){return f2=!0,!0}});window.addEventListener("test",Ym,Ym),window.removeEventListener("test",Ym,Ym)}catch{f2=!1}var zu=f2?{passive:!1}:!1,Lre=function(t){return t.tagName==="TEXTAREA"},yO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Lre(t)&&n[e]==="visible")},jre=function(t){return yO(t,"overflowY")},Fre=function(t){return yO(t,"overflowX")},mk=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=vO(t,r);if(s){var i=xO(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ure=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},zre=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},vO=function(t,e){return t==="v"?jre(e):Fre(e)},xO=function(t,e){return t==="v"?Ure(e):zre(e)},Vre=function(t,e){return t==="h"&&e==="rtl"?-1:1},Wre=function(t,e,n,r,s){var i=Vre(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),l=!1,u=o>0,f=0,h=0;do{var m=xO(t,a),v=m[0],g=m[1],y=m[2],E=g-y-i*v;(v||E)&&vO(t,a)&&(f+=E,h+=v),a=a.parentNode.host||a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(u&&Math.abs(f)<1||!u&&Math.abs(h)<1)&&(l=!0),l},Xm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gk=function(t){return[t.deltaX,t.deltaY]},yk=function(t){return t&&"current"in t?t.current:t},$re=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Hre=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qre=0,Vu=[];function Kre(t){var e=I.useRef([]),n=I.useRef([0,0]),r=I.useRef(),s=I.useState(qre++)[0],i=I.useState(gO)[0],o=I.useRef(t);I.useEffect(function(){o.current=t},[t]),I.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=pre([t.lockRef.current],(t.shards||[]).map(yk),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=I.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var E=Xm(g),w=n.current,x="deltaX"in g?g.deltaX:w[0]-E[0],b="deltaY"in g?g.deltaY:w[1]-E[1],D,L=g.target,T=Math.abs(x)>Math.abs(b)?"h":"v";if("touches"in g&&T==="h"&&L.type==="range")return!1;var R=mk(T,L);if(!R)return!0;if(R?D=T:(D=T==="v"?"h":"v",R=mk(T,L)),!R)return!1;if(!r.current&&"changedTouches"in g&&(x||b)&&(r.current=D),!D)return!0;var F=r.current||D;return Wre(F,y,g,F==="h"?x:b)},[]),c=I.useCallback(function(g){var y=g;if(!(!Vu.length||Vu[Vu.length-1]!==i)){var E="deltaY"in y?gk(y):Xm(y),w=e.current.filter(function(D){return D.name===y.type&&(D.target===y.target||y.target===D.shadowParent)&&$re(D.delta,E)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var x=(o.current.shards||[]).map(yk).filter(Boolean).filter(function(D){return D.contains(y.target)}),b=x.length>0?a(y,x[0]):!o.current.noIsolation;b&&y.cancelable&&y.preventDefault()}}},[]),l=I.useCallback(function(g,y,E,w){var x={name:g,delta:y,target:E,should:w,shadowParent:Gre(E)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(b){return b!==x})},1)},[]),u=I.useCallback(function(g){n.current=Xm(g),r.current=void 0},[]),f=I.useCallback(function(g){l(g.type,gk(g),g.target,a(g,t.lockRef.current))},[]),h=I.useCallback(function(g){l(g.type,Xm(g),g.target,a(g,t.lockRef.current))},[]);I.useEffect(function(){return Vu.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,zu),document.addEventListener("touchmove",c,zu),document.addEventListener("touchstart",u,zu),function(){Vu=Vu.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,zu),document.removeEventListener("touchmove",c,zu),document.removeEventListener("touchstart",u,zu)}},[]);var m=t.removeScrollBar,v=t.inert;return I.createElement(I.Fragment,null,v?I.createElement(i,{styles:Hre(s)}):null,m?I.createElement(Ore,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Gre(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Qre=bre(mO,Kre);var Fx=I.forwardRef(function(t,e){return I.createElement(jx,qi({},t,{ref:e,sideCar:Qre}))});Fx.classNames=jx.classNames;var h2=["Enter"," "],Yre=["ArrowDown","PageUp","Home"],wO=["ArrowUp","PageDown","End"],Xre=[...Yre,...wO],Zre={ltr:[...h2,"ArrowRight"],rtl:[...h2,"ArrowLeft"]},Jre={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lp="Menu",[W0,ese,tse]=Zv(Lp),[du,_O]=Ws(Lp,[tse,Lf,Lx]),Ux=Lf(),EO=Lx(),[nse,fu]=du(Lp),[rse,jp]=du(Lp),bO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Ux(e),[c,l]=I.useState(null),u=I.useRef(!1),f=os(i),h=Bx(s);return I.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),d.jsx(W8,{...a,children:d.jsx(nse,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:l,children:d.jsx(rse,{scope:e,onClose:I.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:o,children:r})})})};bO.displayName=Lp;var sse="MenuAnchor",nC=I.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Ux(n);return d.jsx(uS,{...s,...r,ref:e})});nC.displayName=sse;var rC="MenuPortal",[ise,AO]=du(rC,{forceMount:void 0}),SO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=fu(rC,e);return d.jsx(ise,{scope:e,forceMount:n,children:d.jsx(ki,{present:n||i.open,children:d.jsx(gp,{asChild:!0,container:s,children:r})})})};SO.displayName=rC;var ei="MenuContent",[ose,sC]=du(ei),CO=I.forwardRef((t,e)=>{const n=AO(ei,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=fu(ei,t.__scopeMenu),o=jp(ei,t.__scopeMenu);return d.jsx(W0.Provider,{scope:t.__scopeMenu,children:d.jsx(ki,{present:r||i.open,children:d.jsx(W0.Slot,{scope:t.__scopeMenu,children:o.modal?d.jsx(ase,{...s,ref:e}):d.jsx(cse,{...s,ref:e})})})})}),ase=I.forwardRef((t,e)=>{const n=fu(ei,t.__scopeMenu),r=I.useRef(null),s=It(e,r);return I.useEffect(()=>{const i=r.current;if(i)return tC(i)},[]),d.jsx(iC,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ae(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),cse=I.forwardRef((t,e)=>{const n=fu(ei,t.__scopeMenu);return d.jsx(iC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),lse=$l("MenuContent.ScrollLock"),iC=I.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v,...g}=t,y=fu(ei,n),E=jp(ei,n),w=Ux(n),x=EO(n),b=ese(n),[D,L]=I.useState(null),T=I.useRef(null),R=It(e,T,y.onContentChange),F=I.useRef(0),P=I.useRef(""),U=I.useRef(0),W=I.useRef(null),S=I.useRef("right"),_=I.useRef(0),C=v?Fx:I.Fragment,O=v?{as:lse,allowPinchZoom:!0}:void 0,H=z=>{var ce,le;const K=P.current+z,B=b().filter(ye=>!ye.disabled),A=document.activeElement,$=(ce=B.find(ye=>ye.ref.current===A))==null?void 0:ce.textValue,X=B.map(ye=>ye.textValue),oe=_se(X,K,$),ae=(le=B.find(ye=>ye.textValue===oe))==null?void 0:le.ref.current;(function ye(Re){P.current=Re,window.clearTimeout(F.current),Re!==""&&(F.current=window.setTimeout(()=>ye(""),1e3))})(K),ae&&setTimeout(()=>ae.focus())};I.useEffect(()=>()=>window.clearTimeout(F.current),[]),eC();const j=I.useCallback(z=>{var B,A;return S.current===((B=W.current)==null?void 0:B.side)&&bse(z,(A=W.current)==null?void 0:A.area)},[]);return d.jsx(ose,{scope:n,searchRef:P,onItemEnter:I.useCallback(z=>{j(z)&&z.preventDefault()},[j]),onItemLeave:I.useCallback(z=>{var K;j(z)||((K=T.current)==null||K.focus(),L(null))},[j]),onTriggerLeave:I.useCallback(z=>{j(z)&&z.preventDefault()},[j]),pointerGraceTimerRef:U,onPointerGraceIntentChange:I.useCallback(z=>{W.current=z},[]),children:d.jsx(C,{...O,children:d.jsx(Ox,{asChild:!0,trapped:s,onMountAutoFocus:Ae(i,z=>{var K;z.preventDefault(),(K=T.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(Df,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:d.jsx(dO,{asChild:!0,...x,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:L,onEntryFocus:Ae(c,z=>{E.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(dS,{role:"menu","aria-orientation":"vertical","data-state":VO(y.open),"data-radix-menu-content":"",dir:E.dir,...w,...g,ref:R,style:{outline:"none",...g.style},onKeyDown:Ae(g.onKeyDown,z=>{const B=z.target.closest("[data-radix-menu-content]")===z.currentTarget,A=z.ctrlKey||z.altKey||z.metaKey,$=z.key.length===1;B&&(z.key==="Tab"&&z.preventDefault(),!A&&$&&H(z.key));const X=T.current;if(z.target!==X||!Xre.includes(z.key))return;z.preventDefault();const ae=b().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);wO.includes(z.key)&&ae.reverse(),xse(ae)}),onBlur:Ae(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(F.current),P.current="")}),onPointerMove:Ae(t.onPointerMove,$0(z=>{const K=z.target,B=_.current!==z.clientX;if(z.currentTarget.contains(K)&&B){const A=z.clientX>_.current?"right":"left";S.current=A,_.current=z.clientX}}))})})})})})})});CO.displayName=ei;var use="MenuGroup",oC=I.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(Ve.div,{role:"group",...r,ref:e})});oC.displayName=use;var dse="MenuLabel",TO=I.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(Ve.div,{...r,ref:e})});TO.displayName=dse;var rv="MenuItem",vk="menu.itemSelect",zx=I.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=I.useRef(null),o=jp(rv,t.__scopeMenu),a=sC(rv,t.__scopeMenu),c=It(e,i),l=I.useRef(!1),u=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(vk,{bubbles:!0,cancelable:!0});f.addEventListener(vk,m=>r==null?void 0:r(m),{once:!0}),GA(f,h),h.defaultPrevented?l.current=!1:o.onClose()}};return d.jsx(IO,{...s,ref:c,disabled:n,onClick:Ae(t.onClick,u),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),l.current=!0},onPointerUp:Ae(t.onPointerUp,f=>{var h;l.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ae(t.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||h2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});zx.displayName=rv;var IO=I.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=sC(rv,n),a=EO(n),c=I.useRef(null),l=It(e,c),[u,f]=I.useState(!1),[h,m]=I.useState("");return I.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[i.children]),d.jsx(W0.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:d.jsx(fO,{asChild:!0,...a,focusable:!r,children:d.jsx(Ve.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:l,onPointerMove:Ae(t.onPointerMove,$0(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(t.onPointerLeave,$0(v=>o.onItemLeave(v))),onFocus:Ae(t.onFocus,()=>f(!0)),onBlur:Ae(t.onBlur,()=>f(!1))})})})}),fse="MenuCheckboxItem",RO=I.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return d.jsx(PO,{scope:t.__scopeMenu,checked:n,children:d.jsx(zx,{role:"menuitemcheckbox","aria-checked":sv(n)?"mixed":n,...s,ref:e,"data-state":cC(n),onSelect:Ae(s.onSelect,()=>r==null?void 0:r(sv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});RO.displayName=fse;var kO="MenuRadioGroup",[hse,pse]=du(kO,{value:void 0,onValueChange:()=>{}}),NO=I.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=os(r);return d.jsx(hse,{scope:t.__scopeMenu,value:n,onValueChange:i,children:d.jsx(oC,{...s,ref:e})})});NO.displayName=kO;var MO="MenuRadioItem",DO=I.forwardRef((t,e)=>{const{value:n,...r}=t,s=pse(MO,t.__scopeMenu),i=n===s.value;return d.jsx(PO,{scope:t.__scopeMenu,checked:i,children:d.jsx(zx,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":cC(i),onSelect:Ae(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});DO.displayName=MO;var aC="MenuItemIndicator",[PO,mse]=du(aC,{checked:!1}),BO=I.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=mse(aC,n);return d.jsx(ki,{present:r||sv(i.checked)||i.checked===!0,children:d.jsx(Ve.span,{...s,ref:e,"data-state":cC(i.checked)})})});BO.displayName=aC;var gse="MenuSeparator",OO=I.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(Ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});OO.displayName=gse;var yse="MenuArrow",LO=I.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Ux(n);return d.jsx(fS,{...s,...r,ref:e})});LO.displayName=yse;var vse="MenuSub",[wme,jO]=du(vse),jh="MenuSubTrigger",FO=I.forwardRef((t,e)=>{const n=fu(jh,t.__scopeMenu),r=jp(jh,t.__scopeMenu),s=jO(jh,t.__scopeMenu),i=sC(jh,t.__scopeMenu),o=I.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,l={__scopeMenu:t.__scopeMenu},u=I.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return I.useEffect(()=>u,[u]),I.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),d.jsx(nC,{asChild:!0,...l,children:d.jsx(IO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":VO(n.open),...t,ref:Xv(e,s.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ae(t.onPointerMove,$0(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Ae(t.onPointerLeave,$0(f=>{var m,v;u();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(v=n.content)==null?void 0:v.dataset.side,y=g==="right",E=y?-5:5,w=h[y?"left":"right"],x=h[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+E,y:f.clientY},{x:w,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:w,y:h.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(t.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";t.disabled||h&&f.key===" "||Zre[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});FO.displayName=jh;var UO="MenuSubContent",zO=I.forwardRef((t,e)=>{const n=AO(ei,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=fu(ei,t.__scopeMenu),o=jp(ei,t.__scopeMenu),a=jO(UO,t.__scopeMenu),c=I.useRef(null),l=It(e,c);return d.jsx(W0.Provider,{scope:t.__scopeMenu,children:d.jsx(ki,{present:r||i.open,children:d.jsx(W0.Slot,{scope:t.__scopeMenu,children:d.jsx(iC,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:l,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ae(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ae(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Ae(t.onKeyDown,u=>{var m;const f=u.currentTarget.contains(u.target),h=Jre[o.dir].includes(u.key);f&&h&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),u.preventDefault())})})})})})});zO.displayName=UO;function VO(t){return t?"open":"closed"}function sv(t){return t==="indeterminate"}function cC(t){return sv(t)?"indeterminate":t?"checked":"unchecked"}function xse(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function wse(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function _se(t,e,n){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=wse(t,Math.max(i,0));s.length===1&&(o=o.filter(l=>l!==n));const c=o.find(l=>l.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Ese(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],l=a.x,u=a.y,f=c.x,h=c.y;u>r!=h>r&&n<(f-l)*(r-u)/(h-u)+l&&(s=!s)}return s}function bse(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Ese(n,e)}function $0(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Ase=bO,Sse=nC,Cse=SO,Tse=CO,Ise=oC,Rse=TO,kse=zx,Nse=RO,Mse=NO,Dse=DO,Pse=BO,Bse=OO,Ose=LO,Lse=FO,jse=zO,Vx="DropdownMenu",[Fse,_me]=Ws(Vx,[_O]),us=_O(),[Use,WO]=Fse(Vx),$O=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,c=us(e),l=I.useRef(null),[u,f]=Ac({prop:s,defaultProp:i??!1,onChange:o,caller:Vx});return d.jsx(Use,{scope:e,triggerId:Yi(),triggerRef:l,contentId:Yi(),open:u,onOpenChange:f,onOpenToggle:I.useCallback(()=>f(h=>!h),[f]),modal:a,children:d.jsx(Ase,{...c,open:u,onOpenChange:f,dir:r,modal:a,children:n})})};$O.displayName=Vx;var HO="DropdownMenuTrigger",qO=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=WO(HO,n),o=us(n);return d.jsx(Sse,{asChild:!0,...o,children:d.jsx(Ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Xv(e,i.triggerRef),onPointerDown:Ae(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Ae(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});qO.displayName=HO;var zse="DropdownMenuPortal",KO=t=>{const{__scopeDropdownMenu:e,...n}=t,r=us(e);return d.jsx(Cse,{...r,...n})};KO.displayName=zse;var GO="DropdownMenuContent",QO=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=WO(GO,n),i=us(n),o=I.useRef(!1);return d.jsx(Tse,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Ae(t.onCloseAutoFocus,a=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Ae(t.onInteractOutside,a=>{const c=a.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});QO.displayName=GO;var Vse="DropdownMenuGroup",Wse=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=us(n);return d.jsx(Ise,{...s,...r,ref:e})});Wse.displayName=Vse;var $se="DropdownMenuLabel",YO=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=us(n);return d.jsx(Rse,{...s,...r,ref:e})});YO.displayName=$se;var Hse="DropdownMenuItem",XO=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=us(n);return d.jsx(kse,{...s,...r,ref:e})});XO.displayName=Hse;var qse="DropdownMenuCheckboxItem",ZO=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=us(n);return d.jsx(Nse,{...s,...r,ref:e})});ZO.displayName=qse;var Kse="DropdownMenuRadioGroup",Gse=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=us(n);return d.jsx(Mse,{...s,...r,ref:e})});Gse.displayName=Kse;var Qse="DropdownMenuRadioItem",JO=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=us(n);return d.jsx(Dse,{...s,...r,ref:e})});JO.displayName=Qse;var Yse="DropdownMenuItemIndicator",eL=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=us(n);return d.jsx(Pse,{...s,...r,ref:e})});eL.displayName=Yse;var Xse="DropdownMenuSeparator",tL=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=us(n);return d.jsx(Bse,{...s,...r,ref:e})});tL.displayName=Xse;var Zse="DropdownMenuArrow",Jse=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=us(n);return d.jsx(Ose,{...s,...r,ref:e})});Jse.displayName=Zse;var eie="DropdownMenuSubTrigger",nL=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=us(n);return d.jsx(Lse,{...s,...r,ref:e})});nL.displayName=eie;var tie="DropdownMenuSubContent",rL=I.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=us(n);return d.jsx(jse,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rL.displayName=tie;var nie=$O,rie=qO,sie=KO,sL=QO,iL=YO,oL=XO,aL=ZO,cL=JO,lL=eL,uL=tL,dL=nL,fL=rL;const iie=nie,oie=rie,aie=I.forwardRef(({className:t,inset:e,children:n,...r},s)=>d.jsxs(dL,{ref:s,className:Be("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,d.jsx(b$,{className:"ml-auto"})]}));aie.displayName=dL.displayName;const cie=I.forwardRef(({className:t,...e},n)=>d.jsx(fL,{ref:n,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));cie.displayName=fL.displayName;const hL=I.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(sie,{children:d.jsx(sL,{ref:r,sideOffset:e,className:Be("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));hL.displayName=sL.displayName;const p2=I.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(oL,{ref:r,className:Be("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));p2.displayName=oL.displayName;const lie=I.forwardRef(({className:t,children:e,checked:n,...r},s)=>d.jsxs(aL,{ref:s,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(lL,{children:d.jsx(i8,{className:"h-4 w-4"})})}),e]}));lie.displayName=aL.displayName;const uie=I.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(cL,{ref:r,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(lL,{children:d.jsx(S$,{className:"h-2 w-2 fill-current"})})}),e]}));uie.displayName=cL.displayName;const die=I.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(iL,{ref:r,className:Be("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));die.displayName=iL.displayName;const fie=I.forwardRef(({className:t,...e},n)=>d.jsx(uL,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",t),...e}));fie.displayName=uL.displayName;function fs(t){try{if(!t)return new Date;if(t&&typeof t=="object"&&"toDate"in t&&typeof t.toDate=="function"){const e=t.toDate();return wh(e)?e:new Date}if(t&&typeof t=="object"&&"seconds"in t){const e=new Date(t.seconds*1e3+(t.nanoseconds||0)/1e6);return wh(e)?e:new Date}if(t instanceof Date)return wh(t)?t:new Date;if(typeof t=="number"){const e=t>1e10?new Date(t):new Date(t*1e3);return wh(e)?e:new Date}if(typeof t=="string"){const e=new Date(t);return wh(e)?e:new Date}return new Date}catch(e){return console.warn("Timestamp conversion error:",e,"Input:",t),new Date}}function wh(t){return t instanceof Date&&!isNaN(t.getTime())}function hie(t,e={}){try{const n=fs(t),r={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",...e};return n.toLocaleDateString("en-US",r)}catch(n){return console.warn("Timestamp formatting error:",n),"Invalid Date"}}function pie(t){try{const e=fs(t),n=new Date,r=e.getTime()-n.getTime();if(r<=0)return"Expired";const s=Math.floor(r/1e3),i=Math.floor(s/60),o=Math.floor(i/60),a=Math.floor(o/24);return a>0?`${a} day${a===1?"":"s"} left`:o>0?`${o} hour${o===1?"":"s"} left`:i>0?`${i} minute${i===1?"":"s"} left`:`${s} second${s===1?"":"s"} left`}catch(e){return console.warn("Time remaining calculation error:",e),"Unknown"}}function mie(t){try{const e=fs(t),n=new Date,r=e.getTime()-n.getTime(),s=r<=0,i=hie(e,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),o=pie(t);let a="low";if(s)a="high";else{const c=Math.floor(r/864e5);c<=1?a="high":c<=7&&(a="medium")}return{formatted:i,timeRemaining:o,isExpired:s,urgency:a}}catch(e){return console.warn("Campaign deadline formatting error:",e),{formatted:"Invalid Date",timeRemaining:"Unknown",isExpired:!0,urgency:"high"}}}const t_=({campaign:t,featured:e=!1,showStats:n=!0,size:r="medium",interactive:s=!0,onLike:i,onShare:o,className:a=""})=>{var D;const[,c]=pp(),[l,u]=I.useState(!1),[f,h]=I.useState(!1),m=I.useMemo(()=>{const L=Math.min(t.currentAmount/t.targetAmount*100,100),T=mie(t.deadline||t.createdAt),R=T.isExpired,F=T.timeRemaining;return{progress:L,isExpired:R,timeRemaining:F,urgency:T.urgency,isNearlyFunded:L>=80,isFunded:L>=100,fundingVelocity:t.currentAmount/Math.max(1,Math.floor((Date.now()-new Date(t.createdAt).getTime())/(24*60*60*1e3)))}},[t]),v=I.useMemo(()=>{var T;switch(((T=t.postFundingAction)==null?void 0:T.type)||"none"){case"boosts":return{icon:Hl,color:"from-yellow-500 to-orange-600",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",label:"With Boosts"};case"advertising":return{icon:M4,color:"from-purple-500 to-indigo-600",bgColor:"bg-purple-500/20",textColor:"text-purple-400",label:"With Advertising"};default:return{icon:xp,color:"from-green-500 to-emerald-600",bgColor:"bg-green-500/20",textColor:"text-green-400",label:"Enhanced Info"}}},[(D=t.postFundingAction)==null?void 0:D.type]),g=I.useMemo(()=>{switch(r){case"small":return{cardHeight:"h-full min-h-[420px]",bannerHeight:"h-20",logoSize:"w-10 h-10",titleSize:"text-base",descriptionLines:"line-clamp-2",padding:"p-4"};case"large":return{cardHeight:"h-full min-h-[540px]",bannerHeight:"h-32",logoSize:"w-16 h-16",titleSize:"text-xl",descriptionLines:"line-clamp-4",padding:"p-6"};default:return{cardHeight:"h-full min-h-[480px]",bannerHeight:"h-24",logoSize:"w-12 h-12",titleSize:"text-lg",descriptionLines:"line-clamp-3",padding:"p-5"}}},[r]),y=I.useMemo(()=>m.isFunded?{label:"Funded",variant:"default",className:"bg-green-500 text-white"}:m.isExpired?{label:"Expired",variant:"destructive",className:"bg-red-500 text-white"}:t.status==="processing"?{label:"Processing",variant:"secondary",className:"bg-blue-500 text-white"}:{label:"Active",variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500/50"},[m,t.status]),E=I.useCallback(L=>{if(!s)return;const T=L.target;T.closest("button")||T.closest('[role="button"]')||c(`/campaign/${t.id}`)},[s,c,t.id]),w=I.useCallback(L=>{L.stopPropagation(),u(!l),i==null||i(t.id)},[l,i,t.id]),x=I.useCallback(L=>{L.stopPropagation(),o==null||o(t)},[o,t]),b=v.icon;return d.jsxs(Bt,{className:`
        ${g.cardHeight} campaign-card flex flex-col
        ${e?"ring-2 ring-primary/50 shadow-primary/20 animate-glow":""}
        ${a}
      `,onClick:E,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[e&&d.jsx("div",{className:"absolute top-4 left-4 z-20",children:d.jsxs(Wr,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-semibold",children:[d.jsx(M4,{className:"w-3 h-3 mr-1"}),"Featured"]})}),d.jsx("div",{className:"absolute top-4 right-4 z-20",children:d.jsx(Wr,{variant:y.variant,className:y.className,children:y.label})}),d.jsxs("div",{className:`${g.bannerHeight} relative overflow-hidden`,children:[d.jsx("img",{src:t.bannerUrl,alt:`${t.tokenMetadata.name} banner`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]}),d.jsxs(Ot,{className:`${g.padding} flex flex-col flex-1 space-y-4 relative`,children:[d.jsxs("div",{className:"flex items-center space-x-3 -mt-8 relative z-10",children:[d.jsxs("div",{className:"relative",children:[d.jsxs(nO,{className:`${g.logoSize} border-2 border-white shadow-lg`,children:[d.jsx(rO,{src:t.logoUrl,alt:t.tokenMetadata.name}),d.jsx(sO,{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white font-bold",children:t.tokenMetadata.symbol.slice(0,2)})]}),d.jsx("div",{className:`
              absolute -bottom-1 -right-1 w-6 h-6 rounded-full 
              bg-gradient-to-r ${v.color} 
              flex items-center justify-center shadow-lg
            `,children:d.jsx(b,{className:"w-3 h-3 text-white"})})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h3",{className:`${g.titleSize} font-bold text-gray-900 truncate`,children:t.tokenMetadata.name}),d.jsx(Wr,{variant:"secondary",className:"bg-gray-100 text-gray-700 text-xs",children:t.tokenMetadata.symbol}),t.tokenMetadata.verified&&d.jsx(kh,{className:"w-4 h-4 text-blue-400 flex-shrink-0"})]}),d.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[d.jsx("span",{className:`text-xs ${v.textColor} font-medium`,children:v.label}),t.trending&&d.jsxs(Wr,{className:"bg-red-500/20 text-red-400 text-xs",children:[d.jsx(tx,{className:"w-3 h-3 mr-1"}),"Trending"]})]})]}),d.jsxs(iie,{children:[d.jsx(oie,{asChild:!0,children:d.jsx(wt,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 opacity-0 group-hover:opacity-100 transition-opacity",onClick:L=>L.stopPropagation(),children:d.jsx(C$,{className:"w-4 h-4"})})}),d.jsxs(hL,{className:"bg-white border border-gray-200 shadow-lg",children:[d.jsxs(p2,{onClick:x,className:"text-gray-700 hover:bg-gray-100",children:[d.jsx(N4,{className:"w-4 h-4 mr-2"}),"Share Campaign"]}),d.jsxs(p2,{onClick:()=>c(`/campaign/${t.id}`),className:"text-gray-700 hover:bg-gray-100",children:[d.jsx(c8,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]})]}),d.jsx("p",{className:`text-gray-600 text-sm ${g.descriptionLines}`,children:t.description}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Progress"}),d.jsxs("span",{className:"text-gray-900 font-semibold",children:["$",t.currentAmount.toFixed(0)," / $",t.targetAmount.toFixed(0)]})]}),d.jsx(Pl,{value:m.progress,className:`h-2 ${m.isNearlyFunded?"bg-green-500/20":m.urgency==="high"?"bg-red-500/20":"bg-white/20"}`}),n&&d.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-2",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[d.jsx(wp,{className:"w-3 h-3 text-blue-400"}),d.jsx("span",{className:"text-xs text-blue-400 font-medium",children:t.contributorCount})]}),d.jsx("span",{className:"text-xs text-gray-600",children:"Contributors"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[d.jsx(F$,{className:"w-3 h-3 text-purple-400"}),d.jsxs("span",{className:"text-xs text-purple-400 font-medium",children:[m.progress.toFixed(0),"%"]})]}),d.jsx("span",{className:"text-xs text-gray-600",children:"Funded"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[d.jsx(a8,{className:`w-3 h-3 ${m.urgency==="high"?"text-red-400":m.urgency==="medium"?"text-yellow-400":"text-green-400"}`}),d.jsx("span",{className:`text-xs font-medium ${m.urgency==="high"?"text-red-400":m.urgency==="medium"?"text-yellow-400":"text-green-400"}`,children:m.timeRemaining.split(" ")[0]})]}),d.jsxs("span",{className:"text-xs text-gray-600",children:[m.timeRemaining.includes("day")?"Days":m.timeRemaining.includes("hour")?"Hours":"Time"," Left"]})]})]})]}),d.jsx("div",{className:"flex-1"}),d.jsxs("div",{className:"flex items-center justify-between pt-2 mt-auto",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(wt,{variant:"ghost",size:"sm",onClick:w,className:`text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors ${l?"text-red-400":""}`,children:d.jsx(R$,{className:`w-4 h-4 ${l?"fill-current":""}`})}),d.jsx(wt,{variant:"ghost",size:"sm",onClick:x,className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:d.jsx(N4,{className:"w-4 h-4"})})]}),d.jsx(wt,{size:"sm",className:`
              font-medium transition-all duration-200 rounded-lg
              ${m.isFunded?"bg-green-600 hover:bg-green-700 text-white":m.isExpired?"bg-gray-300 hover:bg-gray-400 text-gray-600 cursor-not-allowed":"bg-black hover:bg-gray-800 text-white"}
            `,disabled:m.isExpired,onClick:L=>{L.stopPropagation(),c(`/campaign/${t.id}`)},children:m.isFunded?"View Campaign":m.isExpired?"Expired":"Contribute"})]}),m.urgency==="high"&&!m.isFunded&&!m.isExpired&&d.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-red-500/20 rounded-lg border border-red-500/50",children:[d.jsx(u8,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),d.jsx("span",{className:"text-red-300 text-xs font-medium",children:m.timeRemaining.includes("day")&&parseInt(m.timeRemaining)<=1?"Less than 24 hours remaining!":"Ending soon!"})]}),Object.values(t.socialLinks).some(L=>L)&&d.jsxs("div",{className:"flex items-center space-x-1 opacity-70",children:[t.socialLinks.website&&d.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),t.socialLinks.twitter&&d.jsx("div",{className:"w-1.5 h-1.5 bg-sky-400 rounded-full"}),t.socialLinks.telegram&&d.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full"}),d.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"Connected"})]})]}),d.jsx("div",{className:`
        absolute inset-0 bg-gradient-to-br from-purple-500/10 to-indigo-500/10 
        opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none
      `})]})};function xk(t,[e,n]){return Math.min(n,Math.max(e,t))}function pL(t){const e=I.useRef({value:t,previous:t});return I.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var gie=[" ","Enter","ArrowUp","ArrowDown"],yie=[" ","Enter"],Yl="Select",[Wx,$x,vie]=Zv(Yl),[$f,Eme]=Ws(Yl,[vie,Lf]),Hx=Lf(),[xie,Uc]=$f(Yl),[wie,_ie]=$f(Yl),mL=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:l,name:u,autoComplete:f,disabled:h,required:m,form:v}=t,g=Hx(e),[y,E]=I.useState(null),[w,x]=I.useState(null),[b,D]=I.useState(!1),L=Bx(l),[T,R]=Ac({prop:r,defaultProp:s??!1,onChange:i,caller:Yl}),[F,P]=Ac({prop:o,defaultProp:a,onChange:c,caller:Yl}),U=I.useRef(null),W=y?v||!!y.closest("form"):!0,[S,_]=I.useState(new Set),C=Array.from(S).map(O=>O.props.value).join(";");return d.jsx(W8,{...g,children:d.jsxs(xie,{required:m,scope:e,trigger:y,onTriggerChange:E,valueNode:w,onValueNodeChange:x,valueNodeHasChildren:b,onValueNodeHasChildrenChange:D,contentId:Yi(),value:F,onValueChange:P,open:T,onOpenChange:R,dir:L,triggerPointerDownPosRef:U,disabled:h,children:[d.jsx(Wx.Provider,{scope:e,children:d.jsx(wie,{scope:t.__scopeSelect,onNativeOptionAdd:I.useCallback(O=>{_(H=>new Set(H).add(O))},[]),onNativeOptionRemove:I.useCallback(O=>{_(H=>{const j=new Set(H);return j.delete(O),j})},[]),children:n})}),W?d.jsxs(FL,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:F,onChange:O=>P(O.target.value),disabled:h,form:v,children:[F===void 0?d.jsx("option",{value:""}):null,Array.from(S)]},C):null]})})};mL.displayName=Yl;var gL="SelectTrigger",yL=I.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Hx(n),o=Uc(gL,n),a=o.disabled||r,c=It(e,o.onTriggerChange),l=$x(n),u=I.useRef("touch"),[f,h,m]=zL(g=>{const y=l().filter(x=>!x.disabled),E=y.find(x=>x.value===o.value),w=VL(y,g,E);w!==void 0&&o.onValueChange(w.value)}),v=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return d.jsx(uS,{asChild:!0,...i,children:d.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":UL(o.value)?"":void 0,...s,ref:c,onClick:Ae(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&v(g)}),onPointerDown:Ae(s.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Ae(s.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&gie.includes(g.key)&&(v(),g.preventDefault())})})})});yL.displayName=gL;var vL="SelectValue",xL=I.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=Uc(vL,n),{onValueNodeHasChildrenChange:l}=c,u=i!==void 0,f=It(e,c.onValueNodeChange);return tr(()=>{l(u)},[l,u]),d.jsx(Ve.span,{...a,ref:f,style:{pointerEvents:"none"},children:UL(c.value)?d.jsx(d.Fragment,{children:o}):i})});xL.displayName=vL;var Eie="SelectIcon",wL=I.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(Ve.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});wL.displayName=Eie;var bie="SelectPortal",_L=t=>d.jsx(gp,{asChild:!0,...t});_L.displayName=bie;var Xl="SelectContent",EL=I.forwardRef((t,e)=>{const n=Uc(Xl,t.__scopeSelect),[r,s]=I.useState();if(tr(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?jc.createPortal(d.jsx(bL,{scope:t.__scopeSelect,children:d.jsx(Wx.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(AL,{...t,ref:e})});EL.displayName=Xl;var li=10,[bL,zc]=$f(Xl),Aie="SelectContentImpl",Sie=$l("SelectContent.RemoveScroll"),AL=I.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:l,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y,...E}=t,w=Uc(Xl,n),[x,b]=I.useState(null),[D,L]=I.useState(null),T=It(e,ce=>b(ce)),[R,F]=I.useState(null),[P,U]=I.useState(null),W=$x(n),[S,_]=I.useState(!1),C=I.useRef(!1);I.useEffect(()=>{if(x)return tC(x)},[x]),eC();const O=I.useCallback(ce=>{const[le,...ye]=W().map(xe=>xe.ref.current),[Re]=ye.slice(-1),be=document.activeElement;for(const xe of ce)if(xe===be||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===le&&D&&(D.scrollTop=0),xe===Re&&D&&(D.scrollTop=D.scrollHeight),xe==null||xe.focus(),document.activeElement!==be))return},[W,D]),H=I.useCallback(()=>O([R,x]),[O,R,x]);I.useEffect(()=>{S&&H()},[S,H]);const{onOpenChange:j,triggerPointerDownPosRef:z}=w;I.useEffect(()=>{if(x){let ce={x:0,y:0};const le=Re=>{var be,xe;ce={x:Math.abs(Math.round(Re.pageX)-(((be=z.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((xe=z.current)==null?void 0:xe.y)??0))}},ye=Re=>{ce.x<=10&&ce.y<=10?Re.preventDefault():x.contains(Re.target)||j(!1),document.removeEventListener("pointermove",le),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ye,{capture:!0})}}},[x,j,z]),I.useEffect(()=>{const ce=()=>j(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[j]);const[K,B]=zL(ce=>{const le=W().filter(be=>!be.disabled),ye=le.find(be=>be.ref.current===document.activeElement),Re=VL(le,ce,ye);Re&&setTimeout(()=>Re.ref.current.focus())}),A=I.useCallback((ce,le,ye)=>{const Re=!C.current&&!ye;(w.value!==void 0&&w.value===le||Re)&&(F(ce),Re&&(C.current=!0))},[w.value]),$=I.useCallback(()=>x==null?void 0:x.focus(),[x]),X=I.useCallback((ce,le,ye)=>{const Re=!C.current&&!ye;(w.value!==void 0&&w.value===le||Re)&&U(ce)},[w.value]),oe=r==="popper"?m2:SL,ae=oe===m2?{side:a,sideOffset:c,align:l,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y}:{};return d.jsx(bL,{scope:n,content:x,viewport:D,onViewportChange:L,itemRefCallback:A,selectedItem:R,onItemLeave:$,itemTextRefCallback:X,focusSelectedItem:H,selectedItemText:P,position:r,isPositioned:S,searchRef:K,children:d.jsx(Fx,{as:Sie,allowPinchZoom:!0,children:d.jsx(Ox,{asChild:!0,trapped:w.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Ae(s,ce=>{var le;(le=w.trigger)==null||le.focus({preventScroll:!0}),ce.preventDefault()}),children:d.jsx(Df,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:d.jsx(oe,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ce=>ce.preventDefault(),...E,...ae,onPlaced:()=>_(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Ae(E.onKeyDown,ce=>{const le=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!le&&ce.key.length===1&&B(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Re=W().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const be=ce.target,xe=Re.indexOf(be);Re=Re.slice(xe+1)}setTimeout(()=>O(Re)),ce.preventDefault()}})})})})})})});AL.displayName=Aie;var Cie="SelectItemAlignedPosition",SL=I.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Uc(Xl,n),o=zc(Xl,n),[a,c]=I.useState(null),[l,u]=I.useState(null),f=It(e,T=>u(T)),h=$x(n),m=I.useRef(!1),v=I.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:E,focusSelectedItem:w}=o,x=I.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&l&&g&&y&&E){const T=i.trigger.getBoundingClientRect(),R=l.getBoundingClientRect(),F=i.valueNode.getBoundingClientRect(),P=E.getBoundingClientRect();if(i.dir!=="rtl"){const be=P.left-R.left,xe=F.left-be,Oe=T.left-xe,Te=T.width+Oe,He=Math.max(Te,R.width),Rt=window.innerWidth-li,rt=xk(xe,[li,Math.max(li,Rt-He)]);a.style.minWidth=Te+"px",a.style.left=rt+"px"}else{const be=R.right-P.right,xe=window.innerWidth-F.right-be,Oe=window.innerWidth-T.right-xe,Te=T.width+Oe,He=Math.max(Te,R.width),Rt=window.innerWidth-li,rt=xk(xe,[li,Math.max(li,Rt-He)]);a.style.minWidth=Te+"px",a.style.right=rt+"px"}const U=h(),W=window.innerHeight-li*2,S=g.scrollHeight,_=window.getComputedStyle(l),C=parseInt(_.borderTopWidth,10),O=parseInt(_.paddingTop,10),H=parseInt(_.borderBottomWidth,10),j=parseInt(_.paddingBottom,10),z=C+O+S+j+H,K=Math.min(y.offsetHeight*5,z),B=window.getComputedStyle(g),A=parseInt(B.paddingTop,10),$=parseInt(B.paddingBottom,10),X=T.top+T.height/2-li,oe=W-X,ae=y.offsetHeight/2,ce=y.offsetTop+ae,le=C+O+ce,ye=z-le;if(le<=X){const be=U.length>0&&y===U[U.length-1].ref.current;a.style.bottom="0px";const xe=l.clientHeight-g.offsetTop-g.offsetHeight,Oe=Math.max(oe,ae+(be?$:0)+xe+H),Te=le+Oe;a.style.height=Te+"px"}else{const be=U.length>0&&y===U[0].ref.current;a.style.top="0px";const Oe=Math.max(X,C+g.offsetTop+(be?A:0)+ae)+ye;a.style.height=Oe+"px",g.scrollTop=le-X+g.offsetTop}a.style.margin=`${li}px 0`,a.style.minHeight=K+"px",a.style.maxHeight=W+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,a,l,g,y,E,i.dir,r]);tr(()=>x(),[x]);const[b,D]=I.useState();tr(()=>{l&&D(window.getComputedStyle(l).zIndex)},[l]);const L=I.useCallback(T=>{T&&v.current===!0&&(x(),w==null||w(),v.current=!1)},[x,w]);return d.jsx(Iie,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:L,children:d.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:d.jsx(Ve.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});SL.displayName=Cie;var Tie="SelectPopperPosition",m2=I.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=li,...i}=t,o=Hx(n);return d.jsx(dS,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});m2.displayName=Tie;var[Iie,lC]=$f(Xl,{}),g2="SelectViewport",CL=I.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=zc(g2,n),o=lC(g2,n),a=It(e,i.onViewportChange),c=I.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Wx.Slot,{scope:n,children:d.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ae(s.onScroll,l=>{const u=l.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-u.scrollTop);if(m>0){const v=window.innerHeight-li*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),E=Math.max(g,y);if(E<v){const w=E+m,x=Math.min(v,w),b=w-x;f.style.height=x+"px",f.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});CL.displayName=g2;var TL="SelectGroup",[Rie,kie]=$f(TL),Nie=I.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Yi();return d.jsx(Rie,{scope:n,id:s,children:d.jsx(Ve.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Nie.displayName=TL;var IL="SelectLabel",RL=I.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=kie(IL,n);return d.jsx(Ve.div,{id:s.id,...r,ref:e})});RL.displayName=IL;var iv="SelectItem",[Mie,kL]=$f(iv),NL=I.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Uc(iv,n),c=zc(iv,n),l=a.value===r,[u,f]=I.useState(i??""),[h,m]=I.useState(!1),v=It(e,w=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,w,r,s)}),g=Yi(),y=I.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(Mie,{scope:n,value:r,disabled:s,textId:g,isSelected:l,onItemTextChange:I.useCallback(w=>{f(x=>x||((w==null?void 0:w.textContent)??"").trim())},[]),children:d.jsx(Wx.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:d.jsx(Ve.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":l&&h,"data-state":l?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:Ae(o.onFocus,()=>m(!0)),onBlur:Ae(o.onBlur,()=>m(!1)),onClick:Ae(o.onClick,()=>{y.current!=="mouse"&&E()}),onPointerUp:Ae(o.onPointerUp,()=>{y.current==="mouse"&&E()}),onPointerDown:Ae(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:Ae(o.onPointerMove,w=>{var x;y.current=w.pointerType,s?(x=c.onItemLeave)==null||x.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(o.onPointerLeave,w=>{var x;w.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:Ae(o.onKeyDown,w=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&w.key===" "||(yie.includes(w.key)&&E(),w.key===" "&&w.preventDefault())})})})})});NL.displayName=iv;var Fh="SelectItemText",ML=I.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Uc(Fh,n),a=zc(Fh,n),c=kL(Fh,n),l=_ie(Fh,n),[u,f]=I.useState(null),h=It(e,E=>f(E),c.onItemTextChange,E=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,E,c.value,c.disabled)}),m=u==null?void 0:u.textContent,v=I.useMemo(()=>d.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=l;return tr(()=>(g(v),()=>y(v)),[g,y,v]),d.jsxs(d.Fragment,{children:[d.jsx(Ve.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?jc.createPortal(i.children,o.valueNode):null]})});ML.displayName=Fh;var DL="SelectItemIndicator",PL=I.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return kL(DL,n).isSelected?d.jsx(Ve.span,{"aria-hidden":!0,...r,ref:e}):null});PL.displayName=DL;var y2="SelectScrollUpButton",BL=I.forwardRef((t,e)=>{const n=zc(y2,t.__scopeSelect),r=lC(y2,t.__scopeSelect),[s,i]=I.useState(!1),o=It(e,r.onScrollButtonChange);return tr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const l=c.scrollTop>0;i(l)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(LL,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});BL.displayName=y2;var v2="SelectScrollDownButton",OL=I.forwardRef((t,e)=>{const n=zc(v2,t.__scopeSelect),r=lC(v2,t.__scopeSelect),[s,i]=I.useState(!1),o=It(e,r.onScrollButtonChange);return tr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(LL,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});OL.displayName=v2;var LL=I.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=zc("SelectScrollButton",n),o=I.useRef(null),a=$x(n),c=I.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return I.useEffect(()=>()=>c(),[c]),tr(()=>{var u;const l=a().find(f=>f.ref.current===document.activeElement);(u=l==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(Ve.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ae(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ae(s.onPointerMove,()=>{var l;(l=i.onItemLeave)==null||l.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ae(s.onPointerLeave,()=>{c()})})}),Die="SelectSeparator",jL=I.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(Ve.div,{"aria-hidden":!0,...r,ref:e})});jL.displayName=Die;var x2="SelectArrow",Pie=I.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Hx(n),i=Uc(x2,n),o=zc(x2,n);return i.open&&o.position==="popper"?d.jsx(fS,{...s,...r,ref:e}):null});Pie.displayName=x2;var Bie="SelectBubbleInput",FL=I.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=I.useRef(null),i=It(r,s),o=pL(e);return I.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const f=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(f)}},[o,e]),d.jsx(Ve.select,{...n,style:{...DP,...n.style},ref:i,defaultValue:e})});FL.displayName=Bie;function UL(t){return t===""||t===void 0}function zL(t){const e=os(t),n=I.useRef(""),r=I.useRef(0),s=I.useCallback(o=>{const a=n.current+o;e(a),function c(l){n.current=l,window.clearTimeout(r.current),l!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=I.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function VL(t,e,n){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Oie(t,Math.max(i,0));s.length===1&&(o=o.filter(l=>l!==n));const c=o.find(l=>l.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Oie(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Lie=mL,WL=yL,jie=xL,Fie=wL,Uie=_L,$L=EL,zie=CL,HL=RL,qL=NL,Vie=ML,Wie=PL,KL=BL,GL=OL,QL=jL;const Uh=Lie,zh=jie,yd=I.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(WL,{ref:r,className:Be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(Fie,{asChild:!0,children:d.jsx(o8,{className:"h-4 w-4 opacity-50"})})]}));yd.displayName=WL.displayName;const YL=I.forwardRef(({className:t,...e},n)=>d.jsx(KL,{ref:n,className:Be("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(A$,{className:"h-4 w-4"})}));YL.displayName=KL.displayName;const XL=I.forwardRef(({className:t,...e},n)=>d.jsx(GL,{ref:n,className:Be("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(o8,{className:"h-4 w-4"})}));XL.displayName=GL.displayName;const vd=I.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(Uie,{children:d.jsxs($L,{ref:s,className:Be("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(YL,{}),d.jsx(zie,{className:Be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(XL,{})]})}));vd.displayName=$L.displayName;const $ie=I.forwardRef(({className:t,...e},n)=>d.jsx(HL,{ref:n,className:Be("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));$ie.displayName=HL.displayName;const An=I.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(qL,{ref:r,className:Be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Wie,{children:d.jsx(i8,{className:"h-4 w-4"})})}),d.jsx(Vie,{children:e})]}));An.displayName=qL.displayName;const Hie=I.forwardRef(({className:t,...e},n)=>d.jsx(QL,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",t),...e}));Hie.displayName=QL.displayName;var qx="Tabs",[qie,bme]=Ws(qx,[Lx]),ZL=Lx(),[Kie,uC]=qie(qx),JL=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...l}=t,u=Bx(a),[f,h]=Ac({prop:r,onChange:s,defaultProp:i??"",caller:qx});return d.jsx(Kie,{scope:n,baseId:Yi(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:c,children:d.jsx(Ve.div,{dir:u,"data-orientation":o,...l,ref:e})})});JL.displayName=qx;var ej="TabsList",tj=I.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=uC(ej,n),o=ZL(n);return d.jsx(dO,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(Ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});tj.displayName=ej;var nj="TabsTrigger",rj=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=uC(nj,n),a=ZL(n),c=oj(o.baseId,r),l=aj(o.baseId,r),u=r===o.value;return d.jsx(fO,{asChild:!0,...a,focusable:!s,active:u,children:d.jsx(Ve.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:Ae(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ae(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ae(t.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!s&&f&&o.onValueChange(r)})})})});rj.displayName=nj;var sj="TabsContent",ij=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=uC(sj,n),c=oj(a.baseId,r),l=aj(a.baseId,r),u=r===a.value,f=I.useRef(u);return I.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),d.jsx(ki,{present:s||u,children:({present:h})=>d.jsx(Ve.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:l,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});ij.displayName=sj;function oj(t,e){return`${t}-trigger-${e}`}function aj(t,e){return`${t}-content-${e}`}var Gie=JL,cj=tj,lj=rj,uj=ij;const dC=Gie,Kx=I.forwardRef(({className:t,...e},n)=>d.jsx(cj,{ref:n,className:Be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Kx.displayName=cj.displayName;const vi=I.forwardRef(({className:t,...e},n)=>d.jsx(lj,{ref:n,className:Be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));vi.displayName=lj.displayName;const xi=I.forwardRef(({className:t,...e},n)=>d.jsx(uj,{ref:n,className:Be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));xi.displayName=uj.displayName;function Pd({children:t}){return d.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[d.jsx(hB,{}),d.jsx("main",{className:"flex-grow",children:t}),d.jsx(zB,{})]})}function Qie(){const[,t]=pp(),[e,n]=I.useState(""),[r,s]=I.useState("all"),[i,o]=I.useState("all"),{data:a,isLoading:c,error:l}=No({queryKey:["campaigns",i,r],queryFn:()=>V0.list({status:i!=="all"?i:void 0,campaignType:r!=="all"?r:void 0}),refetchInterval:3e4}),f=((a==null?void 0:a.campaigns)||[]).filter(g=>{if(e){const y=e.toLowerCase();return g.tokenName.toLowerCase().includes(y)||g.tokenSymbol.toLowerCase().includes(y)||g.tokenAddress.toLowerCase().includes(y)}return!0}),h=f.filter(g=>g.status!=="active"?!1:new Date(g.deadline)>new Date),m=f.filter(g=>g.status==="funded"||g.status==="completed"),v=f.filter(g=>g.status==="failed"||g.status==="cancelled"?!0:g.status==="active"?new Date(g.deadline)<=new Date:!1);return d.jsx(Pd,{children:d.jsx("div",{className:"min-h-screen bg-gray-50",children:d.jsxs("div",{className:"container-minimal py-12 space-y-8",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"heading-1",children:"Active Campaigns"}),d.jsx("p",{className:"text-lg text-gray-600 mt-2",children:"Browse and contribute to DexScreener service crowdfunding campaigns"})]}),d.jsxs("button",{onClick:()=>t("/create-campaign"),className:"btn-primary",children:[d.jsx(B$,{className:"mr-2 h-4 w-4 inline"}),"Create Campaign"]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(O$,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{placeholder:"Search by token name, symbol, or address...",value:e,onChange:g=>n(g.target.value),className:"input-minimal pl-10 w-full"})]}),d.jsxs(Uh,{value:r,onValueChange:s,children:[d.jsx(yd,{className:"w-full sm:w-[180px]",children:d.jsx(zh,{placeholder:"Campaign Type"})}),d.jsxs(vd,{children:[d.jsx(An,{value:"all",children:"All Types"}),d.jsx(An,{value:"enhanced_token_info",children:"Enhanced Info"}),d.jsx(An,{value:"advertising",children:"Advertising"}),d.jsx(An,{value:"boost",children:"Boost"})]})]})]}),c?d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx(M0,{className:"h-8 w-8 animate-spin"})}):l?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-muted-foreground",children:"Failed to load campaigns. Please try again."})}):d.jsxs(dC,{defaultValue:"active",className:"w-full",children:[d.jsxs(Kx,{className:"grid w-full grid-cols-3 bg-white border border-gray-200",children:[d.jsxs(vi,{value:"active",className:"tab-minimal",children:["Active (",h.length,")"]}),d.jsxs(vi,{value:"funded",className:"tab-minimal",children:["Funded (",m.length,")"]}),d.jsxs(vi,{value:"failed",className:"tab-minimal",children:["Failed (",v.length,")"]})]}),d.jsx(xi,{value:"active",className:"mt-6",children:h.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(g=>d.jsx(t_,{campaign:g},g.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-muted-foreground",children:"No active campaigns found."})})}),d.jsx(xi,{value:"funded",className:"mt-6",children:m.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(g=>d.jsx(t_,{campaign:g},g.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-muted-foreground",children:"No funded campaigns yet."})})}),d.jsx(xi,{value:"failed",className:"mt-6",children:v.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(g=>d.jsx(t_,{campaign:g},g.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-muted-foreground",children:"No failed campaigns."})})})]})]})})})}class Yie{constructor(){this.ws=null,this.reconnectInterval=5e3,this.shouldReconnect=!0,this.listeners=new Map;const e=window.location.protocol==="https:"?"wss:":"ws:";this.url=`${e}//${window.location.host}/ws`}connect(){var e;((e=this.ws)==null?void 0:e.readyState)!==WebSocket.OPEN&&(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{console.log("WebSocket connected"),this.emit("connected",null)},this.ws.onmessage=n=>{try{const r=JSON.parse(n.data);this.handleMessage(r)}catch(r){console.error("WebSocket message parse error:",r)}},this.ws.onerror=n=>{console.error("WebSocket error:",n),this.emit("error",n)},this.ws.onclose=()=>{console.log("WebSocket disconnected"),this.emit("disconnected",null),this.shouldReconnect&&setTimeout(()=>this.connect(),this.reconnectInterval)})}disconnect(){this.shouldReconnect=!1,this.ws&&(this.ws.close(),this.ws=null)}send(e){var n;((n=this.ws)==null?void 0:n.readyState)===WebSocket.OPEN?this.ws.send(JSON.stringify(e)):console.warn("WebSocket is not connected")}subscribeToCampaign(e){this.send({type:"subscribe",campaignId:e})}unsubscribeFromCampaign(e){this.send({type:"unsubscribe",campaignId:e})}on(e,n){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(n)}off(e,n){var r;(r=this.listeners.get(e))==null||r.delete(n)}emit(e,n){var r;(r=this.listeners.get(e))==null||r.forEach(s=>s(n))}handleMessage(e){switch(e.type){case"connected":console.log("WebSocket client ID:",e.clientId);break;case"campaign_update":this.emit("campaign_update",e.campaign);break;case"new_contribution":this.emit("new_contribution",e.contribution);break;case"pong":break;default:console.log("Unknown message type:",e.type)}}}const Da=new Yie,fC=new ke("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new ke("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const Xie=new ke("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new ke("So11111111111111111111111111111111111111112");new ke("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const hC=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}};var Fp={};Object.defineProperty(Fp,"__esModule",{value:!0});function Zie(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var Jie=Fp.toBigIntLE=Zie;function eoe(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}Fp.toBigIntBE=eoe;function toe(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var noe=Fp.toBufferLE=toe;function roe(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}Fp.toBufferBE=roe;const soe=t=>e=>{const n=Yt(t,e),{encode:r,decode:s}=hC(n),i=n;return i.decode=(o,a)=>{const c=s(o,a);return Jie(Buffer.from(c))},i.encode=(o,a,c)=>{const l=noe(o,t);return r(l,a,c)},i},dj=soe(8),ioe=t=>{const e=St(t),{encode:n,decode:r}=hC(e),s=e;return s.decode=(i,o)=>!!r(i,o),s.encode=(i,o,a)=>{const c=Number(i);return n(c,o,a)},s},wk=t=>{const e=Yt(32,t),{encode:n,decode:r}=hC(e),s=e;return s.decode=(i,o)=>{const a=r(i,o);return new ke(a)},s.encode=(i,o,a)=>{const c=i.toBuffer();return n(c,o,a)},s};class ooe extends Error{constructor(e){super(e)}}class aoe extends ooe{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var w2;(function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension",t[t.GroupPointerExtension=40]="GroupPointerExtension",t[t.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",t[t.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",t[t.PausableExtension=44]="PausableExtension"})(w2||(w2={}));function coe(t,e,n){if(n.length){t.push({pubkey:e,isSigner:!1,isWritable:!1});for(const r of n)t.push({pubkey:r instanceof ke?r:r.publicKey,isSigner:!0,isWritable:!1})}else t.push({pubkey:e,isSigner:!0,isWritable:!1});return t}const loe=Me([Ue("mintAuthorityOption"),wk("mintAuthority"),dj("supply"),St("decimals"),ioe("isInitialized"),Ue("freezeAuthorityOption"),wk("freezeAuthority")]);loe.span;async function _k(t,e,n=!1,r=fC,s=Xie){if(!n&&!ke.isOnCurve(e.toBuffer()))throw new aoe;const[i]=await ke.findProgramAddress([e.toBuffer(),r.toBuffer(),t.toBuffer()],s);return i}const Ek=Me([St("instruction"),dj("amount")]);function uoe(t,e,n,r,s=[],i=fC){const o=coe([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],n,s),a=Buffer.alloc(Ek.span);return Ek.encode({instruction:w2.Transfer,amount:BigInt(r)},a),new xb({keys:o,programId:i,data:a})}var Gx="Dialog",[fj,Ame]=Ws(Gx),[doe,Mi]=fj(Gx),hj=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=I.useRef(null),c=I.useRef(null),[l,u]=Ac({prop:r,defaultProp:s??!1,onChange:i,caller:Gx});return d.jsx(doe,{scope:e,triggerRef:a,contentRef:c,contentId:Yi(),titleId:Yi(),descriptionId:Yi(),open:l,onOpenChange:u,onOpenToggle:I.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};hj.displayName=Gx;var pj="DialogTrigger",foe=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Mi(pj,n),i=It(e,s.triggerRef);return d.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":gC(s.open),...r,ref:i,onClick:Ae(t.onClick,s.onOpenToggle)})});foe.displayName=pj;var pC="DialogPortal",[hoe,mj]=fj(pC,{forceMount:void 0}),gj=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Mi(pC,e);return d.jsx(hoe,{scope:e,forceMount:n,children:I.Children.map(r,o=>d.jsx(ki,{present:n||i.open,children:d.jsx(gp,{asChild:!0,container:s,children:o})}))})};gj.displayName=pC;var ov="DialogOverlay",yj=I.forwardRef((t,e)=>{const n=mj(ov,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Mi(ov,t.__scopeDialog);return i.modal?d.jsx(ki,{present:r||i.open,children:d.jsx(moe,{...s,ref:e})}):null});yj.displayName=ov;var poe=$l("DialogOverlay.RemoveScroll"),moe=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Mi(ov,n);return d.jsx(Fx,{as:poe,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Ve.div,{"data-state":gC(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Zl="DialogContent",vj=I.forwardRef((t,e)=>{const n=mj(Zl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Mi(Zl,t.__scopeDialog);return d.jsx(ki,{present:r||i.open,children:i.modal?d.jsx(goe,{...s,ref:e}):d.jsx(yoe,{...s,ref:e})})});vj.displayName=Zl;var goe=I.forwardRef((t,e)=>{const n=Mi(Zl,t.__scopeDialog),r=I.useRef(null),s=It(e,n.contentRef,r);return I.useEffect(()=>{const i=r.current;if(i)return tC(i)},[]),d.jsx(xj,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ae(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ae(t.onFocusOutside,i=>i.preventDefault())})}),yoe=I.forwardRef((t,e)=>{const n=Mi(Zl,t.__scopeDialog),r=I.useRef(!1),s=I.useRef(!1);return d.jsx(xj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((l=n.triggerRef.current)==null?void 0:l.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),xj=I.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Mi(Zl,n),c=I.useRef(null),l=It(e,c);return eC(),d.jsxs(d.Fragment,{children:[d.jsx(Ox,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Df,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":gC(a.open),...o,ref:l,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(voe,{titleId:a.titleId}),d.jsx(woe,{contentRef:c,descriptionId:a.descriptionId})]})]})}),mC="DialogTitle",wj=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Mi(mC,n);return d.jsx(Ve.h2,{id:s.titleId,...r,ref:e})});wj.displayName=mC;var _j="DialogDescription",Ej=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Mi(_j,n);return d.jsx(Ve.p,{id:s.descriptionId,...r,ref:e})});Ej.displayName=_j;var bj="DialogClose",Aj=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Mi(bj,n);return d.jsx(Ve.button,{type:"button",...r,ref:e,onClick:Ae(t.onClick,()=>s.onOpenChange(!1))})});Aj.displayName=bj;function gC(t){return t?"open":"closed"}var Sj="DialogTitleWarning",[Sme,Cj]=SW(Sj,{contentName:Zl,titleName:mC,docsSlug:"dialog"}),voe=({titleId:t})=>{const e=Cj(Sj),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return I.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},xoe="DialogDescriptionWarning",woe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Cj(xoe).contentName}}.`;return I.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},_oe=hj,Eoe=gj,Tj=yj,Ij=vj,Rj=wj,kj=Ej,boe=Aj;const _2=_oe,Aoe=Eoe,Nj=I.forwardRef(({className:t,...e},n)=>d.jsx(Tj,{ref:n,className:Be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Nj.displayName=Tj.displayName;const av=I.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(Aoe,{children:[d.jsx(Nj,{}),d.jsxs(Ij,{ref:r,className:Be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(boe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(JA,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));av.displayName=Ij.displayName;const cv=({className:t,...e})=>d.jsx("div",{className:Be("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});cv.displayName="DialogHeader";const lv=({className:t,...e})=>d.jsx("div",{className:Be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});lv.displayName="DialogFooter";const uv=I.forwardRef(({className:t,...e},n)=>d.jsx(Rj,{ref:n,className:Be("text-lg font-semibold leading-none tracking-tight",t),...e}));uv.displayName=Rj.displayName;const dv=I.forwardRef(({className:t,...e},n)=>d.jsx(kj,{ref:n,className:Be("text-sm text-muted-foreground",t),...e}));dv.displayName=kj.displayName;const Ki=I.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:Be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ki.displayName="Input";var Soe="Label",Mj=I.forwardRef((t,e)=>d.jsx(Ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Mj.displayName=Soe;var Dj=Mj;const Coe=vp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),jn=I.forwardRef(({className:t,...e},n)=>d.jsx(Dj,{ref:n,className:Be(Coe(),t),...e}));jn.displayName=Dj.displayName;const bk=new ke("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v");function Toe({campaign:t,isOpen:e,onClose:n,onSuccess:r}){const{publicKey:s,sendTransaction:i}=Np(),{connection:o}=b5(),{toast:a}=mp(),[c,l]=I.useState(""),[u,f]=I.useState(!1),[h,m]=I.useState(null),v=async()=>{if(!s){m("Please connect your wallet first");return}const y=parseFloat(c);if(isNaN(y)||y<5){m("Minimum contribution is $5 USDC");return}f(!0),m(null);try{const E=await _k(bk,s),w=new ke(t.walletAddress),x=await _k(bk,w),b=uoe(E,x,s,y*1e6,[],fC),D=new Hi().add(b),L=await i(D,o);await o.confirmTransaction(L,"confirmed"),await V0.contribute(t.id,{contributorAddress:s.toString(),amount:y,transactionHash:L}),a({title:"Contribution Successful!",description:`You contributed $${y} USDC to ${t.tokenName}`}),r==null||r(),n()}catch(E){console.error("Contribution error:",E),m(E.message||"Failed to process contribution")}finally{f(!1)}},g=()=>{navigator.clipboard.writeText(t.walletAddress),a({title:"Address Copied",description:"Campaign wallet address copied to clipboard"})};return d.jsx(_2,{open:e,onOpenChange:n,children:d.jsxs(av,{className:"sm:max-w-[425px]",children:[d.jsxs(cv,{children:[d.jsxs(uv,{children:["Contribute to ",t.tokenName]}),d.jsxs(dv,{children:["Support this campaign by contributing USDC. Your contribution will help reach the $",t.targetAmount," goal."]})]}),d.jsxs("div",{className:"space-y-4",children:[h&&d.jsx(yc,{variant:"destructive",children:d.jsx(vc,{children:h})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(jn,{children:"Campaign Progress"}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",t.currentAmount.toFixed(2)," / $",t.targetAmount.toFixed(2)," USDC (",(t.currentAmount/t.targetAmount*100).toFixed(1),"% funded)"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(jn,{htmlFor:"amount",children:"Contribution Amount (USDC)"}),d.jsx(Ki,{id:"amount",type:"number",placeholder:"Enter amount",value:c,onChange:y=>l(y.target.value),min:"5",step:"0.01"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum contribution: $5 USDC"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(jn,{children:"Campaign Wallet Address"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("code",{className:"text-xs bg-muted p-2 rounded flex-1 overflow-hidden text-ellipsis",children:t.walletAddress}),d.jsx(wt,{size:"sm",variant:"outline",onClick:g,children:d.jsx(Eg,{className:"h-3 w-3"})})]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"You can also send USDC directly to this address"})]})]}),d.jsxs(lv,{children:[d.jsx(wt,{variant:"outline",onClick:n,disabled:u,children:"Cancel"}),d.jsx(wt,{onClick:v,disabled:u||!s||!c,children:u?d.jsxs(d.Fragment,{children:[d.jsx(M0,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):s?`Contribute $${c||"0"}`:d.jsxs(d.Fragment,{children:[d.jsx(d8,{className:"mr-2 h-4 w-4"}),"Connect Wallet"]})})]})]})})}const o0=I.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:Be("w-full caption-bottom text-sm",t),...e})}));o0.displayName="Table";const a0=I.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:Be("[&_tr]:border-b",t),...e}));a0.displayName="TableHeader";const c0=I.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:Be("[&_tr:last-child]:border-0",t),...e}));c0.displayName="TableBody";const Ioe=I.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:Be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Ioe.displayName="TableFooter";const Io=I.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:Be("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Io.displayName="TableRow";const Sn=I.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:Be("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Sn.displayName="TableHead";const Cn=I.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:Be("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Cn.displayName="TableCell";const Roe=I.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:Be("mt-4 text-sm text-muted-foreground",t),...e}));Roe.displayName="TableCaption";function Xt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ic(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Pj=6048e5,koe=864e5,Zm=43200,Ak=1440;let Noe={};function Up(){return Noe}function H0(t,e){var a,c,l,u;const n=Up(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,s=Xt(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function fv(t){return H0(t,{weekStartsOn:1})}function Bj(t){const e=Xt(t),n=e.getFullYear(),r=Ic(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=fv(r),i=Ic(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=fv(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Sk(t){const e=Xt(t);return e.setHours(0,0,0,0),e}function hv(t){const e=Xt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Moe(t,e){const n=Sk(t),r=Sk(e),s=+n-hv(n),i=+r-hv(r);return Math.round((s-i)/koe)}function Doe(t){const e=Bj(t),n=Ic(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),fv(n)}function Kg(t,e){const n=Xt(t),r=Xt(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function Poe(t){return Ic(t,Date.now())}function Boe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ooe(t){if(!Boe(t)&&typeof t!="number")return!1;const e=Xt(t);return!isNaN(Number(e))}function Loe(t,e){const n=Xt(t),r=Xt(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function joe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Foe(t,e){return+Xt(t)-+Xt(e)}function Uoe(t){const e=Xt(t);return e.setHours(23,59,59,999),e}function zoe(t){const e=Xt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Voe(t){const e=Xt(t);return+Uoe(e)==+zoe(e)}function Woe(t,e){const n=Xt(t),r=Xt(e),s=Kg(n,r),i=Math.abs(Loe(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=Kg(n,r)===-s;Voe(Xt(t))&&i===1&&Kg(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function $oe(t,e,n){const r=Foe(t,e)/1e3;return joe(n==null?void 0:n.roundingMethod)(r)}function Hoe(t){const e=Xt(t),n=Ic(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const qoe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Koe=(t,e,n)=>{let r;const s=qoe[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function n_(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Goe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qoe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yoe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xoe={date:n_({formats:Goe,defaultWidth:"full"}),time:n_({formats:Qoe,defaultWidth:"full"}),dateTime:n_({formats:Yoe,defaultWidth:"full"})},Zoe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Joe=(t,e,n,r)=>Zoe[t];function _h(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const eae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oae=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},aae={ordinalNumber:oae,era:_h({values:eae,defaultWidth:"wide"}),quarter:_h({values:tae,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_h({values:nae,defaultWidth:"wide"}),day:_h({values:rae,defaultWidth:"wide"}),dayPeriod:_h({values:sae,defaultWidth:"wide",formattingValues:iae,defaultFormattingWidth:"wide"})};function Eh(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?lae(a,f=>f.test(o)):cae(a,f=>f.test(o));let l;l=t.valueCallback?t.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(o.length);return{value:l,rest:u}}}function cae(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function lae(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function uae(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const dae=/^(\d+)(th|st|nd|rd)?/i,fae=/\d+/i,hae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pae={any:[/^b/i,/^(a|c)/i]},mae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gae={any:[/1/i,/2/i,/3/i,/4/i]},yae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_ae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Eae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bae={ordinalNumber:uae({matchPattern:dae,parsePattern:fae,valueCallback:t=>parseInt(t,10)}),era:Eh({matchPatterns:hae,defaultMatchWidth:"wide",parsePatterns:pae,defaultParseWidth:"any"}),quarter:Eh({matchPatterns:mae,defaultMatchWidth:"wide",parsePatterns:gae,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Eh({matchPatterns:yae,defaultMatchWidth:"wide",parsePatterns:vae,defaultParseWidth:"any"}),day:Eh({matchPatterns:xae,defaultMatchWidth:"wide",parsePatterns:wae,defaultParseWidth:"any"}),dayPeriod:Eh({matchPatterns:_ae,defaultMatchWidth:"any",parsePatterns:Eae,defaultParseWidth:"any"})},Oj={code:"en-US",formatDistance:Koe,formatLong:Xoe,formatRelative:Joe,localize:aae,match:bae,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Aae(t){const e=Xt(t);return Moe(e,Hoe(e))+1}function Sae(t){const e=Xt(t),n=+fv(e)-+Doe(e);return Math.round(n/Pj)+1}function Lj(t,e){var u,f,h,m;const n=Xt(t),r=n.getFullYear(),s=Up(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ic(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=H0(o,e),c=Ic(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const l=H0(c,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function Cae(t,e){var a,c,l,u;const n=Up(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??1,s=Lj(t,e),i=Ic(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),H0(i,e)}function Tae(t,e){const n=Xt(t),r=+H0(n,e)-+Cae(n,e);return Math.round(r/Pj)+1}function zt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ea={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return zt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):zt(n+1,2)},d(t,e){return zt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return zt(t.getHours()%12||12,e.length)},H(t,e){return zt(t.getHours(),e.length)},m(t,e){return zt(t.getMinutes(),e.length)},s(t,e){return zt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return zt(s,e.length)}},Wu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ck={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ea.y(t,e)},Y:function(t,e,n,r){const s=Lj(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return zt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):zt(i,e.length)},R:function(t,e){const n=Bj(t);return zt(n,e.length)},u:function(t,e){const n=t.getFullYear();return zt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return zt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return zt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ea.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return zt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Tae(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):zt(s,e.length)},I:function(t,e,n){const r=Sae(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):zt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ea.d(t,e)},D:function(t,e,n){const r=Aae(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):zt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return zt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return zt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return zt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Wu.noon:r===0?s=Wu.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Wu.evening:r>=12?s=Wu.afternoon:r>=4?s=Wu.morning:s=Wu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ea.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ea.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):zt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):zt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ea.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ea.s(t,e)},S:function(t,e){return Ea.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Ik(r);case"XXXX":case"XX":return rl(r);case"XXXXX":case"XXX":default:return rl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Ik(r);case"xxxx":case"xx":return rl(r);case"xxxxx":case"xxx":default:return rl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Tk(r,":");case"OOOO":default:return"GMT"+rl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Tk(r,":");case"zzzz":default:return"GMT"+rl(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return zt(r,e.length)},T:function(t,e,n){const r=t.getTime();return zt(r,e.length)}};function Tk(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+zt(i,2)}function Ik(t,e){return t%60===0?(t>0?"-":"+")+zt(Math.abs(t)/60,2):rl(t,e)}function rl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=zt(Math.trunc(r/60),2),i=zt(r%60,2);return n+s+e+i}const Rk=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Iae=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Rk(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Rk(r,e)).replace("{{time}}",jj(s,e))},Rae={p:jj,P:Iae},kae=/^D+$/,Nae=/^Y+$/,Mae=["D","DD","YY","YYYY"];function Dae(t){return kae.test(t)}function Pae(t){return Nae.test(t)}function Bae(t,e,n){const r=Oae(t,e,n);if(console.warn(r),Mae.includes(t))throw new RangeError(r)}function Oae(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Lae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fae=/^'([^]*?)'?$/,Uae=/''/g,zae=/[a-zA-Z]/;function sl(t,e,n){var u,f,h,m;const r=Up(),s=r.locale??Oj,i=r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,a=Xt(t);if(!Ooe(a))throw new RangeError("Invalid time value");let c=e.match(jae).map(v=>{const g=v[0];if(g==="p"||g==="P"){const y=Rae[g];return y(v,s.formatLong)}return v}).join("").match(Lae).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:Vae(v)};if(Ck[g])return{isToken:!0,value:v};if(g.match(zae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const l={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const g=v.value;(Pae(g)||Dae(g))&&Bae(g,e,String(t));const y=Ck[g[0]];return y(a,g,s.localize,l)}).join("")}function Vae(t){const e=t.match(Fae);return e?e[1].replace(Uae,"'"):t}function Wae(t,e,n){const r=Up(),s=(n==null?void 0:n.locale)??r.locale??Oj,i=2520,o=Kg(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,l;o>0?(c=Xt(e),l=Xt(t)):(c=Xt(t),l=Xt(e));const u=$oe(l,c),f=(hv(l)-hv(c))/1e3,h=Math.round((u-f)/60);let m;if(h<2)return n!=null&&n.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,a):u<10?s.formatDistance("lessThanXSeconds",10,a):u<20?s.formatDistance("lessThanXSeconds",20,a):u<40?s.formatDistance("halfAMinute",0,a):u<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):h===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",h,a);if(h<45)return s.formatDistance("xMinutes",h,a);if(h<90)return s.formatDistance("aboutXHours",1,a);if(h<Ak){const v=Math.round(h/60);return s.formatDistance("aboutXHours",v,a)}else{if(h<i)return s.formatDistance("xDays",1,a);if(h<Zm){const v=Math.round(h/Ak);return s.formatDistance("xDays",v,a)}else if(h<Zm*2)return m=Math.round(h/Zm),s.formatDistance("aboutXMonths",m,a)}if(m=Woe(l,c),m<12){const v=Math.round(h/Zm);return s.formatDistance("xMonths",v,a)}else{const v=m%12,g=Math.trunc(m/12);return v<3?s.formatDistance("aboutXYears",g,a):v<9?s.formatDistance("overXYears",g,a):s.formatDistance("almostXYears",g+1,a)}}function kk(t,e){return Wae(t,Poe(t),e)}function $ae(){const{id:t}=hP(),{toast:e}=mp(),[n,r]=I.useState(!1),{data:s,isLoading:i,error:o,refetch:a}=No({queryKey:["campaign",t],queryFn:()=>V0.get(t),enabled:!!t}),{data:c,refetch:l}=No({queryKey:["contributions",t],queryFn:()=>V0.getContributions(t),enabled:!!t});if(I.useEffect(()=>{if(!t)return;Da.subscribeToCampaign(t);const g=E=>{E.id===t&&a()},y=E=>{E.campaignId===t&&(l(),a())};return Da.on("campaign_update",g),Da.on("new_contribution",y),()=>{Da.unsubscribeFromCampaign(t),Da.off("campaign_update",g),Da.off("new_contribution",y)}},[t,a,l]),i)return d.jsx(Pd,{children:d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx(M0,{className:"h-8 w-8 animate-spin"})})});if(o||!(s!=null&&s.success))return d.jsx(Pd,{children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Campaign Not Found"}),d.jsx("p",{className:"text-muted-foreground",children:"The campaign you're looking for doesn't exist."})]})});const u=s.campaign,f=(c==null?void 0:c.contributions)||[],h=u.currentAmount/u.targetAmount*100,m=new Date(u.deadline)>new Date?kk(new Date(u.deadline),{addSuffix:!0}):"Ended",v=g=>{navigator.clipboard.writeText(g),e({title:"Address Copied",description:"Address copied to clipboard"})};return d.jsx(Pd,{children:d.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs(Bt,{children:[d.jsx(gn,{children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[u.tokenLogoUrl&&d.jsx("img",{src:u.tokenLogoUrl,alt:u.tokenSymbol,className:"w-16 h-16 rounded-full"}),d.jsxs("div",{children:[d.jsx(yn,{className:"text-2xl",children:u.tokenName}),d.jsxs(rc,{className:"text-lg",children:["$",u.tokenSymbol]})]})]}),d.jsx(Wr,{variant:u.status==="active"?"default":"secondary",children:u.status})]})}),d.jsxs(Ot,{children:[d.jsx("p",{className:"text-muted-foreground mb-6",children:u.description}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Campaign Type"}),d.jsx("p",{className:"font-medium",children:u.campaignType.split("_").map(g=>g.charAt(0).toUpperCase()+g.slice(1)).join(" ")})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Created"}),d.jsx("p",{className:"font-medium",children:sl(new Date(u.createdAt),"PPP")})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Token Address"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("code",{className:"text-xs",children:[u.tokenAddress.slice(0,8),"..."]}),d.jsx(wt,{size:"sm",variant:"ghost",onClick:()=>v(u.tokenAddress),children:d.jsx(Eg,{className:"h-3 w-3"})})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Creator"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("code",{className:"text-xs",children:[u.creatorAddress.slice(0,8),"..."]}),d.jsx(wt,{size:"sm",variant:"ghost",onClick:()=>v(u.creatorAddress),children:d.jsx(Eg,{className:"h-3 w-3"})})]})]})]})]})]}),d.jsxs(dC,{defaultValue:"contributions",className:"w-full",children:[d.jsxs(Kx,{className:"grid w-full grid-cols-2",children:[d.jsx(vi,{value:"contributions",children:"Contributions"}),d.jsx(vi,{value:"updates",children:"Updates"})]}),d.jsx(xi,{value:"contributions",className:"space-y-4",children:d.jsxs(Bt,{children:[d.jsxs(gn,{children:[d.jsx(yn,{children:"Recent Contributors"}),d.jsxs(rc,{children:[f.length," total contributions"]})]}),d.jsx(Ot,{children:f.length>0?d.jsxs(o0,{children:[d.jsx(a0,{children:d.jsxs(Io,{children:[d.jsx(Sn,{children:"Contributor"}),d.jsx(Sn,{children:"Amount"}),d.jsx(Sn,{children:"Time"}),d.jsx(Sn,{children:"Status"})]})}),d.jsx(c0,{children:f.map(g=>d.jsxs(Io,{children:[d.jsx(Cn,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(d8,{className:"h-4 w-4 text-muted-foreground"}),d.jsxs("code",{className:"text-xs",children:[g.contributorAddress.slice(0,8),"...",g.contributorAddress.slice(-6)]})]})}),d.jsxs(Cn,{children:["$",g.amount.toFixed(2)]}),d.jsx(Cn,{children:kk(new Date(g.timestamp),{addSuffix:!0})}),d.jsx(Cn,{children:d.jsx(Wr,{variant:g.status==="confirmed"?"default":"secondary",children:g.status})})]},g.id))})]}):d.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No contributions yet. Be the first to support this campaign!"})})]})}),d.jsx(xi,{value:"updates",className:"space-y-4",children:d.jsx(Bt,{children:d.jsx(Ot,{className:"pt-6",children:d.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No updates yet. Check back later for campaign progress updates."})})})})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Bt,{children:[d.jsx(gn,{children:d.jsx(yn,{children:"Funding Progress"})}),d.jsxs(Ot,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsxs("span",{className:"text-2xl font-bold",children:["$",u.currentAmount.toFixed(2)]}),d.jsxs("span",{className:"text-muted-foreground",children:["of $",u.targetAmount.toFixed(2)]})]}),d.jsx(Pl,{value:h,className:"h-3"}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[h.toFixed(1),"% funded"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center mb-1",children:[d.jsx(wp,{className:"h-4 w-4 mr-1"}),d.jsx("span",{className:"font-semibold",children:f.length})]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Contributors"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center mb-1",children:[d.jsx(a8,{className:"h-4 w-4 mr-1"}),d.jsx("span",{className:"font-semibold",children:m})]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Time left"})]})]}),u.status==="active"&&d.jsxs(wt,{className:"w-full",size:"lg",onClick:()=>r(!0),children:[d.jsx(ZA,{className:"mr-2 h-4 w-4"}),"Contribute Now"]}),d.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[d.jsx("p",{className:"text-sm font-medium",children:"Campaign Wallet"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("code",{className:"text-xs bg-muted p-2 rounded flex-1 overflow-hidden text-ellipsis",children:u.walletAddress}),d.jsx(wt,{size:"sm",variant:"outline",onClick:()=>v(u.walletAddress),children:d.jsx(Eg,{className:"h-3 w-3"})})]}),d.jsxs("a",{href:`https://solscan.io/account/${u.walletAddress}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-primary transition-colors",children:["View on Solscan",d.jsx(c8,{className:"h-3 w-3"})]})]})]})]}),u.status==="completed"&&u.serviceDetails&&d.jsxs(Bt,{children:[d.jsx(gn,{children:d.jsx(yn,{children:"Service Status"})}),d.jsxs(Ot,{children:[d.jsx(Wr,{className:"mb-2",children:"Active"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"The DexScreener service has been successfully purchased and activated."})]})]})]})]}),d.jsx(Toe,{campaign:u,isOpen:n,onClose:()=>r(!1),onSuccess:()=>{a(),l()}})]})})}class Hae{constructor(){this.rateLimitDelay=100,this.lastRequestTime=0,this.requestQueue=[],this.isProcessingQueue=!1,this.apiKey="",this.baseUrl="https://rpc.helius.xyz",this.apiKey||console.warn("Helius API key not configured. Token validation will use fallback methods.")}async enforceRateLimit(){const n=Date.now()-this.lastRequestTime;n<this.rateLimitDelay&&await new Promise(r=>setTimeout(r,this.rateLimitDelay-n)),this.lastRequestTime=Date.now()}async queueRequest(e){return new Promise((n,r)=>{this.requestQueue.push(async()=>{try{await this.enforceRateLimit();const s=await e();n(s)}catch(s){r(s)}}),this.processQueue()})}async processQueue(){if(!(this.isProcessingQueue||this.requestQueue.length===0)){for(this.isProcessingQueue=!0;this.requestQueue.length>0;){const e=this.requestQueue.shift();if(e)try{await e()}catch(n){console.error("Queued request failed:",n)}}this.isProcessingQueue=!1}}async makeRequest(e,n,r=3){const s=`${this.baseUrl}/?api-key=${this.apiKey}`;for(let i=1;i<=r;i++)try{return await pt.post(s,n,{headers:{"Content-Type":"application/json"},timeout:1e4})}catch(o){const a=o;if(a.response&&a.response.status>=400&&a.response.status<500||i===r)throw o;const c=Math.min(1e3*Math.pow(2,i-1),5e3);await new Promise(l=>setTimeout(l,c))}throw new Error("Max retries exceeded")}async validateToken(e){console.log(`[Helius API] Validating token: ${e}`);try{return!e||e.length<32||e.length>44?(console.log(`[Helius API] Invalid address format: ${e}`),{isValid:!1,error:"Invalid Solana address format",contractAddress:e}):this.apiKey?await this.queueRequest(async()=>{console.log(`[Helius API] Sending request for token: ${e}`);const n=await this.makeRequest("",{jsonrpc:"2.0",id:`validate-${e}`,method:"getAsset",params:{id:e,displayOptions:{showCollectionMetadata:!0,showGrandTotal:!0,showUnverifiedCollections:!0,showNativeBalance:!0}}});console.log("[Helius API] Response received:",n.data);const r=n.data.result;if(!r)return console.log(`[Helius API] Token not found: ${e}`),{isValid:!1,error:"Token not found",exists:!1,contractAddress:e};const s=this.parseTokenMetadata(r);return console.log("[Helius API] Token metadata parsed:",s),{isValid:!0,metadata:s,exists:!0,contractAddress:e}}):(console.log("[Helius API] No API key configured, using fallback"),await this.validateTokenFallback(e))}catch(n){console.error("Token validation error:",n);const r=n;let s="Token validation failed";if(r.response)switch(r.response.status){case 404:s="Token not found";break;case 429:s="Rate limit exceeded. Please try again in a moment.";break;case 500:s="Helius service temporarily unavailable";break;default:s="Failed to validate token"}else r.code==="ECONNABORTED"?s="Request timeout. Please check your connection.":r.code==="NETWORK_ERROR"&&(s="Network error. Please check your connection.");return{isValid:!1,error:s,contractAddress:e}}}async validateTokenFallback(e){try{if(!/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(e))return{isValid:!1,error:"Invalid Solana address format",contractAddress:e};console.log(`[Helius API] Using DAS API for token: ${e}`);try{const r=await pt.post("https://mainnet.helius-rpc.com/?api-key=8349bc43-3182-420a-bade-44ea90bf1c53",{jsonrpc:"2.0",id:"get-asset",method:"getAsset",params:{id:e}},{headers:{"Content-Type":"application/json"},timeout:1e4});if(r.data.result){const s=this.parseTokenMetadata(r.data.result);return console.log("[Helius API] Token metadata retrieved:",s),{isValid:!0,metadata:s,exists:!0,contractAddress:e}}}catch{console.log("[Helius API] DAS API failed, using basic validation")}return{isValid:!0,metadata:{name:"Unknown Token",symbol:"UNKNOWN",description:"Token metadata not available",verified:!1},exists:!0,contractAddress:e}}catch{return{isValid:!1,error:"Address validation failed",contractAddress:e}}}parseTokenMetadata(e){var o,a,c,l,u,f,h;const n=e.content,r=n.metadata,s=e.token_info,i=this.extractSocialLinks(r.description||"",r.external_url);return{name:r.name||"Unknown Token",symbol:r.symbol||"UNKNOWN",description:r.description,image:r.image||((a=(o=n.files)==null?void 0:o[0])==null?void 0:a.uri),supply:s?parseInt(s.supply):(c=e.supply)==null?void 0:c.print_current_supply,decimals:(s==null?void 0:s.decimals)||9,verified:((l=e.royalty)==null?void 0:l.primary_sale_happened)||!1,mintAuthority:(u=e.authorities.find(m=>m.scopes.includes("mint")))==null?void 0:u.address,freezeAuthority:(f=e.authorities.find(m=>m.scopes.includes("freeze")))==null?void 0:f.address,creators:e.creators||((h=r.properties)==null?void 0:h.creators),attributes:r.attributes,socialLinks:i,extensions:i}}extractSocialLinks(e,n){const r={};n&&(n.includes("twitter.com")||n.includes("x.com")?r.twitter=n:n.includes("t.me")||n.includes("telegram")?r.telegram=n:n.includes("discord")?r.discord=n:r.website=n);const s=/https?:\/\/[^\s]+/g,i=e.match(s)||[];for(const o of i)(o.includes("twitter.com")||o.includes("x.com"))&&!r.twitter?r.twitter=o:(o.includes("t.me")||o.includes("telegram"))&&!r.telegram?r.telegram=o:o.includes("discord")&&!r.discord?r.discord=o:!r.website&&!o.includes("twitter")&&!o.includes("telegram")&&!o.includes("discord")&&(r.website=o);return r}async getTokenBalance(e,n){try{return this.apiKey?await this.queueRequest(async()=>{const s=(await this.makeRequest("",{jsonrpc:"2.0",id:"get-token-balance",method:"getTokenAccountsByOwner",params:[e,{mint:n},{encoding:"jsonParsed"}]})).data.result.value;return s.length===0?0:s.reduce((o,a)=>o+parseInt(a.amount),0)/Math.pow(10,s[0].decimals||9)}):(console.warn("Token balance lookup requires Helius API key"),0)}catch(r){return console.error("Token balance lookup error:",r),0}}async getTokenAnalytics(e){try{return this.apiKey?await this.queueRequest(async()=>({holderCount:0,transactionCount:0,volume24h:0,marketCap:0,price:0})):{}}catch(n){return console.error("Token analytics error:",n),{}}}async checkExistingCampaign(e){return!1}async validateTokenBatch(e){return(await Promise.allSettled(e.map(r=>this.validateToken(r)))).map((r,s)=>r.status==="fulfilled"?r.value:{isValid:!1,error:"Batch validation failed",contractAddress:e[s]})}async healthCheck(){const e=Date.now();try{return this.apiKey?(await this.makeRequest("",{jsonrpc:"2.0",id:"health-check",method:"getVersion"}),{healthy:!0,latency:Date.now()-e}):{healthy:!1,error:"API key not configured"}}catch(n){return{healthy:!1,latency:Date.now()-e,error:n instanceof Error?n.message:"Unknown error"}}}}const qae=new Hae;var Fj={exports:{}};function Kae(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var r_={exports:{}},Nk;function Et(){return Nk||(Nk=1,function(t,e){(function(n,r){t.exports=r()})(Xe,function(){var n=n||function(r,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof Kae=="function")try{i=y6}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function w(){}return function(x){var b;return w.prototype=x,b=new w,w.prototype=null,b}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(w){var x=a(this);return w&&x.mixIn(w),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var x in w)w.hasOwnProperty(x)&&(this[x]=w[x]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=u.extend({init:function(w,x){w=this.words=w||[],x!=s?this.sigBytes=x:this.sigBytes=w.length*4},toString:function(w){return(w||m).stringify(this)},concat:function(w){var x=this.words,b=w.words,D=this.sigBytes,L=w.sigBytes;if(this.clamp(),D%4)for(var T=0;T<L;T++){var R=b[T>>>2]>>>24-T%4*8&255;x[D+T>>>2]|=R<<24-(D+T)%4*8}else for(var F=0;F<L;F+=4)x[D+F>>>2]=b[F>>>2];return this.sigBytes+=L,this},clamp:function(){var w=this.words,x=this.sigBytes;w[x>>>2]&=4294967295<<32-x%4*8,w.length=r.ceil(x/4)},clone:function(){var w=u.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var x=[],b=0;b<w;b+=4)x.push(o());return new f.init(x,w)}}),h=c.enc={},m=h.Hex={stringify:function(w){for(var x=w.words,b=w.sigBytes,D=[],L=0;L<b;L++){var T=x[L>>>2]>>>24-L%4*8&255;D.push((T>>>4).toString(16)),D.push((T&15).toString(16))}return D.join("")},parse:function(w){for(var x=w.length,b=[],D=0;D<x;D+=2)b[D>>>3]|=parseInt(w.substr(D,2),16)<<24-D%8*4;return new f.init(b,x/2)}},v=h.Latin1={stringify:function(w){for(var x=w.words,b=w.sigBytes,D=[],L=0;L<b;L++){var T=x[L>>>2]>>>24-L%4*8&255;D.push(String.fromCharCode(T))}return D.join("")},parse:function(w){for(var x=w.length,b=[],D=0;D<x;D++)b[D>>>2]|=(w.charCodeAt(D)&255)<<24-D%4*8;return new f.init(b,x)}},g=h.Utf8={stringify:function(w){try{return decodeURIComponent(escape(v.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return v.parse(unescape(encodeURIComponent(w)))}},y=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=g.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var x,b=this._data,D=b.words,L=b.sigBytes,T=this.blockSize,R=T*4,F=L/R;w?F=r.ceil(F):F=r.max((F|0)-this._minBufferSize,0);var P=F*T,U=r.min(P*4,L);if(P){for(var W=0;W<P;W+=T)this._doProcessBlock(D,W);x=D.splice(0,P),b.sigBytes-=U}return new f.init(x,U)},clone:function(){var w=u.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});l.Hasher=y.extend({cfg:u.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){w&&this._append(w);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(w){return function(x,b){return new w.init(b).finalize(x)}},_createHmacHelper:function(w){return function(x,b){return new E.HMAC.init(w,b).finalize(x)}}});var E=c.algo={};return c}(Math);return n})}(r_)),r_.exports}var s_={exports:{}},Mk;function Qx(){return Mk||(Mk=1,function(t,e){(function(n,r){t.exports=r(Et())})(Xe,function(n){return function(r){var s=n,i=s.lib,o=i.Base,a=i.WordArray,c=s.x64={};c.Word=o.extend({init:function(l,u){this.high=l,this.low=u}}),c.WordArray=o.extend({init:function(l,u){l=this.words=l||[],u!=r?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,f=[],h=0;h<u;h++){var m=l[h];f.push(m.high),f.push(m.low)}return a.create(f,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),u=l.words=this.words.slice(0),f=u.length,h=0;h<f;h++)u[h]=u[h].clone();return l}})}(),n})}(s_)),s_.exports}var i_={exports:{}},Dk;function Gae(){return Dk||(Dk=1,function(t,e){(function(n,r){t.exports=r(Et())})(Xe,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,s=r.lib,i=s.WordArray,o=i.init,a=i.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],f=0;f<l;f++)u[f>>>2]|=c[f]<<24-f%4*8;o.call(this,u,l)}else o.apply(this,arguments)};a.prototype=i}}(),n.lib.WordArray})}(i_)),i_.exports}var o_={exports:{}},Pk;function Qae(){return Pk||(Pk=1,function(t,e){(function(n,r){t.exports=r(Et())})(Xe,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var m=l[h>>>2]>>>16-h%4*8&65535;f.push(String.fromCharCode(m))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return i.create(u,l*2)}},o.Utf16LE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var m=a(l[h>>>2]>>>16-h%4*8&65535);f.push(String.fromCharCode(m))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=a(c.charCodeAt(f)<<16-f%2*16);return i.create(u,l*2)}};function a(c){return c<<8&4278255360|c>>>8&16711935}}(),n.enc.Utf16})}(o_)),o_.exports}var a_={exports:{}},Bk;function hu(){return Bk||(Bk=1,function(t,e){(function(n,r){t.exports=r(Et())})(Xe,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.enc;o.Base64={stringify:function(c){var l=c.words,u=c.sigBytes,f=this._map;c.clamp();for(var h=[],m=0;m<u;m+=3)for(var v=l[m>>>2]>>>24-m%4*8&255,g=l[m+1>>>2]>>>24-(m+1)%4*8&255,y=l[m+2>>>2]>>>24-(m+2)%4*8&255,E=v<<16|g<<8|y,w=0;w<4&&m+w*.75<u;w++)h.push(f.charAt(E>>>6*(3-w)&63));var x=f.charAt(64);if(x)for(;h.length%4;)h.push(x);return h.join("")},parse:function(c){var l=c.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<u.length;h++)f[u.charCodeAt(h)]=h}var m=u.charAt(64);if(m){var v=c.indexOf(m);v!==-1&&(l=v)}return a(c,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,l,u){for(var f=[],h=0,m=0;m<l;m++)if(m%4){var v=u[c.charCodeAt(m-1)]<<m%4*2,g=u[c.charCodeAt(m)]>>>6-m%4*2,y=v|g;f[h>>>2]|=y<<24-h%4*8,h++}return i.create(f,h)}}(),n.enc.Base64})}(a_)),a_.exports}var c_={exports:{}},Ok;function Yae(){return Ok||(Ok=1,function(t,e){(function(n,r){t.exports=r(Et())})(Xe,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.enc;o.Base64url={stringify:function(c,l){l===void 0&&(l=!0);var u=c.words,f=c.sigBytes,h=l?this._safe_map:this._map;c.clamp();for(var m=[],v=0;v<f;v+=3)for(var g=u[v>>>2]>>>24-v%4*8&255,y=u[v+1>>>2]>>>24-(v+1)%4*8&255,E=u[v+2>>>2]>>>24-(v+2)%4*8&255,w=g<<16|y<<8|E,x=0;x<4&&v+x*.75<f;x++)m.push(h.charAt(w>>>6*(3-x)&63));var b=h.charAt(64);if(b)for(;m.length%4;)m.push(b);return m.join("")},parse:function(c,l){l===void 0&&(l=!0);var u=c.length,f=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var m=0;m<f.length;m++)h[f.charCodeAt(m)]=m}var v=f.charAt(64);if(v){var g=c.indexOf(v);g!==-1&&(u=g)}return a(c,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(c,l,u){for(var f=[],h=0,m=0;m<l;m++)if(m%4){var v=u[c.charCodeAt(m-1)]<<m%4*2,g=u[c.charCodeAt(m)]>>>6-m%4*2,y=v|g;f[h>>>2]|=y<<24-h%4*8,h++}return i.create(f,h)}}(),n.enc.Base64url})}(c_)),c_.exports}var l_={exports:{}},Lk;function pu(){return Lk||(Lk=1,function(t,e){(function(n,r){t.exports=r(Et())})(Xe,function(n){return function(r){var s=n,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,l=[];(function(){for(var g=0;g<64;g++)l[g]=r.abs(r.sin(g+1))*4294967296|0})();var u=c.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,y){for(var E=0;E<16;E++){var w=y+E,x=g[w];g[w]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var b=this._hash.words,D=g[y+0],L=g[y+1],T=g[y+2],R=g[y+3],F=g[y+4],P=g[y+5],U=g[y+6],W=g[y+7],S=g[y+8],_=g[y+9],C=g[y+10],O=g[y+11],H=g[y+12],j=g[y+13],z=g[y+14],K=g[y+15],B=b[0],A=b[1],$=b[2],X=b[3];B=f(B,A,$,X,D,7,l[0]),X=f(X,B,A,$,L,12,l[1]),$=f($,X,B,A,T,17,l[2]),A=f(A,$,X,B,R,22,l[3]),B=f(B,A,$,X,F,7,l[4]),X=f(X,B,A,$,P,12,l[5]),$=f($,X,B,A,U,17,l[6]),A=f(A,$,X,B,W,22,l[7]),B=f(B,A,$,X,S,7,l[8]),X=f(X,B,A,$,_,12,l[9]),$=f($,X,B,A,C,17,l[10]),A=f(A,$,X,B,O,22,l[11]),B=f(B,A,$,X,H,7,l[12]),X=f(X,B,A,$,j,12,l[13]),$=f($,X,B,A,z,17,l[14]),A=f(A,$,X,B,K,22,l[15]),B=h(B,A,$,X,L,5,l[16]),X=h(X,B,A,$,U,9,l[17]),$=h($,X,B,A,O,14,l[18]),A=h(A,$,X,B,D,20,l[19]),B=h(B,A,$,X,P,5,l[20]),X=h(X,B,A,$,C,9,l[21]),$=h($,X,B,A,K,14,l[22]),A=h(A,$,X,B,F,20,l[23]),B=h(B,A,$,X,_,5,l[24]),X=h(X,B,A,$,z,9,l[25]),$=h($,X,B,A,R,14,l[26]),A=h(A,$,X,B,S,20,l[27]),B=h(B,A,$,X,j,5,l[28]),X=h(X,B,A,$,T,9,l[29]),$=h($,X,B,A,W,14,l[30]),A=h(A,$,X,B,H,20,l[31]),B=m(B,A,$,X,P,4,l[32]),X=m(X,B,A,$,S,11,l[33]),$=m($,X,B,A,O,16,l[34]),A=m(A,$,X,B,z,23,l[35]),B=m(B,A,$,X,L,4,l[36]),X=m(X,B,A,$,F,11,l[37]),$=m($,X,B,A,W,16,l[38]),A=m(A,$,X,B,C,23,l[39]),B=m(B,A,$,X,j,4,l[40]),X=m(X,B,A,$,D,11,l[41]),$=m($,X,B,A,R,16,l[42]),A=m(A,$,X,B,U,23,l[43]),B=m(B,A,$,X,_,4,l[44]),X=m(X,B,A,$,H,11,l[45]),$=m($,X,B,A,K,16,l[46]),A=m(A,$,X,B,T,23,l[47]),B=v(B,A,$,X,D,6,l[48]),X=v(X,B,A,$,W,10,l[49]),$=v($,X,B,A,z,15,l[50]),A=v(A,$,X,B,P,21,l[51]),B=v(B,A,$,X,H,6,l[52]),X=v(X,B,A,$,R,10,l[53]),$=v($,X,B,A,C,15,l[54]),A=v(A,$,X,B,L,21,l[55]),B=v(B,A,$,X,S,6,l[56]),X=v(X,B,A,$,K,10,l[57]),$=v($,X,B,A,U,15,l[58]),A=v(A,$,X,B,j,21,l[59]),B=v(B,A,$,X,F,6,l[60]),X=v(X,B,A,$,O,10,l[61]),$=v($,X,B,A,T,15,l[62]),A=v(A,$,X,B,_,21,l[63]),b[0]=b[0]+B|0,b[1]=b[1]+A|0,b[2]=b[2]+$|0,b[3]=b[3]+X|0},_doFinalize:function(){var g=this._data,y=g.words,E=this._nDataBytes*8,w=g.sigBytes*8;y[w>>>5]|=128<<24-w%32;var x=r.floor(E/4294967296),b=E;y[(w+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,y[(w+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,g.sigBytes=(y.length+1)*4,this._process();for(var D=this._hash,L=D.words,T=0;T<4;T++){var R=L[T];L[T]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return D},clone:function(){var g=a.clone.call(this);return g._hash=this._hash.clone(),g}});function f(g,y,E,w,x,b,D){var L=g+(y&E|~y&w)+x+D;return(L<<b|L>>>32-b)+y}function h(g,y,E,w,x,b,D){var L=g+(y&w|E&~w)+x+D;return(L<<b|L>>>32-b)+y}function m(g,y,E,w,x,b,D){var L=g+(y^E^w)+x+D;return(L<<b|L>>>32-b)+y}function v(g,y,E,w,x,b,D){var L=g+(E^(y|~w))+x+D;return(L<<b|L>>>32-b)+y}s.MD5=a._createHelper(u),s.HmacMD5=a._createHmacHelper(u)}(Math),n.MD5})}(l_)),l_.exports}var u_={exports:{}},jk;function Uj(){return jk||(jk=1,function(t,e){(function(n,r){t.exports=r(Et())})(Xe,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=s.Hasher,a=r.algo,c=[],l=a.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var h=this._hash.words,m=h[0],v=h[1],g=h[2],y=h[3],E=h[4],w=0;w<80;w++){if(w<16)c[w]=u[f+w]|0;else{var x=c[w-3]^c[w-8]^c[w-14]^c[w-16];c[w]=x<<1|x>>>31}var b=(m<<5|m>>>27)+E+c[w];w<20?b+=(v&g|~v&y)+1518500249:w<40?b+=(v^g^y)+1859775393:w<60?b+=(v&g|v&y|g&y)-1894007588:b+=(v^g^y)-899497514,E=y,y=g,g=v<<30|v>>>2,v=m,m=b}h[0]=h[0]+m|0,h[1]=h[1]+v|0,h[2]=h[2]+g|0,h[3]=h[3]+y|0,h[4]=h[4]+E|0},_doFinalize:function(){var u=this._data,f=u.words,h=this._nDataBytes*8,m=u.sigBytes*8;return f[m>>>5]|=128<<24-m%32,f[(m+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(m+64>>>9<<4)+15]=h,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});r.SHA1=o._createHelper(l),r.HmacSHA1=o._createHmacHelper(l)}(),n.SHA1})}(u_)),u_.exports}var d_={exports:{}},Fk;function yC(){return Fk||(Fk=1,function(t,e){(function(n,r){t.exports=r(Et())})(Xe,function(n){return function(r){var s=n,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,l=[],u=[];(function(){function m(E){for(var w=r.sqrt(E),x=2;x<=w;x++)if(!(E%x))return!1;return!0}function v(E){return(E-(E|0))*4294967296|0}for(var g=2,y=0;y<64;)m(g)&&(y<8&&(l[y]=v(r.pow(g,1/2))),u[y]=v(r.pow(g,1/3)),y++),g++})();var f=[],h=c.SHA256=a.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(m,v){for(var g=this._hash.words,y=g[0],E=g[1],w=g[2],x=g[3],b=g[4],D=g[5],L=g[6],T=g[7],R=0;R<64;R++){if(R<16)f[R]=m[v+R]|0;else{var F=f[R-15],P=(F<<25|F>>>7)^(F<<14|F>>>18)^F>>>3,U=f[R-2],W=(U<<15|U>>>17)^(U<<13|U>>>19)^U>>>10;f[R]=P+f[R-7]+W+f[R-16]}var S=b&D^~b&L,_=y&E^y&w^E&w,C=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),O=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),H=T+O+S+u[R]+f[R],j=C+_;T=L,L=D,D=b,b=x+H|0,x=w,w=E,E=y,y=H+j|0}g[0]=g[0]+y|0,g[1]=g[1]+E|0,g[2]=g[2]+w|0,g[3]=g[3]+x|0,g[4]=g[4]+b|0,g[5]=g[5]+D|0,g[6]=g[6]+L|0,g[7]=g[7]+T|0},_doFinalize:function(){var m=this._data,v=m.words,g=this._nDataBytes*8,y=m.sigBytes*8;return v[y>>>5]|=128<<24-y%32,v[(y+64>>>9<<4)+14]=r.floor(g/4294967296),v[(y+64>>>9<<4)+15]=g,m.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});s.SHA256=a._createHelper(h),s.HmacSHA256=a._createHmacHelper(h)}(Math),n.SHA256})}(d_)),d_.exports}var f_={exports:{}},Uk;function Xae(){return Uk||(Uk=1,function(t,e){(function(n,r,s){t.exports=r(Et(),yC())})(Xe,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.algo,a=o.SHA256,c=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=a._doFinalize.call(this);return l.sigBytes-=4,l}});r.SHA224=a._createHelper(c),r.HmacSHA224=a._createHmacHelper(c)}(),n.SHA224})}(f_)),f_.exports}var h_={exports:{}},zk;function zj(){return zk||(zk=1,function(t,e){(function(n,r,s){t.exports=r(Et(),Qx())})(Xe,function(n){return function(){var r=n,s=r.lib,i=s.Hasher,o=r.x64,a=o.Word,c=o.WordArray,l=r.algo;function u(){return a.create.apply(a,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var v=0;v<80;v++)h[v]=u()})();var m=l.SHA512=i.extend({_doReset:function(){this._hash=new c.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(v,g){for(var y=this._hash.words,E=y[0],w=y[1],x=y[2],b=y[3],D=y[4],L=y[5],T=y[6],R=y[7],F=E.high,P=E.low,U=w.high,W=w.low,S=x.high,_=x.low,C=b.high,O=b.low,H=D.high,j=D.low,z=L.high,K=L.low,B=T.high,A=T.low,$=R.high,X=R.low,oe=F,ae=P,ce=U,le=W,ye=S,Re=_,be=C,xe=O,Oe=H,Te=j,He=z,Rt=K,rt=B,ht=A,zn=$,dt=X,ue=0;ue<80;ue++){var st,lt,bt=h[ue];if(ue<16)lt=bt.high=v[g+ue*2]|0,st=bt.low=v[g+ue*2+1]|0;else{var _n=h[ue-15],Ze=_n.high,q=_n.low,N=(Ze>>>1|q<<31)^(Ze>>>8|q<<24)^Ze>>>7,M=(q>>>1|Ze<<31)^(q>>>8|Ze<<24)^(q>>>7|Ze<<25),Q=h[ue-2],Z=Q.high,J=Q.low,re=(Z>>>19|J<<13)^(Z<<3|J>>>29)^Z>>>6,Je=(J>>>19|Z<<13)^(J<<3|Z>>>29)^(J>>>6|Z<<26),qe=h[ue-7],Qe=qe.high,jt=qe.low,Fe=h[ue-16],sn=Fe.high,ca=Fe.low;st=M+jt,lt=N+Qe+(st>>>0<M>>>0?1:0),st=st+Je,lt=lt+re+(st>>>0<Je>>>0?1:0),st=st+ca,lt=lt+sn+(st>>>0<ca>>>0?1:0),bt.high=lt,bt.low=st}var $t=Oe&He^~Oe&rt,Kt=Te&Rt^~Te&ht,la=oe&ce^oe&ye^ce&ye,Pt=ae&le^ae&Re^le&Re,on=(oe>>>28|ae<<4)^(oe<<30|ae>>>2)^(oe<<25|ae>>>7),Di=(ae>>>28|oe<<4)^(ae<<30|oe>>>2)^(ae<<25|oe>>>7),an=(Oe>>>14|Te<<18)^(Oe>>>18|Te<<14)^(Oe<<23|Te>>>9),Ht=(Te>>>14|Oe<<18)^(Te>>>18|Oe<<14)^(Te<<23|Oe>>>9),ua=f[ue],ft=ua.high,Zt=ua.low,Pn=dt+Ht,vt=zn+an+(Pn>>>0<dt>>>0?1:0),Pn=Pn+Kt,vt=vt+$t+(Pn>>>0<Kt>>>0?1:0),Pn=Pn+Zt,vt=vt+ft+(Pn>>>0<Zt>>>0?1:0),Pn=Pn+st,vt=vt+lt+(Pn>>>0<st>>>0?1:0),cn=Di+Pt,xu=on+la+(cn>>>0<Di>>>0?1:0);zn=rt,dt=ht,rt=He,ht=Rt,He=Oe,Rt=Te,Te=xe+Pn|0,Oe=be+vt+(Te>>>0<xe>>>0?1:0)|0,be=ye,xe=Re,ye=ce,Re=le,ce=oe,le=ae,ae=Pn+cn|0,oe=vt+xu+(ae>>>0<Pn>>>0?1:0)|0}P=E.low=P+ae,E.high=F+oe+(P>>>0<ae>>>0?1:0),W=w.low=W+le,w.high=U+ce+(W>>>0<le>>>0?1:0),_=x.low=_+Re,x.high=S+ye+(_>>>0<Re>>>0?1:0),O=b.low=O+xe,b.high=C+be+(O>>>0<xe>>>0?1:0),j=D.low=j+Te,D.high=H+Oe+(j>>>0<Te>>>0?1:0),K=L.low=K+Rt,L.high=z+He+(K>>>0<Rt>>>0?1:0),A=T.low=A+ht,T.high=B+rt+(A>>>0<ht>>>0?1:0),X=R.low=X+dt,R.high=$+zn+(X>>>0<dt>>>0?1:0)},_doFinalize:function(){var v=this._data,g=v.words,y=this._nDataBytes*8,E=v.sigBytes*8;g[E>>>5]|=128<<24-E%32,g[(E+128>>>10<<5)+30]=Math.floor(y/4294967296),g[(E+128>>>10<<5)+31]=y,v.sigBytes=g.length*4,this._process();var w=this._hash.toX32();return w},clone:function(){var v=i.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:1024/32});r.SHA512=i._createHelper(m),r.HmacSHA512=i._createHmacHelper(m)}(),n.SHA512})}(h_)),h_.exports}var p_={exports:{}},Vk;function Zae(){return Vk||(Vk=1,function(t,e){(function(n,r,s){t.exports=r(Et(),Qx(),zj())})(Xe,function(n){return function(){var r=n,s=r.x64,i=s.Word,o=s.WordArray,a=r.algo,c=a.SHA512,l=a.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u}});r.SHA384=c._createHelper(l),r.HmacSHA384=c._createHmacHelper(l)}(),n.SHA384})}(p_)),p_.exports}var m_={exports:{}},Wk;function Jae(){return Wk||(Wk=1,function(t,e){(function(n,r,s){t.exports=r(Et(),Qx())})(Xe,function(n){return function(r){var s=n,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.x64,l=c.Word,u=s.algo,f=[],h=[],m=[];(function(){for(var y=1,E=0,w=0;w<24;w++){f[y+5*E]=(w+1)*(w+2)/2%64;var x=E%5,b=(2*y+3*E)%5;y=x,E=b}for(var y=0;y<5;y++)for(var E=0;E<5;E++)h[y+5*E]=E+(2*y+3*E)%5*5;for(var D=1,L=0;L<24;L++){for(var T=0,R=0,F=0;F<7;F++){if(D&1){var P=(1<<F)-1;P<32?R^=1<<P:T^=1<<P-32}D&128?D=D<<1^113:D<<=1}m[L]=l.create(T,R)}})();var v=[];(function(){for(var y=0;y<25;y++)v[y]=l.create()})();var g=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var y=this._state=[],E=0;E<25;E++)y[E]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(y,E){for(var w=this._state,x=this.blockSize/2,b=0;b<x;b++){var D=y[E+2*b],L=y[E+2*b+1];D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,L=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360;var T=w[b];T.high^=L,T.low^=D}for(var R=0;R<24;R++){for(var F=0;F<5;F++){for(var P=0,U=0,W=0;W<5;W++){var T=w[F+5*W];P^=T.high,U^=T.low}var S=v[F];S.high=P,S.low=U}for(var F=0;F<5;F++)for(var _=v[(F+4)%5],C=v[(F+1)%5],O=C.high,H=C.low,P=_.high^(O<<1|H>>>31),U=_.low^(H<<1|O>>>31),W=0;W<5;W++){var T=w[F+5*W];T.high^=P,T.low^=U}for(var j=1;j<25;j++){var P,U,T=w[j],z=T.high,K=T.low,B=f[j];B<32?(P=z<<B|K>>>32-B,U=K<<B|z>>>32-B):(P=K<<B-32|z>>>64-B,U=z<<B-32|K>>>64-B);var A=v[h[j]];A.high=P,A.low=U}var $=v[0],X=w[0];$.high=X.high,$.low=X.low;for(var F=0;F<5;F++)for(var W=0;W<5;W++){var j=F+5*W,T=w[j],oe=v[j],ae=v[(F+1)%5+5*W],ce=v[(F+2)%5+5*W];T.high=oe.high^~ae.high&ce.high,T.low=oe.low^~ae.low&ce.low}var T=w[0],le=m[R];T.high^=le.high,T.low^=le.low}},_doFinalize:function(){var y=this._data,E=y.words;this._nDataBytes*8;var w=y.sigBytes*8,x=this.blockSize*32;E[w>>>5]|=1<<24-w%32,E[(r.ceil((w+1)/x)*x>>>5)-1]|=128,y.sigBytes=E.length*4,this._process();for(var b=this._state,D=this.cfg.outputLength/8,L=D/8,T=[],R=0;R<L;R++){var F=b[R],P=F.high,U=F.low;P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,U=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360,T.push(U),T.push(P)}return new o.init(T,D)},clone:function(){for(var y=a.clone.call(this),E=y._state=this._state.slice(0),w=0;w<25;w++)E[w]=E[w].clone();return y}});s.SHA3=a._createHelper(g),s.HmacSHA3=a._createHmacHelper(g)}(Math),n.SHA3})}(m_)),m_.exports}var g_={exports:{}},$k;function ece(){return $k||($k=1,function(t,e){(function(n,r){t.exports=r(Et())})(Xe,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var s=n,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=o.create([0,1518500249,1859775393,2400959708,2840853838]),v=o.create([1352829926,1548603684,1836072691,2053994217,0]),g=c.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(L,T){for(var R=0;R<16;R++){var F=T+R,P=L[F];L[F]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}var U=this._hash.words,W=m.words,S=v.words,_=l.words,C=u.words,O=f.words,H=h.words,j,z,K,B,A,$,X,oe,ae,ce;$=j=U[0],X=z=U[1],oe=K=U[2],ae=B=U[3],ce=A=U[4];for(var le,R=0;R<80;R+=1)le=j+L[T+_[R]]|0,R<16?le+=y(z,K,B)+W[0]:R<32?le+=E(z,K,B)+W[1]:R<48?le+=w(z,K,B)+W[2]:R<64?le+=x(z,K,B)+W[3]:le+=b(z,K,B)+W[4],le=le|0,le=D(le,O[R]),le=le+A|0,j=A,A=B,B=D(K,10),K=z,z=le,le=$+L[T+C[R]]|0,R<16?le+=b(X,oe,ae)+S[0]:R<32?le+=x(X,oe,ae)+S[1]:R<48?le+=w(X,oe,ae)+S[2]:R<64?le+=E(X,oe,ae)+S[3]:le+=y(X,oe,ae)+S[4],le=le|0,le=D(le,H[R]),le=le+ce|0,$=ce,ce=ae,ae=D(oe,10),oe=X,X=le;le=U[1]+K+ae|0,U[1]=U[2]+B+ce|0,U[2]=U[3]+A+$|0,U[3]=U[4]+j+X|0,U[4]=U[0]+z+oe|0,U[0]=le},_doFinalize:function(){var L=this._data,T=L.words,R=this._nDataBytes*8,F=L.sigBytes*8;T[F>>>5]|=128<<24-F%32,T[(F+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,L.sigBytes=(T.length+1)*4,this._process();for(var P=this._hash,U=P.words,W=0;W<5;W++){var S=U[W];U[W]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return P},clone:function(){var L=a.clone.call(this);return L._hash=this._hash.clone(),L}});function y(L,T,R){return L^T^R}function E(L,T,R){return L&T|~L&R}function w(L,T,R){return(L|~T)^R}function x(L,T,R){return L&R|T&~R}function b(L,T,R){return L^(T|~R)}function D(L,T){return L<<T|L>>>32-T}s.RIPEMD160=a._createHelper(g),s.HmacRIPEMD160=a._createHmacHelper(g)}(),n.RIPEMD160})}(g_)),g_.exports}var y_={exports:{}},Hk;function vC(){return Hk||(Hk=1,function(t,e){(function(n,r){t.exports=r(Et())})(Xe,function(n){(function(){var r=n,s=r.lib,i=s.Base,o=r.enc,a=o.Utf8,c=r.algo;c.HMAC=i.extend({init:function(l,u){l=this._hasher=new l.init,typeof u=="string"&&(u=a.parse(u));var f=l.blockSize,h=f*4;u.sigBytes>h&&(u=l.finalize(u)),u.clamp();for(var m=this._oKey=u.clone(),v=this._iKey=u.clone(),g=m.words,y=v.words,E=0;E<f;E++)g[E]^=1549556828,y[E]^=909522486;m.sigBytes=v.sigBytes=h,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var u=this._hasher,f=u.finalize(l);u.reset();var h=u.finalize(this._oKey.clone().concat(f));return h}})})()})}(y_)),y_.exports}var v_={exports:{}},qk;function tce(){return qk||(qk=1,function(t,e){(function(n,r,s){t.exports=r(Et(),yC(),vC())})(Xe,function(n){return function(){var r=n,s=r.lib,i=s.Base,o=s.WordArray,a=r.algo,c=a.SHA256,l=a.HMAC,u=a.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,h){for(var m=this.cfg,v=l.create(m.hasher,f),g=o.create(),y=o.create([1]),E=g.words,w=y.words,x=m.keySize,b=m.iterations;E.length<x;){var D=v.update(h).finalize(y);v.reset();for(var L=D.words,T=L.length,R=D,F=1;F<b;F++){R=v.finalize(R),v.reset();for(var P=R.words,U=0;U<T;U++)L[U]^=P[U]}g.concat(D),w[0]++}return g.sigBytes=x*4,g}});r.PBKDF2=function(f,h,m){return u.create(m).compute(f,h)}}(),n.PBKDF2})}(v_)),v_.exports}var x_={exports:{}},Kk;function Vc(){return Kk||(Kk=1,function(t,e){(function(n,r,s){t.exports=r(Et(),Uj(),vC())})(Xe,function(n){return function(){var r=n,s=r.lib,i=s.Base,o=s.WordArray,a=r.algo,c=a.MD5,l=a.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var h,m=this.cfg,v=m.hasher.create(),g=o.create(),y=g.words,E=m.keySize,w=m.iterations;y.length<E;){h&&v.update(h),h=v.update(u).finalize(f),v.reset();for(var x=1;x<w;x++)h=v.finalize(h),v.reset();g.concat(h)}return g.sigBytes=E*4,g}});r.EvpKDF=function(u,f,h){return l.create(h).compute(u,f)}}(),n.EvpKDF})}(x_)),x_.exports}var w_={exports:{}},Gk;function pr(){return Gk||(Gk=1,function(t,e){(function(n,r,s){t.exports=r(Et(),Vc())})(Xe,function(n){n.lib.Cipher||function(r){var s=n,i=s.lib,o=i.Base,a=i.WordArray,c=i.BufferedBlockAlgorithm,l=s.enc;l.Utf8;var u=l.Base64,f=s.algo,h=f.EvpKDF,m=i.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(P,U){return this.create(this._ENC_XFORM_MODE,P,U)},createDecryptor:function(P,U){return this.create(this._DEC_XFORM_MODE,P,U)},init:function(P,U,W){this.cfg=this.cfg.extend(W),this._xformMode=P,this._key=U,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(P){return this._append(P),this._process()},finalize:function(P){P&&this._append(P);var U=this._doFinalize();return U},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function P(U){return typeof U=="string"?F:L}return function(U){return{encrypt:function(W,S,_){return P(S).encrypt(U,W,S,_)},decrypt:function(W,S,_){return P(S).decrypt(U,W,S,_)}}}}()});i.StreamCipher=m.extend({_doFinalize:function(){var P=this._process(!0);return P},blockSize:1});var v=s.mode={},g=i.BlockCipherMode=o.extend({createEncryptor:function(P,U){return this.Encryptor.create(P,U)},createDecryptor:function(P,U){return this.Decryptor.create(P,U)},init:function(P,U){this._cipher=P,this._iv=U}}),y=v.CBC=function(){var P=g.extend();P.Encryptor=P.extend({processBlock:function(W,S){var _=this._cipher,C=_.blockSize;U.call(this,W,S,C),_.encryptBlock(W,S),this._prevBlock=W.slice(S,S+C)}}),P.Decryptor=P.extend({processBlock:function(W,S){var _=this._cipher,C=_.blockSize,O=W.slice(S,S+C);_.decryptBlock(W,S),U.call(this,W,S,C),this._prevBlock=O}});function U(W,S,_){var C,O=this._iv;O?(C=O,this._iv=r):C=this._prevBlock;for(var H=0;H<_;H++)W[S+H]^=C[H]}return P}(),E=s.pad={},w=E.Pkcs7={pad:function(P,U){for(var W=U*4,S=W-P.sigBytes%W,_=S<<24|S<<16|S<<8|S,C=[],O=0;O<S;O+=4)C.push(_);var H=a.create(C,S);P.concat(H)},unpad:function(P){var U=P.words[P.sigBytes-1>>>2]&255;P.sigBytes-=U}};i.BlockCipher=m.extend({cfg:m.cfg.extend({mode:y,padding:w}),reset:function(){var P;m.reset.call(this);var U=this.cfg,W=U.iv,S=U.mode;this._xformMode==this._ENC_XFORM_MODE?P=S.createEncryptor:(P=S.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==P?this._mode.init(this,W&&W.words):(this._mode=P.call(S,this,W&&W.words),this._mode.__creator=P)},_doProcessBlock:function(P,U){this._mode.processBlock(P,U)},_doFinalize:function(){var P,U=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(U.pad(this._data,this.blockSize),P=this._process(!0)):(P=this._process(!0),U.unpad(P)),P},blockSize:128/32});var x=i.CipherParams=o.extend({init:function(P){this.mixIn(P)},toString:function(P){return(P||this.formatter).stringify(this)}}),b=s.format={},D=b.OpenSSL={stringify:function(P){var U,W=P.ciphertext,S=P.salt;return S?U=a.create([1398893684,1701076831]).concat(S).concat(W):U=W,U.toString(u)},parse:function(P){var U,W=u.parse(P),S=W.words;return S[0]==1398893684&&S[1]==1701076831&&(U=a.create(S.slice(2,4)),S.splice(0,4),W.sigBytes-=16),x.create({ciphertext:W,salt:U})}},L=i.SerializableCipher=o.extend({cfg:o.extend({format:D}),encrypt:function(P,U,W,S){S=this.cfg.extend(S);var _=P.createEncryptor(W,S),C=_.finalize(U),O=_.cfg;return x.create({ciphertext:C,key:W,iv:O.iv,algorithm:P,mode:O.mode,padding:O.padding,blockSize:P.blockSize,formatter:S.format})},decrypt:function(P,U,W,S){S=this.cfg.extend(S),U=this._parse(U,S.format);var _=P.createDecryptor(W,S).finalize(U.ciphertext);return _},_parse:function(P,U){return typeof P=="string"?U.parse(P,this):P}}),T=s.kdf={},R=T.OpenSSL={execute:function(P,U,W,S,_){if(S||(S=a.random(64/8)),_)var C=h.create({keySize:U+W,hasher:_}).compute(P,S);else var C=h.create({keySize:U+W}).compute(P,S);var O=a.create(C.words.slice(U),W*4);return C.sigBytes=U*4,x.create({key:C,iv:O,salt:S})}},F=i.PasswordBasedCipher=L.extend({cfg:L.cfg.extend({kdf:R}),encrypt:function(P,U,W,S){S=this.cfg.extend(S);var _=S.kdf.execute(W,P.keySize,P.ivSize,S.salt,S.hasher);S.iv=_.iv;var C=L.encrypt.call(this,P,U,_.key,S);return C.mixIn(_),C},decrypt:function(P,U,W,S){S=this.cfg.extend(S),U=this._parse(U,S.format);var _=S.kdf.execute(W,P.keySize,P.ivSize,U.salt,S.hasher);S.iv=_.iv;var C=L.decrypt.call(this,P,U,_.key,S);return C}})}()})}(w_)),w_.exports}var __={exports:{}},Qk;function nce(){return Qk||(Qk=1,function(t,e){(function(n,r,s){t.exports=r(Et(),pr())})(Xe,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize;s.call(this,i,o,c,a),this._prevBlock=i.slice(o,o+c)}}),r.Decryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,l=i.slice(o,o+c);s.call(this,i,o,c,a),this._prevBlock=l}});function s(i,o,a,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var f=0;f<a;f++)i[o+f]^=l[f]}return r}(),n.mode.CFB})}(__)),__.exports}var E_={exports:{}},Yk;function rce(){return Yk||(Yk=1,function(t,e){(function(n,r,s){t.exports=r(Et(),pr())})(Xe,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var f=u.slice(0);a.encryptBlock(f,0),u[c-1]=u[c-1]+1|0;for(var h=0;h<c;h++)i[o+h]^=f[h]}});return r.Decryptor=s,r}(),n.mode.CTR})}(E_)),E_.exports}var b_={exports:{}},Xk;function sce(){return Xk||(Xk=1,function(t,e){(function(n,r,s){t.exports=r(Et(),pr())})(Xe,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function s(a){if((a>>24&255)===255){var c=a>>16&255,l=a>>8&255,u=a&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,a=0,a+=c<<16,a+=l<<8,a+=u}else a+=1<<24;return a}function i(a){return(a[0]=s(a[0]))===0&&(a[1]=s(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,c){var l=this._cipher,u=l.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),i(h);var m=h.slice(0);l.encryptBlock(m,0);for(var v=0;v<u;v++)a[c+v]^=m[v]}});return r.Decryptor=o,r}(),n.mode.CTRGladman})}(b_)),b_.exports}var A_={exports:{}},Zk;function ice(){return Zk||(Zk=1,function(t,e){(function(n,r,s){t.exports=r(Et(),pr())})(Xe,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var f=0;f<c;f++)i[o+f]^=u[f]}});return r.Decryptor=s,r}(),n.mode.OFB})}(A_)),A_.exports}var S_={exports:{}},Jk;function oce(){return Jk||(Jk=1,function(t,e){(function(n,r,s){t.exports=r(Et(),pr())})(Xe,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(s,i){this._cipher.encryptBlock(s,i)}}),r.Decryptor=r.extend({processBlock:function(s,i){this._cipher.decryptBlock(s,i)}}),r}(),n.mode.ECB})}(S_)),S_.exports}var C_={exports:{}},eN;function ace(){return eN||(eN=1,function(t,e){(function(n,r,s){t.exports=r(Et(),pr())})(Xe,function(n){return n.pad.AnsiX923={pad:function(r,s){var i=r.sigBytes,o=s*4,a=o-i%o,c=i+a-1;r.clamp(),r.words[c>>>2]|=a<<24-c%4*8,r.sigBytes+=a},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},n.pad.Ansix923})}(C_)),C_.exports}var T_={exports:{}},tN;function cce(){return tN||(tN=1,function(t,e){(function(n,r,s){t.exports=r(Et(),pr())})(Xe,function(n){return n.pad.Iso10126={pad:function(r,s){var i=s*4,o=i-r.sigBytes%i;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},n.pad.Iso10126})}(T_)),T_.exports}var I_={exports:{}},nN;function lce(){return nN||(nN=1,function(t,e){(function(n,r,s){t.exports=r(Et(),pr())})(Xe,function(n){return n.pad.Iso97971={pad:function(r,s){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,s)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(I_)),I_.exports}var R_={exports:{}},rN;function uce(){return rN||(rN=1,function(t,e){(function(n,r,s){t.exports=r(Et(),pr())})(Xe,function(n){return n.pad.ZeroPadding={pad:function(r,s){var i=s*4;r.clamp(),r.sigBytes+=i-(r.sigBytes%i||i)},unpad:function(r){for(var s=r.words,i=r.sigBytes-1,i=r.sigBytes-1;i>=0;i--)if(s[i>>>2]>>>24-i%4*8&255){r.sigBytes=i+1;break}}},n.pad.ZeroPadding})}(R_)),R_.exports}var k_={exports:{}},sN;function dce(){return sN||(sN=1,function(t,e){(function(n,r,s){t.exports=r(Et(),pr())})(Xe,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(k_)),k_.exports}var N_={exports:{}},iN;function fce(){return iN||(iN=1,function(t,e){(function(n,r,s){t.exports=r(Et(),pr())})(Xe,function(n){return function(r){var s=n,i=s.lib,o=i.CipherParams,a=s.enc,c=a.Hex,l=s.format;l.Hex={stringify:function(u){return u.ciphertext.toString(c)},parse:function(u){var f=c.parse(u);return o.create({ciphertext:f})}}}(),n.format.Hex})}(N_)),N_.exports}var M_={exports:{}},oN;function hce(){return oN||(oN=1,function(t,e){(function(n,r,s){t.exports=r(Et(),hu(),pu(),Vc(),pr())})(Xe,function(n){return function(){var r=n,s=r.lib,i=s.BlockCipher,o=r.algo,a=[],c=[],l=[],u=[],f=[],h=[],m=[],v=[],g=[],y=[];(function(){for(var x=[],b=0;b<256;b++)b<128?x[b]=b<<1:x[b]=b<<1^283;for(var D=0,L=0,b=0;b<256;b++){var T=L^L<<1^L<<2^L<<3^L<<4;T=T>>>8^T&255^99,a[D]=T,c[T]=D;var R=x[D],F=x[R],P=x[F],U=x[T]*257^T*16843008;l[D]=U<<24|U>>>8,u[D]=U<<16|U>>>16,f[D]=U<<8|U>>>24,h[D]=U;var U=P*16843009^F*65537^R*257^D*16843008;m[T]=U<<24|U>>>8,v[T]=U<<16|U>>>16,g[T]=U<<8|U>>>24,y[T]=U,D?(D=R^x[x[x[P^R]]],L^=x[x[L]]):D=L=1}})();var E=[0,1,2,4,8,16,32,64,128,27,54],w=o.AES=i.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,D=b.words,L=b.sigBytes/4,T=this._nRounds=L+6,R=(T+1)*4,F=this._keySchedule=[],P=0;P<R;P++)P<L?F[P]=D[P]:(x=F[P-1],P%L?L>6&&P%L==4&&(x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255]):(x=x<<8|x>>>24,x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255],x^=E[P/L|0]<<24),F[P]=F[P-L]^x);for(var U=this._invKeySchedule=[],W=0;W<R;W++){var P=R-W;if(W%4)var x=F[P];else var x=F[P-4];W<4||P<=4?U[W]=x:U[W]=m[a[x>>>24]]^v[a[x>>>16&255]]^g[a[x>>>8&255]]^y[a[x&255]]}}},encryptBlock:function(x,b){this._doCryptBlock(x,b,this._keySchedule,l,u,f,h,a)},decryptBlock:function(x,b){var D=x[b+1];x[b+1]=x[b+3],x[b+3]=D,this._doCryptBlock(x,b,this._invKeySchedule,m,v,g,y,c);var D=x[b+1];x[b+1]=x[b+3],x[b+3]=D},_doCryptBlock:function(x,b,D,L,T,R,F,P){for(var U=this._nRounds,W=x[b]^D[0],S=x[b+1]^D[1],_=x[b+2]^D[2],C=x[b+3]^D[3],O=4,H=1;H<U;H++){var j=L[W>>>24]^T[S>>>16&255]^R[_>>>8&255]^F[C&255]^D[O++],z=L[S>>>24]^T[_>>>16&255]^R[C>>>8&255]^F[W&255]^D[O++],K=L[_>>>24]^T[C>>>16&255]^R[W>>>8&255]^F[S&255]^D[O++],B=L[C>>>24]^T[W>>>16&255]^R[S>>>8&255]^F[_&255]^D[O++];W=j,S=z,_=K,C=B}var j=(P[W>>>24]<<24|P[S>>>16&255]<<16|P[_>>>8&255]<<8|P[C&255])^D[O++],z=(P[S>>>24]<<24|P[_>>>16&255]<<16|P[C>>>8&255]<<8|P[W&255])^D[O++],K=(P[_>>>24]<<24|P[C>>>16&255]<<16|P[W>>>8&255]<<8|P[S&255])^D[O++],B=(P[C>>>24]<<24|P[W>>>16&255]<<16|P[S>>>8&255]<<8|P[_&255])^D[O++];x[b]=j,x[b+1]=z,x[b+2]=K,x[b+3]=B},keySize:256/32});r.AES=i._createHelper(w)}(),n.AES})}(M_)),M_.exports}var D_={exports:{}},aN;function pce(){return aN||(aN=1,function(t,e){(function(n,r,s){t.exports=r(Et(),hu(),pu(),Vc(),pr())})(Xe,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=s.BlockCipher,a=r.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=a.DES=o.extend({_doReset:function(){for(var E=this._key,w=E.words,x=[],b=0;b<56;b++){var D=c[b]-1;x[b]=w[D>>>5]>>>31-D%32&1}for(var L=this._subKeys=[],T=0;T<16;T++){for(var R=L[T]=[],F=u[T],b=0;b<24;b++)R[b/6|0]|=x[(l[b]-1+F)%28]<<31-b%6,R[4+(b/6|0)]|=x[28+(l[b+24]-1+F)%28]<<31-b%6;R[0]=R[0]<<1|R[0]>>>31;for(var b=1;b<7;b++)R[b]=R[b]>>>(b-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var P=this._invSubKeys=[],b=0;b<16;b++)P[b]=L[15-b]},encryptBlock:function(E,w){this._doCryptBlock(E,w,this._subKeys)},decryptBlock:function(E,w){this._doCryptBlock(E,w,this._invSubKeys)},_doCryptBlock:function(E,w,x){this._lBlock=E[w],this._rBlock=E[w+1],v.call(this,4,252645135),v.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),v.call(this,1,1431655765);for(var b=0;b<16;b++){for(var D=x[b],L=this._lBlock,T=this._rBlock,R=0,F=0;F<8;F++)R|=f[F][((T^D[F])&h[F])>>>0];this._lBlock=T,this._rBlock=L^R}var P=this._lBlock;this._lBlock=this._rBlock,this._rBlock=P,v.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),v.call(this,16,65535),v.call(this,4,252645135),E[w]=this._lBlock,E[w+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function v(E,w){var x=(this._lBlock>>>E^this._rBlock)&w;this._rBlock^=x,this._lBlock^=x<<E}function g(E,w){var x=(this._rBlock>>>E^this._lBlock)&w;this._lBlock^=x,this._rBlock^=x<<E}r.DES=o._createHelper(m);var y=a.TripleDES=o.extend({_doReset:function(){var E=this._key,w=E.words;if(w.length!==2&&w.length!==4&&w.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=w.slice(0,2),b=w.length<4?w.slice(0,2):w.slice(2,4),D=w.length<6?w.slice(0,2):w.slice(4,6);this._des1=m.createEncryptor(i.create(x)),this._des2=m.createEncryptor(i.create(b)),this._des3=m.createEncryptor(i.create(D))},encryptBlock:function(E,w){this._des1.encryptBlock(E,w),this._des2.decryptBlock(E,w),this._des3.encryptBlock(E,w)},decryptBlock:function(E,w){this._des3.decryptBlock(E,w),this._des2.encryptBlock(E,w),this._des1.decryptBlock(E,w)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(y)}(),n.TripleDES})}(D_)),D_.exports}var P_={exports:{}},cN;function mce(){return cN||(cN=1,function(t,e){(function(n,r,s){t.exports=r(Et(),hu(),pu(),Vc(),pr())})(Xe,function(n){return function(){var r=n,s=r.lib,i=s.StreamCipher,o=r.algo,a=o.RC4=i.extend({_doReset:function(){for(var u=this._key,f=u.words,h=u.sigBytes,m=this._S=[],v=0;v<256;v++)m[v]=v;for(var v=0,g=0;v<256;v++){var y=v%h,E=f[y>>>2]>>>24-y%4*8&255;g=(g+m[v]+E)%256;var w=m[v];m[v]=m[g],m[g]=w}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var u=this._S,f=this._i,h=this._j,m=0,v=0;v<4;v++){f=(f+1)%256,h=(h+u[f])%256;var g=u[f];u[f]=u[h],u[h]=g,m|=u[(u[f]+u[h])%256]<<24-v*8}return this._i=f,this._j=h,m}r.RC4=i._createHelper(a);var l=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)}});r.RC4Drop=i._createHelper(l)}(),n.RC4})}(P_)),P_.exports}var B_={exports:{}},lN;function gce(){return lN||(lN=1,function(t,e){(function(n,r,s){t.exports=r(Et(),hu(),pu(),Vc(),pr())})(Xe,function(n){return function(){var r=n,s=r.lib,i=s.StreamCipher,o=r.algo,a=[],c=[],l=[],u=o.Rabbit=i.extend({_doReset:function(){for(var h=this._key.words,m=this.cfg.iv,v=0;v<4;v++)h[v]=(h[v]<<8|h[v]>>>24)&16711935|(h[v]<<24|h[v]>>>8)&4278255360;var g=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],y=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var v=0;v<4;v++)f.call(this);for(var v=0;v<8;v++)y[v]^=g[v+4&7];if(m){var E=m.words,w=E[0],x=E[1],b=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,D=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,L=b>>>16|D&4294901760,T=D<<16|b&65535;y[0]^=b,y[1]^=L,y[2]^=D,y[3]^=T,y[4]^=b,y[5]^=L,y[6]^=D,y[7]^=T;for(var v=0;v<4;v++)f.call(this)}},_doProcessBlock:function(h,m){var v=this._X;f.call(this),a[0]=v[0]^v[5]>>>16^v[3]<<16,a[1]=v[2]^v[7]>>>16^v[5]<<16,a[2]=v[4]^v[1]>>>16^v[7]<<16,a[3]=v[6]^v[3]>>>16^v[1]<<16;for(var g=0;g<4;g++)a[g]=(a[g]<<8|a[g]>>>24)&16711935|(a[g]<<24|a[g]>>>8)&4278255360,h[m+g]^=a[g]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,m=this._C,v=0;v<8;v++)c[v]=m[v];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<c[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<c[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<c[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<c[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<c[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<c[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<c[6]>>>0?1:0)|0,this._b=m[7]>>>0<c[7]>>>0?1:0;for(var v=0;v<8;v++){var g=h[v]+m[v],y=g&65535,E=g>>>16,w=((y*y>>>17)+y*E>>>15)+E*E,x=((g&4294901760)*g|0)+((g&65535)*g|0);l[v]=w^x}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}r.Rabbit=i._createHelper(u)}(),n.Rabbit})}(B_)),B_.exports}var O_={exports:{}},uN;function yce(){return uN||(uN=1,function(t,e){(function(n,r,s){t.exports=r(Et(),hu(),pu(),Vc(),pr())})(Xe,function(n){return function(){var r=n,s=r.lib,i=s.StreamCipher,o=r.algo,a=[],c=[],l=[],u=o.RabbitLegacy=i.extend({_doReset:function(){var h=this._key.words,m=this.cfg.iv,v=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],g=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var y=0;y<4;y++)f.call(this);for(var y=0;y<8;y++)g[y]^=v[y+4&7];if(m){var E=m.words,w=E[0],x=E[1],b=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,D=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,L=b>>>16|D&4294901760,T=D<<16|b&65535;g[0]^=b,g[1]^=L,g[2]^=D,g[3]^=T,g[4]^=b,g[5]^=L,g[6]^=D,g[7]^=T;for(var y=0;y<4;y++)f.call(this)}},_doProcessBlock:function(h,m){var v=this._X;f.call(this),a[0]=v[0]^v[5]>>>16^v[3]<<16,a[1]=v[2]^v[7]>>>16^v[5]<<16,a[2]=v[4]^v[1]>>>16^v[7]<<16,a[3]=v[6]^v[3]>>>16^v[1]<<16;for(var g=0;g<4;g++)a[g]=(a[g]<<8|a[g]>>>24)&16711935|(a[g]<<24|a[g]>>>8)&4278255360,h[m+g]^=a[g]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,m=this._C,v=0;v<8;v++)c[v]=m[v];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<c[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<c[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<c[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<c[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<c[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<c[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<c[6]>>>0?1:0)|0,this._b=m[7]>>>0<c[7]>>>0?1:0;for(var v=0;v<8;v++){var g=h[v]+m[v],y=g&65535,E=g>>>16,w=((y*y>>>17)+y*E>>>15)+E*E,x=((g&4294901760)*g|0)+((g&65535)*g|0);l[v]=w^x}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}r.RabbitLegacy=i._createHelper(u)}(),n.RabbitLegacy})}(O_)),O_.exports}var L_={exports:{}},dN;function vce(){return dN||(dN=1,function(t,e){(function(n,r,s){t.exports=r(Et(),hu(),pu(),Vc(),pr())})(Xe,function(n){return function(){var r=n,s=r.lib,i=s.BlockCipher,o=r.algo;const a=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(y,E){let w=E>>24&255,x=E>>16&255,b=E>>8&255,D=E&255,L=y.sbox[0][w]+y.sbox[1][x];return L=L^y.sbox[2][b],L=L+y.sbox[3][D],L}function h(y,E,w){let x=E,b=w,D;for(let L=0;L<a;++L)x=x^y.pbox[L],b=f(y,x)^b,D=x,x=b,b=D;return D=x,x=b,b=D,b=b^y.pbox[a],x=x^y.pbox[a+1],{left:x,right:b}}function m(y,E,w){let x=E,b=w,D;for(let L=a+1;L>1;--L)x=x^y.pbox[L],b=f(y,x)^b,D=x,x=b,b=D;return D=x,x=b,b=D,b=b^y.pbox[1],x=x^y.pbox[0],{left:x,right:b}}function v(y,E,w){for(let T=0;T<4;T++){y.sbox[T]=[];for(let R=0;R<256;R++)y.sbox[T][R]=l[T][R]}let x=0;for(let T=0;T<a+2;T++)y.pbox[T]=c[T]^E[x],x++,x>=w&&(x=0);let b=0,D=0,L=0;for(let T=0;T<a+2;T+=2)L=h(y,b,D),b=L.left,D=L.right,y.pbox[T]=b,y.pbox[T+1]=D;for(let T=0;T<4;T++)for(let R=0;R<256;R+=2)L=h(y,b,D),b=L.left,D=L.right,y.sbox[T][R]=b,y.sbox[T][R+1]=D;return!0}var g=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var y=this._keyPriorReset=this._key,E=y.words,w=y.sigBytes/4;v(u,E,w)}},encryptBlock:function(y,E){var w=h(u,y[E],y[E+1]);y[E]=w.left,y[E+1]=w.right},decryptBlock:function(y,E){var w=m(u,y[E],y[E+1]);y[E]=w.left,y[E+1]=w.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=i._createHelper(g)}(),n.Blowfish})}(L_)),L_.exports}(function(t,e){(function(n,r,s){t.exports=r(Et(),Qx(),Gae(),Qae(),hu(),Yae(),pu(),Uj(),yC(),Xae(),zj(),Zae(),Jae(),ece(),vC(),tce(),Vc(),pr(),nce(),rce(),sce(),ice(),oce(),ace(),cce(),lce(),uce(),dce(),fce(),hce(),pce(),mce(),gce(),yce(),vce())})(Xe,function(n){return n})})(Fj);var xce=Fj.exports;const ai=Pc(xce);class wce{constructor(){if(this.keyDerivationIterations=1e4,this.encryptionVersion="v2.0",this.encryptionKey="dev_encryption_key_32_characters_long",this.encryptionKey==="dev_encryption_key_32_characters_long"&&console.warn("Using development encryption key. Set VITE_WALLET_ENCRYPTION_KEY for production."),this.encryptionKey.length<32)throw new Error("Encryption key must be at least 32 characters long")}generateKeypair(){try{const e=new Uint8Array(32);if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(e);else for(let s=0;s<32;s++)e[s]=Math.floor(Math.random()*256);const n=Nd.generate(),r=n.publicKey.toBase58();if(!this.isValidSolanaAddress(r))throw new Error("Generated invalid keypair");return n}catch(e){throw console.error("Keypair generation error:",e),new Error("Failed to generate secure keypair")}}isValidSolanaAddress(e){try{return new ke(e),!0}catch{return!1}}deriveKey(e){return ai.PBKDF2(this.encryptionKey,e,{keySize:256/32,iterations:this.keyDerivationIterations}).toString()}encryptPrivateKey(e,n){try{const r=ai.lib.WordArray.random(32).toString(),s=this.deriveKey(r),i=nt.Buffer.from(e).toString("hex"),o=JSON.stringify({campaignId:n,version:this.encryptionVersion,timestamp:new Date().toISOString()}),a=ai.AES.encrypt(i+"|"+o,s).toString(),c=ai.SHA256(a+r+n).toString();return{encrypted:a,checksum:c,salt:r}}catch(r){throw console.error("Private key encryption error:",r),new Error("Failed to encrypt private key")}}async decryptPrivateKey(e,n,r,s){try{if(ai.SHA256(e+n+s).toString()!==r)throw new Error("Private key integrity check failed");const o=this.deriveKey(n),c=ai.AES.decrypt(e,o).toString(ai.enc.Utf8);if(!c)throw new Error("Decryption failed - invalid key or corrupted data");const[l]=c.split("|"),u=nt.Buffer.from(l,"hex");return Nd.fromSecretKey(u)}catch(i){throw console.error("Private key decryption error:",i),new Error("Failed to decrypt private key")}}async generateCampaignWallet(e){try{if(!e||e.trim().length===0)throw new Error("Campaign ID is required");const n=this.generateKeypair(),r=n.publicKey.toBase58(),{encrypted:s,checksum:i,salt:o}=this.encryptPrivateKey(n.secretKey,e),a=`${o}:${s}`,c={publicKey:r,encryptedPrivateKey:a,campaignId:e,createdAt:new Date().toISOString(),encryptionVersion:this.encryptionVersion,checksum:i};return await this.validateWalletDecryption(c),c}catch(n){throw console.error("Campaign wallet generation error:",n),new Error("Failed to generate campaign wallet")}}async validateWalletDecryption(e){try{const[n,r]=e.encryptedPrivateKey.split(":");if((await this.decryptPrivateKey(r,n,e.checksum,e.campaignId)).publicKey.toBase58()!==e.publicKey)throw new Error("Wallet validation failed - key mismatch")}catch(n){throw new Error(`Wallet validation failed: ${n.message}`)}}async getCampaignWalletKeypair(e){try{const[n,r]=e.encryptedPrivateKey.split(":");if(!n||!r)throw new Error("Invalid encrypted private key format");return await this.decryptPrivateKey(r,n,e.checksum,e.campaignId)}catch(n){throw console.error("Wallet keypair retrieval error:",n),new Error("Failed to retrieve campaign wallet keypair")}}async generateWalletBatch(e,n=10){const r=[];for(let s=0;s<e.length;s+=n){const o=e.slice(s,s+n).map(c=>this.generateCampaignWallet(c)),a=await Promise.all(o);r.push(...a),s+n<e.length&&await new Promise(c=>setTimeout(c,100))}return r}secureWipe(e){typeof e=="string"?e="0".repeat(e.length):e instanceof Uint8Array&&e.fill(0)}async validateWalletIntegrity(e){const n=[];try{if(e.publicKey||n.push("Missing public key"),e.encryptedPrivateKey||n.push("Missing encrypted private key"),e.campaignId||n.push("Missing campaign ID"),e.checksum||n.push("Missing checksum"),e.publicKey&&!this.isValidSolanaAddress(e.publicKey)&&n.push("Invalid public key format"),e.encryptedPrivateKey&&!e.encryptedPrivateKey.includes(":")&&n.push("Invalid encrypted private key format"),e.encryptionVersion&&e.encryptionVersion!==this.encryptionVersion&&n.push(`Unsupported encryption version: ${e.encryptionVersion}`),n.length===0)try{await this.validateWalletDecryption(e)}catch(r){n.push(`Decryption validation failed: ${r.message}`)}return{isValid:n.length===0,errors:n}}catch(r){return n.push(`Validation error: ${r.message}`),{isValid:!1,errors:n}}}async createWalletBackup(e){try{const n={...e,backupTimestamp:new Date().toISOString(),backupVersion:"1.0"},r=JSON.stringify(n),s=ai.SHA256(r).toString(),i=ai.AES.encrypt(r,this.encryptionKey).toString(),o=`${e.campaignId}:${s.substring(0,16)}`,a=ai.enc.Base64.stringify(ai.enc.Utf8.parse(o));return{backup:i,recoveryPhrase:a}}catch(n){throw console.error("Wallet backup creation error:",n),new Error("Failed to create wallet backup")}}async healthCheck(){const e=[];try{const n="health-check-"+Date.now(),r=await this.generateCampaignWallet(n);return await this.getCampaignWalletKeypair(r),{healthy:!0,canGenerateWallets:!0,canEncrypt:!0,canDecrypt:!0,encryptionVersion:this.encryptionVersion,errors:[]}}catch(n){return e.push(n.message),{healthy:!1,canGenerateWallets:!1,canEncrypt:!1,canDecrypt:!1,encryptionVersion:this.encryptionVersion,errors:e}}}}const _ce=new wce;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ece=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Wj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,l=c?t[s+2]:0,u=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|l>>6,m=l&63;c||(m=64,o||(h=64)),r.push(n[u],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ece(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||f==null)throw new bce;const h=i<<2|a>>4;if(r.push(h),l!==64){const m=a<<4&240|l>>2;if(r.push(m),f!==64){const v=l<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ace=function(t){const e=Vj(t);return Wj.encodeByteArray(e,!0)},pv=function(t){return Ace(t).replace(/\./g,"")},$j=function(t){try{return Wj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cce=()=>Sce().__FIREBASE_DEFAULTS__,Tce=()=>{if(typeof process>"u"||typeof import.meta.env>"u")return;const t=import.meta.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ice=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$j(t[1]);return e&&JSON.parse(e)},Yx=()=>{try{return Cce()||Tce()||Ice()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hj=t=>{var e,n;return(n=(e=Yx())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qj=t=>{const e=Hj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Kj=()=>{var t;return(t=Yx())===null||t===void 0?void 0:t.config},Gj=t=>{var e;return(e=Yx())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pv(JSON.stringify(n)),pv(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qr())}function Nce(){var t;const e=(t=Yx())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function Mce(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Dce(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Pce(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bce(){const t=Qr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Oce(){return!Nce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lce(){try{return typeof indexedDB=="object"}catch{return!1}}function jce(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fce="FirebaseError";class ho extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Fce,Object.setPrototypeOf(this,ho.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zp.prototype.create)}}class zp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Uce(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ho(s,a,r)}}function Uce(t,e){return t.replace(zce,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const zce=/\{\$([^}]+)}/g;function Vce(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mv(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(fN(i)&&fN(o)){if(!mv(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function fN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wce(t,e){const n=new $ce(t,e);return n.subscribe.bind(n)}class $ce{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Hce(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=j_),s.error===void 0&&(s.error=j_),s.complete===void 0&&(s.complete=j_);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hce(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function j_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t){return t&&t._delegate?t._delegate:t}class Rc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qce{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Rce;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gce(e))try{this.getOrInitializeService({instanceIdentifier:il})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=il){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=il){return this.instances.has(e)}getOptions(e=il){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Kce(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=il){return this.component?this.component.multipleInstances?e:il:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kce(t){return t===il?void 0:t}function Gce(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qce(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_t||(_t={}));const Yce={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},Xce=_t.INFO,Zce={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},Jce=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Zce[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xC{constructor(e){this.name=e,this._logLevel=Xce,this._logHandler=Jce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...e),this._logHandler(this,_t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...e),this._logHandler(this,_t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...e),this._logHandler(this,_t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...e),this._logHandler(this,_t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...e),this._logHandler(this,_t.ERROR,...e)}}const ele=(t,e)=>e.some(n=>t instanceof n);let hN,pN;function tle(){return hN||(hN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nle(){return pN||(pN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yj=new WeakMap,E2=new WeakMap,Xj=new WeakMap,F_=new WeakMap,wC=new WeakMap;function rle(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(xc(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Yj.set(n,t)}).catch(()=>{}),wC.set(e,t),e}function sle(t){if(E2.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});E2.set(t,e)}let b2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return E2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ile(t){b2=t(b2)}function ole(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(U_(this),e,...n);return Xj.set(r,e.sort?e.sort():[e]),xc(r)}:nle().includes(t)?function(...e){return t.apply(U_(this),e),xc(Yj.get(this))}:function(...e){return xc(t.apply(U_(this),e))}}function ale(t){return typeof t=="function"?ole(t):(t instanceof IDBTransaction&&sle(t),ele(t,tle())?new Proxy(t,b2):t)}function xc(t){if(t instanceof IDBRequest)return rle(t);if(F_.has(t))return F_.get(t);const e=ale(t);return e!==t&&(F_.set(t,e),wC.set(e,t)),e}const U_=t=>wC.get(t);function cle(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=xc(o);return r&&o.addEventListener("upgradeneeded",c=>{r(xc(o.result),c.oldVersion,c.newVersion,xc(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const lle=["get","getKey","getAll","getAllKeys","count"],ule=["put","add","delete","clear"],z_=new Map;function mN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(z_.get(e))return z_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ule.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||lle.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return z_.set(e,i),i}ile(t=>({...t,get:(e,n,r)=>mN(e,n)||t.get(e,n,r),has:(e,n)=>!!mN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dle{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fle(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fle(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const A2="@firebase/app",gN="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new xC("@firebase/app"),hle="@firebase/app-compat",ple="@firebase/analytics-compat",mle="@firebase/analytics",gle="@firebase/app-check-compat",yle="@firebase/app-check",vle="@firebase/auth",xle="@firebase/auth-compat",wle="@firebase/database",_le="@firebase/data-connect",Ele="@firebase/database-compat",ble="@firebase/functions",Ale="@firebase/functions-compat",Sle="@firebase/installations",Cle="@firebase/installations-compat",Tle="@firebase/messaging",Ile="@firebase/messaging-compat",Rle="@firebase/performance",kle="@firebase/performance-compat",Nle="@firebase/remote-config",Mle="@firebase/remote-config-compat",Dle="@firebase/storage",Ple="@firebase/storage-compat",Ble="@firebase/firestore",Ole="@firebase/vertexai-preview",Lle="@firebase/firestore-compat",jle="firebase",Fle="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="[DEFAULT]",Ule={[A2]:"fire-core",[hle]:"fire-core-compat",[mle]:"fire-analytics",[ple]:"fire-analytics-compat",[yle]:"fire-app-check",[gle]:"fire-app-check-compat",[vle]:"fire-auth",[xle]:"fire-auth-compat",[wle]:"fire-rtdb",[_le]:"fire-data-connect",[Ele]:"fire-rtdb-compat",[ble]:"fire-fn",[Ale]:"fire-fn-compat",[Sle]:"fire-iid",[Cle]:"fire-iid-compat",[Tle]:"fire-fcm",[Ile]:"fire-fcm-compat",[Rle]:"fire-perf",[kle]:"fire-perf-compat",[Nle]:"fire-rc",[Mle]:"fire-rc-compat",[Dle]:"fire-gcs",[Ple]:"fire-gcs-compat",[Ble]:"fire-fst",[Lle]:"fire-fst-compat",[Ole]:"fire-vertex","fire-js":"fire-js",[jle]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map,zle=new Map,C2=new Map;function yN(t,e){try{t.container.addComponent(e)}catch(n){na.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jl(t){const e=t.name;if(C2.has(e))return na.debug(`There were multiple attempts to register component ${e}.`),!1;C2.set(e,t);for(const n of gv.values())yN(n,t);for(const n of zle.values())yN(n,t);return!0}function Xx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sc(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vle={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wc=new zp("app","Firebase",Vle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wle{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=Fle;function Zj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:S2,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw wc.create("bad-app-name",{appName:String(s)});if(n||(n=Kj()),!n)throw wc.create("no-options");const i=gv.get(s);if(i){if(mv(n,i.options)&&mv(r,i.config))return i;throw wc.create("duplicate-app",{appName:s})}const o=new Qce(s);for(const c of C2.values())o.addComponent(c);const a=new Wle(n,r,o);return gv.set(s,a),a}function _C(t=S2){const e=gv.get(t);if(!e&&t===S2&&Kj())return Zj();if(!e)throw wc.create("no-app",{appName:t});return e}function Zi(t,e,n){var r;let s=(r=Ule[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),na.warn(a.join(" "));return}Jl(new Rc(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $le="firebase-heartbeat-database",Hle=1,q0="firebase-heartbeat-store";let V_=null;function Jj(){return V_||(V_=cle($le,Hle,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(q0)}catch(n){console.warn(n)}}}}).catch(t=>{throw wc.create("idb-open",{originalErrorMessage:t.message})})),V_}async function qle(t){try{const n=(await Jj()).transaction(q0),r=await n.objectStore(q0).get(eF(t));return await n.done,r}catch(e){if(e instanceof ho)na.warn(e.message);else{const n=wc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});na.warn(n.message)}}}async function vN(t,e){try{const r=(await Jj()).transaction(q0,"readwrite");await r.objectStore(q0).put(e,eF(t)),await r.done}catch(n){if(n instanceof ho)na.warn(n.message);else{const r=wc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});na.warn(r.message)}}}function eF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kle=1024,Gle=30*24*60*60*1e3;class Qle{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xle(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xN();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Gle}),this._storage.overwrite(this._heartbeatsCache))}catch(r){na.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xN(),{heartbeatsToSend:r,unsentEntries:s}=Yle(this._heartbeatsCache.heartbeats),i=pv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return na.warn(n),""}}}function xN(){return new Date().toISOString().substring(0,10)}function Yle(t,e=Kle){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),wN(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),wN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Xle{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lce()?jce().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qle(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wN(t){return pv(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zle(t){Jl(new Rc("platform-logger",e=>new dle(e),"PRIVATE")),Jl(new Rc("heartbeat",e=>new Qle(e),"PRIVATE")),Zi(A2,gN,t),Zi(A2,gN,"esm2017"),Zi("fire-js","")}Zle("");var _N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bl,tF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,R){function F(){}F.prototype=R.prototype,T.D=R.prototype,T.prototype=new F,T.prototype.constructor=T,T.C=function(P,U,W){for(var S=Array(arguments.length-2),_=2;_<arguments.length;_++)S[_-2]=arguments[_];return R.prototype[U].apply(P,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,R,F){F||(F=0);var P=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)P[U]=R.charCodeAt(F++)|R.charCodeAt(F++)<<8|R.charCodeAt(F++)<<16|R.charCodeAt(F++)<<24;else for(U=0;16>U;++U)P[U]=R[F++]|R[F++]<<8|R[F++]<<16|R[F++]<<24;R=T.g[0],F=T.g[1],U=T.g[2];var W=T.g[3],S=R+(W^F&(U^W))+P[0]+3614090360&4294967295;R=F+(S<<7&4294967295|S>>>25),S=W+(U^R&(F^U))+P[1]+3905402710&4294967295,W=R+(S<<12&4294967295|S>>>20),S=U+(F^W&(R^F))+P[2]+606105819&4294967295,U=W+(S<<17&4294967295|S>>>15),S=F+(R^U&(W^R))+P[3]+3250441966&4294967295,F=U+(S<<22&4294967295|S>>>10),S=R+(W^F&(U^W))+P[4]+4118548399&4294967295,R=F+(S<<7&4294967295|S>>>25),S=W+(U^R&(F^U))+P[5]+1200080426&4294967295,W=R+(S<<12&4294967295|S>>>20),S=U+(F^W&(R^F))+P[6]+2821735955&4294967295,U=W+(S<<17&4294967295|S>>>15),S=F+(R^U&(W^R))+P[7]+4249261313&4294967295,F=U+(S<<22&4294967295|S>>>10),S=R+(W^F&(U^W))+P[8]+1770035416&4294967295,R=F+(S<<7&4294967295|S>>>25),S=W+(U^R&(F^U))+P[9]+2336552879&4294967295,W=R+(S<<12&4294967295|S>>>20),S=U+(F^W&(R^F))+P[10]+4294925233&4294967295,U=W+(S<<17&4294967295|S>>>15),S=F+(R^U&(W^R))+P[11]+2304563134&4294967295,F=U+(S<<22&4294967295|S>>>10),S=R+(W^F&(U^W))+P[12]+1804603682&4294967295,R=F+(S<<7&4294967295|S>>>25),S=W+(U^R&(F^U))+P[13]+4254626195&4294967295,W=R+(S<<12&4294967295|S>>>20),S=U+(F^W&(R^F))+P[14]+2792965006&4294967295,U=W+(S<<17&4294967295|S>>>15),S=F+(R^U&(W^R))+P[15]+1236535329&4294967295,F=U+(S<<22&4294967295|S>>>10),S=R+(U^W&(F^U))+P[1]+4129170786&4294967295,R=F+(S<<5&4294967295|S>>>27),S=W+(F^U&(R^F))+P[6]+3225465664&4294967295,W=R+(S<<9&4294967295|S>>>23),S=U+(R^F&(W^R))+P[11]+643717713&4294967295,U=W+(S<<14&4294967295|S>>>18),S=F+(W^R&(U^W))+P[0]+3921069994&4294967295,F=U+(S<<20&4294967295|S>>>12),S=R+(U^W&(F^U))+P[5]+3593408605&4294967295,R=F+(S<<5&4294967295|S>>>27),S=W+(F^U&(R^F))+P[10]+38016083&4294967295,W=R+(S<<9&4294967295|S>>>23),S=U+(R^F&(W^R))+P[15]+3634488961&4294967295,U=W+(S<<14&4294967295|S>>>18),S=F+(W^R&(U^W))+P[4]+3889429448&4294967295,F=U+(S<<20&4294967295|S>>>12),S=R+(U^W&(F^U))+P[9]+568446438&4294967295,R=F+(S<<5&4294967295|S>>>27),S=W+(F^U&(R^F))+P[14]+3275163606&4294967295,W=R+(S<<9&4294967295|S>>>23),S=U+(R^F&(W^R))+P[3]+4107603335&4294967295,U=W+(S<<14&4294967295|S>>>18),S=F+(W^R&(U^W))+P[8]+1163531501&4294967295,F=U+(S<<20&4294967295|S>>>12),S=R+(U^W&(F^U))+P[13]+2850285829&4294967295,R=F+(S<<5&4294967295|S>>>27),S=W+(F^U&(R^F))+P[2]+4243563512&4294967295,W=R+(S<<9&4294967295|S>>>23),S=U+(R^F&(W^R))+P[7]+1735328473&4294967295,U=W+(S<<14&4294967295|S>>>18),S=F+(W^R&(U^W))+P[12]+2368359562&4294967295,F=U+(S<<20&4294967295|S>>>12),S=R+(F^U^W)+P[5]+4294588738&4294967295,R=F+(S<<4&4294967295|S>>>28),S=W+(R^F^U)+P[8]+2272392833&4294967295,W=R+(S<<11&4294967295|S>>>21),S=U+(W^R^F)+P[11]+1839030562&4294967295,U=W+(S<<16&4294967295|S>>>16),S=F+(U^W^R)+P[14]+4259657740&4294967295,F=U+(S<<23&4294967295|S>>>9),S=R+(F^U^W)+P[1]+2763975236&4294967295,R=F+(S<<4&4294967295|S>>>28),S=W+(R^F^U)+P[4]+1272893353&4294967295,W=R+(S<<11&4294967295|S>>>21),S=U+(W^R^F)+P[7]+4139469664&4294967295,U=W+(S<<16&4294967295|S>>>16),S=F+(U^W^R)+P[10]+3200236656&4294967295,F=U+(S<<23&4294967295|S>>>9),S=R+(F^U^W)+P[13]+681279174&4294967295,R=F+(S<<4&4294967295|S>>>28),S=W+(R^F^U)+P[0]+3936430074&4294967295,W=R+(S<<11&4294967295|S>>>21),S=U+(W^R^F)+P[3]+3572445317&4294967295,U=W+(S<<16&4294967295|S>>>16),S=F+(U^W^R)+P[6]+76029189&4294967295,F=U+(S<<23&4294967295|S>>>9),S=R+(F^U^W)+P[9]+3654602809&4294967295,R=F+(S<<4&4294967295|S>>>28),S=W+(R^F^U)+P[12]+3873151461&4294967295,W=R+(S<<11&4294967295|S>>>21),S=U+(W^R^F)+P[15]+530742520&4294967295,U=W+(S<<16&4294967295|S>>>16),S=F+(U^W^R)+P[2]+3299628645&4294967295,F=U+(S<<23&4294967295|S>>>9),S=R+(U^(F|~W))+P[0]+4096336452&4294967295,R=F+(S<<6&4294967295|S>>>26),S=W+(F^(R|~U))+P[7]+1126891415&4294967295,W=R+(S<<10&4294967295|S>>>22),S=U+(R^(W|~F))+P[14]+2878612391&4294967295,U=W+(S<<15&4294967295|S>>>17),S=F+(W^(U|~R))+P[5]+4237533241&4294967295,F=U+(S<<21&4294967295|S>>>11),S=R+(U^(F|~W))+P[12]+1700485571&4294967295,R=F+(S<<6&4294967295|S>>>26),S=W+(F^(R|~U))+P[3]+2399980690&4294967295,W=R+(S<<10&4294967295|S>>>22),S=U+(R^(W|~F))+P[10]+4293915773&4294967295,U=W+(S<<15&4294967295|S>>>17),S=F+(W^(U|~R))+P[1]+2240044497&4294967295,F=U+(S<<21&4294967295|S>>>11),S=R+(U^(F|~W))+P[8]+1873313359&4294967295,R=F+(S<<6&4294967295|S>>>26),S=W+(F^(R|~U))+P[15]+4264355552&4294967295,W=R+(S<<10&4294967295|S>>>22),S=U+(R^(W|~F))+P[6]+2734768916&4294967295,U=W+(S<<15&4294967295|S>>>17),S=F+(W^(U|~R))+P[13]+1309151649&4294967295,F=U+(S<<21&4294967295|S>>>11),S=R+(U^(F|~W))+P[4]+4149444226&4294967295,R=F+(S<<6&4294967295|S>>>26),S=W+(F^(R|~U))+P[11]+3174756917&4294967295,W=R+(S<<10&4294967295|S>>>22),S=U+(R^(W|~F))+P[2]+718787259&4294967295,U=W+(S<<15&4294967295|S>>>17),S=F+(W^(U|~R))+P[9]+3951481745&4294967295,T.g[0]=T.g[0]+R&4294967295,T.g[1]=T.g[1]+(U+(S<<21&4294967295|S>>>11))&4294967295,T.g[2]=T.g[2]+U&4294967295,T.g[3]=T.g[3]+W&4294967295}r.prototype.u=function(T,R){R===void 0&&(R=T.length);for(var F=R-this.blockSize,P=this.B,U=this.h,W=0;W<R;){if(U==0)for(;W<=F;)s(this,T,W),W+=this.blockSize;if(typeof T=="string"){for(;W<R;)if(P[U++]=T.charCodeAt(W++),U==this.blockSize){s(this,P),U=0;break}}else for(;W<R;)if(P[U++]=T[W++],U==this.blockSize){s(this,P),U=0;break}}this.h=U,this.o+=R},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var R=1;R<T.length-8;++R)T[R]=0;var F=8*this.o;for(R=T.length-8;R<T.length;++R)T[R]=F&255,F/=256;for(this.u(T),T=Array(16),R=F=0;4>R;++R)for(var P=0;32>P;P+=8)T[F++]=this.g[R]>>>P&255;return T};function i(T,R){var F=a;return Object.prototype.hasOwnProperty.call(F,T)?F[T]:F[T]=R(T)}function o(T,R){this.h=R;for(var F=[],P=!0,U=T.length-1;0<=U;U--){var W=T[U]|0;P&&W==R||(F[U]=W,P=!1)}this.g=F}var a={};function c(T){return-128<=T&&128>T?i(T,function(R){return new o([R|0],0>R?-1:0)}):new o([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return y(l(-T));for(var R=[],F=1,P=0;T>=F;P++)R[P]=T/F|0,F*=4294967296;return new o(R,0)}function u(T,R){if(T.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(T.charAt(0)=="-")return y(u(T.substring(1),R));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=l(Math.pow(R,8)),P=f,U=0;U<T.length;U+=8){var W=Math.min(8,T.length-U),S=parseInt(T.substring(U,U+W),R);8>W?(W=l(Math.pow(R,W)),P=P.j(W).add(l(S))):(P=P.j(F),P=P.add(l(S)))}return P}var f=c(0),h=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-y(this).m();for(var T=0,R=1,F=0;F<this.g.length;F++){var P=this.i(F);T+=(0<=P?P:4294967296+P)*R,R*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(g(this))return"-"+y(this).toString(T);for(var R=l(Math.pow(T,6)),F=this,P="";;){var U=b(F,R).g;F=E(F,U.j(R));var W=((0<F.g.length?F.g[0]:F.h)>>>0).toString(T);if(F=U,v(F))return W+P;for(;6>W.length;)W="0"+W;P=W+P}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(var R=0;R<T.g.length;R++)if(T.g[R]!=0)return!1;return!0}function g(T){return T.h==-1}t.l=function(T){return T=E(this,T),g(T)?-1:v(T)?0:1};function y(T){for(var R=T.g.length,F=[],P=0;P<R;P++)F[P]=~T.g[P];return new o(F,~T.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(T){for(var R=Math.max(this.g.length,T.g.length),F=[],P=0,U=0;U<=R;U++){var W=P+(this.i(U)&65535)+(T.i(U)&65535),S=(W>>>16)+(this.i(U)>>>16)+(T.i(U)>>>16);P=S>>>16,W&=65535,S&=65535,F[U]=S<<16|W}return new o(F,F[F.length-1]&-2147483648?-1:0)};function E(T,R){return T.add(y(R))}t.j=function(T){if(v(this)||v(T))return f;if(g(this))return g(T)?y(this).j(y(T)):y(y(this).j(T));if(g(T))return y(this.j(y(T)));if(0>this.l(m)&&0>T.l(m))return l(this.m()*T.m());for(var R=this.g.length+T.g.length,F=[],P=0;P<2*R;P++)F[P]=0;for(P=0;P<this.g.length;P++)for(var U=0;U<T.g.length;U++){var W=this.i(P)>>>16,S=this.i(P)&65535,_=T.i(U)>>>16,C=T.i(U)&65535;F[2*P+2*U]+=S*C,w(F,2*P+2*U),F[2*P+2*U+1]+=W*C,w(F,2*P+2*U+1),F[2*P+2*U+1]+=S*_,w(F,2*P+2*U+1),F[2*P+2*U+2]+=W*_,w(F,2*P+2*U+2)}for(P=0;P<R;P++)F[P]=F[2*P+1]<<16|F[2*P];for(P=R;P<2*R;P++)F[P]=0;return new o(F,0)};function w(T,R){for(;(T[R]&65535)!=T[R];)T[R+1]+=T[R]>>>16,T[R]&=65535,R++}function x(T,R){this.g=T,this.h=R}function b(T,R){if(v(R))throw Error("division by zero");if(v(T))return new x(f,f);if(g(T))return R=b(y(T),R),new x(y(R.g),y(R.h));if(g(R))return R=b(T,y(R)),new x(y(R.g),R.h);if(30<T.g.length){if(g(T)||g(R))throw Error("slowDivide_ only works with positive integers.");for(var F=h,P=R;0>=P.l(T);)F=D(F),P=D(P);var U=L(F,1),W=L(P,1);for(P=L(P,2),F=L(F,2);!v(P);){var S=W.add(P);0>=S.l(T)&&(U=U.add(F),W=S),P=L(P,1),F=L(F,1)}return R=E(T,U.j(R)),new x(U,R)}for(U=f;0<=T.l(R);){for(F=Math.max(1,Math.floor(T.m()/R.m())),P=Math.ceil(Math.log(F)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),W=l(F),S=W.j(R);g(S)||0<S.l(T);)F-=P,W=l(F),S=W.j(R);v(W)&&(W=h),U=U.add(W),T=E(T,S)}return new x(U,T)}t.A=function(T){return b(this,T).h},t.and=function(T){for(var R=Math.max(this.g.length,T.g.length),F=[],P=0;P<R;P++)F[P]=this.i(P)&T.i(P);return new o(F,this.h&T.h)},t.or=function(T){for(var R=Math.max(this.g.length,T.g.length),F=[],P=0;P<R;P++)F[P]=this.i(P)|T.i(P);return new o(F,this.h|T.h)},t.xor=function(T){for(var R=Math.max(this.g.length,T.g.length),F=[],P=0;P<R;P++)F[P]=this.i(P)^T.i(P);return new o(F,this.h^T.h)};function D(T){for(var R=T.g.length+1,F=[],P=0;P<R;P++)F[P]=T.i(P)<<1|T.i(P-1)>>>31;return new o(F,T.h)}function L(T,R){var F=R>>5;R%=32;for(var P=T.g.length-F,U=[],W=0;W<P;W++)U[W]=0<R?T.i(W+F)>>>R|T.i(W+F+1)<<32-R:T.i(W+F);return new o(U,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tF=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,Bl=o}).apply(typeof _N<"u"?_N:typeof self<"u"?self:typeof window<"u"?window:{});var Jm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nF,Vh,rF,Gg,T2,sF,iF,oF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,k,V){return p==Array.prototype||p==Object.prototype||(p[k]=V.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jm=="object"&&Jm];for(var k=0;k<p.length;++k){var V=p[k];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=n(this);function s(p,k){if(k)e:{var V=r;p=p.split(".");for(var G=0;G<p.length-1;G++){var ee=p[G];if(!(ee in V))break e;V=V[ee]}p=p[p.length-1],G=V[p],k=k(G),k!=G&&k!=null&&e(V,p,{configurable:!0,writable:!0,value:k})}}function i(p,k){p instanceof String&&(p+="");var V=0,G=!1,ee={next:function(){if(!G&&V<p.length){var ie=V++;return{value:k(ie,p[ie]),done:!1}}return G=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}s("Array.prototype.values",function(p){return p||function(){return i(this,function(k,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(p){var k=typeof p;return k=k!="object"?k:p?Array.isArray(p)?"array":k:"null",k=="array"||k=="object"&&typeof p.length=="number"}function l(p){var k=typeof p;return k=="object"&&p!=null||k=="function"}function u(p,k,V){return p.call.apply(p.bind,arguments)}function f(p,k,V){if(!p)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,G),p.apply(k,ee)}}return function(){return p.apply(k,arguments)}}function h(p,k,V){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function m(p,k){var V=Array.prototype.slice.call(arguments,1);return function(){var G=V.slice();return G.push.apply(G,arguments),p.apply(this,G)}}function v(p,k){function V(){}V.prototype=k.prototype,p.aa=k.prototype,p.prototype=new V,p.prototype.constructor=p,p.Qb=function(G,ee,ie){for(var _e=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)_e[Qt-2]=arguments[Qt];return k.prototype[ee].apply(G,_e)}}function g(p){const k=p.length;if(0<k){const V=Array(k);for(let G=0;G<k;G++)V[G]=p[G];return V}return[]}function y(p,k){for(let V=1;V<arguments.length;V++){const G=arguments[V];if(c(G)){const ee=p.length||0,ie=G.length||0;p.length=ee+ie;for(let _e=0;_e<ie;_e++)p[ee+_e]=G[_e]}else p.push(G)}}class E{constructor(k,V){this.i=k,this.j=V,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function w(p){return/^[\s\xa0]*$/.test(p)}function x(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function b(p){return b[" "](p),p}b[" "]=function(){};var D=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function L(p,k,V){for(const G in p)k.call(V,p[G],G,p)}function T(p,k){for(const V in p)k.call(void 0,p[V],V,p)}function R(p){const k={};for(const V in p)k[V]=p[V];return k}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(p,k){let V,G;for(let ee=1;ee<arguments.length;ee++){G=arguments[ee];for(V in G)p[V]=G[V];for(let ie=0;ie<F.length;ie++)V=F[ie],Object.prototype.hasOwnProperty.call(G,V)&&(p[V]=G[V])}}function U(p){var k=1;p=p.split(":");const V=[];for(;0<k&&p.length;)V.push(p.shift()),k--;return p.length&&V.push(p.join(":")),V}function W(p){a.setTimeout(()=>{throw p},0)}function S(){var p=z;let k=null;return p.g&&(k=p.g,p.g=p.g.next,p.g||(p.h=null),k.next=null),k}class _{constructor(){this.h=this.g=null}add(k,V){const G=C.get();G.set(k,V),this.h?this.h.next=G:this.g=G,this.h=G}}var C=new E(()=>new O,p=>p.reset());class O{constructor(){this.next=this.g=this.h=null}set(k,V){this.h=k,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let H,j=!1,z=new _,K=()=>{const p=a.Promise.resolve(void 0);H=()=>{p.then(B)}};var B=()=>{for(var p;p=S();){try{p.h.call(p.g)}catch(V){W(V)}var k=C;k.j(p),100>k.h&&(k.h++,p.next=k.g,k.g=p)}j=!1};function A(){this.s=this.s,this.C=this.C}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(p,k){this.type=p,this.g=this.target=k,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,k=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const V=()=>{};a.addEventListener("test",V,k),a.removeEventListener("test",V,k)}catch{}return p}();function oe(p,k){if($.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var V=this.type=p.type,G=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=k,k=p.relatedTarget){if(D){e:{try{b(k.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(k=null)}}else V=="mouseover"?k=p.fromElement:V=="mouseout"&&(k=p.toElement);this.relatedTarget=k,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ae[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&oe.aa.h.call(this)}}v(oe,$);var ae={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),le=0;function ye(p,k,V,G,ee){this.listener=p,this.proxy=null,this.src=k,this.type=V,this.capture=!!G,this.ha=ee,this.key=++le,this.da=this.fa=!1}function Re(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function be(p){this.src=p,this.g={},this.h=0}be.prototype.add=function(p,k,V,G,ee){var ie=p.toString();p=this.g[ie],p||(p=this.g[ie]=[],this.h++);var _e=Oe(p,k,G,ee);return-1<_e?(k=p[_e],V||(k.fa=!1)):(k=new ye(k,this.src,ie,!!G,ee),k.fa=V,p.push(k)),k};function xe(p,k){var V=k.type;if(V in p.g){var G=p.g[V],ee=Array.prototype.indexOf.call(G,k,void 0),ie;(ie=0<=ee)&&Array.prototype.splice.call(G,ee,1),ie&&(Re(k),p.g[V].length==0&&(delete p.g[V],p.h--))}}function Oe(p,k,V,G){for(var ee=0;ee<p.length;++ee){var ie=p[ee];if(!ie.da&&ie.listener==k&&ie.capture==!!V&&ie.ha==G)return ee}return-1}var Te="closure_lm_"+(1e6*Math.random()|0),He={};function Rt(p,k,V,G,ee){if(Array.isArray(k)){for(var ie=0;ie<k.length;ie++)Rt(p,k[ie],V,G,ee);return null}return V=_n(V),p&&p[ce]?p.K(k,V,l(G)?!!G.capture:!1,ee):rt(p,k,V,!1,G,ee)}function rt(p,k,V,G,ee,ie){if(!k)throw Error("Invalid event type");var _e=l(ee)?!!ee.capture:!!ee,Qt=lt(p);if(Qt||(p[Te]=Qt=new be(p)),V=Qt.add(k,V,G,_e,ie),V.proxy)return V;if(G=ht(),V.proxy=G,G.src=p,G.listener=V,p.addEventListener)X||(ee=_e),ee===void 0&&(ee=!1),p.addEventListener(k.toString(),G,ee);else if(p.attachEvent)p.attachEvent(ue(k.toString()),G);else if(p.addListener&&p.removeListener)p.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return V}function ht(){function p(V){return k.call(p.src,p.listener,V)}const k=st;return p}function zn(p,k,V,G,ee){if(Array.isArray(k))for(var ie=0;ie<k.length;ie++)zn(p,k[ie],V,G,ee);else G=l(G)?!!G.capture:!!G,V=_n(V),p&&p[ce]?(p=p.i,k=String(k).toString(),k in p.g&&(ie=p.g[k],V=Oe(ie,V,G,ee),-1<V&&(Re(ie[V]),Array.prototype.splice.call(ie,V,1),ie.length==0&&(delete p.g[k],p.h--)))):p&&(p=lt(p))&&(k=p.g[k.toString()],p=-1,k&&(p=Oe(k,V,G,ee)),(V=-1<p?k[p]:null)&&dt(V))}function dt(p){if(typeof p!="number"&&p&&!p.da){var k=p.src;if(k&&k[ce])xe(k.i,p);else{var V=p.type,G=p.proxy;k.removeEventListener?k.removeEventListener(V,G,p.capture):k.detachEvent?k.detachEvent(ue(V),G):k.addListener&&k.removeListener&&k.removeListener(G),(V=lt(k))?(xe(V,p),V.h==0&&(V.src=null,k[Te]=null)):Re(p)}}}function ue(p){return p in He?He[p]:He[p]="on"+p}function st(p,k){if(p.da)p=!0;else{k=new oe(k,this);var V=p.listener,G=p.ha||p.src;p.fa&&dt(p),p=V.call(G,k)}return p}function lt(p){return p=p[Te],p instanceof be?p:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(p){return typeof p=="function"?p:(p[bt]||(p[bt]=function(k){return p.handleEvent(k)}),p[bt])}function Ze(){A.call(this),this.i=new be(this),this.M=this,this.F=null}v(Ze,A),Ze.prototype[ce]=!0,Ze.prototype.removeEventListener=function(p,k,V,G){zn(this,p,k,V,G)};function q(p,k){var V,G=p.F;if(G)for(V=[];G;G=G.F)V.push(G);if(p=p.M,G=k.type||k,typeof k=="string")k=new $(k,p);else if(k instanceof $)k.target=k.target||p;else{var ee=k;k=new $(G,p),P(k,ee)}if(ee=!0,V)for(var ie=V.length-1;0<=ie;ie--){var _e=k.g=V[ie];ee=N(_e,G,!0,k)&&ee}if(_e=k.g=p,ee=N(_e,G,!0,k)&&ee,ee=N(_e,G,!1,k)&&ee,V)for(ie=0;ie<V.length;ie++)_e=k.g=V[ie],ee=N(_e,G,!1,k)&&ee}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var p=this.i,k;for(k in p.g){for(var V=p.g[k],G=0;G<V.length;G++)Re(V[G]);delete p.g[k],p.h--}}this.F=null},Ze.prototype.K=function(p,k,V,G){return this.i.add(String(p),k,!1,V,G)},Ze.prototype.L=function(p,k,V,G){return this.i.add(String(p),k,!0,V,G)};function N(p,k,V,G){if(k=p.i.g[String(k)],!k)return!0;k=k.concat();for(var ee=!0,ie=0;ie<k.length;++ie){var _e=k[ie];if(_e&&!_e.da&&_e.capture==V){var Qt=_e.listener,mr=_e.ha||_e.src;_e.fa&&xe(p.i,_e),ee=Qt.call(mr,G)!==!1&&ee}}return ee&&!G.defaultPrevented}function M(p,k,V){if(typeof p=="function")V&&(p=h(p,V));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:a.setTimeout(p,k||0)}function Q(p){p.g=M(()=>{p.g=null,p.i&&(p.i=!1,Q(p))},p.l);const k=p.h;p.h=null,p.m.apply(null,k)}class Z extends A{constructor(k,V){super(),this.m=k,this.l=V,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function J(p){A.call(this),this.h=p,this.g={}}v(J,A);var re=[];function Je(p){L(p.g,function(k,V){this.g.hasOwnProperty(V)&&dt(k)},p),p.g={}}J.prototype.N=function(){J.aa.N.call(this),Je(this)},J.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=a.JSON.stringify,Qe=a.JSON.parse,jt=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function Fe(){}Fe.prototype.h=null;function sn(p){return p.h||(p.h=p.i())}function ca(){}var $t={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kt(){$.call(this,"d")}v(Kt,$);function la(){$.call(this,"c")}v(la,$);var Pt={},on=null;function Di(){return on=on||new Ze}Pt.La="serverreachability";function an(p){$.call(this,Pt.La,p)}v(an,$);function Ht(p){const k=Di();q(k,new an(k))}Pt.STAT_EVENT="statevent";function ua(p,k){$.call(this,Pt.STAT_EVENT,p),this.stat=k}v(ua,$);function ft(p){const k=Di();q(k,new ua(k,p))}Pt.Ma="timingevent";function Zt(p,k){$.call(this,Pt.Ma,p),this.size=k}v(Zt,$);function Pn(p,k){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},k)}function vt(){this.g=!0}vt.prototype.xa=function(){this.g=!1};function cn(p,k,V,G,ee,ie){p.info(function(){if(p.g)if(ie)for(var _e="",Qt=ie.split("&"),mr=0;mr<Qt.length;mr++){var kt=Qt[mr].split("=");if(1<kt.length){var kr=kt[0];kt=kt[1];var Nr=kr.split("_");_e=2<=Nr.length&&Nr[1]=="type"?_e+(kr+"="+kt+"&"):_e+(kr+"=redacted&")}}else _e=null;else _e=ie;return"XMLHTTP REQ ("+G+") [attempt "+ee+"]: "+k+`
`+V+`
`+_e})}function xu(p,k,V,G,ee,ie,_e){p.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ee+"]: "+k+`
`+V+`
`+ie+" "+_e})}function Gt(p,k,V,G){p.info(function(){return"XMLHTTP TEXT ("+k+"): "+nm(p,V)+(G?" "+G:"")})}function Bn(p,k){p.info(function(){return"TIMEOUT: "+k})}vt.prototype.info=function(){};function nm(p,k){if(!p.g)return k;if(!k)return null;try{var V=JSON.parse(k);if(V){for(p=0;p<V.length;p++)if(Array.isArray(V[p])){var G=V[p];if(!(2>G.length)){var ee=G[1];if(Array.isArray(ee)&&!(1>ee.length)){var ie=ee[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var _e=1;_e<ee.length;_e++)ee[_e]=""}}}}return qe(V)}catch{return k}}var ln={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},En={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wu;function un(){}v(un,Fe),un.prototype.g=function(){return new XMLHttpRequest},un.prototype.i=function(){return{}},wu=new un;function Ft(p,k,V,G){this.j=p,this.i=k,this.l=V,this.R=G||1,this.U=new J(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _u}function _u(){this.i=null,this.g="",this.h=!1}var Eu={},$c={};function Hc(p,k,V){p.L=1,p.v=im(yo(k)),p.m=V,p.P=!0,bu(p,null)}function bu(p,k){p.F=Date.now(),da(p),p.A=yo(p.v);var V=p.A,G=p.R;Array.isArray(G)||(G=[String(G)]),RT(V.i,"t",G),p.C=0,V=p.j.J,p.h=new _u,p.g=KT(p.j,V?k:null,!p.m),0<p.O&&(p.M=new Z(h(p.Y,p,p.g),p.O)),k=p.U,V=p.g,G=p.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(re[0]=ee.toString()),ee=re);for(var ie=0;ie<ee.length;ie++){var _e=Rt(V,ee[ie],G||k.handleEvent,!1,k.h||k);if(!_e)break;k.g[_e.key]=_e}k=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,k)):(p.u="GET",p.g.ea(p.A,p.u,null,k)),Ht(),cn(p.i,p.u,p.A,p.l,p.R,p.m)}Ft.prototype.ca=function(p){p=p.target;const k=this.M;k&&vo(p)==3?k.j():this.Y(p)},Ft.prototype.Y=function(p){try{if(p==this.g)e:{const Nr=vo(this.g);var k=this.g.Ba();const Nu=this.g.Z();if(!(3>Nr)&&(Nr!=3||this.g&&(this.h.h||this.g.oa()||OT(this.g)))){this.J||Nr!=4||k==7||(k==8||0>=Nu?Ht(3):Ht(2)),qc(this);var V=this.g.Z();this.X=V;t:if(Au(this)){var G=OT(this.g);p="";var ee=G.length,ie=vo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),go(this);var _e="";break t}this.h.i=new a.TextDecoder}for(k=0;k<ee;k++)this.h.h=!0,p+=this.h.i.decode(G[k],{stream:!(ie&&k==ee-1)});G.length=0,this.h.g+=p,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=V==200,xu(this.i,this.u,this.A,this.l,this.R,Nr,V),this.o){if(this.T&&!this.K){t:{if(this.g){var Qt,mr=this.g;if((Qt=mr.g?mr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Qt)){var kt=Qt;break t}}kt=null}if(V=kt)Gt(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kc(this,V);else{this.o=!1,this.s=3,ft(12),si(this),go(this);break e}}if(this.P){V=!0;let ii;for(;!this.J&&this.C<_e.length;)if(ii=Xf(this,_e),ii==$c){Nr==4&&(this.s=4,ft(14),V=!1),Gt(this.i,this.l,null,"[Incomplete Response]");break}else if(ii==Eu){this.s=4,ft(15),Gt(this.i,this.l,_e,"[Invalid Chunk]"),V=!1;break}else Gt(this.i,this.l,ii,null),Kc(this,ii);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nr!=4||_e.length!=0||this.h.h||(this.s=1,ft(16),V=!1),this.o=this.o&&V,!V)Gt(this.i,this.l,_e,"[Invalid Chunked Response]"),si(this),go(this);else if(0<_e.length&&!this.W){this.W=!0;var kr=this.j;kr.g==this&&kr.ba&&!kr.M&&(kr.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Ew(kr),kr.M=!0,ft(11))}}else Gt(this.i,this.l,_e,null),Kc(this,_e);Nr==4&&si(this),this.o&&!this.J&&(Nr==4?WT(this.j,this):(this.o=!1,da(this)))}else C7(this.g),V==400&&0<_e.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),si(this),go(this)}}}catch{}finally{}};function Au(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Xf(p,k){var V=p.C,G=k.indexOf(`
`,V);return G==-1?$c:(V=Number(k.substring(V,G)),isNaN(V)?Eu:(G+=1,G+V>k.length?$c:(k=k.slice(G,G+V),p.C=G+V,k)))}Ft.prototype.cancel=function(){this.J=!0,si(this)};function da(p){p.S=Date.now()+p.I,Su(p,p.I)}function Su(p,k){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Pn(h(p.ba,p),k)}function qc(p){p.B&&(a.clearTimeout(p.B),p.B=null)}Ft.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Bn(this.i,this.A),this.L!=2&&(Ht(),ft(17)),si(this),this.s=2,go(this)):Su(this,this.S-p)};function go(p){p.j.G==0||p.J||WT(p.j,p)}function si(p){qc(p);var k=p.M;k&&typeof k.ma=="function"&&k.ma(),p.M=null,Je(p.U),p.g&&(k=p.g,p.g=null,k.abort(),k.ma())}function Kc(p,k){try{var V=p.j;if(V.G!=0&&(V.g==p||Gc(V.h,p))){if(!p.K&&Gc(V.h,p)&&V.G==3){try{var G=V.Da.g.parse(k)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ee=G;if(ee[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<p.F)dm(V),lm(V);else break e;_w(V),ft(18)}}else V.za=ee[1],0<V.za-V.T&&37500>ee[2]&&V.F&&V.v==0&&!V.C&&(V.C=Pn(h(V.Za,V),6e3));if(1>=Iu(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else Xc(V,11)}else if((p.K||V.g==p)&&dm(V),!w(k))for(ee=V.Da.g.parse(k),k=0;k<ee.length;k++){let kt=ee[k];if(V.T=kt[0],kt=kt[1],V.G==2)if(kt[0]=="c"){V.K=kt[1],V.ia=kt[2];const kr=kt[3];kr!=null&&(V.la=kr,V.j.info("VER="+V.la));const Nr=kt[4];Nr!=null&&(V.Aa=Nr,V.j.info("SVER="+V.Aa));const Nu=kt[5];Nu!=null&&typeof Nu=="number"&&0<Nu&&(G=1.5*Nu,V.L=G,V.j.info("backChannelRequestTimeoutMs_="+G)),G=V;const ii=p.g;if(ii){const hm=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hm){var ie=G.h;ie.g||hm.indexOf("spdy")==-1&&hm.indexOf("quic")==-1&&hm.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Qc(ie,ie.h),ie.h=null))}if(G.D){const bw=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;bw&&(G.ya=bw,dn(G.I,G.D,bw))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-p.F,V.j.info("Handshake RTT: "+V.R+"ms")),G=V;var _e=p;if(G.qa=qT(G,G.J?G.ia:null,G.W),_e.K){_T(G.h,_e);var Qt=_e,mr=G.L;mr&&(Qt.I=mr),Qt.B&&(qc(Qt),da(Qt)),G.g=_e}else zT(G);0<V.i.length&&um(V)}else kt[0]!="stop"&&kt[0]!="close"||Xc(V,7);else V.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Xc(V,7):ww(V):kt[0]!="noop"&&V.l&&V.l.ta(kt),V.v=0)}}Ht(4)}catch{}}var Zf=class{constructor(p,k){this.g=p,this.map=k}};function Cu(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tu(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Iu(p){return p.h?1:p.g?p.g.size:0}function Gc(p,k){return p.h?p.h==k:p.g?p.g.has(k):!1}function Qc(p,k){p.g?p.g.add(k):p.h=k}function _T(p,k){p.h&&p.h==k?p.h=null:p.g&&p.g.has(k)&&p.g.delete(k)}Cu.prototype.cancel=function(){if(this.i=ET(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function ET(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let k=p.i;for(const V of p.g.values())k=k.concat(V.D);return k}return g(p.i)}function d7(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var k=[],V=p.length,G=0;G<V;G++)k.push(p[G]);return k}k=[],V=0;for(G in p)k[V++]=p[G];return k}function f7(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var k=[];p=p.length;for(var V=0;V<p;V++)k.push(V);return k}k=[],V=0;for(const G in p)k[V++]=G;return k}}}function bT(p,k){if(p.forEach&&typeof p.forEach=="function")p.forEach(k,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,k,void 0);else for(var V=f7(p),G=d7(p),ee=G.length,ie=0;ie<ee;ie++)k.call(void 0,G[ie],V&&V[ie],p)}var AT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function h7(p,k){if(p){p=p.split("&");for(var V=0;V<p.length;V++){var G=p[V].indexOf("="),ee=null;if(0<=G){var ie=p[V].substring(0,G);ee=p[V].substring(G+1)}else ie=p[V];k(ie,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Yc(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Yc){this.h=p.h,rm(this,p.j),this.o=p.o,this.g=p.g,sm(this,p.s),this.l=p.l;var k=p.i,V=new th;V.i=k.i,k.g&&(V.g=new Map(k.g),V.h=k.h),ST(this,V),this.m=p.m}else p&&(k=String(p).match(AT))?(this.h=!1,rm(this,k[1]||"",!0),this.o=Jf(k[2]||""),this.g=Jf(k[3]||"",!0),sm(this,k[4]),this.l=Jf(k[5]||"",!0),ST(this,k[6]||"",!0),this.m=Jf(k[7]||"")):(this.h=!1,this.i=new th(null,this.h))}Yc.prototype.toString=function(){var p=[],k=this.j;k&&p.push(eh(k,CT,!0),":");var V=this.g;return(V||k=="file")&&(p.push("//"),(k=this.o)&&p.push(eh(k,CT,!0),"@"),p.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&p.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&p.push("/"),p.push(eh(V,V.charAt(0)=="/"?g7:m7,!0))),(V=this.i.toString())&&p.push("?",V),(V=this.m)&&p.push("#",eh(V,v7)),p.join("")};function yo(p){return new Yc(p)}function rm(p,k,V){p.j=V?Jf(k,!0):k,p.j&&(p.j=p.j.replace(/:$/,""))}function sm(p,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);p.s=k}else p.s=null}function ST(p,k,V){k instanceof th?(p.i=k,x7(p.i,p.h)):(V||(k=eh(k,y7)),p.i=new th(k,p.h))}function dn(p,k,V){p.i.set(k,V)}function im(p){return dn(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Jf(p,k){return p?k?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function eh(p,k,V){return typeof p=="string"?(p=encodeURI(p).replace(k,p7),V&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function p7(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var CT=/[#\/\?@]/g,m7=/[#\?:]/g,g7=/[#\?]/g,y7=/[#\?@]/g,v7=/#/g;function th(p,k){this.h=this.g=null,this.i=p||null,this.j=!!k}function fa(p){p.g||(p.g=new Map,p.h=0,p.i&&h7(p.i,function(k,V){p.add(decodeURIComponent(k.replace(/\+/g," ")),V)}))}t=th.prototype,t.add=function(p,k){fa(this),this.i=null,p=Ru(this,p);var V=this.g.get(p);return V||this.g.set(p,V=[]),V.push(k),this.h+=1,this};function TT(p,k){fa(p),k=Ru(p,k),p.g.has(k)&&(p.i=null,p.h-=p.g.get(k).length,p.g.delete(k))}function IT(p,k){return fa(p),k=Ru(p,k),p.g.has(k)}t.forEach=function(p,k){fa(this),this.g.forEach(function(V,G){V.forEach(function(ee){p.call(k,ee,G,this)},this)},this)},t.na=function(){fa(this);const p=Array.from(this.g.values()),k=Array.from(this.g.keys()),V=[];for(let G=0;G<k.length;G++){const ee=p[G];for(let ie=0;ie<ee.length;ie++)V.push(k[G])}return V},t.V=function(p){fa(this);let k=[];if(typeof p=="string")IT(this,p)&&(k=k.concat(this.g.get(Ru(this,p))));else{p=Array.from(this.g.values());for(let V=0;V<p.length;V++)k=k.concat(p[V])}return k},t.set=function(p,k){return fa(this),this.i=null,p=Ru(this,p),IT(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[k]),this.h+=1,this},t.get=function(p,k){return p?(p=this.V(p),0<p.length?String(p[0]):k):k};function RT(p,k,V){TT(p,k),0<V.length&&(p.i=null,p.g.set(Ru(p,k),g(V)),p.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],k=Array.from(this.g.keys());for(var V=0;V<k.length;V++){var G=k[V];const ie=encodeURIComponent(String(G)),_e=this.V(G);for(G=0;G<_e.length;G++){var ee=ie;_e[G]!==""&&(ee+="="+encodeURIComponent(String(_e[G]))),p.push(ee)}}return this.i=p.join("&")};function Ru(p,k){return k=String(k),p.j&&(k=k.toLowerCase()),k}function x7(p,k){k&&!p.j&&(fa(p),p.i=null,p.g.forEach(function(V,G){var ee=G.toLowerCase();G!=ee&&(TT(this,G),RT(this,ee,V))},p)),p.j=k}function w7(p,k){const V=new vt;if(a.Image){const G=new Image;G.onload=m(ha,V,"TestLoadImage: loaded",!0,k,G),G.onerror=m(ha,V,"TestLoadImage: error",!1,k,G),G.onabort=m(ha,V,"TestLoadImage: abort",!1,k,G),G.ontimeout=m(ha,V,"TestLoadImage: timeout",!1,k,G),a.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=p}else k(!1)}function _7(p,k){const V=new vt,G=new AbortController,ee=setTimeout(()=>{G.abort(),ha(V,"TestPingServer: timeout",!1,k)},1e4);fetch(p,{signal:G.signal}).then(ie=>{clearTimeout(ee),ie.ok?ha(V,"TestPingServer: ok",!0,k):ha(V,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(ee),ha(V,"TestPingServer: error",!1,k)})}function ha(p,k,V,G,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),G(V)}catch{}}function E7(){this.g=new jt}function b7(p,k,V){const G=V||"";try{bT(p,function(ee,ie){let _e=ee;l(ee)&&(_e=qe(ee)),k.push(G+ie+"="+encodeURIComponent(_e))})}catch(ee){throw k.push(G+"type="+encodeURIComponent("_badmap")),ee}}function om(p){this.l=p.Ub||null,this.j=p.eb||!1}v(om,Fe),om.prototype.g=function(){return new am(this.l,this.j)},om.prototype.i=function(p){return function(){return p}}({});function am(p,k){Ze.call(this),this.D=p,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(am,Ze),t=am.prototype,t.open=function(p,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=k,this.readyState=1,rh(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(k.body=p),(this.D||a).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nh(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,rh(this)),this.g&&(this.readyState=3,rh(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kT(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function kT(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var k=p.value?p.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!p.done}))&&(this.response=this.responseText+=k)}p.done?nh(this):rh(this),this.readyState==3&&kT(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,nh(this))},t.Qa=function(p){this.g&&(this.response=p,nh(this))},t.ga=function(){this.g&&nh(this)};function nh(p){p.readyState=4,p.l=null,p.j=null,p.v=null,rh(p)}t.setRequestHeader=function(p,k){this.u.append(p,k)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],k=this.h.entries();for(var V=k.next();!V.done;)V=V.value,p.push(V[0]+": "+V[1]),V=k.next();return p.join(`\r
`)};function rh(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(am.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function NT(p){let k="";return L(p,function(V,G){k+=G,k+=":",k+=V,k+=`\r
`}),k}function xw(p,k,V){e:{for(G in V){var G=!1;break e}G=!0}G||(V=NT(V),typeof p=="string"?V!=null&&encodeURIComponent(String(V)):dn(p,k,V))}function On(p){Ze.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(On,Ze);var A7=/^https?$/i,S7=["POST","PUT"];t=On.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,k,V,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);k=k?k.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wu.g(),this.v=this.o?sn(this.o):sn(wu),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(k,String(p),!0),this.B=!1}catch(ie){MT(this,ie);return}if(p=V||"",V=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ee in G)V.set(ee,G[ee]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const ie of G.keys())V.set(ie,G.get(ie));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(V.keys()).find(ie=>ie.toLowerCase()=="content-type"),ee=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call(S7,k,void 0))||G||ee||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,_e]of V)this.g.setRequestHeader(ie,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{BT(this),this.u=!0,this.g.send(p),this.u=!1}catch(ie){MT(this,ie)}};function MT(p,k){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=k,p.m=5,DT(p),cm(p)}function DT(p){p.A||(p.A=!0,q(p,"complete"),q(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,q(this,"complete"),q(this,"abort"),cm(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cm(this,!0)),On.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?PT(this):this.bb())},t.bb=function(){PT(this)};function PT(p){if(p.h&&typeof o<"u"&&(!p.v[1]||vo(p)!=4||p.Z()!=2)){if(p.u&&vo(p)==4)M(p.Ea,0,p);else if(q(p,"readystatechange"),vo(p)==4){p.h=!1;try{const _e=p.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var V;if(!(V=k)){var G;if(G=_e===0){var ee=String(p.D).match(AT)[1]||null;!ee&&a.self&&a.self.location&&(ee=a.self.location.protocol.slice(0,-1)),G=!A7.test(ee?ee.toLowerCase():"")}V=G}if(V)q(p,"complete"),q(p,"success");else{p.m=6;try{var ie=2<vo(p)?p.g.statusText:""}catch{ie=""}p.l=ie+" ["+p.Z()+"]",DT(p)}}finally{cm(p)}}}}function cm(p,k){if(p.g){BT(p);const V=p.g,G=p.v[0]?()=>{}:null;p.g=null,p.v=null,k||q(p,"ready");try{V.onreadystatechange=G}catch{}}}function BT(p){p.I&&(a.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function vo(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<vo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var k=this.g.responseText;return p&&k.indexOf(p)==0&&(k=k.substring(p.length)),Qe(k)}};function OT(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function C7(p){const k={};p=(p.g&&2<=vo(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<p.length;G++){if(w(p[G]))continue;var V=U(p[G]);const ee=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const ie=k[ee]||[];k[ee]=ie,ie.push(V)}T(k,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sh(p,k,V){return V&&V.internalChannelParams&&V.internalChannelParams[p]||k}function LT(p){this.Aa=0,this.i=[],this.j=new vt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sh("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sh("baseRetryDelayMs",5e3,p),this.cb=sh("retryDelaySeedMs",1e4,p),this.Wa=sh("forwardChannelMaxRetries",2,p),this.wa=sh("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Cu(p&&p.concurrentRequestLimit),this.Da=new E7,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=LT.prototype,t.la=8,t.G=1,t.connect=function(p,k,V,G){ft(0),this.W=p,this.H=k||{},V&&G!==void 0&&(this.H.OSID=V,this.H.OAID=G),this.F=this.X,this.I=qT(this,null,this.W),um(this)};function ww(p){if(jT(p),p.G==3){var k=p.U++,V=yo(p.I);if(dn(V,"SID",p.K),dn(V,"RID",k),dn(V,"TYPE","terminate"),ih(p,V),k=new Ft(p,p.j,k),k.L=2,k.v=im(yo(V)),V=!1,a.navigator&&a.navigator.sendBeacon)try{V=a.navigator.sendBeacon(k.v.toString(),"")}catch{}!V&&a.Image&&(new Image().src=k.v,V=!0),V||(k.g=KT(k.j,null),k.g.ea(k.v)),k.F=Date.now(),da(k)}HT(p)}function lm(p){p.g&&(Ew(p),p.g.cancel(),p.g=null)}function jT(p){lm(p),p.u&&(a.clearTimeout(p.u),p.u=null),dm(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function um(p){if(!Tu(p.h)&&!p.s){p.s=!0;var k=p.Ga;H||K(),j||(H(),j=!0),z.add(k,p),p.B=0}}function T7(p,k){return Iu(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=k.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Pn(h(p.Ga,p,k),$T(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const ee=new Ft(this,this.j,p);let ie=this.o;if(this.S&&(ie?(ie=R(ie),P(ie,this.S)):ie=this.S),this.m!==null||this.O||(ee.H=ie,ie=null),this.P)e:{for(var k=0,V=0;V<this.i.length;V++){t:{var G=this.i[V];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(k+=G,4096<k){k=V;break e}if(k===4096||V===this.i.length-1){k=V+1;break e}}k=1e3}else k=1e3;k=UT(this,ee,k),V=yo(this.I),dn(V,"RID",p),dn(V,"CVER",22),this.D&&dn(V,"X-HTTP-Session-Id",this.D),ih(this,V),ie&&(this.O?k="headers="+encodeURIComponent(String(NT(ie)))+"&"+k:this.m&&xw(V,this.m,ie)),Qc(this.h,ee),this.Ua&&dn(V,"TYPE","init"),this.P?(dn(V,"$req",k),dn(V,"SID","null"),ee.T=!0,Hc(ee,V,null)):Hc(ee,V,k),this.G=2}}else this.G==3&&(p?FT(this,p):this.i.length==0||Tu(this.h)||FT(this))};function FT(p,k){var V;k?V=k.l:V=p.U++;const G=yo(p.I);dn(G,"SID",p.K),dn(G,"RID",V),dn(G,"AID",p.T),ih(p,G),p.m&&p.o&&xw(G,p.m,p.o),V=new Ft(p,p.j,V,p.B+1),p.m===null&&(V.H=p.o),k&&(p.i=k.D.concat(p.i)),k=UT(p,V,1e3),V.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Qc(p.h,V),Hc(V,G,k)}function ih(p,k){p.H&&L(p.H,function(V,G){dn(k,G,V)}),p.l&&bT({},function(V,G){dn(k,G,V)})}function UT(p,k,V){V=Math.min(p.i.length,V);var G=p.l?h(p.l.Na,p.l,p):null;e:{var ee=p.i;let ie=-1;for(;;){const _e=["count="+V];ie==-1?0<V?(ie=ee[0].g,_e.push("ofs="+ie)):ie=0:_e.push("ofs="+ie);let Qt=!0;for(let mr=0;mr<V;mr++){let kt=ee[mr].g;const kr=ee[mr].map;if(kt-=ie,0>kt)ie=Math.max(0,ee[mr].g-100),Qt=!1;else try{b7(kr,_e,"req"+kt+"_")}catch{G&&G(kr)}}if(Qt){G=_e.join("&");break e}}}return p=p.i.splice(0,V),k.D=p,G}function zT(p){if(!p.g&&!p.u){p.Y=1;var k=p.Fa;H||K(),j||(H(),j=!0),z.add(k,p),p.v=0}}function _w(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Pn(h(p.Fa,p),$T(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,VT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Pn(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),lm(this),VT(this))};function Ew(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function VT(p){p.g=new Ft(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var k=yo(p.qa);dn(k,"RID","rpc"),dn(k,"SID",p.K),dn(k,"AID",p.T),dn(k,"CI",p.F?"0":"1"),!p.F&&p.ja&&dn(k,"TO",p.ja),dn(k,"TYPE","xmlhttp"),ih(p,k),p.m&&p.o&&xw(k,p.m,p.o),p.L&&(p.g.I=p.L);var V=p.g;p=p.ia,V.L=1,V.v=im(yo(k)),V.m=null,V.P=!0,bu(V,p)}t.Za=function(){this.C!=null&&(this.C=null,lm(this),_w(this),ft(19))};function dm(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function WT(p,k){var V=null;if(p.g==k){dm(p),Ew(p),p.g=null;var G=2}else if(Gc(p.h,k))V=k.D,_T(p.h,k),G=1;else return;if(p.G!=0){if(k.o)if(G==1){V=k.m?k.m.length:0,k=Date.now()-k.F;var ee=p.B;G=Di(),q(G,new Zt(G,V)),um(p)}else zT(p);else if(ee=k.s,ee==3||ee==0&&0<k.X||!(G==1&&T7(p,k)||G==2&&_w(p)))switch(V&&0<V.length&&(k=p.h,k.i=k.i.concat(V)),ee){case 1:Xc(p,5);break;case 4:Xc(p,10);break;case 3:Xc(p,6);break;default:Xc(p,2)}}}function $T(p,k){let V=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(V*=2),V*k}function Xc(p,k){if(p.j.info("Error code "+k),k==2){var V=h(p.fb,p),G=p.Xa;const ee=!G;G=new Yc(G||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||rm(G,"https"),im(G),ee?w7(G.toString(),V):_7(G.toString(),V)}else ft(2);p.G=0,p.l&&p.l.sa(k),HT(p),jT(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function HT(p){if(p.G=0,p.ka=[],p.l){const k=ET(p.h);(k.length!=0||p.i.length!=0)&&(y(p.ka,k),y(p.ka,p.i),p.h.i.length=0,g(p.i),p.i.length=0),p.l.ra()}}function qT(p,k,V){var G=V instanceof Yc?yo(V):new Yc(V);if(G.g!="")k&&(G.g=k+"."+G.g),sm(G,G.s);else{var ee=a.location;G=ee.protocol,k=k?k+"."+ee.hostname:ee.hostname,ee=+ee.port;var ie=new Yc(null);G&&rm(ie,G),k&&(ie.g=k),ee&&sm(ie,ee),V&&(ie.l=V),G=ie}return V=p.D,k=p.ya,V&&k&&dn(G,V,k),dn(G,"VER",p.la),ih(p,G),G}function KT(p,k,V){if(k&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=p.Ca&&!p.pa?new On(new om({eb:V})):new On(p.pa),k.Ha(p.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function GT(){}t=GT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fm(){}fm.prototype.g=function(p,k){return new Ss(p,k)};function Ss(p,k){Ze.call(this),this.g=new LT(k),this.l=p,this.h=k&&k.messageUrlParams||null,p=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(p?p["X-WebChannel-Content-Type"]=k.messageContentType:p={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(p?p["X-WebChannel-Client-Profile"]=k.va:p={"X-WebChannel-Client-Profile":k.va}),this.g.S=p,(p=k&&k.Sb)&&!w(p)&&(this.g.m=p),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!w(k)&&(this.g.D=k,p=this.h,p!==null&&k in p&&(p=this.h,k in p&&delete p[k])),this.j=new ku(this)}v(Ss,Ze),Ss.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ss.prototype.close=function(){ww(this.g)},Ss.prototype.o=function(p){var k=this.g;if(typeof p=="string"){var V={};V.__data__=p,p=V}else this.u&&(V={},V.__data__=qe(p),p=V);k.i.push(new Zf(k.Ya++,p)),k.G==3&&um(k)},Ss.prototype.N=function(){this.g.l=null,delete this.j,ww(this.g),delete this.g,Ss.aa.N.call(this)};function QT(p){Kt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var k=p.__sm__;if(k){e:{for(const V in k){p=V;break e}p=void 0}(this.i=p)&&(p=this.i,k=k!==null&&p in k?k[p]:void 0),this.data=k}else this.data=p}v(QT,Kt);function YT(){la.call(this),this.status=1}v(YT,la);function ku(p){this.g=p}v(ku,GT),ku.prototype.ua=function(){q(this.g,"a")},ku.prototype.ta=function(p){q(this.g,new QT(p))},ku.prototype.sa=function(p){q(this.g,new YT)},ku.prototype.ra=function(){q(this.g,"b")},fm.prototype.createWebChannel=fm.prototype.g,Ss.prototype.send=Ss.prototype.o,Ss.prototype.open=Ss.prototype.m,Ss.prototype.close=Ss.prototype.close,oF=function(){return new fm},iF=function(){return Di()},sF=Pt,T2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ln.NO_ERROR=0,ln.TIMEOUT=8,ln.HTTP_ERROR=6,Gg=ln,En.COMPLETE="complete",rF=En,ca.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,Vh=ca,On.prototype.listenOnce=On.prototype.L,On.prototype.getLastError=On.prototype.Ka,On.prototype.getLastErrorCode=On.prototype.Ba,On.prototype.getStatus=On.prototype.Z,On.prototype.getResponseJson=On.prototype.Oa,On.prototype.getResponseText=On.prototype.oa,On.prototype.send=On.prototype.ea,On.prototype.setWithCredentials=On.prototype.Ha,nF=On}).apply(typeof Jm<"u"?Jm:typeof self<"u"?self:typeof window<"u"?window:{});const EN="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new xC("@firebase/firestore");function bh(){return eu.logLevel}function De(t,...e){if(eu.logLevel<=_t.DEBUG){const n=e.map(EC);eu.debug(`Firestore (${Hf}): ${t}`,...n)}}function ra(t,...e){if(eu.logLevel<=_t.ERROR){const n=e.map(EC);eu.error(`Firestore (${Hf}): ${t}`,...n)}}function _f(t,...e){if(eu.logLevel<=_t.WARN){const n=e.map(EC);eu.warn(`Firestore (${Hf}): ${t}`,...n)}}function EC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t="Unexpected state"){const e=`FIRESTORE (${Hf}) INTERNAL ASSERTION FAILED: `+t;throw ra(e),new Error(e)}function Tt(t,e){t||Ke()}function tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends ho{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vr.UNAUTHENTICATED))}shutdown(){}}class eue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tue{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tt(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ji,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ji)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string"),new aF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string"),new Vr(e)}}class nue{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rue{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new nue(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sue{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iue{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Tt(this.o===void 0);const r=i=>{i.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,De("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tt(typeof n.token=="string"),this.R=n.token,new sue(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=oue(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Mt(t,e){return t<e?-1:t>e?1:0}function Ef(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new we(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return or.fromMillis(Date.now())}static fromDate(e){return or.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new or(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new or(0,0))}static max(){return new Ye(new or(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(),r===void 0?r=e.length-n:r>e.length-n&&Ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return K0.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof K0?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qt extends K0{construct(e,n,r){return new qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new qt(n)}static emptyPath(){return new qt([])}}const aue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class br extends K0{construct(e,n,r){return new br(e,n,r)}static isValidIdentifier(e){return aue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new br(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new we(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new we(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new we(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new we(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new br(n)}static emptyPath(){return new br([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(qt.fromString(e))}static fromName(e){return new je(qt.fromString(e).popFirst(5))}static empty(){return new je(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new qt(e.slice()))}}function cue(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ye.fromTimestamp(r===1e9?new or(n+1,0):new or(n,r));return new kc(s,je.empty(),e)}function lue(t){return new kc(t.readTime,t.key,-1)}class kc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kc(Ye.min(),je.empty(),-1)}static max(){return new kc(Ye.max(),je.empty(),-1)}}function uue(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:Mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const due="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wp(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==due)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):me.reject(n)}static resolve(e){return new me((n,r)=>{n(e)})}static reject(e){return new me((n,r)=>{r(e)})}static waitFor(e){return new me((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=me.resolve(!1);for(const r of e)n=n.next(s=>s?me.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new me((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new me((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function hue(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $p(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}bC.oe=-1;function Hp(t){return t==null}function yv(t){return t===0&&1/t==-1/0}function pue(t){return typeof t=="number"&&Number.isInteger(t)&&!yv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n){this.comparator=e,this.root=n||_r.EMPTY}insert(e,n){return new Dn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new Dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eg(this.root,e,this.comparator,!1)}getReverseIterator(){return new eg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eg(this.root,e,this.comparator,!0)}}class eg{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _r{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_r.RED,this.left=s??_r.EMPTY,this.right=i??_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _r(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _r.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1;_r.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,n,r,s,i){return this}insert(e,n,r){return new _r(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.comparator=e,this.data=new Dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AN(this.data.getIterator())}getIteratorFrom(e){return new AN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tr(this.comparator);return n.data=e,n}}class AN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.fields=e,e.sort(br.comparator)}static empty(){return new Os([])}unionWith(e){let n=new Tr(br.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Os(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ef(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new uF("Invalid base64 string: "+i):i}}(e);return new Rr(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Rr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rr.EMPTY_BYTE_STRING=new Rr("");const mue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nc(t){if(Tt(!!t),typeof t=="string"){let e=0;const n=mue.exec(t);if(Tt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$n(t.seconds),nanos:$n(t.nanos)}}function $n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tu(t){return typeof t=="string"?Rr.fromBase64String(t):Rr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function AC(t){const e=t.mapValue.fields.__previous_value__;return Zx(e)?AC(e):e}function G0(t){const e=Nc(t.mapValue.fields.__local_write_time__.timestampValue);return new or(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gue{constructor(e,n,r,s,i,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Q0{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Q0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Q0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg={mapValue:{}};function nu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zx(t)?4:vue(t)?9007199254740991:yue(t)?10:11:Ke()}function io(t,e){if(t===e)return!0;const n=nu(t);if(n!==nu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return G0(t).isEqual(G0(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Nc(s.timestampValue),a=Nc(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return tu(s.bytesValue).isEqual(tu(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return $n(s.geoPointValue.latitude)===$n(i.geoPointValue.latitude)&&$n(s.geoPointValue.longitude)===$n(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return $n(s.integerValue)===$n(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=$n(s.doubleValue),a=$n(i.doubleValue);return o===a?yv(o)===yv(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ef(t.arrayValue.values||[],e.arrayValue.values||[],io);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(bN(o)!==bN(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!io(o[c],a[c])))return!1;return!0}(t,e);default:return Ke()}}function Y0(t,e){return(t.values||[]).find(n=>io(n,e))!==void 0}function bf(t,e){if(t===e)return 0;const n=nu(t),r=nu(e);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=$n(i.integerValue||i.doubleValue),c=$n(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return SN(t.timestampValue,e.timestampValue);case 4:return SN(G0(t),G0(e));case 5:return Mt(t.stringValue,e.stringValue);case 6:return function(i,o){const a=tu(i),c=tu(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Mt(a[l],c[l]);if(u!==0)return u}return Mt(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Mt($n(i.latitude),$n(o.latitude));return a!==0?a:Mt($n(i.longitude),$n(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return CN(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,c,l,u;const f=i.fields||{},h=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(c=h.value)===null||c===void 0?void 0:c.arrayValue,g=Mt(((l=m==null?void 0:m.values)===null||l===void 0?void 0:l.length)||0,((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:CN(m,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===tg.mapValue&&o===tg.mapValue)return 0;if(i===tg.mapValue)return 1;if(o===tg.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let f=0;f<c.length&&f<u.length;++f){const h=Mt(c[f],u[f]);if(h!==0)return h;const m=bf(a[c[f]],l[u[f]]);if(m!==0)return m}return Mt(c.length,u.length)}(t.mapValue,e.mapValue);default:throw Ke()}}function SN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const n=Nc(t),r=Nc(e),s=Mt(n.seconds,r.seconds);return s!==0?s:Mt(n.nanos,r.nanos)}function CN(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=bf(n[s],r[s]);if(i)return i}return Mt(n.length,r.length)}function Af(t){return I2(t)}function I2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Nc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return tu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return je.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=I2(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${I2(n.fields[o])}`;return s+"}"}(t.mapValue):Ke()}function vv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function R2(t){return!!t&&"integerValue"in t}function SC(t){return!!t&&"arrayValue"in t}function TN(t){return!!t&&"nullValue"in t}function IN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qg(t){return!!t&&"mapValue"in t}function yue(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function l0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=l0(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=l0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vue(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.value=e}static empty(){return new rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=l0(n)}setAll(e){let n=br.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=l0(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Qg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return io(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Qg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){gu(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new rs(l0(this.value))}}function dF(t){const e=[];return gu(t.fields,(n,r)=>{const s=new br([n]);if(Qg(r)){const i=dF(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Os(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new dr(e,0,Ye.min(),Ye.min(),Ye.min(),rs.empty(),0)}static newFoundDocument(e,n,r,s){return new dr(e,1,n,Ye.min(),r,s,0)}static newNoDocument(e,n){return new dr(e,2,n,Ye.min(),Ye.min(),rs.empty(),0)}static newUnknownDocument(e,n){return new dr(e,3,n,Ye.min(),Ye.min(),rs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.position=e,this.inclusive=n}}function RN(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=je.comparator(je.fromName(o.referenceValue),n.key):r=bf(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function kN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!io(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n="asc"){this.field=e,this.dir=n}}function xue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{}class er extends fF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _ue(e,n,r):n==="array-contains"?new Aue(e,r):n==="in"?new Sue(e,r):n==="not-in"?new Cue(e,r):n==="array-contains-any"?new Tue(e,r):new er(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Eue(e,r):new bue(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bf(n,this.value)):n!==null&&nu(this.value)===nu(n)&&this.matchesComparison(bf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends fF{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ri(e,n)}matches(e){return hF(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hF(t){return t.op==="and"}function pF(t){return wue(t)&&hF(t)}function wue(t){for(const e of t.filters)if(e instanceof Ri)return!1;return!0}function k2(t){if(t instanceof er)return t.field.canonicalString()+t.op.toString()+Af(t.value);if(pF(t))return t.filters.map(e=>k2(e)).join(",");{const e=t.filters.map(n=>k2(n)).join(",");return`${t.op}(${e})`}}function mF(t,e){return t instanceof er?function(r,s){return s instanceof er&&r.op===s.op&&r.field.isEqual(s.field)&&io(r.value,s.value)}(t,e):t instanceof Ri?function(r,s){return s instanceof Ri&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&mF(o,s.filters[a]),!0):!1}(t,e):void Ke()}function gF(t){return t instanceof er?function(n){return`${n.field.canonicalString()} ${n.op} ${Af(n.value)}`}(t):t instanceof Ri?function(n){return n.op.toString()+" {"+n.getFilters().map(gF).join(" ,")+"}"}(t):"Filter"}class _ue extends er{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class Eue extends er{constructor(e,n){super(e,"in",n),this.keys=yF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bue extends er{constructor(e,n){super(e,"not-in",n),this.keys=yF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>je.fromName(r.referenceValue))}class Aue extends er{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return SC(n)&&Y0(n.arrayValue,this.value)}}class Sue extends er{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Y0(this.value.arrayValue,n)}}class Cue extends er{constructor(e,n){super(e,"not-in",n)}matches(e){if(Y0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Y0(this.value.arrayValue,n)}}class Tue extends er{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!SC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Y0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iue{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function NN(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Iue(t,e,n,r,s,i,o)}function CC(t){const e=tt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>k2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Hp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Af(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Af(r)).join(",")),e.ue=n}return e.ue}function TC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xue(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kN(t.startAt,e.startAt)&&kN(t.endAt,e.endAt)}function N2(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Rue(t,e,n,r,s,i,o,a){return new yu(t,e,n,r,s,i,o,a)}function Jx(t){return new yu(t)}function MN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IC(t){return t.collectionGroup!==null}function Bd(t){const e=tt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tr(br.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new X0(i,r))}),n.has(br.keyField().canonicalString())||e.ce.push(new X0(br.keyField(),r))}return e.ce}function eo(t){const e=tt(t);return e.le||(e.le=kue(e,Bd(t))),e.le}function kue(t,e){if(t.limitType==="F")return NN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new X0(s.field,i)});const n=t.endAt?new Sf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sf(t.startAt.position,t.startAt.inclusive):null;return NN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function M2(t,e){const n=t.filters.concat([e]);return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xv(t,e,n){return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ew(t,e){return TC(eo(t),eo(e))&&t.limitType===e.limitType}function vF(t){return`${CC(eo(t))}|lt:${t.limitType}`}function Ju(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>gF(s)).join(", ")}]`),Hp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Af(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Af(s)).join(",")),`Target(${r})`}(eo(t))}; limitType=${t.limitType})`}function tw(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):je.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Bd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const l=RN(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,Bd(r),s)||r.endAt&&!function(o,a,c){const l=RN(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,Bd(r),s))}(t,e)}function Nue(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xF(t){return(e,n)=>{let r=!1;for(const s of Bd(t)){const i=Mue(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Mue(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),l=a.data.field(i);return c!==null&&l!==null?bf(c,l):Ke()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){gu(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return lF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Due=new Dn(je.comparator);function sa(){return Due}const wF=new Dn(je.comparator);function Wh(...t){let e=wF;for(const n of t)e=e.insert(n.key,n);return e}function _F(t){let e=wF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xl(){return u0()}function EF(){return u0()}function u0(){return new qf(t=>t.toString(),(t,e)=>t.isEqual(e))}const Pue=new Dn(je.comparator),Bue=new Tr(je.comparator);function yt(...t){let e=Bue;for(const n of t)e=e.add(n);return e}const Oue=new Tr(Mt);function Lue(){return Oue}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yv(e)?"-0":e}}function bF(t){return{integerValue:""+t}}function AF(t,e){return pue(e)?bF(e):RC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this._=void 0}}function jue(t,e,n){return t instanceof Z0?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Zx(i)&&(i=AC(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof J0?CF(t,e):t instanceof ep?TF(t,e):function(s,i){const o=SF(s,i),a=DN(o)+DN(s.Pe);return R2(o)&&R2(s.Pe)?bF(a):RC(s.serializer,a)}(t,e)}function Fue(t,e,n){return t instanceof J0?CF(t,e):t instanceof ep?TF(t,e):n}function SF(t,e){return t instanceof tp?function(r){return R2(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Z0 extends nw{}class J0 extends nw{constructor(e){super(),this.elements=e}}function CF(t,e){const n=IF(e);for(const r of t.elements)n.some(s=>io(s,r))||n.push(r);return{arrayValue:{values:n}}}class ep extends nw{constructor(e){super(),this.elements=e}}function TF(t,e){let n=IF(e);for(const r of t.elements)n=n.filter(s=>!io(s,r));return{arrayValue:{values:n}}}class tp extends nw{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function DN(t){return $n(t.integerValue||t.doubleValue)}function IF(t){return SC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n){this.field=e,this.transform=n}}function Uue(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof J0&&s instanceof J0||r instanceof ep&&s instanceof ep?Ef(r.elements,s.elements,io):r instanceof tp&&s instanceof tp?io(r.Pe,s.Pe):r instanceof Z0&&s instanceof Z0}(t.transform,e.transform)}class zue{constructor(e,n){this.version=e,this.transformResults=n}}class Ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rw{}function kF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sw(t.key,Ar.none()):new qp(t.key,t.data,Ar.none());{const n=t.data,r=rs.empty();let s=new Tr(br.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Wc(t.key,r,new Os(s.toArray()),Ar.none())}}function Vue(t,e,n){t instanceof qp?function(s,i,o){const a=s.value.clone(),c=BN(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Wc?function(s,i,o){if(!Yg(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=BN(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(NF(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function d0(t,e,n,r){return t instanceof qp?function(i,o,a,c){if(!Yg(i.precondition,o))return a;const l=i.value.clone(),u=ON(i.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wc?function(i,o,a,c){if(!Yg(i.precondition,o))return a;const l=ON(i.fieldTransforms,c,o),u=o.data;return u.setAll(NF(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Yg(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Wue(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=SF(r.transform,s||null);i!=null&&(n===null&&(n=rs.empty()),n.set(r.field,i))}return n||null}function PN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ef(r,s,(i,o)=>Uue(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qp extends rw{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wc extends rw{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function NF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function BN(t,e,n){const r=new Map;Tt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Fue(o,a,n[s]))}return r}function ON(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,jue(i,o,e))}return r}class sw extends rw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MF extends rw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ue{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Vue(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=d0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=d0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EF();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=kF(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),yt())}isEqual(e){return this.batchId===e.batchId&&Ef(this.mutations,e.mutations,(n,r)=>PN(n,r))&&Ef(this.baseMutations,e.baseMutations,(n,r)=>PN(n,r))}}class kC{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Tt(e.mutations.length===r.length);let s=function(){return Pue}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new kC(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hue{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class que{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn,At;function DF(t){switch(t){default:return Ke();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function PF(t){if(t===void 0)return ra("GRPC error has no .code"),de.UNKNOWN;switch(t){case Qn.OK:return de.OK;case Qn.CANCELLED:return de.CANCELLED;case Qn.UNKNOWN:return de.UNKNOWN;case Qn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Qn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Qn.INTERNAL:return de.INTERNAL;case Qn.UNAVAILABLE:return de.UNAVAILABLE;case Qn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Qn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Qn.NOT_FOUND:return de.NOT_FOUND;case Qn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Qn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Qn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Qn.ABORTED:return de.ABORTED;case Qn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Qn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Qn.DATA_LOSS:return de.DATA_LOSS;default:return Ke()}}(At=Qn||(Qn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kue(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gue=new Bl([4294967295,4294967295],0);function LN(t){const e=Kue().encode(t),n=new tF;return n.update(e),new Uint8Array(n.digest())}function jN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Bl([n,r],0),new Bl([s,i],0)]}class NC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $h(`Invalid padding: ${n}`);if(r<0)throw new $h(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $h(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $h(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Bl.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Bl.fromNumber(r)));return s.compare(Gue)===1&&(s=new Bl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=LN(e),[r,s]=jN(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new NC(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=LN(e),[r,s]=jN(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $h extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Kp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new iw(Ye.min(),s,new Dn(Mt),sa(),yt())}}class Kp{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kp(r,n,yt(),yt(),yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class BF{constructor(e,n){this.targetId=e,this.me=n}}class OF{constructor(e,n,r=Rr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class FN{constructor(){this.fe=0,this.ge=zN(),this.pe=Rr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=yt(),n=yt(),r=yt();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ke()}}),new Kp(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=zN()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Que{constructor(e){this.Le=e,this.Be=new Map,this.ke=sa(),this.qe=UN(),this.Qe=new Dn(Mt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(N2(i))if(r===0){const o=new je(i.path);this.Ue(n,o,dr.newNoDocument(o,Ye.min()))}else Tt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=tu(r).toUint8Array()}catch(c){if(c instanceof uF)return _f("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new NC(o,s,i)}catch(c){return _f(c instanceof $h?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&N2(a.target)){const c=new je(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,dr.newNoDocument(c,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=yt();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new iw(e,n,this.Qe,this.ke,r);return this.ke=sa(),this.qe=UN(),this.Qe=new Dn(Mt),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new FN,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Tr(Mt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new FN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function UN(){return new Dn(je.comparator)}function zN(){return new Dn(je.comparator)}const Yue={asc:"ASCENDING",desc:"DESCENDING"},Xue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zue={and:"AND",or:"OR"};class Jue{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function D2(t,e){return t.useProto3Json||Hp(e)?e:{value:e}}function wv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ede(t,e){return wv(t,e.toTimestamp())}function Fs(t){return Tt(!!t),Ye.fromTimestamp(function(n){const r=Nc(n);return new or(r.seconds,r.nanos)}(t))}function MC(t,e){return P2(t,e).canonicalString()}function P2(t,e){const n=function(s){return new qt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jF(t){const e=qt.fromString(t);return Tt($F(e)),e}function _v(t,e){return MC(t.databaseId,e.path)}function f0(t,e){const n=jF(e);if(n.get(1)!==t.databaseId.projectId)throw new we(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(UF(n))}function FF(t,e){return MC(t.databaseId,e)}function tde(t){const e=jF(t);return e.length===4?qt.emptyPath():UF(e)}function B2(t){return new qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UF(t){return Tt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function VN(t,e,n){return{name:_v(t,e),fields:n.value.mapValue.fields}}function nde(t,e){return"found"in e?function(r,s){Tt(!!s.found),s.found.name,s.found.updateTime;const i=f0(r,s.found.name),o=Fs(s.found.updateTime),a=s.found.createTime?Fs(s.found.createTime):Ye.min(),c=new rs({mapValue:{fields:s.found.fields}});return dr.newFoundDocument(i,o,a,c)}(t,e):"missing"in e?function(r,s){Tt(!!s.missing),Tt(!!s.readTime);const i=f0(r,s.missing),o=Fs(s.readTime);return dr.newNoDocument(i,o)}(t,e):Ke()}function rde(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(Tt(u===void 0||typeof u=="string"),Rr.fromBase64String(u||"")):(Tt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Rr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?de.UNKNOWN:PF(l.code);return new we(u,l.message||"")}(o);n=new OF(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=f0(t,r.document.name),i=Fs(r.document.updateTime),o=r.document.createTime?Fs(r.document.createTime):Ye.min(),a=new rs({mapValue:{fields:r.document.fields}}),c=dr.newFoundDocument(s,i,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Xg(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=f0(t,r.document),i=r.readTime?Fs(r.readTime):Ye.min(),o=dr.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Xg([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=f0(t,r.document),i=r.removedTargetIds||[];n=new Xg([],i,s,null)}else{if(!("filter"in e))return Ke();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new que(s,i),a=r.targetId;n=new BF(a,o)}}return n}function zF(t,e){let n;if(e instanceof qp)n={update:VN(t,e.key,e.value)};else if(e instanceof sw)n={delete:_v(t,e.key)};else if(e instanceof Wc)n={update:VN(t,e.key,e.data),updateMask:fde(e.fieldMask)};else{if(!(e instanceof MF))return Ke();n={verify:_v(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Z0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof J0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ep)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ke()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:ede(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ke()}(t,e.precondition)),n}function sde(t,e){return t&&t.length>0?(Tt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Fs(s.updateTime):Fs(i);return o.isEqual(Ye.min())&&(o=Fs(i)),new zue(o,s.transformResults||[])}(n,e))):[]}function ide(t,e){return{documents:[FF(t,e.path)]}}function ode(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FF(t,s);const i=function(l){if(l.length!==0)return WF(Ri.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:ed(h.field),direction:lde(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=D2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:s}}function ade(t){let e=tde(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Tt(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(f){const h=VF(f);return h instanceof Ri&&pF(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(v){return new X0(td(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Hp(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,m=f.values||[];return new Sf(m,h)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const h=!f.before,m=f.values||[];return new Sf(m,h)}(n.endAt)),Rue(e,s,o,i,a,"F",c,l)}function cde(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=td(n.unaryFilter.field);return er.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=td(n.unaryFilter.field);return er.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=td(n.unaryFilter.field);return er.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=td(n.unaryFilter.field);return er.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(t):t.fieldFilter!==void 0?function(n){return er.create(td(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ri.create(n.compositeFilter.filters.map(r=>VF(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ke()}}(n.compositeFilter.op))}(t):Ke()}function lde(t){return Yue[t]}function ude(t){return Xue[t]}function dde(t){return Zue[t]}function ed(t){return{fieldPath:t.canonicalString()}}function td(t){return br.fromServerFormat(t.fieldPath)}function WF(t){return t instanceof er?function(n){if(n.op==="=="){if(IN(n.value))return{unaryFilter:{field:ed(n.field),op:"IS_NAN"}};if(TN(n.value))return{unaryFilter:{field:ed(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IN(n.value))return{unaryFilter:{field:ed(n.field),op:"IS_NOT_NAN"}};if(TN(n.value))return{unaryFilter:{field:ed(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ed(n.field),op:ude(n.op),value:n.value}}}(t):t instanceof Ri?function(n){const r=n.getFilters().map(s=>WF(s));return r.length===1?r[0]:{compositeFilter:{op:dde(n.op),filters:r}}}(t):Ke()}function fde(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $F(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,r,s,i=Ye.min(),o=Ye.min(),a=Rr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ic(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ic(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hde{constructor(e){this.ct=e}}function pde(t){const e=ade({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mde{constructor(){this.un=new gde}addToCollectionParentIndex(e,n){return this.un.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(kc.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(kc.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class gde{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Tr(qt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tr(qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Cf(0)}static kn(){return new Cf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yde{constructor(){this.changes=new qf(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vde{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xde{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&d0(r.mutation,s,Os.empty(),or.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,yt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=yt()){const s=xl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Wh();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,yt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=sa();const o=u0(),a=function(){return u0()}();return n.forEach((c,l)=>{const u=r.get(l.key);s.has(l.key)&&(u===void 0||u.mutation instanceof Wc)?i=i.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),d0(u.mutation,l,u.mutation.getFieldMask(),or.now())):o.set(l.key,Os.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var f;return a.set(l,new vde(u,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=u0();let s=new Dn((o,a)=>o-a),i=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=r.get(c)||Os.empty();u=a.applyToLocalView(l,u),r.set(c,u);const f=(s.get(a.batchId)||yt()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,f=EF();u.forEach(h=>{if(!i.has(h)){const m=kF(n.get(h),r.get(h));m!==null&&f.set(h,m),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return me.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return je.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):me.resolve(xl());let a=-1,c=i;return o.next(l=>me.forEach(l,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(u)?me.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,c,l,yt())).next(u=>({batchId:a,changes:_F(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next(r=>{let s=Wh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Wh();return this.indexManager.getCollectionParents(e,i).next(a=>me.forEach(a,c=>{const l=function(f,h){return new yu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r,s).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,dr.newInvalidDocument(u)))});let a=Wh();return o.forEach((c,l)=>{const u=i.get(c);u!==void 0&&d0(u.mutation,l,Os.empty(),or.now()),tw(n,l)&&(a=a.insert(c,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wde{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return me.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Fs(s.createTime)}}(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:pde(s.bundledQuery),readTime:Fs(s.readTime)}}(n)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _de{constructor(){this.overlays=new Dn(je.comparator),this.Ir=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xl();return me.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),me.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){const s=xl(),i=n.length+1,o=new je(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return me.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Dn((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=i.get(l.largestBatchId);u===null&&(u=xl(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=xl(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=s)););return me.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Hue(n,r));let i=this.Ir.get(n);i===void 0&&(i=yt(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ede{constructor(){this.sessionToken=Rr.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.Tr=new Tr(lr.Er),this.dr=new Tr(lr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new lr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new lr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new je(new qt([])),r=new lr(n,e),s=new lr(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new je(new qt([])),r=new lr(n,e),s=new lr(n,e+1);let i=yt();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new lr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return je.comparator(e.key,n.key)||Mt(e.wr,n.wr)}static Ar(e,n){return Mt(e.wr,n.wr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bde{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Tr(lr.Er)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $ue(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new lr(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return me.resolve(o)}lookupMutationBatch(e,n){return me.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return me.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lr(n,0),s=new lr(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),me.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tr(Mt);return n.forEach(s=>{const i=new lr(s,0),o=new lr(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),me.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;je.isDocumentKey(i)||(i=i.child(""));const o=new lr(new je(i),0);let a=new Tr(Mt);return this.br.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(c.wr)),!0)},o),me.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Tt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return me.forEach(n.mutations,s=>{const i=new lr(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new lr(n,0),s=this.br.firstAfterOrEqual(r);return me.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ade{constructor(e){this.Mr=e,this.docs=function(){return new Dn(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(n))}getEntries(e,n){let r=sa();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():dr.newInvalidDocument(s))}),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=sa();const o=n.path,a=new je(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||uue(lue(u),r)<=0||(s.has(u.key)||tw(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return me.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ke()}Or(e,n){return me.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Sde(this)}getSize(e){return me.resolve(this.size)}}class Sde extends yde{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),me.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cde{constructor(e){this.persistence=e,this.Nr=new qf(n=>CC(n),TC),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new DC,this.targetCount=0,this.kr=Cf.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),me.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Cf(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.Kn(n),me.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),me.waitFor(i).next(()=>s)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),me.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),me.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tde{constructor(e,n){this.qr={},this.overlays={},this.Qr=new bC(0),this.Kr=!1,this.Kr=!0,this.$r=new Ede,this.referenceDelegate=e(this),this.Ur=new Cde(this),this.indexManager=new mde,this.remoteDocumentCache=function(s){return new Ade(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new hde(n),this.Gr=new wde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _de,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new bde(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const s=new Ide(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return me.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Ide extends fue{constructor(e){super(),this.currentSequenceNumber=e}}class PC{constructor(e){this.persistence=e,this.Jr=new DC,this.Yr=null}static Zr(e){return new PC(e)}get Xr(){if(this.Yr)return this.Yr;throw Ke()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),me.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Xr,r=>{const s=je.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Ye.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return me.or([()=>me.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=yt(),s=yt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new BC(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kde{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Oce()?8:hue(Qr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Rde;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(bh()<=_t.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",Ju(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),me.resolve()):(bh()<=_t.DEBUG&&De("QueryEngine","Query:",Ju(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(bh()<=_t.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",Ju(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,eo(n))):me.resolve())}Yi(e,n){if(MN(n))return me.resolve(null);let r=eo(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=xv(n,null,"F"),r=eo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=yt(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.ts(n,a);return this.ns(n,l,o,c.readTime)?this.Yi(e,xv(n,null,"F")):this.rs(e,l,n,c)}))})))}Zi(e,n,r,s){return MN(n)||s.isEqual(Ye.min())?me.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?me.resolve(null):(bh()<=_t.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ju(n)),this.rs(e,o,n,cue(s,-1)).next(a=>a))})}ts(e,n){let r=new Tr(xF(e));return n.forEach((s,i)=>{tw(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return bh()<=_t.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Ju(n)),this.Ji.getDocumentsMatchingQuery(e,n,kc.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nde{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Dn(Mt),this._s=new qf(i=>CC(i),TC),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xde(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Mde(t,e,n,r){return new Nde(t,e,n,r)}async function HF(t,e){const n=tt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=yt();for(const l of s){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})}function Dde(t,e){const n=tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const f=l.batch,h=f.keys();let m=me.resolve();return h.forEach(v=>{m=m.next(()=>u.getEntry(c,v)).next(g=>{const y=l.docVersions.get(v);Tt(y!==null),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=yt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function qF(t){const e=tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Pde(t,e){const n=tt(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,f)=>{const h=s.get(f);if(!h)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,f)));let m=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Rr.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(f,m),function(g,y,E){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,m,u)&&a.push(n.Ur.updateTargetData(i,m))});let c=sa(),l=yt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(Bde(i,o,e.documentUpdates).next(u=>{c=u.Ps,l=u.Is})),!r.isEqual(Ye.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return me.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.os=s,i))}function Bde(t,e,n){let r=yt(),s=yt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=sa();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(Ye.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):De("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function Ode(t,e){const n=tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Lde(t,e){const n=tt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,me.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new ic(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function O2(t,e,n){const r=tt(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!$p(o))throw o;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function WN(t,e,n){const r=tt(t);let s=Ye.min(),i=yt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const f=tt(c),h=f._s.get(u);return h!==void 0?me.resolve(f.os.get(h)):f.Ur.getTargetData(l,u)}(r,o,eo(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Ye.min(),n?i:yt())).next(a=>(jde(r,Nue(e),a),{documents:a,Ts:i})))}function jde(t,e,n){let r=t.us.get(e)||Ye.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class $N{constructor(){this.activeTargetIds=Lue()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fde{constructor(){this.so=new $N,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new $N,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ude{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ng=null;function W_(){return ng===null?ng=function(){return 268435456+Math.round(2147483648*Math.random())}():ng++,"0x"+ng.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vde{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="WebChannelConnection";class Wde extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=W_(),c=this.xo(n,r.toUriEncodedString());De("RestConnection",`Sending RPC '${n}' ${a}:`,c,s);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,i,o),this.No(n,c,l,s).then(u=>(De("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw _f("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",s),u})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hf}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=zde[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=W_();return new Promise((o,a)=>{const c=new nF;c.setWithCredentials(!0),c.listenOnce(rF.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Gg.NO_ERROR:const u=c.getResponseJson();De(Fr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Gg.TIMEOUT:De(Fr,`RPC '${e}' ${i} timed out`),a(new we(de.DEADLINE_EXCEEDED,"Request time out"));break;case Gg.HTTP_ERROR:const f=c.getStatus();if(De(Fr,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const v=function(y){const E=y.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(E)>=0?E:de.UNKNOWN}(m.status);a(new we(v,m.message))}else a(new we(de.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new we(de.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{De(Fr,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(s);De(Fr,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",l,r,15)})}Bo(e,n,r){const s=W_(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oF(),a=iF(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");De(Fr,`Creating RPC '${e}' stream ${s}: ${u}`,c);const f=o.createWebChannel(u,c);let h=!1,m=!1;const v=new Vde({Io:y=>{m?De(Fr,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(h||(De(Fr,`Opening RPC '${e}' stream ${s} transport.`),f.open(),h=!0),De(Fr,`RPC '${e}' stream ${s} sending:`,y),f.send(y))},To:()=>f.close()}),g=(y,E,w)=>{y.listen(E,x=>{try{w(x)}catch(b){setTimeout(()=>{throw b},0)}})};return g(f,Vh.EventType.OPEN,()=>{m||(De(Fr,`RPC '${e}' stream ${s} transport opened.`),v.yo())}),g(f,Vh.EventType.CLOSE,()=>{m||(m=!0,De(Fr,`RPC '${e}' stream ${s} transport closed`),v.So())}),g(f,Vh.EventType.ERROR,y=>{m||(m=!0,_f(Fr,`RPC '${e}' stream ${s} transport errored:`,y),v.So(new we(de.UNAVAILABLE,"The operation could not be completed")))}),g(f,Vh.EventType.MESSAGE,y=>{var E;if(!m){const w=y.data[0];Tt(!!w);const x=w,b=x.error||((E=x[0])===null||E===void 0?void 0:E.error);if(b){De(Fr,`RPC '${e}' stream ${s} received error:`,b);const D=b.status;let L=function(F){const P=Qn[F];if(P!==void 0)return PF(P)}(D),T=b.message;L===void 0&&(L=de.INTERNAL,T="Unknown error status: "+D+" with message "+b.message),m=!0,v.So(new we(L,T)),f.close()}else De(Fr,`RPC '${e}' stream ${s} received:`,w),v.bo(w)}}),g(a,sF.STAT_EVENT,y=>{y.stat===T2.PROXY?De(Fr,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===T2.NOPROXY&&De(Fr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function $_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t){return new Jue(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&De("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n,r,s,i,o,a,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new OC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(ra(n.toString()),ra("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new we(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $de extends KF{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=rde(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ye.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ye.min():o.readTime?Fs(o.readTime):Ye.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=B2(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=N2(c)?{documents:ide(i,c)}:{query:ode(i,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=LF(i,o.resumeToken);const l=D2(i,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Ye.min())>0){a.readTime=wv(i,o.snapshotVersion.toTimestamp());const l=D2(i,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=cde(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=B2(this.serializer),n.removeTarget=e,this.a_(n)}}class Hde extends KF{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=sde(e.writeResults,e.commitTime),r=Fs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=B2(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zF(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qde extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new we(de.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,P2(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new we(de.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,P2(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(de.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Kde{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ra(n),this.D_=!1):De("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gde{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{vu(this)&&(De("RemoteStore","Restarting streams for network reachability change."),await async function(c){const l=tt(c);l.L_.add(4),await Gp(l),l.q_.set("Unknown"),l.L_.delete(4),await aw(l)}(this))})}),this.q_=new Kde(r,s)}}async function aw(t){if(vu(t))for(const e of t.B_)await e(!0)}async function Gp(t){for(const e of t.B_)await e(!1)}function GF(t,e){const n=tt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),UC(n)?FC(n):Kf(n).r_()&&jC(n,e))}function LC(t,e){const n=tt(t),r=Kf(n);n.N_.delete(e),r.r_()&&QF(n,e),n.N_.size===0&&(r.r_()?r.o_():vu(n)&&n.q_.set("Unknown"))}function jC(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kf(t).A_(e)}function QF(t,e){t.Q_.xe(e),Kf(t).R_(e)}function FC(t){t.Q_=new Que({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Kf(t).start(),t.q_.v_()}function UC(t){return vu(t)&&!Kf(t).n_()&&t.N_.size>0}function vu(t){return tt(t).L_.size===0}function YF(t){t.Q_=void 0}async function Qde(t){t.q_.set("Online")}async function Yde(t){t.N_.forEach((e,n)=>{jC(t,e)})}async function Xde(t,e){YF(t),UC(t)?(t.q_.M_(e),FC(t)):t.q_.set("Unknown")}async function Zde(t,e,n){if(t.q_.set("Online"),e instanceof OF&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ev(t,r)}else if(e instanceof Xg?t.Q_.Ke(e):e instanceof BF?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ye.min()))try{const r=await qF(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.N_.get(l);u&&i.N_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=i.N_.get(c);if(!u)return;i.N_.set(c,u.withResumeToken(Rr.EMPTY_BYTE_STRING,u.snapshotVersion)),QF(i,c);const f=new ic(u.target,c,l,u.sequenceNumber);jC(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){De("RemoteStore","Failed to raise snapshot:",r),await Ev(t,r)}}async function Ev(t,e,n){if(!$p(e))throw e;t.L_.add(1),await Gp(t),t.q_.set("Offline"),n||(n=()=>qF(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{De("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await aw(t)})}function XF(t,e){return e().catch(n=>Ev(t,n,e))}async function cw(t){const e=tt(t),n=Mc(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Jde(e);)try{const s=await Ode(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,efe(e,s)}catch(s){await Ev(e,s)}ZF(e)&&JF(e)}function Jde(t){return vu(t)&&t.O_.length<10}function efe(t,e){t.O_.push(e);const n=Mc(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ZF(t){return vu(t)&&!Mc(t).n_()&&t.O_.length>0}function JF(t){Mc(t).start()}async function tfe(t){Mc(t).p_()}async function nfe(t){const e=Mc(t);for(const n of t.O_)e.m_(n.mutations)}async function rfe(t,e,n){const r=t.O_.shift(),s=kC.from(r,e,n);await XF(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await cw(t)}async function sfe(t,e){e&&Mc(t).V_&&await async function(r,s){if(function(o){return DF(o)&&o!==de.ABORTED}(s.code)){const i=r.O_.shift();Mc(r).s_(),await XF(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await cw(r)}}(t,e),ZF(t)&&JF(t)}async function qN(t,e){const n=tt(t);n.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const r=vu(n);n.L_.add(3),await Gp(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await aw(n)}async function ife(t,e){const n=tt(t);e?(n.L_.delete(2),await aw(n)):e||(n.L_.add(2),await Gp(n),n.q_.set("Unknown"))}function Kf(t){return t.K_||(t.K_=function(n,r,s){const i=tt(n);return i.w_(),new $de(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Qde.bind(null,t),Ro:Yde.bind(null,t),mo:Xde.bind(null,t),d_:Zde.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),UC(t)?FC(t):t.q_.set("Unknown")):(await t.K_.stop(),YF(t))})),t.K_}function Mc(t){return t.U_||(t.U_=function(n,r,s){const i=tt(n);return i.w_(),new Hde(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:tfe.bind(null,t),mo:sfe.bind(null,t),f_:nfe.bind(null,t),g_:rfe.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await cw(t)):(await t.U_.stop(),t.O_.length>0&&(De("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new zC(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function VC(t,e){if(ra("AsyncQueue",`${e}: ${t}`),$p(t))return new we(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=Wh(),this.sortedSet=new Dn(this.comparator)}static emptySet(e){return new Od(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Od)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Od;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.W_=new Dn(je.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ke():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Tf{constructor(e,n,r,s,i,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Tf(e,n,Od.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ew(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ofe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class afe{constructor(){this.queries=GN(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=tt(n),i=s.queries;s.queries=GN(),i.forEach((o,a)=>{for(const c of a.j_)c.onError(r)})})(this,new we(de.ABORTED,"Firestore shutting down"))}}function GN(){return new qf(t=>vF(t),ew)}async function WC(t,e){const n=tt(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new ofe,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=VC(o,`Initialization of query '${Ju(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&HC(n)}async function $C(t,e){const n=tt(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cfe(t,e){const n=tt(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&HC(n)}function lfe(t,e,n){const r=tt(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function HC(t){t.Y_.forEach(e=>{e.next()})}var L2,QN;(QN=L2||(L2={})).ea="default",QN.Cache="cache";class qC{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Tf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Tf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==L2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.key=e}}class t9{constructor(e){this.key=e}}class ufe{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=yt(),this.mutatedKeys=yt(),this.Aa=xF(e),this.Ra=new Od(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new KN,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,f)=>{const h=s.get(u),m=tw(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;h&&m?h.data.isEqual(m.data)?v!==g&&(r.track({type:3,doc:m}),y=!0):this.ga(h,m)||(r.track({type:2,doc:m}),y=!0,(c&&this.Aa(m,c)>0||l&&this.Aa(m,l)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),y=!0):h&&!m&&(r.track({type:1,doc:h}),y=!0,(c||l)&&(a=!0)),y&&(m?(o=o.add(m),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,f)=>function(m,v){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return g(m)-g(v)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,l=c!==this.Ea;return this.Ea=c,o.length!==0||l?{snapshot:new Tf(this.query,e.Ra,i,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new KN,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=yt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new t9(r))}),this.da.forEach(r=>{e.has(r)||n.push(new e9(r))}),n}ba(e){this.Ta=e.Ts,this.da=yt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Tf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class dfe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ffe{constructor(e){this.key=e,this.va=!1}}class hfe{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new qf(a=>vF(a),ew),this.Ma=new Map,this.xa=new Set,this.Oa=new Dn(je.comparator),this.Na=new Map,this.La=new DC,this.Ba={},this.ka=new Map,this.qa=Cf.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function pfe(t,e,n=!0){const r=a9(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await n9(r,e,n,!0),s}async function mfe(t,e){const n=a9(t);await n9(n,e,!0,!1)}async function n9(t,e,n,r){const s=await Lde(t.localStore,eo(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await gfe(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&GF(t.remoteStore,s),a}async function gfe(t,e,n,r,s){t.Ka=(f,h,m)=>async function(g,y,E,w){let x=y.view.ma(E);x.ns&&(x=await WN(g.localStore,y.query,!1).then(({documents:T})=>y.view.ma(T,x)));const b=w&&w.targetChanges.get(y.targetId),D=w&&w.targetMismatches.get(y.targetId)!=null,L=y.view.applyChanges(x,g.isPrimaryClient,b,D);return XN(g,y.targetId,L.wa),L.snapshot}(t,f,h,m);const i=await WN(t.localStore,e,!0),o=new ufe(e,i.Ts),a=o.ma(i.documents),c=Kp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),l=o.applyChanges(a,t.isPrimaryClient,c);XN(t,n,l.wa);const u=new dfe(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot}async function yfe(t,e,n){const r=tt(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!ew(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await O2(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&LC(r.remoteStore,s.targetId),j2(r,s.targetId)}).catch(Wp)):(j2(r,s.targetId),await O2(r.localStore,s.targetId,!0))}async function vfe(t,e){const n=tt(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),LC(n.remoteStore,r.targetId))}async function xfe(t,e,n){const r=Cfe(t);try{const s=await function(o,a){const c=tt(o),l=or.now(),u=a.reduce((m,v)=>m.add(v.key),yt());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=sa(),g=yt();return c.cs.getEntries(m,u).next(y=>{v=y,v.forEach((E,w)=>{w.isValidDocument()||(g=g.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,v)).next(y=>{f=y;const E=[];for(const w of a){const x=Wue(w,f.get(w.key).overlayedDocument);x!=null&&E.push(new Wc(w.key,x,dF(x.value.mapValue),Ar.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,E,a)}).next(y=>{h=y;const E=y.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(m,y.batchId,E)})}).then(()=>({batchId:h.batchId,changes:_F(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let l=o.Ba[o.currentUser.toKey()];l||(l=new Dn(Mt)),l=l.insert(a,c),o.Ba[o.currentUser.toKey()]=l}(r,s.batchId,n),await Qp(r,s.changes),await cw(r.remoteStore)}catch(s){const i=VC(s,"Failed to persist write");n.reject(i)}}async function r9(t,e){const n=tt(t);try{const r=await Pde(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Tt(o.va):s.removedDocuments.size>0&&(Tt(o.va),o.va=!1))}),await Qp(n,r,e)}catch(r){await Wp(r)}}function YN(t,e,n){const r=tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=tt(o);c.onlineState=a;let l=!1;c.queries.forEach((u,f)=>{for(const h of f.j_)h.Z_(a)&&(l=!0)}),l&&HC(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wfe(t,e,n){const r=tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Dn(je.comparator);o=o.insert(i,dr.newNoDocument(i,Ye.min()));const a=yt().add(i),c=new iw(Ye.min(),new Map,new Dn(Mt),o,a);await r9(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),KC(r)}else await O2(r.localStore,e,!1).then(()=>j2(r,e,n)).catch(Wp)}async function _fe(t,e){const n=tt(t),r=e.batch.batchId;try{const s=await Dde(n.localStore,e);i9(n,r,null),s9(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qp(n,s)}catch(s){await Wp(s)}}async function Efe(t,e,n){const r=tt(t);try{const s=await function(o,a){const c=tt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(Tt(f!==null),u=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);i9(r,e,n),s9(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qp(r,s)}catch(s){await Wp(s)}}function s9(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function i9(t,e,n){const r=tt(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function j2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||o9(t,r)})}function o9(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(LC(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),KC(t))}function XN(t,e,n){for(const r of n)r instanceof e9?(t.La.addReference(r.key,e),bfe(t,r)):r instanceof t9?(De("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||o9(t,r.key)):Ke()}function bfe(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(De("SyncEngine","New document in limbo: "+n),t.xa.add(r),KC(t))}function KC(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new je(qt.fromString(e)),r=t.qa.next();t.Na.set(r,new ffe(n)),t.Oa=t.Oa.insert(n,r),GF(t.remoteStore,new ic(eo(Jx(n.path)),r,"TargetPurposeLimboResolution",bC.oe))}}async function Qp(t,e,n){const r=tt(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,n).then(l=>{var u;if((l||n)&&r.isPrimaryClient){const f=l?!l.fromCache:(u=n==null?void 0:n.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(l){s.push(l);const f=BC.Wi(c.targetId,l);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(c,l){const u=tt(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>me.forEach(l,h=>me.forEach(h.$i,m=>u.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>me.forEach(h.Ui,m=>u.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!$p(f))throw f;De("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const h=f.targetId;if(!f.fromCache){const m=u.os.get(h),v=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(v);u.os=u.os.insert(h,g)}}}(r.localStore,i))}async function Afe(t,e){const n=tt(t);if(!n.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const r=await HF(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(c=>{c.reject(new we(de.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qp(n,r.hs)}}function Sfe(t,e){const n=tt(t),r=n.Na.get(e);if(r&&r.va)return yt().add(r.key);{let s=yt();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function a9(t){const e=tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wfe.bind(null,e),e.Ca.d_=cfe.bind(null,e.eventManager),e.Ca.$a=lfe.bind(null,e.eventManager),e}function Cfe(t){const e=tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_fe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Efe.bind(null,e),e}class bv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ow(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Mde(this.persistence,new kde,e.initialUser,this.serializer)}Ga(e){return new Tde(PC.Zr,this.serializer)}Wa(e){return new Fde}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bv.provider={build:()=>new bv};class F2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Afe.bind(null,this.syncEngine),await ife(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new afe}()}createDatastore(e){const n=ow(e.databaseInfo.databaseId),r=function(i){return new Wde(i)}(e.databaseInfo);return function(i,o,a,c){return new qde(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Gde(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>YN(this.syncEngine,n,0),function(){return HN.D()?new HN:new Ude}())}createSyncEngine(e,n){return function(s,i,o,a,c,l,u){const f=new hfe(s,i,o,a,c,l);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=tt(s);De("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Gp(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}F2.provider={build:()=>new F2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ra("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tfe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new we(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const o=tt(s),a={documents:i.map(f=>_v(o.serializer,f))},c=await o.Lo("BatchGetDocuments",o.serializer.databaseId,qt.emptyPath(),a,i.length),l=new Map;c.forEach(f=>{const h=nde(o.serializer,f);l.set(h.key.toString(),h)});const u=[];return i.forEach(f=>{const h=l.get(f.toString());Tt(!!h),u.push(h)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new sw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=je.fromPath(r);this.mutations.push(new MF(s,this.precondition(s)))}),await async function(r,s){const i=tt(r),o={writes:s.map(a=>zF(i.serializer,a))};await i.Mo("Commit",i.serializer.databaseId,qt.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ke();n=Ye.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new we(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ye.min())?Ar.exists(!1):Ar.updateTime(n):Ar.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ye.min()))throw new we(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ar.updateTime(n)}return Ar.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ife{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new OC(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new Tfe(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.lu(s)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Hp(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!DF(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rfe{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Vr.UNAUTHENTICATED,this.clientId=cF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{De("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(De("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=VC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function H_(t,e){t.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await HF(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ZN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kfe(t);De("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>qN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>qN(e.remoteStore,s)),t._onlineComponents=e}async function kfe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{await H_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;_f("Error using user provided cache. Falling back to memory cache: "+n),await H_(t,new bv)}}else De("FirestoreClient","Using default OfflineComponentProvider"),await H_(t,new bv);return t._offlineComponents}async function QC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),await ZN(t,t._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),await ZN(t,new F2))),t._onlineComponents}function Nfe(t){return QC(t).then(e=>e.syncEngine)}function Mfe(t){return QC(t).then(e=>e.datastore)}async function Av(t){const e=await QC(t),n=e.eventManager;return n.onListen=pfe.bind(null,e.syncEngine),n.onUnlisten=yfe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mfe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vfe.bind(null,e.syncEngine),n}function Dfe(t,e,n={}){const r=new Ji;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const u=new GC({next:h=>{u.Za(),o.enqueueAndForget(()=>$C(i,f));const m=h.docs.has(a);!m&&h.fromCache?l.reject(new we(de.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&c&&c.source==="server"?l.reject(new we(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),f=new qC(Jx(a.path),u,{includeMetadataChanges:!0,_a:!0});return WC(i,f)}(await Av(t),t.asyncQueue,e,n,r)),r.promise}function Pfe(t,e,n={}){const r=new Ji;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const u=new GC({next:h=>{u.Za(),o.enqueueAndForget(()=>$C(i,f)),h.fromCache&&c.source==="server"?l.reject(new we(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),f=new qC(a,u,{includeMetadataChanges:!0,_a:!0});return WC(i,f)}(await Av(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t,e,n){if(!n)throw new we(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bfe(t,e,n,r){if(e===!0&&r===!0)throw new we(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eM(t){if(!je.isDocumentKey(t))throw new we(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tM(t){if(je.isDocumentKey(t))throw new we(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke()}function ti(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lw(t);throw new we(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ofe(t,e){if(e<=0)throw new we(de.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bfe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c9((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uw{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nM({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nM(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Jle;switch(r.type){case"firstParty":return new rue(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=JN.get(n);r&&(De("ComponentProvider","Removing Datastore"),JN.delete(n),r.terminate())}(this),Promise.resolve()}}function Lfe(t,e,n,r={}){var s;const i=(t=ti(t,uw))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&_f("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Vr.MOCK_USER;else{a=Qj(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new we(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Vr(l)}t._authCredentials=new eue(new aF(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class Kr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _c(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kr(this.firestore,e,this._key)}}class _c extends po{constructor(e,n,r){super(e,n,Jx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kr(this.firestore,null,new je(e))}withConverter(e){return new _c(this.firestore,e,this._path)}}function ds(t,e,...n){if(t=Kn(t),l9("collection","path",e),t instanceof uw){const r=qt.fromString(e,...n);return tM(r),new _c(t,null,r)}{if(!(t instanceof Kr||t instanceof _c))throw new we(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qt.fromString(e,...n));return tM(r),new _c(t.firestore,null,r)}}function ci(t,e,...n){if(t=Kn(t),arguments.length===1&&(e=cF.newId()),l9("doc","path",e),t instanceof uw){const r=qt.fromString(e,...n);return eM(r),new Kr(t,null,new je(r))}{if(!(t instanceof Kr||t instanceof _c))throw new we(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qt.fromString(e,...n));return eM(r),new Kr(t.firestore,t instanceof _c?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new OC(this,"async_queue_retry"),this.Vu=()=>{const r=$_();r&&De("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=$_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=$_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ji;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!$p(e))throw e;De("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ra("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=zC.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function sM(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Dc extends uw{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new rM,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rM(e),this._firestoreClient=void 0,await e}}}function jfe(t,e){const n=typeof t=="object"?t:_C(),r=typeof t=="string"?t:"(default)",s=Xx(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=qj("firestore");i&&Lfe(s,...i)}return s}function Gf(t){if(t._terminated)throw new we(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ffe(t),t._firestoreClient}function Ffe(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,l,u){return new gue(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,c9(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Rfe(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ru(Rr.fromBase64String(e))}catch(n){throw new we(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ru(Rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ufe=/^__.*__$/;class zfe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wc(e,this.data,this.fieldMask,n,this.fieldTransforms):new qp(e,this.data,n,this.fieldTransforms)}}class u9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function d9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class ZC{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ZC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Sv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(d9(this.Cu)&&Ufe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Vfe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ow(e)}Qu(e,n,r,s=!1){return new ZC({Cu:e,methodName:n,qu:r,path:br.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xp(t){const e=t._freezeSettings(),n=ow(t._databaseId);return new Vfe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function f9(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);rT("Data must be an object, but it was:",o,r);const a=p9(r,o);let c,l;if(i.merge)c=new Os(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=U2(e,f,n);if(!o.contains(h))throw new we(de.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);g9(u,h)||u.push(h)}c=new Os(u),l=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=o.fieldTransforms;return new zfe(new rs(a),c,l)}class dw extends Yp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dw}}class JC extends Yp{_toFieldTransform(e){return new RF(e.path,new Z0)}isEqual(e){return e instanceof JC}}class eT extends Yp{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new tp(e.serializer,AF(e.serializer,this.$u));return new RF(e.path,n)}isEqual(e){return e instanceof eT&&this.$u===e.$u}}function tT(t,e,n,r){const s=t.Qu(1,e,n);rT("Data must be an object, but it was:",s,r);const i=[],o=rs.empty();gu(r,(c,l)=>{const u=sT(e,c,n);l=Kn(l);const f=s.Nu(u);if(l instanceof dw)i.push(u);else{const h=Zp(l,f);h!=null&&(i.push(u),o.set(u,h))}});const a=new Os(i);return new u9(o,a,s.fieldTransforms)}function nT(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[U2(e,r,n)],c=[s];if(i.length%2!=0)throw new we(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(U2(e,i[h])),c.push(i[h+1]);const l=[],u=rs.empty();for(let h=a.length-1;h>=0;--h)if(!g9(l,a[h])){const m=a[h];let v=c[h];v=Kn(v);const g=o.Nu(m);if(v instanceof dw)l.push(m);else{const y=Zp(v,g);y!=null&&(l.push(m),u.set(m,y))}}const f=new Os(l);return new u9(u,f,o.fieldTransforms)}function h9(t,e,n,r=!1){return Zp(n,t.Qu(r?4:3,e))}function Zp(t,e){if(m9(t=Kn(t)))return rT("Unsupported field value:",e,t),p9(t,e);if(t instanceof Yp)return function(r,s){if(!d9(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Zp(a,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Kn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AF(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=or.fromDate(r);return{timestampValue:wv(s.serializer,i)}}if(r instanceof or){const i=new or(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wv(s.serializer,i)}}if(r instanceof YC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ru)return{bytesValue:LF(s.serializer,r._byteString)};if(r instanceof Kr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:MC(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof XC)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return RC(a.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${lw(r)}`)}(t,e)}function p9(t,e){const n={};return lF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gu(t,(r,s)=>{const i=Zp(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function m9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof or||t instanceof YC||t instanceof ru||t instanceof Kr||t instanceof Yp||t instanceof XC)}function rT(t,e,n){if(!m9(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=lw(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function U2(t,e,n){if((e=Kn(e))instanceof Qf)return e._internalPath;if(typeof e=="string")return sT(t,e);throw Sv("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wfe=new RegExp("[~\\*/\\[\\]]");function sT(t,e,n){if(e.search(Wfe)>=0)throw Sv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qf(...e.split("."))._internalPath}catch{throw Sv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sv(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new we(de.INVALID_ARGUMENT,a+t+c)}function g9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $fe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $fe extends np{data(){return super.data()}}function fw(t,e){return typeof e=="string"?sT(t,e):e instanceof Qf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iT{}class hw extends iT{}function ba(t,e,...n){let r=[];e instanceof iT&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof oT).length,a=i.filter(c=>c instanceof pw).length;if(o>1||o>0&&a>0)throw new we(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class pw extends hw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new pw(e,n,r)}_apply(e){const n=this._parse(e);return v9(e._query,n),new po(e.firestore,e.converter,M2(e._query,n))}_parse(e){const n=Xp(e.firestore);return function(i,o,a,c,l,u,f){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new we(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){aM(f,u);const m=[];for(const v of f)m.push(oM(c,i,v));h={arrayValue:{values:m}}}else h=oM(c,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||aM(f,u),h=h9(a,o,f,u==="in"||u==="not-in");return er.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Aa(t,e,n){const r=e,s=fw("where",t);return pw._create(s,r,n)}class oT extends iT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new oT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)v9(o,c),o=M2(o,c)}(e._query,n),new po(e.firestore,e.converter,M2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class aT extends hw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new aT(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new we(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new we(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new X0(i,o)}(e._query,this._field,this._direction);return new po(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new yu(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function rg(t,e="asc"){const n=e,r=fw("orderBy",t);return aT._create(r,n)}class cT extends hw{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new cT(e,n,r)}_apply(e){return new po(e.firestore,e.converter,xv(e._query,this._limit,this._limitType))}}function $u(t){return Ofe("limit",t),cT._create("limit",t,"F")}class lT extends hw{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new lT(e,n,r)}_apply(e){const n=Hfe(e,this.type,this._docOrFields,this._inclusive);return new po(e.firestore,e.converter,function(s,i){return new yu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function iM(...t){return lT._create("startAfter",t,!1)}function Hfe(t,e,n,r){if(n[0]=Kn(n[0]),n[0]instanceof np)return function(i,o,a,c,l){if(!c)throw new we(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const f of Bd(i))if(f.field.isKeyField())u.push(vv(o,c.key));else{const h=c.data.field(f.field);if(Zx(h))throw new we(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const m=f.field.canonicalString();throw new we(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}u.push(h)}return new Sf(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Xp(t.firestore);return function(o,a,c,l,u,f){const h=o.explicitOrderBy;if(u.length>h.length)throw new we(de.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let v=0;v<u.length;v++){const g=u[v];if(h[v].field.isKeyField()){if(typeof g!="string")throw new we(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof g}`);if(!IC(o)&&g.indexOf("/")!==-1)throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${g}' contains a slash.`);const y=o.path.child(qt.fromString(g));if(!je.isDocumentKey(y))throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const E=new je(y);m.push(vv(a,E))}else{const y=h9(c,l,g);m.push(y)}}return new Sf(m,f)}(t._query,t.firestore._databaseId,s,e,n,r)}}function oM(t,e,n){if(typeof(n=Kn(n))=="string"){if(n==="")throw new we(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IC(e)&&n.indexOf("/")!==-1)throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qt.fromString(n));if(!je.isDocumentKey(r))throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vv(t,new je(r))}if(n instanceof Kr)return vv(t,n._key);throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lw(n)}.`)}function aM(t,e){if(!Array.isArray(t)||t.length===0)throw new we(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function v9(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new we(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class x9{convertValue(e,n="none"){switch(nu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gu(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>$n(o.doubleValue));return new XC(i)}convertGeoPoint(e){return new YC($n(e.latitude),$n(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=AC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(G0(e));default:return null}}convertTimestamp(e){const n=Nc(e);return new or(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qt.fromString(e);Tt($F(r));const s=new Q0(r.get(1),r.get(3)),i=new je(r.popFirst(5));return s.isEqual(n)||ra(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class qfe extends x9{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kr(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uT extends np{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zg extends uT{data(e={}){return super.data(e)}}class _9{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new xd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zg(this._firestore,this._userDataWriter,r.key,r,new xd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Zg(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Zg(s._firestore,s._userDataWriter,a.doc.key,a.doc,new xd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Kfe(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Kfe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gfe(t){t=ti(t,Kr);const e=ti(t.firestore,Dc);return Dfe(Gf(e),t._key).then(n=>b9(e,t,n))}class mw extends x9{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kr(this.firestore,null,n)}}function Sa(t){t=ti(t,po);const e=ti(t.firestore,Dc),n=Gf(e),r=new mw(e);return y9(t._query),Pfe(n,t._query).then(s=>new _9(e,r,t,s))}function Qfe(t,e,n,...r){t=ti(t,Kr);const s=ti(t.firestore,Dc),i=Xp(s);let o;return o=typeof(e=Kn(e))=="string"||e instanceof Qf?nT(i,"updateDoc",t._key,e,n,r):tT(i,"updateDoc",t._key,e),E9(s,[o.toMutation(t._key,Ar.exists(!0))])}function cM(t,...e){var n,r,s;t=Kn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||sM(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(sM(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,l,u;if(t instanceof Kr)l=ti(t.firestore,Dc),u=Jx(t._key.path),c={next:f=>{e[o]&&e[o](b9(l,t,f))},error:e[o+1],complete:e[o+2]};else{const f=ti(t,po);l=ti(f.firestore,Dc),u=f._query;const h=new mw(l);c={next:m=>{e[o]&&e[o](new _9(l,h,f,m))},error:e[o+1],complete:e[o+2]},y9(t._query)}return function(h,m,v,g){const y=new GC(g),E=new qC(m,y,v);return h.asyncQueue.enqueueAndForget(async()=>WC(await Av(h),E)),()=>{y.Za(),h.asyncQueue.enqueueAndForget(async()=>$C(await Av(h),E))}}(Gf(l),u,a,c)}function E9(t,e){return function(r,s){const i=new Ji;return r.asyncQueue.enqueueAndForget(async()=>xfe(await Nfe(r),s,i)),i.promise}(Gf(t),e)}function b9(t,e,n){const r=n.docs.get(e._key),s=new mw(t);return new uT(t,s,e._key,r,new xd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yfe={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xfe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xp(e)}set(e,n,r){this._verifyNotCommitted();const s=La(e,this._firestore),i=w9(s.converter,n,r),o=f9(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,Ar.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=La(e,this._firestore);let o;return o=typeof(n=Kn(n))=="string"||n instanceof Qf?nT(this._dataReader,"WriteBatch.update",i._key,n,r,s):tT(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,Ar.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=La(e,this._firestore);return this._mutations=this._mutations.concat(new sw(n._key,Ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function La(t,e){if((t=Kn(t)).firestore!==e)throw new we(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zfe extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Xp(n)}get(n){const r=La(n,this._firestore),s=new qfe(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return Ke();const o=i[0];if(o.isFoundDocument())return new np(this._firestore,s,o.key,o,r.converter);if(o.isNoDocument())return new np(this._firestore,s,r._key,null,r.converter);throw Ke()})}set(n,r,s){const i=La(n,this._firestore),o=w9(i.converter,r,s),a=f9(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const o=La(n,this._firestore);let a;return a=typeof(r=Kn(r))=="string"||r instanceof Qf?nT(this._dataReader,"Transaction.update",o._key,r,s,i):tT(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=La(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=La(e,this._firestore),r=new mw(this._firestore);return super.get(e).then(s=>new uT(this._firestore,r,n._key,s._document,new xd(!1,!1),n.converter))}}function q_(t,e,n){t=ti(t,Dc);const r=Object.assign(Object.assign({},Yfe),n);return function(i){if(i.maxAttempts<1)throw new we(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,a){const c=new Ji;return i.asyncQueue.enqueueAndForget(async()=>{const l=await Mfe(i);new Ife(i.asyncQueue,l,a,o,c).au()}),c.promise}(Gf(t),s=>e(new Zfe(t,s)),r)}function ji(){return new JC("serverTimestamp")}function Ah(t){return new eT("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){return Gf(t=ti(t,Dc)),new Xfe(t,e=>E9(t,e))}(function(e,n=!0){(function(s){Hf=s})(mu),Jl(new Rc("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Dc(new tue(r.getProvider("auth-internal")),new iue(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new we(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Q0(l.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Zi(EN,"4.7.3",e),Zi(EN,"4.7.3","esm2017")})();var Jfe="firebase",ehe="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(Jfe,ehe,"app");function A9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const the=A9,S9=new zp("auth","Firebase",A9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=new xC("@firebase/auth");function nhe(t,...e){Cv.logLevel<=_t.WARN&&Cv.warn(`Auth (${mu}): ${t}`,...e)}function Jg(t,...e){Cv.logLevel<=_t.ERROR&&Cv.error(`Auth (${mu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,...e){throw dT(t,...e)}function to(t,...e){return dT(t,...e)}function C9(t,e,n){const r=Object.assign(Object.assign({},the()),{[e]:n});return new zp("auth","Firebase",r).create(e,{appName:t.name})}function Ol(t){return C9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return S9.create(t,...e)}function et(t,e,...n){if(!t)throw dT(e,...n)}function zo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jg(e),new Error(e)}function oa(t,e){t||zo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rhe(){return uM()==="http:"||uM()==="https:"}function uM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function she(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rhe()||Dce()||"connection"in navigator)?navigator.onLine:!0}function ihe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){this.shortDelay=e,this.longDelay=n,oa(n>e,"Short delay should be less than long delay!"),this.isMobile=kce()||Pce()}get(){return she()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t,e){oa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ohe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ahe=new Jp(3e4,6e4);function hT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yf(t,e,n,r,s={}){return I9(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Vp(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:c},i);return Mce()||(l.referrerPolicy="no-referrer"),T9.fetch()(R9(t,t.config.apiHost,n,a),l)})}async function I9(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ohe),e);try{const s=new lhe(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw sg(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw sg(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw sg(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw sg(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw C9(t,u,l);ia(t,u)}}catch(s){if(s instanceof ho)throw s;ia(t,"network-request-failed",{message:String(s)})}}async function che(t,e,n,r,s={}){const i=await Yf(t,e,n,r,s);return"mfaPendingCredential"in i&&ia(t,"multi-factor-auth-required",{_serverResponse:i}),i}function R9(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?fT(t.config,s):`${t.config.apiScheme}://${s}`}class lhe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(to(this.auth,"network-request-failed")),ahe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=to(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uhe(t,e){return Yf(t,"POST","/v1/accounts:delete",e)}async function k9(t,e){return Yf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dhe(t,e=!1){const n=Kn(t),r=await n.getIdToken(e),s=pT(r);et(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:h0(K_(s.auth_time)),issuedAtTime:h0(K_(s.iat)),expirationTime:h0(K_(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function K_(t){return Number(t)*1e3}function pT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jg("JWT malformed, contained fewer than 3 sections"),null;try{const s=$j(n);return s?JSON.parse(s):(Jg("Failed to decode base64 JWT payload"),null)}catch(s){return Jg("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function dM(t){const e=pT(t);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ho&&fhe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fhe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hhe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=h0(this.lastLoginAt),this.creationTime=h0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tv(t){var e;const n=t.auth,r=await t.getIdToken(),s=await rp(t,k9(n,{idToken:r}));et(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?N9(i.providerUserInfo):[],a=mhe(t.providerData,o),c=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new V2(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function phe(t){const e=Kn(t);await Tv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mhe(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function N9(t){return t.map(e=>{var{providerId:n}=e,r=Op(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ghe(t,e){const n=await I9(t,{},async()=>{const r=Vp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=R9(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",T9.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yhe(t,e){return Yf(t,"POST","/v2/accounts:revokeToken",hT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){et(e.length!==0,"internal-error");const n=dM(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await ghe(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ld;return r&&(et(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(et(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(et(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ld,this.toJSON())}_performRefresh(){return zo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t,e){et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vo{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hhe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new V2(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await rp(this,this.stsTokenManager.getToken(this.auth,e));return et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dhe(this,e)}reload(){return phe(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Tv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sc(this.auth.app))return Promise.reject(Ol(this.auth));const e=await this.getIdToken();return await rp(this,uhe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,l,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(l=n.createdAt)!==null&&l!==void 0?l:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:b,isAnonymous:D,providerData:L,stsTokenManager:T}=n;et(x&&T,e,"internal-error");const R=Ld.fromJSON(this.name,T);et(typeof x=="string",e,"internal-error"),Ca(f,e.name),Ca(h,e.name),et(typeof b=="boolean",e,"internal-error"),et(typeof D=="boolean",e,"internal-error"),Ca(m,e.name),Ca(v,e.name),Ca(g,e.name),Ca(y,e.name),Ca(E,e.name),Ca(w,e.name);const F=new Vo({uid:x,auth:e,email:h,emailVerified:b,displayName:f,isAnonymous:D,photoURL:v,phoneNumber:m,tenantId:g,stsTokenManager:R,createdAt:E,lastLoginAt:w});return L&&Array.isArray(L)&&(F.providerData=L.map(P=>Object.assign({},P))),y&&(F._redirectEventId=y),F}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ld;s.updateFromServerResponse(n);const i=new Vo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Tv(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];et(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?N9(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ld;a.updateFromIdToken(r);const c=new Vo({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new V2(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,l),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=new Map;function Wo(t){oa(t instanceof Function,"Expected a class definition");let e=fM.get(t);return e?(oa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M9.type="NONE";const hM=M9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t,e,n){return`firebase:${t}:${e}:${n}`}class jd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ey(this.userKey,s.apiKey,i),this.fullPersistenceKey=ey("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new jd(Wo(hM),e,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||Wo(hM);const o=ey(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){const f=Vo._fromJSON(e,u);l!==i&&(a=f),i=l;break}}catch{}const c=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new jd(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new jd(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j9(e))return"Blackberry";if(F9(e))return"Webos";if(P9(e))return"Safari";if((e.includes("chrome/")||B9(e))&&!e.includes("edge/"))return"Chrome";if(L9(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function D9(t=Qr()){return/firefox\//i.test(t)}function P9(t=Qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function B9(t=Qr()){return/crios\//i.test(t)}function O9(t=Qr()){return/iemobile/i.test(t)}function L9(t=Qr()){return/android/i.test(t)}function j9(t=Qr()){return/blackberry/i.test(t)}function F9(t=Qr()){return/webos/i.test(t)}function mT(t=Qr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vhe(t=Qr()){var e;return mT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xhe(){return Bce()&&document.documentMode===10}function U9(t=Qr()){return mT(t)||L9(t)||F9(t)||j9(t)||/windows phone/i.test(t)||O9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t,e=[]){let n;switch(t){case"Browser":n=pM(Qr());break;case"Worker":n=`${pM(Qr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class whe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _he(t,e={}){return Yf(t,"GET","/v2/passwordPolicy",hT(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ehe=6;class bhe{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ehe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ahe{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mM(this),this.idTokenSubscription=new mM(this),this.beforeStateQueue=new whe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wo(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await jd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await k9(this,{idToken:e}),r=await Vo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(sc(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Tv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ihe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sc(this.app))return Promise.reject(Ol(this));const n=e?Kn(e):null;return n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sc(this.app)?Promise.reject(Ol(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sc(this.app)?Promise.reject(Ol(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _he(this),n=new bhe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yhe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wo(e)||this._popupRedirectResolver;et(n,this,"argument-error"),this.redirectPersistenceManager=await jd.create(this,[Wo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&nhe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gT(t){return Kn(t)}class mM{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wce(n=>this.observer=n)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function She(t){yT=t}function Che(t){return yT.loadJS(t)}function The(){return yT.gapiScript}function Ihe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rhe(t,e){const n=Xx(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(mv(i,e??{}))return s;ia(s,"already-initialized")}return n.initialize({options:e})}function khe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Nhe(t,e,n){const r=gT(t);et(r._canInitEmulator,r,"emulator-config-failed"),et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=V9(e),{host:o,port:a}=Mhe(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Dhe()}function V9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Mhe(t){const e=V9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:gM(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:gM(o)}}}function gM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Dhe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zo("not implemented")}_getIdTokenResponse(e){return zo("not implemented")}_linkToIdToken(e,n){return zo("not implemented")}_getReauthenticationResolver(e){return zo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t,e){return che(t,"POST","/v1/accounts:signInWithIdp",hT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Phe="http://localhost";class su extends W9{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new su(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ia("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Op(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new su(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fd(e,n)}buildRequest(){const e={requestUri:Phe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends $9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends em{constructor(){super("facebook.com")}static credential(e){return su._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ja.credential(e.oauthAccessToken)}catch{return null}}}ja.FACEBOOK_SIGN_IN_METHOD="facebook.com";ja.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends em{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return su._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fa.credential(n,r)}catch{return null}}}Fa.GOOGLE_SIGN_IN_METHOD="google.com";Fa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends em{constructor(){super("github.com")}static credential(e){return su._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ua.credential(e.oauthAccessToken)}catch{return null}}}Ua.GITHUB_SIGN_IN_METHOD="github.com";Ua.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends em{constructor(){super("twitter.com")}static credential(e,n){return su._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return za.credential(n,r)}catch{return null}}}za.TWITTER_SIGN_IN_METHOD="twitter.com";za.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Vo._fromIdTokenResponse(e,r,s),o=yM(r);return new If({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=yM(r);return new If({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function yM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends ho{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Iv.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Iv(e,n,r,s)}}function H9(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Iv._fromErrorAndOperation(t,i,e,r):i})}async function Bhe(t,e,n=!1){const r=await rp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return If._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ohe(t,e,n=!1){const{auth:r}=t;if(sc(r.app))return Promise.reject(Ol(r));const s="reauthenticate";try{const i=await rp(t,H9(r,s,e,t),n);et(i.idToken,r,"internal-error");const o=pT(i.idToken);et(o,r,"internal-error");const{sub:a}=o;return et(t.uid===a,r,"user-mismatch"),If._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ia(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lhe(t,e,n=!1){if(sc(t.app))return Promise.reject(Ol(t));const r="signIn",s=await H9(t,r,e),i=await If._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function jhe(t,e,n,r){return Kn(t).onIdTokenChanged(e,n,r)}function Fhe(t,e,n){return Kn(t).beforeAuthStateChanged(e,n)}const Rv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rv,"1"),this.storage.removeItem(Rv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uhe=1e3,zhe=10;class K9 extends q9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);xhe()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,zhe):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Uhe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}K9.type="LOCAL";const Vhe=K9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9 extends q9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}G9.type="SESSION";const Q9=G9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Whe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new gw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async l=>l(n.origin,i)),c=await Whe(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $he{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const l=vT("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(){return window}function Hhe(t){no().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(){return typeof no().WorkerGlobalScope<"u"&&typeof no().importScripts=="function"}async function qhe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Khe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ghe(){return Y9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="firebaseLocalStorageDb",Qhe=1,kv="firebaseLocalStorage",Z9="fbase_key";class tm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yw(t,e){return t.transaction([kv],e?"readwrite":"readonly").objectStore(kv)}function Yhe(){const t=indexedDB.deleteDatabase(X9);return new tm(t).toPromise()}function W2(){const t=indexedDB.open(X9,Qhe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kv,{keyPath:Z9})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kv)?e(r):(r.close(),await Yhe(),e(await W2()))})})}async function vM(t,e,n){const r=yw(t,!0).put({[Z9]:e,value:n});return new tm(r).toPromise()}async function Xhe(t,e){const n=yw(t,!1).get(e),r=await new tm(n).toPromise();return r===void 0?null:r.value}function xM(t,e){const n=yw(t,!0).delete(e);return new tm(n).toPromise()}const Zhe=800,Jhe=3;class J9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await W2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Jhe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gw._getInstance(Ghe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qhe(),!this.activeServiceWorker)return;this.sender=new $he(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Khe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await W2();return await vM(e,Rv,"1"),await xM(e,Rv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vM(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Xhe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xM(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=yw(s,!1).getAll();return new tm(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zhe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J9.type="LOCAL";const e0e=J9;new Jp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0e(t,e){return e?Wo(e):(et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends W9{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function n0e(t){return Lhe(t.auth,new xT(t),t.bypassAuthState)}function r0e(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),Ohe(n,new xT(t),t.bypassAuthState)}async function s0e(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),Bhe(n,new xT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n0e;case"linkViaPopup":case"linkViaRedirect":return s0e;case"reauthViaPopup":case"reauthViaRedirect":return r0e;default:ia(this.auth,"internal-error")}}resolve(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0e=new Jp(2e3,1e4);class wd extends e7{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,wd.currentPopupAction&&wd.currentPopupAction.cancel(),wd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){oa(this.filter.length===1,"Popup operations only handle one event");const e=vT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(to(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(to(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(to(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i0e.get())};e()}}wd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0e="pendingRedirect",ty=new Map;class a0e extends e7{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ty.get(this.auth._key());if(!e){try{const r=await c0e(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ty.set(this.auth._key(),e)}return this.bypassAuthState||ty.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c0e(t,e){const n=d0e(e),r=u0e(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function l0e(t,e){ty.set(t._key(),e)}function u0e(t){return Wo(t._redirectPersistence)}function d0e(t){return ey(o0e,t.config.apiKey,t.name)}async function f0e(t,e,n=!1){if(sc(t.app))return Promise.reject(Ol(t));const r=gT(t),s=t0e(r,e),o=await new a0e(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0e=10*60*1e3;class p0e{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m0e(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!t7(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(to(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h0e&&this.cachedEventUids.clear(),this.cachedEventUids.has(wM(e))}saveEventToCache(e){this.cachedEventUids.add(wM(e)),this.lastProcessedEventTime=Date.now()}}function wM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function t7({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m0e(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t7(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g0e(t,e={}){return Yf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v0e=/^https?/;async function x0e(t){if(t.config.emulator)return;const{authorizedDomains:e}=await g0e(t);for(const n of e)try{if(w0e(n))return}catch{}ia(t,"unauthorized-domain")}function w0e(t){const e=z2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!v0e.test(n))return!1;if(y0e.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0e=new Jp(3e4,6e4);function _M(){const t=no().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function E0e(t){return new Promise((e,n)=>{var r,s,i;function o(){_M(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_M(),n(to(t,"network-request-failed"))},timeout:_0e.get()})}if(!((s=(r=no().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=no().gapi)===null||i===void 0)&&i.load)o();else{const a=Ihe("iframefcb");return no()[a]=()=>{gapi.load?o():n(to(t,"network-request-failed"))},Che(`${The()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ny=null,e})}let ny=null;function b0e(t){return ny=ny||E0e(t),ny}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0e=new Jp(5e3,15e3),S0e="__/auth/iframe",C0e="emulator/auth/iframe",T0e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I0e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R0e(t){const e=t.config;et(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fT(e,C0e):`https://${t.config.authDomain}/${S0e}`,r={apiKey:e.apiKey,appName:t.name,v:mu},s=I0e.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Vp(r).slice(1)}`}async function k0e(t){const e=await b0e(t),n=no().gapi;return et(n,t,"internal-error"),e.open({where:document.body,url:R0e(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T0e,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=to(t,"network-request-failed"),a=no().setTimeout(()=>{i(o)},A0e.get());function c(){no().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M0e=500,D0e=600,P0e="_blank",B0e="http://localhost";class EM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O0e(t,e,n,r=M0e,s=D0e){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},N0e),{width:r.toString(),height:s.toString(),top:i,left:o}),l=Qr().toLowerCase();n&&(a=B9(l)?P0e:n),D9(l)&&(e=e||B0e,c.scrollbars="yes");const u=Object.entries(c).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(vhe(l)&&a!=="_self")return L0e(e||"",a),new EM(null);const f=window.open(e||"",a,u);et(f,t,"popup-blocked");try{f.focus()}catch{}return new EM(f)}function L0e(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0e="__/auth/handler",F0e="emulator/auth/handler",U0e=encodeURIComponent("fac");async function bM(t,e,n,r,s,i){et(t.config.authDomain,t,"auth-domain-config-required"),et(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mu,eventId:s};if(e instanceof $9){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Vce(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof em){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const c=await t._getAppCheckToken(),l=c?`#${U0e}=${encodeURIComponent(c)}`:"";return`${z0e(t)}?${Vp(a).slice(1)}${l}`}function z0e({config:t}){return t.emulator?fT(t,F0e):`https://${t.authDomain}/${j0e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="webStorageSupport";class V0e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q9,this._completeRedirectFn=f0e,this._overrideRedirectResult=l0e}async _openPopup(e,n,r,s){var i;oa((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await bM(e,n,r,z2(),s);return O0e(e,o,vT())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await bM(e,n,r,z2(),s);return Hhe(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(oa(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await k0e(e),r=new p0e(e);return n.register("authEvent",s=>(et(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(G_,{type:G_},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[G_];o!==void 0&&n(!!o),ia(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x0e(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return U9()||P9()||mT()}}const W0e=V0e;var AM="@firebase/auth",SM="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q0e(t){Jl(new Rc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;et(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z9(t)},l=new Ahe(r,s,i,c);return khe(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jl(new Rc("auth-internal",e=>{const n=gT(e.getProvider("auth").getImmediate());return(r=>new $0e(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(AM,SM,H0e(t)),Zi(AM,SM,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0e=5*60,G0e=Gj("authIdTokenMaxAge")||K0e;let CM=null;const Q0e=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>G0e)return;const s=n==null?void 0:n.token;CM!==s&&(CM=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Y0e(t=_C()){const e=Xx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Rhe(t,{popupRedirectResolver:W0e,persistence:[e0e,Vhe,Q9]}),r=Gj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Q0e(i.toString());Fhe(n,o,()=>o(n.currentUser)),jhe(n,a=>o(a))}}const s=Hj("auth");return s&&Nhe(n,`http://${s}`),n}function X0e(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}She({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=to("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",X0e().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q0e("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7="firebasestorage.googleapis.com",Z0e="storageBucket",J0e=2*60*1e3,epe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends ho{constructor(e,n,r=0){super(Q_(e),`Firebase Storage: ${n} (${Q_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Q_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var oo;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(oo||(oo={}));function Q_(t){return"storage/"+t}function tpe(){const t="An unknown error occurred, please check the error payload for server response.";return new mo(oo.UNKNOWN,t)}function npe(){return new mo(oo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rpe(){return new mo(oo.CANCELED,"User canceled the upload/download.")}function spe(t){return new mo(oo.INVALID_URL,"Invalid URL '"+t+"'.")}function ipe(t){return new mo(oo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function TM(t){return new mo(oo.INVALID_ARGUMENT,t)}function r7(){return new mo(oo.APP_DELETED,"The Firebase app was deleted.")}function ope(t){return new mo(oo.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_i.makeFromUrl(e,n)}catch{return new _i(e,"")}if(r.path==="")return r;throw ipe(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function l(b){b.path_=decodeURIComponent(b.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${u}/b/${s}/o${h}`,"i"),v={bucket:1,path:3},g=n===n7?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",E=new RegExp(`^https?://${g}/${s}/${y}`,"i"),x=[{regex:a,indices:c,postModify:i},{regex:m,indices:v,postModify:l},{regex:E,indices:{bucket:1,path:2},postModify:l}];for(let b=0;b<x.length;b++){const D=x[b],L=D.regex.exec(e);if(L){const T=L[D.indices.bucket];let R=L[D.indices.path];R||(R=""),r=new _i(T,R),D.postModify(r);break}}if(r==null)throw spe(e);return r}}class ape{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cpe(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function c(){return a===2}let l=!1;function u(...y){l||(l=!0,e.apply(null,y))}function f(y){s=setTimeout(()=>{s=null,t(m,c())},y)}function h(){i&&clearTimeout(i)}function m(y,...E){if(l){h();return}if(y){h(),u.call(null,y,...E);return}if(c()||o){h(),u.call(null,y,...E);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,f(x)}let v=!1;function g(y){v||(v=!0,h(),!l&&(s!==null?(y||(a=2),clearTimeout(s),f(0)):y||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function lpe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function upe(t){return t!==void 0}function IM(t,e,n,r){if(r<e)throw TM(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw TM(`Invalid value for '${t}'. Expected ${n} or less.`)}function dpe(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Nv;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Nv||(Nv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fpe(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hpe{constructor(e,n,r,s,i,o,a,c,l,u,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ig(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Nv.NO_ERROR,c=i.getStatus();if(!a||fpe(c,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Nv.ABORT;r(!1,new ig(!1,null,u));return}const l=this.successCodes_.indexOf(c)!==-1;r(!0,new ig(l,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());upe(c)?i(c):i()}catch(c){o(c)}else if(a!==null){const c=tpe();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(s.canceled){const c=this.appDelete_?r7():rpe();o(c)}else{const c=npe();o(c)}};this.canceled_?n(!1,new ig(!1,null,!0)):this.backoffId_=cpe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lpe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ig{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ppe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function mpe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gpe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ype(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vpe(t,e,n,r,s,i,o=!0){const a=dpe(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return gpe(l,e),ppe(l,n),mpe(l,i),ype(l,r),new hpe(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xpe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function wpe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n){this._service=e,n instanceof _i?this._location=n:this._location=_i.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Mv(e,n)}get root(){const e=new _i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wpe(this._location.path)}get storage(){return this._service}get parent(){const e=xpe(this._location.path);if(e===null)return null;const n=new _i(this._location.bucket,e);return new Mv(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ope(e)}}function RM(t,e){const n=e==null?void 0:e[Z0e];return n==null?null:_i.makeFromBucketSpec(n,t)}function _pe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Qj(s,t.app.options.projectId))}class Epe{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=n7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=J0e,this._maxUploadRetryTime=epe,this._requests=new Set,s!=null?this._bucket=_i.makeFromBucketSpec(s,this._host):this._bucket=RM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_i.makeFromBucketSpec(this._url,e):this._bucket=RM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mv(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new ape(r7());{const o=vpe(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const kM="@firebase/storage",NM="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7="storage";function bpe(t=_C(),e){t=Kn(t);const r=Xx(t,s7).getImmediate({identifier:e}),s=qj("storage");return s&&Ape(r,...s),r}function Ape(t,e,n,r={}){_pe(t,e,n,r)}function Spe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Epe(n,r,s,e,mu)}function Cpe(){Jl(new Rc(s7,Spe,"PUBLIC").setMultipleInstances(!0)),Zi(kM,NM,""),Zi(kM,NM,"esm2017")}Cpe();const Tpe={apiKey:"AIzaSyBkK6RmHqSU9rivBUJ2sJ5VVqFgCoOBmso",authDomain:"wendex-7438c.firebaseapp.com",projectId:"wendex-7438c",storageBucket:"wendex-7438c.appspot.com",messagingSenderId:"682166033434",appId:"1:682166033434:web:f29e18b1b8f94170029498"},wT=Zj(Tpe),en=jfe(wT);Y0e(wT);bpe(wT);const tn={CAMPAIGNS:"campaigns",CONTRIBUTIONS:"contributions",USERS:"users",TRANSACTIONS:"transactions",ANALYTICS:"analytics"};class Ipe{constructor(){this.cache=new Map,this.cacheDefaultTTL=5*60*1e3,this.subscribers=new Map,setInterval(()=>this.cleanupCache(),6e4)}getCacheKey(e,n,r){return`${e}:${n||"query"}:${r||"default"}`}setCache(e,n,r=this.cacheDefaultTTL){this.cache.set(e,{data:n,timestamp:Date.now(),ttl:r})}getCache(e){const n=this.cache.get(e);return n?Date.now()-n.timestamp>n.ttl?(this.cache.delete(e),null):n.data:null}cleanupCache(){const e=Date.now();for(const[n,r]of this.cache.entries())e-r.timestamp>r.ttl&&this.cache.delete(n)}invalidateCache(e){for(const n of this.cache.keys())n.includes(e)&&this.cache.delete(n)}async createCampaign(e){try{const n=await q_(en,async r=>{const s=ba(ds(en,tn.CAMPAIGNS),Aa("contractAddress","==",e.contractAddress));if(!(await r.get(s)).empty)throw new Error("Campaign already exists for this contract address");const o=ci(ds(en,tn.CAMPAIGNS)),a={...e,createdAt:ji(),updatedAt:ji()};if(r.set(o,a),e.createdBy){const c=ci(en,tn.USERS,e.createdBy);r.update(c,{campaignsCreated:Ah(1),updatedAt:ji()})}return o.id});return this.invalidateCache(tn.CAMPAIGNS),n}catch(n){throw console.error("Campaign creation error:",n),new Error(`Failed to create campaign: ${n.message}`)}}async getCampaigns(e={}){try{const{limit:n=20,orderBy:r="createdAt",orderDirection:s="desc",startAfter:i,filters:o=[]}=e,a=this.getCacheKey(tn.CAMPAIGNS,void 0,JSON.stringify({pageLimit:n,orderField:r,orderDirection:s,filters:o}));if(!i){const g=this.getCache(a);if(g)return g}const c=[];o.forEach(g=>{c.push(Aa(g.field,g.operator,g.value))}),c.push(rg(r,s)),i&&c.push(iM(i)),c.push($u(n+1));const l=ba(ds(en,tn.CAMPAIGNS),...c),u=await Sa(l),f=[];let h=null,m=!1;u.docs.forEach((g,y)=>{if(y<n){const E=g.data();f.push({id:g.id,...E,createdAt:fs(E.createdAt),updatedAt:fs(E.updatedAt)}),h=g}else m=!0});const v={data:f,lastDoc:h,hasMore:m};return i||this.setCache(a,v),v}catch(n){throw console.error("Get campaigns error:",n),new Error("Failed to fetch campaigns")}}async getCampaign(e){try{const n=this.getCacheKey(tn.CAMPAIGNS,e),r=this.getCache(n);if(r)return r;const s=ci(en,tn.CAMPAIGNS,e),i=await Gfe(s);if(!i.exists())return null;const o=i.data(),a={id:i.id,...o,createdAt:fs(o.createdAt),updatedAt:fs(o.updatedAt)};return this.setCache(n,a),a}catch(n){throw console.error("Get campaign error:",n),new Error("Failed to fetch campaign")}}async updateCampaign(e,n){try{const r=ci(en,tn.CAMPAIGNS,e),s={...n,updatedAt:ji()};await Qfe(r,s),this.invalidateCache(tn.CAMPAIGNS)}catch(r){throw console.error("Update campaign error:",r),new Error("Failed to update campaign")}}async createContribution(e){try{return await q_(en,async n=>{const r=ci(ds(en,tn.CONTRIBUTIONS)),s={...e,createdAt:ji()};n.set(r,s);const i=ci(en,tn.CAMPAIGNS,e.campaignId);if(n.update(i,{currentAmount:Ah(e.amount),contributorCount:Ah(1),updatedAt:ji()}),e.userId){const o=ci(en,tn.USERS,e.userId);n.update(o,{totalContributed:Ah(e.amount),campaignsSupported:Ah(1),updatedAt:ji()})}return r.id})}catch(n){throw console.error("Contribution creation error:",n),new Error("Failed to create contribution")}}async getCampaignContributions(e,n={}){try{const{limit:r=50,orderBy:s="createdAt",orderDirection:i="desc",startAfter:o}=n,a=[Aa("campaignId","==",e),rg(s,i)];o&&a.push(iM(o)),a.push($u(r+1));const c=ba(ds(en,tn.CONTRIBUTIONS),...a),l=await Sa(c),u=[];let f=null,h=!1;return l.docs.forEach((m,v)=>{if(v<r){const g=m.data();u.push({id:m.id,...g,createdAt:fs(g.createdAt)}),f=m}else h=!0}),{data:u,lastDoc:f,hasMore:h}}catch(r){throw console.error("Get campaign contributions error:",r),new Error("Failed to fetch campaign contributions")}}async batchUpdateCampaigns(e){try{const n=lM(en);e.forEach(({id:r,data:s})=>{const i=ci(en,tn.CAMPAIGNS,r);n.update(i,{...s,updatedAt:ji()})}),await n.commit(),this.invalidateCache(tn.CAMPAIGNS)}catch(n){throw console.error("Batch update campaigns error:",n),new Error("Failed to batch update campaigns")}}async batchCreateContributions(e){try{const n=lM(en),r=[];return e.forEach(s=>{const i=ci(ds(en,tn.CONTRIBUTIONS));n.set(i,{...s,createdAt:ji()}),r.push(i.id)}),await n.commit(),r}catch(n){throw console.error("Batch create contributions error:",n),new Error("Failed to batch create contributions")}}subscribeToCampaign(e,n){const r=ci(en,tn.CAMPAIGNS,e),s=cM(r,o=>{if(o.exists()){const a=o.data(),c={id:o.id,...a,createdAt:fs(a.createdAt),updatedAt:fs(a.updatedAt)},l=this.getCacheKey(tn.CAMPAIGNS,e);this.setCache(l,c),n(c)}else n(null)},o=>{console.error("Campaign subscription error:",o),n(null)}),i=`campaign:${e}`;return this.subscribers.set(i,s),()=>{s(),this.subscribers.delete(i)}}subscribeToActiveCampaigns(e,n=[]){const r=[Aa("status","==","active"),rg("createdAt","desc"),$u(50)];n.forEach(o=>{r.push(Aa(o.field,o.operator,o.value))});const s=ba(ds(en,tn.CAMPAIGNS),...r);return cM(s,o=>{const a=[];o.docs.forEach(c=>{const l=c.data();a.push({id:c.id,...l,createdAt:fs(l.createdAt),updatedAt:fs(l.updatedAt)})}),e(a)},o=>{console.error("Active campaigns subscription error:",o),e([])})}async getPlatformStats(){try{const e=this.getCacheKey("stats","platform"),n=this.getCache(e);if(n)return n;const[r,s,i]=await Promise.all([Sa(ds(en,tn.CAMPAIGNS)),Sa(ba(ds(en,tn.CAMPAIGNS),Aa("status","==","active"))),Sa(ds(en,tn.CONTRIBUTIONS))]);let o=0,a=0;i.docs.forEach(l=>{const u=l.data();u.status==="confirmed"&&(o+=u.amount||0,a++)});const c={totalCampaigns:r.size,activeCampaigns:s.size,totalFunded:o,totalContributions:a};return this.setCache(e,c,5*60*1e3),c}catch(e){throw console.error("Get platform stats error:",e),new Error("Failed to fetch platform statistics")}}async checkContractAddressExists(e){try{const n=ba(ds(en,tn.CAMPAIGNS),Aa("contractAddress","==",e),$u(1));return!(await Sa(n)).empty}catch(n){return console.error("Contract address check error:",n),!1}}async searchCampaigns(e,n={}){try{const r=e.toLowerCase(),s=ba(ds(en,tn.CAMPAIGNS),Aa("status","==","active"),rg("createdAt","desc"),$u(n.limit||20)),i=await Sa(s),o=[];return i.docs.forEach(a=>{var m,v,g,y,E;const c=a.data(),l={id:a.id,...c,createdAt:fs(c.createdAt),updatedAt:fs(c.updatedAt)},u=((v=(m=l.tokenMetadata)==null?void 0:m.name)==null?void 0:v.toLowerCase())||"",f=((y=(g=l.tokenMetadata)==null?void 0:g.symbol)==null?void 0:y.toLowerCase())||"",h=((E=l.description)==null?void 0:E.toLowerCase())||"";(u.includes(r)||f.includes(r)||h.includes(r))&&o.push(l)}),o}catch(r){return console.error("Search campaigns error:",r),[]}}cleanup(){this.subscribers.forEach(e=>{e()}),this.subscribers.clear(),this.cache.clear()}async healthCheck(){const e=Date.now();try{const n=ba(ds(en,tn.CAMPAIGNS),$u(1));await Sa(n);const r=!0;let s=!1;try{const o=ci(ds(en,"health-check"));await q_(en,async a=>{a.set(o,{test:!0,timestamp:ji()}),a.delete(o)}),s=!0}catch(o){console.warn("Write test failed:",o)}const i=Date.now()-e;return{healthy:r,canRead:r,canWrite:s,latency:i,cacheSize:this.cache.size,activeSubscriptions:this.subscribers.size}}catch{return{healthy:!1,canRead:!1,canWrite:!1,latency:Date.now()-e,cacheSize:this.cache.size,activeSubscriptions:this.subscribers.size}}}}const MM=new Ipe,Rpe=()=>{var L;const[,t]=pp(),{publicKey:e,connected:n}=Np(),{toast:r}=mp(),[s,i]=I.useState({contractAddress:"",tokenMetadata:null,logoImage:null,bannerImage:null,socialLinks:{}}),[o,a]=I.useState(!1),[c,l]=I.useState(null),[u,f]=I.useState(!1),[h,m]=I.useState(0),[v,g]=I.useState(null),y=I.useCallback(kpe(async T=>{if(!T||T.length<32){i(R=>({...R,tokenMetadata:null})),l(null);return}a(!0),l(null);try{if(await MM.checkContractAddressExists(T)){l("A campaign already exists for this token"),i(P=>({...P,tokenMetadata:null}));return}const F=await qae.validateToken(T);F.isValid&&F.metadata?(i(P=>({...P,tokenMetadata:F.metadata})),F.metadata.extensions&&i(P=>{var U,W,S;return{...P,socialLinks:{twitter:((U=F.metadata.extensions)==null?void 0:U.twitter)||"",telegram:((W=F.metadata.extensions)==null?void 0:W.telegram)||"",website:((S=F.metadata.extensions)==null?void 0:S.website)||""}}})):(l(F.error||"Invalid token contract"),i(P=>({...P,tokenMetadata:null})))}catch{l("Failed to validate token"),i(F=>({...F,tokenMetadata:null}))}finally{a(!1)}},800),[]);I.useEffect(()=>{y(s.contractAddress)},[s.contractAddress,y]);const E=T=>R=>{var W;const F=(W=R.target.files)==null?void 0:W[0];if(!F)return;if(!F.type.startsWith("image/")){r({title:"Invalid file type",description:"Please upload an image file",variant:"destructive"});return}if(F.size>5*1024*1024){r({title:"File too large",description:"Image must be less than 5MB",variant:"destructive"});return}const P=new Image,U=new FileReader;U.onload=S=>{var _;P.src=(_=S.target)==null?void 0:_.result,P.onload=()=>{const C=P.width/P.height;if(T==="logo"){if(C<.9||C>1.1){r({title:"Invalid aspect ratio",description:"Logo image should be square (1:1 aspect ratio)",variant:"destructive"});return}}else if(C<2.8||C>3.2){r({title:"Invalid aspect ratio",description:"Banner image should have a 3:1 aspect ratio",variant:"destructive"});return}i(O=>({...O,[T==="logo"?"logoImage":"bannerImage"]:F}))}},U.readAsDataURL(F)},w=T=>R=>{i(F=>({...F,socialLinks:{...F.socialLinks,[T]:R.target.value}}))},x=s.tokenMetadata&&s.logoImage&&s.bannerImage&&!o,b=async()=>{if(console.log("[Campaign Creation] Starting campaign creation process"),console.log("[Campaign Creation] Form data:",s),!e||!n||!s.tokenMetadata){g("Please connect your wallet first");return}f(!0),m(0),g(null);try{console.log("[Campaign Creation] Step 1: Generating campaign wallet"),m(25);const T=await _ce.generateCampaignWallet(`${s.contractAddress}-${Date.now()}`);console.log("[Campaign Creation] Campaign wallet generated:",T.publicKey),console.log("[Campaign Creation] Step 2: Uploading images"),m(50);const R=await D(s.logoImage,"logos"),F=await D(s.bannerImage,"banners");console.log("[Campaign Creation] Images uploaded:",{logoUrl:R,bannerUrl:F}),console.log("[Campaign Creation] Step 3: Creating campaign in database"),m(75);const P={contractAddress:s.contractAddress,tokenMetadata:s.tokenMetadata,walletAddress:T.publicKey,encryptedPrivateKey:T.encryptedPrivateKey,targetAmount:299,currentAmount:0,contributorCount:0,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:e.toString(),socialLinks:s.socialLinks,logoUrl:R,bannerUrl:F,description:`Community crowdfunding campaign to purchase Enhanced Token Info for ${s.tokenMetadata.name} (${s.tokenMetadata.symbol})`,deadline:new Date(Date.now()+30*24*60*60*1e3).toISOString(),tags:[s.tokenMetadata.symbol,"enhanced-token-info"],featured:!1,trending:!1,postFundingAction:{type:"none"}},U=await MM.createCampaign(P);m(100),setTimeout(()=>{t(`/campaign/${U}`)},1e3)}catch(T){console.error("Campaign creation error:",T),g(T instanceof Error?T.message:"Failed to create campaign")}finally{f(!1)}},D=async(T,R)=>URL.createObjectURL(T);return n?d.jsx("div",{className:"min-h-screen bg-background py-12",children:d.jsx("div",{className:"container max-w-2xl mx-auto px-4",children:d.jsxs(Bt,{children:[d.jsxs(gn,{className:"text-center",children:[d.jsx(yn,{className:"text-3xl font-bold",children:"Create Campaign"}),d.jsx(rc,{className:"text-lg",children:"Fund Enhanced Token Info for your favorite Solana token"})]}),d.jsxs(Ot,{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Token Contract Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ki,{type:"text",placeholder:"Enter Solana token contract address...",value:s.contractAddress,onChange:T=>i(R=>({...R,contractAddress:T.target.value})),className:"pr-10"}),o&&d.jsx(M0,{className:"absolute right-3 top-3 h-4 w-4 animate-spin text-muted-foreground"})]}),c&&d.jsxs(yc,{variant:"destructive",children:[d.jsx(_g,{className:"h-4 w-4"}),d.jsx(vc,{children:c})]}),s.tokenMetadata&&d.jsx(Bt,{className:"bg-muted/50 border-primary/20",children:d.jsxs(Ot,{className:"p-4 flex items-center space-x-4",children:[s.tokenMetadata.image&&d.jsx("img",{src:s.tokenMetadata.image,alt:s.tokenMetadata.name,className:"w-12 h-12 rounded-full"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"font-semibold",children:s.tokenMetadata.name}),d.jsx(Wr,{variant:"secondary",children:s.tokenMetadata.symbol}),s.tokenMetadata.verified&&d.jsxs(Wr,{className:"bg-green-500/20 text-green-400 border-green-500/50",children:[d.jsx(kh,{className:"h-3 w-3 mr-1"}),"Verified"]})]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Supply: ",((L=s.tokenMetadata.supply)==null?void 0:L.toLocaleString())||"Unknown"]})]})]})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-sm font-medium flex items-center space-x-2",children:[d.jsx(M$,{className:"h-4 w-4"}),d.jsx("span",{children:"Social Links (Optional)"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[d.jsx(Ki,{type:"url",placeholder:"Twitter/X",value:s.socialLinks.twitter||"",onChange:w("twitter")}),d.jsx(Ki,{type:"url",placeholder:"Telegram",value:s.socialLinks.telegram||"",onChange:w("telegram")}),d.jsx(Ki,{type:"url",placeholder:"Website",value:s.socialLinks.website||"",onChange:w("website")})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-sm font-medium flex items-center space-x-2",children:[d.jsx(k$,{className:"h-4 w-4"}),d.jsx("span",{children:"Campaign Images"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("div",{className:"space-y-2",children:d.jsx("label",{className:"block",children:d.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors
                      ${s.logoImage?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[d.jsx("input",{type:"file",accept:"image/*",onChange:E("logo"),className:"sr-only"}),s.logoImage?d.jsxs("div",{className:"space-y-2",children:[d.jsx(kh,{className:"h-8 w-8 mx-auto text-primary"}),d.jsx("p",{className:"text-sm font-medium",children:s.logoImage.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Click to change"})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsx(D4,{className:"h-8 w-8 mx-auto text-muted-foreground"}),d.jsx("p",{className:"text-sm font-medium",children:"Logo Image (1:1)"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Square image, max 5MB"})]})]})})}),d.jsx("div",{className:"space-y-2",children:d.jsx("label",{className:"block",children:d.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors
                      ${s.bannerImage?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[d.jsx("input",{type:"file",accept:"image/*",onChange:E("banner"),className:"sr-only"}),s.bannerImage?d.jsxs("div",{className:"space-y-2",children:[d.jsx(kh,{className:"h-8 w-8 mx-auto text-primary"}),d.jsx("p",{className:"text-sm font-medium",children:s.bannerImage.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Click to change"})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsx(D4,{className:"h-8 w-8 mx-auto text-muted-foreground"}),d.jsx("p",{className:"text-sm font-medium",children:"Banner Image (3:1)"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Wide image, max 5MB"})]})]})})})]})]}),d.jsxs(yc,{children:[d.jsx(_g,{className:"h-4 w-4"}),d.jsxs(vc,{children:["Your campaign will raise ",d.jsx("strong",{children:"$299 USD"})," to purchase Enhanced Token Info on DexScreener. The campaign will run for 30 days or until fully funded."]})]}),u&&d.jsx(Bt,{children:d.jsxs(Ot,{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"font-medium",children:"Creating Campaign..."}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[h,"%"]})]}),d.jsx(Pl,{value:h}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[h<=25&&"Generating secure campaign wallet...",h>25&&h<=50&&"Uploading images...",h>50&&h<=75&&"Creating campaign...",h>75&&"Finalizing..."]})]})}),v&&d.jsxs(yc,{variant:"destructive",children:[d.jsx(_g,{className:"h-4 w-4"}),d.jsx(vc,{children:v})]}),d.jsx(wt,{onClick:b,disabled:!x||u,className:"w-full",size:"lg",children:u?d.jsxs(d.Fragment,{children:[d.jsx(M0,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Campaign..."]}):d.jsxs(d.Fragment,{children:["Create Campaign",d.jsx(kh,{className:"h-4 w-4 ml-2"})]})})]})]})})}):d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsx(Bt,{className:"max-w-md w-full",children:d.jsxs(Ot,{className:"p-8 text-center space-y-6",children:[d.jsx("div",{className:"w-16 h-16 mx-auto bg-primary rounded-full flex items-center justify-center",children:d.jsx(xp,{className:"h-8 w-8 text-primary-foreground"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Connect Your Wallet"}),d.jsx("p",{className:"text-muted-foreground mt-2",children:"Connect your Solana wallet to create a campaign"})]}),d.jsx(lB,{className:"!bg-primary !text-primary-foreground hover:!bg-primary/90 !font-semibold !py-3 !px-6 !rounded-lg !transition-all !duration-200 w-full"})]})})})};function kpe(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>t(...r),e)}}const Npe=I.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:Be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Npe.displayName="Textarea";function Mpe(){return d.jsx(Pd,{children:d.jsx("div",{className:"container mx-auto py-8 max-w-4xl",children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Create Campaign"}),d.jsx("p",{className:"text-muted-foreground mt-2",children:"Start a crowdfunding campaign to purchase DexScreener services for your favorite token"})]}),d.jsxs(yc,{children:[d.jsx(N$,{className:"h-4 w-4"}),d.jsxs(vc,{children:[d.jsx("strong",{children:"Important:"})," Campaign funds are held in a unique Solana wallet. Once the target is reached, the service will be automatically purchased. If the deadline passes without reaching the target, all contributors will be refunded."]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs(Bt,{children:[d.jsxs(gn,{children:[d.jsx(yn,{className:"text-lg",children:"Enhanced Token Info"}),d.jsx(rc,{children:"$299 USDC"})]}),d.jsx(Ot,{children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"Add detailed token information, social links, and descriptions to DexScreener"})})]}),d.jsxs(Bt,{children:[d.jsxs(gn,{children:[d.jsx(yn,{className:"text-lg",children:"Token Advertising"}),d.jsx(rc,{children:"Custom Budget"})]}),d.jsx(Ot,{children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"Promote your token with banner ads and featured placements on DexScreener"})})]}),d.jsxs(Bt,{children:[d.jsxs(gn,{children:[d.jsx(yn,{className:"text-lg",children:"DexScreener Boost"}),d.jsx(rc,{children:"Variable Pricing"})]}),d.jsx(Ot,{children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"Boost your token's visibility with trending placement and increased exposure"})})]})]}),d.jsxs(Bt,{children:[d.jsxs(gn,{children:[d.jsx(yn,{children:"Campaign Details"}),d.jsx(rc,{children:"Fill in the information below to create your crowdfunding campaign"})]}),d.jsx(Ot,{children:d.jsx(Rpe,{})})]})]})})})}var vw="Switch",[Dpe,kme]=Ws(vw),[Ppe,Bpe]=Dpe(vw),i7=I.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:l,form:u,...f}=t,[h,m]=I.useState(null),v=It(e,x=>m(x)),g=I.useRef(!1),y=h?u||!!h.closest("form"):!0,[E,w]=Ac({prop:s,defaultProp:i??!1,onChange:l,caller:vw});return d.jsxs(Ppe,{scope:n,checked:E,disabled:a,children:[d.jsx(Ve.button,{type:"button",role:"switch","aria-checked":E,"aria-required":o,"data-state":l7(E),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:v,onClick:Ae(t.onClick,x=>{w(b=>!b),y&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),y&&d.jsx(c7,{control:h,bubbles:!g.current,name:r,value:c,checked:E,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});i7.displayName=vw;var o7="SwitchThumb",a7=I.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=Bpe(o7,n);return d.jsx(Ve.span,{"data-state":l7(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});a7.displayName=o7;var Ope="SwitchBubbleInput",c7=I.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=I.useRef(null),a=It(o,i),c=pL(n),l=D8(e);return I.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const v=new Event("click",{bubbles:r});m.call(u,n),u.dispatchEvent(v)}},[c,n,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});c7.displayName=Ope;function l7(t){return t?"checked":"unchecked"}var u7=i7,Lpe=a7;const Hh=I.forwardRef(({className:t,...e},n)=>d.jsx(u7,{className:Be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:d.jsx(Lpe,{className:Be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Hh.displayName=u7.displayName;const Cs={getStats:()=>pt.get("/api/admin/stats"),getCampaigns:t=>pt.get("/api/admin/campaigns",{params:t}),getUsers:t=>pt.get("/api/admin/users",{params:t}),getTransactions:t=>pt.get("/api/admin/transactions",{params:t}),getSystemHealth:()=>pt.get("/api/admin/health"),updateCampaignStatus:(t,e)=>pt.put(`/api/admin/campaigns/${t}/status`,{status:e}),triggerRefund:t=>pt.post(`/api/admin/campaigns/${t}/refund`),banUser:t=>pt.post(`/api/admin/users/${t}/ban`),unbanUser:t=>pt.post(`/api/admin/users/${t}/unban`),triggerPurchase:t=>pt.post(`/api/admin/campaigns/${t}/purchase`),exportData:(t,e)=>pt.get(`/api/admin/export/${t}`,{params:e,responseType:"blob"}),reconcileBalances:()=>pt.post("/api/admin/reconcile"),pausePlatform:()=>pt.post("/api/admin/platform/pause"),resumePlatform:()=>pt.post("/api/admin/platform/resume")};function jpe(){var A,$,X,oe,ae,ce,le,ye,Re,be,xe,Oe,Te,He,Rt,rt,ht,zn,dt;const{toast:t}=mp(),e=KA(),[n,r]=I.useState(null),[s,i]=I.useState(null),[o,a]=I.useState(!1),[c,l]=I.useState(!1),[u,f]=I.useState({}),[h,m]=I.useState({}),[v,g]=I.useState({}),[y,E]=I.useState("7d"),[w,x]=I.useState(!1),{data:b,isLoading:D}=No({queryKey:["admin-stats",y],queryFn:()=>Cs.getStats(),refetchInterval:3e4}),{data:L,isLoading:T}=No({queryKey:["admin-campaigns",u],queryFn:()=>Cs.getCampaigns(u),refetchInterval:6e4}),{data:R,isLoading:F}=No({queryKey:["admin-users",h],queryFn:()=>Cs.getUsers(h),refetchInterval:3e5}),{data:P,isLoading:U}=No({queryKey:["admin-transactions",v],queryFn:()=>Cs.getTransactions(v),refetchInterval:3e4}),{data:W}=No({queryKey:["admin-health"],queryFn:()=>Cs.getSystemHealth(),refetchInterval:1e4}),S=Bu({mutationFn:({campaignId:ue,status:st})=>Cs.updateCampaignStatus(ue,st),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Campaign updated successfully"})},onError:ue=>{t({title:"Update failed",description:ue.message,variant:"destructive"})}}),_=Bu({mutationFn:ue=>Cs.triggerRefund(ue),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Refund initiated successfully"})},onError:ue=>{t({title:"Refund failed",description:ue.message,variant:"destructive"})}}),C=Bu({mutationFn:ue=>Cs.banUser(ue),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-users"]}),t({title:"User banned successfully"})},onError:ue=>{t({title:"Ban failed",description:ue.message,variant:"destructive"})}}),O=Bu({mutationFn:ue=>Cs.triggerPurchase(ue),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Purchase triggered successfully"})},onError:ue=>{t({title:"Purchase trigger failed",description:ue.message,variant:"destructive"})}}),H=Bu({mutationFn:()=>Cs.reconcileBalances(),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Balance reconciliation completed"})},onError:ue=>{t({title:"Reconciliation failed",description:ue.message,variant:"destructive"})}}),j=Bu({mutationFn:ue=>ue==="pause"?Cs.pausePlatform():Cs.resumePlatform(),onSuccess:(ue,st)=>{x(st==="pause"),t({title:`Platform ${st==="pause"?"paused":"resumed"} successfully`,variant:st==="pause"?"destructive":"default"})},onError:ue=>{t({title:"Platform control failed",description:ue.message,variant:"destructive"})}}),z=async ue=>{try{const st=await Cs.exportData(ue,{dateRange:y}),lt=new Blob([st.data],{type:"text/csv"}),bt=window.URL.createObjectURL(lt),_n=document.createElement("a");_n.href=bt,_n.download=`wendex_${ue}_${sl(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(_n),_n.click(),window.URL.revokeObjectURL(bt),document.body.removeChild(_n),t({title:`${ue} data exported successfully`})}catch(st){t({title:"Export failed",description:st.message,variant:"destructive"})}},K=ue=>{const st={active:"bg-green-500",funded:"bg-blue-500",completed:"bg-purple-500",failed:"bg-red-500",cancelled:"bg-gray-500",refunding:"bg-orange-500"};return d.jsx(Wr,{className:st[ue]||"bg-gray-500",children:ue})},B=ue=>{const st={healthy:"text-green-500",degraded:"text-yellow-500",down:"text-red-500"};return d.jsx("span",{className:st[ue],children:ue})};return d.jsx(Pd,{children:d.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Comprehensive platform management and monitoring"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(wt,{variant:w?"default":"destructive",onClick:()=>j.mutate(w?"resume":"pause"),children:[w?d.jsx(k4,{className:"mr-2 h-4 w-4"}):d.jsx(r1,{className:"mr-2 h-4 w-4"}),w?"Resume Platform":"Pause Platform"]}),d.jsxs(wt,{variant:"outline",onClick:()=>H.mutate(),children:[d.jsx(s1,{className:"mr-2 h-4 w-4"}),"Reconcile Balances"]})]})]}),w&&d.jsxs(yc,{variant:"destructive",children:[d.jsx(u8,{className:"h-4 w-4"}),d.jsx(vc,{children:"Platform is currently paused. New campaigns and contributions are disabled."})]}),d.jsxs(Bt,{children:[d.jsx(gn,{children:d.jsxs(yn,{className:"flex items-center gap-2",children:[d.jsx(P$,{className:"h-5 w-5"}),"System Health"]})}),d.jsxs(Ot,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx(L$,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"API"}),d.jsx("div",{children:B(((A=W==null?void 0:W.data)==null?void 0:A.apiStatus)||"unknown")})]}),d.jsxs("div",{className:"text-center",children:[d.jsx(I4,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"Database"}),d.jsx("div",{children:B((($=W==null?void 0:W.data)==null?void 0:$.dbStatus)||"unknown")})]}),d.jsxs("div",{className:"text-center",children:[d.jsx(I$,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"Blockchain"}),d.jsx("div",{children:B(((X=W==null?void 0:W.data)==null?void 0:X.blockchainStatus)||"unknown")})]}),d.jsxs("div",{className:"text-center",children:[d.jsx(Hl,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"Webhooks"}),d.jsx("div",{children:B(((oe=W==null?void 0:W.data)==null?void 0:oe.webhookStatus)||"unknown")})]})]}),(W==null?void 0:W.data)&&d.jsxs("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:["Response Time: ",W.data.responseTime,"ms | Error Rate: ",W.data.errorRate.toFixed(2),"% | Last Update: ",sl(new Date(W.data.lastUpdate),"HH:mm:ss")]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs(Bt,{children:[d.jsxs(gn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(yn,{className:"text-sm font-medium",children:"Total Campaigns"}),d.jsx(x$,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(Ot,{children:[d.jsx("div",{className:"text-2xl font-bold",children:((ae=b==null?void 0:b.data)==null?void 0:ae.totalCampaigns)||0}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[((ce=b==null?void 0:b.data)==null?void 0:ce.activeCampaigns)||0," active"]})]})]}),d.jsxs(Bt,{children:[d.jsxs(gn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(yn,{className:"text-sm font-medium",children:"Total Funded"}),d.jsx(ZA,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(Ot,{children:[d.jsxs("div",{className:"text-2xl font-bold",children:["$",((ye=(le=b==null?void 0:b.data)==null?void 0:le.totalFunded)==null?void 0:ye.toLocaleString())||0]}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",((be=(Re=b==null?void 0:b.data)==null?void 0:Re.avgCampaignSize)==null?void 0:be.toFixed(0))||0," avg campaign"]})]})]}),d.jsxs(Bt,{children:[d.jsxs(gn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(yn,{className:"text-sm font-medium",children:"Contributors"}),d.jsx(wp,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(Ot,{children:[d.jsx("div",{className:"text-2xl font-bold",children:((xe=b==null?void 0:b.data)==null?void 0:xe.totalContributors)||0}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique addresses"})]})]}),d.jsxs(Bt,{children:[d.jsxs(gn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(yn,{className:"text-sm font-medium",children:"Success Rate"}),d.jsx(tx,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(Ot,{children:[d.jsxs("div",{className:"text-2xl font-bold",children:[((Te=(Oe=b==null?void 0:b.data)==null?void 0:Oe.successRate)==null?void 0:Te.toFixed(1))||0,"%"]}),d.jsx(Pl,{value:((He=b==null?void 0:b.data)==null?void 0:He.successRate)||0,className:"mt-2"})]})]})]}),d.jsxs(dC,{defaultValue:"campaigns",className:"w-full",children:[d.jsxs(Kx,{className:"grid w-full grid-cols-5",children:[d.jsx(vi,{value:"campaigns",children:"Campaigns"}),d.jsx(vi,{value:"users",children:"Users"}),d.jsx(vi,{value:"transactions",children:"Transactions"}),d.jsx(vi,{value:"analytics",children:"Analytics"}),d.jsx(vi,{value:"settings",children:"Settings"})]}),d.jsx(xi,{value:"campaigns",className:"space-y-4",children:d.jsxs(Bt,{children:[d.jsx(gn,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(yn,{children:"Campaign Management"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(wt,{variant:"outline",onClick:()=>z("campaigns"),children:[d.jsx(Bm,{className:"mr-2 h-4 w-4"}),"Export"]}),d.jsxs(Uh,{value:u.status||"all",onValueChange:ue=>f({...u,status:ue==="all"?void 0:ue}),children:[d.jsx(yd,{className:"w-32",children:d.jsx(zh,{placeholder:"Status"})}),d.jsxs(vd,{children:[d.jsx(An,{value:"all",children:"All Status"}),d.jsx(An,{value:"active",children:"Active"}),d.jsx(An,{value:"funded",children:"Funded"}),d.jsx(An,{value:"completed",children:"Completed"}),d.jsx(An,{value:"failed",children:"Failed"})]})]})]})]})}),d.jsx(Ot,{children:d.jsxs(o0,{children:[d.jsx(a0,{children:d.jsxs(Io,{children:[d.jsx(Sn,{children:"Token"}),d.jsx(Sn,{children:"Type"}),d.jsx(Sn,{children:"Progress"}),d.jsx(Sn,{children:"Status"}),d.jsx(Sn,{children:"Created"}),d.jsx(Sn,{children:"Actions"})]})}),d.jsx(c0,{children:(Rt=L==null?void 0:L.data)==null?void 0:Rt.map(ue=>d.jsxs(Io,{children:[d.jsx(Cn,{children:d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:ue.tokenName}),d.jsx("div",{className:"text-sm text-muted-foreground",children:ue.tokenSymbol})]})}),d.jsx(Cn,{children:ue.campaignType.replace("_"," ")}),d.jsx(Cn,{children:d.jsxs("div",{className:"w-24",children:[d.jsx(Pl,{value:ue.currentAmount/ue.targetAmount*100,className:"h-2"}),d.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["$",ue.currentAmount.toFixed(0)," / $",ue.targetAmount.toFixed(0)]})]})}),d.jsx(Cn,{children:K(ue.status)}),d.jsx(Cn,{children:sl(new Date(ue.createdAt),"MMM dd")}),d.jsx(Cn,{children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(wt,{size:"sm",variant:"outline",onClick:()=>{r(ue),a(!0)},children:d.jsx(R4,{className:"h-3 w-3"})}),ue.status==="funded"&&d.jsx(wt,{size:"sm",variant:"outline",onClick:()=>O.mutate(ue.id),children:d.jsx(Hl,{className:"h-3 w-3"})}),["active","funded"].includes(ue.status)&&d.jsx(wt,{size:"sm",variant:"outline",onClick:()=>_.mutate(ue.id),children:d.jsx(s1,{className:"h-3 w-3"})})]})})]},ue.id))})]})})]})}),d.jsx(xi,{value:"users",className:"space-y-4",children:d.jsxs(Bt,{children:[d.jsx(gn,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(yn,{children:"User Management"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(wt,{variant:"outline",onClick:()=>z("users"),children:[d.jsx(Bm,{className:"mr-2 h-4 w-4"}),"Export"]}),d.jsxs(Uh,{value:h.status||"all",onValueChange:ue=>m({...h,status:ue==="all"?void 0:ue}),children:[d.jsx(yd,{className:"w-32",children:d.jsx(zh,{placeholder:"Status"})}),d.jsxs(vd,{children:[d.jsx(An,{value:"all",children:"All Users"}),d.jsx(An,{value:"active",children:"Active"}),d.jsx(An,{value:"flagged",children:"Flagged"}),d.jsx(An,{value:"banned",children:"Banned"})]})]})]})]})}),d.jsx(Ot,{children:d.jsxs(o0,{children:[d.jsx(a0,{children:d.jsxs(Io,{children:[d.jsx(Sn,{children:"Address"}),d.jsx(Sn,{children:"Contributed"}),d.jsx(Sn,{children:"Campaigns"}),d.jsx(Sn,{children:"Risk Score"}),d.jsx(Sn,{children:"Status"}),d.jsx(Sn,{children:"Actions"})]})}),d.jsx(c0,{children:(rt=R==null?void 0:R.data)==null?void 0:rt.map(ue=>d.jsxs(Io,{children:[d.jsx(Cn,{children:d.jsxs("code",{className:"text-xs",children:[ue.address.slice(0,8),"...",ue.address.slice(-6)]})}),d.jsxs(Cn,{children:["$",ue.totalContributed.toLocaleString()]}),d.jsx(Cn,{children:ue.campaignsSupported}),d.jsx(Cn,{children:d.jsx(Wr,{variant:ue.riskScore>75?"destructive":ue.riskScore>50?"secondary":"default",children:ue.riskScore})}),d.jsx(Cn,{children:K(ue.status)}),d.jsx(Cn,{children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(wt,{size:"sm",variant:"outline",onClick:()=>{i(ue),l(!0)},children:d.jsx(R4,{className:"h-3 w-3"})}),ue.status==="active"&&d.jsx(wt,{size:"sm",variant:"outline",onClick:()=>C.mutate(ue.address),children:d.jsx(r1,{className:"h-3 w-3"})})]})})]},ue.address))})]})})]})}),d.jsx(xi,{value:"transactions",className:"space-y-4",children:d.jsxs(Bt,{children:[d.jsx(gn,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(yn,{children:"Transaction Monitoring"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(wt,{variant:"outline",onClick:()=>z("transactions"),children:[d.jsx(Bm,{className:"mr-2 h-4 w-4"}),"Export"]}),d.jsxs(Uh,{value:v.type||"all",onValueChange:ue=>g({...v,type:ue==="all"?void 0:ue}),children:[d.jsx(yd,{className:"w-32",children:d.jsx(zh,{placeholder:"Type"})}),d.jsxs(vd,{children:[d.jsx(An,{value:"all",children:"All Types"}),d.jsx(An,{value:"contribution",children:"Contributions"}),d.jsx(An,{value:"refund",children:"Refunds"}),d.jsx(An,{value:"service_purchase",children:"Purchases"})]})]})]})]})}),d.jsx(Ot,{children:d.jsxs(o0,{children:[d.jsx(a0,{children:d.jsxs(Io,{children:[d.jsx(Sn,{children:"Signature"}),d.jsx(Sn,{children:"Type"}),d.jsx(Sn,{children:"Amount"}),d.jsx(Sn,{children:"Status"}),d.jsx(Sn,{children:"Time"}),d.jsx(Sn,{children:"Method"})]})}),d.jsx(c0,{children:(ht=P==null?void 0:P.data)==null?void 0:ht.map(ue=>d.jsxs(Io,{children:[d.jsx(Cn,{children:d.jsxs("code",{className:"text-xs",children:[ue.signature.slice(0,8),"...",ue.signature.slice(-6)]})}),d.jsx(Cn,{children:ue.type.replace("_"," ")}),d.jsxs(Cn,{children:["$",ue.amount.toFixed(2)]}),d.jsx(Cn,{children:K(ue.status)}),d.jsx(Cn,{children:sl(new Date(ue.timestamp),"MMM dd HH:mm")}),d.jsx(Cn,{children:d.jsx(Wr,{variant:"outline",children:ue.verificationMethod})})]},ue.id))})]})})]})}),d.jsx(xi,{value:"analytics",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(Bt,{children:[d.jsx(gn,{children:d.jsxs(yn,{className:"flex items-center gap-2",children:[d.jsx(r8,{className:"h-5 w-5"}),"Platform Revenue"]})}),d.jsxs(Ot,{children:[d.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",((dt=(zn=b==null?void 0:b.data)==null?void 0:zn.platformFees)==null?void 0:dt.toLocaleString())||0]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"2% fee on successful campaigns"})]})]}),d.jsxs(Bt,{children:[d.jsx(gn,{children:d.jsxs(yn,{className:"flex items-center gap-2",children:[d.jsx(E$,{className:"h-5 w-5"}),"Campaign Types"]})}),d.jsx(Ot,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Enhanced Token Info"}),d.jsx(Wr,{children:"65%"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Advertising"}),d.jsx(Wr,{children:"25%"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Boost"}),d.jsx(Wr,{children:"10%"})]})]})})]}),d.jsxs(Bt,{className:"md:col-span-2",children:[d.jsx(gn,{children:d.jsxs(yn,{className:"flex items-center gap-2",children:[d.jsx(s8,{className:"h-5 w-5"}),"Performance Metrics"]})}),d.jsx(Ot,{children:d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"98.5%"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:"156ms"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Response"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"99.2%"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Payment Success"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"4.2s"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Tx Confirmation"})]})]})})]})]})}),d.jsx(xi,{value:"settings",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(Bt,{children:[d.jsx(gn,{children:d.jsxs(yn,{className:"flex items-center gap-2",children:[d.jsx(j$,{className:"h-5 w-5"}),"Platform Controls"]})}),d.jsxs(Ot,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(jn,{htmlFor:"platform-pause",children:"Platform Status"}),d.jsx(Hh,{id:"platform-pause",checked:!w,onCheckedChange:ue=>j.mutate(ue?"resume":"pause")})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(jn,{htmlFor:"new-campaigns",children:"Allow New Campaigns"}),d.jsx(Hh,{id:"new-campaigns",defaultChecked:!0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(jn,{htmlFor:"contributions",children:"Allow Contributions"}),d.jsx(Hh,{id:"contributions",defaultChecked:!0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(jn,{htmlFor:"auto-purchase",children:"Auto Purchase Services"}),d.jsx(Hh,{id:"auto-purchase",defaultChecked:!0})]})]})]}),d.jsxs(Bt,{children:[d.jsx(gn,{children:d.jsxs(yn,{className:"flex items-center gap-2",children:[d.jsx(xp,{className:"h-5 w-5"}),"Security Settings"]})}),d.jsxs(Ot,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(jn,{htmlFor:"min-contribution",children:"Minimum Contribution (USDC)"}),d.jsx(Ki,{id:"min-contribution",type:"number",defaultValue:"5"})]}),d.jsxs("div",{children:[d.jsx(jn,{htmlFor:"max-contribution",children:"Maximum Contribution (USDC)"}),d.jsx(Ki,{id:"max-contribution",type:"number",defaultValue:"10000"})]}),d.jsxs("div",{children:[d.jsx(jn,{htmlFor:"platform-fee",children:"Platform Fee (%)"}),d.jsx(Ki,{id:"platform-fee",type:"number",defaultValue:"2",step:"0.1"})]}),d.jsxs("div",{children:[d.jsx(jn,{htmlFor:"fraud-threshold",children:"Fraud Detection Threshold"}),d.jsx(Ki,{id:"fraud-threshold",type:"number",defaultValue:"75"})]})]})]}),d.jsxs(Bt,{className:"md:col-span-2",children:[d.jsx(gn,{children:d.jsxs(yn,{className:"flex items-center gap-2",children:[d.jsx(I4,{className:"h-5 w-5"}),"System Maintenance"]})}),d.jsx(Ot,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs(wt,{variant:"outline",onClick:()=>H.mutate(),disabled:H.isPending,children:[d.jsx(s1,{className:"mr-2 h-4 w-4"}),"Reconcile All Balances"]}),d.jsxs(wt,{variant:"outline",children:[d.jsx(Bm,{className:"mr-2 h-4 w-4"}),"Backup Database"]}),d.jsxs(wt,{variant:"outline",children:[d.jsx(T$,{className:"mr-2 h-4 w-4"}),"Generate Report"]})]})})]})]})})]}),d.jsx(_2,{open:o,onOpenChange:a,children:d.jsxs(av,{className:"max-w-2xl",children:[d.jsxs(cv,{children:[d.jsx(uv,{children:"Campaign Details"}),d.jsxs(dv,{children:["Detailed information and management for ",n==null?void 0:n.tokenName]})]}),n&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(jn,{children:"Token Address"}),d.jsx("code",{className:"block text-xs bg-muted p-2 rounded",children:n.creatorAddress})]}),d.jsxs("div",{children:[d.jsx(jn,{children:"Creator"}),d.jsx("code",{className:"block text-xs bg-muted p-2 rounded",children:n.creatorAddress})]}),d.jsxs("div",{children:[d.jsx(jn,{children:"Progress"}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Pl,{value:n.currentAmount/n.targetAmount*100}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",n.currentAmount," / $",n.targetAmount]})]})]}),d.jsxs("div",{children:[d.jsx(jn,{children:"Contributors"}),d.jsx("div",{className:"text-lg font-semibold",children:n.contributorCount})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Uh,{value:n.status,onValueChange:ue=>S.mutate({campaignId:n.id,status:ue}),children:[d.jsx(yd,{className:"w-40",children:d.jsx(zh,{})}),d.jsxs(vd,{children:[d.jsx(An,{value:"active",children:"Active"}),d.jsx(An,{value:"funded",children:"Funded"}),d.jsx(An,{value:"completed",children:"Completed"}),d.jsx(An,{value:"failed",children:"Failed"}),d.jsx(An,{value:"cancelled",children:"Cancelled"})]})]}),d.jsx(wt,{variant:"outline",onClick:()=>O.mutate(n.id),children:"Trigger Purchase"}),d.jsx(wt,{variant:"outline",onClick:()=>_.mutate(n.id),children:"Process Refunds"})]})]}),d.jsx(lv,{children:d.jsx(wt,{variant:"outline",onClick:()=>a(!1),children:"Close"})})]})}),d.jsx(_2,{open:c,onOpenChange:l,children:d.jsxs(av,{className:"max-w-2xl",children:[d.jsxs(cv,{children:[d.jsx(uv,{children:"User Details"}),d.jsx(dv,{children:"User activity and risk assessment"})]}),s&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(jn,{children:"Wallet Address"}),d.jsx("code",{className:"block text-xs bg-muted p-2 rounded",children:s.address})]}),d.jsxs("div",{children:[d.jsx(jn,{children:"Risk Score"}),d.jsxs(Wr,{variant:s.riskScore>75?"destructive":s.riskScore>50?"secondary":"default",className:"text-lg",children:[s.riskScore,"/100"]})]}),d.jsxs("div",{children:[d.jsx(jn,{children:"Total Contributed"}),d.jsxs("div",{className:"text-lg font-semibold",children:["$",s.totalContributed.toLocaleString()]})]}),d.jsxs("div",{children:[d.jsx(jn,{children:"Campaigns Supported"}),d.jsx("div",{className:"text-lg font-semibold",children:s.campaignsSupported})]}),d.jsxs("div",{children:[d.jsx(jn,{children:"First Activity"}),d.jsx("div",{className:"text-sm",children:sl(new Date(s.firstContribution),"PPP")})]}),d.jsxs("div",{children:[d.jsx(jn,{children:"Last Activity"}),d.jsx("div",{className:"text-sm",children:sl(new Date(s.lastActivity),"PPP")})]})]}),d.jsxs("div",{className:"flex gap-2",children:[s.status==="active"&&d.jsxs(wt,{variant:"destructive",onClick:()=>C.mutate(s.address),children:[d.jsx(r1,{className:"mr-2 h-4 w-4"}),"Ban User"]}),s.status==="banned"&&d.jsxs(wt,{variant:"outline",onClick:()=>C.mutate(s.address),children:[d.jsx(k4,{className:"mr-2 h-4 w-4"}),"Unban User"]})]})]}),d.jsx(lv,{children:d.jsx(wt,{variant:"outline",onClick:()=>l(!1),children:"Close"})})]})})]})})}function Fpe(){return d.jsxs(jV,{children:[d.jsx(Pu,{path:"/",component:Nne}),d.jsx(Pu,{path:"/campaigns",component:Qie}),d.jsx(Pu,{path:"/campaign/:id",component:$ae}),d.jsx(Pu,{path:"/create-campaign",component:Mpe}),d.jsx(Pu,{path:"/admin",component:jpe}),d.jsx(Pu,{component:Dne})]})}function Upe(){return I.useEffect(()=>(Da.connect(),()=>{Da.disconnect()}),[]),d.jsx(WR,{children:d.jsx(iW,{client:xW,children:d.jsx(Bee,{children:d.jsxs(qq,{children:[d.jsx(_H,{}),d.jsx(WR,{children:d.jsx(Fpe,{})})]})})})})}document.documentElement.classList.remove("dark");document.documentElement.classList.add("light");localStorage.setItem("theme","light");nP(document.getElementById("root")).render(d.jsx(Upe,{}));export{PS as E,ke as P,ns as S,Hi as T,Tc as V,Tn as a,kb as b,Bo as c};

var l8=Object.defineProperty;var CI=t=>{throw TypeError(t)};var c8=(t,e,n)=>e in t?l8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Bn=(t,e,n)=>c8(t,typeof e!="symbol"?e+"":e,n),Yv=(t,e,n)=>e.has(t)||CI("Cannot "+n);var Y=(t,e,n)=>(Yv(t,e,"read from private field"),n?n.call(t):e.get(t)),De=(t,e,n)=>e.has(t)?CI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ae=(t,e,n,r)=>(Yv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),rt=(t,e,n)=>(Yv(t,e,"access private method"),n);var Hm=(t,e,n,r)=>({set _(s){Ae(t,e,s,n)},get _(){return Y(t,e,r)}});function u8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function El(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ME(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var LR={exports:{}},hw={},DR={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp=Symbol.for("react.element"),d8=Symbol.for("react.portal"),h8=Symbol.for("react.fragment"),f8=Symbol.for("react.strict_mode"),p8=Symbol.for("react.profiler"),m8=Symbol.for("react.provider"),g8=Symbol.for("react.context"),y8=Symbol.for("react.forward_ref"),w8=Symbol.for("react.suspense"),v8=Symbol.for("react.memo"),x8=Symbol.for("react.lazy"),kI=Symbol.iterator;function b8(t){return t===null||typeof t!="object"?null:(t=kI&&t[kI]||t["@@iterator"],typeof t=="function"?t:null)}var jR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BR=Object.assign,FR={};function ph(t,e,n){this.props=t,this.context=e,this.refs=FR,this.updater=n||jR}ph.prototype.isReactComponent={};ph.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ph.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function UR(){}UR.prototype=ph.prototype;function PE(t,e,n){this.props=t,this.context=e,this.refs=FR,this.updater=n||jR}var OE=PE.prototype=new UR;OE.constructor=PE;BR(OE,ph.prototype);OE.isPureReactComponent=!0;var NI=Array.isArray,VR=Object.prototype.hasOwnProperty,LE={current:null},zR={key:!0,ref:!0,__self:!0,__source:!0};function WR(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)VR.call(e,r)&&!zR.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Wp,type:t,key:i,ref:o,props:s,_owner:LE.current}}function _8(t,e){return{$$typeof:Wp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function DE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wp}function E8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var RI=/\/+/g;function Xv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?E8(""+t.key):e.toString(36)}function jg(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wp:case d8:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Xv(o,0):r,NI(s)?(n="",t!=null&&(n=t.replace(RI,"$&/")+"/"),jg(s,e,n,"",function(c){return c})):s!=null&&(DE(s)&&(s=_8(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(RI,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",NI(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Xv(i,a);o+=jg(i,e,n,l,s)}else if(l=b8(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Xv(i,a++),o+=jg(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qm(t,e,n){if(t==null)return t;var r=[],s=0;return jg(t,r,"","",function(i){return e.call(n,i,s++)}),r}function S8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rs={current:null},Bg={transition:null},T8={ReactCurrentDispatcher:rs,ReactCurrentBatchConfig:Bg,ReactCurrentOwner:LE};function $R(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:qm,forEach:function(t,e,n){qm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qm(t,function(){e++}),e},toArray:function(t){return qm(t,function(e){return e})||[]},only:function(t){if(!DE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ut.Component=ph;ut.Fragment=h8;ut.Profiler=p8;ut.PureComponent=PE;ut.StrictMode=f8;ut.Suspense=w8;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T8;ut.act=$R;ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BR({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=LE.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)VR.call(e,l)&&!zR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Wp,type:t.type,key:s,ref:i,props:r,_owner:o}};ut.createContext=function(t){return t={$$typeof:g8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m8,_context:t},t.Consumer=t};ut.createElement=WR;ut.createFactory=function(t){var e=WR.bind(null,t);return e.type=t,e};ut.createRef=function(){return{current:null}};ut.forwardRef=function(t){return{$$typeof:y8,render:t}};ut.isValidElement=DE;ut.lazy=function(t){return{$$typeof:x8,_payload:{_status:-1,_result:t},_init:S8}};ut.memo=function(t,e){return{$$typeof:v8,type:t,compare:e===void 0?null:e}};ut.startTransition=function(t){var e=Bg.transition;Bg.transition={};try{t()}finally{Bg.transition=e}};ut.unstable_act=$R;ut.useCallback=function(t,e){return rs.current.useCallback(t,e)};ut.useContext=function(t){return rs.current.useContext(t)};ut.useDebugValue=function(){};ut.useDeferredValue=function(t){return rs.current.useDeferredValue(t)};ut.useEffect=function(t,e){return rs.current.useEffect(t,e)};ut.useId=function(){return rs.current.useId()};ut.useImperativeHandle=function(t,e,n){return rs.current.useImperativeHandle(t,e,n)};ut.useInsertionEffect=function(t,e){return rs.current.useInsertionEffect(t,e)};ut.useLayoutEffect=function(t,e){return rs.current.useLayoutEffect(t,e)};ut.useMemo=function(t,e){return rs.current.useMemo(t,e)};ut.useReducer=function(t,e,n){return rs.current.useReducer(t,e,n)};ut.useRef=function(t){return rs.current.useRef(t)};ut.useState=function(t){return rs.current.useState(t)};ut.useSyncExternalStore=function(t,e,n){return rs.current.useSyncExternalStore(t,e,n)};ut.useTransition=function(){return rs.current.useTransition()};ut.version="18.3.1";DR.exports=ut;var N=DR.exports;const ce=El(N),jE=u8({__proto__:null,default:ce},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A8=N,I8=Symbol.for("react.element"),C8=Symbol.for("react.fragment"),k8=Object.prototype.hasOwnProperty,N8=A8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R8={key:!0,ref:!0,__self:!0,__source:!0};function HR(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)k8.call(e,r)&&!R8.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:I8,type:t,key:i,ref:o,props:s,_owner:N8.current}}hw.Fragment=C8;hw.jsx=HR;hw.jsxs=HR;LR.exports=hw;var d=LR.exports,Xe={},fw={};fw.byteLength=O8;fw.toByteArray=D8;fw.fromByteArray=F8;var Di=[],zs=[],M8=typeof Uint8Array<"u"?Uint8Array:Array,Zv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var yu=0,P8=Zv.length;yu<P8;++yu)Di[yu]=Zv[yu],zs[Zv.charCodeAt(yu)]=yu;zs[45]=62;zs[95]=63;function qR(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function O8(t){var e=qR(t),n=e[0],r=e[1];return(n+r)*3/4-r}function L8(t,e,n){return(e+n)*3/4-n}function D8(t){var e,n=qR(t),r=n[0],s=n[1],i=new M8(L8(t,r,s)),o=0,a=s>0?r-4:r,l;for(l=0;l<a;l+=4)e=zs[t.charCodeAt(l)]<<18|zs[t.charCodeAt(l+1)]<<12|zs[t.charCodeAt(l+2)]<<6|zs[t.charCodeAt(l+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return s===2&&(e=zs[t.charCodeAt(l)]<<2|zs[t.charCodeAt(l+1)]>>4,i[o++]=e&255),s===1&&(e=zs[t.charCodeAt(l)]<<10|zs[t.charCodeAt(l+1)]<<4|zs[t.charCodeAt(l+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function j8(t){return Di[t>>18&63]+Di[t>>12&63]+Di[t>>6&63]+Di[t&63]}function B8(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(j8(r));return s.join("")}function F8(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(B8(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(Di[e>>2]+Di[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(Di[e>>10]+Di[e>>4&63]+Di[e<<2&63]+"=")),s.join("")}var BE={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */BE.read=function(t,e,n,r,s){var i,o,a=s*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,f=n?s-1:0,p=n?-1:1,m=t[e+f];for(f+=p,i=m&(1<<-u)-1,m>>=-u,u+=a;u>0;i=i*256+t[e+f],f+=p,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=r;u>0;o=o*256+t[e+f],f+=p,u-=8);if(i===0)i=1-c;else{if(i===l)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-c}return(m?-1:1)*o*Math.pow(2,i-r)};BE.write=function(t,e,n,r,s,i){var o,a,l,c=i*8-s-1,u=(1<<c)-1,f=u>>1,p=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:i-1,v=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=p/l:e+=p*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*l-1)*Math.pow(2,s),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,s),o=0));s>=8;t[n+m]=a&255,m+=v,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;t[n+m]=o&255,m+=v,o/=256,c-=8);t[n+m-v]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=fw,n=BE,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const V=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(V,I),V.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(V){if(V>s)throw new RangeError('The value "'+V+'" is invalid for option "size"');const I=new Uint8Array(V);return Object.setPrototypeOf(I,a.prototype),I}function a(V,I,k){if(typeof V=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(V)}return l(V,I,k)}a.poolSize=8192;function l(V,I,k){if(typeof V=="string")return p(V,I);if(ArrayBuffer.isView(V))return v(V);if(V==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(It(V,ArrayBuffer)||V&&It(V.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(It(V,SharedArrayBuffer)||V&&It(V.buffer,SharedArrayBuffer)))return g(V,I,k);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=V.valueOf&&V.valueOf();if(Q!=null&&Q!==V)return a.from(Q,I,k);const X=w(V);if(X)return X;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return a.from(V[Symbol.toPrimitive]("string"),I,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}a.from=function(V,I,k){return l(V,I,k)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function u(V,I,k){return c(V),V<=0?o(V):I!==void 0?typeof k=="string"?o(V).fill(I,k):o(V).fill(I):o(V)}a.alloc=function(V,I,k){return u(V,I,k)};function f(V){return c(V),o(V<0?0:b(V)|0)}a.allocUnsafe=function(V){return f(V)},a.allocUnsafeSlow=function(V){return f(V)};function p(V,I){if((typeof I!="string"||I==="")&&(I="utf8"),!a.isEncoding(I))throw new TypeError("Unknown encoding: "+I);const k=x(V,I)|0;let Q=o(k);const X=Q.write(V,I);return X!==k&&(Q=Q.slice(0,X)),Q}function m(V){const I=V.length<0?0:b(V.length)|0,k=o(I);for(let Q=0;Q<I;Q+=1)k[Q]=V[Q]&255;return k}function v(V){if(It(V,Uint8Array)){const I=new Uint8Array(V);return g(I.buffer,I.byteOffset,I.byteLength)}return m(V)}function g(V,I,k){if(I<0||V.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(V.byteLength<I+(k||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return I===void 0&&k===void 0?Q=new Uint8Array(V):k===void 0?Q=new Uint8Array(V,I):Q=new Uint8Array(V,I,k),Object.setPrototypeOf(Q,a.prototype),Q}function w(V){if(a.isBuffer(V)){const I=b(V.length)|0,k=o(I);return k.length===0||V.copy(k,0,0,I),k}if(V.length!==void 0)return typeof V.length!="number"||Tt(V.length)?o(0):m(V);if(V.type==="Buffer"&&Array.isArray(V.data))return m(V.data)}function b(V){if(V>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return V|0}function _(V){return+V!=V&&(V=0),a.alloc(+V)}a.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==a.prototype},a.compare=function(I,k){if(It(I,Uint8Array)&&(I=a.from(I,I.offset,I.byteLength)),It(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),!a.isBuffer(I)||!a.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===k)return 0;let Q=I.length,X=k.length;for(let Z=0,ne=Math.min(Q,X);Z<ne;++Z)if(I[Z]!==k[Z]){Q=I[Z],X=k[Z];break}return Q<X?-1:X<Q?1:0},a.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(I,k){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return a.alloc(0);let Q;if(k===void 0)for(k=0,Q=0;Q<I.length;++Q)k+=I[Q].length;const X=a.allocUnsafe(k);let Z=0;for(Q=0;Q<I.length;++Q){let ne=I[Q];if(It(ne,Uint8Array))Z+ne.length>X.length?(a.isBuffer(ne)||(ne=a.from(ne)),ne.copy(X,Z)):Uint8Array.prototype.set.call(X,ne,Z);else if(a.isBuffer(ne))ne.copy(X,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=ne.length}return X};function x(V,I){if(a.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||It(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);const k=V.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&k===0)return 0;let X=!1;for(;;)switch(I){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return at(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return wt(V).length;default:if(X)return Q?-1:at(V).length;I=(""+I).toLowerCase(),X=!0}}a.byteLength=x;function S(V,I,k){let Q=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,I>>>=0,k<=I))return"";for(V||(V="utf8");;)switch(V){case"hex":return j(this,I,k);case"utf8":case"utf-8":return y(this,I,k);case"ascii":return z(this,I,k);case"latin1":case"binary":return L(this,I,k);case"base64":return C(this,I,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,I,k);default:if(Q)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),Q=!0}}a.prototype._isBuffer=!0;function D(V,I,k){const Q=V[I];V[I]=V[k],V[k]=Q}a.prototype.swap16=function(){const I=this.length;if(I%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let k=0;k<I;k+=2)D(this,k,k+1);return this},a.prototype.swap32=function(){const I=this.length;if(I%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let k=0;k<I;k+=4)D(this,k,k+3),D(this,k+1,k+2);return this},a.prototype.swap64=function(){const I=this.length;if(I%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let k=0;k<I;k+=8)D(this,k,k+7),D(this,k+1,k+6),D(this,k+2,k+5),D(this,k+3,k+4);return this},a.prototype.toString=function(){const I=this.length;return I===0?"":arguments.length===0?y(this,0,I):S.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(I){if(!a.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:a.compare(this,I)===0},a.prototype.inspect=function(){let I="";const k=t.INSPECT_MAX_BYTES;return I=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(I+=" ... "),"<Buffer "+I+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(I,k,Q,X,Z){if(It(I,Uint8Array)&&(I=a.from(I,I.offset,I.byteLength)),!a.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(k===void 0&&(k=0),Q===void 0&&(Q=I?I.length:0),X===void 0&&(X=0),Z===void 0&&(Z=this.length),k<0||Q>I.length||X<0||Z>this.length)throw new RangeError("out of range index");if(X>=Z&&k>=Q)return 0;if(X>=Z)return-1;if(k>=Q)return 1;if(k>>>=0,Q>>>=0,X>>>=0,Z>>>=0,this===I)return 0;let ne=Z-X,et=Q-k;const qe=Math.min(ne,et),Ke=this.slice(X,Z),jt=I.slice(k,Q);for(let Be=0;Be<qe;++Be)if(Ke[Be]!==jt[Be]){ne=Ke[Be],et=jt[Be];break}return ne<et?-1:et<ne?1:0};function F(V,I,k,Q,X){if(V.length===0)return-1;if(typeof k=="string"?(Q=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,Tt(k)&&(k=X?0:V.length-1),k<0&&(k=V.length+k),k>=V.length){if(X)return-1;k=V.length-1}else if(k<0)if(X)k=0;else return-1;if(typeof I=="string"&&(I=a.from(I,Q)),a.isBuffer(I))return I.length===0?-1:M(V,I,k,Q,X);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?X?Uint8Array.prototype.indexOf.call(V,I,k):Uint8Array.prototype.lastIndexOf.call(V,I,k):M(V,[I],k,Q,X);throw new TypeError("val must be string, number or Buffer")}function M(V,I,k,Q,X){let Z=1,ne=V.length,et=I.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(V.length<2||I.length<2)return-1;Z=2,ne/=2,et/=2,k/=2}function qe(jt,Be){return Z===1?jt[Be]:jt.readUInt16BE(Be*Z)}let Ke;if(X){let jt=-1;for(Ke=k;Ke<ne;Ke++)if(qe(V,Ke)===qe(I,jt===-1?0:Ke-jt)){if(jt===-1&&(jt=Ke),Ke-jt+1===et)return jt*Z}else jt!==-1&&(Ke-=Ke-jt),jt=-1}else for(k+et>ne&&(k=ne-et),Ke=k;Ke>=0;Ke--){let jt=!0;for(let Be=0;Be<et;Be++)if(qe(V,Ke+Be)!==qe(I,Be)){jt=!1;break}if(jt)return Ke}return-1}a.prototype.includes=function(I,k,Q){return this.indexOf(I,k,Q)!==-1},a.prototype.indexOf=function(I,k,Q){return F(this,I,k,Q,!0)},a.prototype.lastIndexOf=function(I,k,Q){return F(this,I,k,Q,!1)};function R(V,I,k,Q){k=Number(k)||0;const X=V.length-k;Q?(Q=Number(Q),Q>X&&(Q=X)):Q=X;const Z=I.length;Q>Z/2&&(Q=Z/2);let ne;for(ne=0;ne<Q;++ne){const et=parseInt(I.substr(ne*2,2),16);if(Tt(et))return ne;V[k+ne]=et}return ne}function U(V,I,k,Q){return oe(at(I,V.length-k),V,k,Q)}function W(V,I,k,Q){return oe(Et(I),V,k,Q)}function $(V,I,k,Q){return oe(wt(I),V,k,Q)}function q(V,I,k,Q){return oe(ir(I,V.length-k),V,k,Q)}a.prototype.write=function(I,k,Q,X){if(k===void 0)X="utf8",Q=this.length,k=0;else if(Q===void 0&&typeof k=="string")X=k,Q=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(Q)?(Q=Q>>>0,X===void 0&&(X="utf8")):(X=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Z=this.length-k;if((Q===void 0||Q>Z)&&(Q=Z),I.length>0&&(Q<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");let ne=!1;for(;;)switch(X){case"hex":return R(this,I,k,Q);case"utf8":case"utf-8":return U(this,I,k,Q);case"ascii":case"latin1":case"binary":return W(this,I,k,Q);case"base64":return $(this,I,k,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,I,k,Q);default:if(ne)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),ne=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(V,I,k){return I===0&&k===V.length?e.fromByteArray(V):e.fromByteArray(V.slice(I,k))}function y(V,I,k){k=Math.min(V.length,k);const Q=[];let X=I;for(;X<k;){const Z=V[X];let ne=null,et=Z>239?4:Z>223?3:Z>191?2:1;if(X+et<=k){let qe,Ke,jt,Be;switch(et){case 1:Z<128&&(ne=Z);break;case 2:qe=V[X+1],(qe&192)===128&&(Be=(Z&31)<<6|qe&63,Be>127&&(ne=Be));break;case 3:qe=V[X+1],Ke=V[X+2],(qe&192)===128&&(Ke&192)===128&&(Be=(Z&15)<<12|(qe&63)<<6|Ke&63,Be>2047&&(Be<55296||Be>57343)&&(ne=Be));break;case 4:qe=V[X+1],Ke=V[X+2],jt=V[X+3],(qe&192)===128&&(Ke&192)===128&&(jt&192)===128&&(Be=(Z&15)<<18|(qe&63)<<12|(Ke&63)<<6|jt&63,Be>65535&&Be<1114112&&(ne=Be))}}ne===null?(ne=65533,et=1):ne>65535&&(ne-=65536,Q.push(ne>>>10&1023|55296),ne=56320|ne&1023),Q.push(ne),X+=et}return O(Q)}const A=4096;function O(V){const I=V.length;if(I<=A)return String.fromCharCode.apply(String,V);let k="",Q=0;for(;Q<I;)k+=String.fromCharCode.apply(String,V.slice(Q,Q+=A));return k}function z(V,I,k){let Q="";k=Math.min(V.length,k);for(let X=I;X<k;++X)Q+=String.fromCharCode(V[X]&127);return Q}function L(V,I,k){let Q="";k=Math.min(V.length,k);for(let X=I;X<k;++X)Q+=String.fromCharCode(V[X]);return Q}function j(V,I,k){const Q=V.length;(!I||I<0)&&(I=0),(!k||k<0||k>Q)&&(k=Q);let X="";for(let Z=I;Z<k;++Z)X+=Ct[V[Z]];return X}function H(V,I,k){const Q=V.slice(I,k);let X="";for(let Z=0;Z<Q.length-1;Z+=2)X+=String.fromCharCode(Q[Z]+Q[Z+1]*256);return X}a.prototype.slice=function(I,k){const Q=this.length;I=~~I,k=k===void 0?Q:~~k,I<0?(I+=Q,I<0&&(I=0)):I>Q&&(I=Q),k<0?(k+=Q,k<0&&(k=0)):k>Q&&(k=Q),k<I&&(k=I);const X=this.subarray(I,k);return Object.setPrototypeOf(X,a.prototype),X};function B(V,I,k){if(V%1!==0||V<0)throw new RangeError("offset is not uint");if(V+I>k)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(I,k,Q){I=I>>>0,k=k>>>0,Q||B(I,k,this.length);let X=this[I],Z=1,ne=0;for(;++ne<k&&(Z*=256);)X+=this[I+ne]*Z;return X},a.prototype.readUintBE=a.prototype.readUIntBE=function(I,k,Q){I=I>>>0,k=k>>>0,Q||B(I,k,this.length);let X=this[I+--k],Z=1;for(;k>0&&(Z*=256);)X+=this[I+--k]*Z;return X},a.prototype.readUint8=a.prototype.readUInt8=function(I,k){return I=I>>>0,k||B(I,1,this.length),this[I]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(I,k){return I=I>>>0,k||B(I,2,this.length),this[I]|this[I+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(I,k){return I=I>>>0,k||B(I,2,this.length),this[I]<<8|this[I+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(I,k){return I=I>>>0,k||B(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(I,k){return I=I>>>0,k||B(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},a.prototype.readBigUInt64LE=jn(function(I){I=I>>>0,He(I,"offset");const k=this[I],Q=this[I+7];(k===void 0||Q===void 0)&&Me(I,this.length-8);const X=k+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24,Z=this[++I]+this[++I]*2**8+this[++I]*2**16+Q*2**24;return BigInt(X)+(BigInt(Z)<<BigInt(32))}),a.prototype.readBigUInt64BE=jn(function(I){I=I>>>0,He(I,"offset");const k=this[I],Q=this[I+7];(k===void 0||Q===void 0)&&Me(I,this.length-8);const X=k*2**24+this[++I]*2**16+this[++I]*2**8+this[++I],Z=this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+Q;return(BigInt(X)<<BigInt(32))+BigInt(Z)}),a.prototype.readIntLE=function(I,k,Q){I=I>>>0,k=k>>>0,Q||B(I,k,this.length);let X=this[I],Z=1,ne=0;for(;++ne<k&&(Z*=256);)X+=this[I+ne]*Z;return Z*=128,X>=Z&&(X-=Math.pow(2,8*k)),X},a.prototype.readIntBE=function(I,k,Q){I=I>>>0,k=k>>>0,Q||B(I,k,this.length);let X=k,Z=1,ne=this[I+--X];for(;X>0&&(Z*=256);)ne+=this[I+--X]*Z;return Z*=128,ne>=Z&&(ne-=Math.pow(2,8*k)),ne},a.prototype.readInt8=function(I,k){return I=I>>>0,k||B(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},a.prototype.readInt16LE=function(I,k){I=I>>>0,k||B(I,2,this.length);const Q=this[I]|this[I+1]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt16BE=function(I,k){I=I>>>0,k||B(I,2,this.length);const Q=this[I+1]|this[I]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt32LE=function(I,k){return I=I>>>0,k||B(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},a.prototype.readInt32BE=function(I,k){return I=I>>>0,k||B(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},a.prototype.readBigInt64LE=jn(function(I){I=I>>>0,He(I,"offset");const k=this[I],Q=this[I+7];(k===void 0||Q===void 0)&&Me(I,this.length-8);const X=this[I+4]+this[I+5]*2**8+this[I+6]*2**16+(Q<<24);return(BigInt(X)<<BigInt(32))+BigInt(k+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24)}),a.prototype.readBigInt64BE=jn(function(I){I=I>>>0,He(I,"offset");const k=this[I],Q=this[I+7];(k===void 0||Q===void 0)&&Me(I,this.length-8);const X=(k<<24)+this[++I]*2**16+this[++I]*2**8+this[++I];return(BigInt(X)<<BigInt(32))+BigInt(this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+Q)}),a.prototype.readFloatLE=function(I,k){return I=I>>>0,k||B(I,4,this.length),n.read(this,I,!0,23,4)},a.prototype.readFloatBE=function(I,k){return I=I>>>0,k||B(I,4,this.length),n.read(this,I,!1,23,4)},a.prototype.readDoubleLE=function(I,k){return I=I>>>0,k||B(I,8,this.length),n.read(this,I,!0,52,8)},a.prototype.readDoubleBE=function(I,k){return I=I>>>0,k||B(I,8,this.length),n.read(this,I,!1,52,8)};function T(V,I,k,Q,X,Z){if(!a.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>X||I<Z)throw new RangeError('"value" argument is out of bounds');if(k+Q>V.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(I,k,Q,X){if(I=+I,k=k>>>0,Q=Q>>>0,!X){const et=Math.pow(2,8*Q)-1;T(this,I,k,Q,et,0)}let Z=1,ne=0;for(this[k]=I&255;++ne<Q&&(Z*=256);)this[k+ne]=I/Z&255;return k+Q},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(I,k,Q,X){if(I=+I,k=k>>>0,Q=Q>>>0,!X){const et=Math.pow(2,8*Q)-1;T(this,I,k,Q,et,0)}let Z=Q-1,ne=1;for(this[k+Z]=I&255;--Z>=0&&(ne*=256);)this[k+Z]=I/ne&255;return k+Q},a.prototype.writeUint8=a.prototype.writeUInt8=function(I,k,Q){return I=+I,k=k>>>0,Q||T(this,I,k,1,255,0),this[k]=I&255,k+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(I,k,Q){return I=+I,k=k>>>0,Q||T(this,I,k,2,65535,0),this[k]=I&255,this[k+1]=I>>>8,k+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(I,k,Q){return I=+I,k=k>>>0,Q||T(this,I,k,2,65535,0),this[k]=I>>>8,this[k+1]=I&255,k+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(I,k,Q){return I=+I,k=k>>>0,Q||T(this,I,k,4,4294967295,0),this[k+3]=I>>>24,this[k+2]=I>>>16,this[k+1]=I>>>8,this[k]=I&255,k+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(I,k,Q){return I=+I,k=k>>>0,Q||T(this,I,k,4,4294967295,0),this[k]=I>>>24,this[k+1]=I>>>16,this[k+2]=I>>>8,this[k+3]=I&255,k+4};function K(V,I,k,Q,X){be(I,Q,X,V,k,7);let Z=Number(I&BigInt(4294967295));V[k++]=Z,Z=Z>>8,V[k++]=Z,Z=Z>>8,V[k++]=Z,Z=Z>>8,V[k++]=Z;let ne=Number(I>>BigInt(32)&BigInt(4294967295));return V[k++]=ne,ne=ne>>8,V[k++]=ne,ne=ne>>8,V[k++]=ne,ne=ne>>8,V[k++]=ne,k}function ae(V,I,k,Q,X){be(I,Q,X,V,k,7);let Z=Number(I&BigInt(4294967295));V[k+7]=Z,Z=Z>>8,V[k+6]=Z,Z=Z>>8,V[k+5]=Z,Z=Z>>8,V[k+4]=Z;let ne=Number(I>>BigInt(32)&BigInt(4294967295));return V[k+3]=ne,ne=ne>>8,V[k+2]=ne,ne=ne>>8,V[k+1]=ne,ne=ne>>8,V[k]=ne,k+8}a.prototype.writeBigUInt64LE=jn(function(I,k=0){return K(this,I,k,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=jn(function(I,k=0){return ae(this,I,k,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(I,k,Q,X){if(I=+I,k=k>>>0,!X){const qe=Math.pow(2,8*Q-1);T(this,I,k,Q,qe-1,-qe)}let Z=0,ne=1,et=0;for(this[k]=I&255;++Z<Q&&(ne*=256);)I<0&&et===0&&this[k+Z-1]!==0&&(et=1),this[k+Z]=(I/ne>>0)-et&255;return k+Q},a.prototype.writeIntBE=function(I,k,Q,X){if(I=+I,k=k>>>0,!X){const qe=Math.pow(2,8*Q-1);T(this,I,k,Q,qe-1,-qe)}let Z=Q-1,ne=1,et=0;for(this[k+Z]=I&255;--Z>=0&&(ne*=256);)I<0&&et===0&&this[k+Z+1]!==0&&(et=1),this[k+Z]=(I/ne>>0)-et&255;return k+Q},a.prototype.writeInt8=function(I,k,Q){return I=+I,k=k>>>0,Q||T(this,I,k,1,127,-128),I<0&&(I=255+I+1),this[k]=I&255,k+1},a.prototype.writeInt16LE=function(I,k,Q){return I=+I,k=k>>>0,Q||T(this,I,k,2,32767,-32768),this[k]=I&255,this[k+1]=I>>>8,k+2},a.prototype.writeInt16BE=function(I,k,Q){return I=+I,k=k>>>0,Q||T(this,I,k,2,32767,-32768),this[k]=I>>>8,this[k+1]=I&255,k+2},a.prototype.writeInt32LE=function(I,k,Q){return I=+I,k=k>>>0,Q||T(this,I,k,4,2147483647,-2147483648),this[k]=I&255,this[k+1]=I>>>8,this[k+2]=I>>>16,this[k+3]=I>>>24,k+4},a.prototype.writeInt32BE=function(I,k,Q){return I=+I,k=k>>>0,Q||T(this,I,k,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[k]=I>>>24,this[k+1]=I>>>16,this[k+2]=I>>>8,this[k+3]=I&255,k+4},a.prototype.writeBigInt64LE=jn(function(I,k=0){return K(this,I,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=jn(function(I,k=0){return ae(this,I,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ue(V,I,k,Q,X,Z){if(k+Q>V.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function he(V,I,k,Q,X){return I=+I,k=k>>>0,X||ue(V,I,k,4),n.write(V,I,k,Q,23,4),k+4}a.prototype.writeFloatLE=function(I,k,Q){return he(this,I,k,!0,Q)},a.prototype.writeFloatBE=function(I,k,Q){return he(this,I,k,!1,Q)};function le(V,I,k,Q,X){return I=+I,k=k>>>0,X||ue(V,I,k,8),n.write(V,I,k,Q,52,8),k+8}a.prototype.writeDoubleLE=function(I,k,Q){return le(this,I,k,!0,Q)},a.prototype.writeDoubleBE=function(I,k,Q){return le(this,I,k,!1,Q)},a.prototype.copy=function(I,k,Q,X){if(!a.isBuffer(I))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!X&&X!==0&&(X=this.length),k>=I.length&&(k=I.length),k||(k=0),X>0&&X<Q&&(X=Q),X===Q||I.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),I.length-k<X-Q&&(X=I.length-k+Q);const Z=X-Q;return this===I&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,Q,X):Uint8Array.prototype.set.call(I,this.subarray(Q,X),k),Z},a.prototype.fill=function(I,k,Q,X){if(typeof I=="string"){if(typeof k=="string"?(X=k,k=0,Q=this.length):typeof Q=="string"&&(X=Q,Q=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!a.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(I.length===1){const ne=I.charCodeAt(0);(X==="utf8"&&ne<128||X==="latin1")&&(I=ne)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(k<0||this.length<k||this.length<Q)throw new RangeError("Out of range index");if(Q<=k)return this;k=k>>>0,Q=Q===void 0?this.length:Q>>>0,I||(I=0);let Z;if(typeof I=="number")for(Z=k;Z<Q;++Z)this[Z]=I;else{const ne=a.isBuffer(I)?I:a.from(I,X),et=ne.length;if(et===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(Z=0;Z<Q-k;++Z)this[Z+k]=ne[Z%et]}return this};const ye={};function Te(V,I,k){ye[V]=class extends k{constructor(){super(),Object.defineProperty(this,"message",{value:I.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${V}]`,this.stack,delete this.name}get code(){return V}set code(X){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:X,writable:!0})}toString(){return`${this.name} [${V}]: ${this.message}`}}}Te("ERR_BUFFER_OUT_OF_BOUNDS",function(V){return V?`${V} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Te("ERR_INVALID_ARG_TYPE",function(V,I){return`The "${V}" argument must be of type number. Received type ${typeof I}`},TypeError),Te("ERR_OUT_OF_RANGE",function(V,I,k){let Q=`The value of "${V}" is out of range.`,X=k;return Number.isInteger(k)&&Math.abs(k)>2**32?X=Re(String(k)):typeof k=="bigint"&&(X=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(X=Re(X)),X+="n"),Q+=` It must be ${I}. Received ${X}`,Q},RangeError);function Re(V){let I="",k=V.length;const Q=V[0]==="-"?1:0;for(;k>=Q+4;k-=3)I=`_${V.slice(k-3,k)}${I}`;return`${V.slice(0,k)}${I}`}function Ee(V,I,k){He(I,"offset"),(V[I]===void 0||V[I+k]===void 0)&&Me(I,V.length-(k+1))}function be(V,I,k,Q,X,Z){if(V>k||V<I){const ne=typeof I=="bigint"?"n":"";let et;throw I===0||I===BigInt(0)?et=`>= 0${ne} and < 2${ne} ** ${(Z+1)*8}${ne}`:et=`>= -(2${ne} ** ${(Z+1)*8-1}${ne}) and < 2 ** ${(Z+1)*8-1}${ne}`,new ye.ERR_OUT_OF_RANGE("value",et,V)}Ee(Q,X,Z)}function He(V,I){if(typeof V!="number")throw new ye.ERR_INVALID_ARG_TYPE(I,"number",V)}function Me(V,I,k){throw Math.floor(V)!==V?(He(V,k),new ye.ERR_OUT_OF_RANGE("offset","an integer",V)):I<0?new ye.ERR_BUFFER_OUT_OF_BOUNDS:new ye.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${I}`,V)}const Ge=/[^+/0-9A-Za-z-_]/g;function Vt(V){if(V=V.split("=")[0],V=V.trim().replace(Ge,""),V.length<2)return"";for(;V.length%4!==0;)V=V+"=";return V}function at(V,I){I=I||1/0;let k;const Q=V.length;let X=null;const Z=[];for(let ne=0;ne<Q;++ne){if(k=V.charCodeAt(ne),k>55295&&k<57344){if(!X){if(k>56319){(I-=3)>-1&&Z.push(239,191,189);continue}else if(ne+1===Q){(I-=3)>-1&&Z.push(239,191,189);continue}X=k;continue}if(k<56320){(I-=3)>-1&&Z.push(239,191,189),X=k;continue}k=(X-55296<<10|k-56320)+65536}else X&&(I-=3)>-1&&Z.push(239,191,189);if(X=null,k<128){if((I-=1)<0)break;Z.push(k)}else if(k<2048){if((I-=2)<0)break;Z.push(k>>6|192,k&63|128)}else if(k<65536){if((I-=3)<0)break;Z.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((I-=4)<0)break;Z.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return Z}function Et(V){const I=[];for(let k=0;k<V.length;++k)I.push(V.charCodeAt(k)&255);return I}function ir(V,I){let k,Q,X;const Z=[];for(let ne=0;ne<V.length&&!((I-=2)<0);++ne)k=V.charCodeAt(ne),Q=k>>8,X=k%256,Z.push(X),Z.push(Q);return Z}function wt(V){return e.toByteArray(Vt(V))}function oe(V,I,k,Q){let X;for(X=0;X<Q&&!(X+k>=I.length||X>=V.length);++X)I[X+k]=V[X];return X}function It(V,I){return V instanceof I||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===I.name}function Tt(V){return V!==V}const Ct=function(){const V="0123456789abcdef",I=new Array(256);for(let k=0;k<16;++k){const Q=k*16;for(let X=0;X<16;++X)I[Q+X]=V[k]+V[X]}return I}();function jn(V){return typeof BigInt>"u"?it:V}function it(){throw new Error("BigInt not supported")}})(Xe);globalThis.Buffer=Xe.Buffer;globalThis.process={env:{},browser:!0,nextTick:t=>Promise.resolve().then(()=>t())};var KR={exports:{}},Ls={},GR={exports:{}},QR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,j){var H=L.length;L.push(j);e:for(;0<H;){var B=H-1>>>1,T=L[B];if(0<s(T,j))L[B]=j,L[H]=T,H=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var j=L[0],H=L.pop();if(H!==j){L[0]=H;e:for(var B=0,T=L.length,K=T>>>1;B<K;){var ae=2*(B+1)-1,ue=L[ae],he=ae+1,le=L[he];if(0>s(ue,H))he<T&&0>s(le,ue)?(L[B]=le,L[he]=H,B=he):(L[B]=ue,L[ae]=H,B=ae);else if(he<T&&0>s(le,H))L[B]=le,L[he]=H,B=he;else break e}}return j}function s(L,j){var H=L.sortIndex-j.sortIndex;return H!==0?H:L.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=L)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function S(L){if(g=!1,x(L),!v)if(n(l)!==null)v=!0,O(D);else{var j=n(c);j!==null&&z(S,j.startTime-L)}}function D(L,j){v=!1,g&&(g=!1,b(R),R=-1),m=!0;var H=p;try{for(x(j),f=n(l);f!==null&&(!(f.expirationTime>j)||L&&!$());){var B=f.callback;if(typeof B=="function"){f.callback=null,p=f.priorityLevel;var T=B(f.expirationTime<=j);j=t.unstable_now(),typeof T=="function"?f.callback=T:f===n(l)&&r(l),x(j)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var ae=n(c);ae!==null&&z(S,ae.startTime-j),K=!1}return K}finally{f=null,p=H,m=!1}}var F=!1,M=null,R=-1,U=5,W=-1;function $(){return!(t.unstable_now()-W<U)}function q(){if(M!==null){var L=t.unstable_now();W=L;var j=!0;try{j=M(!0,L)}finally{j?C():(F=!1,M=null)}}else F=!1}var C;if(typeof _=="function")C=function(){_(q)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,A=y.port2;y.port1.onmessage=q,C=function(){A.postMessage(null)}}else C=function(){w(q,0)};function O(L){M=L,F||(F=!0,C())}function z(L,j){R=w(function(){L(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,O(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var H=p;p=j;try{return L()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=p;p=L;try{return j()}finally{p=H}},t.unstable_scheduleCallback=function(L,j,H){var B=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?B+H:B):H=B,L){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=H+T,L={id:u++,callback:j,priorityLevel:L,startTime:H,expirationTime:T,sortIndex:-1},H>B?(L.sortIndex=H,e(c,L),n(l)===null&&L===n(c)&&(g?(b(R),R=-1):g=!0,z(S,H-B))):(L.sortIndex=T,e(l,L),v||m||(v=!0,O(D))),L},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(L){var j=p;return function(){var H=p;p=j;try{return L.apply(this,arguments)}finally{p=H}}}})(QR);GR.exports=QR;var U8=GR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V8=N,Os=U8;function me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YR=new Set,Xf={};function Kc(t,e){Bd(t,e),Bd(t+"Capture",e)}function Bd(t,e){for(Xf[t]=e,t=0;t<e.length;t++)YR.add(e[t])}var Uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wx=Object.prototype.hasOwnProperty,z8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,MI={},PI={};function W8(t){return Wx.call(PI,t)?!0:Wx.call(MI,t)?!1:z8.test(t)?PI[t]=!0:(MI[t]=!0,!1)}function $8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function H8(t,e,n,r){if(e===null||typeof e>"u"||$8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ss(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var _r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_r[t]=new ss(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_r[e]=new ss(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_r[t]=new ss(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_r[t]=new ss(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_r[t]=new ss(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_r[t]=new ss(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_r[t]=new ss(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_r[t]=new ss(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_r[t]=new ss(t,5,!1,t.toLowerCase(),null,!1,!1)});var FE=/[\-:]([a-z])/g;function UE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(FE,UE);_r[e]=new ss(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(FE,UE);_r[e]=new ss(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(FE,UE);_r[e]=new ss(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_r[t]=new ss(t,1,!1,t.toLowerCase(),null,!1,!1)});_r.xlinkHref=new ss("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_r[t]=new ss(t,1,!1,t.toLowerCase(),null,!0,!0)});function VE(t,e,n,r){var s=_r.hasOwnProperty(e)?_r[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(H8(e,n,s,r)&&(n=null),r||s===null?W8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ea=V8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Km=Symbol.for("react.element"),Vu=Symbol.for("react.portal"),zu=Symbol.for("react.fragment"),zE=Symbol.for("react.strict_mode"),$x=Symbol.for("react.profiler"),XR=Symbol.for("react.provider"),ZR=Symbol.for("react.context"),WE=Symbol.for("react.forward_ref"),Hx=Symbol.for("react.suspense"),qx=Symbol.for("react.suspense_list"),$E=Symbol.for("react.memo"),ba=Symbol.for("react.lazy"),JR=Symbol.for("react.offscreen"),OI=Symbol.iterator;function Hh(t){return t===null||typeof t!="object"?null:(t=OI&&t[OI]||t["@@iterator"],typeof t=="function"?t:null)}var bn=Object.assign,Jv;function df(t){if(Jv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jv=e&&e[1]||""}return`
`+Jv+t}var e1=!1;function t1(t,e){if(!t||e1)return"";e1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{e1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?df(t):""}function q8(t){switch(t.tag){case 5:return df(t.type);case 16:return df("Lazy");case 13:return df("Suspense");case 19:return df("SuspenseList");case 0:case 2:case 15:return t=t1(t.type,!1),t;case 11:return t=t1(t.type.render,!1),t;case 1:return t=t1(t.type,!0),t;default:return""}}function Kx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zu:return"Fragment";case Vu:return"Portal";case $x:return"Profiler";case zE:return"StrictMode";case Hx:return"Suspense";case qx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ZR:return(t.displayName||"Context")+".Consumer";case XR:return(t._context.displayName||"Context")+".Provider";case WE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $E:return e=t.displayName||null,e!==null?e:Kx(t.type)||"Memo";case ba:e=t._payload,t=t._init;try{return Kx(t(e))}catch{}}return null}function K8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kx(e);case 8:return e===zE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function G8(t){var e=eM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gm(t){t._valueTracker||(t._valueTracker=G8(t))}function tM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function j0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gx(t,e){var n=e.checked;return bn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function LI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nM(t,e){e=e.checked,e!=null&&VE(t,"checked",e,!1)}function Qx(t,e){nM(t,e);var n=hl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yx(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yx(t,e.type,hl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function DI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yx(t,e,n){(e!=="number"||j0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hf=Array.isArray;function ad(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hl(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Xx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(me(91));return bn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(me(92));if(hf(n)){if(1<n.length)throw Error(me(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hl(n)}}function rM(t,e){var n=hl(e.value),r=hl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function BI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qm,iM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qm=Qm||document.createElement("div"),Qm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q8=["Webkit","ms","Moz","O"];Object.keys(Mf).forEach(function(t){Q8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mf[e]=Mf[t]})});function oM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mf.hasOwnProperty(t)&&Mf[t]?(""+e).trim():e+"px"}function aM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=oM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Y8=bn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jx(t,e){if(e){if(Y8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(me(62))}}function eb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tb=null;function HE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nb=null,ld=null,cd=null;function FI(t){if(t=qp(t)){if(typeof nb!="function")throw Error(me(280));var e=t.stateNode;e&&(e=ww(e),nb(t.stateNode,t.type,e))}}function lM(t){ld?cd?cd.push(t):cd=[t]:ld=t}function cM(){if(ld){var t=ld,e=cd;if(cd=ld=null,FI(t),e)for(t=0;t<e.length;t++)FI(e[t])}}function uM(t,e){return t(e)}function dM(){}var n1=!1;function hM(t,e,n){if(n1)return t(e,n);n1=!0;try{return uM(t,e,n)}finally{n1=!1,(ld!==null||cd!==null)&&(dM(),cM())}}function Jf(t,e){var n=t.stateNode;if(n===null)return null;var r=ww(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(me(231,e,typeof n));return n}var rb=!1;if(Uo)try{var qh={};Object.defineProperty(qh,"passive",{get:function(){rb=!0}}),window.addEventListener("test",qh,qh),window.removeEventListener("test",qh,qh)}catch{rb=!1}function X8(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Pf=!1,B0=null,F0=!1,sb=null,Z8={onError:function(t){Pf=!0,B0=t}};function J8(t,e,n,r,s,i,o,a,l){Pf=!1,B0=null,X8.apply(Z8,arguments)}function eF(t,e,n,r,s,i,o,a,l){if(J8.apply(this,arguments),Pf){if(Pf){var c=B0;Pf=!1,B0=null}else throw Error(me(198));F0||(F0=!0,sb=c)}}function Gc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function UI(t){if(Gc(t)!==t)throw Error(me(188))}function tF(t){var e=t.alternate;if(!e){if(e=Gc(t),e===null)throw Error(me(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return UI(s),t;if(i===r)return UI(s),e;i=i.sibling}throw Error(me(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(me(189))}}if(n.alternate!==r)throw Error(me(190))}if(n.tag!==3)throw Error(me(188));return n.stateNode.current===n?t:e}function pM(t){return t=tF(t),t!==null?mM(t):null}function mM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mM(t);if(e!==null)return e;t=t.sibling}return null}var gM=Os.unstable_scheduleCallback,VI=Os.unstable_cancelCallback,nF=Os.unstable_shouldYield,rF=Os.unstable_requestPaint,On=Os.unstable_now,sF=Os.unstable_getCurrentPriorityLevel,qE=Os.unstable_ImmediatePriority,yM=Os.unstable_UserBlockingPriority,U0=Os.unstable_NormalPriority,iF=Os.unstable_LowPriority,wM=Os.unstable_IdlePriority,pw=null,Fi=null;function oF(t){if(Fi&&typeof Fi.onCommitFiberRoot=="function")try{Fi.onCommitFiberRoot(pw,t,void 0,(t.current.flags&128)===128)}catch{}}var yi=Math.clz32?Math.clz32:cF,aF=Math.log,lF=Math.LN2;function cF(t){return t>>>=0,t===0?32:31-(aF(t)/lF|0)|0}var Ym=64,Xm=4194304;function ff(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function V0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ff(a):(i&=o,i!==0&&(r=ff(i)))}else o=n&~s,o!==0?r=ff(o):i!==0&&(r=ff(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yi(e),s=1<<n,r|=t[n],e&=~s;return r}function uF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-yi(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=uF(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ib(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vM(){var t=Ym;return Ym<<=1,!(Ym&4194240)&&(Ym=64),t}function r1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $p(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yi(e),t[e]=n}function hF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-yi(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function KE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yi(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Mt=0;function xM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bM,GE,_M,EM,SM,ob=!1,Zm=[],Ya=null,Xa=null,Za=null,ep=new Map,tp=new Map,Ta=[],fF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zI(t,e){switch(t){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":ep.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tp.delete(e.pointerId)}}function Kh(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=qp(e),e!==null&&GE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function pF(t,e,n,r,s){switch(e){case"focusin":return Ya=Kh(Ya,t,e,n,r,s),!0;case"dragenter":return Xa=Kh(Xa,t,e,n,r,s),!0;case"mouseover":return Za=Kh(Za,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ep.set(i,Kh(ep.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,tp.set(i,Kh(tp.get(i)||null,t,e,n,r,s)),!0}return!1}function TM(t){var e=Zl(t.target);if(e!==null){var n=Gc(e);if(n!==null){if(e=n.tag,e===13){if(e=fM(n),e!==null){t.blockedOn=e,SM(t.priority,function(){_M(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ab(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tb=r,n.target.dispatchEvent(r),tb=null}else return e=qp(n),e!==null&&GE(e),t.blockedOn=n,!1;e.shift()}return!0}function WI(t,e,n){Fg(t)&&n.delete(e)}function mF(){ob=!1,Ya!==null&&Fg(Ya)&&(Ya=null),Xa!==null&&Fg(Xa)&&(Xa=null),Za!==null&&Fg(Za)&&(Za=null),ep.forEach(WI),tp.forEach(WI)}function Gh(t,e){t.blockedOn===e&&(t.blockedOn=null,ob||(ob=!0,Os.unstable_scheduleCallback(Os.unstable_NormalPriority,mF)))}function np(t){function e(s){return Gh(s,t)}if(0<Zm.length){Gh(Zm[0],t);for(var n=1;n<Zm.length;n++){var r=Zm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ya!==null&&Gh(Ya,t),Xa!==null&&Gh(Xa,t),Za!==null&&Gh(Za,t),ep.forEach(e),tp.forEach(e),n=0;n<Ta.length;n++)r=Ta[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ta.length&&(n=Ta[0],n.blockedOn===null);)TM(n),n.blockedOn===null&&Ta.shift()}var ud=ea.ReactCurrentBatchConfig,z0=!0;function gF(t,e,n,r){var s=Mt,i=ud.transition;ud.transition=null;try{Mt=1,QE(t,e,n,r)}finally{Mt=s,ud.transition=i}}function yF(t,e,n,r){var s=Mt,i=ud.transition;ud.transition=null;try{Mt=4,QE(t,e,n,r)}finally{Mt=s,ud.transition=i}}function QE(t,e,n,r){if(z0){var s=ab(t,e,n,r);if(s===null)f1(t,e,r,W0,n),zI(t,r);else if(pF(s,t,e,n,r))r.stopPropagation();else if(zI(t,r),e&4&&-1<fF.indexOf(t)){for(;s!==null;){var i=qp(s);if(i!==null&&bM(i),i=ab(t,e,n,r),i===null&&f1(t,e,r,W0,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else f1(t,e,r,null,n)}}var W0=null;function ab(t,e,n,r){if(W0=null,t=HE(r),t=Zl(t),t!==null)if(e=Gc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return W0=t,null}function AM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sF()){case qE:return 1;case yM:return 4;case U0:case iF:return 16;case wM:return 536870912;default:return 16}default:return 16}}var Wa=null,YE=null,Ug=null;function IM(){if(Ug)return Ug;var t,e=YE,n=e.length,r,s="value"in Wa?Wa.value:Wa.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ug=s.slice(t,1<r?1-r:void 0)}function Vg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jm(){return!0}function $I(){return!1}function Ds(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jm:$I,this.isPropagationStopped=$I,this}return bn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jm)},persist:function(){},isPersistent:Jm}),e}var mh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},XE=Ds(mh),Hp=bn({},mh,{view:0,detail:0}),wF=Ds(Hp),s1,i1,Qh,mw=bn({},Hp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ZE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qh&&(Qh&&t.type==="mousemove"?(s1=t.screenX-Qh.screenX,i1=t.screenY-Qh.screenY):i1=s1=0,Qh=t),s1)},movementY:function(t){return"movementY"in t?t.movementY:i1}}),HI=Ds(mw),vF=bn({},mw,{dataTransfer:0}),xF=Ds(vF),bF=bn({},Hp,{relatedTarget:0}),o1=Ds(bF),_F=bn({},mh,{animationName:0,elapsedTime:0,pseudoElement:0}),EF=Ds(_F),SF=bn({},mh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TF=Ds(SF),AF=bn({},mh,{data:0}),qI=Ds(AF),IF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kF[t])?!!e[t]:!1}function ZE(){return NF}var RF=bn({},Hp,{key:function(t){if(t.key){var e=IF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ZE,charCode:function(t){return t.type==="keypress"?Vg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MF=Ds(RF),PF=bn({},mw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KI=Ds(PF),OF=bn({},Hp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ZE}),LF=Ds(OF),DF=bn({},mh,{propertyName:0,elapsedTime:0,pseudoElement:0}),jF=Ds(DF),BF=bn({},mw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FF=Ds(BF),UF=[9,13,27,32],JE=Uo&&"CompositionEvent"in window,Of=null;Uo&&"documentMode"in document&&(Of=document.documentMode);var VF=Uo&&"TextEvent"in window&&!Of,CM=Uo&&(!JE||Of&&8<Of&&11>=Of),GI=" ",QI=!1;function kM(t,e){switch(t){case"keyup":return UF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wu=!1;function zF(t,e){switch(t){case"compositionend":return NM(e);case"keypress":return e.which!==32?null:(QI=!0,GI);case"textInput":return t=e.data,t===GI&&QI?null:t;default:return null}}function WF(t,e){if(Wu)return t==="compositionend"||!JE&&kM(t,e)?(t=IM(),Ug=YE=Wa=null,Wu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CM&&e.locale!=="ko"?null:e.data;default:return null}}var $F={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$F[t.type]:e==="textarea"}function RM(t,e,n,r){lM(r),e=$0(e,"onChange"),0<e.length&&(n=new XE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Lf=null,rp=null;function HF(t){zM(t,0)}function gw(t){var e=qu(t);if(tM(e))return t}function qF(t,e){if(t==="change")return e}var MM=!1;if(Uo){var a1;if(Uo){var l1="oninput"in document;if(!l1){var XI=document.createElement("div");XI.setAttribute("oninput","return;"),l1=typeof XI.oninput=="function"}a1=l1}else a1=!1;MM=a1&&(!document.documentMode||9<document.documentMode)}function ZI(){Lf&&(Lf.detachEvent("onpropertychange",PM),rp=Lf=null)}function PM(t){if(t.propertyName==="value"&&gw(rp)){var e=[];RM(e,rp,t,HE(t)),hM(HF,e)}}function KF(t,e,n){t==="focusin"?(ZI(),Lf=e,rp=n,Lf.attachEvent("onpropertychange",PM)):t==="focusout"&&ZI()}function GF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gw(rp)}function QF(t,e){if(t==="click")return gw(e)}function YF(t,e){if(t==="input"||t==="change")return gw(e)}function XF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bi=typeof Object.is=="function"?Object.is:XF;function sp(t,e){if(bi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wx.call(e,s)||!bi(t[s],e[s]))return!1}return!0}function JI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eC(t,e){var n=JI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=JI(n)}}function OM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LM(){for(var t=window,e=j0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=j0(t.document)}return e}function eS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZF(t){var e=LM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OM(n.ownerDocument.documentElement,n)){if(r!==null&&eS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=eC(n,i);var o=eC(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JF=Uo&&"documentMode"in document&&11>=document.documentMode,$u=null,lb=null,Df=null,cb=!1;function tC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cb||$u==null||$u!==j0(r)||(r=$u,"selectionStart"in r&&eS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Df&&sp(Df,r)||(Df=r,r=$0(lb,"onSelect"),0<r.length&&(e=new XE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$u)))}function eg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hu={animationend:eg("Animation","AnimationEnd"),animationiteration:eg("Animation","AnimationIteration"),animationstart:eg("Animation","AnimationStart"),transitionend:eg("Transition","TransitionEnd")},c1={},DM={};Uo&&(DM=document.createElement("div").style,"AnimationEvent"in window||(delete Hu.animationend.animation,delete Hu.animationiteration.animation,delete Hu.animationstart.animation),"TransitionEvent"in window||delete Hu.transitionend.transition);function yw(t){if(c1[t])return c1[t];if(!Hu[t])return t;var e=Hu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DM)return c1[t]=e[n];return t}var jM=yw("animationend"),BM=yw("animationiteration"),FM=yw("animationstart"),UM=yw("transitionend"),VM=new Map,nC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sl(t,e){VM.set(t,e),Kc(e,[t])}for(var u1=0;u1<nC.length;u1++){var d1=nC[u1],eU=d1.toLowerCase(),tU=d1[0].toUpperCase()+d1.slice(1);Sl(eU,"on"+tU)}Sl(jM,"onAnimationEnd");Sl(BM,"onAnimationIteration");Sl(FM,"onAnimationStart");Sl("dblclick","onDoubleClick");Sl("focusin","onFocus");Sl("focusout","onBlur");Sl(UM,"onTransitionEnd");Bd("onMouseEnter",["mouseout","mouseover"]);Bd("onMouseLeave",["mouseout","mouseover"]);Bd("onPointerEnter",["pointerout","pointerover"]);Bd("onPointerLeave",["pointerout","pointerover"]);Kc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nU=new Set("cancel close invalid load scroll toggle".split(" ").concat(pf));function rC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eF(r,e,void 0,t),t.currentTarget=null}function zM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;rC(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;rC(s,a,c),i=l}}}if(F0)throw t=sb,F0=!1,sb=null,t}function en(t,e){var n=e[pb];n===void 0&&(n=e[pb]=new Set);var r=t+"__bubble";n.has(r)||(WM(e,t,2,!1),n.add(r))}function h1(t,e,n){var r=0;e&&(r|=4),WM(n,t,r,e)}var tg="_reactListening"+Math.random().toString(36).slice(2);function ip(t){if(!t[tg]){t[tg]=!0,YR.forEach(function(n){n!=="selectionchange"&&(nU.has(n)||h1(n,!1,t),h1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tg]||(e[tg]=!0,h1("selectionchange",!1,e))}}function WM(t,e,n,r){switch(AM(e)){case 1:var s=gF;break;case 4:s=yF;break;default:s=QE}n=s.bind(null,e,n,t),s=void 0,!rb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function f1(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zl(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}hM(function(){var c=i,u=HE(n),f=[];e:{var p=VM.get(t);if(p!==void 0){var m=XE,v=t;switch(t){case"keypress":if(Vg(n)===0)break e;case"keydown":case"keyup":m=MF;break;case"focusin":v="focus",m=o1;break;case"focusout":v="blur",m=o1;break;case"beforeblur":case"afterblur":m=o1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=HI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=LF;break;case jM:case BM:case FM:m=EF;break;case UM:m=jF;break;case"scroll":m=wF;break;case"wheel":m=FF;break;case"copy":case"cut":case"paste":m=TF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=KI}var g=(e&4)!==0,w=!g&&t==="scroll",b=g?p!==null?p+"Capture":null:p;g=[];for(var _=c,x;_!==null;){x=_;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,b!==null&&(S=Jf(_,b),S!=null&&g.push(op(_,S,x)))),w)break;_=_.return}0<g.length&&(p=new m(p,v,null,n,u),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==tb&&(v=n.relatedTarget||n.fromElement)&&(Zl(v)||v[Vo]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Zl(v):null,v!==null&&(w=Gc(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(g=HI,S="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=KI,S="onPointerLeave",b="onPointerEnter",_="pointer"),w=m==null?p:qu(m),x=v==null?p:qu(v),p=new g(S,_+"leave",m,n,u),p.target=w,p.relatedTarget=x,S=null,Zl(u)===c&&(g=new g(b,_+"enter",v,n,u),g.target=x,g.relatedTarget=w,S=g),w=S,m&&v)t:{for(g=m,b=v,_=0,x=g;x;x=wu(x))_++;for(x=0,S=b;S;S=wu(S))x++;for(;0<_-x;)g=wu(g),_--;for(;0<x-_;)b=wu(b),x--;for(;_--;){if(g===b||b!==null&&g===b.alternate)break t;g=wu(g),b=wu(b)}g=null}else g=null;m!==null&&sC(f,p,m,g,!1),v!==null&&w!==null&&sC(f,w,v,g,!0)}}e:{if(p=c?qu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var D=qF;else if(YI(p))if(MM)D=YF;else{D=GF;var F=KF}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=QF);if(D&&(D=D(t,c))){RM(f,D,n,u);break e}F&&F(t,p,c),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&Yx(p,"number",p.value)}switch(F=c?qu(c):window,t){case"focusin":(YI(F)||F.contentEditable==="true")&&($u=F,lb=c,Df=null);break;case"focusout":Df=lb=$u=null;break;case"mousedown":cb=!0;break;case"contextmenu":case"mouseup":case"dragend":cb=!1,tC(f,n,u);break;case"selectionchange":if(JF)break;case"keydown":case"keyup":tC(f,n,u)}var M;if(JE)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Wu?kM(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(CM&&n.locale!=="ko"&&(Wu||R!=="onCompositionStart"?R==="onCompositionEnd"&&Wu&&(M=IM()):(Wa=u,YE="value"in Wa?Wa.value:Wa.textContent,Wu=!0)),F=$0(c,R),0<F.length&&(R=new qI(R,t,null,n,u),f.push({event:R,listeners:F}),M?R.data=M:(M=NM(n),M!==null&&(R.data=M)))),(M=VF?zF(t,n):WF(t,n))&&(c=$0(c,"onBeforeInput"),0<c.length&&(u=new qI("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=M))}zM(f,e)})}function op(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $0(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jf(t,n),i!=null&&r.unshift(op(t,i,s)),i=Jf(t,e),i!=null&&r.push(op(t,i,s))),t=t.return}return r}function wu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sC(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Jf(n,i),l!=null&&o.unshift(op(n,l,a))):s||(l=Jf(n,i),l!=null&&o.push(op(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var rU=/\r\n?/g,sU=/\u0000|\uFFFD/g;function iC(t){return(typeof t=="string"?t:""+t).replace(rU,`
`).replace(sU,"")}function ng(t,e,n){if(e=iC(e),iC(t)!==e&&n)throw Error(me(425))}function H0(){}var ub=null,db=null;function hb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fb=typeof setTimeout=="function"?setTimeout:void 0,iU=typeof clearTimeout=="function"?clearTimeout:void 0,oC=typeof Promise=="function"?Promise:void 0,oU=typeof queueMicrotask=="function"?queueMicrotask:typeof oC<"u"?function(t){return oC.resolve(null).then(t).catch(aU)}:fb;function aU(t){setTimeout(function(){throw t})}function p1(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),np(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);np(e)}function Ja(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function aC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gh=Math.random().toString(36).slice(2),ji="__reactFiber$"+gh,ap="__reactProps$"+gh,Vo="__reactContainer$"+gh,pb="__reactEvents$"+gh,lU="__reactListeners$"+gh,cU="__reactHandles$"+gh;function Zl(t){var e=t[ji];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vo]||n[ji]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=aC(t);t!==null;){if(n=t[ji])return n;t=aC(t)}return e}t=n,n=t.parentNode}return null}function qp(t){return t=t[ji]||t[Vo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(me(33))}function ww(t){return t[ap]||null}var mb=[],Ku=-1;function Tl(t){return{current:t}}function nn(t){0>Ku||(t.current=mb[Ku],mb[Ku]=null,Ku--)}function Qt(t,e){Ku++,mb[Ku]=t.current,t.current=e}var fl={},$r=Tl(fl),ps=Tl(!1),Ac=fl;function Fd(t,e){var n=t.type.contextTypes;if(!n)return fl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ms(t){return t=t.childContextTypes,t!=null}function q0(){nn(ps),nn($r)}function lC(t,e,n){if($r.current!==fl)throw Error(me(168));Qt($r,e),Qt(ps,n)}function $M(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(me(108,K8(t)||"Unknown",s));return bn({},n,r)}function K0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fl,Ac=$r.current,Qt($r,t),Qt(ps,ps.current),!0}function cC(t,e,n){var r=t.stateNode;if(!r)throw Error(me(169));n?(t=$M(t,e,Ac),r.__reactInternalMemoizedMergedChildContext=t,nn(ps),nn($r),Qt($r,t)):nn(ps),Qt(ps,n)}var yo=null,vw=!1,m1=!1;function HM(t){yo===null?yo=[t]:yo.push(t)}function uU(t){vw=!0,HM(t)}function Al(){if(!m1&&yo!==null){m1=!0;var t=0,e=Mt;try{var n=yo;for(Mt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yo=null,vw=!1}catch(s){throw yo!==null&&(yo=yo.slice(t+1)),gM(qE,Al),s}finally{Mt=e,m1=!1}}return null}var Gu=[],Qu=0,G0=null,Q0=0,Hs=[],qs=0,Ic=null,No=1,Ro="";function Vl(t,e){Gu[Qu++]=Q0,Gu[Qu++]=G0,G0=t,Q0=e}function qM(t,e,n){Hs[qs++]=No,Hs[qs++]=Ro,Hs[qs++]=Ic,Ic=t;var r=No;t=Ro;var s=32-yi(r)-1;r&=~(1<<s),n+=1;var i=32-yi(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,No=1<<32-yi(e)+s|n<<s|r,Ro=i+t}else No=1<<i|n<<s|r,Ro=t}function tS(t){t.return!==null&&(Vl(t,1),qM(t,1,0))}function nS(t){for(;t===G0;)G0=Gu[--Qu],Gu[Qu]=null,Q0=Gu[--Qu],Gu[Qu]=null;for(;t===Ic;)Ic=Hs[--qs],Hs[qs]=null,Ro=Hs[--qs],Hs[qs]=null,No=Hs[--qs],Hs[qs]=null}var Rs=null,ks=null,cn=!1,di=null;function KM(t,e){var n=Ks(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rs=t,ks=Ja(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rs=t,ks=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ic!==null?{id:No,overflow:Ro}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ks(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rs=t,ks=null,!0):!1;default:return!1}}function gb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yb(t){if(cn){var e=ks;if(e){var n=e;if(!uC(t,e)){if(gb(t))throw Error(me(418));e=Ja(n.nextSibling);var r=Rs;e&&uC(t,e)?KM(r,n):(t.flags=t.flags&-4097|2,cn=!1,Rs=t)}}else{if(gb(t))throw Error(me(418));t.flags=t.flags&-4097|2,cn=!1,Rs=t}}}function dC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rs=t}function rg(t){if(t!==Rs)return!1;if(!cn)return dC(t),cn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hb(t.type,t.memoizedProps)),e&&(e=ks)){if(gb(t))throw GM(),Error(me(418));for(;e;)KM(t,e),e=Ja(e.nextSibling)}if(dC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ks=Ja(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ks=null}}else ks=Rs?Ja(t.stateNode.nextSibling):null;return!0}function GM(){for(var t=ks;t;)t=Ja(t.nextSibling)}function Ud(){ks=Rs=null,cn=!1}function rS(t){di===null?di=[t]:di.push(t)}var dU=ea.ReactCurrentBatchConfig;function Yh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(me(309));var r=n.stateNode}if(!r)throw Error(me(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(me(284));if(!n._owner)throw Error(me(290,t))}return t}function sg(t,e){throw t=Object.prototype.toString.call(e),Error(me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hC(t){var e=t._init;return e(t._payload)}function QM(t){function e(b,_){if(t){var x=b.deletions;x===null?(b.deletions=[_],b.flags|=16):x.push(_)}}function n(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function r(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function s(b,_){return b=rl(b,_),b.index=0,b.sibling=null,b}function i(b,_,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<_?(b.flags|=2,_):x):(b.flags|=2,_)):(b.flags|=1048576,_)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,_,x,S){return _===null||_.tag!==6?(_=_1(x,b.mode,S),_.return=b,_):(_=s(_,x),_.return=b,_)}function l(b,_,x,S){var D=x.type;return D===zu?u(b,_,x.props.children,S,x.key):_!==null&&(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ba&&hC(D)===_.type)?(S=s(_,x.props),S.ref=Yh(b,_,x),S.return=b,S):(S=Gg(x.type,x.key,x.props,null,b.mode,S),S.ref=Yh(b,_,x),S.return=b,S)}function c(b,_,x,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=E1(x,b.mode,S),_.return=b,_):(_=s(_,x.children||[]),_.return=b,_)}function u(b,_,x,S,D){return _===null||_.tag!==7?(_=vc(x,b.mode,S,D),_.return=b,_):(_=s(_,x),_.return=b,_)}function f(b,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=_1(""+_,b.mode,x),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Km:return x=Gg(_.type,_.key,_.props,null,b.mode,x),x.ref=Yh(b,null,_),x.return=b,x;case Vu:return _=E1(_,b.mode,x),_.return=b,_;case ba:var S=_._init;return f(b,S(_._payload),x)}if(hf(_)||Hh(_))return _=vc(_,b.mode,x,null),_.return=b,_;sg(b,_)}return null}function p(b,_,x,S){var D=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:a(b,_,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Km:return x.key===D?l(b,_,x,S):null;case Vu:return x.key===D?c(b,_,x,S):null;case ba:return D=x._init,p(b,_,D(x._payload),S)}if(hf(x)||Hh(x))return D!==null?null:u(b,_,x,S,null);sg(b,x)}return null}function m(b,_,x,S,D){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(x)||null,a(_,b,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Km:return b=b.get(S.key===null?x:S.key)||null,l(_,b,S,D);case Vu:return b=b.get(S.key===null?x:S.key)||null,c(_,b,S,D);case ba:var F=S._init;return m(b,_,x,F(S._payload),D)}if(hf(S)||Hh(S))return b=b.get(x)||null,u(_,b,S,D,null);sg(_,S)}return null}function v(b,_,x,S){for(var D=null,F=null,M=_,R=_=0,U=null;M!==null&&R<x.length;R++){M.index>R?(U=M,M=null):U=M.sibling;var W=p(b,M,x[R],S);if(W===null){M===null&&(M=U);break}t&&M&&W.alternate===null&&e(b,M),_=i(W,_,R),F===null?D=W:F.sibling=W,F=W,M=U}if(R===x.length)return n(b,M),cn&&Vl(b,R),D;if(M===null){for(;R<x.length;R++)M=f(b,x[R],S),M!==null&&(_=i(M,_,R),F===null?D=M:F.sibling=M,F=M);return cn&&Vl(b,R),D}for(M=r(b,M);R<x.length;R++)U=m(M,b,R,x[R],S),U!==null&&(t&&U.alternate!==null&&M.delete(U.key===null?R:U.key),_=i(U,_,R),F===null?D=U:F.sibling=U,F=U);return t&&M.forEach(function($){return e(b,$)}),cn&&Vl(b,R),D}function g(b,_,x,S){var D=Hh(x);if(typeof D!="function")throw Error(me(150));if(x=D.call(x),x==null)throw Error(me(151));for(var F=D=null,M=_,R=_=0,U=null,W=x.next();M!==null&&!W.done;R++,W=x.next()){M.index>R?(U=M,M=null):U=M.sibling;var $=p(b,M,W.value,S);if($===null){M===null&&(M=U);break}t&&M&&$.alternate===null&&e(b,M),_=i($,_,R),F===null?D=$:F.sibling=$,F=$,M=U}if(W.done)return n(b,M),cn&&Vl(b,R),D;if(M===null){for(;!W.done;R++,W=x.next())W=f(b,W.value,S),W!==null&&(_=i(W,_,R),F===null?D=W:F.sibling=W,F=W);return cn&&Vl(b,R),D}for(M=r(b,M);!W.done;R++,W=x.next())W=m(M,b,R,W.value,S),W!==null&&(t&&W.alternate!==null&&M.delete(W.key===null?R:W.key),_=i(W,_,R),F===null?D=W:F.sibling=W,F=W);return t&&M.forEach(function(q){return e(b,q)}),cn&&Vl(b,R),D}function w(b,_,x,S){if(typeof x=="object"&&x!==null&&x.type===zu&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Km:e:{for(var D=x.key,F=_;F!==null;){if(F.key===D){if(D=x.type,D===zu){if(F.tag===7){n(b,F.sibling),_=s(F,x.props.children),_.return=b,b=_;break e}}else if(F.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ba&&hC(D)===F.type){n(b,F.sibling),_=s(F,x.props),_.ref=Yh(b,F,x),_.return=b,b=_;break e}n(b,F);break}else e(b,F);F=F.sibling}x.type===zu?(_=vc(x.props.children,b.mode,S,x.key),_.return=b,b=_):(S=Gg(x.type,x.key,x.props,null,b.mode,S),S.ref=Yh(b,_,x),S.return=b,b=S)}return o(b);case Vu:e:{for(F=x.key;_!==null;){if(_.key===F)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(b,_.sibling),_=s(_,x.children||[]),_.return=b,b=_;break e}else{n(b,_);break}else e(b,_);_=_.sibling}_=E1(x,b.mode,S),_.return=b,b=_}return o(b);case ba:return F=x._init,w(b,_,F(x._payload),S)}if(hf(x))return v(b,_,x,S);if(Hh(x))return g(b,_,x,S);sg(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(b,_.sibling),_=s(_,x),_.return=b,b=_):(n(b,_),_=_1(x,b.mode,S),_.return=b,b=_),o(b)):n(b,_)}return w}var Vd=QM(!0),YM=QM(!1),Y0=Tl(null),X0=null,Yu=null,sS=null;function iS(){sS=Yu=X0=null}function oS(t){var e=Y0.current;nn(Y0),t._currentValue=e}function wb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dd(t,e){X0=t,sS=Yu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hs=!0),t.firstContext=null)}function Xs(t){var e=t._currentValue;if(sS!==t)if(t={context:t,memoizedValue:e,next:null},Yu===null){if(X0===null)throw Error(me(308));Yu=t,X0.dependencies={lanes:0,firstContext:t}}else Yu=Yu.next=t;return e}var Jl=null;function aS(t){Jl===null?Jl=[t]:Jl.push(t)}function XM(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,aS(e)):(n.next=s.next,s.next=n),e.interleaved=n,zo(t,r)}function zo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _a=!1;function lS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function el(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,gt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,zo(t,n)}return s=r.interleaved,s===null?(e.next=e,aS(r)):(e.next=s.next,s.next=e),r.interleaved=e,zo(t,n)}function zg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,KE(t,n)}}function fC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Z0(t,e,n,r){var s=t.updateQueue;_a=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(p=e,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=bn({},f,p);break e;case 2:_a=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);kc|=o,t.lanes=o,t.memoizedState=f}}function pC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(me(191,s));s.call(r)}}}var Kp={},Ui=Tl(Kp),lp=Tl(Kp),cp=Tl(Kp);function ec(t){if(t===Kp)throw Error(me(174));return t}function cS(t,e){switch(Qt(cp,e),Qt(lp,t),Qt(Ui,Kp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zx(e,t)}nn(Ui),Qt(Ui,e)}function zd(){nn(Ui),nn(lp),nn(cp)}function JM(t){ec(cp.current);var e=ec(Ui.current),n=Zx(e,t.type);e!==n&&(Qt(lp,t),Qt(Ui,n))}function uS(t){lp.current===t&&(nn(Ui),nn(lp))}var wn=Tl(0);function J0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var g1=[];function dS(){for(var t=0;t<g1.length;t++)g1[t]._workInProgressVersionPrimary=null;g1.length=0}var Wg=ea.ReactCurrentDispatcher,y1=ea.ReactCurrentBatchConfig,Cc=0,xn=null,Gn=null,tr=null,ey=!1,jf=!1,up=0,hU=0;function Ir(){throw Error(me(321))}function hS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bi(t[n],e[n]))return!1;return!0}function fS(t,e,n,r,s,i){if(Cc=i,xn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wg.current=t===null||t.memoizedState===null?gU:yU,t=n(r,s),jf){i=0;do{if(jf=!1,up=0,25<=i)throw Error(me(301));i+=1,tr=Gn=null,e.updateQueue=null,Wg.current=wU,t=n(r,s)}while(jf)}if(Wg.current=ty,e=Gn!==null&&Gn.next!==null,Cc=0,tr=Gn=xn=null,ey=!1,e)throw Error(me(300));return t}function pS(){var t=up!==0;return up=0,t}function Mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?xn.memoizedState=tr=t:tr=tr.next=t,tr}function Zs(){if(Gn===null){var t=xn.alternate;t=t!==null?t.memoizedState:null}else t=Gn.next;var e=tr===null?xn.memoizedState:tr.next;if(e!==null)tr=e,Gn=t;else{if(t===null)throw Error(me(310));Gn=t,t={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},tr===null?xn.memoizedState=tr=t:tr=tr.next=t}return tr}function dp(t,e){return typeof e=="function"?e(t):e}function w1(t){var e=Zs(),n=e.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=t;var r=Gn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Cc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,xn.lanes|=u,kc|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,bi(r,e.memoizedState)||(hs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,xn.lanes|=i,kc|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function v1(t){var e=Zs(),n=e.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);bi(i,e.memoizedState)||(hs=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function eP(){}function tP(t,e){var n=xn,r=Zs(),s=e(),i=!bi(r.memoizedState,s);if(i&&(r.memoizedState=s,hs=!0),r=r.queue,mS(sP.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||tr!==null&&tr.memoizedState.tag&1){if(n.flags|=2048,hp(9,rP.bind(null,n,r,s,e),void 0,null),rr===null)throw Error(me(349));Cc&30||nP(n,e,s)}return s}function nP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xn.updateQueue,e===null?(e={lastEffect:null,stores:null},xn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rP(t,e,n,r){e.value=n,e.getSnapshot=r,iP(e)&&oP(t)}function sP(t,e,n){return n(function(){iP(e)&&oP(t)})}function iP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bi(t,n)}catch{return!0}}function oP(t){var e=zo(t,1);e!==null&&wi(e,t,1,-1)}function mC(t){var e=Mi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:t},e.queue=t,t=t.dispatch=mU.bind(null,xn,t),[e.memoizedState,t]}function hp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xn.updateQueue,e===null?(e={lastEffect:null,stores:null},xn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aP(){return Zs().memoizedState}function $g(t,e,n,r){var s=Mi();xn.flags|=t,s.memoizedState=hp(1|e,n,void 0,r===void 0?null:r)}function xw(t,e,n,r){var s=Zs();r=r===void 0?null:r;var i=void 0;if(Gn!==null){var o=Gn.memoizedState;if(i=o.destroy,r!==null&&hS(r,o.deps)){s.memoizedState=hp(e,n,i,r);return}}xn.flags|=t,s.memoizedState=hp(1|e,n,i,r)}function gC(t,e){return $g(8390656,8,t,e)}function mS(t,e){return xw(2048,8,t,e)}function lP(t,e){return xw(4,2,t,e)}function cP(t,e){return xw(4,4,t,e)}function uP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dP(t,e,n){return n=n!=null?n.concat([t]):null,xw(4,4,uP.bind(null,e,t),n)}function gS(){}function hP(t,e){var n=Zs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fP(t,e){var n=Zs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pP(t,e,n){return Cc&21?(bi(n,e)||(n=vM(),xn.lanes|=n,kc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hs=!0),t.memoizedState=n)}function fU(t,e){var n=Mt;Mt=n!==0&&4>n?n:4,t(!0);var r=y1.transition;y1.transition={};try{t(!1),e()}finally{Mt=n,y1.transition=r}}function mP(){return Zs().memoizedState}function pU(t,e,n){var r=nl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gP(t))yP(e,n);else if(n=XM(t,e,n,r),n!==null){var s=ts();wi(n,t,r,s),wP(n,e,r)}}function mU(t,e,n){var r=nl(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gP(t))yP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,bi(a,o)){var l=e.interleaved;l===null?(s.next=s,aS(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=XM(t,e,s,r),n!==null&&(s=ts(),wi(n,t,r,s),wP(n,e,r))}}function gP(t){var e=t.alternate;return t===xn||e!==null&&e===xn}function yP(t,e){jf=ey=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,KE(t,n)}}var ty={readContext:Xs,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},gU={readContext:Xs,useCallback:function(t,e){return Mi().memoizedState=[t,e===void 0?null:e],t},useContext:Xs,useEffect:gC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$g(4194308,4,uP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $g(4194308,4,t,e)},useInsertionEffect:function(t,e){return $g(4,2,t,e)},useMemo:function(t,e){var n=Mi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pU.bind(null,xn,t),[r.memoizedState,t]},useRef:function(t){var e=Mi();return t={current:t},e.memoizedState=t},useState:mC,useDebugValue:gS,useDeferredValue:function(t){return Mi().memoizedState=t},useTransition:function(){var t=mC(!1),e=t[0];return t=fU.bind(null,t[1]),Mi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xn,s=Mi();if(cn){if(n===void 0)throw Error(me(407));n=n()}else{if(n=e(),rr===null)throw Error(me(349));Cc&30||nP(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,gC(sP.bind(null,r,i,t),[t]),r.flags|=2048,hp(9,rP.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mi(),e=rr.identifierPrefix;if(cn){var n=Ro,r=No;n=(r&~(1<<32-yi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=up++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yU={readContext:Xs,useCallback:hP,useContext:Xs,useEffect:mS,useImperativeHandle:dP,useInsertionEffect:lP,useLayoutEffect:cP,useMemo:fP,useReducer:w1,useRef:aP,useState:function(){return w1(dp)},useDebugValue:gS,useDeferredValue:function(t){var e=Zs();return pP(e,Gn.memoizedState,t)},useTransition:function(){var t=w1(dp)[0],e=Zs().memoizedState;return[t,e]},useMutableSource:eP,useSyncExternalStore:tP,useId:mP,unstable_isNewReconciler:!1},wU={readContext:Xs,useCallback:hP,useContext:Xs,useEffect:mS,useImperativeHandle:dP,useInsertionEffect:lP,useLayoutEffect:cP,useMemo:fP,useReducer:v1,useRef:aP,useState:function(){return v1(dp)},useDebugValue:gS,useDeferredValue:function(t){var e=Zs();return Gn===null?e.memoizedState=t:pP(e,Gn.memoizedState,t)},useTransition:function(){var t=v1(dp)[0],e=Zs().memoizedState;return[t,e]},useMutableSource:eP,useSyncExternalStore:tP,useId:mP,unstable_isNewReconciler:!1};function oi(t,e){if(t&&t.defaultProps){e=bn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bw={isMounted:function(t){return(t=t._reactInternals)?Gc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ts(),s=nl(t),i=jo(r,s);i.payload=e,n!=null&&(i.callback=n),e=el(t,i,s),e!==null&&(wi(e,t,s,r),zg(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ts(),s=nl(t),i=jo(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=el(t,i,s),e!==null&&(wi(e,t,s,r),zg(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ts(),r=nl(t),s=jo(n,r);s.tag=2,e!=null&&(s.callback=e),e=el(t,s,r),e!==null&&(wi(e,t,r,n),zg(e,t,r))}};function yC(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!sp(n,r)||!sp(s,i):!0}function vP(t,e,n){var r=!1,s=fl,i=e.contextType;return typeof i=="object"&&i!==null?i=Xs(i):(s=ms(e)?Ac:$r.current,r=e.contextTypes,i=(r=r!=null)?Fd(t,s):fl),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function wC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bw.enqueueReplaceState(e,e.state,null)}function xb(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},lS(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Xs(i):(i=ms(e)?Ac:$r.current,s.context=Fd(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vb(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&bw.enqueueReplaceState(s,s.state,null),Z0(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Wd(t,e){try{var n="",r=e;do n+=q8(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function x1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vU=typeof WeakMap=="function"?WeakMap:Map;function xP(t,e,n){n=jo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ry||(ry=!0,Rb=r),bb(t,e)},n}function bP(t,e,n){n=jo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){bb(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bb(t,e),typeof r!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function vC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vU;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=PU.bind(null,t,e,n),e.then(t,t))}function xC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bC(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jo(-1,1),e.tag=2,el(n,e,1))),n.lanes|=1),t)}var xU=ea.ReactCurrentOwner,hs=!1;function Yr(t,e,n,r){e.child=t===null?YM(e,null,n,r):Vd(e,t.child,n,r)}function _C(t,e,n,r,s){n=n.render;var i=e.ref;return dd(e,s),r=fS(t,e,n,r,i,s),n=pS(),t!==null&&!hs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wo(t,e,s)):(cn&&n&&tS(e),e.flags|=1,Yr(t,e,r,s),e.child)}function EC(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!SS(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,_P(t,e,i,r,s)):(t=Gg(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:sp,n(o,r)&&t.ref===e.ref)return Wo(t,e,s)}return e.flags|=1,t=rl(i,r),t.ref=e.ref,t.return=e,e.child=t}function _P(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(sp(i,r)&&t.ref===e.ref)if(hs=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(hs=!0);else return e.lanes=t.lanes,Wo(t,e,s)}return _b(t,e,n,r,s)}function EP(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(Zu,_s),_s|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qt(Zu,_s),_s|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Qt(Zu,_s),_s|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Qt(Zu,_s),_s|=r;return Yr(t,e,s,n),e.child}function SP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _b(t,e,n,r,s){var i=ms(n)?Ac:$r.current;return i=Fd(e,i),dd(e,s),n=fS(t,e,n,r,i,s),r=pS(),t!==null&&!hs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wo(t,e,s)):(cn&&r&&tS(e),e.flags|=1,Yr(t,e,n,s),e.child)}function SC(t,e,n,r,s){if(ms(n)){var i=!0;K0(e)}else i=!1;if(dd(e,s),e.stateNode===null)Hg(t,e),vP(e,n,r),xb(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xs(c):(c=ms(n)?Ac:$r.current,c=Fd(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&wC(e,o,r,c),_a=!1;var p=e.memoizedState;o.state=p,Z0(e,r,o,s),l=e.memoizedState,a!==r||p!==l||ps.current||_a?(typeof u=="function"&&(vb(e,n,u,r),l=e.memoizedState),(a=_a||yC(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZM(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:oi(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xs(l):(l=ms(n)?Ac:$r.current,l=Fd(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&wC(e,o,r,l),_a=!1,p=e.memoizedState,o.state=p,Z0(e,r,o,s);var v=e.memoizedState;a!==f||p!==v||ps.current||_a?(typeof m=="function"&&(vb(e,n,m,r),v=e.memoizedState),(c=_a||yC(e,n,c,r,p,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Eb(t,e,n,r,i,s)}function Eb(t,e,n,r,s,i){SP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&cC(e,n,!1),Wo(t,e,i);r=e.stateNode,xU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vd(e,t.child,null,i),e.child=Vd(e,null,a,i)):Yr(t,e,a,i),e.memoizedState=r.state,s&&cC(e,n,!0),e.child}function TP(t){var e=t.stateNode;e.pendingContext?lC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lC(t,e.context,!1),cS(t,e.containerInfo)}function TC(t,e,n,r,s){return Ud(),rS(s),e.flags|=256,Yr(t,e,n,r),e.child}var Sb={dehydrated:null,treeContext:null,retryLane:0};function Tb(t){return{baseLanes:t,cachePool:null,transitions:null}}function AP(t,e,n){var r=e.pendingProps,s=wn.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Qt(wn,s&1),t===null)return yb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Sw(o,r,0,null),t=vc(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Tb(n),e.memoizedState=Sb,t):yS(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return bU(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=rl(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=rl(a,i):(i=vc(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Tb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Sb,r}return i=t.child,t=i.sibling,r=rl(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yS(t,e){return e=Sw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ig(t,e,n,r){return r!==null&&rS(r),Vd(e,t.child,null,n),t=yS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bU(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=x1(Error(me(422))),ig(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Sw({mode:"visible",children:r.children},s,0,null),i=vc(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Vd(e,t.child,null,o),e.child.memoizedState=Tb(o),e.memoizedState=Sb,i);if(!(e.mode&1))return ig(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(me(419)),r=x1(i,r,void 0),ig(t,e,o,r)}if(a=(o&t.childLanes)!==0,hs||a){if(r=rr,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zo(t,s),wi(r,t,s,-1))}return ES(),r=x1(Error(me(421))),ig(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=OU.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ks=Ja(s.nextSibling),Rs=e,cn=!0,di=null,t!==null&&(Hs[qs++]=No,Hs[qs++]=Ro,Hs[qs++]=Ic,No=t.id,Ro=t.overflow,Ic=e),e=yS(e,r.children),e.flags|=4096,e)}function AC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wb(t.return,e,n)}function b1(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function IP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Yr(t,e,r.children,n),r=wn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&AC(t,n,e);else if(t.tag===19)AC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qt(wn,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&J0(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),b1(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&J0(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}b1(e,!0,n,null,i);break;case"together":b1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),kc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(me(153));if(e.child!==null){for(t=e.child,n=rl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _U(t,e,n){switch(e.tag){case 3:TP(e),Ud();break;case 5:JM(e);break;case 1:ms(e.type)&&K0(e);break;case 4:cS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Qt(Y0,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qt(wn,wn.current&1),e.flags|=128,null):n&e.child.childLanes?AP(t,e,n):(Qt(wn,wn.current&1),t=Wo(t,e,n),t!==null?t.sibling:null);Qt(wn,wn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return IP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qt(wn,wn.current),r)break;return null;case 22:case 23:return e.lanes=0,EP(t,e,n)}return Wo(t,e,n)}var CP,Ab,kP,NP;CP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ab=function(){};kP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ec(Ui.current);var i=null;switch(n){case"input":s=Gx(t,s),r=Gx(t,r),i=[];break;case"select":s=bn({},s,{value:void 0}),r=bn({},r,{value:void 0}),i=[];break;case"textarea":s=Xx(t,s),r=Xx(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=H0)}Jx(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xf.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&en("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};NP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xh(t,e){if(!cn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EU(t,e,n){var r=e.pendingProps;switch(nS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(e),null;case 1:return ms(e.type)&&q0(),Cr(e),null;case 3:return r=e.stateNode,zd(),nn(ps),nn($r),dS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,di!==null&&(Ob(di),di=null))),Ab(t,e),Cr(e),null;case 5:uS(e);var s=ec(cp.current);if(n=e.type,t!==null&&e.stateNode!=null)kP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(me(166));return Cr(e),null}if(t=ec(Ui.current),rg(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ji]=e,r[ap]=i,t=(e.mode&1)!==0,n){case"dialog":en("cancel",r),en("close",r);break;case"iframe":case"object":case"embed":en("load",r);break;case"video":case"audio":for(s=0;s<pf.length;s++)en(pf[s],r);break;case"source":en("error",r);break;case"img":case"image":case"link":en("error",r),en("load",r);break;case"details":en("toggle",r);break;case"input":LI(r,i),en("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},en("invalid",r);break;case"textarea":jI(r,i),en("invalid",r)}Jx(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ng(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ng(r.textContent,a,t),s=["children",""+a]):Xf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&en("scroll",r)}switch(n){case"input":Gm(r),DI(r,i,!0);break;case"textarea":Gm(r),BI(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=H0)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ji]=e,t[ap]=r,CP(t,e,!1,!1),e.stateNode=t;e:{switch(o=eb(n,r),n){case"dialog":en("cancel",t),en("close",t),s=r;break;case"iframe":case"object":case"embed":en("load",t),s=r;break;case"video":case"audio":for(s=0;s<pf.length;s++)en(pf[s],t);s=r;break;case"source":en("error",t),s=r;break;case"img":case"image":case"link":en("error",t),en("load",t),s=r;break;case"details":en("toggle",t),s=r;break;case"input":LI(t,r),s=Gx(t,r),en("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=bn({},r,{value:void 0}),en("invalid",t);break;case"textarea":jI(t,r),s=Xx(t,r),en("invalid",t);break;default:s=r}Jx(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?aM(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iM(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zf(t,l):typeof l=="number"&&Zf(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xf.hasOwnProperty(i)?l!=null&&i==="onScroll"&&en("scroll",t):l!=null&&VE(t,i,l,o))}switch(n){case"input":Gm(t),DI(t,r,!1);break;case"textarea":Gm(t),BI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hl(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ad(t,!!r.multiple,i,!1):r.defaultValue!=null&&ad(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=H0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Cr(e),null;case 6:if(t&&e.stateNode!=null)NP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(me(166));if(n=ec(cp.current),ec(Ui.current),rg(e)){if(r=e.stateNode,n=e.memoizedProps,r[ji]=e,(i=r.nodeValue!==n)&&(t=Rs,t!==null))switch(t.tag){case 3:ng(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ng(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ji]=e,e.stateNode=r}return Cr(e),null;case 13:if(nn(wn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(cn&&ks!==null&&e.mode&1&&!(e.flags&128))GM(),Ud(),e.flags|=98560,i=!1;else if(i=rg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(me(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(me(317));i[ji]=e}else Ud(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cr(e),i=!1}else di!==null&&(Ob(di),di=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wn.current&1?Yn===0&&(Yn=3):ES())),e.updateQueue!==null&&(e.flags|=4),Cr(e),null);case 4:return zd(),Ab(t,e),t===null&&ip(e.stateNode.containerInfo),Cr(e),null;case 10:return oS(e.type._context),Cr(e),null;case 17:return ms(e.type)&&q0(),Cr(e),null;case 19:if(nn(wn),i=e.memoizedState,i===null)return Cr(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Xh(i,!1);else{if(Yn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=J0(t),o!==null){for(e.flags|=128,Xh(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qt(wn,wn.current&1|2),e.child}t=t.sibling}i.tail!==null&&On()>$d&&(e.flags|=128,r=!0,Xh(i,!1),e.lanes=4194304)}else{if(!r)if(t=J0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!cn)return Cr(e),null}else 2*On()-i.renderingStartTime>$d&&n!==1073741824&&(e.flags|=128,r=!0,Xh(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=On(),e.sibling=null,n=wn.current,Qt(wn,r?n&1|2:n&1),e):(Cr(e),null);case 22:case 23:return _S(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_s&1073741824&&(Cr(e),e.subtreeFlags&6&&(e.flags|=8192)):Cr(e),null;case 24:return null;case 25:return null}throw Error(me(156,e.tag))}function SU(t,e){switch(nS(e),e.tag){case 1:return ms(e.type)&&q0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zd(),nn(ps),nn($r),dS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uS(e),null;case 13:if(nn(wn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(me(340));Ud()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nn(wn),null;case 4:return zd(),null;case 10:return oS(e.type._context),null;case 22:case 23:return _S(),null;case 24:return null;default:return null}}var og=!1,Ur=!1,TU=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Xu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nn(t,e,r)}else n.current=null}function Ib(t,e,n){try{n()}catch(r){Nn(t,e,r)}}var IC=!1;function AU(t,e){if(ub=z0,t=LM(),eS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(db={focusedElem:t,selectionRange:n},z0=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,w=v.memoizedState,b=e.stateNode,_=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:oi(e.type,g),w);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(S){Nn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return v=IC,IC=!1,v}function Bf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ib(e,n,i)}s=s.next}while(s!==r)}}function _w(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RP(t){var e=t.alternate;e!==null&&(t.alternate=null,RP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ji],delete e[ap],delete e[pb],delete e[lU],delete e[cU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MP(t){return t.tag===5||t.tag===3||t.tag===4}function CC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=H0));else if(r!==4&&(t=t.child,t!==null))for(kb(t,e,n),t=t.sibling;t!==null;)kb(t,e,n),t=t.sibling}function Nb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nb(t,e,n),t=t.sibling;t!==null;)Nb(t,e,n),t=t.sibling}var dr=null,ui=!1;function ia(t,e,n){for(n=n.child;n!==null;)PP(t,e,n),n=n.sibling}function PP(t,e,n){if(Fi&&typeof Fi.onCommitFiberUnmount=="function")try{Fi.onCommitFiberUnmount(pw,n)}catch{}switch(n.tag){case 5:Ur||Xu(n,e);case 6:var r=dr,s=ui;dr=null,ia(t,e,n),dr=r,ui=s,dr!==null&&(ui?(t=dr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dr.removeChild(n.stateNode));break;case 18:dr!==null&&(ui?(t=dr,n=n.stateNode,t.nodeType===8?p1(t.parentNode,n):t.nodeType===1&&p1(t,n),np(t)):p1(dr,n.stateNode));break;case 4:r=dr,s=ui,dr=n.stateNode.containerInfo,ui=!0,ia(t,e,n),dr=r,ui=s;break;case 0:case 11:case 14:case 15:if(!Ur&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ib(n,e,o),s=s.next}while(s!==r)}ia(t,e,n);break;case 1:if(!Ur&&(Xu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nn(n,e,a)}ia(t,e,n);break;case 21:ia(t,e,n);break;case 22:n.mode&1?(Ur=(r=Ur)||n.memoizedState!==null,ia(t,e,n),Ur=r):ia(t,e,n);break;default:ia(t,e,n)}}function kC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TU),e.forEach(function(r){var s=LU.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ni(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dr=a.stateNode,ui=!1;break e;case 3:dr=a.stateNode.containerInfo,ui=!0;break e;case 4:dr=a.stateNode.containerInfo,ui=!0;break e}a=a.return}if(dr===null)throw Error(me(160));PP(i,o,s),dr=null,ui=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Nn(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OP(e,t),e=e.sibling}function OP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ni(e,t),Ci(t),r&4){try{Bf(3,t,t.return),_w(3,t)}catch(g){Nn(t,t.return,g)}try{Bf(5,t,t.return)}catch(g){Nn(t,t.return,g)}}break;case 1:ni(e,t),Ci(t),r&512&&n!==null&&Xu(n,n.return);break;case 5:if(ni(e,t),Ci(t),r&512&&n!==null&&Xu(n,n.return),t.flags&32){var s=t.stateNode;try{Zf(s,"")}catch(g){Nn(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&nM(s,i),eb(a,o);var c=eb(a,i);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?aM(s,f):u==="dangerouslySetInnerHTML"?iM(s,f):u==="children"?Zf(s,f):VE(s,u,f,c)}switch(a){case"input":Qx(s,i);break;case"textarea":rM(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ad(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?ad(s,!!i.multiple,i.defaultValue,!0):ad(s,!!i.multiple,i.multiple?[]:"",!1))}s[ap]=i}catch(g){Nn(t,t.return,g)}}break;case 6:if(ni(e,t),Ci(t),r&4){if(t.stateNode===null)throw Error(me(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Nn(t,t.return,g)}}break;case 3:if(ni(e,t),Ci(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{np(e.containerInfo)}catch(g){Nn(t,t.return,g)}break;case 4:ni(e,t),Ci(t);break;case 13:ni(e,t),Ci(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xS=On())),r&4&&kC(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ur=(c=Ur)||u,ni(e,t),Ur=c):ni(e,t),Ci(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ie=t,u=t.child;u!==null;){for(f=Ie=u;Ie!==null;){switch(p=Ie,m=p.child,p.tag){case 0:case 11:case 14:case 15:Bf(4,p,p.return);break;case 1:Xu(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Nn(r,n,g)}}break;case 5:Xu(p,p.return);break;case 22:if(p.memoizedState!==null){RC(f);continue}}m!==null?(m.return=p,Ie=m):RC(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=oM("display",o))}catch(g){Nn(t,t.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Nn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ni(e,t),Ci(t),r&4&&kC(t);break;case 21:break;default:ni(e,t),Ci(t)}}function Ci(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MP(n)){var r=n;break e}n=n.return}throw Error(me(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zf(s,""),r.flags&=-33);var i=CC(t);Nb(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=CC(t);kb(t,a,o);break;default:throw Error(me(161))}}catch(l){Nn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IU(t,e,n){Ie=t,LP(t)}function LP(t,e,n){for(var r=(t.mode&1)!==0;Ie!==null;){var s=Ie,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||og;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ur;a=og;var c=Ur;if(og=o,(Ur=l)&&!c)for(Ie=s;Ie!==null;)o=Ie,l=o.child,o.tag===22&&o.memoizedState!==null?MC(s):l!==null?(l.return=o,Ie=l):MC(s);for(;i!==null;)Ie=i,LP(i),i=i.sibling;Ie=s,og=a,Ur=c}NC(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ie=i):NC(t)}}function NC(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ur||_w(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ur)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:oi(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&pC(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pC(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&np(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}Ur||e.flags&512&&Cb(e)}catch(p){Nn(e,e.return,p)}}if(e===t){Ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function RC(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function MC(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_w(4,e)}catch(l){Nn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Nn(e,s,l)}}var i=e.return;try{Cb(e)}catch(l){Nn(e,i,l)}break;case 5:var o=e.return;try{Cb(e)}catch(l){Nn(e,o,l)}}}catch(l){Nn(e,e.return,l)}if(e===t){Ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ie=a;break}Ie=e.return}}var CU=Math.ceil,ny=ea.ReactCurrentDispatcher,wS=ea.ReactCurrentOwner,Gs=ea.ReactCurrentBatchConfig,gt=0,rr=null,Wn=null,vr=0,_s=0,Zu=Tl(0),Yn=0,fp=null,kc=0,Ew=0,vS=0,Ff=null,us=null,xS=0,$d=1/0,go=null,ry=!1,Rb=null,tl=null,ag=!1,$a=null,sy=0,Uf=0,Mb=null,qg=-1,Kg=0;function ts(){return gt&6?On():qg!==-1?qg:qg=On()}function nl(t){return t.mode&1?gt&2&&vr!==0?vr&-vr:dU.transition!==null?(Kg===0&&(Kg=vM()),Kg):(t=Mt,t!==0||(t=window.event,t=t===void 0?16:AM(t.type)),t):1}function wi(t,e,n,r){if(50<Uf)throw Uf=0,Mb=null,Error(me(185));$p(t,n,r),(!(gt&2)||t!==rr)&&(t===rr&&(!(gt&2)&&(Ew|=n),Yn===4&&Aa(t,vr)),gs(t,r),n===1&&gt===0&&!(e.mode&1)&&($d=On()+500,vw&&Al()))}function gs(t,e){var n=t.callbackNode;dF(t,e);var r=V0(t,t===rr?vr:0);if(r===0)n!==null&&VI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&VI(n),e===1)t.tag===0?uU(PC.bind(null,t)):HM(PC.bind(null,t)),oU(function(){!(gt&6)&&Al()}),n=null;else{switch(xM(r)){case 1:n=qE;break;case 4:n=yM;break;case 16:n=U0;break;case 536870912:n=wM;break;default:n=U0}n=WP(n,DP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DP(t,e){if(qg=-1,Kg=0,gt&6)throw Error(me(327));var n=t.callbackNode;if(hd()&&t.callbackNode!==n)return null;var r=V0(t,t===rr?vr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=iy(t,r);else{e=r;var s=gt;gt|=2;var i=BP();(rr!==t||vr!==e)&&(go=null,$d=On()+500,wc(t,e));do try{RU();break}catch(a){jP(t,a)}while(!0);iS(),ny.current=i,gt=s,Wn!==null?e=0:(rr=null,vr=0,e=Yn)}if(e!==0){if(e===2&&(s=ib(t),s!==0&&(r=s,e=Pb(t,s))),e===1)throw n=fp,wc(t,0),Aa(t,r),gs(t,On()),n;if(e===6)Aa(t,r);else{if(s=t.current.alternate,!(r&30)&&!kU(s)&&(e=iy(t,r),e===2&&(i=ib(t),i!==0&&(r=i,e=Pb(t,i))),e===1))throw n=fp,wc(t,0),Aa(t,r),gs(t,On()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(me(345));case 2:zl(t,us,go);break;case 3:if(Aa(t,r),(r&130023424)===r&&(e=xS+500-On(),10<e)){if(V0(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ts(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=fb(zl.bind(null,t,us,go),e);break}zl(t,us,go);break;case 4:if(Aa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-yi(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=On()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CU(r/1960))-r,10<r){t.timeoutHandle=fb(zl.bind(null,t,us,go),r);break}zl(t,us,go);break;case 5:zl(t,us,go);break;default:throw Error(me(329))}}}return gs(t,On()),t.callbackNode===n?DP.bind(null,t):null}function Pb(t,e){var n=Ff;return t.current.memoizedState.isDehydrated&&(wc(t,e).flags|=256),t=iy(t,e),t!==2&&(e=us,us=n,e!==null&&Ob(e)),t}function Ob(t){us===null?us=t:us.push.apply(us,t)}function kU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bi(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Aa(t,e){for(e&=~vS,e&=~Ew,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yi(e),r=1<<n;t[n]=-1,e&=~r}}function PC(t){if(gt&6)throw Error(me(327));hd();var e=V0(t,0);if(!(e&1))return gs(t,On()),null;var n=iy(t,e);if(t.tag!==0&&n===2){var r=ib(t);r!==0&&(e=r,n=Pb(t,r))}if(n===1)throw n=fp,wc(t,0),Aa(t,e),gs(t,On()),n;if(n===6)throw Error(me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zl(t,us,go),gs(t,On()),null}function bS(t,e){var n=gt;gt|=1;try{return t(e)}finally{gt=n,gt===0&&($d=On()+500,vw&&Al())}}function Nc(t){$a!==null&&$a.tag===0&&!(gt&6)&&hd();var e=gt;gt|=1;var n=Gs.transition,r=Mt;try{if(Gs.transition=null,Mt=1,t)return t()}finally{Mt=r,Gs.transition=n,gt=e,!(gt&6)&&Al()}}function _S(){_s=Zu.current,nn(Zu)}function wc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iU(n)),Wn!==null)for(n=Wn.return;n!==null;){var r=n;switch(nS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&q0();break;case 3:zd(),nn(ps),nn($r),dS();break;case 5:uS(r);break;case 4:zd();break;case 13:nn(wn);break;case 19:nn(wn);break;case 10:oS(r.type._context);break;case 22:case 23:_S()}n=n.return}if(rr=t,Wn=t=rl(t.current,null),vr=_s=e,Yn=0,fp=null,vS=Ew=kc=0,us=Ff=null,Jl!==null){for(e=0;e<Jl.length;e++)if(n=Jl[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Jl=null}return t}function jP(t,e){do{var n=Wn;try{if(iS(),Wg.current=ty,ey){for(var r=xn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ey=!1}if(Cc=0,tr=Gn=xn=null,jf=!1,up=0,wS.current=null,n===null||n.return===null){Yn=1,fp=e,Wn=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=vr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=xC(o);if(m!==null){m.flags&=-257,bC(m,o,a,i,e),m.mode&1&&vC(i,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){vC(i,c,e),ES();break e}l=Error(me(426))}}else if(cn&&a.mode&1){var w=xC(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),bC(w,o,a,i,e),rS(Wd(l,a));break e}}i=l=Wd(l,a),Yn!==4&&(Yn=2),Ff===null?Ff=[i]:Ff.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=xP(i,l,e);fC(i,b);break e;case 1:a=l;var _=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(tl===null||!tl.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=bP(i,a,e);fC(i,S);break e}}i=i.return}while(i!==null)}UP(n)}catch(D){e=D,Wn===n&&n!==null&&(Wn=n=n.return);continue}break}while(!0)}function BP(){var t=ny.current;return ny.current=ty,t===null?ty:t}function ES(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),rr===null||!(kc&268435455)&&!(Ew&268435455)||Aa(rr,vr)}function iy(t,e){var n=gt;gt|=2;var r=BP();(rr!==t||vr!==e)&&(go=null,wc(t,e));do try{NU();break}catch(s){jP(t,s)}while(!0);if(iS(),gt=n,ny.current=r,Wn!==null)throw Error(me(261));return rr=null,vr=0,Yn}function NU(){for(;Wn!==null;)FP(Wn)}function RU(){for(;Wn!==null&&!nF();)FP(Wn)}function FP(t){var e=zP(t.alternate,t,_s);t.memoizedProps=t.pendingProps,e===null?UP(t):Wn=e,wS.current=null}function UP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SU(n,e),n!==null){n.flags&=32767,Wn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yn=6,Wn=null;return}}else if(n=EU(n,e,_s),n!==null){Wn=n;return}if(e=e.sibling,e!==null){Wn=e;return}Wn=e=t}while(e!==null);Yn===0&&(Yn=5)}function zl(t,e,n){var r=Mt,s=Gs.transition;try{Gs.transition=null,Mt=1,MU(t,e,n,r)}finally{Gs.transition=s,Mt=r}return null}function MU(t,e,n,r){do hd();while($a!==null);if(gt&6)throw Error(me(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(me(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(hF(t,i),t===rr&&(Wn=rr=null,vr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ag||(ag=!0,WP(U0,function(){return hd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Gs.transition,Gs.transition=null;var o=Mt;Mt=1;var a=gt;gt|=4,wS.current=null,AU(t,n),OP(n,t),ZF(db),z0=!!ub,db=ub=null,t.current=n,IU(n),rF(),gt=a,Mt=o,Gs.transition=i}else t.current=n;if(ag&&(ag=!1,$a=t,sy=s),i=t.pendingLanes,i===0&&(tl=null),oF(n.stateNode),gs(t,On()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ry)throw ry=!1,t=Rb,Rb=null,t;return sy&1&&t.tag!==0&&hd(),i=t.pendingLanes,i&1?t===Mb?Uf++:(Uf=0,Mb=t):Uf=0,Al(),null}function hd(){if($a!==null){var t=xM(sy),e=Gs.transition,n=Mt;try{if(Gs.transition=null,Mt=16>t?16:t,$a===null)var r=!1;else{if(t=$a,$a=null,sy=0,gt&6)throw Error(me(331));var s=gt;for(gt|=4,Ie=t.current;Ie!==null;){var i=Ie,o=i.child;if(Ie.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ie=c;Ie!==null;){var u=Ie;switch(u.tag){case 0:case 11:case 15:Bf(8,u,i)}var f=u.child;if(f!==null)f.return=u,Ie=f;else for(;Ie!==null;){u=Ie;var p=u.sibling,m=u.return;if(RP(u),u===c){Ie=null;break}if(p!==null){p.return=m,Ie=p;break}Ie=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ie=o;else e:for(;Ie!==null;){if(i=Ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bf(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Ie=b;break e}Ie=i.return}}var _=t.current;for(Ie=_;Ie!==null;){o=Ie;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Ie=x;else e:for(o=_;Ie!==null;){if(a=Ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_w(9,a)}}catch(D){Nn(a,a.return,D)}if(a===o){Ie=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Ie=S;break e}Ie=a.return}}if(gt=s,Al(),Fi&&typeof Fi.onPostCommitFiberRoot=="function")try{Fi.onPostCommitFiberRoot(pw,t)}catch{}r=!0}return r}finally{Mt=n,Gs.transition=e}}return!1}function OC(t,e,n){e=Wd(n,e),e=xP(t,e,1),t=el(t,e,1),e=ts(),t!==null&&($p(t,1,e),gs(t,e))}function Nn(t,e,n){if(t.tag===3)OC(t,t,n);else for(;e!==null;){if(e.tag===3){OC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tl===null||!tl.has(r))){t=Wd(n,t),t=bP(e,t,1),e=el(e,t,1),t=ts(),e!==null&&($p(e,1,t),gs(e,t));break}}e=e.return}}function PU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ts(),t.pingedLanes|=t.suspendedLanes&n,rr===t&&(vr&n)===n&&(Yn===4||Yn===3&&(vr&130023424)===vr&&500>On()-xS?wc(t,0):vS|=n),gs(t,e)}function VP(t,e){e===0&&(t.mode&1?(e=Xm,Xm<<=1,!(Xm&130023424)&&(Xm=4194304)):e=1);var n=ts();t=zo(t,e),t!==null&&($p(t,e,n),gs(t,n))}function OU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VP(t,n)}function LU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(me(314))}r!==null&&r.delete(e),VP(t,n)}var zP;zP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ps.current)hs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hs=!1,_U(t,e,n);hs=!!(t.flags&131072)}else hs=!1,cn&&e.flags&1048576&&qM(e,Q0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hg(t,e),t=e.pendingProps;var s=Fd(e,$r.current);dd(e,n),s=fS(null,e,r,t,s,n);var i=pS();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ms(r)?(i=!0,K0(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lS(e),s.updater=bw,e.stateNode=s,s._reactInternals=e,xb(e,r,t,n),e=Eb(null,e,r,!0,i,n)):(e.tag=0,cn&&i&&tS(e),Yr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hg(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=jU(r),t=oi(r,t),s){case 0:e=_b(null,e,r,t,n);break e;case 1:e=SC(null,e,r,t,n);break e;case 11:e=_C(null,e,r,t,n);break e;case 14:e=EC(null,e,r,oi(r.type,t),n);break e}throw Error(me(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:oi(r,s),_b(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:oi(r,s),SC(t,e,r,s,n);case 3:e:{if(TP(e),t===null)throw Error(me(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ZM(t,e),Z0(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Wd(Error(me(423)),e),e=TC(t,e,r,n,s);break e}else if(r!==s){s=Wd(Error(me(424)),e),e=TC(t,e,r,n,s);break e}else for(ks=Ja(e.stateNode.containerInfo.firstChild),Rs=e,cn=!0,di=null,n=YM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ud(),r===s){e=Wo(t,e,n);break e}Yr(t,e,r,n)}e=e.child}return e;case 5:return JM(e),t===null&&yb(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,hb(r,s)?o=null:i!==null&&hb(r,i)&&(e.flags|=32),SP(t,e),Yr(t,e,o,n),e.child;case 6:return t===null&&yb(e),null;case 13:return AP(t,e,n);case 4:return cS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vd(e,null,r,n):Yr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:oi(r,s),_C(t,e,r,s,n);case 7:return Yr(t,e,e.pendingProps,n),e.child;case 8:return Yr(t,e,e.pendingProps.children,n),e.child;case 12:return Yr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Qt(Y0,r._currentValue),r._currentValue=o,i!==null)if(bi(i.value,o)){if(i.children===s.children&&!ps.current){e=Wo(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=jo(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),wb(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(me(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wb(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,dd(e,n),s=Xs(s),r=r(s),e.flags|=1,Yr(t,e,r,n),e.child;case 14:return r=e.type,s=oi(r,e.pendingProps),s=oi(r.type,s),EC(t,e,r,s,n);case 15:return _P(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:oi(r,s),Hg(t,e),e.tag=1,ms(r)?(t=!0,K0(e)):t=!1,dd(e,n),vP(e,r,s),xb(e,r,s,n),Eb(null,e,r,!0,t,n);case 19:return IP(t,e,n);case 22:return EP(t,e,n)}throw Error(me(156,e.tag))};function WP(t,e){return gM(t,e)}function DU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(t,e,n,r){return new DU(t,e,n,r)}function SS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jU(t){if(typeof t=="function")return SS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===WE)return 11;if(t===$E)return 14}return 2}function rl(t,e){var n=t.alternate;return n===null?(n=Ks(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gg(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")SS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zu:return vc(n.children,s,i,e);case zE:o=8,s|=8;break;case $x:return t=Ks(12,n,e,s|2),t.elementType=$x,t.lanes=i,t;case Hx:return t=Ks(13,n,e,s),t.elementType=Hx,t.lanes=i,t;case qx:return t=Ks(19,n,e,s),t.elementType=qx,t.lanes=i,t;case JR:return Sw(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XR:o=10;break e;case ZR:o=9;break e;case WE:o=11;break e;case $E:o=14;break e;case ba:o=16,r=null;break e}throw Error(me(130,t==null?t:typeof t,""))}return e=Ks(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function vc(t,e,n,r){return t=Ks(7,t,r,e),t.lanes=n,t}function Sw(t,e,n,r){return t=Ks(22,t,r,e),t.elementType=JR,t.lanes=n,t.stateNode={isHidden:!1},t}function _1(t,e,n){return t=Ks(6,t,null,e),t.lanes=n,t}function E1(t,e,n){return e=Ks(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BU(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=r1(0),this.expirationTimes=r1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=r1(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function TS(t,e,n,r,s,i,o,a,l){return t=new BU(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ks(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lS(i),t}function FU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $P(t){if(!t)return fl;t=t._reactInternals;e:{if(Gc(t)!==t||t.tag!==1)throw Error(me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ms(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(me(171))}if(t.tag===1){var n=t.type;if(ms(n))return $M(t,n,e)}return e}function HP(t,e,n,r,s,i,o,a,l){return t=TS(n,r,!0,t,s,i,o,a,l),t.context=$P(null),n=t.current,r=ts(),s=nl(n),i=jo(r,s),i.callback=e??null,el(n,i,s),t.current.lanes=s,$p(t,s,r),gs(t,r),t}function Tw(t,e,n,r){var s=e.current,i=ts(),o=nl(s);return n=$P(n),e.context===null?e.context=n:e.pendingContext=n,e=jo(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=el(s,e,o),t!==null&&(wi(t,s,o,i),zg(t,s,o)),o}function oy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function LC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function AS(t,e){LC(t,e),(t=t.alternate)&&LC(t,e)}function UU(){return null}var qP=typeof reportError=="function"?reportError:function(t){console.error(t)};function IS(t){this._internalRoot=t}Aw.prototype.render=IS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(me(409));Tw(t,e,null,null)};Aw.prototype.unmount=IS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nc(function(){Tw(null,t,null,null)}),e[Vo]=null}};function Aw(t){this._internalRoot=t}Aw.prototype.unstable_scheduleHydration=function(t){if(t){var e=EM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ta.length&&e!==0&&e<Ta[n].priority;n++);Ta.splice(n,0,t),n===0&&TM(t)}};function CS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Iw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function DC(){}function VU(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=oy(o);i.call(c)}}var o=HP(e,r,t,0,null,!1,!1,"",DC);return t._reactRootContainer=o,t[Vo]=o.current,ip(t.nodeType===8?t.parentNode:t),Nc(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=oy(l);a.call(c)}}var l=TS(t,0,!1,null,null,!1,!1,"",DC);return t._reactRootContainer=l,t[Vo]=l.current,ip(t.nodeType===8?t.parentNode:t),Nc(function(){Tw(e,l,n,r)}),l}function Cw(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=oy(o);a.call(l)}}Tw(e,o,t,s)}else o=VU(n,e,t,s,r);return oy(o)}bM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ff(e.pendingLanes);n!==0&&(KE(e,n|1),gs(e,On()),!(gt&6)&&($d=On()+500,Al()))}break;case 13:Nc(function(){var r=zo(t,1);if(r!==null){var s=ts();wi(r,t,1,s)}}),AS(t,1)}};GE=function(t){if(t.tag===13){var e=zo(t,134217728);if(e!==null){var n=ts();wi(e,t,134217728,n)}AS(t,134217728)}};_M=function(t){if(t.tag===13){var e=nl(t),n=zo(t,e);if(n!==null){var r=ts();wi(n,t,e,r)}AS(t,e)}};EM=function(){return Mt};SM=function(t,e){var n=Mt;try{return Mt=t,e()}finally{Mt=n}};nb=function(t,e,n){switch(e){case"input":if(Qx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ww(r);if(!s)throw Error(me(90));tM(r),Qx(r,s)}}}break;case"textarea":rM(t,n);break;case"select":e=n.value,e!=null&&ad(t,!!n.multiple,e,!1)}};uM=bS;dM=Nc;var zU={usingClientEntryPoint:!1,Events:[qp,qu,ww,lM,cM,bS]},Zh={findFiberByHostInstance:Zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WU={bundleType:Zh.bundleType,version:Zh.version,rendererPackageName:Zh.rendererPackageName,rendererConfig:Zh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pM(t),t===null?null:t.stateNode},findFiberByHostInstance:Zh.findFiberByHostInstance||UU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lg.isDisabled&&lg.supportsFiber)try{pw=lg.inject(WU),Fi=lg}catch{}}Ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zU;Ls.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!CS(e))throw Error(me(200));return FU(t,e,null,n)};Ls.createRoot=function(t,e){if(!CS(t))throw Error(me(299));var n=!1,r="",s=qP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=TS(t,1,!1,null,null,n,!1,r,s),t[Vo]=e.current,ip(t.nodeType===8?t.parentNode:t),new IS(e)};Ls.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(me(188)):(t=Object.keys(t).join(","),Error(me(268,t)));return t=pM(e),t=t===null?null:t.stateNode,t};Ls.flushSync=function(t){return Nc(t)};Ls.hydrate=function(t,e,n){if(!Iw(e))throw Error(me(200));return Cw(null,t,e,!0,n)};Ls.hydrateRoot=function(t,e,n){if(!CS(t))throw Error(me(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=qP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HP(e,null,t,1,n??null,s,!1,i,o),t[Vo]=e.current,ip(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Aw(e)};Ls.render=function(t,e,n){if(!Iw(e))throw Error(me(200));return Cw(null,t,e,!1,n)};Ls.unmountComponentAtNode=function(t){if(!Iw(t))throw Error(me(40));return t._reactRootContainer?(Nc(function(){Cw(null,null,t,!1,function(){t._reactRootContainer=null,t[Vo]=null})}),!0):!1};Ls.unstable_batchedUpdates=bS;Ls.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Iw(n))throw Error(me(200));if(t==null||t._reactInternals===void 0)throw Error(me(38));return Cw(t,e,n,!1,r)};Ls.version="18.3.1-next-f1338f8080-20240426";function KP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KP)}catch(t){console.error(t)}}KP(),KR.exports=Ls;var Il=KR.exports;const $U=El(Il);var GP,jC=Il;GP=jC.createRoot,jC.hydrateRoot;function HU(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var QP={exports:{}},YP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=N;function qU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var KU=typeof Object.is=="function"?Object.is:qU,GU=Hd.useState,QU=Hd.useEffect,YU=Hd.useLayoutEffect,XU=Hd.useDebugValue;function ZU(t,e){var n=e(),r=GU({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return YU(function(){s.value=n,s.getSnapshot=e,S1(s)&&i({inst:s})},[t,n,e]),QU(function(){return S1(s)&&i({inst:s}),t(function(){S1(s)&&i({inst:s})})},[t]),XU(n),n}function S1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!KU(t,n)}catch{return!0}}function JU(t,e){return e()}var eV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JU:ZU;YP.useSyncExternalStore=Hd.useSyncExternalStore!==void 0?Hd.useSyncExternalStore:eV;QP.exports=YP;var tV=QP.exports;const nV=jE.useInsertionEffect,rV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sV=rV?N.useLayoutEffect:N.useEffect,iV=nV||sV,XP=t=>{const e=N.useRef([t,(...n)=>e[0](...n)]).current;return iV(()=>{e[0]=t}),e[1]},oV="popstate",kS="pushState",NS="replaceState",aV="hashchange",BC=[oV,kS,NS,aV],lV=t=>{for(const e of BC)addEventListener(e,t);return()=>{for(const e of BC)removeEventListener(e,t)}},ZP=(t,e)=>tV.useSyncExternalStore(lV,t,e),cV=()=>location.search,uV=({ssrSearch:t=""}={})=>ZP(cV,()=>t),FC=()=>location.pathname,dV=({ssrPath:t}={})=>ZP(FC,t?()=>t:FC),hV=(t,{replace:e=!1,state:n=null}={})=>history[e?NS:kS](n,"",t),fV=(t={})=>[dV(t),hV],UC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[UC]>"u"){for(const t of[kS,NS]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,UC,{value:!0})}const pV=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",JP=(t="")=>t==="/"?"":t,mV=(t,e)=>t[0]==="~"?t.slice(1):JP(e)+t,gV=(t="",e)=>pV(VC(JP(t)),VC(e)),VC=t=>{try{return decodeURI(t)}catch{return t}},e4={hook:fV,searchHook:uV,parser:HU,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},t4=N.createContext(e4),Gp=()=>N.useContext(t4),n4={},r4=N.createContext(n4),s4=()=>N.useContext(r4),kw=t=>{const[e,n]=t.hook(t);return[gV(t.base,e),XP((r,s)=>n(mV(r,t.base),s))]},Qp=()=>kw(Gp()),i4=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((f,p)=>[f,l[p]])):o.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[a]:[]]:[!1,null]},yV=({children:t,...e})=>{var u,f;const n=Gp(),r=e.hook?e4:n;let s=r;const[i,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=N.useRef({}),l=a.current,c=l;for(let p in r){const m=p==="base"?r[p]+(e[p]||""):e[p]||r[p];l===c&&m!==c[p]&&(a.current=c={...c}),c[p]=m,(m!==r[p]||m!==s[p])&&(s=c)}return N.createElement(t4.Provider,{value:s,children:t})},zC=({children:t,component:e},n)=>e?N.createElement(e,{params:n}):typeof t=="function"?t(n):t,wV=t=>{let e=N.useRef(n4);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},vu=({path:t,nest:e,match:n,...r})=>{const s=Gp(),[i]=kw(s),[o,a,l]=n??i4(s.parser,t,i,e),c=wV({...s4(),...a});if(!o)return null;const u=l?N.createElement(yV,{base:l},zC(r,c)):zC(r,c);return N.createElement(r4.Provider,{value:c,children:u})};N.forwardRef((t,e)=>{const n=Gp(),[r,s]=kw(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:u,replace:f,state:p,...m}=t,v=XP(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(a==null||a(w),w.defaultPrevented||(w.preventDefault(),s(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&N.isValidElement(c)?N.cloneElement(c,{onClick:v,href:g}):N.createElement("a",{...m,onClick:v,href:g,className:u!=null&&u.call?u(r===o):u,children:c,ref:e})});const o4=t=>Array.isArray(t)?t.flatMap(e=>o4(e&&e.type===N.Fragment?e.props.children:e)):[t],vV=({children:t,location:e})=>{const n=Gp(),[r]=kw(n);for(const s of o4(t)){let i=0;if(N.isValidElement(s)&&(i=i4(n.parser,s.props.path,e||r,s.props.nest))[0])return N.cloneElement(s,{match:i})}return null};var yh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rc=typeof window>"u"||"Deno"in globalThis;function Xr(){}function xV(t,e){return typeof t=="function"?t(e):t}function Lb(t){return typeof t=="number"&&t>=0&&t!==1/0}function a4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function sl(t,e){return typeof t=="function"?t(e):t}function hi(t,e){return typeof t=="function"?t(e):t}function WC(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==RS(o,e.options))return!1}else if(!pp(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function $C(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Mc(e.options.mutationKey)!==Mc(i))return!1}else if(!pp(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function RS(t,e){return((e==null?void 0:e.queryKeyHashFn)||Mc)(t)}function Mc(t){return JSON.stringify(t,(e,n)=>Db(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function pp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>pp(t[n],e[n])):!1}function l4(t,e){if(t===e)return t;const n=HC(t)&&HC(e);if(n||Db(t)&&Db(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=l4(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function ay(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function HC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Db(t){if(!qC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!qC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function qC(t){return Object.prototype.toString.call(t)==="[object Object]"}function bV(t){return new Promise(e=>{setTimeout(e,t)})}function jb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?l4(t,e):e}function _V(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function EV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var MS=Symbol();function c4(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===MS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function u4(t,e){return typeof t=="function"?t(...e):!!t}var uc,Pa,Td,TR,SV=(TR=class extends yh{constructor(){super();De(this,uc);De(this,Pa);De(this,Td);Ae(this,Td,e=>{if(!Rc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,Pa)||this.setEventListener(Y(this,Td))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Pa))==null||e.call(this),Ae(this,Pa,void 0))}setEventListener(e){var n;Ae(this,Td,e),(n=Y(this,Pa))==null||n.call(this),Ae(this,Pa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,uc)!==e&&(Ae(this,uc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Y(this,uc)=="boolean"?Y(this,uc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},uc=new WeakMap,Pa=new WeakMap,Td=new WeakMap,TR),PS=new SV,Ad,Oa,Id,AR,TV=(AR=class extends yh{constructor(){super();De(this,Ad,!0);De(this,Oa);De(this,Id);Ae(this,Id,e=>{if(!Rc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,Oa)||this.setEventListener(Y(this,Id))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Oa))==null||e.call(this),Ae(this,Oa,void 0))}setEventListener(e){var n;Ae(this,Id,e),(n=Y(this,Oa))==null||n.call(this),Ae(this,Oa,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Ad)!==e&&(Ae(this,Ad,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,Ad)}},Ad=new WeakMap,Oa=new WeakMap,Id=new WeakMap,AR),ly=new TV;function Bb(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function AV(t){return Math.min(1e3*2**t,3e4)}function d4(t){return(t??"online")==="online"?ly.isOnline():!0}var h4=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function T1(t){return t instanceof h4}function f4(t){let e=!1,n=0,r=!1,s;const i=Bb(),o=g=>{var w;r||(p(new h4(g)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>PS.isFocused()&&(t.networkMode==="always"||ly.isOnline())&&t.canRun(),u=()=>d4(t.networkMode)&&t.canRun(),f=g=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,g),s==null||s(),i.resolve(g))},p=g=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var w;s=b=>{(r||c())&&g(b)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(r)return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var F;if(r)return;const _=t.retry??(Rc?0:3),x=t.retryDelay??AV,S=typeof x=="function"?x(n,b):x,D=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,b);if(e||!D){p(b);return}n++,(F=t.onFail)==null||F.call(t,n,b),bV(S).then(()=>c()?void 0:m()).then(()=>{e?p(b):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?v():m().then(v),i)}}var IV=t=>setTimeout(t,0);function CV(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=IV;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Qn=CV(),dc,IR,p4=(IR=class{constructor(){De(this,dc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lb(this.gcTime)&&Ae(this,dc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Rc?1/0:5*60*1e3))}clearGcTimeout(){Y(this,dc)&&(clearTimeout(Y(this,dc)),Ae(this,dc,void 0))}},dc=new WeakMap,IR),Cd,kd,Ws,hc,Br,Fp,fc,li,po,CR,kV=(CR=class extends p4{constructor(n){super();De(this,li);De(this,Cd);De(this,kd);De(this,Ws);De(this,hc);De(this,Br);De(this,Fp);De(this,fc);Ae(this,fc,!1),Ae(this,Fp,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ae(this,hc,n.client),Ae(this,Ws,Y(this,hc).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ae(this,Cd,NV(this.options)),this.state=n.state??Y(this,Cd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Y(this,Br))==null?void 0:n.promise}setOptions(n){this.options={...Y(this,Fp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Ws).remove(this)}setData(n,r){const s=jb(this.state.data,n,this.options);return rt(this,li,po).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){rt(this,li,po).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=Y(this,Br))==null?void 0:s.promise;return(i=Y(this,Br))==null||i.cancel(n),r?r.then(Xr).catch(Xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Cd))}isActive(){return this.observers.some(n=>hi(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===MS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>sl(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!a4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Y(this,Br))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Y(this,Br))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Y(this,Ws).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Y(this,Br)&&(Y(this,fc)?Y(this,Br).cancel({revert:!0}):Y(this,Br).cancelRetry()),this.scheduleGc()),Y(this,Ws).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rt(this,li,po).call(this,{type:"invalidate"})}fetch(n,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Br))return Y(this,Br).continueRetry(),Y(this,Br).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Ae(this,fc,!0),s.signal)})},o=()=>{const p=c4(this.options,r),m={client:Y(this,hc),queryKey:this.queryKey,meta:this.meta};return i(m),Ae(this,fc,!1),this.options.persister?this.options.persister(p,m,this):p(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,hc),state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Ae(this,kd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&rt(this,li,po).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var m,v,g,w;T1(p)&&p.silent||rt(this,li,po).call(this,{type:"error",error:p}),T1(p)||((v=(m=Y(this,Ws).config).onError)==null||v.call(m,p,this),(w=(g=Y(this,Ws).config).onSettled)==null||w.call(g,this.state.data,p,this)),this.scheduleGc()};return Ae(this,Br,f4({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var m,v,g,w;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(b){l(b);return}(v=(m=Y(this,Ws).config).onSuccess)==null||v.call(m,p,this),(w=(g=Y(this,Ws).config).onSettled)==null||w.call(g,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{rt(this,li,po).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{rt(this,li,po).call(this,{type:"pause"})},onContinue:()=>{rt(this,li,po).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Y(this,Br).start()}},Cd=new WeakMap,kd=new WeakMap,Ws=new WeakMap,hc=new WeakMap,Br=new WeakMap,Fp=new WeakMap,fc=new WeakMap,li=new WeakSet,po=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...m4(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return T1(i)&&i.revert&&Y(this,kd)?{...Y(this,kd),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Qn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Y(this,Ws).notify({query:this,type:"updated",action:n})})},CR);function m4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function NV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Pi,kR,RV=(kR=class extends yh{constructor(e={}){super();De(this,Pi);this.config=e,Ae(this,Pi,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??RS(s,n);let o=this.get(i);return o||(o=new kV({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){Y(this,Pi).has(e.queryHash)||(Y(this,Pi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Y(this,Pi).get(e.queryHash);n&&(e.destroy(),n===e&&Y(this,Pi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Pi).get(e)}getAll(){return[...Y(this,Pi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>WC(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>WC(e,r)):n}notify(e){Qn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Qn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Pi=new WeakMap,kR),Oi,Gr,pc,Li,ya,NR,MV=(NR=class extends p4{constructor(n){super();De(this,Li);De(this,Oi);De(this,Gr);De(this,pc);this.mutationId=n.mutationId,Ae(this,Gr,n.mutationCache),Ae(this,Oi,[]),this.state=n.state||g4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Y(this,Oi).includes(n)||(Y(this,Oi).push(n),this.clearGcTimeout(),Y(this,Gr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ae(this,Oi,Y(this,Oi).filter(r=>r!==n)),this.scheduleGc(),Y(this,Gr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Y(this,Oi).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Gr).remove(this))}continue(){var n;return((n=Y(this,pc))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,u,f,p,m,v,g,w,b,_,x,S,D,F,M,R,U;const r=()=>{rt(this,Li,ya).call(this,{type:"continue"})};Ae(this,pc,f4({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(W,$)=>{rt(this,Li,ya).call(this,{type:"failed",failureCount:W,error:$})},onPause:()=>{rt(this,Li,ya).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Gr).canRun(this)}));const s=this.state.status==="pending",i=!Y(this,pc).canStart();try{if(s)r();else{rt(this,Li,ya).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=Y(this,Gr).config).onMutate)==null?void 0:a.call(o,n,this));const $=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));$!==this.state.context&&rt(this,Li,ya).call(this,{type:"pending",context:$,variables:n,isPaused:i})}const W=await Y(this,pc).start();return await((f=(u=Y(this,Gr).config).onSuccess)==null?void 0:f.call(u,W,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,W,n,this.state.context)),await((g=(v=Y(this,Gr).config).onSettled)==null?void 0:g.call(v,W,null,this.state.variables,this.state.context,this)),await((b=(w=this.options).onSettled)==null?void 0:b.call(w,W,null,n,this.state.context)),rt(this,Li,ya).call(this,{type:"success",data:W}),W}catch(W){try{throw await((x=(_=Y(this,Gr).config).onError)==null?void 0:x.call(_,W,n,this.state.context,this)),await((D=(S=this.options).onError)==null?void 0:D.call(S,W,n,this.state.context)),await((M=(F=Y(this,Gr).config).onSettled)==null?void 0:M.call(F,void 0,W,this.state.variables,this.state.context,this)),await((U=(R=this.options).onSettled)==null?void 0:U.call(R,void 0,W,n,this.state.context)),W}finally{rt(this,Li,ya).call(this,{type:"error",error:W})}}finally{Y(this,Gr).runNext(this)}}},Oi=new WeakMap,Gr=new WeakMap,pc=new WeakMap,Li=new WeakSet,ya=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Qn.batch(()=>{Y(this,Oi).forEach(s=>{s.onMutationUpdate(n)}),Y(this,Gr).notify({mutation:this,type:"updated",action:n})})},NR);function g4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xo,ci,Up,RR,PV=(RR=class extends yh{constructor(e={}){super();De(this,xo);De(this,ci);De(this,Up);this.config=e,Ae(this,xo,new Set),Ae(this,ci,new Map),Ae(this,Up,0)}build(e,n,r){const s=new MV({mutationCache:this,mutationId:++Hm(this,Up)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){Y(this,xo).add(e);const n=cg(e);if(typeof n=="string"){const r=Y(this,ci).get(n);r?r.push(e):Y(this,ci).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,xo).delete(e)){const n=cg(e);if(typeof n=="string"){const r=Y(this,ci).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&Y(this,ci).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=cg(e);if(typeof n=="string"){const r=Y(this,ci).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=cg(e);if(typeof n=="string"){const s=(r=Y(this,ci).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qn.batch(()=>{Y(this,xo).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,xo).clear(),Y(this,ci).clear()})}getAll(){return Array.from(Y(this,xo))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>$C(n,r))}findAll(e={}){return this.getAll().filter(n=>$C(e,n))}notify(e){Qn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Qn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Xr))))}},xo=new WeakMap,ci=new WeakMap,Up=new WeakMap,RR);function cg(t){var e;return(e=t.options.scope)==null?void 0:e.id}function KC(t){return{onFetch:(e,n)=>{var u,f,p,m,v;const r=e.options,s=(p=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=c4(e.options,e.fetchOptions),_=async(x,S,D)=>{if(g)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const F={client:e.client,queryKey:e.queryKey,pageParam:S,direction:D?"backward":"forward",meta:e.options.meta};w(F);const M=await b(F),{maxPages:R}=e.options,U=D?EV:_V;return{pages:U(x.pages,M,R),pageParams:U(x.pageParams,S,R)}};if(s&&i.length){const x=s==="backward",S=x?OV:GC,D={pages:i,pageParams:o},F=S(r,D);a=await _(D,F,x)}else{const x=t??i.length;do{const S=l===0?o[0]??r.initialPageParam:GC(r,a);if(l>0&&S==null)break;a=await _(a,S),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function GC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function OV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var In,La,Da,Nd,Rd,ja,Md,Pd,MR,LV=(MR=class{constructor(t={}){De(this,In);De(this,La);De(this,Da);De(this,Nd);De(this,Rd);De(this,ja);De(this,Md);De(this,Pd);Ae(this,In,t.queryCache||new RV),Ae(this,La,t.mutationCache||new PV),Ae(this,Da,t.defaultOptions||{}),Ae(this,Nd,new Map),Ae(this,Rd,new Map),Ae(this,ja,0)}mount(){Hm(this,ja)._++,Y(this,ja)===1&&(Ae(this,Md,PS.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,In).onFocus())})),Ae(this,Pd,ly.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,In).onOnline())})))}unmount(){var t,e;Hm(this,ja)._--,Y(this,ja)===0&&((t=Y(this,Md))==null||t.call(this),Ae(this,Md,void 0),(e=Y(this,Pd))==null||e.call(this),Ae(this,Pd,void 0))}isFetching(t){return Y(this,In).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,La).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,In).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Y(this,In).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(sl(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Y(this,In).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=Y(this,In).get(r.queryHash),i=s==null?void 0:s.state.data,o=xV(e,i);if(o!==void 0)return Y(this,In).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Qn.batch(()=>Y(this,In).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,In).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Y(this,In);Qn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Y(this,In);return Qn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Qn.batch(()=>Y(this,In).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Xr).catch(Xr)}invalidateQueries(t,e={}){return Qn.batch(()=>(Y(this,In).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Qn.batch(()=>Y(this,In).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Xr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Y(this,In).build(this,e);return n.isStaleByTime(sl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xr).catch(Xr)}fetchInfiniteQuery(t){return t.behavior=KC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xr).catch(Xr)}ensureInfiniteQueryData(t){return t.behavior=KC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ly.isOnline()?Y(this,La).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,In)}getMutationCache(){return Y(this,La)}getDefaultOptions(){return Y(this,Da)}setDefaultOptions(t){Ae(this,Da,t)}setQueryDefaults(t,e){Y(this,Nd).set(Mc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,Nd).values()],n={};return e.forEach(r=>{pp(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Y(this,Rd).set(Mc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,Rd).values()],n={};return e.forEach(r=>{pp(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,Da).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=RS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===MS&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,Da).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,In).clear(),Y(this,La).clear()}},In=new WeakMap,La=new WeakMap,Da=new WeakMap,Nd=new WeakMap,Rd=new WeakMap,ja=new WeakMap,Md=new WeakMap,Pd=new WeakMap,MR),as,ft,Vp,Qr,mc,Od,Ba,Fa,zp,Ld,Dd,gc,yc,Ua,jd,At,mf,Fb,Ub,Vb,zb,Wb,$b,Hb,y4,PR,DV=(PR=class extends yh{constructor(e,n){super();De(this,At);De(this,as);De(this,ft);De(this,Vp);De(this,Qr);De(this,mc);De(this,Od);De(this,Ba);De(this,Fa);De(this,zp);De(this,Ld);De(this,Dd);De(this,gc);De(this,yc);De(this,Ua);De(this,jd,new Set);this.options=n,Ae(this,as,e),Ae(this,Fa,null),Ae(this,Ba,Bb()),this.options.experimental_prefetchInRender||Y(this,Ba).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,ft).addObserver(this),QC(Y(this,ft),this.options)?rt(this,At,mf).call(this):this.updateResult(),rt(this,At,zb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qb(Y(this,ft),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qb(Y(this,ft),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,rt(this,At,Wb).call(this),rt(this,At,$b).call(this),Y(this,ft).removeObserver(this)}setOptions(e){const n=this.options,r=Y(this,ft);if(this.options=Y(this,as).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hi(this.options.enabled,Y(this,ft))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");rt(this,At,Hb).call(this),Y(this,ft).setOptions(this.options),n._defaulted&&!ay(this.options,n)&&Y(this,as).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,ft),observer:this});const s=this.hasListeners();s&&YC(Y(this,ft),r,this.options,n)&&rt(this,At,mf).call(this),this.updateResult(),s&&(Y(this,ft)!==r||hi(this.options.enabled,Y(this,ft))!==hi(n.enabled,Y(this,ft))||sl(this.options.staleTime,Y(this,ft))!==sl(n.staleTime,Y(this,ft)))&&rt(this,At,Fb).call(this);const i=rt(this,At,Ub).call(this);s&&(Y(this,ft)!==r||hi(this.options.enabled,Y(this,ft))!==hi(n.enabled,Y(this,ft))||i!==Y(this,Ua))&&rt(this,At,Vb).call(this,i)}getOptimisticResult(e){const n=Y(this,as).getQueryCache().build(Y(this,as),e),r=this.createResult(n,e);return BV(this,r)&&(Ae(this,Qr,r),Ae(this,Od,this.options),Ae(this,mc,Y(this,ft).state)),r}getCurrentResult(){return Y(this,Qr)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){Y(this,jd).add(e)}getCurrentQuery(){return Y(this,ft)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Y(this,as).defaultQueryOptions(e),r=Y(this,as).getQueryCache().build(Y(this,as),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return rt(this,At,mf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,Qr)))}createResult(e,n){var U;const r=Y(this,ft),s=this.options,i=Y(this,Qr),o=Y(this,mc),a=Y(this,Od),c=e!==r?e.state:Y(this,Vp),{state:u}=e;let f={...u},p=!1,m;if(n._optimisticResults){const W=this.hasListeners(),$=!W&&QC(e,n),q=W&&YC(e,r,n,s);($||q)&&(f={...f,...m4(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:w}=f;m=f.data;let b=!1;if(n.placeholderData!==void 0&&m===void 0&&w==="pending"){let W;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(W=i.data,b=!0):W=typeof n.placeholderData=="function"?n.placeholderData((U=Y(this,Dd))==null?void 0:U.state.data,Y(this,Dd)):n.placeholderData,W!==void 0&&(w="success",m=jb(i==null?void 0:i.data,W,n),p=!0)}if(n.select&&m!==void 0&&!b)if(i&&m===(o==null?void 0:o.data)&&n.select===Y(this,zp))m=Y(this,Ld);else try{Ae(this,zp,n.select),m=n.select(m),m=jb(i==null?void 0:i.data,m,n),Ae(this,Ld,m),Ae(this,Fa,null)}catch(W){Ae(this,Fa,W)}Y(this,Fa)&&(v=Y(this,Fa),m=Y(this,Ld),g=Date.now(),w="error");const _=f.fetchStatus==="fetching",x=w==="pending",S=w==="error",D=x&&_,F=m!==void 0,R={status:w,fetchStatus:f.fetchStatus,isPending:x,isSuccess:w==="success",isError:S,isInitialLoading:D,isLoading:D,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!x,isLoadingError:S&&!F,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:S&&F,isStale:OS(e,n),refetch:this.refetch,promise:Y(this,Ba)};if(this.options.experimental_prefetchInRender){const W=C=>{R.status==="error"?C.reject(R.error):R.data!==void 0&&C.resolve(R.data)},$=()=>{const C=Ae(this,Ba,R.promise=Bb());W(C)},q=Y(this,Ba);switch(q.status){case"pending":e.queryHash===r.queryHash&&W(q);break;case"fulfilled":(R.status==="error"||R.data!==q.value)&&$();break;case"rejected":(R.status!=="error"||R.error!==q.reason)&&$();break}}return R}updateResult(){const e=Y(this,Qr),n=this.createResult(Y(this,ft),this.options);if(Ae(this,mc,Y(this,ft).state),Ae(this,Od,this.options),Y(this,mc).data!==void 0&&Ae(this,Dd,Y(this,ft)),ay(n,e))return;Ae(this,Qr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Y(this,jd).size)return!0;const o=new Set(i??Y(this,jd));return this.options.throwOnError&&o.add("error"),Object.keys(Y(this,Qr)).some(a=>{const l=a;return Y(this,Qr)[l]!==e[l]&&o.has(l)})};rt(this,At,y4).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&rt(this,At,zb).call(this)}},as=new WeakMap,ft=new WeakMap,Vp=new WeakMap,Qr=new WeakMap,mc=new WeakMap,Od=new WeakMap,Ba=new WeakMap,Fa=new WeakMap,zp=new WeakMap,Ld=new WeakMap,Dd=new WeakMap,gc=new WeakMap,yc=new WeakMap,Ua=new WeakMap,jd=new WeakMap,At=new WeakSet,mf=function(e){rt(this,At,Hb).call(this);let n=Y(this,ft).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Xr)),n},Fb=function(){rt(this,At,Wb).call(this);const e=sl(this.options.staleTime,Y(this,ft));if(Rc||Y(this,Qr).isStale||!Lb(e))return;const r=a4(Y(this,Qr).dataUpdatedAt,e)+1;Ae(this,gc,setTimeout(()=>{Y(this,Qr).isStale||this.updateResult()},r))},Ub=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,ft)):this.options.refetchInterval)??!1},Vb=function(e){rt(this,At,$b).call(this),Ae(this,Ua,e),!(Rc||hi(this.options.enabled,Y(this,ft))===!1||!Lb(Y(this,Ua))||Y(this,Ua)===0)&&Ae(this,yc,setInterval(()=>{(this.options.refetchIntervalInBackground||PS.isFocused())&&rt(this,At,mf).call(this)},Y(this,Ua)))},zb=function(){rt(this,At,Fb).call(this),rt(this,At,Vb).call(this,rt(this,At,Ub).call(this))},Wb=function(){Y(this,gc)&&(clearTimeout(Y(this,gc)),Ae(this,gc,void 0))},$b=function(){Y(this,yc)&&(clearInterval(Y(this,yc)),Ae(this,yc,void 0))},Hb=function(){const e=Y(this,as).getQueryCache().build(Y(this,as),this.options);if(e===Y(this,ft))return;const n=Y(this,ft);Ae(this,ft,e),Ae(this,Vp,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},y4=function(e){Qn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Y(this,Qr))}),Y(this,as).getQueryCache().notify({query:Y(this,ft),type:"observerResultsUpdated"})})},PR);function jV(t,e){return hi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function QC(t,e){return jV(t,e)||t.state.data!==void 0&&qb(t,e,e.refetchOnMount)}function qb(t,e,n){if(hi(e.enabled,t)!==!1&&sl(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&OS(t,e)}return!1}function YC(t,e,n,r){return(t!==e||hi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&OS(t,n)}function OS(t,e){return hi(e.enabled,t)!==!1&&t.isStaleByTime(sl(e.staleTime,t))}function BV(t,e){return!ay(t.getCurrentResult(),e)}var Va,za,ls,bo,Fo,Qg,Kb,OR,FV=(OR=class extends yh{constructor(n,r){super();De(this,Fo);De(this,Va);De(this,za);De(this,ls);De(this,bo);Ae(this,Va,n),this.setOptions(r),this.bindMethods(),rt(this,Fo,Qg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=Y(this,Va).defaultMutationOptions(n),ay(this.options,r)||Y(this,Va).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,ls),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Mc(r.mutationKey)!==Mc(this.options.mutationKey)?this.reset():((s=Y(this,ls))==null?void 0:s.state.status)==="pending"&&Y(this,ls).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Y(this,ls))==null||n.removeObserver(this)}onMutationUpdate(n){rt(this,Fo,Qg).call(this),rt(this,Fo,Kb).call(this,n)}getCurrentResult(){return Y(this,za)}reset(){var n;(n=Y(this,ls))==null||n.removeObserver(this),Ae(this,ls,void 0),rt(this,Fo,Qg).call(this),rt(this,Fo,Kb).call(this)}mutate(n,r){var s;return Ae(this,bo,r),(s=Y(this,ls))==null||s.removeObserver(this),Ae(this,ls,Y(this,Va).getMutationCache().build(Y(this,Va),this.options)),Y(this,ls).addObserver(this),Y(this,ls).execute(n)}},Va=new WeakMap,za=new WeakMap,ls=new WeakMap,bo=new WeakMap,Fo=new WeakSet,Qg=function(){var r;const n=((r=Y(this,ls))==null?void 0:r.state)??g4();Ae(this,za,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Kb=function(n){Qn.batch(()=>{var r,s,i,o,a,l,c,u;if(Y(this,bo)&&this.hasListeners()){const f=Y(this,za).variables,p=Y(this,za).context;(n==null?void 0:n.type)==="success"?((s=(r=Y(this,bo)).onSuccess)==null||s.call(r,n.data,f,p),(o=(i=Y(this,bo)).onSettled)==null||o.call(i,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((l=(a=Y(this,bo)).onError)==null||l.call(a,n.error,f,p),(u=(c=Y(this,bo)).onSettled)==null||u.call(c,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(Y(this,za))})})},OR),w4=N.createContext(void 0),LS=t=>{const e=N.useContext(w4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},UV=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(w4.Provider,{value:t,children:e})),v4=N.createContext(!1),VV=()=>N.useContext(v4);v4.Provider;function zV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var WV=N.createContext(zV()),$V=()=>N.useContext(WV),HV=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},qV=t=>{N.useEffect(()=>{t.clearReset()},[t])},KV=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||u4(n,[t.error,r])),GV=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},QV=(t,e)=>t.isLoading&&t.isFetching&&!e,YV=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,XC=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function XV(t,e,n){var f,p,m,v,g;const r=LS(),s=VV(),i=$V(),o=r.defaultQueryOptions(t);(p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",GV(o),HV(o,i),qV(i);const a=!r.getQueryCache().get(o.queryHash),[l]=N.useState(()=>new e(r,o)),c=l.getOptimisticResult(o),u=!s&&t.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(w=>{const b=u?l.subscribe(Qn.batchCalls(w)):Xr;return l.updateResult(),b},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),N.useEffect(()=>{l.setOptions(o)},[o,l]),YV(o,c))throw XC(o,l,i);if(KV({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((v=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,c),o.experimental_prefetchInRender&&!Rc&&QV(c,s)){const w=a?XC(o,l,i):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;w==null||w.catch(Xr).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function _o(t,e){return XV(t,DV)}function xu(t,e){const n=LS(),[r]=N.useState(()=>new FV(n,t));N.useEffect(()=>{r.setOptions(t)},[r,t]);const s=N.useSyncExternalStore(N.useCallback(o=>r.subscribe(Qn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=N.useCallback((o,a)=>{r.mutate(o,a).catch(Xr)},[r]);if(s.error&&u4(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function ZV(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const JV=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e[0],{credentials:"include"});return await ZV(n),await n.json()},e9=new LV({defaultOptions:{queries:{queryFn:JV({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),t9=1,n9=1e6;let A1=0;function r9(){return A1=(A1+1)%Number.MAX_SAFE_INTEGER,A1.toString()}const I1=new Map,ZC=t=>{if(I1.has(t))return;const e=setTimeout(()=>{I1.delete(t),Vf({type:"REMOVE_TOAST",toastId:t})},n9);I1.set(t,e)},s9=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,t9)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?ZC(n):t.toasts.forEach(r=>{ZC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Yg=[];let Xg={toasts:[]};function Vf(t){Xg=s9(Xg,t),Yg.forEach(e=>{e(Xg)})}function i9({...t}){const e=r9(),n=s=>Vf({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Vf({type:"DISMISS_TOAST",toastId:e});return Vf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Yp(){const[t,e]=N.useState(Xg);return N.useEffect(()=>(Yg.push(e),()=>{const n=Yg.indexOf(e);n>-1&&Yg.splice(n,1)}),[t]),{...t,toast:i9,dismiss:n=>Vf({type:"DISMISS_TOAST",toastId:n})}}function Ve(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function JC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function x4(...t){return e=>{let n=!1;const r=t.map(s=>{const i=JC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():JC(t[s],null)}}}}function Dt(...t){return N.useCallback(x4(...t),t)}function o9(t,e){const n=N.createContext(e),r=i=>{const{children:o,...a}=i,l=N.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=N.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Xi(t,e=[]){let n=[];function r(i,o){const a=N.createContext(o),l=n.length;n=[...n,o];const c=f=>{var b;const{scope:p,children:m,...v}=f,g=((b=p==null?void 0:p[t])==null?void 0:b[l])||a,w=N.useMemo(()=>v,Object.values(v));return d.jsx(g.Provider,{value:w,children:m})};c.displayName=i+"Provider";function u(f,p){var g;const m=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,v=N.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>N.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return N.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,a9(s,...e)]}function a9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function qd(t){const e=c9(t),n=N.forwardRef((r,s)=>{const{children:i,...o}=r,a=N.Children.toArray(i),l=a.find(d9);if(l){const c=l.props.children,u=a.map(f=>f===l?N.Children.count(c)>1?N.Children.only(null):N.isValidElement(c)?c.props.children:null:f);return d.jsx(e,{...o,ref:s,children:N.isValidElement(c)?N.cloneElement(c,void 0,u):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var l9=qd("Slot");function c9(t){const e=N.forwardRef((n,r)=>{const{children:s,...i}=n;if(N.isValidElement(s)){const o=f9(s),a=h9(i,s.props);return s.type!==N.Fragment&&(a.ref=r?x4(r,o):o),N.cloneElement(s,a)}return N.Children.count(s)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var b4=Symbol("radix.slottable");function u9(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=b4,e}function d9(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===b4}function h9(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function f9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function DS(t){const e=t+"CollectionProvider",[n,r]=Xi(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:b}=g,_=ce.useRef(null),x=ce.useRef(new Map).current;return d.jsx(s,{scope:w,itemMap:x,collectionRef:_,children:b})};o.displayName=e;const a=t+"CollectionSlot",l=qd(a),c=ce.forwardRef((g,w)=>{const{scope:b,children:_}=g,x=i(a,b),S=Dt(w,x.collectionRef);return d.jsx(l,{ref:S,children:_})});c.displayName=a;const u=t+"CollectionItemSlot",f="data-radix-collection-item",p=qd(u),m=ce.forwardRef((g,w)=>{const{scope:b,children:_,...x}=g,S=ce.useRef(null),D=Dt(w,S),F=i(u,b);return ce.useEffect(()=>(F.itemMap.set(S,{ref:S,...x}),()=>void F.itemMap.delete(S))),d.jsx(p,{[f]:"",ref:D,children:_})});m.displayName=u;function v(g){const w=i(t+"CollectionConsumer",g);return ce.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const x=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((F,M)=>x.indexOf(F.ref.current)-x.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},v,r]}var p9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=p9.reduce((t,e)=>{const n=qd(`Primitive.${e}`),r=N.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _4(t,e){t&&Il.flushSync(()=>t.dispatchEvent(e))}function Js(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function m9(t,e=globalThis==null?void 0:globalThis.document){const n=Js(t);N.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var g9="DismissableLayer",Gb="dismissableLayer.update",y9="dismissableLayer.pointerDownOutside",w9="dismissableLayer.focusOutside",ek,E4=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xp=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=N.useContext(E4),[u,f]=N.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=N.useState({}),v=Dt(e,M=>f(M)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(w),_=u?g.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,S=_>=b,D=x9(M=>{const R=M.target,U=[...c.branches].some(W=>W.contains(R));!S||U||(s==null||s(M),o==null||o(M),M.defaultPrevented||a==null||a())},p),F=b9(M=>{const R=M.target;[...c.branches].some(W=>W.contains(R))||(i==null||i(M),o==null||o(M),M.defaultPrevented||a==null||a())},p);return m9(M=>{_===c.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},p),N.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ek=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),tk(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ek)}},[u,p,n,c]),N.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),tk())},[u,c]),N.useEffect(()=>{const M=()=>m({});return document.addEventListener(Gb,M),()=>document.removeEventListener(Gb,M)},[]),d.jsx(Ze.div,{...l,ref:v,style:{pointerEvents:x?S?"auto":"none":void 0,...t.style},onFocusCapture:Ve(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Ve(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Ve(t.onPointerDownCapture,D.onPointerDownCapture)})});Xp.displayName=g9;var v9="DismissableLayerBranch",S4=N.forwardRef((t,e)=>{const n=N.useContext(E4),r=N.useRef(null),s=Dt(e,r);return N.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Ze.div,{...t,ref:s})});S4.displayName=v9;function x9(t,e=globalThis==null?void 0:globalThis.document){const n=Js(t),r=N.useRef(!1),s=N.useRef(()=>{});return N.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){T4(y9,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function b9(t,e=globalThis==null?void 0:globalThis.document){const n=Js(t),r=N.useRef(!1);return N.useEffect(()=>{const s=i=>{i.target&&!r.current&&T4(w9,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function tk(){const t=new CustomEvent(Gb);document.dispatchEvent(t)}function T4(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_4(s,i):s.dispatchEvent(i)}var _9=Xp,E9=S4,Er=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},S9="Portal",Nw=N.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=N.useState(!1);Er(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?$U.createPortal(d.jsx(Ze.div,{...r,ref:e}),o):null});Nw.displayName=S9;function T9(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var Qc=t=>{const{present:e,children:n}=t,r=A9(e),s=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),i=Dt(r.ref,I9(s));return typeof n=="function"||r.isPresent?N.cloneElement(s,{ref:i}):null};Qc.displayName="Presence";function A9(t){const[e,n]=N.useState(),r=N.useRef(null),s=N.useRef(t),i=N.useRef("none"),o=t?"mounted":"unmounted",[a,l]=T9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const c=ug(r.current);i.current=a==="mounted"?c:"none"},[a]),Er(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,m=ug(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Er(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=m=>{const g=ug(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},p=m=>{m.target===e&&(i.current=ug(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:N.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function ug(t){return(t==null?void 0:t.animationName)||"none"}function I9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var C9=jE[" useInsertionEffect ".trim().toString()]||Er;function Pc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=k9({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const u=N.useRef(t!==void 0);N.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=N.useCallback(u=>{var f;if(a){const p=N9(u)?u(t):u;p!==t&&((f=o.current)==null||f.call(o,p))}else i(u)},[a,t,i,o]);return[l,c]}function k9({defaultProp:t,onChange:e}){const[n,r]=N.useState(t),s=N.useRef(n),i=N.useRef(e);return C9(()=>{i.current=e},[e]),N.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function N9(t){return typeof t=="function"}var A4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),R9="VisuallyHidden",Rw=N.forwardRef((t,e)=>d.jsx(Ze.span,{...t,ref:e,style:{...A4,...t.style}}));Rw.displayName=R9;var M9=Rw,jS="ToastProvider",[BS,P9,O9]=DS("Toast"),[I4,Iue]=Xi("Toast",[O9]),[L9,Mw]=I4(jS),C4=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=N.useState(null),[c,u]=N.useState(0),f=N.useRef(!1),p=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${jS}\`. Expected non-empty \`string\`.`),d.jsx(BS.Provider,{scope:e,children:d.jsx(L9,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:N.useCallback(()=>u(m=>m+1),[]),onToastRemove:N.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};C4.displayName=jS;var k4="ToastViewport",D9=["F8"],Qb="toast.viewportPause",Yb="toast.viewportResume",N4=N.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=D9,label:s="Notifications ({hotkey})",...i}=t,o=Mw(k4,n),a=P9(n),l=N.useRef(null),c=N.useRef(null),u=N.useRef(null),f=N.useRef(null),p=Dt(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;N.useEffect(()=>{const w=b=>{var x;r.length!==0&&r.every(S=>b[S]||b.code===S)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),N.useEffect(()=>{const w=l.current,b=f.current;if(v&&w&&b){const _=()=>{if(!o.isClosePausedRef.current){const F=new CustomEvent(Qb);b.dispatchEvent(F),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const F=new CustomEvent(Yb);b.dispatchEvent(F),o.isClosePausedRef.current=!1}},S=F=>{!w.contains(F.relatedTarget)&&x()},D=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",_),w.addEventListener("focusout",S),w.addEventListener("pointermove",_),w.addEventListener("pointerleave",D),window.addEventListener("blur",_),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",_),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",_),w.removeEventListener("pointerleave",D),window.removeEventListener("blur",_),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const g=N.useCallback(({tabbingDirection:w})=>{const _=a().map(x=>{const S=x.ref.current,D=[S,...Q9(S)];return w==="forwards"?D:D.reverse()});return(w==="forwards"?_.reverse():_).flat()},[a]);return N.useEffect(()=>{const w=f.current;if(w){const b=_=>{var D,F,M;const x=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!x){const R=document.activeElement,U=_.shiftKey;if(_.target===w&&U){(D=c.current)==null||D.focus();return}const q=g({tabbingDirection:U?"backwards":"forwards"}),C=q.findIndex(y=>y===R);C1(q.slice(C+1))?_.preventDefault():U?(F=c.current)==null||F.focus():(M=u.current)==null||M.focus()}};return w.addEventListener("keydown",b),()=>w.removeEventListener("keydown",b)}},[a,g]),d.jsxs(E9,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&d.jsx(Xb,{ref:c,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});C1(w)}}),d.jsx(BS.Slot,{scope:n,children:d.jsx(Ze.ol,{tabIndex:-1,...i,ref:p})}),v&&d.jsx(Xb,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});C1(w)}})]})});N4.displayName=k4;var R4="ToastFocusProxy",Xb=N.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Mw(R4,n);return d.jsx(Rw,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Xb.displayName=R4;var Zp="Toast",j9="toast.swipeStart",B9="toast.swipeMove",F9="toast.swipeCancel",U9="toast.swipeEnd",M4=N.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Pc({prop:r,defaultProp:s??!0,onChange:i,caller:Zp});return d.jsx(Qc,{present:n||a,children:d.jsx(W9,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Js(t.onPause),onResume:Js(t.onResume),onSwipeStart:Ve(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ve(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ve(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ve(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});M4.displayName=Zp;var[V9,z9]=I4(Zp,{onClose(){}}),W9=N.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...v}=t,g=Mw(Zp,n),[w,b]=N.useState(null),_=Dt(e,y=>b(y)),x=N.useRef(null),S=N.useRef(null),D=s||g.duration,F=N.useRef(0),M=N.useRef(D),R=N.useRef(0),{onToastAdd:U,onToastRemove:W}=g,$=Js(()=>{var A;(w==null?void 0:w.contains(document.activeElement))&&((A=g.viewport)==null||A.focus()),o()}),q=N.useCallback(y=>{!y||y===1/0||(window.clearTimeout(R.current),F.current=new Date().getTime(),R.current=window.setTimeout($,y))},[$]);N.useEffect(()=>{const y=g.viewport;if(y){const A=()=>{q(M.current),c==null||c()},O=()=>{const z=new Date().getTime()-F.current;M.current=M.current-z,window.clearTimeout(R.current),l==null||l()};return y.addEventListener(Qb,O),y.addEventListener(Yb,A),()=>{y.removeEventListener(Qb,O),y.removeEventListener(Yb,A)}}},[g.viewport,D,l,c,q]),N.useEffect(()=>{i&&!g.isClosePausedRef.current&&q(D)},[i,D,g.isClosePausedRef,q]),N.useEffect(()=>(U(),()=>W()),[U,W]);const C=N.useMemo(()=>w?F4(w):null,[w]);return g.viewport?d.jsxs(d.Fragment,{children:[C&&d.jsx($9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:C}),d.jsx(V9,{scope:n,onClose:$,children:Il.createPortal(d.jsx(BS.ItemSlot,{scope:n,children:d.jsx(_9,{asChild:!0,onEscapeKeyDown:Ve(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||$(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ve(t.onKeyDown,y=>{y.key==="Escape"&&(a==null||a(y.nativeEvent),y.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:Ve(t.onPointerDown,y=>{y.button===0&&(x.current={x:y.clientX,y:y.clientY})}),onPointerMove:Ve(t.onPointerMove,y=>{if(!x.current)return;const A=y.clientX-x.current.x,O=y.clientY-x.current.y,z=!!S.current,L=["left","right"].includes(g.swipeDirection),j=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=L?j(0,A):0,B=L?0:j(0,O),T=y.pointerType==="touch"?10:2,K={x:H,y:B},ae={originalEvent:y,delta:K};z?(S.current=K,dg(B9,f,ae,{discrete:!1})):nk(K,g.swipeDirection,T)?(S.current=K,dg(j9,u,ae,{discrete:!1}),y.target.setPointerCapture(y.pointerId)):(Math.abs(A)>T||Math.abs(O)>T)&&(x.current=null)}),onPointerUp:Ve(t.onPointerUp,y=>{const A=S.current,O=y.target;if(O.hasPointerCapture(y.pointerId)&&O.releasePointerCapture(y.pointerId),S.current=null,x.current=null,A){const z=y.currentTarget,L={originalEvent:y,delta:A};nk(A,g.swipeDirection,g.swipeThreshold)?dg(U9,m,L,{discrete:!0}):dg(F9,p,L,{discrete:!0}),z.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),$9=t=>{const{__scopeToast:e,children:n,...r}=t,s=Mw(Zp,e),[i,o]=N.useState(!1),[a,l]=N.useState(!1);return K9(()=>o(!0)),N.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(Nw,{asChild:!0,children:d.jsx(Rw,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},H9="ToastTitle",P4=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ze.div,{...r,ref:e})});P4.displayName=H9;var q9="ToastDescription",O4=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ze.div,{...r,ref:e})});O4.displayName=q9;var L4="ToastAction",D4=N.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(B4,{altText:n,asChild:!0,children:d.jsx(FS,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${L4}\`. Expected non-empty \`string\`.`),null)});D4.displayName=L4;var j4="ToastClose",FS=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=z9(j4,n);return d.jsx(B4,{asChild:!0,children:d.jsx(Ze.button,{type:"button",...r,ref:e,onClick:Ve(t.onClick,s.onClose)})})});FS.displayName=j4;var B4=N.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function F4(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),G9(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...F4(r))}}),e}function dg(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_4(s,i):s.dispatchEvent(i)}var nk=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function K9(t=()=>{}){const e=Js(t);Er(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function G9(t){return t.nodeType===t.ELEMENT_NODE}function Q9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function C1(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Y9=C4,U4=N4,V4=M4,z4=P4,W4=O4,$4=D4,H4=FS;function q4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=q4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function K4(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=q4(t))&&(r&&(r+=" "),r+=e);return r}const rk=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,sk=K4,Jp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return sk(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],f=i==null?void 0:i[c];if(u===null)return null;const p=rk(u)||rk(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,p]=u;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:p,...m}=u;return Object.entries(m).every(v=>{let[g,w]=v;return Array.isArray(w)?w.includes({...i,...a}[g]):{...i,...a}[g]===w})?[...c,f,p]:c},[]);return sk(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G4=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>N.createElement("svg",{ref:l,...Z9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:G4("lucide",s),...a},[...o.map(([c,u])=>N.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(t,e)=>{const n=N.forwardRef(({className:r,...s},i)=>N.createElement(J9,{ref:i,iconNode:e,className:G4(`lucide-${X9(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=Je("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=Je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Je("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=Je("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=Je("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=Je("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=Je("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=Je("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=Je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=Je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=Je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=Je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=Je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=Je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=Je("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=Je("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=Je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=Je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=Je("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=Je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=Je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=Je("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=Je("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=Je("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=Je("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=Je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=Je("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=Je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=Je("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=Je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=Je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Je("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=Je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=Je("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=Je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=Je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=Je("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=Je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=Je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=Je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Je("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=Je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Je("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),$S="-",vz=t=>{const e=bz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split($S);return a[0]===""&&a.length!==1&&a.shift(),J4(a,e)||xz(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},J4=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?J4(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join($S);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},uk=/^\[(.+)\]$/,xz=t=>{if(uk.test(t)){const e=uk.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},bz=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Ez(Object.entries(t.classGroups),n).forEach(([i,o])=>{Jb(o,r,i,e)}),r},Jb=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:dk(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(_z(s)){Jb(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Jb(o,dk(e,i),n,r)})})},dk=(t,e)=>{let n=t;return e.split($S).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},_z=t=>t.isThemeGetter,Ez=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Sz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},eO="!",Tz=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,f;for(let w=0;w<a.length;w++){let b=a[w];if(c===0){if(b===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(u,w)),u=w+i;continue}if(b==="/"){f=w;continue}}b==="["?c++:b==="]"&&c--}const p=l.length===0?a:a.substring(u),m=p.startsWith(eO),v=m?p.substring(1):p,g=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},Az=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Iz=t=>({cache:Sz(t.cacheSize),parseClassName:Tz(t),...vz(t)}),Cz=/\s+/,kz=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Cz);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let v=!!m,g=r(v?p.substring(0,m):p);if(!g){if(!v){a=c+(a.length>0?" "+a:a);continue}if(g=r(p),!g){a=c+(a.length>0?" "+a:a);continue}v=!1}const w=Az(u).join(":"),b=f?w+eO:w,_=b+g;if(i.includes(_))continue;i.push(_);const x=s(g,v);for(let S=0;S<x.length;++S){const D=x[S];i.push(b+D)}a=c+(a.length>0?" "+a:a)}return a};function Nz(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=tO(e))&&(r&&(r+=" "),r+=n);return r}const tO=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=tO(t[r]))&&(n&&(n+=" "),n+=e);return n};function Rz(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,f)=>f(u),t());return n=Iz(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=kz(l,n);return s(l,u),u}return function(){return i(Nz.apply(null,arguments))}}const Jt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},nO=/^\[(?:([a-z-]+):)?(.+)\]$/i,Mz=/^\d+\/\d+$/,Pz=new Set(["px","full","screen"]),Oz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,co=t=>fd(t)||Pz.has(t)||Mz.test(t),oa=t=>wh(t,"length",qz),fd=t=>!!t&&!Number.isNaN(Number(t)),M1=t=>wh(t,"number",fd),Jh=t=>!!t&&Number.isInteger(Number(t)),Fz=t=>t.endsWith("%")&&fd(t.slice(0,-1)),nt=t=>nO.test(t),aa=t=>Oz.test(t),Uz=new Set(["length","size","percentage"]),Vz=t=>wh(t,Uz,rO),zz=t=>wh(t,"position",rO),Wz=new Set(["image","url"]),$z=t=>wh(t,Wz,Gz),Hz=t=>wh(t,"",Kz),ef=()=>!0,wh=(t,e,n)=>{const r=nO.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},qz=t=>Lz.test(t)&&!Dz.test(t),rO=()=>!1,Kz=t=>jz.test(t),Gz=t=>Bz.test(t),Qz=()=>{const t=Jt("colors"),e=Jt("spacing"),n=Jt("blur"),r=Jt("brightness"),s=Jt("borderColor"),i=Jt("borderRadius"),o=Jt("borderSpacing"),a=Jt("borderWidth"),l=Jt("contrast"),c=Jt("grayscale"),u=Jt("hueRotate"),f=Jt("invert"),p=Jt("gap"),m=Jt("gradientColorStops"),v=Jt("gradientColorStopPositions"),g=Jt("inset"),w=Jt("margin"),b=Jt("opacity"),_=Jt("padding"),x=Jt("saturate"),S=Jt("scale"),D=Jt("sepia"),F=Jt("skew"),M=Jt("space"),R=Jt("translate"),U=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",nt,e],q=()=>[nt,e],C=()=>["",co,oa],y=()=>["auto",fd,nt],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",nt],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[fd,nt];return{cacheSize:500,separator:":",theme:{colors:[ef],spacing:[co,oa],blur:["none","",aa,nt],brightness:B(),borderColor:[t],borderRadius:["none","","full",aa,nt],borderSpacing:q(),borderWidth:C(),contrast:B(),grayscale:j(),hueRotate:B(),invert:j(),gap:q(),gradientColorStops:[t],gradientColorStopPositions:[Fz,oa],inset:$(),margin:$(),opacity:B(),padding:q(),saturate:B(),scale:B(),sepia:j(),skew:B(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",nt]}],container:["container"],columns:[{columns:[aa]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),nt]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jh,nt]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nt]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Jh,nt]}],"grid-cols":[{"grid-cols":[ef]}],"col-start-end":[{col:["auto",{span:["full",Jh,nt]},nt]}],"col-start":[{"col-start":y()}],"col-end":[{"col-end":y()}],"grid-rows":[{"grid-rows":[ef]}],"row-start-end":[{row:["auto",{span:[Jh,nt]},nt]}],"row-start":[{"row-start":y()}],"row-end":[{"row-end":y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nt,e]}],"min-w":[{"min-w":[nt,e,"min","max","fit"]}],"max-w":[{"max-w":[nt,e,"none","full","min","max","fit","prose",{screen:[aa]},aa]}],h:[{h:[nt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",aa,oa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",M1]}],"font-family":[{font:[ef]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nt]}],"line-clamp":[{"line-clamp":["none",fd,M1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",co,nt]}],"list-image":[{"list-image":["none",nt]}],"list-style-type":[{list:["none","disc","decimal",nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",co,oa]}],"underline-offset":[{"underline-offset":["auto",co,nt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),zz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Vz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$z]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[co,nt]}],"outline-w":[{outline:[co,oa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[co,oa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",aa,Hz]}],"shadow-color":[{shadow:[ef]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",aa,nt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nt]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",nt]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Jh,nt]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[co,oa,M1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Yz=Rz(Qz);function We(...t){return Yz(K4(t))}const Xz=Y9,sO=N.forwardRef(({className:t,...e},n)=>d.jsx(U4,{ref:n,className:We("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));sO.displayName=U4.displayName;const Zz=Jp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iO=N.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(V4,{ref:r,className:We(Zz({variant:e}),t),...n}));iO.displayName=V4.displayName;const Jz=N.forwardRef(({className:t,...e},n)=>d.jsx($4,{ref:n,className:We("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Jz.displayName=$4.displayName;const oO=N.forwardRef(({className:t,...e},n)=>d.jsx(H4,{ref:n,className:We("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(WS,{className:"h-4 w-4"})}));oO.displayName=H4.displayName;const aO=N.forwardRef(({className:t,...e},n)=>d.jsx(z4,{ref:n,className:We("text-sm font-semibold",t),...e}));aO.displayName=z4.displayName;const lO=N.forwardRef(({className:t,...e},n)=>d.jsx(W4,{ref:n,className:We("text-sm opacity-90",t),...e}));lO.displayName=W4.displayName;function e7(){const{toasts:t}=Yp();return d.jsxs(Xz,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(iO,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(aO,{children:n}),r&&d.jsx(lO,{children:r})]}),s,d.jsx(oO,{})]},e)}),d.jsx(sO,{})]})}var t7=jE[" useId ".trim().toString()]||(()=>{}),n7=0;function ol(t){const[e,n]=N.useState(t7());return Er(()=>{n(r=>r??String(n7++))},[t]),e?`radix-${e}`:""}const r7=["top","right","bottom","left"],pl=Math.min,Cs=Math.max,cy=Math.round,fg=Math.floor,Vi=t=>({x:t,y:t}),s7={left:"right",right:"left",bottom:"top",top:"bottom"},i7={start:"end",end:"start"};function e_(t,e,n){return Cs(t,pl(e,n))}function $o(t,e){return typeof t=="function"?t(e):t}function Ho(t){return t.split("-")[0]}function vh(t){return t.split("-")[1]}function HS(t){return t==="x"?"y":"x"}function qS(t){return t==="y"?"height":"width"}function Bo(t){return["top","bottom"].includes(Ho(t))?"y":"x"}function KS(t){return HS(Bo(t))}function o7(t,e,n){n===void 0&&(n=!1);const r=vh(t),s=KS(t),i=qS(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=uy(o)),[o,uy(o)]}function a7(t){const e=uy(t);return[t_(t),e,t_(e)]}function t_(t){return t.replace(/start|end/g,e=>i7[e])}function l7(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function c7(t,e,n,r){const s=vh(t);let i=l7(Ho(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(t_)))),i}function uy(t){return t.replace(/left|right|bottom|top/g,e=>s7[e])}function u7(t){return{top:0,right:0,bottom:0,left:0,...t}}function cO(t){return typeof t!="number"?u7(t):{top:t,right:t,bottom:t,left:t}}function dy(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function hk(t,e,n){let{reference:r,floating:s}=t;const i=Bo(e),o=KS(e),a=qS(o),l=Ho(e),c=i==="y",u=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-s.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(vh(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const d7=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:f}=hk(c,r,l),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:w,fn:b}=a[g],{x:_,y:x,data:S,reset:D}=await b({x:u,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});u=_??u,f=x??f,m={...m,[w]:{...m[w],...S}},D&&v<=50&&(v++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:u,y:f}=hk(c,p,l)),g=-1)}return{x:u,y:f,placement:p,strategy:s,middlewareData:m}};async function gp(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=$o(e,t),v=cO(m),w=a[p?f==="floating"?"reference":"floating":f],b=dy(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},D=dy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:x,strategy:l}):_);return{top:(b.top-D.top+v.top)/S.y,bottom:(D.bottom-b.bottom+v.bottom)/S.y,left:(b.left-D.left+v.left)/S.x,right:(D.right-b.right+v.right)/S.x}}const h7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=$o(t,e)||{};if(c==null)return{};const f=cO(u),p={x:n,y:r},m=KS(s),v=qS(m),g=await o.getDimensions(c),w=m==="y",b=w?"top":"left",_=w?"bottom":"right",x=w?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[m]-p[m]-i.floating[v],D=p[m]-i.reference[m],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let M=F?F[x]:0;(!M||!await(o.isElement==null?void 0:o.isElement(F)))&&(M=a.floating[x]||i.floating[v]);const R=S/2-D/2,U=M/2-g[v]/2-1,W=pl(f[b],U),$=pl(f[_],U),q=W,C=M-g[v]-$,y=M/2-g[v]/2+R,A=e_(q,y,C),O=!l.arrow&&vh(s)!=null&&y!==A&&i.reference[v]/2-(y<q?W:$)-g[v]/2<0,z=O?y<q?y-q:y-C:0;return{[m]:p[m]+z,data:{[m]:A,centerOffset:y-A-z,...O&&{alignmentOffset:z}},reset:O}}}),f7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...w}=$o(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Ho(s),_=Bo(a),x=Ho(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=p||(x||!g?[uy(a)]:a7(a)),F=v!=="none";!p&&F&&D.push(...c7(a,g,v,S));const M=[a,...D],R=await gp(e,w),U=[];let W=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&U.push(R[b]),f){const A=o7(s,o,S);U.push(R[A[0]],R[A[1]])}if(W=[...W,{placement:s,overflows:U}],!U.every(A=>A<=0)){var $,q;const A=((($=i.flip)==null?void 0:$.index)||0)+1,O=M[A];if(O){var C;const L=f==="alignment"?_!==Bo(O):!1,j=((C=W[0])==null?void 0:C.overflows[0])>0;if(!L||j)return{data:{index:A,overflows:W},reset:{placement:O}}}let z=(q=W.filter(L=>L.overflows[0]<=0).sort((L,j)=>L.overflows[1]-j.overflows[1])[0])==null?void 0:q.placement;if(!z)switch(m){case"bestFit":{var y;const L=(y=W.filter(j=>{if(F){const H=Bo(j.placement);return H===_||H==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(H=>H>0).reduce((H,B)=>H+B,0)]).sort((j,H)=>j[1]-H[1])[0])==null?void 0:y[0];L&&(z=L);break}case"initialPlacement":z=a;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function fk(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function pk(t){return r7.some(e=>t[e]>=0)}const p7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=$o(t,e);switch(r){case"referenceHidden":{const i=await gp(e,{...s,elementContext:"reference"}),o=fk(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:pk(o)}}}case"escaped":{const i=await gp(e,{...s,altBoundary:!0}),o=fk(i,n.floating);return{data:{escapedOffsets:o,escaped:pk(o)}}}default:return{}}}}};async function m7(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ho(n),a=vh(n),l=Bo(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,f=$o(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const g7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await m7(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},y7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:b,y:_}=w;return{x:b,y:_}}},...l}=$o(t,e),c={x:n,y:r},u=await gp(e,l),f=Bo(Ho(s)),p=HS(f);let m=c[p],v=c[f];if(i){const w=p==="y"?"top":"left",b=p==="y"?"bottom":"right",_=m+u[w],x=m-u[b];m=e_(_,m,x)}if(o){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",_=v+u[w],x=v-u[b];v=e_(_,v,x)}const g=a.fn({...e,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:i,[f]:o}}}}}},w7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=$o(t,e),u={x:n,y:r},f=Bo(s),p=HS(f);let m=u[p],v=u[f];const g=$o(a,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=p==="y"?"height":"width",S=i.reference[p]-i.floating[x]+w.mainAxis,D=i.reference[p]+i.reference[x]-w.mainAxis;m<S?m=S:m>D&&(m=D)}if(c){var b,_;const x=p==="y"?"width":"height",S=["top","left"].includes(Ho(s)),D=i.reference[f]-i.floating[x]+(S&&((b=o.offset)==null?void 0:b[f])||0)+(S?0:w.crossAxis),F=i.reference[f]+i.reference[x]+(S?0:((_=o.offset)==null?void 0:_[f])||0)-(S?w.crossAxis:0);v<D?v=D:v>F&&(v=F)}return{[p]:m,[f]:v}}}},v7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=$o(t,e),u=await gp(e,c),f=Ho(s),p=vh(s),m=Bo(s)==="y",{width:v,height:g}=i.floating;let w,b;f==="top"||f==="bottom"?(w=f,b=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,w=p==="end"?"top":"bottom");const _=g-u.top-u.bottom,x=v-u.left-u.right,S=pl(g-u[w],_),D=pl(v-u[b],x),F=!e.middlewareData.shift;let M=S,R=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=_),F&&!p){const W=Cs(u.left,0),$=Cs(u.right,0),q=Cs(u.top,0),C=Cs(u.bottom,0);m?R=v-2*(W!==0||$!==0?W+$:Cs(u.left,u.right)):M=g-2*(q!==0||C!==0?q+C:Cs(u.top,u.bottom))}await l({...e,availableWidth:R,availableHeight:M});const U=await o.getDimensions(a.floating);return v!==U.width||g!==U.height?{reset:{rects:!0}}:{}}}};function Ow(){return typeof window<"u"}function xh(t){return uO(t)?(t.nodeName||"").toLowerCase():"#document"}function Ms(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zi(t){var e;return(e=(uO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uO(t){return Ow()?t instanceof Node||t instanceof Ms(t).Node:!1}function _i(t){return Ow()?t instanceof Element||t instanceof Ms(t).Element:!1}function Ki(t){return Ow()?t instanceof HTMLElement||t instanceof Ms(t).HTMLElement:!1}function mk(t){return!Ow()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ms(t).ShadowRoot}function tm(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ei(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function x7(t){return["table","td","th"].includes(xh(t))}function Lw(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function GS(t){const e=QS(),n=_i(t)?Ei(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function b7(t){let e=ml(t);for(;Ki(e)&&!Kd(e);){if(GS(e))return e;if(Lw(e))return null;e=ml(e)}return null}function QS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kd(t){return["html","body","#document"].includes(xh(t))}function Ei(t){return Ms(t).getComputedStyle(t)}function Dw(t){return _i(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ml(t){if(xh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mk(t)&&t.host||Zi(t);return mk(e)?e.host:e}function dO(t){const e=ml(t);return Kd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ki(e)&&tm(e)?e:dO(e)}function yp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=dO(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ms(s);if(i){const a=n_(o);return e.concat(o,o.visualViewport||[],tm(s)?s:[],a&&n?yp(a):[])}return e.concat(s,yp(s,[],n))}function n_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hO(t){const e=Ei(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ki(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=cy(n)!==i||cy(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function YS(t){return _i(t)?t:t.contextElement}function pd(t){const e=YS(t);if(!Ki(e))return Vi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=hO(e);let o=(i?cy(n.width):n.width)/r,a=(i?cy(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const _7=Vi(0);function fO(t){const e=Ms(t);return!QS()||!e.visualViewport?_7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function E7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ms(t)?!1:e}function Oc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=YS(t);let o=Vi(1);e&&(r?_i(r)&&(o=pd(r)):o=pd(t));const a=E7(i,n,r)?fO(i):Vi(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(i){const p=Ms(i),m=r&&_i(r)?Ms(r):r;let v=p,g=n_(v);for(;g&&r&&m!==v;){const w=pd(g),b=g.getBoundingClientRect(),_=Ei(g),x=b.left+(g.clientLeft+parseFloat(_.paddingLeft))*w.x,S=b.top+(g.clientTop+parseFloat(_.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,f*=w.y,l+=x,c+=S,v=Ms(g),g=n_(v)}}return dy({width:u,height:f,x:l,y:c})}function XS(t,e){const n=Dw(t).scrollLeft;return e?e.left+n:Oc(Zi(t)).left+n}function pO(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:XS(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function S7(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Zi(r),a=e?Lw(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Vi(1);const u=Vi(0),f=Ki(r);if((f||!f&&!i)&&((xh(r)!=="body"||tm(o))&&(l=Dw(r)),Ki(r))){const m=Oc(r);c=pd(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const p=o&&!f&&!i?pO(o,l,!0):Vi(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function T7(t){return Array.from(t.getClientRects())}function A7(t){const e=Zi(t),n=Dw(t),r=t.ownerDocument.body,s=Cs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Cs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+XS(t);const a=-n.scrollTop;return Ei(r).direction==="rtl"&&(o+=Cs(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function I7(t,e){const n=Ms(t),r=Zi(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=QS();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function C7(t,e){const n=Oc(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ki(t)?pd(t):Vi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function gk(t,e,n){let r;if(e==="viewport")r=I7(t,n);else if(e==="document")r=A7(Zi(t));else if(_i(e))r=C7(e,n);else{const s=fO(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return dy(r)}function mO(t,e){const n=ml(t);return n===e||!_i(n)||Kd(n)?!1:Ei(n).position==="fixed"||mO(n,e)}function k7(t,e){const n=e.get(t);if(n)return n;let r=yp(t,[],!1).filter(a=>_i(a)&&xh(a)!=="body"),s=null;const i=Ei(t).position==="fixed";let o=i?ml(t):t;for(;_i(o)&&!Kd(o);){const a=Ei(o),l=GS(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||tm(o)&&!l&&mO(t,o))?r=r.filter(u=>u!==o):s=a,o=ml(o)}return e.set(t,r),r}function N7(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Lw(e)?[]:k7(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const f=gk(e,u,s);return c.top=Cs(f.top,c.top),c.right=pl(f.right,c.right),c.bottom=pl(f.bottom,c.bottom),c.left=Cs(f.left,c.left),c},gk(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function R7(t){const{width:e,height:n}=hO(t);return{width:e,height:n}}function M7(t,e,n){const r=Ki(e),s=Zi(e),i=n==="fixed",o=Oc(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Vi(0);function c(){l.x=XS(s)}if(r||!r&&!i)if((xh(e)!=="body"||tm(s))&&(a=Dw(e)),r){const m=Oc(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?pO(s,a):Vi(0),f=o.left+a.scrollLeft-l.x-u.x,p=o.top+a.scrollTop-l.y-u.y;return{x:f,y:p,width:o.width,height:o.height}}function P1(t){return Ei(t).position==="static"}function yk(t,e){if(!Ki(t)||Ei(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zi(t)===n&&(n=n.ownerDocument.body),n}function gO(t,e){const n=Ms(t);if(Lw(t))return n;if(!Ki(t)){let s=ml(t);for(;s&&!Kd(s);){if(_i(s)&&!P1(s))return s;s=ml(s)}return n}let r=yk(t,e);for(;r&&x7(r)&&P1(r);)r=yk(r,e);return r&&Kd(r)&&P1(r)&&!GS(r)?n:r||b7(t)||n}const P7=async function(t){const e=this.getOffsetParent||gO,n=this.getDimensions,r=await n(t.floating);return{reference:M7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function O7(t){return Ei(t).direction==="rtl"}const L7={convertOffsetParentRelativeRectToViewportRelativeRect:S7,getDocumentElement:Zi,getClippingRect:N7,getOffsetParent:gO,getElementRects:P7,getClientRects:T7,getDimensions:R7,getScale:pd,isElement:_i,isRTL:O7};function yO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function D7(t,e){let n=null,r;const s=Zi(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:f,width:p,height:m}=c;if(a||e(),!p||!m)return;const v=fg(f),g=fg(s.clientWidth-(u+p)),w=fg(s.clientHeight-(f+m)),b=fg(u),x={rootMargin:-v+"px "+-g+"px "+-w+"px "+-b+"px",threshold:Cs(0,pl(1,l))||1};let S=!0;function D(F){const M=F[0].intersectionRatio;if(M!==l){if(!S)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!yO(c,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(D,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,x)}n.observe(t)}return o(!0),i}function j7(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=YS(t),u=s||i?[...c?yp(c):[],...yp(e)]:[];u.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=c&&a?D7(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(b=>{let[_]=b;_&&_.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,g=l?Oc(t):null;l&&w();function w(){const b=Oc(t);g&&!yO(g,b)&&n(),g=b,v=requestAnimationFrame(w)}return n(),()=>{var b;u.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const B7=g7,F7=y7,U7=f7,V7=v7,z7=p7,wk=h7,W7=w7,$7=(t,e,n)=>{const r=new Map,s={platform:L7,...n},i={...s.platform,_c:r};return d7(t,e,{...s,platform:i})};var Jg=typeof document<"u"?N.useLayoutEffect:N.useEffect;function hy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!hy(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!hy(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function wO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function vk(t,e){const n=wO(t);return Math.round(e*n)/n}function O1(t){const e=N.useRef(t);return Jg(()=>{e.current=t}),e}function H7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=N.useState(r);hy(p,r)||m(r);const[v,g]=N.useState(null),[w,b]=N.useState(null),_=N.useCallback(L=>{L!==F.current&&(F.current=L,g(L))},[]),x=N.useCallback(L=>{L!==M.current&&(M.current=L,b(L))},[]),S=i||v,D=o||w,F=N.useRef(null),M=N.useRef(null),R=N.useRef(u),U=l!=null,W=O1(l),$=O1(s),q=O1(c),C=N.useCallback(()=>{if(!F.current||!M.current)return;const L={placement:e,strategy:n,middleware:p};$.current&&(L.platform=$.current),$7(F.current,M.current,L).then(j=>{const H={...j,isPositioned:q.current!==!1};y.current&&!hy(R.current,H)&&(R.current=H,Il.flushSync(()=>{f(H)}))})},[p,e,n,$,q]);Jg(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const y=N.useRef(!1);Jg(()=>(y.current=!0,()=>{y.current=!1}),[]),Jg(()=>{if(S&&(F.current=S),D&&(M.current=D),S&&D){if(W.current)return W.current(S,D,C);C()}},[S,D,C,W,U]);const A=N.useMemo(()=>({reference:F,floating:M,setReference:_,setFloating:x}),[_,x]),O=N.useMemo(()=>({reference:S,floating:D}),[S,D]),z=N.useMemo(()=>{const L={position:n,left:0,top:0};if(!O.floating)return L;const j=vk(O.floating,u.x),H=vk(O.floating,u.y);return a?{...L,transform:"translate("+j+"px, "+H+"px)",...wO(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:H}},[n,a,O.floating,u.x,u.y]);return N.useMemo(()=>({...u,update:C,refs:A,elements:O,floatingStyles:z}),[u,C,A,O,z])}const q7=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?wk({element:r.current,padding:s}).fn(n):{}:r?wk({element:r,padding:s}).fn(n):{}}}},K7=(t,e)=>({...B7(t),options:[t,e]}),G7=(t,e)=>({...F7(t),options:[t,e]}),Q7=(t,e)=>({...W7(t),options:[t,e]}),Y7=(t,e)=>({...U7(t),options:[t,e]}),X7=(t,e)=>({...V7(t),options:[t,e]}),Z7=(t,e)=>({...z7(t),options:[t,e]}),J7=(t,e)=>({...q7(t),options:[t,e]});var eW="Arrow",vO=N.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(Ze.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});vO.displayName=eW;var tW=vO;function xO(t){const[e,n]=N.useState(void 0);return Er(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ZS="Popper",[bO,jw]=Xi(ZS),[nW,_O]=bO(ZS),EO=t=>{const{__scopePopper:e,children:n}=t,[r,s]=N.useState(null);return d.jsx(nW,{scope:e,anchor:r,onAnchorChange:s,children:n})};EO.displayName=ZS;var SO="PopperAnchor",TO=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=_O(SO,n),o=N.useRef(null),a=Dt(e,o);return N.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(Ze.div,{...s,ref:a})});TO.displayName=SO;var JS="PopperContent",[rW,sW]=bO(JS),AO=N.forwardRef((t,e)=>{var le,ye,Te,Re,Ee,be;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=t,w=_O(JS,n),[b,_]=N.useState(null),x=Dt(e,He=>_(He)),[S,D]=N.useState(null),F=xO(S),M=(F==null?void 0:F.width)??0,R=(F==null?void 0:F.height)??0,U=r+(i!=="center"?"-"+i:""),W=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},$=Array.isArray(c)?c:[c],q=$.length>0,C={padding:W,boundary:$.filter(oW),altBoundary:q},{refs:y,floatingStyles:A,placement:O,isPositioned:z,middlewareData:L}=H7({strategy:"fixed",placement:U,whileElementsMounted:(...He)=>j7(...He,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[K7({mainAxis:s+R,alignmentAxis:o}),l&&G7({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Q7():void 0,...C}),l&&Y7({...C}),X7({...C,apply:({elements:He,rects:Me,availableWidth:Ge,availableHeight:Vt})=>{const{width:at,height:Et}=Me.reference,ir=He.floating.style;ir.setProperty("--radix-popper-available-width",`${Ge}px`),ir.setProperty("--radix-popper-available-height",`${Vt}px`),ir.setProperty("--radix-popper-anchor-width",`${at}px`),ir.setProperty("--radix-popper-anchor-height",`${Et}px`)}}),S&&J7({element:S,padding:a}),aW({arrowWidth:M,arrowHeight:R}),p&&Z7({strategy:"referenceHidden",...C})]}),[j,H]=kO(O),B=Js(v);Er(()=>{z&&(B==null||B())},[z,B]);const T=(le=L.arrow)==null?void 0:le.x,K=(ye=L.arrow)==null?void 0:ye.y,ae=((Te=L.arrow)==null?void 0:Te.centerOffset)!==0,[ue,he]=N.useState();return Er(()=>{b&&he(window.getComputedStyle(b).zIndex)},[b]),d.jsx("div",{ref:y.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:z?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(Re=L.transformOrigin)==null?void 0:Re.x,(Ee=L.transformOrigin)==null?void 0:Ee.y].join(" "),...((be=L.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(rW,{scope:n,placedSide:j,onArrowChange:D,arrowX:T,arrowY:K,shouldHideArrow:ae,children:d.jsx(Ze.div,{"data-side":j,"data-align":H,...g,ref:x,style:{...g.style,animation:z?void 0:"none"}})})})});AO.displayName=JS;var IO="PopperArrow",iW={top:"bottom",right:"left",bottom:"top",left:"right"},CO=N.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=sW(IO,r),o=iW[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(tW,{...s,ref:n,style:{...s.style,display:"block"}})})});CO.displayName=IO;function oW(t){return t!==null}var aW=t=>({name:"transformOrigin",options:t,fn(e){var w,b,_;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=kO(n),f={start:"0%",center:"50%",end:"100%"}[u],p=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,m=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let v="",g="";return c==="bottom"?(v=o?f:`${p}px`,g=`${-l}px`):c==="top"?(v=o?f:`${p}px`,g=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,g=o?f:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,g=o?f:`${m}px`),{data:{x:v,y:g}}}});function kO(t){const[e,n="center"]=t.split("-");return[e,n]}var lW=EO,NO=TO,RO=AO,MO=CO,[Bw,Cue]=Xi("Tooltip",[jw]),eT=jw(),PO="TooltipProvider",cW=700,xk="tooltip.open",[uW,OO]=Bw(PO),LO=t=>{const{__scopeTooltip:e,delayDuration:n=cW,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=N.useRef(!0),a=N.useRef(!1),l=N.useRef(0);return N.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(uW,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:N.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};LO.displayName=PO;var DO="Tooltip",[kue,Fw]=Bw(DO),r_="TooltipTrigger",dW=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Fw(r_,n),i=OO(r_,n),o=eT(n),a=N.useRef(null),l=Dt(e,a,s.onTriggerChange),c=N.useRef(!1),u=N.useRef(!1),f=N.useCallback(()=>c.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(NO,{asChild:!0,...o,children:d.jsx(Ze.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Ve(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ve(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Ve(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ve(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Ve(t.onBlur,s.onClose),onClick:Ve(t.onClick,s.onClose)})})});dW.displayName=r_;var hW="TooltipPortal",[Nue,fW]=Bw(hW,{forceMount:void 0}),Gd="TooltipContent",jO=N.forwardRef((t,e)=>{const n=fW(Gd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Fw(Gd,t.__scopeTooltip);return d.jsx(Qc,{present:r||o.open,children:o.disableHoverableContent?d.jsx(BO,{side:s,...i,ref:e}):d.jsx(pW,{side:s,...i,ref:e})})}),pW=N.forwardRef((t,e)=>{const n=Fw(Gd,t.__scopeTooltip),r=OO(Gd,t.__scopeTooltip),s=N.useRef(null),i=Dt(e,s),[o,a]=N.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:f}=r,p=N.useCallback(()=>{a(null),f(!1)},[f]),m=N.useCallback((v,g)=>{const w=v.currentTarget,b={x:v.clientX,y:v.clientY},_=vW(b,w.getBoundingClientRect()),x=xW(b,_),S=bW(g.getBoundingClientRect()),D=EW([...x,...S]);a(D),f(!0)},[f]);return N.useEffect(()=>()=>p(),[p]),N.useEffect(()=>{if(l&&u){const v=w=>m(w,u),g=w=>m(w,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",g)}}},[l,u,m,p]),N.useEffect(()=>{if(o){const v=g=>{const w=g.target,b={x:g.clientX,y:g.clientY},_=(l==null?void 0:l.contains(w))||(u==null?void 0:u.contains(w)),x=!_W(b,o);_?p():x&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,o,c,p]),d.jsx(BO,{...t,ref:i})}),[mW,gW]=Bw(DO,{isInside:!1}),yW=u9("TooltipContent"),BO=N.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Fw(Gd,n),c=eT(n),{onClose:u}=l;return N.useEffect(()=>(document.addEventListener(xk,u),()=>document.removeEventListener(xk,u)),[u]),N.useEffect(()=>{if(l.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),d.jsx(Xp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:d.jsxs(RO,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(yW,{children:r}),d.jsx(mW,{scope:n,isInside:!0,children:d.jsx(M9,{id:l.contentId,role:"tooltip",children:s||r})})]})})});jO.displayName=Gd;var FO="TooltipArrow",wW=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=eT(n);return gW(FO,n).isInside?null:d.jsx(MO,{...s,...r,ref:e})});wW.displayName=FO;function vW(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function xW(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function bW(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function _W(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,u=a.y,f=l.x,p=l.y;u>r!=p>r&&n<(f-c)*(r-u)/(p-u)+c&&(s=!s)}return s}function EW(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),SW(e)}function SW(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var TW=LO,UO=jO;const AW=TW,IW=N.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(UO,{ref:r,sideOffset:e,className:We("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));IW.displayName=UO.displayName;const bu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function CW(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function s_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function nm(t,...e){if(!CW(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function kW(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");s_(t.outputLen),s_(t.blockLen)}function fy(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function NW(t,e){nm(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Qd(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function L1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ki(t,e){return t<<32-e|t>>>e}function RW(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function tT(t){return typeof t=="string"&&(t=RW(t)),nm(t),t}function MW(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];nm(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class VO{}function zO(t){const e=r=>t().update(tT(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function WO(t=32){if(bu&&typeof bu.getRandomValues=="function")return bu.getRandomValues(new Uint8Array(t));if(bu&&typeof bu.randomBytes=="function")return Uint8Array.from(bu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function PW(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function OW(t,e,n){return t&e^~t&n}function LW(t,e,n){return t&e^t&n^e&n}class $O extends VO{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=L1(this.buffer)}update(e){fy(this),e=tT(e),nm(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const l=L1(e);for(;s<=i-o;o+=s)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){fy(this),NW(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Qd(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;PW(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=L1(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const la=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),kr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),pg=BigInt(2**32-1),bk=BigInt(32);function DW(t,e=!1){return e?{h:Number(t&pg),l:Number(t>>bk&pg)}:{h:Number(t>>bk&pg)|0,l:Number(t&pg)|0}}function jW(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=DW(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const _k=(t,e,n)=>t>>>n,Ek=(t,e,n)=>t<<32-n|e>>>n,_u=(t,e,n)=>t>>>n|e<<32-n,Eu=(t,e,n)=>t<<32-n|e>>>n,mg=(t,e,n)=>t<<64-n|e>>>n-32,gg=(t,e,n)=>t>>>n-32|e<<64-n;function uo(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const BW=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),FW=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,UW=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),VW=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,zW=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),WW=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,$W=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ca=new Uint32Array(64);class HW extends $O{constructor(e=32){super(64,e,8,!1),this.A=la[0]|0,this.B=la[1]|0,this.C=la[2]|0,this.D=la[3]|0,this.E=la[4]|0,this.F=la[5]|0,this.G=la[6]|0,this.H=la[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:l}=this;return[e,n,r,s,i,o,a,l]}set(e,n,r,s,i,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)ca[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=ca[f-15],m=ca[f-2],v=ki(p,7)^ki(p,18)^p>>>3,g=ki(m,17)^ki(m,19)^m>>>10;ca[f]=g+ca[f-7]+v+ca[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const p=ki(a,6)^ki(a,11)^ki(a,25),m=u+p+OW(a,l,c)+$W[f]+ca[f]|0,g=(ki(r,2)^ki(r,13)^ki(r,22))+LW(r,s,i)|0;u=c,c=l,l=a,a=o+m|0,o=i,i=s,s=r,r=m+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,l,c,u)}roundClean(){Qd(ca)}destroy(){this.set(0,0,0,0,0,0,0,0),Qd(this.buffer)}}const HO=jW(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),qW=HO[0],KW=HO[1],ua=new Uint32Array(80),da=new Uint32Array(80);class GW extends $O{constructor(e=64){super(128,e,16,!1),this.Ah=kr[0]|0,this.Al=kr[1]|0,this.Bh=kr[2]|0,this.Bl=kr[3]|0,this.Ch=kr[4]|0,this.Cl=kr[5]|0,this.Dh=kr[6]|0,this.Dl=kr[7]|0,this.Eh=kr[8]|0,this.El=kr[9]|0,this.Fh=kr[10]|0,this.Fl=kr[11]|0,this.Gh=kr[12]|0,this.Gl=kr[13]|0,this.Hh=kr[14]|0,this.Hl=kr[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:f,Fl:p,Gh:m,Gl:v,Hh:g,Hl:w}=this;return[e,n,r,s,i,o,a,l,c,u,f,p,m,v,g,w]}set(e,n,r,s,i,o,a,l,c,u,f,p,m,v,g,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=v|0,this.Hh=g|0,this.Hl=w|0}process(e,n){for(let x=0;x<16;x++,n+=4)ua[x]=e.getUint32(n),da[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const S=ua[x-15]|0,D=da[x-15]|0,F=_u(S,D,1)^_u(S,D,8)^_k(S,D,7),M=Eu(S,D,1)^Eu(S,D,8)^Ek(S,D,7),R=ua[x-2]|0,U=da[x-2]|0,W=_u(R,U,19)^mg(R,U,61)^_k(R,U,6),$=Eu(R,U,19)^gg(R,U,61)^Ek(R,U,6),q=UW(M,$,da[x-7],da[x-16]),C=VW(q,F,W,ua[x-7],ua[x-16]);ua[x]=C|0,da[x]=q|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:f,El:p,Fh:m,Fl:v,Gh:g,Gl:w,Hh:b,Hl:_}=this;for(let x=0;x<80;x++){const S=_u(f,p,14)^_u(f,p,18)^mg(f,p,41),D=Eu(f,p,14)^Eu(f,p,18)^gg(f,p,41),F=f&m^~f&g,M=p&v^~p&w,R=zW(_,D,M,KW[x],da[x]),U=WW(R,b,S,F,qW[x],ua[x]),W=R|0,$=_u(r,s,28)^mg(r,s,34)^mg(r,s,39),q=Eu(r,s,28)^gg(r,s,34)^gg(r,s,39),C=r&i^r&a^i&a,y=s&o^s&l^o&l;b=g|0,_=w|0,g=m|0,w=v|0,m=f|0,v=p|0,{h:f,l:p}=uo(c|0,u|0,U|0,W|0),c=a|0,u=l|0,a=i|0,l=o|0,i=r|0,o=s|0;const A=BW(W,q,y);r=FW(A,U,$,C),s=A|0}({h:r,l:s}=uo(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=uo(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=uo(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=uo(this.Dh|0,this.Dl|0,c|0,u|0),{h:f,l:p}=uo(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:v}=uo(this.Fh|0,this.Fl|0,m|0,v|0),{h:g,l:w}=uo(this.Gh|0,this.Gl|0,g|0,w|0),{h:b,l:_}=uo(this.Hh|0,this.Hl|0,b|0,_|0),this.set(r,s,i,o,a,l,c,u,f,p,m,v,g,w,b,_)}roundClean(){Qd(ua,da)}destroy(){Qd(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qO=zO(()=>new HW),QW=zO(()=>new GW);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nT=BigInt(0),i_=BigInt(1);function rm(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function rT(t){if(!rm(t))throw new Error("Uint8Array expected")}function al(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function yg(t){const e=t.toString(16);return e.length&1?"0"+e:e}function KO(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?nT:BigInt("0x"+t)}const GO=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",YW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Yd(t){if(rT(t),GO)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=YW[t[n]];return e}const ho={_0:48,_9:57,A:65,F:70,a:97,f:102};function Sk(t){if(t>=ho._0&&t<=ho._9)return t-ho._0;if(t>=ho.A&&t<=ho.F)return t-(ho.A-10);if(t>=ho.a&&t<=ho.f)return t-(ho.a-10)}function py(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(GO)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=Sk(t.charCodeAt(i)),a=Sk(t.charCodeAt(i+1));if(o===void 0||a===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=o*16+a}return r}function xc(t){return KO(Yd(t))}function zf(t){return rT(t),KO(Yd(Uint8Array.from(t).reverse()))}function sm(t,e){return py(t.toString(16).padStart(e*2,"0"))}function my(t,e){return sm(t,e).reverse()}function Mn(t,e,n){let r;if(typeof e=="string")try{r=py(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(rm(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function Xd(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];rT(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const D1=t=>typeof t=="bigint"&&nT<=t;function sT(t,e,n){return D1(t)&&D1(e)&&D1(n)&&e<=t&&t<n}function fi(t,e,n,r){if(!sT(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function XW(t){let e;for(e=0;t>nT;t>>=i_,e+=1);return e}const Uw=t=>(i_<<BigInt(t))-i_,j1=t=>new Uint8Array(t),Tk=t=>Uint8Array.from(t);function ZW(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=j1(t),s=j1(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...f)=>n(s,r,...f),l=(f=j1(0))=>{s=a(Tk([0]),f),r=a(),f.length!==0&&(s=a(Tk([1]),f),r=a())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){r=a();const m=r.slice();p.push(m),f+=r.length}return Xd(...p)};return(f,p)=>{o(),l(f);let m;for(;!(m=p(c()));)l();return o(),m}}const JW={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||rm(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function im(t,e,n={}){const r=(s,i,o)=>{const a=JW[i];if(typeof a!="function")throw new Error("invalid validator function");const l=t[s];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+l)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function gy(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fs=BigInt(0),xr=BigInt(1),tc=BigInt(2),e$=BigInt(3),QO=BigInt(4),YO=BigInt(5),XO=BigInt(8);function ln(t,e){const n=t%e;return n>=fs?n:e+n}function kn(t,e,n){let r=t;for(;e-- >fs;)r*=r,r%=n;return r}function o_(t,e){if(t===fs)throw new Error("invert: expected non-zero number");if(e<=fs)throw new Error("invert: expected positive modulus, got "+e);let n=ln(t,e),r=e,s=fs,i=xr;for(;n!==fs;){const a=r/n,l=r%n,c=s-i*a;r=n,n=l,s=i,i=c}if(r!==xr)throw new Error("invert: does not exist");return ln(s,e)}function ZO(t,e){const n=(t.ORDER+xr)/QO,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function t$(t,e){const n=(t.ORDER-YO)/XO,r=t.mul(e,tc),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,tc),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function n$(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-xr,n=0;for(;e%tc===fs;)e/=tc,n++;let r=tc;const s=om(t);for(;Ak(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return ZO;let i=s.pow(r,e);const o=(e+xr)/tc;return function(l,c){if(l.is0(c))return c;if(Ak(l,c)!==1)throw new Error("Cannot find square root");let u=n,f=l.mul(l.ONE,i),p=l.pow(c,e),m=l.pow(c,o);for(;!l.eql(p,l.ONE);){if(l.is0(p))return l.ZERO;let v=1,g=l.sqr(p);for(;!l.eql(g,l.ONE);)if(v++,g=l.sqr(g),v===u)throw new Error("Cannot find square root");const w=xr<<BigInt(u-v-1),b=l.pow(f,w);u=v,f=l.sqr(b),p=l.mul(p,f),m=l.mul(m,b)}return m}}function r$(t){return t%QO===e$?ZO:t%XO===YO?t$:n$(t)}const s$=(t,e)=>(ln(t,e)&xr)===xr,i$=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function o$(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=i$.reduce((r,s)=>(r[s]="function",r),e);return im(t,n)}function a$(t,e,n){if(n<fs)throw new Error("invalid exponent, negatives unsupported");if(n===fs)return t.ONE;if(n===xr)return e;let r=t.ONE,s=e;for(;n>fs;)n&xr&&(r=t.mul(r,s)),s=t.sqr(s),n>>=xr;return r}function iT(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),i),r}function Ak(t,e){const n=(t.ORDER-xr)/tc,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function JO(t,e){e!==void 0&&s_(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function om(t,e,n=!1,r={}){if(t<=fs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=JO(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:Uw(s),ZERO:fs,ONE:xr,create:l=>ln(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return fs<=l&&l<t},is0:l=>l===fs,isOdd:l=>(l&xr)===xr,neg:l=>ln(-l,t),eql:(l,c)=>l===c,sqr:l=>ln(l*l,t),add:(l,c)=>ln(l+c,t),sub:(l,c)=>ln(l-c,t),mul:(l,c)=>ln(l*c,t),pow:(l,c)=>a$(a,l,c),div:(l,c)=>ln(l*o_(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>o_(l,t),sqrt:r.sqrt||(l=>(o||(o=r$(t)),o(a,l))),toBytes:l=>n?my(l,i):sm(l,i),fromBytes:l=>{if(l.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+l.length);return n?zf(l):xc(l)},invertBatch:l=>iT(a,l),cmov:(l,c,u)=>u?c:l});return Object.freeze(a)}function eL(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function tL(t){const e=eL(t);return e+Math.ceil(e/2)}function l$(t,e,n=!1){const r=t.length,s=eL(e),i=tL(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?zf(t):xc(t),a=ln(o,e-xr)+xr;return n?my(a,s):sm(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ik=BigInt(0),a_=BigInt(1);function B1(t,e){const n=e.negate();return t?n:e}function nL(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function F1(t,e){nL(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=Uw(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function Ck(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),l=t>>o;a>r&&(a-=i,l+=a_);const c=e*r,u=c+Math.abs(a)-1,f=a===0,p=a<0,m=e%2!==0;return{nextN:l,offset:u,isZero:f,isNeg:p,isNegF:m,offsetF:c}}function c$(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function u$(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const U1=new WeakMap,rL=new WeakMap;function V1(t){return rL.get(t)||1}function sL(t,e){return{constTimeNegate:B1,hasPrecomputes(n){return V1(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>Ik;)r&a_&&(s=s.add(i)),i=i.double(),r>>=a_;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=F1(r,e),o=[];let a=n,l=a;for(let c=0;c<s;c++){l=a,o.push(l);for(let u=1;u<i;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=F1(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:f,isNeg:p,isNegF:m,offsetF:v}=Ck(s,l,a);s=c,f?o=o.add(B1(m,r[v])):i=i.add(B1(p,r[u]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=F1(n,e);for(let a=0;a<o.windows&&s!==Ik;a++){const{nextN:l,offset:c,isZero:u,isNeg:f}=Ck(s,a,o);if(s=l,!u){const p=r[c];i=i.add(f?p.negate():p)}}return i},getPrecomputes(n,r,s){let i=U1.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&U1.set(r,s(i))),i},wNAFCached(n,r,s){const i=V1(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=V1(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){nL(r,e),rL.set(n,r),U1.delete(n)}}}function iL(t,e,n,r){c$(n,t),u$(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=XW(BigInt(s));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Uw(l),u=new Array(Number(c)+1).fill(o),f=Math.floor((e.BITS-1)/l)*l;let p=o;for(let m=f;m>=0;m-=l){u.fill(o);for(let g=0;g<i;g++){const w=r[g],b=Number(w>>BigInt(m)&c);u[b]=u[b].add(n[g])}let v=o;for(let g=u.length-1,w=o;g>0;g--)w=w.add(u[g]),v=v.add(w);if(p=p.add(v),m!==0)for(let g=0;g<l;g++)p=p.double()}return p}function oT(t){return o$(t.Fp),im(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...JO(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ni=BigInt(0),qr=BigInt(1),kk=BigInt(2),d$=BigInt(8),h$={zip215:!0};function f$(t){const e=oT(t);return im(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function p$(t){const e=f$(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:l}=e,c=kk<<BigInt(a*8)-qr,u=n.create,f=om(e.n,e.nBitLength);function p(L,j){const H=n.sqr(L),B=n.sqr(j),T=n.add(n.mul(e.a,H),B),K=n.add(n.ONE,n.mul(e.d,n.mul(H,B)));return n.eql(T,K)}if(!p(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const m=e.uvRatio||((L,j)=>{try{return{isValid:!0,value:n.sqrt(L*n.inv(j))}}catch{return{isValid:!1,value:Ni}}}),v=e.adjustScalarBytes||(L=>L),g=e.domain||((L,j,H)=>{if(al("phflag",H),j.length||H)throw new Error("Contexts/pre-hash are not supported");return L});function w(L,j,H=!1){const B=H?qr:Ni;fi("coordinate "+L,j,B,c)}function b(L){if(!(L instanceof S))throw new Error("ExtendedPoint expected")}const _=gy((L,j)=>{const{ex:H,ey:B,ez:T}=L,K=L.is0();j==null&&(j=K?d$:n.inv(T));const ae=u(H*j),ue=u(B*j),he=u(T*j);if(K)return{x:Ni,y:qr};if(he!==qr)throw new Error("invZ was invalid");return{x:ae,y:ue}}),x=gy(L=>{const{a:j,d:H}=e;if(L.is0())throw new Error("bad point: ZERO");const{ex:B,ey:T,ez:K,et:ae}=L,ue=u(B*B),he=u(T*T),le=u(K*K),ye=u(le*le),Te=u(ue*j),Re=u(le*u(Te+he)),Ee=u(ye+u(H*u(ue*he)));if(Re!==Ee)throw new Error("bad point: equation left != right (1)");const be=u(B*T),He=u(K*ae);if(be!==He)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(j,H,B,T){w("x",j),w("y",H),w("z",B,!0),w("t",T),this.ex=j,this.ey=H,this.ez=B,this.et=T,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(j){if(j instanceof S)throw new Error("extended point not allowed");const{x:H,y:B}=j||{};return w("x",H),w("y",B),new S(H,B,qr,u(H*B))}static normalizeZ(j){const H=iT(n,j.map(B=>B.ez));return j.map((B,T)=>B.toAffine(H[T])).map(S.fromAffine)}static msm(j,H){return iL(S,f,j,H)}_setWindowSize(j){M.setWindowSize(this,j)}assertValidity(){x(this)}equals(j){b(j);const{ex:H,ey:B,ez:T}=this,{ex:K,ey:ae,ez:ue}=j,he=u(H*ue),le=u(K*T),ye=u(B*ue),Te=u(ae*T);return he===le&&ye===Te}is0(){return this.equals(S.ZERO)}negate(){return new S(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:j}=e,{ex:H,ey:B,ez:T}=this,K=u(H*H),ae=u(B*B),ue=u(kk*u(T*T)),he=u(j*K),le=H+B,ye=u(u(le*le)-K-ae),Te=he+ae,Re=Te-ue,Ee=he-ae,be=u(ye*Re),He=u(Te*Ee),Me=u(ye*Ee),Ge=u(Re*Te);return new S(be,He,Ge,Me)}add(j){b(j);const{a:H,d:B}=e,{ex:T,ey:K,ez:ae,et:ue}=this,{ex:he,ey:le,ez:ye,et:Te}=j,Re=u(T*he),Ee=u(K*le),be=u(ue*B*Te),He=u(ae*ye),Me=u((T+K)*(he+le)-Re-Ee),Ge=He-be,Vt=He+be,at=u(Ee-H*Re),Et=u(Me*Ge),ir=u(Vt*at),wt=u(Me*at),oe=u(Ge*Vt);return new S(Et,ir,oe,wt)}subtract(j){return this.add(j.negate())}wNAF(j){return M.wNAFCached(this,j,S.normalizeZ)}multiply(j){const H=j;fi("scalar",H,qr,r);const{p:B,f:T}=this.wNAF(H);return S.normalizeZ([B,T])[0]}multiplyUnsafe(j,H=S.ZERO){const B=j;return fi("scalar",B,Ni,r),B===Ni?F:this.is0()||B===qr?this:M.wNAFCachedUnsafe(this,B,S.normalizeZ,H)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return M.unsafeLadder(this,r).is0()}toAffine(j){return _(this,j)}clearCofactor(){const{h:j}=e;return j===qr?this:this.multiplyUnsafe(j)}static fromHex(j,H=!1){const{d:B,a:T}=e,K=n.BYTES;j=Mn("pointHex",j,K),al("zip215",H);const ae=j.slice(),ue=j[K-1];ae[K-1]=ue&-129;const he=zf(ae),le=H?c:n.ORDER;fi("pointHex.y",he,Ni,le);const ye=u(he*he),Te=u(ye-qr),Re=u(B*ye-T);let{isValid:Ee,value:be}=m(Te,Re);if(!Ee)throw new Error("Point.fromHex: invalid y coordinate");const He=(be&qr)===qr,Me=(ue&128)!==0;if(!H&&be===Ni&&Me)throw new Error("Point.fromHex: x=0 and x_0=1");return Me!==He&&(be=u(-be)),S.fromAffine({x:be,y:he})}static fromPrivateKey(j){const{scalar:H}=W(j);return D.multiply(H)}toRawBytes(){const{x:j,y:H}=this.toAffine(),B=my(H,n.BYTES);return B[B.length-1]|=j&qr?128:0,B}toHex(){return Yd(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,qr,u(e.Gx*e.Gy)),S.ZERO=new S(Ni,qr,qr,Ni);const{BASE:D,ZERO:F}=S,M=sL(S,a*8);function R(L){return ln(L,r)}function U(L){return R(zf(L))}function W(L){const j=n.BYTES;L=Mn("private key",L,j);const H=Mn("hashed private key",i(L),2*j),B=v(H.slice(0,j)),T=H.slice(j,2*j),K=U(B);return{head:B,prefix:T,scalar:K}}function $(L){const{head:j,prefix:H,scalar:B}=W(L),T=D.multiply(B),K=T.toRawBytes();return{head:j,prefix:H,scalar:B,point:T,pointBytes:K}}function q(L){return $(L).pointBytes}function C(L=Uint8Array.of(),...j){const H=Xd(...j);return U(i(g(H,Mn("context",L),!!s)))}function y(L,j,H={}){L=Mn("message",L),s&&(L=s(L));const{prefix:B,scalar:T,pointBytes:K}=$(j),ae=C(H.context,B,L),ue=D.multiply(ae).toRawBytes(),he=C(H.context,ue,K,L),le=R(ae+he*T);fi("signature.s",le,Ni,r);const ye=Xd(ue,my(le,n.BYTES));return Mn("result",ye,n.BYTES*2)}const A=h$;function O(L,j,H,B=A){const{context:T,zip215:K}=B,ae=n.BYTES;L=Mn("signature",L,2*ae),j=Mn("message",j),H=Mn("publicKey",H,ae),K!==void 0&&al("zip215",K),s&&(j=s(j));const ue=zf(L.slice(ae,2*ae));let he,le,ye;try{he=S.fromHex(H,K),le=S.fromHex(L.slice(0,ae),K),ye=D.multiplyUnsafe(ue)}catch{return!1}if(!K&&he.isSmallOrder())return!1;const Te=C(T,le.toRawBytes(),he.toRawBytes(),j);return le.add(he.multiplyUnsafe(Te)).subtract(ye).clearCofactor().equals(S.ZERO)}return D._setWindowSize(8),{CURVE:e,getPublicKey:q,sign:y,verify:O,ExtendedPoint:S,utils:{getExtendedPublicKey:$,randomPrivateKey:()=>o(n.BYTES),precompute(L=8,j=S.BASE){return j._setWindowSize(L),j.multiply(BigInt(3)),j}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aT=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Nk=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const m$=BigInt(1),Rk=BigInt(2);BigInt(3);const g$=BigInt(5),y$=BigInt(8);function w$(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=aT,a=t*t%i*t%i,l=kn(a,Rk,i)*a%i,c=kn(l,m$,i)*t%i,u=kn(c,g$,i)*c%i,f=kn(u,e,i)*u%i,p=kn(f,n,i)*f%i,m=kn(p,r,i)*p%i,v=kn(m,s,i)*m%i,g=kn(v,s,i)*m%i,w=kn(g,e,i)*u%i;return{pow_p_5_8:kn(w,Rk,i)*t%i,b2:a}}function v$(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function x$(t,e){const n=aT,r=ln(e*e*e,n),s=ln(r*r*e,n),i=w$(t*s).pow_p_5_8;let o=ln(t*r*i,n);const a=ln(e*o*o,n),l=o,c=ln(o*Nk,n),u=a===t,f=a===ln(-t,n),p=a===ln(-t*Nk,n);return u&&(o=l),(f||p)&&(o=c),s$(o,n)&&(o=ln(-o,n)),{isValid:u||f,value:o}}const Mk=om(aT,void 0,!0),b$={a:Mk.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Mk,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:y$,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:QW,randomBytes:WO,adjustScalarBytes:v$,uvRatio:x$},lT=p$(b$);var cT={exports:{}};const _$={},E$=Object.freeze(Object.defineProperty({__proto__:null,default:_$},Symbol.toStringTag,{value:"Module"})),S$=ME(E$);cT.exports;(function(t){(function(e,n){function r(C,y){if(!C)throw new Error(y||"Assertion failed")}function s(C,y){C.super_=y;var A=function(){};A.prototype=y.prototype,C.prototype=new A,C.prototype.constructor=C}function i(C,y,A){if(i.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((y==="le"||y==="be")&&(A=y,y=10),this._init(C||0,y||10,A||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=S$.Buffer}catch{}i.isBN=function(y){return y instanceof i?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===i.wordSize&&Array.isArray(y.words)},i.max=function(y,A){return y.cmp(A)>0?y:A},i.min=function(y,A){return y.cmp(A)<0?y:A},i.prototype._init=function(y,A,O){if(typeof y=="number")return this._initNumber(y,A,O);if(typeof y=="object")return this._initArray(y,A,O);A==="hex"&&(A=16),r(A===(A|0)&&A>=2&&A<=36),y=y.toString().replace(/\s+/g,"");var z=0;y[0]==="-"&&(z++,this.negative=1),z<y.length&&(A===16?this._parseHex(y,z,O):(this._parseBase(y,A,z),O==="le"&&this._initArray(this.toArray(),A,O)))},i.prototype._initNumber=function(y,A,O){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(r(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),O==="le"&&this._initArray(this.toArray(),A,O)},i.prototype._initArray=function(y,A,O){if(r(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var L,j,H=0;if(O==="be")for(z=y.length-1,L=0;z>=0;z-=3)j=y[z]|y[z-1]<<8|y[z-2]<<16,this.words[L]|=j<<H&67108863,this.words[L+1]=j>>>26-H&67108863,H+=24,H>=26&&(H-=26,L++);else if(O==="le")for(z=0,L=0;z<y.length;z+=3)j=y[z]|y[z+1]<<8|y[z+2]<<16,this.words[L]|=j<<H&67108863,this.words[L+1]=j>>>26-H&67108863,H+=24,H>=26&&(H-=26,L++);return this._strip()};function a(C,y){var A=C.charCodeAt(y);if(A>=48&&A<=57)return A-48;if(A>=65&&A<=70)return A-55;if(A>=97&&A<=102)return A-87;r(!1,"Invalid character in "+C)}function l(C,y,A){var O=a(C,A);return A-1>=y&&(O|=a(C,A-1)<<4),O}i.prototype._parseHex=function(y,A,O){this.length=Math.ceil((y.length-A)/6),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var L=0,j=0,H;if(O==="be")for(z=y.length-1;z>=A;z-=2)H=l(y,A,z)<<L,this.words[j]|=H&67108863,L>=18?(L-=18,j+=1,this.words[j]|=H>>>26):L+=8;else{var B=y.length-A;for(z=B%2===0?A+1:A;z<y.length;z+=2)H=l(y,A,z)<<L,this.words[j]|=H&67108863,L>=18?(L-=18,j+=1,this.words[j]|=H>>>26):L+=8}this._strip()};function c(C,y,A,O){for(var z=0,L=0,j=Math.min(C.length,A),H=y;H<j;H++){var B=C.charCodeAt(H)-48;z*=O,B>=49?L=B-49+10:B>=17?L=B-17+10:L=B,r(B>=0&&L<O,"Invalid character"),z+=L}return z}i.prototype._parseBase=function(y,A,O){this.words=[0],this.length=1;for(var z=0,L=1;L<=67108863;L*=A)z++;z--,L=L/A|0;for(var j=y.length-O,H=j%z,B=Math.min(j,j-H)+O,T=0,K=O;K<B;K+=z)T=c(y,K,K+z,A),this.imuln(L),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(H!==0){var ae=1;for(T=c(y,K,y.length,A),K=0;K<H;K++)ae*=A;this.imuln(ae),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}this._strip()},i.prototype.copy=function(y){y.words=new Array(this.length);for(var A=0;A<this.length;A++)y.words[A]=this.words[A];y.length=this.length,y.negative=this.negative,y.red=this.red};function u(C,y){C.words=y.words,C.length=y.length,C.negative=y.negative,C.red=y.red}if(i.prototype._move=function(y){u(y,this)},i.prototype.clone=function(){var y=new i(null);return this.copy(y),y},i.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(y,A){y=y||10,A=A|0||1;var O;if(y===16||y==="hex"){O="";for(var z=0,L=0,j=0;j<this.length;j++){var H=this.words[j],B=((H<<z|L)&16777215).toString(16);L=H>>>24-z&16777215,z+=2,z>=26&&(z-=26,j--),L!==0||j!==this.length-1?O=p[6-B.length]+B+O:O=B+O}for(L!==0&&(O=L.toString(16)+O);O.length%A!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}if(y===(y|0)&&y>=2&&y<=36){var T=m[y],K=v[y];O="";var ae=this.clone();for(ae.negative=0;!ae.isZero();){var ue=ae.modrn(K).toString(y);ae=ae.idivn(K),ae.isZero()?O=ue+O:O=p[T-ue.length]+ue+O}for(this.isZero()&&(O="0"+O);O.length%A!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(y,A){return this.toArrayLike(o,y,A)}),i.prototype.toArray=function(y,A){return this.toArrayLike(Array,y,A)};var g=function(y,A){return y.allocUnsafe?y.allocUnsafe(A):new y(A)};i.prototype.toArrayLike=function(y,A,O){this._strip();var z=this.byteLength(),L=O||Math.max(1,z);r(z<=L,"byte array longer than desired length"),r(L>0,"Requested array length <= 0");var j=g(y,L),H=A==="le"?"LE":"BE";return this["_toArrayLike"+H](j,z),j},i.prototype._toArrayLikeLE=function(y,A){for(var O=0,z=0,L=0,j=0;L<this.length;L++){var H=this.words[L]<<j|z;y[O++]=H&255,O<y.length&&(y[O++]=H>>8&255),O<y.length&&(y[O++]=H>>16&255),j===6?(O<y.length&&(y[O++]=H>>24&255),z=0,j=0):(z=H>>>24,j+=2)}if(O<y.length)for(y[O++]=z;O<y.length;)y[O++]=0},i.prototype._toArrayLikeBE=function(y,A){for(var O=y.length-1,z=0,L=0,j=0;L<this.length;L++){var H=this.words[L]<<j|z;y[O--]=H&255,O>=0&&(y[O--]=H>>8&255),O>=0&&(y[O--]=H>>16&255),j===6?(O>=0&&(y[O--]=H>>24&255),z=0,j=0):(z=H>>>24,j+=2)}if(O>=0)for(y[O--]=z;O>=0;)y[O--]=0},Math.clz32?i.prototype._countBits=function(y){return 32-Math.clz32(y)}:i.prototype._countBits=function(y){var A=y,O=0;return A>=4096&&(O+=13,A>>>=13),A>=64&&(O+=7,A>>>=7),A>=8&&(O+=4,A>>>=4),A>=2&&(O+=2,A>>>=2),O+A},i.prototype._zeroBits=function(y){if(y===0)return 26;var A=y,O=0;return A&8191||(O+=13,A>>>=13),A&127||(O+=7,A>>>=7),A&15||(O+=4,A>>>=4),A&3||(O+=2,A>>>=2),A&1||O++,O},i.prototype.bitLength=function(){var y=this.words[this.length-1],A=this._countBits(y);return(this.length-1)*26+A};function w(C){for(var y=new Array(C.bitLength()),A=0;A<y.length;A++){var O=A/26|0,z=A%26;y[A]=C.words[O]>>>z&1}return y}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,A=0;A<this.length;A++){var O=this._zeroBits(this.words[A]);if(y+=O,O!==26)break}return y},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},i.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var A=0;A<y.length;A++)this.words[A]=this.words[A]|y.words[A];return this._strip()},i.prototype.ior=function(y){return r((this.negative|y.negative)===0),this.iuor(y)},i.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},i.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},i.prototype.iuand=function(y){var A;this.length>y.length?A=y:A=this;for(var O=0;O<A.length;O++)this.words[O]=this.words[O]&y.words[O];return this.length=A.length,this._strip()},i.prototype.iand=function(y){return r((this.negative|y.negative)===0),this.iuand(y)},i.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},i.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},i.prototype.iuxor=function(y){var A,O;this.length>y.length?(A=this,O=y):(A=y,O=this);for(var z=0;z<O.length;z++)this.words[z]=A.words[z]^O.words[z];if(this!==A)for(;z<A.length;z++)this.words[z]=A.words[z];return this.length=A.length,this._strip()},i.prototype.ixor=function(y){return r((this.negative|y.negative)===0),this.iuxor(y)},i.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},i.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},i.prototype.inotn=function(y){r(typeof y=="number"&&y>=0);var A=Math.ceil(y/26)|0,O=y%26;this._expand(A),O>0&&A--;for(var z=0;z<A;z++)this.words[z]=~this.words[z]&67108863;return O>0&&(this.words[z]=~this.words[z]&67108863>>26-O),this._strip()},i.prototype.notn=function(y){return this.clone().inotn(y)},i.prototype.setn=function(y,A){r(typeof y=="number"&&y>=0);var O=y/26|0,z=y%26;return this._expand(O+1),A?this.words[O]=this.words[O]|1<<z:this.words[O]=this.words[O]&~(1<<z),this._strip()},i.prototype.iadd=function(y){var A;if(this.negative!==0&&y.negative===0)return this.negative=0,A=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,A=this.isub(y),y.negative=1,A._normSign();var O,z;this.length>y.length?(O=this,z=y):(O=y,z=this);for(var L=0,j=0;j<z.length;j++)A=(O.words[j]|0)+(z.words[j]|0)+L,this.words[j]=A&67108863,L=A>>>26;for(;L!==0&&j<O.length;j++)A=(O.words[j]|0)+L,this.words[j]=A&67108863,L=A>>>26;if(this.length=O.length,L!==0)this.words[this.length]=L,this.length++;else if(O!==this)for(;j<O.length;j++)this.words[j]=O.words[j];return this},i.prototype.add=function(y){var A;return y.negative!==0&&this.negative===0?(y.negative=0,A=this.sub(y),y.negative^=1,A):y.negative===0&&this.negative!==0?(this.negative=0,A=y.sub(this),this.negative=1,A):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},i.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var A=this.iadd(y);return y.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var O=this.cmp(y);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var z,L;O>0?(z=this,L=y):(z=y,L=this);for(var j=0,H=0;H<L.length;H++)A=(z.words[H]|0)-(L.words[H]|0)+j,j=A>>26,this.words[H]=A&67108863;for(;j!==0&&H<z.length;H++)A=(z.words[H]|0)+j,j=A>>26,this.words[H]=A&67108863;if(j===0&&H<z.length&&z!==this)for(;H<z.length;H++)this.words[H]=z.words[H];return this.length=Math.max(this.length,H),z!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(y){return this.clone().isub(y)};function b(C,y,A){A.negative=y.negative^C.negative;var O=C.length+y.length|0;A.length=O,O=O-1|0;var z=C.words[0]|0,L=y.words[0]|0,j=z*L,H=j&67108863,B=j/67108864|0;A.words[0]=H;for(var T=1;T<O;T++){for(var K=B>>>26,ae=B&67108863,ue=Math.min(T,y.length-1),he=Math.max(0,T-C.length+1);he<=ue;he++){var le=T-he|0;z=C.words[le]|0,L=y.words[he]|0,j=z*L+ae,K+=j/67108864|0,ae=j&67108863}A.words[T]=ae|0,B=K|0}return B!==0?A.words[T]=B|0:A.length--,A._strip()}var _=function(y,A,O){var z=y.words,L=A.words,j=O.words,H=0,B,T,K,ae=z[0]|0,ue=ae&8191,he=ae>>>13,le=z[1]|0,ye=le&8191,Te=le>>>13,Re=z[2]|0,Ee=Re&8191,be=Re>>>13,He=z[3]|0,Me=He&8191,Ge=He>>>13,Vt=z[4]|0,at=Vt&8191,Et=Vt>>>13,ir=z[5]|0,wt=ir&8191,oe=ir>>>13,It=z[6]|0,Tt=It&8191,Ct=It>>>13,jn=z[7]|0,it=jn&8191,V=jn>>>13,I=z[8]|0,k=I&8191,Q=I>>>13,X=z[9]|0,Z=X&8191,ne=X>>>13,et=L[0]|0,qe=et&8191,Ke=et>>>13,jt=L[1]|0,Be=jt&8191,un=jt>>>13,Oh=L[2]|0,zt=Oh&8191,rn=Oh>>>13,su=L[3]|0,Ot=su&8191,dn=su>>>13,Ml=L[4]|0,hn=Ml&8191,Wt=Ml>>>13,Lh=L[5]|0,dt=Lh&8191,fn=Lh>>>13,ta=L[6]|0,$t=ta&8191,Sn=ta>>>13,Mm=L[7]|0,Bt=Mm&8191,Tn=Mm>>>13,Pm=L[8]|0,Yt=Pm&8191,pn=Pm>>>13,iu=L[9]|0,Xt=iu&8191,kt=iu>>>13;O.negative=y.negative^A.negative,O.length=19,B=Math.imul(ue,qe),T=Math.imul(ue,Ke),T=T+Math.imul(he,qe)|0,K=Math.imul(he,Ke);var ou=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(ou>>>26)|0,ou&=67108863,B=Math.imul(ye,qe),T=Math.imul(ye,Ke),T=T+Math.imul(Te,qe)|0,K=Math.imul(Te,Ke),B=B+Math.imul(ue,Be)|0,T=T+Math.imul(ue,un)|0,T=T+Math.imul(he,Be)|0,K=K+Math.imul(he,un)|0;var au=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(au>>>26)|0,au&=67108863,B=Math.imul(Ee,qe),T=Math.imul(Ee,Ke),T=T+Math.imul(be,qe)|0,K=Math.imul(be,Ke),B=B+Math.imul(ye,Be)|0,T=T+Math.imul(ye,un)|0,T=T+Math.imul(Te,Be)|0,K=K+Math.imul(Te,un)|0,B=B+Math.imul(ue,zt)|0,T=T+Math.imul(ue,rn)|0,T=T+Math.imul(he,zt)|0,K=K+Math.imul(he,rn)|0;var Pl=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(Pl>>>26)|0,Pl&=67108863,B=Math.imul(Me,qe),T=Math.imul(Me,Ke),T=T+Math.imul(Ge,qe)|0,K=Math.imul(Ge,Ke),B=B+Math.imul(Ee,Be)|0,T=T+Math.imul(Ee,un)|0,T=T+Math.imul(be,Be)|0,K=K+Math.imul(be,un)|0,B=B+Math.imul(ye,zt)|0,T=T+Math.imul(ye,rn)|0,T=T+Math.imul(Te,zt)|0,K=K+Math.imul(Te,rn)|0,B=B+Math.imul(ue,Ot)|0,T=T+Math.imul(ue,dn)|0,T=T+Math.imul(he,Ot)|0,K=K+Math.imul(he,dn)|0;var Ol=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(Ol>>>26)|0,Ol&=67108863,B=Math.imul(at,qe),T=Math.imul(at,Ke),T=T+Math.imul(Et,qe)|0,K=Math.imul(Et,Ke),B=B+Math.imul(Me,Be)|0,T=T+Math.imul(Me,un)|0,T=T+Math.imul(Ge,Be)|0,K=K+Math.imul(Ge,un)|0,B=B+Math.imul(Ee,zt)|0,T=T+Math.imul(Ee,rn)|0,T=T+Math.imul(be,zt)|0,K=K+Math.imul(be,rn)|0,B=B+Math.imul(ye,Ot)|0,T=T+Math.imul(ye,dn)|0,T=T+Math.imul(Te,Ot)|0,K=K+Math.imul(Te,dn)|0,B=B+Math.imul(ue,hn)|0,T=T+Math.imul(ue,Wt)|0,T=T+Math.imul(he,hn)|0,K=K+Math.imul(he,Wt)|0;var lu=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(lu>>>26)|0,lu&=67108863,B=Math.imul(wt,qe),T=Math.imul(wt,Ke),T=T+Math.imul(oe,qe)|0,K=Math.imul(oe,Ke),B=B+Math.imul(at,Be)|0,T=T+Math.imul(at,un)|0,T=T+Math.imul(Et,Be)|0,K=K+Math.imul(Et,un)|0,B=B+Math.imul(Me,zt)|0,T=T+Math.imul(Me,rn)|0,T=T+Math.imul(Ge,zt)|0,K=K+Math.imul(Ge,rn)|0,B=B+Math.imul(Ee,Ot)|0,T=T+Math.imul(Ee,dn)|0,T=T+Math.imul(be,Ot)|0,K=K+Math.imul(be,dn)|0,B=B+Math.imul(ye,hn)|0,T=T+Math.imul(ye,Wt)|0,T=T+Math.imul(Te,hn)|0,K=K+Math.imul(Te,Wt)|0,B=B+Math.imul(ue,dt)|0,T=T+Math.imul(ue,fn)|0,T=T+Math.imul(he,dt)|0,K=K+Math.imul(he,fn)|0;var cu=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(cu>>>26)|0,cu&=67108863,B=Math.imul(Tt,qe),T=Math.imul(Tt,Ke),T=T+Math.imul(Ct,qe)|0,K=Math.imul(Ct,Ke),B=B+Math.imul(wt,Be)|0,T=T+Math.imul(wt,un)|0,T=T+Math.imul(oe,Be)|0,K=K+Math.imul(oe,un)|0,B=B+Math.imul(at,zt)|0,T=T+Math.imul(at,rn)|0,T=T+Math.imul(Et,zt)|0,K=K+Math.imul(Et,rn)|0,B=B+Math.imul(Me,Ot)|0,T=T+Math.imul(Me,dn)|0,T=T+Math.imul(Ge,Ot)|0,K=K+Math.imul(Ge,dn)|0,B=B+Math.imul(Ee,hn)|0,T=T+Math.imul(Ee,Wt)|0,T=T+Math.imul(be,hn)|0,K=K+Math.imul(be,Wt)|0,B=B+Math.imul(ye,dt)|0,T=T+Math.imul(ye,fn)|0,T=T+Math.imul(Te,dt)|0,K=K+Math.imul(Te,fn)|0,B=B+Math.imul(ue,$t)|0,T=T+Math.imul(ue,Sn)|0,T=T+Math.imul(he,$t)|0,K=K+Math.imul(he,Sn)|0;var Dh=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(Dh>>>26)|0,Dh&=67108863,B=Math.imul(it,qe),T=Math.imul(it,Ke),T=T+Math.imul(V,qe)|0,K=Math.imul(V,Ke),B=B+Math.imul(Tt,Be)|0,T=T+Math.imul(Tt,un)|0,T=T+Math.imul(Ct,Be)|0,K=K+Math.imul(Ct,un)|0,B=B+Math.imul(wt,zt)|0,T=T+Math.imul(wt,rn)|0,T=T+Math.imul(oe,zt)|0,K=K+Math.imul(oe,rn)|0,B=B+Math.imul(at,Ot)|0,T=T+Math.imul(at,dn)|0,T=T+Math.imul(Et,Ot)|0,K=K+Math.imul(Et,dn)|0,B=B+Math.imul(Me,hn)|0,T=T+Math.imul(Me,Wt)|0,T=T+Math.imul(Ge,hn)|0,K=K+Math.imul(Ge,Wt)|0,B=B+Math.imul(Ee,dt)|0,T=T+Math.imul(Ee,fn)|0,T=T+Math.imul(be,dt)|0,K=K+Math.imul(be,fn)|0,B=B+Math.imul(ye,$t)|0,T=T+Math.imul(ye,Sn)|0,T=T+Math.imul(Te,$t)|0,K=K+Math.imul(Te,Sn)|0,B=B+Math.imul(ue,Bt)|0,T=T+Math.imul(ue,Tn)|0,T=T+Math.imul(he,Bt)|0,K=K+Math.imul(he,Tn)|0;var na=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(na>>>26)|0,na&=67108863,B=Math.imul(k,qe),T=Math.imul(k,Ke),T=T+Math.imul(Q,qe)|0,K=Math.imul(Q,Ke),B=B+Math.imul(it,Be)|0,T=T+Math.imul(it,un)|0,T=T+Math.imul(V,Be)|0,K=K+Math.imul(V,un)|0,B=B+Math.imul(Tt,zt)|0,T=T+Math.imul(Tt,rn)|0,T=T+Math.imul(Ct,zt)|0,K=K+Math.imul(Ct,rn)|0,B=B+Math.imul(wt,Ot)|0,T=T+Math.imul(wt,dn)|0,T=T+Math.imul(oe,Ot)|0,K=K+Math.imul(oe,dn)|0,B=B+Math.imul(at,hn)|0,T=T+Math.imul(at,Wt)|0,T=T+Math.imul(Et,hn)|0,K=K+Math.imul(Et,Wt)|0,B=B+Math.imul(Me,dt)|0,T=T+Math.imul(Me,fn)|0,T=T+Math.imul(Ge,dt)|0,K=K+Math.imul(Ge,fn)|0,B=B+Math.imul(Ee,$t)|0,T=T+Math.imul(Ee,Sn)|0,T=T+Math.imul(be,$t)|0,K=K+Math.imul(be,Sn)|0,B=B+Math.imul(ye,Bt)|0,T=T+Math.imul(ye,Tn)|0,T=T+Math.imul(Te,Bt)|0,K=K+Math.imul(Te,Tn)|0,B=B+Math.imul(ue,Yt)|0,T=T+Math.imul(ue,pn)|0,T=T+Math.imul(he,Yt)|0,K=K+Math.imul(he,pn)|0;var uu=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(uu>>>26)|0,uu&=67108863,B=Math.imul(Z,qe),T=Math.imul(Z,Ke),T=T+Math.imul(ne,qe)|0,K=Math.imul(ne,Ke),B=B+Math.imul(k,Be)|0,T=T+Math.imul(k,un)|0,T=T+Math.imul(Q,Be)|0,K=K+Math.imul(Q,un)|0,B=B+Math.imul(it,zt)|0,T=T+Math.imul(it,rn)|0,T=T+Math.imul(V,zt)|0,K=K+Math.imul(V,rn)|0,B=B+Math.imul(Tt,Ot)|0,T=T+Math.imul(Tt,dn)|0,T=T+Math.imul(Ct,Ot)|0,K=K+Math.imul(Ct,dn)|0,B=B+Math.imul(wt,hn)|0,T=T+Math.imul(wt,Wt)|0,T=T+Math.imul(oe,hn)|0,K=K+Math.imul(oe,Wt)|0,B=B+Math.imul(at,dt)|0,T=T+Math.imul(at,fn)|0,T=T+Math.imul(Et,dt)|0,K=K+Math.imul(Et,fn)|0,B=B+Math.imul(Me,$t)|0,T=T+Math.imul(Me,Sn)|0,T=T+Math.imul(Ge,$t)|0,K=K+Math.imul(Ge,Sn)|0,B=B+Math.imul(Ee,Bt)|0,T=T+Math.imul(Ee,Tn)|0,T=T+Math.imul(be,Bt)|0,K=K+Math.imul(be,Tn)|0,B=B+Math.imul(ye,Yt)|0,T=T+Math.imul(ye,pn)|0,T=T+Math.imul(Te,Yt)|0,K=K+Math.imul(Te,pn)|0,B=B+Math.imul(ue,Xt)|0,T=T+Math.imul(ue,kt)|0,T=T+Math.imul(he,Xt)|0,K=K+Math.imul(he,kt)|0;var Ll=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(Ll>>>26)|0,Ll&=67108863,B=Math.imul(Z,Be),T=Math.imul(Z,un),T=T+Math.imul(ne,Be)|0,K=Math.imul(ne,un),B=B+Math.imul(k,zt)|0,T=T+Math.imul(k,rn)|0,T=T+Math.imul(Q,zt)|0,K=K+Math.imul(Q,rn)|0,B=B+Math.imul(it,Ot)|0,T=T+Math.imul(it,dn)|0,T=T+Math.imul(V,Ot)|0,K=K+Math.imul(V,dn)|0,B=B+Math.imul(Tt,hn)|0,T=T+Math.imul(Tt,Wt)|0,T=T+Math.imul(Ct,hn)|0,K=K+Math.imul(Ct,Wt)|0,B=B+Math.imul(wt,dt)|0,T=T+Math.imul(wt,fn)|0,T=T+Math.imul(oe,dt)|0,K=K+Math.imul(oe,fn)|0,B=B+Math.imul(at,$t)|0,T=T+Math.imul(at,Sn)|0,T=T+Math.imul(Et,$t)|0,K=K+Math.imul(Et,Sn)|0,B=B+Math.imul(Me,Bt)|0,T=T+Math.imul(Me,Tn)|0,T=T+Math.imul(Ge,Bt)|0,K=K+Math.imul(Ge,Tn)|0,B=B+Math.imul(Ee,Yt)|0,T=T+Math.imul(Ee,pn)|0,T=T+Math.imul(be,Yt)|0,K=K+Math.imul(be,pn)|0,B=B+Math.imul(ye,Xt)|0,T=T+Math.imul(ye,kt)|0,T=T+Math.imul(Te,Xt)|0,K=K+Math.imul(Te,kt)|0;var oo=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(oo>>>26)|0,oo&=67108863,B=Math.imul(Z,zt),T=Math.imul(Z,rn),T=T+Math.imul(ne,zt)|0,K=Math.imul(ne,rn),B=B+Math.imul(k,Ot)|0,T=T+Math.imul(k,dn)|0,T=T+Math.imul(Q,Ot)|0,K=K+Math.imul(Q,dn)|0,B=B+Math.imul(it,hn)|0,T=T+Math.imul(it,Wt)|0,T=T+Math.imul(V,hn)|0,K=K+Math.imul(V,Wt)|0,B=B+Math.imul(Tt,dt)|0,T=T+Math.imul(Tt,fn)|0,T=T+Math.imul(Ct,dt)|0,K=K+Math.imul(Ct,fn)|0,B=B+Math.imul(wt,$t)|0,T=T+Math.imul(wt,Sn)|0,T=T+Math.imul(oe,$t)|0,K=K+Math.imul(oe,Sn)|0,B=B+Math.imul(at,Bt)|0,T=T+Math.imul(at,Tn)|0,T=T+Math.imul(Et,Bt)|0,K=K+Math.imul(Et,Tn)|0,B=B+Math.imul(Me,Yt)|0,T=T+Math.imul(Me,pn)|0,T=T+Math.imul(Ge,Yt)|0,K=K+Math.imul(Ge,pn)|0,B=B+Math.imul(Ee,Xt)|0,T=T+Math.imul(Ee,kt)|0,T=T+Math.imul(be,Xt)|0,K=K+Math.imul(be,kt)|0;var ei=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(ei>>>26)|0,ei&=67108863,B=Math.imul(Z,Ot),T=Math.imul(Z,dn),T=T+Math.imul(ne,Ot)|0,K=Math.imul(ne,dn),B=B+Math.imul(k,hn)|0,T=T+Math.imul(k,Wt)|0,T=T+Math.imul(Q,hn)|0,K=K+Math.imul(Q,Wt)|0,B=B+Math.imul(it,dt)|0,T=T+Math.imul(it,fn)|0,T=T+Math.imul(V,dt)|0,K=K+Math.imul(V,fn)|0,B=B+Math.imul(Tt,$t)|0,T=T+Math.imul(Tt,Sn)|0,T=T+Math.imul(Ct,$t)|0,K=K+Math.imul(Ct,Sn)|0,B=B+Math.imul(wt,Bt)|0,T=T+Math.imul(wt,Tn)|0,T=T+Math.imul(oe,Bt)|0,K=K+Math.imul(oe,Tn)|0,B=B+Math.imul(at,Yt)|0,T=T+Math.imul(at,pn)|0,T=T+Math.imul(Et,Yt)|0,K=K+Math.imul(Et,pn)|0,B=B+Math.imul(Me,Xt)|0,T=T+Math.imul(Me,kt)|0,T=T+Math.imul(Ge,Xt)|0,K=K+Math.imul(Ge,kt)|0;var Dl=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(Dl>>>26)|0,Dl&=67108863,B=Math.imul(Z,hn),T=Math.imul(Z,Wt),T=T+Math.imul(ne,hn)|0,K=Math.imul(ne,Wt),B=B+Math.imul(k,dt)|0,T=T+Math.imul(k,fn)|0,T=T+Math.imul(Q,dt)|0,K=K+Math.imul(Q,fn)|0,B=B+Math.imul(it,$t)|0,T=T+Math.imul(it,Sn)|0,T=T+Math.imul(V,$t)|0,K=K+Math.imul(V,Sn)|0,B=B+Math.imul(Tt,Bt)|0,T=T+Math.imul(Tt,Tn)|0,T=T+Math.imul(Ct,Bt)|0,K=K+Math.imul(Ct,Tn)|0,B=B+Math.imul(wt,Yt)|0,T=T+Math.imul(wt,pn)|0,T=T+Math.imul(oe,Yt)|0,K=K+Math.imul(oe,pn)|0,B=B+Math.imul(at,Xt)|0,T=T+Math.imul(at,kt)|0,T=T+Math.imul(Et,Xt)|0,K=K+Math.imul(Et,kt)|0;var jh=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(jh>>>26)|0,jh&=67108863,B=Math.imul(Z,dt),T=Math.imul(Z,fn),T=T+Math.imul(ne,dt)|0,K=Math.imul(ne,fn),B=B+Math.imul(k,$t)|0,T=T+Math.imul(k,Sn)|0,T=T+Math.imul(Q,$t)|0,K=K+Math.imul(Q,Sn)|0,B=B+Math.imul(it,Bt)|0,T=T+Math.imul(it,Tn)|0,T=T+Math.imul(V,Bt)|0,K=K+Math.imul(V,Tn)|0,B=B+Math.imul(Tt,Yt)|0,T=T+Math.imul(Tt,pn)|0,T=T+Math.imul(Ct,Yt)|0,K=K+Math.imul(Ct,pn)|0,B=B+Math.imul(wt,Xt)|0,T=T+Math.imul(wt,kt)|0,T=T+Math.imul(oe,Xt)|0,K=K+Math.imul(oe,kt)|0;var du=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(du>>>26)|0,du&=67108863,B=Math.imul(Z,$t),T=Math.imul(Z,Sn),T=T+Math.imul(ne,$t)|0,K=Math.imul(ne,Sn),B=B+Math.imul(k,Bt)|0,T=T+Math.imul(k,Tn)|0,T=T+Math.imul(Q,Bt)|0,K=K+Math.imul(Q,Tn)|0,B=B+Math.imul(it,Yt)|0,T=T+Math.imul(it,pn)|0,T=T+Math.imul(V,Yt)|0,K=K+Math.imul(V,pn)|0,B=B+Math.imul(Tt,Xt)|0,T=T+Math.imul(Tt,kt)|0,T=T+Math.imul(Ct,Xt)|0,K=K+Math.imul(Ct,kt)|0;var hu=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(hu>>>26)|0,hu&=67108863,B=Math.imul(Z,Bt),T=Math.imul(Z,Tn),T=T+Math.imul(ne,Bt)|0,K=Math.imul(ne,Tn),B=B+Math.imul(k,Yt)|0,T=T+Math.imul(k,pn)|0,T=T+Math.imul(Q,Yt)|0,K=K+Math.imul(Q,pn)|0,B=B+Math.imul(it,Xt)|0,T=T+Math.imul(it,kt)|0,T=T+Math.imul(V,Xt)|0,K=K+Math.imul(V,kt)|0;var fu=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(fu>>>26)|0,fu&=67108863,B=Math.imul(Z,Yt),T=Math.imul(Z,pn),T=T+Math.imul(ne,Yt)|0,K=Math.imul(ne,pn),B=B+Math.imul(k,Xt)|0,T=T+Math.imul(k,kt)|0,T=T+Math.imul(Q,Xt)|0,K=K+Math.imul(Q,kt)|0;var jl=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(jl>>>26)|0,jl&=67108863,B=Math.imul(Z,Xt),T=Math.imul(Z,kt),T=T+Math.imul(ne,Xt)|0,K=Math.imul(ne,kt);var Bl=(H+B|0)+((T&8191)<<13)|0;return H=(K+(T>>>13)|0)+(Bl>>>26)|0,Bl&=67108863,j[0]=ou,j[1]=au,j[2]=Pl,j[3]=Ol,j[4]=lu,j[5]=cu,j[6]=Dh,j[7]=na,j[8]=uu,j[9]=Ll,j[10]=oo,j[11]=ei,j[12]=Dl,j[13]=jh,j[14]=du,j[15]=hu,j[16]=fu,j[17]=jl,j[18]=Bl,H!==0&&(j[19]=H,O.length++),O};Math.imul||(_=b);function x(C,y,A){A.negative=y.negative^C.negative,A.length=C.length+y.length;for(var O=0,z=0,L=0;L<A.length-1;L++){var j=z;z=0;for(var H=O&67108863,B=Math.min(L,y.length-1),T=Math.max(0,L-C.length+1);T<=B;T++){var K=L-T,ae=C.words[K]|0,ue=y.words[T]|0,he=ae*ue,le=he&67108863;j=j+(he/67108864|0)|0,le=le+H|0,H=le&67108863,j=j+(le>>>26)|0,z+=j>>>26,j&=67108863}A.words[L]=H,O=j,j=z}return O!==0?A.words[L]=O:A.length--,A._strip()}function S(C,y,A){return x(C,y,A)}i.prototype.mulTo=function(y,A){var O,z=this.length+y.length;return this.length===10&&y.length===10?O=_(this,y,A):z<63?O=b(this,y,A):z<1024?O=x(this,y,A):O=S(this,y,A),O},i.prototype.mul=function(y){var A=new i(null);return A.words=new Array(this.length+y.length),this.mulTo(y,A)},i.prototype.mulf=function(y){var A=new i(null);return A.words=new Array(this.length+y.length),S(this,y,A)},i.prototype.imul=function(y){return this.clone().mulTo(y,this)},i.prototype.imuln=function(y){var A=y<0;A&&(y=-y),r(typeof y=="number"),r(y<67108864);for(var O=0,z=0;z<this.length;z++){var L=(this.words[z]|0)*y,j=(L&67108863)+(O&67108863);O>>=26,O+=L/67108864|0,O+=j>>>26,this.words[z]=j&67108863}return O!==0&&(this.words[z]=O,this.length++),this.length=y===0?1:this.length,A?this.ineg():this},i.prototype.muln=function(y){return this.clone().imuln(y)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(y){var A=w(y);if(A.length===0)return new i(1);for(var O=this,z=0;z<A.length&&A[z]===0;z++,O=O.sqr());if(++z<A.length)for(var L=O.sqr();z<A.length;z++,L=L.sqr())A[z]!==0&&(O=O.mul(L));return O},i.prototype.iushln=function(y){r(typeof y=="number"&&y>=0);var A=y%26,O=(y-A)/26,z=67108863>>>26-A<<26-A,L;if(A!==0){var j=0;for(L=0;L<this.length;L++){var H=this.words[L]&z,B=(this.words[L]|0)-H<<A;this.words[L]=B|j,j=H>>>26-A}j&&(this.words[L]=j,this.length++)}if(O!==0){for(L=this.length-1;L>=0;L--)this.words[L+O]=this.words[L];for(L=0;L<O;L++)this.words[L]=0;this.length+=O}return this._strip()},i.prototype.ishln=function(y){return r(this.negative===0),this.iushln(y)},i.prototype.iushrn=function(y,A,O){r(typeof y=="number"&&y>=0);var z;A?z=(A-A%26)/26:z=0;var L=y%26,j=Math.min((y-L)/26,this.length),H=67108863^67108863>>>L<<L,B=O;if(z-=j,z=Math.max(0,z),B){for(var T=0;T<j;T++)B.words[T]=this.words[T];B.length=j}if(j!==0)if(this.length>j)for(this.length-=j,T=0;T<this.length;T++)this.words[T]=this.words[T+j];else this.words[0]=0,this.length=1;var K=0;for(T=this.length-1;T>=0&&(K!==0||T>=z);T--){var ae=this.words[T]|0;this.words[T]=K<<26-L|ae>>>L,K=ae&H}return B&&K!==0&&(B.words[B.length++]=K),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(y,A,O){return r(this.negative===0),this.iushrn(y,A,O)},i.prototype.shln=function(y){return this.clone().ishln(y)},i.prototype.ushln=function(y){return this.clone().iushln(y)},i.prototype.shrn=function(y){return this.clone().ishrn(y)},i.prototype.ushrn=function(y){return this.clone().iushrn(y)},i.prototype.testn=function(y){r(typeof y=="number"&&y>=0);var A=y%26,O=(y-A)/26,z=1<<A;if(this.length<=O)return!1;var L=this.words[O];return!!(L&z)},i.prototype.imaskn=function(y){r(typeof y=="number"&&y>=0);var A=y%26,O=(y-A)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(A!==0&&O++,this.length=Math.min(O,this.length),A!==0){var z=67108863^67108863>>>A<<A;this.words[this.length-1]&=z}return this._strip()},i.prototype.maskn=function(y){return this.clone().imaskn(y)},i.prototype.iaddn=function(y){return r(typeof y=="number"),r(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<=y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},i.prototype._iaddn=function(y){this.words[0]+=y;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},i.prototype.isubn=function(y){if(r(typeof y=="number"),r(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this._strip()},i.prototype.addn=function(y){return this.clone().iaddn(y)},i.prototype.subn=function(y){return this.clone().isubn(y)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(y,A,O){var z=y.length+O,L;this._expand(z);var j,H=0;for(L=0;L<y.length;L++){j=(this.words[L+O]|0)+H;var B=(y.words[L]|0)*A;j-=B&67108863,H=(j>>26)-(B/67108864|0),this.words[L+O]=j&67108863}for(;L<this.length-O;L++)j=(this.words[L+O]|0)+H,H=j>>26,this.words[L+O]=j&67108863;if(H===0)return this._strip();for(r(H===-1),H=0,L=0;L<this.length;L++)j=-(this.words[L]|0)+H,H=j>>26,this.words[L]=j&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(y,A){var O=this.length-y.length,z=this.clone(),L=y,j=L.words[L.length-1]|0,H=this._countBits(j);O=26-H,O!==0&&(L=L.ushln(O),z.iushln(O),j=L.words[L.length-1]|0);var B=z.length-L.length,T;if(A!=="mod"){T=new i(null),T.length=B+1,T.words=new Array(T.length);for(var K=0;K<T.length;K++)T.words[K]=0}var ae=z.clone()._ishlnsubmul(L,1,B);ae.negative===0&&(z=ae,T&&(T.words[B]=1));for(var ue=B-1;ue>=0;ue--){var he=(z.words[L.length+ue]|0)*67108864+(z.words[L.length+ue-1]|0);for(he=Math.min(he/j|0,67108863),z._ishlnsubmul(L,he,ue);z.negative!==0;)he--,z.negative=0,z._ishlnsubmul(L,1,ue),z.isZero()||(z.negative^=1);T&&(T.words[ue]=he)}return T&&T._strip(),z._strip(),A!=="div"&&O!==0&&z.iushrn(O),{div:T||null,mod:z}},i.prototype.divmod=function(y,A,O){if(r(!y.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var z,L,j;return this.negative!==0&&y.negative===0?(j=this.neg().divmod(y,A),A!=="mod"&&(z=j.div.neg()),A!=="div"&&(L=j.mod.neg(),O&&L.negative!==0&&L.iadd(y)),{div:z,mod:L}):this.negative===0&&y.negative!==0?(j=this.divmod(y.neg(),A),A!=="mod"&&(z=j.div.neg()),{div:z,mod:j.mod}):this.negative&y.negative?(j=this.neg().divmod(y.neg(),A),A!=="div"&&(L=j.mod.neg(),O&&L.negative!==0&&L.isub(y)),{div:j.div,mod:L}):y.length>this.length||this.cmp(y)<0?{div:new i(0),mod:this}:y.length===1?A==="div"?{div:this.divn(y.words[0]),mod:null}:A==="mod"?{div:null,mod:new i(this.modrn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new i(this.modrn(y.words[0]))}:this._wordDiv(y,A)},i.prototype.div=function(y){return this.divmod(y,"div",!1).div},i.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},i.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},i.prototype.divRound=function(y){var A=this.divmod(y);if(A.mod.isZero())return A.div;var O=A.div.negative!==0?A.mod.isub(y):A.mod,z=y.ushrn(1),L=y.andln(1),j=O.cmp(z);return j<0||L===1&&j===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},i.prototype.modrn=function(y){var A=y<0;A&&(y=-y),r(y<=67108863);for(var O=(1<<26)%y,z=0,L=this.length-1;L>=0;L--)z=(O*z+(this.words[L]|0))%y;return A?-z:z},i.prototype.modn=function(y){return this.modrn(y)},i.prototype.idivn=function(y){var A=y<0;A&&(y=-y),r(y<=67108863);for(var O=0,z=this.length-1;z>=0;z--){var L=(this.words[z]|0)+O*67108864;this.words[z]=L/y|0,O=L%y}return this._strip(),A?this.ineg():this},i.prototype.divn=function(y){return this.clone().idivn(y)},i.prototype.egcd=function(y){r(y.negative===0),r(!y.isZero());var A=this,O=y.clone();A.negative!==0?A=A.umod(y):A=A.clone();for(var z=new i(1),L=new i(0),j=new i(0),H=new i(1),B=0;A.isEven()&&O.isEven();)A.iushrn(1),O.iushrn(1),++B;for(var T=O.clone(),K=A.clone();!A.isZero();){for(var ae=0,ue=1;!(A.words[0]&ue)&&ae<26;++ae,ue<<=1);if(ae>0)for(A.iushrn(ae);ae-- >0;)(z.isOdd()||L.isOdd())&&(z.iadd(T),L.isub(K)),z.iushrn(1),L.iushrn(1);for(var he=0,le=1;!(O.words[0]&le)&&he<26;++he,le<<=1);if(he>0)for(O.iushrn(he);he-- >0;)(j.isOdd()||H.isOdd())&&(j.iadd(T),H.isub(K)),j.iushrn(1),H.iushrn(1);A.cmp(O)>=0?(A.isub(O),z.isub(j),L.isub(H)):(O.isub(A),j.isub(z),H.isub(L))}return{a:j,b:H,gcd:O.iushln(B)}},i.prototype._invmp=function(y){r(y.negative===0),r(!y.isZero());var A=this,O=y.clone();A.negative!==0?A=A.umod(y):A=A.clone();for(var z=new i(1),L=new i(0),j=O.clone();A.cmpn(1)>0&&O.cmpn(1)>0;){for(var H=0,B=1;!(A.words[0]&B)&&H<26;++H,B<<=1);if(H>0)for(A.iushrn(H);H-- >0;)z.isOdd()&&z.iadd(j),z.iushrn(1);for(var T=0,K=1;!(O.words[0]&K)&&T<26;++T,K<<=1);if(T>0)for(O.iushrn(T);T-- >0;)L.isOdd()&&L.iadd(j),L.iushrn(1);A.cmp(O)>=0?(A.isub(O),z.isub(L)):(O.isub(A),L.isub(z))}var ae;return A.cmpn(1)===0?ae=z:ae=L,ae.cmpn(0)<0&&ae.iadd(y),ae},i.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var A=this.clone(),O=y.clone();A.negative=0,O.negative=0;for(var z=0;A.isEven()&&O.isEven();z++)A.iushrn(1),O.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;O.isEven();)O.iushrn(1);var L=A.cmp(O);if(L<0){var j=A;A=O,O=j}else if(L===0||O.cmpn(1)===0)break;A.isub(O)}while(!0);return O.iushln(z)},i.prototype.invm=function(y){return this.egcd(y).a.umod(y)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(y){return this.words[0]&y},i.prototype.bincn=function(y){r(typeof y=="number");var A=y%26,O=(y-A)/26,z=1<<A;if(this.length<=O)return this._expand(O+1),this.words[O]|=z,this;for(var L=z,j=O;L!==0&&j<this.length;j++){var H=this.words[j]|0;H+=L,L=H>>>26,H&=67108863,this.words[j]=H}return L!==0&&(this.words[j]=L,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(y){var A=y<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this._strip();var O;if(this.length>1)O=1;else{A&&(y=-y),r(y<=67108863,"Number is too big");var z=this.words[0]|0;O=z===y?0:z<y?-1:1}return this.negative!==0?-O|0:O},i.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var A=this.ucmp(y);return this.negative!==0?-A|0:A},i.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var A=0,O=this.length-1;O>=0;O--){var z=this.words[O]|0,L=y.words[O]|0;if(z!==L){z<L?A=-1:z>L&&(A=1);break}}return A},i.prototype.gtn=function(y){return this.cmpn(y)===1},i.prototype.gt=function(y){return this.cmp(y)===1},i.prototype.gten=function(y){return this.cmpn(y)>=0},i.prototype.gte=function(y){return this.cmp(y)>=0},i.prototype.ltn=function(y){return this.cmpn(y)===-1},i.prototype.lt=function(y){return this.cmp(y)===-1},i.prototype.lten=function(y){return this.cmpn(y)<=0},i.prototype.lte=function(y){return this.cmp(y)<=0},i.prototype.eqn=function(y){return this.cmpn(y)===0},i.prototype.eq=function(y){return this.cmp(y)===0},i.red=function(y){return new $(y)},i.prototype.toRed=function(y){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(y){return this.red=y,this},i.prototype.forceRed=function(y){return r(!this.red,"Already a number in reduction context"),this._forceRed(y)},i.prototype.redAdd=function(y){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},i.prototype.redIAdd=function(y){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},i.prototype.redSub=function(y){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},i.prototype.redISub=function(y){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},i.prototype.redShl=function(y){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},i.prototype.redMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},i.prototype.redIMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(y){return r(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var D={k256:null,p224:null,p192:null,p25519:null};function F(C,y){this.name=C,this.p=new i(y,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}F.prototype._tmp=function(){var y=new i(null);return y.words=new Array(Math.ceil(this.n/13)),y},F.prototype.ireduce=function(y){var A=y,O;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),O=A.bitLength();while(O>this.n);var z=O<this.n?-1:A.ucmp(this.p);return z===0?(A.words[0]=0,A.length=1):z>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},F.prototype.split=function(y,A){y.iushrn(this.n,0,A)},F.prototype.imulK=function(y){return y.imul(this.k)};function M(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(M,F),M.prototype.split=function(y,A){for(var O=4194303,z=Math.min(y.length,9),L=0;L<z;L++)A.words[L]=y.words[L];if(A.length=z,y.length<=9){y.words[0]=0,y.length=1;return}var j=y.words[9];for(A.words[A.length++]=j&O,L=10;L<y.length;L++){var H=y.words[L]|0;y.words[L-10]=(H&O)<<4|j>>>22,j=H}j>>>=22,y.words[L-10]=j,j===0&&y.length>10?y.length-=10:y.length-=9},M.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var A=0,O=0;O<y.length;O++){var z=y.words[O]|0;A+=z*977,y.words[O]=A&67108863,A=z*64+(A/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function R(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(R,F);function U(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(U,F);function W(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(W,F),W.prototype.imulK=function(y){for(var A=0,O=0;O<y.length;O++){var z=(y.words[O]|0)*19+A,L=z&67108863;z>>>=26,y.words[O]=L,A=z}return A!==0&&(y.words[y.length++]=A),y},i._prime=function(y){if(D[y])return D[y];var A;if(y==="k256")A=new M;else if(y==="p224")A=new R;else if(y==="p192")A=new U;else if(y==="p25519")A=new W;else throw new Error("Unknown prime "+y);return D[y]=A,A};function $(C){if(typeof C=="string"){var y=i._prime(C);this.m=y.p,this.prime=y}else r(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}$.prototype._verify1=function(y){r(y.negative===0,"red works only with positives"),r(y.red,"red works only with red numbers")},$.prototype._verify2=function(y,A){r((y.negative|A.negative)===0,"red works only with positives"),r(y.red&&y.red===A.red,"red works only with red numbers")},$.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):(u(y,y.umod(this.m)._forceRed(this)),y)},$.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},$.prototype.add=function(y,A){this._verify2(y,A);var O=y.add(A);return O.cmp(this.m)>=0&&O.isub(this.m),O._forceRed(this)},$.prototype.iadd=function(y,A){this._verify2(y,A);var O=y.iadd(A);return O.cmp(this.m)>=0&&O.isub(this.m),O},$.prototype.sub=function(y,A){this._verify2(y,A);var O=y.sub(A);return O.cmpn(0)<0&&O.iadd(this.m),O._forceRed(this)},$.prototype.isub=function(y,A){this._verify2(y,A);var O=y.isub(A);return O.cmpn(0)<0&&O.iadd(this.m),O},$.prototype.shl=function(y,A){return this._verify1(y),this.imod(y.ushln(A))},$.prototype.imul=function(y,A){return this._verify2(y,A),this.imod(y.imul(A))},$.prototype.mul=function(y,A){return this._verify2(y,A),this.imod(y.mul(A))},$.prototype.isqr=function(y){return this.imul(y,y.clone())},$.prototype.sqr=function(y){return this.mul(y,y)},$.prototype.sqrt=function(y){if(y.isZero())return y.clone();var A=this.m.andln(3);if(r(A%2===1),A===3){var O=this.m.add(new i(1)).iushrn(2);return this.pow(y,O)}for(var z=this.m.subn(1),L=0;!z.isZero()&&z.andln(1)===0;)L++,z.iushrn(1);r(!z.isZero());var j=new i(1).toRed(this),H=j.redNeg(),B=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new i(2*T*T).toRed(this);this.pow(T,B).cmp(H)!==0;)T.redIAdd(H);for(var K=this.pow(T,z),ae=this.pow(y,z.addn(1).iushrn(1)),ue=this.pow(y,z),he=L;ue.cmp(j)!==0;){for(var le=ue,ye=0;le.cmp(j)!==0;ye++)le=le.redSqr();r(ye<he);var Te=this.pow(K,new i(1).iushln(he-ye-1));ae=ae.redMul(Te),K=Te.redSqr(),ue=ue.redMul(K),he=ye}return ae},$.prototype.invm=function(y){var A=y._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},$.prototype.pow=function(y,A){if(A.isZero())return new i(1).toRed(this);if(A.cmpn(1)===0)return y.clone();var O=4,z=new Array(1<<O);z[0]=new i(1).toRed(this),z[1]=y;for(var L=2;L<z.length;L++)z[L]=this.mul(z[L-1],y);var j=z[0],H=0,B=0,T=A.bitLength()%26;for(T===0&&(T=26),L=A.length-1;L>=0;L--){for(var K=A.words[L],ae=T-1;ae>=0;ae--){var ue=K>>ae&1;if(j!==z[0]&&(j=this.sqr(j)),ue===0&&H===0){B=0;continue}H<<=1,H|=ue,B++,!(B!==O&&(L!==0||ae!==0))&&(j=this.mul(j,z[H]),B=0,H=0)}T=26}return j},$.prototype.convertTo=function(y){var A=y.umod(this.m);return A===y?A.clone():A},$.prototype.convertFrom=function(y){var A=y.clone();return A.red=null,A},i.mont=function(y){return new q(y)};function q(C){$.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(q,$),q.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},q.prototype.convertFrom=function(y){var A=this.imod(y.mul(this.rinv));return A.red=null,A},q.prototype.imul=function(y,A){if(y.isZero()||A.isZero())return y.words[0]=0,y.length=1,y;var O=y.imul(A),z=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=O.isub(z).iushrn(this.shift),j=L;return L.cmp(this.m)>=0?j=L.isub(this.m):L.cmpn(0)<0&&(j=L.iadd(this.m)),j._forceRed(this)},q.prototype.mul=function(y,A){if(y.isZero()||A.isZero())return new i(0)._forceRed(this);var O=y.mul(A),z=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=O.isub(z).iushrn(this.shift),j=L;return L.cmp(this.m)>=0?j=L.isub(this.m):L.cmpn(0)<0&&(j=L.iadd(this.m)),j._forceRed(this)},q.prototype.invm=function(y){var A=this.imod(y._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(t,xi)})(cT);var oL=cT.exports;const Pk=El(oL);var l_={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=Xe,r=n.Buffer;function s(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=i);function i(o,a,l){return r(o,a,l)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},i.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(l_,l_.exports);var aL=l_.exports,wg=aL.Buffer;function T$(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=wg.from(m)),!wg.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var v=0,g=0,w=0,b=m.length;w!==b&&m[w]===0;)w++,v++;for(var _=(b-w)*c+1>>>0,x=new Uint8Array(_);w!==b;){for(var S=m[w],D=0,F=_-1;(S!==0||D<g)&&F!==-1;F--,D++)S+=256*x[F]>>>0,x[F]=S%o>>>0,S=S/o>>>0;if(S!==0)throw new Error("Non-zero carry");g=D,w++}for(var M=_-g;M!==_&&x[M]===0;)M++;for(var R=a.repeat(v);M<_;++M)R+=t.charAt(x[M]);return R}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return wg.alloc(0);for(var v=0,g=0,w=0;m[v]===a;)g++,v++;for(var b=(m.length-v)*l+1>>>0,_=new Uint8Array(b);v<m.length;){var x=m.charCodeAt(v);if(x>255)return;var S=e[x];if(S===255)return;for(var D=0,F=b-1;(S!==0||D<w)&&F!==-1;F--,D++)S+=o*_[F]>>>0,_[F]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");w=D,v++}for(var M=b-w;M!==b&&_[M]===0;)M++;var R=wg.allocUnsafe(g+(b-M));R.fill(0,0,g);for(var U=g;M!==b;)R[U++]=_[M++];return R}function p(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:p}}var A$=T$,I$=A$,C$="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",k$=I$(C$);const gr=El(k$),Ok=qO;var pr={},vg=aL.Buffer;function N$(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=vg.from(m)),!vg.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var v=0,g=0,w=0,b=m.length;w!==b&&m[w]===0;)w++,v++;for(var _=(b-w)*c+1>>>0,x=new Uint8Array(_);w!==b;){for(var S=m[w],D=0,F=_-1;(S!==0||D<g)&&F!==-1;F--,D++)S+=256*x[F]>>>0,x[F]=S%o>>>0,S=S/o>>>0;if(S!==0)throw new Error("Non-zero carry");g=D,w++}for(var M=_-g;M!==_&&x[M]===0;)M++;for(var R=a.repeat(v);M<_;++M)R+=t.charAt(x[M]);return R}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return vg.alloc(0);for(var v=0,g=0,w=0;m[v]===a;)g++,v++;for(var b=(m.length-v)*l+1>>>0,_=new Uint8Array(b);v<m.length;){var x=m.charCodeAt(v);if(x>255)return;var S=e[x];if(S===255)return;for(var D=0,F=b-1;(S!==0||D<w)&&F!==-1;F--,D++)S+=o*_[F]>>>0,_[F]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");w=D,v++}for(var M=b-w;M!==b&&_[M]===0;)M++;var R=vg.allocUnsafe(g+(b-M));R.fill(0,0,g);for(var U=g;M!==b;)R[U++]=_[M++];return R}function p(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:p}}var R$=N$,M$=R$,P$="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",O$=M$(P$);function Eo(t,e,n){return e<=t&&t<=n}function Vw(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function L$(t){for(var e=String(t),n=e.length,r=0,s=[];r<n;){var i=e.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=i&1023,l=o&1023;s.push(65536+(a<<10)+l),r+=1}else s.push(65533)}r+=1}return s}function D$(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var yy=-1;function uT(t){this.tokens=[].slice.call(t)}uT.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():yy},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Zd=-1;function z1(t,e){if(t)throw TypeError("Decoder error");return e||65533}var wy="utf-8";function vy(t,e){if(!(this instanceof vy))return new vy(t,e);if(t=t!==void 0?String(t).toLowerCase():wy,t!==wy)throw new Error("Encoding not supported. Only utf-8 is supported");e=Vw(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}vy.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Vw(n),this._streaming||(this._decoder=new j$({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new uT(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==Zd);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===Zd)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),D$(i)}};function xy(t,e){if(!(this instanceof xy))return new xy(t,e);if(t=t!==void 0?String(t).toLowerCase():wy,t!==wy)throw new Error("Encoding not supported. Only utf-8 is supported");e=Vw(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}xy.prototype={encode:function(e,n){e=e?String(e):"",n=Vw(n),this._streaming||(this._encoder=new B$(this._options)),this._streaming=!!n.stream;for(var r=[],s=new uT(L$(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Zd);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Zd;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function j$(t){var e=t.fatal,n=0,r=0,s=0,i=128,o=191;this.handler=function(a,l){if(l===yy&&s!==0)return s=0,z1(e);if(l===yy)return Zd;if(s===0){if(Eo(l,0,127))return l;if(Eo(l,194,223))s=1,n=l-192;else if(Eo(l,224,239))l===224&&(i=160),l===237&&(o=159),s=2,n=l-224;else if(Eo(l,240,244))l===240&&(i=144),l===244&&(o=143),s=3,n=l-240;else return z1(e);return n=n<<6*s,null}if(!Eo(l,i,o))return n=s=r=0,i=128,o=191,a.prepend(l),z1(e);if(i=128,o=191,r+=1,n+=l-128<<6*(s-r),r!==s)return null;var c=n;return n=s=r=0,c}}function B$(t){t.fatal,this.handler=function(e,n){if(n===yy)return Zd;if(Eo(n,0,127))return n;var r,s;Eo(n,128,2047)?(r=1,s=192):Eo(n,2048,65535)?(r=2,s=224):Eo(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var o=n>>6*(r-1);i.push(128|o&63),r-=1}return i}}const F$=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:vy,TextEncoder:xy},Symbol.toStringTag,{value:"Module"})),U$=ME(F$);var V$=xi&&xi.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),z$=xi&&xi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ji=xi&&xi.__decorate||function(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},W$=xi&&xi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&V$(e,t,n);return z$(e,t),e},lL=xi&&xi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pr,"__esModule",{value:!0});var cL=pr.deserializeUnchecked=mL=pr.deserialize=pL=pr.serialize=pr.BinaryReader=pr.BinaryWriter=pr.BorshError=pr.baseDecode=pr.baseEncode=void 0;const Ha=lL(oL),uL=lL(O$),$$=W$(U$),H$=typeof TextDecoder!="function"?$$.TextDecoder:TextDecoder,q$=new H$("utf-8",{fatal:!0});function K$(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),uL.default.encode(Buffer.from(t))}pr.baseEncode=K$;function G$(t){return Buffer.from(uL.default.decode(t))}pr.baseDecode=G$;const W1=1024;class es extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}pr.BorshError=es;class dL{constructor(){this.buf=Buffer.alloc(W1),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(W1)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ha.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ha.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ha.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ha.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(W1)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}pr.BinaryWriter=dL;function eo(t,e,n){const r=n.value;n.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new es("Reached the end of buffer when deserializing")}throw i}}}class js{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Ha.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Ha.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Ha.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Ha.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new es(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return q$.decode(n)}catch(r){throw new es(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let s=0;s<n;++s)r.push(e());return r}}Ji([eo],js.prototype,"readU8",null);Ji([eo],js.prototype,"readU16",null);Ji([eo],js.prototype,"readU32",null);Ji([eo],js.prototype,"readU64",null);Ji([eo],js.prototype,"readU128",null);Ji([eo],js.prototype,"readU256",null);Ji([eo],js.prototype,"readU512",null);Ji([eo],js.prototype,"readString",null);Ji([eo],js.prototype,"readFixedArray",null);Ji([eo],js.prototype,"readArray",null);pr.BinaryReader=js;function hL(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Yl(t,e,n,r,s){try{if(typeof r=="string")s[`write${hL(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new es(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new es(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)Yl(t,null,n[i],r[0],s)}else s.writeArray(n,i=>{Yl(t,e,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?s.writeU8(0):(s.writeU8(1),Yl(t,e,n,r.type,s));break}case"map":{s.writeU32(n.size),n.forEach((i,o)=>{Yl(t,e,o,r.key,s),Yl(t,e,i,r.value,s)});break}default:throw new es(`FieldType ${r} unrecognized`)}else fL(t,n,s)}catch(i){throw i instanceof es&&i.addToFieldPath(e),i}}function fL(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new es(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{Yl(t,s,e[s],i,n)});else if(r.kind==="enum"){const s=e[r.field];for(let i=0;i<r.values.length;++i){const[o,a]=r.values[i];if(o===s){n.writeU8(i),Yl(t,o,e[o],a,n);break}}}else throw new es(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Q$(t,e,n=dL){const r=new n;return fL(t,e,r),r.toArray()}var pL=pr.serialize=Q$;function Xl(t,e,n,r){try{if(typeof n=="string")return r[`read${hL(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const s=[];for(let i=0;i<n[1];i++)s.push(Xl(t,null,n[0],r));return s}else return r.readArray(()=>Xl(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Xl(t,e,n.type,r):void 0;if(n.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const a=Xl(t,e,n.key,r),l=Xl(t,e,n.value,r);s.set(a,l)}return s}return dT(t,n,r)}catch(s){throw s instanceof es&&s.addToFieldPath(e),s}}function dT(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new es(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of t.get(e).fields)s[i]=Xl(t,i,o,n);return new e(s)}if(r.kind==="enum"){const s=n.readU8();if(s>=r.values.length)throw new es(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],a=Xl(t,i,o,n);return new e({[i]:a})}throw new es(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Y$(t,e,n,r=js){const s=new r(n),i=dT(t,e,s);if(s.offset<n.length)throw new es(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return i}var mL=pr.deserialize=Y$;function X$(t,e,n,r=js){const s=new r(n);return dT(t,e,s)}cL=pr.deserializeUnchecked=X$;var te={};Object.defineProperty(te,"__esModule",{value:!0});te.s16=te.s8=te.nu64be=te.u48be=te.u40be=te.u32be=te.u24be=te.u16be=lr=te.nu64=te.u48=te.u40=je=te.u32=te.u24=$s=te.u16=St=te.u8=bc=te.offset=te.greedy=te.Constant=te.UTF8=te.CString=te.Blob=te.Boolean=te.BitField=te.BitStructure=te.VariantLayout=te.Union=te.UnionLayoutDiscriminator=te.UnionDiscriminator=te.Structure=te.Sequence=te.DoubleBE=te.Double=te.FloatBE=te.Float=te.NearInt64BE=te.NearInt64=te.NearUInt64BE=te.NearUInt64=te.IntBE=te.Int=te.UIntBE=te.UInt=te.OffsetLayout=te.GreedyCount=te.ExternalLayout=te.bindConstructorLayout=te.nameWithProperty=te.Layout=te.uint8ArrayToBuffer=te.checkUint8Array=void 0;te.constant=te.utf8=te.cstr=tn=te.blob=te.unionLayoutDiscriminator=te.union=zr=te.seq=te.bits=ke=te.struct=te.f64be=te.f64=te.f32be=te.f32=te.ns64be=te.s48be=te.s40be=te.s32be=te.s24be=te.s16be=Ss=te.ns64=te.s48=te.s40=te.s32=te.s24=void 0;const hT=Xe;function bh(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}te.checkUint8Array=bh;function _t(t){return bh(t),hT.Buffer.from(t.buffer,t.byteOffset,t.length)}te.uint8ArrayToBuffer=_t;let Pt=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};te.Layout=Pt;function fT(t,e){return e.property?t+"["+e.property+"]":t}te.nameWithProperty=fT;function Z$(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Pt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}te.bindConstructorLayout=Z$;class ds extends Pt{isCount(){throw new Error("ExternalLayout is abstract")}}te.ExternalLayout=ds;class gL extends ds{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){bh(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}te.GreedyCount=gL;class pT extends ds{constructor(e,n=0,r){if(!(e instanceof Pt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Qs||this.layout instanceof vi}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}te.OffsetLayout=pT;class Qs extends Pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return _t(e).readUIntLE(n,this.span)}encode(e,n,r=0){return _t(n).writeUIntLE(e,r,this.span),this.span}}te.UInt=Qs;class vi extends Pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return _t(e).readUIntBE(n,this.span)}encode(e,n,r=0){return _t(n).writeUIntBE(e,r,this.span),this.span}}te.UIntBE=vi;class Yc extends Pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return _t(e).readIntLE(n,this.span)}encode(e,n,r=0){return _t(n).writeIntLE(e,r,this.span),this.span}}te.Int=Yc;class _h extends Pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return _t(e).readIntBE(n,this.span)}encode(e,n,r=0){return _t(n).writeIntBE(e,r,this.span),this.span}}te.IntBE=_h;const c_=Math.pow(2,32);function zw(t){const e=Math.floor(t/c_),n=t-e*c_;return{hi32:e,lo32:n}}function Ww(t,e){return t*c_+e}class yL extends Pt{constructor(e){super(8,e)}decode(e,n=0){const r=_t(e),s=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return Ww(i,s)}encode(e,n,r=0){const s=zw(e),i=_t(n);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}te.NearUInt64=yL;class wL extends Pt{constructor(e){super(8,e)}decode(e,n=0){const r=_t(e),s=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return Ww(s,i)}encode(e,n,r=0){const s=zw(e),i=_t(n);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}te.NearUInt64BE=wL;class vL extends Pt{constructor(e){super(8,e)}decode(e,n=0){const r=_t(e),s=r.readUInt32LE(n),i=r.readInt32LE(n+4);return Ww(i,s)}encode(e,n,r=0){const s=zw(e),i=_t(n);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}te.NearInt64=vL;class xL extends Pt{constructor(e){super(8,e)}decode(e,n=0){const r=_t(e),s=r.readInt32BE(n),i=r.readUInt32BE(n+4);return Ww(s,i)}encode(e,n,r=0){const s=zw(e),i=_t(n);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}te.NearInt64BE=xL;class bL extends Pt{constructor(e){super(4,e)}decode(e,n=0){return _t(e).readFloatLE(n)}encode(e,n,r=0){return _t(n).writeFloatLE(e,r),4}}te.Float=bL;class _L extends Pt{constructor(e){super(4,e)}decode(e,n=0){return _t(e).readFloatBE(n)}encode(e,n,r=0){return _t(n).writeFloatBE(e,r),4}}te.FloatBE=_L;class EL extends Pt{constructor(e){super(8,e)}decode(e,n=0){return _t(e).readDoubleLE(n)}encode(e,n,r=0){return _t(n).writeDoubleLE(e,r),8}}te.Double=EL;class SL extends Pt{constructor(e){super(8,e)}decode(e,n=0){return _t(e).readDoubleBE(n)}encode(e,n,r=0){return _t(n).writeDoubleBE(e,r),8}}te.DoubleBE=SL;class TL extends Pt{constructor(e,n,r){if(!(e instanceof Pt))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ds&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof ds)&&0<e.span&&(s=n*e.span),super(s,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof ds&&(s=s.decode(e,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(e,n+r),++i}return r}decode(e,n=0){const r=[];let s=0,i=this.count;for(i instanceof ds&&(i=i.decode(e,n));s<i;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),s+=1;return r}encode(e,n,r=0){const s=this.elementLayout,i=e.reduce((o,a)=>o+s.encode(a,n,r+o),0);return this.count instanceof ds&&this.count.encode(e.length,n,r),i}}te.Sequence=TL;class AL extends Pt{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof Pt,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){bh(e);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,n)),n+=s.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const s=r;let i=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}i=r,r+=l}return i+o-s}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}te.Structure=AL;class mT{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}te.UnionDiscriminator=mT;class by extends mT{constructor(e,n){if(!(e instanceof ds&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}te.UnionLayoutDiscriminator=by;class gT extends Pt{constructor(e,n,r){let s;if(e instanceof Qs||e instanceof vi)s=new by(new pT(e));else if(e instanceof ds&&e.isCount())s=new by(e);else if(e instanceof mT)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Pt))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(e instanceof Qs||e instanceof vi)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof Qs||e instanceof vi,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const s=this.discriminator,i=s.decode(e,n),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],n,r),a+o.encode(e[o.property],n,r+a)}return s.encode(e,n,r)}addVariant(e,n,r){const s=new IL(this,e,n,r);return this.registry[e]=s,s}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}te.Union=gT;class IL extends Pt{constructor(e,n,r,s){if(!(e instanceof gT))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof Pt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,n+r)),r+s}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}te.VariantLayout=IL;function Nu(t){return 0>t&&(t+=4294967296),t}class yT extends Pt{constructor(e,n,r){if(!(e instanceof Qs||e instanceof vi))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(i){return s=Nu(i),this},this._packedGetValue=function(){return s}}decode(e,n=0){const r=this.makeDestinationObject(),s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(e));return r}encode(e,n,r=0){const s=this.word.decode(n,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new wT(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new CL(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}te.BitStructure=yT;class wT{constructor(e,n,r){if(!(e instanceof yT))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*e.span,i=e.fields.reduce((o,a)=>o+a.bits,0);if(n+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-n),this.wordMask=Nu(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Nu(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Nu(e&this.valueMask))throw new TypeError(fT("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Nu(e<<this.start);this.container._packedSetValue(Nu(n&~this.wordMask)|r)}}te.BitField=wT;let CL=class extends wT{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};te.Boolean=CL;let kL=class extends Pt{constructor(e,n){if(!(e instanceof ds&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ds||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),_t(e).slice(n,n+r)}encode(e,n,r){let s=this.length;if(this.length instanceof ds&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(fT("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>n.length)throw new RangeError("encoding overruns Uint8Array");const i=_t(e);return _t(n).write(i.toString("hex"),r,s,"hex"),this.length instanceof ds&&this.length.encode(s,n,r),s}};te.Blob=kL;class NL extends Pt{constructor(e){super(-1,e)}getSpan(e,n=0){bh(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return _t(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=hT.Buffer.from(e,"utf8"),i=s.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const o=_t(n);return s.copy(o,r),o[r+i]=0,i+1}}te.CString=NL;class RL extends Pt{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return bh(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return _t(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=hT.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(_t(n),r),i}}te.UTF8=RL;class ML extends Pt{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}te.Constant=ML;te.greedy=(t,e)=>new gL(t,e);var bc=te.offset=(t,e,n)=>new pT(t,e,n),St=te.u8=t=>new Qs(1,t),$s=te.u16=t=>new Qs(2,t);te.u24=t=>new Qs(3,t);var je=te.u32=t=>new Qs(4,t);te.u40=t=>new Qs(5,t);te.u48=t=>new Qs(6,t);var lr=te.nu64=t=>new yL(t);te.u16be=t=>new vi(2,t);te.u24be=t=>new vi(3,t);te.u32be=t=>new vi(4,t);te.u40be=t=>new vi(5,t);te.u48be=t=>new vi(6,t);te.nu64be=t=>new wL(t);te.s8=t=>new Yc(1,t);te.s16=t=>new Yc(2,t);te.s24=t=>new Yc(3,t);te.s32=t=>new Yc(4,t);te.s40=t=>new Yc(5,t);te.s48=t=>new Yc(6,t);var Ss=te.ns64=t=>new vL(t);te.s16be=t=>new _h(2,t);te.s24be=t=>new _h(3,t);te.s32be=t=>new _h(4,t);te.s40be=t=>new _h(5,t);te.s48be=t=>new _h(6,t);te.ns64be=t=>new xL(t);te.f32=t=>new bL(t);te.f32be=t=>new _L(t);te.f64=t=>new EL(t);te.f64be=t=>new SL(t);var ke=te.struct=(t,e,n)=>new AL(t,e,n);te.bits=(t,e,n)=>new yT(t,e,n);var zr=te.seq=(t,e,n)=>new TL(t,e,n);te.union=(t,e,n)=>new gT(t,e,n);te.unionLayoutDiscriminator=(t,e)=>new by(t,e);var tn=te.blob=(t,e)=>new kL(t,e);te.cstr=t=>new NL(t);te.utf8=(t,e)=>new RL(t,e);te.constant=(t,e)=>new ML(t,e);var J$=8078e3,eH=8078001,tH=8078004,nH=8078005,rH=8078006,sH=8078011;function PL(t){return Array.isArray(t)?"%5B"+t.map(PL).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function iH([t,e]){return`${t}=${PL(e)}`}function oH(t){const e=Object.entries(t).map(iH).join("&");return btoa(e)}function aH(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${oH(e)}'`),`${n}\``}}var md=class extends Error{constructor(...[e,n]){let r,s;if(n){const{cause:o,...a}=n;o&&(s={cause:o}),Object.keys(a).length>0&&(r=a)}const i=aH(e,r);super(i,s);Bn(this,"cause",this.cause);Bn(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function lH(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function cH(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(lH(e,t));return t.write(e,n,0),n}})}function uH(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Su(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function dH(t,e){if(Su(t)!==Su(e))throw new md(tH);if(Su(t)&&Su(e)&&t.fixedSize!==e.fixedSize)throw new md(nH,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Su(t)&&!Su(e)&&t.maxSize!==e.maxSize)throw new md(rH,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function hH(t,e,n=0){if(e.length-n<=0)throw new md(J$,{codecDescription:t})}function fH(t,e,n,r=0){const s=n.length-r;if(s<e)throw new md(eH,{bytesLength:s,codecDescription:t,expected:e})}function pH(t,e,n,r){if(r<e||r>n)throw new md(sH,{codecDescription:t,max:n,min:e,value:r})}function OL(t){return(t==null?void 0:t.endian)!==1}function mH(t){return cH({fixedSize:t.size,write(e,n,r){t.range&&pH(t.name,t.range[0],t.range[1],e);const s=new ArrayBuffer(t.size);return t.set(new DataView(s),e,OL(t.config)),n.set(new Uint8Array(s),r),r+t.size}})}function gH(t){return uH({fixedSize:t.size,read(e,n=0){hH(t.name,e,n),fH(t.name,t.size,e,n);const r=new DataView(yH(e,n,t.size));return[t.get(r,OL(t.config)),n+t.size]}})}function yH(t,e,n){const r=t.byteOffset+(e??0),s=n??t.byteLength;return t.buffer.slice(r,r+s)}var wH=(t={})=>mH({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),vH=(t={})=>gH({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),xH=(t={})=>dH(wH(t),vH(t));class bH extends TypeError{constructor(e,n){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,l=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??l),i!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function _H(t){return am(t)&&typeof t[Symbol.iterator]=="function"}function am(t){return typeof t=="object"&&t!=null}function _y(t){return am(t)&&!Array.isArray(t)}function Si(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function EH(t){const{done:e,value:n}=t.next();return e?void 0:n}function SH(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:i}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Si(r)}\``}=t;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...t,message:l}}function*Lk(t,e,n,r){_H(t)||(t=[t]);for(const s of t){const i=SH(s,e,n,r);i&&(yield i)}}function*vT(t,e,n={}){const{path:r=[],branch:s=[t],coerce:i=!1,mask:o=!1}=n,a={path:r,branch:s,mask:o};i&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,f]of e.entries(t,a)){const p=vT(u,f,{path:c===void 0?r:[...r,c],branch:c===void 0?s:[...s,u],coerce:i,mask:o,message:n.message});for(const m of p)m[0]?(l=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):i&&(u=m[1],c===void 0?t=u:t instanceof Map?t.set(c,u):t instanceof Set?t.add(u):am(t)&&(u!==void 0||c in t)&&(t[c]=u))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let to=class{constructor(e){const{type:n,schema:r,validator:s,refiner:i,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(l,c)=>{const u=s(l,c);return Lk(u,c,this,l)}:this.validator=()=>[],i?this.refiner=(l,c)=>{const u=i(l,c);return Lk(u,c,this,l)}:this.refiner=()=>[]}assert(e,n){return TH(e,this,n)}create(e,n){return xe(e,this,n)}is(e){return LL(e,this)}mask(e,n){return AH(e,this,n)}validate(e,n={}){return lm(e,this,n)}};function TH(t,e,n){const r=lm(t,e,{message:n});if(r[0])throw r[0]}function xe(t,e,n){const r=lm(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function AH(t,e,n){const r=lm(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function LL(t,e){return!lm(t,e)[0]}function lm(t,e,n={}){const r=vT(t,e,n),s=EH(r);return s[0]?[new bH(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function Xc(t,e){return new to({type:t,schema:null,validator:e})}function IH(){return Xc("any",()=>!0)}function _e(t){return new to({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Si(e)}`}})}function Gi(){return Xc("boolean",t=>typeof t=="boolean")}function xT(t){return Xc("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Si(e)}`)}function vn(t){const e=Si(t),n=typeof t;return new to({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${Si(r)}`}})}function CH(){return Xc("never",()=>!1)}function Se(t){return new to({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function ee(){return Xc("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Si(t)}`)}function Ue(t){return new to({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function DL(t,e){return new to({type:"record",schema:null,*entries(n){if(am(n))for(const r in n){const s=n[r];yield[r,r,t],yield[r,s,e]}},validator(n){return _y(n)||`Expected an object, but received: ${Si(n)}`},coercer(n){return _y(n)?{...n}:n}})}function ge(){return Xc("string",t=>typeof t=="string"||`Expected a string, but received: ${Si(t)}`)}function bT(t){const e=CH();return new to({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],t[s]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Si(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function de(t){const e=Object.keys(t);return new to({type:"type",schema:t,*entries(n){if(am(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return _y(n)||`Expected an object, but received: ${Si(n)}`},coercer(n){return _y(n)?{...n}:n}})}function ns(t){const e=t.map(n=>n.type).join(" | ");return new to({type:"union",schema:null,coercer(n,r){for(const s of t){const[i,o]=s.validate(n,{coerce:!0,mask:r.mask});if(!i)return o}return n},validator(n,r){const s=[];for(const i of t){const[...o]=vT(n,i,r),[a]=o;if(a[0])for(const[l]of o)l&&s.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Si(n)}`,...s]}})}function Eh(){return Xc("unknown",()=>!0)}function cm(t,e,n){return new to({...t,coercer:(r,s)=>LL(r,e)?t.coercer(n(r,s),s):t.coercer(r,s)})}var xg,kH=new Uint8Array(16);function jL(){if(!xg&&(xg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!xg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xg(kH)}const NH=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function $w(t){return typeof t=="string"&&NH.test(t)}var ar=[];for(var $1=0;$1<256;++$1)ar.push(($1+256).toString(16).substr(1));function Hw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(ar[t[e+0]]+ar[t[e+1]]+ar[t[e+2]]+ar[t[e+3]]+"-"+ar[t[e+4]]+ar[t[e+5]]+"-"+ar[t[e+6]]+ar[t[e+7]]+"-"+ar[t[e+8]]+ar[t[e+9]]+"-"+ar[t[e+10]]+ar[t[e+11]]+ar[t[e+12]]+ar[t[e+13]]+ar[t[e+14]]+ar[t[e+15]]).toLowerCase();if(!$w(n))throw TypeError("Stringified UUID is invalid");return n}var Dk,H1,q1=0,K1=0;function RH(t,e,n){var r=e&&n||0,s=e||new Array(16);t=t||{};var i=t.node||Dk,o=t.clockseq!==void 0?t.clockseq:H1;if(i==null||o==null){var a=t.random||(t.rng||jL)();i==null&&(i=Dk=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=H1=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:K1+1,u=l-q1+(c-K1)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||l>q1)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");q1=l,K1=c,H1=o,l+=122192928e5;var f=((l&268435455)*1e4+c)%4294967296;s[r++]=f>>>24&255,s[r++]=f>>>16&255,s[r++]=f>>>8&255,s[r++]=f&255;var p=l/4294967296*1e4&268435455;s[r++]=p>>>8&255,s[r++]=p&255,s[r++]=p>>>24&15|16,s[r++]=p>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var m=0;m<6;++m)s[r+m]=i[m];return e||Hw(s)}function BL(t){if(!$w(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function MH(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var PH="6ba7b810-9dad-11d1-80b4-00c04fd430c8",OH="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function FL(t,e,n){function r(s,i,o,a){if(typeof s=="string"&&(s=MH(s)),typeof i=="string"&&(i=BL(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+s.length);if(l.set(i),l.set(s,i.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return Hw(l)}try{r.name=t}catch{}return r.DNS=PH,r.URL=OH,r}function LH(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return DH(jH(BH(t),t.length*8))}function DH(t){for(var e=[],n=t.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=t[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(o)}return e}function UL(t){return(t+64>>>9<<4)+14+1}function jH(t,e){t[e>>5]|=128<<e%32,t[UL(e)-1]=e;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=s,u=i;n=Nr(n,r,s,i,t[o],7,-680876936),i=Nr(i,n,r,s,t[o+1],12,-389564586),s=Nr(s,i,n,r,t[o+2],17,606105819),r=Nr(r,s,i,n,t[o+3],22,-1044525330),n=Nr(n,r,s,i,t[o+4],7,-176418897),i=Nr(i,n,r,s,t[o+5],12,1200080426),s=Nr(s,i,n,r,t[o+6],17,-1473231341),r=Nr(r,s,i,n,t[o+7],22,-45705983),n=Nr(n,r,s,i,t[o+8],7,1770035416),i=Nr(i,n,r,s,t[o+9],12,-1958414417),s=Nr(s,i,n,r,t[o+10],17,-42063),r=Nr(r,s,i,n,t[o+11],22,-1990404162),n=Nr(n,r,s,i,t[o+12],7,1804603682),i=Nr(i,n,r,s,t[o+13],12,-40341101),s=Nr(s,i,n,r,t[o+14],17,-1502002290),r=Nr(r,s,i,n,t[o+15],22,1236535329),n=Rr(n,r,s,i,t[o+1],5,-165796510),i=Rr(i,n,r,s,t[o+6],9,-1069501632),s=Rr(s,i,n,r,t[o+11],14,643717713),r=Rr(r,s,i,n,t[o],20,-373897302),n=Rr(n,r,s,i,t[o+5],5,-701558691),i=Rr(i,n,r,s,t[o+10],9,38016083),s=Rr(s,i,n,r,t[o+15],14,-660478335),r=Rr(r,s,i,n,t[o+4],20,-405537848),n=Rr(n,r,s,i,t[o+9],5,568446438),i=Rr(i,n,r,s,t[o+14],9,-1019803690),s=Rr(s,i,n,r,t[o+3],14,-187363961),r=Rr(r,s,i,n,t[o+8],20,1163531501),n=Rr(n,r,s,i,t[o+13],5,-1444681467),i=Rr(i,n,r,s,t[o+2],9,-51403784),s=Rr(s,i,n,r,t[o+7],14,1735328473),r=Rr(r,s,i,n,t[o+12],20,-1926607734),n=Mr(n,r,s,i,t[o+5],4,-378558),i=Mr(i,n,r,s,t[o+8],11,-2022574463),s=Mr(s,i,n,r,t[o+11],16,1839030562),r=Mr(r,s,i,n,t[o+14],23,-35309556),n=Mr(n,r,s,i,t[o+1],4,-1530992060),i=Mr(i,n,r,s,t[o+4],11,1272893353),s=Mr(s,i,n,r,t[o+7],16,-155497632),r=Mr(r,s,i,n,t[o+10],23,-1094730640),n=Mr(n,r,s,i,t[o+13],4,681279174),i=Mr(i,n,r,s,t[o],11,-358537222),s=Mr(s,i,n,r,t[o+3],16,-722521979),r=Mr(r,s,i,n,t[o+6],23,76029189),n=Mr(n,r,s,i,t[o+9],4,-640364487),i=Mr(i,n,r,s,t[o+12],11,-421815835),s=Mr(s,i,n,r,t[o+15],16,530742520),r=Mr(r,s,i,n,t[o+2],23,-995338651),n=Pr(n,r,s,i,t[o],6,-198630844),i=Pr(i,n,r,s,t[o+7],10,1126891415),s=Pr(s,i,n,r,t[o+14],15,-1416354905),r=Pr(r,s,i,n,t[o+5],21,-57434055),n=Pr(n,r,s,i,t[o+12],6,1700485571),i=Pr(i,n,r,s,t[o+3],10,-1894986606),s=Pr(s,i,n,r,t[o+10],15,-1051523),r=Pr(r,s,i,n,t[o+1],21,-2054922799),n=Pr(n,r,s,i,t[o+8],6,1873313359),i=Pr(i,n,r,s,t[o+15],10,-30611744),s=Pr(s,i,n,r,t[o+6],15,-1560198380),r=Pr(r,s,i,n,t[o+13],21,1309151649),n=Pr(n,r,s,i,t[o+4],6,-145523070),i=Pr(i,n,r,s,t[o+11],10,-1120210379),s=Pr(s,i,n,r,t[o+2],15,718787259),r=Pr(r,s,i,n,t[o+9],21,-343485551),n=qa(n,a),r=qa(r,l),s=qa(s,c),i=qa(i,u)}return[n,r,s,i]}function BH(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(UL(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function qa(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function FH(t,e){return t<<e|t>>>32-e}function qw(t,e,n,r,s,i){return qa(FH(qa(qa(e,t),qa(r,i)),s),n)}function Nr(t,e,n,r,s,i,o){return qw(e&n|~e&r,t,e,s,i,o)}function Rr(t,e,n,r,s,i,o){return qw(e&r|n&~r,t,e,s,i,o)}function Mr(t,e,n,r,s,i,o){return qw(e^n^r,t,e,s,i,o)}function Pr(t,e,n,r,s,i,o){return qw(n^(e|~r),t,e,s,i,o)}var UH=FL("v3",48,LH);function VH(t,e,n){t=t||{};var r=t.random||(t.rng||jL)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=r[s];return e}return Hw(r)}function zH(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function G1(t,e){return t<<e|t>>>32-e}function WH(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var s=0;s<r.length;++s)t.push(r.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,o=Math.ceil(i/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=t[l*64+u*4]<<24|t[l*64+u*4+1]<<16|t[l*64+u*4+2]<<8|t[l*64+u*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var p=new Uint32Array(80),m=0;m<16;++m)p[m]=a[f][m];for(var v=16;v<80;++v)p[v]=G1(p[v-3]^p[v-8]^p[v-14]^p[v-16],1);for(var g=n[0],w=n[1],b=n[2],_=n[3],x=n[4],S=0;S<80;++S){var D=Math.floor(S/20),F=G1(g,5)+zH(D,w,b,_)+x+e[D]+p[S]>>>0;x=_,_=b,b=G1(w,30)>>>0,w=g,g=F}n[0]=n[0]+g>>>0,n[1]=n[1]+w>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+_>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var $H=FL("v5",80,WH);const HH="00000000-0000-0000-0000-000000000000";function qH(t){if(!$w(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const KH=Object.freeze(Object.defineProperty({__proto__:null,NIL:HH,parse:BL,stringify:Hw,v1:RH,v3:UH,v4:VH,v5:$H,validate:$w,version:qH},Symbol.toStringTag,{value:"Module"})),VL=ME(KH),GH=VL.v4,QH=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:t};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return GH()};i.id=o(i,r)}else s===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};var YH=QH;const XH=VL.v4,ZH=YH,wp=function(t,e){if(!(this instanceof wp))return new wp(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return XH()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var JH=wp;wp.prototype.request=function(t,e,n,r){const s=this;let i=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,i=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{i=ZH(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(c)return r(u);throw u}if(!c)return i}let l;try{l=JSON.stringify(i,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,u){s._parseResponse(c,u,r)}),i};wp.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return n(s)}if(n.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return n(null,r.filter(s),r.filter(i))}else return n(null,r.error,r.result);n(null,r)};const eq=El(JH);var zL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new s(u,f||l,p),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,v=new Array(m);p<m;p++)v[p]=f[p].fn;return v},a.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,u,f,p,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var w=this._events[g],b=arguments.length,_,x;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,f),!0;case 4:return w.fn.call(w.context,u,f,p),!0;case 5:return w.fn.call(w.context,u,f,p,m),!0;case 6:return w.fn.call(w.context,u,f,p,m,v),!0}for(x=1,_=new Array(b-1);x<b;x++)_[x-1]=arguments[x];w.fn.apply(w.context,_)}else{var S=w.length,D;for(x=0;x<S;x++)switch(w[x].once&&this.removeListener(c,w[x].fn,void 0,!0),b){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,u);break;case 3:w[x].fn.call(w[x].context,u,f);break;case 4:w[x].fn.call(w[x].context,u,f,p);break;default:if(!_)for(D=1,_=new Array(b-1);D<b;D++)_[D-1]=arguments[D];w[x].fn.apply(w[x].context,_)}}return!0},a.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},a.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},a.prototype.removeListener=function(c,u,f,p){var m=n?n+c:c;if(!this._events[m])return this;if(!u)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===u&&(!p||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var g=0,w=[],b=v.length;g<b;g++)(v[g].fn!==u||p&&!v[g].once||f&&v[g].context!==f)&&w.push(v[g]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(zL);var tq=zL.exports;const _T=El(tq);var nq=class extends _T{constructor(e,n,r){super();Bn(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(e,n,r){const s=r||n;try{this.socket.send(e),s()}catch(i){s(i)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function rq(t,e){return new nq(t,e)}var sq=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},iq=class extends _T{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...a}={},l,c){super();Bn(this,"address");Bn(this,"rpc_id");Bn(this,"queue");Bn(this,"options");Bn(this,"autoconnect");Bn(this,"ready");Bn(this,"reconnect");Bn(this,"reconnect_timer_id");Bn(this,"reconnect_interval");Bn(this,"max_reconnects");Bn(this,"rest_options");Bn(this,"current_reconnects");Bn(this,"generate_request_id");Bn(this,"socket");Bn(this,"webSocketFactory");Bn(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new sq,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),s,c=>{if(c)return o(c);this.queue[a]={promise:[i,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Xe.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let i=0;i<r.params.length;i++)s.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};class WL extends VO{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,kW(e);const r=tT(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Qd(i)}update(e){return fy(this),this.iHash.update(e),this}digestInto(e){fy(this),nm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $L=(t,e,n)=>new WL(t,e).update(n).digest();$L.create=(t,e)=>new WL(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jk(t){t.lowS!==void 0&&al("lowS",t.lowS),t.prehash!==void 0&&al("prehash",t.prehash)}function oq(t){const e=oT(t);im(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class aq extends Error{constructor(e=""){super(e)}}const wo={Err:aq,_tlv:{encode:(t,e)=>{const{Err:n}=wo;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=yg(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?yg(s.length/2|128):"";return yg(t)+i+s+e},decode(t,e){const{Err:n}=wo;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const l=s&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=wo;if(t<So)throw new e("integer: negative integers are not allowed");let n=yg(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=wo;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return xc(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=wo,s=Mn("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,i),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=wo,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}};function Q1(t,e){return Yd(sm(t,e))}const So=BigInt(0),Jn=BigInt(1);BigInt(2);const Y1=BigInt(3),lq=BigInt(4);function cq(t){const e=oq(t),{Fp:n}=e,r=om(e.n,e.nBitLength),s=e.toBytes||((x,S,D)=>{const F=S.toAffine();return Xd(Uint8Array.from([4]),n.toBytes(F.x),n.toBytes(F.y))}),i=e.fromBytes||(x=>{const S=x.subarray(1),D=n.fromBytes(S.subarray(0,n.BYTES)),F=n.fromBytes(S.subarray(n.BYTES,2*n.BYTES));return{x:D,y:F}});function o(x){const{a:S,b:D}=e,F=n.sqr(x),M=n.mul(F,x);return n.add(n.add(M,n.mul(x,S)),D)}function a(x,S){const D=n.sqr(S),F=o(x);return n.eql(D,F)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(e.a,Y1),lq),c=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(l,c)))throw new Error("bad curve params: a or b");function u(x){return sT(x,Jn,e.n)}function f(x){const{allowedPrivateKeyLengths:S,nByteLength:D,wrapPrivateKey:F,n:M}=e;if(S&&typeof x!="bigint"){if(rm(x)&&(x=Yd(x)),typeof x!="string"||!S.includes(x.length))throw new Error("invalid private key");x=x.padStart(D*2,"0")}let R;try{R=typeof x=="bigint"?x:xc(Mn("private key",x,D))}catch{throw new Error("invalid private key, expected hex or "+D+" bytes, got "+typeof x)}return F&&(R=ln(R,M)),fi("private key",R,Jn,M),R}function p(x){if(!(x instanceof g))throw new Error("ProjectivePoint expected")}const m=gy((x,S)=>{const{px:D,py:F,pz:M}=x;if(n.eql(M,n.ONE))return{x:D,y:F};const R=x.is0();S==null&&(S=R?n.ONE:n.inv(M));const U=n.mul(D,S),W=n.mul(F,S),$=n.mul(M,S);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:U,y:W}}),v=gy(x=>{if(x.is0()){if(e.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:S,y:D}=x.toAffine();if(!n.isValid(S)||!n.isValid(D))throw new Error("bad point: x or y not FE");if(!a(S,D))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(S,D,F){if(S==null||!n.isValid(S))throw new Error("x required");if(D==null||!n.isValid(D)||n.is0(D))throw new Error("y required");if(F==null||!n.isValid(F))throw new Error("z required");this.px=S,this.py=D,this.pz=F,Object.freeze(this)}static fromAffine(S){const{x:D,y:F}=S||{};if(!S||!n.isValid(D)||!n.isValid(F))throw new Error("invalid affine point");if(S instanceof g)throw new Error("projective point not allowed");const M=R=>n.eql(R,n.ZERO);return M(D)&&M(F)?g.ZERO:new g(D,F,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const D=iT(n,S.map(F=>F.pz));return S.map((F,M)=>F.toAffine(D[M])).map(g.fromAffine)}static fromHex(S){const D=g.fromAffine(i(Mn("pointHex",S)));return D.assertValidity(),D}static fromPrivateKey(S){return g.BASE.multiply(f(S))}static msm(S,D){return iL(g,r,S,D)}_setWindowSize(S){_.setWindowSize(this,S)}assertValidity(){v(this)}hasEvenY(){const{y:S}=this.toAffine();if(n.isOdd)return!n.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){p(S);const{px:D,py:F,pz:M}=this,{px:R,py:U,pz:W}=S,$=n.eql(n.mul(D,W),n.mul(R,M)),q=n.eql(n.mul(F,W),n.mul(U,M));return $&&q}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:S,b:D}=e,F=n.mul(D,Y1),{px:M,py:R,pz:U}=this;let W=n.ZERO,$=n.ZERO,q=n.ZERO,C=n.mul(M,M),y=n.mul(R,R),A=n.mul(U,U),O=n.mul(M,R);return O=n.add(O,O),q=n.mul(M,U),q=n.add(q,q),W=n.mul(S,q),$=n.mul(F,A),$=n.add(W,$),W=n.sub(y,$),$=n.add(y,$),$=n.mul(W,$),W=n.mul(O,W),q=n.mul(F,q),A=n.mul(S,A),O=n.sub(C,A),O=n.mul(S,O),O=n.add(O,q),q=n.add(C,C),C=n.add(q,C),C=n.add(C,A),C=n.mul(C,O),$=n.add($,C),A=n.mul(R,U),A=n.add(A,A),C=n.mul(A,O),W=n.sub(W,C),q=n.mul(A,y),q=n.add(q,q),q=n.add(q,q),new g(W,$,q)}add(S){p(S);const{px:D,py:F,pz:M}=this,{px:R,py:U,pz:W}=S;let $=n.ZERO,q=n.ZERO,C=n.ZERO;const y=e.a,A=n.mul(e.b,Y1);let O=n.mul(D,R),z=n.mul(F,U),L=n.mul(M,W),j=n.add(D,F),H=n.add(R,U);j=n.mul(j,H),H=n.add(O,z),j=n.sub(j,H),H=n.add(D,M);let B=n.add(R,W);return H=n.mul(H,B),B=n.add(O,L),H=n.sub(H,B),B=n.add(F,M),$=n.add(U,W),B=n.mul(B,$),$=n.add(z,L),B=n.sub(B,$),C=n.mul(y,H),$=n.mul(A,L),C=n.add($,C),$=n.sub(z,C),C=n.add(z,C),q=n.mul($,C),z=n.add(O,O),z=n.add(z,O),L=n.mul(y,L),H=n.mul(A,H),z=n.add(z,L),L=n.sub(O,L),L=n.mul(y,L),H=n.add(H,L),O=n.mul(z,H),q=n.add(q,O),O=n.mul(B,H),$=n.mul(j,$),$=n.sub($,O),O=n.mul(j,z),C=n.mul(B,C),C=n.add(C,O),new g($,q,C)}subtract(S){return this.add(S.negate())}is0(){return this.equals(g.ZERO)}wNAF(S){return _.wNAFCached(this,S,g.normalizeZ)}multiplyUnsafe(S){const{endo:D,n:F}=e;fi("scalar",S,So,F);const M=g.ZERO;if(S===So)return M;if(this.is0()||S===Jn)return this;if(!D||_.hasPrecomputes(this))return _.wNAFCachedUnsafe(this,S,g.normalizeZ);let{k1neg:R,k1:U,k2neg:W,k2:$}=D.splitScalar(S),q=M,C=M,y=this;for(;U>So||$>So;)U&Jn&&(q=q.add(y)),$&Jn&&(C=C.add(y)),y=y.double(),U>>=Jn,$>>=Jn;return R&&(q=q.negate()),W&&(C=C.negate()),C=new g(n.mul(C.px,D.beta),C.py,C.pz),q.add(C)}multiply(S){const{endo:D,n:F}=e;fi("scalar",S,Jn,F);let M,R;if(D){const{k1neg:U,k1:W,k2neg:$,k2:q}=D.splitScalar(S);let{p:C,f:y}=this.wNAF(W),{p:A,f:O}=this.wNAF(q);C=_.constTimeNegate(U,C),A=_.constTimeNegate($,A),A=new g(n.mul(A.px,D.beta),A.py,A.pz),M=C.add(A),R=y.add(O)}else{const{p:U,f:W}=this.wNAF(S);M=U,R=W}return g.normalizeZ([M,R])[0]}multiplyAndAddUnsafe(S,D,F){const M=g.BASE,R=(W,$)=>$===So||$===Jn||!W.equals(M)?W.multiplyUnsafe($):W.multiply($),U=R(this,D).add(R(S,F));return U.is0()?void 0:U}toAffine(S){return m(this,S)}isTorsionFree(){const{h:S,isTorsionFree:D}=e;if(S===Jn)return!0;if(D)return D(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:S,clearCofactor:D}=e;return S===Jn?this:D?D(g,this):this.multiplyUnsafe(e.h)}toRawBytes(S=!0){return al("isCompressed",S),this.assertValidity(),s(g,this,S)}toHex(S=!0){return al("isCompressed",S),Yd(this.toRawBytes(S))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:b}=e,_=sL(g,w?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:u}}function uq(t){const e=oT(t);return im(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function dq(t){const e=uq(t),{Fp:n,n:r,nByteLength:s,nBitLength:i}=e,o=n.BYTES+1,a=2*n.BYTES+1;function l(A){return ln(A,r)}function c(A){return o_(A,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:p,isWithinCurveOrder:m}=cq({...e,toBytes(A,O,z){const L=O.toAffine(),j=n.toBytes(L.x),H=Xd;return al("isCompressed",z),z?H(Uint8Array.from([O.hasEvenY()?2:3]),j):H(Uint8Array.from([4]),j,n.toBytes(L.y))},fromBytes(A){const O=A.length,z=A[0],L=A.subarray(1);if(O===o&&(z===2||z===3)){const j=xc(L);if(!sT(j,Jn,n.ORDER))throw new Error("Point is not on curve");const H=p(j);let B;try{B=n.sqrt(H)}catch(ae){const ue=ae instanceof Error?": "+ae.message:"";throw new Error("Point is not on curve"+ue)}const T=(B&Jn)===Jn;return(z&1)===1!==T&&(B=n.neg(B)),{x:j,y:B}}else if(O===a&&z===4){const j=n.fromBytes(L.subarray(0,n.BYTES)),H=n.fromBytes(L.subarray(n.BYTES,2*n.BYTES));return{x:j,y:H}}else{const j=o,H=a;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+H+", got "+O)}}});function v(A){const O=r>>Jn;return A>O}function g(A){return v(A)?l(-A):A}const w=(A,O,z)=>xc(A.slice(O,z));class b{constructor(O,z,L){fi("r",O,Jn,r),fi("s",z,Jn,r),this.r=O,this.s=z,L!=null&&(this.recovery=L),Object.freeze(this)}static fromCompact(O){const z=s;return O=Mn("compactSignature",O,z*2),new b(w(O,0,z),w(O,z,2*z))}static fromDER(O){const{r:z,s:L}=wo.toSig(Mn("DER",O));return new b(z,L)}assertValidity(){}addRecoveryBit(O){return new b(this.r,this.s,O)}recoverPublicKey(O){const{r:z,s:L,recovery:j}=this,H=M(Mn("msgHash",O));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const B=j===2||j===3?z+e.n:z;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const T=j&1?"03":"02",K=u.fromHex(T+Q1(B,n.BYTES)),ae=c(B),ue=l(-H*ae),he=l(L*ae),le=u.BASE.multiplyAndAddUnsafe(K,ue,he);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return py(this.toDERHex())}toDERHex(){return wo.hexFromSig(this)}toCompactRawBytes(){return py(this.toCompactHex())}toCompactHex(){const O=s;return Q1(this.r,O)+Q1(this.s,O)}}const _={isValidPrivateKey(A){try{return f(A),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const A=tL(e.n);return l$(e.randomBytes(A),e.n)},precompute(A=8,O=u.BASE){return O._setWindowSize(A),O.multiply(BigInt(3)),O}};function x(A,O=!0){return u.fromPrivateKey(A).toRawBytes(O)}function S(A){if(typeof A=="bigint")return!1;if(A instanceof u)return!0;const z=Mn("key",A).length,L=n.BYTES,j=L+1,H=2*L+1;if(!(e.allowedPrivateKeyLengths||s===j))return z===j||z===H}function D(A,O,z=!0){if(S(A)===!0)throw new Error("first arg must be private key");if(S(O)===!1)throw new Error("second arg must be public key");return u.fromHex(O).multiply(f(A)).toRawBytes(z)}const F=e.bits2int||function(A){if(A.length>8192)throw new Error("input is too large");const O=xc(A),z=A.length*8-i;return z>0?O>>BigInt(z):O},M=e.bits2int_modN||function(A){return l(F(A))},R=Uw(i);function U(A){return fi("num < 2^"+i,A,So,R),sm(A,s)}function W(A,O,z=$){if(["recovered","canonical"].some(Te=>Te in z))throw new Error("sign() legacy options not supported");const{hash:L,randomBytes:j}=e;let{lowS:H,prehash:B,extraEntropy:T}=z;H==null&&(H=!0),A=Mn("msgHash",A),jk(z),B&&(A=Mn("prehashed msgHash",L(A)));const K=M(A),ae=f(O),ue=[U(ae),U(K)];if(T!=null&&T!==!1){const Te=T===!0?j(n.BYTES):T;ue.push(Mn("extraEntropy",Te))}const he=Xd(...ue),le=K;function ye(Te){const Re=F(Te);if(!m(Re))return;const Ee=c(Re),be=u.BASE.multiply(Re).toAffine(),He=l(be.x);if(He===So)return;const Me=l(Ee*l(le+He*ae));if(Me===So)return;let Ge=(be.x===He?0:2)|Number(be.y&Jn),Vt=Me;return H&&v(Me)&&(Vt=g(Me),Ge^=1),new b(He,Vt,Ge)}return{seed:he,k2sig:ye}}const $={lowS:e.lowS,prehash:!1},q={lowS:e.lowS,prehash:!1};function C(A,O,z=$){const{seed:L,k2sig:j}=W(A,O,z),H=e;return ZW(H.hash.outputLen,H.nByteLength,H.hmac)(L,j)}u.BASE._setWindowSize(8);function y(A,O,z,L=q){var Ge;const j=A;O=Mn("msgHash",O),z=Mn("publicKey",z);const{lowS:H,prehash:B,format:T}=L;if(jk(L),"strict"in L)throw new Error("options.strict was renamed to lowS");if(T!==void 0&&T!=="compact"&&T!=="der")throw new Error("format must be compact or der");const K=typeof j=="string"||rm(j),ae=!K&&!T&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!K&&!ae)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ue,he;try{if(ae&&(ue=new b(j.r,j.s)),K){try{T!=="compact"&&(ue=b.fromDER(j))}catch(Vt){if(!(Vt instanceof wo.Err))throw Vt}!ue&&T!=="der"&&(ue=b.fromCompact(j))}he=u.fromHex(z)}catch{return!1}if(!ue||H&&ue.hasHighS())return!1;B&&(O=e.hash(O));const{r:le,s:ye}=ue,Te=M(O),Re=c(ye),Ee=l(Te*Re),be=l(le*Re),He=(Ge=u.BASE.multiplyAndAddUnsafe(he,Ee,be))==null?void 0:Ge.toAffine();return He?l(He.x)===le:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:D,sign:C,verify:y,ProjectivePoint:u,Signature:b,utils:_}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hq(t){return{hash:t,hmac:(e,...n)=>$L(t,e,MW(...n)),randomBytes:WO}}function fq(t,e){const n=r=>dq({...t,...hq(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HL=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Bk=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),pq=BigInt(0),mq=BigInt(1),u_=BigInt(2),Fk=(t,e)=>(t+e/u_)/e;function gq(t){const e=HL,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,f=kn(u,n,e)*u%e,p=kn(f,n,e)*u%e,m=kn(p,u_,e)*c%e,v=kn(m,s,e)*m%e,g=kn(v,i,e)*v%e,w=kn(g,a,e)*g%e,b=kn(w,l,e)*w%e,_=kn(b,a,e)*g%e,x=kn(_,n,e)*u%e,S=kn(x,o,e)*v%e,D=kn(S,r,e)*c%e,F=kn(D,u_,e);if(!d_.eql(d_.sqr(F),t))throw new Error("Cannot find square root");return F}const d_=om(HL,void 0,void 0,{sqrt:gq}),yq=fq({a:pq,b:BigInt(7),Fp:d_,n:Bk,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Bk,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-mq*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=Fk(i*t,e),l=Fk(-r*t,e);let c=ln(t-a*n-l*s,e),u=ln(-a*r-l*i,e);const f=c>o,p=u>o;if(f&&(c=e-c),p&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:p,k2:u}}}},qO);function Uk(t){try{return lT.ExtendedPoint.fromHex(t),!0}catch{return!1}}const qL=(t,e)=>lT.sign(t,e.slice(0,32)),wq=lT.verify,hr=t=>Xe.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Xe.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Xe.Buffer.from(t);class vq{constructor(e){Object.assign(this,e)}encode(){return Xe.Buffer.from(pL(e0,this))}static decode(e){return mL(e0,this,e)}static decodeUnchecked(e){return cL(e0,this,e)}}const e0=new Map;var KL;const xq=32,ll=32;function bq(t){return t._bn!==void 0}let Vk=1;class Le extends vq{constructor(e){if(super({}),this._bn=void 0,bq(e))this._bn=e._bn;else{if(typeof e=="string"){const n=gr.decode(e);if(n.length!=ll)throw new Error("Invalid public key input");this._bn=new Pk(n)}else this._bn=new Pk(e);if(this._bn.byteLength()>ll)throw new Error("Invalid public key input")}}static unique(){const e=new Le(Vk);return Vk+=1,new Le(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return gr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Xe.Buffer);if(e.length===ll)return e;const n=Xe.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const s=Xe.Buffer.concat([e.toBuffer(),Xe.Buffer.from(n),r.toBuffer()]),i=Ok(s);return new Le(i)}static createProgramAddressSync(e,n){let r=Xe.Buffer.alloc(0);e.forEach(function(i){if(i.length>xq)throw new TypeError("Max seed length exceeded");r=Xe.Buffer.concat([r,hr(i)])}),r=Xe.Buffer.concat([r,n.toBuffer(),Xe.Buffer.from("ProgramDerivedAddress")]);const s=Ok(r);if(Uk(s))throw new Error("Invalid seeds, address must fall off the curve");return new Le(s)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,s;for(;r!=0;){try{const i=e.concat(Xe.Buffer.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Le(e);return Uk(n.toBytes())}}KL=Le;Le.default=new KL("11111111111111111111111111111111");e0.set(Le,{kind:"struct",fields:[["_bn","u256"]]});new Le("BPFLoader1111111111111111111111111111111111");const gd=1232,ET=127,vp=64;class GL extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(GL.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class QL extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(QL.prototype,"name",{value:"TransactionExpiredTimeoutError"});class wf extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(wf.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Ey{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const ct=(t="publicKey")=>tn(32,t),_q=(t="signature")=>tn(64,t),Ju=(t="string")=>{const e=ke([je("length"),je("lengthPadding"),tn(bc(je(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>n(i,o).chars.toString(),s.encode=(i,o,a)=>{const l={chars:Xe.Buffer.from(i,"utf8")};return r(l,o,a)},s.alloc=i=>je().span+je().span+Xe.Buffer.from(i,"utf8").length,s},Eq=(t="authorized")=>ke([ct("staker"),ct("withdrawer")],t),Sq=(t="lockup")=>ke([Ss("unixTimestamp"),Ss("epoch"),ct("custodian")],t),Tq=(t="voteInit")=>ke([ct("nodePubkey"),ct("authorizedVoter"),ct("authorizedWithdrawer"),St("commission")],t),Aq=(t="voteAuthorizeWithSeedArgs")=>ke([je("voteAuthorizationType"),ct("currentAuthorityDerivedKeyOwnerPubkey"),Ju("currentAuthorityDerivedKeySeed"),ct("newAuthorized")],t);function YL(t,e){const n=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*n(s.elementLayout)}else if("fields"in s)return YL({layout:s},e[s.property]);return 0};let r=0;return t.layout.fields.forEach(s=>{r+=n(s)}),r}function Ts(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function As(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function an(t,e){if(!t)throw new Error(e||"Assertion failed")}class Kw{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,s=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const l=s(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new Kw(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];an(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),s=e.filter(([,l])=>!l.isSigner&&l.isWritable),i=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{an(n.length>0,"Expected at least one writable signer key");const[l]=n[0];an(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Le(l)),...r.map(([l])=>new Le(l)),...s.map(([l])=>new Le(l)),...i.map(([l])=>new Le(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,n){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(n(o)){const a=new Le(i),l=e.findIndex(c=>c.equals(a));l>=0&&(an(l<256,"Max lookup table index exceeded"),r.push(l),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const XL="Reached end of buffer unexpectedly";function To(t){if(t.length===0)throw new Error(XL);return t.shift()}function Is(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(XL);return t.splice(...e)}class qo{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Le(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:gr.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Ey(this.staticAccountKeys)}static compile(e){const n=Kw.compile(e.instructions,e.payerKey),[r,s]=n.getMessageComponents(),o=new Ey(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:gr.encode(a.data)}));return new qo({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];As(n,e);const r=this.instructions.map(f=>{const{accounts:p,programIdIndex:m}=f,v=Array.from(gr.decode(f.data));let g=[];As(g,p.length);let w=[];return As(w,v.length),{programIdIndex:m,keyIndicesCount:Xe.Buffer.from(g),keyIndices:p,dataLength:Xe.Buffer.from(w),data:v}});let s=[];As(s,r.length);let i=Xe.Buffer.alloc(gd);Xe.Buffer.from(s).copy(i);let o=s.length;r.forEach(f=>{const m=ke([St("programIdIndex"),tn(f.keyIndicesCount.length,"keyIndicesCount"),zr(St("keyIndex"),f.keyIndices.length,"keyIndices"),tn(f.dataLength.length,"dataLength"),zr(St("userdatum"),f.data.length,"data")]).encode(f,i,o);o+=m}),i=i.slice(0,o);const a=ke([tn(1,"numRequiredSignatures"),tn(1,"numReadonlySignedAccounts"),tn(1,"numReadonlyUnsignedAccounts"),tn(n.length,"keyCount"),zr(ct("key"),e,"keys"),ct("recentBlockhash")]),l={numRequiredSignatures:Xe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Xe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Xe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Xe.Buffer.from(n),keys:this.accountKeys.map(f=>hr(f.toBytes())),recentBlockhash:gr.decode(this.recentBlockhash)};let c=Xe.Buffer.alloc(2048);const u=a.encode(l,c);return i.copy(c,u),c.slice(0,u+i.length)}static from(e){let n=[...e];const r=To(n);if(r!==(r&ET))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=To(n),i=To(n),o=Ts(n);let a=[];for(let p=0;p<o;p++){const m=Is(n,0,ll);a.push(new Le(Xe.Buffer.from(m)))}const l=Is(n,0,ll),c=Ts(n);let u=[];for(let p=0;p<c;p++){const m=To(n),v=Ts(n),g=Is(n,0,v),w=Ts(n),b=Is(n,0,w),_=gr.encode(Xe.Buffer.from(b));u.push({programIdIndex:m,accounts:g,data:_})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:gr.encode(Xe.Buffer.from(l)),accountKeys:a,instructions:u};return new qo(f)}}class xp{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ey(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=n-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)n.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)n.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Kw.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const u of i){const f=n.extractTableLookup(u);if(f!==void 0){const[p,{writable:m,readonly:v}]=f;r.push(p),s.writable.push(...m),s.readonly.push(...v)}}const[o,a]=n.getMessageComponents(),c=new Ey(a,s).compileInstructions(e.instructions);return new xp({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();As(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();As(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();As(i,this.addressTableLookups.length);const o=ke([St("prefix"),ke([St("numRequiredSignatures"),St("numReadonlySignedAccounts"),St("numReadonlyUnsignedAccounts")],"header"),tn(e.length,"staticAccountKeysLength"),zr(ct(),this.staticAccountKeys.length,"staticAccountKeys"),ct("recentBlockhash"),tn(r.length,"instructionsLength"),tn(n.length,"serializedInstructions"),tn(i.length,"addressTableLookupsLength"),tn(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(gd),c=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:gr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(gd);for(const r of this.compiledInstructions){const s=Array();As(s,r.accountKeyIndexes.length);const i=Array();As(i,r.data.length);const o=ke([St("programIdIndex"),tn(s.length,"encodedAccountKeyIndexesLength"),zr(St(),r.accountKeyIndexes.length,"accountKeyIndexes"),tn(i.length,"encodedDataLength"),tn(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(gd);for(const r of this.addressTableLookups){const s=Array();As(s,r.writableIndexes.length);const i=Array();As(i,r.readonlyIndexes.length);const o=ke([ct("accountKey"),tn(s.length,"encodedWritableIndexesLength"),zr(St(),r.writableIndexes.length,"writableIndexes"),tn(i.length,"encodedReadonlyIndexesLength"),zr(St(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=To(n),s=r&ET;an(r!==s,"Expected versioned message but received legacy message");const i=s;an(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:To(n),numReadonlySignedAccounts:To(n),numReadonlyUnsignedAccounts:To(n)},a=[],l=Ts(n);for(let v=0;v<l;v++)a.push(new Le(Is(n,0,ll)));const c=gr.encode(Is(n,0,ll)),u=Ts(n),f=[];for(let v=0;v<u;v++){const g=To(n),w=Ts(n),b=Is(n,0,w),_=Ts(n),x=new Uint8Array(Is(n,0,_));f.push({programIdIndex:g,accountKeyIndexes:b,data:x})}const p=Ts(n),m=[];for(let v=0;v<p;v++){const g=new Le(Is(n,0,ll)),w=Ts(n),b=Is(n,0,w),_=Ts(n),x=Is(n,0,_);m.push({accountKey:g,writableIndexes:b,readonlyIndexes:x})}return new xp({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:f,addressTableLookups:m})}}const Gw={deserializeMessageVersion(t){const e=t[0],n=e&ET;return n===e?"legacy":n},deserialize:t=>{const e=Gw.deserializeMessageVersion(t);if(e==="legacy")return qo.from(t);if(e===0)return xp.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let ha=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const Iq=Xe.Buffer.alloc(vp).fill(0);class si{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Xe.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}let pi=class h_{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new si(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let g=0;g<n.length;g++)if(n[g].programId===void 0)throw new Error(`Transaction instruction index ${g} has undefined program id`);const s=[],i=[];n.forEach(g=>{g.keys.forEach(b=>{i.push({...b})});const w=g.programId.toString();s.includes(w)||s.push(w)}),s.forEach(g=>{i.push({pubkey:new Le(g),isSigner:!1,isWritable:!1})});const o=[];i.forEach(g=>{const w=g.pubkey.toString(),b=o.findIndex(_=>_.pubkey.toString()===w);b>-1?(o[b].isWritable=o[b].isWritable||g.isWritable,o[b].isSigner=o[b].isSigner||g.isSigner):o.push(g)}),o.sort(function(g,w){if(g.isSigner!==w.isSigner)return g.isSigner?-1:1;if(g.isWritable!==w.isWritable)return g.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return g.pubkey.toBase58().localeCompare(w.pubkey.toBase58(),"en",b)});const a=o.findIndex(g=>g.pubkey.equals(r));if(a>-1){const[g]=o.splice(a,1);g.isSigner=!0,g.isWritable=!0,o.unshift(g)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const g of this.signatures){const w=o.findIndex(b=>b.pubkey.equals(g.publicKey));if(w>-1)o[w].isSigner||(o[w].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${g.publicKey.toString()}`)}let l=0,c=0,u=0;const f=[],p=[];o.forEach(({pubkey:g,isSigner:w,isWritable:b})=>{w?(f.push(g.toString()),l+=1,b||(c+=1)):(p.push(g.toString()),b||(u+=1))});const m=f.concat(p),v=n.map(g=>{const{data:w,programId:b}=g;return{programIdIndex:m.indexOf(b.toString()),accounts:g.keys.map(_=>m.indexOf(_.pubkey.toString())),data:gr.encode(w)}});return v.forEach(g=>{an(g.programIdIndex>=0),g.accounts.forEach(w=>an(w>=0))}),new qo({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:m,recentBlockhash:e,instructions:v})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(s=>{const i=qL(r,s.secretKey);this._addSignature(s.publicKey,hr(i))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){an(n.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Xe.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?n&&(r.missing||(r.missing=[])).push(i):wq(s,e,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,n);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:n}=this,r=[];As(r,n.length);const s=r.length+n.length*64+e.length,i=Xe.Buffer.alloc(s);return an(n.length<256),Xe.Buffer.from(r).copy(i,0),n.forEach(({signature:o},a)=>{o!==null&&(an(o.length===64,"signature has invalid length"),Xe.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+n.length*64),an(i.length<=gd,`Transaction too large: ${i.length} > ${gd}`),i}get keys(){return an(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return an(this.instructions.length===1),this.instructions[0].programId}get data(){return an(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Ts(n);let s=[];for(let i=0;i<r;i++){const o=Is(n,0,vp);s.push(gr.encode(Xe.Buffer.from(o)))}return h_.populate(qo.from(n),s)}static populate(e,n=[]){const r=new h_;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((s,i)=>{const o={signature:s==gr.encode(Iq)?null:gr.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new si({keys:i,programId:e.accountKeys[s.programIdIndex],data:gr.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}};class gl{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)an(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(vp));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();As(n,this.signatures.length);const r=ke([tn(n.length,"encodedSignaturesLength"),zr(_q(),this.signatures.length,"signatures"),tn(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let n=[...e];const r=[],s=Ts(n);for(let o=0;o<s;o++)r.push(new Uint8Array(Is(n,0,vp)));const i=Gw.deserialize(new Uint8Array(n));return new gl(i,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));an(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=qL(n,s.secretKey)}}addSignature(e,n){an(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));an(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}const Cq=160,kq=64,Nq=Cq/kq,Rq=1e3/Nq;new Le("SysvarC1ock11111111111111111111111111111111");new Le("SysvarEpochSchedu1e111111111111111111111111");new Le("Sysvar1nstructions1111111111111111111111111");const X1=new Le("SysvarRecentB1ockHashes11111111111111111111"),zk=new Le("SysvarRent111111111111111111111111111111111");new Le("SysvarRewards111111111111111111111111111111");new Le("SysvarS1otHashes111111111111111111111111111");new Le("SysvarS1otHistory11111111111111111111111111");new Le("SysvarStakeHistory1111111111111111111111111");class Wk extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,n(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class Pe extends Error{constructor({code:e,message:n,data:r},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function Ru(t){return new Promise(e=>setTimeout(e,t))}function Fs(t,e){const n=t.layout.span>=0?t.layout.span:YL(t,e),r=Xe.Buffer.alloc(n),s=Object.assign({instruction:t.index},e);return t.layout.encode(s,r),r}const Mq=lr("lamportsPerSignature"),ZL=ke([je("version"),je("state"),ct("authorizedPubkey"),ct("nonce"),ke([Mq],"feeCalculator")]),$k=ZL.span;class ST{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=ZL.decode(hr(e),0);return new ST({authorizedPubkey:new Le(n.authorizedPubkey),nonce:new Le(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Jd(t){const e=tn(8,t),n=e.decode.bind(e),r=e.encode.bind(e),s=e,i=xH();return s.decode=(o,a)=>{const l=n(o,a);return i.decode(l)},s.encode=(o,a,l)=>{const c=i.encode(o);return r(c,a,l)},s}const Us=Object.freeze({Create:{index:0,layout:ke([je("instruction"),Ss("lamports"),Ss("space"),ct("programId")])},Assign:{index:1,layout:ke([je("instruction"),ct("programId")])},Transfer:{index:2,layout:ke([je("instruction"),Jd("lamports")])},CreateWithSeed:{index:3,layout:ke([je("instruction"),ct("base"),Ju("seed"),Ss("lamports"),Ss("space"),ct("programId")])},AdvanceNonceAccount:{index:4,layout:ke([je("instruction")])},WithdrawNonceAccount:{index:5,layout:ke([je("instruction"),Ss("lamports")])},InitializeNonceAccount:{index:6,layout:ke([je("instruction"),ct("authorized")])},AuthorizeNonceAccount:{index:7,layout:ke([je("instruction"),ct("authorized")])},Allocate:{index:8,layout:ke([je("instruction"),Ss("space")])},AllocateWithSeed:{index:9,layout:ke([je("instruction"),ct("base"),Ju("seed"),Ss("space"),ct("programId")])},AssignWithSeed:{index:10,layout:ke([je("instruction"),ct("base"),Ju("seed"),ct("programId")])},TransferWithSeed:{index:11,layout:ke([je("instruction"),Jd("lamports"),Ju("seed"),ct("programId")])},UpgradeNonceAccount:{index:12,layout:ke([je("instruction")])}});class bp{constructor(){}static createAccount(e){const n=Us.Create,r=Fs(n,{lamports:e.lamports,space:e.space,programId:hr(e.programId.toBuffer())});return new si({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const s=Us.TransferWithSeed;n=Fs(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:hr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Us.Transfer;n=Fs(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new si({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const s=Us.AssignWithSeed;n=Fs(s,{base:hr(e.basePubkey.toBuffer()),seed:e.seed,programId:hr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Us.Assign;n=Fs(s,{programId:hr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new si({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=Us.CreateWithSeed,r=Fs(n,{base:hr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:hr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new si({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const n=new pi;"basePubkey"in e&&"seed"in e?n.add(bp.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:$k,programId:this.programId})):n.add(bp.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:$k,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=Us.InitializeNonceAccount,r=Fs(n,{authorized:hr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:X1,isSigner:!1,isWritable:!1},{pubkey:zk,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new si(s)}static nonceAdvance(e){const n=Us.AdvanceNonceAccount,r=Fs(n),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:X1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new si(s)}static nonceWithdraw(e){const n=Us.WithdrawNonceAccount,r=Fs(n,{lamports:e.lamports});return new si({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:X1,isSigner:!1,isWritable:!1},{pubkey:zk,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=Us.AuthorizeNonceAccount,r=Fs(n,{authorized:hr(e.newAuthorizedPubkey.toBuffer())});return new si({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const s=Us.AllocateWithSeed;n=Fs(s,{base:hr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:hr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Us.Allocate;n=Fs(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new si({keys:r,programId:this.programId,data:n})}}bp.programId=new Le("11111111111111111111111111111111");new Le("BPFLoader2111111111111111111111111111111111");function Pq(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Z1,Hk;function Oq(){if(Hk)return Z1;Hk=1;var t=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function n(r,s){var i,o,a,l,c,u,f;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),s);if(f=t.call(r),f==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=n(r[i],!0)+",";return o>-1&&(a+=n(r[i],!0)),a+"]"}else if(f==="[object Object]"){for(l=e(r).sort(),o=l.length,a="",i=0;i<o;)c=l[i],u=n(r[c],!1),u!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+u),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Z1=function(r){var s=n(r,!1);if(s!==void 0)return""+s},Z1}var Lq=Oq(),qk=Pq(Lq);const tf=32;function J1(t){let e=0;for(;t>1;)t/=2,e++;return e}function Dq(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class jq{constructor(e,n,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=J1(Dq(e+tf+1))-J1(tf)-1,r=this.getSlotsInEpoch(n),s=e-(r-tf);return[n,s]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=n%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*tf:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+J1(tf)):this.slotsPerEpoch}}var Bq=globalThis.fetch;class Fq extends iq{constructor(e,n,r){const s=i=>{const o=rq(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function Uq(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const Kk=56;class Gk{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=Uq(Vq,e),r=e.length-Kk;an(r>=0,"lookup table is invalid"),an(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=ke([zr(ct(),s,"addresses")]).decode(e.slice(Kk));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Le(n.authority[0]):void 0,addresses:i.map(o=>new Le(o))}}}const Vq={index:1,layout:ke([je("typeIndex"),Jd("deactivationSlot"),lr("lastExtendedSlot"),St("lastExtendedStartIndex"),St(),zr(ct(),bc(St(),-1),"authority")])},zq=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Wq(t){const e=t.match(zq);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,s,i]=e,o=t.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${r}${l}${i}`}const _n=cm(xT(Le),ge(),t=>new Le(t)),JL=bT([ge(),vn("base64")]),TT=cm(xT(Xe.Buffer),JL,t=>Xe.Buffer.from(t[0],"base64")),$q=30*1e3;function Hq(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Ht(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...s}=t;e=r,n=s}return{commitment:e,config:n}}function Qk(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function eD(t){return ns([de({jsonrpc:vn("2.0"),id:ge(),result:t}),de({jsonrpc:vn("2.0"),id:ge(),error:de({code:Eh(),message:ge(),data:Ue(IH())})})])}const qq=eD(Eh());function st(t){return cm(eD(t),qq,e=>"error"in e?e:{...e,result:xe(e.result,t)})}function Rn(t){return st(de({context:de({slot:ee()}),value:t}))}function Qw(t){return de({context:de({slot:ee()}),value:t})}function ex(t,e){return t===0?new xp({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new Le(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:gr.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new qo(e)}const Kq=de({foundation:ee(),foundationTerm:ee(),initial:ee(),taper:ee(),terminal:ee()}),Gq=st(_e(Se(de({epoch:ee(),effectiveSlot:ee(),amount:ee(),postBalance:ee(),commission:Ue(Se(ee()))})))),Qq=_e(de({slot:ee(),prioritizationFee:ee()})),Yq=de({total:ee(),validator:ee(),foundation:ee(),epoch:ee()}),Xq=de({epoch:ee(),slotIndex:ee(),slotsInEpoch:ee(),absoluteSlot:ee(),blockHeight:Ue(ee()),transactionCount:Ue(ee())}),Zq=de({slotsPerEpoch:ee(),leaderScheduleSlotOffset:ee(),warmup:Gi(),firstNormalEpoch:ee(),firstNormalSlot:ee()}),Jq=DL(ge(),_e(ee())),Zc=Se(ns([de({}),ge()])),eK=de({err:Zc}),tK=vn("receivedSignature"),nK=de({"solana-core":ge(),"feature-set":Ue(ee())}),rK=de({program:ge(),programId:_n,parsed:Eh()}),sK=de({programId:_n,accounts:_e(_n),data:ge()}),Yk=Rn(de({err:Se(ns([de({}),ge()])),logs:Se(_e(ge())),accounts:Ue(Se(_e(Se(de({executable:Gi(),owner:ge(),lamports:ee(),data:_e(ge()),rentEpoch:Ue(ee())}))))),unitsConsumed:Ue(ee()),returnData:Ue(Se(de({programId:ge(),data:bT([ge(),vn("base64")])}))),innerInstructions:Ue(Se(_e(de({index:ee(),instructions:_e(ns([rK,sK]))}))))})),iK=Rn(de({byIdentity:DL(ge(),_e(ee())),range:de({firstSlot:ee(),lastSlot:ee()})}));function oK(t,e,n,r,s,i){const o=n||Bq;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(u,f)=>{const p=await new Promise((m,v)=>{try{r(u,f,(g,w)=>m([g,w]))}catch(g){v(g)}});return await o(...p)}),new eq(async(u,f)=>{const p={method:"POST",body:u,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},oG)};try{let m=5,v,g=500;for(;l?v=await l(t,p):v=await o(t,p),!(v.status!==429||s===!0||(m-=1,m===0));)console.error(`Server responded with ${v.status} ${v.statusText}.  Retrying after ${g}ms delay...`),await Ru(g),g*=2;const w=await v.text();v.ok?f(null,w):f(new Error(`${v.status} ${v.statusText}: ${w}`))}catch(m){m instanceof Error&&f(m)}},{})}function aK(t){return(e,n)=>new Promise((r,s)=>{t.request(e,n,(i,o)=>{if(i){s(i);return}r(o)})})}function lK(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const s=e.map(i=>t.request(i.methodName,i.args));t.request(s,(i,o)=>{if(i){r(i);return}n(o)})})}const cK=st(Kq),uK=st(Yq),dK=st(Qq),hK=st(Xq),fK=st(Zq),pK=st(Jq),mK=st(ee()),gK=Rn(de({total:ee(),circulating:ee(),nonCirculating:ee(),nonCirculatingAccounts:_e(_n)})),f_=de({amount:ge(),uiAmount:Se(ee()),decimals:ee(),uiAmountString:Ue(ge())}),yK=Rn(_e(de({address:_n,amount:ge(),uiAmount:Se(ee()),decimals:ee(),uiAmountString:Ue(ge())}))),wK=Rn(_e(de({pubkey:_n,account:de({executable:Gi(),owner:_n,lamports:ee(),data:TT,rentEpoch:ee()})}))),p_=de({program:ge(),parsed:Eh(),space:ee()}),vK=Rn(_e(de({pubkey:_n,account:de({executable:Gi(),owner:_n,lamports:ee(),data:p_,rentEpoch:ee()})}))),xK=Rn(_e(de({lamports:ee(),address:_n}))),_p=de({executable:Gi(),owner:_n,lamports:ee(),data:TT,rentEpoch:ee()}),bK=de({pubkey:_n,account:_p}),_K=cm(ns([xT(Xe.Buffer),p_]),ns([JL,p_]),t=>Array.isArray(t)?xe(t,TT):t),m_=de({executable:Gi(),owner:_n,lamports:ee(),data:_K,rentEpoch:ee()}),EK=de({pubkey:_n,account:m_}),SK=de({state:ns([vn("active"),vn("inactive"),vn("activating"),vn("deactivating")]),active:ee(),inactive:ee()}),TK=st(_e(de({signature:ge(),slot:ee(),err:Zc,memo:Se(ge()),blockTime:Ue(Se(ee()))}))),AK=st(_e(de({signature:ge(),slot:ee(),err:Zc,memo:Se(ge()),blockTime:Ue(Se(ee()))}))),IK=de({subscription:ee(),result:Qw(_p)}),CK=de({pubkey:_n,account:_p}),kK=de({subscription:ee(),result:Qw(CK)}),NK=de({parent:ee(),slot:ee(),root:ee()}),RK=de({subscription:ee(),result:NK}),MK=ns([de({type:ns([vn("firstShredReceived"),vn("completed"),vn("optimisticConfirmation"),vn("root")]),slot:ee(),timestamp:ee()}),de({type:vn("createdBank"),parent:ee(),slot:ee(),timestamp:ee()}),de({type:vn("frozen"),slot:ee(),timestamp:ee(),stats:de({numTransactionEntries:ee(),numSuccessfulTransactions:ee(),numFailedTransactions:ee(),maxTransactionsPerEntry:ee()})}),de({type:vn("dead"),slot:ee(),timestamp:ee(),err:ge()})]),PK=de({subscription:ee(),result:MK}),OK=de({subscription:ee(),result:Qw(ns([eK,tK]))}),LK=de({subscription:ee(),result:ee()}),DK=de({pubkey:ge(),gossip:Se(ge()),tpu:Se(ge()),rpc:Se(ge()),version:Se(ge())}),Xk=de({votePubkey:ge(),nodePubkey:ge(),activatedStake:ee(),epochVoteAccount:Gi(),epochCredits:_e(bT([ee(),ee(),ee()])),commission:ee(),lastVote:ee(),rootSlot:Se(ee())}),jK=st(de({current:_e(Xk),delinquent:_e(Xk)})),BK=ns([vn("processed"),vn("confirmed"),vn("finalized")]),FK=de({slot:ee(),confirmations:Se(ee()),err:Zc,confirmationStatus:Ue(BK)}),UK=Rn(_e(Se(FK))),VK=st(ee()),tD=de({accountKey:_n,writableIndexes:_e(ee()),readonlyIndexes:_e(ee())}),AT=de({signatures:_e(ge()),message:de({accountKeys:_e(ge()),header:de({numRequiredSignatures:ee(),numReadonlySignedAccounts:ee(),numReadonlyUnsignedAccounts:ee()}),instructions:_e(de({accounts:_e(ee()),data:ge(),programIdIndex:ee()})),recentBlockhash:ge(),addressTableLookups:Ue(_e(tD))})}),nD=de({pubkey:_n,signer:Gi(),writable:Gi(),source:Ue(ns([vn("transaction"),vn("lookupTable")]))}),rD=de({accountKeys:_e(nD),signatures:_e(ge())}),sD=de({parsed:Eh(),program:ge(),programId:_n}),iD=de({accounts:_e(_n),data:ge(),programId:_n}),zK=ns([iD,sD]),WK=ns([de({parsed:Eh(),program:ge(),programId:ge()}),de({accounts:_e(ge()),data:ge(),programId:ge()})]),oD=cm(zK,WK,t=>"accounts"in t?xe(t,iD):xe(t,sD)),aD=de({signatures:_e(ge()),message:de({accountKeys:_e(nD),instructions:_e(oD),recentBlockhash:ge(),addressTableLookups:Ue(Se(_e(tD)))})}),Sy=de({accountIndex:ee(),mint:ge(),owner:Ue(ge()),programId:Ue(ge()),uiTokenAmount:f_}),lD=de({writable:_e(_n),readonly:_e(_n)}),Yw=de({err:Zc,fee:ee(),innerInstructions:Ue(Se(_e(de({index:ee(),instructions:_e(de({accounts:_e(ee()),data:ge(),programIdIndex:ee()}))})))),preBalances:_e(ee()),postBalances:_e(ee()),logMessages:Ue(Se(_e(ge()))),preTokenBalances:Ue(Se(_e(Sy))),postTokenBalances:Ue(Se(_e(Sy))),loadedAddresses:Ue(lD),computeUnitsConsumed:Ue(ee())}),IT=de({err:Zc,fee:ee(),innerInstructions:Ue(Se(_e(de({index:ee(),instructions:_e(oD)})))),preBalances:_e(ee()),postBalances:_e(ee()),logMessages:Ue(Se(_e(ge()))),preTokenBalances:Ue(Se(_e(Sy))),postTokenBalances:Ue(Se(_e(Sy))),loadedAddresses:Ue(lD),computeUnitsConsumed:Ue(ee())}),Sh=ns([vn(0),vn("legacy")]),Jc=de({pubkey:ge(),lamports:ee(),postBalance:Se(ee()),rewardType:Se(ge()),commission:Ue(Se(ee()))}),$K=st(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:_e(de({transaction:AT,meta:Se(Yw),version:Ue(Sh)})),rewards:Ue(_e(Jc)),blockTime:Se(ee()),blockHeight:Se(ee())}))),HK=st(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),rewards:Ue(_e(Jc)),blockTime:Se(ee()),blockHeight:Se(ee())}))),qK=st(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:_e(de({transaction:rD,meta:Se(Yw),version:Ue(Sh)})),rewards:Ue(_e(Jc)),blockTime:Se(ee()),blockHeight:Se(ee())}))),KK=st(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:_e(de({transaction:aD,meta:Se(IT),version:Ue(Sh)})),rewards:Ue(_e(Jc)),blockTime:Se(ee()),blockHeight:Se(ee())}))),GK=st(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:_e(de({transaction:rD,meta:Se(IT),version:Ue(Sh)})),rewards:Ue(_e(Jc)),blockTime:Se(ee()),blockHeight:Se(ee())}))),QK=st(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),rewards:Ue(_e(Jc)),blockTime:Se(ee()),blockHeight:Se(ee())}))),YK=st(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:_e(de({transaction:AT,meta:Se(Yw)})),rewards:Ue(_e(Jc)),blockTime:Se(ee())}))),Zk=st(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),signatures:_e(ge()),blockTime:Se(ee())}))),tx=st(Se(de({slot:ee(),meta:Se(Yw),blockTime:Ue(Se(ee())),transaction:AT,version:Ue(Sh)}))),bg=st(Se(de({slot:ee(),transaction:aD,meta:Se(IT),blockTime:Ue(Se(ee())),version:Ue(Sh)}))),XK=Rn(de({blockhash:ge(),lastValidBlockHeight:ee()})),ZK=Rn(Gi()),JK=de({slot:ee(),numTransactions:ee(),numSlots:ee(),samplePeriodSecs:ee()}),eG=st(_e(JK)),tG=Rn(Se(de({feeCalculator:de({lamportsPerSignature:ee()})}))),nG=st(ge()),rG=st(ge()),sG=de({err:Zc,logs:_e(ge()),signature:ge()}),iG=de({result:Qw(sG),subscription:ee()}),oG={"solana-client":"js/1.0.0-maintenance"};class aG{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async u=>{const{commitment:f,config:p}=Ht(u),m=this._buildArgs([],f,void 0,p),v=qk(m);return c[v]=c[v]??(async()=>{try{const g=await this._rpcRequest("getBlockHeight",m),w=xe(g,st(ee()));if("error"in w)throw new Pe(w.error,"failed to get block height information");return w.result}finally{delete c[v]}})(),await c[v]}})();let r,s,i,o,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,s=n.httpHeaders,i=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=Hq(e),this._rpcWsEndpoint=r||Wq(e),this._rpcClient=oK(e,s,i,o,a,l),this._rpcRequest=aK(this._rpcClient),this._rpcBatchRequest=lK(this._rpcClient),this._rpcWebSocket=new Fq(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:s}=Ht(n),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=xe(o,Rn(ee()));if("error"in a)throw new Pe(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=xe(n,st(Se(ee())));if("error"in r)throw new Pe(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=xe(e,st(ee()));if("error"in n)throw new Pe(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=xe(e,mK);if("error"in n)throw new Pe(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),s=xe(r,gK);if("error"in s)throw new Pe(s.error,"failed to get supply");return s.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenSupply",r),i=xe(s,Rn(f_));if("error"in i)throw new Pe(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",r),i=xe(s,Rn(f_));if("error"in i)throw new Pe(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,n,r){const{commitment:s,config:i}=Ht(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=xe(l,wK);if("error"in c)throw new Pe(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=xe(o,vK);if("error"in a)throw new Pe(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",r),i=xe(s,xK);if("error"in i)throw new Pe(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",r),i=xe(s,yK);if("error"in i)throw new Pe(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:s}=Ht(n),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=xe(o,Rn(Se(_p)));if("error"in a)throw new Pe(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:s}=Ht(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=xe(o,Rn(Se(m_)));if("error"in a)throw new Pe(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:s}=Ht(n),i=e.map(c=>c.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),l=xe(a,Rn(_e(Se(m_))));if("error"in l)throw new Pe(l.error,`failed to get info for accounts ${i}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:s}=Ht(n),i=e.map(c=>c.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),l=xe(a,Rn(_e(Se(_p))));if("error"in l)throw new Pe(l.error,`failed to get info for accounts ${i}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:s,config:i}=Ht(n),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),l=xe(a,st(SK));if("error"in l)throw new Pe(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:s}=Ht(n),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Qk(o.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=_e(bK),u=o.withContext===!0?xe(l,Rn(c)):xe(l,st(c));if("error"in u)throw new Pe(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:s}=Ht(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=xe(o,st(_e(EK)));if("error"in a)throw new Pe(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=gr.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return an(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,s,i=!1;const o=new Promise((l,c)=>{try{r=this.onSignature(n,(f,p)=>{r=void 0;const m={context:p,value:f};l({__type:ha.PROCESSED,response:m})},e);const u=new Promise(f=>{r==null?f():s=this._onSubscriptionStateChange(r,p=>{p==="subscribed"&&f()})});(async()=>{if(await u,i)return;const f=await this.getSignatureStatus(n);if(i||f==null)return;const{context:p,value:m}=f;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,l({__type:ha.PROCESSED,response:{context:p,value:m}})}})()}catch(u){c(u)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(f=>{const p=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await p();if(!i){for(;m<=r;)if(await Ru(1e3),i||(m=await p(),i))return;f({__type:ha.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),c=this.getCancellationPromise(n);let u;try{const f=await Promise.race([c,l,o]);if(f.__type===ha.PROCESSED)u=f.response;else throw new GL(s)}finally{i=!0,a()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const l=new Promise(m=>{let v=i,g=null;const w=async()=>{try{const{context:b,value:_}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return g=b.slot,_==null?void 0:_.nonce}catch{return v}};(async()=>{if(v=await w(),!a)for(;;){if(i!==v){m({__type:ha.NONCE_INVALID,slotInWhichNonceDidAdvance:g});return}if(await Ru(2e3),a||(v=await w(),a))return}})()}),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),f=this.getCancellationPromise(n);let p;try{const m=await Promise.race([f,u,l]);if(m.__type===ha.PROCESSED)p=m.response;else{let v;for(;;){const g=await this.getSignatureStatus(o);if(g==null)break;if(g.context.slot<(m.slotInWhichNonceDidAdvance??r)){await Ru(400);continue}v=g;break}if(v!=null&&v.value){const g=e||"finalized",{confirmationStatus:w}=v.value;switch(g){case"processed":case"recent":if(w!=="processed"&&w!=="confirmed"&&w!=="finalized")throw new wf(o);break;case"confirmed":case"single":case"singleGossip":if(w!=="confirmed"&&w!=="finalized")throw new wf(o);break;case"finalized":case"max":case"root":if(w!=="finalized")throw new wf(o);break;default:}p={context:v.context,value:{err:v.value.err}}}else throw new wf(o)}}finally{a=!0,c()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const s=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:ha.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([o,s]);if(l.__type===ha.PROCESSED)a=l.response;else throw new QL(n,l.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=xe(e,st(_e(DK)));if("error"in n)throw new Pe(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),s=xe(r,jK);if("error"in s)throw new Pe(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:n,config:r}=Ht(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlot",s),o=xe(i,st(ee()));if("error"in o)throw new Pe(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=Ht(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=xe(i,st(ge()));if("error"in o)throw new Pe(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],s=await this._rpcRequest("getSlotLeaders",r),i=xe(s,st(_e(_n)));if("error"in i)throw new Pe(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,n){const{context:r,value:s}=await this.getSignatureStatuses([e],n);an(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const s=await this._rpcRequest("getSignatureStatuses",r),i=xe(s,UK);if("error"in i)throw new Pe(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:n,config:r}=Ht(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=xe(i,st(ee()));if("error"in o)throw new Pe(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),s=xe(r,cK);if("error"in s)throw new Pe(s.error,"failed to get inflation");return s.result}async getInflationReward(e,n,r){const{commitment:s,config:i}=Ht(r),o=this._buildArgs([e.map(c=>c.toBase58())],s,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),l=xe(a,Gq);if("error"in l)throw new Pe(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=xe(e,uK);if("error"in n)throw new Pe(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=Ht(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=xe(i,hK);if("error"in o)throw new Pe(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=xe(e,fK);if("error"in n)throw new Pe(n.error,"failed to get epoch schedule");const r=n.result;return new jq(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=xe(e,pK);if("error"in n)throw new Pe(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=xe(s,VK);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=xe(n,eG);if("error"in r)throw new Pe(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=xe(s,tG);if("error"in i)throw new Pe(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=hr(e.serialize()).toString("base64"),s=this._buildArgs([r],n),i=await this._rpcRequest("getFeeForMessage",s),o=xe(i,Rn(Se(ee())));if("error"in o)throw new Pe(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=xe(s,dK);if("error"in i)throw new Pe(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=Ht(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=xe(i,XK);if("error"in o)throw new Pe(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:s}=Ht(n),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=xe(o,ZK);if("error"in a)throw new Pe(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=xe(e,st(nK));if("error"in n)throw new Pe(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=xe(e,st(ge()));if("error"in n)throw new Pe(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:s}=Ht(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=xe(o,qK);if("error"in a)throw a.error;return a.result}case"none":{const a=xe(o,HK);if("error"in a)throw a.error;return a.result}default:{const a=xe(o,$K);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:u,version:f})=>({meta:u,transaction:{...c,message:ex(f,c.message)},version:f}))}:null}}}catch(a){throw new Pe(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:s}=Ht(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=xe(o,GK);if("error"in a)throw a.error;return a.result}case"none":{const a=xe(o,QK);if("error"in a)throw a.error;return a.result}default:{const a=xe(o,KK);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Pe(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const s=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getBlockProduction",s),o=xe(i,iK);if("error"in o)throw new Pe(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:s}=Ht(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=xe(o,tx);if("error"in a)throw new Pe(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:ex(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:s}=Ht(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=xe(o,bg);if("error"in a)throw new Pe(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:s}=Ht(n),i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(l=>{const c=xe(l,bg);if("error"in c)throw new Pe(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:s}=Ht(n),i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(l=>{const c=xe(l,tx);if("error"in c)throw new Pe(c.error,"failed to get transactions");const u=c.result;return u&&{...u,transaction:{...u.transaction,message:ex(u.version,u.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getBlock",r),i=xe(s,YK);if("error"in i)throw new Pe(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:c})=>{const u=new qo(l.message);return{meta:c,transaction:{...l,message:u}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:pi.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),i=await this._rpcRequest("getBlocks",s),o=xe(i,st(_e(ee())));if("error"in o)throw new Pe(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=xe(s,Zk);if("error"in i)throw new Pe(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=xe(s,Zk);if("error"in i)throw new Pe(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getTransaction",r),i=xe(s,tx);if("error"in i)throw new Pe(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new qo(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:pi.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=xe(s,bg);if("error"in i)throw new Pe(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=xe(o,bg);if("error"in a)throw new Pe(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<i));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(s.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(s.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=xe(i,TK);if("error"in o)throw new Pe(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getSignaturesForAddress",s),o=xe(i,AK);if("error"in o)throw new Pe(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=new Gk({key:e,state:Gk.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=ST.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),s=xe(r,nG);if("error"in s)throw new Pe(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Ru(100);const r=Date.now()-this._blockhashInfo.lastFetch>=$q;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Ru(Rq/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=Ht(e),s=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=xe(i,Rn(ee()));if("error"in o)throw new Pe(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const g=e.serialize(),w=Xe.Buffer.from(g).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const b=n||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(b.innerInstructions=n.innerInstructions);const _=[w,b],x=await this._rpcRequest("simulateTransaction",_),S=xe(x,Yk);if("error"in S)throw new Error("failed to simulate transaction: "+S.error.message);return S.result}let s;if(e instanceof pi){let v=e;s=new pi,s.feePayer=v.feePayer,s.instructions=e.instructions,s.nonceInfo=v.nonceInfo,s.signatures=v.signatures}else s=pi.populate(e),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(s.nonceInfo&&i)s.sign(...i);else{let v=this._disableBlockhashCaching;for(;;){const g=await this._blockhashWithExpiryBlockHeight(v);if(s.lastValidBlockHeight=g.lastValidBlockHeight,s.recentBlockhash=g.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const w=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(w)&&!this._blockhashInfo.transactionSignatures.includes(w)){this._blockhashInfo.simulatedSignatures.push(w);break}else v=!0}}const o=s._compile(),a=o.serialize(),c=s._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const v=(Array.isArray(r)?r:o.nonProgramIds()).map(g=>g.toBase58());u.accounts={encoding:"base64",addresses:v}}i&&(u.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(u.innerInstructions=n.innerInstructions);const f=[c,u],p=await this._rpcRequest("simulateTransaction",f),m=xe(p,Yk);if("error"in m){let v;if("data"in m.error&&(v=m.error.data.logs,v&&Array.isArray(v))){const g=`
    `,w=g+v.join(g);console.error(m.error.message,w)}throw new Wk({action:"simulate",signature:"",transactionMessage:m.error.message,logs:v})}return m.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,n){const r=hr(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},s=n&&n.skipPreflight,i=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),l=xe(a,rG);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new Wk({action:s?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var i;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!n())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...n)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=xe(e,IK);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,s=qk([e.method,n]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];an(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:s,config:i}=Ht(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=xe(e,kK);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,s){const{commitment:i,config:o}=Ht(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Qk(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=xe(e,iG);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=xe(e,RK);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=xe(e,PK);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,s){const i=n||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,s){const i=n||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,s)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=xe(e,OK);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,n,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=xe(e,LK);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:ke([je("instruction"),Jd("recentSlot"),St("bumpSeed")])},FreezeLookupTable:{index:1,layout:ke([je("instruction")])},ExtendLookupTable:{index:2,layout:ke([je("instruction"),Jd(),zr(ct(),bc(je(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ke([je("instruction")])},CloseLookupTable:{index:4,layout:ke([je("instruction")])}});new Le("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:ke([St("instruction"),je("units"),je("additionalFee")])},RequestHeapFrame:{index:1,layout:ke([St("instruction"),je("bytes")])},SetComputeUnitLimit:{index:2,layout:ke([St("instruction"),je("units")])},SetComputeUnitPrice:{index:3,layout:ke([St("instruction"),Jd("microLamports")])}});new Le("ComputeBudget111111111111111111111111111111");ke([St("numSignatures"),St("padding"),$s("signatureOffset"),$s("signatureInstructionIndex"),$s("publicKeyOffset"),$s("publicKeyInstructionIndex"),$s("messageDataOffset"),$s("messageDataSize"),$s("messageInstructionIndex")]);new Le("Ed25519SigVerify111111111111111111111111111");yq.utils.isValidPrivateKey;ke([St("numSignatures"),$s("signatureOffset"),St("signatureInstructionIndex"),$s("ethAddressOffset"),St("ethAddressInstructionIndex"),$s("messageDataOffset"),$s("messageDataSize"),St("messageInstructionIndex"),tn(20,"ethAddress"),tn(64,"signature"),St("recoveryId")]);new Le("KeccakSecp256k11111111111111111111111111111");var cD;new Le("StakeConfig11111111111111111111111111111111");class uD{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}cD=uD;uD.default=new cD(0,0,Le.default);Object.freeze({Initialize:{index:0,layout:ke([je("instruction"),Eq(),Sq()])},Authorize:{index:1,layout:ke([je("instruction"),ct("newAuthorized"),je("stakeAuthorizationType")])},Delegate:{index:2,layout:ke([je("instruction")])},Split:{index:3,layout:ke([je("instruction"),Ss("lamports")])},Withdraw:{index:4,layout:ke([je("instruction"),Ss("lamports")])},Deactivate:{index:5,layout:ke([je("instruction")])},Merge:{index:7,layout:ke([je("instruction")])},AuthorizeWithSeed:{index:8,layout:ke([je("instruction"),ct("newAuthorized"),je("stakeAuthorizationType"),Ju("authoritySeed"),ct("authorityOwner")])}});new Le("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:ke([je("instruction"),Tq()])},Authorize:{index:1,layout:ke([je("instruction"),ct("newAuthorized"),je("voteAuthorizationType")])},Withdraw:{index:3,layout:ke([je("instruction"),Ss("lamports")])},UpdateValidatorIdentity:{index:4,layout:ke([je("instruction")])},AuthorizeWithSeed:{index:10,layout:ke([je("instruction"),Aq()])}});new Le("Vote111111111111111111111111111111111111111");new Le("Va1idator1nfo111111111111111111111111111111");de({name:ge(),website:Ue(ge()),details:Ue(ge()),iconUrl:Ue(ge()),keybaseUsername:Ue(ge())});new Le("Vote111111111111111111111111111111111111111");ke([ct("nodePubkey"),ct("authorizedWithdrawer"),St("commission"),lr(),zr(ke([lr("slot"),je("confirmationCount")]),bc(je(),-8),"votes"),St("rootSlotValid"),lr("rootSlot"),lr(),zr(ke([lr("epoch"),ct("authorizedVoter")]),bc(je(),-8),"authorizedVoters"),ke([zr(ke([ct("authorizedPubkey"),lr("epochOfLastAuthorizedSwitch"),lr("targetEpoch")]),32,"buf"),lr("idx"),St("isEmpty")],"priorVoters"),lr(),zr(ke([lr("epoch"),lr("credits"),lr("prevCredits")]),bc(je(),-8),"epochCredits"),ke([lr("slot"),lr("timestamp")],"lastTimestamp")]);const lG={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function cG(t,e){return lG["https"][t]}const Jk=1e9,dD=N.createContext({});function hD(){return N.useContext(dD)}const uG=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=N.useMemo(()=>new aG(e,n),[e,n]);return ce.createElement(dD.Provider,{value:{connection:r}},t)};class sr extends Error{constructor(e,n){super(e),this.error=n}}class Lc extends sr{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class dG extends sr{constructor(){super(...arguments),this.name="WalletLoadError"}}class ed extends sr{constructor(){super(...arguments),this.name="WalletConfigError"}}class Dc extends sr{constructor(){super(...arguments),this.name="WalletConnectionError"}}class CT extends sr{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class kT extends sr{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class nc extends sr{constructor(){super(...arguments),this.name="WalletAccountError"}}class eh extends sr{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Ln extends sr{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Mo extends sr{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class mi extends sr{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Xw extends sr{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class eN extends sr{constructor(){super(...arguments),this.name="WalletSignInError"}}var ot;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(ot||(ot={}));class fD extends _T{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const s=this.publicKey;if(!s)throw new Ln;return e.feePayer=e.feePayer||s,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function pD(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const i of e)i()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function g_(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function Po(t){return"version"in t}class hG extends fD{async sendTransaction(e,n,r={}){let s=!0;try{if(Po(e)){if(!this.supportedTransactionVersions)throw new Mo("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Mo(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const i=e.serialize();return await n.sendRawTransaction(i,r)}catch(i){throw i instanceof mi?(s=!1,i):new Mo(i==null?void 0:i.message,i)}}else try{const{signers:i,...o}=r;e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,o)}catch(i){throw i instanceof mi?(s=!1,i):new Mo(i==null?void 0:i.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(e){for(const r of e)if(Po(r)){if(!this.supportedTransactionVersions)throw new mi("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new mi(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class NT extends hG{}class fG extends NT{}const Zr="solana:signAndSendTransaction",_c="solana:signIn",Ao="solana:signMessage",yn="solana:signTransaction",Zw="standard:connect",Ty="standard:disconnect",Jw="standard:events";function pG(t){return Zw in t.features&&Jw in t.features&&(Zr in t.features||yn in t.features)}class tN extends sr{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const mG=[],ev={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){ai("call","select")},connect(){return Promise.reject(ai("call","connect"))},disconnect(){return Promise.reject(ai("call","disconnect"))},sendTransaction(){return Promise.reject(ai("call","sendTransaction"))},signTransaction(){return Promise.reject(ai("call","signTransaction"))},signAllTransactions(){return Promise.reject(ai("call","signAllTransactions"))},signMessage(){return Promise.reject(ai("call","signMessage"))},signIn(){return Promise.reject(ai("call","signIn"))}};Object.defineProperty(ev,"wallets",{get(){return ai("read","wallets"),mG}});Object.defineProperty(ev,"wallet",{get(){return ai("read","wallet"),null}});Object.defineProperty(ev,"publicKey",{get(){return ai("read","publicKey"),null}});function ai(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const mD=N.createContext(ev);function um(){return N.useContext(mD)}function gG(t,e){const n=N.useState(()=>{try{const i=localStorage.getItem(t);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return e}),r=n[0],s=N.useRef(!0);return N.useEffect(()=>{if(s.current){s.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,t]),n}var yG=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},gD={},Bs={};let RT;const wG=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Bs.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Bs.getSymbolTotalCodewords=function(e){return wG[e]};Bs.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Bs.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');RT=e};Bs.isKanjiModeEnabled=function(){return typeof RT<"u"};Bs.toSJIS=function(e){return RT(e)};var tv={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(tv);function yD(){this.buffer=[],this.length=0}yD.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var vG=yD;function dm(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}dm.prototype.set=function(t,e,n,r){const s=t*this.size+e;this.data[s]=n,r&&(this.reservedBit[s]=!0)};dm.prototype.get=function(t,e){return this.data[t*this.size+e]};dm.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};dm.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var xG=dm,wD={};(function(t){const e=Bs.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let l=1;l<s-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),o=i.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||s.push([i[a],i[l]]);return s}})(wD);var vD={};const bG=Bs.getSymbolSize,nN=7;vD.getPositions=function(e){const n=bG(e);return[[0,0],[n-nN,0],[0,n-nN]]};var xD={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,l=0,c=null,u=null;for(let f=0;f<i;f++){a=l=0,c=u=null;for(let p=0;p<i;p++){let m=s.get(f,p);m===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=m,a=1),m=s.get(p,f),m===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=m,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let l=0;l<i-1;l++){const c=s.get(a,l)+s.get(a,l+1)+s.get(a+1,l)+s.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,l=0;for(let c=0;c<i;c++){a=l=0;for(let u=0;u<i;u++)a=a<<1&2047|s.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|s.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let l=0;l<o;l++)i+=s.data[l];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)i.isReserved(l,a)||i.xor(l,a,n(s,l,a))},t.getBestMask=function(s,i){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){i(c),t.applyMask(c,s);const u=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(c,s),u<l&&(l=u,a=c)}return a}})(xD);var nv={};const Ka=tv,_g=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Eg=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];nv.getBlocksCount=function(e,n){switch(n){case Ka.L:return _g[(e-1)*4+0];case Ka.M:return _g[(e-1)*4+1];case Ka.Q:return _g[(e-1)*4+2];case Ka.H:return _g[(e-1)*4+3];default:return}};nv.getTotalCodewordsCount=function(e,n){switch(n){case Ka.L:return Eg[(e-1)*4+0];case Ka.M:return Eg[(e-1)*4+1];case Ka.Q:return Eg[(e-1)*4+2];case Ka.H:return Eg[(e-1)*4+3];default:return}};var bD={},rv={};const Wf=new Uint8Array(512),Ay=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Wf[n]=e,Ay[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Wf[n]=Wf[n-255]})();rv.log=function(e){if(e<1)throw new Error("log("+e+")");return Ay[e]};rv.exp=function(e){return Wf[e]};rv.mul=function(e,n){return e===0||n===0?0:Wf[Ay[e]+Ay[n]]};(function(t){const e=rv;t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=e.mul(r[o],s[a]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let l=0;l<s.length;l++)i[l]^=e.mul(s[l],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(bD);const _D=bD;function MT(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}MT.prototype.initialize=function(e){this.degree=e,this.genPoly=_D.generateECPolynomial(this.degree)};MT.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=_D.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var _G=MT,ED={},Cl={},PT={};PT.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var no={};const SD="[0-9]+",EG="[A-Z $%*+\\-./:]+";let Ep="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ep=Ep.replace(/u/g,"\\u");const SG="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ep+`)(?:.|[\r
]))+`;no.KANJI=new RegExp(Ep,"g");no.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");no.BYTE=new RegExp(SG,"g");no.NUMERIC=new RegExp(SD,"g");no.ALPHANUMERIC=new RegExp(EG,"g");const TG=new RegExp("^"+Ep+"$"),AG=new RegExp("^"+SD+"$"),IG=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");no.testKanji=function(e){return TG.test(e)};no.testNumeric=function(e){return AG.test(e)};no.testAlphanumeric=function(e){return IG.test(e)};(function(t){const e=PT,n=no;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,o){if(t.isValid(i))return i;try{return r(i)}catch{return o}}})(Cl);(function(t){const e=Bs,n=nv,r=tv,s=Cl,i=PT,o=7973,a=e.getBCHDigit(o);function l(p,m,v){for(let g=1;g<=40;g++)if(m<=t.getCapacity(g,v,p))return g}function c(p,m){return s.getCharCountIndicator(p,m)+4}function u(p,m){let v=0;return p.forEach(function(g){const w=c(g.mode,m);v+=w+g.getBitsLength()}),v}function f(p,m){for(let v=1;v<=40;v++)if(u(p,v)<=t.getCapacity(v,m,s.MIXED))return v}t.from=function(m,v){return i.isValid(m)?parseInt(m,10):v},t.getCapacity=function(m,v,g){if(!i.isValid(m))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=s.BYTE);const w=e.getSymbolTotalCodewords(m),b=n.getTotalCodewordsCount(m,v),_=(w-b)*8;if(g===s.MIXED)return _;const x=_-c(g,m);switch(g){case s.NUMERIC:return Math.floor(x/10*3);case s.ALPHANUMERIC:return Math.floor(x/11*2);case s.KANJI:return Math.floor(x/13);case s.BYTE:default:return Math.floor(x/8)}},t.getBestVersionForData=function(m,v){let g;const w=r.from(v,r.M);if(Array.isArray(m)){if(m.length>1)return f(m,w);if(m.length===0)return 1;g=m[0]}else g=m;return l(g.mode,g.getLength(),w)},t.getEncodedBits=function(m){if(!i.isValid(m)||m<7)throw new Error("Invalid QR Code version");let v=m<<12;for(;e.getBCHDigit(v)-a>=0;)v^=o<<e.getBCHDigit(v)-a;return m<<12|v}})(ED);var TD={};const y_=Bs,AD=1335,CG=21522,rN=y_.getBCHDigit(AD);TD.getEncodedBits=function(e,n){const r=e.bit<<3|n;let s=r<<10;for(;y_.getBCHDigit(s)-rN>=0;)s^=AD<<y_.getBCHDigit(s)-rN;return(r<<10|s)^CG};var ID={};const kG=Cl;function th(t){this.mode=kG.NUMERIC,this.data=t.toString()}th.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};th.prototype.getLength=function(){return this.data.length};th.prototype.getBitsLength=function(){return th.getBitsLength(this.data.length)};th.prototype.write=function(e){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),e.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),e.put(s,i*3+1))};var NG=th;const RG=Cl,nx=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function nh(t){this.mode=RG.ALPHANUMERIC,this.data=t}nh.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};nh.prototype.getLength=function(){return this.data.length};nh.prototype.getBitsLength=function(){return nh.getBitsLength(this.data.length)};nh.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=nx.indexOf(this.data[n])*45;r+=nx.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(nx.indexOf(this.data[n]),6)};var MG=nh;const PG=Cl;function rh(t){this.mode=PG.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}rh.getBitsLength=function(e){return e*8};rh.prototype.getLength=function(){return this.data.length};rh.prototype.getBitsLength=function(){return rh.getBitsLength(this.data.length)};rh.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var OG=rh;const LG=Cl,DG=Bs;function sh(t){this.mode=LG.KANJI,this.data=t}sh.getBitsLength=function(e){return e*13};sh.prototype.getLength=function(){return this.data.length};sh.prototype.getBitsLength=function(){return sh.getBitsLength(this.data.length)};sh.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=DG.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var jG=sh,CD={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,f,p,m,v,g,w;!a.empty();){l=a.pop(),c=l.value,f=l.cost,p=n[c]||{};for(u in p)p.hasOwnProperty(u)&&(m=p[u],v=f+m,g=o[u],w=typeof o[u]>"u",(w||g>v)&&(o[u]=v,a.push(u,v),i[u]=c))}if(typeof s<"u"&&typeof o[s]>"u"){var b=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(b)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(CD);var BG=CD.exports;(function(t){const e=Cl,n=NG,r=MG,s=OG,i=jG,o=no,a=Bs,l=BG;function c(b){return unescape(encodeURIComponent(b)).length}function u(b,_,x){const S=[];let D;for(;(D=b.exec(x))!==null;)S.push({data:D[0],index:D.index,mode:_,length:D[0].length});return S}function f(b){const _=u(o.NUMERIC,e.NUMERIC,b),x=u(o.ALPHANUMERIC,e.ALPHANUMERIC,b);let S,D;return a.isKanjiModeEnabled()?(S=u(o.BYTE,e.BYTE,b),D=u(o.KANJI,e.KANJI,b)):(S=u(o.BYTE_KANJI,e.BYTE,b),D=[]),_.concat(x,S,D).sort(function(M,R){return M.index-R.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function p(b,_){switch(_){case e.NUMERIC:return n.getBitsLength(b);case e.ALPHANUMERIC:return r.getBitsLength(b);case e.KANJI:return i.getBitsLength(b);case e.BYTE:return s.getBitsLength(b)}}function m(b){return b.reduce(function(_,x){const S=_.length-1>=0?_[_.length-1]:null;return S&&S.mode===x.mode?(_[_.length-1].data+=x.data,_):(_.push(x),_)},[])}function v(b){const _=[];for(let x=0;x<b.length;x++){const S=b[x];switch(S.mode){case e.NUMERIC:_.push([S,{data:S.data,mode:e.ALPHANUMERIC,length:S.length},{data:S.data,mode:e.BYTE,length:S.length}]);break;case e.ALPHANUMERIC:_.push([S,{data:S.data,mode:e.BYTE,length:S.length}]);break;case e.KANJI:_.push([S,{data:S.data,mode:e.BYTE,length:c(S.data)}]);break;case e.BYTE:_.push([{data:S.data,mode:e.BYTE,length:c(S.data)}])}}return _}function g(b,_){const x={},S={start:{}};let D=["start"];for(let F=0;F<b.length;F++){const M=b[F],R=[];for(let U=0;U<M.length;U++){const W=M[U],$=""+F+U;R.push($),x[$]={node:W,lastCount:0},S[$]={};for(let q=0;q<D.length;q++){const C=D[q];x[C]&&x[C].node.mode===W.mode?(S[C][$]=p(x[C].lastCount+W.length,W.mode)-p(x[C].lastCount,W.mode),x[C].lastCount+=W.length):(x[C]&&(x[C].lastCount=W.length),S[C][$]=p(W.length,W.mode)+4+e.getCharCountIndicator(W.mode,_))}}D=R}for(let F=0;F<D.length;F++)S[D[F]].end=0;return{map:S,table:x}}function w(b,_){let x;const S=e.getBestModeForData(b);if(x=e.from(_,S),x!==e.BYTE&&x.bit<S.bit)throw new Error('"'+b+'" cannot be encoded with mode '+e.toString(x)+`.
 Suggested mode is: `+e.toString(S));switch(x===e.KANJI&&!a.isKanjiModeEnabled()&&(x=e.BYTE),x){case e.NUMERIC:return new n(b);case e.ALPHANUMERIC:return new r(b);case e.KANJI:return new i(b);case e.BYTE:return new s(b)}}t.fromArray=function(_){return _.reduce(function(x,S){return typeof S=="string"?x.push(w(S,null)):S.data&&x.push(w(S.data,S.mode)),x},[])},t.fromString=function(_,x){const S=f(_,a.isKanjiModeEnabled()),D=v(S),F=g(D,x),M=l.find_path(F.map,"start","end"),R=[];for(let U=1;U<M.length-1;U++)R.push(F.table[M[U]].node);return t.fromArray(m(R))},t.rawSplit=function(_){return t.fromArray(f(_,a.isKanjiModeEnabled()))}})(ID);const sv=Bs,rx=tv,FG=vG,UG=xG,VG=wD,zG=vD,w_=xD,v_=nv,WG=_G,Iy=ED,$G=TD,HG=Cl,sx=ID;function qG(t,e){const n=t.size,r=zG.getPositions(e);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||n<=i+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(i+a,o+l,!0,!0):t.set(i+a,o+l,!1,!0))}}function KG(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function GG(t,e){const n=VG.getPositions(e);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(s+o,i+a,!0,!0):t.set(s+o,i+a,!1,!0)}}function QG(t,e){const n=t.size,r=Iy.getEncodedBits(e);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+n-8-3,o=(r>>a&1)===1,t.set(s,i,o,!0),t.set(i,s,o,!0)}function ix(t,e,n){const r=t.size,s=$G.getEncodedBits(e,n);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?t.set(i,8,o,!0):i<8?t.set(i+1,8,o,!0):t.set(r-15+i,8,o,!0),i<8?t.set(8,r-i-1,o,!0):i<9?t.set(8,15-i-1+1,o,!0):t.set(8,15-i-1,o,!0);t.set(r-8,8,1,!0)}function YG(t,e){const n=t.size;let r=-1,s=n-1,i=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(s,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>i&1)===1),t.set(s,a-l,c),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function XG(t,e,n){const r=new FG;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),HG.getCharCountIndicator(l.mode,t)),l.write(r)});const s=sv.getSymbolTotalCodewords(t),i=v_.getTotalCodewordsCount(t,e),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return ZG(r,t,e)}function ZG(t,e,n){const r=sv.getSymbolTotalCodewords(e),s=v_.getTotalCodewordsCount(e,n),i=r-s,o=v_.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(i/o),f=u+1,p=c-u,m=new WG(p);let v=0;const g=new Array(o),w=new Array(o);let b=0;const _=new Uint8Array(t.buffer);for(let M=0;M<o;M++){const R=M<l?u:f;g[M]=_.slice(v,v+R),w[M]=m.encode(g[M]),v+=R,b=Math.max(b,R)}const x=new Uint8Array(r);let S=0,D,F;for(D=0;D<b;D++)for(F=0;F<o;F++)D<g[F].length&&(x[S++]=g[F][D]);for(D=0;D<p;D++)for(F=0;F<o;F++)x[S++]=w[F][D];return x}function JG(t,e,n,r){let s;if(Array.isArray(t))s=sx.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=sx.rawSplit(t);c=Iy.getBestVersionForData(u,n)}s=sx.fromString(t,c||40)}else throw new Error("Invalid data");const i=Iy.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=XG(e,n,s),a=sv.getSymbolSize(e),l=new UG(a);return qG(l,e),KG(l),GG(l,e),ix(l,n,0),e>=7&&QG(l,e),YG(l,o),isNaN(r)&&(r=w_.getBestMask(l,ix.bind(null,l,n))),w_.applyMask(r,l),ix(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}gD.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=rx.M,s,i;return typeof n<"u"&&(r=rx.from(n.errorCorrectionLevel,rx.M),s=Iy.from(n.version),i=w_.from(n.maskPattern),n.toSJISFunc&&sv.setToSJISFunction(n.toSJISFunc)),JG(e,s,r,i)};var kD={},OT={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const o=s.modules.size,a=s.modules.data,l=t.getScale(o,i),c=Math.floor((o+i.margin*2)*l),u=i.margin*l,f=[i.color.light,i.color.dark];for(let p=0;p<c;p++)for(let m=0;m<c;m++){let v=(p*c+m)*4,g=i.color.light;if(p>=u&&m>=u&&p<c-u&&m<c-u){const w=Math.floor((p-u)/l),b=Math.floor((m-u)/l);g=f[a[w*o+b]?1:0]}r[v++]=g.r,r[v++]=g.g,r[v++]=g.b,r[v]=g.a}}})(OT);(function(t){const e=OT;function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(i.modules.size,l),f=c.getContext("2d"),p=f.createImageData(u,u);return e.qrToImageData(p.data,i,l),n(f,c,u),f.putImageData(p,0,0),c},t.renderToDataURL=function(i,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(i,o,l),u=l.type||"image/png",f=l.rendererOpts||{};return c.toDataURL(u,f.quality)}})(kD);var ND={};const eQ=OT;function sN(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function ox(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function tQ(t,e,n){let r="",s=0,i=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!i&&(i=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=i?ox("M",l+n,.5+c+n):ox("m",s,0),s=0,i=!1),l+1<e&&t[a+1]||(r+=ox("h",o),o=0)):s++}return r}ND.render=function(e,n,r){const s=eQ.getOptions(n),i=e.modules.size,o=e.modules.data,a=i+s.margin*2,l=s.color.light.a?"<path "+sN(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+sN(s.color.dark,"stroke")+' d="'+tQ(o,i,s.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,p),p};const nQ=yG,x_=gD,RD=kD,rQ=ND;function LT(t,e,n,r,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!nQ())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const u=x_.create(n,r);l(t(u,e,r))}catch(u){c(u)}})}try{const l=x_.create(n,r);s(null,t(l,e,r))}catch(l){s(l)}}x_.create;LT.bind(null,RD.render);LT.bind(null,RD.renderToDataURL);LT.bind(null,function(t,e,n){return rQ.render(t,n)});const Sp="solana:mainnet",MD="solana:devnet",PD="solana:testnet",sQ="solana:localnet";function ax(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const iQ="https://api.mainnet-beta.solana.com";function oQ(t){return t.includes(iQ)?Sp:/\bdevnet\b/i.test(t)?MD:/\btestnet\b/i.test(t)?PD:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?sQ:Sp}function aQ(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const Ko={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Go extends Error{constructor(...e){const[n,r,s]=e;super(r),this.code=n,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class OD extends Error{constructor(...e){const[n,r,s,i]=e;super(s),this.code=r,this.data=i,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function zn(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function lQ(t){return window.btoa(t)}function lx(t,e){return zn(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),s=new Uint8Array(n.byteLength+r.byteLength);return s.set(new Uint8Array(n),0),s.set(new Uint8Array(r),n.byteLength),s})}function cQ(t){return aQ(t)}function uQ(t){return lQ(cQ(t))}const dQ="solana:signTransactions",iN="solana:cloneAuthorization";function hQ(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(s){return zn(this,void 0,void 0,function*(){const{method:i,params:o}=fQ(r,s,t),a=yield e(i,o);return i==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield mQ(o.sign_in_payload,a,e)),pQ(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function fQ(t,e,n){let r=e,s=t.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:i}=r;if(n==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:o}=r;if(i)switch(n){case"legacy":{s="reauthorize",r={auth_token:i,identity:o};break}default:{s="authorize";break}}break}}return{method:s,params:r}}function pQ(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const s=[dQ];return r.supports_clone_authorization===!0&&s.push(iN),Object.assign(Object.assign({},r),{features:s})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(iN)})}}}return e}function mQ(t,e,n){var r;return zn(this,void 0,void 0,function*(){const s=(r=t.domain)!==null&&r!==void 0?r:window.location.host,i=e.accounts[0].address,o=uQ(Object.assign(Object.assign({},t),{domain:s,address:i})),a=yield n("sign_messages",{addresses:[i],payloads:[o]});return{address:i,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const rc=4;function gQ(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(rc);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const b_=12,LD=65;function yQ(t,e,n){return zn(this,void 0,void 0,function*(){const r=gQ(e),s=new Uint8Array(b_);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(jD(r,s),n,new TextEncoder().encode(t)),o=new Uint8Array(r.byteLength+s.byteLength+i.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(s),r.byteLength),o.set(new Uint8Array(i),r.byteLength+s.byteLength),o})}function DD(t,e){return zn(this,void 0,void 0,function*(){const n=t.slice(0,rc),r=t.slice(rc,rc+b_),s=t.slice(rc+b_),i=yield crypto.subtle.decrypt(jD(n,r),e,s);return wQ().decode(i)})}function jD(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let cx;function wQ(){return cx===void 0&&(cx=new TextDecoder("utf-8")),cx}function vQ(){return zn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function ux(){return zn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function xQ(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let s=0;s<r;s++)e+=String.fromCharCode(n[s]);return window.btoa(e)}function bQ(){return BD(49152+Math.floor(Math.random()*16384))}function BD(t){if(t<49152||t>65535)throw new Go(Ko.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function _Q(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const EQ="solana-wallet";function oN(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function SQ(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new Go(Ko.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${EQ}:/`));const r=t.startsWith("/")?t:[...oN(n.pathname),...oN(t)].join("/");return new URL(r,n)}function TQ(t,e,n,r=["v1"]){return zn(this,void 0,void 0,function*(){const s=BD(e),i=yield crypto.subtle.exportKey("raw",t),o=xQ(i),a=SQ("v1/associate/local",n);return a.searchParams.set("association",_Q(o)),a.searchParams.set("port",`${s}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}function AQ(t,e){return zn(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return yQ(n,r,e)})}function IQ(t,e){return zn(this,void 0,void 0,function*(){const n=yield DD(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new OD(r.id,r.error.code,r.error.message);return r})}function CQ(t,e,n){return zn(this,void 0,void 0,function*(){const[r,s]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,LD),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},n,256),o=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function kQ(t,e){return zn(this,void 0,void 0,function*(){const n=yield DD(t,e),r=JSON.parse(n);let s="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new Go(Ko.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:s}})}const Cy={Firefox:0,Other:1};function NQ(){return navigator.userAgent.indexOf("Firefox/")!==-1?Cy.Firefox:Cy.Other}function RQ(){return new Promise((t,e)=>{function n(){clearTimeout(s),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const s=setTimeout(()=>{n(),e()},3e3)})}let nf=null;function MQ(t){nf==null&&(nf=document.createElement("iframe"),nf.style.display="none",document.body.appendChild(nf)),nf.contentWindow.location.href=t.toString()}function PQ(t){return zn(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=NQ();switch(e){case Cy.Firefox:MQ(t);break;case Cy.Other:{const n=RQ();window.location.assign(t),yield n;break}default:}}catch{throw new Go(Ko.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function OQ(t,e){return zn(this,void 0,void 0,function*(){const n=bQ(),r=yield TQ(t,n,e);return yield PQ(r),n})}const aN={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},LQ="com.solana.mobilewalletadapter.v1";function DQ(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Go(Ko.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function jQ(t){let e;try{e=new URL(t)}catch{throw new Go(Ko.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new Go(Ko.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function lN(t){return new DataView(t).getUint32(0,!1)}function BQ(t,e){return zn(this,void 0,void 0,function*(){DQ();const n=yield vQ(),s=`ws://localhost:${yield OQ(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let i;const o=(()=>{const u=[...aN.retryDelayScheduleMs];return()=>u.length>1?u.shift():u[0]})();let a=1,l=0,c={__type:"disconnected"};return new Promise((u,f)=>{let p;const m={},v=()=>zn(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}p.removeEventListener("open",v);const{associationKeypair:D}=c,F=yield ux();p.send(yield lx(F.publicKey,D.privateKey)),c={__type:"hello_req_sent",associationPublicKey:D.publicKey,ecdhPrivateKey:F.privateKey}}),g=D=>{D.wasClean?c={__type:"disconnected"}:f(new Go(Ko.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${D.code}: ${D.reason}).`,{closeEvent:D})),_()},w=D=>zn(this,void 0,void 0,function*(){_(),Date.now()-i>=aN.timeoutMs?f(new Go(Ko.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(F=>{const M=o();x=window.setTimeout(F,M)}),S())}),b=D=>zn(this,void 0,void 0,function*(){const F=yield D.data.arrayBuffer();switch(c.__type){case"connecting":if(F.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const M=yield ux();p.send(yield lx(M.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:M.privateKey};break;case"connected":try{const R=F.slice(0,rc),U=lN(R);if(U!==l+1)throw new Error("Encrypted message has invalid sequence number");l=U;const W=yield IQ(F,c.sharedSecret),$=m[W.id];delete m[W.id],$.resolve(W.result)}catch(R){if(R instanceof OD){const U=m[R.jsonRpcMessageId];delete m[R.jsonRpcMessageId],U.reject(R)}else throw R}break;case"hello_req_sent":{if(F.byteLength===0){const q=yield ux();p.send(yield lx(q.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:q.privateKey};break}const R=yield CQ(F,c.associationPublicKey,c.ecdhPrivateKey),U=F.slice(LD),W=U.byteLength!==0?yield zn(this,void 0,void 0,function*(){const q=U.slice(0,rc),C=lN(q);if(C!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=C,kQ(U,R)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:R,sessionProperties:W};const $=hQ(W.protocol_version,(q,C)=>zn(this,void 0,void 0,function*(){const y=a++;return p.send(yield AQ({id:y,jsonrpc:"2.0",method:q,params:C??{}},R)),new Promise((A,O)=>{m[y]={resolve(z){switch(q){case"authorize":case"reauthorize":{const{wallet_uri_base:L}=z;if(L!=null)try{jQ(L)}catch(j){O(j);return}break}}A(z)},reject:O}})}));try{u(yield t($))}catch(q){f(q)}finally{_(),p.close()}break}}});let _,x;const S=()=>{_&&_(),c={__type:"connecting",associationKeypair:n},i===void 0&&(i=Date.now()),p=new WebSocket(s,[LQ]),p.addEventListener("open",v),p.addEventListener("close",g),p.addEventListener("error",w),p.addEventListener("message",b),_=()=>{window.clearTimeout(x),p.removeEventListener("open",v),p.removeEventListener("close",g),p.removeEventListener("error",w),p.removeEventListener("message",b)}};S()})})}function FQ(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var v=0,g=0,w=0,b=m.length;w!==b&&m[w]===0;)w++,v++;for(var _=(b-w)*c+1>>>0,x=new Uint8Array(_);w!==b;){for(var S=m[w],D=0,F=_-1;(S!==0||D<g)&&F!==-1;F--,D++)S+=256*x[F]>>>0,x[F]=S%o>>>0,S=S/o>>>0;if(S!==0)throw new Error("Non-zero carry");g=D,w++}for(var M=_-g;M!==_&&x[M]===0;)M++;for(var R=a.repeat(v);M<_;++M)R+=t.charAt(x[M]);return R}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var v=0,g=0,w=0;m[v]===a;)g++,v++;for(var b=(m.length-v)*l+1>>>0,_=new Uint8Array(b);m[v];){var x=m.charCodeAt(v);if(x>255)return;var S=e[x];if(S===255)return;for(var D=0,F=b-1;(S!==0||D<w)&&F!==-1;F--,D++)S+=o*_[F]>>>0,_[F]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");w=D,v++}for(var M=b-w;M!==b&&_[M]===0;)M++;for(var R=new Uint8Array(g+(b-M)),U=g;M!==b;)R[U++]=_[M++];return R}function p(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:p}}var UQ=FQ;const VQ=UQ,zQ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var WQ=VQ(zQ);const $Q=El(WQ);function dx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function t0(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function FD(t){return window.btoa(String.fromCharCode.call(null,...t))}function hx(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function cN(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return FD(e)}function HQ(t){const n=t[0]*vp+1;return Gw.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?pi.from(t):gl.deserialize(t)}function qQ(t,e){return t0(this,void 0,void 0,function*(){return yield BQ(r=>t(KQ(r)),e)})}function KQ(t){return new Proxy({},{get(e,n){if(e[n]==null)switch(n){case"signAndSendTransactions":e[n]=function(r){var{minContextSlot:s,commitment:i,skipPreflight:o,maxRetries:a,waitForCommitmentToSendNextTransaction:l,transactions:c}=r,u=dx(r,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return t0(this,void 0,void 0,function*(){const f=c.map(cN),p={min_context_slot:s,commitment:i,skip_preflight:o,max_retries:a,wait_for_commitment_to_send_next_transaction:l},{signatures:m}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},u),Object.values(p).some(g=>g!=null)?{options:p}:null),{payloads:f}));return m.map(hx).map($Q.encode)})};break;case"signMessages":e[n]=function(r){var{payloads:s}=r,i=dx(r,["payloads"]);return t0(this,void 0,void 0,function*(){const o=s.map(FD),{signed_payloads:a}=yield t.signMessages(Object.assign(Object.assign({},i),{payloads:o}));return a.map(hx)})};break;case"signTransactions":e[n]=function(r){var{transactions:s}=r,i=dx(r,["transactions"]);return t0(this,void 0,void 0,function*(){const o=s.map(cN),{signed_payloads:a}=yield t.signTransactions(Object.assign(Object.assign({},i),{payloads:o}));return a.map(hx).map(HQ)})};break;default:{e[n]=t[n];break}}return e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}function GQ(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var v=0,g=0,w=0,b=m.length;w!==b&&m[w]===0;)w++,v++;for(var _=(b-w)*c+1>>>0,x=new Uint8Array(_);w!==b;){for(var S=m[w],D=0,F=_-1;(S!==0||D<g)&&F!==-1;F--,D++)S+=256*x[F]>>>0,x[F]=S%o>>>0,S=S/o>>>0;if(S!==0)throw new Error("Non-zero carry");g=D,w++}for(var M=_-g;M!==_&&x[M]===0;)M++;for(var R=a.repeat(v);M<_;++M)R+=t.charAt(x[M]);return R}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var v=0,g=0,w=0;m[v]===a;)g++,v++;for(var b=(m.length-v)*l+1>>>0,_=new Uint8Array(b);m[v];){var x=m.charCodeAt(v);if(x>255)return;var S=e[x];if(S===255)return;for(var D=0,F=b-1;(S!==0||D<w)&&F!==-1;F--,D++)S+=o*_[F]>>>0,_[F]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");w=D,v++}for(var M=b-w;M!==b&&_[M]===0;)M++;for(var R=new Uint8Array(g+(b-M)),U=g;M!==b;)R[U++]=_[M++];return R}function p(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:p}}var QQ=GQ;const YQ=QQ,XQ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var ZQ=YQ(XQ);const uN=El(ZQ);function on(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function fe(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Un(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var vf,Kn,Wl,Mu,UD,VD,zD,n0;const JQ=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,eY=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,tY=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class nY{constructor(){vf.add(this),Kn.set(this,null),Wl.set(this,{}),Mu.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),fe(this,vf,"m",VD).call(this),fe(this,Kn,"f")&&(fe(this,Kn,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),fe(this,vf,"m",zD).call(this),fe(this,Kn,"f")&&(fe(this,Kn,"f").style.display="none"),(n=fe(this,Wl,"f").close)===null||n===void 0||n.forEach(r=>r(e))},n0.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),Un(this,Kn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return on(this,void 0,void 0,function*(){console.log("Injecting modal"),fe(this,vf,"m",UD).call(this)})}addEventListener(e,n){var r;return!((r=fe(this,Wl,"f")[e])===null||r===void 0)&&r.push(n)||(fe(this,Wl,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;fe(this,Wl,"f")[e]=(r=fe(this,Wl,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)}}Kn=new WeakMap,Wl=new WeakMap,Mu=new WeakMap,n0=new WeakMap,vf=new WeakSet,UD=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){fe(this,Kn,"f")||Un(this,Kn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Un(this,Kn,document.createElement("div")),fe(this,Kn,"f").id="mobile-wallet-adapter-embedded-root-ui",fe(this,Kn,"f").innerHTML=JQ,fe(this,Kn,"f").style.display="none";const e=fe(this,Kn,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=eY+this.contentStyles;const r=document.createElement("div");r.innerHTML=tY,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(fe(this,Kn,"f")),document.body.appendChild(r)},VD=function(){if(!fe(this,Kn,"f")||fe(this,Mu,"f"))return;[...fe(this,Kn,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",fe(this,n0,"f")),Un(this,Mu,!0)},zD=function(){if(!fe(this,Mu,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",fe(this,n0,"f")),!fe(this,Kn,"f")))return;[...fe(this,Kn,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),Un(this,Mu,!1)};const rY="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function sY(t){return"version"in t}function iY(t){return window.btoa(String.fromCharCode.call(null,...t))}function Sg(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var Pu,sc,__,E_,S_,T_,xf,Kr,mo,wa,Ou,Lu,r0,bf,s0,A_,i0,WD,I_,o0,Du,C_,_f,a0,ju,Ef,l0,k_,N_,c0,R_,M_,P_,u0;const oY="Mobile Wallet Adapter",aY=64,lY=[Zr,yn,Ao,_c];class cY{constructor(e){Pu.add(this),sc.set(this,{}),__.set(this,"1.0.0"),E_.set(this,oY),S_.set(this,"https://solanamobile.com/wallets"),T_.set(this,rY),xf.set(this,void 0),Kr.set(this,void 0),mo.set(this,void 0),wa.set(this,!1),Ou.set(this,0),Lu.set(this,[]),r0.set(this,void 0),bf.set(this,void 0),s0.set(this,void 0),A_.set(this,(n,r)=>{var s;return!((s=fe(this,sc,"f")[n])===null||s===void 0)&&s.push(r)||(fe(this,sc,"f")[n]=[r]),()=>fe(this,Pu,"m",WD).call(this,n,r)}),I_.set(this,({silent:n}={})=>on(this,void 0,void 0,function*(){if(fe(this,wa,"f")||this.connected)return{accounts:this.accounts};Un(this,wa,!0);try{if(n){const r=yield fe(this,mo,"f").get();if(r)yield fe(this,Du,"f").call(this,r);else return{accounts:this.accounts}}else yield fe(this,o0,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Un(this,wa,!1)}return{accounts:this.accounts}})),o0.set(this,n=>on(this,void 0,void 0,function*(){try{const r=yield fe(this,mo,"f").get();if(r)return fe(this,Du,"f").call(this,r),r;const s=yield fe(this,r0,"f").select(fe(this,Lu,"f"));return yield fe(this,ju,"f").call(this,i=>on(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([i.getCapabilities(),i.authorize({chain:s,identity:fe(this,xf,"f"),sign_in_payload:n})]),l=fe(this,l0,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:s});return Promise.all([fe(this,C_,"f").call(this,o),fe(this,mo,"f").set(c),fe(this,Du,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Du.set(this,n=>on(this,void 0,void 0,function*(){var r;const s=fe(this,Kr,"f")==null||((r=fe(this,Kr,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||fe(this,Kr,"f").accounts.some((i,o)=>i.address!==n.accounts[o].address);Un(this,Kr,n),s&&fe(this,Pu,"m",i0).call(this,"change",{accounts:this.accounts})})),C_.set(this,n=>on(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),s=n.supports_sign_and_send_transactions,i=Zr in this.features!==s||yn in this.features!==r;Un(this,bf,Object.assign(Object.assign({},(s||!s&&!r)&&{[Zr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:fe(this,c0,"f")}}),r&&{[yn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:fe(this,R_,"f")}})),i&&fe(this,Pu,"m",i0).call(this,"change",{features:this.features})})),_f.set(this,(n,r,s)=>on(this,void 0,void 0,function*(){try{const i=yield n.authorize({auth_token:r,identity:fe(this,xf,"f"),chain:s}),o=fe(this,l0,"f").call(this,i.accounts),a=Object.assign(Object.assign({},i),{accounts:o,chain:s});Promise.all([fe(this,mo,"f").set(a),fe(this,Du,"f").call(this,a)])}catch(i){throw fe(this,a0,"f").call(this),new Error(i instanceof Error&&i.message||"Unknown error")}})),a0.set(this,()=>on(this,void 0,void 0,function*(){var n;fe(this,mo,"f").clear(),Un(this,wa,!1),Un(this,Ou,(n=fe(this,Ou,"f"),n++,n)),Un(this,Kr,void 0),fe(this,Pu,"m",i0).call(this,"change",{accounts:this.accounts})})),ju.set(this,n=>on(this,void 0,void 0,function*(){var r;const s=(r=fe(this,Kr,"f"))===null||r===void 0?void 0:r.wallet_uri_base,i=s?{baseUri:s}:void 0,o=fe(this,Ou,"f");try{return yield qQ(n,i)}catch(a){throw fe(this,Ou,"f")!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield fe(this,s0,"f").call(this,this)),a}})),Ef.set(this,()=>{if(!fe(this,Kr,"f"))throw new Error("Wallet not connected");return{authToken:fe(this,Kr,"f").auth_token,chain:fe(this,Kr,"f").chain}}),l0.set(this,n=>n.map(r=>{var s,i;const o=Sg(r.address);return{address:uN.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(s=r.chains)!==null&&s!==void 0?s:fe(this,Lu,"f"),features:(i=r.features)!==null&&i!==void 0?i:lY}})),k_.set(this,n=>on(this,void 0,void 0,function*(){const{authToken:r,chain:s}=fe(this,Ef,"f").call(this);try{return yield fe(this,ju,"f").call(this,i=>on(this,void 0,void 0,function*(){return yield fe(this,_f,"f").call(this,i,r,s),yield i.signTransactions({transactions:n})}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),N_.set(this,(n,r)=>on(this,void 0,void 0,function*(){const{authToken:s,chain:i}=fe(this,Ef,"f").call(this);try{return yield fe(this,ju,"f").call(this,o=>on(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([o.getCapabilities(),fe(this,_f,"f").call(this,o,s,i)]);if(a.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),c0.set(this,(...n)=>on(this,void 0,void 0,function*(){const r=[];for(const s of n){const i=gl.deserialize(s.transaction),o=yield fe(this,N_,"f").call(this,i,s.options);r.push({signature:uN.decode(o)})}return r})),R_.set(this,(...n)=>on(this,void 0,void 0,function*(){const r=n.map(({transaction:i})=>gl.deserialize(i));return(yield fe(this,k_,"f").call(this,r)).map(i=>({signedTransaction:sY(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),M_.set(this,(...n)=>on(this,void 0,void 0,function*(){const{authToken:r,chain:s}=fe(this,Ef,"f").call(this),i=n.map(({account:a})=>iY(a.publicKey)),o=n.map(({message:a})=>a);try{return yield fe(this,ju,"f").call(this,a=>on(this,void 0,void 0,function*(){return yield fe(this,_f,"f").call(this,a,r,s),(yield a.signMessages({addresses:i,payloads:o})).map(c=>({signedMessage:c,signature:c.slice(-aY)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),P_.set(this,(...n)=>on(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const s of n)r.push(yield fe(this,u0,"f").call(this,s));else return[yield fe(this,u0,"f").call(this,n[0])];return r})),u0.set(this,n=>on(this,void 0,void 0,function*(){var r,s;Un(this,wa,!0);try{const i=yield fe(this,o0,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=i.sign_in_result.address;return{account:Object.assign(Object.assign({},(s=i.accounts.find(l=>l.address==o))!==null&&s!==void 0?s:{address:o}),{publicKey:Sg(o)}),signedMessage:Sg(i.sign_in_result.signed_message),signature:Sg(i.sign_in_result.signature)}}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}finally{Un(this,wa,!1)}})),Un(this,mo,e.authorizationCache),Un(this,xf,e.appIdentity),Un(this,Lu,e.chains),Un(this,r0,e.chainSelector),Un(this,s0,e.onWalletNotFound),Un(this,bf,{[Zr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:fe(this,c0,"f")}})}get version(){return fe(this,__,"f")}get name(){return fe(this,E_,"f")}get url(){return fe(this,S_,"f")}get icon(){return fe(this,T_,"f")}get chains(){return fe(this,Lu,"f")}get features(){return Object.assign({[Zw]:{version:"1.0.0",connect:fe(this,I_,"f")},[Ty]:{version:"1.0.0",disconnect:fe(this,a0,"f")},[Jw]:{version:"1.0.0",on:fe(this,A_,"f")},[Ao]:{version:"1.0.0",signMessage:fe(this,M_,"f")},[_c]:{version:"1.0.0",signIn:fe(this,P_,"f")}},fe(this,bf,"f"))}get accounts(){var e,n;return(n=(e=fe(this,Kr,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!fe(this,Kr,"f")}get isAuthorized(){return!!fe(this,Kr,"f")}get currentAuthorization(){return fe(this,Kr,"f")}get cachedAuthorizationResult(){return fe(this,mo,"f").get()}}sc=new WeakMap,__=new WeakMap,E_=new WeakMap,S_=new WeakMap,T_=new WeakMap,xf=new WeakMap,Kr=new WeakMap,mo=new WeakMap,wa=new WeakMap,Ou=new WeakMap,Lu=new WeakMap,r0=new WeakMap,bf=new WeakMap,s0=new WeakMap,A_=new WeakMap,I_=new WeakMap,o0=new WeakMap,Du=new WeakMap,C_=new WeakMap,_f=new WeakMap,a0=new WeakMap,ju=new WeakMap,Ef=new WeakMap,l0=new WeakMap,k_=new WeakMap,N_=new WeakMap,c0=new WeakMap,R_=new WeakMap,M_=new WeakMap,P_=new WeakMap,u0=new WeakMap,Pu=new WeakSet,i0=function(e,...n){var r;(r=fe(this,sc,"f")[e])===null||r===void 0||r.forEach(s=>s.apply(null,n))},WD=function(e,n){var r;fe(this,sc,"f")[e]=(r=fe(this,sc,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)};const uY="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",dY="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class hY extends nY{constructor(){super(...arguments),this.contentStyles=pY,this.contentHtml=fY}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const s=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),i=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(s){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":s.innerHTML=uY,i&&i.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":s.innerHTML=dY,i&&(i.style.display="none");return}s.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const fY=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,pY=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function mY(){return on(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new hY;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const fx="SolanaMobileWalletAdapterDefaultAuthorizationCache";function gY(){let t;try{t=window.localStorage}catch{}return{clear(){return on(this,void 0,void 0,function*(){if(t)try{t.removeItem(fx)}catch{}})},get(){return on(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(fx));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):new Le(r.address).toBytes()}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return on(this,void 0,void 0,function*(){if(t)try{t.setItem(fx,JSON.stringify(e))}catch{}})}}}function yY(){return{select(t){return on(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(Sp)?Sp:t[0]})}}}function Gt(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Fe(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function bs(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const O_="standard:connect",wY="standard:disconnect",vY="standard:events";function px(t){return window.btoa(String.fromCharCode.call(null,...t))}function xY(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var Zn,mn,Ia,Io,d0,vo,$l,L_,D_,$D,ky,h0,Ea;const f0="Mobile Wallet Adapter",bY=64;function _Y(t){return"version"in t}function HD(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class EY extends fG{constructor(e,n){super(),Zn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),mn.set(this,void 0),Ia.set(this,!1),Io.set(this,xY()?ot.Loadable:ot.Unsupported),d0.set(this,void 0),vo.set(this,void 0),$l.set(this,void 0),L_.set(this,r=>Gt(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){Fe(this,Zn,"m",$D).call(this);const s=yield Fe(this,d0,"f").call(this,r.accounts);s!==Fe(this,vo,"f")&&(bs(this,vo,s),bs(this,$l,void 0),this.emit("connect",this.publicKey))}})),bs(this,d0,r=>Gt(this,void 0,void 0,function*(){var s;const i=yield n.addressSelector.select(r.map(({publicKey:o})=>px(o)));return(s=r.find(({publicKey:o})=>px(o)===i))!==null&&s!==void 0?s:r[0]})),bs(this,mn,e),Fe(this,mn,"f").features[vY].on("change",Fe(this,L_,"f")),this.name=Fe(this,mn,"f").name,this.icon=Fe(this,mn,"f").icon,this.url=Fe(this,mn,"f").url}get publicKey(){var e;if(!Fe(this,$l,"f")&&Fe(this,vo,"f"))try{bs(this,$l,new Le(Fe(this,vo,"f").publicKey),"f")}catch(n){throw new eh(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=Fe(this,$l,"f"))!==null&&e!==void 0?e:null}get connected(){return Fe(this,mn,"f").connected}get connecting(){return Fe(this,Ia,"f")}get readyState(){return Fe(this,Io,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Gt(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Gt(this,void 0,void 0,function*(){Fe(this,Zn,"m",D_).call(this,!0)})}connect(){return Gt(this,void 0,void 0,function*(){Fe(this,Zn,"m",D_).call(this)})}performAuthorization(e){return Gt(this,void 0,void 0,function*(){try{const n=yield Fe(this,mn,"f").cachedAuthorizationResult;return n?(yield Fe(this,mn,"f").features[O_].connect({silent:!0}),n):(e?yield Fe(this,mn,"f").features[_c].signIn(e):yield Fe(this,mn,"f").features[O_].connect(),yield yield Fe(this,mn,"f").cachedAuthorizationResult)}catch(n){throw new Dc(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return Gt(this,void 0,void 0,function*(){return yield Fe(this,Zn,"m",Ea).call(this,()=>Gt(this,void 0,void 0,function*(){bs(this,Ia,!1),bs(this,$l,void 0),bs(this,vo,void 0),yield Fe(this,mn,"f").features[wY].disconnect(),this.emit("disconnect")}))})}signIn(e){return Gt(this,void 0,void 0,function*(){return Fe(this,Zn,"m",Ea).call(this,()=>Gt(this,void 0,void 0,function*(){var n;if(Fe(this,Io,"f")!==ot.Installed&&Fe(this,Io,"f")!==ot.Loadable)throw new Lc;bs(this,Ia,!0);try{const r=yield Fe(this,mn,"f").features[_c].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new Dc(r instanceof Error&&r.message||"Unknown error",r)}finally{bs(this,Ia,!1)}}))})}signMessage(e){return Gt(this,void 0,void 0,function*(){return yield Fe(this,Zn,"m",Ea).call(this,()=>Gt(this,void 0,void 0,function*(){const n=Fe(this,Zn,"m",ky).call(this);try{return(yield Fe(this,mn,"f").features[Ao].signMessage({account:n,message:e}))[0].signature}catch(r){throw new Xw(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return Gt(this,void 0,void 0,function*(){return yield Fe(this,Zn,"m",Ea).call(this,()=>Gt(this,void 0,void 0,function*(){const s=Fe(this,Zn,"m",ky).call(this);try{let i=function(){let o;switch(n.commitment){case"confirmed":case"finalized":case"processed":o=n.commitment;break;default:o="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=o;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(o==="finalized"?2:o==="confirmed"?1:0)?a:o};if(Zr in Fe(this,mn,"f").features){const o=HD(Fe(this,mn,"f").currentAuthorization.chain),[a]=(yield Fe(this,mn,"f").features[Zr].signAndSendTransaction({account:s,transaction:e.serialize(),chain:o,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(l=>px(l.signature));return a}else{const[o]=yield Fe(this,Zn,"m",h0).call(this,[e]);if(_Y(o))return yield n.sendTransaction(o);{const a=o.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:i()}))}}}catch(i){throw new Mo(i==null?void 0:i.message,i)}}))})}signTransaction(e){return Gt(this,void 0,void 0,function*(){return yield Fe(this,Zn,"m",Ea).call(this,()=>Gt(this,void 0,void 0,function*(){const[n]=yield Fe(this,Zn,"m",h0).call(this,[e]);return n}))})}signAllTransactions(e){return Gt(this,void 0,void 0,function*(){return yield Fe(this,Zn,"m",Ea).call(this,()=>Gt(this,void 0,void 0,function*(){return yield Fe(this,Zn,"m",h0).call(this,e)}))})}}mn=new WeakMap,Ia=new WeakMap,Io=new WeakMap,d0=new WeakMap,vo=new WeakMap,$l=new WeakMap,L_=new WeakMap,Zn=new WeakSet,D_=function(e=!1){return Gt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Fe(this,Zn,"m",Ea).call(this,()=>Gt(this,void 0,void 0,function*(){if(Fe(this,Io,"f")!==ot.Installed&&Fe(this,Io,"f")!==ot.Loadable)throw new Lc;bs(this,Ia,!0);try{yield Fe(this,mn,"f").features[O_].connect({silent:e})}catch(n){throw new Dc(n instanceof Error&&n.message||"Unknown error",n)}finally{bs(this,Ia,!1)}}))})},$D=function(){Fe(this,Io,"f")!==ot.Installed&&this.emit("readyStateChange",bs(this,Io,ot.Installed))},ky=function(){if(!Fe(this,mn,"f").isAuthorized||!Fe(this,vo,"f"))throw new Ln;return Fe(this,vo,"f")},h0=function(e){return Gt(this,void 0,void 0,function*(){const n=Fe(this,Zn,"m",ky).call(this);try{if(yn in Fe(this,mn,"f").features)return Fe(this,mn,"f").features[yn].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(s=>{const i=s.signedTransaction,a=i[0]*bY+1;return Gw.deserializeMessageVersion(i.slice(a,i.length))==="legacy"?pi.from(i):gl.deserialize(i)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new mi(r==null?void 0:r.message,r)}})},Ea=function(e){return Gt(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class SY extends EY{constructor(e){var n;const r=HD((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new cY({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Gt(this,void 0,void 0,function*(){const s=yield e.authorizationResultCache.get();return s&&"chain"in s?s:s?Object.assign(Object.assign({},s),{chain:r}):void 0}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:yY(),onWalletNotFound:()=>Gt(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class TY extends SY{}function AY(){return{select(t){return Gt(this,void 0,void 0,function*(){return t[0]})}}}function IY(){return gY()}function CY(t){return Gt(this,void 0,void 0,function*(){return mY()})}function kY(){return CY}var NY=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},RY=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},p0;function MY(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new PY(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class PY extends Event{get detail(){return NY(this,p0,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),p0.set(this,void 0),RY(this,p0,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}p0=new WeakMap;function OY(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function LY(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const u=t.charAt(c),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=c}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let u=0,f=0,p=0;const m=c.length;for(;p!==m&&c[p]===0;)p++,u++;const v=(m-p)*i+1>>>0,g=new Uint8Array(v);for(;p!==m;){let _=c[p],x=0;for(let S=v-1;(_!==0||x<f)&&S!==-1;S--,x++)_+=256*g[S]>>>0,g[S]=_%n>>>0,_=_/n>>>0;if(_!==0)throw new Error("Non-zero carry");f=x,p++}let w=v-f;for(;w!==v&&g[w]===0;)w++;let b=r.repeat(u);for(;w<v;++w)b+=t.charAt(g[w]);return b}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let u=0,f=0,p=0;for(;c[u]===r;)f++,u++;const m=(c.length-u)*s+1>>>0,v=new Uint8Array(m);for(;u<c.length;){const _=c.charCodeAt(u);if(_>255)return;let x=e[_];if(x===255)return;let S=0;for(let D=m-1;(x!==0||S<p)&&D!==-1;D--,S++)x+=n*v[D]>>>0,v[D]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");p=S,u++}let g=m-p;for(;g!==m&&v[g]===0;)g++;const w=new Uint8Array(f+(m-g));let b=f;for(;g!==m;)w[b++]=v[g++];return w}function l(c){const u=a(c);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var DY="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const jY=LY(DY);var Ne=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Vn=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},fr,cs,ic,oc,Hl,Sf,Ny,xt,Ry,j_,m0,B_,$f,F_,dN,hN,fN,pN;class BY extends fD{get name(){return Ne(this,xt,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Ne(this,xt,"f").icon}get readyState(){return Ne(this,Ry,"f")}get publicKey(){return Ne(this,ic,"f")}get connecting(){return Ne(this,oc,"f")}get supportedTransactionVersions(){return Ne(this,Ny,"f")}get wallet(){return Ne(this,xt,"f")}get standard(){return!0}constructor({wallet:e}){super(),fr.add(this),cs.set(this,void 0),ic.set(this,void 0),oc.set(this,void 0),Hl.set(this,void 0),Sf.set(this,void 0),Ny.set(this,void 0),xt.set(this,void 0),Ry.set(this,typeof window>"u"||typeof document>"u"?ot.Unsupported:ot.Installed),F_.set(this,n=>{if("accounts"in n){const r=Ne(this,xt,"f").accounts[0];Ne(this,cs,"f")&&!Ne(this,Hl,"f")&&r!==Ne(this,cs,"f")&&(r?Ne(this,fr,"m",m0).call(this,r):(this.emit("error",new CT),Ne(this,fr,"m",B_).call(this)))}"features"in n&&Ne(this,fr,"m",$f).call(this)}),Vn(this,xt,e,"f"),Vn(this,cs,null,"f"),Vn(this,ic,null,"f"),Vn(this,oc,!1,"f"),Vn(this,Hl,!1,"f"),Vn(this,Sf,Ne(this,xt,"f").features[Jw].on("change",Ne(this,F_,"f")),"f"),Ne(this,fr,"m",$f).call(this)}destroy(){Vn(this,cs,null,"f"),Vn(this,ic,null,"f"),Vn(this,oc,!1,"f"),Vn(this,Hl,!1,"f");const e=Ne(this,Sf,"f");e&&(Vn(this,Sf,null,"f"),e())}async autoConnect(){return Ne(this,fr,"m",j_).call(this,{silent:!0})}async connect(){return Ne(this,fr,"m",j_).call(this)}async disconnect(){if(Ty in Ne(this,xt,"f").features)try{Vn(this,Hl,!0,"f"),await Ne(this,xt,"f").features[Ty].disconnect()}catch(e){this.emit("error",new kT(e==null?void 0:e.message,e))}finally{Vn(this,Hl,!1,"f")}Ne(this,fr,"m",B_).call(this)}async sendTransaction(e,n,r={}){try{const s=Ne(this,cs,"f");if(!s)throw new Ln;let i;if(Zr in Ne(this,xt,"f").features)if(s.features.includes(Zr))i=Zr;else if(yn in Ne(this,xt,"f").features&&s.features.includes(yn))i=yn;else throw new nc;else if(yn in Ne(this,xt,"f").features){if(!s.features.includes(yn))throw new nc;i=yn}else throw new ed;const o=oQ(n.rpcEndpoint);if(!s.chains.includes(o))throw new Mo;try{const{signers:a,...l}=r;let c;if(Po(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===Zr){const[u]=await Ne(this,xt,"f").features[Zr].signAndSendTransaction({account:s,chain:o,transaction:c,options:{preflightCommitment:ax(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return jY.encode(u.signature)}else{const[u]=await Ne(this,xt,"f").features[yn].signTransaction({account:s,chain:o,transaction:c,options:{preflightCommitment:ax(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(u.signedTransaction,{...l,preflightCommitment:ax(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof sr?a:new Mo(a==null?void 0:a.message,a)}}catch(s){throw this.emit("error",s),s}}}cs=new WeakMap,ic=new WeakMap,oc=new WeakMap,Hl=new WeakMap,Sf=new WeakMap,Ny=new WeakMap,xt=new WeakMap,Ry=new WeakMap,F_=new WeakMap,fr=new WeakSet,j_=async function(e){try{if(this.connected||this.connecting)return;if(Ne(this,Ry,"f")!==ot.Installed)throw new Lc;if(Vn(this,oc,!0,"f"),!Ne(this,xt,"f").accounts.length)try{await Ne(this,xt,"f").features[Zw].connect(e)}catch(r){throw new Dc(r==null?void 0:r.message,r)}const n=Ne(this,xt,"f").accounts[0];if(!n)throw new nc;Ne(this,fr,"m",m0).call(this,n)}catch(n){throw this.emit("error",n),n}finally{Vn(this,oc,!1,"f")}},m0=function(e){let n;try{n=new Le(e.address)}catch(r){throw new eh(r==null?void 0:r.message,r)}Vn(this,cs,e,"f"),Vn(this,ic,n,"f"),Ne(this,fr,"m",$f).call(this),this.emit("connect",n)},B_=function(){Vn(this,cs,null,"f"),Vn(this,ic,null,"f"),Ne(this,fr,"m",$f).call(this),this.emit("disconnect")},$f=function(){var n,r;const e=Zr in Ne(this,xt,"f").features?Ne(this,xt,"f").features[Zr].supportedTransactionVersions:Ne(this,xt,"f").features[yn].supportedTransactionVersions;Vn(this,Ny,OY(e,["legacy"])?null:new Set(e),"f"),yn in Ne(this,xt,"f").features&&((n=Ne(this,cs,"f"))!=null&&n.features.includes(yn))?(this.signTransaction=Ne(this,fr,"m",dN),this.signAllTransactions=Ne(this,fr,"m",hN)):(delete this.signTransaction,delete this.signAllTransactions),Ao in Ne(this,xt,"f").features&&((r=Ne(this,cs,"f"))!=null&&r.features.includes(Ao))?this.signMessage=Ne(this,fr,"m",fN):delete this.signMessage,_c in Ne(this,xt,"f").features?this.signIn=Ne(this,fr,"m",pN):delete this.signIn},dN=async function(e){try{const n=Ne(this,cs,"f");if(!n)throw new Ln;if(!(yn in Ne(this,xt,"f").features))throw new ed;if(!n.features.includes(yn))throw new nc;try{const s=(await Ne(this,xt,"f").features[yn].signTransaction({account:n,transaction:Po(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Po(e)?gl.deserialize(s):pi.from(s)}catch(r){throw r instanceof sr?r:new mi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},hN=async function(e){try{const n=Ne(this,cs,"f");if(!n)throw new Ln;if(!(yn in Ne(this,xt,"f").features))throw new ed;if(!n.features.includes(yn))throw new nc;try{const r=await Ne(this,xt,"f").features[yn].signTransaction(...e.map(s=>({account:n,transaction:Po(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((s,i)=>{const o=r[i].signedTransaction;return Po(s)?gl.deserialize(o):pi.from(o)})}catch(r){throw new mi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},fN=async function(e){try{const n=Ne(this,cs,"f");if(!n)throw new Ln;if(!(Ao in Ne(this,xt,"f").features))throw new ed;if(!n.features.includes(Ao))throw new nc;try{return(await Ne(this,xt,"f").features[Ao].signMessage({account:n,message:e}))[0].signature}catch(r){throw new Xw(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},pN=async function(e={}){try{if(!(_c in Ne(this,xt,"f").features))throw new ed;let n;try{[n]=await Ne(this,xt,"f").features[_c].signIn(e)}catch(r){throw new eN(r==null?void 0:r.message,r)}if(!n)throw new eN;return Ne(this,fr,"m",m0).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const FY=pG;var UY=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},VY=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},g0;let Es;const iv=new Set;function zY(t){Hf=void 0,iv.add(t)}function WY(t){Hf=void 0,iv.delete(t)}const td={};function $Y(){if(Es||(Es=Object.freeze({register:mN,get:HY,on:qY}),typeof window>"u"))return Es;const t=Object.freeze({register:mN});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new KY(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Es}function mN(...t){var e;return t=t.filter(n=>!iv.has(n)),t.length?(t.forEach(n=>zY(n)),(e=td.register)==null||e.forEach(n=>U_(()=>n(...t))),function(){var r;t.forEach(s=>WY(s)),(r=td.unregister)==null||r.forEach(s=>U_(()=>s(...t)))}):()=>{}}let Hf;function HY(){return Hf||(Hf=[...iv]),Hf}function qY(t,e){var n;return(n=td[t])!=null&&n.push(e)||(td[t]=[e]),function(){var s;td[t]=(s=td[t])==null?void 0:s.filter(i=>e!==i)}}function U_(t){try{t()}catch(e){console.error(e)}}class KY extends Event{get detail(){return UY(this,g0,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),g0.set(this,void 0),VY(this,g0,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}g0=new WeakMap;function GY(){if(Es||(Es=$Y(),typeof window>"u"))return Es;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),Es;const{register:e}=Es,n=(...r)=>r.forEach(s=>U_(()=>s({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),Es}return n(...t),Es}function QY(t){const e=gN(()=>new Set),{get:n,on:r}=gN(()=>GY()),[s,i]=N.useState(()=>yN(n()));N.useEffect(()=>{const a=[r("register",(...l)=>i(c=>[...c,...yN(l)])),r("unregister",(...l)=>i(c=>c.filter(u=>l.some(f=>f===u.wallet))))];return()=>a.forEach(l=>l())},[r]);const o=YY(s);return N.useEffect(()=>{if(!o)return;const a=new Set(s);new Set(o.filter(c=>!a.has(c))).forEach(c=>c.destroy())},[o,s]),N.useEffect(()=>()=>s.forEach(a=>a.destroy()),[]),N.useMemo(()=>[...s,...t.filter(({name:a})=>s.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[s,t,e])}function gN(t){const e=N.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function YY(t){const e=N.useRef(void 0);return N.useEffect(()=>{e.current=t}),e.current}function yN(t){return t.filter(FY).map(e=>new BY({wallet:e}))}var yd;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(yd||(yd={}));function XY(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function ZY({adapters:t,userAgentString:e}){return t.some(n=>n.name!==f0&&n.readyState===ot.Installed)?yd.DESKTOP_WEB:e&&/android/i.test(e)&&!XY(e)?yd.MOBILE_WEB:yd.DESKTOP_WEB}function JY(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function eX({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:i,onError:o,onSelectWallet:a}){const l=N.useRef(!1),[c,u]=N.useState(!1),f=N.useRef(!1),[p,m]=N.useState(!1),[v,g]=N.useState(()=>(n==null?void 0:n.publicKey)??null),[w,b]=N.useState(()=>(n==null?void 0:n.connected)??!1),_=N.useRef(o);N.useEffect(()=>(_.current=o,()=>{_.current=void 0}),[o]);const x=N.useRef((A,O)=>(r.current||(_.current?_.current(A,O):(console.error(A,O),A instanceof Lc&&typeof window<"u"&&O&&window.open(O.url,"_blank"))),A)),[S,D]=N.useState(()=>e.map(A=>({adapter:A,readyState:A.readyState})).filter(({readyState:A})=>A!==ot.Unsupported));N.useEffect(()=>{D(O=>e.map((z,L)=>{const j=O[L];return j&&j.adapter===z&&j.readyState===z.readyState?j:{adapter:z,readyState:z.readyState}}).filter(({readyState:z})=>z!==ot.Unsupported));function A(O){D(z=>{const L=z.findIndex(({adapter:H})=>H===this);if(L===-1)return z;const{adapter:j}=z[L];return[...z.slice(0,L),{adapter:j,readyState:O},...z.slice(L+1)].filter(({readyState:H})=>H!==ot.Unsupported)})}return e.forEach(O=>O.on("readyStateChange",A,O)),()=>{e.forEach(O=>O.off("readyStateChange",A,O))}},[n,e]);const F=N.useMemo(()=>S.find(A=>A.adapter===n)??null,[n,S]);N.useEffect(()=>{if(!n)return;const A=L=>{g(L),l.current=!1,u(!1),b(!0),f.current=!1,m(!1)},O=()=>{r.current||(g(null),l.current=!1,u(!1),b(!1),f.current=!1,m(!1))},z=L=>{x.current(L,n)};return n.on("connect",A),n.on("disconnect",O),n.on("error",z),()=>{n.off("connect",A),n.off("disconnect",O),n.off("error",z),O()}},[n,r]);const M=N.useRef(!1);N.useEffect(()=>()=>{M.current=!1},[n]),N.useEffect(()=>{M.current||l.current||w||!s||!((F==null?void 0:F.readyState)===ot.Installed||(F==null?void 0:F.readyState)===ot.Loadable)||(l.current=!0,u(!0),M.current=!0,async function(){try{await s()}catch{i()}finally{u(!1),l.current=!1}}())},[w,s,i,F]);const R=N.useCallback(async(A,O,z)=>{if(!n)throw x.current(new tN);if(!w)throw x.current(new Ln,n);return await n.sendTransaction(A,O,z)},[n,w]),U=N.useMemo(()=>n&&"signTransaction"in n?async A=>{if(!w)throw x.current(new Ln,n);return await n.signTransaction(A)}:void 0,[n,w]),W=N.useMemo(()=>n&&"signAllTransactions"in n?async A=>{if(!w)throw x.current(new Ln,n);return await n.signAllTransactions(A)}:void 0,[n,w]),$=N.useMemo(()=>n&&"signMessage"in n?async A=>{if(!w)throw x.current(new Ln,n);return await n.signMessage(A)}:void 0,[n,w]),q=N.useMemo(()=>n&&"signIn"in n?async A=>await n.signIn(A):void 0,[n]),C=N.useCallback(async()=>{if(l.current||f.current||F!=null&&F.adapter.connected)return;if(!F)throw x.current(new tN);const{adapter:A,readyState:O}=F;if(!(O===ot.Installed||O===ot.Loadable))throw x.current(new Lc,A);l.current=!0,u(!0);try{await A.connect()}catch(z){throw i(),z}finally{u(!1),l.current=!1}},[i,F]),y=N.useCallback(async()=>{if(!f.current&&n){f.current=!0,m(!0);try{await n.disconnect()}finally{m(!1),f.current=!1}}},[n]);return ce.createElement(mD.Provider,{value:{autoConnect:!!s,wallets:S,wallet:F,publicKey:v,connected:w,connecting:c,disconnecting:p,select:a,connect:C,disconnect:y,sendTransaction:R,signTransaction:U,signAllTransactions:W,signMessage:$,signIn:q}},t)}let mx;function tX(){var t;return mx===void 0&&(mx=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),mx}function wN(t){const e=tX();return ZY({adapters:t,userAgentString:e})===yd.MOBILE_WEB}function nX(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function rX({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:s}){const{connection:i}=hD(),o=QY(e),a=N.useMemo(()=>{if(!wN(o))return null;const _=o.find(x=>x.name===f0);return _||new TY({addressSelector:AY(),appIdentity:{uri:nX()},authorizationResultCache:IY(),cluster:JY(i==null?void 0:i.rpcEndpoint),onWalletNotFound:kY()})},[o,i==null?void 0:i.rpcEndpoint]),l=N.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[c,u]=gG(r,null),f=N.useMemo(()=>l.find(_=>_.name===c)??null,[l,c]),p=N.useCallback(_=>{c!==_&&(f&&f.name!==f0&&f.disconnect(),u(_))},[f,u,c]);N.useEffect(()=>{if(!f)return;function _(){g.current||u(null)}return f.on("disconnect",_),()=>{f.off("disconnect",_)}},[f,o,u,c]);const m=N.useRef(!1),v=N.useMemo(()=>{if(!(!n||!f))return async()=>{(n===!0||await n(f))&&(m.current?await f.connect():await f.autoConnect())}},[n,f]),g=N.useRef(!1);N.useEffect(()=>{if(c===f0&&wN(o)){g.current=!1;return}function _(){g.current=!0}return window.addEventListener("beforeunload",_),()=>{window.removeEventListener("beforeunload",_)}},[o,c]);const w=N.useCallback(()=>{f&&p(null)},[f,p]),b=N.useCallback(_=>{m.current=!0,p(_)},[p]);return ce.createElement(eX,{wallets:l,adapter:f,isUnloadingRef:g,onAutoConnectRequest:v,onConnectError:w,onError:s,onSelectWallet:b},t)}const qD={setVisible(t){console.error(KD("call","setVisible"))},visible:!1};Object.defineProperty(qD,"visible",{get(){return console.error(KD("read","visible")),!1}});function KD(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const GD=N.createContext(qD);function QD(){return N.useContext(GD)}function sX({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:s,disconnecting:i,publicKey:o,select:a,wallet:l,wallets:c}=um();let u;r?u="connecting":n?u="connected":i?u="disconnecting":l?u="has-wallet":u="no-wallet";const f=N.useCallback(()=>{e().catch(()=>{})},[e]),p=N.useCallback(()=>{s().catch(()=>{})},[s]),m=N.useCallback(()=>{t({onSelectWallet:a,wallets:c})},[t,a,c]);return{buttonState:u,onConnect:u==="has-wallet"?f:void 0,onDisconnect:u!=="disconnecting"&&u!=="no-wallet"?p:void 0,onSelectWallet:m,publicKey:o??void 0,walletIcon:l==null?void 0:l.adapter.icon,walletName:l==null?void 0:l.adapter.name}}const YD=t=>ce.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&ce.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&ce.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),XD=({wallet:t,...e})=>t&&ce.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function iX({walletIcon:t,walletName:e,...n}){return ce.createElement(YD,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?ce.createElement(XD,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function oX({children:t,labels:e,...n}){const{setVisible:r}=QD(),{buttonState:s,onConnect:i,onDisconnect:o,publicKey:a,walletIcon:l,walletName:c}=sX({onSelectWallet(){r(!0)}}),[u,f]=N.useState(!1),[p,m]=N.useState(!1),v=N.useRef(null);N.useEffect(()=>{const w=b=>{const _=v.current;!_||_.contains(b.target)||m(!1)};return document.addEventListener("mousedown",w),document.addEventListener("touchstart",w),()=>{document.removeEventListener("mousedown",w),document.removeEventListener("touchstart",w)}},[]);const g=N.useMemo(()=>{if(t)return t;if(a){const w=a.toBase58();return w.slice(0,4)+".."+w.slice(-4)}else return s==="connecting"||s==="has-wallet"?e[s]:e["no-wallet"]},[s,t,e,a]);return ce.createElement("div",{className:"wallet-adapter-dropdown"},ce.createElement(iX,{...n,"aria-expanded":p,style:{pointerEvents:p?"none":"auto",...n.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":i&&i();break;case"connected":m(!0);break}},walletIcon:l,walletName:c},g),ce.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${p&&"wallet-adapter-dropdown-list-active"}`,ref:v,role:"menu"},a?ce.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),f(!0),setTimeout(()=>f(!1),400)},role:"menuitem"},u?e.copied:e["copy-address"]):null,ce.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),m(!1)},role:"menuitem"},e["change-wallet"]),o?ce.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),m(!1)},role:"menuitem"},e.disconnect):null))}const vN=({id:t,children:e,expanded:n=!1})=>{const r=N.useRef(null),s=N.useRef(!0),i="height 250ms ease-out",o=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return N.useLayoutEffect(()=>{n?o():a()},[n]),N.useLayoutEffect(()=>{const l=r.current;if(!l)return;function c(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function u(f){l&&f.target===l&&f.propertyName==="height"&&c()}return s.current&&(c(),s.current=!1),l.addEventListener("transitionend",u),()=>l.removeEventListener("transitionend",u)},[n]),ce.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:s.current?void 0:i}},e)},gx=({handleClick:t,tabIndex:e,wallet:n})=>ce.createElement("li",null,ce.createElement(YD,{onClick:t,startIcon:ce.createElement(XD,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===ot.Installed&&ce.createElement("span",null,"Detected"))),aX=()=>ce.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ce.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),ce.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),ce.createElement("g",{clipPath:"url(#clip0_880_5115)"},ce.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),ce.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),ce.createElement("defs",null,ce.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},ce.createElement("stop",{stopColor:"#9945FF"}),ce.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ce.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ce.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ce.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ce.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ce.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},ce.createElement("stop",{stopColor:"#9945FF"}),ce.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ce.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ce.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ce.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ce.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ce.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},ce.createElement("stop",{stopColor:"#9945FF"}),ce.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ce.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ce.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ce.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ce.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ce.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},ce.createElement("stop",{stopColor:"#9945FF"}),ce.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ce.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ce.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ce.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ce.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ce.createElement("clipPath",{id:"clip0_880_5115"},ce.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),lX=({className:t="",container:e="body"})=>{const n=N.useRef(null),{wallets:r,select:s}=um(),{setVisible:i}=QD(),[o,a]=N.useState(!1),[l,c]=N.useState(!1),[u,f]=N.useState(null),[p,m]=N.useMemo(()=>{const x=[],S=[];for(const D of r)D.readyState===ot.Installed?x.push(D):S.push(D);return x.length?[x,S]:[S,[]]},[r]),v=N.useCallback(()=>{c(!1),setTimeout(()=>i(!1),150)},[i]),g=N.useCallback(x=>{x.preventDefault(),v()},[v]),w=N.useCallback((x,S)=>{s(S),g(x)},[s,g]),b=N.useCallback(()=>a(!o),[o]),_=N.useCallback(x=>{const S=n.current;if(!S)return;const D=S.querySelectorAll("button"),F=D[0],M=D[D.length-1];x.shiftKey?document.activeElement===F&&(M.focus(),x.preventDefault()):document.activeElement===M&&(F.focus(),x.preventDefault())},[n]);return N.useLayoutEffect(()=>{const x=D=>{D.key==="Escape"?v():D.key==="Tab"&&_(D)},{overflow:S}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",x,!1),()=>{document.body.style.overflow=S,window.removeEventListener("keydown",x,!1)}},[v,_]),N.useLayoutEffect(()=>f(document.querySelector(e)),[e]),u&&Il.createPortal(ce.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},ce.createElement("div",{className:"wallet-adapter-modal-container"},ce.createElement("div",{className:"wallet-adapter-modal-wrapper"},ce.createElement("button",{onClick:g,className:"wallet-adapter-modal-button-close"},ce.createElement("svg",{width:"14",height:"14"},ce.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),p.length?ce.createElement(ce.Fragment,null,ce.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),ce.createElement("ul",{className:"wallet-adapter-modal-list"},p.map(x=>ce.createElement(gx,{key:x.adapter.name,handleClick:S=>w(S,x.adapter.name),wallet:x})),m.length?ce.createElement(vN,{expanded:o,id:"wallet-adapter-modal-collapse"},m.map(x=>ce.createElement(gx,{key:x.adapter.name,handleClick:S=>w(S,x.adapter.name),tabIndex:o?0:-1,wallet:x}))):null),m.length?ce.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:b,tabIndex:0},ce.createElement("span",null,o?"Less ":"More ","options"),ce.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},ce.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):ce.createElement(ce.Fragment,null,ce.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),ce.createElement("div",{className:"wallet-adapter-modal-middle"},ce.createElement(aX,null)),m.length?ce.createElement(ce.Fragment,null,ce.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:b,tabIndex:0},ce.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),ce.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},ce.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),ce.createElement(vN,{expanded:o,id:"wallet-adapter-modal-collapse"},ce.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(x=>ce.createElement(gx,{key:x.adapter.name,handleClick:S=>w(S,x.adapter.name),tabIndex:o?0:-1,wallet:x}))))):null))),ce.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:g})),u)},cX=({children:t,...e})=>{const[n,r]=N.useState(!1);return ce.createElement(GD.Provider,{value:{visible:n,setVisible:r}},t,n&&ce.createElement(lX,{...e}))},uX={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function My(t){return ce.createElement(oX,{...t,labels:uX})}const dX="modulepreload",hX=function(t){return"/"+t},xN={},ZD=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=hX(l),l in xN)return;xN[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":dX,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},fX="Phantom";class pX extends NT{constructor(e={}){super(),this.name=fX,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?ot.Unsupported:ot.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new CT),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new Le(n.toBytes())}catch(s){this.emit("error",new eh(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==ot.Unsupported&&(g_()?(this._readyState=ot.Loadable,this.emit("readyStateChange",this._readyState)):pD(()=>{var n,r,s;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(s=window.solana)!=null&&s.isPhantom?(this._readyState=ot.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===ot.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===ot.Loadable){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${s}?ref=${i}`;return}if(this.readyState!==ot.Installed)throw new Lc;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(s){throw new Dc(s==null?void 0:s.message,s)}if(!n.publicKey)throw new nc;let r;try{r=new Le(n.publicKey.toBytes())}catch(s){throw new eh(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new kT(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new Ln;try{const{signers:i,...o}=r;Po(e)?i!=null&&i.length&&e.sign(i):(e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await s.signAndSendTransaction(e,o);return a}catch(i){throw i instanceof sr?i:new Mo(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Ln;try{return await n.signTransaction(e)||e}catch(r){throw new mi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Ln;try{return await n.signAllTransactions(e)||e}catch(r){throw new mi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Ln;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new Xw(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const mX="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var Nt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},gX=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},y0,ac,V_,z_,W_,Lr,$_,JD,ej,H_,q_,K_,G_,Q_;class yX{constructor(){y0.add(this),ac.set(this,{}),V_.set(this,"1.0.0"),z_.set(this,"MetaMask"),W_.set(this,mX),Lr.set(this,null),$_.set(this,(e,n)=>{var r;return(r=Nt(this,ac,"f")[e])!=null&&r.push(n)||(Nt(this,ac,"f")[e]=[n]),()=>Nt(this,y0,"m",ej).call(this,e,n)}),H_.set(this,async()=>{if(!Nt(this,Lr,"f")){let e;try{e=(await ZD(async()=>{const{default:n}=await import("./index-CTBwG1M6.js");return{default:n}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}gX(this,Lr,new e,"f"),Nt(this,Lr,"f").on("standard_change",n=>Nt(this,y0,"m",JD).call(this,"change",n))}return this.accounts.length||await Nt(this,Lr,"f").connect(),{accounts:this.accounts}}),q_.set(this,async()=>{Nt(this,Lr,"f")&&await Nt(this,Lr,"f").disconnect()}),K_.set(this,async(...e)=>{if(!Nt(this,Lr,"f"))throw new Ln;return await Nt(this,Lr,"f").standardSignAndSendTransaction(...e)}),G_.set(this,async(...e)=>{if(!Nt(this,Lr,"f"))throw new Ln;return await Nt(this,Lr,"f").standardSignTransaction(...e)}),Q_.set(this,async(...e)=>{if(!Nt(this,Lr,"f"))throw new Ln;return await Nt(this,Lr,"f").standardSignMessage(...e)})}get version(){return Nt(this,V_,"f")}get name(){return Nt(this,z_,"f")}get icon(){return Nt(this,W_,"f")}get chains(){return[Sp,MD,PD]}get features(){return{[Zw]:{version:"1.0.0",connect:Nt(this,H_,"f")},[Ty]:{version:"1.0.0",disconnect:Nt(this,q_,"f")},[Jw]:{version:"1.0.0",on:Nt(this,$_,"f")},[Zr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Nt(this,K_,"f")},[yn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Nt(this,G_,"f")},[Ao]:{version:"1.0.0",signMessage:Nt(this,Q_,"f")}}}get accounts(){return Nt(this,Lr,"f")?Nt(this,Lr,"f").standardAccounts:[]}}ac=new WeakMap,V_=new WeakMap,z_=new WeakMap,W_=new WeakMap,Lr=new WeakMap,$_=new WeakMap,H_=new WeakMap,q_=new WeakMap,K_=new WeakMap,G_=new WeakMap,Q_=new WeakMap,y0=new WeakSet,JD=function(e,...n){var r;(r=Nt(this,ac,"f")[e])==null||r.forEach(s=>s.apply(null,n))},ej=function(e,n){var r;Nt(this,ac,"f")[e]=(r=Nt(this,ac,"f")[e])==null?void 0:r.filter(s=>n!==s)};let bN=!1;function wX(){bN||(MY(new yX),bN=!0)}async function vX(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var i,o;const s=r.data;(s==null?void 0:s.target)==="metamask-inpage"&&((i=s.data)==null?void 0:i.name)==="metamask-provider"&&(((o=s.data.data)==null?void 0:o.id)===t?(window.removeEventListener("message",n),s.data.data.error||wX()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const xX="Solflare";class bX extends NT{constructor(e={}){super(),this.name=xX,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?ot.Unsupported:ot.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new CT),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new Le(n.toBytes())}catch(s){this.emit("error",new eh(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==ot.Unsupported&&(pD(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=ot.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),vX())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===ot.Loadable&&g_()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==ot.Loadable&&this._readyState!==ot.Installed)throw new Lc;if(this.readyState===ot.Loadable&&g_()){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${s}?ref=${i}`;return}let e;try{e=(await ZD(async()=>{const{default:s}=await import("./index-6DRQs3Kz.js");return{default:s}},[])).default}catch(s){throw new dG(s==null?void 0:s.message,s)}let n;try{n=new e({network:this._config.network})}catch(s){throw new ed(s==null?void 0:s.message,s)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(s){throw new Dc(s==null?void 0:s.message,s)}if(!n.publicKey)throw new Dc;let r;try{r=new Le(n.publicKey.toBytes())}catch(s){throw new eh(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new kT(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new Ln;try{const{signers:i,...o}=r;return Po(e)?i!=null&&i.length&&e.sign(i):(e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment,await s.signAndSendTransaction(e,o)}catch(i){throw i instanceof sr?i:new Mo(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Ln;try{return await n.signTransaction(e)||e}catch(r){throw new mi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Ln;try{return await n.signAllTransactions(e)||e}catch(r){throw new mi(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Ln;try{return await n.signMessage(e,"utf8")}catch(r){throw new Xw(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const _X=({children:t})=>{const e="mainnet-beta",n=N.useMemo(()=>{const s=cG(e);return console.log("[Wallet Context] Network:",e),console.log("[Wallet Context] RPC Endpoint:",s),s},[e]),r=N.useMemo(()=>[new pX,new bX],[]);return d.jsx(uG,{endpoint:n,children:d.jsx(rX,{wallets:r,autoConnect:!0,children:d.jsx(cX,{children:t})})})},EX=Jp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ov=N.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,role:"alert",className:We(EX({variant:e}),t),...n}));ov.displayName="Alert";const SX=N.forwardRef(({className:t,...e},n)=>d.jsx("h5",{ref:n,className:We("mb-1 font-medium leading-none tracking-tight",t),...e}));SX.displayName="AlertTitle";const av=N.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("text-sm [&_p]:leading-relaxed",t),...e}));av.displayName="AlertDescription";const TX=Jp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),sn=N.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?l9:"button";return d.jsx(o,{className:We(TX({variant:e,size:n,className:t})),ref:i,...s})});sn.displayName="Button";class _N extends N.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleRetry=()=>{this.setState({hasError:!1,error:void 0})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"flex items-center justify-center min-h-[200px] p-4",children:d.jsx("div",{className:"max-w-md w-full",children:d.jsx(ov,{variant:"destructive",children:d.jsx(av,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsx("p",{className:"font-semibold",children:"Something went wrong"}),d.jsx("p",{className:"text-sm",children:((e=this.state.error)==null?void 0:e.message)||"An unexpected error occurred"}),d.jsx(sn,{onClick:this.handleRetry,variant:"outline",size:"sm",className:"w-full",children:"Try again"})]})})})})}):this.props.children}}function tj(){const[t,e]=N.useState(!1),{connected:n}=um(),[r,s]=Qp(),i=a=>r===a,o=[{href:"/",label:"Home",icon:US},{href:"/campaigns",label:"Browse",icon:lk},{href:"/create-campaign",label:"Create",icon:il}];return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed top-0 left-0 right-0 h-20 bg-gray-900/30 backdrop-blur-xl border-b border-gray-800/50 z-40"}),d.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50",children:[d.jsx("nav",{className:"container mx-auto px-6",children:d.jsxs("div",{className:"flex justify-between items-center h-20",children:[d.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:()=>s("/"),children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-xl blur-lg"}),d.jsx("div",{className:"relative bg-gradient-to-r from-purple-600 to-pink-600 p-2 rounded-xl",children:d.jsx(Z4,{className:"h-6 w-6 text-white transition-transform group-hover:rotate-12"})})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-2xl font-black bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Wendex"}),d.jsx("span",{className:"text-xs text-purple-400 font-medium -mt-1",children:"CROWDFUNDING"})]})]}),d.jsx("div",{className:"hidden lg:flex items-center space-x-1",children:o.map(a=>{const l=a.icon;return d.jsxs("a",{href:a.href,className:`relative flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all duration-300 group ${i(a.href)?"text-white bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,onClick:c=>{c.preventDefault(),s(a.href)},children:[d.jsx(l,{className:"w-4 h-4"}),d.jsx("span",{children:a.label}),i(a.href)&&d.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-purple-400 rounded-full"})]},a.href)})}),d.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[d.jsxs("button",{className:"relative px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl overflow-hidden group transition-all duration-300 hover:shadow-2xl hover:shadow-purple-600/25 hover:scale-105",onClick:()=>s("/create-campaign"),children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-700 to-pink-700 opacity-0 group-hover:opacity-100 transition-opacity"}),d.jsxs("div",{className:"relative flex items-center space-x-2",children:[d.jsx(il,{className:"w-4 h-4"}),d.jsx("span",{children:"Launch Campaign"})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-xl blur-lg"}),d.jsx(My,{className:"relative !bg-gray-900/50 !border !border-gray-700 !text-white hover:!bg-gray-800/50 hover:!border-gray-600 !rounded-xl !font-medium !px-6 !py-3 !backdrop-blur-sm !transition-all"})]})]}),d.jsx("button",{className:"lg:hidden relative p-3 rounded-xl bg-gray-900/50 border border-gray-700 text-gray-300 hover:text-white hover:bg-gray-800/50 transition-all",onClick:()=>e(!t),children:t?d.jsx(WS,{className:"h-5 w-5"}):d.jsx(lk,{className:"h-5 w-5"})})]})}),t&&d.jsx("div",{className:"lg:hidden mt-2 mx-6 mb-6",children:d.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-xl border border-gray-800 rounded-2xl p-6 space-y-4",children:[o.map(a=>{const l=a.icon;return d.jsxs("a",{href:a.href,className:`flex items-center space-x-3 p-4 rounded-xl transition-all ${i(a.href)?"bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"}`,onClick:c=>{c.preventDefault(),s(a.href),e(!1)},children:[d.jsx(l,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:a.label})]},a.href)}),d.jsxs("div",{className:"pt-4 border-t border-gray-800 space-y-3",children:[d.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 p-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all",onClick:()=>{s("/create-campaign"),e(!1)},children:[d.jsx(il,{className:"w-5 h-5"}),d.jsx("span",{children:"Launch Campaign"})]}),d.jsx("div",{className:"px-2",children:d.jsx(My,{className:"!w-full !bg-gray-800/50 !border !border-gray-700 !text-white hover:!bg-gray-700/50 !rounded-xl !font-medium !px-6 !py-3"})})]})]})})]})]})}function nj(t,e){return function(){return t.apply(e,arguments)}}const{toString:AX}=Object.prototype,{getPrototypeOf:DT}=Object,{iterator:lv,toStringTag:rj}=Symbol,cv=(t=>e=>{const n=AX.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ai=t=>(t=t.toLowerCase(),e=>cv(e)===t),uv=t=>e=>typeof e===t,{isArray:Th}=Array,Tp=uv("undefined");function IX(t){return t!==null&&!Tp(t)&&t.constructor!==null&&!Tp(t.constructor)&&ys(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const sj=Ai("ArrayBuffer");function CX(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&sj(t.buffer),e}const kX=uv("string"),ys=uv("function"),ij=uv("number"),dv=t=>t!==null&&typeof t=="object",NX=t=>t===!0||t===!1,w0=t=>{if(cv(t)!=="object")return!1;const e=DT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(rj in t)&&!(lv in t)},RX=Ai("Date"),MX=Ai("File"),PX=Ai("Blob"),OX=Ai("FileList"),LX=t=>dv(t)&&ys(t.pipe),DX=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ys(t.append)&&((e=cv(t))==="formdata"||e==="object"&&ys(t.toString)&&t.toString()==="[object FormData]"))},jX=Ai("URLSearchParams"),[BX,FX,UX,VX]=["ReadableStream","Request","Response","Headers"].map(Ai),zX=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hm(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Th(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function oj(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const lc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,aj=t=>!Tp(t)&&t!==lc;function Y_(){const{caseless:t}=aj(this)&&this||{},e={},n=(r,s)=>{const i=t&&oj(e,s)||s;w0(e[i])&&w0(r)?e[i]=Y_(e[i],r):w0(r)?e[i]=Y_({},r):Th(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&hm(arguments[r],n);return e}const WX=(t,e,n,{allOwnKeys:r}={})=>(hm(e,(s,i)=>{n&&ys(s)?t[i]=nj(s,n):t[i]=s},{allOwnKeys:r}),t),$X=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),HX=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},qX=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&DT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},KX=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},GX=t=>{if(!t)return null;if(Th(t))return t;let e=t.length;if(!ij(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},QX=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&DT(Uint8Array)),YX=(t,e)=>{const r=(t&&t[lv]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},XX=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},ZX=Ai("HTMLFormElement"),JX=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),EN=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),eZ=Ai("RegExp"),lj=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};hm(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},tZ=t=>{lj(t,(e,n)=>{if(ys(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ys(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},nZ=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Th(t)?r(t):r(String(t).split(e)),n},rZ=()=>{},sZ=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function iZ(t){return!!(t&&ys(t.append)&&t[rj]==="FormData"&&t[lv])}const oZ=t=>{const e=new Array(10),n=(r,s)=>{if(dv(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Th(r)?[]:{};return hm(r,(o,a)=>{const l=n(o,s+1);!Tp(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},aZ=Ai("AsyncFunction"),lZ=t=>t&&(dv(t)||ys(t))&&ys(t.then)&&ys(t.catch),cj=((t,e)=>t?setImmediate:e?((n,r)=>(lc.addEventListener("message",({source:s,data:i})=>{s===lc&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),lc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ys(lc.postMessage)),cZ=typeof queueMicrotask<"u"?queueMicrotask.bind(lc):typeof process<"u"&&process.nextTick||cj,uZ=t=>t!=null&&ys(t[lv]),re={isArray:Th,isArrayBuffer:sj,isBuffer:IX,isFormData:DX,isArrayBufferView:CX,isString:kX,isNumber:ij,isBoolean:NX,isObject:dv,isPlainObject:w0,isReadableStream:BX,isRequest:FX,isResponse:UX,isHeaders:VX,isUndefined:Tp,isDate:RX,isFile:MX,isBlob:PX,isRegExp:eZ,isFunction:ys,isStream:LX,isURLSearchParams:jX,isTypedArray:QX,isFileList:OX,forEach:hm,merge:Y_,extend:WX,trim:zX,stripBOM:$X,inherits:HX,toFlatObject:qX,kindOf:cv,kindOfTest:Ai,endsWith:KX,toArray:GX,forEachEntry:YX,matchAll:XX,isHTMLForm:ZX,hasOwnProperty:EN,hasOwnProp:EN,reduceDescriptors:lj,freezeMethods:tZ,toObjectSet:nZ,toCamelCase:JX,noop:rZ,toFiniteNumber:sZ,findKey:oj,global:lc,isContextDefined:aj,isSpecCompliantForm:iZ,toJSONObject:oZ,isAsyncFn:aZ,isThenable:lZ,setImmediate:cj,asap:cZ,isIterable:uZ};function tt(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}re.inherits(tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const uj=tt.prototype,dj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dj[t]={value:t}});Object.defineProperties(tt,dj);Object.defineProperty(uj,"isAxiosError",{value:!0});tt.from=(t,e,n,r,s,i)=>{const o=Object.create(uj);return re.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),tt.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const dZ=null;function X_(t){return re.isPlainObject(t)||re.isArray(t)}function hj(t){return re.endsWith(t,"[]")?t.slice(0,-2):t}function SN(t,e,n){return t?t.concat(e).map(function(s,i){return s=hj(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function hZ(t){return re.isArray(t)&&!t.some(X_)}const fZ=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function hv(t,e,n){if(!re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=re.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!re.isUndefined(w[g])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(s))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(re.isDate(v))return v.toISOString();if(!l&&re.isBlob(v))throw new tt("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(v)||re.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,g,w){let b=v;if(v&&!w&&typeof v=="object"){if(re.endsWith(g,"{}"))g=r?g:g.slice(0,-2),v=JSON.stringify(v);else if(re.isArray(v)&&hZ(v)||(re.isFileList(v)||re.endsWith(g,"[]"))&&(b=re.toArray(v)))return g=hj(g),b.forEach(function(x,S){!(re.isUndefined(x)||x===null)&&e.append(o===!0?SN([g],S,i):o===null?g:g+"[]",c(x))}),!1}return X_(v)?!0:(e.append(SN(w,g,i),c(v)),!1)}const f=[],p=Object.assign(fZ,{defaultVisitor:u,convertValue:c,isVisitable:X_});function m(v,g){if(!re.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(v),re.forEach(v,function(b,_){(!(re.isUndefined(b)||b===null)&&s.call(e,b,re.isString(_)?_.trim():_,g,p))===!0&&m(b,g?g.concat(_):[_])}),f.pop()}}if(!re.isObject(t))throw new TypeError("data must be an object");return m(t),e}function TN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jT(t,e){this._pairs=[],t&&hv(t,this,e)}const fj=jT.prototype;fj.append=function(e,n){this._pairs.push([e,n])};fj.toString=function(e){const n=e?function(r){return e.call(this,r,TN)}:TN;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function pZ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pj(t,e,n){if(!e)return t;const r=n&&n.encode||pZ;re.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=re.isURLSearchParams(e)?e.toString():new jT(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class AN{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const mj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mZ=typeof URLSearchParams<"u"?URLSearchParams:jT,gZ=typeof FormData<"u"?FormData:null,yZ=typeof Blob<"u"?Blob:null,wZ={isBrowser:!0,classes:{URLSearchParams:mZ,FormData:gZ,Blob:yZ},protocols:["http","https","file","blob","url","data"]},BT=typeof window<"u"&&typeof document<"u",Z_=typeof navigator=="object"&&navigator||void 0,vZ=BT&&(!Z_||["ReactNative","NativeScript","NS"].indexOf(Z_.product)<0),xZ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bZ=BT&&window.location.href||"http://localhost",_Z=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:BT,hasStandardBrowserEnv:vZ,hasStandardBrowserWebWorkerEnv:xZ,navigator:Z_,origin:bZ},Symbol.toStringTag,{value:"Module"})),Vr={..._Z,...wZ};function EZ(t,e){return hv(t,new Vr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Vr.isNode&&re.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function SZ(t){return re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function TZ(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function gj(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&re.isArray(s)?s.length:o,l?(re.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!re.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&re.isArray(s[o])&&(s[o]=TZ(s[o])),!a)}if(re.isFormData(t)&&re.isFunction(t.entries)){const n={};return re.forEachEntry(t,(r,s)=>{e(SZ(r),s,n,0)}),n}return null}function AZ(t,e,n){if(re.isString(t))try{return(e||JSON.parse)(t),re.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const fm={transitional:mj,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=re.isObject(e);if(i&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return s?JSON.stringify(gj(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return EZ(e,this.formSerializer).toString();if((a=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return hv(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),AZ(e)):e}],transformResponse:[function(e){const n=this.transitional||fm.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?tt.from(a,tt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vr.classes.FormData,Blob:Vr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],t=>{fm.headers[t]={}});const IZ=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),CZ=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&IZ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},IN=Symbol("internals");function rf(t){return t&&String(t).trim().toLowerCase()}function v0(t){return t===!1||t==null?t:re.isArray(t)?t.map(v0):String(t)}function kZ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const NZ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function yx(t,e,n,r,s){if(re.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function RZ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function MZ(t,e){const n=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let ws=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const u=rf(l);if(!u)throw new Error("header name must be a non-empty string");const f=re.findKey(s,u);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||l]=v0(a))}const o=(a,l)=>re.forEach(a,(c,u)=>i(c,u,l));if(re.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(re.isString(e)&&(e=e.trim())&&!NZ(e))o(CZ(e),n);else if(re.isObject(e)&&re.isIterable(e)){let a={},l,c;for(const u of e){if(!re.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?re.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=rf(e),e){const r=re.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return kZ(s);if(re.isFunction(n))return n.call(this,s,r);if(re.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=rf(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||yx(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=rf(o),o){const a=re.findKey(r,o);a&&(!n||yx(r,r[a],a,n))&&(delete r[a],s=!0)}}return re.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||yx(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return re.forEach(this,(s,i)=>{const o=re.findKey(r,i);if(o){n[o]=v0(s),delete n[i];return}const a=e?RZ(i):String(i).trim();a!==i&&delete n[i],n[a]=v0(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return re.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&re.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[IN]=this[IN]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=rf(o);r[a]||(MZ(s,o),r[a]=!0)}return re.isArray(e)?e.forEach(i):i(e),this}};ws.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(ws.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});re.freezeMethods(ws);function wx(t,e){const n=this||fm,r=e||n,s=ws.from(r.headers);let i=r.data;return re.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function yj(t){return!!(t&&t.__CANCEL__)}function Ah(t,e,n){tt.call(this,t??"canceled",tt.ERR_CANCELED,e,n),this.name="CanceledError"}re.inherits(Ah,tt,{__CANCEL__:!0});function wj(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new tt("Request failed with status code "+n.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function PZ(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function OZ(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[s]=l,r[s]=c;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const m=u&&c-u;return m?Math.round(p*1e3/m):void 0}}function LZ(t,e){let n=0,r=1e3/e,s,i;const o=(c,u=Date.now())=>{n=u,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?o(c,u):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const Py=(t,e,n=3)=>{let r=0;const s=OZ(50,250);return LZ(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),u=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},CN=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},kN=t=>(...e)=>re.asap(()=>t(...e)),DZ=Vr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Vr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Vr.origin),Vr.navigator&&/(msie|trident)/i.test(Vr.navigator.userAgent)):()=>!0,jZ=Vr.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];re.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),re.isString(r)&&o.push("path="+r),re.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function BZ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function FZ(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function vj(t,e,n){let r=!BZ(e);return t&&(r||n==!1)?FZ(t,e):e}const NN=t=>t instanceof ws?{...t}:t;function jc(t,e){e=e||{};const n={};function r(c,u,f,p){return re.isPlainObject(c)&&re.isPlainObject(u)?re.merge.call({caseless:p},c,u):re.isPlainObject(u)?re.merge({},u):re.isArray(u)?u.slice():u}function s(c,u,f,p){if(re.isUndefined(u)){if(!re.isUndefined(c))return r(void 0,c,f,p)}else return r(c,u,f,p)}function i(c,u){if(!re.isUndefined(u))return r(void 0,u)}function o(c,u){if(re.isUndefined(u)){if(!re.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,f)=>s(NN(c),NN(u),f,!0)};return re.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=l[u]||s,p=f(t[u],e[u],u);re.isUndefined(p)&&f!==a||(n[u]=p)}),n}const xj=t=>{const e=jc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=ws.from(o),e.url=pj(vj(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(re.isFormData(n)){if(Vr.hasStandardBrowserEnv||Vr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Vr.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&DZ(e.url))){const c=s&&i&&jZ.read(i);c&&o.set(s,c)}return e},UZ=typeof XMLHttpRequest<"u",VZ=UZ&&function(t){return new Promise(function(n,r){const s=xj(t);let i=s.data;const o=ws.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,f,p,m,v;function g(){m&&m(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function b(){if(!w)return;const x=ws.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:x,config:t,request:w};wj(function(M){n(M),g()},function(M){r(M),g()},D),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(r(new tt("Request aborted",tt.ECONNABORTED,t,w)),w=null)},w.onerror=function(){r(new tt("Network Error",tt.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const D=s.transitional||mj;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new tt(S,D.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,t,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&re.forEach(o.toJSON(),function(S,D){w.setRequestHeader(D,S)}),re.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),a&&a!=="json"&&(w.responseType=s.responseType),c&&([p,v]=Py(c,!0),w.addEventListener("progress",p)),l&&w.upload&&([f,m]=Py(l),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(u=x=>{w&&(r(!x||x.type?new Ah(null,t,w):x),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const _=PZ(s.url);if(_&&Vr.protocols.indexOf(_)===-1){r(new tt("Unsupported protocol "+_+":",tt.ERR_BAD_REQUEST,t));return}w.send(i||null)})},zZ=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof tt?u:new Ah(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new tt(`timeout ${e} of ms exceeded`,tt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>re.asap(a),l}},WZ=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},$Z=async function*(t,e){for await(const n of HZ(t))yield*WZ(n,e)},HZ=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},RN=(t,e,n,r)=>{const s=$Z(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){a(),l.close();return}let f=u.byteLength;if(n){let p=i+=f;n(p)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},fv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",bj=fv&&typeof ReadableStream=="function",qZ=fv&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),_j=(t,...e)=>{try{return!!t(...e)}catch{return!1}},KZ=bj&&_j(()=>{let t=!1;const e=new Request(Vr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),MN=64*1024,J_=bj&&_j(()=>re.isReadableStream(new Response("").body)),Oy={stream:J_&&(t=>t.body)};fv&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Oy[e]&&(Oy[e]=re.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new tt(`Response type '${e}' is not supported`,tt.ERR_NOT_SUPPORT,r)})})})(new Response);const GZ=async t=>{if(t==null)return 0;if(re.isBlob(t))return t.size;if(re.isSpecCompliantForm(t))return(await new Request(Vr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(re.isArrayBufferView(t)||re.isArrayBuffer(t))return t.byteLength;if(re.isURLSearchParams(t)&&(t=t+""),re.isString(t))return(await qZ(t)).byteLength},QZ=async(t,e)=>{const n=re.toFiniteNumber(t.getContentLength());return n??GZ(e)},YZ=fv&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:p}=xj(t);c=c?(c+"").toLowerCase():"text";let m=zZ([s,i&&i.toAbortSignal()],o),v;const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let w;try{if(l&&KZ&&n!=="get"&&n!=="head"&&(w=await QZ(u,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),F;if(re.isFormData(r)&&(F=D.headers.get("content-type"))&&u.setContentType(F),D.body){const[M,R]=CN(w,Py(kN(l)));r=RN(D.body,MN,M,R)}}re.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;v=new Request(e,{...p,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:b?f:void 0});let _=await fetch(v);const x=J_&&(c==="stream"||c==="response");if(J_&&(a||x&&g)){const D={};["status","statusText","headers"].forEach(U=>{D[U]=_[U]});const F=re.toFiniteNumber(_.headers.get("content-length")),[M,R]=a&&CN(F,Py(kN(a),!0))||[];_=new Response(RN(_.body,MN,M,()=>{R&&R(),g&&g()}),D)}c=c||"text";let S=await Oy[re.findKey(Oy,c)||"text"](_,t);return!x&&g&&g(),await new Promise((D,F)=>{wj(D,F,{data:S,headers:ws.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:v})})}catch(b){throw g&&g(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new tt("Network Error",tt.ERR_NETWORK,t,v),{cause:b.cause||b}):tt.from(b,b&&b.code,t,v)}}),eE={http:dZ,xhr:VZ,fetch:YZ};re.forEach(eE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const PN=t=>`- ${t}`,XZ=t=>re.isFunction(t)||t===null||t===!1,Ej={getAdapter:t=>{t=re.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!XZ(n)&&(r=eE[(o=String(n)).toLowerCase()],r===void 0))throw new tt(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(PN).join(`
`):" "+PN(i[0]):"as no adapter specified";throw new tt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:eE};function vx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ah(null,t)}function ON(t){return vx(t),t.headers=ws.from(t.headers),t.data=wx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ej.getAdapter(t.adapter||fm.adapter)(t).then(function(r){return vx(t),r.data=wx.call(t,t.transformResponse,r),r.headers=ws.from(r.headers),r},function(r){return yj(r)||(vx(t),r&&r.response&&(r.response.data=wx.call(t,t.transformResponse,r.response),r.response.headers=ws.from(r.response.headers))),Promise.reject(r)})}const Sj="1.9.0",pv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const LN={};pv.transitional=function(e,n,r){function s(i,o){return"[Axios v"+Sj+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new tt(s(o," has been removed"+(n?" in "+n:"")),tt.ERR_DEPRECATED);return n&&!LN[o]&&(LN[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};pv.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function ZZ(t,e,n){if(typeof t!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new tt("option "+i+" must be "+l,tt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new tt("Unknown option "+i,tt.ERR_BAD_OPTION)}}const x0={assertOptions:ZZ,validators:pv},Ri=x0.validators;let Ec=class{constructor(e){this.defaults=e||{},this.interceptors={request:new AN,response:new AN}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=jc(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&x0.assertOptions(r,{silentJSONParsing:Ri.transitional(Ri.boolean),forcedJSONParsing:Ri.transitional(Ri.boolean),clarifyTimeoutError:Ri.transitional(Ri.boolean)},!1),s!=null&&(re.isFunction(s)?n.paramsSerializer={serialize:s}:x0.assertOptions(s,{encode:Ri.function,serialize:Ri.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),x0.assertOptions(n,{baseUrl:Ri.spelling("baseURL"),withXsrfToken:Ri.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&re.merge(i.common,i[n.method]);i&&re.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=ws.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,f=0,p;if(!l){const v=[ON.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,c),p=v.length,u=Promise.resolve(n);f<p;)u=u.then(v[f++],v[f++]);return u}p=a.length;let m=n;for(f=0;f<p;){const v=a[f++],g=a[f++];try{m=v(m)}catch(w){g.call(this,w);break}}try{u=ON.call(this,m)}catch(v){return Promise.reject(v)}for(f=0,p=c.length;f<p;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=jc(this.defaults,e);const n=vj(e.baseURL,e.url,e.allowAbsoluteUrls);return pj(n,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){Ec.prototype[e]=function(n,r){return this.request(jc(r||{},{method:e,url:n,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(jc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ec.prototype[e]=n(),Ec.prototype[e+"Form"]=n(!0)});let JZ=class Tj{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Ah(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Tj(function(s){e=s}),cancel:e}}};function eJ(t){return function(n){return t.apply(null,n)}}function tJ(t){return re.isObject(t)&&t.isAxiosError===!0}const tE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tE).forEach(([t,e])=>{tE[e]=t});function Aj(t){const e=new Ec(t),n=nj(Ec.prototype.request,e);return re.extend(n,Ec.prototype,e,{allOwnKeys:!0}),re.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Aj(jc(t,s))},n}const lt=Aj(fm);lt.Axios=Ec;lt.CanceledError=Ah;lt.CancelToken=JZ;lt.isCancel=yj;lt.VERSION=Sj;lt.toFormData=hv;lt.AxiosError=tt;lt.Cancel=lt.CanceledError;lt.all=function(e){return Promise.all(e)};lt.spread=eJ;lt.isAxiosError=tJ;lt.mergeConfig=jc;lt.AxiosHeaders=ws;lt.formToJSON=t=>gj(re.isHTMLForm(t)?new FormData(t):t);lt.getAdapter=Ej.getAdapter;lt.HttpStatusCode=tE;lt.default=lt;const{Axios:jue,AxiosError:Bue,CanceledError:Fue,isCancel:Uue,CancelToken:Vue,VERSION:zue,all:Wue,Cancel:$ue,isAxiosError:Hue,spread:que,toFormData:Kue,AxiosHeaders:Gue,HttpStatusCode:Que,formToJSON:Yue,getAdapter:Xue,mergeConfig:Zue}=lt,nJ="/api",sf=lt.create({baseURL:nJ,headers:{"Content-Type":"application/json"}}),xx=t=>{var e,n,r,s,i,o,a,l,c,u;return{...t,id:t.id,tokenMetadata:{name:((e=t.tokenMetadata)==null?void 0:e.name)||t.tokenName||"Unknown Token",symbol:((n=t.tokenMetadata)==null?void 0:n.symbol)||t.tokenSymbol||"UNKNOWN",description:((r=t.tokenMetadata)==null?void 0:r.description)||t.description||"",image:((s=t.tokenMetadata)==null?void 0:s.image)||t.logoUrl||"",verified:((i=t.tokenMetadata)==null?void 0:i.verified)||!1},logoUrl:t.logoUrl||((o=t.tokenMetadata)==null?void 0:o.image)||"/placeholder-token.png",tokenLogoUrl:t.tokenLogoUrl||t.logoUrl||((a=t.tokenMetadata)==null?void 0:a.image)||"/placeholder-token.png",bannerUrl:t.bannerUrl||"/placeholder-banner.jpg",contractAddress:t.contractAddress||t.tokenAddress,tokenAddress:t.contractAddress||t.tokenAddress,creatorAddress:t.createdBy||t.creatorAddress,contributorCount:t.contributorCount||0,socialLinks:t.socialLinks||{},postFundingAction:t.postFundingAction||{type:"none"},trending:t.trending||!1,featured:t.featured||!1,createdAt:(l=t.createdAt)!=null&&l._seconds?new Date(t.createdAt._seconds*1e3):new Date(t.createdAt),updatedAt:(c=t.updatedAt)!=null&&c._seconds?new Date(t.updatedAt._seconds*1e3):new Date(t.updatedAt),deadline:(u=t.deadline)!=null&&u._seconds?new Date(t.deadline._seconds*1e3):new Date(t.deadline)}},ih={create:async t=>{const e=await sf.post("/campaigns",t);return e.data.success&&e.data.campaign&&(e.data.campaign=xx(e.data.campaign)),e.data},list:async t=>{const e=await sf.get("/campaigns",{params:t});return e.data.success&&e.data.campaigns&&(e.data.campaigns=e.data.campaigns.map(xx)),e.data},get:async t=>{const e=await sf.get(`/campaigns/${t}`);return e.data.success&&e.data.campaign&&(e.data.campaign=xx(e.data.campaign)),e.data},getContributions:async t=>(await sf.get(`/campaigns/${t}/contributions`)).data,contribute:async(t,e)=>(await sf.post(`/campaigns/${t}/contribute`,e)).data};function rJ(){var i,o;const[,t]=Qp(),{data:e}=_o({queryKey:["campaigns-stats"],queryFn:()=>ih.list({status:"active"})}),n=((i=e==null?void 0:e.campaigns)==null?void 0:i.length)||0,r=((o=e==null?void 0:e.campaigns)==null?void 0:o.reduce((a,l)=>a+l.currentAmount,0))||0,s=[{label:"Active Campaigns",value:n.toString(),icon:zS},{label:"Total Raised",value:r>0?`$${(r/1e3).toFixed(1)}K`:"$0",icon:VS},{label:"Contributors",value:"0",icon:Pw}];return d.jsxs("section",{className:"relative overflow-hidden bg-dark-radial min-h-screen flex items-center pt-20 pb-20",children:[d.jsx("div",{className:"absolute inset-0 grid-pattern opacity-10"}),d.jsx("div",{className:"absolute top-20 left-1/4 w-72 h-72 bg-purple-600/15 rounded-full blur-3xl"}),d.jsx("div",{className:"absolute bottom-20 right-1/4 w-72 h-72 bg-pink-600/15 rounded-full blur-3xl"}),d.jsx("div",{className:"container mx-auto px-6 relative z-10 max-w-7xl",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[d.jsxs("div",{className:"space-y-10",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"inline-flex items-center px-5 py-3 rounded-full bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30 text-purple-300 text-sm font-medium backdrop-blur-sm",children:[d.jsx(il,{className:"w-4 h-4 mr-2"}),"Community Crowdfunding Platform"]}),d.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-black leading-tight",children:[d.jsx("span",{className:"block text-white mb-2",children:"Fund Your Token's"}),d.jsx("span",{className:"block animated-gradient bg-clip-text text-transparent",children:"DexScreener Success"})]}),d.jsx("p",{className:"text-xl md:text-2xl text-gray-400 leading-relaxed max-w-xl",children:"Join the decentralized crowdfunding platform that helps Solana tokens get Enhanced Info, advertising, and boosts on DexScreener through community support."})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[d.jsxs("button",{className:"btn-dark-primary group text-lg px-8 py-4",onClick:()=>t("/campaigns"),children:["Browse Campaigns",d.jsx(Q4,{className:"ml-3 h-6 w-6 inline transition-transform group-hover:translate-x-2"})]}),d.jsx("button",{className:"btn-dark-secondary text-lg px-8 py-4",onClick:()=>t("/create-campaign"),children:"Start a Campaign"})]}),d.jsx("div",{className:"grid grid-cols-3 gap-8 pt-12 mt-12 border-t border-gray-800",children:s.map(a=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:a.value}),d.jsx("div",{className:"text-base text-gray-400",children:a.label})]},a.label))})]}),d.jsx("div",{className:"relative lg:ml-16 mt-12 lg:mt-0",children:d.jsxs("div",{className:"relative max-w-lg mx-auto",children:[d.jsx("div",{className:"absolute -top-8 -left-8 card-dark p-6 hover-lift-dark z-20",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-600/20 to-emerald-600/20 flex items-center justify-center backdrop-blur-sm",children:d.jsx(em,{className:"w-6 h-6 text-green-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-base font-semibold text-white",children:"Enhanced Info"}),d.jsx("p",{className:"text-sm text-gray-400",children:"$299 Target"})]})]})}),d.jsx("div",{className:"absolute -bottom-8 -right-8 card-dark p-6 hover-lift-dark z-20",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600/20 to-pink-600/20 flex items-center justify-center backdrop-blur-sm",children:d.jsx(Y4,{className:"w-6 h-6 text-purple-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-base font-semibold text-white",children:"Token Boosted"}),d.jsx("p",{className:"text-sm text-gray-400",children:"+450% Visibility"})]})]})}),d.jsx("div",{className:"card-dark p-10 glow-purple relative z-10",children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-white",children:"Example Campaign"}),d.jsx("p",{className:"text-base text-gray-400 mt-1",children:"Enhanced Token Info"})]}),d.jsx("div",{className:"badge-dark badge-dark-active px-4 py-2",children:"Active"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between text-base",children:[d.jsx("span",{className:"text-gray-400",children:"Progress"}),d.jsx("span",{className:"font-bold text-white text-xl",children:"$0 / $299"})]}),d.jsx("div",{className:"progress-dark",children:d.jsx("div",{className:"progress-dark-bar",style:{width:"0%"}})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-6 border-t border-gray-800",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"0"}),d.jsx("p",{className:"text-base text-gray-400 mt-2",children:"Contributors"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"30d"}),d.jsx("p",{className:"text-base text-gray-400 mt-2",children:"Time Left"})]})]}),d.jsx("button",{className:"w-full btn-dark-primary text-lg py-4 mt-8",children:"View Campaign"})]})})]})})]})})]})}const sJ=[{icon:zS,title:"Enhanced Token Info",description:"Get your token verified with enhanced information on DexScreener for increased visibility and trust.",gradient:"from-purple-500 to-indigo-600"},{icon:il,title:"Token Boosts",description:"Boost your token's ranking on DexScreener to reach more traders and increase exposure.",gradient:"from-yellow-500 to-orange-600"},{icon:em,title:"Secure Escrow",description:"All funds are held in secure escrow wallets until campaign goals are met, ensuring transparency.",gradient:"from-green-500 to-emerald-600"},{icon:Pw,title:"Community Powered",description:"Rally your community to crowdfund DexScreener services together, making premium features accessible.",gradient:"from-blue-500 to-cyan-600"},{icon:nz,title:"Real-time Tracking",description:"Monitor campaign progress in real-time with transparent contribution tracking and updates.",gradient:"from-pink-500 to-rose-600"},{icon:Z4,title:"Instant Activation",description:"Services are automatically purchased and activated once funding goals are reached.",gradient:"from-indigo-500 to-purple-600"}];function iJ(){return d.jsx("section",{className:"py-24 bg-dark-gradient",children:d.jsxs("div",{className:"container mx-auto px-6",children:[d.jsxs("div",{className:"text-center space-y-6 mb-20",children:[d.jsxs("h2",{className:"heading-dark-1",children:["Everything You Need to",d.jsx("span",{className:"block bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Boost Your Token"})]}),d.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto leading-relaxed",children:"Leverage the power of community crowdfunding to unlock premium DexScreener features for your token"})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:sJ.map((t,e)=>{const n=t.icon;return d.jsx("div",{className:"card-dark hover:scale-105 transition-all duration-300 group",children:d.jsxs("div",{className:"p-8 space-y-6",children:[d.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-r ${t.gradient} flex items-center justify-center shadow-lg`,children:d.jsx(n,{className:"w-8 h-8 text-white"})}),d.jsx("h3",{className:"text-2xl font-bold text-white group-hover:text-purple-300 transition-colors",children:t.title}),d.jsx("p",{className:"text-gray-400 leading-relaxed text-lg",children:t.description})]})},e)})})]})})}function oJ(){const t=()=>{console.log("Get started clicked")},e=()=>{console.log("Learn more clicked")};return d.jsx("section",{className:"py-20 bg-dark-gradient",children:d.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:d.jsxs("div",{className:"space-y-8",children:[d.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white",children:"Ready to Transform DeFi Funding?"}),d.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Join thousands of innovators and investors building the future of decentralized finance through our crowdfunding platform."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsxs("button",{onClick:t,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl font-semibold hover:from-purple-700 hover:to-indigo-700 transition-all duration-200 shadow-xl flex items-center justify-center",children:[d.jsx(Q4,{className:"mr-2",size:18}),"Get Started Today"]}),d.jsxs("button",{onClick:e,className:"px-8 py-4 border-2 border-purple-500 text-purple-400 rounded-xl font-semibold hover:bg-purple-500 hover:text-white transition-all duration-200 flex items-center justify-center",children:[d.jsx(tz,{className:"mr-2",size:18}),"Learn More"]})]})]})})})}var Ij={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},DN=ce.createContext&&ce.createContext(Ij),aJ=["attr","size","title"];function lJ(t,e){if(t==null)return{};var n=cJ(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ly.apply(this,arguments)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Dy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){uJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uJ(t,e,n){return e=dJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dJ(t){var e=hJ(t,"string");return typeof e=="symbol"?e:e+""}function hJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cj(t){return t&&t.map((e,n)=>ce.createElement(e.tag,Dy({key:n},e.attr),Cj(e.child)))}function mv(t){return e=>ce.createElement(fJ,Ly({attr:Dy({},t.attr)},e),Cj(t.child))}function fJ(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=lJ(t,aJ),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ce.createElement("svg",Ly({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Dy(Dy({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&ce.createElement("title",null,i),t.children)};return DN!==void 0?ce.createElement(DN.Consumer,null,n=>e(n)):e(Ij)}function pJ(t){return mv({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(t)}function mJ(t){return mv({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function gJ(t){return mv({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(t)}function yJ(t){return mv({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function kj(){return d.jsx("footer",{className:"bg-gray-800 text-white py-16",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-crypto rounded-lg flex items-center justify-center",children:d.jsx(US,{className:"text-white text-sm",size:16})}),d.jsx("span",{className:"text-xl font-bold",children:"Wendex"})]}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"The leading DexScreener-integrated crowdfunding platform for innovative DeFi projects and their supporters."}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(yJ,{size:20})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(pJ,{size:20})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(gJ,{size:20})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(mJ,{size:20})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Platform"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Browse Projects"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Submit Project"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Analytics"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Governance"})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Resources"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Documentation"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"API Reference"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Smart Contracts"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Security"})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Company"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"About Us"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Careers"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Press Kit"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})})]})]})]}),d.jsxs("div",{className:"border-t border-gray-700 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[d.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 Wendex. All rights reserved."}),d.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookie Policy"})]})]})]})})}function wJ(){return d.jsxs("div",{className:"min-h-screen bg-dark-gradient",children:[d.jsx(tj,{}),d.jsx(rJ,{}),d.jsx(iJ,{}),d.jsx(oJ,{}),d.jsx(kj,{})]})}const cr=N.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));cr.displayName="Card";const Dr=N.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("flex flex-col space-y-1.5 p-6",t),...e}));Dr.displayName="CardHeader";const jr=N.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("text-2xl font-semibold leading-none tracking-tight",t),...e}));jr.displayName="CardTitle";const vJ=N.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("text-sm text-muted-foreground",t),...e}));vJ.displayName="CardDescription";const ur=N.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("p-6 pt-0",t),...e}));ur.displayName="CardContent";const xJ=N.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("flex items-center p-6 pt-0",t),...e}));xJ.displayName="CardFooter";function bJ(){return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:d.jsx(cr,{className:"w-full max-w-md mx-4",children:d.jsxs(ur,{className:"pt-6",children:[d.jsxs("div",{className:"flex mb-4 gap-2",children:[d.jsx(gf,{className:"h-8 w-8 text-red-500"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),d.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function os(t){try{if(!t)return new Date;if(t&&typeof t=="object"&&"toDate"in t&&typeof t.toDate=="function"){const e=t.toDate();return of(e)?e:new Date}if(t&&typeof t=="object"&&"seconds"in t){const e=new Date(t.seconds*1e3+(t.nanoseconds||0)/1e6);return of(e)?e:new Date}if(t instanceof Date)return of(t)?t:new Date;if(typeof t=="number"){const e=t>1e10?new Date(t):new Date(t*1e3);return of(e)?e:new Date}if(typeof t=="string"){const e=new Date(t);return of(e)?e:new Date}return new Date}catch(e){return console.warn("Timestamp conversion error:",e,"Input:",t),new Date}}function of(t){return t instanceof Date&&!isNaN(t.getTime())}function _J(t,e={}){try{const n=os(t),r={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",...e};return n.toLocaleDateString("en-US",r)}catch(n){return console.warn("Timestamp formatting error:",n),"Invalid Date"}}function EJ(t){try{const e=os(t),n=new Date,r=e.getTime()-n.getTime();if(r<=0)return"Expired";const s=Math.floor(r/1e3),i=Math.floor(s/60),o=Math.floor(i/60),a=Math.floor(o/24);return a>0?`${a} day${a===1?"":"s"} left`:o>0?`${o} hour${o===1?"":"s"} left`:i>0?`${i} minute${i===1?"":"s"} left`:`${s} second${s===1?"":"s"} left`}catch(e){return console.warn("Time remaining calculation error:",e),"Unknown"}}function SJ(t){try{const e=os(t),n=new Date,r=e.getTime()-n.getTime(),s=r<=0,i=_J(e,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),o=EJ(t);let a="low";if(s)a="high";else{const l=Math.floor(r/864e5);l<=1?a="high":l<=7&&(a="medium")}return{formatted:i,timeRemaining:o,isExpired:s,urgency:a}}catch(e){return console.warn("Campaign deadline formatting error:",e),{formatted:"Invalid Date",timeRemaining:"Unknown",isExpired:!0,urgency:"high"}}}const bx=({campaign:t,featured:e=!1,showStats:n=!0,size:r="medium",interactive:s=!0,onLike:i,onShare:o,className:a=""})=>{var _,x,S;const[,l]=Qp(),[c,u]=N.useState(!1),[f,p]=N.useState(!1),m=N.useMemo(()=>{const D=Math.min(t.currentAmount/t.targetAmount*100,100),F=SJ(t.deadline||t.createdAt),M=F.isExpired,R=F.timeRemaining;return{progress:D,isExpired:M,timeRemaining:R,urgency:F.urgency,isNearlyFunded:D>=80,isFunded:D>=100,fundingVelocity:t.currentAmount/Math.max(1,Math.floor((Date.now()-new Date(t.createdAt).getTime())/(24*60*60*1e3)))}},[t]),v=N.useMemo(()=>{var F;switch(((F=t.postFundingAction)==null?void 0:F.type)||"none"){case"boosts":return{icon:il,color:"from-yellow-500 to-orange-600",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",label:"With Boosts"};case"advertising":return{icon:yz,color:"from-purple-500 to-indigo-600",bgColor:"bg-purple-500/20",textColor:"text-purple-400",label:"With Advertising"};default:return{icon:em,color:"from-green-500 to-emerald-600",bgColor:"bg-green-500/20",textColor:"text-green-400",label:"Enhanced Info"}}},[(_=t.postFundingAction)==null?void 0:_.type]),g=N.useMemo(()=>{switch(r){case"small":return{cardHeight:"h-full min-h-[320px]",bannerHeight:"h-24",logoSize:"w-12 h-12",titleSize:"text-base",descriptionLines:"line-clamp-2",padding:"p-4"};case"large":return{cardHeight:"h-full min-h-[420px]",bannerHeight:"h-32",logoSize:"w-16 h-16",titleSize:"text-xl",descriptionLines:"line-clamp-3",padding:"p-6"};default:return{cardHeight:"h-full min-h-[380px]",bannerHeight:"h-28",logoSize:"w-14 h-14",titleSize:"text-lg",descriptionLines:"line-clamp-2",padding:"p-4"}}},[r]),w=N.useMemo(()=>m.isFunded?{label:"Funded",variant:"default",className:"bg-green-500 text-white"}:m.isExpired?{label:"Expired",variant:"destructive",className:"bg-red-500 text-white"}:t.status==="processing"?{label:"Processing",variant:"secondary",className:"bg-blue-500 text-white"}:{label:"Active",variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500/50"},[m,t.status]),b=N.useCallback(D=>{if(!s)return;const F=D.target;F.closest("button")||F.closest('[role="button"]')||l(`/campaign/${t.id}`)},[s,l,t.id]);return N.useCallback(D=>{D.stopPropagation(),u(!c),i==null||i(t.id)},[c,i,t.id]),N.useCallback(D=>{D.stopPropagation(),o==null||o(t)},[o,t]),v.icon,d.jsxs("div",{className:`
        ${g.cardHeight} 
        bg-gray-900 border border-gray-800 rounded-2xl overflow-hidden
        ${e?"ring-2 ring-purple-500":""}
        ${s?"cursor-pointer hover:scale-105 hover:shadow-2xl hover:border-purple-500/50":""}
        transition-all duration-300 group shadow-xl
        ${a}
      `,onClick:b,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[d.jsx("div",{className:"absolute top-4 right-4 z-20",children:d.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${t.status==="active"?"bg-green-500 text-white":t.status==="funded"?"bg-blue-500 text-white":"bg-red-500 text-white"}`,children:w.label})}),d.jsx("div",{className:"h-32 bg-gradient-to-r from-purple-600 to-indigo-600 relative",children:t.bannerUrl&&t.bannerUrl!=="/placeholder-banner.jpg"?d.jsx("img",{src:t.bannerUrl,alt:`${t.tokenMetadata.name} banner`,className:"w-full h-full object-cover opacity-90",onError:D=>{D.currentTarget.style.display="none"}}):null}),d.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-4 mb-4 -mt-8 relative z-10",children:[d.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-gray-900 shadow-2xl bg-gradient-to-r from-purple-500 to-indigo-600 flex items-center justify-center overflow-hidden",children:t.logoUrl&&t.logoUrl!=="/placeholder-token.png"?d.jsx("img",{src:t.logoUrl,alt:t.tokenMetadata.name,className:"w-full h-full object-cover",onError:D=>{D.currentTarget.style.display="none"}}):d.jsx("div",{className:"text-white font-bold text-2xl",children:((x=t.tokenMetadata.symbol)==null?void 0:x.slice(0,2))||"TK"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-1 truncate",children:((S=t.tokenMetadata)==null?void 0:S.name)||t.tokenName||"Unknown Token"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("span",{className:"px-2 py-1 bg-purple-600 text-white text-sm font-medium rounded",children:["$",t.tokenMetadata.symbol]}),t.tokenMetadata.verified&&d.jsx(yf,{className:"w-4 h-4 text-blue-400"})]})]})]}),d.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:t.description}),d.jsxs("div",{className:"space-y-3 mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("span",{className:"text-2xl font-bold text-white",children:["$",t.currentAmount.toFixed(0)]}),d.jsxs("span",{className:"text-gray-400",children:["of $",t.targetAmount.toFixed(0)]})]}),d.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2",children:d.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(m.progress,100)}%`}})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-bold text-white",children:t.contributorCount||0}),d.jsx("div",{className:"text-xs text-gray-500",children:"Contributors"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-sm font-bold text-purple-400",children:[m.progress.toFixed(0),"%"]}),d.jsx("div",{className:"text-xs text-gray-500",children:"Funded"})]}),d.jsxs("div",{children:[d.jsx("div",{className:`text-sm font-bold ${m.urgency==="high"?"text-red-400":m.urgency==="medium"?"text-yellow-400":"text-green-400"}`,children:m.timeRemaining.split(" ")[0]}),d.jsx("div",{className:"text-xs text-gray-500",children:"Days Left"})]})]})]}),d.jsx("div",{className:"flex-1"}),d.jsx("button",{className:`w-full py-3 rounded-xl font-semibold transition-all duration-200 ${m.isFunded?"bg-green-600 hover:bg-green-700 text-white":m.isExpired?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white hover:scale-105"}`,disabled:m.isExpired,onClick:D=>{D.stopPropagation(),l(`/campaign/${t.id}`)},children:m.isFunded?"View Campaign":m.isExpired?"Expired":"Contribute Now"})]})]})};function BN(t,[e,n]){return Math.min(n,Math.max(e,t))}var TJ=N.createContext(void 0);function FT(t){const e=N.useContext(TJ);return t||e||"ltr"}var _x=0;function Nj(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??FN()),document.body.insertAdjacentElement("beforeend",t[1]??FN()),_x++,()=>{_x===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_x--}},[])}function FN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ex="focusScope.autoFocusOnMount",Sx="focusScope.autoFocusOnUnmount",UN={bubbles:!1,cancelable:!0},AJ="FocusScope",UT=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=N.useState(null),c=Js(s),u=Js(i),f=N.useRef(null),p=Dt(e,g=>l(g)),m=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let g=function(x){if(m.paused||!a)return;const S=x.target;a.contains(S)?f.current=S:va(f.current,{select:!0})},w=function(x){if(m.paused||!a)return;const S=x.relatedTarget;S!==null&&(a.contains(S)||va(f.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const D of x)D.removedNodes.length>0&&va(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const _=new MutationObserver(b);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),_.disconnect()}}},[r,a,m.paused]),N.useEffect(()=>{if(a){zN.add(m);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(Ex,UN);a.addEventListener(Ex,c),a.dispatchEvent(b),b.defaultPrevented||(IJ(MJ(Rj(a)),{select:!0}),document.activeElement===g&&va(a))}return()=>{a.removeEventListener(Ex,c),setTimeout(()=>{const b=new CustomEvent(Sx,UN);a.addEventListener(Sx,u),a.dispatchEvent(b),b.defaultPrevented||va(g??document.body,{select:!0}),a.removeEventListener(Sx,u),zN.remove(m)},0)}}},[a,c,u,m]);const v=N.useCallback(g=>{if(!n&&!r||m.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(w&&b){const _=g.currentTarget,[x,S]=CJ(_);x&&S?!g.shiftKey&&b===S?(g.preventDefault(),n&&va(x,{select:!0})):g.shiftKey&&b===x&&(g.preventDefault(),n&&va(S,{select:!0})):b===_&&g.preventDefault()}},[n,r,m.paused]);return d.jsx(Ze.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});UT.displayName=AJ;function IJ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(va(r,{select:e}),document.activeElement!==n)return}function CJ(t){const e=Rj(t),n=VN(e,t),r=VN(e.reverse(),t);return[n,r]}function Rj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function VN(t,e){for(const n of t)if(!kJ(n,{upTo:e}))return n}function kJ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function NJ(t){return t instanceof HTMLInputElement&&"select"in t}function va(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&NJ(t)&&e&&t.select()}}var zN=RJ();function RJ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=WN(t,e),t.unshift(e)},remove(e){var n;t=WN(t,e),(n=t[0])==null||n.resume()}}}function WN(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function MJ(t){return t.filter(e=>e.tagName!=="A")}function Mj(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var PJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Tu=new WeakMap,Tg=new WeakMap,Ag={},Tx=0,Pj=function(t){return t&&(t.host||Pj(t.parentNode))},OJ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Pj(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},LJ=function(t,e,n,r){var s=OJ(e,Array.isArray(t)?t:[t]);Ag[n]||(Ag[n]=new WeakMap);var i=Ag[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))u(p);else try{var m=p.getAttribute(r),v=m!==null&&m!=="false",g=(Tu.get(p)||0)+1,w=(i.get(p)||0)+1;Tu.set(p,g),i.set(p,w),o.push(p),g===1&&v&&Tg.set(p,!0),w===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return u(e),a.clear(),Tx++,function(){o.forEach(function(f){var p=Tu.get(f)-1,m=i.get(f)-1;Tu.set(f,p),i.set(f,m),p||(Tg.has(f)||f.removeAttribute(r),Tg.delete(f)),m||f.removeAttribute(n)}),Tx--,Tx||(Tu=new WeakMap,Tu=new WeakMap,Tg=new WeakMap,Ag={})}},Oj=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=PJ(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),LJ(r,s,n,"aria-hidden")):function(){return null}},Bi=function(){return Bi=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Bi.apply(this,arguments)};function pm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function DJ(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var b0="right-scroll-bar-position",_0="width-before-scroll-bar",jJ="with-scroll-bars-hidden",BJ="--removed-body-scroll-bar-size";function Ax(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function FJ(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var UJ=typeof window<"u"?N.useLayoutEffect:N.useEffect,$N=new WeakMap;function VJ(t,e){var n=FJ(null,function(r){return t.forEach(function(s){return Ax(s,r)})});return UJ(function(){var r=$N.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Ax(a,null)}),i.forEach(function(a){s.has(a)||Ax(a,o)})}$N.set(n,t)},[t]),n}function zJ(t){return t}function WJ(t,e){e===void 0&&(e=zJ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function $J(t){t===void 0&&(t={});var e=WJ(null);return e.options=Bi({async:!0,ssr:!1},t),e}var Lj=function(t){var e=t.sideCar,n=pm(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,Bi({},n))};Lj.isSideCarExport=!0;function HJ(t,e){return t.useMedium(e),Lj}var Dj=$J(),Ix=function(){},gv=N.forwardRef(function(t,e){var n=N.useRef(null),r=N.useState({onScrollCapture:Ix,onWheelCapture:Ix,onTouchMoveCapture:Ix}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,p=t.sideCar,m=t.noRelative,v=t.noIsolation,g=t.inert,w=t.allowPinchZoom,b=t.as,_=b===void 0?"div":b,x=t.gapMode,S=pm(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=p,F=VJ([n,e]),M=Bi(Bi({},S),s);return N.createElement(N.Fragment,null,u&&N.createElement(D,{sideCar:Dj,removeScrollBar:c,shards:f,noRelative:m,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:x}),o?N.cloneElement(N.Children.only(a),Bi(Bi({},M),{ref:F})):N.createElement(_,Bi({},M,{className:l,ref:F}),a))});gv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gv.classNames={fullWidth:_0,zeroRight:b0};var qJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=qJ();return e&&t.setAttribute("nonce",e),t}function GJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function QJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var YJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=KJ())&&(GJ(e,n),QJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},XJ=function(){var t=YJ();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},jj=function(){var t=XJ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},ZJ={left:0,top:0,right:0,gap:0},Cx=function(t){return parseInt(t||"",10)||0},JJ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Cx(n),Cx(r),Cx(s)]},eee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ZJ;var e=JJ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},tee=jj(),wd="data-scroll-locked",nee=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(jJ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(wd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(b0,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_0,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(b0," .").concat(b0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_0," .").concat(_0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(wd,`] {
    `).concat(BJ,": ").concat(a,`px;
  }
`)},HN=function(){var t=parseInt(document.body.getAttribute(wd)||"0",10);return isFinite(t)?t:0},ree=function(){N.useEffect(function(){return document.body.setAttribute(wd,(HN()+1).toString()),function(){var t=HN()-1;t<=0?document.body.removeAttribute(wd):document.body.setAttribute(wd,t.toString())}},[])},see=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;ree();var i=N.useMemo(function(){return eee(s)},[s]);return N.createElement(tee,{styles:nee(i,!e,s,n?"":"!important")})},nE=!1;if(typeof window<"u")try{var Ig=Object.defineProperty({},"passive",{get:function(){return nE=!0,!0}});window.addEventListener("test",Ig,Ig),window.removeEventListener("test",Ig,Ig)}catch{nE=!1}var Au=nE?{passive:!1}:!1,iee=function(t){return t.tagName==="TEXTAREA"},Bj=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!iee(t)&&n[e]==="visible")},oee=function(t){return Bj(t,"overflowY")},aee=function(t){return Bj(t,"overflowX")},qN=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Fj(t,r);if(s){var i=Uj(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},lee=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},cee=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Fj=function(t,e){return t==="v"?oee(e):aee(e)},Uj=function(t,e){return t==="v"?lee(e):cee(e)},uee=function(t,e){return t==="h"&&e==="rtl"?-1:1},dee=function(t,e,n,r,s){var i=uee(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,f=0,p=0;do{var m=Uj(t,a),v=m[0],g=m[1],w=m[2],b=g-w-i*v;(v||b)&&Fj(t,a)&&(f+=b,p+=v),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(f)<1||!u&&Math.abs(p)<1)&&(c=!0),c},Cg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},KN=function(t){return[t.deltaX,t.deltaY]},GN=function(t){return t&&"current"in t?t.current:t},hee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pee=0,Iu=[];function mee(t){var e=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),s=N.useState(pee++)[0],i=N.useState(jj)[0],o=N.useRef(t);N.useEffect(function(){o.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=DJ([t.lockRef.current],(t.shards||[]).map(GN),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=N.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=Cg(g),_=n.current,x="deltaX"in g?g.deltaX:_[0]-b[0],S="deltaY"in g?g.deltaY:_[1]-b[1],D,F=g.target,M=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in g&&M==="h"&&F.type==="range")return!1;var R=qN(M,F);if(!R)return!0;if(R?D=M:(D=M==="v"?"h":"v",R=qN(M,F)),!R)return!1;if(!r.current&&"changedTouches"in g&&(x||S)&&(r.current=D),!D)return!0;var U=r.current||D;return dee(U,w,g,U==="h"?x:S)},[]),l=N.useCallback(function(g){var w=g;if(!(!Iu.length||Iu[Iu.length-1]!==i)){var b="deltaY"in w?KN(w):Cg(w),_=e.current.filter(function(D){return D.name===w.type&&(D.target===w.target||w.target===D.shadowParent)&&hee(D.delta,b)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var x=(o.current.shards||[]).map(GN).filter(Boolean).filter(function(D){return D.contains(w.target)}),S=x.length>0?a(w,x[0]):!o.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),c=N.useCallback(function(g,w,b,_){var x={name:g,delta:w,target:b,should:_,shadowParent:gee(b)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(S){return S!==x})},1)},[]),u=N.useCallback(function(g){n.current=Cg(g),r.current=void 0},[]),f=N.useCallback(function(g){c(g.type,KN(g),g.target,a(g,t.lockRef.current))},[]),p=N.useCallback(function(g){c(g.type,Cg(g),g.target,a(g,t.lockRef.current))},[]);N.useEffect(function(){return Iu.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Au),document.addEventListener("touchmove",l,Au),document.addEventListener("touchstart",u,Au),function(){Iu=Iu.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Au),document.removeEventListener("touchmove",l,Au),document.removeEventListener("touchstart",u,Au)}},[]);var m=t.removeScrollBar,v=t.inert;return N.createElement(N.Fragment,null,v?N.createElement(i,{styles:fee(s)}):null,m?N.createElement(see,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function gee(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const yee=HJ(Dj,mee);var VT=N.forwardRef(function(t,e){return N.createElement(gv,Bi({},t,{ref:e,sideCar:yee}))});VT.classNames=gv.classNames;var wee=[" ","Enter","ArrowUp","ArrowDown"],vee=[" ","Enter"],Bc="Select",[yv,wv,xee]=DS(Bc),[Ih,Jue]=Xi(Bc,[xee,jw]),vv=jw(),[bee,kl]=Ih(Bc),[_ee,Eee]=Ih(Bc),Vj=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:p,required:m,form:v}=t,g=vv(e),[w,b]=N.useState(null),[_,x]=N.useState(null),[S,D]=N.useState(!1),F=FT(c),[M,R]=Pc({prop:r,defaultProp:s??!1,onChange:i,caller:Bc}),[U,W]=Pc({prop:o,defaultProp:a,onChange:l,caller:Bc}),$=N.useRef(null),q=w?v||!!w.closest("form"):!0,[C,y]=N.useState(new Set),A=Array.from(C).map(O=>O.props.value).join(";");return d.jsx(lW,{...g,children:d.jsxs(bee,{required:m,scope:e,trigger:w,onTriggerChange:b,valueNode:_,onValueNodeChange:x,valueNodeHasChildren:S,onValueNodeHasChildrenChange:D,contentId:ol(),value:U,onValueChange:W,open:M,onOpenChange:R,dir:F,triggerPointerDownPosRef:$,disabled:p,children:[d.jsx(yv.Provider,{scope:e,children:d.jsx(_ee,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(O=>{y(z=>new Set(z).add(O))},[]),onNativeOptionRemove:N.useCallback(O=>{y(z=>{const L=new Set(z);return L.delete(O),L})},[]),children:n})}),q?d.jsxs(d3,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:U,onChange:O=>W(O.target.value),disabled:p,form:v,children:[U===void 0?d.jsx("option",{value:""}):null,Array.from(C)]},A):null]})})};Vj.displayName=Bc;var zj="SelectTrigger",Wj=N.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=vv(n),o=kl(zj,n),a=o.disabled||r,l=Dt(e,o.onTriggerChange),c=wv(n),u=N.useRef("touch"),[f,p,m]=f3(g=>{const w=c().filter(x=>!x.disabled),b=w.find(x=>x.value===o.value),_=p3(w,g,b);_!==void 0&&o.onValueChange(_.value)}),v=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return d.jsx(NO,{asChild:!0,...i,children:d.jsx(Ze.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":h3(o.value)?"":void 0,...s,ref:l,onClick:Ve(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&v(g)}),onPointerDown:Ve(s.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Ve(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(w&&g.key===" ")&&wee.includes(g.key)&&(v(),g.preventDefault())})})})});Wj.displayName=zj;var $j="SelectValue",Hj=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=kl($j,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,f=Dt(e,l.onValueNodeChange);return Er(()=>{c(u)},[c,u]),d.jsx(Ze.span,{...a,ref:f,style:{pointerEvents:"none"},children:h3(l.value)?d.jsx(d.Fragment,{children:o}):i})});Hj.displayName=$j;var See="SelectIcon",qj=N.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(Ze.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});qj.displayName=See;var Tee="SelectPortal",Kj=t=>d.jsx(Nw,{asChild:!0,...t});Kj.displayName=Tee;var Fc="SelectContent",Gj=N.forwardRef((t,e)=>{const n=kl(Fc,t.__scopeSelect),[r,s]=N.useState();if(Er(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Il.createPortal(d.jsx(Qj,{scope:t.__scopeSelect,children:d.jsx(yv.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(Yj,{...t,ref:e})});Gj.displayName=Fc;var ii=10,[Qj,Nl]=Ih(Fc),Aee="SelectContentImpl",Iee=qd("SelectContent.RemoveScroll"),Yj=N.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:w,...b}=t,_=kl(Fc,n),[x,S]=N.useState(null),[D,F]=N.useState(null),M=Dt(e,le=>S(le)),[R,U]=N.useState(null),[W,$]=N.useState(null),q=wv(n),[C,y]=N.useState(!1),A=N.useRef(!1);N.useEffect(()=>{if(x)return Oj(x)},[x]),Nj();const O=N.useCallback(le=>{const[ye,...Te]=q().map(be=>be.ref.current),[Re]=Te.slice(-1),Ee=document.activeElement;for(const be of le)if(be===Ee||(be==null||be.scrollIntoView({block:"nearest"}),be===ye&&D&&(D.scrollTop=0),be===Re&&D&&(D.scrollTop=D.scrollHeight),be==null||be.focus(),document.activeElement!==Ee))return},[q,D]),z=N.useCallback(()=>O([R,x]),[O,R,x]);N.useEffect(()=>{C&&z()},[C,z]);const{onOpenChange:L,triggerPointerDownPosRef:j}=_;N.useEffect(()=>{if(x){let le={x:0,y:0};const ye=Re=>{var Ee,be;le={x:Math.abs(Math.round(Re.pageX)-(((Ee=j.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((be=j.current)==null?void 0:be.y)??0))}},Te=Re=>{le.x<=10&&le.y<=10?Re.preventDefault():x.contains(Re.target)||L(!1),document.removeEventListener("pointermove",ye),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Te,{capture:!0})}}},[x,L,j]),N.useEffect(()=>{const le=()=>L(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[L]);const[H,B]=f3(le=>{const ye=q().filter(Ee=>!Ee.disabled),Te=ye.find(Ee=>Ee.ref.current===document.activeElement),Re=p3(ye,le,Te);Re&&setTimeout(()=>Re.ref.current.focus())}),T=N.useCallback((le,ye,Te)=>{const Re=!A.current&&!Te;(_.value!==void 0&&_.value===ye||Re)&&(U(le),Re&&(A.current=!0))},[_.value]),K=N.useCallback(()=>x==null?void 0:x.focus(),[x]),ae=N.useCallback((le,ye,Te)=>{const Re=!A.current&&!Te;(_.value!==void 0&&_.value===ye||Re)&&$(le)},[_.value]),ue=r==="popper"?rE:Xj,he=ue===rE?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:w}:{};return d.jsx(Qj,{scope:n,content:x,viewport:D,onViewportChange:F,itemRefCallback:T,selectedItem:R,onItemLeave:K,itemTextRefCallback:ae,focusSelectedItem:z,selectedItemText:W,position:r,isPositioned:C,searchRef:H,children:d.jsx(VT,{as:Iee,allowPinchZoom:!0,children:d.jsx(UT,{asChild:!0,trapped:_.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Ve(s,le=>{var ye;(ye=_.trigger)==null||ye.focus({preventScroll:!0}),le.preventDefault()}),children:d.jsx(Xp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:d.jsx(ue,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:le=>le.preventDefault(),...b,...he,onPlaced:()=>y(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ve(b.onKeyDown,le=>{const ye=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ye&&le.key.length===1&&B(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Re=q().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Ee=le.target,be=Re.indexOf(Ee);Re=Re.slice(be+1)}setTimeout(()=>O(Re)),le.preventDefault()}})})})})})})});Yj.displayName=Aee;var Cee="SelectItemAlignedPosition",Xj=N.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=kl(Fc,n),o=Nl(Fc,n),[a,l]=N.useState(null),[c,u]=N.useState(null),f=Dt(e,M=>u(M)),p=wv(n),m=N.useRef(!1),v=N.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:b,focusSelectedItem:_}=o,x=N.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&w&&b){const M=i.trigger.getBoundingClientRect(),R=c.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),W=b.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=W.left-R.left,be=U.left-Ee,He=M.left-be,Me=M.width+He,Ge=Math.max(Me,R.width),Vt=window.innerWidth-ii,at=BN(be,[ii,Math.max(ii,Vt-Ge)]);a.style.minWidth=Me+"px",a.style.left=at+"px"}else{const Ee=R.right-W.right,be=window.innerWidth-U.right-Ee,He=window.innerWidth-M.right-be,Me=M.width+He,Ge=Math.max(Me,R.width),Vt=window.innerWidth-ii,at=BN(be,[ii,Math.max(ii,Vt-Ge)]);a.style.minWidth=Me+"px",a.style.right=at+"px"}const $=p(),q=window.innerHeight-ii*2,C=g.scrollHeight,y=window.getComputedStyle(c),A=parseInt(y.borderTopWidth,10),O=parseInt(y.paddingTop,10),z=parseInt(y.borderBottomWidth,10),L=parseInt(y.paddingBottom,10),j=A+O+C+L+z,H=Math.min(w.offsetHeight*5,j),B=window.getComputedStyle(g),T=parseInt(B.paddingTop,10),K=parseInt(B.paddingBottom,10),ae=M.top+M.height/2-ii,ue=q-ae,he=w.offsetHeight/2,le=w.offsetTop+he,ye=A+O+le,Te=j-ye;if(ye<=ae){const Ee=$.length>0&&w===$[$.length-1].ref.current;a.style.bottom="0px";const be=c.clientHeight-g.offsetTop-g.offsetHeight,He=Math.max(ue,he+(Ee?K:0)+be+z),Me=ye+He;a.style.height=Me+"px"}else{const Ee=$.length>0&&w===$[0].ref.current;a.style.top="0px";const He=Math.max(ae,A+g.offsetTop+(Ee?T:0)+he)+Te;a.style.height=He+"px",g.scrollTop=ye-ae+g.offsetTop}a.style.margin=`${ii}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=q+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,a,c,g,w,b,i.dir,r]);Er(()=>x(),[x]);const[S,D]=N.useState();Er(()=>{c&&D(window.getComputedStyle(c).zIndex)},[c]);const F=N.useCallback(M=>{M&&v.current===!0&&(x(),_==null||_(),v.current=!1)},[x,_]);return d.jsx(Nee,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:F,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:d.jsx(Ze.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Xj.displayName=Cee;var kee="SelectPopperPosition",rE=N.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ii,...i}=t,o=vv(n);return d.jsx(RO,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rE.displayName=kee;var[Nee,zT]=Ih(Fc,{}),sE="SelectViewport",Zj=N.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Nl(sE,n),o=zT(sE,n),a=Dt(e,i.onViewportChange),l=N.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(yv.Slot,{scope:n,children:d.jsx(Ze.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ve(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const m=Math.abs(l.current-u.scrollTop);if(m>0){const v=window.innerHeight-ii*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),b=Math.max(g,w);if(b<v){const _=b+m,x=Math.min(v,_),S=_-x;f.style.height=x+"px",f.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});Zj.displayName=sE;var Jj="SelectGroup",[Ree,Mee]=Ih(Jj),Pee=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ol();return d.jsx(Ree,{scope:n,id:s,children:d.jsx(Ze.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Pee.displayName=Jj;var e3="SelectLabel",t3=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Mee(e3,n);return d.jsx(Ze.div,{id:s.id,...r,ref:e})});t3.displayName=e3;var jy="SelectItem",[Oee,n3]=Ih(jy),r3=N.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=kl(jy,n),l=Nl(jy,n),c=a.value===r,[u,f]=N.useState(i??""),[p,m]=N.useState(!1),v=Dt(e,_=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,_,r,s)}),g=ol(),w=N.useRef("touch"),b=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(Oee,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:N.useCallback(_=>{f(x=>x||((_==null?void 0:_.textContent)??"").trim())},[]),children:d.jsx(yv.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:d.jsx(Ze.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:Ve(o.onFocus,()=>m(!0)),onBlur:Ve(o.onBlur,()=>m(!1)),onClick:Ve(o.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:Ve(o.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:Ve(o.onPointerDown,_=>{w.current=_.pointerType}),onPointerMove:Ve(o.onPointerMove,_=>{var x;w.current=_.pointerType,s?(x=l.onItemLeave)==null||x.call(l):w.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ve(o.onPointerLeave,_=>{var x;_.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:Ve(o.onKeyDown,_=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&_.key===" "||(vee.includes(_.key)&&b(),_.key===" "&&_.preventDefault())})})})})});r3.displayName=jy;var Tf="SelectItemText",s3=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=kl(Tf,n),a=Nl(Tf,n),l=n3(Tf,n),c=Eee(Tf,n),[u,f]=N.useState(null),p=Dt(e,b=>f(b),l.onItemTextChange,b=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,b,l.value,l.disabled)}),m=u==null?void 0:u.textContent,v=N.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=c;return Er(()=>(g(v),()=>w(v)),[g,w,v]),d.jsxs(d.Fragment,{children:[d.jsx(Ze.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Il.createPortal(i.children,o.valueNode):null]})});s3.displayName=Tf;var i3="SelectItemIndicator",o3=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return n3(i3,n).isSelected?d.jsx(Ze.span,{"aria-hidden":!0,...r,ref:e}):null});o3.displayName=i3;var iE="SelectScrollUpButton",a3=N.forwardRef((t,e)=>{const n=Nl(iE,t.__scopeSelect),r=zT(iE,t.__scopeSelect),[s,i]=N.useState(!1),o=Dt(e,r.onScrollButtonChange);return Er(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(c3,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});a3.displayName=iE;var oE="SelectScrollDownButton",l3=N.forwardRef((t,e)=>{const n=Nl(oE,t.__scopeSelect),r=zT(oE,t.__scopeSelect),[s,i]=N.useState(!1),o=Dt(e,r.onScrollButtonChange);return Er(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(c3,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});l3.displayName=oE;var c3=N.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Nl("SelectScrollButton",n),o=N.useRef(null),a=wv(n),l=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>l(),[l]),Er(()=>{var u;const c=a().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(Ze.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ve(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ve(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ve(s.onPointerLeave,()=>{l()})})}),Lee="SelectSeparator",u3=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(Ze.div,{"aria-hidden":!0,...r,ref:e})});u3.displayName=Lee;var aE="SelectArrow",Dee=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=vv(n),i=kl(aE,n),o=Nl(aE,n);return i.open&&o.position==="popper"?d.jsx(MO,{...s,...r,ref:e}):null});Dee.displayName=aE;var jee="SelectBubbleInput",d3=N.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=N.useRef(null),i=Dt(r,s),o=Mj(e);return N.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const f=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(f)}},[o,e]),d.jsx(Ze.select,{...n,style:{...A4,...n.style},ref:i,defaultValue:e})});d3.displayName=jee;function h3(t){return t===""||t===void 0}function f3(t){const e=Js(t),n=N.useRef(""),r=N.useRef(0),s=N.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function p3(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Bee(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Bee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Fee=Vj,m3=Wj,Uee=Hj,Vee=qj,zee=Kj,g3=Gj,Wee=Zj,y3=t3,w3=r3,$ee=s3,Hee=o3,v3=a3,x3=l3,b3=u3;const Af=Fee,If=Uee,nd=N.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(m3,{ref:r,className:We("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(Vee,{asChild:!0,children:d.jsx(X4,{className:"h-4 w-4 opacity-50"})})]}));nd.displayName=m3.displayName;const _3=N.forwardRef(({className:t,...e},n)=>d.jsx(v3,{ref:n,className:We("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(iz,{className:"h-4 w-4"})}));_3.displayName=v3.displayName;const E3=N.forwardRef(({className:t,...e},n)=>d.jsx(x3,{ref:n,className:We("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(X4,{className:"h-4 w-4"})}));E3.displayName=x3.displayName;const rd=N.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(zee,{children:d.jsxs(g3,{ref:s,className:We("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(_3,{}),d.jsx(Wee,{className:We("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(E3,{})]})}));rd.displayName=g3.displayName;const qee=N.forwardRef(({className:t,...e},n)=>d.jsx(y3,{ref:n,className:We("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));qee.displayName=y3.displayName;const gn=N.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(w3,{ref:r,className:We("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Hee,{children:d.jsx(sz,{className:"h-4 w-4"})})}),d.jsx($ee,{children:e})]}));gn.displayName=w3.displayName;const Kee=N.forwardRef(({className:t,...e},n)=>d.jsx(b3,{ref:n,className:We("-mx-1 my-1 h-px bg-muted",t),...e}));Kee.displayName=b3.displayName;var kx="rovingFocusGroup.onEntryFocus",Gee={bubbles:!1,cancelable:!0},mm="RovingFocusGroup",[lE,S3,Qee]=DS(mm),[Yee,T3]=Xi(mm,[Qee]),[Xee,Zee]=Yee(mm),A3=N.forwardRef((t,e)=>d.jsx(lE.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(lE.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Jee,{...t,ref:e})})}));A3.displayName=mm;var Jee=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,p=N.useRef(null),m=Dt(e,p),v=FT(i),[g,w]=Pc({prop:o,defaultProp:a??null,onChange:l,caller:mm}),[b,_]=N.useState(!1),x=Js(c),S=S3(n),D=N.useRef(!1),[F,M]=N.useState(0);return N.useEffect(()=>{const R=p.current;if(R)return R.addEventListener(kx,x),()=>R.removeEventListener(kx,x)},[x]),d.jsx(Xee,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:g,onItemFocus:N.useCallback(R=>w(R),[w]),onItemShiftTab:N.useCallback(()=>_(!0),[]),onFocusableItemAdd:N.useCallback(()=>M(R=>R+1),[]),onFocusableItemRemove:N.useCallback(()=>M(R=>R-1),[]),children:d.jsx(Ze.div,{tabIndex:b||F===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Ve(t.onMouseDown,()=>{D.current=!0}),onFocus:Ve(t.onFocus,R=>{const U=!D.current;if(R.target===R.currentTarget&&U&&!b){const W=new CustomEvent(kx,Gee);if(R.currentTarget.dispatchEvent(W),!W.defaultPrevented){const $=S().filter(O=>O.focusable),q=$.find(O=>O.active),C=$.find(O=>O.id===g),A=[q,C,...$].filter(Boolean).map(O=>O.ref.current);k3(A,u)}}D.current=!1}),onBlur:Ve(t.onBlur,()=>_(!1))})})}),I3="RovingFocusGroupItem",C3=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=ol(),c=i||l,u=Zee(I3,n),f=u.currentTabStopId===c,p=S3(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:g}=u;return N.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),d.jsx(lE.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:d.jsx(Ze.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Ve(t.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:Ve(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ve(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=nte(w,u.orientation,u.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=p().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")x.reverse();else if(b==="prev"||b==="next"){b==="prev"&&x.reverse();const S=x.indexOf(w.currentTarget);x=u.loop?rte(x,S+1):x.slice(S+1)}setTimeout(()=>k3(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});C3.displayName=I3;var ete={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tte(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function nte(t,e,n){const r=tte(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ete[r]}function k3(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function rte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ste=A3,ite=C3,xv="Tabs",[ote,ede]=Xi(xv,[T3]),N3=T3(),[ate,WT]=ote(xv),R3=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=FT(a),[f,p]=Pc({prop:r,onChange:s,defaultProp:i??"",caller:xv});return d.jsx(ate,{scope:n,baseId:ol(),value:f,onValueChange:p,orientation:o,dir:u,activationMode:l,children:d.jsx(Ze.div,{dir:u,"data-orientation":o,...c,ref:e})})});R3.displayName=xv;var M3="TabsList",P3=N.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=WT(M3,n),o=N3(n);return d.jsx(ste,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(Ze.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});P3.displayName=M3;var O3="TabsTrigger",L3=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=WT(O3,n),a=N3(n),l=B3(o.baseId,r),c=F3(o.baseId,r),u=r===o.value;return d.jsx(ite,{asChild:!0,...a,focusable:!s,active:u,children:d.jsx(Ze.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Ve(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ve(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ve(t.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!s&&f&&o.onValueChange(r)})})})});L3.displayName=O3;var D3="TabsContent",j3=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=WT(D3,n),l=B3(a.baseId,r),c=F3(a.baseId,r),u=r===a.value,f=N.useRef(u);return N.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(Qc,{present:s||u,children:({present:p})=>d.jsx(Ze.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});j3.displayName=D3;function B3(t,e){return`${t}-trigger-${e}`}function F3(t,e){return`${t}-content-${e}`}var lte=R3,U3=P3,V3=L3,z3=j3;const W3=lte,$T=N.forwardRef(({className:t,...e},n)=>d.jsx(U3,{ref:n,className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));$T.displayName=U3.displayName;const Co=N.forwardRef(({className:t,...e},n)=>d.jsx(V3,{ref:n,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Co.displayName=V3.displayName;const ko=N.forwardRef(({className:t,...e},n)=>d.jsx(z3,{ref:n,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ko.displayName=z3.displayName;function vd({children:t}){return d.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[d.jsx(tj,{}),d.jsx("main",{className:"flex-grow pt-20",children:t}),d.jsx(kj,{})]})}function cte(){const[,t]=Qp(),[e,n]=N.useState(""),[r,s]=N.useState("all"),[i,o]=N.useState("all"),{data:a,isLoading:l,error:c}=_o({queryKey:["campaigns",i,r],queryFn:()=>ih.list({status:i!=="all"?i:void 0,campaignType:r!=="all"?r:void 0}),refetchInterval:3e4}),f=((a==null?void 0:a.campaigns)||[]).filter(g=>{var w,b;if(e){const _=e.toLowerCase();return(((w=g.tokenMetadata)==null?void 0:w.name)||g.tokenName||"").toLowerCase().includes(_)||(((b=g.tokenMetadata)==null?void 0:b.symbol)||g.tokenSymbol||"").toLowerCase().includes(_)||(g.contractAddress||g.tokenAddress||"").toLowerCase().includes(_)}return!0}),p=f.filter(g=>g.status!=="active"?!1:new Date(g.deadline)>new Date),m=f.filter(g=>g.status==="funded"||g.status==="completed"),v=f.filter(g=>g.status==="failed"||g.status==="cancelled"?!0:g.status==="active"?new Date(g.deadline)<=new Date:!1);return d.jsx(vd,{children:d.jsx("div",{className:"min-h-screen bg-dark-gradient",children:d.jsxs("div",{className:"container mx-auto px-6 py-12 space-y-8",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"heading-dark-1",children:"Active Campaigns"}),d.jsx("p",{className:"text-lg text-gray-400 mt-2",children:"Browse and contribute to DexScreener service crowdfunding campaigns"})]}),d.jsxs("button",{onClick:()=>t("/create-campaign"),className:"btn-dark-primary",children:[d.jsx(fz,{className:"mr-2 h-4 w-4 inline"}),"Create Campaign"]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(pz,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),d.jsx("input",{placeholder:"Search by token name, symbol, or address...",value:e,onChange:g=>n(g.target.value),className:"input-dark pl-10 w-full"})]}),d.jsxs(Af,{value:r,onValueChange:s,children:[d.jsx(nd,{className:"w-full sm:w-[180px] bg-gray-900/50 border-gray-800 text-gray-300",children:d.jsx(If,{placeholder:"Campaign Type"})}),d.jsxs(rd,{children:[d.jsx(gn,{value:"all",children:"All Types"}),d.jsx(gn,{value:"enhanced_token_info",children:"Enhanced Info"}),d.jsx(gn,{value:"advertising",children:"Advertising"}),d.jsx(gn,{value:"boost",children:"Boost"})]})]})]}),l?d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx(mp,{className:"h-8 w-8 animate-spin text-purple-400"})}):c?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"Failed to load campaigns. Please try again."})}):d.jsxs(W3,{defaultValue:"active",className:"w-full",children:[d.jsxs($T,{className:"grid w-full grid-cols-3 bg-gray-900/50 border border-gray-800",children:[d.jsxs(Co,{value:"active",className:"data-[state=active]:bg-purple-600/20 data-[state=active]:text-white text-gray-400",children:["Active (",p.length,")"]}),d.jsxs(Co,{value:"funded",className:"data-[state=active]:bg-purple-600/20 data-[state=active]:text-white text-gray-400",children:["Funded (",m.length,")"]}),d.jsxs(Co,{value:"failed",className:"data-[state=active]:bg-purple-600/20 data-[state=active]:text-white text-gray-400",children:["Failed (",v.length,")"]})]}),d.jsx(ko,{value:"active",className:"mt-6",children:p.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 auto-rows-fr",children:p.map(g=>d.jsx(bx,{campaign:g},g.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"No active campaigns found."})})}),d.jsx(ko,{value:"funded",className:"mt-6",children:m.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 auto-rows-fr",children:m.map(g=>d.jsx(bx,{campaign:g},g.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"No funded campaigns yet."})})}),d.jsx(ko,{value:"failed",className:"mt-6",children:v.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 auto-rows-fr",children:v.map(g=>d.jsx(bx,{campaign:g},g.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"No failed campaigns."})})})]})]})})})}class ute{constructor(){this.ws=null,this.reconnectInterval=5e3,this.shouldReconnect=!0,this.listeners=new Map;const e=window.location.protocol==="https:"?"wss:":"ws:";this.url=`${e}//${window.location.host}/ws`}connect(){var e;if(((e=this.ws)==null?void 0:e.readyState)!==WebSocket.OPEN){try{this.ws=new WebSocket(this.url)}catch(n){console.error("WebSocket connection failed:",n);return}this.ws.onopen=()=>{console.log("WebSocket connected"),this.emit("connected",null)},this.ws.onmessage=n=>{try{const r=JSON.parse(n.data);this.handleMessage(r)}catch(r){console.error("WebSocket message parse error:",r)}},this.ws.onerror=n=>{console.error("WebSocket error:",n),this.emit("error",n)},this.ws.onclose=()=>{console.log("WebSocket disconnected"),this.emit("disconnected",null),this.shouldReconnect&&setTimeout(()=>this.connect(),this.reconnectInterval)}}}disconnect(){this.shouldReconnect=!1,this.ws&&(this.ws.close(),this.ws=null)}send(e){var n;((n=this.ws)==null?void 0:n.readyState)===WebSocket.OPEN?this.ws.send(JSON.stringify(e)):console.warn("WebSocket is not connected")}subscribeToCampaign(e){this.send({type:"subscribe",campaignId:e})}unsubscribeFromCampaign(e){this.send({type:"unsubscribe",campaignId:e})}on(e,n){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(n)}off(e,n){var r;(r=this.listeners.get(e))==null||r.delete(n)}emit(e,n){var r;(r=this.listeners.get(e))==null||r.forEach(s=>s(n))}handleMessage(e){switch(e.type){case"connected":console.log("WebSocket client ID:",e.clientId);break;case"campaign_update":this.emit("campaign_update",e.campaign);break;case"new_contribution":this.emit("new_contribution",e.contribution);break;case"pong":break;default:console.log("Unknown message type:",e.type)}}}const Sa=new ute;var bv="Dialog",[$3,tde]=Xi(bv),[dte,Ii]=$3(bv),H3=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=N.useRef(null),l=N.useRef(null),[c,u]=Pc({prop:r,defaultProp:s??!1,onChange:i,caller:bv});return d.jsx(dte,{scope:e,triggerRef:a,contentRef:l,contentId:ol(),titleId:ol(),descriptionId:ol(),open:c,onOpenChange:u,onOpenToggle:N.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};H3.displayName=bv;var q3="DialogTrigger",hte=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ii(q3,n),i=Dt(e,s.triggerRef);return d.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":KT(s.open),...r,ref:i,onClick:Ve(t.onClick,s.onOpenToggle)})});hte.displayName=q3;var HT="DialogPortal",[fte,K3]=$3(HT,{forceMount:void 0}),G3=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Ii(HT,e);return d.jsx(fte,{scope:e,forceMount:n,children:N.Children.map(r,o=>d.jsx(Qc,{present:n||i.open,children:d.jsx(Nw,{asChild:!0,container:s,children:o})}))})};G3.displayName=HT;var By="DialogOverlay",Q3=N.forwardRef((t,e)=>{const n=K3(By,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ii(By,t.__scopeDialog);return i.modal?d.jsx(Qc,{present:r||i.open,children:d.jsx(mte,{...s,ref:e})}):null});Q3.displayName=By;var pte=qd("DialogOverlay.RemoveScroll"),mte=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ii(By,n);return d.jsx(VT,{as:pte,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Ze.div,{"data-state":KT(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Uc="DialogContent",Y3=N.forwardRef((t,e)=>{const n=K3(Uc,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ii(Uc,t.__scopeDialog);return d.jsx(Qc,{present:r||i.open,children:i.modal?d.jsx(gte,{...s,ref:e}):d.jsx(yte,{...s,ref:e})})});Y3.displayName=Uc;var gte=N.forwardRef((t,e)=>{const n=Ii(Uc,t.__scopeDialog),r=N.useRef(null),s=Dt(e,n.contentRef,r);return N.useEffect(()=>{const i=r.current;if(i)return Oj(i)},[]),d.jsx(X3,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ve(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ve(t.onFocusOutside,i=>i.preventDefault())})}),yte=N.forwardRef((t,e)=>{const n=Ii(Uc,t.__scopeDialog),r=N.useRef(!1),s=N.useRef(!1);return d.jsx(X3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),X3=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Ii(Uc,n),l=N.useRef(null),c=Dt(e,l);return Nj(),d.jsxs(d.Fragment,{children:[d.jsx(UT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Xp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":KT(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(wte,{titleId:a.titleId}),d.jsx(xte,{contentRef:l,descriptionId:a.descriptionId})]})]})}),qT="DialogTitle",Z3=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ii(qT,n);return d.jsx(Ze.h2,{id:s.titleId,...r,ref:e})});Z3.displayName=qT;var J3="DialogDescription",e5=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ii(J3,n);return d.jsx(Ze.p,{id:s.descriptionId,...r,ref:e})});e5.displayName=J3;var t5="DialogClose",n5=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ii(t5,n);return d.jsx(Ze.button,{type:"button",...r,ref:e,onClick:Ve(t.onClick,()=>s.onOpenChange(!1))})});n5.displayName=t5;function KT(t){return t?"open":"closed"}var r5="DialogTitleWarning",[nde,s5]=o9(r5,{contentName:Uc,titleName:qT,docsSlug:"dialog"}),wte=({titleId:t})=>{const e=s5(r5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},vte="DialogDescriptionWarning",xte=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s5(vte).contentName}}.`;return N.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},bte=H3,_te=G3,i5=Q3,o5=Y3,a5=Z3,l5=e5,Ete=n5;const cE=bte,Ste=_te,c5=N.forwardRef(({className:t,...e},n)=>d.jsx(i5,{ref:n,className:We("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));c5.displayName=i5.displayName;const Fy=N.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(Ste,{children:[d.jsx(c5,{}),d.jsxs(o5,{ref:r,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(Ete,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(WS,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fy.displayName=o5.displayName;const Uy=({className:t,...e})=>d.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Uy.displayName="DialogHeader";const Vy=({className:t,...e})=>d.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Vy.displayName="DialogFooter";const zy=N.forwardRef(({className:t,...e},n)=>d.jsx(a5,{ref:n,className:We("text-lg font-semibold leading-none tracking-tight",t),...e}));zy.displayName=a5.displayName;const Wy=N.forwardRef(({className:t,...e},n)=>d.jsx(l5,{ref:n,className:We("text-sm text-muted-foreground",t),...e}));Wy.displayName=l5.displayName;const sd=N.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));sd.displayName="Input";var Tte="Label",u5=N.forwardRef((t,e)=>d.jsx(Ze.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));u5.displayName=Tte;var d5=u5;const Ate=Jp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Cn=N.forwardRef(({className:t,...e},n)=>d.jsx(d5,{ref:n,className:We(Ate(),t),...e}));Cn.displayName=d5.displayName;function Ite({campaign:t,isOpen:e,onClose:n,onSuccess:r}){const{publicKey:s,sendTransaction:i}=um(),{connection:o}=hD(),{toast:a}=Yp(),[l,c]=N.useState(""),[u,f]=N.useState(!1),[p,m]=N.useState(null),v=async()=>{var b,_,x,S,D;if(!s){m("Please connect your wallet first");return}const w=parseFloat(l);if(isNaN(w)||w<.01){m("Minimum contribution is 0.01 SOL");return}f(!0),m(null);try{console.log("Starting SOL contribution transaction...");const F=new Le(t.walletAddress),M=w*Jk;console.log("Transfer details:",{from:s.toString(),to:F.toString(),amount:w,lamports:M});const R=await o.getBalance(s),U=M+5e3;if(R<U)throw new Error(`Insufficient SOL balance. You need at least ${(U/Jk).toFixed(4)} SOL (including transaction fees).`);const W=new pi,{blockhash:$}=await o.getLatestBlockhash();W.recentBlockhash=$,W.feePayer=s;const q=bp.transfer({fromPubkey:s,toPubkey:F,lamports:M});W.add(q),console.log("Sending SOL transaction...");const C=await i(W,o);console.log("Transaction sent:",C),await o.confirmTransaction(C,"confirmed"),console.log("Transaction confirmed"),await ih.contribute(t.id,{contributorAddress:s.toString(),amount:w,transactionHash:C}),a({title:"Contribution Successful!",description:`You contributed ${w} SOL to ${t.tokenName}`}),r==null||r(),n()}catch(F){console.error("Contribution error:",F);let M="Failed to process contribution";(b=F.message)!=null&&b.includes("User rejected the request")?M="Transaction was cancelled by user":(_=F.message)!=null&&_.includes("Insufficient funds")||(x=F.message)!=null&&x.includes("Insufficient SOL")||(S=F.message)!=null&&S.includes("SOL")?M=F.message:(D=F.message)!=null&&D.includes("simulation failed")?M="Transaction simulation failed. Please check your SOL balance and try again.":F.message&&(M=F.message),m(M)}finally{f(!1)}},g=()=>{navigator.clipboard.writeText(t.walletAddress),a({title:"Address Copied",description:"Campaign wallet address copied to clipboard"})};return d.jsx(cE,{open:e,onOpenChange:n,children:d.jsxs(Fy,{className:"sm:max-w-[425px] bg-gray-900 border-gray-800 text-white",children:[d.jsxs(Uy,{children:[d.jsxs(zy,{className:"text-xl font-bold text-white",children:["Contribute to ",t.tokenName]}),d.jsxs(Wy,{className:"text-gray-400",children:["Support this campaign by contributing SOL. Your contribution will help reach the $",t.targetAmount," goal."]})]}),d.jsxs("div",{className:"space-y-6",children:[p&&d.jsx(ov,{variant:"destructive",className:"bg-red-500/10 border-red-500/30 text-red-400",children:d.jsx(av,{children:p})}),!s&&d.jsx("div",{className:"card-dark p-4 border border-purple-500/30 bg-purple-500/10",children:d.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[d.jsx(Zb,{className:"h-8 w-8 text-purple-400"}),d.jsx("p",{className:"text-purple-400 font-medium text-center",children:"Connect your wallet to contribute"}),d.jsx(My,{className:"!bg-gradient-to-r !from-purple-600 !to-pink-600 !text-white hover:!from-purple-700 hover:!to-pink-700 !font-semibold !py-2 !px-4 !rounded-lg !transition-all !duration-200"})]})}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Cn,{className:"text-gray-300 font-medium",children:"Campaign Progress"}),d.jsxs("div",{className:"card-dark p-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-lg font-semibold text-white",children:["$",t.currentAmount.toFixed(2)]}),d.jsxs("span",{className:"text-gray-400",children:["of $",t.targetAmount.toFixed(2)," USD"]})]}),d.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 mb-2",children:d.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(t.currentAmount/t.targetAmount*100,100)}%`}})}),d.jsxs("p",{className:"text-sm text-gray-400",children:[(t.currentAmount/t.targetAmount*100).toFixed(1),"% funded"]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Cn,{htmlFor:"amount",className:"text-gray-300 font-medium",children:"Contribution Amount (SOL)"}),d.jsx(sd,{id:"amount",type:"number",placeholder:"Enter amount in SOL",value:l,onChange:w=>c(w.target.value),min:"0.01",step:"0.01",className:"input-dark"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Minimum contribution: 0.01 SOL"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Cn,{className:"text-gray-300 font-medium",children:"Campaign Wallet Address"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("code",{className:"text-xs bg-gray-800 p-3 rounded-lg flex-1 overflow-hidden text-ellipsis text-gray-300 font-mono",children:t.walletAddress}),d.jsx(sn,{size:"sm",variant:"outline",onClick:g,className:"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600 hover:text-white",children:d.jsx(Zg,{className:"h-3 w-3"})})]}),d.jsx("p",{className:"text-xs text-gray-500",children:"You can also send SOL directly to this address"})]})]}),d.jsxs(Vy,{className:"gap-3 pt-6",children:[d.jsx(sn,{variant:"outline",onClick:n,disabled:u,className:"bg-gray-800 border-gray-700 text-gray-300 hover:bg-gray-700 hover:text-white",children:"Cancel"}),d.jsx(sn,{onClick:v,disabled:u||!s||!l,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:u?d.jsxs(d.Fragment,{children:[d.jsx(mp,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):s?`Contribute ${l||"0"} SOL`:d.jsxs(d.Fragment,{children:[d.jsx(Zb,{className:"mr-2 h-4 w-4"}),"Connect Wallet First"]})})]})]})})}const Cte=Jp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xa({className:t,variant:e,...n}){return d.jsx("div",{className:We(Cte({variant:e}),t),...n})}function Ut(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function yl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const h5=6048e5,kte=864e5,kg=43200,QN=1440;let Nte={};function gm(){return Nte}function Ap(t,e){var a,l,c,u;const n=gm(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=Ut(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function $y(t){return Ap(t,{weekStartsOn:1})}function f5(t){const e=Ut(t),n=e.getFullYear(),r=yl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=$y(r),i=yl(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=$y(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function YN(t){const e=Ut(t);return e.setHours(0,0,0,0),e}function Hy(t){const e=Ut(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Rte(t,e){const n=YN(t),r=YN(e),s=+n-Hy(n),i=+r-Hy(r);return Math.round((s-i)/kte)}function Mte(t){const e=f5(t),n=yl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),$y(n)}function E0(t,e){const n=Ut(t),r=Ut(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function Pte(t){return yl(t,Date.now())}function Ote(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Lte(t){if(!Ote(t)&&typeof t!="number")return!1;const e=Ut(t);return!isNaN(Number(e))}function Dte(t,e){const n=Ut(t),r=Ut(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function jte(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Bte(t,e){return+Ut(t)-+Ut(e)}function Fte(t){const e=Ut(t);return e.setHours(23,59,59,999),e}function Ute(t){const e=Ut(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Vte(t){const e=Ut(t);return+Fte(e)==+Ute(e)}function zte(t,e){const n=Ut(t),r=Ut(e),s=E0(n,r),i=Math.abs(Dte(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=E0(n,r)===-s;Vte(Ut(t))&&i===1&&E0(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function Wte(t,e,n){const r=Bte(t,e)/1e3;return jte(n==null?void 0:n.roundingMethod)(r)}function $te(t){const e=Ut(t),n=yl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Hte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qte=(t,e,n)=>{let r;const s=Hte[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Nx(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Kte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yte={date:Nx({formats:Kte,defaultWidth:"full"}),time:Nx({formats:Gte,defaultWidth:"full"}),dateTime:Nx({formats:Qte,defaultWidth:"full"})},Xte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Zte=(t,e,n,r)=>Xte[t];function af(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Jte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ene={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ine=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},one={ordinalNumber:ine,era:af({values:Jte,defaultWidth:"wide"}),quarter:af({values:ene,defaultWidth:"wide",argumentCallback:t=>t-1}),month:af({values:tne,defaultWidth:"wide"}),day:af({values:nne,defaultWidth:"wide"}),dayPeriod:af({values:rne,defaultWidth:"wide",formattingValues:sne,defaultFormattingWidth:"wide"})};function lf(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?lne(a,f=>f.test(o)):ane(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function ane(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function lne(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function cne(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const une=/^(\d+)(th|st|nd|rd)?/i,dne=/\d+/i,hne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fne={any:[/^b/i,/^(a|c)/i]},pne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mne={any:[/1/i,/2/i,/3/i,/4/i]},gne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_ne={ordinalNumber:cne({matchPattern:une,parsePattern:dne,valueCallback:t=>parseInt(t,10)}),era:lf({matchPatterns:hne,defaultMatchWidth:"wide",parsePatterns:fne,defaultParseWidth:"any"}),quarter:lf({matchPatterns:pne,defaultMatchWidth:"wide",parsePatterns:mne,defaultParseWidth:"any",valueCallback:t=>t+1}),month:lf({matchPatterns:gne,defaultMatchWidth:"wide",parsePatterns:yne,defaultParseWidth:"any"}),day:lf({matchPatterns:wne,defaultMatchWidth:"wide",parsePatterns:vne,defaultParseWidth:"any"}),dayPeriod:lf({matchPatterns:xne,defaultMatchWidth:"any",parsePatterns:bne,defaultParseWidth:"any"})},p5={code:"en-US",formatDistance:qte,formatLong:Yte,formatRelative:Zte,localize:one,match:_ne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ene(t){const e=Ut(t);return Rte(e,$te(e))+1}function Sne(t){const e=Ut(t),n=+$y(e)-+Mte(e);return Math.round(n/h5)+1}function m5(t,e){var u,f,p,m;const n=Ut(t),r=n.getFullYear(),s=gm(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=yl(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Ap(o,e),l=yl(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Ap(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Tne(t,e){var a,l,c,u;const n=gm(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=m5(t,e),i=yl(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Ap(i,e)}function Ane(t,e){const n=Ut(t),r=+Ap(n,e)-+Tne(n,e);return Math.round(r/h5)+1}function Rt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const fa={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Rt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Rt(n+1,2)},d(t,e){return Rt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Rt(t.getHours()%12||12,e.length)},H(t,e){return Rt(t.getHours(),e.length)},m(t,e){return Rt(t.getMinutes(),e.length)},s(t,e){return Rt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Rt(s,e.length)}},Cu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XN={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return fa.y(t,e)},Y:function(t,e,n,r){const s=m5(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Rt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Rt(i,e.length)},R:function(t,e){const n=f5(t);return Rt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Rt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Rt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Rt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return fa.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Rt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Ane(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Rt(s,e.length)},I:function(t,e,n){const r=Sne(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Rt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):fa.d(t,e)},D:function(t,e,n){const r=Ene(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Rt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Rt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Rt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Rt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Cu.noon:r===0?s=Cu.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Cu.evening:r>=12?s=Cu.afternoon:r>=4?s=Cu.morning:s=Cu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return fa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):fa.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Rt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Rt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):fa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):fa.s(t,e)},S:function(t,e){return fa.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return JN(r);case"XXXX":case"XX":return ql(r);case"XXXXX":case"XXX":default:return ql(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return JN(r);case"xxxx":case"xx":return ql(r);case"xxxxx":case"xxx":default:return ql(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ZN(r,":");case"OOOO":default:return"GMT"+ql(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ZN(r,":");case"zzzz":default:return"GMT"+ql(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Rt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Rt(r,e.length)}};function ZN(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Rt(i,2)}function JN(t,e){return t%60===0?(t>0?"-":"+")+Rt(Math.abs(t)/60,2):ql(t,e)}function ql(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Rt(Math.trunc(r/60),2),i=Rt(r%60,2);return n+s+e+i}const e2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},g5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ine=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return e2(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",e2(r,e)).replace("{{time}}",g5(s,e))},Cne={p:g5,P:Ine},kne=/^D+$/,Nne=/^Y+$/,Rne=["D","DD","YY","YYYY"];function Mne(t){return kne.test(t)}function Pne(t){return Nne.test(t)}function One(t,e,n){const r=Lne(t,e,n);if(console.warn(r),Rne.includes(t))throw new RangeError(r)}function Lne(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Dne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bne=/^'([^]*?)'?$/,Fne=/''/g,Une=/[a-zA-Z]/;function Kl(t,e,n){var u,f,p,m;const r=gm(),s=r.locale??p5,i=r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,a=Ut(t);if(!Lte(a))throw new RangeError("Invalid time value");let l=e.match(jne).map(v=>{const g=v[0];if(g==="p"||g==="P"){const w=Cne[g];return w(v,s.formatLong)}return v}).join("").match(Dne).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:Vne(v)};if(XN[g])return{isToken:!0,value:v};if(g.match(Une))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(v=>{if(!v.isToken)return v.value;const g=v.value;(Pne(g)||Mne(g))&&One(g,e,String(t));const w=XN[g[0]];return w(a,g,s.localize,c)}).join("")}function Vne(t){const e=t.match(Bne);return e?e[1].replace(Fne,"'"):t}function zne(t,e,n){const r=gm(),s=(n==null?void 0:n.locale)??r.locale??p5,i=2520,o=E0(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let l,c;o>0?(l=Ut(e),c=Ut(t)):(l=Ut(t),c=Ut(e));const u=Wte(c,l),f=(Hy(c)-Hy(l))/1e3,p=Math.round((u-f)/60);let m;if(p<2)return n!=null&&n.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,a):u<10?s.formatDistance("lessThanXSeconds",10,a):u<20?s.formatDistance("lessThanXSeconds",20,a):u<40?s.formatDistance("halfAMinute",0,a):u<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):p===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",p,a);if(p<45)return s.formatDistance("xMinutes",p,a);if(p<90)return s.formatDistance("aboutXHours",1,a);if(p<QN){const v=Math.round(p/60);return s.formatDistance("aboutXHours",v,a)}else{if(p<i)return s.formatDistance("xDays",1,a);if(p<kg){const v=Math.round(p/QN);return s.formatDistance("xDays",v,a)}else if(p<kg*2)return m=Math.round(p/kg),s.formatDistance("aboutXMonths",m,a)}if(m=zte(c,l),m<12){const v=Math.round(p/kg);return s.formatDistance("xMonths",v,a)}else{const v=m%12,g=Math.trunc(m/12);return v<3?s.formatDistance("aboutXYears",g,a):v<9?s.formatDistance("overXYears",g,a):s.formatDistance("almostXYears",g+1,a)}}function t2(t,e){return zne(t,Pte(t),e)}function Wne(){var g,w,b,_,x;const{id:t}=s4(),{toast:e}=Yp(),[n,r]=N.useState(!1),{data:s,isLoading:i,error:o,refetch:a}=_o({queryKey:["campaign",t],queryFn:()=>ih.get(t),enabled:!!t}),{data:l,refetch:c}=_o({queryKey:["contributions",t],queryFn:()=>ih.getContributions(t),enabled:!!t});if(N.useEffect(()=>{if(!t)return;Sa.subscribeToCampaign(t);const S=F=>{F.id===t&&a()},D=F=>{F.campaignId===t&&(c(),a())};return Sa.on("campaign_update",S),Sa.on("new_contribution",D),()=>{Sa.unsubscribeFromCampaign(t),Sa.off("campaign_update",S),Sa.off("new_contribution",D)}},[t,a,c]),i)return d.jsx(vd,{children:d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx(mp,{className:"h-8 w-8 animate-spin"})})});if(o||!(s!=null&&s.success))return d.jsx(vd,{children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Campaign Not Found"}),d.jsx("p",{className:"text-muted-foreground",children:"The campaign you're looking for doesn't exist."})]})});const u=s.campaign,f=(l==null?void 0:l.contributions)||[],p=u.currentAmount/u.targetAmount*100,m=new Date(u.deadline)>new Date?t2(new Date(u.deadline),{addSuffix:!0}):"Ended",v=S=>{navigator.clipboard.writeText(S),e({title:"Address Copied",description:"Address copied to clipboard"})};return d.jsx(vd,{children:d.jsxs("div",{className:"min-h-screen bg-dark-gradient",children:[d.jsx("div",{className:"container mx-auto px-6 py-12 space-y-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"card-dark overflow-hidden",children:[u.bannerUrl&&u.bannerUrl!=="/placeholder-banner.jpg"&&d.jsx("div",{className:"h-48 bg-gradient-to-r from-purple-600 to-indigo-600 relative",children:d.jsx("img",{src:u.bannerUrl,alt:`${((g=u.tokenMetadata)==null?void 0:g.name)||u.tokenName} banner`,className:"w-full h-full object-cover opacity-90",onError:S=>{S.currentTarget.style.display="none"}})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[u.tokenLogoUrl&&d.jsx("img",{src:u.tokenLogoUrl,alt:u.tokenSymbol,className:"w-20 h-20 rounded-full border-2 border-gray-700"}),d.jsxs("div",{children:[d.jsx("h1",{className:"heading-dark-1",children:((w=u.tokenMetadata)==null?void 0:w.name)||u.tokenName}),d.jsxs("p",{className:"text-xl text-purple-400 font-semibold",children:["$",((b=u.tokenMetadata)==null?void 0:b.symbol)||u.tokenSymbol]})]})]}),d.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${u.status==="active"?"bg-green-500/20 text-green-400":u.status==="funded"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:u.status})]}),d.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:u.description}),d.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Campaign Type"}),d.jsx("p",{className:"text-white font-medium",children:u.campaignType?u.campaignType.split("_").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" "):"Enhanced Token Info"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),d.jsx("p",{className:"text-white font-medium",children:u.createdAt&&!isNaN(new Date(u.createdAt).getTime())?Kl(new Date(u.createdAt),"PPP"):"Unknown"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Token Address"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("code",{className:"text-sm bg-gray-800 px-3 py-2 rounded text-gray-300 flex-1",children:u.tokenAddress||u.contractAddress||"Unknown"}),d.jsx("button",{className:"text-gray-400 hover:text-white transition-colors p-2",onClick:()=>v(u.tokenAddress||u.contractAddress),children:d.jsx(Zg,{className:"h-4 w-4"})})]}),d.jsxs("a",{href:`https://dexscreener.com/solana/${u.tokenAddress||u.contractAddress}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-purple-400 hover:text-purple-300 transition-colors",children:["View on DexScreener",d.jsx(N1,{className:"h-4 w-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Campaign Creator"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("code",{className:"text-sm bg-gray-800 px-3 py-2 rounded text-gray-300 flex-1",children:[((_=u.creatorAddress)==null?void 0:_.slice(0,8))||"Unknown","...",(x=u.creatorAddress)==null?void 0:x.slice(-8)]}),d.jsx("button",{className:"text-gray-400 hover:text-white transition-colors p-2",onClick:()=>v(u.creatorAddress),children:d.jsx(Zg,{className:"h-4 w-4"})})]}),d.jsxs("a",{href:`https://solscan.io/account/${u.creatorAddress}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-blue-400 hover:text-blue-300 transition-colors",children:["View Creator on Solscan",d.jsx(N1,{className:"h-4 w-4"})]})]})]})]})]}),d.jsxs("div",{className:"card-dark",children:[d.jsx("div",{className:"border-b border-gray-800",children:d.jsxs("div",{className:"flex space-x-8 px-6",children:[d.jsx("button",{className:"py-4 px-2 border-b-2 border-purple-500 text-purple-400 font-medium",children:"Contributions"}),d.jsx("button",{className:"py-4 px-2 text-gray-400 hover:text-gray-300",children:"Chat"})]})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Recent Contributors"}),d.jsxs("p",{className:"text-gray-400",children:[f.length," total contributions"]})]}),f.length>0?d.jsx("div",{className:"space-y-4",children:f.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Zb,{className:"h-5 w-5 text-purple-400"}),d.jsxs("div",{children:[d.jsxs("code",{className:"text-sm text-gray-300",children:[S.contributorAddress.slice(0,8),"...",S.contributorAddress.slice(-6)]}),d.jsx("p",{className:"text-xs text-gray-500",children:t2(new Date(S.timestamp),{addSuffix:!0})})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-lg font-semibold text-white",children:["$",S.amount.toFixed(2)]}),d.jsx("div",{className:`text-xs px-2 py-1 rounded ${S.status==="confirmed"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:S.status})]})]},S.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"No contributions yet. Be the first to support this campaign!"})})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"card-dark",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Funding Progress"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-end",children:[d.jsxs("span",{className:"text-3xl font-bold text-white",children:["$",u.currentAmount.toFixed(0)]}),d.jsxs("span",{className:"text-gray-400",children:["of $",u.targetAmount.toFixed(0)]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"w-full bg-gray-800 rounded-full h-3",children:d.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(p,100)}%`}})}),d.jsxs("p",{className:"text-sm text-gray-400",children:[p.toFixed(1),"% funded"]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 py-6 border-t border-gray-800 mt-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center mb-2",children:[d.jsx(Pw,{className:"h-5 w-5 mr-2 text-blue-400"}),d.jsx("span",{className:"text-xl font-bold text-white",children:f.length})]}),d.jsx("p",{className:"text-sm text-gray-400",children:"Contributors"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center mb-2",children:[d.jsx(oz,{className:"h-5 w-5 mr-2 text-purple-400"}),d.jsx("span",{className:"text-xl font-bold text-white",children:m})]}),d.jsx("p",{className:"text-sm text-gray-400",children:"Time left"})]})]}),u.status==="active"&&d.jsxs("button",{className:"w-full btn-dark-primary mt-6",onClick:()=>r(!0),children:[d.jsx(VS,{className:"mr-2 h-5 w-5"}),"Contribute Now"]}),d.jsxs("div",{className:"space-y-4 pt-6 border-t border-gray-800 mt-6 bg-gray-800/30 -mx-6 px-6 pb-6",children:[d.jsx("p",{className:"text-lg font-bold text-white",children:"Campaign Wallet"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("code",{className:"text-sm bg-gray-800 p-4 rounded-lg flex-1 text-gray-300 font-mono break-all",children:u.walletAddress}),d.jsx("button",{className:"text-gray-400 hover:text-white transition-colors p-3 bg-gray-700 hover:bg-gray-600 rounded-lg",onClick:()=>v(u.walletAddress),children:d.jsx(Zg,{className:"h-5 w-5"})})]}),d.jsxs("a",{href:`https://solscan.io/account/${u.walletAddress}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-base text-blue-400 hover:text-blue-300 transition-colors font-medium",children:["View Wallet on Solscan",d.jsx(N1,{className:"h-5 w-5"})]})]})]})}),u.status==="completed"&&u.serviceDetails&&d.jsxs(cr,{children:[d.jsx(Dr,{children:d.jsx(jr,{children:"Service Status"})}),d.jsxs(ur,{children:[d.jsx(xa,{className:"mb-2",children:"Active"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"The DexScreener service has been successfully purchased and activated."})]})]})]})]})}),d.jsx(Ite,{campaign:u,isOpen:n,onClose:()=>r(!1),onSuccess:()=>{a(),c()}})]})})}class $ne{constructor(){this.rateLimitDelay=100,this.lastRequestTime=0,this.requestQueue=[],this.isProcessingQueue=!1,this.apiKey="8349bc43-3182-420a-bade-44ea90bf1c53",this.baseUrl="https://api.helius.xyz",this.apiKey||console.warn("Helius API key not configured. Token validation will use fallback methods."),console.log("Helius API key configured:",this.apiKey?"Yes":"No")}async enforceRateLimit(){const n=Date.now()-this.lastRequestTime;n<this.rateLimitDelay&&await new Promise(r=>setTimeout(r,this.rateLimitDelay-n)),this.lastRequestTime=Date.now()}async queueRequest(e){return new Promise((n,r)=>{this.requestQueue.push(async()=>{try{await this.enforceRateLimit();const s=await e();n(s)}catch(s){r(s)}}),this.processQueue()})}async processQueue(){if(!(this.isProcessingQueue||this.requestQueue.length===0)){for(this.isProcessingQueue=!0;this.requestQueue.length>0;){const e=this.requestQueue.shift();if(e)try{await e()}catch(n){console.error("Queued request failed:",n)}}this.isProcessingQueue=!1}}async makeRequest(e,n,r=3){const s=`${this.baseUrl}/?api-key=${this.apiKey}`;for(let i=1;i<=r;i++)try{return await lt.post(s,n,{headers:{"Content-Type":"application/json"},timeout:1e4})}catch(o){const a=o;if(a.response&&a.response.status>=400&&a.response.status<500||i===r)throw o;const l=Math.min(1e3*Math.pow(2,i-1),5e3);await new Promise(c=>setTimeout(c,l))}throw new Error("Max retries exceeded")}async validateToken(e){console.log("[Client Helius API] ========== START TOKEN VALIDATION =========="),console.log(`[Client Helius API] Validating token: ${e}`),console.log("[Client Helius API] API Key configured:",this.apiKey?`${this.apiKey.substring(0,8)}...`:"NOT SET"),console.log("[Client Helius API] Environment variables:",{VITE_HELIUS_API_KEY:"NOT SET",HELIUS_API_KEY:"NOT SET"});try{return!e||e.length<32||e.length>44?(console.log("[Client Helius API] ERROR: Invalid address format"),console.log("[Client Helius API] Address length:",e.length),{isValid:!1,error:"Invalid Solana address format",contractAddress:e}):(console.log("[Client Helius API] Calling server endpoint for real Helius data"),await this.validateTokenViaServer(e))}catch(n){return console.error("[Client Helius API] Token validation error:",n),console.error("[Client Helius API] Error stack:",n.stack),console.log("[Client Helius API] ========== END TOKEN VALIDATION ERROR =========="),{isValid:!1,error:"Token validation failed",contractAddress:e}}}async validateTokenViaServer(e){var n,r,s,i,o,a;try{console.log("[Client Helius API] Making request to server endpoint"),console.log("[Client Helius API] POST /api/helius/validate-token"),console.log("[Client Helius API] Request body:",{contractAddress:e});const l=await lt.post("/api/helius/validate-token",{contractAddress:e},{headers:{"Content-Type":"application/json"},timeout:15e3});return console.log("[Client Helius API] Server response status:",l.status),console.log("[Client Helius API] Server response data:",JSON.stringify(l.data,null,2)),l.data&&l.data.isValid?(console.log("[Client Helius API] Token validated successfully via server"),console.log("[Client Helius API] ========== END TOKEN VALIDATION SUCCESS =========="),l.data):(console.log("[Client Helius API] Server returned invalid token"),console.log("[Client Helius API] ========== END TOKEN VALIDATION INVALID =========="),l.data)}catch(l){return console.error("[Client Helius API] Server request failed:",l),console.error("[Client Helius API] Error response:",(n=l.response)==null?void 0:n.data),console.error("[Client Helius API] Error status:",(r=l.response)==null?void 0:r.status),console.log("[Client Helius API] NO FALLBACK - Returning error"),console.log("[Client Helius API] ========== END TOKEN VALIDATION SERVER ERROR =========="),{isValid:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Server validation failed",contractAddress:e,details:(a=(o=l.response)==null?void 0:o.data)==null?void 0:a.details}}}async validateTokenWithHelius(e){var n,r,s,i,o,a;try{console.log(`[Client Helius API] Fetching token metadata from Helius API for: ${e}`);const l=`https://api.helius.xyz/v0/token-metadata?api-key=${this.apiKey}`,c={mintAccounts:[e]};console.log("[Client Helius API] Making request to:",l.replace(this.apiKey,"API_KEY_HIDDEN")),console.log("[Client Helius API] Request payload:",c);const u=await lt.post(l,c,{headers:{"Content-Type":"application/json"},timeout:1e4});if(console.log("[Client Helius API] Response status:",u.status),console.log("[Client Helius API] Response data:",u.data),u.data&&Array.isArray(u.data)&&u.data.length>0){const f=u.data[0];console.log("[Client Helius API] Token data found:",f);const p=f.onChainMetadata,m=f.offChainMetadata;if(!p&&!m)return{isValid:!1,error:"Token metadata not found",contractAddress:e};const v={name:(m==null?void 0:m.name)||((n=p==null?void 0:p.data)==null?void 0:n.name)||"Unknown Token",symbol:(m==null?void 0:m.symbol)||((r=p==null?void 0:p.data)==null?void 0:r.symbol)||"UNKNOWN",description:(m==null?void 0:m.description)||((s=p==null?void 0:p.data)==null?void 0:s.uri)||"",image:(m==null?void 0:m.image)||"",supply:p!=null&&p.supply?parseInt(p.supply.toString()):void 0,decimals:(p==null?void 0:p.decimals)||9,verified:(p==null?void 0:p.primarySaleHappened)||!1,mintAuthority:p==null?void 0:p.mintAuthority,freezeAuthority:p==null?void 0:p.freezeAuthority};if(m!=null&&m.attributes){const g={};m.attributes.forEach(w=>{w.trait_type==="website"&&(g.website=w.value),w.trait_type==="twitter"&&(g.twitter=w.value),w.trait_type==="telegram"&&(g.telegram=w.value),w.trait_type==="discord"&&(g.discord=w.value)}),Object.keys(g).length>0&&(v.socialLinks=g,v.extensions=g)}return console.log("[Client Helius API] Token validated successfully:",v),{isValid:!0,metadata:v,exists:!0,contractAddress:e}}return console.log("[Client Helius API] No token data in response array"),{isValid:!1,error:"Token not found in Helius database",contractAddress:e}}catch(l){return console.error("[Client Helius API] Token metadata API error:",l),console.error("[Client Helius API] Error response:",(i=l.response)==null?void 0:i.data),{isValid:!1,error:((a=(o=l.response)==null?void 0:o.data)==null?void 0:a.error)||l.message||"Failed to fetch token metadata",contractAddress:e}}}parseTokenMetadata(e){var o,a,l,c,u,f,p;const n=e.content,r=n.metadata,s=e.token_info,i=this.extractSocialLinks(r.description||"",r.external_url);return{name:r.name||"Unknown Token",symbol:r.symbol||"UNKNOWN",description:r.description,image:r.image||((a=(o=n.files)==null?void 0:o[0])==null?void 0:a.uri),supply:s?parseInt(s.supply):(l=e.supply)==null?void 0:l.print_current_supply,decimals:(s==null?void 0:s.decimals)||9,verified:((c=e.royalty)==null?void 0:c.primary_sale_happened)||!1,mintAuthority:(u=e.authorities.find(m=>m.scopes.includes("mint")))==null?void 0:u.address,freezeAuthority:(f=e.authorities.find(m=>m.scopes.includes("freeze")))==null?void 0:f.address,creators:e.creators||((p=r.properties)==null?void 0:p.creators),attributes:r.attributes,socialLinks:i,extensions:i}}extractSocialLinks(e,n){const r={};n&&(n.includes("twitter.com")||n.includes("x.com")?r.twitter=n:n.includes("t.me")||n.includes("telegram")?r.telegram=n:n.includes("discord")?r.discord=n:r.website=n);const s=/https?:\/\/[^\s]+/g,i=e.match(s)||[];for(const o of i)(o.includes("twitter.com")||o.includes("x.com"))&&!r.twitter?r.twitter=o:(o.includes("t.me")||o.includes("telegram"))&&!r.telegram?r.telegram=o:o.includes("discord")&&!r.discord?r.discord=o:!r.website&&!o.includes("twitter")&&!o.includes("telegram")&&!o.includes("discord")&&(r.website=o);return r}async getTokenBalance(e,n){try{return this.apiKey?await this.queueRequest(async()=>{const s=(await this.makeRequest("",{jsonrpc:"2.0",id:"get-token-balance",method:"getTokenAccountsByOwner",params:[e,{mint:n},{encoding:"jsonParsed"}]})).data.result.value;return s.length===0?0:s.reduce((o,a)=>o+parseInt(a.amount),0)/Math.pow(10,s[0].decimals||9)}):(console.warn("Token balance lookup requires Helius API key"),0)}catch(r){return console.error("Token balance lookup error:",r),0}}async getTokenAnalytics(e){try{return this.apiKey?await this.queueRequest(async()=>({holderCount:0,transactionCount:0,volume24h:0,marketCap:0,price:0})):{}}catch(n){return console.error("Token analytics error:",n),{}}}async checkExistingCampaign(e){return!1}async validateTokenBatch(e){return(await Promise.allSettled(e.map(r=>this.validateToken(r)))).map((r,s)=>r.status==="fulfilled"?r.value:{isValid:!1,error:"Batch validation failed",contractAddress:e[s]})}async healthCheck(){const e=Date.now();try{return this.apiKey?(await this.makeRequest("",{jsonrpc:"2.0",id:"health-check",method:"getVersion"}),{healthy:!0,latency:Date.now()-e}):{healthy:!1,error:"API key not configured"}}catch(n){return{healthy:!1,latency:Date.now()-e,error:n instanceof Error?n.message:"Unknown error"}}}}const Hne=new $ne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qne=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},w5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[u],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(y5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qne(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new Kne;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Kne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gne=function(t){const e=y5(t);return w5.encodeByteArray(e,!0)},qy=function(t){return Gne(t).replace(/\./g,"")},v5=function(t){try{return w5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yne=()=>Qne().__FIREBASE_DEFAULTS__,Xne=()=>{if(typeof process>"u"||typeof import.meta.env>"u")return;const t=import.meta.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zne=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&v5(t[1]);return e&&JSON.parse(e)},_v=()=>{try{return Yne()||Xne()||Zne()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x5=t=>{var e,n;return(n=(e=_v())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},b5=t=>{const e=x5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_5=()=>{var t;return(t=_v())===null||t===void 0?void 0:t.config},E5=t=>{var e;return(e=_v())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qy(JSON.stringify(n)),qy(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ere(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hr())}function tre(){var t;const e=(t=_v())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function nre(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rre(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sre(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ire(){const t=Hr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ore(){return!tre()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function are(){try{return typeof indexedDB=="object"}catch{return!1}}function lre(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cre="FirebaseError";class ro extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cre,Object.setPrototypeOf(this,ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ym.prototype.create)}}class ym{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?ure(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ro(s,a,r)}}function ure(t,e){return t.replace(dre,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const dre=/\{\$([^}]+)}/g;function hre(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ky(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(n2(i)&&n2(o)){if(!Ky(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function n2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fre(t,e){const n=new pre(t,e);return n.subscribe.bind(n)}class pre{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mre(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Rx),s.error===void 0&&(s.error=Rx),s.complete===void 0&&(s.complete=Rx);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mre(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t){return t&&t._delegate?t._delegate:t}class wl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jne;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wre(e))try{this.getOrInitializeService({instanceIdentifier:Gl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Gl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gl){return this.instances.has(e)}getOptions(e=Gl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yre(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gl){return this.component?this.component.multipleInstances?e:Gl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yre(t){return t===Gl?void 0:t}function wre(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gre(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pt||(pt={}));const xre={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},bre=pt.INFO,_re={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},Ere=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_re[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class GT{constructor(e){this.name=e,this._logLevel=bre,this._logHandler=Ere,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xre[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const Sre=(t,e)=>e.some(n=>t instanceof n);let r2,s2;function Tre(){return r2||(r2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Are(){return s2||(s2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T5=new WeakMap,uE=new WeakMap,A5=new WeakMap,Mx=new WeakMap,QT=new WeakMap;function Ire(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(cl(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&T5.set(n,t)}).catch(()=>{}),QT.set(e,t),e}function Cre(t){if(uE.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});uE.set(t,e)}let dE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kre(t){dE=t(dE)}function Nre(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Px(this),e,...n);return A5.set(r,e.sort?e.sort():[e]),cl(r)}:Are().includes(t)?function(...e){return t.apply(Px(this),e),cl(T5.get(this))}:function(...e){return cl(t.apply(Px(this),e))}}function Rre(t){return typeof t=="function"?Nre(t):(t instanceof IDBTransaction&&Cre(t),Sre(t,Tre())?new Proxy(t,dE):t)}function cl(t){if(t instanceof IDBRequest)return Ire(t);if(Mx.has(t))return Mx.get(t);const e=Rre(t);return e!==t&&(Mx.set(t,e),QT.set(e,t)),e}const Px=t=>QT.get(t);function Mre(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=cl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(cl(o.result),l.oldVersion,l.newVersion,cl(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Pre=["get","getKey","getAll","getAllKeys","count"],Ore=["put","add","delete","clear"],Ox=new Map;function i2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ox.get(e))return Ox.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Ore.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Pre.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Ox.set(e,i),i}kre(t=>({...t,get:(e,n,r)=>i2(e,n)||t.get(e,n,r),has:(e,n)=>!!i2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dre(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Dre(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hE="@firebase/app",o2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new GT("@firebase/app"),jre="@firebase/app-compat",Bre="@firebase/analytics-compat",Fre="@firebase/analytics",Ure="@firebase/app-check-compat",Vre="@firebase/app-check",zre="@firebase/auth",Wre="@firebase/auth-compat",$re="@firebase/database",Hre="@firebase/data-connect",qre="@firebase/database-compat",Kre="@firebase/functions",Gre="@firebase/functions-compat",Qre="@firebase/installations",Yre="@firebase/installations-compat",Xre="@firebase/messaging",Zre="@firebase/messaging-compat",Jre="@firebase/performance",ese="@firebase/performance-compat",tse="@firebase/remote-config",nse="@firebase/remote-config-compat",rse="@firebase/storage",sse="@firebase/storage-compat",ise="@firebase/firestore",ose="@firebase/vertexai-preview",ase="@firebase/firestore-compat",lse="firebase",cse="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="[DEFAULT]",use={[hE]:"fire-core",[jre]:"fire-core-compat",[Fre]:"fire-analytics",[Bre]:"fire-analytics-compat",[Vre]:"fire-app-check",[Ure]:"fire-app-check-compat",[zre]:"fire-auth",[Wre]:"fire-auth-compat",[$re]:"fire-rtdb",[Hre]:"fire-data-connect",[qre]:"fire-rtdb-compat",[Kre]:"fire-fn",[Gre]:"fire-fn-compat",[Qre]:"fire-iid",[Yre]:"fire-iid-compat",[Xre]:"fire-fcm",[Zre]:"fire-fcm-compat",[Jre]:"fire-perf",[ese]:"fire-perf-compat",[tse]:"fire-rc",[nse]:"fire-rc-compat",[rse]:"fire-gcs",[sse]:"fire-gcs-compat",[ise]:"fire-fst",[ase]:"fire-fst-compat",[ose]:"fire-vertex","fire-js":"fire-js",[lse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=new Map,dse=new Map,pE=new Map;function a2(t,e){try{t.container.addComponent(e)}catch(n){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vc(t){const e=t.name;if(pE.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;pE.set(e,t);for(const n of Gy.values())a2(n,t);for(const n of dse.values())a2(n,t);return!0}function Ev(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ga(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hse={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ul=new ym("app","Firebase",hse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ul.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=cse;function I5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fE,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ul.create("bad-app-name",{appName:String(s)});if(n||(n=_5()),!n)throw ul.create("no-options");const i=Gy.get(s);if(i){if(Ky(n,i.options)&&Ky(r,i.config))return i;throw ul.create("duplicate-app",{appName:s})}const o=new vre(s);for(const l of pE.values())o.addComponent(l);const a=new fse(n,r,o);return Gy.set(s,a),a}function YT(t=fE){const e=Gy.get(t);if(!e&&t===fE&&_5())return I5();if(!e)throw ul.create("no-app",{appName:t});return e}function zi(t,e,n){var r;let s=(r=use[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qo.warn(a.join(" "));return}Vc(new wl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pse="firebase-heartbeat-database",mse=1,Ip="firebase-heartbeat-store";let Lx=null;function C5(){return Lx||(Lx=Mre(pse,mse,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ip)}catch(n){console.warn(n)}}}}).catch(t=>{throw ul.create("idb-open",{originalErrorMessage:t.message})})),Lx}async function gse(t){try{const n=(await C5()).transaction(Ip),r=await n.objectStore(Ip).get(k5(t));return await n.done,r}catch(e){if(e instanceof ro)Qo.warn(e.message);else{const n=ul.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qo.warn(n.message)}}}async function l2(t,e){try{const r=(await C5()).transaction(Ip,"readwrite");await r.objectStore(Ip).put(e,k5(t)),await r.done}catch(n){if(n instanceof ro)Qo.warn(n.message);else{const r=ul.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qo.warn(r.message)}}}function k5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yse=1024,wse=30*24*60*60*1e3;class vse{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bse(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=c2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=wse}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Qo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=c2(),{heartbeatsToSend:r,unsentEntries:s}=xse(this._heartbeatsCache.heartbeats),i=qy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Qo.warn(n),""}}}function c2(){return new Date().toISOString().substring(0,10)}function xse(t,e=yse){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),u2(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),u2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return are()?lre().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gse(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return l2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return l2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function u2(t){return qy(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _se(t){Vc(new wl("platform-logger",e=>new Lre(e),"PRIVATE")),Vc(new wl("heartbeat",e=>new vse(e),"PRIVATE")),zi(hE,o2,t),zi(hE,o2,"esm2017"),zi("fire-js","")}_se("");var d2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sc,N5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function U(){}U.prototype=R.prototype,M.D=R.prototype,M.prototype=new U,M.prototype.constructor=M,M.C=function(W,$,q){for(var C=Array(arguments.length-2),y=2;y<arguments.length;y++)C[y-2]=arguments[y];return R.prototype[$].apply(W,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,R,U){U||(U=0);var W=Array(16);if(typeof R=="string")for(var $=0;16>$;++$)W[$]=R.charCodeAt(U++)|R.charCodeAt(U++)<<8|R.charCodeAt(U++)<<16|R.charCodeAt(U++)<<24;else for($=0;16>$;++$)W[$]=R[U++]|R[U++]<<8|R[U++]<<16|R[U++]<<24;R=M.g[0],U=M.g[1],$=M.g[2];var q=M.g[3],C=R+(q^U&($^q))+W[0]+3614090360&4294967295;R=U+(C<<7&4294967295|C>>>25),C=q+($^R&(U^$))+W[1]+3905402710&4294967295,q=R+(C<<12&4294967295|C>>>20),C=$+(U^q&(R^U))+W[2]+606105819&4294967295,$=q+(C<<17&4294967295|C>>>15),C=U+(R^$&(q^R))+W[3]+3250441966&4294967295,U=$+(C<<22&4294967295|C>>>10),C=R+(q^U&($^q))+W[4]+4118548399&4294967295,R=U+(C<<7&4294967295|C>>>25),C=q+($^R&(U^$))+W[5]+1200080426&4294967295,q=R+(C<<12&4294967295|C>>>20),C=$+(U^q&(R^U))+W[6]+2821735955&4294967295,$=q+(C<<17&4294967295|C>>>15),C=U+(R^$&(q^R))+W[7]+4249261313&4294967295,U=$+(C<<22&4294967295|C>>>10),C=R+(q^U&($^q))+W[8]+1770035416&4294967295,R=U+(C<<7&4294967295|C>>>25),C=q+($^R&(U^$))+W[9]+2336552879&4294967295,q=R+(C<<12&4294967295|C>>>20),C=$+(U^q&(R^U))+W[10]+4294925233&4294967295,$=q+(C<<17&4294967295|C>>>15),C=U+(R^$&(q^R))+W[11]+2304563134&4294967295,U=$+(C<<22&4294967295|C>>>10),C=R+(q^U&($^q))+W[12]+1804603682&4294967295,R=U+(C<<7&4294967295|C>>>25),C=q+($^R&(U^$))+W[13]+4254626195&4294967295,q=R+(C<<12&4294967295|C>>>20),C=$+(U^q&(R^U))+W[14]+2792965006&4294967295,$=q+(C<<17&4294967295|C>>>15),C=U+(R^$&(q^R))+W[15]+1236535329&4294967295,U=$+(C<<22&4294967295|C>>>10),C=R+($^q&(U^$))+W[1]+4129170786&4294967295,R=U+(C<<5&4294967295|C>>>27),C=q+(U^$&(R^U))+W[6]+3225465664&4294967295,q=R+(C<<9&4294967295|C>>>23),C=$+(R^U&(q^R))+W[11]+643717713&4294967295,$=q+(C<<14&4294967295|C>>>18),C=U+(q^R&($^q))+W[0]+3921069994&4294967295,U=$+(C<<20&4294967295|C>>>12),C=R+($^q&(U^$))+W[5]+3593408605&4294967295,R=U+(C<<5&4294967295|C>>>27),C=q+(U^$&(R^U))+W[10]+38016083&4294967295,q=R+(C<<9&4294967295|C>>>23),C=$+(R^U&(q^R))+W[15]+3634488961&4294967295,$=q+(C<<14&4294967295|C>>>18),C=U+(q^R&($^q))+W[4]+3889429448&4294967295,U=$+(C<<20&4294967295|C>>>12),C=R+($^q&(U^$))+W[9]+568446438&4294967295,R=U+(C<<5&4294967295|C>>>27),C=q+(U^$&(R^U))+W[14]+3275163606&4294967295,q=R+(C<<9&4294967295|C>>>23),C=$+(R^U&(q^R))+W[3]+4107603335&4294967295,$=q+(C<<14&4294967295|C>>>18),C=U+(q^R&($^q))+W[8]+1163531501&4294967295,U=$+(C<<20&4294967295|C>>>12),C=R+($^q&(U^$))+W[13]+2850285829&4294967295,R=U+(C<<5&4294967295|C>>>27),C=q+(U^$&(R^U))+W[2]+4243563512&4294967295,q=R+(C<<9&4294967295|C>>>23),C=$+(R^U&(q^R))+W[7]+1735328473&4294967295,$=q+(C<<14&4294967295|C>>>18),C=U+(q^R&($^q))+W[12]+2368359562&4294967295,U=$+(C<<20&4294967295|C>>>12),C=R+(U^$^q)+W[5]+4294588738&4294967295,R=U+(C<<4&4294967295|C>>>28),C=q+(R^U^$)+W[8]+2272392833&4294967295,q=R+(C<<11&4294967295|C>>>21),C=$+(q^R^U)+W[11]+1839030562&4294967295,$=q+(C<<16&4294967295|C>>>16),C=U+($^q^R)+W[14]+4259657740&4294967295,U=$+(C<<23&4294967295|C>>>9),C=R+(U^$^q)+W[1]+2763975236&4294967295,R=U+(C<<4&4294967295|C>>>28),C=q+(R^U^$)+W[4]+1272893353&4294967295,q=R+(C<<11&4294967295|C>>>21),C=$+(q^R^U)+W[7]+4139469664&4294967295,$=q+(C<<16&4294967295|C>>>16),C=U+($^q^R)+W[10]+3200236656&4294967295,U=$+(C<<23&4294967295|C>>>9),C=R+(U^$^q)+W[13]+681279174&4294967295,R=U+(C<<4&4294967295|C>>>28),C=q+(R^U^$)+W[0]+3936430074&4294967295,q=R+(C<<11&4294967295|C>>>21),C=$+(q^R^U)+W[3]+3572445317&4294967295,$=q+(C<<16&4294967295|C>>>16),C=U+($^q^R)+W[6]+76029189&4294967295,U=$+(C<<23&4294967295|C>>>9),C=R+(U^$^q)+W[9]+3654602809&4294967295,R=U+(C<<4&4294967295|C>>>28),C=q+(R^U^$)+W[12]+3873151461&4294967295,q=R+(C<<11&4294967295|C>>>21),C=$+(q^R^U)+W[15]+530742520&4294967295,$=q+(C<<16&4294967295|C>>>16),C=U+($^q^R)+W[2]+3299628645&4294967295,U=$+(C<<23&4294967295|C>>>9),C=R+($^(U|~q))+W[0]+4096336452&4294967295,R=U+(C<<6&4294967295|C>>>26),C=q+(U^(R|~$))+W[7]+1126891415&4294967295,q=R+(C<<10&4294967295|C>>>22),C=$+(R^(q|~U))+W[14]+2878612391&4294967295,$=q+(C<<15&4294967295|C>>>17),C=U+(q^($|~R))+W[5]+4237533241&4294967295,U=$+(C<<21&4294967295|C>>>11),C=R+($^(U|~q))+W[12]+1700485571&4294967295,R=U+(C<<6&4294967295|C>>>26),C=q+(U^(R|~$))+W[3]+2399980690&4294967295,q=R+(C<<10&4294967295|C>>>22),C=$+(R^(q|~U))+W[10]+4293915773&4294967295,$=q+(C<<15&4294967295|C>>>17),C=U+(q^($|~R))+W[1]+2240044497&4294967295,U=$+(C<<21&4294967295|C>>>11),C=R+($^(U|~q))+W[8]+1873313359&4294967295,R=U+(C<<6&4294967295|C>>>26),C=q+(U^(R|~$))+W[15]+4264355552&4294967295,q=R+(C<<10&4294967295|C>>>22),C=$+(R^(q|~U))+W[6]+2734768916&4294967295,$=q+(C<<15&4294967295|C>>>17),C=U+(q^($|~R))+W[13]+1309151649&4294967295,U=$+(C<<21&4294967295|C>>>11),C=R+($^(U|~q))+W[4]+4149444226&4294967295,R=U+(C<<6&4294967295|C>>>26),C=q+(U^(R|~$))+W[11]+3174756917&4294967295,q=R+(C<<10&4294967295|C>>>22),C=$+(R^(q|~U))+W[2]+718787259&4294967295,$=q+(C<<15&4294967295|C>>>17),C=U+(q^($|~R))+W[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+($+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+$&4294967295,M.g[3]=M.g[3]+q&4294967295}r.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var U=R-this.blockSize,W=this.B,$=this.h,q=0;q<R;){if($==0)for(;q<=U;)s(this,M,q),q+=this.blockSize;if(typeof M=="string"){for(;q<R;)if(W[$++]=M.charCodeAt(q++),$==this.blockSize){s(this,W),$=0;break}}else for(;q<R;)if(W[$++]=M[q++],$==this.blockSize){s(this,W),$=0;break}}this.h=$,this.o+=R},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var U=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=U&255,U/=256;for(this.u(M),M=Array(16),R=U=0;4>R;++R)for(var W=0;32>W;W+=8)M[U++]=this.g[R]>>>W&255;return M};function i(M,R){var U=a;return Object.prototype.hasOwnProperty.call(U,M)?U[M]:U[M]=R(M)}function o(M,R){this.h=R;for(var U=[],W=!0,$=M.length-1;0<=$;$--){var q=M[$]|0;W&&q==R||(U[$]=q,W=!1)}this.g=U}var a={};function l(M){return-128<=M&&128>M?i(M,function(R){return new o([R|0],0>R?-1:0)}):new o([M|0],0>M?-1:0)}function c(M){if(isNaN(M)||!isFinite(M))return f;if(0>M)return w(c(-M));for(var R=[],U=1,W=0;M>=U;W++)R[W]=M/U|0,U*=4294967296;return new o(R,0)}function u(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return w(u(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=c(Math.pow(R,8)),W=f,$=0;$<M.length;$+=8){var q=Math.min(8,M.length-$),C=parseInt(M.substring($,$+q),R);8>q?(q=c(Math.pow(R,q)),W=W.j(q).add(c(C))):(W=W.j(U),W=W.add(c(C)))}return W}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-w(this).m();for(var M=0,R=1,U=0;U<this.g.length;U++){var W=this.i(U);M+=(0<=W?W:4294967296+W)*R,R*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(v(this))return"0";if(g(this))return"-"+w(this).toString(M);for(var R=c(Math.pow(M,6)),U=this,W="";;){var $=S(U,R).g;U=b(U,$.j(R));var q=((0<U.g.length?U.g[0]:U.h)>>>0).toString(M);if(U=$,v(U))return q+W;for(;6>q.length;)q="0"+q;W=q+W}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function v(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function g(M){return M.h==-1}t.l=function(M){return M=b(this,M),g(M)?-1:v(M)?0:1};function w(M){for(var R=M.g.length,U=[],W=0;W<R;W++)U[W]=~M.g[W];return new o(U,~M.h).add(p)}t.abs=function(){return g(this)?w(this):this},t.add=function(M){for(var R=Math.max(this.g.length,M.g.length),U=[],W=0,$=0;$<=R;$++){var q=W+(this.i($)&65535)+(M.i($)&65535),C=(q>>>16)+(this.i($)>>>16)+(M.i($)>>>16);W=C>>>16,q&=65535,C&=65535,U[$]=C<<16|q}return new o(U,U[U.length-1]&-2147483648?-1:0)};function b(M,R){return M.add(w(R))}t.j=function(M){if(v(this)||v(M))return f;if(g(this))return g(M)?w(this).j(w(M)):w(w(this).j(M));if(g(M))return w(this.j(w(M)));if(0>this.l(m)&&0>M.l(m))return c(this.m()*M.m());for(var R=this.g.length+M.g.length,U=[],W=0;W<2*R;W++)U[W]=0;for(W=0;W<this.g.length;W++)for(var $=0;$<M.g.length;$++){var q=this.i(W)>>>16,C=this.i(W)&65535,y=M.i($)>>>16,A=M.i($)&65535;U[2*W+2*$]+=C*A,_(U,2*W+2*$),U[2*W+2*$+1]+=q*A,_(U,2*W+2*$+1),U[2*W+2*$+1]+=C*y,_(U,2*W+2*$+1),U[2*W+2*$+2]+=q*y,_(U,2*W+2*$+2)}for(W=0;W<R;W++)U[W]=U[2*W+1]<<16|U[2*W];for(W=R;W<2*R;W++)U[W]=0;return new o(U,0)};function _(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function x(M,R){this.g=M,this.h=R}function S(M,R){if(v(R))throw Error("division by zero");if(v(M))return new x(f,f);if(g(M))return R=S(w(M),R),new x(w(R.g),w(R.h));if(g(R))return R=S(M,w(R)),new x(w(R.g),R.h);if(30<M.g.length){if(g(M)||g(R))throw Error("slowDivide_ only works with positive integers.");for(var U=p,W=R;0>=W.l(M);)U=D(U),W=D(W);var $=F(U,1),q=F(W,1);for(W=F(W,2),U=F(U,2);!v(W);){var C=q.add(W);0>=C.l(M)&&($=$.add(U),q=C),W=F(W,1),U=F(U,1)}return R=b(M,$.j(R)),new x($,R)}for($=f;0<=M.l(R);){for(U=Math.max(1,Math.floor(M.m()/R.m())),W=Math.ceil(Math.log(U)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),q=c(U),C=q.j(R);g(C)||0<C.l(M);)U-=W,q=c(U),C=q.j(R);v(q)&&(q=p),$=$.add(q),M=b(M,C)}return new x($,M)}t.A=function(M){return S(this,M).h},t.and=function(M){for(var R=Math.max(this.g.length,M.g.length),U=[],W=0;W<R;W++)U[W]=this.i(W)&M.i(W);return new o(U,this.h&M.h)},t.or=function(M){for(var R=Math.max(this.g.length,M.g.length),U=[],W=0;W<R;W++)U[W]=this.i(W)|M.i(W);return new o(U,this.h|M.h)},t.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),U=[],W=0;W<R;W++)U[W]=this.i(W)^M.i(W);return new o(U,this.h^M.h)};function D(M){for(var R=M.g.length+1,U=[],W=0;W<R;W++)U[W]=M.i(W)<<1|M.i(W-1)>>>31;return new o(U,M.h)}function F(M,R){var U=R>>5;R%=32;for(var W=M.g.length-U,$=[],q=0;q<W;q++)$[q]=0<R?M.i(q+U)>>>R|M.i(q+U+1)<<32-R:M.i(q+U);return new o($,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,N5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Sc=o}).apply(typeof d2<"u"?d2:typeof self<"u"?self:typeof window<"u"?window:{});var Ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R5,Cf,M5,S0,mE,P5,O5,L5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,E,P){return h==Array.prototype||h==Object.prototype||(h[E]=P.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ng=="object"&&Ng];for(var E=0;E<h.length;++E){var P=h[E];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function s(h,E){if(E)e:{var P=r;h=h.split(".");for(var G=0;G<h.length-1;G++){var J=h[G];if(!(J in P))break e;P=P[J]}h=h[h.length-1],G=P[h],E=E(G),E!=G&&E!=null&&e(P,h,{configurable:!0,writable:!0,value:E})}}function i(h,E){h instanceof String&&(h+="");var P=0,G=!1,J={next:function(){if(!G&&P<h.length){var se=P++;return{value:E(se,h[se]),done:!1}}return G=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}s("Array.prototype.values",function(h){return h||function(){return i(this,function(E,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var E=typeof h;return E=E!="object"?E:h?Array.isArray(h)?"array":E:"null",E=="array"||E=="object"&&typeof h.length=="number"}function c(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function u(h,E,P){return h.call.apply(h.bind,arguments)}function f(h,E,P){if(!h)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,G),h.apply(E,J)}}return function(){return h.apply(E,arguments)}}function p(h,E,P){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,p.apply(null,arguments)}function m(h,E){var P=Array.prototype.slice.call(arguments,1);return function(){var G=P.slice();return G.push.apply(G,arguments),h.apply(this,G)}}function v(h,E){function P(){}P.prototype=E.prototype,h.aa=E.prototype,h.prototype=new P,h.prototype.constructor=h,h.Qb=function(G,J,se){for(var ve=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)ve[Ft-2]=arguments[Ft];return E.prototype[J].apply(G,ve)}}function g(h){const E=h.length;if(0<E){const P=Array(E);for(let G=0;G<E;G++)P[G]=h[G];return P}return[]}function w(h,E){for(let P=1;P<arguments.length;P++){const G=arguments[P];if(l(G)){const J=h.length||0,se=G.length||0;h.length=J+se;for(let ve=0;ve<se;ve++)h[J+ve]=G[ve]}else h.push(G)}}class b{constructor(E,P){this.i=E,this.j=P,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function _(h){return/^[\s\xa0]*$/.test(h)}function x(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function S(h){return S[" "](h),h}S[" "]=function(){};var D=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function F(h,E,P){for(const G in h)E.call(P,h[G],G,h)}function M(h,E){for(const P in h)E.call(void 0,h[P],P,h)}function R(h){const E={};for(const P in h)E[P]=h[P];return E}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(h,E){let P,G;for(let J=1;J<arguments.length;J++){G=arguments[J];for(P in G)h[P]=G[P];for(let se=0;se<U.length;se++)P=U[se],Object.prototype.hasOwnProperty.call(G,P)&&(h[P]=G[P])}}function $(h){var E=1;h=h.split(":");const P=[];for(;0<E&&h.length;)P.push(h.shift()),E--;return h.length&&P.push(h.join(":")),P}function q(h){a.setTimeout(()=>{throw h},0)}function C(){var h=j;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class y{constructor(){this.h=this.g=null}add(E,P){const G=A.get();G.set(E,P),this.h?this.h.next=G:this.g=G,this.h=G}}var A=new b(()=>new O,h=>h.reset());class O{constructor(){this.next=this.g=this.h=null}set(E,P){this.h=E,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let z,L=!1,j=new y,H=()=>{const h=a.Promise.resolve(void 0);z=()=>{h.then(B)}};var B=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(P){q(P)}var E=A;E.j(h),100>E.h&&(E.h++,h.next=E.g,E.g=h)}L=!1};function T(){this.s=this.s,this.C=this.C}T.prototype.s=!1,T.prototype.ma=function(){this.s||(this.s=!0,this.N())},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const P=()=>{};a.addEventListener("test",P,E),a.removeEventListener("test",P,E)}catch{}return h}();function ue(h,E){if(K.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var P=this.type=h.type,G=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget){if(D){e:{try{S(E.nodeName);var J=!0;break e}catch{}J=!1}J||(E=null)}}else P=="mouseover"?E=h.fromElement:P=="mouseout"&&(E=h.toElement);this.relatedTarget=E,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:he[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ue.aa.h.call(this)}}v(ue,K);var he={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),ye=0;function Te(h,E,P,G,J){this.listener=h,this.proxy=null,this.src=E,this.type=P,this.capture=!!G,this.ha=J,this.key=++ye,this.da=this.fa=!1}function Re(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ee(h){this.src=h,this.g={},this.h=0}Ee.prototype.add=function(h,E,P,G,J){var se=h.toString();h=this.g[se],h||(h=this.g[se]=[],this.h++);var ve=He(h,E,G,J);return-1<ve?(E=h[ve],P||(E.fa=!1)):(E=new Te(E,this.src,se,!!G,J),E.fa=P,h.push(E)),E};function be(h,E){var P=E.type;if(P in h.g){var G=h.g[P],J=Array.prototype.indexOf.call(G,E,void 0),se;(se=0<=J)&&Array.prototype.splice.call(G,J,1),se&&(Re(E),h.g[P].length==0&&(delete h.g[P],h.h--))}}function He(h,E,P,G){for(var J=0;J<h.length;++J){var se=h[J];if(!se.da&&se.listener==E&&se.capture==!!P&&se.ha==G)return J}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),Ge={};function Vt(h,E,P,G,J){if(Array.isArray(E)){for(var se=0;se<E.length;se++)Vt(h,E[se],P,G,J);return null}return P=jn(P),h&&h[le]?h.K(E,P,c(G)?!!G.capture:!1,J):at(h,E,P,!1,G,J)}function at(h,E,P,G,J,se){if(!E)throw Error("Invalid event type");var ve=c(J)?!!J.capture:!!J,Ft=Tt(h);if(Ft||(h[Me]=Ft=new Ee(h)),P=Ft.add(E,P,G,ve,se),P.proxy)return P;if(G=Et(),P.proxy=G,G.src=h,G.listener=P,h.addEventListener)ae||(J=ve),J===void 0&&(J=!1),h.addEventListener(E.toString(),G,J);else if(h.attachEvent)h.attachEvent(oe(E.toString()),G);else if(h.addListener&&h.removeListener)h.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Et(){function h(P){return E.call(h.src,h.listener,P)}const E=It;return h}function ir(h,E,P,G,J){if(Array.isArray(E))for(var se=0;se<E.length;se++)ir(h,E[se],P,G,J);else G=c(G)?!!G.capture:!!G,P=jn(P),h&&h[le]?(h=h.i,E=String(E).toString(),E in h.g&&(se=h.g[E],P=He(se,P,G,J),-1<P&&(Re(se[P]),Array.prototype.splice.call(se,P,1),se.length==0&&(delete h.g[E],h.h--)))):h&&(h=Tt(h))&&(E=h.g[E.toString()],h=-1,E&&(h=He(E,P,G,J)),(P=-1<h?E[h]:null)&&wt(P))}function wt(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[le])be(E.i,h);else{var P=h.type,G=h.proxy;E.removeEventListener?E.removeEventListener(P,G,h.capture):E.detachEvent?E.detachEvent(oe(P),G):E.addListener&&E.removeListener&&E.removeListener(G),(P=Tt(E))?(be(P,h),P.h==0&&(P.src=null,E[Me]=null)):Re(h)}}}function oe(h){return h in Ge?Ge[h]:Ge[h]="on"+h}function It(h,E){if(h.da)h=!0;else{E=new ue(E,this);var P=h.listener,G=h.ha||h.src;h.fa&&wt(h),h=P.call(G,E)}return h}function Tt(h){return h=h[Me],h instanceof Ee?h:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function jn(h){return typeof h=="function"?h:(h[Ct]||(h[Ct]=function(E){return h.handleEvent(E)}),h[Ct])}function it(){T.call(this),this.i=new Ee(this),this.M=this,this.F=null}v(it,T),it.prototype[le]=!0,it.prototype.removeEventListener=function(h,E,P,G){ir(this,h,E,P,G)};function V(h,E){var P,G=h.F;if(G)for(P=[];G;G=G.F)P.push(G);if(h=h.M,G=E.type||E,typeof E=="string")E=new K(E,h);else if(E instanceof K)E.target=E.target||h;else{var J=E;E=new K(G,h),W(E,J)}if(J=!0,P)for(var se=P.length-1;0<=se;se--){var ve=E.g=P[se];J=I(ve,G,!0,E)&&J}if(ve=E.g=h,J=I(ve,G,!0,E)&&J,J=I(ve,G,!1,E)&&J,P)for(se=0;se<P.length;se++)ve=E.g=P[se],J=I(ve,G,!1,E)&&J}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var h=this.i,E;for(E in h.g){for(var P=h.g[E],G=0;G<P.length;G++)Re(P[G]);delete h.g[E],h.h--}}this.F=null},it.prototype.K=function(h,E,P,G){return this.i.add(String(h),E,!1,P,G)},it.prototype.L=function(h,E,P,G){return this.i.add(String(h),E,!0,P,G)};function I(h,E,P,G){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();for(var J=!0,se=0;se<E.length;++se){var ve=E[se];if(ve&&!ve.da&&ve.capture==P){var Ft=ve.listener,or=ve.ha||ve.src;ve.fa&&be(h.i,ve),J=Ft.call(or,G)!==!1&&J}}return J&&!G.defaultPrevented}function k(h,E,P){if(typeof h=="function")P&&(h=p(h,P));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(h,E||0)}function Q(h){h.g=k(()=>{h.g=null,h.i&&(h.i=!1,Q(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class X extends T{constructor(E,P){super(),this.m=E,this.l=P,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Z(h){T.call(this),this.h=h,this.g={}}v(Z,T);var ne=[];function et(h){F(h.g,function(E,P){this.g.hasOwnProperty(P)&&wt(E)},h),h.g={}}Z.prototype.N=function(){Z.aa.N.call(this),et(this)},Z.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=a.JSON.stringify,Ke=a.JSON.parse,jt=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Be(){}Be.prototype.h=null;function un(h){return h.h||(h.h=h.i())}function Oh(){}var zt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rn(){K.call(this,"d")}v(rn,K);function su(){K.call(this,"c")}v(su,K);var Ot={},dn=null;function Ml(){return dn=dn||new it}Ot.La="serverreachability";function hn(h){K.call(this,Ot.La,h)}v(hn,K);function Wt(h){const E=Ml();V(E,new hn(E))}Ot.STAT_EVENT="statevent";function Lh(h,E){K.call(this,Ot.STAT_EVENT,h),this.stat=E}v(Lh,K);function dt(h){const E=Ml();V(E,new Lh(E,h))}Ot.Ma="timingevent";function fn(h,E){K.call(this,Ot.Ma,h),this.size=E}v(fn,K);function ta(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},E)}function $t(){this.g=!0}$t.prototype.xa=function(){this.g=!1};function Sn(h,E,P,G,J,se){h.info(function(){if(h.g)if(se)for(var ve="",Ft=se.split("&"),or=0;or<Ft.length;or++){var vt=Ft[or].split("=");if(1<vt.length){var Tr=vt[0];vt=vt[1];var Ar=Tr.split("_");ve=2<=Ar.length&&Ar[1]=="type"?ve+(Tr+"="+vt+"&"):ve+(Tr+"=redacted&")}}else ve=null;else ve=se;return"XMLHTTP REQ ("+G+") [attempt "+J+"]: "+E+`
`+P+`
`+ve})}function Mm(h,E,P,G,J,se,ve){h.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+J+"]: "+E+`
`+P+`
`+se+" "+ve})}function Bt(h,E,P,G){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+Pm(h,P)+(G?" "+G:"")})}function Tn(h,E){h.info(function(){return"TIMEOUT: "+E})}$t.prototype.info=function(){};function Pm(h,E){if(!h.g)return E;if(!E)return null;try{var P=JSON.parse(E);if(P){for(h=0;h<P.length;h++)if(Array.isArray(P[h])){var G=P[h];if(!(2>G.length)){var J=G[1];if(Array.isArray(J)&&!(1>J.length)){var se=J[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ve=1;ve<J.length;ve++)J[ve]=""}}}}return qe(P)}catch{return E}}var Yt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},iu;function Xt(){}v(Xt,Be),Xt.prototype.g=function(){return new XMLHttpRequest},Xt.prototype.i=function(){return{}},iu=new Xt;function kt(h,E,P,G){this.j=h,this.i=E,this.l=P,this.R=G||1,this.U=new Z(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ou}function ou(){this.i=null,this.g="",this.h=!1}var au={},Pl={};function Ol(h,E,P){h.L=1,h.v=Dm(ao(E)),h.m=P,h.P=!0,lu(h,null)}function lu(h,E){h.F=Date.now(),na(h),h.A=ao(h.v);var P=h.A,G=h.R;Array.isArray(G)||(G=[String(G)]),oI(P.i,"t",G),h.C=0,P=h.j.J,h.h=new ou,h.g=SI(h.j,P?E:null,!h.m),0<h.O&&(h.M=new X(p(h.Y,h,h.g),h.O)),E=h.U,P=h.g,G=h.ca;var J="readystatechange";Array.isArray(J)||(J&&(ne[0]=J.toString()),J=ne);for(var se=0;se<J.length;se++){var ve=Vt(P,J[se],G||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,E)):(h.u="GET",h.g.ea(h.A,h.u,null,E)),Wt(),Sn(h.i,h.u,h.A,h.l,h.R,h.m)}kt.prototype.ca=function(h){h=h.target;const E=this.M;E&&lo(h)==3?E.j():this.Y(h)},kt.prototype.Y=function(h){try{if(h==this.g)e:{const Ar=lo(this.g);var E=this.g.Ba();const gu=this.g.Z();if(!(3>Ar)&&(Ar!=3||this.g&&(this.h.h||this.g.oa()||fI(this.g)))){this.J||Ar!=4||E==7||(E==8||0>=gu?Wt(3):Wt(2)),Ll(this);var P=this.g.Z();this.X=P;t:if(cu(this)){var G=fI(this.g);h="";var J=G.length,se=lo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),oo(this);var ve="";break t}this.h.i=new a.TextDecoder}for(E=0;E<J;E++)this.h.h=!0,h+=this.h.i.decode(G[E],{stream:!(se&&E==J-1)});G.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=P==200,Mm(this.i,this.u,this.A,this.l,this.R,Ar,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Ft,or=this.g;if((Ft=or.g?or.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ft)){var vt=Ft;break t}}vt=null}if(P=vt)Bt(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dl(this,P);else{this.o=!1,this.s=3,dt(12),ei(this),oo(this);break e}}if(this.P){P=!0;let ti;for(;!this.J&&this.C<ve.length;)if(ti=Dh(this,ve),ti==Pl){Ar==4&&(this.s=4,dt(14),P=!1),Bt(this.i,this.l,null,"[Incomplete Response]");break}else if(ti==au){this.s=4,dt(15),Bt(this.i,this.l,ve,"[Invalid Chunk]"),P=!1;break}else Bt(this.i,this.l,ti,null),Dl(this,ti);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ar!=4||ve.length!=0||this.h.h||(this.s=1,dt(16),P=!1),this.o=this.o&&P,!P)Bt(this.i,this.l,ve,"[Invalid Chunked Response]"),ei(this),oo(this);else if(0<ve.length&&!this.W){this.W=!0;var Tr=this.j;Tr.g==this&&Tr.ba&&!Tr.M&&(Tr.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Gv(Tr),Tr.M=!0,dt(11))}}else Bt(this.i,this.l,ve,null),Dl(this,ve);Ar==4&&ei(this),this.o&&!this.J&&(Ar==4?xI(this.j,this):(this.o=!1,na(this)))}else o8(this.g),P==400&&0<ve.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),ei(this),oo(this)}}}catch{}finally{}};function cu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Dh(h,E){var P=h.C,G=E.indexOf(`
`,P);return G==-1?Pl:(P=Number(E.substring(P,G)),isNaN(P)?au:(G+=1,G+P>E.length?Pl:(E=E.slice(G,G+P),h.C=G+P,E)))}kt.prototype.cancel=function(){this.J=!0,ei(this)};function na(h){h.S=Date.now()+h.I,uu(h,h.I)}function uu(h,E){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ta(p(h.ba,h),E)}function Ll(h){h.B&&(a.clearTimeout(h.B),h.B=null)}kt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Tn(this.i,this.A),this.L!=2&&(Wt(),dt(17)),ei(this),this.s=2,oo(this)):uu(this,this.S-h)};function oo(h){h.j.G==0||h.J||xI(h.j,h)}function ei(h){Ll(h);var E=h.M;E&&typeof E.ma=="function"&&E.ma(),h.M=null,et(h.U),h.g&&(E=h.g,h.g=null,E.abort(),E.ma())}function Dl(h,E){try{var P=h.j;if(P.G!=0&&(P.g==h||jl(P.h,h))){if(!h.K&&jl(P.h,h)&&P.G==3){try{var G=P.Da.g.parse(E)}catch{G=null}if(Array.isArray(G)&&G.length==3){var J=G;if(J[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<h.F)zm(P),Um(P);else break e;Kv(P),dt(18)}}else P.za=J[1],0<P.za-P.T&&37500>J[2]&&P.F&&P.v==0&&!P.C&&(P.C=ta(p(P.Za,P),6e3));if(1>=fu(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Ul(P,11)}else if((h.K||P.g==h)&&zm(P),!_(E))for(J=P.Da.g.parse(E),E=0;E<J.length;E++){let vt=J[E];if(P.T=vt[0],vt=vt[1],P.G==2)if(vt[0]=="c"){P.K=vt[1],P.ia=vt[2];const Tr=vt[3];Tr!=null&&(P.la=Tr,P.j.info("VER="+P.la));const Ar=vt[4];Ar!=null&&(P.Aa=Ar,P.j.info("SVER="+P.Aa));const gu=vt[5];gu!=null&&typeof gu=="number"&&0<gu&&(G=1.5*gu,P.L=G,P.j.info("backChannelRequestTimeoutMs_="+G)),G=P;const ti=h.g;if(ti){const $m=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($m){var se=G.h;se.g||$m.indexOf("spdy")==-1&&$m.indexOf("quic")==-1&&$m.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Bl(se,se.h),se.h=null))}if(G.D){const Qv=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Qv&&(G.ya=Qv,Zt(G.I,G.D,Qv))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-h.F,P.j.info("Handshake RTT: "+P.R+"ms")),G=P;var ve=h;if(G.qa=EI(G,G.J?G.ia:null,G.W),ve.K){ZA(G.h,ve);var Ft=ve,or=G.L;or&&(Ft.I=or),Ft.B&&(Ll(Ft),na(Ft)),G.g=ve}else wI(G);0<P.i.length&&Vm(P)}else vt[0]!="stop"&&vt[0]!="close"||Ul(P,7);else P.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Ul(P,7):qv(P):vt[0]!="noop"&&P.l&&P.l.ta(vt),P.v=0)}}Wt(4)}catch{}}var jh=class{constructor(h,E){this.g=h,this.map=E}};function du(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hu(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function fu(h){return h.h?1:h.g?h.g.size:0}function jl(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function Bl(h,E){h.g?h.g.add(E):h.h=E}function ZA(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}du.prototype.cancel=function(){if(this.i=JA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function JA(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const P of h.g.values())E=E.concat(P.D);return E}return g(h.i)}function HB(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var E=[],P=h.length,G=0;G<P;G++)E.push(h[G]);return E}E=[],P=0;for(G in h)E[P++]=h[G];return E}function qB(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var E=[];h=h.length;for(var P=0;P<h;P++)E.push(P);return E}E=[],P=0;for(const G in h)E[P++]=G;return E}}}function eI(h,E){if(h.forEach&&typeof h.forEach=="function")h.forEach(E,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,E,void 0);else for(var P=qB(h),G=HB(h),J=G.length,se=0;se<J;se++)E.call(void 0,G[se],P&&P[se],h)}var tI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KB(h,E){if(h){h=h.split("&");for(var P=0;P<h.length;P++){var G=h[P].indexOf("="),J=null;if(0<=G){var se=h[P].substring(0,G);J=h[P].substring(G+1)}else se=h[P];E(se,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Fl(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Fl){this.h=h.h,Om(this,h.j),this.o=h.o,this.g=h.g,Lm(this,h.s),this.l=h.l;var E=h.i,P=new Uh;P.i=E.i,E.g&&(P.g=new Map(E.g),P.h=E.h),nI(this,P),this.m=h.m}else h&&(E=String(h).match(tI))?(this.h=!1,Om(this,E[1]||"",!0),this.o=Bh(E[2]||""),this.g=Bh(E[3]||"",!0),Lm(this,E[4]),this.l=Bh(E[5]||"",!0),nI(this,E[6]||"",!0),this.m=Bh(E[7]||"")):(this.h=!1,this.i=new Uh(null,this.h))}Fl.prototype.toString=function(){var h=[],E=this.j;E&&h.push(Fh(E,rI,!0),":");var P=this.g;return(P||E=="file")&&(h.push("//"),(E=this.o)&&h.push(Fh(E,rI,!0),"@"),h.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&h.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&h.push("/"),h.push(Fh(P,P.charAt(0)=="/"?YB:QB,!0))),(P=this.i.toString())&&h.push("?",P),(P=this.m)&&h.push("#",Fh(P,ZB)),h.join("")};function ao(h){return new Fl(h)}function Om(h,E,P){h.j=P?Bh(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function Lm(h,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);h.s=E}else h.s=null}function nI(h,E,P){E instanceof Uh?(h.i=E,JB(h.i,h.h)):(P||(E=Fh(E,XB)),h.i=new Uh(E,h.h))}function Zt(h,E,P){h.i.set(E,P)}function Dm(h){return Zt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Bh(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Fh(h,E,P){return typeof h=="string"?(h=encodeURI(h).replace(E,GB),P&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function GB(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var rI=/[#\/\?@]/g,QB=/[#\?:]/g,YB=/[#\?]/g,XB=/[#\?@]/g,ZB=/#/g;function Uh(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function ra(h){h.g||(h.g=new Map,h.h=0,h.i&&KB(h.i,function(E,P){h.add(decodeURIComponent(E.replace(/\+/g," ")),P)}))}t=Uh.prototype,t.add=function(h,E){ra(this),this.i=null,h=pu(this,h);var P=this.g.get(h);return P||this.g.set(h,P=[]),P.push(E),this.h+=1,this};function sI(h,E){ra(h),E=pu(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function iI(h,E){return ra(h),E=pu(h,E),h.g.has(E)}t.forEach=function(h,E){ra(this),this.g.forEach(function(P,G){P.forEach(function(J){h.call(E,J,G,this)},this)},this)},t.na=function(){ra(this);const h=Array.from(this.g.values()),E=Array.from(this.g.keys()),P=[];for(let G=0;G<E.length;G++){const J=h[G];for(let se=0;se<J.length;se++)P.push(E[G])}return P},t.V=function(h){ra(this);let E=[];if(typeof h=="string")iI(this,h)&&(E=E.concat(this.g.get(pu(this,h))));else{h=Array.from(this.g.values());for(let P=0;P<h.length;P++)E=E.concat(h[P])}return E},t.set=function(h,E){return ra(this),this.i=null,h=pu(this,h),iI(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},t.get=function(h,E){return h?(h=this.V(h),0<h.length?String(h[0]):E):E};function oI(h,E,P){sI(h,E),0<P.length&&(h.i=null,h.g.set(pu(h,E),g(P)),h.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(var P=0;P<E.length;P++){var G=E[P];const se=encodeURIComponent(String(G)),ve=this.V(G);for(G=0;G<ve.length;G++){var J=se;ve[G]!==""&&(J+="="+encodeURIComponent(String(ve[G]))),h.push(J)}}return this.i=h.join("&")};function pu(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function JB(h,E){E&&!h.j&&(ra(h),h.i=null,h.g.forEach(function(P,G){var J=G.toLowerCase();G!=J&&(sI(this,G),oI(this,J,P))},h)),h.j=E}function e8(h,E){const P=new $t;if(a.Image){const G=new Image;G.onload=m(sa,P,"TestLoadImage: loaded",!0,E,G),G.onerror=m(sa,P,"TestLoadImage: error",!1,E,G),G.onabort=m(sa,P,"TestLoadImage: abort",!1,E,G),G.ontimeout=m(sa,P,"TestLoadImage: timeout",!1,E,G),a.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=h}else E(!1)}function t8(h,E){const P=new $t,G=new AbortController,J=setTimeout(()=>{G.abort(),sa(P,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:G.signal}).then(se=>{clearTimeout(J),se.ok?sa(P,"TestPingServer: ok",!0,E):sa(P,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(J),sa(P,"TestPingServer: error",!1,E)})}function sa(h,E,P,G,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),G(P)}catch{}}function n8(){this.g=new jt}function r8(h,E,P){const G=P||"";try{eI(h,function(J,se){let ve=J;c(J)&&(ve=qe(J)),E.push(G+se+"="+encodeURIComponent(ve))})}catch(J){throw E.push(G+"type="+encodeURIComponent("_badmap")),J}}function jm(h){this.l=h.Ub||null,this.j=h.eb||!1}v(jm,Be),jm.prototype.g=function(){return new Bm(this.l,this.j)},jm.prototype.i=function(h){return function(){return h}}({});function Bm(h,E){it.call(this),this.D=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Bm,it),t=Bm.prototype,t.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=E,this.readyState=1,zh(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(E.body=h),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vh(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,zh(this)),this.g&&(this.readyState=3,zh(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;aI(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function aI(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?Vh(this):zh(this),this.readyState==3&&aI(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Vh(this))},t.Qa=function(h){this.g&&(this.response=h,Vh(this))},t.ga=function(){this.g&&Vh(this)};function Vh(h){h.readyState=4,h.l=null,h.j=null,h.v=null,zh(h)}t.setRequestHeader=function(h,E){this.u.append(h,E)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var P=E.next();!P.done;)P=P.value,h.push(P[0]+": "+P[1]),P=E.next();return h.join(`\r
`)};function zh(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Bm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function lI(h){let E="";return F(h,function(P,G){E+=G,E+=":",E+=P,E+=`\r
`}),E}function Hv(h,E,P){e:{for(G in P){var G=!1;break e}G=!0}G||(P=lI(P),typeof h=="string"?P!=null&&encodeURIComponent(String(P)):Zt(h,E,P))}function An(h){it.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(An,it);var s8=/^https?$/i,i8=["POST","PUT"];t=An.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,E,P,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():iu.g(),this.v=this.o?un(this.o):un(iu),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(se){cI(this,se);return}if(h=P||"",P=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var J in G)P.set(J,G[J]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const se of G.keys())P.set(se,G.get(se));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(P.keys()).find(se=>se.toLowerCase()=="content-type"),J=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(i8,E,void 0))||G||J||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ve]of P)this.g.setRequestHeader(se,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hI(this),this.u=!0,this.g.send(h),this.u=!1}catch(se){cI(this,se)}};function cI(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.m=5,uI(h),Fm(h)}function uI(h){h.A||(h.A=!0,V(h,"complete"),V(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,V(this,"complete"),V(this,"abort"),Fm(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fm(this,!0)),An.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dI(this):this.bb())},t.bb=function(){dI(this)};function dI(h){if(h.h&&typeof o<"u"&&(!h.v[1]||lo(h)!=4||h.Z()!=2)){if(h.u&&lo(h)==4)k(h.Ea,0,h);else if(V(h,"readystatechange"),lo(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var P;if(!(P=E)){var G;if(G=ve===0){var J=String(h.D).match(tI)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),G=!s8.test(J?J.toLowerCase():"")}P=G}if(P)V(h,"complete"),V(h,"success");else{h.m=6;try{var se=2<lo(h)?h.g.statusText:""}catch{se=""}h.l=se+" ["+h.Z()+"]",uI(h)}}finally{Fm(h)}}}}function Fm(h,E){if(h.g){hI(h);const P=h.g,G=h.v[0]?()=>{}:null;h.g=null,h.v=null,E||V(h,"ready");try{P.onreadystatechange=G}catch{}}}function hI(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function lo(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<lo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),Ke(E)}};function fI(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function o8(h){const E={};h=(h.g&&2<=lo(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<h.length;G++){if(_(h[G]))continue;var P=$(h[G]);const J=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const se=E[J]||[];E[J]=se,se.push(P)}M(E,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wh(h,E,P){return P&&P.internalChannelParams&&P.internalChannelParams[h]||E}function pI(h){this.Aa=0,this.i=[],this.j=new $t,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wh("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wh("baseRetryDelayMs",5e3,h),this.cb=Wh("retryDelaySeedMs",1e4,h),this.Wa=Wh("forwardChannelMaxRetries",2,h),this.wa=Wh("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new du(h&&h.concurrentRequestLimit),this.Da=new n8,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pI.prototype,t.la=8,t.G=1,t.connect=function(h,E,P,G){dt(0),this.W=h,this.H=E||{},P&&G!==void 0&&(this.H.OSID=P,this.H.OAID=G),this.F=this.X,this.I=EI(this,null,this.W),Vm(this)};function qv(h){if(mI(h),h.G==3){var E=h.U++,P=ao(h.I);if(Zt(P,"SID",h.K),Zt(P,"RID",E),Zt(P,"TYPE","terminate"),$h(h,P),E=new kt(h,h.j,E),E.L=2,E.v=Dm(ao(P)),P=!1,a.navigator&&a.navigator.sendBeacon)try{P=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!P&&a.Image&&(new Image().src=E.v,P=!0),P||(E.g=SI(E.j,null),E.g.ea(E.v)),E.F=Date.now(),na(E)}_I(h)}function Um(h){h.g&&(Gv(h),h.g.cancel(),h.g=null)}function mI(h){Um(h),h.u&&(a.clearTimeout(h.u),h.u=null),zm(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Vm(h){if(!hu(h.h)&&!h.s){h.s=!0;var E=h.Ga;z||H(),L||(z(),L=!0),j.add(E,h),h.B=0}}function a8(h,E){return fu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=E.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ta(p(h.Ga,h,E),bI(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const J=new kt(this,this.j,h);let se=this.o;if(this.S&&(se?(se=R(se),W(se,this.S)):se=this.S),this.m!==null||this.O||(J.H=se,se=null),this.P)e:{for(var E=0,P=0;P<this.i.length;P++){t:{var G=this.i[P];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(E+=G,4096<E){E=P;break e}if(E===4096||P===this.i.length-1){E=P+1;break e}}E=1e3}else E=1e3;E=yI(this,J,E),P=ao(this.I),Zt(P,"RID",h),Zt(P,"CVER",22),this.D&&Zt(P,"X-HTTP-Session-Id",this.D),$h(this,P),se&&(this.O?E="headers="+encodeURIComponent(String(lI(se)))+"&"+E:this.m&&Hv(P,this.m,se)),Bl(this.h,J),this.Ua&&Zt(P,"TYPE","init"),this.P?(Zt(P,"$req",E),Zt(P,"SID","null"),J.T=!0,Ol(J,P,null)):Ol(J,P,E),this.G=2}}else this.G==3&&(h?gI(this,h):this.i.length==0||hu(this.h)||gI(this))};function gI(h,E){var P;E?P=E.l:P=h.U++;const G=ao(h.I);Zt(G,"SID",h.K),Zt(G,"RID",P),Zt(G,"AID",h.T),$h(h,G),h.m&&h.o&&Hv(G,h.m,h.o),P=new kt(h,h.j,P,h.B+1),h.m===null&&(P.H=h.o),E&&(h.i=E.D.concat(h.i)),E=yI(h,P,1e3),P.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Bl(h.h,P),Ol(P,G,E)}function $h(h,E){h.H&&F(h.H,function(P,G){Zt(E,G,P)}),h.l&&eI({},function(P,G){Zt(E,G,P)})}function yI(h,E,P){P=Math.min(h.i.length,P);var G=h.l?p(h.l.Na,h.l,h):null;e:{var J=h.i;let se=-1;for(;;){const ve=["count="+P];se==-1?0<P?(se=J[0].g,ve.push("ofs="+se)):se=0:ve.push("ofs="+se);let Ft=!0;for(let or=0;or<P;or++){let vt=J[or].g;const Tr=J[or].map;if(vt-=se,0>vt)se=Math.max(0,J[or].g-100),Ft=!1;else try{r8(Tr,ve,"req"+vt+"_")}catch{G&&G(Tr)}}if(Ft){G=ve.join("&");break e}}}return h=h.i.splice(0,P),E.D=h,G}function wI(h){if(!h.g&&!h.u){h.Y=1;var E=h.Fa;z||H(),L||(z(),L=!0),j.add(E,h),h.v=0}}function Kv(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ta(p(h.Fa,h),bI(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,vI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ta(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Um(this),vI(this))};function Gv(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function vI(h){h.g=new kt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var E=ao(h.qa);Zt(E,"RID","rpc"),Zt(E,"SID",h.K),Zt(E,"AID",h.T),Zt(E,"CI",h.F?"0":"1"),!h.F&&h.ja&&Zt(E,"TO",h.ja),Zt(E,"TYPE","xmlhttp"),$h(h,E),h.m&&h.o&&Hv(E,h.m,h.o),h.L&&(h.g.I=h.L);var P=h.g;h=h.ia,P.L=1,P.v=Dm(ao(E)),P.m=null,P.P=!0,lu(P,h)}t.Za=function(){this.C!=null&&(this.C=null,Um(this),Kv(this),dt(19))};function zm(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function xI(h,E){var P=null;if(h.g==E){zm(h),Gv(h),h.g=null;var G=2}else if(jl(h.h,E))P=E.D,ZA(h.h,E),G=1;else return;if(h.G!=0){if(E.o)if(G==1){P=E.m?E.m.length:0,E=Date.now()-E.F;var J=h.B;G=Ml(),V(G,new fn(G,P)),Vm(h)}else wI(h);else if(J=E.s,J==3||J==0&&0<E.X||!(G==1&&a8(h,E)||G==2&&Kv(h)))switch(P&&0<P.length&&(E=h.h,E.i=E.i.concat(P)),J){case 1:Ul(h,5);break;case 4:Ul(h,10);break;case 3:Ul(h,6);break;default:Ul(h,2)}}}function bI(h,E){let P=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(P*=2),P*E}function Ul(h,E){if(h.j.info("Error code "+E),E==2){var P=p(h.fb,h),G=h.Xa;const J=!G;G=new Fl(G||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Om(G,"https"),Dm(G),J?e8(G.toString(),P):t8(G.toString(),P)}else dt(2);h.G=0,h.l&&h.l.sa(E),_I(h),mI(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function _I(h){if(h.G=0,h.ka=[],h.l){const E=JA(h.h);(E.length!=0||h.i.length!=0)&&(w(h.ka,E),w(h.ka,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.ra()}}function EI(h,E,P){var G=P instanceof Fl?ao(P):new Fl(P);if(G.g!="")E&&(G.g=E+"."+G.g),Lm(G,G.s);else{var J=a.location;G=J.protocol,E=E?E+"."+J.hostname:J.hostname,J=+J.port;var se=new Fl(null);G&&Om(se,G),E&&(se.g=E),J&&Lm(se,J),P&&(se.l=P),G=se}return P=h.D,E=h.ya,P&&E&&Zt(G,P,E),Zt(G,"VER",h.la),$h(h,G),G}function SI(h,E,P){if(E&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Ca&&!h.pa?new An(new jm({eb:P})):new An(h.pa),E.Ha(h.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function TI(){}t=TI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wm(){}Wm.prototype.g=function(h,E){return new vs(h,E)};function vs(h,E){it.call(this),this.g=new pI(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(h?h["X-WebChannel-Client-Profile"]=E.va:h={"X-WebChannel-Client-Profile":E.va}),this.g.S=h,(h=E&&E.Sb)&&!_(h)&&(this.g.m=h),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!_(E)&&(this.g.D=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new mu(this)}v(vs,it),vs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vs.prototype.close=function(){qv(this.g)},vs.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var P={};P.__data__=h,h=P}else this.u&&(P={},P.__data__=qe(h),h=P);E.i.push(new jh(E.Ya++,h)),E.G==3&&Vm(E)},vs.prototype.N=function(){this.g.l=null,delete this.j,qv(this.g),delete this.g,vs.aa.N.call(this)};function AI(h){rn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const P in E){h=P;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}v(AI,rn);function II(){su.call(this),this.status=1}v(II,su);function mu(h){this.g=h}v(mu,TI),mu.prototype.ua=function(){V(this.g,"a")},mu.prototype.ta=function(h){V(this.g,new AI(h))},mu.prototype.sa=function(h){V(this.g,new II)},mu.prototype.ra=function(){V(this.g,"b")},Wm.prototype.createWebChannel=Wm.prototype.g,vs.prototype.send=vs.prototype.o,vs.prototype.open=vs.prototype.m,vs.prototype.close=vs.prototype.close,L5=function(){return new Wm},O5=function(){return Ml()},P5=Ot,mE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yt.NO_ERROR=0,Yt.TIMEOUT=8,Yt.HTTP_ERROR=6,S0=Yt,pn.COMPLETE="complete",M5=pn,Oh.EventType=zt,zt.OPEN="a",zt.CLOSE="b",zt.ERROR="c",zt.MESSAGE="d",it.prototype.listen=it.prototype.K,Cf=Oh,An.prototype.listenOnce=An.prototype.L,An.prototype.getLastError=An.prototype.Ka,An.prototype.getLastErrorCode=An.prototype.Ba,An.prototype.getStatus=An.prototype.Z,An.prototype.getResponseJson=An.prototype.Oa,An.prototype.getResponseText=An.prototype.oa,An.prototype.send=An.prototype.ea,An.prototype.setWithCredentials=An.prototype.Ha,R5=An}).apply(typeof Ng<"u"?Ng:typeof self<"u"?self:typeof window<"u"?window:{});const h2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new GT("@firebase/firestore");function cf(){return zc.logLevel}function Ce(t,...e){if(zc.logLevel<=pt.DEBUG){const n=e.map(XT);zc.debug(`Firestore (${Ch}): ${t}`,...n)}}function Yo(t,...e){if(zc.logLevel<=pt.ERROR){const n=e.map(XT);zc.error(`Firestore (${Ch}): ${t}`,...n)}}function oh(t,...e){if(zc.logLevel<=pt.WARN){const n=e.map(XT);zc.warn(`Firestore (${Ch}): ${t}`,...n)}}function XT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t="Unexpected state"){const e=`FIRESTORE (${Ch}) INTERNAL ASSERTION FAILED: `+t;throw Yo(e),new Error(e)}function yt(t,e){t||ze()}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends ro{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ese{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fr.UNAUTHENTICATED))}shutdown(){}}class Sse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Tse{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Wi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Wi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt(typeof r.accessToken=="string"),new D5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string"),new Fr(e)}}class Ase{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ise{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ase(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cse{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kse{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){yt(this.o===void 0);const r=i=>{i.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string"),this.R=n.token,new Cse(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nse(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Nse(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function bt(t,e){return t<e?-1:t>e?1:0}function ah(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xn.fromMillis(Date.now())}static fromDate(e){return Xn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Xn(0,0))}static max(){return new $e(new Xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(),r===void 0?r=e.length-n:r>e.length-n&&ze(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Lt extends Cp{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Lt(n)}static emptyPath(){return new Lt([])}}const Rse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends Cp{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return Rse.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yr(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new we(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new we(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new we(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new we(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Lt.fromString(e))}static fromName(e){return new Oe(Lt.fromString(e).popFirst(5))}static empty(){return new Oe(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Lt(e.slice()))}}function Mse(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=$e.fromTimestamp(r===1e9?new Xn(n+1,0):new Xn(n,r));return new vl(s,Oe.empty(),e)}function Pse(t){return new vl(t.readTime,t.key,-1)}class vl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vl($e.min(),Oe.empty(),-1)}static max(){return new vl($e.max(),Oe.empty(),-1)}}function Ose(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Oe.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lse="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dse{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==Lse)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.reject(n)}static resolve(e){return new pe((n,r)=>{n(e)})}static reject(e){return new pe((n,r)=>{r(e)})}static waitFor(e){return new pe((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=pe.resolve(!1);for(const r of e)n=n.next(s=>s?pe.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new pe((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new pe((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function jse(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ZT.oe=-1;function bm(t){return t==null}function Qy(t){return t===0&&1/t==-1/0}function Bse(t){return typeof t=="number"&&Number.isInteger(t)&&!Qy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function B5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new En(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rg(this.root,e,this.comparator,!0)}}class Rg{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??mr.RED,this.left=s??mr.EMPTY,this.right=i??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new mr(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return mr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(e,n,r,s,i){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new p2(this.data.getIterator())}getIteratorFrom(e){return new p2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new br(this.comparator);return n.data=e,n}}class p2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new Ns([])}unionWith(e){let n=new br(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ns(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ah(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new F5("Invalid base64 string: "+i):i}}(e);return new Sr(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const Fse=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xl(t){if(yt(!!t),typeof t=="string"){let e=0;const n=Fse.exec(t);if(yt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pn(t.seconds),nanos:Pn(t.nanos)}}function Pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wc(t){return typeof t=="string"?Sr.fromBase64String(t):Sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function JT(t){const e=t.mapValue.fields.__previous_value__;return Sv(e)?JT(e):e}function kp(t){const e=xl(t.mapValue.fields.__local_write_time__.timestampValue);return new Xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Use{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Np{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Np("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Np&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg={mapValue:{}};function $c(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sv(t)?4:zse(t)?9007199254740991:Vse(t)?10:11:ze()}function Qi(t,e){if(t===e)return!0;const n=$c(t);if(n!==$c(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kp(t).isEqual(kp(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=xl(s.timestampValue),a=xl(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Wc(s.bytesValue).isEqual(Wc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Pn(s.geoPointValue.latitude)===Pn(i.geoPointValue.latitude)&&Pn(s.geoPointValue.longitude)===Pn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Pn(s.integerValue)===Pn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Pn(s.doubleValue),a=Pn(i.doubleValue);return o===a?Qy(o)===Qy(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ah(t.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(f2(o)!==f2(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Qi(o[l],a[l])))return!1;return!0}(t,e);default:return ze()}}function Rp(t,e){return(t.values||[]).find(n=>Qi(n,e))!==void 0}function lh(t,e){if(t===e)return 0;const n=$c(t),r=$c(e);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Pn(i.integerValue||i.doubleValue),l=Pn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return m2(t.timestampValue,e.timestampValue);case 4:return m2(kp(t),kp(e));case 5:return bt(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Wc(i),l=Wc(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=bt(a[c],l[c]);if(u!==0)return u}return bt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=bt(Pn(i.latitude),Pn(o.latitude));return a!==0?a:bt(Pn(i.longitude),Pn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return g2(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const f=i.fields||{},p=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(l=p.value)===null||l===void 0?void 0:l.arrayValue,g=bt(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:g2(m,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Mg.mapValue&&o===Mg.mapValue)return 0;if(i===Mg.mapValue)return 1;if(o===Mg.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const p=bt(l[f],u[f]);if(p!==0)return p;const m=lh(a[l[f]],c[u[f]]);if(m!==0)return m}return bt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ze()}}function m2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const n=xl(t),r=xl(e),s=bt(n.seconds,r.seconds);return s!==0?s:bt(n.nanos,r.nanos)}function g2(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=lh(n[s],r[s]);if(i)return i}return bt(n.length,r.length)}function ch(t){return gE(t)}function gE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Wc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=gE(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${gE(n.fields[o])}`;return s+"}"}(t.mapValue):ze()}function Yy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yE(t){return!!t&&"integerValue"in t}function eA(t){return!!t&&"arrayValue"in t}function y2(t){return!!t&&"nullValue"in t}function w2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function T0(t){return!!t&&"mapValue"in t}function Vse(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return tu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zse(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.value=e}static empty(){return new Jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!T0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qf(n)}setAll(e){let n=yr.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=qf(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());T0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];T0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){tu(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Jr(qf(this.value))}}function U5(t){const e=[];return tu(t.fields,(n,r)=>{const s=new yr([n]);if(T0(r)){const i=U5(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ns(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new nr(e,0,$e.min(),$e.min(),$e.min(),Jr.empty(),0)}static newFoundDocument(e,n,r,s){return new nr(e,1,n,$e.min(),r,s,0)}static newNoDocument(e,n){return new nr(e,2,n,$e.min(),$e.min(),Jr.empty(),0)}static newUnknownDocument(e,n){return new nr(e,3,n,$e.min(),$e.min(),Jr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.position=e,this.inclusive=n}}function v2(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Oe.comparator(Oe.fromName(o.referenceValue),n.key):r=lh(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function x2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wse(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{}class $n extends V5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hse(e,n,r):n==="array-contains"?new Gse(e,r):n==="in"?new Qse(e,r):n==="not-in"?new Yse(e,r):n==="array-contains-any"?new Xse(e,r):new $n(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qse(e,r):new Kse(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lh(n,this.value)):n!==null&&$c(this.value)===$c(n)&&this.matchesComparison(lh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends V5{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ti(e,n)}matches(e){return z5(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function z5(t){return t.op==="and"}function W5(t){return $se(t)&&z5(t)}function $se(t){for(const e of t.filters)if(e instanceof Ti)return!1;return!0}function wE(t){if(t instanceof $n)return t.field.canonicalString()+t.op.toString()+ch(t.value);if(W5(t))return t.filters.map(e=>wE(e)).join(",");{const e=t.filters.map(n=>wE(n)).join(",");return`${t.op}(${e})`}}function $5(t,e){return t instanceof $n?function(r,s){return s instanceof $n&&r.op===s.op&&r.field.isEqual(s.field)&&Qi(r.value,s.value)}(t,e):t instanceof Ti?function(r,s){return s instanceof Ti&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&$5(o,s.filters[a]),!0):!1}(t,e):void ze()}function H5(t){return t instanceof $n?function(n){return`${n.field.canonicalString()} ${n.op} ${ch(n.value)}`}(t):t instanceof Ti?function(n){return n.op.toString()+" {"+n.getFilters().map(H5).join(" ,")+"}"}(t):"Filter"}class Hse extends $n{constructor(e,n,r){super(e,n,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const n=Oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class qse extends $n{constructor(e,n){super(e,"in",n),this.keys=q5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Kse extends $n{constructor(e,n){super(e,"not-in",n),this.keys=q5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function q5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class Gse extends $n{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eA(n)&&Rp(n.arrayValue,this.value)}}class Qse extends $n{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rp(this.value.arrayValue,n)}}class Yse extends $n{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rp(this.value.arrayValue,n)}}class Xse extends $n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eA(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zse{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function b2(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Zse(t,e,n,r,s,i,o)}function tA(t){const e=Ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),bm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ch(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ch(r)).join(",")),e.ue=n}return e.ue}function nA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wse(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!x2(t.startAt,e.startAt)&&x2(t.endAt,e.endAt)}function vE(t){return Oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Jse(t,e,n,r,s,i,o,a){return new nu(t,e,n,r,s,i,o,a)}function Tv(t){return new nu(t)}function _2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rA(t){return t.collectionGroup!==null}function xd(t){const e=Ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new br(yr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Mp(i,r))}),n.has(yr.keyField().canonicalString())||e.ce.push(new Mp(yr.keyField(),r))}return e.ce}function $i(t){const e=Ye(t);return e.le||(e.le=eie(e,xd(t))),e.le}function eie(t,e){if(t.limitType==="F")return b2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Mp(s.field,i)});const n=t.endAt?new uh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uh(t.startAt.position,t.startAt.inclusive):null;return b2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xE(t,e){const n=t.filters.concat([e]);return new nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xy(t,e,n){return new nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Av(t,e){return nA($i(t),$i(e))&&t.limitType===e.limitType}function K5(t){return`${tA($i(t))}|lt:${t.limitType}`}function Bu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>H5(s)).join(", ")}]`),bm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ch(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ch(s)).join(",")),`Target(${r})`}($i(t))}; limitType=${t.limitType})`}function Iv(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=v2(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,xd(r),s)||r.endAt&&!function(o,a,l){const c=v2(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,xd(r),s))}(t,e)}function tie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function G5(t){return(e,n)=>{let r=!1;for(const s of xd(t)){const i=nie(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function nie(t,e,n){const r=t.field.isKeyField()?Oe.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?lh(l,c):ze()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){tu(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return B5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rie=new En(Oe.comparator);function Xo(){return rie}const Q5=new En(Oe.comparator);function kf(...t){let e=Q5;for(const n of t)e=e.insert(n.key,n);return e}function Y5(t){let e=Q5;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cc(){return Kf()}function X5(){return Kf()}function Kf(){return new kh(t=>t.toString(),(t,e)=>t.isEqual(e))}const sie=new En(Oe.comparator),iie=new br(Oe.comparator);function ht(...t){let e=iie;for(const n of t)e=e.add(n);return e}const oie=new br(bt);function aie(){return oie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qy(e)?"-0":e}}function Z5(t){return{integerValue:""+t}}function J5(t,e){return Bse(e)?Z5(e):sA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this._=void 0}}function lie(t,e,n){return t instanceof Pp?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Sv(i)&&(i=JT(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Op?t6(t,e):t instanceof Lp?n6(t,e):function(s,i){const o=e6(s,i),a=E2(o)+E2(s.Pe);return yE(o)&&yE(s.Pe)?Z5(a):sA(s.serializer,a)}(t,e)}function cie(t,e,n){return t instanceof Op?t6(t,e):t instanceof Lp?n6(t,e):n}function e6(t,e){return t instanceof Dp?function(r){return yE(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Pp extends Cv{}class Op extends Cv{constructor(e){super(),this.elements=e}}function t6(t,e){const n=r6(e);for(const r of t.elements)n.some(s=>Qi(s,r))||n.push(r);return{arrayValue:{values:n}}}class Lp extends Cv{constructor(e){super(),this.elements=e}}function n6(t,e){let n=r6(e);for(const r of t.elements)n=n.filter(s=>!Qi(s,r));return{arrayValue:{values:n}}}class Dp extends Cv{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function E2(t){return Pn(t.integerValue||t.doubleValue)}function r6(t){return eA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n){this.field=e,this.transform=n}}function uie(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Op&&s instanceof Op||r instanceof Lp&&s instanceof Lp?ah(r.elements,s.elements,Qi):r instanceof Dp&&s instanceof Dp?Qi(r.Pe,s.Pe):r instanceof Pp&&s instanceof Pp}(t.transform,e.transform)}class die{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function A0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kv{}function i6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nv(t.key,wr.none()):new _m(t.key,t.data,wr.none());{const n=t.data,r=Jr.empty();let s=new br(yr.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Rl(t.key,r,new Ns(s.toArray()),wr.none())}}function hie(t,e,n){t instanceof _m?function(s,i,o){const a=s.value.clone(),l=T2(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Rl?function(s,i,o){if(!A0(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=T2(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(o6(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Gf(t,e,n,r){return t instanceof _m?function(i,o,a,l){if(!A0(i.precondition,o))return a;const c=i.value.clone(),u=A2(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Rl?function(i,o,a,l){if(!A0(i.precondition,o))return a;const c=A2(i.fieldTransforms,l,o),u=o.data;return u.setAll(o6(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return A0(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function fie(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=e6(r.transform,s||null);i!=null&&(n===null&&(n=Jr.empty()),n.set(r.field,i))}return n||null}function S2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ah(r,s,(i,o)=>uie(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _m extends kv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Rl extends kv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function o6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function T2(t,e,n){const r=new Map;yt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,cie(o,a,n[s]))}return r}function A2(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,lie(i,o,e))}return r}class Nv extends kv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a6 extends kv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pie{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&hie(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=X5();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=i6(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ht())}isEqual(e){return this.batchId===e.batchId&&ah(this.mutations,e.mutations,(n,r)=>S2(n,r))&&ah(this.baseMutations,e.baseMutations,(n,r)=>S2(n,r))}}class iA{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){yt(e.mutations.length===r.length);let s=function(){return sie}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new iA(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mie{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn,mt;function l6(t){switch(t){default:return ze();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function c6(t){if(t===void 0)return Yo("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Fn.OK:return ie.OK;case Fn.CANCELLED:return ie.CANCELLED;case Fn.UNKNOWN:return ie.UNKNOWN;case Fn.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Fn.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Fn.INTERNAL:return ie.INTERNAL;case Fn.UNAVAILABLE:return ie.UNAVAILABLE;case Fn.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Fn.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Fn.NOT_FOUND:return ie.NOT_FOUND;case Fn.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Fn.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Fn.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Fn.ABORTED:return ie.ABORTED;case Fn.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Fn.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Fn.DATA_LOSS:return ie.DATA_LOSS;default:return ze()}}(mt=Fn||(Fn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yie(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wie=new Sc([4294967295,4294967295],0);function I2(t){const e=yie().encode(t),n=new N5;return n.update(e),new Uint8Array(n.digest())}function C2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Sc([n,r],0),new Sc([s,i],0)]}class oA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nf(`Invalid padding: ${n}`);if(r<0)throw new Nf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nf(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Sc.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Sc.fromNumber(r)));return s.compare(wie)===1&&(s=new Sc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=I2(e),[r,s]=C2(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new oA(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=I2(e),[r,s]=C2(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Em.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rv($e.min(),s,new En(bt),Xo(),ht())}}class Em{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Em(r,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class u6{constructor(e,n){this.targetId=e,this.me=n}}class d6{constructor(e,n,r=Sr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class k2{constructor(){this.fe=0,this.ge=R2(),this.pe=Sr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ht(),n=ht(),r=ht();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ze()}}),new Em(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=R2()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vie{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xo(),this.qe=N2(),this.Qe=new En(bt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ze()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(vE(i))if(r===0){const o=new Oe(i.path);this.Ue(n,o,nr.newNoDocument(o,$e.min()))}else yt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Wc(r).toUint8Array()}catch(l){if(l instanceof F5)return oh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new oA(o,s,i)}catch(l){return oh(l instanceof Nf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&vE(a.target)){const l=new Oe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,nr.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ht();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Rv(e,n,this.Qe,this.ke,r);return this.ke=Xo(),this.qe=N2(),this.Qe=new En(bt),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new k2,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new br(bt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new k2),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function N2(){return new En(Oe.comparator)}function R2(){return new En(Oe.comparator)}const xie={asc:"ASCENDING",desc:"DESCENDING"},bie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_ie={and:"AND",or:"OR"};class Eie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bE(t,e){return t.useProto3Json||bm(e)?e:{value:e}}function Zy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Sie(t,e){return Zy(t,e.toTimestamp())}function Ps(t){return yt(!!t),$e.fromTimestamp(function(n){const r=xl(n);return new Xn(r.seconds,r.nanos)}(t))}function aA(t,e){return _E(t,e).canonicalString()}function _E(t,e){const n=function(s){return new Lt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function f6(t){const e=Lt.fromString(t);return yt(v6(e)),e}function Jy(t,e){return aA(t.databaseId,e.path)}function Qf(t,e){const n=f6(e);if(n.get(1)!==t.databaseId.projectId)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Oe(m6(n))}function p6(t,e){return aA(t.databaseId,e)}function Tie(t){const e=f6(t);return e.length===4?Lt.emptyPath():m6(e)}function EE(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function m6(t){return yt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function M2(t,e,n){return{name:Jy(t,e),fields:n.value.mapValue.fields}}function Aie(t,e){return"found"in e?function(r,s){yt(!!s.found),s.found.name,s.found.updateTime;const i=Qf(r,s.found.name),o=Ps(s.found.updateTime),a=s.found.createTime?Ps(s.found.createTime):$e.min(),l=new Jr({mapValue:{fields:s.found.fields}});return nr.newFoundDocument(i,o,a,l)}(t,e):"missing"in e?function(r,s){yt(!!s.missing),yt(!!s.readTime);const i=Qf(r,s.missing),o=Ps(s.readTime);return nr.newNoDocument(i,o)}(t,e):ze()}function Iie(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(yt(u===void 0||typeof u=="string"),Sr.fromBase64String(u||"")):(yt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Sr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?ie.UNKNOWN:c6(c.code);return new we(u,c.message||"")}(o);n=new d6(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Qf(t,r.document.name),i=Ps(r.document.updateTime),o=r.document.createTime?Ps(r.document.createTime):$e.min(),a=new Jr({mapValue:{fields:r.document.fields}}),l=nr.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new I0(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Qf(t,r.document),i=r.readTime?Ps(r.readTime):$e.min(),o=nr.newNoDocument(s,i),a=r.removedTargetIds||[];n=new I0([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Qf(t,r.document),i=r.removedTargetIds||[];n=new I0([],i,s,null)}else{if(!("filter"in e))return ze();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new gie(s,i),a=r.targetId;n=new u6(a,o)}}return n}function g6(t,e){let n;if(e instanceof _m)n={update:M2(t,e.key,e.value)};else if(e instanceof Nv)n={delete:Jy(t,e.key)};else if(e instanceof Rl)n={update:M2(t,e.key,e.data),updateMask:Die(e.fieldMask)};else{if(!(e instanceof a6))return ze();n={verify:Jy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Pp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Op)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Lp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Dp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ze()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Sie(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ze()}(t,e.precondition)),n}function Cie(t,e){return t&&t.length>0?(yt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Ps(s.updateTime):Ps(i);return o.isEqual($e.min())&&(o=Ps(i)),new die(o,s.transformResults||[])}(n,e))):[]}function kie(t,e){return{documents:[p6(t,e.path)]}}function Nie(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=p6(t,s);const i=function(c){if(c.length!==0)return w6(Ti.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:Fu(p.field),direction:Pie(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=bE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function Rie(t){let e=Tie(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){yt(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(f){const p=y6(f);return p instanceof Ti&&W5(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(v){return new Mp(Uu(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,bm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new uh(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new uh(m,p)}(n.endAt)),Jse(e,s,o,i,a,"F",l,c)}function Mie(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function y6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Uu(n.unaryFilter.field);return $n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Uu(n.unaryFilter.field);return $n.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Uu(n.unaryFilter.field);return $n.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Uu(n.unaryFilter.field);return $n.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(t):t.fieldFilter!==void 0?function(n){return $n.create(Uu(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ti.create(n.compositeFilter.filters.map(r=>y6(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ze()}}(n.compositeFilter.op))}(t):ze()}function Pie(t){return xie[t]}function Oie(t){return bie[t]}function Lie(t){return _ie[t]}function Fu(t){return{fieldPath:t.canonicalString()}}function Uu(t){return yr.fromServerFormat(t.fieldPath)}function w6(t){return t instanceof $n?function(n){if(n.op==="=="){if(w2(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NAN"}};if(y2(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w2(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NOT_NAN"}};if(y2(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fu(n.field),op:Oie(n.op),value:n.value}}}(t):t instanceof Ti?function(n){const r=n.getFilters().map(s=>w6(s));return r.length===1?r[0]:{compositeFilter:{op:Lie(n.op),filters:r}}}(t):ze()}function Die(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function v6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r,s,i=$e.min(),o=$e.min(),a=Sr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jie{constructor(e){this.ct=e}}function Bie(t){const e=Rie({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{constructor(){this.un=new Uie}addToCollectionParentIndex(e,n){return this.un.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(vl.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(vl.min())}updateCollectionGroup(e,n,r){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class Uie{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new br(Lt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new br(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new dh(0)}static kn(){return new dh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(){this.changes=new kh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zie{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Gf(r.mutation,s,Ns.empty(),Xn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ht()){const s=cc();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=kf();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=cc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ht()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Xo();const o=Kf(),a=function(){return Kf()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Rl)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Gf(u.mutation,c,u.mutation.getFieldMask(),Xn.now())):o.set(c.key,Ns.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new zie(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Kf();let s=new En((o,a)=>o-a),i=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Ns.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(s.get(a.batchId)||ht()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=X5();u.forEach(p=>{if(!i.has(p)){const m=i6(n.get(p),r.get(p));m!==null&&f.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return pe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):pe.resolve(cc());let a=-1,l=i;return o.next(c=>pe.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(u)?pe.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ht())).next(u=>({batchId:a,changes:Y5(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Oe(n)).next(r=>{let s=kf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=kf();return this.indexManager.getCollectionParents(e,i).next(a=>pe.forEach(a,l=>{const c=function(f,p){return new nu(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,nr.newInvalidDocument(u)))});let a=kf();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Gf(u.mutation,c,Ns.empty(),Xn.now()),Iv(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ie{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return pe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ps(s.createTime)}}(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:Bie(s.bundledQuery),readTime:Ps(s.readTime)}}(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hie{constructor(){this.overlays=new En(Oe.comparator),this.Ir=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cc();return pe.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),pe.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),pe.resolve()}getOverlaysForCollection(e,n,r){const s=cc(),i=n.length+1,o=new Oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return pe.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new En((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=cc(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=cc(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return pe.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mie(n,r));let i=this.Ir.get(n);i===void 0&&(i=ht(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qie{constructor(){this.sessionToken=Sr.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.Tr=new br(er.Er),this.dr=new br(er.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new er(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new er(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Oe(new Lt([])),r=new er(n,e),s=new er(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Oe(new Lt([])),r=new er(n,e),s=new er(n,e+1);let i=ht();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new er(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class er{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Oe.comparator(e.key,n.key)||bt(e.wr,n.wr)}static Ar(e,n){return bt(e.wr,n.wr)||Oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kie{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new br(er.Er)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pie(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new er(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return pe.resolve(o)}lookupMutationBatch(e,n){return pe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return pe.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new er(n,0),s=new er(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),pe.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new br(bt);return n.forEach(s=>{const i=new er(s,0),o=new er(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),pe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Oe.isDocumentKey(i)||(i=i.child(""));const o=new er(new Oe(i),0);let a=new br(bt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),pe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){yt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return pe.forEach(n.mutations,s=>{const i=new er(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new er(n,0),s=this.br.firstAfterOrEqual(r);return pe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gie{constructor(e){this.Mr=e,this.docs=function(){return new En(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return pe.resolve(r?r.document.mutableCopy():nr.newInvalidDocument(n))}getEntries(e,n){let r=Xo();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():nr.newInvalidDocument(s))}),pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Xo();const o=n.path,a=new Oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Ose(Pse(u),r)<=0||(s.has(u.key)||Iv(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return pe.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ze()}Or(e,n){return pe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Qie(this)}getSize(e){return pe.resolve(this.size)}}class Qie extends Vie{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),pe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yie{constructor(e){this.persistence=e,this.Nr=new kh(n=>tA(n),nA),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lA,this.targetCount=0,this.kr=dh.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),pe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new dh(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Kn(n),pe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),pe.waitFor(i).next(()=>s)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return pe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),pe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),pe.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return pe.resolve(r)}containsKey(e,n){return pe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ZT(0),this.Kr=!1,this.Kr=!0,this.$r=new qie,this.referenceDelegate=e(this),this.Ur=new Yie(this),this.indexManager=new Fie,this.remoteDocumentCache=function(s){return new Gie(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new jie(n),this.Gr=new $ie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Kie(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const s=new Zie(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return pe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Zie extends Dse{constructor(e){super(),this.currentSequenceNumber=e}}class cA{constructor(e){this.persistence=e,this.Jr=new lA,this.Yr=null}static Zr(e){return new cA(e)}get Xr(){if(this.Yr)return this.Yr;throw ze()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),pe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Xr,r=>{const s=Oe.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,$e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return pe.or([()=>pe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ht(),s=ht();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new uA(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eoe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ore()?8:jse(Hr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Jie;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(cf()<=pt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Bu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pe.resolve()):(cf()<=pt.DEBUG&&Ce("QueryEngine","Query:",Bu(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(cf()<=pt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Bu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(n))):pe.resolve())}Yi(e,n){if(_2(n))return pe.resolve(null);let r=$i(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Xy(n,null,"F"),r=$i(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ht(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Xy(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return _2(n)||s.isEqual($e.min())?pe.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?pe.resolve(null):(cf()<=pt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bu(n)),this.rs(e,o,n,Mse(s,-1)).next(a=>a))})}ts(e,n){let r=new br(G5(e));return n.forEach((s,i)=>{Iv(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return cf()<=pt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Bu(n)),this.Ji.getDocumentsMatchingQuery(e,n,vl.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class toe{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new En(bt),this._s=new kh(i=>tA(i),nA),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wie(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function noe(t,e,n,r){return new toe(t,e,n,r)}async function x6(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ht();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function roe(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,p=f.keys();let m=pe.resolve();return p.forEach(v=>{m=m.next(()=>u.getEntry(l,v)).next(g=>{const w=c.docVersions.get(v);yt(w!==null),g.version.compareTo(w)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ht();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function b6(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function soe(t,e){const n=Ye(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,f)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Sr.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(f,m),function(g,w,b){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,m,u)&&a.push(n.Ur.updateTargetData(i,m))});let l=Xo(),c=ht();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(ioe(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual($e.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return pe.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function ioe(t,e,n){let r=ht(),s=ht();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Xo();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual($e.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function ooe(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aoe(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,pe.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Qa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function SE(t,e,n){const r=Ye(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!xm(o))throw o;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function P2(t,e,n){const r=Ye(t);let s=$e.min(),i=ht();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=Ye(l),p=f._s.get(u);return p!==void 0?pe.resolve(f.os.get(p)):f.Ur.getTargetData(c,u)}(r,o,$i(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:$e.min(),n?i:ht())).next(a=>(loe(r,tie(e),a),{documents:a,Ts:i})))}function loe(t,e,n){let r=t.us.get(e)||$e.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class O2{constructor(){this.activeTargetIds=aie()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class coe{constructor(){this.so=new O2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new O2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uoe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg=null;function Dx(){return Pg===null?Pg=function(){return 268435456+Math.round(2147483648*Math.random())}():Pg++,"0x"+Pg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const doe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hoe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="WebChannelConnection";class foe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Dx(),l=this.xo(n,r.toUriEncodedString());Ce("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(u=>(Ce("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw oh("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ch}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=doe[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Dx();return new Promise((o,a)=>{const l=new R5;l.setWithCredentials(!0),l.listenOnce(M5.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case S0.NO_ERROR:const u=l.getResponseJson();Ce(Or,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case S0.TIMEOUT:Ce(Or,`RPC '${e}' ${i} timed out`),a(new we(ie.DEADLINE_EXCEEDED,"Request time out"));break;case S0.HTTP_ERROR:const f=l.getStatus();if(Ce(Or,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(w){const b=w.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(b)>=0?b:ie.UNKNOWN}(m.status);a(new we(v,m.message))}else a(new we(ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new we(ie.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{Ce(Or,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);Ce(Or,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Dx(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=L5(),a=O5(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");Ce(Or,`Creating RPC '${e}' stream ${s}: ${u}`,l);const f=o.createWebChannel(u,l);let p=!1,m=!1;const v=new hoe({Io:w=>{m?Ce(Or,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(p||(Ce(Or,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Ce(Or,`RPC '${e}' stream ${s} sending:`,w),f.send(w))},To:()=>f.close()}),g=(w,b,_)=>{w.listen(b,x=>{try{_(x)}catch(S){setTimeout(()=>{throw S},0)}})};return g(f,Cf.EventType.OPEN,()=>{m||(Ce(Or,`RPC '${e}' stream ${s} transport opened.`),v.yo())}),g(f,Cf.EventType.CLOSE,()=>{m||(m=!0,Ce(Or,`RPC '${e}' stream ${s} transport closed`),v.So())}),g(f,Cf.EventType.ERROR,w=>{m||(m=!0,oh(Or,`RPC '${e}' stream ${s} transport errored:`,w),v.So(new we(ie.UNAVAILABLE,"The operation could not be completed")))}),g(f,Cf.EventType.MESSAGE,w=>{var b;if(!m){const _=w.data[0];yt(!!_);const x=_,S=x.error||((b=x[0])===null||b===void 0?void 0:b.error);if(S){Ce(Or,`RPC '${e}' stream ${s} received error:`,S);const D=S.status;let F=function(U){const W=Fn[U];if(W!==void 0)return c6(W)}(D),M=S.message;F===void 0&&(F=ie.INTERNAL,M="Unknown error status: "+D+" with message "+S.message),m=!0,v.So(new we(F,M)),f.close()}else Ce(Or,`RPC '${e}' stream ${s} received:`,_),v.bo(_)}}),g(a,P5.STAT_EVENT,w=>{w.stat===mE.PROXY?Ce(Or,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===mE.NOPROXY&&Ce(Or,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function jx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){return new Eie(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new dA(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Yo(n.toString()),Yo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new we(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class poe extends _6{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Iie(this.serializer,e),r=function(i){if(!("targetChange"in i))return $e.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?$e.min():o.readTime?Ps(o.readTime):$e.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=EE(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=vE(l)?{documents:kie(i,l)}:{query:Nie(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=h6(i,o.resumeToken);const c=bE(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo($e.min())>0){a.readTime=Zy(i,o.snapshotVersion.toTimestamp());const c=bE(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Mie(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=EE(this.serializer),n.removeTarget=e,this.a_(n)}}class moe extends _6{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return yt(!!e.streamToken),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Cie(e.writeResults,e.commitTime),r=Ps(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=EE(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>g6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,_E(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new we(ie.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,_E(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(ie.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class yoe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yo(n),this.D_=!1):Ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class woe{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{ru(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ye(l);c.L_.add(4),await Sm(c),c.q_.set("Unknown"),c.L_.delete(4),await Pv(c)}(this))})}),this.q_=new yoe(r,s)}}async function Pv(t){if(ru(t))for(const e of t.B_)await e(!0)}async function Sm(t){for(const e of t.B_)await e(!1)}function E6(t,e){const n=Ye(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),mA(n)?pA(n):Nh(n).r_()&&fA(n,e))}function hA(t,e){const n=Ye(t),r=Nh(n);n.N_.delete(e),r.r_()&&S6(n,e),n.N_.size===0&&(r.r_()?r.o_():ru(n)&&n.q_.set("Unknown"))}function fA(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nh(t).A_(e)}function S6(t,e){t.Q_.xe(e),Nh(t).R_(e)}function pA(t){t.Q_=new vie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Nh(t).start(),t.q_.v_()}function mA(t){return ru(t)&&!Nh(t).n_()&&t.N_.size>0}function ru(t){return Ye(t).L_.size===0}function T6(t){t.Q_=void 0}async function voe(t){t.q_.set("Online")}async function xoe(t){t.N_.forEach((e,n)=>{fA(t,e)})}async function boe(t,e){T6(t),mA(t)?(t.q_.M_(e),pA(t)):t.q_.set("Unknown")}async function _oe(t,e,n){if(t.q_.set("Online"),e instanceof d6&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ew(t,r)}else if(e instanceof I0?t.Q_.Ke(e):e instanceof u6?t.Q_.He(e):t.Q_.We(e),!n.isEqual($e.min()))try{const r=await b6(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(Sr.EMPTY_BYTE_STRING,u.snapshotVersion)),S6(i,l);const f=new Qa(u.target,l,c,u.sequenceNumber);fA(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ce("RemoteStore","Failed to raise snapshot:",r),await ew(t,r)}}async function ew(t,e,n){if(!xm(e))throw e;t.L_.add(1),await Sm(t),t.q_.set("Offline"),n||(n=()=>b6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Pv(t)})}function A6(t,e){return e().catch(n=>ew(t,n,e))}async function Ov(t){const e=Ye(t),n=bl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Eoe(e);)try{const s=await ooe(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Soe(e,s)}catch(s){await ew(e,s)}I6(e)&&C6(e)}function Eoe(t){return ru(t)&&t.O_.length<10}function Soe(t,e){t.O_.push(e);const n=bl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function I6(t){return ru(t)&&!bl(t).n_()&&t.O_.length>0}function C6(t){bl(t).start()}async function Toe(t){bl(t).p_()}async function Aoe(t){const e=bl(t);for(const n of t.O_)e.m_(n.mutations)}async function Ioe(t,e,n){const r=t.O_.shift(),s=iA.from(r,e,n);await A6(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ov(t)}async function Coe(t,e){e&&bl(t).V_&&await async function(r,s){if(function(o){return l6(o)&&o!==ie.ABORTED}(s.code)){const i=r.O_.shift();bl(r).s_(),await A6(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ov(r)}}(t,e),I6(t)&&C6(t)}async function D2(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const r=ru(n);n.L_.add(3),await Sm(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Pv(n)}async function koe(t,e){const n=Ye(t);e?(n.L_.delete(2),await Pv(n)):e||(n.L_.add(2),await Sm(n),n.q_.set("Unknown"))}function Nh(t){return t.K_||(t.K_=function(n,r,s){const i=Ye(n);return i.w_(),new poe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:voe.bind(null,t),Ro:xoe.bind(null,t),mo:boe.bind(null,t),d_:_oe.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),mA(t)?pA(t):t.q_.set("Unknown")):(await t.K_.stop(),T6(t))})),t.K_}function bl(t){return t.U_||(t.U_=function(n,r,s){const i=Ye(n);return i.w_(),new moe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Toe.bind(null,t),mo:Coe.bind(null,t),f_:Aoe.bind(null,t),g_:Ioe.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ov(t)):(await t.U_.stop(),t.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new gA(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yA(t,e){if(Yo("AsyncQueue",`${e}: ${t}`),xm(t))return new we(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Oe.comparator(n.key,r.key):(n,r)=>Oe.comparator(n.key,r.key),this.keyedMap=kf(),this.sortedSet=new En(this.comparator)}static emptySet(e){return new bd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.W_=new En(Oe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ze():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hh{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new hh(e,n,bd.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Av(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Roe{constructor(){this.queries=B2(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ye(n),i=s.queries;s.queries=B2(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new we(ie.ABORTED,"Firestore shutting down"))}}function B2(){return new kh(t=>K5(t),Av)}async function wA(t,e){const n=Ye(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Noe,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=yA(o,`Initialization of query '${Bu(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&xA(n)}async function vA(t,e){const n=Ye(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Moe(t,e){const n=Ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&xA(n)}function Poe(t,e,n){const r=Ye(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function xA(t){t.Y_.forEach(e=>{e.next()})}var TE,F2;(F2=TE||(TE={})).ea="default",F2.Cache="cache";class bA{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new hh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=hh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==TE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.key=e}}class N6{constructor(e){this.key=e}}class Ooe{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ht(),this.mutatedKeys=ht(),this.Aa=G5(e),this.Ra=new bd(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new j2,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,f)=>{const p=s.get(u),m=Iv(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;p&&m?p.data.isEqual(m.data)?v!==g&&(r.track({type:3,doc:m}),w=!0):this.ga(p,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),w=!0):p&&!m&&(r.track({type:1,doc:p}),w=!0,(l||c)&&(a=!0)),w&&(m?(o=o.add(m),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,f)=>function(m,v){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return g(m)-g(v)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new hh(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new j2,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ht(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new N6(r))}),this.da.forEach(r=>{e.has(r)||n.push(new k6(r))}),n}ba(e){this.Ta=e.Ts,this.da=ht();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return hh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Loe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Doe{constructor(e){this.key=e,this.va=!1}}class joe{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new kh(a=>K5(a),Av),this.Ma=new Map,this.xa=new Set,this.Oa=new En(Oe.comparator),this.Na=new Map,this.La=new lA,this.Ba={},this.ka=new Map,this.qa=dh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Boe(t,e,n=!0){const r=D6(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await R6(r,e,n,!0),s}async function Foe(t,e){const n=D6(t);await R6(n,e,!0,!1)}async function R6(t,e,n,r){const s=await aoe(t.localStore,$i(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Uoe(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&E6(t.remoteStore,s),a}async function Uoe(t,e,n,r,s){t.Ka=(f,p,m)=>async function(g,w,b,_){let x=w.view.ma(b);x.ns&&(x=await P2(g.localStore,w.query,!1).then(({documents:M})=>w.view.ma(M,x)));const S=_&&_.targetChanges.get(w.targetId),D=_&&_.targetMismatches.get(w.targetId)!=null,F=w.view.applyChanges(x,g.isPrimaryClient,S,D);return V2(g,w.targetId,F.wa),F.snapshot}(t,f,p,m);const i=await P2(t.localStore,e,!0),o=new Ooe(e,i.Ts),a=o.ma(i.documents),l=Em.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);V2(t,n,c.wa);const u=new Loe(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Voe(t,e,n){const r=Ye(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Av(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await SE(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&hA(r.remoteStore,s.targetId),AE(r,s.targetId)}).catch(vm)):(AE(r,s.targetId),await SE(r.localStore,s.targetId,!0))}async function zoe(t,e){const n=Ye(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hA(n.remoteStore,r.targetId))}async function Woe(t,e,n){const r=Yoe(t);try{const s=await function(o,a){const l=Ye(o),c=Xn.now(),u=a.reduce((m,v)=>m.add(v.key),ht());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Xo(),g=ht();return l.cs.getEntries(m,u).next(w=>{v=w,v.forEach((b,_)=>{_.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(w=>{f=w;const b=[];for(const _ of a){const x=fie(_,f.get(_.key).overlayedDocument);x!=null&&b.push(new Rl(_.key,x,U5(x.value.mapValue),wr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,a)}).next(w=>{p=w;const b=w.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,w.batchId,b)})}).then(()=>({batchId:p.batchId,changes:Y5(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new En(bt)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Tm(r,s.changes),await Ov(r.remoteStore)}catch(s){const i=yA(s,"Failed to persist write");n.reject(i)}}async function M6(t,e){const n=Ye(t);try{const r=await soe(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(yt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?yt(o.va):s.removedDocuments.size>0&&(yt(o.va),o.va=!1))}),await Tm(n,r,e)}catch(r){await vm(r)}}function U2(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ye(o);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const p of f.j_)p.Z_(a)&&(c=!0)}),c&&xA(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $oe(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new En(Oe.comparator);o=o.insert(i,nr.newNoDocument(i,$e.min()));const a=ht().add(i),l=new Rv($e.min(),new Map,new En(bt),o,a);await M6(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),_A(r)}else await SE(r.localStore,e,!1).then(()=>AE(r,e,n)).catch(vm)}async function Hoe(t,e){const n=Ye(t),r=e.batch.batchId;try{const s=await roe(n.localStore,e);O6(n,r,null),P6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tm(n,s)}catch(s){await vm(s)}}async function qoe(t,e,n){const r=Ye(t);try{const s=await function(o,a){const l=Ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(yt(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);O6(r,e,n),P6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tm(r,s)}catch(s){await vm(s)}}function P6(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function O6(t,e,n){const r=Ye(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function AE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||L6(t,r)})}function L6(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(hA(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),_A(t))}function V2(t,e,n){for(const r of n)r instanceof k6?(t.La.addReference(r.key,e),Koe(t,r)):r instanceof N6?(Ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||L6(t,r.key)):ze()}function Koe(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),_A(t))}function _A(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Oe(Lt.fromString(e)),r=t.qa.next();t.Na.set(r,new Doe(n)),t.Oa=t.Oa.insert(n,r),E6(t.remoteStore,new Qa($i(Tv(n.path)),r,"TargetPurposeLimboResolution",ZT.oe))}}async function Tm(t,e,n){const r=Ye(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=uA.Wi(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const u=Ye(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>pe.forEach(c,p=>pe.forEach(p.$i,m=>u.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>pe.forEach(p.Ui,m=>u.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!xm(f))throw f;Ce("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=u.os.get(p),v=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(v);u.os=u.os.insert(p,g)}}}(r.localStore,i))}async function Goe(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const r=await x6(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new we(ie.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tm(n,r.hs)}}function Qoe(t,e){const n=Ye(t),r=n.Na.get(e);if(r&&r.va)return ht().add(r.key);{let s=ht();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function D6(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=M6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qoe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$oe.bind(null,e),e.Ca.d_=Moe.bind(null,e.eventManager),e.Ca.$a=Poe.bind(null,e.eventManager),e}function Yoe(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hoe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qoe.bind(null,e),e}class tw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mv(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return noe(this.persistence,new eoe,e.initialUser,this.serializer)}Ga(e){return new Xie(cA.Zr,this.serializer)}Wa(e){return new coe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tw.provider={build:()=>new tw};class IE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Goe.bind(null,this.syncEngine),await koe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Roe}()}createDatastore(e){const n=Mv(e.databaseInfo.databaseId),r=function(i){return new foe(i)}(e.databaseInfo);return function(i,o,a,l){return new goe(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new woe(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>U2(this.syncEngine,n,0),function(){return L2.D()?new L2:new uoe}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const f=new joe(s,i,o,a,l,c);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ye(s);Ce("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Sm(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}IE.provider={build:()=>new IE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Yo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xoe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new we(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const o=Ye(s),a={documents:i.map(f=>Jy(o.serializer,f))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,Lt.emptyPath(),a,i.length),c=new Map;l.forEach(f=>{const p=Aie(o.serializer,f);c.set(p.key.toString(),p)});const u=[];return i.forEach(f=>{const p=c.get(f.toString());yt(!!p),u.push(p)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=Oe.fromPath(r);this.mutations.push(new a6(s,this.precondition(s)))}),await async function(r,s){const i=Ye(r),o={writes:s.map(a=>g6(i.serializer,a))};await i.Mo("Commit",i.serializer.databaseId,Lt.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ze();n=$e.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new we(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual($e.min())?wr.exists(!1):wr.updateTime(n):wr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual($e.min()))throw new we(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wr.updateTime(n)}return wr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new dA(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new Xoe(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.lu(s)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!bm(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!l6(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Fr.UNAUTHENTICATED,this.clientId=j5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Ce("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ce("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yA(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bx(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await x6(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function z2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eae(t);Ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>D2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>D2(e.remoteStore,s)),t._onlineComponents=e}async function eae(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;oh("Error using user provided cache. Falling back to memory cache: "+n),await Bx(t,new tw)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),await Bx(t,new tw);return t._offlineComponents}async function SA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),await z2(t,t._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),await z2(t,new IE))),t._onlineComponents}function tae(t){return SA(t).then(e=>e.syncEngine)}function nae(t){return SA(t).then(e=>e.datastore)}async function nw(t){const e=await SA(t),n=e.eventManager;return n.onListen=Boe.bind(null,e.syncEngine),n.onUnlisten=Voe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Foe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zoe.bind(null,e.syncEngine),n}function rae(t,e,n={}){const r=new Wi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new EA({next:p=>{u.Za(),o.enqueueAndForget(()=>vA(i,f));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new we(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new we(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new bA(Tv(a.path),u,{includeMetadataChanges:!0,_a:!0});return wA(i,f)}(await nw(t),t.asyncQueue,e,n,r)),r.promise}function sae(t,e,n={}){const r=new Wi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new EA({next:p=>{u.Za(),o.enqueueAndForget(()=>vA(i,f)),p.fromCache&&l.source==="server"?c.reject(new we(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new bA(a,u,{includeMetadataChanges:!0,_a:!0});return wA(i,f)}(await nw(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t,e,n){if(!n)throw new we(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iae(t,e,n,r){if(e===!0&&r===!0)throw new we(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $2(t){if(!Oe.isDocumentKey(t))throw new we(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function H2(t){if(Oe.isDocumentKey(t))throw new we(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze()}function Ys(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lv(t);throw new we(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function oae(t,e){if(e<=0)throw new we(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iae("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ese;switch(r.type){case"firstParty":return new Ise(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=W2.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),W2.delete(n),r.terminate())}(this),Promise.resolve()}}function aae(t,e,n,r={}){var s;const i=(t=Ys(t,Dv))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&oh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Fr.MOCK_USER;else{a=S5(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new we(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Fr(c)}t._authCredentials=new Sse(new D5(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class Wr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wr(this.firestore,e,this._key)}}class dl extends so{constructor(e,n,r){super(e,n,Tv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wr(this.firestore,null,new Oe(e))}withConverter(e){return new dl(this.firestore,e,this._path)}}function is(t,e,...n){if(t=Dn(t),B6("collection","path",e),t instanceof Dv){const r=Lt.fromString(e,...n);return H2(r),new dl(t,null,r)}{if(!(t instanceof Wr||t instanceof dl))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return H2(r),new dl(t.firestore,null,r)}}function ri(t,e,...n){if(t=Dn(t),arguments.length===1&&(e=j5.newId()),B6("doc","path",e),t instanceof Dv){const r=Lt.fromString(e,...n);return $2(r),new Wr(t,null,new Oe(r))}{if(!(t instanceof Wr||t instanceof dl))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return $2(r),new Wr(t.firestore,t instanceof dl?t.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new dA(this,"async_queue_retry"),this.Vu=()=>{const r=jx();r&&Ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=jx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=jx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Wi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xm(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Yo("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=gA.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ze()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function G2(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class _l extends Dv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new K2,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K2(e),this._firestoreClient=void 0,await e}}}function lae(t,e){const n=typeof t=="object"?t:YT(),r=typeof t=="string"?t:"(default)",s=Ev(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=b5("firestore");i&&aae(s,...i)}return s}function Rh(t){if(t._terminated)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cae(t),t._firestoreClient}function cae(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new Use(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,j6(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Joe(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hc(Sr.fromBase64String(e))}catch(n){throw new we(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hc(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uae=/^__.*__$/;class dae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rl(e,this.data,this.fieldMask,n,this.fieldTransforms):new _m(e,this.data,n,this.fieldTransforms)}}class F6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Rl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function U6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze()}}class IA{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new IA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rw(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(U6(this.Cu)&&uae.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class hae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mv(e)}Qu(e,n,r,s=!1){return new IA({Cu:e,methodName:n,qu:r,path:yr.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Im(t){const e=t._freezeSettings(),n=Mv(t._databaseId);return new hae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function V6(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);MA("Data must be an object, but it was:",o,r);const a=W6(r,o);let l,c;if(i.merge)l=new Ns(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const p=CE(e,f,n);if(!o.contains(p))throw new we(ie.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);H6(u,p)||u.push(p)}l=new Ns(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new dae(new Jr(a),l,c)}class jv extends Am{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jv}}class CA extends Am{_toFieldTransform(e){return new s6(e.path,new Pp)}isEqual(e){return e instanceof CA}}class kA extends Am{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Dp(e.serializer,J5(e.serializer,this.$u));return new s6(e.path,n)}isEqual(e){return e instanceof kA&&this.$u===e.$u}}function NA(t,e,n,r){const s=t.Qu(1,e,n);MA("Data must be an object, but it was:",s,r);const i=[],o=Jr.empty();tu(r,(l,c)=>{const u=PA(e,l,n);c=Dn(c);const f=s.Nu(u);if(c instanceof jv)i.push(u);else{const p=Cm(c,f);p!=null&&(i.push(u),o.set(u,p))}});const a=new Ns(i);return new F6(o,a,s.fieldTransforms)}function RA(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[CE(e,r,n)],l=[s];if(i.length%2!=0)throw new we(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(CE(e,i[p])),l.push(i[p+1]);const c=[],u=Jr.empty();for(let p=a.length-1;p>=0;--p)if(!H6(c,a[p])){const m=a[p];let v=l[p];v=Dn(v);const g=o.Nu(m);if(v instanceof jv)c.push(m);else{const w=Cm(v,g);w!=null&&(c.push(m),u.set(m,w))}}const f=new Ns(c);return new F6(u,f,o.fieldTransforms)}function z6(t,e,n,r=!1){return Cm(n,t.Qu(r?4:3,e))}function Cm(t,e){if($6(t=Dn(t)))return MA("Unsupported field value:",e,t),W6(t,e);if(t instanceof Am)return function(r,s){if(!U6(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Cm(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return J5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Xn.fromDate(r);return{timestampValue:Zy(s.serializer,i)}}if(r instanceof Xn){const i=new Xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zy(s.serializer,i)}}if(r instanceof TA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hc)return{bytesValue:h6(s.serializer,r._byteString)};if(r instanceof Wr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:aA(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof AA)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return sA(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Lv(r)}`)}(t,e)}function W6(t,e){const n={};return B5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tu(t,(r,s)=>{const i=Cm(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function $6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xn||t instanceof TA||t instanceof Hc||t instanceof Wr||t instanceof Am||t instanceof AA)}function MA(t,e,n){if(!$6(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Lv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function CE(t,e,n){if((e=Dn(e))instanceof Mh)return e._internalPath;if(typeof e=="string")return PA(t,e);throw rw("Field path arguments must be of type string or ",t,!1,void 0,n)}const fae=new RegExp("[~\\*/\\[\\]]");function PA(t,e,n){if(e.search(fae)>=0)throw rw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mh(...e.split("."))._internalPath}catch{throw rw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rw(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new we(ie.INVALID_ARGUMENT,a+t+l)}function H6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pae extends jp{data(){return super.data()}}function Bv(t,e){return typeof e=="string"?PA(t,e):e instanceof Mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OA{}class Fv extends OA{}function pa(t,e,...n){let r=[];e instanceof OA&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof LA).length,a=i.filter(l=>l instanceof Uv).length;if(o>1||o>0&&a>0)throw new we(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Uv extends Fv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Uv(e,n,r)}_apply(e){const n=this._parse(e);return K6(e._query,n),new so(e.firestore,e.converter,xE(e._query,n))}_parse(e){const n=Im(e.firestore);return function(i,o,a,l,c,u,f){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new we(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){X2(f,u);const m=[];for(const v of f)m.push(Y2(l,i,v));p={arrayValue:{values:m}}}else p=Y2(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||X2(f,u),p=z6(a,o,f,u==="in"||u==="not-in");return $n.create(c,u,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ma(t,e,n){const r=e,s=Bv("where",t);return Uv._create(s,r,n)}class LA extends OA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new LA(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)K6(o,l),o=xE(o,l)}(e._query,n),new so(e.firestore,e.converter,xE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class DA extends Fv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new DA(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new we(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new we(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mp(i,o)}(e._query,this._field,this._direction);return new so(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new nu(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Og(t,e="asc"){const n=e,r=Bv("orderBy",t);return DA._create(r,n)}class jA extends Fv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new jA(e,n,r)}_apply(e){return new so(e.firestore,e.converter,Xy(e._query,this._limit,this._limitType))}}function ku(t){return oae("limit",t),jA._create("limit",t,"F")}class BA extends Fv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new BA(e,n,r)}_apply(e){const n=mae(e,this.type,this._docOrFields,this._inclusive);return new so(e.firestore,e.converter,function(s,i){return new nu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function Q2(...t){return BA._create("startAfter",t,!1)}function mae(t,e,n,r){if(n[0]=Dn(n[0]),n[0]instanceof jp)return function(i,o,a,l,c){if(!l)throw new we(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const f of xd(i))if(f.field.isKeyField())u.push(Yy(o,l.key));else{const p=l.data.field(f.field);if(Sv(p))throw new we(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const m=f.field.canonicalString();throw new we(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}u.push(p)}return new uh(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Im(t.firestore);return function(o,a,l,c,u,f){const p=o.explicitOrderBy;if(u.length>p.length)throw new we(ie.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let v=0;v<u.length;v++){const g=u[v];if(p[v].field.isKeyField()){if(typeof g!="string")throw new we(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!rA(o)&&g.indexOf("/")!==-1)throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);const w=o.path.child(Lt.fromString(g));if(!Oe.isDocumentKey(w))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const b=new Oe(w);m.push(Yy(a,b))}else{const w=z6(l,c,g);m.push(w)}}return new uh(m,f)}(t._query,t.firestore._databaseId,s,e,n,r)}}function Y2(t,e,n){if(typeof(n=Dn(n))=="string"){if(n==="")throw new we(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rA(e)&&n.indexOf("/")!==-1)throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lt.fromString(n));if(!Oe.isDocumentKey(r))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yy(t,new Oe(r))}if(n instanceof Wr)return Yy(t,n._key);throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lv(n)}.`)}function X2(t,e){if(!Array.isArray(t)||t.length===0)throw new we(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function K6(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new we(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class G6{convertValue(e,n="none"){switch($c(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return tu(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Pn(o.doubleValue));return new AA(i)}convertGeoPoint(e){return new TA(Pn(e.latitude),Pn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=JT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kp(e));default:return null}}convertTimestamp(e){const n=xl(e);return new Xn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);yt(v6(r));const s=new Np(r.get(1),r.get(3)),i=new Oe(r.popFirst(5));return s.isEqual(n)||Yo(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class gae extends G6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wr(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FA extends jp{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new C0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class C0 extends FA{data(e={}){return super.data(e)}}class Y6{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new id(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new C0(this._firestore,this._userDataWriter,r.key,r,new id(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new C0(s._firestore,s._userDataWriter,a.doc.key,a.doc,new id(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new C0(s._firestore,s._userDataWriter,a.doc.key,a.doc,new id(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:yae(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wae(t){t=Ys(t,Wr);const e=Ys(t.firestore,_l);return rae(Rh(e),t._key).then(n=>Z6(e,t,n))}class Vv extends G6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wr(this.firestore,null,n)}}function fo(t){t=Ys(t,so);const e=Ys(t.firestore,_l),n=Rh(e),r=new Vv(e);return q6(t._query),sae(n,t._query).then(s=>new Y6(e,r,t,s))}function vae(t,e,n,...r){t=Ys(t,Wr);const s=Ys(t.firestore,_l),i=Im(s);let o;return o=typeof(e=Dn(e))=="string"||e instanceof Mh?RA(i,"updateDoc",t._key,e,n,r):NA(i,"updateDoc",t._key,e),X6(s,[o.toMutation(t._key,wr.exists(!0))])}function Z2(t,...e){var n,r,s;t=Dn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||G2(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(G2(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,u;if(t instanceof Wr)c=Ys(t.firestore,_l),u=Tv(t._key.path),l={next:f=>{e[o]&&e[o](Z6(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Ys(t,so);c=Ys(f.firestore,_l),u=f._query;const p=new Vv(c);l={next:m=>{e[o]&&e[o](new Y6(c,p,f,m))},error:e[o+1],complete:e[o+2]},q6(t._query)}return function(p,m,v,g){const w=new EA(g),b=new bA(m,w,v);return p.asyncQueue.enqueueAndForget(async()=>wA(await nw(p),b)),()=>{w.Za(),p.asyncQueue.enqueueAndForget(async()=>vA(await nw(p),b))}}(Rh(c),u,a,l)}function X6(t,e){return function(r,s){const i=new Wi;return r.asyncQueue.enqueueAndForget(async()=>Woe(await tae(r),s,i)),i.promise}(Rh(t),e)}function Z6(t,e,n){const r=n.docs.get(e._key),s=new Vv(t);return new FA(t,s,e._key,r,new id(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xae={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Im(e)}set(e,n,r){this._verifyNotCommitted();const s=Ca(e,this._firestore),i=Q6(s.converter,n,r),o=V6(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,wr.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Ca(e,this._firestore);let o;return o=typeof(n=Dn(n))=="string"||n instanceof Mh?RA(this._dataReader,"WriteBatch.update",i._key,n,r,s):NA(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,wr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ca(e,this._firestore);return this._mutations=this._mutations.concat(new Nv(n._key,wr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ca(t,e){if((t=Dn(t)).firestore!==e)throw new we(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ae extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Im(n)}get(n){const r=Ca(n,this._firestore),s=new gae(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return ze();const o=i[0];if(o.isFoundDocument())return new jp(this._firestore,s,o.key,o,r.converter);if(o.isNoDocument())return new jp(this._firestore,s,r._key,null,r.converter);throw ze()})}set(n,r,s){const i=Ca(n,this._firestore),o=Q6(i.converter,r,s),a=V6(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const o=Ca(n,this._firestore);let a;return a=typeof(r=Dn(r))=="string"||r instanceof Mh?RA(this._dataReader,"Transaction.update",o._key,r,s,i):NA(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Ca(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ca(e,this._firestore),r=new Vv(this._firestore);return super.get(e).then(s=>new FA(this._firestore,r,n._key,s._document,new id(!1,!1),n.converter))}}function Fx(t,e,n){t=Ys(t,_l);const r=Object.assign(Object.assign({},xae),n);return function(i){if(i.maxAttempts<1)throw new we(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,a){const l=new Wi;return i.asyncQueue.enqueueAndForget(async()=>{const c=await nae(i);new Zoe(i.asyncQueue,c,a,o,l).au()}),l.promise}(Rh(t),s=>e(new _ae(t,s)),r)}function Vs(){return new CA("serverTimestamp")}function uf(t){return new kA("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){return Rh(t=Ys(t,_l)),new bae(t,e=>X6(t,e))}(function(e,n=!0){(function(s){Ch=s})(eu),Vc(new wl("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new _l(new Tse(r.getProvider("auth-internal")),new kse(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new we(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Np(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),zi(h2,"4.7.3",e),zi(h2,"4.7.3","esm2017")})();var Eae="firebase",Sae="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(Eae,Sae,"app");function J6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tae=J6,eB=new ym("auth","Firebase",J6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new GT("@firebase/auth");function Aae(t,...e){sw.logLevel<=pt.WARN&&sw.warn(`Auth (${eu}): ${t}`,...e)}function k0(t,...e){sw.logLevel<=pt.ERROR&&sw.error(`Auth (${eu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t,...e){throw UA(t,...e)}function Hi(t,...e){return UA(t,...e)}function tB(t,e,n){const r=Object.assign(Object.assign({},Tae()),{[e]:n});return new ym("auth","Firebase",r).create(e,{appName:t.name})}function Tc(t){return tB(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eB.create(t,...e)}function Qe(t,e,...n){if(!t)throw UA(e,...n)}function Oo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw k0(e),new Error(e)}function Jo(t,e){t||Oo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Iae(){return eR()==="http:"||eR()==="https:"}function eR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Iae()||rre()||"connection"in navigator)?navigator.onLine:!0}function kae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jo(n>e,"Short delay should be less than long delay!"),this.isMobile=ere()||sre()}get(){return Cae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t,e){Jo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae=new km(3e4,6e4);function zA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ph(t,e,n,r,s={}){return rB(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=wm(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return nre()||(c.referrerPolicy="no-referrer"),nB.fetch()(sB(t,t.config.apiHost,n,a),c)})}async function rB(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Nae),e);try{const s=new Pae(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Lg(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lg(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Lg(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Lg(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tB(t,u,c);Zo(t,u)}}catch(s){if(s instanceof ro)throw s;Zo(t,"network-request-failed",{message:String(s)})}}async function Mae(t,e,n,r,s={}){const i=await Ph(t,e,n,r,s);return"mfaPendingCredential"in i&&Zo(t,"multi-factor-auth-required",{_serverResponse:i}),i}function sB(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?VA(t.config,s):`${t.config.apiScheme}://${s}`}class Pae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hi(this.auth,"network-request-failed")),Rae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Hi(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oae(t,e){return Ph(t,"POST","/v1/accounts:delete",e)}async function iB(t,e){return Ph(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lae(t,e=!1){const n=Dn(t),r=await n.getIdToken(e),s=WA(r);Qe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Yf(Ux(s.auth_time)),issuedAtTime:Yf(Ux(s.iat)),expirationTime:Yf(Ux(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ux(t){return Number(t)*1e3}function WA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return k0("JWT malformed, contained fewer than 3 sections"),null;try{const s=v5(n);return s?JSON.parse(s):(k0("Failed to decode base64 JWT payload"),null)}catch(s){return k0("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function tR(t){const e=WA(t);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ro&&Dae(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Dae({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yf(this.lastLoginAt),this.creationTime=Yf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Bp(t,iB(n,{idToken:r}));Qe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?oB(i.providerUserInfo):[],a=Fae(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new NE(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function Bae(t){const e=Dn(t);await iw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fae(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function oB(t){return t.map(e=>{var{providerId:n}=e,r=pm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uae(t,e){const n=await rB(t,{},async()=>{const r=wm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=sB(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nB.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Vae(t,e){return Ph(t,"POST","/v2/accounts:revokeToken",zA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const n=tR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Uae(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new _d;return r&&(Qe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Qe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Qe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _d,this.toJSON())}_performRefresh(){return Oo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t,e){Qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Lo{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new NE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Bp(this,this.stsTokenManager.getToken(this.auth,e));return Qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lae(this,e)}reload(){return Bae(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Lo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await iw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ga(this.auth.app))return Promise.reject(Tc(this.auth));const e=await this.getIdToken();return await Bp(this,Oae(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:S,isAnonymous:D,providerData:F,stsTokenManager:M}=n;Qe(x&&M,e,"internal-error");const R=_d.fromJSON(this.name,M);Qe(typeof x=="string",e,"internal-error"),ga(f,e.name),ga(p,e.name),Qe(typeof S=="boolean",e,"internal-error"),Qe(typeof D=="boolean",e,"internal-error"),ga(m,e.name),ga(v,e.name),ga(g,e.name),ga(w,e.name),ga(b,e.name),ga(_,e.name);const U=new Lo({uid:x,auth:e,email:p,emailVerified:S,displayName:f,isAnonymous:D,photoURL:v,phoneNumber:m,tenantId:g,stsTokenManager:R,createdAt:b,lastLoginAt:_});return F&&Array.isArray(F)&&(U.providerData=F.map(W=>Object.assign({},W))),w&&(U._redirectEventId=w),U}static async _fromIdTokenResponse(e,n,r=!1){const s=new _d;s.updateFromServerResponse(n);const i=new Lo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await iw(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Qe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?oB(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new _d;a.updateFromIdToken(r);const l=new Lo({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new NE(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new Map;function Do(t){Jo(t instanceof Function,"Expected a class definition");let e=nR.get(t);return e?(Jo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aB.type="NONE";const rR=aB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t,e,n){return`firebase:${t}:${e}:${n}`}class Ed{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=N0(this.userKey,s.apiKey,i),this.fullPersistenceKey=N0("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Lo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ed(Do(rR),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Do(rR);const o=N0(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const f=Lo._fromJSON(e,u);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ed(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ed(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fB(e))return"Blackberry";if(pB(e))return"Webos";if(cB(e))return"Safari";if((e.includes("chrome/")||uB(e))&&!e.includes("edge/"))return"Chrome";if(hB(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lB(t=Hr()){return/firefox\//i.test(t)}function cB(t=Hr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uB(t=Hr()){return/crios\//i.test(t)}function dB(t=Hr()){return/iemobile/i.test(t)}function hB(t=Hr()){return/android/i.test(t)}function fB(t=Hr()){return/blackberry/i.test(t)}function pB(t=Hr()){return/webos/i.test(t)}function $A(t=Hr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zae(t=Hr()){var e;return $A(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Wae(){return ire()&&document.documentMode===10}function mB(t=Hr()){return $A(t)||hB(t)||pB(t)||fB(t)||/windows phone/i.test(t)||dB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(t,e=[]){let n;switch(t){case"Browser":n=sR(Hr());break;case"Worker":n=`${sR(Hr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hae(t,e={}){return Ph(t,"GET","/v2/passwordPolicy",zA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qae=6;class Kae{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:qae,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gae{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iR(this),this.idTokenSubscription=new iR(this),this.beforeStateQueue=new $ae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Do(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ed.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await iB(this,{idToken:e}),r=await Lo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ga(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await iw(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ga(this.app))return Promise.reject(Tc(this));const n=e?Dn(e):null;return n&&Qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ga(this.app)?Promise.reject(Tc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ga(this.app)?Promise.reject(Tc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Do(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Hae(this),n=new Kae(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ym("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Vae(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Do(e)||this._popupRedirectResolver;Qe(n,this,"argument-error"),this.redirectPersistenceManager=await Ed.create(this,[Do(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Aae(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function HA(t){return Dn(t)}class iR{constructor(e){this.auth=e,this.observer=null,this.addObserver=fre(n=>this.observer=n)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qA={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qae(t){qA=t}function Yae(t){return qA.loadJS(t)}function Xae(){return qA.gapiScript}function Zae(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jae(t,e){const n=Ev(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ky(i,e??{}))return s;Zo(s,"already-initialized")}return n.initialize({options:e})}function ele(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Do);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tle(t,e,n){const r=HA(t);Qe(r._canInitEmulator,r,"emulator-config-failed"),Qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=yB(e),{host:o,port:a}=nle(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),rle()}function yB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nle(t){const e=yB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:oR(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:oR(o)}}}function oR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rle(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oo("not implemented")}_getIdTokenResponse(e){return Oo("not implemented")}_linkToIdToken(e,n){return Oo("not implemented")}_getReauthenticationResolver(e){return Oo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(t,e){return Mae(t,"POST","/v1/accounts:signInWithIdp",zA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sle="http://localhost";class qc extends wB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=pm(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new qc(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sd(e,n)}buildRequest(){const e={requestUri:sle,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends vB{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Nm{constructor(){super("facebook.com")}static credential(e){return qc._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ka.credential(e.oauthAccessToken)}catch{return null}}}ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Nm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qc._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Na.credential(n,r)}catch{return null}}}Na.GOOGLE_SIGN_IN_METHOD="google.com";Na.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Nm{constructor(){super("github.com")}static credential(e){return qc._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.GITHUB_SIGN_IN_METHOD="github.com";Ra.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Nm{constructor(){super("twitter.com")}static credential(e,n){return qc._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ma.credential(n,r)}catch{return null}}}Ma.TWITTER_SIGN_IN_METHOD="twitter.com";Ma.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Lo._fromIdTokenResponse(e,r,s),o=aR(r);return new fh({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=aR(r);return new fh({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function aR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow extends ro{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ow.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ow(e,n,r,s)}}function xB(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ow._fromErrorAndOperation(t,i,e,r):i})}async function ile(t,e,n=!1){const r=await Bp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ole(t,e,n=!1){const{auth:r}=t;if(Ga(r.app))return Promise.reject(Tc(r));const s="reauthenticate";try{const i=await Bp(t,xB(r,s,e,t),n);Qe(i.idToken,r,"internal-error");const o=WA(i.idToken);Qe(o,r,"internal-error");const{sub:a}=o;return Qe(t.uid===a,r,"user-mismatch"),fh._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Zo(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ale(t,e,n=!1){if(Ga(t.app))return Promise.reject(Tc(t));const r="signIn",s=await xB(t,r,e),i=await fh._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function lle(t,e,n,r){return Dn(t).onIdTokenChanged(e,n,r)}function cle(t,e,n){return Dn(t).beforeAuthStateChanged(e,n)}const aw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(aw,"1"),this.storage.removeItem(aw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ule=1e3,dle=10;class _B extends bB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Wae()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,dle):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ule)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_B.type="LOCAL";const hle=_B;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB extends bB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}EB.type="SESSION";const SB=EB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fle(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new zv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await fle(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ple{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=KA("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function mle(t){qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function gle(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yle(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wle(){return TB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB="firebaseLocalStorageDb",vle=1,lw="firebaseLocalStorage",IB="fbase_key";class Rm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wv(t,e){return t.transaction([lw],e?"readwrite":"readonly").objectStore(lw)}function xle(){const t=indexedDB.deleteDatabase(AB);return new Rm(t).toPromise()}function RE(){const t=indexedDB.open(AB,vle);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lw,{keyPath:IB})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lw)?e(r):(r.close(),await xle(),e(await RE()))})})}async function lR(t,e,n){const r=Wv(t,!0).put({[IB]:e,value:n});return new Rm(r).toPromise()}async function ble(t,e){const n=Wv(t,!1).get(e),r=await new Rm(n).toPromise();return r===void 0?null:r.value}function cR(t,e){const n=Wv(t,!0).delete(e);return new Rm(n).toPromise()}const _le=800,Ele=3;class CB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await RE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ele)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zv._getInstance(wle()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gle(),!this.activeServiceWorker)return;this.sender=new ple(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yle()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await RE();return await lR(e,aw,"1"),await cR(e,aw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ble(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Wv(s,!1).getAll();return new Rm(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_le)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CB.type="LOCAL";const Sle=CB;new km(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tle(t,e){return e?Do(e):(Qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA extends wB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ale(t){return ale(t.auth,new GA(t),t.bypassAuthState)}function Ile(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),ole(n,new GA(t),t.bypassAuthState)}async function Cle(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),ile(n,new GA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ale;case"linkViaPopup":case"linkViaRedirect":return Cle;case"reauthViaPopup":case"reauthViaRedirect":return Ile;default:Zo(this.auth,"internal-error")}}resolve(e){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kle=new km(2e3,1e4);class od extends kB{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,od.currentPopupAction&&od.currentPopupAction.cancel(),od.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){Jo(this.filter.length===1,"Popup operations only handle one event");const e=KA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,od.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kle.get())};e()}}od.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nle="pendingRedirect",R0=new Map;class Rle extends kB{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=R0.get(this.auth._key());if(!e){try{const r=await Mle(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}R0.set(this.auth._key(),e)}return this.bypassAuthState||R0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mle(t,e){const n=Lle(e),r=Ole(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Ple(t,e){R0.set(t._key(),e)}function Ole(t){return Do(t._redirectPersistence)}function Lle(t){return N0(Nle,t.config.apiKey,t.name)}async function Dle(t,e,n=!1){if(Ga(t.app))return Promise.reject(Tc(t));const r=HA(t),s=Tle(r,e),o=await new Rle(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jle=10*60*1e3;class Ble{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Fle(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!NB(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jle&&this.cachedEventUids.clear(),this.cachedEventUids.has(uR(e))}saveEventToCache(e){this.cachedEventUids.add(uR(e)),this.lastProcessedEventTime=Date.now()}}function uR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Fle(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ule(t,e={}){return Ph(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vle=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zle=/^https?/;async function Wle(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ule(t);for(const n of e)try{if($le(n))return}catch{}Zo(t,"unauthorized-domain")}function $le(t){const e=kE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zle.test(n))return!1;if(Vle.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hle=new km(3e4,6e4);function dR(){const t=qi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qle(t){return new Promise((e,n)=>{var r,s,i;function o(){dR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dR(),n(Hi(t,"network-request-failed"))},timeout:Hle.get()})}if(!((s=(r=qi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=qi().gapi)===null||i===void 0)&&i.load)o();else{const a=Zae("iframefcb");return qi()[a]=()=>{gapi.load?o():n(Hi(t,"network-request-failed"))},Yae(`${Xae()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw M0=null,e})}let M0=null;function Kle(t){return M0=M0||qle(t),M0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gle=new km(5e3,15e3),Qle="__/auth/iframe",Yle="emulator/auth/iframe",Xle={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jle(t){const e=t.config;Qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?VA(e,Yle):`https://${t.config.authDomain}/${Qle}`,r={apiKey:e.apiKey,appName:t.name,v:eu},s=Zle.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${wm(r).slice(1)}`}async function ece(t){const e=await Kle(t),n=qi().gapi;return Qe(n,t,"internal-error"),e.open({where:document.body,url:Jle(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xle,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Hi(t,"network-request-failed"),a=qi().setTimeout(()=>{i(o)},Gle.get());function l(){qi().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nce=500,rce=600,sce="_blank",ice="http://localhost";class hR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oce(t,e,n,r=nce,s=rce){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},tce),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Hr().toLowerCase();n&&(a=uB(c)?sce:n),lB(c)&&(e=e||ice,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(zae(c)&&a!=="_self")return ace(e||"",a),new hR(null);const f=window.open(e||"",a,u);Qe(f,t,"popup-blocked");try{f.focus()}catch{}return new hR(f)}function ace(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lce="__/auth/handler",cce="emulator/auth/handler",uce=encodeURIComponent("fac");async function fR(t,e,n,r,s,i){Qe(t.config.authDomain,t,"auth-domain-config-required"),Qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:eu,eventId:s};if(e instanceof vB){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hre(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof Nm){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${uce}=${encodeURIComponent(l)}`:"";return`${dce(t)}?${wm(a).slice(1)}${c}`}function dce({config:t}){return t.emulator?VA(t,cce):`https://${t.authDomain}/${lce}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="webStorageSupport";class hce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SB,this._completeRedirectFn=Dle,this._overrideRedirectResult=Ple}async _openPopup(e,n,r,s){var i;Jo((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await fR(e,n,r,kE(),s);return oce(e,o,KA())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await fR(e,n,r,kE(),s);return mle(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Jo(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ece(e),r=new Ble(e);return n.register("authEvent",s=>(Qe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vx,{type:Vx},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Vx];o!==void 0&&n(!!o),Zo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Wle(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mB()||cB()||$A()}}const fce=hce;var pR="@firebase/auth",mR="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gce(t){Vc(new wl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Qe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gB(t)},c=new Gae(r,s,i,l);return ele(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vc(new wl("auth-internal",e=>{const n=HA(e.getProvider("auth").getImmediate());return(r=>new pce(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(pR,mR,mce(t)),zi(pR,mR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yce=5*60,wce=E5("authIdTokenMaxAge")||yce;let gR=null;const vce=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wce)return;const s=n==null?void 0:n.token;gR!==s&&(gR=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xce(t=YT()){const e=Ev(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jae(t,{popupRedirectResolver:fce,persistence:[Sle,hle,SB]}),r=E5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=vce(i.toString());cle(n,o,()=>o(n.currentUser)),lle(n,a=>o(a))}}const s=x5("auth");return s&&tle(n,`http://${s}`),n}function bce(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Qae({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Hi("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",bce().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gce("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB="firebasestorage.googleapis.com",_ce="storageBucket",Ece=2*60*1e3,Sce=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends ro{constructor(e,n,r=0){super(zx(e),`Firebase Storage: ${n} (${zx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,io.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yi||(Yi={}));function zx(t){return"storage/"+t}function Tce(){const t="An unknown error occurred, please check the error payload for server response.";return new io(Yi.UNKNOWN,t)}function Ace(){return new io(Yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ice(){return new io(Yi.CANCELED,"User canceled the upload/download.")}function Cce(t){return new io(Yi.INVALID_URL,"Invalid URL '"+t+"'.")}function kce(t){return new io(Yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function yR(t){return new io(Yi.INVALID_ARGUMENT,t)}function MB(){return new io(Yi.APP_DELETED,"The Firebase app was deleted.")}function Nce(t){return new io(Yi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gi.makeFromUrl(e,n)}catch{return new gi(e,"")}if(r.path==="")return r;throw kce(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${u}/b/${s}/o${p}`,"i"),v={bucket:1,path:3},g=n===RB?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",b=new RegExp(`^https?://${g}/${s}/${w}`,"i"),x=[{regex:a,indices:l,postModify:i},{regex:m,indices:v,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<x.length;S++){const D=x[S],F=D.regex.exec(e);if(F){const M=F[D.indices.bucket];let R=F[D.indices.path];R||(R=""),r=new gi(M,R),D.postModify(r);break}}if(r==null)throw Cce(e);return r}}class Rce{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mce(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...w){c||(c=!0,e.apply(null,w))}function f(w){s=setTimeout(()=>{s=null,t(m,l())},w)}function p(){i&&clearTimeout(i)}function m(w,...b){if(c){p();return}if(w){p(),u.call(null,w,...b);return}if(l()||o){p(),u.call(null,w,...b);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,f(x)}let v=!1;function g(w){v||(v=!0,p(),!c&&(s!==null?(w||(a=2),clearTimeout(s),f(0)):w||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function Pce(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oce(t){return t!==void 0}function wR(t,e,n,r){if(r<e)throw yR(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw yR(`Invalid value for '${t}'. Expected ${n} or less.`)}function Lce(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var cw;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(cw||(cw={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dce(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jce{constructor(e,n,r,s,i,o,a,l,c,u,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Dg(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===cw.NO_ERROR,l=i.getStatus();if(!a||Dce(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===cw.ABORT;r(!1,new Dg(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Dg(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Oce(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Tce();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?MB():Ice();o(l)}else{const l=Ace();o(l)}};this.canceled_?n(!1,new Dg(!1,null,!0)):this.backoffId_=Mce(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Pce(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Bce(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Fce(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Uce(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Vce(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zce(t,e,n,r,s,i,o=!0){const a=Lce(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Uce(c,e),Bce(c,n),Fce(c,i),Vce(c,r),new jce(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wce(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $ce(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this._service=e,n instanceof gi?this._location=n:this._location=gi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new uw(e,n)}get root(){const e=new gi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $ce(this._location.path)}get storage(){return this._service}get parent(){const e=Wce(this._location.path);if(e===null)return null;const n=new gi(this._location.bucket,e);return new uw(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Nce(e)}}function vR(t,e){const n=e==null?void 0:e[_ce];return n==null?null:gi.makeFromBucketSpec(n,t)}function Hce(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:S5(s,t.app.options.projectId))}class qce{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=RB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ece,this._maxUploadRetryTime=Sce,this._requests=new Set,s!=null?this._bucket=gi.makeFromBucketSpec(s,this._host):this._bucket=vR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gi.makeFromBucketSpec(this._url,e):this._bucket=vR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uw(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Rce(MB());{const o=zce(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const xR="@firebase/storage",bR="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB="storage";function Kce(t=YT(),e){t=Dn(t);const r=Ev(t,PB).getImmediate({identifier:e}),s=b5("storage");return s&&Gce(r,...s),r}function Gce(t,e,n,r={}){Hce(t,e,n,r)}function Qce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new qce(n,r,s,e,eu)}function Yce(){Vc(new wl(PB,Qce,"PUBLIC").setMultipleInstances(!0)),zi(xR,bR,""),zi(xR,bR,"esm2017")}Yce();const Xce={apiKey:"AIzaSyBkK6RmHqSU9rivBUJ2sJ5VVqFgCoOBmso",authDomain:"wendex-7438c.firebaseapp.com",projectId:"wendex-7438c",storageBucket:"wendex-7438c.firebasestorage.app",messagingSenderId:"682166033434",appId:"1:682166033434:web:f29e18b1b8f94170029498"},QA=I5(Xce),qt=lae(QA);xce(QA);Kce(QA);const Kt={CAMPAIGNS:"campaigns",CONTRIBUTIONS:"contributions",USERS:"users",TRANSACTIONS:"transactions",ANALYTICS:"analytics"};class Zce{constructor(){this.cache=new Map,this.cacheDefaultTTL=5*60*1e3,this.subscribers=new Map,setInterval(()=>this.cleanupCache(),6e4)}getCacheKey(e,n,r){return`${e}:${n||"query"}:${r||"default"}`}setCache(e,n,r=this.cacheDefaultTTL){this.cache.set(e,{data:n,timestamp:Date.now(),ttl:r})}getCache(e){const n=this.cache.get(e);return n?Date.now()-n.timestamp>n.ttl?(this.cache.delete(e),null):n.data:null}cleanupCache(){const e=Date.now();for(const[n,r]of this.cache.entries())e-r.timestamp>r.ttl&&this.cache.delete(n)}invalidateCache(e){for(const n of this.cache.keys())n.includes(e)&&this.cache.delete(n)}async createCampaign(e){try{const n=pa(is(qt,Kt.CAMPAIGNS),ma("contractAddress","==",e.contractAddress));if(!(await fo(n)).empty)throw new Error("Campaign already exists for this contract address");const s=await Fx(qt,async i=>{let o=null,a=null;e.createdBy&&(a=ri(qt,Kt.USERS,e.createdBy),o=await i.get(a));const l=ri(is(qt,Kt.CAMPAIGNS)),c={...e,createdAt:Vs(),updatedAt:Vs()};return i.set(l,c),e.createdBy&&a&&(o&&o.exists()?i.update(a,{campaignsCreated:uf(1),updatedAt:Vs()}):i.set(a,{id:e.createdBy,campaignsCreated:1,createdAt:Vs(),updatedAt:Vs(),profile:{displayName:null,avatar:null,bio:null}})),l.id});return this.invalidateCache(Kt.CAMPAIGNS),s}catch(n){throw console.error("Campaign creation error:",n),new Error(`Failed to create campaign: ${n.message}`)}}async getCampaigns(e={}){try{const{limit:n=20,orderBy:r="createdAt",orderDirection:s="desc",startAfter:i,filters:o=[]}=e,a=this.getCacheKey(Kt.CAMPAIGNS,void 0,JSON.stringify({pageLimit:n,orderField:r,orderDirection:s,filters:o}));if(!i){const g=this.getCache(a);if(g)return g}const l=[];o.forEach(g=>{l.push(ma(g.field,g.operator,g.value))}),l.push(Og(r,s)),i&&l.push(Q2(i)),l.push(ku(n+1));const c=pa(is(qt,Kt.CAMPAIGNS),...l),u=await fo(c),f=[];let p=null,m=!1;u.docs.forEach((g,w)=>{if(w<n){const b=g.data();f.push({id:g.id,...b,createdAt:os(b.createdAt),updatedAt:os(b.updatedAt)}),p=g}else m=!0});const v={data:f,lastDoc:p,hasMore:m};return i||this.setCache(a,v),v}catch(n){throw console.error("Get campaigns error:",n),new Error("Failed to fetch campaigns")}}async getCampaign(e){try{const n=this.getCacheKey(Kt.CAMPAIGNS,e),r=this.getCache(n);if(r)return r;const s=ri(qt,Kt.CAMPAIGNS,e),i=await wae(s);if(!i.exists())return null;const o=i.data(),a={id:i.id,...o,createdAt:os(o.createdAt),updatedAt:os(o.updatedAt)};return this.setCache(n,a),a}catch(n){throw console.error("Get campaign error:",n),new Error("Failed to fetch campaign")}}async updateCampaign(e,n){try{const r=ri(qt,Kt.CAMPAIGNS,e),s={...n,updatedAt:Vs()};await vae(r,s),this.invalidateCache(Kt.CAMPAIGNS)}catch(r){throw console.error("Update campaign error:",r),new Error("Failed to update campaign")}}async createContribution(e){try{return await Fx(qt,async n=>{const r=ri(is(qt,Kt.CONTRIBUTIONS)),s={...e,createdAt:Vs()};n.set(r,s);const i=ri(qt,Kt.CAMPAIGNS,e.campaignId);if(n.update(i,{currentAmount:uf(e.amount),contributorCount:uf(1),updatedAt:Vs()}),e.userId){const o=ri(qt,Kt.USERS,e.userId);n.update(o,{totalContributed:uf(e.amount),campaignsSupported:uf(1),updatedAt:Vs()})}return r.id})}catch(n){throw console.error("Contribution creation error:",n),new Error("Failed to create contribution")}}async getCampaignContributions(e,n={}){try{const{limit:r=50,orderBy:s="createdAt",orderDirection:i="desc",startAfter:o}=n,a=[ma("campaignId","==",e),Og(s,i)];o&&a.push(Q2(o)),a.push(ku(r+1));const l=pa(is(qt,Kt.CONTRIBUTIONS),...a),c=await fo(l),u=[];let f=null,p=!1;return c.docs.forEach((m,v)=>{if(v<r){const g=m.data();u.push({id:m.id,...g,createdAt:os(g.createdAt)}),f=m}else p=!0}),{data:u,lastDoc:f,hasMore:p}}catch(r){throw console.error("Get campaign contributions error:",r),new Error("Failed to fetch campaign contributions")}}async batchUpdateCampaigns(e){try{const n=J2(qt);e.forEach(({id:r,data:s})=>{const i=ri(qt,Kt.CAMPAIGNS,r);n.update(i,{...s,updatedAt:Vs()})}),await n.commit(),this.invalidateCache(Kt.CAMPAIGNS)}catch(n){throw console.error("Batch update campaigns error:",n),new Error("Failed to batch update campaigns")}}async batchCreateContributions(e){try{const n=J2(qt),r=[];return e.forEach(s=>{const i=ri(is(qt,Kt.CONTRIBUTIONS));n.set(i,{...s,createdAt:Vs()}),r.push(i.id)}),await n.commit(),r}catch(n){throw console.error("Batch create contributions error:",n),new Error("Failed to batch create contributions")}}subscribeToCampaign(e,n){const r=ri(qt,Kt.CAMPAIGNS,e),s=Z2(r,o=>{if(o.exists()){const a=o.data(),l={id:o.id,...a,createdAt:os(a.createdAt),updatedAt:os(a.updatedAt)},c=this.getCacheKey(Kt.CAMPAIGNS,e);this.setCache(c,l),n(l)}else n(null)},o=>{console.error("Campaign subscription error:",o),n(null)}),i=`campaign:${e}`;return this.subscribers.set(i,s),()=>{s(),this.subscribers.delete(i)}}subscribeToActiveCampaigns(e,n=[]){const r=[ma("status","==","active"),Og("createdAt","desc"),ku(50)];n.forEach(o=>{r.push(ma(o.field,o.operator,o.value))});const s=pa(is(qt,Kt.CAMPAIGNS),...r);return Z2(s,o=>{const a=[];o.docs.forEach(l=>{const c=l.data();a.push({id:l.id,...c,createdAt:os(c.createdAt),updatedAt:os(c.updatedAt)})}),e(a)},o=>{console.error("Active campaigns subscription error:",o),e([])})}async getPlatformStats(){try{const e=this.getCacheKey("stats","platform"),n=this.getCache(e);if(n)return n;const[r,s,i]=await Promise.all([fo(is(qt,Kt.CAMPAIGNS)),fo(pa(is(qt,Kt.CAMPAIGNS),ma("status","==","active"))),fo(is(qt,Kt.CONTRIBUTIONS))]);let o=0,a=0;i.docs.forEach(c=>{const u=c.data();u.status==="confirmed"&&(o+=u.amount||0,a++)});const l={totalCampaigns:r.size,activeCampaigns:s.size,totalFunded:o,totalContributions:a};return this.setCache(e,l,5*60*1e3),l}catch(e){throw console.error("Get platform stats error:",e),new Error("Failed to fetch platform statistics")}}async checkContractAddressExists(e){try{console.log("[Database Service] Checking if contract address exists:",e);const n=pa(is(qt,Kt.CAMPAIGNS),ma("contractAddress","==",e),ku(1));console.log("[Database Service] Executing Firestore query...");const r=await fo(n),s=!r.empty;return console.log("[Database Service] Query result - exists:",s,"docs count:",r.size),s}catch(n){return console.error("[Database Service] Contract address check error:",n),console.log("[Database Service] Returning false due to error"),!1}}async searchCampaigns(e,n={}){try{const r=e.toLowerCase(),s=pa(is(qt,Kt.CAMPAIGNS),ma("status","==","active"),Og("createdAt","desc"),ku(n.limit||20)),i=await fo(s),o=[];return i.docs.forEach(a=>{var m,v,g,w,b;const l=a.data(),c={id:a.id,...l,createdAt:os(l.createdAt),updatedAt:os(l.updatedAt)},u=((v=(m=c.tokenMetadata)==null?void 0:m.name)==null?void 0:v.toLowerCase())||"",f=((w=(g=c.tokenMetadata)==null?void 0:g.symbol)==null?void 0:w.toLowerCase())||"",p=((b=c.description)==null?void 0:b.toLowerCase())||"";(u.includes(r)||f.includes(r)||p.includes(r))&&o.push(c)}),o}catch(r){return console.error("Search campaigns error:",r),[]}}cleanup(){this.subscribers.forEach(e=>{e()}),this.subscribers.clear(),this.cache.clear()}async healthCheck(){const e=Date.now();try{const n=pa(is(qt,Kt.CAMPAIGNS),ku(1));await fo(n);const r=!0;let s=!1;try{const o=ri(is(qt,"health-check"));await Fx(qt,async a=>{a.set(o,{test:!0,timestamp:Vs()}),a.delete(o)}),s=!0}catch(o){console.warn("Write test failed:",o)}const i=Date.now()-e;return{healthy:r,canRead:r,canWrite:s,latency:i,cacheSize:this.cache.size,activeSubscriptions:this.subscribers.size}}catch{return{healthy:!1,canRead:!1,canWrite:!1,latency:Date.now()-e,cacheSize:this.cache.size,activeSubscriptions:this.subscribers.size}}}}const Jce=new Zce;class eue{async uploadImage(e,n,r){try{if(e.size>5242880)throw new Error("File size exceeds 5MB limit");if(!e.type.startsWith("image/"))throw new Error("File must be an image");const i=await this.convertToBase64(e),o=Date.now(),a=Math.random().toString(36).substring(2),l=r?`campaigns/${r}/${n}/${o}_${a}`:`${n}/${o}_${a}`;return{url:i,path:l}}catch(s){throw console.error("Image upload error:",s),new Error(`Failed to upload image: ${s.message}`)}}convertToBase64(e){return new Promise((n,r)=>{const s=document.createElement("canvas"),i=s.getContext("2d"),o=new Image;o.onload=()=>{const l=Math.min(800/o.width,800/o.height);s.width=o.width*l,s.height=o.height*l,i==null||i.drawImage(o,0,0,s.width,s.height);const c=s.toDataURL("image/jpeg",.7);n(c)},o.onerror=r,o.src=URL.createObjectURL(e)})}async uploadLogo(e,n){return new Promise((r,s)=>{const i=new Image;i.onload=async()=>{const o=i.width/i.height;if(o<.8||o>1.2){s(new Error("Logo image should have a square aspect ratio (1:1)"));return}try{const a=await this.uploadImage(e,"logos",n);r(a)}catch(a){s(a)}},i.onerror=()=>{s(new Error("Failed to load image for validation"))},i.src=URL.createObjectURL(e)})}async uploadBanner(e,n){return new Promise((r,s)=>{const i=new Image;i.onload=async()=>{const o=i.width/i.height;if(o<2.8||o>3.2){s(new Error("Banner image should have a 3:1 aspect ratio"));return}try{const a=await this.uploadImage(e,"banners",n);r(a)}catch(a){s(a)}},i.onerror=()=>{s(new Error("Failed to load image for validation"))},i.src=URL.createObjectURL(e)})}}const _R=new eue,tue=()=>{var D;const[,t]=Qp(),{publicKey:e,connected:n}=um(),{toast:r}=Yp(),[s,i]=N.useState({contractAddress:"",tokenMetadata:null,logoImage:null,bannerImage:null,duration:24,socialLinks:{}}),[o,a]=N.useState(!1),[l,c]=N.useState(null),[u,f]=N.useState(!1),[p,m]=N.useState(0),[v,g]=N.useState(null),w=N.useCallback(nue(async F=>{if(console.log("[Campaign Form] validateToken called with:",F),!F||F.length<32){console.log("[Campaign Form] Address too short, clearing metadata"),i(M=>({...M,tokenMetadata:null})),c(null);return}console.log("[Campaign Form] Starting validation process..."),a(!0),c(null);try{console.log("[Campaign Form] Checking if campaign exists...");const M=await Jce.checkContractAddressExists(F);if(console.log("[Campaign Form] Campaign exists check result:",M),M){console.log("[Campaign Form] Campaign already exists, showing error"),c("A campaign already exists for this token"),i(U=>({...U,tokenMetadata:null}));return}console.log("[Campaign Form] Calling heliusService.validateToken...");const R=await Hne.validateToken(F);console.log("[Campaign Form] Helius validation result:",R),R.isValid&&R.metadata?(console.log("[Campaign Form] Token is valid, setting metadata:",R.metadata),i(U=>({...U,tokenMetadata:R.metadata})),R.metadata.extensions&&(console.log("[Campaign Form] Auto-populating social links:",R.metadata.extensions),i(U=>{var W,$,q;return{...U,socialLinks:{twitter:((W=R.metadata.extensions)==null?void 0:W.twitter)||"",telegram:(($=R.metadata.extensions)==null?void 0:$.telegram)||"",website:((q=R.metadata.extensions)==null?void 0:q.website)||""}}})),console.log("[Campaign Form] Validation successful, clearing error"),c(null)):(console.log("[Campaign Form] Token validation failed:",R.error),c(R.error||"Invalid token contract"),i(U=>({...U,tokenMetadata:null})))}catch(M){console.error("[Campaign Form] Token validation error:",M),c("Failed to validate token. Please try again."),i(R=>({...R,tokenMetadata:null}))}finally{console.log("[Campaign Form] Validation process complete, setting isValidatingToken to false"),a(!1)}},500),[]);N.useEffect(()=>{w(s.contractAddress)},[s.contractAddress,w]);const b=F=>M=>{i(R=>({...R,socialLinks:{...R.socialLinks,[F]:M.target.value}}))},_=F=>M=>{var W;const R=(W=M.target.files)==null?void 0:W[0];if(!R)return;if(R.size>5*1024*1024){r({title:"File too large",description:"Please choose an image smaller than 5MB",variant:"destructive"});return}if(!R.type.startsWith("image/")){r({title:"Invalid file type",description:"Please choose an image file",variant:"destructive"});return}const U=new Image;U.onload=()=>{const $=U.width/U.height;if(F==="logo"){if($<.8||$>1.2){r({title:"Invalid aspect ratio",description:"Logo image should be square (1:1 aspect ratio)",variant:"destructive"});return}}else if(F==="banner"&&($<2.8||$>3.2)){r({title:"Invalid aspect ratio",description:"Banner image should have a 3:1 aspect ratio",variant:"destructive"});return}i(q=>({...q,[`${F}Image`]:R}))},U.onerror=()=>{r({title:"Invalid image",description:"Failed to load the selected image",variant:"destructive"})},U.src=URL.createObjectURL(R)},x=s.tokenMetadata&&s.logoImage&&s.bannerImage&&!o&&!u,S=async()=>{if(console.log("[Campaign Creation] Starting campaign creation process"),!e||!n||!s.tokenMetadata){g("Please connect your wallet first");return}f(!0),m(0),g(null);try{console.log("[Campaign Creation] Step 1: Uploading images"),m(50);const F=await _R.uploadLogo(s.logoImage),M=await _R.uploadBanner(s.bannerImage);console.log("[Campaign Creation] Images uploaded:",{logoUrl:F.url,bannerUrl:M.url}),console.log("[Campaign Creation] Step 2: Creating campaign via API"),m(75);const R={tokenAddress:s.contractAddress,tokenName:s.tokenMetadata.name,tokenSymbol:s.tokenMetadata.symbol,tokenLogoUrl:F.url,bannerUrl:M.url,campaignType:"enhanced_token_info",targetAmount:299,deadline:new Date(Date.now()+s.duration*60*60*1e3),description:`Community crowdfunding campaign to purchase Enhanced Token Info for ${s.tokenMetadata.name} (${s.tokenMetadata.symbol})`,creatorAddress:e.toString()},U=await ih.create(R);if(!U.success)throw new Error("Failed to create campaign");m(100),setTimeout(()=>{t(`/campaign/${U.campaign.id}`)},1e3)}catch(F){console.error("Campaign creation error:",F),g(F instanceof Error?F.message:"Failed to create campaign")}finally{f(!1)}};return n?d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h2",{className:"heading-dark-2",children:"Create Campaign"}),d.jsx("p",{className:"text-gray-400 text-lg",children:"Fund Enhanced Token Info for your favorite Solana token"})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-base font-semibold text-white",children:"Token Contract Address"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Enter Solana token contract address...",value:s.contractAddress,onChange:F=>i(M=>({...M,contractAddress:F.target.value})),className:"input-dark w-full pr-12"}),o&&d.jsx(mp,{className:"absolute right-4 top-4 h-5 w-5 animate-spin text-purple-400"})]}),l&&d.jsx("div",{className:"card-dark p-4 border border-red-500/30 bg-red-500/10",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(gf,{className:"h-5 w-5 text-red-400 flex-shrink-0"}),d.jsx("p",{className:"text-red-400 text-sm",children:l})]})}),s.tokenMetadata&&d.jsx("div",{className:"card-dark p-6 border border-purple-500/30 bg-gradient-to-r from-purple-600/10 to-pink-600/10",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[s.tokenMetadata.image&&d.jsx("img",{src:s.tokenMetadata.image,alt:s.tokenMetadata.name,className:"w-16 h-16 rounded-full border-2 border-gray-700"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.jsx("span",{className:"text-xl font-bold text-white",children:s.tokenMetadata.name}),d.jsx("div",{className:"badge-dark badge-dark-active",children:s.tokenMetadata.symbol}),s.tokenMetadata.verified&&d.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-green-500/20 text-green-400 border border-green-500/50 rounded-lg",children:[d.jsx(yf,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm font-medium",children:"Verified"})]})]}),d.jsxs("p",{className:"text-gray-400",children:["Supply: ",((D=s.tokenMetadata.supply)==null?void 0:D.toLocaleString())||"Unknown"]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Contract: ",s.contractAddress]})]})]})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[d.jsx(dz,{className:"h-6 w-6 mr-3 text-purple-400"}),"Social Links (Optional)"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-base font-medium text-gray-300",children:"Twitter"}),d.jsx("input",{type:"url",placeholder:"https://twitter.com/...",value:s.socialLinks.twitter||"",onChange:b("twitter"),className:"input-dark w-full"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-base font-medium text-gray-300",children:"Telegram"}),d.jsx("input",{type:"url",placeholder:"https://t.me/...",value:s.socialLinks.telegram||"",onChange:b("telegram"),className:"input-dark w-full"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-base font-medium text-gray-300",children:"Website"}),d.jsx("input",{type:"url",placeholder:"https://example.com",value:s.socialLinks.website||"",onChange:b("website"),className:"input-dark w-full"})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[d.jsx(cz,{className:"h-6 w-6 mr-3 text-purple-400"}),"Campaign Images"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx("div",{className:"space-y-3",children:d.jsx("label",{className:"block",children:d.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-300
                  ${s.logoImage?"border-purple-500 bg-purple-500/10":"border-gray-700 hover:border-purple-500/50 hover:bg-purple-500/5"}`,children:[d.jsx("input",{type:"file",accept:"image/*",onChange:_("logo"),className:"sr-only"}),s.logoImage?d.jsxs("div",{className:"space-y-3",children:[d.jsx(yf,{className:"h-10 w-10 mx-auto text-purple-400"}),d.jsx("p",{className:"text-base font-medium text-white",children:s.logoImage.name}),d.jsx("p",{className:"text-sm text-gray-400",children:"Click to change"})]}):d.jsxs("div",{className:"space-y-3",children:[d.jsx(ck,{className:"h-10 w-10 mx-auto text-gray-400"}),d.jsx("p",{className:"text-base font-medium text-white",children:"Logo Image (1:1)"}),d.jsx("p",{className:"text-sm text-gray-400",children:"Square image, max 5MB"})]})]})})}),d.jsx("div",{className:"space-y-3",children:d.jsx("label",{className:"block",children:d.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-300
                  ${s.bannerImage?"border-purple-500 bg-purple-500/10":"border-gray-700 hover:border-purple-500/50 hover:bg-purple-500/5"}`,children:[d.jsx("input",{type:"file",accept:"image/*",onChange:_("banner"),className:"sr-only"}),s.bannerImage?d.jsxs("div",{className:"space-y-3",children:[d.jsx(yf,{className:"h-10 w-10 mx-auto text-purple-400"}),d.jsx("p",{className:"text-base font-medium text-white",children:s.bannerImage.name}),d.jsx("p",{className:"text-sm text-gray-400",children:"Click to change"})]}):d.jsxs("div",{className:"space-y-3",children:[d.jsx(ck,{className:"h-10 w-10 mx-auto text-gray-400"}),d.jsx("p",{className:"text-base font-medium text-white",children:"Banner Image (3:1)"}),d.jsx("p",{className:"text-sm text-gray-400",children:"Wide image, max 5MB"})]})]})})})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[d.jsx(Clock,{className:"h-6 w-6 mr-3 text-purple-400"}),"Campaign Duration"]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[4,8,12,24].map(F=>d.jsx("button",{type:"button",onClick:()=>i(M=>({...M,duration:F})),className:`p-4 rounded-xl border-2 transition-all duration-200 ${s.duration===F?"border-purple-500 bg-purple-500/20 text-white":"border-gray-700 bg-gray-800/50 text-gray-400 hover:border-purple-500/50 hover:text-gray-300"}`,children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold mb-1",children:F}),d.jsxs("div",{className:"text-sm",children:["Hour",F!==1?"s":""]})]})},F))}),d.jsx("div",{className:"card-dark p-4 border border-yellow-500/30 bg-yellow-500/10",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(gf,{className:"h-5 w-5 text-yellow-400 flex-shrink-0"}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:["Selected duration: ",d.jsxs("strong",{className:"text-white",children:[s.duration," hours"]}),". Campaign will end at ",new Date(Date.now()+s.duration*60*60*1e3).toLocaleString(),"."]})]})})]}),d.jsx("div",{className:"card-dark p-6 border border-blue-500/30 bg-blue-500/10",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(gf,{className:"h-6 w-6 text-blue-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-blue-400 font-medium mb-2",children:"Campaign Information"}),d.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["Your campaign will raise ",d.jsx("strong",{className:"text-white",children:"$299 USD"})," to purchase Enhanced Token Info on DexScreener. The campaign will run for ",d.jsxs("strong",{className:"text-white",children:[s.duration," hours"]})," or until fully funded."]})]})]})}),u&&d.jsxs("div",{className:"card-dark p-8 space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-lg font-semibold text-white",children:"Creating Campaign..."}),d.jsxs("span",{className:"text-base text-purple-400 font-medium",children:[p,"%"]})]}),d.jsx("div",{className:"progress-dark",children:d.jsx("div",{className:"progress-dark-bar",style:{width:`${p}%`}})}),d.jsxs("p",{className:"text-base text-gray-400",children:[p<=25&&"Generating secure campaign wallet...",p>25&&p<=50&&"Uploading images...",p>50&&p<=75&&"Creating campaign...",p>75&&"Finalizing..."]})]}),v&&d.jsx("div",{className:"card-dark p-6 border border-red-500/30 bg-red-500/10",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(gf,{className:"h-6 w-6 text-red-400 flex-shrink-0"}),d.jsx("p",{className:"text-red-400 text-base",children:v})]})}),d.jsx("button",{onClick:S,disabled:!x||u,className:`w-full btn-dark-primary text-lg py-4 ${!x||u?"opacity-50 cursor-not-allowed":""}`,children:u?d.jsxs(d.Fragment,{children:[d.jsx(mp,{className:"h-5 w-5 mr-3 animate-spin"}),"Creating Campaign..."]}):d.jsxs(d.Fragment,{children:["Create Campaign",d.jsx(yf,{className:"h-5 w-5 ml-3"})]})})]})]}):d.jsx("div",{className:"min-h-screen bg-dark-gradient flex items-center justify-center p-4",children:d.jsxs("div",{className:"card-dark max-w-md w-full p-8 text-center space-y-8 glow-purple",children:[d.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center",children:d.jsx(em,{className:"h-8 w-8 text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Connect Your Wallet"}),d.jsx("p",{className:"text-gray-400 text-lg",children:"Connect your Solana wallet to create a campaign"})]}),d.jsx(My,{className:"!bg-gradient-to-r !from-purple-600 !to-pink-600 !text-white hover:!from-purple-700 hover:!to-pink-700 !font-semibold !py-4 !px-8 !rounded-xl !transition-all !duration-200 w-full !text-lg"})]})})};function nue(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>t(...r),e)}}const rue=N.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:We("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));rue.displayName="Textarea";var YA="Progress",XA=100,[sue,ade]=Xi(YA),[iue,oue]=sue(YA),OB=N.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=aue,...o}=t;(s||s===0)&&!ER(s)&&console.error(lue(`${s}`,"Progress"));const a=ER(s)?s:XA;r!==null&&!SR(r,a)&&console.error(cue(`${r}`,"Progress"));const l=SR(r,a)?r:null,c=dw(l)?i(l,a):void 0;return d.jsx(iue,{scope:n,value:l,max:a,children:d.jsx(Ze.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":dw(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":jB(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});OB.displayName=YA;var LB="ProgressIndicator",DB=N.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=oue(LB,n);return d.jsx(Ze.div,{"data-state":jB(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});DB.displayName=LB;function aue(t,e){return`${Math.round(t/e*100)}%`}function jB(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function dw(t){return typeof t=="number"}function ER(t){return dw(t)&&!isNaN(t)&&t>0}function SR(t,e){return dw(t)&&!isNaN(t)&&t<=e&&t>=0}function lue(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${XA}\`.`}function cue(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${XA} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var BB=OB,uue=DB;const P0=N.forwardRef(({className:t,value:e,...n},r)=>d.jsx(BB,{ref:r,className:We("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:d.jsx(uue,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));P0.displayName=BB.displayName;function due(){return d.jsx(vd,{children:d.jsx("div",{className:"min-h-screen bg-dark-gradient",children:d.jsx("div",{className:"container mx-auto py-8 max-w-4xl px-6",children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"heading-dark-1",children:"Create Campaign"}),d.jsx("p",{className:"text-gray-400 mt-2 text-lg",children:"Start a crowdfunding campaign to purchase DexScreener services for your favorite token"})]}),d.jsx("div",{className:"card-dark p-6 border border-purple-500/30",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(uz,{className:"h-5 w-5 text-purple-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-purple-400 font-medium mb-2",children:"Important Information"}),d.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Campaign funds are held in a unique Solana wallet. Once the target is reached, the service will be automatically purchased. If the deadline passes without reaching the target, all contributors will be refunded."})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx("div",{className:"card-dark p-6 hover-lift-dark",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"heading-dark-3",children:"Enhanced Token Info"}),d.jsx("p",{className:"text-purple-400 font-semibold",children:"$299 USDC"})]}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Add detailed token information, social links, and descriptions to DexScreener"})]})}),d.jsx("div",{className:"card-dark p-6 hover-lift-dark",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"heading-dark-3",children:"Token Advertising"}),d.jsx("p",{className:"text-blue-400 font-semibold",children:"Custom Budget"})]}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Promote your token with banner ads and featured placements on DexScreener"})]})}),d.jsx("div",{className:"card-dark p-6 hover-lift-dark",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"heading-dark-3",children:"DexScreener Boost"}),d.jsx("p",{className:"text-green-400 font-semibold",children:"Variable Pricing"})]}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Boost your token's visibility with trending placement and increased exposure"})]})})]}),d.jsx("div",{className:"card-dark p-8 glow-purple",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"heading-dark-2",children:"Campaign Details"}),d.jsx("p",{className:"text-gray-400 mt-2",children:"Fill in the information below to create your crowdfunding campaign"})]}),d.jsx(tue,{})]})})]})})})})}const O0=N.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:We("w-full caption-bottom text-sm",t),...e})}));O0.displayName="Table";const L0=N.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:We("[&_tr]:border-b",t),...e}));L0.displayName="TableHeader";const D0=N.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:We("[&_tr:last-child]:border-0",t),...e}));D0.displayName="TableBody";const hue=N.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:We("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));hue.displayName="TableFooter";const Ql=N.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:We("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ql.displayName="TableRow";const Hn=N.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:We("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Hn.displayName="TableHead";const qn=N.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:We("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));qn.displayName="TableCell";const fue=N.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:We("mt-4 text-sm text-muted-foreground",t),...e}));fue.displayName="TableCaption";var $v="Switch",[pue,lde]=Xi($v),[mue,gue]=pue($v),FB=N.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...f}=t,[p,m]=N.useState(null),v=Dt(e,x=>m(x)),g=N.useRef(!1),w=p?u||!!p.closest("form"):!0,[b,_]=Pc({prop:s,defaultProp:i??!1,onChange:c,caller:$v});return d.jsxs(mue,{scope:n,checked:b,disabled:a,children:[d.jsx(Ze.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":WB(b),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:v,onClick:Ve(t.onClick,x=>{_(S=>!S),w&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),w&&d.jsx(zB,{control:p,bubbles:!g.current,name:r,value:l,checked:b,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});FB.displayName=$v;var UB="SwitchThumb",VB=N.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=gue(UB,n);return d.jsx(Ze.span,{"data-state":WB(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});VB.displayName=UB;var yue="SwitchBubbleInput",zB=N.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=N.useRef(null),a=Dt(o,i),l=Mj(n),c=xO(e);return N.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&m){const v=new Event("click",{bubbles:r});m.call(u,n),u.dispatchEvent(v)}},[l,n,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});zB.displayName=yue;function WB(t){return t?"checked":"unchecked"}var $B=FB,wue=VB;const Rf=N.forwardRef(({className:t,...e},n)=>d.jsx($B,{className:We("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:d.jsx(wue,{className:We("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rf.displayName=$B.displayName;const xs={getStats:()=>lt.get("/api/admin/stats"),getCampaigns:t=>lt.get("/api/admin/campaigns",{params:t}),getUsers:t=>lt.get("/api/admin/users",{params:t}),getTransactions:t=>lt.get("/api/admin/transactions",{params:t}),getSystemHealth:()=>lt.get("/api/admin/health"),updateCampaignStatus:(t,e)=>lt.put(`/api/admin/campaigns/${t}/status`,{status:e}),triggerRefund:t=>lt.post(`/api/admin/campaigns/${t}/refund`),banUser:t=>lt.post(`/api/admin/users/${t}/ban`),unbanUser:t=>lt.post(`/api/admin/users/${t}/unban`),triggerPurchase:t=>lt.post(`/api/admin/campaigns/${t}/purchase`),exportData:(t,e)=>lt.get(`/api/admin/export/${t}`,{params:e,responseType:"blob"}),reconcileBalances:()=>lt.post("/api/admin/reconcile"),pausePlatform:()=>lt.post("/api/admin/platform/pause"),resumePlatform:()=>lt.post("/api/admin/platform/resume")};function vue(){var T,K,ae,ue,he,le,ye,Te,Re,Ee,be,He,Me,Ge,Vt,at,Et,ir,wt;const{toast:t}=Yp(),e=LS(),[n,r]=N.useState(null),[s,i]=N.useState(null),[o,a]=N.useState(!1),[l,c]=N.useState(!1),[u,f]=N.useState({}),[p,m]=N.useState({}),[v,g]=N.useState({}),[w,b]=N.useState("7d"),[_,x]=N.useState(!1),{data:S,isLoading:D}=_o({queryKey:["admin-stats",w],queryFn:()=>xs.getStats(),refetchInterval:3e4}),{data:F,isLoading:M}=_o({queryKey:["admin-campaigns",u],queryFn:()=>xs.getCampaigns(u),refetchInterval:6e4}),{data:R,isLoading:U}=_o({queryKey:["admin-users",p],queryFn:()=>xs.getUsers(p),refetchInterval:3e5}),{data:W,isLoading:$}=_o({queryKey:["admin-transactions",v],queryFn:()=>xs.getTransactions(v),refetchInterval:3e4}),{data:q}=_o({queryKey:["admin-health"],queryFn:()=>xs.getSystemHealth(),refetchInterval:1e4}),C=xu({mutationFn:({campaignId:oe,status:It})=>xs.updateCampaignStatus(oe,It),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Campaign updated successfully"})},onError:oe=>{t({title:"Update failed",description:oe.message,variant:"destructive"})}}),y=xu({mutationFn:oe=>xs.triggerRefund(oe),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Refund initiated successfully"})},onError:oe=>{t({title:"Refund failed",description:oe.message,variant:"destructive"})}}),A=xu({mutationFn:oe=>xs.banUser(oe),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-users"]}),t({title:"User banned successfully"})},onError:oe=>{t({title:"Ban failed",description:oe.message,variant:"destructive"})}}),O=xu({mutationFn:oe=>xs.triggerPurchase(oe),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Purchase triggered successfully"})},onError:oe=>{t({title:"Purchase trigger failed",description:oe.message,variant:"destructive"})}}),z=xu({mutationFn:()=>xs.reconcileBalances(),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Balance reconciliation completed"})},onError:oe=>{t({title:"Reconciliation failed",description:oe.message,variant:"destructive"})}}),L=xu({mutationFn:oe=>oe==="pause"?xs.pausePlatform():xs.resumePlatform(),onSuccess:(oe,It)=>{x(It==="pause"),t({title:`Platform ${It==="pause"?"paused":"resumed"} successfully`,variant:It==="pause"?"destructive":"default"})},onError:oe=>{t({title:"Platform control failed",description:oe.message,variant:"destructive"})}}),j=async oe=>{try{const It=await xs.exportData(oe,{dateRange:w}),Tt=new Blob([It.data],{type:"text/csv"}),Ct=window.URL.createObjectURL(Tt),jn=document.createElement("a");jn.href=Ct,jn.download=`wendex_${oe}_${Kl(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(jn),jn.click(),window.URL.revokeObjectURL(Ct),document.body.removeChild(jn),t({title:`${oe} data exported successfully`})}catch(It){t({title:"Export failed",description:It.message,variant:"destructive"})}},H=oe=>{const It={active:"bg-green-500",funded:"bg-blue-500",completed:"bg-purple-500",failed:"bg-red-500",cancelled:"bg-gray-500",refunding:"bg-orange-500"};return d.jsx(xa,{className:It[oe]||"bg-gray-500",children:oe})},B=oe=>{const It={healthy:"text-green-500",degraded:"text-yellow-500",down:"text-red-500"};return d.jsx("span",{className:It[oe],children:oe})};return d.jsx(vd,{children:d.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Comprehensive platform management and monitoring"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(sn,{variant:_?"default":"destructive",onClick:()=>L.mutate(_?"resume":"pause"),children:[_?d.jsx(ak,{className:"mr-2 h-4 w-4"}):d.jsx(k1,{className:"mr-2 h-4 w-4"}),_?"Resume Platform":"Pause Platform"]}),d.jsxs(sn,{variant:"outline",onClick:()=>z.mutate(),children:[d.jsx(R1,{className:"mr-2 h-4 w-4"}),"Reconcile Balances"]})]})]}),_&&d.jsxs(ov,{variant:"destructive",children:[d.jsx(wz,{className:"h-4 w-4"}),d.jsx(av,{children:"Platform is currently paused. New campaigns and contributions are disabled."})]}),d.jsxs(cr,{children:[d.jsx(Dr,{children:d.jsxs(jr,{className:"flex items-center gap-2",children:[d.jsx(hz,{className:"h-5 w-5"}),"System Health"]})}),d.jsxs(ur,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx(mz,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"API"}),d.jsx("div",{children:B(((T=q==null?void 0:q.data)==null?void 0:T.apiStatus)||"unknown")})]}),d.jsxs("div",{className:"text-center",children:[d.jsx(ik,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"Database"}),d.jsx("div",{children:B(((K=q==null?void 0:q.data)==null?void 0:K.dbStatus)||"unknown")})]}),d.jsxs("div",{className:"text-center",children:[d.jsx(lz,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"Blockchain"}),d.jsx("div",{children:B(((ae=q==null?void 0:q.data)==null?void 0:ae.blockchainStatus)||"unknown")})]}),d.jsxs("div",{className:"text-center",children:[d.jsx(il,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"Webhooks"}),d.jsx("div",{children:B(((ue=q==null?void 0:q.data)==null?void 0:ue.webhookStatus)||"unknown")})]})]}),(q==null?void 0:q.data)&&d.jsxs("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:["Response Time: ",q.data.responseTime,"ms | Error Rate: ",q.data.errorRate.toFixed(2),"% | Last Update: ",Kl(new Date(q.data.lastUpdate),"HH:mm:ss")]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs(cr,{children:[d.jsxs(Dr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(jr,{className:"text-sm font-medium",children:"Total Campaigns"}),d.jsx(ez,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(ur,{children:[d.jsx("div",{className:"text-2xl font-bold",children:((he=S==null?void 0:S.data)==null?void 0:he.totalCampaigns)||0}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[((le=S==null?void 0:S.data)==null?void 0:le.activeCampaigns)||0," active"]})]})]}),d.jsxs(cr,{children:[d.jsxs(Dr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(jr,{className:"text-sm font-medium",children:"Total Funded"}),d.jsx(VS,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(ur,{children:[d.jsxs("div",{className:"text-2xl font-bold",children:["$",((Te=(ye=S==null?void 0:S.data)==null?void 0:ye.totalFunded)==null?void 0:Te.toLocaleString())||0]}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",((Ee=(Re=S==null?void 0:S.data)==null?void 0:Re.avgCampaignSize)==null?void 0:Ee.toFixed(0))||0," avg campaign"]})]})]}),d.jsxs(cr,{children:[d.jsxs(Dr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(jr,{className:"text-sm font-medium",children:"Contributors"}),d.jsx(Pw,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(ur,{children:[d.jsx("div",{className:"text-2xl font-bold",children:((be=S==null?void 0:S.data)==null?void 0:be.totalContributors)||0}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique addresses"})]})]}),d.jsxs(cr,{children:[d.jsxs(Dr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(jr,{className:"text-sm font-medium",children:"Success Rate"}),d.jsx(zS,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(ur,{children:[d.jsxs("div",{className:"text-2xl font-bold",children:[((Me=(He=S==null?void 0:S.data)==null?void 0:He.successRate)==null?void 0:Me.toFixed(1))||0,"%"]}),d.jsx(P0,{value:((Ge=S==null?void 0:S.data)==null?void 0:Ge.successRate)||0,className:"mt-2"})]})]})]}),d.jsxs(W3,{defaultValue:"campaigns",className:"w-full",children:[d.jsxs($T,{className:"grid w-full grid-cols-5",children:[d.jsx(Co,{value:"campaigns",children:"Campaigns"}),d.jsx(Co,{value:"users",children:"Users"}),d.jsx(Co,{value:"transactions",children:"Transactions"}),d.jsx(Co,{value:"analytics",children:"Analytics"}),d.jsx(Co,{value:"settings",children:"Settings"})]}),d.jsx(ko,{value:"campaigns",className:"space-y-4",children:d.jsxs(cr,{children:[d.jsx(Dr,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(jr,{children:"Campaign Management"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(sn,{variant:"outline",onClick:()=>j("campaigns"),children:[d.jsx(hg,{className:"mr-2 h-4 w-4"}),"Export"]}),d.jsxs(Af,{value:u.status||"all",onValueChange:oe=>f({...u,status:oe==="all"?void 0:oe}),children:[d.jsx(nd,{className:"w-32",children:d.jsx(If,{placeholder:"Status"})}),d.jsxs(rd,{children:[d.jsx(gn,{value:"all",children:"All Status"}),d.jsx(gn,{value:"active",children:"Active"}),d.jsx(gn,{value:"funded",children:"Funded"}),d.jsx(gn,{value:"completed",children:"Completed"}),d.jsx(gn,{value:"failed",children:"Failed"})]})]})]})]})}),d.jsx(ur,{children:d.jsxs(O0,{children:[d.jsx(L0,{children:d.jsxs(Ql,{children:[d.jsx(Hn,{children:"Token"}),d.jsx(Hn,{children:"Type"}),d.jsx(Hn,{children:"Progress"}),d.jsx(Hn,{children:"Status"}),d.jsx(Hn,{children:"Created"}),d.jsx(Hn,{children:"Actions"})]})}),d.jsx(D0,{children:(Vt=F==null?void 0:F.data)==null?void 0:Vt.map(oe=>d.jsxs(Ql,{children:[d.jsx(qn,{children:d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:oe.tokenName}),d.jsx("div",{className:"text-sm text-muted-foreground",children:oe.tokenSymbol})]})}),d.jsx(qn,{children:oe.campaignType.replace("_"," ")}),d.jsx(qn,{children:d.jsxs("div",{className:"w-24",children:[d.jsx(P0,{value:oe.currentAmount/oe.targetAmount*100,className:"h-2"}),d.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["$",oe.currentAmount.toFixed(0)," / $",oe.targetAmount.toFixed(0)]})]})}),d.jsx(qn,{children:H(oe.status)}),d.jsx(qn,{children:Kl(new Date(oe.createdAt),"MMM dd")}),d.jsx(qn,{children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(sn,{size:"sm",variant:"outline",onClick:()=>{r(oe),a(!0)},children:d.jsx(ok,{className:"h-3 w-3"})}),oe.status==="funded"&&d.jsx(sn,{size:"sm",variant:"outline",onClick:()=>O.mutate(oe.id),children:d.jsx(il,{className:"h-3 w-3"})}),["active","funded"].includes(oe.status)&&d.jsx(sn,{size:"sm",variant:"outline",onClick:()=>y.mutate(oe.id),children:d.jsx(R1,{className:"h-3 w-3"})})]})})]},oe.id))})]})})]})}),d.jsx(ko,{value:"users",className:"space-y-4",children:d.jsxs(cr,{children:[d.jsx(Dr,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(jr,{children:"User Management"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(sn,{variant:"outline",onClick:()=>j("users"),children:[d.jsx(hg,{className:"mr-2 h-4 w-4"}),"Export"]}),d.jsxs(Af,{value:p.status||"all",onValueChange:oe=>m({...p,status:oe==="all"?void 0:oe}),children:[d.jsx(nd,{className:"w-32",children:d.jsx(If,{placeholder:"Status"})}),d.jsxs(rd,{children:[d.jsx(gn,{value:"all",children:"All Users"}),d.jsx(gn,{value:"active",children:"Active"}),d.jsx(gn,{value:"flagged",children:"Flagged"}),d.jsx(gn,{value:"banned",children:"Banned"})]})]})]})]})}),d.jsx(ur,{children:d.jsxs(O0,{children:[d.jsx(L0,{children:d.jsxs(Ql,{children:[d.jsx(Hn,{children:"Address"}),d.jsx(Hn,{children:"Contributed"}),d.jsx(Hn,{children:"Campaigns"}),d.jsx(Hn,{children:"Risk Score"}),d.jsx(Hn,{children:"Status"}),d.jsx(Hn,{children:"Actions"})]})}),d.jsx(D0,{children:(at=R==null?void 0:R.data)==null?void 0:at.map(oe=>d.jsxs(Ql,{children:[d.jsx(qn,{children:d.jsxs("code",{className:"text-xs",children:[oe.address.slice(0,8),"...",oe.address.slice(-6)]})}),d.jsxs(qn,{children:["$",oe.totalContributed.toLocaleString()]}),d.jsx(qn,{children:oe.campaignsSupported}),d.jsx(qn,{children:d.jsx(xa,{variant:oe.riskScore>75?"destructive":oe.riskScore>50?"secondary":"default",children:oe.riskScore})}),d.jsx(qn,{children:H(oe.status)}),d.jsx(qn,{children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(sn,{size:"sm",variant:"outline",onClick:()=>{i(oe),c(!0)},children:d.jsx(ok,{className:"h-3 w-3"})}),oe.status==="active"&&d.jsx(sn,{size:"sm",variant:"outline",onClick:()=>A.mutate(oe.address),children:d.jsx(k1,{className:"h-3 w-3"})})]})})]},oe.address))})]})})]})}),d.jsx(ko,{value:"transactions",className:"space-y-4",children:d.jsxs(cr,{children:[d.jsx(Dr,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(jr,{children:"Transaction Monitoring"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(sn,{variant:"outline",onClick:()=>j("transactions"),children:[d.jsx(hg,{className:"mr-2 h-4 w-4"}),"Export"]}),d.jsxs(Af,{value:v.type||"all",onValueChange:oe=>g({...v,type:oe==="all"?void 0:oe}),children:[d.jsx(nd,{className:"w-32",children:d.jsx(If,{placeholder:"Type"})}),d.jsxs(rd,{children:[d.jsx(gn,{value:"all",children:"All Types"}),d.jsx(gn,{value:"contribution",children:"Contributions"}),d.jsx(gn,{value:"refund",children:"Refunds"}),d.jsx(gn,{value:"service_purchase",children:"Purchases"})]})]})]})]})}),d.jsx(ur,{children:d.jsxs(O0,{children:[d.jsx(L0,{children:d.jsxs(Ql,{children:[d.jsx(Hn,{children:"Signature"}),d.jsx(Hn,{children:"Type"}),d.jsx(Hn,{children:"Amount"}),d.jsx(Hn,{children:"Status"}),d.jsx(Hn,{children:"Time"}),d.jsx(Hn,{children:"Method"})]})}),d.jsx(D0,{children:(Et=W==null?void 0:W.data)==null?void 0:Et.map(oe=>d.jsxs(Ql,{children:[d.jsx(qn,{children:d.jsxs("code",{className:"text-xs",children:[oe.signature.slice(0,8),"...",oe.signature.slice(-6)]})}),d.jsx(qn,{children:oe.type.replace("_"," ")}),d.jsxs(qn,{children:["$",oe.amount.toFixed(2)]}),d.jsx(qn,{children:H(oe.status)}),d.jsx(qn,{children:Kl(new Date(oe.timestamp),"MMM dd HH:mm")}),d.jsx(qn,{children:d.jsx(xa,{variant:"outline",children:oe.verificationMethod})})]},oe.id))})]})})]})}),d.jsx(ko,{value:"analytics",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(cr,{children:[d.jsx(Dr,{children:d.jsxs(jr,{className:"flex items-center gap-2",children:[d.jsx(Y4,{className:"h-5 w-5"}),"Platform Revenue"]})}),d.jsxs(ur,{children:[d.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",((wt=(ir=S==null?void 0:S.data)==null?void 0:ir.platformFees)==null?void 0:wt.toLocaleString())||0]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"2% fee on successful campaigns"})]})]}),d.jsxs(cr,{children:[d.jsx(Dr,{children:d.jsxs(jr,{className:"flex items-center gap-2",children:[d.jsx(rz,{className:"h-5 w-5"}),"Campaign Types"]})}),d.jsx(ur,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Enhanced Token Info"}),d.jsx(xa,{children:"65%"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Advertising"}),d.jsx(xa,{children:"25%"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Boost"}),d.jsx(xa,{children:"10%"})]})]})})]}),d.jsxs(cr,{className:"md:col-span-2",children:[d.jsx(Dr,{children:d.jsxs(jr,{className:"flex items-center gap-2",children:[d.jsx(US,{className:"h-5 w-5"}),"Performance Metrics"]})}),d.jsx(ur,{children:d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"98.5%"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:"156ms"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Response"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"99.2%"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Payment Success"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"4.2s"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Tx Confirmation"})]})]})})]})]})}),d.jsx(ko,{value:"settings",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(cr,{children:[d.jsx(Dr,{children:d.jsxs(jr,{className:"flex items-center gap-2",children:[d.jsx(gz,{className:"h-5 w-5"}),"Platform Controls"]})}),d.jsxs(ur,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Cn,{htmlFor:"platform-pause",children:"Platform Status"}),d.jsx(Rf,{id:"platform-pause",checked:!_,onCheckedChange:oe=>L.mutate(oe?"resume":"pause")})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Cn,{htmlFor:"new-campaigns",children:"Allow New Campaigns"}),d.jsx(Rf,{id:"new-campaigns",defaultChecked:!0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Cn,{htmlFor:"contributions",children:"Allow Contributions"}),d.jsx(Rf,{id:"contributions",defaultChecked:!0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Cn,{htmlFor:"auto-purchase",children:"Auto Purchase Services"}),d.jsx(Rf,{id:"auto-purchase",defaultChecked:!0})]})]})]}),d.jsxs(cr,{children:[d.jsx(Dr,{children:d.jsxs(jr,{className:"flex items-center gap-2",children:[d.jsx(em,{className:"h-5 w-5"}),"Security Settings"]})}),d.jsxs(ur,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Cn,{htmlFor:"min-contribution",children:"Minimum Contribution (USDC)"}),d.jsx(sd,{id:"min-contribution",type:"number",defaultValue:"5"})]}),d.jsxs("div",{children:[d.jsx(Cn,{htmlFor:"max-contribution",children:"Maximum Contribution (USDC)"}),d.jsx(sd,{id:"max-contribution",type:"number",defaultValue:"10000"})]}),d.jsxs("div",{children:[d.jsx(Cn,{htmlFor:"platform-fee",children:"Platform Fee (%)"}),d.jsx(sd,{id:"platform-fee",type:"number",defaultValue:"2",step:"0.1"})]}),d.jsxs("div",{children:[d.jsx(Cn,{htmlFor:"fraud-threshold",children:"Fraud Detection Threshold"}),d.jsx(sd,{id:"fraud-threshold",type:"number",defaultValue:"75"})]})]})]}),d.jsxs(cr,{className:"md:col-span-2",children:[d.jsx(Dr,{children:d.jsxs(jr,{className:"flex items-center gap-2",children:[d.jsx(ik,{className:"h-5 w-5"}),"System Maintenance"]})}),d.jsx(ur,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs(sn,{variant:"outline",onClick:()=>z.mutate(),disabled:z.isPending,children:[d.jsx(R1,{className:"mr-2 h-4 w-4"}),"Reconcile All Balances"]}),d.jsxs(sn,{variant:"outline",children:[d.jsx(hg,{className:"mr-2 h-4 w-4"}),"Backup Database"]}),d.jsxs(sn,{variant:"outline",children:[d.jsx(az,{className:"mr-2 h-4 w-4"}),"Generate Report"]})]})})]})]})})]}),d.jsx(cE,{open:o,onOpenChange:a,children:d.jsxs(Fy,{className:"max-w-2xl",children:[d.jsxs(Uy,{children:[d.jsx(zy,{children:"Campaign Details"}),d.jsxs(Wy,{children:["Detailed information and management for ",n==null?void 0:n.tokenName]})]}),n&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(Cn,{children:"Token Address"}),d.jsx("code",{className:"block text-xs bg-muted p-2 rounded",children:n.creatorAddress})]}),d.jsxs("div",{children:[d.jsx(Cn,{children:"Creator"}),d.jsx("code",{className:"block text-xs bg-muted p-2 rounded",children:n.creatorAddress})]}),d.jsxs("div",{children:[d.jsx(Cn,{children:"Progress"}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(P0,{value:n.currentAmount/n.targetAmount*100}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",n.currentAmount," / $",n.targetAmount]})]})]}),d.jsxs("div",{children:[d.jsx(Cn,{children:"Contributors"}),d.jsx("div",{className:"text-lg font-semibold",children:n.contributorCount})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Af,{value:n.status,onValueChange:oe=>C.mutate({campaignId:n.id,status:oe}),children:[d.jsx(nd,{className:"w-40",children:d.jsx(If,{})}),d.jsxs(rd,{children:[d.jsx(gn,{value:"active",children:"Active"}),d.jsx(gn,{value:"funded",children:"Funded"}),d.jsx(gn,{value:"completed",children:"Completed"}),d.jsx(gn,{value:"failed",children:"Failed"}),d.jsx(gn,{value:"cancelled",children:"Cancelled"})]})]}),d.jsx(sn,{variant:"outline",onClick:()=>O.mutate(n.id),children:"Trigger Purchase"}),d.jsx(sn,{variant:"outline",onClick:()=>y.mutate(n.id),children:"Process Refunds"})]})]}),d.jsx(Vy,{children:d.jsx(sn,{variant:"outline",onClick:()=>a(!1),children:"Close"})})]})}),d.jsx(cE,{open:l,onOpenChange:c,children:d.jsxs(Fy,{className:"max-w-2xl",children:[d.jsxs(Uy,{children:[d.jsx(zy,{children:"User Details"}),d.jsx(Wy,{children:"User activity and risk assessment"})]}),s&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(Cn,{children:"Wallet Address"}),d.jsx("code",{className:"block text-xs bg-muted p-2 rounded",children:s.address})]}),d.jsxs("div",{children:[d.jsx(Cn,{children:"Risk Score"}),d.jsxs(xa,{variant:s.riskScore>75?"destructive":s.riskScore>50?"secondary":"default",className:"text-lg",children:[s.riskScore,"/100"]})]}),d.jsxs("div",{children:[d.jsx(Cn,{children:"Total Contributed"}),d.jsxs("div",{className:"text-lg font-semibold",children:["$",s.totalContributed.toLocaleString()]})]}),d.jsxs("div",{children:[d.jsx(Cn,{children:"Campaigns Supported"}),d.jsx("div",{className:"text-lg font-semibold",children:s.campaignsSupported})]}),d.jsxs("div",{children:[d.jsx(Cn,{children:"First Activity"}),d.jsx("div",{className:"text-sm",children:Kl(new Date(s.firstContribution),"PPP")})]}),d.jsxs("div",{children:[d.jsx(Cn,{children:"Last Activity"}),d.jsx("div",{className:"text-sm",children:Kl(new Date(s.lastActivity),"PPP")})]})]}),d.jsxs("div",{className:"flex gap-2",children:[s.status==="active"&&d.jsxs(sn,{variant:"destructive",onClick:()=>A.mutate(s.address),children:[d.jsx(k1,{className:"mr-2 h-4 w-4"}),"Ban User"]}),s.status==="banned"&&d.jsxs(sn,{variant:"outline",onClick:()=>A.mutate(s.address),children:[d.jsx(ak,{className:"mr-2 h-4 w-4"}),"Unban User"]})]})]}),d.jsx(Vy,{children:d.jsx(sn,{variant:"outline",onClick:()=>c(!1),children:"Close"})})]})})]})})}function xue(){return d.jsxs(vV,{children:[d.jsx(vu,{path:"/",component:wJ}),d.jsx(vu,{path:"/campaigns",component:cte}),d.jsx(vu,{path:"/campaign/:id",component:Wne}),d.jsx(vu,{path:"/create-campaign",component:due}),d.jsx(vu,{path:"/admin",component:vue}),d.jsx(vu,{component:bJ})]})}function bue(){return N.useEffect(()=>(Sa.connect(),()=>{Sa.disconnect()}),[]),d.jsx(_N,{children:d.jsx(UV,{client:e9,children:d.jsx(_X,{children:d.jsxs(AW,{children:[d.jsx(e7,{}),d.jsx(_N,{children:d.jsx(xue,{})})]})})})})}document.documentElement.classList.remove("dark");document.documentElement.classList.add("light");localStorage.setItem("theme","light");GP(document.getElementById("root")).render(d.jsx(bue,{}));export{_T as E,Le as P,Zr as S,pi as T,gl as V,yn as a,Ao as b,El as g};

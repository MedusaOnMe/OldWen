var V8=Object.defineProperty;var WA=t=>{throw TypeError(t)};var z8=(t,e,n)=>e in t?V8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var an=(t,e,n)=>z8(t,typeof e!="symbol"?e+"":e,n),u1=(t,e,n)=>e.has(t)||WA("Cannot "+n);var Y=(t,e,n)=>(u1(t,e,"read from private field"),n?n.call(t):e.get(t)),De=(t,e,n)=>e.has(t)?WA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ie=(t,e,n,r)=>(u1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),st=(t,e,n)=>(u1(t,e,"access private method"),n);var Xm=(t,e,n,r)=>({set _(s){Ie(t,e,s,n)},get _(){return Y(t,e,r)}});function W8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var _i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function ra(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function KE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var eM={exports:{}},bw={},tM={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp=Symbol.for("react.element"),$8=Symbol.for("react.portal"),H8=Symbol.for("react.fragment"),q8=Symbol.for("react.strict_mode"),K8=Symbol.for("react.profiler"),G8=Symbol.for("react.provider"),Q8=Symbol.for("react.context"),Y8=Symbol.for("react.forward_ref"),Z8=Symbol.for("react.suspense"),X8=Symbol.for("react.memo"),J8=Symbol.for("react.lazy"),$A=Symbol.iterator;function eF(t){return t===null||typeof t!="object"?null:(t=$A&&t[$A]||t["@@iterator"],typeof t=="function"?t:null)}var nM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rM=Object.assign,sM={};function yh(t,e,n){this.props=t,this.context=e,this.refs=sM,this.updater=n||nM}yh.prototype.isReactComponent={};yh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iM(){}iM.prototype=yh.prototype;function GE(t,e,n){this.props=t,this.context=e,this.refs=sM,this.updater=n||nM}var QE=GE.prototype=new iM;QE.constructor=GE;rM(QE,yh.prototype);QE.isPureReactComponent=!0;var HA=Array.isArray,oM=Object.prototype.hasOwnProperty,YE={current:null},aM={key:!0,ref:!0,__self:!0,__source:!0};function lM(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)oM.call(e,r)&&!aM.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Kp,type:t,key:i,ref:o,props:s,_owner:YE.current}}function tF(t,e){return{$$typeof:Kp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ZE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kp}function nF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qA=/\/+/g;function d1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nF(""+t.key):e.toString(36)}function qg(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kp:case $8:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+d1(o,0):r,HA(s)?(n="",t!=null&&(n=t.replace(qA,"$&/")+"/"),qg(s,e,n,"",function(c){return c})):s!=null&&(ZE(s)&&(s=tF(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(qA,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",HA(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+d1(i,a);o+=qg(i,e,n,l,s)}else if(l=eF(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+d1(i,a++),o+=qg(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jm(t,e,n){if(t==null)return t;var r=[],s=0;return qg(t,r,"","",function(i){return e.call(n,i,s++)}),r}function rF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ss={current:null},Kg={transition:null},sF={ReactCurrentDispatcher:ss,ReactCurrentBatchConfig:Kg,ReactCurrentOwner:YE};function cM(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:Jm,forEach:function(t,e,n){Jm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jm(t,function(){e++}),e},toArray:function(t){return Jm(t,function(e){return e})||[]},only:function(t){if(!ZE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ut.Component=yh;ut.Fragment=H8;ut.Profiler=K8;ut.PureComponent=GE;ut.StrictMode=q8;ut.Suspense=Z8;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sF;ut.act=cM;ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rM({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=YE.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)oM.call(e,l)&&!aM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Kp,type:t.type,key:s,ref:i,props:r,_owner:o}};ut.createContext=function(t){return t={$$typeof:Q8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:G8,_context:t},t.Consumer=t};ut.createElement=lM;ut.createFactory=function(t){var e=lM.bind(null,t);return e.type=t,e};ut.createRef=function(){return{current:null}};ut.forwardRef=function(t){return{$$typeof:Y8,render:t}};ut.isValidElement=ZE;ut.lazy=function(t){return{$$typeof:J8,_payload:{_status:-1,_result:t},_init:rF}};ut.memo=function(t,e){return{$$typeof:X8,type:t,compare:e===void 0?null:e}};ut.startTransition=function(t){var e=Kg.transition;Kg.transition={};try{t()}finally{Kg.transition=e}};ut.unstable_act=cM;ut.useCallback=function(t,e){return ss.current.useCallback(t,e)};ut.useContext=function(t){return ss.current.useContext(t)};ut.useDebugValue=function(){};ut.useDeferredValue=function(t){return ss.current.useDeferredValue(t)};ut.useEffect=function(t,e){return ss.current.useEffect(t,e)};ut.useId=function(){return ss.current.useId()};ut.useImperativeHandle=function(t,e,n){return ss.current.useImperativeHandle(t,e,n)};ut.useInsertionEffect=function(t,e){return ss.current.useInsertionEffect(t,e)};ut.useLayoutEffect=function(t,e){return ss.current.useLayoutEffect(t,e)};ut.useMemo=function(t,e){return ss.current.useMemo(t,e)};ut.useReducer=function(t,e,n){return ss.current.useReducer(t,e,n)};ut.useRef=function(t){return ss.current.useRef(t)};ut.useState=function(t){return ss.current.useState(t)};ut.useSyncExternalStore=function(t,e,n){return ss.current.useSyncExternalStore(t,e,n)};ut.useTransition=function(){return ss.current.useTransition()};ut.version="18.3.1";tM.exports=ut;var k=tM.exports;const ce=ra(k),XE=W8({__proto__:null,default:ce},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iF=k,oF=Symbol.for("react.element"),aF=Symbol.for("react.fragment"),lF=Object.prototype.hasOwnProperty,cF=iF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uF={key:!0,ref:!0,__self:!0,__source:!0};function uM(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lF.call(e,r)&&!uF.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:oF,type:t,key:i,ref:o,props:s,_owner:cF.current}}bw.Fragment=aF;bw.jsx=uM;bw.jsxs=uM;eM.exports=bw;var d=eM.exports,Xe={},Ew={};Ew.byteLength=fF;Ew.toByteArray=mF;Ew.fromByteArray=wF;var ji=[],$s=[],dF=typeof Uint8Array<"u"?Uint8Array:Array,h1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var _u=0,hF=h1.length;_u<hF;++_u)ji[_u]=h1[_u],$s[h1.charCodeAt(_u)]=_u;$s[45]=62;$s[95]=63;function dM(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function fF(t){var e=dM(t),n=e[0],r=e[1];return(n+r)*3/4-r}function pF(t,e,n){return(e+n)*3/4-n}function mF(t){var e,n=dM(t),r=n[0],s=n[1],i=new dF(pF(t,r,s)),o=0,a=s>0?r-4:r,l;for(l=0;l<a;l+=4)e=$s[t.charCodeAt(l)]<<18|$s[t.charCodeAt(l+1)]<<12|$s[t.charCodeAt(l+2)]<<6|$s[t.charCodeAt(l+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return s===2&&(e=$s[t.charCodeAt(l)]<<2|$s[t.charCodeAt(l+1)]>>4,i[o++]=e&255),s===1&&(e=$s[t.charCodeAt(l)]<<10|$s[t.charCodeAt(l+1)]<<4|$s[t.charCodeAt(l+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function gF(t){return ji[t>>18&63]+ji[t>>12&63]+ji[t>>6&63]+ji[t&63]}function yF(t,e,n){for(var r,s=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(gF(r));return s.join("")}function wF(t){for(var e,n=t.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(yF(t,o,o+i>a?a:o+i));return r===1?(e=t[n-1],s.push(ji[e>>2]+ji[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(ji[e>>10]+ji[e>>4&63]+ji[e<<2&63]+"=")),s.join("")}var JE={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */JE.read=function(t,e,n,r,s){var i,o,a=s*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,f=n?s-1:0,p=n?-1:1,m=t[e+f];for(f+=p,i=m&(1<<-u)-1,m>>=-u,u+=a;u>0;i=i*256+t[e+f],f+=p,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=r;u>0;o=o*256+t[e+f],f+=p,u-=8);if(i===0)i=1-c;else{if(i===l)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-c}return(m?-1:1)*o*Math.pow(2,i-r)};JE.write=function(t,e,n,r,s,i){var o,a,l,c=i*8-s-1,u=(1<<c)-1,f=u>>1,p=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:i-1,v=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=p/l:e+=p*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*l-1)*Math.pow(2,s),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,s),o=0));s>=8;t[n+m]=a&255,m+=v,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;t[n+m]=o&255,m+=v,o/=256,c-=8);t[n+m-v]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Ew,n=JE,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const V=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(V,A),V.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(V){if(V>s)throw new RangeError('The value "'+V+'" is invalid for option "size"');const A=new Uint8Array(V);return Object.setPrototypeOf(A,a.prototype),A}function a(V,A,C){if(typeof V=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(V)}return l(V,A,C)}a.poolSize=8192;function l(V,A,C){if(typeof V=="string")return p(V,A);if(ArrayBuffer.isView(V))return v(V);if(V==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(At(V,ArrayBuffer)||V&&At(V.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(At(V,SharedArrayBuffer)||V&&At(V.buffer,SharedArrayBuffer)))return g(V,A,C);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=V.valueOf&&V.valueOf();if(Q!=null&&Q!==V)return a.from(Q,A,C);const Z=w(V);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return a.from(V[Symbol.toPrimitive]("string"),A,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}a.from=function(V,A,C){return l(V,A,C)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function u(V,A,C){return c(V),V<=0?o(V):A!==void 0?typeof C=="string"?o(V).fill(A,C):o(V).fill(A):o(V)}a.alloc=function(V,A,C){return u(V,A,C)};function f(V){return c(V),o(V<0?0:_(V)|0)}a.allocUnsafe=function(V){return f(V)},a.allocUnsafeSlow=function(V){return f(V)};function p(V,A){if((typeof A!="string"||A==="")&&(A="utf8"),!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const C=x(V,A)|0;let Q=o(C);const Z=Q.write(V,A);return Z!==C&&(Q=Q.slice(0,Z)),Q}function m(V){const A=V.length<0?0:_(V.length)|0,C=o(A);for(let Q=0;Q<A;Q+=1)C[Q]=V[Q]&255;return C}function v(V){if(At(V,Uint8Array)){const A=new Uint8Array(V);return g(A.buffer,A.byteOffset,A.byteLength)}return m(V)}function g(V,A,C){if(A<0||V.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(V.byteLength<A+(C||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return A===void 0&&C===void 0?Q=new Uint8Array(V):C===void 0?Q=new Uint8Array(V,A):Q=new Uint8Array(V,A,C),Object.setPrototypeOf(Q,a.prototype),Q}function w(V){if(a.isBuffer(V)){const A=_(V.length)|0,C=o(A);return C.length===0||V.copy(C,0,0,A),C}if(V.length!==void 0)return typeof V.length!="number"||Tt(V.length)?o(0):m(V);if(V.type==="Buffer"&&Array.isArray(V.data))return m(V.data)}function _(V){if(V>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return V|0}function b(V){return+V!=V&&(V=0),a.alloc(+V)}a.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==a.prototype},a.compare=function(A,C){if(At(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),At(C,Uint8Array)&&(C=a.from(C,C.offset,C.byteLength)),!a.isBuffer(A)||!a.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===C)return 0;let Q=A.length,Z=C.length;for(let X=0,ne=Math.min(Q,Z);X<ne;++X)if(A[X]!==C[X]){Q=A[X],Z=C[X];break}return Q<Z?-1:Z<Q?1:0},a.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(A,C){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return a.alloc(0);let Q;if(C===void 0)for(C=0,Q=0;Q<A.length;++Q)C+=A[Q].length;const Z=a.allocUnsafe(C);let X=0;for(Q=0;Q<A.length;++Q){let ne=A[Q];if(At(ne,Uint8Array))X+ne.length>Z.length?(a.isBuffer(ne)||(ne=a.from(ne)),ne.copy(Z,X)):Uint8Array.prototype.set.call(Z,ne,X);else if(a.isBuffer(ne))ne.copy(Z,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=ne.length}return Z};function x(V,A){if(a.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||At(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);const C=V.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&C===0)return 0;let Z=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return at(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return wt(V).length;default:if(Z)return Q?-1:at(V).length;A=(""+A).toLowerCase(),Z=!0}}a.byteLength=x;function S(V,A,C){let Q=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,A>>>=0,C<=A))return"";for(V||(V="utf8");;)switch(V){case"hex":return j(this,A,C);case"utf8":case"utf-8":return y(this,A,C);case"ascii":return z(this,A,C);case"latin1":case"binary":return L(this,A,C);case"base64":return N(this,A,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,A,C);default:if(Q)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),Q=!0}}a.prototype._isBuffer=!0;function D(V,A,C){const Q=V[A];V[A]=V[C],V[C]=Q}a.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<A;C+=2)D(this,C,C+1);return this},a.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<A;C+=4)D(this,C,C+3),D(this,C+1,C+2);return this},a.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<A;C+=8)D(this,C,C+7),D(this,C+1,C+6),D(this,C+2,C+5),D(this,C+3,C+4);return this},a.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?y(this,0,A):S.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(A){if(!a.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:a.compare(this,A)===0},a.prototype.inspect=function(){let A="";const C=t.INSPECT_MAX_BYTES;return A=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(A+=" ... "),"<Buffer "+A+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(A,C,Q,Z,X){if(At(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),!a.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(C===void 0&&(C=0),Q===void 0&&(Q=A?A.length:0),Z===void 0&&(Z=0),X===void 0&&(X=this.length),C<0||Q>A.length||Z<0||X>this.length)throw new RangeError("out of range index");if(Z>=X&&C>=Q)return 0;if(Z>=X)return-1;if(C>=Q)return 1;if(C>>>=0,Q>>>=0,Z>>>=0,X>>>=0,this===A)return 0;let ne=X-Z,tt=Q-C;const qe=Math.min(ne,tt),Ke=this.slice(Z,X),Bt=A.slice(C,Q);for(let Be=0;Be<qe;++Be)if(Ke[Be]!==Bt[Be]){ne=Ke[Be],tt=Bt[Be];break}return ne<tt?-1:tt<ne?1:0};function F(V,A,C,Q,Z){if(V.length===0)return-1;if(typeof C=="string"?(Q=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,Tt(C)&&(C=Z?0:V.length-1),C<0&&(C=V.length+C),C>=V.length){if(Z)return-1;C=V.length-1}else if(C<0)if(Z)C=0;else return-1;if(typeof A=="string"&&(A=a.from(A,Q)),a.isBuffer(A))return A.length===0?-1:M(V,A,C,Q,Z);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(V,A,C):Uint8Array.prototype.lastIndexOf.call(V,A,C):M(V,[A],C,Q,Z);throw new TypeError("val must be string, number or Buffer")}function M(V,A,C,Q,Z){let X=1,ne=V.length,tt=A.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(V.length<2||A.length<2)return-1;X=2,ne/=2,tt/=2,C/=2}function qe(Bt,Be){return X===1?Bt[Be]:Bt.readUInt16BE(Be*X)}let Ke;if(Z){let Bt=-1;for(Ke=C;Ke<ne;Ke++)if(qe(V,Ke)===qe(A,Bt===-1?0:Ke-Bt)){if(Bt===-1&&(Bt=Ke),Ke-Bt+1===tt)return Bt*X}else Bt!==-1&&(Ke-=Ke-Bt),Bt=-1}else for(C+tt>ne&&(C=ne-tt),Ke=C;Ke>=0;Ke--){let Bt=!0;for(let Be=0;Be<tt;Be++)if(qe(V,Ke+Be)!==qe(A,Be)){Bt=!1;break}if(Bt)return Ke}return-1}a.prototype.includes=function(A,C,Q){return this.indexOf(A,C,Q)!==-1},a.prototype.indexOf=function(A,C,Q){return F(this,A,C,Q,!0)},a.prototype.lastIndexOf=function(A,C,Q){return F(this,A,C,Q,!1)};function R(V,A,C,Q){C=Number(C)||0;const Z=V.length-C;Q?(Q=Number(Q),Q>Z&&(Q=Z)):Q=Z;const X=A.length;Q>X/2&&(Q=X/2);let ne;for(ne=0;ne<Q;++ne){const tt=parseInt(A.substr(ne*2,2),16);if(Tt(tt))return ne;V[C+ne]=tt}return ne}function U(V,A,C,Q){return oe(at(A,V.length-C),V,C,Q)}function W(V,A,C,Q){return oe(Et(A),V,C,Q)}function $(V,A,C,Q){return oe(wt(A),V,C,Q)}function q(V,A,C,Q){return oe(or(A,V.length-C),V,C,Q)}a.prototype.write=function(A,C,Q,Z){if(C===void 0)Z="utf8",Q=this.length,C=0;else if(Q===void 0&&typeof C=="string")Z=C,Q=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(Q)?(Q=Q>>>0,Z===void 0&&(Z="utf8")):(Z=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const X=this.length-C;if((Q===void 0||Q>X)&&(Q=X),A.length>0&&(Q<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");let ne=!1;for(;;)switch(Z){case"hex":return R(this,A,C,Q);case"utf8":case"utf-8":return U(this,A,C,Q);case"ascii":case"latin1":case"binary":return W(this,A,C,Q);case"base64":return $(this,A,C,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,A,C,Q);default:if(ne)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ne=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(V,A,C){return A===0&&C===V.length?e.fromByteArray(V):e.fromByteArray(V.slice(A,C))}function y(V,A,C){C=Math.min(V.length,C);const Q=[];let Z=A;for(;Z<C;){const X=V[Z];let ne=null,tt=X>239?4:X>223?3:X>191?2:1;if(Z+tt<=C){let qe,Ke,Bt,Be;switch(tt){case 1:X<128&&(ne=X);break;case 2:qe=V[Z+1],(qe&192)===128&&(Be=(X&31)<<6|qe&63,Be>127&&(ne=Be));break;case 3:qe=V[Z+1],Ke=V[Z+2],(qe&192)===128&&(Ke&192)===128&&(Be=(X&15)<<12|(qe&63)<<6|Ke&63,Be>2047&&(Be<55296||Be>57343)&&(ne=Be));break;case 4:qe=V[Z+1],Ke=V[Z+2],Bt=V[Z+3],(qe&192)===128&&(Ke&192)===128&&(Bt&192)===128&&(Be=(X&15)<<18|(qe&63)<<12|(Ke&63)<<6|Bt&63,Be>65535&&Be<1114112&&(ne=Be))}}ne===null?(ne=65533,tt=1):ne>65535&&(ne-=65536,Q.push(ne>>>10&1023|55296),ne=56320|ne&1023),Q.push(ne),Z+=tt}return O(Q)}const I=4096;function O(V){const A=V.length;if(A<=I)return String.fromCharCode.apply(String,V);let C="",Q=0;for(;Q<A;)C+=String.fromCharCode.apply(String,V.slice(Q,Q+=I));return C}function z(V,A,C){let Q="";C=Math.min(V.length,C);for(let Z=A;Z<C;++Z)Q+=String.fromCharCode(V[Z]&127);return Q}function L(V,A,C){let Q="";C=Math.min(V.length,C);for(let Z=A;Z<C;++Z)Q+=String.fromCharCode(V[Z]);return Q}function j(V,A,C){const Q=V.length;(!A||A<0)&&(A=0),(!C||C<0||C>Q)&&(C=Q);let Z="";for(let X=A;X<C;++X)Z+=Nt[V[X]];return Z}function H(V,A,C){const Q=V.slice(A,C);let Z="";for(let X=0;X<Q.length-1;X+=2)Z+=String.fromCharCode(Q[X]+Q[X+1]*256);return Z}a.prototype.slice=function(A,C){const Q=this.length;A=~~A,C=C===void 0?Q:~~C,A<0?(A+=Q,A<0&&(A=0)):A>Q&&(A=Q),C<0?(C+=Q,C<0&&(C=0)):C>Q&&(C=Q),C<A&&(C=A);const Z=this.subarray(A,C);return Object.setPrototypeOf(Z,a.prototype),Z};function B(V,A,C){if(V%1!==0||V<0)throw new RangeError("offset is not uint");if(V+A>C)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(A,C,Q){A=A>>>0,C=C>>>0,Q||B(A,C,this.length);let Z=this[A],X=1,ne=0;for(;++ne<C&&(X*=256);)Z+=this[A+ne]*X;return Z},a.prototype.readUintBE=a.prototype.readUIntBE=function(A,C,Q){A=A>>>0,C=C>>>0,Q||B(A,C,this.length);let Z=this[A+--C],X=1;for(;C>0&&(X*=256);)Z+=this[A+--C]*X;return Z},a.prototype.readUint8=a.prototype.readUInt8=function(A,C){return A=A>>>0,C||B(A,1,this.length),this[A]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(A,C){return A=A>>>0,C||B(A,2,this.length),this[A]|this[A+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(A,C){return A=A>>>0,C||B(A,2,this.length),this[A]<<8|this[A+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(A,C){return A=A>>>0,C||B(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(A,C){return A=A>>>0,C||B(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},a.prototype.readBigUInt64LE=Fn(function(A){A=A>>>0,He(A,"offset");const C=this[A],Q=this[A+7];(C===void 0||Q===void 0)&&Me(A,this.length-8);const Z=C+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,X=this[++A]+this[++A]*2**8+this[++A]*2**16+Q*2**24;return BigInt(Z)+(BigInt(X)<<BigInt(32))}),a.prototype.readBigUInt64BE=Fn(function(A){A=A>>>0,He(A,"offset");const C=this[A],Q=this[A+7];(C===void 0||Q===void 0)&&Me(A,this.length-8);const Z=C*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],X=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+Q;return(BigInt(Z)<<BigInt(32))+BigInt(X)}),a.prototype.readIntLE=function(A,C,Q){A=A>>>0,C=C>>>0,Q||B(A,C,this.length);let Z=this[A],X=1,ne=0;for(;++ne<C&&(X*=256);)Z+=this[A+ne]*X;return X*=128,Z>=X&&(Z-=Math.pow(2,8*C)),Z},a.prototype.readIntBE=function(A,C,Q){A=A>>>0,C=C>>>0,Q||B(A,C,this.length);let Z=C,X=1,ne=this[A+--Z];for(;Z>0&&(X*=256);)ne+=this[A+--Z]*X;return X*=128,ne>=X&&(ne-=Math.pow(2,8*C)),ne},a.prototype.readInt8=function(A,C){return A=A>>>0,C||B(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},a.prototype.readInt16LE=function(A,C){A=A>>>0,C||B(A,2,this.length);const Q=this[A]|this[A+1]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt16BE=function(A,C){A=A>>>0,C||B(A,2,this.length);const Q=this[A+1]|this[A]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt32LE=function(A,C){return A=A>>>0,C||B(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},a.prototype.readInt32BE=function(A,C){return A=A>>>0,C||B(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},a.prototype.readBigInt64LE=Fn(function(A){A=A>>>0,He(A,"offset");const C=this[A],Q=this[A+7];(C===void 0||Q===void 0)&&Me(A,this.length-8);const Z=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(Q<<24);return(BigInt(Z)<<BigInt(32))+BigInt(C+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),a.prototype.readBigInt64BE=Fn(function(A){A=A>>>0,He(A,"offset");const C=this[A],Q=this[A+7];(C===void 0||Q===void 0)&&Me(A,this.length-8);const Z=(C<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(Z)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+Q)}),a.prototype.readFloatLE=function(A,C){return A=A>>>0,C||B(A,4,this.length),n.read(this,A,!0,23,4)},a.prototype.readFloatBE=function(A,C){return A=A>>>0,C||B(A,4,this.length),n.read(this,A,!1,23,4)},a.prototype.readDoubleLE=function(A,C){return A=A>>>0,C||B(A,8,this.length),n.read(this,A,!0,52,8)},a.prototype.readDoubleBE=function(A,C){return A=A>>>0,C||B(A,8,this.length),n.read(this,A,!1,52,8)};function T(V,A,C,Q,Z,X){if(!a.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>Z||A<X)throw new RangeError('"value" argument is out of bounds');if(C+Q>V.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(A,C,Q,Z){if(A=+A,C=C>>>0,Q=Q>>>0,!Z){const tt=Math.pow(2,8*Q)-1;T(this,A,C,Q,tt,0)}let X=1,ne=0;for(this[C]=A&255;++ne<Q&&(X*=256);)this[C+ne]=A/X&255;return C+Q},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(A,C,Q,Z){if(A=+A,C=C>>>0,Q=Q>>>0,!Z){const tt=Math.pow(2,8*Q)-1;T(this,A,C,Q,tt,0)}let X=Q-1,ne=1;for(this[C+X]=A&255;--X>=0&&(ne*=256);)this[C+X]=A/ne&255;return C+Q},a.prototype.writeUint8=a.prototype.writeUInt8=function(A,C,Q){return A=+A,C=C>>>0,Q||T(this,A,C,1,255,0),this[C]=A&255,C+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(A,C,Q){return A=+A,C=C>>>0,Q||T(this,A,C,2,65535,0),this[C]=A&255,this[C+1]=A>>>8,C+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(A,C,Q){return A=+A,C=C>>>0,Q||T(this,A,C,2,65535,0),this[C]=A>>>8,this[C+1]=A&255,C+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(A,C,Q){return A=+A,C=C>>>0,Q||T(this,A,C,4,4294967295,0),this[C+3]=A>>>24,this[C+2]=A>>>16,this[C+1]=A>>>8,this[C]=A&255,C+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(A,C,Q){return A=+A,C=C>>>0,Q||T(this,A,C,4,4294967295,0),this[C]=A>>>24,this[C+1]=A>>>16,this[C+2]=A>>>8,this[C+3]=A&255,C+4};function K(V,A,C,Q,Z){_e(A,Q,Z,V,C,7);let X=Number(A&BigInt(4294967295));V[C++]=X,X=X>>8,V[C++]=X,X=X>>8,V[C++]=X,X=X>>8,V[C++]=X;let ne=Number(A>>BigInt(32)&BigInt(4294967295));return V[C++]=ne,ne=ne>>8,V[C++]=ne,ne=ne>>8,V[C++]=ne,ne=ne>>8,V[C++]=ne,C}function ae(V,A,C,Q,Z){_e(A,Q,Z,V,C,7);let X=Number(A&BigInt(4294967295));V[C+7]=X,X=X>>8,V[C+6]=X,X=X>>8,V[C+5]=X,X=X>>8,V[C+4]=X;let ne=Number(A>>BigInt(32)&BigInt(4294967295));return V[C+3]=ne,ne=ne>>8,V[C+2]=ne,ne=ne>>8,V[C+1]=ne,ne=ne>>8,V[C]=ne,C+8}a.prototype.writeBigUInt64LE=Fn(function(A,C=0){return K(this,A,C,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Fn(function(A,C=0){return ae(this,A,C,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(A,C,Q,Z){if(A=+A,C=C>>>0,!Z){const qe=Math.pow(2,8*Q-1);T(this,A,C,Q,qe-1,-qe)}let X=0,ne=1,tt=0;for(this[C]=A&255;++X<Q&&(ne*=256);)A<0&&tt===0&&this[C+X-1]!==0&&(tt=1),this[C+X]=(A/ne>>0)-tt&255;return C+Q},a.prototype.writeIntBE=function(A,C,Q,Z){if(A=+A,C=C>>>0,!Z){const qe=Math.pow(2,8*Q-1);T(this,A,C,Q,qe-1,-qe)}let X=Q-1,ne=1,tt=0;for(this[C+X]=A&255;--X>=0&&(ne*=256);)A<0&&tt===0&&this[C+X+1]!==0&&(tt=1),this[C+X]=(A/ne>>0)-tt&255;return C+Q},a.prototype.writeInt8=function(A,C,Q){return A=+A,C=C>>>0,Q||T(this,A,C,1,127,-128),A<0&&(A=255+A+1),this[C]=A&255,C+1},a.prototype.writeInt16LE=function(A,C,Q){return A=+A,C=C>>>0,Q||T(this,A,C,2,32767,-32768),this[C]=A&255,this[C+1]=A>>>8,C+2},a.prototype.writeInt16BE=function(A,C,Q){return A=+A,C=C>>>0,Q||T(this,A,C,2,32767,-32768),this[C]=A>>>8,this[C+1]=A&255,C+2},a.prototype.writeInt32LE=function(A,C,Q){return A=+A,C=C>>>0,Q||T(this,A,C,4,2147483647,-2147483648),this[C]=A&255,this[C+1]=A>>>8,this[C+2]=A>>>16,this[C+3]=A>>>24,C+4},a.prototype.writeInt32BE=function(A,C,Q){return A=+A,C=C>>>0,Q||T(this,A,C,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[C]=A>>>24,this[C+1]=A>>>16,this[C+2]=A>>>8,this[C+3]=A&255,C+4},a.prototype.writeBigInt64LE=Fn(function(A,C=0){return K(this,A,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Fn(function(A,C=0){return ae(this,A,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ue(V,A,C,Q,Z,X){if(C+Q>V.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function he(V,A,C,Q,Z){return A=+A,C=C>>>0,Z||ue(V,A,C,4),n.write(V,A,C,Q,23,4),C+4}a.prototype.writeFloatLE=function(A,C,Q){return he(this,A,C,!0,Q)},a.prototype.writeFloatBE=function(A,C,Q){return he(this,A,C,!1,Q)};function le(V,A,C,Q,Z){return A=+A,C=C>>>0,Z||ue(V,A,C,8),n.write(V,A,C,Q,52,8),C+8}a.prototype.writeDoubleLE=function(A,C,Q){return le(this,A,C,!0,Q)},a.prototype.writeDoubleBE=function(A,C,Q){return le(this,A,C,!1,Q)},a.prototype.copy=function(A,C,Q,Z){if(!a.isBuffer(A))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!Z&&Z!==0&&(Z=this.length),C>=A.length&&(C=A.length),C||(C=0),Z>0&&Z<Q&&(Z=Q),Z===Q||A.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),A.length-C<Z-Q&&(Z=A.length-C+Q);const X=Z-Q;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,Q,Z):Uint8Array.prototype.set.call(A,this.subarray(Q,Z),C),X},a.prototype.fill=function(A,C,Q,Z){if(typeof A=="string"){if(typeof C=="string"?(Z=C,C=0,Q=this.length):typeof Q=="string"&&(Z=Q,Q=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!a.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(A.length===1){const ne=A.charCodeAt(0);(Z==="utf8"&&ne<128||Z==="latin1")&&(A=ne)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(C<0||this.length<C||this.length<Q)throw new RangeError("Out of range index");if(Q<=C)return this;C=C>>>0,Q=Q===void 0?this.length:Q>>>0,A||(A=0);let X;if(typeof A=="number")for(X=C;X<Q;++X)this[X]=A;else{const ne=a.isBuffer(A)?A:a.from(A,Z),tt=ne.length;if(tt===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(X=0;X<Q-C;++X)this[X+C]=ne[X%tt]}return this};const ye={};function Te(V,A,C){ye[V]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${V}]`,this.stack,delete this.name}get code(){return V}set code(Z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Z,writable:!0})}toString(){return`${this.name} [${V}]: ${this.message}`}}}Te("ERR_BUFFER_OUT_OF_BOUNDS",function(V){return V?`${V} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Te("ERR_INVALID_ARG_TYPE",function(V,A){return`The "${V}" argument must be of type number. Received type ${typeof A}`},TypeError),Te("ERR_OUT_OF_RANGE",function(V,A,C){let Q=`The value of "${V}" is out of range.`,Z=C;return Number.isInteger(C)&&Math.abs(C)>2**32?Z=Re(String(C)):typeof C=="bigint"&&(Z=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(Z=Re(Z)),Z+="n"),Q+=` It must be ${A}. Received ${Z}`,Q},RangeError);function Re(V){let A="",C=V.length;const Q=V[0]==="-"?1:0;for(;C>=Q+4;C-=3)A=`_${V.slice(C-3,C)}${A}`;return`${V.slice(0,C)}${A}`}function Ee(V,A,C){He(A,"offset"),(V[A]===void 0||V[A+C]===void 0)&&Me(A,V.length-(C+1))}function _e(V,A,C,Q,Z,X){if(V>C||V<A){const ne=typeof A=="bigint"?"n":"";let tt;throw A===0||A===BigInt(0)?tt=`>= 0${ne} and < 2${ne} ** ${(X+1)*8}${ne}`:tt=`>= -(2${ne} ** ${(X+1)*8-1}${ne}) and < 2 ** ${(X+1)*8-1}${ne}`,new ye.ERR_OUT_OF_RANGE("value",tt,V)}Ee(Q,Z,X)}function He(V,A){if(typeof V!="number")throw new ye.ERR_INVALID_ARG_TYPE(A,"number",V)}function Me(V,A,C){throw Math.floor(V)!==V?(He(V,C),new ye.ERR_OUT_OF_RANGE("offset","an integer",V)):A<0?new ye.ERR_BUFFER_OUT_OF_BOUNDS:new ye.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${A}`,V)}const Ge=/[^+/0-9A-Za-z-_]/g;function zt(V){if(V=V.split("=")[0],V=V.trim().replace(Ge,""),V.length<2)return"";for(;V.length%4!==0;)V=V+"=";return V}function at(V,A){A=A||1/0;let C;const Q=V.length;let Z=null;const X=[];for(let ne=0;ne<Q;++ne){if(C=V.charCodeAt(ne),C>55295&&C<57344){if(!Z){if(C>56319){(A-=3)>-1&&X.push(239,191,189);continue}else if(ne+1===Q){(A-=3)>-1&&X.push(239,191,189);continue}Z=C;continue}if(C<56320){(A-=3)>-1&&X.push(239,191,189),Z=C;continue}C=(Z-55296<<10|C-56320)+65536}else Z&&(A-=3)>-1&&X.push(239,191,189);if(Z=null,C<128){if((A-=1)<0)break;X.push(C)}else if(C<2048){if((A-=2)<0)break;X.push(C>>6|192,C&63|128)}else if(C<65536){if((A-=3)<0)break;X.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((A-=4)<0)break;X.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return X}function Et(V){const A=[];for(let C=0;C<V.length;++C)A.push(V.charCodeAt(C)&255);return A}function or(V,A){let C,Q,Z;const X=[];for(let ne=0;ne<V.length&&!((A-=2)<0);++ne)C=V.charCodeAt(ne),Q=C>>8,Z=C%256,X.push(Z),X.push(Q);return X}function wt(V){return e.toByteArray(zt(V))}function oe(V,A,C,Q){let Z;for(Z=0;Z<Q&&!(Z+C>=A.length||Z>=V.length);++Z)A[Z+C]=V[Z];return Z}function At(V,A){return V instanceof A||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===A.name}function Tt(V){return V!==V}const Nt=function(){const V="0123456789abcdef",A=new Array(256);for(let C=0;C<16;++C){const Q=C*16;for(let Z=0;Z<16;++Z)A[Q+Z]=V[C]+V[Z]}return A}();function Fn(V){return typeof BigInt>"u"?ot:V}function ot(){throw new Error("BigInt not supported")}})(Xe);globalThis.Buffer=Xe.Buffer;globalThis.process={env:{},browser:!0,nextTick:t=>Promise.resolve().then(()=>t())};try{globalThis.crypto=globalThis.crypto||window.crypto}catch{}globalThis.stream={Readable:class{},Writable:class{},Transform:class{}};var hM={exports:{}},js={},fM={exports:{}},pM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,j){var H=L.length;L.push(j);e:for(;0<H;){var B=H-1>>>1,T=L[B];if(0<s(T,j))L[B]=j,L[H]=T,H=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var j=L[0],H=L.pop();if(H!==j){L[0]=H;e:for(var B=0,T=L.length,K=T>>>1;B<K;){var ae=2*(B+1)-1,ue=L[ae],he=ae+1,le=L[he];if(0>s(ue,H))he<T&&0>s(le,ue)?(L[B]=le,L[he]=H,B=he):(L[B]=ue,L[ae]=H,B=ae);else if(he<T&&0>s(le,H))L[B]=le,L[he]=H,B=he;else break e}}return j}function s(L,j){var H=L.sortIndex-j.sortIndex;return H!==0?H:L.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=L)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function S(L){if(g=!1,x(L),!v)if(n(l)!==null)v=!0,O(D);else{var j=n(c);j!==null&&z(S,j.startTime-L)}}function D(L,j){v=!1,g&&(g=!1,_(R),R=-1),m=!0;var H=p;try{for(x(j),f=n(l);f!==null&&(!(f.expirationTime>j)||L&&!$());){var B=f.callback;if(typeof B=="function"){f.callback=null,p=f.priorityLevel;var T=B(f.expirationTime<=j);j=t.unstable_now(),typeof T=="function"?f.callback=T:f===n(l)&&r(l),x(j)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var ae=n(c);ae!==null&&z(S,ae.startTime-j),K=!1}return K}finally{f=null,p=H,m=!1}}var F=!1,M=null,R=-1,U=5,W=-1;function $(){return!(t.unstable_now()-W<U)}function q(){if(M!==null){var L=t.unstable_now();W=L;var j=!0;try{j=M(!0,L)}finally{j?N():(F=!1,M=null)}}else F=!1}var N;if(typeof b=="function")N=function(){b(q)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,I=y.port2;y.port1.onmessage=q,N=function(){I.postMessage(null)}}else N=function(){w(q,0)};function O(L){M=L,F||(F=!0,N())}function z(L,j){R=w(function(){L(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,O(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var H=p;p=j;try{return L()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=p;p=L;try{return j()}finally{p=H}},t.unstable_scheduleCallback=function(L,j,H){var B=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?B+H:B):H=B,L){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=H+T,L={id:u++,callback:j,priorityLevel:L,startTime:H,expirationTime:T,sortIndex:-1},H>B?(L.sortIndex=H,e(c,L),n(l)===null&&L===n(c)&&(g?(_(R),R=-1):g=!0,z(S,H-B))):(L.sortIndex=T,e(l,L),v||m||(v=!0,O(D))),L},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(L){var j=p;return function(){var H=p;p=j;try{return L.apply(this,arguments)}finally{p=H}}}})(pM);fM.exports=pM;var vF=fM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xF=k,Ds=vF;function me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mM=new Set,tp={};function Zc(t,e){zd(t,e),zd(t+"Capture",e)}function zd(t,e){for(tp[t]=e,t=0;t<e.length;t++)mM.add(e[t])}var Vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s_=Object.prototype.hasOwnProperty,_F=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KA={},GA={};function bF(t){return s_.call(GA,t)?!0:s_.call(KA,t)?!1:_F.test(t)?GA[t]=!0:(KA[t]=!0,!1)}function EF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SF(t,e,n,r){if(e===null||typeof e>"u"||EF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function is(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Er[t]=new is(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Er[e]=new is(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Er[t]=new is(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Er[t]=new is(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Er[t]=new is(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Er[t]=new is(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Er[t]=new is(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Er[t]=new is(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Er[t]=new is(t,5,!1,t.toLowerCase(),null,!1,!1)});var eS=/[\-:]([a-z])/g;function tS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eS,tS);Er[e]=new is(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eS,tS);Er[e]=new is(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eS,tS);Er[e]=new is(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Er[t]=new is(t,1,!1,t.toLowerCase(),null,!1,!1)});Er.xlinkHref=new is("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Er[t]=new is(t,1,!1,t.toLowerCase(),null,!0,!0)});function nS(t,e,n,r){var s=Er.hasOwnProperty(e)?Er[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SF(e,n,s,r)&&(n=null),r||s===null?bF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var sa=xF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eg=Symbol.for("react.element"),Hu=Symbol.for("react.portal"),qu=Symbol.for("react.fragment"),rS=Symbol.for("react.strict_mode"),i_=Symbol.for("react.profiler"),gM=Symbol.for("react.provider"),yM=Symbol.for("react.context"),sS=Symbol.for("react.forward_ref"),o_=Symbol.for("react.suspense"),a_=Symbol.for("react.suspense_list"),iS=Symbol.for("react.memo"),Ta=Symbol.for("react.lazy"),wM=Symbol.for("react.offscreen"),QA=Symbol.iterator;function Gh(t){return t===null||typeof t!="object"?null:(t=QA&&t[QA]||t["@@iterator"],typeof t=="function"?t:null)}var Sn=Object.assign,f1;function pf(t){if(f1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);f1=e&&e[1]||""}return`
`+f1+t}var p1=!1;function m1(t,e){if(!t||p1)return"";p1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{p1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pf(t):""}function TF(t){switch(t.tag){case 5:return pf(t.type);case 16:return pf("Lazy");case 13:return pf("Suspense");case 19:return pf("SuspenseList");case 0:case 2:case 15:return t=m1(t.type,!1),t;case 11:return t=m1(t.type.render,!1),t;case 1:return t=m1(t.type,!0),t;default:return""}}function l_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qu:return"Fragment";case Hu:return"Portal";case i_:return"Profiler";case rS:return"StrictMode";case o_:return"Suspense";case a_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yM:return(t.displayName||"Context")+".Consumer";case gM:return(t._context.displayName||"Context")+".Provider";case sS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iS:return e=t.displayName||null,e!==null?e:l_(t.type)||"Memo";case Ta:e=t._payload,t=t._init;try{return l_(t(e))}catch{}}return null}function IF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return l_(e);case 8:return e===rS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AF(t){var e=vM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tg(t){t._valueTracker||(t._valueTracker=AF(t))}function xM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function K0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function c_(t,e){var n=e.checked;return Sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function YA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _M(t,e){e=e.checked,e!=null&&nS(t,"checked",e,!1)}function u_(t,e){_M(t,e);var n=wl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?d_(t,e.type,n):e.hasOwnProperty("defaultValue")&&d_(t,e.type,wl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ZA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function d_(t,e,n){(e!=="number"||K0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mf=Array.isArray;function ud(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wl(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function h_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(me(91));return Sn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function XA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(me(92));if(mf(n)){if(1<n.length)throw Error(me(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wl(n)}}function bM(t,e){var n=wl(e.value),r=wl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function JA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function EM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function f_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?EM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ng,SM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ng=ng||document.createElement("div"),ng.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ng.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function np(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NF=["Webkit","ms","Moz","O"];Object.keys(Lf).forEach(function(t){NF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lf[e]=Lf[t]})});function TM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lf.hasOwnProperty(t)&&Lf[t]?(""+e).trim():e+"px"}function IM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=TM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var CF=Sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function p_(t,e){if(e){if(CF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(me(62))}}function m_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g_=null;function oS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var y_=null,dd=null,hd=null;function eN(t){if(t=Yp(t)){if(typeof y_!="function")throw Error(me(280));var e=t.stateNode;e&&(e=Nw(e),y_(t.stateNode,t.type,e))}}function AM(t){dd?hd?hd.push(t):hd=[t]:dd=t}function NM(){if(dd){var t=dd,e=hd;if(hd=dd=null,eN(t),e)for(t=0;t<e.length;t++)eN(e[t])}}function CM(t,e){return t(e)}function kM(){}var g1=!1;function RM(t,e,n){if(g1)return t(e,n);g1=!0;try{return CM(t,e,n)}finally{g1=!1,(dd!==null||hd!==null)&&(kM(),NM())}}function rp(t,e){var n=t.stateNode;if(n===null)return null;var r=Nw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(me(231,e,typeof n));return n}var w_=!1;if(Vo)try{var Qh={};Object.defineProperty(Qh,"passive",{get:function(){w_=!0}}),window.addEventListener("test",Qh,Qh),window.removeEventListener("test",Qh,Qh)}catch{w_=!1}function kF(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Df=!1,G0=null,Q0=!1,v_=null,RF={onError:function(t){Df=!0,G0=t}};function MF(t,e,n,r,s,i,o,a,l){Df=!1,G0=null,kF.apply(RF,arguments)}function PF(t,e,n,r,s,i,o,a,l){if(MF.apply(this,arguments),Df){if(Df){var c=G0;Df=!1,G0=null}else throw Error(me(198));Q0||(Q0=!0,v_=c)}}function Xc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function MM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tN(t){if(Xc(t)!==t)throw Error(me(188))}function OF(t){var e=t.alternate;if(!e){if(e=Xc(t),e===null)throw Error(me(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return tN(s),t;if(i===r)return tN(s),e;i=i.sibling}throw Error(me(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(me(189))}}if(n.alternate!==r)throw Error(me(190))}if(n.tag!==3)throw Error(me(188));return n.stateNode.current===n?t:e}function PM(t){return t=OF(t),t!==null?OM(t):null}function OM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=OM(t);if(e!==null)return e;t=t.sibling}return null}var LM=Ds.unstable_scheduleCallback,nN=Ds.unstable_cancelCallback,LF=Ds.unstable_shouldYield,DF=Ds.unstable_requestPaint,jn=Ds.unstable_now,jF=Ds.unstable_getCurrentPriorityLevel,aS=Ds.unstable_ImmediatePriority,DM=Ds.unstable_UserBlockingPriority,Y0=Ds.unstable_NormalPriority,BF=Ds.unstable_LowPriority,jM=Ds.unstable_IdlePriority,Sw=null,zi=null;function FF(t){if(zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(Sw,t,void 0,(t.current.flags&128)===128)}catch{}}var wi=Math.clz32?Math.clz32:zF,UF=Math.log,VF=Math.LN2;function zF(t){return t>>>=0,t===0?32:31-(UF(t)/VF|0)|0}var rg=64,sg=4194304;function gf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Z0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=gf(a):(i&=o,i!==0&&(r=gf(i)))}else o=n&~s,o!==0?r=gf(o):i!==0&&(r=gf(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wi(e),s=1<<n,r|=t[n],e&=~s;return r}function WF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $F(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-wi(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=WF(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function x_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BM(){var t=rg;return rg<<=1,!(rg&4194240)&&(rg=64),t}function y1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wi(e),t[e]=n}function HF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-wi(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function lS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wi(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Mt=0;function FM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var UM,cS,VM,zM,WM,__=!1,ig=[],nl=null,rl=null,sl=null,sp=new Map,ip=new Map,ka=[],qF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rN(t,e){switch(t){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":sp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ip.delete(e.pointerId)}}function Yh(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Yp(e),e!==null&&cS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function KF(t,e,n,r,s){switch(e){case"focusin":return nl=Yh(nl,t,e,n,r,s),!0;case"dragenter":return rl=Yh(rl,t,e,n,r,s),!0;case"mouseover":return sl=Yh(sl,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return sp.set(i,Yh(sp.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ip.set(i,Yh(ip.get(i)||null,t,e,n,r,s)),!0}return!1}function $M(t){var e=sc(t.target);if(e!==null){var n=Xc(e);if(n!==null){if(e=n.tag,e===13){if(e=MM(n),e!==null){t.blockedOn=e,WM(t.priority,function(){VM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=b_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);g_=r,n.target.dispatchEvent(r),g_=null}else return e=Yp(n),e!==null&&cS(e),t.blockedOn=n,!1;e.shift()}return!0}function sN(t,e,n){Gg(t)&&n.delete(e)}function GF(){__=!1,nl!==null&&Gg(nl)&&(nl=null),rl!==null&&Gg(rl)&&(rl=null),sl!==null&&Gg(sl)&&(sl=null),sp.forEach(sN),ip.forEach(sN)}function Zh(t,e){t.blockedOn===e&&(t.blockedOn=null,__||(__=!0,Ds.unstable_scheduleCallback(Ds.unstable_NormalPriority,GF)))}function op(t){function e(s){return Zh(s,t)}if(0<ig.length){Zh(ig[0],t);for(var n=1;n<ig.length;n++){var r=ig[n];r.blockedOn===t&&(r.blockedOn=null)}}for(nl!==null&&Zh(nl,t),rl!==null&&Zh(rl,t),sl!==null&&Zh(sl,t),sp.forEach(e),ip.forEach(e),n=0;n<ka.length;n++)r=ka[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ka.length&&(n=ka[0],n.blockedOn===null);)$M(n),n.blockedOn===null&&ka.shift()}var fd=sa.ReactCurrentBatchConfig,X0=!0;function QF(t,e,n,r){var s=Mt,i=fd.transition;fd.transition=null;try{Mt=1,uS(t,e,n,r)}finally{Mt=s,fd.transition=i}}function YF(t,e,n,r){var s=Mt,i=fd.transition;fd.transition=null;try{Mt=4,uS(t,e,n,r)}finally{Mt=s,fd.transition=i}}function uS(t,e,n,r){if(X0){var s=b_(t,e,n,r);if(s===null)A1(t,e,r,J0,n),rN(t,r);else if(KF(s,t,e,n,r))r.stopPropagation();else if(rN(t,r),e&4&&-1<qF.indexOf(t)){for(;s!==null;){var i=Yp(s);if(i!==null&&UM(i),i=b_(t,e,n,r),i===null&&A1(t,e,r,J0,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else A1(t,e,r,null,n)}}var J0=null;function b_(t,e,n,r){if(J0=null,t=oS(r),t=sc(t),t!==null)if(e=Xc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=MM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return J0=t,null}function HM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jF()){case aS:return 1;case DM:return 4;case Y0:case BF:return 16;case jM:return 536870912;default:return 16}default:return 16}}var Ga=null,dS=null,Qg=null;function qM(){if(Qg)return Qg;var t,e=dS,n=e.length,r,s="value"in Ga?Ga.value:Ga.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Qg=s.slice(t,1<r?1-r:void 0)}function Yg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function og(){return!0}function iN(){return!1}function Bs(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?og:iN,this.isPropagationStopped=iN,this}return Sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=og)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=og)},persist:function(){},isPersistent:og}),e}var wh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hS=Bs(wh),Qp=Sn({},wh,{view:0,detail:0}),ZF=Bs(Qp),w1,v1,Xh,Tw=Sn({},Qp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xh&&(Xh&&t.type==="mousemove"?(w1=t.screenX-Xh.screenX,v1=t.screenY-Xh.screenY):v1=w1=0,Xh=t),w1)},movementY:function(t){return"movementY"in t?t.movementY:v1}}),oN=Bs(Tw),XF=Sn({},Tw,{dataTransfer:0}),JF=Bs(XF),eU=Sn({},Qp,{relatedTarget:0}),x1=Bs(eU),tU=Sn({},wh,{animationName:0,elapsedTime:0,pseudoElement:0}),nU=Bs(tU),rU=Sn({},wh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sU=Bs(rU),iU=Sn({},wh,{data:0}),aN=Bs(iU),oU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lU[t])?!!e[t]:!1}function fS(){return cU}var uU=Sn({},Qp,{key:function(t){if(t.key){var e=oU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fS,charCode:function(t){return t.type==="keypress"?Yg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dU=Bs(uU),hU=Sn({},Tw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lN=Bs(hU),fU=Sn({},Qp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fS}),pU=Bs(fU),mU=Sn({},wh,{propertyName:0,elapsedTime:0,pseudoElement:0}),gU=Bs(mU),yU=Sn({},Tw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wU=Bs(yU),vU=[9,13,27,32],pS=Vo&&"CompositionEvent"in window,jf=null;Vo&&"documentMode"in document&&(jf=document.documentMode);var xU=Vo&&"TextEvent"in window&&!jf,KM=Vo&&(!pS||jf&&8<jf&&11>=jf),cN=" ",uN=!1;function GM(t,e){switch(t){case"keyup":return vU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ku=!1;function _U(t,e){switch(t){case"compositionend":return QM(e);case"keypress":return e.which!==32?null:(uN=!0,cN);case"textInput":return t=e.data,t===cN&&uN?null:t;default:return null}}function bU(t,e){if(Ku)return t==="compositionend"||!pS&&GM(t,e)?(t=qM(),Qg=dS=Ga=null,Ku=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KM&&e.locale!=="ko"?null:e.data;default:return null}}var EU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!EU[t.type]:e==="textarea"}function YM(t,e,n,r){AM(r),e=ey(e,"onChange"),0<e.length&&(n=new hS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bf=null,ap=null;function SU(t){aP(t,0)}function Iw(t){var e=Yu(t);if(xM(e))return t}function TU(t,e){if(t==="change")return e}var ZM=!1;if(Vo){var _1;if(Vo){var b1="oninput"in document;if(!b1){var hN=document.createElement("div");hN.setAttribute("oninput","return;"),b1=typeof hN.oninput=="function"}_1=b1}else _1=!1;ZM=_1&&(!document.documentMode||9<document.documentMode)}function fN(){Bf&&(Bf.detachEvent("onpropertychange",XM),ap=Bf=null)}function XM(t){if(t.propertyName==="value"&&Iw(ap)){var e=[];YM(e,ap,t,oS(t)),RM(SU,e)}}function IU(t,e,n){t==="focusin"?(fN(),Bf=e,ap=n,Bf.attachEvent("onpropertychange",XM)):t==="focusout"&&fN()}function AU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iw(ap)}function NU(t,e){if(t==="click")return Iw(e)}function CU(t,e){if(t==="input"||t==="change")return Iw(e)}function kU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bi=typeof Object.is=="function"?Object.is:kU;function lp(t,e){if(bi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!s_.call(e,s)||!bi(t[s],e[s]))return!1}return!0}function pN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mN(t,e){var n=pN(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pN(n)}}function JM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?JM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eP(){for(var t=window,e=K0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=K0(t.document)}return e}function mS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function RU(t){var e=eP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&JM(n.ownerDocument.documentElement,n)){if(r!==null&&mS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=mN(n,i);var o=mN(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MU=Vo&&"documentMode"in document&&11>=document.documentMode,Gu=null,E_=null,Ff=null,S_=!1;function gN(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;S_||Gu==null||Gu!==K0(r)||(r=Gu,"selectionStart"in r&&mS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ff&&lp(Ff,r)||(Ff=r,r=ey(E_,"onSelect"),0<r.length&&(e=new hS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gu)))}function ag(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qu={animationend:ag("Animation","AnimationEnd"),animationiteration:ag("Animation","AnimationIteration"),animationstart:ag("Animation","AnimationStart"),transitionend:ag("Transition","TransitionEnd")},E1={},tP={};Vo&&(tP=document.createElement("div").style,"AnimationEvent"in window||(delete Qu.animationend.animation,delete Qu.animationiteration.animation,delete Qu.animationstart.animation),"TransitionEvent"in window||delete Qu.transitionend.transition);function Aw(t){if(E1[t])return E1[t];if(!Qu[t])return t;var e=Qu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tP)return E1[t]=e[n];return t}var nP=Aw("animationend"),rP=Aw("animationiteration"),sP=Aw("animationstart"),iP=Aw("transitionend"),oP=new Map,yN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kl(t,e){oP.set(t,e),Zc(e,[t])}for(var S1=0;S1<yN.length;S1++){var T1=yN[S1],PU=T1.toLowerCase(),OU=T1[0].toUpperCase()+T1.slice(1);kl(PU,"on"+OU)}kl(nP,"onAnimationEnd");kl(rP,"onAnimationIteration");kl(sP,"onAnimationStart");kl("dblclick","onDoubleClick");kl("focusin","onFocus");kl("focusout","onBlur");kl(iP,"onTransitionEnd");zd("onMouseEnter",["mouseout","mouseover"]);zd("onMouseLeave",["mouseout","mouseover"]);zd("onPointerEnter",["pointerout","pointerover"]);zd("onPointerLeave",["pointerout","pointerover"]);Zc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LU=new Set("cancel close invalid load scroll toggle".split(" ").concat(yf));function wN(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PF(r,e,void 0,t),t.currentTarget=null}function aP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;wN(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;wN(s,a,c),i=l}}}if(Q0)throw t=v_,Q0=!1,v_=null,t}function nn(t,e){var n=e[C_];n===void 0&&(n=e[C_]=new Set);var r=t+"__bubble";n.has(r)||(lP(e,t,2,!1),n.add(r))}function I1(t,e,n){var r=0;e&&(r|=4),lP(n,t,r,e)}var lg="_reactListening"+Math.random().toString(36).slice(2);function cp(t){if(!t[lg]){t[lg]=!0,mM.forEach(function(n){n!=="selectionchange"&&(LU.has(n)||I1(n,!1,t),I1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lg]||(e[lg]=!0,I1("selectionchange",!1,e))}}function lP(t,e,n,r){switch(HM(e)){case 1:var s=QF;break;case 4:s=YF;break;default:s=uS}n=s.bind(null,e,n,t),s=void 0,!w_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function A1(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=sc(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}RM(function(){var c=i,u=oS(n),f=[];e:{var p=oP.get(t);if(p!==void 0){var m=hS,v=t;switch(t){case"keypress":if(Yg(n)===0)break e;case"keydown":case"keyup":m=dU;break;case"focusin":v="focus",m=x1;break;case"focusout":v="blur",m=x1;break;case"beforeblur":case"afterblur":m=x1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=oN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=JF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pU;break;case nP:case rP:case sP:m=nU;break;case iP:m=gU;break;case"scroll":m=ZF;break;case"wheel":m=wU;break;case"copy":case"cut":case"paste":m=sU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=lN}var g=(e&4)!==0,w=!g&&t==="scroll",_=g?p!==null?p+"Capture":null:p;g=[];for(var b=c,x;b!==null;){x=b;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,_!==null&&(S=rp(b,_),S!=null&&g.push(up(b,S,x)))),w)break;b=b.return}0<g.length&&(p=new m(p,v,null,n,u),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==g_&&(v=n.relatedTarget||n.fromElement)&&(sc(v)||v[zo]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?sc(v):null,v!==null&&(w=Xc(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(g=oN,S="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=lN,S="onPointerLeave",_="onPointerEnter",b="pointer"),w=m==null?p:Yu(m),x=v==null?p:Yu(v),p=new g(S,b+"leave",m,n,u),p.target=w,p.relatedTarget=x,S=null,sc(u)===c&&(g=new g(_,b+"enter",v,n,u),g.target=x,g.relatedTarget=w,S=g),w=S,m&&v)t:{for(g=m,_=v,b=0,x=g;x;x=bu(x))b++;for(x=0,S=_;S;S=bu(S))x++;for(;0<b-x;)g=bu(g),b--;for(;0<x-b;)_=bu(_),x--;for(;b--;){if(g===_||_!==null&&g===_.alternate)break t;g=bu(g),_=bu(_)}g=null}else g=null;m!==null&&vN(f,p,m,g,!1),v!==null&&w!==null&&vN(f,w,v,g,!0)}}e:{if(p=c?Yu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var D=TU;else if(dN(p))if(ZM)D=CU;else{D=AU;var F=IU}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=NU);if(D&&(D=D(t,c))){YM(f,D,n,u);break e}F&&F(t,p,c),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&d_(p,"number",p.value)}switch(F=c?Yu(c):window,t){case"focusin":(dN(F)||F.contentEditable==="true")&&(Gu=F,E_=c,Ff=null);break;case"focusout":Ff=E_=Gu=null;break;case"mousedown":S_=!0;break;case"contextmenu":case"mouseup":case"dragend":S_=!1,gN(f,n,u);break;case"selectionchange":if(MU)break;case"keydown":case"keyup":gN(f,n,u)}var M;if(pS)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ku?GM(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(KM&&n.locale!=="ko"&&(Ku||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ku&&(M=qM()):(Ga=u,dS="value"in Ga?Ga.value:Ga.textContent,Ku=!0)),F=ey(c,R),0<F.length&&(R=new aN(R,t,null,n,u),f.push({event:R,listeners:F}),M?R.data=M:(M=QM(n),M!==null&&(R.data=M)))),(M=xU?_U(t,n):bU(t,n))&&(c=ey(c,"onBeforeInput"),0<c.length&&(u=new aN("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=M))}aP(f,e)})}function up(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ey(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rp(t,n),i!=null&&r.unshift(up(t,i,s)),i=rp(t,e),i!=null&&r.push(up(t,i,s))),t=t.return}return r}function bu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vN(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=rp(n,i),l!=null&&o.unshift(up(n,l,a))):s||(l=rp(n,i),l!=null&&o.push(up(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var DU=/\r\n?/g,jU=/\u0000|\uFFFD/g;function xN(t){return(typeof t=="string"?t:""+t).replace(DU,`
`).replace(jU,"")}function cg(t,e,n){if(e=xN(e),xN(t)!==e&&n)throw Error(me(425))}function ty(){}var T_=null,I_=null;function A_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var N_=typeof setTimeout=="function"?setTimeout:void 0,BU=typeof clearTimeout=="function"?clearTimeout:void 0,_N=typeof Promise=="function"?Promise:void 0,FU=typeof queueMicrotask=="function"?queueMicrotask:typeof _N<"u"?function(t){return _N.resolve(null).then(t).catch(UU)}:N_;function UU(t){setTimeout(function(){throw t})}function N1(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),op(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);op(e)}function il(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vh=Math.random().toString(36).slice(2),Bi="__reactFiber$"+vh,dp="__reactProps$"+vh,zo="__reactContainer$"+vh,C_="__reactEvents$"+vh,VU="__reactListeners$"+vh,zU="__reactHandles$"+vh;function sc(t){var e=t[Bi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zo]||n[Bi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bN(t);t!==null;){if(n=t[Bi])return n;t=bN(t)}return e}t=n,n=t.parentNode}return null}function Yp(t){return t=t[Bi]||t[zo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(me(33))}function Nw(t){return t[dp]||null}var k_=[],Zu=-1;function Rl(t){return{current:t}}function sn(t){0>Zu||(t.current=k_[Zu],k_[Zu]=null,Zu--)}function Yt(t,e){Zu++,k_[Zu]=t.current,t.current=e}var vl={},Hr=Rl(vl),gs=Rl(!1),Mc=vl;function Wd(t,e){var n=t.type.contextTypes;if(!n)return vl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ys(t){return t=t.childContextTypes,t!=null}function ny(){sn(gs),sn(Hr)}function EN(t,e,n){if(Hr.current!==vl)throw Error(me(168));Yt(Hr,e),Yt(gs,n)}function cP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(me(108,IF(t)||"Unknown",s));return Sn({},n,r)}function ry(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vl,Mc=Hr.current,Yt(Hr,t),Yt(gs,gs.current),!0}function SN(t,e,n){var r=t.stateNode;if(!r)throw Error(me(169));n?(t=cP(t,e,Mc),r.__reactInternalMemoizedMergedChildContext=t,sn(gs),sn(Hr),Yt(Hr,t)):sn(gs),Yt(gs,n)}var xo=null,Cw=!1,C1=!1;function uP(t){xo===null?xo=[t]:xo.push(t)}function WU(t){Cw=!0,uP(t)}function Ml(){if(!C1&&xo!==null){C1=!0;var t=0,e=Mt;try{var n=xo;for(Mt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xo=null,Cw=!1}catch(s){throw xo!==null&&(xo=xo.slice(t+1)),LM(aS,Ml),s}finally{Mt=e,C1=!1}}return null}var Xu=[],Ju=0,sy=null,iy=0,Ks=[],Gs=0,Pc=null,Po=1,Oo="";function Kl(t,e){Xu[Ju++]=iy,Xu[Ju++]=sy,sy=t,iy=e}function dP(t,e,n){Ks[Gs++]=Po,Ks[Gs++]=Oo,Ks[Gs++]=Pc,Pc=t;var r=Po;t=Oo;var s=32-wi(r)-1;r&=~(1<<s),n+=1;var i=32-wi(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Po=1<<32-wi(e)+s|n<<s|r,Oo=i+t}else Po=1<<i|n<<s|r,Oo=t}function gS(t){t.return!==null&&(Kl(t,1),dP(t,1,0))}function yS(t){for(;t===sy;)sy=Xu[--Ju],Xu[Ju]=null,iy=Xu[--Ju],Xu[Ju]=null;for(;t===Pc;)Pc=Ks[--Gs],Ks[Gs]=null,Oo=Ks[--Gs],Ks[Gs]=null,Po=Ks[--Gs],Ks[Gs]=null}var Ps=null,Rs=null,dn=!1,fi=null;function hP(t,e){var n=Qs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function TN(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ps=t,Rs=il(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ps=t,Rs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pc!==null?{id:Po,overflow:Oo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ps=t,Rs=null,!0):!1;default:return!1}}function R_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function M_(t){if(dn){var e=Rs;if(e){var n=e;if(!TN(t,e)){if(R_(t))throw Error(me(418));e=il(n.nextSibling);var r=Ps;e&&TN(t,e)?hP(r,n):(t.flags=t.flags&-4097|2,dn=!1,Ps=t)}}else{if(R_(t))throw Error(me(418));t.flags=t.flags&-4097|2,dn=!1,Ps=t}}}function IN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ps=t}function ug(t){if(t!==Ps)return!1;if(!dn)return IN(t),dn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!A_(t.type,t.memoizedProps)),e&&(e=Rs)){if(R_(t))throw fP(),Error(me(418));for(;e;)hP(t,e),e=il(e.nextSibling)}if(IN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rs=il(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rs=null}}else Rs=Ps?il(t.stateNode.nextSibling):null;return!0}function fP(){for(var t=Rs;t;)t=il(t.nextSibling)}function $d(){Rs=Ps=null,dn=!1}function wS(t){fi===null?fi=[t]:fi.push(t)}var $U=sa.ReactCurrentBatchConfig;function Jh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(me(309));var r=n.stateNode}if(!r)throw Error(me(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(me(284));if(!n._owner)throw Error(me(290,t))}return t}function dg(t,e){throw t=Object.prototype.toString.call(e),Error(me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function AN(t){var e=t._init;return e(t._payload)}function pP(t){function e(_,b){if(t){var x=_.deletions;x===null?(_.deletions=[b],_.flags|=16):x.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function s(_,b){return _=cl(_,b),_.index=0,_.sibling=null,_}function i(_,b,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<b?(_.flags|=2,b):x):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,b,x,S){return b===null||b.tag!==6?(b=D1(x,_.mode,S),b.return=_,b):(b=s(b,x),b.return=_,b)}function l(_,b,x,S){var D=x.type;return D===qu?u(_,b,x.props.children,S,x.key):b!==null&&(b.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ta&&AN(D)===b.type)?(S=s(b,x.props),S.ref=Jh(_,b,x),S.return=_,S):(S=r0(x.type,x.key,x.props,null,_.mode,S),S.ref=Jh(_,b,x),S.return=_,S)}function c(_,b,x,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=j1(x,_.mode,S),b.return=_,b):(b=s(b,x.children||[]),b.return=_,b)}function u(_,b,x,S,D){return b===null||b.tag!==7?(b=Tc(x,_.mode,S,D),b.return=_,b):(b=s(b,x),b.return=_,b)}function f(_,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=D1(""+b,_.mode,x),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case eg:return x=r0(b.type,b.key,b.props,null,_.mode,x),x.ref=Jh(_,null,b),x.return=_,x;case Hu:return b=j1(b,_.mode,x),b.return=_,b;case Ta:var S=b._init;return f(_,S(b._payload),x)}if(mf(b)||Gh(b))return b=Tc(b,_.mode,x,null),b.return=_,b;dg(_,b)}return null}function p(_,b,x,S){var D=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:a(_,b,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case eg:return x.key===D?l(_,b,x,S):null;case Hu:return x.key===D?c(_,b,x,S):null;case Ta:return D=x._init,p(_,b,D(x._payload),S)}if(mf(x)||Gh(x))return D!==null?null:u(_,b,x,S,null);dg(_,x)}return null}function m(_,b,x,S,D){if(typeof S=="string"&&S!==""||typeof S=="number")return _=_.get(x)||null,a(b,_,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case eg:return _=_.get(S.key===null?x:S.key)||null,l(b,_,S,D);case Hu:return _=_.get(S.key===null?x:S.key)||null,c(b,_,S,D);case Ta:var F=S._init;return m(_,b,x,F(S._payload),D)}if(mf(S)||Gh(S))return _=_.get(x)||null,u(b,_,S,D,null);dg(b,S)}return null}function v(_,b,x,S){for(var D=null,F=null,M=b,R=b=0,U=null;M!==null&&R<x.length;R++){M.index>R?(U=M,M=null):U=M.sibling;var W=p(_,M,x[R],S);if(W===null){M===null&&(M=U);break}t&&M&&W.alternate===null&&e(_,M),b=i(W,b,R),F===null?D=W:F.sibling=W,F=W,M=U}if(R===x.length)return n(_,M),dn&&Kl(_,R),D;if(M===null){for(;R<x.length;R++)M=f(_,x[R],S),M!==null&&(b=i(M,b,R),F===null?D=M:F.sibling=M,F=M);return dn&&Kl(_,R),D}for(M=r(_,M);R<x.length;R++)U=m(M,_,R,x[R],S),U!==null&&(t&&U.alternate!==null&&M.delete(U.key===null?R:U.key),b=i(U,b,R),F===null?D=U:F.sibling=U,F=U);return t&&M.forEach(function($){return e(_,$)}),dn&&Kl(_,R),D}function g(_,b,x,S){var D=Gh(x);if(typeof D!="function")throw Error(me(150));if(x=D.call(x),x==null)throw Error(me(151));for(var F=D=null,M=b,R=b=0,U=null,W=x.next();M!==null&&!W.done;R++,W=x.next()){M.index>R?(U=M,M=null):U=M.sibling;var $=p(_,M,W.value,S);if($===null){M===null&&(M=U);break}t&&M&&$.alternate===null&&e(_,M),b=i($,b,R),F===null?D=$:F.sibling=$,F=$,M=U}if(W.done)return n(_,M),dn&&Kl(_,R),D;if(M===null){for(;!W.done;R++,W=x.next())W=f(_,W.value,S),W!==null&&(b=i(W,b,R),F===null?D=W:F.sibling=W,F=W);return dn&&Kl(_,R),D}for(M=r(_,M);!W.done;R++,W=x.next())W=m(M,_,R,W.value,S),W!==null&&(t&&W.alternate!==null&&M.delete(W.key===null?R:W.key),b=i(W,b,R),F===null?D=W:F.sibling=W,F=W);return t&&M.forEach(function(q){return e(_,q)}),dn&&Kl(_,R),D}function w(_,b,x,S){if(typeof x=="object"&&x!==null&&x.type===qu&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case eg:e:{for(var D=x.key,F=b;F!==null;){if(F.key===D){if(D=x.type,D===qu){if(F.tag===7){n(_,F.sibling),b=s(F,x.props.children),b.return=_,_=b;break e}}else if(F.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ta&&AN(D)===F.type){n(_,F.sibling),b=s(F,x.props),b.ref=Jh(_,F,x),b.return=_,_=b;break e}n(_,F);break}else e(_,F);F=F.sibling}x.type===qu?(b=Tc(x.props.children,_.mode,S,x.key),b.return=_,_=b):(S=r0(x.type,x.key,x.props,null,_.mode,S),S.ref=Jh(_,b,x),S.return=_,_=S)}return o(_);case Hu:e:{for(F=x.key;b!==null;){if(b.key===F)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(_,b.sibling),b=s(b,x.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else e(_,b);b=b.sibling}b=j1(x,_.mode,S),b.return=_,_=b}return o(_);case Ta:return F=x._init,w(_,b,F(x._payload),S)}if(mf(x))return v(_,b,x,S);if(Gh(x))return g(_,b,x,S);dg(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(_,b.sibling),b=s(b,x),b.return=_,_=b):(n(_,b),b=D1(x,_.mode,S),b.return=_,_=b),o(_)):n(_,b)}return w}var Hd=pP(!0),mP=pP(!1),oy=Rl(null),ay=null,ed=null,vS=null;function xS(){vS=ed=ay=null}function _S(t){var e=oy.current;sn(oy),t._currentValue=e}function P_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pd(t,e){ay=t,vS=ed=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fs=!0),t.firstContext=null)}function Js(t){var e=t._currentValue;if(vS!==t)if(t={context:t,memoizedValue:e,next:null},ed===null){if(ay===null)throw Error(me(308));ed=t,ay.dependencies={lanes:0,firstContext:t}}else ed=ed.next=t;return e}var ic=null;function bS(t){ic===null?ic=[t]:ic.push(t)}function gP(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,bS(e)):(n.next=s.next,s.next=n),e.interleaved=n,Wo(t,r)}function Wo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ia=!1;function ES(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ol(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,gt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Wo(t,n)}return s=r.interleaved,s===null?(e.next=e,bS(r)):(e.next=s.next,s.next=e),r.interleaved=e,Wo(t,n)}function Zg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lS(t,n)}}function NN(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ly(t,e,n,r){var s=t.updateQueue;Ia=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(p=e,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Sn({},f,p);break e;case 2:Ia=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Lc|=o,t.lanes=o,t.memoizedState=f}}function CN(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(me(191,s));s.call(r)}}}var Zp={},Wi=Rl(Zp),hp=Rl(Zp),fp=Rl(Zp);function oc(t){if(t===Zp)throw Error(me(174));return t}function SS(t,e){switch(Yt(fp,e),Yt(hp,t),Yt(Wi,Zp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:f_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=f_(e,t)}sn(Wi),Yt(Wi,e)}function qd(){sn(Wi),sn(hp),sn(fp)}function wP(t){oc(fp.current);var e=oc(Wi.current),n=f_(e,t.type);e!==n&&(Yt(hp,t),Yt(Wi,n))}function TS(t){hp.current===t&&(sn(Wi),sn(hp))}var _n=Rl(0);function cy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var k1=[];function IS(){for(var t=0;t<k1.length;t++)k1[t]._workInProgressVersionPrimary=null;k1.length=0}var Xg=sa.ReactCurrentDispatcher,R1=sa.ReactCurrentBatchConfig,Oc=0,En=null,Qn=null,rr=null,uy=!1,Uf=!1,pp=0,HU=0;function Nr(){throw Error(me(321))}function AS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bi(t[n],e[n]))return!1;return!0}function NS(t,e,n,r,s,i){if(Oc=i,En=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xg.current=t===null||t.memoizedState===null?QU:YU,t=n(r,s),Uf){i=0;do{if(Uf=!1,pp=0,25<=i)throw Error(me(301));i+=1,rr=Qn=null,e.updateQueue=null,Xg.current=ZU,t=n(r,s)}while(Uf)}if(Xg.current=dy,e=Qn!==null&&Qn.next!==null,Oc=0,rr=Qn=En=null,uy=!1,e)throw Error(me(300));return t}function CS(){var t=pp!==0;return pp=0,t}function Pi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?En.memoizedState=rr=t:rr=rr.next=t,rr}function ei(){if(Qn===null){var t=En.alternate;t=t!==null?t.memoizedState:null}else t=Qn.next;var e=rr===null?En.memoizedState:rr.next;if(e!==null)rr=e,Qn=t;else{if(t===null)throw Error(me(310));Qn=t,t={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},rr===null?En.memoizedState=rr=t:rr=rr.next=t}return rr}function mp(t,e){return typeof e=="function"?e(t):e}function M1(t){var e=ei(),n=e.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=t;var r=Qn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Oc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,En.lanes|=u,Lc|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,bi(r,e.memoizedState)||(fs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,En.lanes|=i,Lc|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function P1(t){var e=ei(),n=e.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);bi(i,e.memoizedState)||(fs=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function vP(){}function xP(t,e){var n=En,r=ei(),s=e(),i=!bi(r.memoizedState,s);if(i&&(r.memoizedState=s,fs=!0),r=r.queue,kS(EP.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||rr!==null&&rr.memoizedState.tag&1){if(n.flags|=2048,gp(9,bP.bind(null,n,r,s,e),void 0,null),ir===null)throw Error(me(349));Oc&30||_P(n,e,s)}return s}function _P(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=En.updateQueue,e===null?(e={lastEffect:null,stores:null},En.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bP(t,e,n,r){e.value=n,e.getSnapshot=r,SP(e)&&TP(t)}function EP(t,e,n){return n(function(){SP(e)&&TP(t)})}function SP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bi(t,n)}catch{return!0}}function TP(t){var e=Wo(t,1);e!==null&&vi(e,t,1,-1)}function kN(t){var e=Pi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:t},e.queue=t,t=t.dispatch=GU.bind(null,En,t),[e.memoizedState,t]}function gp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=En.updateQueue,e===null?(e={lastEffect:null,stores:null},En.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function IP(){return ei().memoizedState}function Jg(t,e,n,r){var s=Pi();En.flags|=t,s.memoizedState=gp(1|e,n,void 0,r===void 0?null:r)}function kw(t,e,n,r){var s=ei();r=r===void 0?null:r;var i=void 0;if(Qn!==null){var o=Qn.memoizedState;if(i=o.destroy,r!==null&&AS(r,o.deps)){s.memoizedState=gp(e,n,i,r);return}}En.flags|=t,s.memoizedState=gp(1|e,n,i,r)}function RN(t,e){return Jg(8390656,8,t,e)}function kS(t,e){return kw(2048,8,t,e)}function AP(t,e){return kw(4,2,t,e)}function NP(t,e){return kw(4,4,t,e)}function CP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kP(t,e,n){return n=n!=null?n.concat([t]):null,kw(4,4,CP.bind(null,e,t),n)}function RS(){}function RP(t,e){var n=ei();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&AS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function MP(t,e){var n=ei();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&AS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function PP(t,e,n){return Oc&21?(bi(n,e)||(n=BM(),En.lanes|=n,Lc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fs=!0),t.memoizedState=n)}function qU(t,e){var n=Mt;Mt=n!==0&&4>n?n:4,t(!0);var r=R1.transition;R1.transition={};try{t(!1),e()}finally{Mt=n,R1.transition=r}}function OP(){return ei().memoizedState}function KU(t,e,n){var r=ll(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LP(t))DP(e,n);else if(n=gP(t,e,n,r),n!==null){var s=ns();vi(n,t,r,s),jP(n,e,r)}}function GU(t,e,n){var r=ll(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LP(t))DP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,bi(a,o)){var l=e.interleaved;l===null?(s.next=s,bS(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=gP(t,e,s,r),n!==null&&(s=ns(),vi(n,t,r,s),jP(n,e,r))}}function LP(t){var e=t.alternate;return t===En||e!==null&&e===En}function DP(t,e){Uf=uy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lS(t,n)}}var dy={readContext:Js,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},QU={readContext:Js,useCallback:function(t,e){return Pi().memoizedState=[t,e===void 0?null:e],t},useContext:Js,useEffect:RN,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jg(4194308,4,CP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jg(4,2,t,e)},useMemo:function(t,e){var n=Pi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KU.bind(null,En,t),[r.memoizedState,t]},useRef:function(t){var e=Pi();return t={current:t},e.memoizedState=t},useState:kN,useDebugValue:RS,useDeferredValue:function(t){return Pi().memoizedState=t},useTransition:function(){var t=kN(!1),e=t[0];return t=qU.bind(null,t[1]),Pi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=En,s=Pi();if(dn){if(n===void 0)throw Error(me(407));n=n()}else{if(n=e(),ir===null)throw Error(me(349));Oc&30||_P(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,RN(EP.bind(null,r,i,t),[t]),r.flags|=2048,gp(9,bP.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Pi(),e=ir.identifierPrefix;if(dn){var n=Oo,r=Po;n=(r&~(1<<32-wi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YU={readContext:Js,useCallback:RP,useContext:Js,useEffect:kS,useImperativeHandle:kP,useInsertionEffect:AP,useLayoutEffect:NP,useMemo:MP,useReducer:M1,useRef:IP,useState:function(){return M1(mp)},useDebugValue:RS,useDeferredValue:function(t){var e=ei();return PP(e,Qn.memoizedState,t)},useTransition:function(){var t=M1(mp)[0],e=ei().memoizedState;return[t,e]},useMutableSource:vP,useSyncExternalStore:xP,useId:OP,unstable_isNewReconciler:!1},ZU={readContext:Js,useCallback:RP,useContext:Js,useEffect:kS,useImperativeHandle:kP,useInsertionEffect:AP,useLayoutEffect:NP,useMemo:MP,useReducer:P1,useRef:IP,useState:function(){return P1(mp)},useDebugValue:RS,useDeferredValue:function(t){var e=ei();return Qn===null?e.memoizedState=t:PP(e,Qn.memoizedState,t)},useTransition:function(){var t=P1(mp)[0],e=ei().memoizedState;return[t,e]},useMutableSource:vP,useSyncExternalStore:xP,useId:OP,unstable_isNewReconciler:!1};function li(t,e){if(t&&t.defaultProps){e=Sn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function O_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Sn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rw={isMounted:function(t){return(t=t._reactInternals)?Xc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ns(),s=ll(t),i=Bo(r,s);i.payload=e,n!=null&&(i.callback=n),e=ol(t,i,s),e!==null&&(vi(e,t,s,r),Zg(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ns(),s=ll(t),i=Bo(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ol(t,i,s),e!==null&&(vi(e,t,s,r),Zg(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ns(),r=ll(t),s=Bo(n,r);s.tag=2,e!=null&&(s.callback=e),e=ol(t,s,r),e!==null&&(vi(e,t,r,n),Zg(e,t,r))}};function MN(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!lp(n,r)||!lp(s,i):!0}function BP(t,e,n){var r=!1,s=vl,i=e.contextType;return typeof i=="object"&&i!==null?i=Js(i):(s=ys(e)?Mc:Hr.current,r=e.contextTypes,i=(r=r!=null)?Wd(t,s):vl),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function PN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rw.enqueueReplaceState(e,e.state,null)}function L_(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ES(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Js(i):(i=ys(e)?Mc:Hr.current,s.context=Wd(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(O_(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Rw.enqueueReplaceState(s,s.state,null),ly(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Kd(t,e){try{var n="",r=e;do n+=TF(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function O1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function D_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XU=typeof WeakMap=="function"?WeakMap:Map;function FP(t,e,n){n=Bo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fy||(fy=!0,q_=r),D_(t,e)},n}function UP(t,e,n){n=Bo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){D_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){D_(t,e),typeof r!="function"&&(al===null?al=new Set([this]):al.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ON(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XU;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=hV.bind(null,t,e,n),e.then(t,t))}function LN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function DN(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bo(-1,1),e.tag=2,ol(n,e,1))),n.lanes|=1),t)}var JU=sa.ReactCurrentOwner,fs=!1;function Zr(t,e,n,r){e.child=t===null?mP(e,null,n,r):Hd(e,t.child,n,r)}function jN(t,e,n,r,s){n=n.render;var i=e.ref;return pd(e,s),r=NS(t,e,n,r,i,s),n=CS(),t!==null&&!fs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$o(t,e,s)):(dn&&n&&gS(e),e.flags|=1,Zr(t,e,r,s),e.child)}function BN(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!FS(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,VP(t,e,i,r,s)):(t=r0(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:lp,n(o,r)&&t.ref===e.ref)return $o(t,e,s)}return e.flags|=1,t=cl(i,r),t.ref=e.ref,t.return=e,e.child=t}function VP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(lp(i,r)&&t.ref===e.ref)if(fs=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(fs=!0);else return e.lanes=t.lanes,$o(t,e,s)}return j_(t,e,n,r,s)}function zP(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(nd,Ss),Ss|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Yt(nd,Ss),Ss|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Yt(nd,Ss),Ss|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Yt(nd,Ss),Ss|=r;return Zr(t,e,s,n),e.child}function WP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function j_(t,e,n,r,s){var i=ys(n)?Mc:Hr.current;return i=Wd(e,i),pd(e,s),n=NS(t,e,n,r,i,s),r=CS(),t!==null&&!fs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$o(t,e,s)):(dn&&r&&gS(e),e.flags|=1,Zr(t,e,n,s),e.child)}function FN(t,e,n,r,s){if(ys(n)){var i=!0;ry(e)}else i=!1;if(pd(e,s),e.stateNode===null)e0(t,e),BP(e,n,r),L_(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Js(c):(c=ys(n)?Mc:Hr.current,c=Wd(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&PN(e,o,r,c),Ia=!1;var p=e.memoizedState;o.state=p,ly(e,r,o,s),l=e.memoizedState,a!==r||p!==l||gs.current||Ia?(typeof u=="function"&&(O_(e,n,u,r),l=e.memoizedState),(a=Ia||MN(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,yP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:li(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Js(l):(l=ys(n)?Mc:Hr.current,l=Wd(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&PN(e,o,r,l),Ia=!1,p=e.memoizedState,o.state=p,ly(e,r,o,s);var v=e.memoizedState;a!==f||p!==v||gs.current||Ia?(typeof m=="function"&&(O_(e,n,m,r),v=e.memoizedState),(c=Ia||MN(e,n,c,r,p,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return B_(t,e,n,r,i,s)}function B_(t,e,n,r,s,i){WP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&SN(e,n,!1),$o(t,e,i);r=e.stateNode,JU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hd(e,t.child,null,i),e.child=Hd(e,null,a,i)):Zr(t,e,a,i),e.memoizedState=r.state,s&&SN(e,n,!0),e.child}function $P(t){var e=t.stateNode;e.pendingContext?EN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&EN(t,e.context,!1),SS(t,e.containerInfo)}function UN(t,e,n,r,s){return $d(),wS(s),e.flags|=256,Zr(t,e,n,r),e.child}var F_={dehydrated:null,treeContext:null,retryLane:0};function U_(t){return{baseLanes:t,cachePool:null,transitions:null}}function HP(t,e,n){var r=e.pendingProps,s=_n.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Yt(_n,s&1),t===null)return M_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ow(o,r,0,null),t=Tc(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=U_(n),e.memoizedState=F_,t):MS(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return eV(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=cl(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=cl(a,i):(i=Tc(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?U_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=F_,r}return i=t.child,t=i.sibling,r=cl(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function MS(t,e){return e=Ow({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hg(t,e,n,r){return r!==null&&wS(r),Hd(e,t.child,null,n),t=MS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eV(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=O1(Error(me(422))),hg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ow({mode:"visible",children:r.children},s,0,null),i=Tc(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Hd(e,t.child,null,o),e.child.memoizedState=U_(o),e.memoizedState=F_,i);if(!(e.mode&1))return hg(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(me(419)),r=O1(i,r,void 0),hg(t,e,o,r)}if(a=(o&t.childLanes)!==0,fs||a){if(r=ir,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wo(t,s),vi(r,t,s,-1))}return BS(),r=O1(Error(me(421))),hg(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=fV.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Rs=il(s.nextSibling),Ps=e,dn=!0,fi=null,t!==null&&(Ks[Gs++]=Po,Ks[Gs++]=Oo,Ks[Gs++]=Pc,Po=t.id,Oo=t.overflow,Pc=e),e=MS(e,r.children),e.flags|=4096,e)}function VN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),P_(t.return,e,n)}function L1(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function qP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Zr(t,e,r.children,n),r=_n.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&VN(t,n,e);else if(t.tag===19)VN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Yt(_n,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&cy(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),L1(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&cy(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}L1(e,!0,n,null,i);break;case"together":L1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function e0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $o(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Lc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(me(153));if(e.child!==null){for(t=e.child,n=cl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tV(t,e,n){switch(e.tag){case 3:$P(e),$d();break;case 5:wP(e);break;case 1:ys(e.type)&&ry(e);break;case 4:SS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Yt(oy,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Yt(_n,_n.current&1),e.flags|=128,null):n&e.child.childLanes?HP(t,e,n):(Yt(_n,_n.current&1),t=$o(t,e,n),t!==null?t.sibling:null);Yt(_n,_n.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Yt(_n,_n.current),r)break;return null;case 22:case 23:return e.lanes=0,zP(t,e,n)}return $o(t,e,n)}var KP,V_,GP,QP;KP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};V_=function(){};GP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,oc(Wi.current);var i=null;switch(n){case"input":s=c_(t,s),r=c_(t,r),i=[];break;case"select":s=Sn({},s,{value:void 0}),r=Sn({},r,{value:void 0}),i=[];break;case"textarea":s=h_(t,s),r=h_(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ty)}p_(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(tp.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(tp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nn("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};QP=function(t,e,n,r){n!==r&&(e.flags|=4)};function ef(t,e){if(!dn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nV(t,e,n){var r=e.pendingProps;switch(yS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(e),null;case 1:return ys(e.type)&&ny(),Cr(e),null;case 3:return r=e.stateNode,qd(),sn(gs),sn(Hr),IS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ug(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fi!==null&&(Q_(fi),fi=null))),V_(t,e),Cr(e),null;case 5:TS(e);var s=oc(fp.current);if(n=e.type,t!==null&&e.stateNode!=null)GP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(me(166));return Cr(e),null}if(t=oc(Wi.current),ug(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Bi]=e,r[dp]=i,t=(e.mode&1)!==0,n){case"dialog":nn("cancel",r),nn("close",r);break;case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(s=0;s<yf.length;s++)nn(yf[s],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"details":nn("toggle",r);break;case"input":YA(r,i),nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},nn("invalid",r);break;case"textarea":XA(r,i),nn("invalid",r)}p_(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&cg(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&cg(r.textContent,a,t),s=["children",""+a]):tp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nn("scroll",r)}switch(n){case"input":tg(r),ZA(r,i,!0);break;case"textarea":tg(r),JA(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ty)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=EM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Bi]=e,t[dp]=r,KP(t,e,!1,!1),e.stateNode=t;e:{switch(o=m_(n,r),n){case"dialog":nn("cancel",t),nn("close",t),s=r;break;case"iframe":case"object":case"embed":nn("load",t),s=r;break;case"video":case"audio":for(s=0;s<yf.length;s++)nn(yf[s],t);s=r;break;case"source":nn("error",t),s=r;break;case"img":case"image":case"link":nn("error",t),nn("load",t),s=r;break;case"details":nn("toggle",t),s=r;break;case"input":YA(t,r),s=c_(t,r),nn("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Sn({},r,{value:void 0}),nn("invalid",t);break;case"textarea":XA(t,r),s=h_(t,r),nn("invalid",t);break;default:s=r}p_(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?IM(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&SM(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&np(t,l):typeof l=="number"&&np(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(tp.hasOwnProperty(i)?l!=null&&i==="onScroll"&&nn("scroll",t):l!=null&&nS(t,i,l,o))}switch(n){case"input":tg(t),ZA(t,r,!1);break;case"textarea":tg(t),JA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wl(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ud(t,!!r.multiple,i,!1):r.defaultValue!=null&&ud(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ty)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Cr(e),null;case 6:if(t&&e.stateNode!=null)QP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(me(166));if(n=oc(fp.current),oc(Wi.current),ug(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bi]=e,(i=r.nodeValue!==n)&&(t=Ps,t!==null))switch(t.tag){case 3:cg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cg(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bi]=e,e.stateNode=r}return Cr(e),null;case 13:if(sn(_n),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dn&&Rs!==null&&e.mode&1&&!(e.flags&128))fP(),$d(),e.flags|=98560,i=!1;else if(i=ug(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(me(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(me(317));i[Bi]=e}else $d(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cr(e),i=!1}else fi!==null&&(Q_(fi),fi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_n.current&1?Zn===0&&(Zn=3):BS())),e.updateQueue!==null&&(e.flags|=4),Cr(e),null);case 4:return qd(),V_(t,e),t===null&&cp(e.stateNode.containerInfo),Cr(e),null;case 10:return _S(e.type._context),Cr(e),null;case 17:return ys(e.type)&&ny(),Cr(e),null;case 19:if(sn(_n),i=e.memoizedState,i===null)return Cr(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ef(i,!1);else{if(Zn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cy(t),o!==null){for(e.flags|=128,ef(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Yt(_n,_n.current&1|2),e.child}t=t.sibling}i.tail!==null&&jn()>Gd&&(e.flags|=128,r=!0,ef(i,!1),e.lanes=4194304)}else{if(!r)if(t=cy(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ef(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!dn)return Cr(e),null}else 2*jn()-i.renderingStartTime>Gd&&n!==1073741824&&(e.flags|=128,r=!0,ef(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=jn(),e.sibling=null,n=_n.current,Yt(_n,r?n&1|2:n&1),e):(Cr(e),null);case 22:case 23:return jS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ss&1073741824&&(Cr(e),e.subtreeFlags&6&&(e.flags|=8192)):Cr(e),null;case 24:return null;case 25:return null}throw Error(me(156,e.tag))}function rV(t,e){switch(yS(e),e.tag){case 1:return ys(e.type)&&ny(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qd(),sn(gs),sn(Hr),IS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return TS(e),null;case 13:if(sn(_n),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(me(340));$d()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return sn(_n),null;case 4:return qd(),null;case 10:return _S(e.type._context),null;case 22:case 23:return jS(),null;case 24:return null;default:return null}}var fg=!1,Vr=!1,sV=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function td(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mn(t,e,r)}else n.current=null}function z_(t,e,n){try{n()}catch(r){Mn(t,e,r)}}var zN=!1;function iV(t,e){if(T_=X0,t=eP(),mS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(I_={focusedElem:t,selectionRange:n},X0=!1,Ae=e;Ae!==null;)if(e=Ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ae=t;else for(;Ae!==null;){e=Ae;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,w=v.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:li(e.type,g),w);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(S){Mn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ae=t;break}Ae=e.return}return v=zN,zN=!1,v}function Vf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&z_(e,n,i)}s=s.next}while(s!==r)}}function Mw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function W_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function YP(t){var e=t.alternate;e!==null&&(t.alternate=null,YP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bi],delete e[dp],delete e[C_],delete e[VU],delete e[zU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZP(t){return t.tag===5||t.tag===3||t.tag===4}function WN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ty));else if(r!==4&&(t=t.child,t!==null))for($_(t,e,n),t=t.sibling;t!==null;)$_(t,e,n),t=t.sibling}function H_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(H_(t,e,n),t=t.sibling;t!==null;)H_(t,e,n),t=t.sibling}var hr=null,hi=!1;function ca(t,e,n){for(n=n.child;n!==null;)XP(t,e,n),n=n.sibling}function XP(t,e,n){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(Sw,n)}catch{}switch(n.tag){case 5:Vr||td(n,e);case 6:var r=hr,s=hi;hr=null,ca(t,e,n),hr=r,hi=s,hr!==null&&(hi?(t=hr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hr.removeChild(n.stateNode));break;case 18:hr!==null&&(hi?(t=hr,n=n.stateNode,t.nodeType===8?N1(t.parentNode,n):t.nodeType===1&&N1(t,n),op(t)):N1(hr,n.stateNode));break;case 4:r=hr,s=hi,hr=n.stateNode.containerInfo,hi=!0,ca(t,e,n),hr=r,hi=s;break;case 0:case 11:case 14:case 15:if(!Vr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&z_(n,e,o),s=s.next}while(s!==r)}ca(t,e,n);break;case 1:if(!Vr&&(td(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Mn(n,e,a)}ca(t,e,n);break;case 21:ca(t,e,n);break;case 22:n.mode&1?(Vr=(r=Vr)||n.memoizedState!==null,ca(t,e,n),Vr=r):ca(t,e,n);break;default:ca(t,e,n)}}function $N(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sV),e.forEach(function(r){var s=pV.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function si(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:hr=a.stateNode,hi=!1;break e;case 3:hr=a.stateNode.containerInfo,hi=!0;break e;case 4:hr=a.stateNode.containerInfo,hi=!0;break e}a=a.return}if(hr===null)throw Error(me(160));XP(i,o,s),hr=null,hi=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Mn(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JP(e,t),e=e.sibling}function JP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(si(e,t),Ci(t),r&4){try{Vf(3,t,t.return),Mw(3,t)}catch(g){Mn(t,t.return,g)}try{Vf(5,t,t.return)}catch(g){Mn(t,t.return,g)}}break;case 1:si(e,t),Ci(t),r&512&&n!==null&&td(n,n.return);break;case 5:if(si(e,t),Ci(t),r&512&&n!==null&&td(n,n.return),t.flags&32){var s=t.stateNode;try{np(s,"")}catch(g){Mn(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&_M(s,i),m_(a,o);var c=m_(a,i);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?IM(s,f):u==="dangerouslySetInnerHTML"?SM(s,f):u==="children"?np(s,f):nS(s,u,f,c)}switch(a){case"input":u_(s,i);break;case"textarea":bM(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ud(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?ud(s,!!i.multiple,i.defaultValue,!0):ud(s,!!i.multiple,i.multiple?[]:"",!1))}s[dp]=i}catch(g){Mn(t,t.return,g)}}break;case 6:if(si(e,t),Ci(t),r&4){if(t.stateNode===null)throw Error(me(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Mn(t,t.return,g)}}break;case 3:if(si(e,t),Ci(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{op(e.containerInfo)}catch(g){Mn(t,t.return,g)}break;case 4:si(e,t),Ci(t);break;case 13:si(e,t),Ci(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(LS=jn())),r&4&&$N(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Vr=(c=Vr)||u,si(e,t),Vr=c):si(e,t),Ci(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ae=t,u=t.child;u!==null;){for(f=Ae=u;Ae!==null;){switch(p=Ae,m=p.child,p.tag){case 0:case 11:case 14:case 15:Vf(4,p,p.return);break;case 1:td(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Mn(r,n,g)}}break;case 5:td(p,p.return);break;case 22:if(p.memoizedState!==null){qN(f);continue}}m!==null?(m.return=p,Ae=m):qN(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=TM("display",o))}catch(g){Mn(t,t.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Mn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:si(e,t),Ci(t),r&4&&$N(t);break;case 21:break;default:si(e,t),Ci(t)}}function Ci(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZP(n)){var r=n;break e}n=n.return}throw Error(me(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(np(s,""),r.flags&=-33);var i=WN(t);H_(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=WN(t);$_(t,a,o);break;default:throw Error(me(161))}}catch(l){Mn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oV(t,e,n){Ae=t,e4(t)}function e4(t,e,n){for(var r=(t.mode&1)!==0;Ae!==null;){var s=Ae,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fg;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Vr;a=fg;var c=Vr;if(fg=o,(Vr=l)&&!c)for(Ae=s;Ae!==null;)o=Ae,l=o.child,o.tag===22&&o.memoizedState!==null?KN(s):l!==null?(l.return=o,Ae=l):KN(s);for(;i!==null;)Ae=i,e4(i),i=i.sibling;Ae=s,fg=a,Vr=c}HN(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ae=i):HN(t)}}function HN(t){for(;Ae!==null;){var e=Ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vr||Mw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:li(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&CN(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}CN(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&op(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}Vr||e.flags&512&&W_(e)}catch(p){Mn(e,e.return,p)}}if(e===t){Ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function qN(t){for(;Ae!==null;){var e=Ae;if(e===t){Ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function KN(t){for(;Ae!==null;){var e=Ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mw(4,e)}catch(l){Mn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Mn(e,s,l)}}var i=e.return;try{W_(e)}catch(l){Mn(e,i,l)}break;case 5:var o=e.return;try{W_(e)}catch(l){Mn(e,o,l)}}}catch(l){Mn(e,e.return,l)}if(e===t){Ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ae=a;break}Ae=e.return}}var aV=Math.ceil,hy=sa.ReactCurrentDispatcher,PS=sa.ReactCurrentOwner,Ys=sa.ReactCurrentBatchConfig,gt=0,ir=null,$n=null,xr=0,Ss=0,nd=Rl(0),Zn=0,yp=null,Lc=0,Pw=0,OS=0,zf=null,ds=null,LS=0,Gd=1/0,vo=null,fy=!1,q_=null,al=null,pg=!1,Qa=null,py=0,Wf=0,K_=null,t0=-1,n0=0;function ns(){return gt&6?jn():t0!==-1?t0:t0=jn()}function ll(t){return t.mode&1?gt&2&&xr!==0?xr&-xr:$U.transition!==null?(n0===0&&(n0=BM()),n0):(t=Mt,t!==0||(t=window.event,t=t===void 0?16:HM(t.type)),t):1}function vi(t,e,n,r){if(50<Wf)throw Wf=0,K_=null,Error(me(185));Gp(t,n,r),(!(gt&2)||t!==ir)&&(t===ir&&(!(gt&2)&&(Pw|=n),Zn===4&&Ra(t,xr)),ws(t,r),n===1&&gt===0&&!(e.mode&1)&&(Gd=jn()+500,Cw&&Ml()))}function ws(t,e){var n=t.callbackNode;$F(t,e);var r=Z0(t,t===ir?xr:0);if(r===0)n!==null&&nN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nN(n),e===1)t.tag===0?WU(GN.bind(null,t)):uP(GN.bind(null,t)),FU(function(){!(gt&6)&&Ml()}),n=null;else{switch(FM(r)){case 1:n=aS;break;case 4:n=DM;break;case 16:n=Y0;break;case 536870912:n=jM;break;default:n=Y0}n=l4(n,t4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function t4(t,e){if(t0=-1,n0=0,gt&6)throw Error(me(327));var n=t.callbackNode;if(md()&&t.callbackNode!==n)return null;var r=Z0(t,t===ir?xr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=my(t,r);else{e=r;var s=gt;gt|=2;var i=r4();(ir!==t||xr!==e)&&(vo=null,Gd=jn()+500,Sc(t,e));do try{uV();break}catch(a){n4(t,a)}while(!0);xS(),hy.current=i,gt=s,$n!==null?e=0:(ir=null,xr=0,e=Zn)}if(e!==0){if(e===2&&(s=x_(t),s!==0&&(r=s,e=G_(t,s))),e===1)throw n=yp,Sc(t,0),Ra(t,r),ws(t,jn()),n;if(e===6)Ra(t,r);else{if(s=t.current.alternate,!(r&30)&&!lV(s)&&(e=my(t,r),e===2&&(i=x_(t),i!==0&&(r=i,e=G_(t,i))),e===1))throw n=yp,Sc(t,0),Ra(t,r),ws(t,jn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(me(345));case 2:Gl(t,ds,vo);break;case 3:if(Ra(t,r),(r&130023424)===r&&(e=LS+500-jn(),10<e)){if(Z0(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ns(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=N_(Gl.bind(null,t,ds,vo),e);break}Gl(t,ds,vo);break;case 4:if(Ra(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-wi(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aV(r/1960))-r,10<r){t.timeoutHandle=N_(Gl.bind(null,t,ds,vo),r);break}Gl(t,ds,vo);break;case 5:Gl(t,ds,vo);break;default:throw Error(me(329))}}}return ws(t,jn()),t.callbackNode===n?t4.bind(null,t):null}function G_(t,e){var n=zf;return t.current.memoizedState.isDehydrated&&(Sc(t,e).flags|=256),t=my(t,e),t!==2&&(e=ds,ds=n,e!==null&&Q_(e)),t}function Q_(t){ds===null?ds=t:ds.push.apply(ds,t)}function lV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bi(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ra(t,e){for(e&=~OS,e&=~Pw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wi(e),r=1<<n;t[n]=-1,e&=~r}}function GN(t){if(gt&6)throw Error(me(327));md();var e=Z0(t,0);if(!(e&1))return ws(t,jn()),null;var n=my(t,e);if(t.tag!==0&&n===2){var r=x_(t);r!==0&&(e=r,n=G_(t,r))}if(n===1)throw n=yp,Sc(t,0),Ra(t,e),ws(t,jn()),n;if(n===6)throw Error(me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gl(t,ds,vo),ws(t,jn()),null}function DS(t,e){var n=gt;gt|=1;try{return t(e)}finally{gt=n,gt===0&&(Gd=jn()+500,Cw&&Ml())}}function Dc(t){Qa!==null&&Qa.tag===0&&!(gt&6)&&md();var e=gt;gt|=1;var n=Ys.transition,r=Mt;try{if(Ys.transition=null,Mt=1,t)return t()}finally{Mt=r,Ys.transition=n,gt=e,!(gt&6)&&Ml()}}function jS(){Ss=nd.current,sn(nd)}function Sc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BU(n)),$n!==null)for(n=$n.return;n!==null;){var r=n;switch(yS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ny();break;case 3:qd(),sn(gs),sn(Hr),IS();break;case 5:TS(r);break;case 4:qd();break;case 13:sn(_n);break;case 19:sn(_n);break;case 10:_S(r.type._context);break;case 22:case 23:jS()}n=n.return}if(ir=t,$n=t=cl(t.current,null),xr=Ss=e,Zn=0,yp=null,OS=Pw=Lc=0,ds=zf=null,ic!==null){for(e=0;e<ic.length;e++)if(n=ic[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ic=null}return t}function n4(t,e){do{var n=$n;try{if(xS(),Xg.current=dy,uy){for(var r=En.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}uy=!1}if(Oc=0,rr=Qn=En=null,Uf=!1,pp=0,PS.current=null,n===null||n.return===null){Zn=1,yp=e,$n=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=xr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=LN(o);if(m!==null){m.flags&=-257,DN(m,o,a,i,e),m.mode&1&&ON(i,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){ON(i,c,e),BS();break e}l=Error(me(426))}}else if(dn&&a.mode&1){var w=LN(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),DN(w,o,a,i,e),wS(Kd(l,a));break e}}i=l=Kd(l,a),Zn!==4&&(Zn=2),zf===null?zf=[i]:zf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=FP(i,l,e);NN(i,_);break e;case 1:a=l;var b=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(al===null||!al.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=UP(i,a,e);NN(i,S);break e}}i=i.return}while(i!==null)}i4(n)}catch(D){e=D,$n===n&&n!==null&&($n=n=n.return);continue}break}while(!0)}function r4(){var t=hy.current;return hy.current=dy,t===null?dy:t}function BS(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),ir===null||!(Lc&268435455)&&!(Pw&268435455)||Ra(ir,xr)}function my(t,e){var n=gt;gt|=2;var r=r4();(ir!==t||xr!==e)&&(vo=null,Sc(t,e));do try{cV();break}catch(s){n4(t,s)}while(!0);if(xS(),gt=n,hy.current=r,$n!==null)throw Error(me(261));return ir=null,xr=0,Zn}function cV(){for(;$n!==null;)s4($n)}function uV(){for(;$n!==null&&!LF();)s4($n)}function s4(t){var e=a4(t.alternate,t,Ss);t.memoizedProps=t.pendingProps,e===null?i4(t):$n=e,PS.current=null}function i4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rV(n,e),n!==null){n.flags&=32767,$n=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zn=6,$n=null;return}}else if(n=nV(n,e,Ss),n!==null){$n=n;return}if(e=e.sibling,e!==null){$n=e;return}$n=e=t}while(e!==null);Zn===0&&(Zn=5)}function Gl(t,e,n){var r=Mt,s=Ys.transition;try{Ys.transition=null,Mt=1,dV(t,e,n,r)}finally{Ys.transition=s,Mt=r}return null}function dV(t,e,n,r){do md();while(Qa!==null);if(gt&6)throw Error(me(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(me(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(HF(t,i),t===ir&&($n=ir=null,xr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pg||(pg=!0,l4(Y0,function(){return md(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ys.transition,Ys.transition=null;var o=Mt;Mt=1;var a=gt;gt|=4,PS.current=null,iV(t,n),JP(n,t),RU(I_),X0=!!T_,I_=T_=null,t.current=n,oV(n),DF(),gt=a,Mt=o,Ys.transition=i}else t.current=n;if(pg&&(pg=!1,Qa=t,py=s),i=t.pendingLanes,i===0&&(al=null),FF(n.stateNode),ws(t,jn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(fy)throw fy=!1,t=q_,q_=null,t;return py&1&&t.tag!==0&&md(),i=t.pendingLanes,i&1?t===K_?Wf++:(Wf=0,K_=t):Wf=0,Ml(),null}function md(){if(Qa!==null){var t=FM(py),e=Ys.transition,n=Mt;try{if(Ys.transition=null,Mt=16>t?16:t,Qa===null)var r=!1;else{if(t=Qa,Qa=null,py=0,gt&6)throw Error(me(331));var s=gt;for(gt|=4,Ae=t.current;Ae!==null;){var i=Ae,o=i.child;if(Ae.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ae=c;Ae!==null;){var u=Ae;switch(u.tag){case 0:case 11:case 15:Vf(8,u,i)}var f=u.child;if(f!==null)f.return=u,Ae=f;else for(;Ae!==null;){u=Ae;var p=u.sibling,m=u.return;if(YP(u),u===c){Ae=null;break}if(p!==null){p.return=m,Ae=p;break}Ae=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ae=o;else e:for(;Ae!==null;){if(i=Ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vf(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Ae=_;break e}Ae=i.return}}var b=t.current;for(Ae=b;Ae!==null;){o=Ae;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Ae=x;else e:for(o=b;Ae!==null;){if(a=Ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mw(9,a)}}catch(D){Mn(a,a.return,D)}if(a===o){Ae=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Ae=S;break e}Ae=a.return}}if(gt=s,Ml(),zi&&typeof zi.onPostCommitFiberRoot=="function")try{zi.onPostCommitFiberRoot(Sw,t)}catch{}r=!0}return r}finally{Mt=n,Ys.transition=e}}return!1}function QN(t,e,n){e=Kd(n,e),e=FP(t,e,1),t=ol(t,e,1),e=ns(),t!==null&&(Gp(t,1,e),ws(t,e))}function Mn(t,e,n){if(t.tag===3)QN(t,t,n);else for(;e!==null;){if(e.tag===3){QN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(al===null||!al.has(r))){t=Kd(n,t),t=UP(e,t,1),e=ol(e,t,1),t=ns(),e!==null&&(Gp(e,1,t),ws(e,t));break}}e=e.return}}function hV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ns(),t.pingedLanes|=t.suspendedLanes&n,ir===t&&(xr&n)===n&&(Zn===4||Zn===3&&(xr&130023424)===xr&&500>jn()-LS?Sc(t,0):OS|=n),ws(t,e)}function o4(t,e){e===0&&(t.mode&1?(e=sg,sg<<=1,!(sg&130023424)&&(sg=4194304)):e=1);var n=ns();t=Wo(t,e),t!==null&&(Gp(t,e,n),ws(t,n))}function fV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),o4(t,n)}function pV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(me(314))}r!==null&&r.delete(e),o4(t,n)}var a4;a4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gs.current)fs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fs=!1,tV(t,e,n);fs=!!(t.flags&131072)}else fs=!1,dn&&e.flags&1048576&&dP(e,iy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;e0(t,e),t=e.pendingProps;var s=Wd(e,Hr.current);pd(e,n),s=NS(null,e,r,t,s,n);var i=CS();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ys(r)?(i=!0,ry(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ES(e),s.updater=Rw,e.stateNode=s,s._reactInternals=e,L_(e,r,t,n),e=B_(null,e,r,!0,i,n)):(e.tag=0,dn&&i&&gS(e),Zr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(e0(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=gV(r),t=li(r,t),s){case 0:e=j_(null,e,r,t,n);break e;case 1:e=FN(null,e,r,t,n);break e;case 11:e=jN(null,e,r,t,n);break e;case 14:e=BN(null,e,r,li(r.type,t),n);break e}throw Error(me(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:li(r,s),j_(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:li(r,s),FN(t,e,r,s,n);case 3:e:{if($P(e),t===null)throw Error(me(387));r=e.pendingProps,i=e.memoizedState,s=i.element,yP(t,e),ly(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Kd(Error(me(423)),e),e=UN(t,e,r,n,s);break e}else if(r!==s){s=Kd(Error(me(424)),e),e=UN(t,e,r,n,s);break e}else for(Rs=il(e.stateNode.containerInfo.firstChild),Ps=e,dn=!0,fi=null,n=mP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($d(),r===s){e=$o(t,e,n);break e}Zr(t,e,r,n)}e=e.child}return e;case 5:return wP(e),t===null&&M_(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,A_(r,s)?o=null:i!==null&&A_(r,i)&&(e.flags|=32),WP(t,e),Zr(t,e,o,n),e.child;case 6:return t===null&&M_(e),null;case 13:return HP(t,e,n);case 4:return SS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hd(e,null,r,n):Zr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:li(r,s),jN(t,e,r,s,n);case 7:return Zr(t,e,e.pendingProps,n),e.child;case 8:return Zr(t,e,e.pendingProps.children,n),e.child;case 12:return Zr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Yt(oy,r._currentValue),r._currentValue=o,i!==null)if(bi(i.value,o)){if(i.children===s.children&&!gs.current){e=$o(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Bo(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),P_(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(me(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),P_(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Zr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,pd(e,n),s=Js(s),r=r(s),e.flags|=1,Zr(t,e,r,n),e.child;case 14:return r=e.type,s=li(r,e.pendingProps),s=li(r.type,s),BN(t,e,r,s,n);case 15:return VP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:li(r,s),e0(t,e),e.tag=1,ys(r)?(t=!0,ry(e)):t=!1,pd(e,n),BP(e,r,s),L_(e,r,s,n),B_(null,e,r,!0,t,n);case 19:return qP(t,e,n);case 22:return zP(t,e,n)}throw Error(me(156,e.tag))};function l4(t,e){return LM(t,e)}function mV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qs(t,e,n,r){return new mV(t,e,n,r)}function FS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gV(t){if(typeof t=="function")return FS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sS)return 11;if(t===iS)return 14}return 2}function cl(t,e){var n=t.alternate;return n===null?(n=Qs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function r0(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")FS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qu:return Tc(n.children,s,i,e);case rS:o=8,s|=8;break;case i_:return t=Qs(12,n,e,s|2),t.elementType=i_,t.lanes=i,t;case o_:return t=Qs(13,n,e,s),t.elementType=o_,t.lanes=i,t;case a_:return t=Qs(19,n,e,s),t.elementType=a_,t.lanes=i,t;case wM:return Ow(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gM:o=10;break e;case yM:o=9;break e;case sS:o=11;break e;case iS:o=14;break e;case Ta:o=16,r=null;break e}throw Error(me(130,t==null?t:typeof t,""))}return e=Qs(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Tc(t,e,n,r){return t=Qs(7,t,r,e),t.lanes=n,t}function Ow(t,e,n,r){return t=Qs(22,t,r,e),t.elementType=wM,t.lanes=n,t.stateNode={isHidden:!1},t}function D1(t,e,n){return t=Qs(6,t,null,e),t.lanes=n,t}function j1(t,e,n){return e=Qs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yV(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=y1(0),this.expirationTimes=y1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=y1(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function US(t,e,n,r,s,i,o,a,l){return t=new yV(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Qs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ES(i),t}function wV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function c4(t){if(!t)return vl;t=t._reactInternals;e:{if(Xc(t)!==t||t.tag!==1)throw Error(me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ys(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(me(171))}if(t.tag===1){var n=t.type;if(ys(n))return cP(t,n,e)}return e}function u4(t,e,n,r,s,i,o,a,l){return t=US(n,r,!0,t,s,i,o,a,l),t.context=c4(null),n=t.current,r=ns(),s=ll(n),i=Bo(r,s),i.callback=e??null,ol(n,i,s),t.current.lanes=s,Gp(t,s,r),ws(t,r),t}function Lw(t,e,n,r){var s=e.current,i=ns(),o=ll(s);return n=c4(n),e.context===null?e.context=n:e.pendingContext=n,e=Bo(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ol(s,e,o),t!==null&&(vi(t,s,o,i),Zg(t,s,o)),o}function gy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function YN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function VS(t,e){YN(t,e),(t=t.alternate)&&YN(t,e)}function vV(){return null}var d4=typeof reportError=="function"?reportError:function(t){console.error(t)};function zS(t){this._internalRoot=t}Dw.prototype.render=zS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(me(409));Lw(t,e,null,null)};Dw.prototype.unmount=zS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dc(function(){Lw(null,t,null,null)}),e[zo]=null}};function Dw(t){this._internalRoot=t}Dw.prototype.unstable_scheduleHydration=function(t){if(t){var e=zM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ka.length&&e!==0&&e<ka[n].priority;n++);ka.splice(n,0,t),n===0&&$M(t)}};function WS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ZN(){}function xV(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=gy(o);i.call(c)}}var o=u4(e,r,t,0,null,!1,!1,"",ZN);return t._reactRootContainer=o,t[zo]=o.current,cp(t.nodeType===8?t.parentNode:t),Dc(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=gy(l);a.call(c)}}var l=US(t,0,!1,null,null,!1,!1,"",ZN);return t._reactRootContainer=l,t[zo]=l.current,cp(t.nodeType===8?t.parentNode:t),Dc(function(){Lw(e,l,n,r)}),l}function Bw(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=gy(o);a.call(l)}}Lw(e,o,t,s)}else o=xV(n,e,t,s,r);return gy(o)}UM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gf(e.pendingLanes);n!==0&&(lS(e,n|1),ws(e,jn()),!(gt&6)&&(Gd=jn()+500,Ml()))}break;case 13:Dc(function(){var r=Wo(t,1);if(r!==null){var s=ns();vi(r,t,1,s)}}),VS(t,1)}};cS=function(t){if(t.tag===13){var e=Wo(t,134217728);if(e!==null){var n=ns();vi(e,t,134217728,n)}VS(t,134217728)}};VM=function(t){if(t.tag===13){var e=ll(t),n=Wo(t,e);if(n!==null){var r=ns();vi(n,t,e,r)}VS(t,e)}};zM=function(){return Mt};WM=function(t,e){var n=Mt;try{return Mt=t,e()}finally{Mt=n}};y_=function(t,e,n){switch(e){case"input":if(u_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Nw(r);if(!s)throw Error(me(90));xM(r),u_(r,s)}}}break;case"textarea":bM(t,n);break;case"select":e=n.value,e!=null&&ud(t,!!n.multiple,e,!1)}};CM=DS;kM=Dc;var _V={usingClientEntryPoint:!1,Events:[Yp,Yu,Nw,AM,NM,DS]},tf={findFiberByHostInstance:sc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bV={bundleType:tf.bundleType,version:tf.version,rendererPackageName:tf.rendererPackageName,rendererConfig:tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PM(t),t===null?null:t.stateNode},findFiberByHostInstance:tf.findFiberByHostInstance||vV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mg.isDisabled&&mg.supportsFiber)try{Sw=mg.inject(bV),zi=mg}catch{}}js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_V;js.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!WS(e))throw Error(me(200));return wV(t,e,null,n)};js.createRoot=function(t,e){if(!WS(t))throw Error(me(299));var n=!1,r="",s=d4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=US(t,1,!1,null,null,n,!1,r,s),t[zo]=e.current,cp(t.nodeType===8?t.parentNode:t),new zS(e)};js.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(me(188)):(t=Object.keys(t).join(","),Error(me(268,t)));return t=PM(e),t=t===null?null:t.stateNode,t};js.flushSync=function(t){return Dc(t)};js.hydrate=function(t,e,n){if(!jw(e))throw Error(me(200));return Bw(null,t,e,!0,n)};js.hydrateRoot=function(t,e,n){if(!WS(t))throw Error(me(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=d4;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=u4(e,null,t,1,n??null,s,!1,i,o),t[zo]=e.current,cp(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Dw(e)};js.render=function(t,e,n){if(!jw(e))throw Error(me(200));return Bw(null,t,e,!1,n)};js.unmountComponentAtNode=function(t){if(!jw(t))throw Error(me(40));return t._reactRootContainer?(Dc(function(){Bw(null,null,t,!1,function(){t._reactRootContainer=null,t[zo]=null})}),!0):!1};js.unstable_batchedUpdates=DS;js.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jw(n))throw Error(me(200));if(t==null||t._reactInternals===void 0)throw Error(me(38));return Bw(t,e,n,!1,r)};js.version="18.3.1-next-f1338f8080-20240426";function h4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h4)}catch(t){console.error(t)}}h4(),hM.exports=js;var Pl=hM.exports;const EV=ra(Pl);var f4,XN=Pl;f4=XN.createRoot,XN.hydrateRoot;function SV(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var p4={exports:{}},m4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=k;function TV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var IV=typeof Object.is=="function"?Object.is:TV,AV=Qd.useState,NV=Qd.useEffect,CV=Qd.useLayoutEffect,kV=Qd.useDebugValue;function RV(t,e){var n=e(),r=AV({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return CV(function(){s.value=n,s.getSnapshot=e,B1(s)&&i({inst:s})},[t,n,e]),NV(function(){return B1(s)&&i({inst:s}),t(function(){B1(s)&&i({inst:s})})},[t]),kV(n),n}function B1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!IV(t,n)}catch{return!0}}function MV(t,e){return e()}var PV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?MV:RV;m4.useSyncExternalStore=Qd.useSyncExternalStore!==void 0?Qd.useSyncExternalStore:PV;p4.exports=m4;var OV=p4.exports;const LV=XE.useInsertionEffect,DV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jV=DV?k.useLayoutEffect:k.useEffect,BV=LV||jV,g4=t=>{const e=k.useRef([t,(...n)=>e[0](...n)]).current;return BV(()=>{e[0]=t}),e[1]},FV="popstate",$S="pushState",HS="replaceState",UV="hashchange",JN=[FV,$S,HS,UV],VV=t=>{for(const e of JN)addEventListener(e,t);return()=>{for(const e of JN)removeEventListener(e,t)}},y4=(t,e)=>OV.useSyncExternalStore(VV,t,e),zV=()=>location.search,WV=({ssrSearch:t=""}={})=>y4(zV,()=>t),eC=()=>location.pathname,$V=({ssrPath:t}={})=>y4(eC,t?()=>t:eC),HV=(t,{replace:e=!1,state:n=null}={})=>history[e?HS:$S](n,"",t),qV=(t={})=>[$V(t),HV],tC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[tC]>"u"){for(const t of[$S,HS]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,tC,{value:!0})}const KV=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",w4=(t="")=>t==="/"?"":t,GV=(t,e)=>t[0]==="~"?t.slice(1):w4(e)+t,QV=(t="",e)=>KV(nC(w4(t)),nC(e)),nC=t=>{try{return decodeURI(t)}catch{return t}},v4={hook:qV,searchHook:WV,parser:SV,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},x4=k.createContext(v4),Xp=()=>k.useContext(x4),_4={},b4=k.createContext(_4),E4=()=>k.useContext(b4),Fw=t=>{const[e,n]=t.hook(t);return[QV(t.base,e),g4((r,s)=>n(GV(r,t.base),s))]},Jp=()=>Fw(Xp()),S4=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((f,p)=>[f,l[p]])):o.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[a]:[]]:[!1,null]},YV=({children:t,...e})=>{var u,f;const n=Xp(),r=e.hook?v4:n;let s=r;const[i,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=k.useRef({}),l=a.current,c=l;for(let p in r){const m=p==="base"?r[p]+(e[p]||""):e[p]||r[p];l===c&&m!==c[p]&&(a.current=c={...c}),c[p]=m,(m!==r[p]||m!==s[p])&&(s=c)}return k.createElement(x4.Provider,{value:s,children:t})},rC=({children:t,component:e},n)=>e?k.createElement(e,{params:n}):typeof t=="function"?t(n):t,ZV=t=>{let e=k.useRef(_4);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},Eu=({path:t,nest:e,match:n,...r})=>{const s=Xp(),[i]=Fw(s),[o,a,l]=n??S4(s.parser,t,i,e),c=ZV({...E4(),...a});if(!o)return null;const u=l?k.createElement(YV,{base:l},rC(r,c)):rC(r,c);return k.createElement(b4.Provider,{value:c,children:u})};k.forwardRef((t,e)=>{const n=Xp(),[r,s]=Fw(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:u,replace:f,state:p,...m}=t,v=g4(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(a==null||a(w),w.defaultPrevented||(w.preventDefault(),s(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&k.isValidElement(c)?k.cloneElement(c,{onClick:v,href:g}):k.createElement("a",{...m,onClick:v,href:g,className:u!=null&&u.call?u(r===o):u,children:c,ref:e})});const T4=t=>Array.isArray(t)?t.flatMap(e=>T4(e&&e.type===k.Fragment?e.props.children:e)):[t],XV=({children:t,location:e})=>{const n=Xp(),[r]=Fw(n);for(const s of T4(t)){let i=0;if(k.isValidElement(s)&&(i=S4(n.parser,s.props.path,e||r,s.props.nest))[0])return k.cloneElement(s,{match:i})}return null};var xh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jc=typeof window>"u"||"Deno"in globalThis;function Xr(){}function JV(t,e){return typeof t=="function"?t(e):t}function Y_(t){return typeof t=="number"&&t>=0&&t!==1/0}function I4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ul(t,e){return typeof t=="function"?t(e):t}function pi(t,e){return typeof t=="function"?t(e):t}function sC(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==qS(o,e.options))return!1}else if(!wp(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function iC(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Bc(e.options.mutationKey)!==Bc(i))return!1}else if(!wp(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function qS(t,e){return((e==null?void 0:e.queryKeyHashFn)||Bc)(t)}function Bc(t){return JSON.stringify(t,(e,n)=>Z_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function wp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>wp(t[n],e[n])):!1}function A4(t,e){if(t===e)return t;const n=oC(t)&&oC(e);if(n||Z_(t)&&Z_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=A4(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function yy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function oC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Z_(t){if(!aC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!aC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function aC(t){return Object.prototype.toString.call(t)==="[object Object]"}function e9(t){return new Promise(e=>{setTimeout(e,t)})}function X_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?A4(t,e):e}function t9(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function n9(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var KS=Symbol();function N4(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===KS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function C4(t,e){return typeof t=="function"?t(...e):!!t}var gc,Ba,Cd,$R,r9=($R=class extends xh{constructor(){super();De(this,gc);De(this,Ba);De(this,Cd);Ie(this,Cd,e=>{if(!jc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Y(this,Ba)||this.setEventListener(Y(this,Cd))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Ba))==null||e.call(this),Ie(this,Ba,void 0))}setEventListener(e){var n;Ie(this,Cd,e),(n=Y(this,Ba))==null||n.call(this),Ie(this,Ba,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,gc)!==e&&(Ie(this,gc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Y(this,gc)=="boolean"?Y(this,gc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},gc=new WeakMap,Ba=new WeakMap,Cd=new WeakMap,$R),GS=new r9,kd,Fa,Rd,HR,s9=(HR=class extends xh{constructor(){super();De(this,kd,!0);De(this,Fa);De(this,Rd);Ie(this,Rd,e=>{if(!jc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,Fa)||this.setEventListener(Y(this,Rd))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Fa))==null||e.call(this),Ie(this,Fa,void 0))}setEventListener(e){var n;Ie(this,Rd,e),(n=Y(this,Fa))==null||n.call(this),Ie(this,Fa,e(this.setOnline.bind(this)))}setOnline(e){Y(this,kd)!==e&&(Ie(this,kd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,kd)}},kd=new WeakMap,Fa=new WeakMap,Rd=new WeakMap,HR),wy=new s9;function J_(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function i9(t){return Math.min(1e3*2**t,3e4)}function k4(t){return(t??"online")==="online"?wy.isOnline():!0}var R4=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function F1(t){return t instanceof R4}function M4(t){let e=!1,n=0,r=!1,s;const i=J_(),o=g=>{var w;r||(p(new R4(g)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>GS.isFocused()&&(t.networkMode==="always"||wy.isOnline())&&t.canRun(),u=()=>k4(t.networkMode)&&t.canRun(),f=g=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,g),s==null||s(),i.resolve(g))},p=g=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var w;s=_=>{(r||c())&&g(_)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(r)return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(_){g=Promise.reject(_)}Promise.resolve(g).then(f).catch(_=>{var F;if(r)return;const b=t.retry??(jc?0:3),x=t.retryDelay??i9,S=typeof x=="function"?x(n,_):x,D=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,_);if(e||!D){p(_);return}n++,(F=t.onFail)==null||F.call(t,n,_),e9(S).then(()=>c()?void 0:m()).then(()=>{e?p(_):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?v():m().then(v),i)}}var o9=t=>setTimeout(t,0);function a9(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=o9;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Yn=a9(),yc,qR,P4=(qR=class{constructor(){De(this,yc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Y_(this.gcTime)&&Ie(this,yc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jc?1/0:5*60*1e3))}clearGcTimeout(){Y(this,yc)&&(clearTimeout(Y(this,yc)),Ie(this,yc,void 0))}},yc=new WeakMap,qR),Md,Pd,Hs,wc,Fr,Wp,vc,ui,yo,KR,l9=(KR=class extends P4{constructor(n){super();De(this,ui);De(this,Md);De(this,Pd);De(this,Hs);De(this,wc);De(this,Fr);De(this,Wp);De(this,vc);Ie(this,vc,!1),Ie(this,Wp,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ie(this,wc,n.client),Ie(this,Hs,Y(this,wc).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ie(this,Md,c9(this.options)),this.state=n.state??Y(this,Md),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Y(this,Fr))==null?void 0:n.promise}setOptions(n){this.options={...Y(this,Wp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Hs).remove(this)}setData(n,r){const s=X_(this.state.data,n,this.options);return st(this,ui,yo).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){st(this,ui,yo).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=Y(this,Fr))==null?void 0:s.promise;return(i=Y(this,Fr))==null||i.cancel(n),r?r.then(Xr).catch(Xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Md))}isActive(){return this.observers.some(n=>pi(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===KS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ul(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!I4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Y(this,Fr))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Y(this,Fr))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Y(this,Hs).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Y(this,Fr)&&(Y(this,vc)?Y(this,Fr).cancel({revert:!0}):Y(this,Fr).cancelRetry()),this.scheduleGc()),Y(this,Hs).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,ui,yo).call(this,{type:"invalidate"})}fetch(n,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Fr))return Y(this,Fr).continueRetry(),Y(this,Fr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Ie(this,vc,!0),s.signal)})},o=()=>{const p=N4(this.options,r),m={client:Y(this,wc),queryKey:this.queryKey,meta:this.meta};return i(m),Ie(this,vc,!1),this.options.persister?this.options.persister(p,m,this):p(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,wc),state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Ie(this,Pd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&st(this,ui,yo).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var m,v,g,w;F1(p)&&p.silent||st(this,ui,yo).call(this,{type:"error",error:p}),F1(p)||((v=(m=Y(this,Hs).config).onError)==null||v.call(m,p,this),(w=(g=Y(this,Hs).config).onSettled)==null||w.call(g,this.state.data,p,this)),this.scheduleGc()};return Ie(this,Fr,M4({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var m,v,g,w;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(_){l(_);return}(v=(m=Y(this,Hs).config).onSuccess)==null||v.call(m,p,this),(w=(g=Y(this,Hs).config).onSettled)==null||w.call(g,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{st(this,ui,yo).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{st(this,ui,yo).call(this,{type:"pause"})},onContinue:()=>{st(this,ui,yo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Y(this,Fr).start()}},Md=new WeakMap,Pd=new WeakMap,Hs=new WeakMap,wc=new WeakMap,Fr=new WeakMap,Wp=new WeakMap,vc=new WeakMap,ui=new WeakSet,yo=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...O4(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return F1(i)&&i.revert&&Y(this,Pd)?{...Y(this,Pd),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Yn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Y(this,Hs).notify({query:this,type:"updated",action:n})})},KR);function O4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:k4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function c9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Oi,GR,u9=(GR=class extends xh{constructor(e={}){super();De(this,Oi);this.config=e,Ie(this,Oi,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??qS(s,n);let o=this.get(i);return o||(o=new l9({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){Y(this,Oi).has(e.queryHash)||(Y(this,Oi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Y(this,Oi).get(e.queryHash);n&&(e.destroy(),n===e&&Y(this,Oi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Oi).get(e)}getAll(){return[...Y(this,Oi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>sC(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>sC(e,r)):n}notify(e){Yn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Yn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Oi=new WeakMap,GR),Li,Qr,xc,Di,_a,QR,d9=(QR=class extends P4{constructor(n){super();De(this,Di);De(this,Li);De(this,Qr);De(this,xc);this.mutationId=n.mutationId,Ie(this,Qr,n.mutationCache),Ie(this,Li,[]),this.state=n.state||L4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Y(this,Li).includes(n)||(Y(this,Li).push(n),this.clearGcTimeout(),Y(this,Qr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ie(this,Li,Y(this,Li).filter(r=>r!==n)),this.scheduleGc(),Y(this,Qr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Y(this,Li).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Qr).remove(this))}continue(){var n;return((n=Y(this,xc))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,u,f,p,m,v,g,w,_,b,x,S,D,F,M,R,U;const r=()=>{st(this,Di,_a).call(this,{type:"continue"})};Ie(this,xc,M4({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(W,$)=>{st(this,Di,_a).call(this,{type:"failed",failureCount:W,error:$})},onPause:()=>{st(this,Di,_a).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Qr).canRun(this)}));const s=this.state.status==="pending",i=!Y(this,xc).canStart();try{if(s)r();else{st(this,Di,_a).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=Y(this,Qr).config).onMutate)==null?void 0:a.call(o,n,this));const $=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));$!==this.state.context&&st(this,Di,_a).call(this,{type:"pending",context:$,variables:n,isPaused:i})}const W=await Y(this,xc).start();return await((f=(u=Y(this,Qr).config).onSuccess)==null?void 0:f.call(u,W,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,W,n,this.state.context)),await((g=(v=Y(this,Qr).config).onSettled)==null?void 0:g.call(v,W,null,this.state.variables,this.state.context,this)),await((_=(w=this.options).onSettled)==null?void 0:_.call(w,W,null,n,this.state.context)),st(this,Di,_a).call(this,{type:"success",data:W}),W}catch(W){try{throw await((x=(b=Y(this,Qr).config).onError)==null?void 0:x.call(b,W,n,this.state.context,this)),await((D=(S=this.options).onError)==null?void 0:D.call(S,W,n,this.state.context)),await((M=(F=Y(this,Qr).config).onSettled)==null?void 0:M.call(F,void 0,W,this.state.variables,this.state.context,this)),await((U=(R=this.options).onSettled)==null?void 0:U.call(R,void 0,W,n,this.state.context)),W}finally{st(this,Di,_a).call(this,{type:"error",error:W})}}finally{Y(this,Qr).runNext(this)}}},Li=new WeakMap,Qr=new WeakMap,xc=new WeakMap,Di=new WeakSet,_a=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Yn.batch(()=>{Y(this,Li).forEach(s=>{s.onMutationUpdate(n)}),Y(this,Qr).notify({mutation:this,type:"updated",action:n})})},QR);function L4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Eo,di,$p,YR,h9=(YR=class extends xh{constructor(e={}){super();De(this,Eo);De(this,di);De(this,$p);this.config=e,Ie(this,Eo,new Set),Ie(this,di,new Map),Ie(this,$p,0)}build(e,n,r){const s=new d9({mutationCache:this,mutationId:++Xm(this,$p)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){Y(this,Eo).add(e);const n=gg(e);if(typeof n=="string"){const r=Y(this,di).get(n);r?r.push(e):Y(this,di).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,Eo).delete(e)){const n=gg(e);if(typeof n=="string"){const r=Y(this,di).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&Y(this,di).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=gg(e);if(typeof n=="string"){const r=Y(this,di).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=gg(e);if(typeof n=="string"){const s=(r=Y(this,di).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Yn.batch(()=>{Y(this,Eo).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,Eo).clear(),Y(this,di).clear()})}getAll(){return Array.from(Y(this,Eo))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>iC(n,r))}findAll(e={}){return this.getAll().filter(n=>iC(e,n))}notify(e){Yn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Yn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Xr))))}},Eo=new WeakMap,di=new WeakMap,$p=new WeakMap,YR);function gg(t){var e;return(e=t.options.scope)==null?void 0:e.id}function lC(t){return{onFetch:(e,n)=>{var u,f,p,m,v;const r=e.options,s=(p=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},_=N4(e.options,e.fetchOptions),b=async(x,S,D)=>{if(g)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const F={client:e.client,queryKey:e.queryKey,pageParam:S,direction:D?"backward":"forward",meta:e.options.meta};w(F);const M=await _(F),{maxPages:R}=e.options,U=D?n9:t9;return{pages:U(x.pages,M,R),pageParams:U(x.pageParams,S,R)}};if(s&&i.length){const x=s==="backward",S=x?f9:cC,D={pages:i,pageParams:o},F=S(r,D);a=await b(D,F,x)}else{const x=t??i.length;do{const S=l===0?o[0]??r.initialPageParam:cC(r,a);if(l>0&&S==null)break;a=await b(a,S),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function cC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function f9(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var kn,Ua,Va,Od,Ld,za,Dd,jd,ZR,p9=(ZR=class{constructor(t={}){De(this,kn);De(this,Ua);De(this,Va);De(this,Od);De(this,Ld);De(this,za);De(this,Dd);De(this,jd);Ie(this,kn,t.queryCache||new u9),Ie(this,Ua,t.mutationCache||new h9),Ie(this,Va,t.defaultOptions||{}),Ie(this,Od,new Map),Ie(this,Ld,new Map),Ie(this,za,0)}mount(){Xm(this,za)._++,Y(this,za)===1&&(Ie(this,Dd,GS.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,kn).onFocus())})),Ie(this,jd,wy.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,kn).onOnline())})))}unmount(){var t,e;Xm(this,za)._--,Y(this,za)===0&&((t=Y(this,Dd))==null||t.call(this),Ie(this,Dd,void 0),(e=Y(this,jd))==null||e.call(this),Ie(this,jd,void 0))}isFetching(t){return Y(this,kn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,Ua).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,kn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Y(this,kn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ul(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Y(this,kn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=Y(this,kn).get(r.queryHash),i=s==null?void 0:s.state.data,o=JV(e,i);if(o!==void 0)return Y(this,kn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Yn.batch(()=>Y(this,kn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Y(this,kn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Y(this,kn);Yn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Y(this,kn);return Yn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Yn.batch(()=>Y(this,kn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Xr).catch(Xr)}invalidateQueries(t,e={}){return Yn.batch(()=>(Y(this,kn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Yn.batch(()=>Y(this,kn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Xr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Y(this,kn).build(this,e);return n.isStaleByTime(ul(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xr).catch(Xr)}fetchInfiniteQuery(t){return t.behavior=lC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xr).catch(Xr)}ensureInfiniteQueryData(t){return t.behavior=lC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return wy.isOnline()?Y(this,Ua).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,kn)}getMutationCache(){return Y(this,Ua)}getDefaultOptions(){return Y(this,Va)}setDefaultOptions(t){Ie(this,Va,t)}setQueryDefaults(t,e){Y(this,Od).set(Bc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,Od).values()],n={};return e.forEach(r=>{wp(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Y(this,Ld).set(Bc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,Ld).values()],n={};return e.forEach(r=>{wp(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,Va).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=qS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===KS&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,Va).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,kn).clear(),Y(this,Ua).clear()}},kn=new WeakMap,Ua=new WeakMap,Va=new WeakMap,Od=new WeakMap,Ld=new WeakMap,za=new WeakMap,Dd=new WeakMap,jd=new WeakMap,ZR),ls,ft,Hp,Yr,_c,Bd,Wa,$a,qp,Fd,Ud,bc,Ec,Ha,Vd,It,wf,eb,tb,nb,rb,sb,ib,ob,D4,XR,m9=(XR=class extends xh{constructor(e,n){super();De(this,It);De(this,ls);De(this,ft);De(this,Hp);De(this,Yr);De(this,_c);De(this,Bd);De(this,Wa);De(this,$a);De(this,qp);De(this,Fd);De(this,Ud);De(this,bc);De(this,Ec);De(this,Ha);De(this,Vd,new Set);this.options=n,Ie(this,ls,e),Ie(this,$a,null),Ie(this,Wa,J_()),this.options.experimental_prefetchInRender||Y(this,Wa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,ft).addObserver(this),uC(Y(this,ft),this.options)?st(this,It,wf).call(this):this.updateResult(),st(this,It,rb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ab(Y(this,ft),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ab(Y(this,ft),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,st(this,It,sb).call(this),st(this,It,ib).call(this),Y(this,ft).removeObserver(this)}setOptions(e){const n=this.options,r=Y(this,ft);if(this.options=Y(this,ls).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof pi(this.options.enabled,Y(this,ft))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");st(this,It,ob).call(this),Y(this,ft).setOptions(this.options),n._defaulted&&!yy(this.options,n)&&Y(this,ls).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,ft),observer:this});const s=this.hasListeners();s&&dC(Y(this,ft),r,this.options,n)&&st(this,It,wf).call(this),this.updateResult(),s&&(Y(this,ft)!==r||pi(this.options.enabled,Y(this,ft))!==pi(n.enabled,Y(this,ft))||ul(this.options.staleTime,Y(this,ft))!==ul(n.staleTime,Y(this,ft)))&&st(this,It,eb).call(this);const i=st(this,It,tb).call(this);s&&(Y(this,ft)!==r||pi(this.options.enabled,Y(this,ft))!==pi(n.enabled,Y(this,ft))||i!==Y(this,Ha))&&st(this,It,nb).call(this,i)}getOptimisticResult(e){const n=Y(this,ls).getQueryCache().build(Y(this,ls),e),r=this.createResult(n,e);return y9(this,r)&&(Ie(this,Yr,r),Ie(this,Bd,this.options),Ie(this,_c,Y(this,ft).state)),r}getCurrentResult(){return Y(this,Yr)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){Y(this,Vd).add(e)}getCurrentQuery(){return Y(this,ft)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Y(this,ls).defaultQueryOptions(e),r=Y(this,ls).getQueryCache().build(Y(this,ls),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return st(this,It,wf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,Yr)))}createResult(e,n){var U;const r=Y(this,ft),s=this.options,i=Y(this,Yr),o=Y(this,_c),a=Y(this,Bd),c=e!==r?e.state:Y(this,Hp),{state:u}=e;let f={...u},p=!1,m;if(n._optimisticResults){const W=this.hasListeners(),$=!W&&uC(e,n),q=W&&dC(e,r,n,s);($||q)&&(f={...f,...O4(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:w}=f;m=f.data;let _=!1;if(n.placeholderData!==void 0&&m===void 0&&w==="pending"){let W;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(W=i.data,_=!0):W=typeof n.placeholderData=="function"?n.placeholderData((U=Y(this,Ud))==null?void 0:U.state.data,Y(this,Ud)):n.placeholderData,W!==void 0&&(w="success",m=X_(i==null?void 0:i.data,W,n),p=!0)}if(n.select&&m!==void 0&&!_)if(i&&m===(o==null?void 0:o.data)&&n.select===Y(this,qp))m=Y(this,Fd);else try{Ie(this,qp,n.select),m=n.select(m),m=X_(i==null?void 0:i.data,m,n),Ie(this,Fd,m),Ie(this,$a,null)}catch(W){Ie(this,$a,W)}Y(this,$a)&&(v=Y(this,$a),m=Y(this,Fd),g=Date.now(),w="error");const b=f.fetchStatus==="fetching",x=w==="pending",S=w==="error",D=x&&b,F=m!==void 0,R={status:w,fetchStatus:f.fetchStatus,isPending:x,isSuccess:w==="success",isError:S,isInitialLoading:D,isLoading:D,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!x,isLoadingError:S&&!F,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:S&&F,isStale:QS(e,n),refetch:this.refetch,promise:Y(this,Wa)};if(this.options.experimental_prefetchInRender){const W=N=>{R.status==="error"?N.reject(R.error):R.data!==void 0&&N.resolve(R.data)},$=()=>{const N=Ie(this,Wa,R.promise=J_());W(N)},q=Y(this,Wa);switch(q.status){case"pending":e.queryHash===r.queryHash&&W(q);break;case"fulfilled":(R.status==="error"||R.data!==q.value)&&$();break;case"rejected":(R.status!=="error"||R.error!==q.reason)&&$();break}}return R}updateResult(){const e=Y(this,Yr),n=this.createResult(Y(this,ft),this.options);if(Ie(this,_c,Y(this,ft).state),Ie(this,Bd,this.options),Y(this,_c).data!==void 0&&Ie(this,Ud,Y(this,ft)),yy(n,e))return;Ie(this,Yr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Y(this,Vd).size)return!0;const o=new Set(i??Y(this,Vd));return this.options.throwOnError&&o.add("error"),Object.keys(Y(this,Yr)).some(a=>{const l=a;return Y(this,Yr)[l]!==e[l]&&o.has(l)})};st(this,It,D4).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&st(this,It,rb).call(this)}},ls=new WeakMap,ft=new WeakMap,Hp=new WeakMap,Yr=new WeakMap,_c=new WeakMap,Bd=new WeakMap,Wa=new WeakMap,$a=new WeakMap,qp=new WeakMap,Fd=new WeakMap,Ud=new WeakMap,bc=new WeakMap,Ec=new WeakMap,Ha=new WeakMap,Vd=new WeakMap,It=new WeakSet,wf=function(e){st(this,It,ob).call(this);let n=Y(this,ft).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Xr)),n},eb=function(){st(this,It,sb).call(this);const e=ul(this.options.staleTime,Y(this,ft));if(jc||Y(this,Yr).isStale||!Y_(e))return;const r=I4(Y(this,Yr).dataUpdatedAt,e)+1;Ie(this,bc,setTimeout(()=>{Y(this,Yr).isStale||this.updateResult()},r))},tb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,ft)):this.options.refetchInterval)??!1},nb=function(e){st(this,It,ib).call(this),Ie(this,Ha,e),!(jc||pi(this.options.enabled,Y(this,ft))===!1||!Y_(Y(this,Ha))||Y(this,Ha)===0)&&Ie(this,Ec,setInterval(()=>{(this.options.refetchIntervalInBackground||GS.isFocused())&&st(this,It,wf).call(this)},Y(this,Ha)))},rb=function(){st(this,It,eb).call(this),st(this,It,nb).call(this,st(this,It,tb).call(this))},sb=function(){Y(this,bc)&&(clearTimeout(Y(this,bc)),Ie(this,bc,void 0))},ib=function(){Y(this,Ec)&&(clearInterval(Y(this,Ec)),Ie(this,Ec,void 0))},ob=function(){const e=Y(this,ls).getQueryCache().build(Y(this,ls),this.options);if(e===Y(this,ft))return;const n=Y(this,ft);Ie(this,ft,e),Ie(this,Hp,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},D4=function(e){Yn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Y(this,Yr))}),Y(this,ls).getQueryCache().notify({query:Y(this,ft),type:"observerResultsUpdated"})})},XR);function g9(t,e){return pi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function uC(t,e){return g9(t,e)||t.state.data!==void 0&&ab(t,e,e.refetchOnMount)}function ab(t,e,n){if(pi(e.enabled,t)!==!1&&ul(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&QS(t,e)}return!1}function dC(t,e,n,r){return(t!==e||pi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&QS(t,n)}function QS(t,e){return pi(e.enabled,t)!==!1&&t.isStaleByTime(ul(e.staleTime,t))}function y9(t,e){return!yy(t.getCurrentResult(),e)}var qa,Ka,cs,So,Uo,s0,lb,JR,w9=(JR=class extends xh{constructor(n,r){super();De(this,Uo);De(this,qa);De(this,Ka);De(this,cs);De(this,So);Ie(this,qa,n),this.setOptions(r),this.bindMethods(),st(this,Uo,s0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=Y(this,qa).defaultMutationOptions(n),yy(this.options,r)||Y(this,qa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,cs),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Bc(r.mutationKey)!==Bc(this.options.mutationKey)?this.reset():((s=Y(this,cs))==null?void 0:s.state.status)==="pending"&&Y(this,cs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Y(this,cs))==null||n.removeObserver(this)}onMutationUpdate(n){st(this,Uo,s0).call(this),st(this,Uo,lb).call(this,n)}getCurrentResult(){return Y(this,Ka)}reset(){var n;(n=Y(this,cs))==null||n.removeObserver(this),Ie(this,cs,void 0),st(this,Uo,s0).call(this),st(this,Uo,lb).call(this)}mutate(n,r){var s;return Ie(this,So,r),(s=Y(this,cs))==null||s.removeObserver(this),Ie(this,cs,Y(this,qa).getMutationCache().build(Y(this,qa),this.options)),Y(this,cs).addObserver(this),Y(this,cs).execute(n)}},qa=new WeakMap,Ka=new WeakMap,cs=new WeakMap,So=new WeakMap,Uo=new WeakSet,s0=function(){var r;const n=((r=Y(this,cs))==null?void 0:r.state)??L4();Ie(this,Ka,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},lb=function(n){Yn.batch(()=>{var r,s,i,o,a,l,c,u;if(Y(this,So)&&this.hasListeners()){const f=Y(this,Ka).variables,p=Y(this,Ka).context;(n==null?void 0:n.type)==="success"?((s=(r=Y(this,So)).onSuccess)==null||s.call(r,n.data,f,p),(o=(i=Y(this,So)).onSettled)==null||o.call(i,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((l=(a=Y(this,So)).onError)==null||l.call(a,n.error,f,p),(u=(c=Y(this,So)).onSettled)==null||u.call(c,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(Y(this,Ka))})})},JR),j4=k.createContext(void 0),YS=t=>{const e=k.useContext(j4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},v9=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(j4.Provider,{value:t,children:e})),B4=k.createContext(!1),x9=()=>k.useContext(B4);B4.Provider;function _9(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var b9=k.createContext(_9()),E9=()=>k.useContext(b9),S9=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},T9=t=>{k.useEffect(()=>{t.clearReset()},[t])},I9=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||C4(n,[t.error,r])),A9=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},N9=(t,e)=>t.isLoading&&t.isFetching&&!e,C9=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,hC=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function k9(t,e,n){var f,p,m,v,g;const r=YS(),s=x9(),i=E9(),o=r.defaultQueryOptions(t);(p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",A9(o),S9(o,i),T9(i);const a=!r.getQueryCache().get(o.queryHash),[l]=k.useState(()=>new e(r,o)),c=l.getOptimisticResult(o),u=!s&&t.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(w=>{const _=u?l.subscribe(Yn.batchCalls(w)):Xr;return l.updateResult(),_},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),k.useEffect(()=>{l.setOptions(o)},[o,l]),C9(o,c))throw hC(o,l,i);if(I9({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((v=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,c),o.experimental_prefetchInRender&&!jc&&N9(c,s)){const w=a?hC(o,l,i):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;w==null||w.catch(Xr).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function To(t,e){return k9(t,m9)}function Su(t,e){const n=YS(),[r]=k.useState(()=>new w9(n,t));k.useEffect(()=>{r.setOptions(t)},[r,t]);const s=k.useSyncExternalStore(k.useCallback(o=>r.subscribe(Yn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=k.useCallback((o,a)=>{r.mutate(o,a).catch(Xr)},[r]);if(s.error&&C4(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function R9(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const M9=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e[0],{credentials:"include"});return await R9(n),await n.json()},P9=new p9({defaultOptions:{queries:{queryFn:M9({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),O9=1,L9=1e6;let U1=0;function D9(){return U1=(U1+1)%Number.MAX_SAFE_INTEGER,U1.toString()}const V1=new Map,fC=t=>{if(V1.has(t))return;const e=setTimeout(()=>{V1.delete(t),$f({type:"REMOVE_TOAST",toastId:t})},L9);V1.set(t,e)},j9=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,O9)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?fC(n):t.toasts.forEach(r=>{fC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},i0=[];let o0={toasts:[]};function $f(t){o0=j9(o0,t),i0.forEach(e=>{e(o0)})}function B9({...t}){const e=D9(),n=s=>$f({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>$f({type:"DISMISS_TOAST",toastId:e});return $f({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function em(){const[t,e]=k.useState(o0);return k.useEffect(()=>(i0.push(e),()=>{const n=i0.indexOf(e);n>-1&&i0.splice(n,1)}),[t]),{...t,toast:B9,dismiss:n=>$f({type:"DISMISS_TOAST",toastId:n})}}function Ve(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function pC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function F4(...t){return e=>{let n=!1;const r=t.map(s=>{const i=pC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():pC(t[s],null)}}}}function Dt(...t){return k.useCallback(F4(...t),t)}function F9(t,e){const n=k.createContext(e),r=i=>{const{children:o,...a}=i,l=k.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=k.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function eo(t,e=[]){let n=[];function r(i,o){const a=k.createContext(o),l=n.length;n=[...n,o];const c=f=>{var _;const{scope:p,children:m,...v}=f,g=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,w=k.useMemo(()=>v,Object.values(v));return d.jsx(g.Provider,{value:w,children:m})};c.displayName=i+"Provider";function u(f,p){var g;const m=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,v=k.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>k.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return k.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,U9(s,...e)]}function U9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Yd(t){const e=z9(t),n=k.forwardRef((r,s)=>{const{children:i,...o}=r,a=k.Children.toArray(i),l=a.find($9);if(l){const c=l.props.children,u=a.map(f=>f===l?k.Children.count(c)>1?k.Children.only(null):k.isValidElement(c)?c.props.children:null:f);return d.jsx(e,{...o,ref:s,children:k.isValidElement(c)?k.cloneElement(c,void 0,u):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var V9=Yd("Slot");function z9(t){const e=k.forwardRef((n,r)=>{const{children:s,...i}=n;if(k.isValidElement(s)){const o=q9(s),a=H9(i,s.props);return s.type!==k.Fragment&&(a.ref=r?F4(r,o):o),k.cloneElement(s,a)}return k.Children.count(s)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var U4=Symbol("radix.slottable");function W9(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=U4,e}function $9(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===U4}function H9(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function q9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ZS(t){const e=t+"CollectionProvider",[n,r]=eo(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:_}=g,b=ce.useRef(null),x=ce.useRef(new Map).current;return d.jsx(s,{scope:w,itemMap:x,collectionRef:b,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=Yd(a),c=ce.forwardRef((g,w)=>{const{scope:_,children:b}=g,x=i(a,_),S=Dt(w,x.collectionRef);return d.jsx(l,{ref:S,children:b})});c.displayName=a;const u=t+"CollectionItemSlot",f="data-radix-collection-item",p=Yd(u),m=ce.forwardRef((g,w)=>{const{scope:_,children:b,...x}=g,S=ce.useRef(null),D=Dt(w,S),F=i(u,_);return ce.useEffect(()=>(F.itemMap.set(S,{ref:S,...x}),()=>void F.itemMap.delete(S))),d.jsx(p,{[f]:"",ref:D,children:b})});m.displayName=u;function v(g){const w=i(t+"CollectionConsumer",g);return ce.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((F,M)=>x.indexOf(F.ref.current)-x.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},v,r]}var K9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Je=K9.reduce((t,e)=>{const n=Yd(`Primitive.${e}`),r=k.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function V4(t,e){t&&Pl.flushSync(()=>t.dispatchEvent(e))}function ti(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function G9(t,e=globalThis==null?void 0:globalThis.document){const n=ti(t);k.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Q9="DismissableLayer",cb="dismissableLayer.update",Y9="dismissableLayer.pointerDownOutside",Z9="dismissableLayer.focusOutside",mC,z4=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tm=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=k.useContext(z4),[u,f]=k.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=k.useState({}),v=Dt(e,M=>f(M)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(w),b=u?g.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,S=b>=_,D=J9(M=>{const R=M.target,U=[...c.branches].some(W=>W.contains(R));!S||U||(s==null||s(M),o==null||o(M),M.defaultPrevented||a==null||a())},p),F=ez(M=>{const R=M.target;[...c.branches].some(W=>W.contains(R))||(i==null||i(M),o==null||o(M),M.defaultPrevented||a==null||a())},p);return G9(M=>{b===c.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},p),k.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(mC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),gC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=mC)}},[u,p,n,c]),k.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),gC())},[u,c]),k.useEffect(()=>{const M=()=>m({});return document.addEventListener(cb,M),()=>document.removeEventListener(cb,M)},[]),d.jsx(Je.div,{...l,ref:v,style:{pointerEvents:x?S?"auto":"none":void 0,...t.style},onFocusCapture:Ve(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Ve(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Ve(t.onPointerDownCapture,D.onPointerDownCapture)})});tm.displayName=Q9;var X9="DismissableLayerBranch",W4=k.forwardRef((t,e)=>{const n=k.useContext(z4),r=k.useRef(null),s=Dt(e,r);return k.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Je.div,{...t,ref:s})});W4.displayName=X9;function J9(t,e=globalThis==null?void 0:globalThis.document){const n=ti(t),r=k.useRef(!1),s=k.useRef(()=>{});return k.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){$4(Y9,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ez(t,e=globalThis==null?void 0:globalThis.document){const n=ti(t),r=k.useRef(!1);return k.useEffect(()=>{const s=i=>{i.target&&!r.current&&$4(Z9,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gC(){const t=new CustomEvent(cb);document.dispatchEvent(t)}function $4(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?V4(s,i):s.dispatchEvent(i)}var tz=tm,nz=W4,Sr=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},rz="Portal",Uw=k.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=k.useState(!1);Sr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?EV.createPortal(d.jsx(Je.div,{...r,ref:e}),o):null});Uw.displayName=rz;function sz(t,e){return k.useReducer((n,r)=>e[n][r]??n,t)}var Jc=t=>{const{present:e,children:n}=t,r=iz(e),s=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),i=Dt(r.ref,oz(s));return typeof n=="function"||r.isPresent?k.cloneElement(s,{ref:i}):null};Jc.displayName="Presence";function iz(t){const[e,n]=k.useState(),r=k.useRef(null),s=k.useRef(t),i=k.useRef("none"),o=t?"mounted":"unmounted",[a,l]=sz(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const c=yg(r.current);i.current=a==="mounted"?c:"none"},[a]),Sr(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,m=yg(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Sr(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=m=>{const g=yg(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},p=m=>{m.target===e&&(i.current=yg(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:k.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function yg(t){return(t==null?void 0:t.animationName)||"none"}function oz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var az=XE[" useInsertionEffect ".trim().toString()]||Sr;function Fc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=lz({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const u=k.useRef(t!==void 0);k.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=k.useCallback(u=>{var f;if(a){const p=cz(u)?u(t):u;p!==t&&((f=o.current)==null||f.call(o,p))}else i(u)},[a,t,i,o]);return[l,c]}function lz({defaultProp:t,onChange:e}){const[n,r]=k.useState(t),s=k.useRef(n),i=k.useRef(e);return az(()=>{i.current=e},[e]),k.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function cz(t){return typeof t=="function"}var H4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uz="VisuallyHidden",Vw=k.forwardRef((t,e)=>d.jsx(Je.span,{...t,ref:e,style:{...H4,...t.style}}));Vw.displayName=uz;var dz=Vw,XS="ToastProvider",[JS,hz,fz]=ZS("Toast"),[q4,kde]=eo("Toast",[fz]),[pz,zw]=q4(XS),K4=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=k.useState(null),[c,u]=k.useState(0),f=k.useRef(!1),p=k.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${XS}\`. Expected non-empty \`string\`.`),d.jsx(JS.Provider,{scope:e,children:d.jsx(pz,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:k.useCallback(()=>u(m=>m+1),[]),onToastRemove:k.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};K4.displayName=XS;var G4="ToastViewport",mz=["F8"],ub="toast.viewportPause",db="toast.viewportResume",Q4=k.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=mz,label:s="Notifications ({hotkey})",...i}=t,o=zw(G4,n),a=hz(n),l=k.useRef(null),c=k.useRef(null),u=k.useRef(null),f=k.useRef(null),p=Dt(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;k.useEffect(()=>{const w=_=>{var x;r.length!==0&&r.every(S=>_[S]||_.code===S)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),k.useEffect(()=>{const w=l.current,_=f.current;if(v&&w&&_){const b=()=>{if(!o.isClosePausedRef.current){const F=new CustomEvent(ub);_.dispatchEvent(F),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const F=new CustomEvent(db);_.dispatchEvent(F),o.isClosePausedRef.current=!1}},S=F=>{!w.contains(F.relatedTarget)&&x()},D=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",b),w.addEventListener("focusout",S),w.addEventListener("pointermove",b),w.addEventListener("pointerleave",D),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",b),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",b),w.removeEventListener("pointerleave",D),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const g=k.useCallback(({tabbingDirection:w})=>{const b=a().map(x=>{const S=x.ref.current,D=[S,...Nz(S)];return w==="forwards"?D:D.reverse()});return(w==="forwards"?b.reverse():b).flat()},[a]);return k.useEffect(()=>{const w=f.current;if(w){const _=b=>{var D,F,M;const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const R=document.activeElement,U=b.shiftKey;if(b.target===w&&U){(D=c.current)==null||D.focus();return}const q=g({tabbingDirection:U?"backwards":"forwards"}),N=q.findIndex(y=>y===R);z1(q.slice(N+1))?b.preventDefault():U?(F=c.current)==null||F.focus():(M=u.current)==null||M.focus()}};return w.addEventListener("keydown",_),()=>w.removeEventListener("keydown",_)}},[a,g]),d.jsxs(nz,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&d.jsx(hb,{ref:c,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});z1(w)}}),d.jsx(JS.Slot,{scope:n,children:d.jsx(Je.ol,{tabIndex:-1,...i,ref:p})}),v&&d.jsx(hb,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});z1(w)}})]})});Q4.displayName=G4;var Y4="ToastFocusProxy",hb=k.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=zw(Y4,n);return d.jsx(Vw,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});hb.displayName=Y4;var nm="Toast",gz="toast.swipeStart",yz="toast.swipeMove",wz="toast.swipeCancel",vz="toast.swipeEnd",Z4=k.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Fc({prop:r,defaultProp:s??!0,onChange:i,caller:nm});return d.jsx(Jc,{present:n||a,children:d.jsx(bz,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ti(t.onPause),onResume:ti(t.onResume),onSwipeStart:Ve(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ve(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ve(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ve(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Z4.displayName=nm;var[xz,_z]=q4(nm,{onClose(){}}),bz=k.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...v}=t,g=zw(nm,n),[w,_]=k.useState(null),b=Dt(e,y=>_(y)),x=k.useRef(null),S=k.useRef(null),D=s||g.duration,F=k.useRef(0),M=k.useRef(D),R=k.useRef(0),{onToastAdd:U,onToastRemove:W}=g,$=ti(()=>{var I;(w==null?void 0:w.contains(document.activeElement))&&((I=g.viewport)==null||I.focus()),o()}),q=k.useCallback(y=>{!y||y===1/0||(window.clearTimeout(R.current),F.current=new Date().getTime(),R.current=window.setTimeout($,y))},[$]);k.useEffect(()=>{const y=g.viewport;if(y){const I=()=>{q(M.current),c==null||c()},O=()=>{const z=new Date().getTime()-F.current;M.current=M.current-z,window.clearTimeout(R.current),l==null||l()};return y.addEventListener(ub,O),y.addEventListener(db,I),()=>{y.removeEventListener(ub,O),y.removeEventListener(db,I)}}},[g.viewport,D,l,c,q]),k.useEffect(()=>{i&&!g.isClosePausedRef.current&&q(D)},[i,D,g.isClosePausedRef,q]),k.useEffect(()=>(U(),()=>W()),[U,W]);const N=k.useMemo(()=>w?sO(w):null,[w]);return g.viewport?d.jsxs(d.Fragment,{children:[N&&d.jsx(Ez,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),d.jsx(xz,{scope:n,onClose:$,children:Pl.createPortal(d.jsx(JS.ItemSlot,{scope:n,children:d.jsx(tz,{asChild:!0,onEscapeKeyDown:Ve(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||$(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ve(t.onKeyDown,y=>{y.key==="Escape"&&(a==null||a(y.nativeEvent),y.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:Ve(t.onPointerDown,y=>{y.button===0&&(x.current={x:y.clientX,y:y.clientY})}),onPointerMove:Ve(t.onPointerMove,y=>{if(!x.current)return;const I=y.clientX-x.current.x,O=y.clientY-x.current.y,z=!!S.current,L=["left","right"].includes(g.swipeDirection),j=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=L?j(0,I):0,B=L?0:j(0,O),T=y.pointerType==="touch"?10:2,K={x:H,y:B},ae={originalEvent:y,delta:K};z?(S.current=K,wg(yz,f,ae,{discrete:!1})):yC(K,g.swipeDirection,T)?(S.current=K,wg(gz,u,ae,{discrete:!1}),y.target.setPointerCapture(y.pointerId)):(Math.abs(I)>T||Math.abs(O)>T)&&(x.current=null)}),onPointerUp:Ve(t.onPointerUp,y=>{const I=S.current,O=y.target;if(O.hasPointerCapture(y.pointerId)&&O.releasePointerCapture(y.pointerId),S.current=null,x.current=null,I){const z=y.currentTarget,L={originalEvent:y,delta:I};yC(I,g.swipeDirection,g.swipeThreshold)?wg(vz,m,L,{discrete:!0}):wg(wz,p,L,{discrete:!0}),z.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Ez=t=>{const{__scopeToast:e,children:n,...r}=t,s=zw(nm,e),[i,o]=k.useState(!1),[a,l]=k.useState(!1);return Iz(()=>o(!0)),k.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(Uw,{asChild:!0,children:d.jsx(Vw,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},Sz="ToastTitle",X4=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Je.div,{...r,ref:e})});X4.displayName=Sz;var Tz="ToastDescription",J4=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Je.div,{...r,ref:e})});J4.displayName=Tz;var eO="ToastAction",tO=k.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(rO,{altText:n,asChild:!0,children:d.jsx(eT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${eO}\`. Expected non-empty \`string\`.`),null)});tO.displayName=eO;var nO="ToastClose",eT=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=_z(nO,n);return d.jsx(rO,{asChild:!0,children:d.jsx(Je.button,{type:"button",...r,ref:e,onClick:Ve(t.onClick,s.onClose)})})});eT.displayName=nO;var rO=k.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function sO(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Az(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...sO(r))}}),e}function wg(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?V4(s,i):s.dispatchEvent(i)}var yC=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Iz(t=()=>{}){const e=ti(t);Sr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Az(t){return t.nodeType===t.ELEMENT_NODE}function Nz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function z1(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Cz=K4,iO=Q4,oO=Z4,aO=X4,lO=J4,cO=tO,uO=eT;function dO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=dO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hO(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=dO(t))&&(r&&(r+=" "),r+=e);return r}const wC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vC=hO,rm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return vC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],f=i==null?void 0:i[c];if(u===null)return null;const p=wC(u)||wC(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,p]=u;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:p,...m}=u;return Object.entries(m).every(v=>{let[g,w]=v;return Array.isArray(w)?w.includes({...i,...a}[g]):{...i,...a}[g]===w})?[...c,f,p]:c},[]);return vC(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fO=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>k.createElement("svg",{ref:l,...Rz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fO("lucide",s),...a},[...o.map(([c,u])=>k.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(t,e)=>{const n=k.forwardRef(({className:r,...s},i)=>k.createElement(Mz,{ref:i,iconNode:e,className:fO(`lucide-${kz(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=et("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=et("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=et("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=et("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=et("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=et("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=et("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=et("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=et("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=et("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=et("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=et("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=et("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=et("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=et("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=et("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=et("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=et("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=et("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=et("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=et("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=et("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=et("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=et("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=et("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=et("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=et("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=et("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=et("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=et("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=et("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=et("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=et("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=et("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=et("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),iT="-",Yz=t=>{const e=Xz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(iT);return a[0]===""&&a.length!==1&&a.shift(),xO(a,e)||Zz(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},xO=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?xO(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(iT);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},TC=/^\[(.+)\]$/,Zz=t=>{if(TC.test(t)){const e=TC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Xz=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return e7(Object.entries(t.classGroups),n).forEach(([i,o])=>{pb(o,r,i,e)}),r},pb=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:IC(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Jz(s)){pb(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{pb(o,IC(e,i),n,r)})})},IC=(t,e)=>{let n=t;return e.split(iT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Jz=t=>t.isThemeGetter,e7=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,t7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},_O="!",n7=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,f;for(let w=0;w<a.length;w++){let _=a[w];if(c===0){if(_===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(u,w)),u=w+i;continue}if(_==="/"){f=w;continue}}_==="["?c++:_==="]"&&c--}const p=l.length===0?a:a.substring(u),m=p.startsWith(_O),v=m?p.substring(1):p,g=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},r7=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},s7=t=>({cache:t7(t.cacheSize),parseClassName:n7(t),...Yz(t)}),i7=/\s+/,o7=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(i7);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let v=!!m,g=r(v?p.substring(0,m):p);if(!g){if(!v){a=c+(a.length>0?" "+a:a);continue}if(g=r(p),!g){a=c+(a.length>0?" "+a:a);continue}v=!1}const w=r7(u).join(":"),_=f?w+_O:w,b=_+g;if(i.includes(b))continue;i.push(b);const x=s(g,v);for(let S=0;S<x.length;++S){const D=x[S];i.push(_+D)}a=c+(a.length>0?" "+a:a)}return a};function a7(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=bO(e))&&(r&&(r+=" "),r+=n);return r}const bO=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=bO(t[r]))&&(n&&(n+=" "),n+=e);return n};function l7(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,f)=>f(u),t());return n=s7(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=o7(l,n);return s(l,u),u}return function(){return i(a7.apply(null,arguments))}}const tn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},EO=/^\[(?:([a-z-]+):)?(.+)\]$/i,c7=/^\d+\/\d+$/,u7=new Set(["px","full","screen"]),d7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,h7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,p7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,m7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fo=t=>gd(t)||u7.has(t)||c7.test(t),ua=t=>_h(t,"length",E7),gd=t=>!!t&&!Number.isNaN(Number(t)),K1=t=>_h(t,"number",gd),nf=t=>!!t&&Number.isInteger(Number(t)),g7=t=>t.endsWith("%")&&gd(t.slice(0,-1)),rt=t=>EO.test(t),da=t=>d7.test(t),y7=new Set(["length","size","percentage"]),w7=t=>_h(t,y7,SO),v7=t=>_h(t,"position",SO),x7=new Set(["image","url"]),_7=t=>_h(t,x7,T7),b7=t=>_h(t,"",S7),rf=()=>!0,_h=(t,e,n)=>{const r=EO.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},E7=t=>h7.test(t)&&!f7.test(t),SO=()=>!1,S7=t=>p7.test(t),T7=t=>m7.test(t),I7=()=>{const t=tn("colors"),e=tn("spacing"),n=tn("blur"),r=tn("brightness"),s=tn("borderColor"),i=tn("borderRadius"),o=tn("borderSpacing"),a=tn("borderWidth"),l=tn("contrast"),c=tn("grayscale"),u=tn("hueRotate"),f=tn("invert"),p=tn("gap"),m=tn("gradientColorStops"),v=tn("gradientColorStopPositions"),g=tn("inset"),w=tn("margin"),_=tn("opacity"),b=tn("padding"),x=tn("saturate"),S=tn("scale"),D=tn("sepia"),F=tn("skew"),M=tn("space"),R=tn("translate"),U=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",rt,e],q=()=>[rt,e],N=()=>["",fo,ua],y=()=>["auto",gd,rt],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",rt],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[gd,rt];return{cacheSize:500,separator:":",theme:{colors:[rf],spacing:[fo,ua],blur:["none","",da,rt],brightness:B(),borderColor:[t],borderRadius:["none","","full",da,rt],borderSpacing:q(),borderWidth:N(),contrast:B(),grayscale:j(),hueRotate:B(),invert:j(),gap:q(),gradientColorStops:[t],gradientColorStopPositions:[g7,ua],inset:$(),margin:$(),opacity:B(),padding:q(),saturate:B(),scale:B(),sepia:j(),skew:B(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[da]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),rt]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nf,rt]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",nf,rt]}],"grid-cols":[{"grid-cols":[rf]}],"col-start-end":[{col:["auto",{span:["full",nf,rt]},rt]}],"col-start":[{"col-start":y()}],"col-end":[{"col-end":y()}],"grid-rows":[{"grid-rows":[rf]}],"row-start-end":[{row:["auto",{span:[nf,rt]},rt]}],"row-start":[{"row-start":y()}],"row-end":[{"row-end":y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,e]}],"min-w":[{"min-w":[rt,e,"min","max","fit"]}],"max-w":[{"max-w":[rt,e,"none","full","min","max","fit","prose",{screen:[da]},da]}],h:[{h:[rt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",da,ua]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",K1]}],"font-family":[{font:[rf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",gd,K1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fo,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fo,ua]}],"underline-offset":[{"underline-offset":["auto",fo,rt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),v7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",w7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[fo,rt]}],"outline-w":[{outline:[fo,ua]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[fo,ua]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",da,b7]}],"shadow-color":[{shadow:[rf]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",da,rt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[nf,rt]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[fo,ua,K1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},A7=l7(I7);function We(...t){return A7(hO(t))}const N7=Cz,TO=k.forwardRef(({className:t,...e},n)=>d.jsx(iO,{ref:n,className:We("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));TO.displayName=iO.displayName;const C7=rm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),IO=k.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(oO,{ref:r,className:We(C7({variant:e}),t),...n}));IO.displayName=oO.displayName;const k7=k.forwardRef(({className:t,...e},n)=>d.jsx(cO,{ref:n,className:We("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));k7.displayName=cO.displayName;const AO=k.forwardRef(({className:t,...e},n)=>d.jsx(uO,{ref:n,className:We("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(sT,{className:"h-4 w-4"})}));AO.displayName=uO.displayName;const NO=k.forwardRef(({className:t,...e},n)=>d.jsx(aO,{ref:n,className:We("text-sm font-semibold",t),...e}));NO.displayName=aO.displayName;const CO=k.forwardRef(({className:t,...e},n)=>d.jsx(lO,{ref:n,className:We("text-sm opacity-90",t),...e}));CO.displayName=lO.displayName;function R7(){const{toasts:t}=em();return d.jsxs(N7,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(IO,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(NO,{children:n}),r&&d.jsx(CO,{children:r})]}),s,d.jsx(AO,{})]},e)}),d.jsx(TO,{})]})}var M7=XE[" useId ".trim().toString()]||(()=>{}),P7=0;function hl(t){const[e,n]=k.useState(M7());return Sr(()=>{n(r=>r??String(P7++))},[t]),e?`radix-${e}`:""}const O7=["top","right","bottom","left"],xl=Math.min,ks=Math.max,vy=Math.round,xg=Math.floor,$i=t=>({x:t,y:t}),L7={left:"right",right:"left",bottom:"top",top:"bottom"},D7={start:"end",end:"start"};function mb(t,e,n){return ks(t,xl(e,n))}function Ho(t,e){return typeof t=="function"?t(e):t}function qo(t){return t.split("-")[0]}function bh(t){return t.split("-")[1]}function oT(t){return t==="x"?"y":"x"}function aT(t){return t==="y"?"height":"width"}function Fo(t){return["top","bottom"].includes(qo(t))?"y":"x"}function lT(t){return oT(Fo(t))}function j7(t,e,n){n===void 0&&(n=!1);const r=bh(t),s=lT(t),i=aT(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=xy(o)),[o,xy(o)]}function B7(t){const e=xy(t);return[gb(t),e,gb(e)]}function gb(t){return t.replace(/start|end/g,e=>D7[e])}function F7(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function U7(t,e,n,r){const s=bh(t);let i=F7(qo(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(gb)))),i}function xy(t){return t.replace(/left|right|bottom|top/g,e=>L7[e])}function V7(t){return{top:0,right:0,bottom:0,left:0,...t}}function kO(t){return typeof t!="number"?V7(t):{top:t,right:t,bottom:t,left:t}}function _y(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function AC(t,e,n){let{reference:r,floating:s}=t;const i=Fo(e),o=lT(e),a=aT(o),l=qo(e),c=i==="y",u=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-s.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(bh(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const z7=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:f}=AC(c,r,l),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:w,fn:_}=a[g],{x:b,y:x,data:S,reset:D}=await _({x:u,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});u=b??u,f=x??f,m={...m,[w]:{...m[w],...S}},D&&v<=50&&(v++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:u,y:f}=AC(c,p,l)),g=-1)}return{x:u,y:f,placement:p,strategy:s,middlewareData:m}};async function xp(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Ho(e,t),v=kO(m),w=a[p?f==="floating"?"reference":"floating":f],_=_y(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},D=_y(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:x,strategy:l}):b);return{top:(_.top-D.top+v.top)/S.y,bottom:(D.bottom-_.bottom+v.bottom)/S.y,left:(_.left-D.left+v.left)/S.x,right:(D.right-_.right+v.right)/S.x}}const W7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ho(t,e)||{};if(c==null)return{};const f=kO(u),p={x:n,y:r},m=lT(s),v=aT(m),g=await o.getDimensions(c),w=m==="y",_=w?"top":"left",b=w?"bottom":"right",x=w?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[m]-p[m]-i.floating[v],D=p[m]-i.reference[m],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let M=F?F[x]:0;(!M||!await(o.isElement==null?void 0:o.isElement(F)))&&(M=a.floating[x]||i.floating[v]);const R=S/2-D/2,U=M/2-g[v]/2-1,W=xl(f[_],U),$=xl(f[b],U),q=W,N=M-g[v]-$,y=M/2-g[v]/2+R,I=mb(q,y,N),O=!l.arrow&&bh(s)!=null&&y!==I&&i.reference[v]/2-(y<q?W:$)-g[v]/2<0,z=O?y<q?y-q:y-N:0;return{[m]:p[m]+z,data:{[m]:I,centerOffset:y-I-z,...O&&{alignmentOffset:z}},reset:O}}}),$7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...w}=Ho(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=qo(s),b=Fo(a),x=qo(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=p||(x||!g?[xy(a)]:B7(a)),F=v!=="none";!p&&F&&D.push(...U7(a,g,v,S));const M=[a,...D],R=await xp(e,w),U=[];let W=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&U.push(R[_]),f){const I=j7(s,o,S);U.push(R[I[0]],R[I[1]])}if(W=[...W,{placement:s,overflows:U}],!U.every(I=>I<=0)){var $,q;const I=((($=i.flip)==null?void 0:$.index)||0)+1,O=M[I];if(O){var N;const L=f==="alignment"?b!==Fo(O):!1,j=((N=W[0])==null?void 0:N.overflows[0])>0;if(!L||j)return{data:{index:I,overflows:W},reset:{placement:O}}}let z=(q=W.filter(L=>L.overflows[0]<=0).sort((L,j)=>L.overflows[1]-j.overflows[1])[0])==null?void 0:q.placement;if(!z)switch(m){case"bestFit":{var y;const L=(y=W.filter(j=>{if(F){const H=Fo(j.placement);return H===b||H==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(H=>H>0).reduce((H,B)=>H+B,0)]).sort((j,H)=>j[1]-H[1])[0])==null?void 0:y[0];L&&(z=L);break}case"initialPlacement":z=a;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function NC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CC(t){return O7.some(e=>t[e]>=0)}const H7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ho(t,e);switch(r){case"referenceHidden":{const i=await xp(e,{...s,elementContext:"reference"}),o=NC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CC(o)}}}case"escaped":{const i=await xp(e,{...s,altBoundary:!0}),o=NC(i,n.floating);return{data:{escapedOffsets:o,escaped:CC(o)}}}default:return{}}}}};async function q7(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=qo(n),a=bh(n),l=Fo(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,f=Ho(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const K7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await q7(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},G7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:_,y:b}=w;return{x:_,y:b}}},...l}=Ho(t,e),c={x:n,y:r},u=await xp(e,l),f=Fo(qo(s)),p=oT(f);let m=c[p],v=c[f];if(i){const w=p==="y"?"top":"left",_=p==="y"?"bottom":"right",b=m+u[w],x=m-u[_];m=mb(b,m,x)}if(o){const w=f==="y"?"top":"left",_=f==="y"?"bottom":"right",b=v+u[w],x=v-u[_];v=mb(b,v,x)}const g=a.fn({...e,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:i,[f]:o}}}}}},Q7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ho(t,e),u={x:n,y:r},f=Fo(s),p=oT(f);let m=u[p],v=u[f];const g=Ho(a,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=p==="y"?"height":"width",S=i.reference[p]-i.floating[x]+w.mainAxis,D=i.reference[p]+i.reference[x]-w.mainAxis;m<S?m=S:m>D&&(m=D)}if(c){var _,b;const x=p==="y"?"width":"height",S=["top","left"].includes(qo(s)),D=i.reference[f]-i.floating[x]+(S&&((_=o.offset)==null?void 0:_[f])||0)+(S?0:w.crossAxis),F=i.reference[f]+i.reference[x]+(S?0:((b=o.offset)==null?void 0:b[f])||0)-(S?w.crossAxis:0);v<D?v=D:v>F&&(v=F)}return{[p]:m,[f]:v}}}},Y7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ho(t,e),u=await xp(e,c),f=qo(s),p=bh(s),m=Fo(s)==="y",{width:v,height:g}=i.floating;let w,_;f==="top"||f==="bottom"?(w=f,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,w=p==="end"?"top":"bottom");const b=g-u.top-u.bottom,x=v-u.left-u.right,S=xl(g-u[w],b),D=xl(v-u[_],x),F=!e.middlewareData.shift;let M=S,R=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=b),F&&!p){const W=ks(u.left,0),$=ks(u.right,0),q=ks(u.top,0),N=ks(u.bottom,0);m?R=v-2*(W!==0||$!==0?W+$:ks(u.left,u.right)):M=g-2*(q!==0||N!==0?q+N:ks(u.top,u.bottom))}await l({...e,availableWidth:R,availableHeight:M});const U=await o.getDimensions(a.floating);return v!==U.width||g!==U.height?{reset:{rects:!0}}:{}}}};function $w(){return typeof window<"u"}function Eh(t){return RO(t)?(t.nodeName||"").toLowerCase():"#document"}function Os(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function to(t){var e;return(e=(RO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function RO(t){return $w()?t instanceof Node||t instanceof Os(t).Node:!1}function Ei(t){return $w()?t instanceof Element||t instanceof Os(t).Element:!1}function Yi(t){return $w()?t instanceof HTMLElement||t instanceof Os(t).HTMLElement:!1}function kC(t){return!$w()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Os(t).ShadowRoot}function im(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Si(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Z7(t){return["table","td","th"].includes(Eh(t))}function Hw(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function cT(t){const e=uT(),n=Ei(t)?Si(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function X7(t){let e=_l(t);for(;Yi(e)&&!Zd(e);){if(cT(e))return e;if(Hw(e))return null;e=_l(e)}return null}function uT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zd(t){return["html","body","#document"].includes(Eh(t))}function Si(t){return Os(t).getComputedStyle(t)}function qw(t){return Ei(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _l(t){if(Eh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kC(t)&&t.host||to(t);return kC(e)?e.host:e}function MO(t){const e=_l(t);return Zd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yi(e)&&im(e)?e:MO(e)}function _p(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=MO(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Os(s);if(i){const a=yb(o);return e.concat(o,o.visualViewport||[],im(s)?s:[],a&&n?_p(a):[])}return e.concat(s,_p(s,[],n))}function yb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function PO(t){const e=Si(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Yi(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=vy(n)!==i||vy(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function dT(t){return Ei(t)?t:t.contextElement}function yd(t){const e=dT(t);if(!Yi(e))return $i(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=PO(e);let o=(i?vy(n.width):n.width)/r,a=(i?vy(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const J7=$i(0);function OO(t){const e=Os(t);return!uT()||!e.visualViewport?J7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function eW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Os(t)?!1:e}function Uc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=dT(t);let o=$i(1);e&&(r?Ei(r)&&(o=yd(r)):o=yd(t));const a=eW(i,n,r)?OO(i):$i(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(i){const p=Os(i),m=r&&Ei(r)?Os(r):r;let v=p,g=yb(v);for(;g&&r&&m!==v;){const w=yd(g),_=g.getBoundingClientRect(),b=Si(g),x=_.left+(g.clientLeft+parseFloat(b.paddingLeft))*w.x,S=_.top+(g.clientTop+parseFloat(b.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,f*=w.y,l+=x,c+=S,v=Os(g),g=yb(v)}}return _y({width:u,height:f,x:l,y:c})}function hT(t,e){const n=qw(t).scrollLeft;return e?e.left+n:Uc(to(t)).left+n}function LO(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:hT(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function tW(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=to(r),a=e?Hw(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=$i(1);const u=$i(0),f=Yi(r);if((f||!f&&!i)&&((Eh(r)!=="body"||im(o))&&(l=qw(r)),Yi(r))){const m=Uc(r);c=yd(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const p=o&&!f&&!i?LO(o,l,!0):$i(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function nW(t){return Array.from(t.getClientRects())}function rW(t){const e=to(t),n=qw(t),r=t.ownerDocument.body,s=ks(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ks(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+hT(t);const a=-n.scrollTop;return Si(r).direction==="rtl"&&(o+=ks(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function sW(t,e){const n=Os(t),r=to(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=uT();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function iW(t,e){const n=Uc(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Yi(t)?yd(t):$i(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function RC(t,e,n){let r;if(e==="viewport")r=sW(t,n);else if(e==="document")r=rW(to(t));else if(Ei(e))r=iW(e,n);else{const s=OO(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return _y(r)}function DO(t,e){const n=_l(t);return n===e||!Ei(n)||Zd(n)?!1:Si(n).position==="fixed"||DO(n,e)}function oW(t,e){const n=e.get(t);if(n)return n;let r=_p(t,[],!1).filter(a=>Ei(a)&&Eh(a)!=="body"),s=null;const i=Si(t).position==="fixed";let o=i?_l(t):t;for(;Ei(o)&&!Zd(o);){const a=Si(o),l=cT(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||im(o)&&!l&&DO(t,o))?r=r.filter(u=>u!==o):s=a,o=_l(o)}return e.set(t,r),r}function aW(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Hw(e)?[]:oW(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const f=RC(e,u,s);return c.top=ks(f.top,c.top),c.right=xl(f.right,c.right),c.bottom=xl(f.bottom,c.bottom),c.left=ks(f.left,c.left),c},RC(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lW(t){const{width:e,height:n}=PO(t);return{width:e,height:n}}function cW(t,e,n){const r=Yi(e),s=to(e),i=n==="fixed",o=Uc(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=$i(0);function c(){l.x=hT(s)}if(r||!r&&!i)if((Eh(e)!=="body"||im(s))&&(a=qw(e)),r){const m=Uc(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?LO(s,a):$i(0),f=o.left+a.scrollLeft-l.x-u.x,p=o.top+a.scrollTop-l.y-u.y;return{x:f,y:p,width:o.width,height:o.height}}function G1(t){return Si(t).position==="static"}function MC(t,e){if(!Yi(t)||Si(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return to(t)===n&&(n=n.ownerDocument.body),n}function jO(t,e){const n=Os(t);if(Hw(t))return n;if(!Yi(t)){let s=_l(t);for(;s&&!Zd(s);){if(Ei(s)&&!G1(s))return s;s=_l(s)}return n}let r=MC(t,e);for(;r&&Z7(r)&&G1(r);)r=MC(r,e);return r&&Zd(r)&&G1(r)&&!cT(r)?n:r||X7(t)||n}const uW=async function(t){const e=this.getOffsetParent||jO,n=this.getDimensions,r=await n(t.floating);return{reference:cW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dW(t){return Si(t).direction==="rtl"}const hW={convertOffsetParentRelativeRectToViewportRelativeRect:tW,getDocumentElement:to,getClippingRect:aW,getOffsetParent:jO,getElementRects:uW,getClientRects:nW,getDimensions:lW,getScale:yd,isElement:Ei,isRTL:dW};function BO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function fW(t,e){let n=null,r;const s=to(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:f,width:p,height:m}=c;if(a||e(),!p||!m)return;const v=xg(f),g=xg(s.clientWidth-(u+p)),w=xg(s.clientHeight-(f+m)),_=xg(u),x={rootMargin:-v+"px "+-g+"px "+-w+"px "+-_+"px",threshold:ks(0,xl(1,l))||1};let S=!0;function D(F){const M=F[0].intersectionRatio;if(M!==l){if(!S)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!BO(c,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(D,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,x)}n.observe(t)}return o(!0),i}function pW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=dT(t),u=s||i?[...c?_p(c):[],..._p(e)]:[];u.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=c&&a?fW(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(_=>{let[b]=_;b&&b.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,g=l?Uc(t):null;l&&w();function w(){const _=Uc(t);g&&!BO(g,_)&&n(),g=_,v=requestAnimationFrame(w)}return n(),()=>{var _;u.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f==null||f(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const mW=K7,gW=G7,yW=$7,wW=Y7,vW=H7,PC=W7,xW=Q7,_W=(t,e,n)=>{const r=new Map,s={platform:hW,...n},i={...s.platform,_c:r};return z7(t,e,{...s,platform:i})};var a0=typeof document<"u"?k.useLayoutEffect:k.useEffect;function by(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!by(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!by(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function FO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function OC(t,e){const n=FO(t);return Math.round(e*n)/n}function Q1(t){const e=k.useRef(t);return a0(()=>{e.current=t}),e}function bW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=k.useState(r);by(p,r)||m(r);const[v,g]=k.useState(null),[w,_]=k.useState(null),b=k.useCallback(L=>{L!==F.current&&(F.current=L,g(L))},[]),x=k.useCallback(L=>{L!==M.current&&(M.current=L,_(L))},[]),S=i||v,D=o||w,F=k.useRef(null),M=k.useRef(null),R=k.useRef(u),U=l!=null,W=Q1(l),$=Q1(s),q=Q1(c),N=k.useCallback(()=>{if(!F.current||!M.current)return;const L={placement:e,strategy:n,middleware:p};$.current&&(L.platform=$.current),_W(F.current,M.current,L).then(j=>{const H={...j,isPositioned:q.current!==!1};y.current&&!by(R.current,H)&&(R.current=H,Pl.flushSync(()=>{f(H)}))})},[p,e,n,$,q]);a0(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const y=k.useRef(!1);a0(()=>(y.current=!0,()=>{y.current=!1}),[]),a0(()=>{if(S&&(F.current=S),D&&(M.current=D),S&&D){if(W.current)return W.current(S,D,N);N()}},[S,D,N,W,U]);const I=k.useMemo(()=>({reference:F,floating:M,setReference:b,setFloating:x}),[b,x]),O=k.useMemo(()=>({reference:S,floating:D}),[S,D]),z=k.useMemo(()=>{const L={position:n,left:0,top:0};if(!O.floating)return L;const j=OC(O.floating,u.x),H=OC(O.floating,u.y);return a?{...L,transform:"translate("+j+"px, "+H+"px)",...FO(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:H}},[n,a,O.floating,u.x,u.y]);return k.useMemo(()=>({...u,update:N,refs:I,elements:O,floatingStyles:z}),[u,N,I,O,z])}const EW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?PC({element:r.current,padding:s}).fn(n):{}:r?PC({element:r,padding:s}).fn(n):{}}}},SW=(t,e)=>({...mW(t),options:[t,e]}),TW=(t,e)=>({...gW(t),options:[t,e]}),IW=(t,e)=>({...xW(t),options:[t,e]}),AW=(t,e)=>({...yW(t),options:[t,e]}),NW=(t,e)=>({...wW(t),options:[t,e]}),CW=(t,e)=>({...vW(t),options:[t,e]}),kW=(t,e)=>({...EW(t),options:[t,e]});var RW="Arrow",UO=k.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(Je.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});UO.displayName=RW;var MW=UO;function VO(t){const[e,n]=k.useState(void 0);return Sr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var fT="Popper",[zO,Kw]=eo(fT),[PW,WO]=zO(fT),$O=t=>{const{__scopePopper:e,children:n}=t,[r,s]=k.useState(null);return d.jsx(PW,{scope:e,anchor:r,onAnchorChange:s,children:n})};$O.displayName=fT;var HO="PopperAnchor",qO=k.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=WO(HO,n),o=k.useRef(null),a=Dt(e,o);return k.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(Je.div,{...s,ref:a})});qO.displayName=HO;var pT="PopperContent",[OW,LW]=zO(pT),KO=k.forwardRef((t,e)=>{var le,ye,Te,Re,Ee,_e;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=t,w=WO(pT,n),[_,b]=k.useState(null),x=Dt(e,He=>b(He)),[S,D]=k.useState(null),F=VO(S),M=(F==null?void 0:F.width)??0,R=(F==null?void 0:F.height)??0,U=r+(i!=="center"?"-"+i:""),W=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},$=Array.isArray(c)?c:[c],q=$.length>0,N={padding:W,boundary:$.filter(jW),altBoundary:q},{refs:y,floatingStyles:I,placement:O,isPositioned:z,middlewareData:L}=bW({strategy:"fixed",placement:U,whileElementsMounted:(...He)=>pW(...He,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[SW({mainAxis:s+R,alignmentAxis:o}),l&&TW({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?IW():void 0,...N}),l&&AW({...N}),NW({...N,apply:({elements:He,rects:Me,availableWidth:Ge,availableHeight:zt})=>{const{width:at,height:Et}=Me.reference,or=He.floating.style;or.setProperty("--radix-popper-available-width",`${Ge}px`),or.setProperty("--radix-popper-available-height",`${zt}px`),or.setProperty("--radix-popper-anchor-width",`${at}px`),or.setProperty("--radix-popper-anchor-height",`${Et}px`)}}),S&&kW({element:S,padding:a}),BW({arrowWidth:M,arrowHeight:R}),p&&CW({strategy:"referenceHidden",...N})]}),[j,H]=YO(O),B=ti(v);Sr(()=>{z&&(B==null||B())},[z,B]);const T=(le=L.arrow)==null?void 0:le.x,K=(ye=L.arrow)==null?void 0:ye.y,ae=((Te=L.arrow)==null?void 0:Te.centerOffset)!==0,[ue,he]=k.useState();return Sr(()=>{_&&he(window.getComputedStyle(_).zIndex)},[_]),d.jsx("div",{ref:y.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:z?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(Re=L.transformOrigin)==null?void 0:Re.x,(Ee=L.transformOrigin)==null?void 0:Ee.y].join(" "),...((_e=L.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(OW,{scope:n,placedSide:j,onArrowChange:D,arrowX:T,arrowY:K,shouldHideArrow:ae,children:d.jsx(Je.div,{"data-side":j,"data-align":H,...g,ref:x,style:{...g.style,animation:z?void 0:"none"}})})})});KO.displayName=pT;var GO="PopperArrow",DW={top:"bottom",right:"left",bottom:"top",left:"right"},QO=k.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=LW(GO,r),o=DW[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(MW,{...s,ref:n,style:{...s.style,display:"block"}})})});QO.displayName=GO;function jW(t){return t!==null}var BW=t=>({name:"transformOrigin",options:t,fn(e){var w,_,b;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=YO(n),f={start:"0%",center:"50%",end:"100%"}[u],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((b=s.arrow)==null?void 0:b.y)??0)+l/2;let v="",g="";return c==="bottom"?(v=o?f:`${p}px`,g=`${-l}px`):c==="top"?(v=o?f:`${p}px`,g=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,g=o?f:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,g=o?f:`${m}px`),{data:{x:v,y:g}}}});function YO(t){const[e,n="center"]=t.split("-");return[e,n]}var FW=$O,ZO=qO,XO=KO,JO=QO,[Gw,Rde]=eo("Tooltip",[Kw]),mT=Kw(),eL="TooltipProvider",UW=700,LC="tooltip.open",[VW,tL]=Gw(eL),nL=t=>{const{__scopeTooltip:e,delayDuration:n=UW,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=k.useRef(!0),a=k.useRef(!1),l=k.useRef(0);return k.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(VW,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:k.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:k.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};nL.displayName=eL;var rL="Tooltip",[Mde,Qw]=Gw(rL),wb="TooltipTrigger",zW=k.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Qw(wb,n),i=tL(wb,n),o=mT(n),a=k.useRef(null),l=Dt(e,a,s.onTriggerChange),c=k.useRef(!1),u=k.useRef(!1),f=k.useCallback(()=>c.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(ZO,{asChild:!0,...o,children:d.jsx(Je.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Ve(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ve(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Ve(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ve(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Ve(t.onBlur,s.onClose),onClick:Ve(t.onClick,s.onClose)})})});zW.displayName=wb;var WW="TooltipPortal",[Pde,$W]=Gw(WW,{forceMount:void 0}),Xd="TooltipContent",sL=k.forwardRef((t,e)=>{const n=$W(Xd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Qw(Xd,t.__scopeTooltip);return d.jsx(Jc,{present:r||o.open,children:o.disableHoverableContent?d.jsx(iL,{side:s,...i,ref:e}):d.jsx(HW,{side:s,...i,ref:e})})}),HW=k.forwardRef((t,e)=>{const n=Qw(Xd,t.__scopeTooltip),r=tL(Xd,t.__scopeTooltip),s=k.useRef(null),i=Dt(e,s),[o,a]=k.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:f}=r,p=k.useCallback(()=>{a(null),f(!1)},[f]),m=k.useCallback((v,g)=>{const w=v.currentTarget,_={x:v.clientX,y:v.clientY},b=YW(_,w.getBoundingClientRect()),x=ZW(_,b),S=XW(g.getBoundingClientRect()),D=e$([...x,...S]);a(D),f(!0)},[f]);return k.useEffect(()=>()=>p(),[p]),k.useEffect(()=>{if(l&&u){const v=w=>m(w,u),g=w=>m(w,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",g)}}},[l,u,m,p]),k.useEffect(()=>{if(o){const v=g=>{const w=g.target,_={x:g.clientX,y:g.clientY},b=(l==null?void 0:l.contains(w))||(u==null?void 0:u.contains(w)),x=!JW(_,o);b?p():x&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,o,c,p]),d.jsx(iL,{...t,ref:i})}),[qW,KW]=Gw(rL,{isInside:!1}),GW=W9("TooltipContent"),iL=k.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Qw(Xd,n),c=mT(n),{onClose:u}=l;return k.useEffect(()=>(document.addEventListener(LC,u),()=>document.removeEventListener(LC,u)),[u]),k.useEffect(()=>{if(l.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),d.jsx(tm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:d.jsxs(XO,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(GW,{children:r}),d.jsx(qW,{scope:n,isInside:!0,children:d.jsx(dz,{id:l.contentId,role:"tooltip",children:s||r})})]})})});sL.displayName=Xd;var oL="TooltipArrow",QW=k.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=mT(n);return KW(oL,n).isInside?null:d.jsx(JO,{...s,...r,ref:e})});QW.displayName=oL;function YW(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ZW(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function XW(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function JW(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,u=a.y,f=l.x,p=l.y;u>r!=p>r&&n<(f-c)*(r-u)/(p-u)+c&&(s=!s)}return s}function e$(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),t$(e)}function t$(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var n$=nL,aL=sL;const r$=n$,s$=k.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(aL,{ref:r,sideOffset:e,className:We("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));s$.displayName=aL.displayName;const Tu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function i$(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function vb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function om(t,...e){if(!i$(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function o$(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");vb(t.outputLen),vb(t.blockLen)}function Ey(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function a$(t,e){om(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Jd(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Y1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ki(t,e){return t<<32-e|t>>>e}function l$(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function gT(t){return typeof t=="string"&&(t=l$(t)),om(t),t}function c$(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];om(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class lL{}function cL(t){const e=r=>t().update(gT(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function uL(t=32){if(Tu&&typeof Tu.getRandomValues=="function")return Tu.getRandomValues(new Uint8Array(t));if(Tu&&typeof Tu.randomBytes=="function")return Uint8Array.from(Tu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function u$(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function d$(t,e,n){return t&e^~t&n}function h$(t,e,n){return t&e^t&n^e&n}class dL extends lL{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Y1(this.buffer)}update(e){Ey(this),e=gT(e),om(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const l=Y1(e);for(;s<=i-o;o+=s)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ey(this),a$(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Jd(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;u$(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Y1(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const ha=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),kr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),_g=BigInt(2**32-1),DC=BigInt(32);function f$(t,e=!1){return e?{h:Number(t&_g),l:Number(t>>DC&_g)}:{h:Number(t>>DC&_g)|0,l:Number(t&_g)|0}}function p$(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=f$(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const jC=(t,e,n)=>t>>>n,BC=(t,e,n)=>t<<32-n|e>>>n,Iu=(t,e,n)=>t>>>n|e<<32-n,Au=(t,e,n)=>t<<32-n|e>>>n,bg=(t,e,n)=>t<<64-n|e>>>n-32,Eg=(t,e,n)=>t>>>n-32|e<<64-n;function po(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const m$=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),g$=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,y$=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),w$=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,v$=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),x$=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,_$=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fa=new Uint32Array(64);class b$ extends dL{constructor(e=32){super(64,e,8,!1),this.A=ha[0]|0,this.B=ha[1]|0,this.C=ha[2]|0,this.D=ha[3]|0,this.E=ha[4]|0,this.F=ha[5]|0,this.G=ha[6]|0,this.H=ha[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:l}=this;return[e,n,r,s,i,o,a,l]}set(e,n,r,s,i,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)fa[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const p=fa[f-15],m=fa[f-2],v=ki(p,7)^ki(p,18)^p>>>3,g=ki(m,17)^ki(m,19)^m>>>10;fa[f]=g+fa[f-7]+v+fa[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const p=ki(a,6)^ki(a,11)^ki(a,25),m=u+p+d$(a,l,c)+_$[f]+fa[f]|0,g=(ki(r,2)^ki(r,13)^ki(r,22))+h$(r,s,i)|0;u=c,c=l,l=a,a=o+m|0,o=i,i=s,s=r,r=m+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,l,c,u)}roundClean(){Jd(fa)}destroy(){this.set(0,0,0,0,0,0,0,0),Jd(this.buffer)}}const hL=p$(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),E$=hL[0],S$=hL[1],pa=new Uint32Array(80),ma=new Uint32Array(80);class T$ extends dL{constructor(e=64){super(128,e,16,!1),this.Ah=kr[0]|0,this.Al=kr[1]|0,this.Bh=kr[2]|0,this.Bl=kr[3]|0,this.Ch=kr[4]|0,this.Cl=kr[5]|0,this.Dh=kr[6]|0,this.Dl=kr[7]|0,this.Eh=kr[8]|0,this.El=kr[9]|0,this.Fh=kr[10]|0,this.Fl=kr[11]|0,this.Gh=kr[12]|0,this.Gl=kr[13]|0,this.Hh=kr[14]|0,this.Hl=kr[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:f,Fl:p,Gh:m,Gl:v,Hh:g,Hl:w}=this;return[e,n,r,s,i,o,a,l,c,u,f,p,m,v,g,w]}set(e,n,r,s,i,o,a,l,c,u,f,p,m,v,g,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=v|0,this.Hh=g|0,this.Hl=w|0}process(e,n){for(let x=0;x<16;x++,n+=4)pa[x]=e.getUint32(n),ma[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const S=pa[x-15]|0,D=ma[x-15]|0,F=Iu(S,D,1)^Iu(S,D,8)^jC(S,D,7),M=Au(S,D,1)^Au(S,D,8)^BC(S,D,7),R=pa[x-2]|0,U=ma[x-2]|0,W=Iu(R,U,19)^bg(R,U,61)^jC(R,U,6),$=Au(R,U,19)^Eg(R,U,61)^BC(R,U,6),q=y$(M,$,ma[x-7],ma[x-16]),N=w$(q,F,W,pa[x-7],pa[x-16]);pa[x]=N|0,ma[x]=q|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:f,El:p,Fh:m,Fl:v,Gh:g,Gl:w,Hh:_,Hl:b}=this;for(let x=0;x<80;x++){const S=Iu(f,p,14)^Iu(f,p,18)^bg(f,p,41),D=Au(f,p,14)^Au(f,p,18)^Eg(f,p,41),F=f&m^~f&g,M=p&v^~p&w,R=v$(b,D,M,S$[x],ma[x]),U=x$(R,_,S,F,E$[x],pa[x]),W=R|0,$=Iu(r,s,28)^bg(r,s,34)^bg(r,s,39),q=Au(r,s,28)^Eg(r,s,34)^Eg(r,s,39),N=r&i^r&a^i&a,y=s&o^s&l^o&l;_=g|0,b=w|0,g=m|0,w=v|0,m=f|0,v=p|0,{h:f,l:p}=po(c|0,u|0,U|0,W|0),c=a|0,u=l|0,a=i|0,l=o|0,i=r|0,o=s|0;const I=m$(W,q,y);r=g$(I,U,$,N),s=I|0}({h:r,l:s}=po(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=po(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=po(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=po(this.Dh|0,this.Dl|0,c|0,u|0),{h:f,l:p}=po(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:v}=po(this.Fh|0,this.Fl|0,m|0,v|0),{h:g,l:w}=po(this.Gh|0,this.Gl|0,g|0,w|0),{h:_,l:b}=po(this.Hh|0,this.Hl|0,_|0,b|0),this.set(r,s,i,o,a,l,c,u,f,p,m,v,g,w,_,b)}roundClean(){Jd(pa,ma)}destroy(){Jd(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const fL=cL(()=>new b$),I$=cL(()=>new T$);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yT=BigInt(0),xb=BigInt(1);function am(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function wT(t){if(!am(t))throw new Error("Uint8Array expected")}function fl(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Sg(t){const e=t.toString(16);return e.length&1?"0"+e:e}function pL(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?yT:BigInt("0x"+t)}const mL=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",A$=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function eh(t){if(wT(t),mL)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=A$[t[n]];return e}const mo={_0:48,_9:57,A:65,F:70,a:97,f:102};function FC(t){if(t>=mo._0&&t<=mo._9)return t-mo._0;if(t>=mo.A&&t<=mo.F)return t-(mo.A-10);if(t>=mo.a&&t<=mo.f)return t-(mo.a-10)}function Sy(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(mL)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=FC(t.charCodeAt(i)),a=FC(t.charCodeAt(i+1));if(o===void 0||a===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=o*16+a}return r}function Ic(t){return pL(eh(t))}function Hf(t){return wT(t),pL(eh(Uint8Array.from(t).reverse()))}function lm(t,e){return Sy(t.toString(16).padStart(e*2,"0"))}function Ty(t,e){return lm(t,e).reverse()}function Ln(t,e,n){let r;if(typeof e=="string")try{r=Sy(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(am(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function th(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];wT(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const Z1=t=>typeof t=="bigint"&&yT<=t;function vT(t,e,n){return Z1(t)&&Z1(e)&&Z1(n)&&e<=t&&t<n}function mi(t,e,n,r){if(!vT(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function N$(t){let e;for(e=0;t>yT;t>>=xb,e+=1);return e}const Yw=t=>(xb<<BigInt(t))-xb,X1=t=>new Uint8Array(t),UC=t=>Uint8Array.from(t);function C$(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=X1(t),s=X1(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...f)=>n(s,r,...f),l=(f=X1(0))=>{s=a(UC([0]),f),r=a(),f.length!==0&&(s=a(UC([1]),f),r=a())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){r=a();const m=r.slice();p.push(m),f+=r.length}return th(...p)};return(f,p)=>{o(),l(f);let m;for(;!(m=p(c()));)l();return o(),m}}const k$={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||am(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function cm(t,e,n={}){const r=(s,i,o)=>{const a=k$[i];if(typeof a!="function")throw new Error("invalid validator function");const l=t[s];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+l)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function Iy(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ps=BigInt(0),_r=BigInt(1),ac=BigInt(2),R$=BigInt(3),gL=BigInt(4),yL=BigInt(5),wL=BigInt(8);function un(t,e){const n=t%e;return n>=ps?n:e+n}function Rn(t,e,n){let r=t;for(;e-- >ps;)r*=r,r%=n;return r}function _b(t,e){if(t===ps)throw new Error("invert: expected non-zero number");if(e<=ps)throw new Error("invert: expected positive modulus, got "+e);let n=un(t,e),r=e,s=ps,i=_r;for(;n!==ps;){const a=r/n,l=r%n,c=s-i*a;r=n,n=l,s=i,i=c}if(r!==_r)throw new Error("invert: does not exist");return un(s,e)}function vL(t,e){const n=(t.ORDER+_r)/gL,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function M$(t,e){const n=(t.ORDER-yL)/wL,r=t.mul(e,ac),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,ac),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function P$(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-_r,n=0;for(;e%ac===ps;)e/=ac,n++;let r=ac;const s=um(t);for(;VC(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return vL;let i=s.pow(r,e);const o=(e+_r)/ac;return function(l,c){if(l.is0(c))return c;if(VC(l,c)!==1)throw new Error("Cannot find square root");let u=n,f=l.mul(l.ONE,i),p=l.pow(c,e),m=l.pow(c,o);for(;!l.eql(p,l.ONE);){if(l.is0(p))return l.ZERO;let v=1,g=l.sqr(p);for(;!l.eql(g,l.ONE);)if(v++,g=l.sqr(g),v===u)throw new Error("Cannot find square root");const w=_r<<BigInt(u-v-1),_=l.pow(f,w);u=v,f=l.sqr(_),p=l.mul(p,f),m=l.mul(m,_)}return m}}function O$(t){return t%gL===R$?vL:t%wL===yL?M$:P$(t)}const L$=(t,e)=>(un(t,e)&_r)===_r,D$=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function j$(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=D$.reduce((r,s)=>(r[s]="function",r),e);return cm(t,n)}function B$(t,e,n){if(n<ps)throw new Error("invalid exponent, negatives unsupported");if(n===ps)return t.ONE;if(n===_r)return e;let r=t.ONE,s=e;for(;n>ps;)n&_r&&(r=t.mul(r,s)),s=t.sqr(s),n>>=_r;return r}function xT(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),i),r}function VC(t,e){const n=(t.ORDER-_r)/ac,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function xL(t,e){e!==void 0&&vb(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function um(t,e,n=!1,r={}){if(t<=ps)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=xL(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:Yw(s),ZERO:ps,ONE:_r,create:l=>un(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return ps<=l&&l<t},is0:l=>l===ps,isOdd:l=>(l&_r)===_r,neg:l=>un(-l,t),eql:(l,c)=>l===c,sqr:l=>un(l*l,t),add:(l,c)=>un(l+c,t),sub:(l,c)=>un(l-c,t),mul:(l,c)=>un(l*c,t),pow:(l,c)=>B$(a,l,c),div:(l,c)=>un(l*_b(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>_b(l,t),sqrt:r.sqrt||(l=>(o||(o=O$(t)),o(a,l))),toBytes:l=>n?Ty(l,i):lm(l,i),fromBytes:l=>{if(l.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+l.length);return n?Hf(l):Ic(l)},invertBatch:l=>xT(a,l),cmov:(l,c,u)=>u?c:l});return Object.freeze(a)}function _L(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function bL(t){const e=_L(t);return e+Math.ceil(e/2)}function F$(t,e,n=!1){const r=t.length,s=_L(e),i=bL(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?Hf(t):Ic(t),a=un(o,e-_r)+_r;return n?Ty(a,s):lm(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zC=BigInt(0),bb=BigInt(1);function J1(t,e){const n=e.negate();return t?n:e}function EL(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function ex(t,e){EL(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=Yw(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function WC(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),l=t>>o;a>r&&(a-=i,l+=bb);const c=e*r,u=c+Math.abs(a)-1,f=a===0,p=a<0,m=e%2!==0;return{nextN:l,offset:u,isZero:f,isNeg:p,isNegF:m,offsetF:c}}function U$(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function V$(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const tx=new WeakMap,SL=new WeakMap;function nx(t){return SL.get(t)||1}function TL(t,e){return{constTimeNegate:J1,hasPrecomputes(n){return nx(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>zC;)r&bb&&(s=s.add(i)),i=i.double(),r>>=bb;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=ex(r,e),o=[];let a=n,l=a;for(let c=0;c<s;c++){l=a,o.push(l);for(let u=1;u<i;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=ex(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:f,isNeg:p,isNegF:m,offsetF:v}=WC(s,l,a);s=c,f?o=o.add(J1(m,r[v])):i=i.add(J1(p,r[u]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=ex(n,e);for(let a=0;a<o.windows&&s!==zC;a++){const{nextN:l,offset:c,isZero:u,isNeg:f}=WC(s,a,o);if(s=l,!u){const p=r[c];i=i.add(f?p.negate():p)}}return i},getPrecomputes(n,r,s){let i=tx.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&tx.set(r,s(i))),i},wNAFCached(n,r,s){const i=nx(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=nx(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){EL(r,e),SL.set(n,r),tx.delete(n)}}}function IL(t,e,n,r){U$(n,t),V$(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=N$(BigInt(s));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Yw(l),u=new Array(Number(c)+1).fill(o),f=Math.floor((e.BITS-1)/l)*l;let p=o;for(let m=f;m>=0;m-=l){u.fill(o);for(let g=0;g<i;g++){const w=r[g],_=Number(w>>BigInt(m)&c);u[_]=u[_].add(n[g])}let v=o;for(let g=u.length-1,w=o;g>0;g--)w=w.add(u[g]),v=v.add(w);if(p=p.add(v),m!==0)for(let g=0;g<l;g++)p=p.double()}return p}function _T(t){return j$(t.Fp),cm(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...xL(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ri=BigInt(0),Kr=BigInt(1),$C=BigInt(2),z$=BigInt(8),W$={zip215:!0};function $$(t){const e=_T(t);return cm(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function H$(t){const e=$$(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:l}=e,c=$C<<BigInt(a*8)-Kr,u=n.create,f=um(e.n,e.nBitLength);function p(L,j){const H=n.sqr(L),B=n.sqr(j),T=n.add(n.mul(e.a,H),B),K=n.add(n.ONE,n.mul(e.d,n.mul(H,B)));return n.eql(T,K)}if(!p(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const m=e.uvRatio||((L,j)=>{try{return{isValid:!0,value:n.sqrt(L*n.inv(j))}}catch{return{isValid:!1,value:Ri}}}),v=e.adjustScalarBytes||(L=>L),g=e.domain||((L,j,H)=>{if(fl("phflag",H),j.length||H)throw new Error("Contexts/pre-hash are not supported");return L});function w(L,j,H=!1){const B=H?Kr:Ri;mi("coordinate "+L,j,B,c)}function _(L){if(!(L instanceof S))throw new Error("ExtendedPoint expected")}const b=Iy((L,j)=>{const{ex:H,ey:B,ez:T}=L,K=L.is0();j==null&&(j=K?z$:n.inv(T));const ae=u(H*j),ue=u(B*j),he=u(T*j);if(K)return{x:Ri,y:Kr};if(he!==Kr)throw new Error("invZ was invalid");return{x:ae,y:ue}}),x=Iy(L=>{const{a:j,d:H}=e;if(L.is0())throw new Error("bad point: ZERO");const{ex:B,ey:T,ez:K,et:ae}=L,ue=u(B*B),he=u(T*T),le=u(K*K),ye=u(le*le),Te=u(ue*j),Re=u(le*u(Te+he)),Ee=u(ye+u(H*u(ue*he)));if(Re!==Ee)throw new Error("bad point: equation left != right (1)");const _e=u(B*T),He=u(K*ae);if(_e!==He)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(j,H,B,T){w("x",j),w("y",H),w("z",B,!0),w("t",T),this.ex=j,this.ey=H,this.ez=B,this.et=T,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(j){if(j instanceof S)throw new Error("extended point not allowed");const{x:H,y:B}=j||{};return w("x",H),w("y",B),new S(H,B,Kr,u(H*B))}static normalizeZ(j){const H=xT(n,j.map(B=>B.ez));return j.map((B,T)=>B.toAffine(H[T])).map(S.fromAffine)}static msm(j,H){return IL(S,f,j,H)}_setWindowSize(j){M.setWindowSize(this,j)}assertValidity(){x(this)}equals(j){_(j);const{ex:H,ey:B,ez:T}=this,{ex:K,ey:ae,ez:ue}=j,he=u(H*ue),le=u(K*T),ye=u(B*ue),Te=u(ae*T);return he===le&&ye===Te}is0(){return this.equals(S.ZERO)}negate(){return new S(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:j}=e,{ex:H,ey:B,ez:T}=this,K=u(H*H),ae=u(B*B),ue=u($C*u(T*T)),he=u(j*K),le=H+B,ye=u(u(le*le)-K-ae),Te=he+ae,Re=Te-ue,Ee=he-ae,_e=u(ye*Re),He=u(Te*Ee),Me=u(ye*Ee),Ge=u(Re*Te);return new S(_e,He,Ge,Me)}add(j){_(j);const{a:H,d:B}=e,{ex:T,ey:K,ez:ae,et:ue}=this,{ex:he,ey:le,ez:ye,et:Te}=j,Re=u(T*he),Ee=u(K*le),_e=u(ue*B*Te),He=u(ae*ye),Me=u((T+K)*(he+le)-Re-Ee),Ge=He-_e,zt=He+_e,at=u(Ee-H*Re),Et=u(Me*Ge),or=u(zt*at),wt=u(Me*at),oe=u(Ge*zt);return new S(Et,or,oe,wt)}subtract(j){return this.add(j.negate())}wNAF(j){return M.wNAFCached(this,j,S.normalizeZ)}multiply(j){const H=j;mi("scalar",H,Kr,r);const{p:B,f:T}=this.wNAF(H);return S.normalizeZ([B,T])[0]}multiplyUnsafe(j,H=S.ZERO){const B=j;return mi("scalar",B,Ri,r),B===Ri?F:this.is0()||B===Kr?this:M.wNAFCachedUnsafe(this,B,S.normalizeZ,H)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return M.unsafeLadder(this,r).is0()}toAffine(j){return b(this,j)}clearCofactor(){const{h:j}=e;return j===Kr?this:this.multiplyUnsafe(j)}static fromHex(j,H=!1){const{d:B,a:T}=e,K=n.BYTES;j=Ln("pointHex",j,K),fl("zip215",H);const ae=j.slice(),ue=j[K-1];ae[K-1]=ue&-129;const he=Hf(ae),le=H?c:n.ORDER;mi("pointHex.y",he,Ri,le);const ye=u(he*he),Te=u(ye-Kr),Re=u(B*ye-T);let{isValid:Ee,value:_e}=m(Te,Re);if(!Ee)throw new Error("Point.fromHex: invalid y coordinate");const He=(_e&Kr)===Kr,Me=(ue&128)!==0;if(!H&&_e===Ri&&Me)throw new Error("Point.fromHex: x=0 and x_0=1");return Me!==He&&(_e=u(-_e)),S.fromAffine({x:_e,y:he})}static fromPrivateKey(j){const{scalar:H}=W(j);return D.multiply(H)}toRawBytes(){const{x:j,y:H}=this.toAffine(),B=Ty(H,n.BYTES);return B[B.length-1]|=j&Kr?128:0,B}toHex(){return eh(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Kr,u(e.Gx*e.Gy)),S.ZERO=new S(Ri,Kr,Kr,Ri);const{BASE:D,ZERO:F}=S,M=TL(S,a*8);function R(L){return un(L,r)}function U(L){return R(Hf(L))}function W(L){const j=n.BYTES;L=Ln("private key",L,j);const H=Ln("hashed private key",i(L),2*j),B=v(H.slice(0,j)),T=H.slice(j,2*j),K=U(B);return{head:B,prefix:T,scalar:K}}function $(L){const{head:j,prefix:H,scalar:B}=W(L),T=D.multiply(B),K=T.toRawBytes();return{head:j,prefix:H,scalar:B,point:T,pointBytes:K}}function q(L){return $(L).pointBytes}function N(L=Uint8Array.of(),...j){const H=th(...j);return U(i(g(H,Ln("context",L),!!s)))}function y(L,j,H={}){L=Ln("message",L),s&&(L=s(L));const{prefix:B,scalar:T,pointBytes:K}=$(j),ae=N(H.context,B,L),ue=D.multiply(ae).toRawBytes(),he=N(H.context,ue,K,L),le=R(ae+he*T);mi("signature.s",le,Ri,r);const ye=th(ue,Ty(le,n.BYTES));return Ln("result",ye,n.BYTES*2)}const I=W$;function O(L,j,H,B=I){const{context:T,zip215:K}=B,ae=n.BYTES;L=Ln("signature",L,2*ae),j=Ln("message",j),H=Ln("publicKey",H,ae),K!==void 0&&fl("zip215",K),s&&(j=s(j));const ue=Hf(L.slice(ae,2*ae));let he,le,ye;try{he=S.fromHex(H,K),le=S.fromHex(L.slice(0,ae),K),ye=D.multiplyUnsafe(ue)}catch{return!1}if(!K&&he.isSmallOrder())return!1;const Te=N(T,le.toRawBytes(),he.toRawBytes(),j);return le.add(he.multiplyUnsafe(Te)).subtract(ye).clearCofactor().equals(S.ZERO)}return D._setWindowSize(8),{CURVE:e,getPublicKey:q,sign:y,verify:O,ExtendedPoint:S,utils:{getExtendedPublicKey:$,randomPrivateKey:()=>o(n.BYTES),precompute(L=8,j=S.BASE){return j._setWindowSize(L),j.multiply(BigInt(3)),j}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bT=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),HC=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const q$=BigInt(1),qC=BigInt(2);BigInt(3);const K$=BigInt(5),G$=BigInt(8);function Q$(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=bT,a=t*t%i*t%i,l=Rn(a,qC,i)*a%i,c=Rn(l,q$,i)*t%i,u=Rn(c,K$,i)*c%i,f=Rn(u,e,i)*u%i,p=Rn(f,n,i)*f%i,m=Rn(p,r,i)*p%i,v=Rn(m,s,i)*m%i,g=Rn(v,s,i)*m%i,w=Rn(g,e,i)*u%i;return{pow_p_5_8:Rn(w,qC,i)*t%i,b2:a}}function Y$(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Z$(t,e){const n=bT,r=un(e*e*e,n),s=un(r*r*e,n),i=Q$(t*s).pow_p_5_8;let o=un(t*r*i,n);const a=un(e*o*o,n),l=o,c=un(o*HC,n),u=a===t,f=a===un(-t,n),p=a===un(-t*HC,n);return u&&(o=l),(f||p)&&(o=c),L$(o,n)&&(o=un(-o,n)),{isValid:u||f,value:o}}const KC=um(bT,void 0,!0),X$={a:KC.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:KC,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:G$,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:I$,randomBytes:uL,adjustScalarBytes:Y$,uvRatio:Z$},ET=H$(X$);var ST={exports:{}};const J$={},eH=Object.freeze(Object.defineProperty({__proto__:null,default:J$},Symbol.toStringTag,{value:"Module"})),tH=KE(eH);ST.exports;(function(t){(function(e,n){function r(N,y){if(!N)throw new Error(y||"Assertion failed")}function s(N,y){N.super_=y;var I=function(){};I.prototype=y.prototype,N.prototype=new I,N.prototype.constructor=N}function i(N,y,I){if(i.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((y==="le"||y==="be")&&(I=y,y=10),this._init(N||0,y||10,I||"be"))}typeof e=="object"?e.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=tH.Buffer}catch{}i.isBN=function(y){return y instanceof i?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===i.wordSize&&Array.isArray(y.words)},i.max=function(y,I){return y.cmp(I)>0?y:I},i.min=function(y,I){return y.cmp(I)<0?y:I},i.prototype._init=function(y,I,O){if(typeof y=="number")return this._initNumber(y,I,O);if(typeof y=="object")return this._initArray(y,I,O);I==="hex"&&(I=16),r(I===(I|0)&&I>=2&&I<=36),y=y.toString().replace(/\s+/g,"");var z=0;y[0]==="-"&&(z++,this.negative=1),z<y.length&&(I===16?this._parseHex(y,z,O):(this._parseBase(y,I,z),O==="le"&&this._initArray(this.toArray(),I,O)))},i.prototype._initNumber=function(y,I,O){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(r(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),O==="le"&&this._initArray(this.toArray(),I,O)},i.prototype._initArray=function(y,I,O){if(r(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var L,j,H=0;if(O==="be")for(z=y.length-1,L=0;z>=0;z-=3)j=y[z]|y[z-1]<<8|y[z-2]<<16,this.words[L]|=j<<H&67108863,this.words[L+1]=j>>>26-H&67108863,H+=24,H>=26&&(H-=26,L++);else if(O==="le")for(z=0,L=0;z<y.length;z+=3)j=y[z]|y[z+1]<<8|y[z+2]<<16,this.words[L]|=j<<H&67108863,this.words[L+1]=j>>>26-H&67108863,H+=24,H>=26&&(H-=26,L++);return this._strip()};function a(N,y){var I=N.charCodeAt(y);if(I>=48&&I<=57)return I-48;if(I>=65&&I<=70)return I-55;if(I>=97&&I<=102)return I-87;r(!1,"Invalid character in "+N)}function l(N,y,I){var O=a(N,I);return I-1>=y&&(O|=a(N,I-1)<<4),O}i.prototype._parseHex=function(y,I,O){this.length=Math.ceil((y.length-I)/6),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var L=0,j=0,H;if(O==="be")for(z=y.length-1;z>=I;z-=2)H=l(y,I,z)<<L,this.words[j]|=H&67108863,L>=18?(L-=18,j+=1,this.words[j]|=H>>>26):L+=8;else{var B=y.length-I;for(z=B%2===0?I+1:I;z<y.length;z+=2)H=l(y,I,z)<<L,this.words[j]|=H&67108863,L>=18?(L-=18,j+=1,this.words[j]|=H>>>26):L+=8}this._strip()};function c(N,y,I,O){for(var z=0,L=0,j=Math.min(N.length,I),H=y;H<j;H++){var B=N.charCodeAt(H)-48;z*=O,B>=49?L=B-49+10:B>=17?L=B-17+10:L=B,r(B>=0&&L<O,"Invalid character"),z+=L}return z}i.prototype._parseBase=function(y,I,O){this.words=[0],this.length=1;for(var z=0,L=1;L<=67108863;L*=I)z++;z--,L=L/I|0;for(var j=y.length-O,H=j%z,B=Math.min(j,j-H)+O,T=0,K=O;K<B;K+=z)T=c(y,K,K+z,I),this.imuln(L),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(H!==0){var ae=1;for(T=c(y,K,y.length,I),K=0;K<H;K++)ae*=I;this.imuln(ae),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}this._strip()},i.prototype.copy=function(y){y.words=new Array(this.length);for(var I=0;I<this.length;I++)y.words[I]=this.words[I];y.length=this.length,y.negative=this.negative,y.red=this.red};function u(N,y){N.words=y.words,N.length=y.length,N.negative=y.negative,N.red=y.red}if(i.prototype._move=function(y){u(y,this)},i.prototype.clone=function(){var y=new i(null);return this.copy(y),y},i.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(y,I){y=y||10,I=I|0||1;var O;if(y===16||y==="hex"){O="";for(var z=0,L=0,j=0;j<this.length;j++){var H=this.words[j],B=((H<<z|L)&16777215).toString(16);L=H>>>24-z&16777215,z+=2,z>=26&&(z-=26,j--),L!==0||j!==this.length-1?O=p[6-B.length]+B+O:O=B+O}for(L!==0&&(O=L.toString(16)+O);O.length%I!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}if(y===(y|0)&&y>=2&&y<=36){var T=m[y],K=v[y];O="";var ae=this.clone();for(ae.negative=0;!ae.isZero();){var ue=ae.modrn(K).toString(y);ae=ae.idivn(K),ae.isZero()?O=ue+O:O=p[T-ue.length]+ue+O}for(this.isZero()&&(O="0"+O);O.length%I!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(y,I){return this.toArrayLike(o,y,I)}),i.prototype.toArray=function(y,I){return this.toArrayLike(Array,y,I)};var g=function(y,I){return y.allocUnsafe?y.allocUnsafe(I):new y(I)};i.prototype.toArrayLike=function(y,I,O){this._strip();var z=this.byteLength(),L=O||Math.max(1,z);r(z<=L,"byte array longer than desired length"),r(L>0,"Requested array length <= 0");var j=g(y,L),H=I==="le"?"LE":"BE";return this["_toArrayLike"+H](j,z),j},i.prototype._toArrayLikeLE=function(y,I){for(var O=0,z=0,L=0,j=0;L<this.length;L++){var H=this.words[L]<<j|z;y[O++]=H&255,O<y.length&&(y[O++]=H>>8&255),O<y.length&&(y[O++]=H>>16&255),j===6?(O<y.length&&(y[O++]=H>>24&255),z=0,j=0):(z=H>>>24,j+=2)}if(O<y.length)for(y[O++]=z;O<y.length;)y[O++]=0},i.prototype._toArrayLikeBE=function(y,I){for(var O=y.length-1,z=0,L=0,j=0;L<this.length;L++){var H=this.words[L]<<j|z;y[O--]=H&255,O>=0&&(y[O--]=H>>8&255),O>=0&&(y[O--]=H>>16&255),j===6?(O>=0&&(y[O--]=H>>24&255),z=0,j=0):(z=H>>>24,j+=2)}if(O>=0)for(y[O--]=z;O>=0;)y[O--]=0},Math.clz32?i.prototype._countBits=function(y){return 32-Math.clz32(y)}:i.prototype._countBits=function(y){var I=y,O=0;return I>=4096&&(O+=13,I>>>=13),I>=64&&(O+=7,I>>>=7),I>=8&&(O+=4,I>>>=4),I>=2&&(O+=2,I>>>=2),O+I},i.prototype._zeroBits=function(y){if(y===0)return 26;var I=y,O=0;return I&8191||(O+=13,I>>>=13),I&127||(O+=7,I>>>=7),I&15||(O+=4,I>>>=4),I&3||(O+=2,I>>>=2),I&1||O++,O},i.prototype.bitLength=function(){var y=this.words[this.length-1],I=this._countBits(y);return(this.length-1)*26+I};function w(N){for(var y=new Array(N.bitLength()),I=0;I<y.length;I++){var O=I/26|0,z=I%26;y[I]=N.words[O]>>>z&1}return y}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,I=0;I<this.length;I++){var O=this._zeroBits(this.words[I]);if(y+=O,O!==26)break}return y},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},i.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var I=0;I<y.length;I++)this.words[I]=this.words[I]|y.words[I];return this._strip()},i.prototype.ior=function(y){return r((this.negative|y.negative)===0),this.iuor(y)},i.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},i.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},i.prototype.iuand=function(y){var I;this.length>y.length?I=y:I=this;for(var O=0;O<I.length;O++)this.words[O]=this.words[O]&y.words[O];return this.length=I.length,this._strip()},i.prototype.iand=function(y){return r((this.negative|y.negative)===0),this.iuand(y)},i.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},i.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},i.prototype.iuxor=function(y){var I,O;this.length>y.length?(I=this,O=y):(I=y,O=this);for(var z=0;z<O.length;z++)this.words[z]=I.words[z]^O.words[z];if(this!==I)for(;z<I.length;z++)this.words[z]=I.words[z];return this.length=I.length,this._strip()},i.prototype.ixor=function(y){return r((this.negative|y.negative)===0),this.iuxor(y)},i.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},i.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},i.prototype.inotn=function(y){r(typeof y=="number"&&y>=0);var I=Math.ceil(y/26)|0,O=y%26;this._expand(I),O>0&&I--;for(var z=0;z<I;z++)this.words[z]=~this.words[z]&67108863;return O>0&&(this.words[z]=~this.words[z]&67108863>>26-O),this._strip()},i.prototype.notn=function(y){return this.clone().inotn(y)},i.prototype.setn=function(y,I){r(typeof y=="number"&&y>=0);var O=y/26|0,z=y%26;return this._expand(O+1),I?this.words[O]=this.words[O]|1<<z:this.words[O]=this.words[O]&~(1<<z),this._strip()},i.prototype.iadd=function(y){var I;if(this.negative!==0&&y.negative===0)return this.negative=0,I=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,I=this.isub(y),y.negative=1,I._normSign();var O,z;this.length>y.length?(O=this,z=y):(O=y,z=this);for(var L=0,j=0;j<z.length;j++)I=(O.words[j]|0)+(z.words[j]|0)+L,this.words[j]=I&67108863,L=I>>>26;for(;L!==0&&j<O.length;j++)I=(O.words[j]|0)+L,this.words[j]=I&67108863,L=I>>>26;if(this.length=O.length,L!==0)this.words[this.length]=L,this.length++;else if(O!==this)for(;j<O.length;j++)this.words[j]=O.words[j];return this},i.prototype.add=function(y){var I;return y.negative!==0&&this.negative===0?(y.negative=0,I=this.sub(y),y.negative^=1,I):y.negative===0&&this.negative!==0?(this.negative=0,I=y.sub(this),this.negative=1,I):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},i.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var I=this.iadd(y);return y.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var O=this.cmp(y);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var z,L;O>0?(z=this,L=y):(z=y,L=this);for(var j=0,H=0;H<L.length;H++)I=(z.words[H]|0)-(L.words[H]|0)+j,j=I>>26,this.words[H]=I&67108863;for(;j!==0&&H<z.length;H++)I=(z.words[H]|0)+j,j=I>>26,this.words[H]=I&67108863;if(j===0&&H<z.length&&z!==this)for(;H<z.length;H++)this.words[H]=z.words[H];return this.length=Math.max(this.length,H),z!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(y){return this.clone().isub(y)};function _(N,y,I){I.negative=y.negative^N.negative;var O=N.length+y.length|0;I.length=O,O=O-1|0;var z=N.words[0]|0,L=y.words[0]|0,j=z*L,H=j&67108863,B=j/67108864|0;I.words[0]=H;for(var T=1;T<O;T++){for(var K=B>>>26,ae=B&67108863,ue=Math.min(T,y.length-1),he=Math.max(0,T-N.length+1);he<=ue;he++){var le=T-he|0;z=N.words[le]|0,L=y.words[he]|0,j=z*L+ae,K+=j/67108864|0,ae=j&67108863}I.words[T]=ae|0,B=K|0}return B!==0?I.words[T]=B|0:I.length--,I._strip()}var b=function(y,I,O){var z=y.words,L=I.words,j=O.words,H=0,B,T,K,ae=z[0]|0,ue=ae&8191,he=ae>>>13,le=z[1]|0,ye=le&8191,Te=le>>>13,Re=z[2]|0,Ee=Re&8191,_e=Re>>>13,He=z[3]|0,Me=He&8191,Ge=He>>>13,zt=z[4]|0,at=zt&8191,Et=zt>>>13,or=z[5]|0,wt=or&8191,oe=or>>>13,At=z[6]|0,Tt=At&8191,Nt=At>>>13,Fn=z[7]|0,ot=Fn&8191,V=Fn>>>13,A=z[8]|0,C=A&8191,Q=A>>>13,Z=z[9]|0,X=Z&8191,ne=Z>>>13,tt=L[0]|0,qe=tt&8191,Ke=tt>>>13,Bt=L[1]|0,Be=Bt&8191,hn=Bt>>>13,jh=L[2]|0,Wt=jh&8191,on=jh>>>13,lu=L[3]|0,Ot=lu&8191,fn=lu>>>13,Bl=L[4]|0,pn=Bl&8191,$t=Bl>>>13,Bh=L[5]|0,dt=Bh&8191,mn=Bh>>>13,ia=L[6]|0,Ht=ia&8191,An=ia>>>13,Fm=L[7]|0,Ft=Fm&8191,Nn=Fm>>>13,Um=L[8]|0,Xt=Um&8191,gn=Um>>>13,cu=L[9]|0,Jt=cu&8191,Ct=cu>>>13;O.negative=y.negative^I.negative,O.length=19,B=Math.imul(ue,qe),T=Math.imul(ue,Ke),T=T+Math.imul(he,qe)|0,K=Math.imul(he,Ke);var uu=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(uu>>>26)|0,uu&=67108863,B=Math.imul(ye,qe),T=Math.imul(ye,Ke),T=T+Math.imul(Te,qe)|0,K=Math.imul(Te,Ke),B=B+Math.imul(ue,Be)|0,T=T+Math.imul(ue,hn)|0,T=T+Math.imul(he,Be)|0,K=K+Math.imul(he,hn)|0;var du=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(du>>>26)|0,du&=67108863,B=Math.imul(Ee,qe),T=Math.imul(Ee,Ke),T=T+Math.imul(_e,qe)|0,K=Math.imul(_e,Ke),B=B+Math.imul(ye,Be)|0,T=T+Math.imul(ye,hn)|0,T=T+Math.imul(Te,Be)|0,K=K+Math.imul(Te,hn)|0,B=B+Math.imul(ue,Wt)|0,T=T+Math.imul(ue,on)|0,T=T+Math.imul(he,Wt)|0,K=K+Math.imul(he,on)|0;var Fl=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(Fl>>>26)|0,Fl&=67108863,B=Math.imul(Me,qe),T=Math.imul(Me,Ke),T=T+Math.imul(Ge,qe)|0,K=Math.imul(Ge,Ke),B=B+Math.imul(Ee,Be)|0,T=T+Math.imul(Ee,hn)|0,T=T+Math.imul(_e,Be)|0,K=K+Math.imul(_e,hn)|0,B=B+Math.imul(ye,Wt)|0,T=T+Math.imul(ye,on)|0,T=T+Math.imul(Te,Wt)|0,K=K+Math.imul(Te,on)|0,B=B+Math.imul(ue,Ot)|0,T=T+Math.imul(ue,fn)|0,T=T+Math.imul(he,Ot)|0,K=K+Math.imul(he,fn)|0;var Ul=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(Ul>>>26)|0,Ul&=67108863,B=Math.imul(at,qe),T=Math.imul(at,Ke),T=T+Math.imul(Et,qe)|0,K=Math.imul(Et,Ke),B=B+Math.imul(Me,Be)|0,T=T+Math.imul(Me,hn)|0,T=T+Math.imul(Ge,Be)|0,K=K+Math.imul(Ge,hn)|0,B=B+Math.imul(Ee,Wt)|0,T=T+Math.imul(Ee,on)|0,T=T+Math.imul(_e,Wt)|0,K=K+Math.imul(_e,on)|0,B=B+Math.imul(ye,Ot)|0,T=T+Math.imul(ye,fn)|0,T=T+Math.imul(Te,Ot)|0,K=K+Math.imul(Te,fn)|0,B=B+Math.imul(ue,pn)|0,T=T+Math.imul(ue,$t)|0,T=T+Math.imul(he,pn)|0,K=K+Math.imul(he,$t)|0;var hu=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(hu>>>26)|0,hu&=67108863,B=Math.imul(wt,qe),T=Math.imul(wt,Ke),T=T+Math.imul(oe,qe)|0,K=Math.imul(oe,Ke),B=B+Math.imul(at,Be)|0,T=T+Math.imul(at,hn)|0,T=T+Math.imul(Et,Be)|0,K=K+Math.imul(Et,hn)|0,B=B+Math.imul(Me,Wt)|0,T=T+Math.imul(Me,on)|0,T=T+Math.imul(Ge,Wt)|0,K=K+Math.imul(Ge,on)|0,B=B+Math.imul(Ee,Ot)|0,T=T+Math.imul(Ee,fn)|0,T=T+Math.imul(_e,Ot)|0,K=K+Math.imul(_e,fn)|0,B=B+Math.imul(ye,pn)|0,T=T+Math.imul(ye,$t)|0,T=T+Math.imul(Te,pn)|0,K=K+Math.imul(Te,$t)|0,B=B+Math.imul(ue,dt)|0,T=T+Math.imul(ue,mn)|0,T=T+Math.imul(he,dt)|0,K=K+Math.imul(he,mn)|0;var fu=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(fu>>>26)|0,fu&=67108863,B=Math.imul(Tt,qe),T=Math.imul(Tt,Ke),T=T+Math.imul(Nt,qe)|0,K=Math.imul(Nt,Ke),B=B+Math.imul(wt,Be)|0,T=T+Math.imul(wt,hn)|0,T=T+Math.imul(oe,Be)|0,K=K+Math.imul(oe,hn)|0,B=B+Math.imul(at,Wt)|0,T=T+Math.imul(at,on)|0,T=T+Math.imul(Et,Wt)|0,K=K+Math.imul(Et,on)|0,B=B+Math.imul(Me,Ot)|0,T=T+Math.imul(Me,fn)|0,T=T+Math.imul(Ge,Ot)|0,K=K+Math.imul(Ge,fn)|0,B=B+Math.imul(Ee,pn)|0,T=T+Math.imul(Ee,$t)|0,T=T+Math.imul(_e,pn)|0,K=K+Math.imul(_e,$t)|0,B=B+Math.imul(ye,dt)|0,T=T+Math.imul(ye,mn)|0,T=T+Math.imul(Te,dt)|0,K=K+Math.imul(Te,mn)|0,B=B+Math.imul(ue,Ht)|0,T=T+Math.imul(ue,An)|0,T=T+Math.imul(he,Ht)|0,K=K+Math.imul(he,An)|0;var Fh=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(Fh>>>26)|0,Fh&=67108863,B=Math.imul(ot,qe),T=Math.imul(ot,Ke),T=T+Math.imul(V,qe)|0,K=Math.imul(V,Ke),B=B+Math.imul(Tt,Be)|0,T=T+Math.imul(Tt,hn)|0,T=T+Math.imul(Nt,Be)|0,K=K+Math.imul(Nt,hn)|0,B=B+Math.imul(wt,Wt)|0,T=T+Math.imul(wt,on)|0,T=T+Math.imul(oe,Wt)|0,K=K+Math.imul(oe,on)|0,B=B+Math.imul(at,Ot)|0,T=T+Math.imul(at,fn)|0,T=T+Math.imul(Et,Ot)|0,K=K+Math.imul(Et,fn)|0,B=B+Math.imul(Me,pn)|0,T=T+Math.imul(Me,$t)|0,T=T+Math.imul(Ge,pn)|0,K=K+Math.imul(Ge,$t)|0,B=B+Math.imul(Ee,dt)|0,T=T+Math.imul(Ee,mn)|0,T=T+Math.imul(_e,dt)|0,K=K+Math.imul(_e,mn)|0,B=B+Math.imul(ye,Ht)|0,T=T+Math.imul(ye,An)|0,T=T+Math.imul(Te,Ht)|0,K=K+Math.imul(Te,An)|0,B=B+Math.imul(ue,Ft)|0,T=T+Math.imul(ue,Nn)|0,T=T+Math.imul(he,Ft)|0,K=K+Math.imul(he,Nn)|0;var oa=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(oa>>>26)|0,oa&=67108863,B=Math.imul(C,qe),T=Math.imul(C,Ke),T=T+Math.imul(Q,qe)|0,K=Math.imul(Q,Ke),B=B+Math.imul(ot,Be)|0,T=T+Math.imul(ot,hn)|0,T=T+Math.imul(V,Be)|0,K=K+Math.imul(V,hn)|0,B=B+Math.imul(Tt,Wt)|0,T=T+Math.imul(Tt,on)|0,T=T+Math.imul(Nt,Wt)|0,K=K+Math.imul(Nt,on)|0,B=B+Math.imul(wt,Ot)|0,T=T+Math.imul(wt,fn)|0,T=T+Math.imul(oe,Ot)|0,K=K+Math.imul(oe,fn)|0,B=B+Math.imul(at,pn)|0,T=T+Math.imul(at,$t)|0,T=T+Math.imul(Et,pn)|0,K=K+Math.imul(Et,$t)|0,B=B+Math.imul(Me,dt)|0,T=T+Math.imul(Me,mn)|0,T=T+Math.imul(Ge,dt)|0,K=K+Math.imul(Ge,mn)|0,B=B+Math.imul(Ee,Ht)|0,T=T+Math.imul(Ee,An)|0,T=T+Math.imul(_e,Ht)|0,K=K+Math.imul(_e,An)|0,B=B+Math.imul(ye,Ft)|0,T=T+Math.imul(ye,Nn)|0,T=T+Math.imul(Te,Ft)|0,K=K+Math.imul(Te,Nn)|0,B=B+Math.imul(ue,Xt)|0,T=T+Math.imul(ue,gn)|0,T=T+Math.imul(he,Xt)|0,K=K+Math.imul(he,gn)|0;var pu=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(pu>>>26)|0,pu&=67108863,B=Math.imul(X,qe),T=Math.imul(X,Ke),T=T+Math.imul(ne,qe)|0,K=Math.imul(ne,Ke),B=B+Math.imul(C,Be)|0,T=T+Math.imul(C,hn)|0,T=T+Math.imul(Q,Be)|0,K=K+Math.imul(Q,hn)|0,B=B+Math.imul(ot,Wt)|0,T=T+Math.imul(ot,on)|0,T=T+Math.imul(V,Wt)|0,K=K+Math.imul(V,on)|0,B=B+Math.imul(Tt,Ot)|0,T=T+Math.imul(Tt,fn)|0,T=T+Math.imul(Nt,Ot)|0,K=K+Math.imul(Nt,fn)|0,B=B+Math.imul(wt,pn)|0,T=T+Math.imul(wt,$t)|0,T=T+Math.imul(oe,pn)|0,K=K+Math.imul(oe,$t)|0,B=B+Math.imul(at,dt)|0,T=T+Math.imul(at,mn)|0,T=T+Math.imul(Et,dt)|0,K=K+Math.imul(Et,mn)|0,B=B+Math.imul(Me,Ht)|0,T=T+Math.imul(Me,An)|0,T=T+Math.imul(Ge,Ht)|0,K=K+Math.imul(Ge,An)|0,B=B+Math.imul(Ee,Ft)|0,T=T+Math.imul(Ee,Nn)|0,T=T+Math.imul(_e,Ft)|0,K=K+Math.imul(_e,Nn)|0,B=B+Math.imul(ye,Xt)|0,T=T+Math.imul(ye,gn)|0,T=T+Math.imul(Te,Xt)|0,K=K+Math.imul(Te,gn)|0,B=B+Math.imul(ue,Jt)|0,T=T+Math.imul(ue,Ct)|0,T=T+Math.imul(he,Jt)|0,K=K+Math.imul(he,Ct)|0;var Vl=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(Vl>>>26)|0,Vl&=67108863,B=Math.imul(X,Be),T=Math.imul(X,hn),T=T+Math.imul(ne,Be)|0,K=Math.imul(ne,hn),B=B+Math.imul(C,Wt)|0,T=T+Math.imul(C,on)|0,T=T+Math.imul(Q,Wt)|0,K=K+Math.imul(Q,on)|0,B=B+Math.imul(ot,Ot)|0,T=T+Math.imul(ot,fn)|0,T=T+Math.imul(V,Ot)|0,K=K+Math.imul(V,fn)|0,B=B+Math.imul(Tt,pn)|0,T=T+Math.imul(Tt,$t)|0,T=T+Math.imul(Nt,pn)|0,K=K+Math.imul(Nt,$t)|0,B=B+Math.imul(wt,dt)|0,T=T+Math.imul(wt,mn)|0,T=T+Math.imul(oe,dt)|0,K=K+Math.imul(oe,mn)|0,B=B+Math.imul(at,Ht)|0,T=T+Math.imul(at,An)|0,T=T+Math.imul(Et,Ht)|0,K=K+Math.imul(Et,An)|0,B=B+Math.imul(Me,Ft)|0,T=T+Math.imul(Me,Nn)|0,T=T+Math.imul(Ge,Ft)|0,K=K+Math.imul(Ge,Nn)|0,B=B+Math.imul(Ee,Xt)|0,T=T+Math.imul(Ee,gn)|0,T=T+Math.imul(_e,Xt)|0,K=K+Math.imul(_e,gn)|0,B=B+Math.imul(ye,Jt)|0,T=T+Math.imul(ye,Ct)|0,T=T+Math.imul(Te,Jt)|0,K=K+Math.imul(Te,Ct)|0;var co=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(co>>>26)|0,co&=67108863,B=Math.imul(X,Wt),T=Math.imul(X,on),T=T+Math.imul(ne,Wt)|0,K=Math.imul(ne,on),B=B+Math.imul(C,Ot)|0,T=T+Math.imul(C,fn)|0,T=T+Math.imul(Q,Ot)|0,K=K+Math.imul(Q,fn)|0,B=B+Math.imul(ot,pn)|0,T=T+Math.imul(ot,$t)|0,T=T+Math.imul(V,pn)|0,K=K+Math.imul(V,$t)|0,B=B+Math.imul(Tt,dt)|0,T=T+Math.imul(Tt,mn)|0,T=T+Math.imul(Nt,dt)|0,K=K+Math.imul(Nt,mn)|0,B=B+Math.imul(wt,Ht)|0,T=T+Math.imul(wt,An)|0,T=T+Math.imul(oe,Ht)|0,K=K+Math.imul(oe,An)|0,B=B+Math.imul(at,Ft)|0,T=T+Math.imul(at,Nn)|0,T=T+Math.imul(Et,Ft)|0,K=K+Math.imul(Et,Nn)|0,B=B+Math.imul(Me,Xt)|0,T=T+Math.imul(Me,gn)|0,T=T+Math.imul(Ge,Xt)|0,K=K+Math.imul(Ge,gn)|0,B=B+Math.imul(Ee,Jt)|0,T=T+Math.imul(Ee,Ct)|0,T=T+Math.imul(_e,Jt)|0,K=K+Math.imul(_e,Ct)|0;var ni=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(ni>>>26)|0,ni&=67108863,B=Math.imul(X,Ot),T=Math.imul(X,fn),T=T+Math.imul(ne,Ot)|0,K=Math.imul(ne,fn),B=B+Math.imul(C,pn)|0,T=T+Math.imul(C,$t)|0,T=T+Math.imul(Q,pn)|0,K=K+Math.imul(Q,$t)|0,B=B+Math.imul(ot,dt)|0,T=T+Math.imul(ot,mn)|0,T=T+Math.imul(V,dt)|0,K=K+Math.imul(V,mn)|0,B=B+Math.imul(Tt,Ht)|0,T=T+Math.imul(Tt,An)|0,T=T+Math.imul(Nt,Ht)|0,K=K+Math.imul(Nt,An)|0,B=B+Math.imul(wt,Ft)|0,T=T+Math.imul(wt,Nn)|0,T=T+Math.imul(oe,Ft)|0,K=K+Math.imul(oe,Nn)|0,B=B+Math.imul(at,Xt)|0,T=T+Math.imul(at,gn)|0,T=T+Math.imul(Et,Xt)|0,K=K+Math.imul(Et,gn)|0,B=B+Math.imul(Me,Jt)|0,T=T+Math.imul(Me,Ct)|0,T=T+Math.imul(Ge,Jt)|0,K=K+Math.imul(Ge,Ct)|0;var zl=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(zl>>>26)|0,zl&=67108863,B=Math.imul(X,pn),T=Math.imul(X,$t),T=T+Math.imul(ne,pn)|0,K=Math.imul(ne,$t),B=B+Math.imul(C,dt)|0,T=T+Math.imul(C,mn)|0,T=T+Math.imul(Q,dt)|0,K=K+Math.imul(Q,mn)|0,B=B+Math.imul(ot,Ht)|0,T=T+Math.imul(ot,An)|0,T=T+Math.imul(V,Ht)|0,K=K+Math.imul(V,An)|0,B=B+Math.imul(Tt,Ft)|0,T=T+Math.imul(Tt,Nn)|0,T=T+Math.imul(Nt,Ft)|0,K=K+Math.imul(Nt,Nn)|0,B=B+Math.imul(wt,Xt)|0,T=T+Math.imul(wt,gn)|0,T=T+Math.imul(oe,Xt)|0,K=K+Math.imul(oe,gn)|0,B=B+Math.imul(at,Jt)|0,T=T+Math.imul(at,Ct)|0,T=T+Math.imul(Et,Jt)|0,K=K+Math.imul(Et,Ct)|0;var Uh=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(Uh>>>26)|0,Uh&=67108863,B=Math.imul(X,dt),T=Math.imul(X,mn),T=T+Math.imul(ne,dt)|0,K=Math.imul(ne,mn),B=B+Math.imul(C,Ht)|0,T=T+Math.imul(C,An)|0,T=T+Math.imul(Q,Ht)|0,K=K+Math.imul(Q,An)|0,B=B+Math.imul(ot,Ft)|0,T=T+Math.imul(ot,Nn)|0,T=T+Math.imul(V,Ft)|0,K=K+Math.imul(V,Nn)|0,B=B+Math.imul(Tt,Xt)|0,T=T+Math.imul(Tt,gn)|0,T=T+Math.imul(Nt,Xt)|0,K=K+Math.imul(Nt,gn)|0,B=B+Math.imul(wt,Jt)|0,T=T+Math.imul(wt,Ct)|0,T=T+Math.imul(oe,Jt)|0,K=K+Math.imul(oe,Ct)|0;var mu=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(mu>>>26)|0,mu&=67108863,B=Math.imul(X,Ht),T=Math.imul(X,An),T=T+Math.imul(ne,Ht)|0,K=Math.imul(ne,An),B=B+Math.imul(C,Ft)|0,T=T+Math.imul(C,Nn)|0,T=T+Math.imul(Q,Ft)|0,K=K+Math.imul(Q,Nn)|0,B=B+Math.imul(ot,Xt)|0,T=T+Math.imul(ot,gn)|0,T=T+Math.imul(V,Xt)|0,K=K+Math.imul(V,gn)|0,B=B+Math.imul(Tt,Jt)|0,T=T+Math.imul(Tt,Ct)|0,T=T+Math.imul(Nt,Jt)|0,K=K+Math.imul(Nt,Ct)|0;var gu=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(gu>>>26)|0,gu&=67108863,B=Math.imul(X,Ft),T=Math.imul(X,Nn),T=T+Math.imul(ne,Ft)|0,K=Math.imul(ne,Nn),B=B+Math.imul(C,Xt)|0,T=T+Math.imul(C,gn)|0,T=T+Math.imul(Q,Xt)|0,K=K+Math.imul(Q,gn)|0,B=B+Math.imul(ot,Jt)|0,T=T+Math.imul(ot,Ct)|0,T=T+Math.imul(V,Jt)|0,K=K+Math.imul(V,Ct)|0;var yu=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(yu>>>26)|0,yu&=67108863,B=Math.imul(X,Xt),T=Math.imul(X,gn),T=T+Math.imul(ne,Xt)|0,K=Math.imul(ne,gn),B=B+Math.imul(C,Jt)|0,T=T+Math.imul(C,Ct)|0,T=T+Math.imul(Q,Jt)|0,K=K+Math.imul(Q,Ct)|0;var Wl=(H+B|0)+((T&8191)<<13)|0;H=(K+(T>>>13)|0)+(Wl>>>26)|0,Wl&=67108863,B=Math.imul(X,Jt),T=Math.imul(X,Ct),T=T+Math.imul(ne,Jt)|0,K=Math.imul(ne,Ct);var $l=(H+B|0)+((T&8191)<<13)|0;return H=(K+(T>>>13)|0)+($l>>>26)|0,$l&=67108863,j[0]=uu,j[1]=du,j[2]=Fl,j[3]=Ul,j[4]=hu,j[5]=fu,j[6]=Fh,j[7]=oa,j[8]=pu,j[9]=Vl,j[10]=co,j[11]=ni,j[12]=zl,j[13]=Uh,j[14]=mu,j[15]=gu,j[16]=yu,j[17]=Wl,j[18]=$l,H!==0&&(j[19]=H,O.length++),O};Math.imul||(b=_);function x(N,y,I){I.negative=y.negative^N.negative,I.length=N.length+y.length;for(var O=0,z=0,L=0;L<I.length-1;L++){var j=z;z=0;for(var H=O&67108863,B=Math.min(L,y.length-1),T=Math.max(0,L-N.length+1);T<=B;T++){var K=L-T,ae=N.words[K]|0,ue=y.words[T]|0,he=ae*ue,le=he&67108863;j=j+(he/67108864|0)|0,le=le+H|0,H=le&67108863,j=j+(le>>>26)|0,z+=j>>>26,j&=67108863}I.words[L]=H,O=j,j=z}return O!==0?I.words[L]=O:I.length--,I._strip()}function S(N,y,I){return x(N,y,I)}i.prototype.mulTo=function(y,I){var O,z=this.length+y.length;return this.length===10&&y.length===10?O=b(this,y,I):z<63?O=_(this,y,I):z<1024?O=x(this,y,I):O=S(this,y,I),O},i.prototype.mul=function(y){var I=new i(null);return I.words=new Array(this.length+y.length),this.mulTo(y,I)},i.prototype.mulf=function(y){var I=new i(null);return I.words=new Array(this.length+y.length),S(this,y,I)},i.prototype.imul=function(y){return this.clone().mulTo(y,this)},i.prototype.imuln=function(y){var I=y<0;I&&(y=-y),r(typeof y=="number"),r(y<67108864);for(var O=0,z=0;z<this.length;z++){var L=(this.words[z]|0)*y,j=(L&67108863)+(O&67108863);O>>=26,O+=L/67108864|0,O+=j>>>26,this.words[z]=j&67108863}return O!==0&&(this.words[z]=O,this.length++),this.length=y===0?1:this.length,I?this.ineg():this},i.prototype.muln=function(y){return this.clone().imuln(y)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(y){var I=w(y);if(I.length===0)return new i(1);for(var O=this,z=0;z<I.length&&I[z]===0;z++,O=O.sqr());if(++z<I.length)for(var L=O.sqr();z<I.length;z++,L=L.sqr())I[z]!==0&&(O=O.mul(L));return O},i.prototype.iushln=function(y){r(typeof y=="number"&&y>=0);var I=y%26,O=(y-I)/26,z=67108863>>>26-I<<26-I,L;if(I!==0){var j=0;for(L=0;L<this.length;L++){var H=this.words[L]&z,B=(this.words[L]|0)-H<<I;this.words[L]=B|j,j=H>>>26-I}j&&(this.words[L]=j,this.length++)}if(O!==0){for(L=this.length-1;L>=0;L--)this.words[L+O]=this.words[L];for(L=0;L<O;L++)this.words[L]=0;this.length+=O}return this._strip()},i.prototype.ishln=function(y){return r(this.negative===0),this.iushln(y)},i.prototype.iushrn=function(y,I,O){r(typeof y=="number"&&y>=0);var z;I?z=(I-I%26)/26:z=0;var L=y%26,j=Math.min((y-L)/26,this.length),H=67108863^67108863>>>L<<L,B=O;if(z-=j,z=Math.max(0,z),B){for(var T=0;T<j;T++)B.words[T]=this.words[T];B.length=j}if(j!==0)if(this.length>j)for(this.length-=j,T=0;T<this.length;T++)this.words[T]=this.words[T+j];else this.words[0]=0,this.length=1;var K=0;for(T=this.length-1;T>=0&&(K!==0||T>=z);T--){var ae=this.words[T]|0;this.words[T]=K<<26-L|ae>>>L,K=ae&H}return B&&K!==0&&(B.words[B.length++]=K),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(y,I,O){return r(this.negative===0),this.iushrn(y,I,O)},i.prototype.shln=function(y){return this.clone().ishln(y)},i.prototype.ushln=function(y){return this.clone().iushln(y)},i.prototype.shrn=function(y){return this.clone().ishrn(y)},i.prototype.ushrn=function(y){return this.clone().iushrn(y)},i.prototype.testn=function(y){r(typeof y=="number"&&y>=0);var I=y%26,O=(y-I)/26,z=1<<I;if(this.length<=O)return!1;var L=this.words[O];return!!(L&z)},i.prototype.imaskn=function(y){r(typeof y=="number"&&y>=0);var I=y%26,O=(y-I)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(I!==0&&O++,this.length=Math.min(O,this.length),I!==0){var z=67108863^67108863>>>I<<I;this.words[this.length-1]&=z}return this._strip()},i.prototype.maskn=function(y){return this.clone().imaskn(y)},i.prototype.iaddn=function(y){return r(typeof y=="number"),r(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<=y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},i.prototype._iaddn=function(y){this.words[0]+=y;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},i.prototype.isubn=function(y){if(r(typeof y=="number"),r(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this._strip()},i.prototype.addn=function(y){return this.clone().iaddn(y)},i.prototype.subn=function(y){return this.clone().isubn(y)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(y,I,O){var z=y.length+O,L;this._expand(z);var j,H=0;for(L=0;L<y.length;L++){j=(this.words[L+O]|0)+H;var B=(y.words[L]|0)*I;j-=B&67108863,H=(j>>26)-(B/67108864|0),this.words[L+O]=j&67108863}for(;L<this.length-O;L++)j=(this.words[L+O]|0)+H,H=j>>26,this.words[L+O]=j&67108863;if(H===0)return this._strip();for(r(H===-1),H=0,L=0;L<this.length;L++)j=-(this.words[L]|0)+H,H=j>>26,this.words[L]=j&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(y,I){var O=this.length-y.length,z=this.clone(),L=y,j=L.words[L.length-1]|0,H=this._countBits(j);O=26-H,O!==0&&(L=L.ushln(O),z.iushln(O),j=L.words[L.length-1]|0);var B=z.length-L.length,T;if(I!=="mod"){T=new i(null),T.length=B+1,T.words=new Array(T.length);for(var K=0;K<T.length;K++)T.words[K]=0}var ae=z.clone()._ishlnsubmul(L,1,B);ae.negative===0&&(z=ae,T&&(T.words[B]=1));for(var ue=B-1;ue>=0;ue--){var he=(z.words[L.length+ue]|0)*67108864+(z.words[L.length+ue-1]|0);for(he=Math.min(he/j|0,67108863),z._ishlnsubmul(L,he,ue);z.negative!==0;)he--,z.negative=0,z._ishlnsubmul(L,1,ue),z.isZero()||(z.negative^=1);T&&(T.words[ue]=he)}return T&&T._strip(),z._strip(),I!=="div"&&O!==0&&z.iushrn(O),{div:T||null,mod:z}},i.prototype.divmod=function(y,I,O){if(r(!y.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var z,L,j;return this.negative!==0&&y.negative===0?(j=this.neg().divmod(y,I),I!=="mod"&&(z=j.div.neg()),I!=="div"&&(L=j.mod.neg(),O&&L.negative!==0&&L.iadd(y)),{div:z,mod:L}):this.negative===0&&y.negative!==0?(j=this.divmod(y.neg(),I),I!=="mod"&&(z=j.div.neg()),{div:z,mod:j.mod}):this.negative&y.negative?(j=this.neg().divmod(y.neg(),I),I!=="div"&&(L=j.mod.neg(),O&&L.negative!==0&&L.isub(y)),{div:j.div,mod:L}):y.length>this.length||this.cmp(y)<0?{div:new i(0),mod:this}:y.length===1?I==="div"?{div:this.divn(y.words[0]),mod:null}:I==="mod"?{div:null,mod:new i(this.modrn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new i(this.modrn(y.words[0]))}:this._wordDiv(y,I)},i.prototype.div=function(y){return this.divmod(y,"div",!1).div},i.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},i.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},i.prototype.divRound=function(y){var I=this.divmod(y);if(I.mod.isZero())return I.div;var O=I.div.negative!==0?I.mod.isub(y):I.mod,z=y.ushrn(1),L=y.andln(1),j=O.cmp(z);return j<0||L===1&&j===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},i.prototype.modrn=function(y){var I=y<0;I&&(y=-y),r(y<=67108863);for(var O=(1<<26)%y,z=0,L=this.length-1;L>=0;L--)z=(O*z+(this.words[L]|0))%y;return I?-z:z},i.prototype.modn=function(y){return this.modrn(y)},i.prototype.idivn=function(y){var I=y<0;I&&(y=-y),r(y<=67108863);for(var O=0,z=this.length-1;z>=0;z--){var L=(this.words[z]|0)+O*67108864;this.words[z]=L/y|0,O=L%y}return this._strip(),I?this.ineg():this},i.prototype.divn=function(y){return this.clone().idivn(y)},i.prototype.egcd=function(y){r(y.negative===0),r(!y.isZero());var I=this,O=y.clone();I.negative!==0?I=I.umod(y):I=I.clone();for(var z=new i(1),L=new i(0),j=new i(0),H=new i(1),B=0;I.isEven()&&O.isEven();)I.iushrn(1),O.iushrn(1),++B;for(var T=O.clone(),K=I.clone();!I.isZero();){for(var ae=0,ue=1;!(I.words[0]&ue)&&ae<26;++ae,ue<<=1);if(ae>0)for(I.iushrn(ae);ae-- >0;)(z.isOdd()||L.isOdd())&&(z.iadd(T),L.isub(K)),z.iushrn(1),L.iushrn(1);for(var he=0,le=1;!(O.words[0]&le)&&he<26;++he,le<<=1);if(he>0)for(O.iushrn(he);he-- >0;)(j.isOdd()||H.isOdd())&&(j.iadd(T),H.isub(K)),j.iushrn(1),H.iushrn(1);I.cmp(O)>=0?(I.isub(O),z.isub(j),L.isub(H)):(O.isub(I),j.isub(z),H.isub(L))}return{a:j,b:H,gcd:O.iushln(B)}},i.prototype._invmp=function(y){r(y.negative===0),r(!y.isZero());var I=this,O=y.clone();I.negative!==0?I=I.umod(y):I=I.clone();for(var z=new i(1),L=new i(0),j=O.clone();I.cmpn(1)>0&&O.cmpn(1)>0;){for(var H=0,B=1;!(I.words[0]&B)&&H<26;++H,B<<=1);if(H>0)for(I.iushrn(H);H-- >0;)z.isOdd()&&z.iadd(j),z.iushrn(1);for(var T=0,K=1;!(O.words[0]&K)&&T<26;++T,K<<=1);if(T>0)for(O.iushrn(T);T-- >0;)L.isOdd()&&L.iadd(j),L.iushrn(1);I.cmp(O)>=0?(I.isub(O),z.isub(L)):(O.isub(I),L.isub(z))}var ae;return I.cmpn(1)===0?ae=z:ae=L,ae.cmpn(0)<0&&ae.iadd(y),ae},i.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var I=this.clone(),O=y.clone();I.negative=0,O.negative=0;for(var z=0;I.isEven()&&O.isEven();z++)I.iushrn(1),O.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;O.isEven();)O.iushrn(1);var L=I.cmp(O);if(L<0){var j=I;I=O,O=j}else if(L===0||O.cmpn(1)===0)break;I.isub(O)}while(!0);return O.iushln(z)},i.prototype.invm=function(y){return this.egcd(y).a.umod(y)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(y){return this.words[0]&y},i.prototype.bincn=function(y){r(typeof y=="number");var I=y%26,O=(y-I)/26,z=1<<I;if(this.length<=O)return this._expand(O+1),this.words[O]|=z,this;for(var L=z,j=O;L!==0&&j<this.length;j++){var H=this.words[j]|0;H+=L,L=H>>>26,H&=67108863,this.words[j]=H}return L!==0&&(this.words[j]=L,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(y){var I=y<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this._strip();var O;if(this.length>1)O=1;else{I&&(y=-y),r(y<=67108863,"Number is too big");var z=this.words[0]|0;O=z===y?0:z<y?-1:1}return this.negative!==0?-O|0:O},i.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var I=this.ucmp(y);return this.negative!==0?-I|0:I},i.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var I=0,O=this.length-1;O>=0;O--){var z=this.words[O]|0,L=y.words[O]|0;if(z!==L){z<L?I=-1:z>L&&(I=1);break}}return I},i.prototype.gtn=function(y){return this.cmpn(y)===1},i.prototype.gt=function(y){return this.cmp(y)===1},i.prototype.gten=function(y){return this.cmpn(y)>=0},i.prototype.gte=function(y){return this.cmp(y)>=0},i.prototype.ltn=function(y){return this.cmpn(y)===-1},i.prototype.lt=function(y){return this.cmp(y)===-1},i.prototype.lten=function(y){return this.cmpn(y)<=0},i.prototype.lte=function(y){return this.cmp(y)<=0},i.prototype.eqn=function(y){return this.cmpn(y)===0},i.prototype.eq=function(y){return this.cmp(y)===0},i.red=function(y){return new $(y)},i.prototype.toRed=function(y){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(y){return this.red=y,this},i.prototype.forceRed=function(y){return r(!this.red,"Already a number in reduction context"),this._forceRed(y)},i.prototype.redAdd=function(y){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},i.prototype.redIAdd=function(y){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},i.prototype.redSub=function(y){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},i.prototype.redISub=function(y){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},i.prototype.redShl=function(y){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},i.prototype.redMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},i.prototype.redIMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(y){return r(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var D={k256:null,p224:null,p192:null,p25519:null};function F(N,y){this.name=N,this.p=new i(y,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}F.prototype._tmp=function(){var y=new i(null);return y.words=new Array(Math.ceil(this.n/13)),y},F.prototype.ireduce=function(y){var I=y,O;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),O=I.bitLength();while(O>this.n);var z=O<this.n?-1:I.ucmp(this.p);return z===0?(I.words[0]=0,I.length=1):z>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},F.prototype.split=function(y,I){y.iushrn(this.n,0,I)},F.prototype.imulK=function(y){return y.imul(this.k)};function M(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(M,F),M.prototype.split=function(y,I){for(var O=4194303,z=Math.min(y.length,9),L=0;L<z;L++)I.words[L]=y.words[L];if(I.length=z,y.length<=9){y.words[0]=0,y.length=1;return}var j=y.words[9];for(I.words[I.length++]=j&O,L=10;L<y.length;L++){var H=y.words[L]|0;y.words[L-10]=(H&O)<<4|j>>>22,j=H}j>>>=22,y.words[L-10]=j,j===0&&y.length>10?y.length-=10:y.length-=9},M.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var I=0,O=0;O<y.length;O++){var z=y.words[O]|0;I+=z*977,y.words[O]=I&67108863,I=z*64+(I/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function R(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(R,F);function U(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(U,F);function W(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(W,F),W.prototype.imulK=function(y){for(var I=0,O=0;O<y.length;O++){var z=(y.words[O]|0)*19+I,L=z&67108863;z>>>=26,y.words[O]=L,I=z}return I!==0&&(y.words[y.length++]=I),y},i._prime=function(y){if(D[y])return D[y];var I;if(y==="k256")I=new M;else if(y==="p224")I=new R;else if(y==="p192")I=new U;else if(y==="p25519")I=new W;else throw new Error("Unknown prime "+y);return D[y]=I,I};function $(N){if(typeof N=="string"){var y=i._prime(N);this.m=y.p,this.prime=y}else r(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}$.prototype._verify1=function(y){r(y.negative===0,"red works only with positives"),r(y.red,"red works only with red numbers")},$.prototype._verify2=function(y,I){r((y.negative|I.negative)===0,"red works only with positives"),r(y.red&&y.red===I.red,"red works only with red numbers")},$.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):(u(y,y.umod(this.m)._forceRed(this)),y)},$.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},$.prototype.add=function(y,I){this._verify2(y,I);var O=y.add(I);return O.cmp(this.m)>=0&&O.isub(this.m),O._forceRed(this)},$.prototype.iadd=function(y,I){this._verify2(y,I);var O=y.iadd(I);return O.cmp(this.m)>=0&&O.isub(this.m),O},$.prototype.sub=function(y,I){this._verify2(y,I);var O=y.sub(I);return O.cmpn(0)<0&&O.iadd(this.m),O._forceRed(this)},$.prototype.isub=function(y,I){this._verify2(y,I);var O=y.isub(I);return O.cmpn(0)<0&&O.iadd(this.m),O},$.prototype.shl=function(y,I){return this._verify1(y),this.imod(y.ushln(I))},$.prototype.imul=function(y,I){return this._verify2(y,I),this.imod(y.imul(I))},$.prototype.mul=function(y,I){return this._verify2(y,I),this.imod(y.mul(I))},$.prototype.isqr=function(y){return this.imul(y,y.clone())},$.prototype.sqr=function(y){return this.mul(y,y)},$.prototype.sqrt=function(y){if(y.isZero())return y.clone();var I=this.m.andln(3);if(r(I%2===1),I===3){var O=this.m.add(new i(1)).iushrn(2);return this.pow(y,O)}for(var z=this.m.subn(1),L=0;!z.isZero()&&z.andln(1)===0;)L++,z.iushrn(1);r(!z.isZero());var j=new i(1).toRed(this),H=j.redNeg(),B=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new i(2*T*T).toRed(this);this.pow(T,B).cmp(H)!==0;)T.redIAdd(H);for(var K=this.pow(T,z),ae=this.pow(y,z.addn(1).iushrn(1)),ue=this.pow(y,z),he=L;ue.cmp(j)!==0;){for(var le=ue,ye=0;le.cmp(j)!==0;ye++)le=le.redSqr();r(ye<he);var Te=this.pow(K,new i(1).iushln(he-ye-1));ae=ae.redMul(Te),K=Te.redSqr(),ue=ue.redMul(K),he=ye}return ae},$.prototype.invm=function(y){var I=y._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},$.prototype.pow=function(y,I){if(I.isZero())return new i(1).toRed(this);if(I.cmpn(1)===0)return y.clone();var O=4,z=new Array(1<<O);z[0]=new i(1).toRed(this),z[1]=y;for(var L=2;L<z.length;L++)z[L]=this.mul(z[L-1],y);var j=z[0],H=0,B=0,T=I.bitLength()%26;for(T===0&&(T=26),L=I.length-1;L>=0;L--){for(var K=I.words[L],ae=T-1;ae>=0;ae--){var ue=K>>ae&1;if(j!==z[0]&&(j=this.sqr(j)),ue===0&&H===0){B=0;continue}H<<=1,H|=ue,B++,!(B!==O&&(L!==0||ae!==0))&&(j=this.mul(j,z[H]),B=0,H=0)}T=26}return j},$.prototype.convertTo=function(y){var I=y.umod(this.m);return I===y?I.clone():I},$.prototype.convertFrom=function(y){var I=y.clone();return I.red=null,I},i.mont=function(y){return new q(y)};function q(N){$.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(q,$),q.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},q.prototype.convertFrom=function(y){var I=this.imod(y.mul(this.rinv));return I.red=null,I},q.prototype.imul=function(y,I){if(y.isZero()||I.isZero())return y.words[0]=0,y.length=1,y;var O=y.imul(I),z=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=O.isub(z).iushrn(this.shift),j=L;return L.cmp(this.m)>=0?j=L.isub(this.m):L.cmpn(0)<0&&(j=L.iadd(this.m)),j._forceRed(this)},q.prototype.mul=function(y,I){if(y.isZero()||I.isZero())return new i(0)._forceRed(this);var O=y.mul(I),z=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=O.isub(z).iushrn(this.shift),j=L;return L.cmp(this.m)>=0?j=L.isub(this.m):L.cmpn(0)<0&&(j=L.iadd(this.m)),j._forceRed(this)},q.prototype.invm=function(y){var I=this.imod(y._invmp(this.m).mul(this.r2));return I._forceRed(this)}})(t,_i)})(ST);var AL=ST.exports;const GC=ra(AL);var Eb={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=Xe,r=n.Buffer;function s(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=i);function i(o,a,l){return r(o,a,l)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},i.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Eb,Eb.exports);var NL=Eb.exports,Tg=NL.Buffer;function nH(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=Tg.from(m)),!Tg.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var v=0,g=0,w=0,_=m.length;w!==_&&m[w]===0;)w++,v++;for(var b=(_-w)*c+1>>>0,x=new Uint8Array(b);w!==_;){for(var S=m[w],D=0,F=b-1;(S!==0||D<g)&&F!==-1;F--,D++)S+=256*x[F]>>>0,x[F]=S%o>>>0,S=S/o>>>0;if(S!==0)throw new Error("Non-zero carry");g=D,w++}for(var M=b-g;M!==b&&x[M]===0;)M++;for(var R=a.repeat(v);M<b;++M)R+=t.charAt(x[M]);return R}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return Tg.alloc(0);for(var v=0,g=0,w=0;m[v]===a;)g++,v++;for(var _=(m.length-v)*l+1>>>0,b=new Uint8Array(_);v<m.length;){var x=m.charCodeAt(v);if(x>255)return;var S=e[x];if(S===255)return;for(var D=0,F=_-1;(S!==0||D<w)&&F!==-1;F--,D++)S+=o*b[F]>>>0,b[F]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");w=D,v++}for(var M=_-w;M!==_&&b[M]===0;)M++;var R=Tg.allocUnsafe(g+(_-M));R.fill(0,0,g);for(var U=g;M!==_;)R[U++]=b[M++];return R}function p(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:p}}var rH=nH,sH=rH,iH="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",oH=sH(iH);const yr=ra(oH),QC=fL;var mr={},Ig=NL.Buffer;function aH(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=Ig.from(m)),!Ig.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var v=0,g=0,w=0,_=m.length;w!==_&&m[w]===0;)w++,v++;for(var b=(_-w)*c+1>>>0,x=new Uint8Array(b);w!==_;){for(var S=m[w],D=0,F=b-1;(S!==0||D<g)&&F!==-1;F--,D++)S+=256*x[F]>>>0,x[F]=S%o>>>0,S=S/o>>>0;if(S!==0)throw new Error("Non-zero carry");g=D,w++}for(var M=b-g;M!==b&&x[M]===0;)M++;for(var R=a.repeat(v);M<b;++M)R+=t.charAt(x[M]);return R}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return Ig.alloc(0);for(var v=0,g=0,w=0;m[v]===a;)g++,v++;for(var _=(m.length-v)*l+1>>>0,b=new Uint8Array(_);v<m.length;){var x=m.charCodeAt(v);if(x>255)return;var S=e[x];if(S===255)return;for(var D=0,F=_-1;(S!==0||D<w)&&F!==-1;F--,D++)S+=o*b[F]>>>0,b[F]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");w=D,v++}for(var M=_-w;M!==_&&b[M]===0;)M++;var R=Ig.allocUnsafe(g+(_-M));R.fill(0,0,g);for(var U=g;M!==_;)R[U++]=b[M++];return R}function p(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:p}}var lH=aH,cH=lH,uH="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",dH=cH(uH);function Io(t,e,n){return e<=t&&t<=n}function Zw(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function hH(t){for(var e=String(t),n=e.length,r=0,s=[];r<n;){var i=e.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=i&1023,l=o&1023;s.push(65536+(a<<10)+l),r+=1}else s.push(65533)}r+=1}return s}function fH(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Ay=-1;function TT(t){this.tokens=[].slice.call(t)}TT.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Ay},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var nh=-1;function rx(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Ny="utf-8";function Cy(t,e){if(!(this instanceof Cy))return new Cy(t,e);if(t=t!==void 0?String(t).toLowerCase():Ny,t!==Ny)throw new Error("Encoding not supported. Only utf-8 is supported");e=Zw(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Cy.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Zw(n),this._streaming||(this._decoder=new pH({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new TT(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==nh);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===nh)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),fH(i)}};function ky(t,e){if(!(this instanceof ky))return new ky(t,e);if(t=t!==void 0?String(t).toLowerCase():Ny,t!==Ny)throw new Error("Encoding not supported. Only utf-8 is supported");e=Zw(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}ky.prototype={encode:function(e,n){e=e?String(e):"",n=Zw(n),this._streaming||(this._encoder=new mH(this._options)),this._streaming=!!n.stream;for(var r=[],s=new TT(hH(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==nh);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==nh;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function pH(t){var e=t.fatal,n=0,r=0,s=0,i=128,o=191;this.handler=function(a,l){if(l===Ay&&s!==0)return s=0,rx(e);if(l===Ay)return nh;if(s===0){if(Io(l,0,127))return l;if(Io(l,194,223))s=1,n=l-192;else if(Io(l,224,239))l===224&&(i=160),l===237&&(o=159),s=2,n=l-224;else if(Io(l,240,244))l===240&&(i=144),l===244&&(o=143),s=3,n=l-240;else return rx(e);return n=n<<6*s,null}if(!Io(l,i,o))return n=s=r=0,i=128,o=191,a.prepend(l),rx(e);if(i=128,o=191,r+=1,n+=l-128<<6*(s-r),r!==s)return null;var c=n;return n=s=r=0,c}}function mH(t){t.fatal,this.handler=function(e,n){if(n===Ay)return nh;if(Io(n,0,127))return n;var r,s;Io(n,128,2047)?(r=1,s=192):Io(n,2048,65535)?(r=2,s=224):Io(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var o=n>>6*(r-1);i.push(128|o&63),r-=1}return i}}const gH=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Cy,TextEncoder:ky},Symbol.toStringTag,{value:"Module"})),yH=KE(gH);var wH=_i&&_i.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),vH=_i&&_i.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),no=_i&&_i.__decorate||function(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i},xH=_i&&_i.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&wH(e,t,n);return vH(e,t),e},CL=_i&&_i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mr,"__esModule",{value:!0});var kL=mr.deserializeUnchecked=DL=mr.deserialize=LL=mr.serialize=mr.BinaryReader=mr.BinaryWriter=mr.BorshError=mr.baseDecode=mr.baseEncode=void 0;const Ya=CL(AL),RL=CL(dH),_H=xH(yH),bH=typeof TextDecoder!="function"?_H.TextDecoder:TextDecoder,EH=new bH("utf-8",{fatal:!0});function SH(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),RL.default.encode(Buffer.from(t))}mr.baseEncode=SH;function TH(t){return Buffer.from(RL.default.decode(t))}mr.baseDecode=TH;const sx=1024;class ts extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}mr.BorshError=ts;class ML{constructor(){this.buf=Buffer.alloc(sx),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(sx)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ya.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ya.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ya.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ya.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(sx)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}mr.BinaryWriter=ML;function ro(t,e,n){const r=n.value;n.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new ts("Reached the end of buffer when deserializing")}throw i}}}class Fs{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Ya.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Ya.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Ya.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Ya.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new ts(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return EH.decode(n)}catch(r){throw new ts(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let s=0;s<n;++s)r.push(e());return r}}no([ro],Fs.prototype,"readU8",null);no([ro],Fs.prototype,"readU16",null);no([ro],Fs.prototype,"readU32",null);no([ro],Fs.prototype,"readU64",null);no([ro],Fs.prototype,"readU128",null);no([ro],Fs.prototype,"readU256",null);no([ro],Fs.prototype,"readU512",null);no([ro],Fs.prototype,"readString",null);no([ro],Fs.prototype,"readFixedArray",null);no([ro],Fs.prototype,"readArray",null);mr.BinaryReader=Fs;function PL(t){return t.charAt(0).toUpperCase()+t.slice(1)}function nc(t,e,n,r,s){try{if(typeof r=="string")s[`write${PL(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new ts(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new ts(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)nc(t,null,n[i],r[0],s)}else s.writeArray(n,i=>{nc(t,e,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?s.writeU8(0):(s.writeU8(1),nc(t,e,n,r.type,s));break}case"map":{s.writeU32(n.size),n.forEach((i,o)=>{nc(t,e,o,r.key,s),nc(t,e,i,r.value,s)});break}default:throw new ts(`FieldType ${r} unrecognized`)}else OL(t,n,s)}catch(i){throw i instanceof ts&&i.addToFieldPath(e),i}}function OL(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new ts(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{nc(t,s,e[s],i,n)});else if(r.kind==="enum"){const s=e[r.field];for(let i=0;i<r.values.length;++i){const[o,a]=r.values[i];if(o===s){n.writeU8(i),nc(t,o,e[o],a,n);break}}}else throw new ts(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function IH(t,e,n=ML){const r=new n;return OL(t,e,r),r.toArray()}var LL=mr.serialize=IH;function rc(t,e,n,r){try{if(typeof n=="string")return r[`read${PL(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const s=[];for(let i=0;i<n[1];i++)s.push(rc(t,null,n[0],r));return s}else return r.readArray(()=>rc(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?rc(t,e,n.type,r):void 0;if(n.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const a=rc(t,e,n.key,r),l=rc(t,e,n.value,r);s.set(a,l)}return s}return IT(t,n,r)}catch(s){throw s instanceof ts&&s.addToFieldPath(e),s}}function IT(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new ts(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of t.get(e).fields)s[i]=rc(t,i,o,n);return new e(s)}if(r.kind==="enum"){const s=n.readU8();if(s>=r.values.length)throw new ts(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],a=rc(t,i,o,n);return new e({[i]:a})}throw new ts(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function AH(t,e,n,r=Fs){const s=new r(n),i=IT(t,e,s);if(s.offset<n.length)throw new ts(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return i}var DL=mr.deserialize=AH;function NH(t,e,n,r=Fs){const s=new r(n);return IT(t,e,s)}kL=mr.deserializeUnchecked=NH;var te={};Object.defineProperty(te,"__esModule",{value:!0});te.s16=te.s8=te.nu64be=te.u48be=te.u40be=te.u32be=te.u24be=te.u16be=cr=te.nu64=te.u48=te.u40=je=te.u32=te.u24=qs=te.u16=St=te.u8=Ac=te.offset=te.greedy=te.Constant=te.UTF8=te.CString=te.Blob=te.Boolean=te.BitField=te.BitStructure=te.VariantLayout=te.Union=te.UnionLayoutDiscriminator=te.UnionDiscriminator=te.Structure=te.Sequence=te.DoubleBE=te.Double=te.FloatBE=te.Float=te.NearInt64BE=te.NearInt64=te.NearUInt64BE=te.NearUInt64=te.IntBE=te.Int=te.UIntBE=te.UInt=te.OffsetLayout=te.GreedyCount=te.ExternalLayout=te.bindConstructorLayout=te.nameWithProperty=te.Layout=te.uint8ArrayToBuffer=te.checkUint8Array=void 0;te.constant=te.utf8=te.cstr=rn=te.blob=te.unionLayoutDiscriminator=te.union=Wr=te.seq=te.bits=Ce=te.struct=te.f64be=te.f64=te.f32be=te.f32=te.ns64be=te.s48be=te.s40be=te.s32be=te.s24be=te.s16be=Is=te.ns64=te.s48=te.s40=te.s32=te.s24=void 0;const AT=Xe;function Sh(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}te.checkUint8Array=Sh;function bt(t){return Sh(t),AT.Buffer.from(t.buffer,t.byteOffset,t.length)}te.uint8ArrayToBuffer=bt;let Pt=class{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}};te.Layout=Pt;function NT(t,e){return e.property?t+"["+e.property+"]":t}te.nameWithProperty=NT;function CH(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Pt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}te.bindConstructorLayout=CH;class hs extends Pt{isCount(){throw new Error("ExternalLayout is abstract")}}te.ExternalLayout=hs;class jL extends hs{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){Sh(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}te.GreedyCount=jL;class CT extends hs{constructor(e,n=0,r){if(!(e instanceof Pt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Zs||this.layout instanceof xi}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}te.OffsetLayout=CT;class Zs extends Pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return bt(e).readUIntLE(n,this.span)}encode(e,n,r=0){return bt(n).writeUIntLE(e,r,this.span),this.span}}te.UInt=Zs;class xi extends Pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return bt(e).readUIntBE(n,this.span)}encode(e,n,r=0){return bt(n).writeUIntBE(e,r,this.span),this.span}}te.UIntBE=xi;class eu extends Pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return bt(e).readIntLE(n,this.span)}encode(e,n,r=0){return bt(n).writeIntLE(e,r,this.span),this.span}}te.Int=eu;class Th extends Pt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return bt(e).readIntBE(n,this.span)}encode(e,n,r=0){return bt(n).writeIntBE(e,r,this.span),this.span}}te.IntBE=Th;const Sb=Math.pow(2,32);function Xw(t){const e=Math.floor(t/Sb),n=t-e*Sb;return{hi32:e,lo32:n}}function Jw(t,e){return t*Sb+e}class BL extends Pt{constructor(e){super(8,e)}decode(e,n=0){const r=bt(e),s=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return Jw(i,s)}encode(e,n,r=0){const s=Xw(e),i=bt(n);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}te.NearUInt64=BL;class FL extends Pt{constructor(e){super(8,e)}decode(e,n=0){const r=bt(e),s=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return Jw(s,i)}encode(e,n,r=0){const s=Xw(e),i=bt(n);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}te.NearUInt64BE=FL;class UL extends Pt{constructor(e){super(8,e)}decode(e,n=0){const r=bt(e),s=r.readUInt32LE(n),i=r.readInt32LE(n+4);return Jw(i,s)}encode(e,n,r=0){const s=Xw(e),i=bt(n);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}te.NearInt64=UL;class VL extends Pt{constructor(e){super(8,e)}decode(e,n=0){const r=bt(e),s=r.readInt32BE(n),i=r.readUInt32BE(n+4);return Jw(s,i)}encode(e,n,r=0){const s=Xw(e),i=bt(n);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}te.NearInt64BE=VL;class zL extends Pt{constructor(e){super(4,e)}decode(e,n=0){return bt(e).readFloatLE(n)}encode(e,n,r=0){return bt(n).writeFloatLE(e,r),4}}te.Float=zL;class WL extends Pt{constructor(e){super(4,e)}decode(e,n=0){return bt(e).readFloatBE(n)}encode(e,n,r=0){return bt(n).writeFloatBE(e,r),4}}te.FloatBE=WL;class $L extends Pt{constructor(e){super(8,e)}decode(e,n=0){return bt(e).readDoubleLE(n)}encode(e,n,r=0){return bt(n).writeDoubleLE(e,r),8}}te.Double=$L;class HL extends Pt{constructor(e){super(8,e)}decode(e,n=0){return bt(e).readDoubleBE(n)}encode(e,n,r=0){return bt(n).writeDoubleBE(e,r),8}}te.DoubleBE=HL;class qL extends Pt{constructor(e,n,r){if(!(e instanceof Pt))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof hs&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof hs)&&0<e.span&&(s=n*e.span),super(s,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof hs&&(s=s.decode(e,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(e,n+r),++i}return r}decode(e,n=0){const r=[];let s=0,i=this.count;for(i instanceof hs&&(i=i.decode(e,n));s<i;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),s+=1;return r}encode(e,n,r=0){const s=this.elementLayout,i=e.reduce((o,a)=>o+s.encode(a,n,r+o),0);return this.count instanceof hs&&this.count.encode(e.length,n,r),i}}te.Sequence=qL;class KL extends Pt{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof Pt,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){Sh(e);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,n)),n+=s.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const s=r;let i=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}i=r,r+=l}return i+o-s}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}te.Structure=KL;class kT{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}te.UnionDiscriminator=kT;class Ry extends kT{constructor(e,n){if(!(e instanceof hs&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}te.UnionLayoutDiscriminator=Ry;class RT extends Pt{constructor(e,n,r){let s;if(e instanceof Zs||e instanceof xi)s=new Ry(new CT(e));else if(e instanceof hs&&e.isCount())s=new Ry(e);else if(e instanceof kT)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Pt))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(e instanceof Zs||e instanceof xi)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof Zs||e instanceof xi,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const s=this.discriminator,i=s.decode(e,n),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],n,r),a+o.encode(e[o.property],n,r+a)}return s.encode(e,n,r)}addVariant(e,n,r){const s=new GL(this,e,n,r);return this.registry[e]=s,s}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}te.Union=RT;class GL extends Pt{constructor(e,n,r,s){if(!(e instanceof RT))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof Pt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,n+r)),r+s}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}te.VariantLayout=GL;function Ou(t){return 0>t&&(t+=4294967296),t}class MT extends Pt{constructor(e,n,r){if(!(e instanceof Zs||e instanceof xi))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(i){return s=Ou(i),this},this._packedGetValue=function(){return s}}decode(e,n=0){const r=this.makeDestinationObject(),s=this.word.decode(e,n);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(e));return r}encode(e,n,r=0){const s=this.word.decode(n,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new PT(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new QL(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}te.BitStructure=MT;class PT{constructor(e,n,r){if(!(e instanceof MT))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*e.span,i=e.fields.reduce((o,a)=>o+a.bits,0);if(n+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-n),this.wordMask=Ou(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Ou(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Ou(e&this.valueMask))throw new TypeError(NT("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Ou(e<<this.start);this.container._packedSetValue(Ou(n&~this.wordMask)|r)}}te.BitField=PT;let QL=class extends PT{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};te.Boolean=QL;let YL=class extends Pt{constructor(e,n){if(!(e instanceof hs&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof hs||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),bt(e).slice(n,n+r)}encode(e,n,r){let s=this.length;if(this.length instanceof hs&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(NT("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>n.length)throw new RangeError("encoding overruns Uint8Array");const i=bt(e);return bt(n).write(i.toString("hex"),r,s,"hex"),this.length instanceof hs&&this.length.encode(s,n,r),s}};te.Blob=YL;class ZL extends Pt{constructor(e){super(-1,e)}getSpan(e,n=0){Sh(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return bt(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=AT.Buffer.from(e,"utf8"),i=s.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const o=bt(n);return s.copy(o,r),o[r+i]=0,i+1}}te.CString=ZL;class XL extends Pt{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return Sh(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return bt(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=AT.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(bt(n),r),i}}te.UTF8=XL;class JL extends Pt{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}te.Constant=JL;te.greedy=(t,e)=>new jL(t,e);var Ac=te.offset=(t,e,n)=>new CT(t,e,n),St=te.u8=t=>new Zs(1,t),qs=te.u16=t=>new Zs(2,t);te.u24=t=>new Zs(3,t);var je=te.u32=t=>new Zs(4,t);te.u40=t=>new Zs(5,t);te.u48=t=>new Zs(6,t);var cr=te.nu64=t=>new BL(t);te.u16be=t=>new xi(2,t);te.u24be=t=>new xi(3,t);te.u32be=t=>new xi(4,t);te.u40be=t=>new xi(5,t);te.u48be=t=>new xi(6,t);te.nu64be=t=>new FL(t);te.s8=t=>new eu(1,t);te.s16=t=>new eu(2,t);te.s24=t=>new eu(3,t);te.s32=t=>new eu(4,t);te.s40=t=>new eu(5,t);te.s48=t=>new eu(6,t);var Is=te.ns64=t=>new UL(t);te.s16be=t=>new Th(2,t);te.s24be=t=>new Th(3,t);te.s32be=t=>new Th(4,t);te.s40be=t=>new Th(5,t);te.s48be=t=>new Th(6,t);te.ns64be=t=>new VL(t);te.f32=t=>new zL(t);te.f32be=t=>new WL(t);te.f64=t=>new $L(t);te.f64be=t=>new HL(t);var Ce=te.struct=(t,e,n)=>new KL(t,e,n);te.bits=(t,e,n)=>new MT(t,e,n);var Wr=te.seq=(t,e,n)=>new qL(t,e,n);te.union=(t,e,n)=>new RT(t,e,n);te.unionLayoutDiscriminator=(t,e)=>new Ry(t,e);var rn=te.blob=(t,e)=>new YL(t,e);te.cstr=t=>new ZL(t);te.utf8=(t,e)=>new XL(t,e);te.constant=(t,e)=>new JL(t,e);var kH=8078e3,RH=8078001,MH=8078004,PH=8078005,OH=8078006,LH=8078011;function eD(t){return Array.isArray(t)?"%5B"+t.map(eD).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function DH([t,e]){return`${t}=${eD(e)}`}function jH(t){const e=Object.entries(t).map(DH).join("&");return btoa(e)}function BH(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${jH(e)}'`),`${n}\``}}var wd=class extends Error{constructor(...[e,n]){let r,s;if(n){const{cause:o,...a}=n;o&&(s={cause:o}),Object.keys(a).length>0&&(r=a)}const i=BH(e,r);super(i,s);an(this,"cause",this.cause);an(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function FH(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function UH(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(FH(e,t));return t.write(e,n,0),n}})}function VH(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Nu(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function zH(t,e){if(Nu(t)!==Nu(e))throw new wd(MH);if(Nu(t)&&Nu(e)&&t.fixedSize!==e.fixedSize)throw new wd(PH,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Nu(t)&&!Nu(e)&&t.maxSize!==e.maxSize)throw new wd(OH,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function WH(t,e,n=0){if(e.length-n<=0)throw new wd(kH,{codecDescription:t})}function $H(t,e,n,r=0){const s=n.length-r;if(s<e)throw new wd(RH,{bytesLength:s,codecDescription:t,expected:e})}function HH(t,e,n,r){if(r<e||r>n)throw new wd(LH,{codecDescription:t,max:n,min:e,value:r})}function tD(t){return(t==null?void 0:t.endian)!==1}function qH(t){return UH({fixedSize:t.size,write(e,n,r){t.range&&HH(t.name,t.range[0],t.range[1],e);const s=new ArrayBuffer(t.size);return t.set(new DataView(s),e,tD(t.config)),n.set(new Uint8Array(s),r),r+t.size}})}function KH(t){return VH({fixedSize:t.size,read(e,n=0){WH(t.name,e,n),$H(t.name,t.size,e,n);const r=new DataView(GH(e,n,t.size));return[t.get(r,tD(t.config)),n+t.size]}})}function GH(t,e,n){const r=t.byteOffset+(e??0),s=n??t.byteLength;return t.buffer.slice(r,r+s)}var QH=(t={})=>qH({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),YH=(t={})=>KH({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),ZH=(t={})=>zH(QH(t),YH(t));class XH extends TypeError{constructor(e,n){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,l=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??l),i!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function JH(t){return dm(t)&&typeof t[Symbol.iterator]=="function"}function dm(t){return typeof t=="object"&&t!=null}function My(t){return dm(t)&&!Array.isArray(t)}function Ti(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function eq(t){const{done:e,value:n}=t.next();return e?void 0:n}function tq(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:i}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ti(r)}\``}=t;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...t,message:l}}function*YC(t,e,n,r){JH(t)||(t=[t]);for(const s of t){const i=tq(s,e,n,r);i&&(yield i)}}function*OT(t,e,n={}){const{path:r=[],branch:s=[t],coerce:i=!1,mask:o=!1}=n,a={path:r,branch:s,mask:o};i&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,f]of e.entries(t,a)){const p=OT(u,f,{path:c===void 0?r:[...r,c],branch:c===void 0?s:[...s,u],coerce:i,mask:o,message:n.message});for(const m of p)m[0]?(l=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):i&&(u=m[1],c===void 0?t=u:t instanceof Map?t.set(c,u):t instanceof Set?t.add(u):dm(t)&&(u!==void 0||c in t)&&(t[c]=u))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let so=class{constructor(e){const{type:n,schema:r,validator:s,refiner:i,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(l,c)=>{const u=s(l,c);return YC(u,c,this,l)}:this.validator=()=>[],i?this.refiner=(l,c)=>{const u=i(l,c);return YC(u,c,this,l)}:this.refiner=()=>[]}assert(e,n){return nq(e,this,n)}create(e,n){return xe(e,this,n)}is(e){return nD(e,this)}mask(e,n){return rq(e,this,n)}validate(e,n={}){return hm(e,this,n)}};function nq(t,e,n){const r=hm(t,e,{message:n});if(r[0])throw r[0]}function xe(t,e,n){const r=hm(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function rq(t,e,n){const r=hm(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function nD(t,e){return!hm(t,e)[0]}function hm(t,e,n={}){const r=OT(t,e,n),s=eq(r);return s[0]?[new XH(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function tu(t,e){return new so({type:t,schema:null,validator:e})}function sq(){return tu("any",()=>!0)}function be(t){return new so({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ti(e)}`}})}function Zi(){return tu("boolean",t=>typeof t=="boolean")}function LT(t){return tu("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Ti(e)}`)}function bn(t){const e=Ti(t),n=typeof t;return new so({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${Ti(r)}`}})}function iq(){return tu("never",()=>!1)}function Se(t){return new so({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function ee(){return tu("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Ti(t)}`)}function Ue(t){return new so({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function rD(t,e){return new so({type:"record",schema:null,*entries(n){if(dm(n))for(const r in n){const s=n[r];yield[r,r,t],yield[r,s,e]}},validator(n){return My(n)||`Expected an object, but received: ${Ti(n)}`},coercer(n){return My(n)?{...n}:n}})}function ge(){return tu("string",t=>typeof t=="string"||`Expected a string, but received: ${Ti(t)}`)}function DT(t){const e=iq();return new so({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],t[s]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Ti(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function de(t){const e=Object.keys(t);return new so({type:"type",schema:t,*entries(n){if(dm(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return My(n)||`Expected an object, but received: ${Ti(n)}`},coercer(n){return My(n)?{...n}:n}})}function rs(t){const e=t.map(n=>n.type).join(" | ");return new so({type:"union",schema:null,coercer(n,r){for(const s of t){const[i,o]=s.validate(n,{coerce:!0,mask:r.mask});if(!i)return o}return n},validator(n,r){const s=[];for(const i of t){const[...o]=OT(n,i,r),[a]=o;if(a[0])for(const[l]of o)l&&s.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ti(n)}`,...s]}})}function Ih(){return tu("unknown",()=>!0)}function fm(t,e,n){return new so({...t,coercer:(r,s)=>nD(r,e)?t.coercer(n(r,s),s):t.coercer(r,s)})}var Ag,oq=new Uint8Array(16);function sD(){if(!Ag&&(Ag=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ag))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ag(oq)}const aq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ev(t){return typeof t=="string"&&aq.test(t)}var lr=[];for(var ix=0;ix<256;++ix)lr.push((ix+256).toString(16).substr(1));function tv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(lr[t[e+0]]+lr[t[e+1]]+lr[t[e+2]]+lr[t[e+3]]+"-"+lr[t[e+4]]+lr[t[e+5]]+"-"+lr[t[e+6]]+lr[t[e+7]]+"-"+lr[t[e+8]]+lr[t[e+9]]+"-"+lr[t[e+10]]+lr[t[e+11]]+lr[t[e+12]]+lr[t[e+13]]+lr[t[e+14]]+lr[t[e+15]]).toLowerCase();if(!ev(n))throw TypeError("Stringified UUID is invalid");return n}var ZC,ox,ax=0,lx=0;function lq(t,e,n){var r=e&&n||0,s=e||new Array(16);t=t||{};var i=t.node||ZC,o=t.clockseq!==void 0?t.clockseq:ox;if(i==null||o==null){var a=t.random||(t.rng||sD)();i==null&&(i=ZC=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=ox=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:lx+1,u=l-ax+(c-lx)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||l>ax)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ax=l,lx=c,ox=o,l+=122192928e5;var f=((l&268435455)*1e4+c)%4294967296;s[r++]=f>>>24&255,s[r++]=f>>>16&255,s[r++]=f>>>8&255,s[r++]=f&255;var p=l/4294967296*1e4&268435455;s[r++]=p>>>8&255,s[r++]=p&255,s[r++]=p>>>24&15|16,s[r++]=p>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var m=0;m<6;++m)s[r+m]=i[m];return e||tv(s)}function iD(t){if(!ev(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function cq(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var uq="6ba7b810-9dad-11d1-80b4-00c04fd430c8",dq="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function oD(t,e,n){function r(s,i,o,a){if(typeof s=="string"&&(s=cq(s)),typeof i=="string"&&(i=iD(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+s.length);if(l.set(i),l.set(s,i.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return tv(l)}try{r.name=t}catch{}return r.DNS=uq,r.URL=dq,r}function hq(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return fq(pq(mq(t),t.length*8))}function fq(t){for(var e=[],n=t.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=t[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(o)}return e}function aD(t){return(t+64>>>9<<4)+14+1}function pq(t,e){t[e>>5]|=128<<e%32,t[aD(e)-1]=e;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=s,u=i;n=Rr(n,r,s,i,t[o],7,-680876936),i=Rr(i,n,r,s,t[o+1],12,-389564586),s=Rr(s,i,n,r,t[o+2],17,606105819),r=Rr(r,s,i,n,t[o+3],22,-1044525330),n=Rr(n,r,s,i,t[o+4],7,-176418897),i=Rr(i,n,r,s,t[o+5],12,1200080426),s=Rr(s,i,n,r,t[o+6],17,-1473231341),r=Rr(r,s,i,n,t[o+7],22,-45705983),n=Rr(n,r,s,i,t[o+8],7,1770035416),i=Rr(i,n,r,s,t[o+9],12,-1958414417),s=Rr(s,i,n,r,t[o+10],17,-42063),r=Rr(r,s,i,n,t[o+11],22,-1990404162),n=Rr(n,r,s,i,t[o+12],7,1804603682),i=Rr(i,n,r,s,t[o+13],12,-40341101),s=Rr(s,i,n,r,t[o+14],17,-1502002290),r=Rr(r,s,i,n,t[o+15],22,1236535329),n=Mr(n,r,s,i,t[o+1],5,-165796510),i=Mr(i,n,r,s,t[o+6],9,-1069501632),s=Mr(s,i,n,r,t[o+11],14,643717713),r=Mr(r,s,i,n,t[o],20,-373897302),n=Mr(n,r,s,i,t[o+5],5,-701558691),i=Mr(i,n,r,s,t[o+10],9,38016083),s=Mr(s,i,n,r,t[o+15],14,-660478335),r=Mr(r,s,i,n,t[o+4],20,-405537848),n=Mr(n,r,s,i,t[o+9],5,568446438),i=Mr(i,n,r,s,t[o+14],9,-1019803690),s=Mr(s,i,n,r,t[o+3],14,-187363961),r=Mr(r,s,i,n,t[o+8],20,1163531501),n=Mr(n,r,s,i,t[o+13],5,-1444681467),i=Mr(i,n,r,s,t[o+2],9,-51403784),s=Mr(s,i,n,r,t[o+7],14,1735328473),r=Mr(r,s,i,n,t[o+12],20,-1926607734),n=Pr(n,r,s,i,t[o+5],4,-378558),i=Pr(i,n,r,s,t[o+8],11,-2022574463),s=Pr(s,i,n,r,t[o+11],16,1839030562),r=Pr(r,s,i,n,t[o+14],23,-35309556),n=Pr(n,r,s,i,t[o+1],4,-1530992060),i=Pr(i,n,r,s,t[o+4],11,1272893353),s=Pr(s,i,n,r,t[o+7],16,-155497632),r=Pr(r,s,i,n,t[o+10],23,-1094730640),n=Pr(n,r,s,i,t[o+13],4,681279174),i=Pr(i,n,r,s,t[o],11,-358537222),s=Pr(s,i,n,r,t[o+3],16,-722521979),r=Pr(r,s,i,n,t[o+6],23,76029189),n=Pr(n,r,s,i,t[o+9],4,-640364487),i=Pr(i,n,r,s,t[o+12],11,-421815835),s=Pr(s,i,n,r,t[o+15],16,530742520),r=Pr(r,s,i,n,t[o+2],23,-995338651),n=Or(n,r,s,i,t[o],6,-198630844),i=Or(i,n,r,s,t[o+7],10,1126891415),s=Or(s,i,n,r,t[o+14],15,-1416354905),r=Or(r,s,i,n,t[o+5],21,-57434055),n=Or(n,r,s,i,t[o+12],6,1700485571),i=Or(i,n,r,s,t[o+3],10,-1894986606),s=Or(s,i,n,r,t[o+10],15,-1051523),r=Or(r,s,i,n,t[o+1],21,-2054922799),n=Or(n,r,s,i,t[o+8],6,1873313359),i=Or(i,n,r,s,t[o+15],10,-30611744),s=Or(s,i,n,r,t[o+6],15,-1560198380),r=Or(r,s,i,n,t[o+13],21,1309151649),n=Or(n,r,s,i,t[o+4],6,-145523070),i=Or(i,n,r,s,t[o+11],10,-1120210379),s=Or(s,i,n,r,t[o+2],15,718787259),r=Or(r,s,i,n,t[o+9],21,-343485551),n=Za(n,a),r=Za(r,l),s=Za(s,c),i=Za(i,u)}return[n,r,s,i]}function mq(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(aD(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Za(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function gq(t,e){return t<<e|t>>>32-e}function nv(t,e,n,r,s,i){return Za(gq(Za(Za(e,t),Za(r,i)),s),n)}function Rr(t,e,n,r,s,i,o){return nv(e&n|~e&r,t,e,s,i,o)}function Mr(t,e,n,r,s,i,o){return nv(e&r|n&~r,t,e,s,i,o)}function Pr(t,e,n,r,s,i,o){return nv(e^n^r,t,e,s,i,o)}function Or(t,e,n,r,s,i,o){return nv(n^(e|~r),t,e,s,i,o)}var yq=oD("v3",48,hq);function wq(t,e,n){t=t||{};var r=t.random||(t.rng||sD)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=r[s];return e}return tv(r)}function vq(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function cx(t,e){return t<<e|t>>>32-e}function xq(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var s=0;s<r.length;++s)t.push(r.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,o=Math.ceil(i/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=t[l*64+u*4]<<24|t[l*64+u*4+1]<<16|t[l*64+u*4+2]<<8|t[l*64+u*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var p=new Uint32Array(80),m=0;m<16;++m)p[m]=a[f][m];for(var v=16;v<80;++v)p[v]=cx(p[v-3]^p[v-8]^p[v-14]^p[v-16],1);for(var g=n[0],w=n[1],_=n[2],b=n[3],x=n[4],S=0;S<80;++S){var D=Math.floor(S/20),F=cx(g,5)+vq(D,w,_,b)+x+e[D]+p[S]>>>0;x=b,b=_,_=cx(w,30)>>>0,w=g,g=F}n[0]=n[0]+g>>>0,n[1]=n[1]+w>>>0,n[2]=n[2]+_>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var _q=oD("v5",80,xq);const bq="00000000-0000-0000-0000-000000000000";function Eq(t){if(!ev(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const Sq=Object.freeze(Object.defineProperty({__proto__:null,NIL:bq,parse:iD,stringify:tv,v1:lq,v3:yq,v4:wq,v5:_q,validate:ev,version:Eq},Symbol.toStringTag,{value:"Module"})),lD=KE(Sq),Tq=lD.v4,Iq=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:t};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return Tq()};i.id=o(i,r)}else s===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};var Aq=Iq;const Nq=lD.v4,Cq=Aq,bp=function(t,e){if(!(this instanceof bp))return new bp(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return Nq()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var kq=bp;bp.prototype.request=function(t,e,n,r){const s=this;let i=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,i=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{i=Cq(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(c)return r(u);throw u}if(!c)return i}let l;try{l=JSON.stringify(i,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,u){s._parseResponse(c,u,r)}),i};bp.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return n(s)}if(n.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return n(null,r.filter(s),r.filter(i))}else return n(null,r.error,r.result);n(null,r)};const Rq=ra(kq);var cD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new s(u,f||l,p),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,v=new Array(m);p<m;p++)v[p]=f[p].fn;return v},a.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,u,f,p,m,v){var g=n?n+c:c;if(!this._events[g])return!1;var w=this._events[g],_=arguments.length,b,x;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),_){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,f),!0;case 4:return w.fn.call(w.context,u,f,p),!0;case 5:return w.fn.call(w.context,u,f,p,m),!0;case 6:return w.fn.call(w.context,u,f,p,m,v),!0}for(x=1,b=new Array(_-1);x<_;x++)b[x-1]=arguments[x];w.fn.apply(w.context,b)}else{var S=w.length,D;for(x=0;x<S;x++)switch(w[x].once&&this.removeListener(c,w[x].fn,void 0,!0),_){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,u);break;case 3:w[x].fn.call(w[x].context,u,f);break;case 4:w[x].fn.call(w[x].context,u,f,p);break;default:if(!b)for(D=1,b=new Array(_-1);D<_;D++)b[D-1]=arguments[D];w[x].fn.apply(w[x].context,b)}}return!0},a.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},a.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},a.prototype.removeListener=function(c,u,f,p){var m=n?n+c:c;if(!this._events[m])return this;if(!u)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===u&&(!p||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var g=0,w=[],_=v.length;g<_;g++)(v[g].fn!==u||p&&!v[g].once||f&&v[g].context!==f)&&w.push(v[g]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(cD);var Mq=cD.exports;const jT=ra(Mq);var Pq=class extends jT{constructor(e,n,r){super();an(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(e,n,r){const s=r||n;try{this.socket.send(e),s()}catch(i){s(i)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function Oq(t,e){return new Pq(t,e)}var Lq=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},Dq=class extends jT{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...a}={},l,c){super();an(this,"address");an(this,"rpc_id");an(this,"queue");an(this,"options");an(this,"autoconnect");an(this,"ready");an(this,"reconnect");an(this,"reconnect_timer_id");an(this,"reconnect_interval");an(this,"max_reconnects");an(this,"rest_options");an(this,"current_reconnects");an(this,"generate_request_id");an(this,"socket");an(this,"webSocketFactory");an(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new Lq,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),s,c=>{if(c)return o(c);this.queue[a]={promise:[i,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Xe.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let i=0;i<r.params.length;i++)s.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};class uD extends lL{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,o$(e);const r=gT(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Jd(i)}update(e){return Ey(this),this.iHash.update(e),this}digestInto(e){Ey(this),om(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const dD=(t,e,n)=>new uD(t,e).update(n).digest();dD.create=(t,e)=>new uD(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function XC(t){t.lowS!==void 0&&fl("lowS",t.lowS),t.prehash!==void 0&&fl("prehash",t.prehash)}function jq(t){const e=_T(t);cm(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class Bq extends Error{constructor(e=""){super(e)}}const _o={Err:Bq,_tlv:{encode:(t,e)=>{const{Err:n}=_o;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Sg(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Sg(s.length/2|128):"";return Sg(t)+i+s+e},decode(t,e){const{Err:n}=_o;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const l=s&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=_o;if(t<Ao)throw new e("integer: negative integers are not allowed");let n=Sg(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=_o;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ic(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=_o,s=Ln("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,i),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=_o,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}};function ux(t,e){return eh(lm(t,e))}const Ao=BigInt(0),tr=BigInt(1);BigInt(2);const dx=BigInt(3),Fq=BigInt(4);function Uq(t){const e=jq(t),{Fp:n}=e,r=um(e.n,e.nBitLength),s=e.toBytes||((x,S,D)=>{const F=S.toAffine();return th(Uint8Array.from([4]),n.toBytes(F.x),n.toBytes(F.y))}),i=e.fromBytes||(x=>{const S=x.subarray(1),D=n.fromBytes(S.subarray(0,n.BYTES)),F=n.fromBytes(S.subarray(n.BYTES,2*n.BYTES));return{x:D,y:F}});function o(x){const{a:S,b:D}=e,F=n.sqr(x),M=n.mul(F,x);return n.add(n.add(M,n.mul(x,S)),D)}function a(x,S){const D=n.sqr(S),F=o(x);return n.eql(D,F)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(e.a,dx),Fq),c=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(l,c)))throw new Error("bad curve params: a or b");function u(x){return vT(x,tr,e.n)}function f(x){const{allowedPrivateKeyLengths:S,nByteLength:D,wrapPrivateKey:F,n:M}=e;if(S&&typeof x!="bigint"){if(am(x)&&(x=eh(x)),typeof x!="string"||!S.includes(x.length))throw new Error("invalid private key");x=x.padStart(D*2,"0")}let R;try{R=typeof x=="bigint"?x:Ic(Ln("private key",x,D))}catch{throw new Error("invalid private key, expected hex or "+D+" bytes, got "+typeof x)}return F&&(R=un(R,M)),mi("private key",R,tr,M),R}function p(x){if(!(x instanceof g))throw new Error("ProjectivePoint expected")}const m=Iy((x,S)=>{const{px:D,py:F,pz:M}=x;if(n.eql(M,n.ONE))return{x:D,y:F};const R=x.is0();S==null&&(S=R?n.ONE:n.inv(M));const U=n.mul(D,S),W=n.mul(F,S),$=n.mul(M,S);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:U,y:W}}),v=Iy(x=>{if(x.is0()){if(e.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:S,y:D}=x.toAffine();if(!n.isValid(S)||!n.isValid(D))throw new Error("bad point: x or y not FE");if(!a(S,D))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(S,D,F){if(S==null||!n.isValid(S))throw new Error("x required");if(D==null||!n.isValid(D)||n.is0(D))throw new Error("y required");if(F==null||!n.isValid(F))throw new Error("z required");this.px=S,this.py=D,this.pz=F,Object.freeze(this)}static fromAffine(S){const{x:D,y:F}=S||{};if(!S||!n.isValid(D)||!n.isValid(F))throw new Error("invalid affine point");if(S instanceof g)throw new Error("projective point not allowed");const M=R=>n.eql(R,n.ZERO);return M(D)&&M(F)?g.ZERO:new g(D,F,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const D=xT(n,S.map(F=>F.pz));return S.map((F,M)=>F.toAffine(D[M])).map(g.fromAffine)}static fromHex(S){const D=g.fromAffine(i(Ln("pointHex",S)));return D.assertValidity(),D}static fromPrivateKey(S){return g.BASE.multiply(f(S))}static msm(S,D){return IL(g,r,S,D)}_setWindowSize(S){b.setWindowSize(this,S)}assertValidity(){v(this)}hasEvenY(){const{y:S}=this.toAffine();if(n.isOdd)return!n.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){p(S);const{px:D,py:F,pz:M}=this,{px:R,py:U,pz:W}=S,$=n.eql(n.mul(D,W),n.mul(R,M)),q=n.eql(n.mul(F,W),n.mul(U,M));return $&&q}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:S,b:D}=e,F=n.mul(D,dx),{px:M,py:R,pz:U}=this;let W=n.ZERO,$=n.ZERO,q=n.ZERO,N=n.mul(M,M),y=n.mul(R,R),I=n.mul(U,U),O=n.mul(M,R);return O=n.add(O,O),q=n.mul(M,U),q=n.add(q,q),W=n.mul(S,q),$=n.mul(F,I),$=n.add(W,$),W=n.sub(y,$),$=n.add(y,$),$=n.mul(W,$),W=n.mul(O,W),q=n.mul(F,q),I=n.mul(S,I),O=n.sub(N,I),O=n.mul(S,O),O=n.add(O,q),q=n.add(N,N),N=n.add(q,N),N=n.add(N,I),N=n.mul(N,O),$=n.add($,N),I=n.mul(R,U),I=n.add(I,I),N=n.mul(I,O),W=n.sub(W,N),q=n.mul(I,y),q=n.add(q,q),q=n.add(q,q),new g(W,$,q)}add(S){p(S);const{px:D,py:F,pz:M}=this,{px:R,py:U,pz:W}=S;let $=n.ZERO,q=n.ZERO,N=n.ZERO;const y=e.a,I=n.mul(e.b,dx);let O=n.mul(D,R),z=n.mul(F,U),L=n.mul(M,W),j=n.add(D,F),H=n.add(R,U);j=n.mul(j,H),H=n.add(O,z),j=n.sub(j,H),H=n.add(D,M);let B=n.add(R,W);return H=n.mul(H,B),B=n.add(O,L),H=n.sub(H,B),B=n.add(F,M),$=n.add(U,W),B=n.mul(B,$),$=n.add(z,L),B=n.sub(B,$),N=n.mul(y,H),$=n.mul(I,L),N=n.add($,N),$=n.sub(z,N),N=n.add(z,N),q=n.mul($,N),z=n.add(O,O),z=n.add(z,O),L=n.mul(y,L),H=n.mul(I,H),z=n.add(z,L),L=n.sub(O,L),L=n.mul(y,L),H=n.add(H,L),O=n.mul(z,H),q=n.add(q,O),O=n.mul(B,H),$=n.mul(j,$),$=n.sub($,O),O=n.mul(j,z),N=n.mul(B,N),N=n.add(N,O),new g($,q,N)}subtract(S){return this.add(S.negate())}is0(){return this.equals(g.ZERO)}wNAF(S){return b.wNAFCached(this,S,g.normalizeZ)}multiplyUnsafe(S){const{endo:D,n:F}=e;mi("scalar",S,Ao,F);const M=g.ZERO;if(S===Ao)return M;if(this.is0()||S===tr)return this;if(!D||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,S,g.normalizeZ);let{k1neg:R,k1:U,k2neg:W,k2:$}=D.splitScalar(S),q=M,N=M,y=this;for(;U>Ao||$>Ao;)U&tr&&(q=q.add(y)),$&tr&&(N=N.add(y)),y=y.double(),U>>=tr,$>>=tr;return R&&(q=q.negate()),W&&(N=N.negate()),N=new g(n.mul(N.px,D.beta),N.py,N.pz),q.add(N)}multiply(S){const{endo:D,n:F}=e;mi("scalar",S,tr,F);let M,R;if(D){const{k1neg:U,k1:W,k2neg:$,k2:q}=D.splitScalar(S);let{p:N,f:y}=this.wNAF(W),{p:I,f:O}=this.wNAF(q);N=b.constTimeNegate(U,N),I=b.constTimeNegate($,I),I=new g(n.mul(I.px,D.beta),I.py,I.pz),M=N.add(I),R=y.add(O)}else{const{p:U,f:W}=this.wNAF(S);M=U,R=W}return g.normalizeZ([M,R])[0]}multiplyAndAddUnsafe(S,D,F){const M=g.BASE,R=(W,$)=>$===Ao||$===tr||!W.equals(M)?W.multiplyUnsafe($):W.multiply($),U=R(this,D).add(R(S,F));return U.is0()?void 0:U}toAffine(S){return m(this,S)}isTorsionFree(){const{h:S,isTorsionFree:D}=e;if(S===tr)return!0;if(D)return D(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:S,clearCofactor:D}=e;return S===tr?this:D?D(g,this):this.multiplyUnsafe(e.h)}toRawBytes(S=!0){return fl("isCompressed",S),this.assertValidity(),s(g,this,S)}toHex(S=!0){return fl("isCompressed",S),eh(this.toRawBytes(S))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:_}=e,b=TL(g,w?Math.ceil(_/2):_);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:u}}function Vq(t){const e=_T(t);return cm(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function zq(t){const e=Vq(t),{Fp:n,n:r,nByteLength:s,nBitLength:i}=e,o=n.BYTES+1,a=2*n.BYTES+1;function l(I){return un(I,r)}function c(I){return _b(I,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:p,isWithinCurveOrder:m}=Uq({...e,toBytes(I,O,z){const L=O.toAffine(),j=n.toBytes(L.x),H=th;return fl("isCompressed",z),z?H(Uint8Array.from([O.hasEvenY()?2:3]),j):H(Uint8Array.from([4]),j,n.toBytes(L.y))},fromBytes(I){const O=I.length,z=I[0],L=I.subarray(1);if(O===o&&(z===2||z===3)){const j=Ic(L);if(!vT(j,tr,n.ORDER))throw new Error("Point is not on curve");const H=p(j);let B;try{B=n.sqrt(H)}catch(ae){const ue=ae instanceof Error?": "+ae.message:"";throw new Error("Point is not on curve"+ue)}const T=(B&tr)===tr;return(z&1)===1!==T&&(B=n.neg(B)),{x:j,y:B}}else if(O===a&&z===4){const j=n.fromBytes(L.subarray(0,n.BYTES)),H=n.fromBytes(L.subarray(n.BYTES,2*n.BYTES));return{x:j,y:H}}else{const j=o,H=a;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+H+", got "+O)}}});function v(I){const O=r>>tr;return I>O}function g(I){return v(I)?l(-I):I}const w=(I,O,z)=>Ic(I.slice(O,z));class _{constructor(O,z,L){mi("r",O,tr,r),mi("s",z,tr,r),this.r=O,this.s=z,L!=null&&(this.recovery=L),Object.freeze(this)}static fromCompact(O){const z=s;return O=Ln("compactSignature",O,z*2),new _(w(O,0,z),w(O,z,2*z))}static fromDER(O){const{r:z,s:L}=_o.toSig(Ln("DER",O));return new _(z,L)}assertValidity(){}addRecoveryBit(O){return new _(this.r,this.s,O)}recoverPublicKey(O){const{r:z,s:L,recovery:j}=this,H=M(Ln("msgHash",O));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const B=j===2||j===3?z+e.n:z;if(B>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const T=j&1?"03":"02",K=u.fromHex(T+ux(B,n.BYTES)),ae=c(B),ue=l(-H*ae),he=l(L*ae),le=u.BASE.multiplyAndAddUnsafe(K,ue,he);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Sy(this.toDERHex())}toDERHex(){return _o.hexFromSig(this)}toCompactRawBytes(){return Sy(this.toCompactHex())}toCompactHex(){const O=s;return ux(this.r,O)+ux(this.s,O)}}const b={isValidPrivateKey(I){try{return f(I),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const I=bL(e.n);return F$(e.randomBytes(I),e.n)},precompute(I=8,O=u.BASE){return O._setWindowSize(I),O.multiply(BigInt(3)),O}};function x(I,O=!0){return u.fromPrivateKey(I).toRawBytes(O)}function S(I){if(typeof I=="bigint")return!1;if(I instanceof u)return!0;const z=Ln("key",I).length,L=n.BYTES,j=L+1,H=2*L+1;if(!(e.allowedPrivateKeyLengths||s===j))return z===j||z===H}function D(I,O,z=!0){if(S(I)===!0)throw new Error("first arg must be private key");if(S(O)===!1)throw new Error("second arg must be public key");return u.fromHex(O).multiply(f(I)).toRawBytes(z)}const F=e.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const O=Ic(I),z=I.length*8-i;return z>0?O>>BigInt(z):O},M=e.bits2int_modN||function(I){return l(F(I))},R=Yw(i);function U(I){return mi("num < 2^"+i,I,Ao,R),lm(I,s)}function W(I,O,z=$){if(["recovered","canonical"].some(Te=>Te in z))throw new Error("sign() legacy options not supported");const{hash:L,randomBytes:j}=e;let{lowS:H,prehash:B,extraEntropy:T}=z;H==null&&(H=!0),I=Ln("msgHash",I),XC(z),B&&(I=Ln("prehashed msgHash",L(I)));const K=M(I),ae=f(O),ue=[U(ae),U(K)];if(T!=null&&T!==!1){const Te=T===!0?j(n.BYTES):T;ue.push(Ln("extraEntropy",Te))}const he=th(...ue),le=K;function ye(Te){const Re=F(Te);if(!m(Re))return;const Ee=c(Re),_e=u.BASE.multiply(Re).toAffine(),He=l(_e.x);if(He===Ao)return;const Me=l(Ee*l(le+He*ae));if(Me===Ao)return;let Ge=(_e.x===He?0:2)|Number(_e.y&tr),zt=Me;return H&&v(Me)&&(zt=g(Me),Ge^=1),new _(He,zt,Ge)}return{seed:he,k2sig:ye}}const $={lowS:e.lowS,prehash:!1},q={lowS:e.lowS,prehash:!1};function N(I,O,z=$){const{seed:L,k2sig:j}=W(I,O,z),H=e;return C$(H.hash.outputLen,H.nByteLength,H.hmac)(L,j)}u.BASE._setWindowSize(8);function y(I,O,z,L=q){var Ge;const j=I;O=Ln("msgHash",O),z=Ln("publicKey",z);const{lowS:H,prehash:B,format:T}=L;if(XC(L),"strict"in L)throw new Error("options.strict was renamed to lowS");if(T!==void 0&&T!=="compact"&&T!=="der")throw new Error("format must be compact or der");const K=typeof j=="string"||am(j),ae=!K&&!T&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!K&&!ae)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ue,he;try{if(ae&&(ue=new _(j.r,j.s)),K){try{T!=="compact"&&(ue=_.fromDER(j))}catch(zt){if(!(zt instanceof _o.Err))throw zt}!ue&&T!=="der"&&(ue=_.fromCompact(j))}he=u.fromHex(z)}catch{return!1}if(!ue||H&&ue.hasHighS())return!1;B&&(O=e.hash(O));const{r:le,s:ye}=ue,Te=M(O),Re=c(ye),Ee=l(Te*Re),_e=l(le*Re),He=(Ge=u.BASE.multiplyAndAddUnsafe(he,Ee,_e))==null?void 0:Ge.toAffine();return He?l(He.x)===le:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:D,sign:N,verify:y,ProjectivePoint:u,Signature:_,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Wq(t){return{hash:t,hmac:(e,...n)=>dD(t,e,c$(...n)),randomBytes:uL}}function $q(t,e){const n=r=>zq({...t,...Wq(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hD=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),JC=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Hq=BigInt(0),qq=BigInt(1),Tb=BigInt(2),e2=(t,e)=>(t+e/Tb)/e;function Kq(t){const e=hD,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,f=Rn(u,n,e)*u%e,p=Rn(f,n,e)*u%e,m=Rn(p,Tb,e)*c%e,v=Rn(m,s,e)*m%e,g=Rn(v,i,e)*v%e,w=Rn(g,a,e)*g%e,_=Rn(w,l,e)*w%e,b=Rn(_,a,e)*g%e,x=Rn(b,n,e)*u%e,S=Rn(x,o,e)*v%e,D=Rn(S,r,e)*c%e,F=Rn(D,Tb,e);if(!Ib.eql(Ib.sqr(F),t))throw new Error("Cannot find square root");return F}const Ib=um(hD,void 0,void 0,{sqrt:Kq}),Gq=$q({a:Hq,b:BigInt(7),Fp:Ib,n:JC,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=JC,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-qq*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=e2(i*t,e),l=e2(-r*t,e);let c=un(t-a*n-l*s,e),u=un(-a*r-l*i,e);const f=c>o,p=u>o;if(f&&(c=e-c),p&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:p,k2:u}}}},fL);function t2(t){try{return ET.ExtendedPoint.fromHex(t),!0}catch{return!1}}const fD=(t,e)=>ET.sign(t,e.slice(0,32)),Qq=ET.verify,fr=t=>Xe.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Xe.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Xe.Buffer.from(t);class Yq{constructor(e){Object.assign(this,e)}encode(){return Xe.Buffer.from(LL(l0,this))}static decode(e){return DL(l0,this,e)}static decodeUnchecked(e){return kL(l0,this,e)}}const l0=new Map;var pD;const Zq=32,pl=32;function Xq(t){return t._bn!==void 0}let n2=1;class Oe extends Yq{constructor(e){if(super({}),this._bn=void 0,Xq(e))this._bn=e._bn;else{if(typeof e=="string"){const n=yr.decode(e);if(n.length!=pl)throw new Error("Invalid public key input");this._bn=new GC(n)}else this._bn=new GC(e);if(this._bn.byteLength()>pl)throw new Error("Invalid public key input")}}static unique(){const e=new Oe(n2);return n2+=1,new Oe(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return yr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Xe.Buffer);if(e.length===pl)return e;const n=Xe.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const s=Xe.Buffer.concat([e.toBuffer(),Xe.Buffer.from(n),r.toBuffer()]),i=QC(s);return new Oe(i)}static createProgramAddressSync(e,n){let r=Xe.Buffer.alloc(0);e.forEach(function(i){if(i.length>Zq)throw new TypeError("Max seed length exceeded");r=Xe.Buffer.concat([r,fr(i)])}),r=Xe.Buffer.concat([r,n.toBuffer(),Xe.Buffer.from("ProgramDerivedAddress")]);const s=QC(r);if(t2(s))throw new Error("Invalid seeds, address must fall off the curve");return new Oe(s)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,s;for(;r!=0;){try{const i=e.concat(Xe.Buffer.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Oe(e);return t2(n.toBytes())}}pD=Oe;Oe.default=new pD("11111111111111111111111111111111");l0.set(Oe,{kind:"struct",fields:[["_bn","u256"]]});new Oe("BPFLoader1111111111111111111111111111111111");const vd=1232,BT=127,Ep=64;class mD extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(mD.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class gD extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(gD.prototype,"name",{value:"TransactionExpiredTimeoutError"});class _f extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(_f.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Py{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const ct=(t="publicKey")=>rn(32,t),Jq=(t="signature")=>rn(64,t),rd=(t="string")=>{const e=Ce([je("length"),je("lengthPadding"),rn(Ac(je(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>n(i,o).chars.toString(),s.encode=(i,o,a)=>{const l={chars:Xe.Buffer.from(i,"utf8")};return r(l,o,a)},s.alloc=i=>je().span+je().span+Xe.Buffer.from(i,"utf8").length,s},eK=(t="authorized")=>Ce([ct("staker"),ct("withdrawer")],t),tK=(t="lockup")=>Ce([Is("unixTimestamp"),Is("epoch"),ct("custodian")],t),nK=(t="voteInit")=>Ce([ct("nodePubkey"),ct("authorizedVoter"),ct("authorizedWithdrawer"),St("commission")],t),rK=(t="voteAuthorizeWithSeedArgs")=>Ce([je("voteAuthorizationType"),ct("currentAuthorityDerivedKeyOwnerPubkey"),rd("currentAuthorityDerivedKeySeed"),ct("newAuthorized")],t);function yD(t,e){const n=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*n(s.elementLayout)}else if("fields"in s)return yD({layout:s},e[s.property]);return 0};let r=0;return t.layout.fields.forEach(s=>{r+=n(s)}),r}function As(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Ns(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function cn(t,e){if(!t)throw new Error(e||"Assertion failed")}class rv{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,s=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const l=s(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new rv(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];cn(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),s=e.filter(([,l])=>!l.isSigner&&l.isWritable),i=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{cn(n.length>0,"Expected at least one writable signer key");const[l]=n[0];cn(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Oe(l)),...r.map(([l])=>new Oe(l)),...s.map(([l])=>new Oe(l)),...i.map(([l])=>new Oe(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,n){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(n(o)){const a=new Oe(i),l=e.findIndex(c=>c.equals(a));l>=0&&(cn(l<256,"Max lookup table index exceeded"),r.push(l),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const wD="Reached end of buffer unexpectedly";function No(t){if(t.length===0)throw new Error(wD);return t.shift()}function Cs(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(wD);return t.splice(...e)}class Ko{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Oe(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:yr.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Py(this.staticAccountKeys)}static compile(e){const n=rv.compile(e.instructions,e.payerKey),[r,s]=n.getMessageComponents(),o=new Py(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:yr.encode(a.data)}));return new Ko({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Ns(n,e);const r=this.instructions.map(f=>{const{accounts:p,programIdIndex:m}=f,v=Array.from(yr.decode(f.data));let g=[];Ns(g,p.length);let w=[];return Ns(w,v.length),{programIdIndex:m,keyIndicesCount:Xe.Buffer.from(g),keyIndices:p,dataLength:Xe.Buffer.from(w),data:v}});let s=[];Ns(s,r.length);let i=Xe.Buffer.alloc(vd);Xe.Buffer.from(s).copy(i);let o=s.length;r.forEach(f=>{const m=Ce([St("programIdIndex"),rn(f.keyIndicesCount.length,"keyIndicesCount"),Wr(St("keyIndex"),f.keyIndices.length,"keyIndices"),rn(f.dataLength.length,"dataLength"),Wr(St("userdatum"),f.data.length,"data")]).encode(f,i,o);o+=m}),i=i.slice(0,o);const a=Ce([rn(1,"numRequiredSignatures"),rn(1,"numReadonlySignedAccounts"),rn(1,"numReadonlyUnsignedAccounts"),rn(n.length,"keyCount"),Wr(ct("key"),e,"keys"),ct("recentBlockhash")]),l={numRequiredSignatures:Xe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Xe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Xe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Xe.Buffer.from(n),keys:this.accountKeys.map(f=>fr(f.toBytes())),recentBlockhash:yr.decode(this.recentBlockhash)};let c=Xe.Buffer.alloc(2048);const u=a.encode(l,c);return i.copy(c,u),c.slice(0,u+i.length)}static from(e){let n=[...e];const r=No(n);if(r!==(r&BT))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=No(n),i=No(n),o=As(n);let a=[];for(let p=0;p<o;p++){const m=Cs(n,0,pl);a.push(new Oe(Xe.Buffer.from(m)))}const l=Cs(n,0,pl),c=As(n);let u=[];for(let p=0;p<c;p++){const m=No(n),v=As(n),g=Cs(n,0,v),w=As(n),_=Cs(n,0,w),b=yr.encode(Xe.Buffer.from(_));u.push({programIdIndex:m,accounts:g,data:b})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:yr.encode(Xe.Buffer.from(l)),accountKeys:a,instructions:u};return new Ko(f)}}class Sp{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Py(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=n-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)n.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)n.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=rv.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const u of i){const f=n.extractTableLookup(u);if(f!==void 0){const[p,{writable:m,readonly:v}]=f;r.push(p),s.writable.push(...m),s.readonly.push(...v)}}const[o,a]=n.getMessageComponents(),c=new Py(a,s).compileInstructions(e.instructions);return new Sp({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();Ns(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Ns(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Ns(i,this.addressTableLookups.length);const o=Ce([St("prefix"),Ce([St("numRequiredSignatures"),St("numReadonlySignedAccounts"),St("numReadonlyUnsignedAccounts")],"header"),rn(e.length,"staticAccountKeysLength"),Wr(ct(),this.staticAccountKeys.length,"staticAccountKeys"),ct("recentBlockhash"),rn(r.length,"instructionsLength"),rn(n.length,"serializedInstructions"),rn(i.length,"addressTableLookupsLength"),rn(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(vd),c=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:yr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(vd);for(const r of this.compiledInstructions){const s=Array();Ns(s,r.accountKeyIndexes.length);const i=Array();Ns(i,r.data.length);const o=Ce([St("programIdIndex"),rn(s.length,"encodedAccountKeyIndexesLength"),Wr(St(),r.accountKeyIndexes.length,"accountKeyIndexes"),rn(i.length,"encodedDataLength"),rn(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(vd);for(const r of this.addressTableLookups){const s=Array();Ns(s,r.writableIndexes.length);const i=Array();Ns(i,r.readonlyIndexes.length);const o=Ce([ct("accountKey"),rn(s.length,"encodedWritableIndexesLength"),Wr(St(),r.writableIndexes.length,"writableIndexes"),rn(i.length,"encodedReadonlyIndexesLength"),Wr(St(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=No(n),s=r&BT;cn(r!==s,"Expected versioned message but received legacy message");const i=s;cn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:No(n),numReadonlySignedAccounts:No(n),numReadonlyUnsignedAccounts:No(n)},a=[],l=As(n);for(let v=0;v<l;v++)a.push(new Oe(Cs(n,0,pl)));const c=yr.encode(Cs(n,0,pl)),u=As(n),f=[];for(let v=0;v<u;v++){const g=No(n),w=As(n),_=Cs(n,0,w),b=As(n),x=new Uint8Array(Cs(n,0,b));f.push({programIdIndex:g,accountKeyIndexes:_,data:x})}const p=As(n),m=[];for(let v=0;v<p;v++){const g=new Oe(Cs(n,0,pl)),w=As(n),_=Cs(n,0,w),b=As(n),x=Cs(n,0,b);m.push({accountKey:g,writableIndexes:_,readonlyIndexes:x})}return new Sp({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:f,addressTableLookups:m})}}const sv={deserializeMessageVersion(t){const e=t[0],n=e&BT;return n===e?"legacy":n},deserialize:t=>{const e=sv.deserializeMessageVersion(t);if(e==="legacy")return Ko.from(t);if(e===0)return Sp.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let ga=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const sK=Xe.Buffer.alloc(Ep).fill(0);class oi{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Xe.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}let gi=class Ab{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new oi(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let g=0;g<n.length;g++)if(n[g].programId===void 0)throw new Error(`Transaction instruction index ${g} has undefined program id`);const s=[],i=[];n.forEach(g=>{g.keys.forEach(_=>{i.push({..._})});const w=g.programId.toString();s.includes(w)||s.push(w)}),s.forEach(g=>{i.push({pubkey:new Oe(g),isSigner:!1,isWritable:!1})});const o=[];i.forEach(g=>{const w=g.pubkey.toString(),_=o.findIndex(b=>b.pubkey.toString()===w);_>-1?(o[_].isWritable=o[_].isWritable||g.isWritable,o[_].isSigner=o[_].isSigner||g.isSigner):o.push(g)}),o.sort(function(g,w){if(g.isSigner!==w.isSigner)return g.isSigner?-1:1;if(g.isWritable!==w.isWritable)return g.isWritable?-1:1;const _={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return g.pubkey.toBase58().localeCompare(w.pubkey.toBase58(),"en",_)});const a=o.findIndex(g=>g.pubkey.equals(r));if(a>-1){const[g]=o.splice(a,1);g.isSigner=!0,g.isWritable=!0,o.unshift(g)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const g of this.signatures){const w=o.findIndex(_=>_.pubkey.equals(g.publicKey));if(w>-1)o[w].isSigner||(o[w].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${g.publicKey.toString()}`)}let l=0,c=0,u=0;const f=[],p=[];o.forEach(({pubkey:g,isSigner:w,isWritable:_})=>{w?(f.push(g.toString()),l+=1,_||(c+=1)):(p.push(g.toString()),_||(u+=1))});const m=f.concat(p),v=n.map(g=>{const{data:w,programId:_}=g;return{programIdIndex:m.indexOf(_.toString()),accounts:g.keys.map(b=>m.indexOf(b.pubkey.toString())),data:yr.encode(w)}});return v.forEach(g=>{cn(g.programIdIndex>=0),g.accounts.forEach(w=>cn(w>=0))}),new Ko({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:m,recentBlockhash:e,instructions:v})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of e){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(s=>{const i=fD(r,s.secretKey);this._addSignature(s.publicKey,fr(i))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){cn(n.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Xe.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?n&&(r.missing||(r.missing=[])).push(i):Qq(s,e,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,n);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:n}=this,r=[];Ns(r,n.length);const s=r.length+n.length*64+e.length,i=Xe.Buffer.alloc(s);return cn(n.length<256),Xe.Buffer.from(r).copy(i,0),n.forEach(({signature:o},a)=>{o!==null&&(cn(o.length===64,"signature has invalid length"),Xe.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+n.length*64),cn(i.length<=vd,`Transaction too large: ${i.length} > ${vd}`),i}get keys(){return cn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return cn(this.instructions.length===1),this.instructions[0].programId}get data(){return cn(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=As(n);let s=[];for(let i=0;i<r;i++){const o=Cs(n,0,Ep);s.push(yr.encode(Xe.Buffer.from(o)))}return Ab.populate(Ko.from(n),s)}static populate(e,n=[]){const r=new Ab;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((s,i)=>{const o={signature:s==yr.encode(sK)?null:yr.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new oi({keys:i,programId:e.accountKeys[s.programIdIndex],data:yr.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}};class bl{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)cn(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(Ep));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Ns(n,this.signatures.length);const r=Ce([rn(n.length,"encodedSignaturesLength"),Wr(Jq(),this.signatures.length,"signatures"),rn(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let n=[...e];const r=[],s=As(n);for(let o=0;o<s;o++)r.push(new Uint8Array(Cs(n,0,Ep)));const i=sv.deserialize(new Uint8Array(n));return new bl(i,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));cn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=fD(n,s.secretKey)}}addSignature(e,n){cn(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));cn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}const iK=160,oK=64,aK=iK/oK,lK=1e3/aK;new Oe("SysvarC1ock11111111111111111111111111111111");new Oe("SysvarEpochSchedu1e111111111111111111111111");new Oe("Sysvar1nstructions1111111111111111111111111");const hx=new Oe("SysvarRecentB1ockHashes11111111111111111111"),r2=new Oe("SysvarRent111111111111111111111111111111111");new Oe("SysvarRewards111111111111111111111111111111");new Oe("SysvarS1otHashes111111111111111111111111111");new Oe("SysvarS1otHistory11111111111111111111111111");new Oe("SysvarStakeHistory1111111111111111111111111");class s2 extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,n(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class Pe extends Error{constructor({code:e,message:n,data:r},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function Lu(t){return new Promise(e=>setTimeout(e,t))}function Vs(t,e){const n=t.layout.span>=0?t.layout.span:yD(t,e),r=Xe.Buffer.alloc(n),s=Object.assign({instruction:t.index},e);return t.layout.encode(s,r),r}const cK=cr("lamportsPerSignature"),vD=Ce([je("version"),je("state"),ct("authorizedPubkey"),ct("nonce"),Ce([cK],"feeCalculator")]),i2=vD.span;class FT{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=vD.decode(fr(e),0);return new FT({authorizedPubkey:new Oe(n.authorizedPubkey),nonce:new Oe(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function rh(t){const e=rn(8,t),n=e.decode.bind(e),r=e.encode.bind(e),s=e,i=ZH();return s.decode=(o,a)=>{const l=n(o,a);return i.decode(l)},s.encode=(o,a,l)=>{const c=i.encode(o);return r(c,a,l)},s}const zs=Object.freeze({Create:{index:0,layout:Ce([je("instruction"),Is("lamports"),Is("space"),ct("programId")])},Assign:{index:1,layout:Ce([je("instruction"),ct("programId")])},Transfer:{index:2,layout:Ce([je("instruction"),rh("lamports")])},CreateWithSeed:{index:3,layout:Ce([je("instruction"),ct("base"),rd("seed"),Is("lamports"),Is("space"),ct("programId")])},AdvanceNonceAccount:{index:4,layout:Ce([je("instruction")])},WithdrawNonceAccount:{index:5,layout:Ce([je("instruction"),Is("lamports")])},InitializeNonceAccount:{index:6,layout:Ce([je("instruction"),ct("authorized")])},AuthorizeNonceAccount:{index:7,layout:Ce([je("instruction"),ct("authorized")])},Allocate:{index:8,layout:Ce([je("instruction"),Is("space")])},AllocateWithSeed:{index:9,layout:Ce([je("instruction"),ct("base"),rd("seed"),Is("space"),ct("programId")])},AssignWithSeed:{index:10,layout:Ce([je("instruction"),ct("base"),rd("seed"),ct("programId")])},TransferWithSeed:{index:11,layout:Ce([je("instruction"),rh("lamports"),rd("seed"),ct("programId")])},UpgradeNonceAccount:{index:12,layout:Ce([je("instruction")])}});class Tp{constructor(){}static createAccount(e){const n=zs.Create,r=Vs(n,{lamports:e.lamports,space:e.space,programId:fr(e.programId.toBuffer())});return new oi({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const s=zs.TransferWithSeed;n=Vs(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:fr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=zs.Transfer;n=Vs(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new oi({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const s=zs.AssignWithSeed;n=Vs(s,{base:fr(e.basePubkey.toBuffer()),seed:e.seed,programId:fr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=zs.Assign;n=Vs(s,{programId:fr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new oi({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=zs.CreateWithSeed,r=Vs(n,{base:fr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:fr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new oi({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const n=new gi;"basePubkey"in e&&"seed"in e?n.add(Tp.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:i2,programId:this.programId})):n.add(Tp.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:i2,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=zs.InitializeNonceAccount,r=Vs(n,{authorized:fr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:hx,isSigner:!1,isWritable:!1},{pubkey:r2,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new oi(s)}static nonceAdvance(e){const n=zs.AdvanceNonceAccount,r=Vs(n),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:hx,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new oi(s)}static nonceWithdraw(e){const n=zs.WithdrawNonceAccount,r=Vs(n,{lamports:e.lamports});return new oi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:hx,isSigner:!1,isWritable:!1},{pubkey:r2,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=zs.AuthorizeNonceAccount,r=Vs(n,{authorized:fr(e.newAuthorizedPubkey.toBuffer())});return new oi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const s=zs.AllocateWithSeed;n=Vs(s,{base:fr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:fr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=zs.Allocate;n=Vs(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new oi({keys:r,programId:this.programId,data:n})}}Tp.programId=new Oe("11111111111111111111111111111111");new Oe("BPFLoader2111111111111111111111111111111111");function uK(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fx,o2;function dK(){if(o2)return fx;o2=1;var t=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function n(r,s){var i,o,a,l,c,u,f;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),s);if(f=t.call(r),f==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=n(r[i],!0)+",";return o>-1&&(a+=n(r[i],!0)),a+"]"}else if(f==="[object Object]"){for(l=e(r).sort(),o=l.length,a="",i=0;i<o;)c=l[i],u=n(r[c],!1),u!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+u),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return fx=function(r){var s=n(r,!1);if(s!==void 0)return""+s},fx}var hK=dK(),a2=uK(hK);const sf=32;function px(t){let e=0;for(;t>1;)t/=2,e++;return e}function fK(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class pK{constructor(e,n,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=px(fK(e+sf+1))-px(sf)-1,r=this.getSlotsInEpoch(n),s=e-(r-sf);return[n,s]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=n%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*sf:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+px(sf)):this.slotsPerEpoch}}var mK=globalThis.fetch;class gK extends Dq{constructor(e,n,r){const s=i=>{const o=Oq(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function yK(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const l2=56;class c2{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=yK(wK,e),r=e.length-l2;cn(r>=0,"lookup table is invalid"),cn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=Ce([Wr(ct(),s,"addresses")]).decode(e.slice(l2));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Oe(n.authority[0]):void 0,addresses:i.map(o=>new Oe(o))}}}const wK={index:1,layout:Ce([je("typeIndex"),rh("deactivationSlot"),cr("lastExtendedSlot"),St("lastExtendedStartIndex"),St(),Wr(ct(),Ac(St(),-1),"authority")])},vK=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function xK(t){const e=t.match(vK);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,s,i]=e,o=t.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${r}${l}${i}`}const Tn=fm(LT(Oe),ge(),t=>new Oe(t)),xD=DT([ge(),bn("base64")]),UT=fm(LT(Xe.Buffer),xD,t=>Xe.Buffer.from(t[0],"base64")),_K=30*1e3;function bK(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function qt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...s}=t;e=r,n=s}return{commitment:e,config:n}}function u2(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function _D(t){return rs([de({jsonrpc:bn("2.0"),id:ge(),result:t}),de({jsonrpc:bn("2.0"),id:ge(),error:de({code:Ih(),message:ge(),data:Ue(sq())})})])}const EK=_D(Ih());function it(t){return fm(_D(t),EK,e=>"error"in e?e:{...e,result:xe(e.result,t)})}function On(t){return it(de({context:de({slot:ee()}),value:t}))}function iv(t){return de({context:de({slot:ee()}),value:t})}function mx(t,e){return t===0?new Sp({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new Oe(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:yr.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Ko(e)}const SK=de({foundation:ee(),foundationTerm:ee(),initial:ee(),taper:ee(),terminal:ee()}),TK=it(be(Se(de({epoch:ee(),effectiveSlot:ee(),amount:ee(),postBalance:ee(),commission:Ue(Se(ee()))})))),IK=be(de({slot:ee(),prioritizationFee:ee()})),AK=de({total:ee(),validator:ee(),foundation:ee(),epoch:ee()}),NK=de({epoch:ee(),slotIndex:ee(),slotsInEpoch:ee(),absoluteSlot:ee(),blockHeight:Ue(ee()),transactionCount:Ue(ee())}),CK=de({slotsPerEpoch:ee(),leaderScheduleSlotOffset:ee(),warmup:Zi(),firstNormalEpoch:ee(),firstNormalSlot:ee()}),kK=rD(ge(),be(ee())),nu=Se(rs([de({}),ge()])),RK=de({err:nu}),MK=bn("receivedSignature"),PK=de({"solana-core":ge(),"feature-set":Ue(ee())}),OK=de({program:ge(),programId:Tn,parsed:Ih()}),LK=de({programId:Tn,accounts:be(Tn),data:ge()}),d2=On(de({err:Se(rs([de({}),ge()])),logs:Se(be(ge())),accounts:Ue(Se(be(Se(de({executable:Zi(),owner:ge(),lamports:ee(),data:be(ge()),rentEpoch:Ue(ee())}))))),unitsConsumed:Ue(ee()),returnData:Ue(Se(de({programId:ge(),data:DT([ge(),bn("base64")])}))),innerInstructions:Ue(Se(be(de({index:ee(),instructions:be(rs([OK,LK]))}))))})),DK=On(de({byIdentity:rD(ge(),be(ee())),range:de({firstSlot:ee(),lastSlot:ee()})}));function jK(t,e,n,r,s,i){const o=n||mK;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(u,f)=>{const p=await new Promise((m,v)=>{try{r(u,f,(g,w)=>m([g,w]))}catch(g){v(g)}});return await o(...p)}),new Rq(async(u,f)=>{const p={method:"POST",body:u,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},jG)};try{let m=5,v,g=500;for(;l?v=await l(t,p):v=await o(t,p),!(v.status!==429||s===!0||(m-=1,m===0));)console.error(`Server responded with ${v.status} ${v.statusText}.  Retrying after ${g}ms delay...`),await Lu(g),g*=2;const w=await v.text();v.ok?f(null,w):f(new Error(`${v.status} ${v.statusText}: ${w}`))}catch(m){m instanceof Error&&f(m)}},{})}function BK(t){return(e,n)=>new Promise((r,s)=>{t.request(e,n,(i,o)=>{if(i){s(i);return}r(o)})})}function FK(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const s=e.map(i=>t.request(i.methodName,i.args));t.request(s,(i,o)=>{if(i){r(i);return}n(o)})})}const UK=it(SK),VK=it(AK),zK=it(IK),WK=it(NK),$K=it(CK),HK=it(kK),qK=it(ee()),KK=On(de({total:ee(),circulating:ee(),nonCirculating:ee(),nonCirculatingAccounts:be(Tn)})),Nb=de({amount:ge(),uiAmount:Se(ee()),decimals:ee(),uiAmountString:Ue(ge())}),GK=On(be(de({address:Tn,amount:ge(),uiAmount:Se(ee()),decimals:ee(),uiAmountString:Ue(ge())}))),QK=On(be(de({pubkey:Tn,account:de({executable:Zi(),owner:Tn,lamports:ee(),data:UT,rentEpoch:ee()})}))),Cb=de({program:ge(),parsed:Ih(),space:ee()}),YK=On(be(de({pubkey:Tn,account:de({executable:Zi(),owner:Tn,lamports:ee(),data:Cb,rentEpoch:ee()})}))),ZK=On(be(de({lamports:ee(),address:Tn}))),Ip=de({executable:Zi(),owner:Tn,lamports:ee(),data:UT,rentEpoch:ee()}),XK=de({pubkey:Tn,account:Ip}),JK=fm(rs([LT(Xe.Buffer),Cb]),rs([xD,Cb]),t=>Array.isArray(t)?xe(t,UT):t),kb=de({executable:Zi(),owner:Tn,lamports:ee(),data:JK,rentEpoch:ee()}),eG=de({pubkey:Tn,account:kb}),tG=de({state:rs([bn("active"),bn("inactive"),bn("activating"),bn("deactivating")]),active:ee(),inactive:ee()}),nG=it(be(de({signature:ge(),slot:ee(),err:nu,memo:Se(ge()),blockTime:Ue(Se(ee()))}))),rG=it(be(de({signature:ge(),slot:ee(),err:nu,memo:Se(ge()),blockTime:Ue(Se(ee()))}))),sG=de({subscription:ee(),result:iv(Ip)}),iG=de({pubkey:Tn,account:Ip}),oG=de({subscription:ee(),result:iv(iG)}),aG=de({parent:ee(),slot:ee(),root:ee()}),lG=de({subscription:ee(),result:aG}),cG=rs([de({type:rs([bn("firstShredReceived"),bn("completed"),bn("optimisticConfirmation"),bn("root")]),slot:ee(),timestamp:ee()}),de({type:bn("createdBank"),parent:ee(),slot:ee(),timestamp:ee()}),de({type:bn("frozen"),slot:ee(),timestamp:ee(),stats:de({numTransactionEntries:ee(),numSuccessfulTransactions:ee(),numFailedTransactions:ee(),maxTransactionsPerEntry:ee()})}),de({type:bn("dead"),slot:ee(),timestamp:ee(),err:ge()})]),uG=de({subscription:ee(),result:cG}),dG=de({subscription:ee(),result:iv(rs([RK,MK]))}),hG=de({subscription:ee(),result:ee()}),fG=de({pubkey:ge(),gossip:Se(ge()),tpu:Se(ge()),rpc:Se(ge()),version:Se(ge())}),h2=de({votePubkey:ge(),nodePubkey:ge(),activatedStake:ee(),epochVoteAccount:Zi(),epochCredits:be(DT([ee(),ee(),ee()])),commission:ee(),lastVote:ee(),rootSlot:Se(ee())}),pG=it(de({current:be(h2),delinquent:be(h2)})),mG=rs([bn("processed"),bn("confirmed"),bn("finalized")]),gG=de({slot:ee(),confirmations:Se(ee()),err:nu,confirmationStatus:Ue(mG)}),yG=On(be(Se(gG))),wG=it(ee()),bD=de({accountKey:Tn,writableIndexes:be(ee()),readonlyIndexes:be(ee())}),VT=de({signatures:be(ge()),message:de({accountKeys:be(ge()),header:de({numRequiredSignatures:ee(),numReadonlySignedAccounts:ee(),numReadonlyUnsignedAccounts:ee()}),instructions:be(de({accounts:be(ee()),data:ge(),programIdIndex:ee()})),recentBlockhash:ge(),addressTableLookups:Ue(be(bD))})}),ED=de({pubkey:Tn,signer:Zi(),writable:Zi(),source:Ue(rs([bn("transaction"),bn("lookupTable")]))}),SD=de({accountKeys:be(ED),signatures:be(ge())}),TD=de({parsed:Ih(),program:ge(),programId:Tn}),ID=de({accounts:be(Tn),data:ge(),programId:Tn}),vG=rs([ID,TD]),xG=rs([de({parsed:Ih(),program:ge(),programId:ge()}),de({accounts:be(ge()),data:ge(),programId:ge()})]),AD=fm(vG,xG,t=>"accounts"in t?xe(t,ID):xe(t,TD)),ND=de({signatures:be(ge()),message:de({accountKeys:be(ED),instructions:be(AD),recentBlockhash:ge(),addressTableLookups:Ue(Se(be(bD)))})}),Oy=de({accountIndex:ee(),mint:ge(),owner:Ue(ge()),programId:Ue(ge()),uiTokenAmount:Nb}),CD=de({writable:be(Tn),readonly:be(Tn)}),ov=de({err:nu,fee:ee(),innerInstructions:Ue(Se(be(de({index:ee(),instructions:be(de({accounts:be(ee()),data:ge(),programIdIndex:ee()}))})))),preBalances:be(ee()),postBalances:be(ee()),logMessages:Ue(Se(be(ge()))),preTokenBalances:Ue(Se(be(Oy))),postTokenBalances:Ue(Se(be(Oy))),loadedAddresses:Ue(CD),computeUnitsConsumed:Ue(ee())}),zT=de({err:nu,fee:ee(),innerInstructions:Ue(Se(be(de({index:ee(),instructions:be(AD)})))),preBalances:be(ee()),postBalances:be(ee()),logMessages:Ue(Se(be(ge()))),preTokenBalances:Ue(Se(be(Oy))),postTokenBalances:Ue(Se(be(Oy))),loadedAddresses:Ue(CD),computeUnitsConsumed:Ue(ee())}),Ah=rs([bn(0),bn("legacy")]),ru=de({pubkey:ge(),lamports:ee(),postBalance:Se(ee()),rewardType:Se(ge()),commission:Ue(Se(ee()))}),_G=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:be(de({transaction:VT,meta:Se(ov),version:Ue(Ah)})),rewards:Ue(be(ru)),blockTime:Se(ee()),blockHeight:Se(ee())}))),bG=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),rewards:Ue(be(ru)),blockTime:Se(ee()),blockHeight:Se(ee())}))),EG=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:be(de({transaction:SD,meta:Se(ov),version:Ue(Ah)})),rewards:Ue(be(ru)),blockTime:Se(ee()),blockHeight:Se(ee())}))),SG=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:be(de({transaction:ND,meta:Se(zT),version:Ue(Ah)})),rewards:Ue(be(ru)),blockTime:Se(ee()),blockHeight:Se(ee())}))),TG=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:be(de({transaction:SD,meta:Se(zT),version:Ue(Ah)})),rewards:Ue(be(ru)),blockTime:Se(ee()),blockHeight:Se(ee())}))),IG=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),rewards:Ue(be(ru)),blockTime:Se(ee()),blockHeight:Se(ee())}))),AG=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),transactions:be(de({transaction:VT,meta:Se(ov)})),rewards:Ue(be(ru)),blockTime:Se(ee())}))),f2=it(Se(de({blockhash:ge(),previousBlockhash:ge(),parentSlot:ee(),signatures:be(ge()),blockTime:Se(ee())}))),gx=it(Se(de({slot:ee(),meta:Se(ov),blockTime:Ue(Se(ee())),transaction:VT,version:Ue(Ah)}))),Ng=it(Se(de({slot:ee(),transaction:ND,meta:Se(zT),blockTime:Ue(Se(ee())),version:Ue(Ah)}))),NG=On(de({blockhash:ge(),lastValidBlockHeight:ee()})),CG=On(Zi()),kG=de({slot:ee(),numTransactions:ee(),numSlots:ee(),samplePeriodSecs:ee()}),RG=it(be(kG)),MG=On(Se(de({feeCalculator:de({lamportsPerSignature:ee()})}))),PG=it(ge()),OG=it(ge()),LG=de({err:nu,logs:be(ge()),signature:ge()}),DG=de({result:iv(LG),subscription:ee()}),jG={"solana-client":"js/1.0.0-maintenance"};class BG{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async u=>{const{commitment:f,config:p}=qt(u),m=this._buildArgs([],f,void 0,p),v=a2(m);return c[v]=c[v]??(async()=>{try{const g=await this._rpcRequest("getBlockHeight",m),w=xe(g,it(ee()));if("error"in w)throw new Pe(w.error,"failed to get block height information");return w.result}finally{delete c[v]}})(),await c[v]}})();let r,s,i,o,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,s=n.httpHeaders,i=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=bK(e),this._rpcWsEndpoint=r||xK(e),this._rpcClient=jK(e,s,i,o,a,l),this._rpcRequest=BK(this._rpcClient),this._rpcBatchRequest=FK(this._rpcClient),this._rpcWebSocket=new gK(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:s}=qt(n),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=xe(o,On(ee()));if("error"in a)throw new Pe(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=xe(n,it(Se(ee())));if("error"in r)throw new Pe(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=xe(e,it(ee()));if("error"in n)throw new Pe(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=xe(e,qK);if("error"in n)throw new Pe(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),s=xe(r,KK);if("error"in s)throw new Pe(s.error,"failed to get supply");return s.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenSupply",r),i=xe(s,On(Nb));if("error"in i)throw new Pe(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",r),i=xe(s,On(Nb));if("error"in i)throw new Pe(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,n,r){const{commitment:s,config:i}=qt(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=xe(l,QK);if("error"in c)throw new Pe(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=xe(o,YK);if("error"in a)throw new Pe(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",r),i=xe(s,ZK);if("error"in i)throw new Pe(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",r),i=xe(s,GK);if("error"in i)throw new Pe(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:s}=qt(n),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=xe(o,On(Se(Ip)));if("error"in a)throw new Pe(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:s}=qt(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=xe(o,On(Se(kb)));if("error"in a)throw new Pe(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:s}=qt(n),i=e.map(c=>c.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),l=xe(a,On(be(Se(kb))));if("error"in l)throw new Pe(l.error,`failed to get info for accounts ${i}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:s}=qt(n),i=e.map(c=>c.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),l=xe(a,On(be(Se(Ip))));if("error"in l)throw new Pe(l.error,`failed to get info for accounts ${i}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:s,config:i}=qt(n),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),l=xe(a,it(tG));if("error"in l)throw new Pe(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:s}=qt(n),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:u2(o.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=be(XK),u=o.withContext===!0?xe(l,On(c)):xe(l,it(c));if("error"in u)throw new Pe(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:s}=qt(n),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=xe(o,it(be(eG)));if("error"in a)throw new Pe(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=yr.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return cn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,s,i=!1;const o=new Promise((l,c)=>{try{r=this.onSignature(n,(f,p)=>{r=void 0;const m={context:p,value:f};l({__type:ga.PROCESSED,response:m})},e);const u=new Promise(f=>{r==null?f():s=this._onSubscriptionStateChange(r,p=>{p==="subscribed"&&f()})});(async()=>{if(await u,i)return;const f=await this.getSignatureStatus(n);if(i||f==null)return;const{context:p,value:m}=f;if(m!=null)if(m!=null&&m.err)c(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,l({__type:ga.PROCESSED,response:{context:p,value:m}})}})()}catch(u){c(u)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(f=>{const p=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await p();if(!i){for(;m<=r;)if(await Lu(1e3),i||(m=await p(),i))return;f({__type:ga.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),c=this.getCancellationPromise(n);let u;try{const f=await Promise.race([c,l,o]);if(f.__type===ga.PROCESSED)u=f.response;else throw new mD(s)}finally{i=!0,a()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const l=new Promise(m=>{let v=i,g=null;const w=async()=>{try{const{context:_,value:b}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return g=_.slot,b==null?void 0:b.nonce}catch{return v}};(async()=>{if(v=await w(),!a)for(;;){if(i!==v){m({__type:ga.NONCE_INVALID,slotInWhichNonceDidAdvance:g});return}if(await Lu(2e3),a||(v=await w(),a))return}})()}),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),f=this.getCancellationPromise(n);let p;try{const m=await Promise.race([f,u,l]);if(m.__type===ga.PROCESSED)p=m.response;else{let v;for(;;){const g=await this.getSignatureStatus(o);if(g==null)break;if(g.context.slot<(m.slotInWhichNonceDidAdvance??r)){await Lu(400);continue}v=g;break}if(v!=null&&v.value){const g=e||"finalized",{confirmationStatus:w}=v.value;switch(g){case"processed":case"recent":if(w!=="processed"&&w!=="confirmed"&&w!=="finalized")throw new _f(o);break;case"confirmed":case"single":case"singleGossip":if(w!=="confirmed"&&w!=="finalized")throw new _f(o);break;case"finalized":case"max":case"root":if(w!=="finalized")throw new _f(o);break;default:}p={context:v.context,value:{err:v.value.err}}}else throw new _f(o)}}finally{a=!0,c()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const s=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:ga.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([o,s]);if(l.__type===ga.PROCESSED)a=l.response;else throw new gD(n,l.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=xe(e,it(be(fG)));if("error"in n)throw new Pe(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),s=xe(r,pG);if("error"in s)throw new Pe(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:n,config:r}=qt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlot",s),o=xe(i,it(ee()));if("error"in o)throw new Pe(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=qt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=xe(i,it(ge()));if("error"in o)throw new Pe(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],s=await this._rpcRequest("getSlotLeaders",r),i=xe(s,it(be(Tn)));if("error"in i)throw new Pe(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,n){const{context:r,value:s}=await this.getSignatureStatuses([e],n);cn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const s=await this._rpcRequest("getSignatureStatuses",r),i=xe(s,yG);if("error"in i)throw new Pe(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:n,config:r}=qt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=xe(i,it(ee()));if("error"in o)throw new Pe(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),s=xe(r,UK);if("error"in s)throw new Pe(s.error,"failed to get inflation");return s.result}async getInflationReward(e,n,r){const{commitment:s,config:i}=qt(r),o=this._buildArgs([e.map(c=>c.toBase58())],s,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),l=xe(a,TK);if("error"in l)throw new Pe(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=xe(e,VK);if("error"in n)throw new Pe(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=qt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=xe(i,WK);if("error"in o)throw new Pe(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=xe(e,$K);if("error"in n)throw new Pe(n.error,"failed to get epoch schedule");const r=n.result;return new pK(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=xe(e,HK);if("error"in n)throw new Pe(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=xe(s,wG);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=xe(n,RG);if("error"in r)throw new Pe(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=xe(s,MG);if("error"in i)throw new Pe(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=fr(e.serialize()).toString("base64"),s=this._buildArgs([r],n),i=await this._rpcRequest("getFeeForMessage",s),o=xe(i,On(Se(ee())));if("error"in o)throw new Pe(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=xe(s,zK);if("error"in i)throw new Pe(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=qt(e),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=xe(i,NG);if("error"in o)throw new Pe(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:s}=qt(n),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=xe(o,CG);if("error"in a)throw new Pe(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=xe(e,it(PK));if("error"in n)throw new Pe(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=xe(e,it(ge()));if("error"in n)throw new Pe(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:s}=qt(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=xe(o,EG);if("error"in a)throw a.error;return a.result}case"none":{const a=xe(o,bG);if("error"in a)throw a.error;return a.result}default:{const a=xe(o,_G);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:u,version:f})=>({meta:u,transaction:{...c,message:mx(f,c.message)},version:f}))}:null}}}catch(a){throw new Pe(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:s}=qt(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=xe(o,TG);if("error"in a)throw a.error;return a.result}case"none":{const a=xe(o,IG);if("error"in a)throw a.error;return a.result}default:{const a=xe(o,SG);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Pe(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const s=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getBlockProduction",s),o=xe(i,DK);if("error"in o)throw new Pe(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:s}=qt(n),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=xe(o,gx);if("error"in a)throw new Pe(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:mx(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:s}=qt(n),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=xe(o,Ng);if("error"in a)throw new Pe(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:s}=qt(n),i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(l=>{const c=xe(l,Ng);if("error"in c)throw new Pe(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:s}=qt(n),i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(l=>{const c=xe(l,gx);if("error"in c)throw new Pe(c.error,"failed to get transactions");const u=c.result;return u&&{...u,transaction:{...u.transaction,message:mx(u.version,u.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getBlock",r),i=xe(s,AG);if("error"in i)throw new Pe(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:c})=>{const u=new Ko(l.message);return{meta:c,transaction:{...l,message:u}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:gi.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),i=await this._rpcRequest("getBlocks",s),o=xe(i,it(be(ee())));if("error"in o)throw new Pe(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=xe(s,f2);if("error"in i)throw new Pe(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=xe(s,f2);if("error"in i)throw new Pe(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getTransaction",r),i=xe(s,gx);if("error"in i)throw new Pe(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new Ko(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:gi.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=xe(s,Ng);if("error"in i)throw new Pe(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=xe(o,Ng);if("error"in a)throw new Pe(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<i));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(s.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(s.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=xe(i,nG);if("error"in o)throw new Pe(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getSignaturesForAddress",s),o=xe(i,rG);if("error"in o)throw new Pe(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=new c2({key:e,state:c2.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let i=null;return s!==null&&(i=FT.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),s=xe(r,PG);if("error"in s)throw new Pe(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Lu(100);const r=Date.now()-this._blockhashInfo.lastFetch>=_K;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Lu(lK/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=qt(e),s=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=xe(i,On(ee()));if("error"in o)throw new Pe(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const g=e.serialize(),w=Xe.Buffer.from(g).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const _=n||{};_.encoding="base64","commitment"in _||(_.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(_.innerInstructions=n.innerInstructions);const b=[w,_],x=await this._rpcRequest("simulateTransaction",b),S=xe(x,d2);if("error"in S)throw new Error("failed to simulate transaction: "+S.error.message);return S.result}let s;if(e instanceof gi){let v=e;s=new gi,s.feePayer=v.feePayer,s.instructions=e.instructions,s.nonceInfo=v.nonceInfo,s.signatures=v.signatures}else s=gi.populate(e),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(s.nonceInfo&&i)s.sign(...i);else{let v=this._disableBlockhashCaching;for(;;){const g=await this._blockhashWithExpiryBlockHeight(v);if(s.lastValidBlockHeight=g.lastValidBlockHeight,s.recentBlockhash=g.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const w=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(w)&&!this._blockhashInfo.transactionSignatures.includes(w)){this._blockhashInfo.simulatedSignatures.push(w);break}else v=!0}}const o=s._compile(),a=o.serialize(),c=s._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const v=(Array.isArray(r)?r:o.nonProgramIds()).map(g=>g.toBase58());u.accounts={encoding:"base64",addresses:v}}i&&(u.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(u.innerInstructions=n.innerInstructions);const f=[c,u],p=await this._rpcRequest("simulateTransaction",f),m=xe(p,d2);if("error"in m){let v;if("data"in m.error&&(v=m.error.data.logs,v&&Array.isArray(v))){const g=`
    `,w=g+v.join(g);console.error(m.error.message,w)}throw new s2({action:"simulate",signature:"",transactionMessage:m.error.message,logs:v})}return m.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,n){const r=fr(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},s=n&&n.skipPreflight,i=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),l=xe(a,OG);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new s2({action:s?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var i;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!n())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...n)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=xe(e,sG);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,s=a2([e.method,n]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];cn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:s,config:i}=qt(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=xe(e,oG);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,s){const{commitment:i,config:o}=qt(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:u2(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=xe(e,DG);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=xe(e,lG);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=xe(e,uG);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,s){const i=n||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,s){const i=n||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,s)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=xe(e,dG);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,n,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=xe(e,hG);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:Ce([je("instruction"),rh("recentSlot"),St("bumpSeed")])},FreezeLookupTable:{index:1,layout:Ce([je("instruction")])},ExtendLookupTable:{index:2,layout:Ce([je("instruction"),rh(),Wr(ct(),Ac(je(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Ce([je("instruction")])},CloseLookupTable:{index:4,layout:Ce([je("instruction")])}});new Oe("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:Ce([St("instruction"),je("units"),je("additionalFee")])},RequestHeapFrame:{index:1,layout:Ce([St("instruction"),je("bytes")])},SetComputeUnitLimit:{index:2,layout:Ce([St("instruction"),je("units")])},SetComputeUnitPrice:{index:3,layout:Ce([St("instruction"),rh("microLamports")])}});new Oe("ComputeBudget111111111111111111111111111111");Ce([St("numSignatures"),St("padding"),qs("signatureOffset"),qs("signatureInstructionIndex"),qs("publicKeyOffset"),qs("publicKeyInstructionIndex"),qs("messageDataOffset"),qs("messageDataSize"),qs("messageInstructionIndex")]);new Oe("Ed25519SigVerify111111111111111111111111111");Gq.utils.isValidPrivateKey;Ce([St("numSignatures"),qs("signatureOffset"),St("signatureInstructionIndex"),qs("ethAddressOffset"),St("ethAddressInstructionIndex"),qs("messageDataOffset"),qs("messageDataSize"),St("messageInstructionIndex"),rn(20,"ethAddress"),rn(64,"signature"),St("recoveryId")]);new Oe("KeccakSecp256k11111111111111111111111111111");var kD;new Oe("StakeConfig11111111111111111111111111111111");class RD{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}kD=RD;RD.default=new kD(0,0,Oe.default);Object.freeze({Initialize:{index:0,layout:Ce([je("instruction"),eK(),tK()])},Authorize:{index:1,layout:Ce([je("instruction"),ct("newAuthorized"),je("stakeAuthorizationType")])},Delegate:{index:2,layout:Ce([je("instruction")])},Split:{index:3,layout:Ce([je("instruction"),Is("lamports")])},Withdraw:{index:4,layout:Ce([je("instruction"),Is("lamports")])},Deactivate:{index:5,layout:Ce([je("instruction")])},Merge:{index:7,layout:Ce([je("instruction")])},AuthorizeWithSeed:{index:8,layout:Ce([je("instruction"),ct("newAuthorized"),je("stakeAuthorizationType"),rd("authoritySeed"),ct("authorityOwner")])}});new Oe("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:Ce([je("instruction"),nK()])},Authorize:{index:1,layout:Ce([je("instruction"),ct("newAuthorized"),je("voteAuthorizationType")])},Withdraw:{index:3,layout:Ce([je("instruction"),Is("lamports")])},UpdateValidatorIdentity:{index:4,layout:Ce([je("instruction")])},AuthorizeWithSeed:{index:10,layout:Ce([je("instruction"),rK()])}});new Oe("Vote111111111111111111111111111111111111111");new Oe("Va1idator1nfo111111111111111111111111111111");de({name:ge(),website:Ue(ge()),details:Ue(ge()),iconUrl:Ue(ge()),keybaseUsername:Ue(ge())});new Oe("Vote111111111111111111111111111111111111111");Ce([ct("nodePubkey"),ct("authorizedWithdrawer"),St("commission"),cr(),Wr(Ce([cr("slot"),je("confirmationCount")]),Ac(je(),-8),"votes"),St("rootSlotValid"),cr("rootSlot"),cr(),Wr(Ce([cr("epoch"),ct("authorizedVoter")]),Ac(je(),-8),"authorizedVoters"),Ce([Wr(Ce([ct("authorizedPubkey"),cr("epochOfLastAuthorizedSwitch"),cr("targetEpoch")]),32,"buf"),cr("idx"),St("isEmpty")],"priorVoters"),cr(),Wr(Ce([cr("epoch"),cr("credits"),cr("prevCredits")]),Ac(je(),-8),"epochCredits"),Ce([cr("slot"),cr("timestamp")],"lastTimestamp")]);const p2=1e9,MD=k.createContext({});function PD(){return k.useContext(MD)}const FG=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=k.useMemo(()=>new BG(e,n),[e,n]);return ce.createElement(MD.Provider,{value:{connection:r}},t)};class Jn extends Error{constructor(e,n){super(e),this.error=n}}class Go extends Jn{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class WT extends Jn{constructor(){super(...arguments),this.name="WalletLoadError"}}class lc extends Jn{constructor(){super(...arguments),this.name="WalletConfigError"}}class Qo extends Jn{constructor(){super(...arguments),this.name="WalletConnectionError"}}class av extends Jn{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class pm extends Jn{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Xa extends Jn{constructor(){super(...arguments),this.name="WalletAccountError"}}class El extends Jn{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Zt extends Jn{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Ui extends Jn{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class ms extends Jn{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class mm extends Jn{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class m2 extends Jn{constructor(){super(...arguments),this.name="WalletSignInError"}}var Ze;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(Ze||(Ze={}));class OD extends jT{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const s=this.publicKey;if(!s)throw new Zt;return e.feePayer=e.feePayer||s,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function LD(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const i of e)i()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function Rb(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function Vi(t){return"version"in t}class DD extends OD{async sendTransaction(e,n,r={}){let s=!0;try{if(Vi(e)){if(!this.supportedTransactionVersions)throw new Ui("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Ui(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const i=e.serialize();return await n.sendRawTransaction(i,r)}catch(i){throw i instanceof ms?(s=!1,i):new Ui(i==null?void 0:i.message,i)}}else try{const{signers:i,...o}=r;e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,o)}catch(i){throw i instanceof ms?(s=!1,i):new Ui(i==null?void 0:i.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(e){for(const r of e)if(Vi(r)){if(!this.supportedTransactionVersions)throw new ms("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new ms(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class lv extends DD{}class UG extends lv{}const Jr="solana:signAndSendTransaction",Nc="solana:signIn",Co="solana:signMessage",xn="solana:signTransaction",cv="standard:connect",Ly="standard:disconnect",uv="standard:events";function VG(t){return cv in t.features&&uv in t.features&&(Jr in t.features||xn in t.features)}class g2 extends Jn{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const zG=[],dv={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){ci("call","select")},connect(){return Promise.reject(ci("call","connect"))},disconnect(){return Promise.reject(ci("call","disconnect"))},sendTransaction(){return Promise.reject(ci("call","sendTransaction"))},signTransaction(){return Promise.reject(ci("call","signTransaction"))},signAllTransactions(){return Promise.reject(ci("call","signAllTransactions"))},signMessage(){return Promise.reject(ci("call","signMessage"))},signIn(){return Promise.reject(ci("call","signIn"))}};Object.defineProperty(dv,"wallets",{get(){return ci("read","wallets"),zG}});Object.defineProperty(dv,"wallet",{get(){return ci("read","wallet"),null}});Object.defineProperty(dv,"publicKey",{get(){return ci("read","publicKey"),null}});function ci(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const jD=k.createContext(dv);function gm(){return k.useContext(jD)}function WG(t,e){const n=k.useState(()=>{try{const i=localStorage.getItem(t);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return e}),r=n[0],s=k.useRef(!0);return k.useEffect(()=>{if(s.current){s.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,t]),n}var $G=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},BD={},Us={};let $T;const HG=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Us.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Us.getSymbolTotalCodewords=function(e){return HG[e]};Us.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Us.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');$T=e};Us.isKanjiModeEnabled=function(){return typeof $T<"u"};Us.toSJIS=function(e){return $T(e)};var hv={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(hv);function FD(){this.buffer=[],this.length=0}FD.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var qG=FD;function ym(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}ym.prototype.set=function(t,e,n,r){const s=t*this.size+e;this.data[s]=n,r&&(this.reservedBit[s]=!0)};ym.prototype.get=function(t,e){return this.data[t*this.size+e]};ym.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};ym.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var KG=ym,UD={};(function(t){const e=Us.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let l=1;l<s-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),o=i.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||s.push([i[a],i[l]]);return s}})(UD);var VD={};const GG=Us.getSymbolSize,y2=7;VD.getPositions=function(e){const n=GG(e);return[[0,0],[n-y2,0],[0,n-y2]]};var zD={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,l=0,c=null,u=null;for(let f=0;f<i;f++){a=l=0,c=u=null;for(let p=0;p<i;p++){let m=s.get(f,p);m===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=m,a=1),m=s.get(p,f),m===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=m,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let l=0;l<i-1;l++){const c=s.get(a,l)+s.get(a,l+1)+s.get(a+1,l)+s.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,l=0;for(let c=0;c<i;c++){a=l=0;for(let u=0;u<i;u++)a=a<<1&2047|s.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|s.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let l=0;l<o;l++)i+=s.data[l];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)i.isReserved(l,a)||i.xor(l,a,n(s,l,a))},t.getBestMask=function(s,i){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){i(c),t.applyMask(c,s);const u=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(c,s),u<l&&(l=u,a=c)}return a}})(zD);var fv={};const Ja=hv,Cg=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],kg=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];fv.getBlocksCount=function(e,n){switch(n){case Ja.L:return Cg[(e-1)*4+0];case Ja.M:return Cg[(e-1)*4+1];case Ja.Q:return Cg[(e-1)*4+2];case Ja.H:return Cg[(e-1)*4+3];default:return}};fv.getTotalCodewordsCount=function(e,n){switch(n){case Ja.L:return kg[(e-1)*4+0];case Ja.M:return kg[(e-1)*4+1];case Ja.Q:return kg[(e-1)*4+2];case Ja.H:return kg[(e-1)*4+3];default:return}};var WD={},pv={};const qf=new Uint8Array(512),Dy=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)qf[n]=e,Dy[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)qf[n]=qf[n-255]})();pv.log=function(e){if(e<1)throw new Error("log("+e+")");return Dy[e]};pv.exp=function(e){return qf[e]};pv.mul=function(e,n){return e===0||n===0?0:qf[Dy[e]+Dy[n]]};(function(t){const e=pv;t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=e.mul(r[o],s[a]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let l=0;l<s.length;l++)i[l]^=e.mul(s[l],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(WD);const $D=WD;function HT(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}HT.prototype.initialize=function(e){this.degree=e,this.genPoly=$D.generateECPolynomial(this.degree)};HT.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=$D.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var QG=HT,HD={},Ol={},qT={};qT.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var io={};const qD="[0-9]+",YG="[A-Z $%*+\\-./:]+";let Ap="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ap=Ap.replace(/u/g,"\\u");const ZG="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ap+`)(?:.|[\r
]))+`;io.KANJI=new RegExp(Ap,"g");io.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");io.BYTE=new RegExp(ZG,"g");io.NUMERIC=new RegExp(qD,"g");io.ALPHANUMERIC=new RegExp(YG,"g");const XG=new RegExp("^"+Ap+"$"),JG=new RegExp("^"+qD+"$"),eQ=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");io.testKanji=function(e){return XG.test(e)};io.testNumeric=function(e){return JG.test(e)};io.testAlphanumeric=function(e){return eQ.test(e)};(function(t){const e=qT,n=io;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,o){if(t.isValid(i))return i;try{return r(i)}catch{return o}}})(Ol);(function(t){const e=Us,n=fv,r=hv,s=Ol,i=qT,o=7973,a=e.getBCHDigit(o);function l(p,m,v){for(let g=1;g<=40;g++)if(m<=t.getCapacity(g,v,p))return g}function c(p,m){return s.getCharCountIndicator(p,m)+4}function u(p,m){let v=0;return p.forEach(function(g){const w=c(g.mode,m);v+=w+g.getBitsLength()}),v}function f(p,m){for(let v=1;v<=40;v++)if(u(p,v)<=t.getCapacity(v,m,s.MIXED))return v}t.from=function(m,v){return i.isValid(m)?parseInt(m,10):v},t.getCapacity=function(m,v,g){if(!i.isValid(m))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=s.BYTE);const w=e.getSymbolTotalCodewords(m),_=n.getTotalCodewordsCount(m,v),b=(w-_)*8;if(g===s.MIXED)return b;const x=b-c(g,m);switch(g){case s.NUMERIC:return Math.floor(x/10*3);case s.ALPHANUMERIC:return Math.floor(x/11*2);case s.KANJI:return Math.floor(x/13);case s.BYTE:default:return Math.floor(x/8)}},t.getBestVersionForData=function(m,v){let g;const w=r.from(v,r.M);if(Array.isArray(m)){if(m.length>1)return f(m,w);if(m.length===0)return 1;g=m[0]}else g=m;return l(g.mode,g.getLength(),w)},t.getEncodedBits=function(m){if(!i.isValid(m)||m<7)throw new Error("Invalid QR Code version");let v=m<<12;for(;e.getBCHDigit(v)-a>=0;)v^=o<<e.getBCHDigit(v)-a;return m<<12|v}})(HD);var KD={};const Mb=Us,GD=1335,tQ=21522,w2=Mb.getBCHDigit(GD);KD.getEncodedBits=function(e,n){const r=e.bit<<3|n;let s=r<<10;for(;Mb.getBCHDigit(s)-w2>=0;)s^=GD<<Mb.getBCHDigit(s)-w2;return(r<<10|s)^tQ};var QD={};const nQ=Ol;function sh(t){this.mode=nQ.NUMERIC,this.data=t.toString()}sh.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};sh.prototype.getLength=function(){return this.data.length};sh.prototype.getBitsLength=function(){return sh.getBitsLength(this.data.length)};sh.prototype.write=function(e){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),e.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),e.put(s,i*3+1))};var rQ=sh;const sQ=Ol,yx=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ih(t){this.mode=sQ.ALPHANUMERIC,this.data=t}ih.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ih.prototype.getLength=function(){return this.data.length};ih.prototype.getBitsLength=function(){return ih.getBitsLength(this.data.length)};ih.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=yx.indexOf(this.data[n])*45;r+=yx.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(yx.indexOf(this.data[n]),6)};var iQ=ih;const oQ=Ol;function oh(t){this.mode=oQ.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}oh.getBitsLength=function(e){return e*8};oh.prototype.getLength=function(){return this.data.length};oh.prototype.getBitsLength=function(){return oh.getBitsLength(this.data.length)};oh.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var aQ=oh;const lQ=Ol,cQ=Us;function ah(t){this.mode=lQ.KANJI,this.data=t}ah.getBitsLength=function(e){return e*13};ah.prototype.getLength=function(){return this.data.length};ah.prototype.getBitsLength=function(){return ah.getBitsLength(this.data.length)};ah.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=cQ.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var uQ=ah,YD={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,f,p,m,v,g,w;!a.empty();){l=a.pop(),c=l.value,f=l.cost,p=n[c]||{};for(u in p)p.hasOwnProperty(u)&&(m=p[u],v=f+m,g=o[u],w=typeof o[u]>"u",(w||g>v)&&(o[u]=v,a.push(u,v),i[u]=c))}if(typeof s<"u"&&typeof o[s]>"u"){var _=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(_)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(YD);var dQ=YD.exports;(function(t){const e=Ol,n=rQ,r=iQ,s=aQ,i=uQ,o=io,a=Us,l=dQ;function c(_){return unescape(encodeURIComponent(_)).length}function u(_,b,x){const S=[];let D;for(;(D=_.exec(x))!==null;)S.push({data:D[0],index:D.index,mode:b,length:D[0].length});return S}function f(_){const b=u(o.NUMERIC,e.NUMERIC,_),x=u(o.ALPHANUMERIC,e.ALPHANUMERIC,_);let S,D;return a.isKanjiModeEnabled()?(S=u(o.BYTE,e.BYTE,_),D=u(o.KANJI,e.KANJI,_)):(S=u(o.BYTE_KANJI,e.BYTE,_),D=[]),b.concat(x,S,D).sort(function(M,R){return M.index-R.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function p(_,b){switch(b){case e.NUMERIC:return n.getBitsLength(_);case e.ALPHANUMERIC:return r.getBitsLength(_);case e.KANJI:return i.getBitsLength(_);case e.BYTE:return s.getBitsLength(_)}}function m(_){return _.reduce(function(b,x){const S=b.length-1>=0?b[b.length-1]:null;return S&&S.mode===x.mode?(b[b.length-1].data+=x.data,b):(b.push(x),b)},[])}function v(_){const b=[];for(let x=0;x<_.length;x++){const S=_[x];switch(S.mode){case e.NUMERIC:b.push([S,{data:S.data,mode:e.ALPHANUMERIC,length:S.length},{data:S.data,mode:e.BYTE,length:S.length}]);break;case e.ALPHANUMERIC:b.push([S,{data:S.data,mode:e.BYTE,length:S.length}]);break;case e.KANJI:b.push([S,{data:S.data,mode:e.BYTE,length:c(S.data)}]);break;case e.BYTE:b.push([{data:S.data,mode:e.BYTE,length:c(S.data)}])}}return b}function g(_,b){const x={},S={start:{}};let D=["start"];for(let F=0;F<_.length;F++){const M=_[F],R=[];for(let U=0;U<M.length;U++){const W=M[U],$=""+F+U;R.push($),x[$]={node:W,lastCount:0},S[$]={};for(let q=0;q<D.length;q++){const N=D[q];x[N]&&x[N].node.mode===W.mode?(S[N][$]=p(x[N].lastCount+W.length,W.mode)-p(x[N].lastCount,W.mode),x[N].lastCount+=W.length):(x[N]&&(x[N].lastCount=W.length),S[N][$]=p(W.length,W.mode)+4+e.getCharCountIndicator(W.mode,b))}}D=R}for(let F=0;F<D.length;F++)S[D[F]].end=0;return{map:S,table:x}}function w(_,b){let x;const S=e.getBestModeForData(_);if(x=e.from(b,S),x!==e.BYTE&&x.bit<S.bit)throw new Error('"'+_+'" cannot be encoded with mode '+e.toString(x)+`.
 Suggested mode is: `+e.toString(S));switch(x===e.KANJI&&!a.isKanjiModeEnabled()&&(x=e.BYTE),x){case e.NUMERIC:return new n(_);case e.ALPHANUMERIC:return new r(_);case e.KANJI:return new i(_);case e.BYTE:return new s(_)}}t.fromArray=function(b){return b.reduce(function(x,S){return typeof S=="string"?x.push(w(S,null)):S.data&&x.push(w(S.data,S.mode)),x},[])},t.fromString=function(b,x){const S=f(b,a.isKanjiModeEnabled()),D=v(S),F=g(D,x),M=l.find_path(F.map,"start","end"),R=[];for(let U=1;U<M.length-1;U++)R.push(F.table[M[U]].node);return t.fromArray(m(R))},t.rawSplit=function(b){return t.fromArray(f(b,a.isKanjiModeEnabled()))}})(QD);const mv=Us,wx=hv,hQ=qG,fQ=KG,pQ=UD,mQ=VD,Pb=zD,Ob=fv,gQ=QG,jy=HD,yQ=KD,wQ=Ol,vx=QD;function vQ(t,e){const n=t.size,r=mQ.getPositions(e);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||n<=i+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(i+a,o+l,!0,!0):t.set(i+a,o+l,!1,!0))}}function xQ(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function _Q(t,e){const n=pQ.getPositions(e);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(s+o,i+a,!0,!0):t.set(s+o,i+a,!1,!0)}}function bQ(t,e){const n=t.size,r=jy.getEncodedBits(e);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+n-8-3,o=(r>>a&1)===1,t.set(s,i,o,!0),t.set(i,s,o,!0)}function xx(t,e,n){const r=t.size,s=yQ.getEncodedBits(e,n);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?t.set(i,8,o,!0):i<8?t.set(i+1,8,o,!0):t.set(r-15+i,8,o,!0),i<8?t.set(8,r-i-1,o,!0):i<9?t.set(8,15-i-1+1,o,!0):t.set(8,15-i-1,o,!0);t.set(r-8,8,1,!0)}function EQ(t,e){const n=t.size;let r=-1,s=n-1,i=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(s,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>i&1)===1),t.set(s,a-l,c),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function SQ(t,e,n){const r=new hQ;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),wQ.getCharCountIndicator(l.mode,t)),l.write(r)});const s=mv.getSymbolTotalCodewords(t),i=Ob.getTotalCodewordsCount(t,e),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return TQ(r,t,e)}function TQ(t,e,n){const r=mv.getSymbolTotalCodewords(e),s=Ob.getTotalCodewordsCount(e,n),i=r-s,o=Ob.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(i/o),f=u+1,p=c-u,m=new gQ(p);let v=0;const g=new Array(o),w=new Array(o);let _=0;const b=new Uint8Array(t.buffer);for(let M=0;M<o;M++){const R=M<l?u:f;g[M]=b.slice(v,v+R),w[M]=m.encode(g[M]),v+=R,_=Math.max(_,R)}const x=new Uint8Array(r);let S=0,D,F;for(D=0;D<_;D++)for(F=0;F<o;F++)D<g[F].length&&(x[S++]=g[F][D]);for(D=0;D<p;D++)for(F=0;F<o;F++)x[S++]=w[F][D];return x}function IQ(t,e,n,r){let s;if(Array.isArray(t))s=vx.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=vx.rawSplit(t);c=jy.getBestVersionForData(u,n)}s=vx.fromString(t,c||40)}else throw new Error("Invalid data");const i=jy.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=SQ(e,n,s),a=mv.getSymbolSize(e),l=new fQ(a);return vQ(l,e),xQ(l),_Q(l,e),xx(l,n,0),e>=7&&bQ(l,e),EQ(l,o),isNaN(r)&&(r=Pb.getBestMask(l,xx.bind(null,l,n))),Pb.applyMask(r,l),xx(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}BD.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=wx.M,s,i;return typeof n<"u"&&(r=wx.from(n.errorCorrectionLevel,wx.M),s=jy.from(n.version),i=Pb.from(n.maskPattern),n.toSJISFunc&&mv.setToSJISFunction(n.toSJISFunc)),IQ(e,s,r,i)};var ZD={},KT={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const o=s.modules.size,a=s.modules.data,l=t.getScale(o,i),c=Math.floor((o+i.margin*2)*l),u=i.margin*l,f=[i.color.light,i.color.dark];for(let p=0;p<c;p++)for(let m=0;m<c;m++){let v=(p*c+m)*4,g=i.color.light;if(p>=u&&m>=u&&p<c-u&&m<c-u){const w=Math.floor((p-u)/l),_=Math.floor((m-u)/l);g=f[a[w*o+_]?1:0]}r[v++]=g.r,r[v++]=g.g,r[v++]=g.b,r[v]=g.a}}})(KT);(function(t){const e=KT;function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(i.modules.size,l),f=c.getContext("2d"),p=f.createImageData(u,u);return e.qrToImageData(p.data,i,l),n(f,c,u),f.putImageData(p,0,0),c},t.renderToDataURL=function(i,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(i,o,l),u=l.type||"image/png",f=l.rendererOpts||{};return c.toDataURL(u,f.quality)}})(ZD);var XD={};const AQ=KT;function v2(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function _x(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function NQ(t,e,n){let r="",s=0,i=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!i&&(i=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=i?_x("M",l+n,.5+c+n):_x("m",s,0),s=0,i=!1),l+1<e&&t[a+1]||(r+=_x("h",o),o=0)):s++}return r}XD.render=function(e,n,r){const s=AQ.getOptions(n),i=e.modules.size,o=e.modules.data,a=i+s.margin*2,l=s.color.light.a?"<path "+v2(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+v2(s.color.dark,"stroke")+' d="'+NQ(o,i,s.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,p),p};const CQ=$G,Lb=BD,JD=ZD,kQ=XD;function GT(t,e,n,r,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!CQ())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const u=Lb.create(n,r);l(t(u,e,r))}catch(u){c(u)}})}try{const l=Lb.create(n,r);s(null,t(l,e,r))}catch(l){s(l)}}Lb.create;GT.bind(null,JD.render);GT.bind(null,JD.renderToDataURL);GT.bind(null,function(t,e,n){return kQ.render(t,n)});const Np="solana:mainnet",ej="solana:devnet",tj="solana:testnet",RQ="solana:localnet";function bx(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const MQ="https://api.mainnet-beta.solana.com";function PQ(t){return t.includes(MQ)?Np:/\bdevnet\b/i.test(t)?ej:/\btestnet\b/i.test(t)?tj:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?RQ:Np}function OQ(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const Yo={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Zo extends Error{constructor(...e){const[n,r,s]=e;super(r),this.code=n,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class nj extends Error{constructor(...e){const[n,r,s,i]=e;super(s),this.code=r,this.data=i,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function Wn(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function LQ(t){return window.btoa(t)}function Ex(t,e){return Wn(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),s=new Uint8Array(n.byteLength+r.byteLength);return s.set(new Uint8Array(n),0),s.set(new Uint8Array(r),n.byteLength),s})}function DQ(t){return OQ(t)}function jQ(t){return LQ(DQ(t))}const BQ="solana:signTransactions",x2="solana:cloneAuthorization";function FQ(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(s){return Wn(this,void 0,void 0,function*(){const{method:i,params:o}=UQ(r,s,t),a=yield e(i,o);return i==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield zQ(o.sign_in_payload,a,e)),VQ(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function UQ(t,e,n){let r=e,s=t.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:i}=r;if(n==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:o}=r;if(i)switch(n){case"legacy":{s="reauthorize",r={auth_token:i,identity:o};break}default:{s="authorize";break}}break}}return{method:s,params:r}}function VQ(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const s=[BQ];return r.supports_clone_authorization===!0&&s.push(x2),Object.assign(Object.assign({},r),{features:s})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(x2)})}}}return e}function zQ(t,e,n){var r;return Wn(this,void 0,void 0,function*(){const s=(r=t.domain)!==null&&r!==void 0?r:window.location.host,i=e.accounts[0].address,o=jQ(Object.assign(Object.assign({},t),{domain:s,address:i})),a=yield n("sign_messages",{addresses:[i],payloads:[o]});return{address:i,signed_message:o,signature:a.signed_payloads[0].slice(o.length)}})}const cc=4;function WQ(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(cc);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const Db=12,rj=65;function $Q(t,e,n){return Wn(this,void 0,void 0,function*(){const r=WQ(e),s=new Uint8Array(Db);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(ij(r,s),n,new TextEncoder().encode(t)),o=new Uint8Array(r.byteLength+s.byteLength+i.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(s),r.byteLength),o.set(new Uint8Array(i),r.byteLength+s.byteLength),o})}function sj(t,e){return Wn(this,void 0,void 0,function*(){const n=t.slice(0,cc),r=t.slice(cc,cc+Db),s=t.slice(cc+Db),i=yield crypto.subtle.decrypt(ij(n,r),e,s);return HQ().decode(i)})}function ij(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let Sx;function HQ(){return Sx===void 0&&(Sx=new TextDecoder("utf-8")),Sx}function qQ(){return Wn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Tx(){return Wn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function KQ(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let s=0;s<r;s++)e+=String.fromCharCode(n[s]);return window.btoa(e)}function GQ(){return oj(49152+Math.floor(Math.random()*16384))}function oj(t){if(t<49152||t>65535)throw new Zo(Yo.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function QQ(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const YQ="solana-wallet";function _2(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function ZQ(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new Zo(Yo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${YQ}:/`));const r=t.startsWith("/")?t:[..._2(n.pathname),..._2(t)].join("/");return new URL(r,n)}function XQ(t,e,n,r=["v1"]){return Wn(this,void 0,void 0,function*(){const s=oj(e),i=yield crypto.subtle.exportKey("raw",t),o=KQ(i),a=ZQ("v1/associate/local",n);return a.searchParams.set("association",QQ(o)),a.searchParams.set("port",`${s}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}function JQ(t,e){return Wn(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return $Q(n,r,e)})}function eY(t,e){return Wn(this,void 0,void 0,function*(){const n=yield sj(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new nj(r.id,r.error.code,r.error.message);return r})}function tY(t,e,n){return Wn(this,void 0,void 0,function*(){const[r,s]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,rj),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},n,256),o=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function nY(t,e){return Wn(this,void 0,void 0,function*(){const n=yield sj(t,e),r=JSON.parse(n);let s="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new Zo(Yo.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:s}})}const By={Firefox:0,Other:1};function rY(){return navigator.userAgent.indexOf("Firefox/")!==-1?By.Firefox:By.Other}function sY(){return new Promise((t,e)=>{function n(){clearTimeout(s),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const s=setTimeout(()=>{n(),e()},3e3)})}let of=null;function iY(t){of==null&&(of=document.createElement("iframe"),of.style.display="none",document.body.appendChild(of)),of.contentWindow.location.href=t.toString()}function oY(t){return Wn(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=rY();switch(e){case By.Firefox:iY(t);break;case By.Other:{const n=sY();window.location.assign(t),yield n;break}default:}}catch{throw new Zo(Yo.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function aY(t,e){return Wn(this,void 0,void 0,function*(){const n=GQ(),r=yield XQ(t,n,e);return yield oY(r),n})}const b2={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},lY="com.solana.mobilewalletadapter.v1";function cY(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Zo(Yo.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function uY(t){let e;try{e=new URL(t)}catch{throw new Zo(Yo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new Zo(Yo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function E2(t){return new DataView(t).getUint32(0,!1)}function dY(t,e){return Wn(this,void 0,void 0,function*(){cY();const n=yield qQ(),s=`ws://localhost:${yield aY(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let i;const o=(()=>{const u=[...b2.retryDelayScheduleMs];return()=>u.length>1?u.shift():u[0]})();let a=1,l=0,c={__type:"disconnected"};return new Promise((u,f)=>{let p;const m={},v=()=>Wn(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}p.removeEventListener("open",v);const{associationKeypair:D}=c,F=yield Tx();p.send(yield Ex(F.publicKey,D.privateKey)),c={__type:"hello_req_sent",associationPublicKey:D.publicKey,ecdhPrivateKey:F.privateKey}}),g=D=>{D.wasClean?c={__type:"disconnected"}:f(new Zo(Yo.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${D.code}: ${D.reason}).`,{closeEvent:D})),b()},w=D=>Wn(this,void 0,void 0,function*(){b(),Date.now()-i>=b2.timeoutMs?f(new Zo(Yo.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(F=>{const M=o();x=window.setTimeout(F,M)}),S())}),_=D=>Wn(this,void 0,void 0,function*(){const F=yield D.data.arrayBuffer();switch(c.__type){case"connecting":if(F.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const M=yield Tx();p.send(yield Ex(M.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:M.privateKey};break;case"connected":try{const R=F.slice(0,cc),U=E2(R);if(U!==l+1)throw new Error("Encrypted message has invalid sequence number");l=U;const W=yield eY(F,c.sharedSecret),$=m[W.id];delete m[W.id],$.resolve(W.result)}catch(R){if(R instanceof nj){const U=m[R.jsonRpcMessageId];delete m[R.jsonRpcMessageId],U.reject(R)}else throw R}break;case"hello_req_sent":{if(F.byteLength===0){const q=yield Tx();p.send(yield Ex(q.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:q.privateKey};break}const R=yield tY(F,c.associationPublicKey,c.ecdhPrivateKey),U=F.slice(rj),W=U.byteLength!==0?yield Wn(this,void 0,void 0,function*(){const q=U.slice(0,cc),N=E2(q);if(N!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=N,nY(U,R)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:R,sessionProperties:W};const $=FQ(W.protocol_version,(q,N)=>Wn(this,void 0,void 0,function*(){const y=a++;return p.send(yield JQ({id:y,jsonrpc:"2.0",method:q,params:N??{}},R)),new Promise((I,O)=>{m[y]={resolve(z){switch(q){case"authorize":case"reauthorize":{const{wallet_uri_base:L}=z;if(L!=null)try{uY(L)}catch(j){O(j);return}break}}I(z)},reject:O}})}));try{u(yield t($))}catch(q){f(q)}finally{b(),p.close()}break}}});let b,x;const S=()=>{b&&b(),c={__type:"connecting",associationKeypair:n},i===void 0&&(i=Date.now()),p=new WebSocket(s,[lY]),p.addEventListener("open",v),p.addEventListener("close",g),p.addEventListener("error",w),p.addEventListener("message",_),b=()=>{window.clearTimeout(x),p.removeEventListener("open",v),p.removeEventListener("close",g),p.removeEventListener("error",w),p.removeEventListener("message",_)}};S()})})}function hY(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var v=0,g=0,w=0,_=m.length;w!==_&&m[w]===0;)w++,v++;for(var b=(_-w)*c+1>>>0,x=new Uint8Array(b);w!==_;){for(var S=m[w],D=0,F=b-1;(S!==0||D<g)&&F!==-1;F--,D++)S+=256*x[F]>>>0,x[F]=S%o>>>0,S=S/o>>>0;if(S!==0)throw new Error("Non-zero carry");g=D,w++}for(var M=b-g;M!==b&&x[M]===0;)M++;for(var R=a.repeat(v);M<b;++M)R+=t.charAt(x[M]);return R}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var v=0,g=0,w=0;m[v]===a;)g++,v++;for(var _=(m.length-v)*l+1>>>0,b=new Uint8Array(_);m[v];){var x=m.charCodeAt(v);if(x>255)return;var S=e[x];if(S===255)return;for(var D=0,F=_-1;(S!==0||D<w)&&F!==-1;F--,D++)S+=o*b[F]>>>0,b[F]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");w=D,v++}for(var M=_-w;M!==_&&b[M]===0;)M++;for(var R=new Uint8Array(g+(_-M)),U=g;M!==_;)R[U++]=b[M++];return R}function p(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:p}}var fY=hY;const pY=fY,mY="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var gY=pY(mY);const yY=ra(gY);function Ix(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function c0(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function aj(t){return window.btoa(String.fromCharCode.call(null,...t))}function Ax(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function S2(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return aj(e)}function wY(t){const n=t[0]*Ep+1;return sv.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?gi.from(t):bl.deserialize(t)}function vY(t,e){return c0(this,void 0,void 0,function*(){return yield dY(r=>t(xY(r)),e)})}function xY(t){return new Proxy({},{get(e,n){if(e[n]==null)switch(n){case"signAndSendTransactions":e[n]=function(r){var{minContextSlot:s,commitment:i,skipPreflight:o,maxRetries:a,waitForCommitmentToSendNextTransaction:l,transactions:c}=r,u=Ix(r,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return c0(this,void 0,void 0,function*(){const f=c.map(S2),p={min_context_slot:s,commitment:i,skip_preflight:o,max_retries:a,wait_for_commitment_to_send_next_transaction:l},{signatures:m}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},u),Object.values(p).some(g=>g!=null)?{options:p}:null),{payloads:f}));return m.map(Ax).map(yY.encode)})};break;case"signMessages":e[n]=function(r){var{payloads:s}=r,i=Ix(r,["payloads"]);return c0(this,void 0,void 0,function*(){const o=s.map(aj),{signed_payloads:a}=yield t.signMessages(Object.assign(Object.assign({},i),{payloads:o}));return a.map(Ax)})};break;case"signTransactions":e[n]=function(r){var{transactions:s}=r,i=Ix(r,["transactions"]);return c0(this,void 0,void 0,function*(){const o=s.map(S2),{signed_payloads:a}=yield t.signTransactions(Object.assign(Object.assign({},i),{payloads:o}));return a.map(Ax).map(wY)})};break;default:{e[n]=t[n];break}}return e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}function _Y(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var v=0,g=0,w=0,_=m.length;w!==_&&m[w]===0;)w++,v++;for(var b=(_-w)*c+1>>>0,x=new Uint8Array(b);w!==_;){for(var S=m[w],D=0,F=b-1;(S!==0||D<g)&&F!==-1;F--,D++)S+=256*x[F]>>>0,x[F]=S%o>>>0,S=S/o>>>0;if(S!==0)throw new Error("Non-zero carry");g=D,w++}for(var M=b-g;M!==b&&x[M]===0;)M++;for(var R=a.repeat(v);M<b;++M)R+=t.charAt(x[M]);return R}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var v=0,g=0,w=0;m[v]===a;)g++,v++;for(var _=(m.length-v)*l+1>>>0,b=new Uint8Array(_);m[v];){var x=m.charCodeAt(v);if(x>255)return;var S=e[x];if(S===255)return;for(var D=0,F=_-1;(S!==0||D<w)&&F!==-1;F--,D++)S+=o*b[F]>>>0,b[F]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");w=D,v++}for(var M=_-w;M!==_&&b[M]===0;)M++;for(var R=new Uint8Array(g+(_-M)),U=g;M!==_;)R[U++]=b[M++];return R}function p(m){var v=f(m);if(v)return v;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:p}}var bY=_Y;const EY=bY,SY="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var TY=EY(SY);const T2=ra(TY);function ln(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function fe(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Vn(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var bf,Gn,Ql,Du,lj,cj,uj,u0;const IY=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,AY=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,NY=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class CY{constructor(){bf.add(this),Gn.set(this,null),Ql.set(this,{}),Du.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),fe(this,bf,"m",cj).call(this),fe(this,Gn,"f")&&(fe(this,Gn,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),fe(this,bf,"m",uj).call(this),fe(this,Gn,"f")&&(fe(this,Gn,"f").style.display="none"),(n=fe(this,Ql,"f").close)===null||n===void 0||n.forEach(r=>r(e))},u0.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),Vn(this,Gn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return ln(this,void 0,void 0,function*(){console.log("Injecting modal"),fe(this,bf,"m",lj).call(this)})}addEventListener(e,n){var r;return!((r=fe(this,Ql,"f")[e])===null||r===void 0)&&r.push(n)||(fe(this,Ql,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;fe(this,Ql,"f")[e]=(r=fe(this,Ql,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)}}Gn=new WeakMap,Ql=new WeakMap,Du=new WeakMap,u0=new WeakMap,bf=new WeakSet,lj=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){fe(this,Gn,"f")||Vn(this,Gn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Vn(this,Gn,document.createElement("div")),fe(this,Gn,"f").id="mobile-wallet-adapter-embedded-root-ui",fe(this,Gn,"f").innerHTML=IY,fe(this,Gn,"f").style.display="none";const e=fe(this,Gn,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=AY+this.contentStyles;const r=document.createElement("div");r.innerHTML=NY,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(fe(this,Gn,"f")),document.body.appendChild(r)},cj=function(){if(!fe(this,Gn,"f")||fe(this,Du,"f"))return;[...fe(this,Gn,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",fe(this,u0,"f")),Vn(this,Du,!0)},uj=function(){if(!fe(this,Du,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",fe(this,u0,"f")),!fe(this,Gn,"f")))return;[...fe(this,Gn,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),Vn(this,Du,!1)};const kY="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function RY(t){return"version"in t}function MY(t){return window.btoa(String.fromCharCode.call(null,...t))}function Rg(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var ju,uc,jb,Bb,Fb,Ub,Ef,Gr,wo,ba,Bu,Fu,d0,Sf,h0,Vb,f0,dj,zb,p0,Uu,Wb,Tf,m0,Vu,If,g0,$b,Hb,y0,qb,Kb,Gb,w0;const PY="Mobile Wallet Adapter",OY=64,LY=[Jr,xn,Co,Nc];class DY{constructor(e){ju.add(this),uc.set(this,{}),jb.set(this,"1.0.0"),Bb.set(this,PY),Fb.set(this,"https://solanamobile.com/wallets"),Ub.set(this,kY),Ef.set(this,void 0),Gr.set(this,void 0),wo.set(this,void 0),ba.set(this,!1),Bu.set(this,0),Fu.set(this,[]),d0.set(this,void 0),Sf.set(this,void 0),h0.set(this,void 0),Vb.set(this,(n,r)=>{var s;return!((s=fe(this,uc,"f")[n])===null||s===void 0)&&s.push(r)||(fe(this,uc,"f")[n]=[r]),()=>fe(this,ju,"m",dj).call(this,n,r)}),zb.set(this,({silent:n}={})=>ln(this,void 0,void 0,function*(){if(fe(this,ba,"f")||this.connected)return{accounts:this.accounts};Vn(this,ba,!0);try{if(n){const r=yield fe(this,wo,"f").get();if(r)yield fe(this,Uu,"f").call(this,r);else return{accounts:this.accounts}}else yield fe(this,p0,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Vn(this,ba,!1)}return{accounts:this.accounts}})),p0.set(this,n=>ln(this,void 0,void 0,function*(){try{const r=yield fe(this,wo,"f").get();if(r)return fe(this,Uu,"f").call(this,r),r;const s=yield fe(this,d0,"f").select(fe(this,Fu,"f"));return yield fe(this,Vu,"f").call(this,i=>ln(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([i.getCapabilities(),i.authorize({chain:s,identity:fe(this,Ef,"f"),sign_in_payload:n})]),l=fe(this,g0,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:s});return Promise.all([fe(this,Wb,"f").call(this,o),fe(this,wo,"f").set(c),fe(this,Uu,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Uu.set(this,n=>ln(this,void 0,void 0,function*(){var r;const s=fe(this,Gr,"f")==null||((r=fe(this,Gr,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||fe(this,Gr,"f").accounts.some((i,o)=>i.address!==n.accounts[o].address);Vn(this,Gr,n),s&&fe(this,ju,"m",f0).call(this,"change",{accounts:this.accounts})})),Wb.set(this,n=>ln(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),s=n.supports_sign_and_send_transactions,i=Jr in this.features!==s||xn in this.features!==r;Vn(this,Sf,Object.assign(Object.assign({},(s||!s&&!r)&&{[Jr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:fe(this,y0,"f")}}),r&&{[xn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:fe(this,qb,"f")}})),i&&fe(this,ju,"m",f0).call(this,"change",{features:this.features})})),Tf.set(this,(n,r,s)=>ln(this,void 0,void 0,function*(){try{const i=yield n.authorize({auth_token:r,identity:fe(this,Ef,"f"),chain:s}),o=fe(this,g0,"f").call(this,i.accounts),a=Object.assign(Object.assign({},i),{accounts:o,chain:s});Promise.all([fe(this,wo,"f").set(a),fe(this,Uu,"f").call(this,a)])}catch(i){throw fe(this,m0,"f").call(this),new Error(i instanceof Error&&i.message||"Unknown error")}})),m0.set(this,()=>ln(this,void 0,void 0,function*(){var n;fe(this,wo,"f").clear(),Vn(this,ba,!1),Vn(this,Bu,(n=fe(this,Bu,"f"),n++,n)),Vn(this,Gr,void 0),fe(this,ju,"m",f0).call(this,"change",{accounts:this.accounts})})),Vu.set(this,n=>ln(this,void 0,void 0,function*(){var r;const s=(r=fe(this,Gr,"f"))===null||r===void 0?void 0:r.wallet_uri_base,i=s?{baseUri:s}:void 0,o=fe(this,Bu,"f");try{return yield vY(n,i)}catch(a){throw fe(this,Bu,"f")!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield fe(this,h0,"f").call(this,this)),a}})),If.set(this,()=>{if(!fe(this,Gr,"f"))throw new Error("Wallet not connected");return{authToken:fe(this,Gr,"f").auth_token,chain:fe(this,Gr,"f").chain}}),g0.set(this,n=>n.map(r=>{var s,i;const o=Rg(r.address);return{address:T2.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(s=r.chains)!==null&&s!==void 0?s:fe(this,Fu,"f"),features:(i=r.features)!==null&&i!==void 0?i:LY}})),$b.set(this,n=>ln(this,void 0,void 0,function*(){const{authToken:r,chain:s}=fe(this,If,"f").call(this);try{return yield fe(this,Vu,"f").call(this,i=>ln(this,void 0,void 0,function*(){return yield fe(this,Tf,"f").call(this,i,r,s),yield i.signTransactions({transactions:n})}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),Hb.set(this,(n,r)=>ln(this,void 0,void 0,function*(){const{authToken:s,chain:i}=fe(this,If,"f").call(this);try{return yield fe(this,Vu,"f").call(this,o=>ln(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([o.getCapabilities(),fe(this,Tf,"f").call(this,o,s,i)]);if(a.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),y0.set(this,(...n)=>ln(this,void 0,void 0,function*(){const r=[];for(const s of n){const i=bl.deserialize(s.transaction),o=yield fe(this,Hb,"f").call(this,i,s.options);r.push({signature:T2.decode(o)})}return r})),qb.set(this,(...n)=>ln(this,void 0,void 0,function*(){const r=n.map(({transaction:i})=>bl.deserialize(i));return(yield fe(this,$b,"f").call(this,r)).map(i=>({signedTransaction:RY(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),Kb.set(this,(...n)=>ln(this,void 0,void 0,function*(){const{authToken:r,chain:s}=fe(this,If,"f").call(this),i=n.map(({account:a})=>MY(a.publicKey)),o=n.map(({message:a})=>a);try{return yield fe(this,Vu,"f").call(this,a=>ln(this,void 0,void 0,function*(){return yield fe(this,Tf,"f").call(this,a,r,s),(yield a.signMessages({addresses:i,payloads:o})).map(c=>({signedMessage:c,signature:c.slice(-OY)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Gb.set(this,(...n)=>ln(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const s of n)r.push(yield fe(this,w0,"f").call(this,s));else return[yield fe(this,w0,"f").call(this,n[0])];return r})),w0.set(this,n=>ln(this,void 0,void 0,function*(){var r,s;Vn(this,ba,!0);try{const i=yield fe(this,p0,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=i.sign_in_result.address;return{account:Object.assign(Object.assign({},(s=i.accounts.find(l=>l.address==o))!==null&&s!==void 0?s:{address:o}),{publicKey:Rg(o)}),signedMessage:Rg(i.sign_in_result.signed_message),signature:Rg(i.sign_in_result.signature)}}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}finally{Vn(this,ba,!1)}})),Vn(this,wo,e.authorizationCache),Vn(this,Ef,e.appIdentity),Vn(this,Fu,e.chains),Vn(this,d0,e.chainSelector),Vn(this,h0,e.onWalletNotFound),Vn(this,Sf,{[Jr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:fe(this,y0,"f")}})}get version(){return fe(this,jb,"f")}get name(){return fe(this,Bb,"f")}get url(){return fe(this,Fb,"f")}get icon(){return fe(this,Ub,"f")}get chains(){return fe(this,Fu,"f")}get features(){return Object.assign({[cv]:{version:"1.0.0",connect:fe(this,zb,"f")},[Ly]:{version:"1.0.0",disconnect:fe(this,m0,"f")},[uv]:{version:"1.0.0",on:fe(this,Vb,"f")},[Co]:{version:"1.0.0",signMessage:fe(this,Kb,"f")},[Nc]:{version:"1.0.0",signIn:fe(this,Gb,"f")}},fe(this,Sf,"f"))}get accounts(){var e,n;return(n=(e=fe(this,Gr,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!fe(this,Gr,"f")}get isAuthorized(){return!!fe(this,Gr,"f")}get currentAuthorization(){return fe(this,Gr,"f")}get cachedAuthorizationResult(){return fe(this,wo,"f").get()}}uc=new WeakMap,jb=new WeakMap,Bb=new WeakMap,Fb=new WeakMap,Ub=new WeakMap,Ef=new WeakMap,Gr=new WeakMap,wo=new WeakMap,ba=new WeakMap,Bu=new WeakMap,Fu=new WeakMap,d0=new WeakMap,Sf=new WeakMap,h0=new WeakMap,Vb=new WeakMap,zb=new WeakMap,p0=new WeakMap,Uu=new WeakMap,Wb=new WeakMap,Tf=new WeakMap,m0=new WeakMap,Vu=new WeakMap,If=new WeakMap,g0=new WeakMap,$b=new WeakMap,Hb=new WeakMap,y0=new WeakMap,qb=new WeakMap,Kb=new WeakMap,Gb=new WeakMap,w0=new WeakMap,ju=new WeakSet,f0=function(e,...n){var r;(r=fe(this,uc,"f")[e])===null||r===void 0||r.forEach(s=>s.apply(null,n))},dj=function(e,n){var r;fe(this,uc,"f")[e]=(r=fe(this,uc,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)};const jY="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",BY="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class FY extends CY{constructor(){super(...arguments),this.contentStyles=VY,this.contentHtml=UY}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const s=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),i=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(s){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":s.innerHTML=jY,i&&i.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":s.innerHTML=BY,i&&(i.style.display="none");return}s.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const UY=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,VY=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function zY(){return ln(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new FY;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const Nx="SolanaMobileWalletAdapterDefaultAuthorizationCache";function WY(){let t;try{t=window.localStorage}catch{}return{clear(){return ln(this,void 0,void 0,function*(){if(t)try{t.removeItem(Nx)}catch{}})},get(){return ln(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(Nx));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):new Oe(r.address).toBytes()}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return ln(this,void 0,void 0,function*(){if(t)try{t.setItem(Nx,JSON.stringify(e))}catch{}})}}}function $Y(){return{select(t){return ln(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(Np)?Np:t[0]})}}}function Qt(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function Fe(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Es(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const Qb="standard:connect",HY="standard:disconnect",qY="standard:events";function Cx(t){return window.btoa(String.fromCharCode.call(null,...t))}function KY(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var er,wn,Ma,ko,v0,bo,Yl,Yb,Zb,hj,Fy,x0,Aa;const _0="Mobile Wallet Adapter",GY=64;function QY(t){return"version"in t}function fj(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class YY extends UG{constructor(e,n){super(),er.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),wn.set(this,void 0),Ma.set(this,!1),ko.set(this,KY()?Ze.Loadable:Ze.Unsupported),v0.set(this,void 0),bo.set(this,void 0),Yl.set(this,void 0),Yb.set(this,r=>Qt(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){Fe(this,er,"m",hj).call(this);const s=yield Fe(this,v0,"f").call(this,r.accounts);s!==Fe(this,bo,"f")&&(Es(this,bo,s),Es(this,Yl,void 0),this.emit("connect",this.publicKey))}})),Es(this,v0,r=>Qt(this,void 0,void 0,function*(){var s;const i=yield n.addressSelector.select(r.map(({publicKey:o})=>Cx(o)));return(s=r.find(({publicKey:o})=>Cx(o)===i))!==null&&s!==void 0?s:r[0]})),Es(this,wn,e),Fe(this,wn,"f").features[qY].on("change",Fe(this,Yb,"f")),this.name=Fe(this,wn,"f").name,this.icon=Fe(this,wn,"f").icon,this.url=Fe(this,wn,"f").url}get publicKey(){var e;if(!Fe(this,Yl,"f")&&Fe(this,bo,"f"))try{Es(this,Yl,new Oe(Fe(this,bo,"f").publicKey),"f")}catch(n){throw new El(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=Fe(this,Yl,"f"))!==null&&e!==void 0?e:null}get connected(){return Fe(this,wn,"f").connected}get connecting(){return Fe(this,Ma,"f")}get readyState(){return Fe(this,ko,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Qt(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Qt(this,void 0,void 0,function*(){Fe(this,er,"m",Zb).call(this,!0)})}connect(){return Qt(this,void 0,void 0,function*(){Fe(this,er,"m",Zb).call(this)})}performAuthorization(e){return Qt(this,void 0,void 0,function*(){try{const n=yield Fe(this,wn,"f").cachedAuthorizationResult;return n?(yield Fe(this,wn,"f").features[Qb].connect({silent:!0}),n):(e?yield Fe(this,wn,"f").features[Nc].signIn(e):yield Fe(this,wn,"f").features[Qb].connect(),yield yield Fe(this,wn,"f").cachedAuthorizationResult)}catch(n){throw new Qo(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return Qt(this,void 0,void 0,function*(){return yield Fe(this,er,"m",Aa).call(this,()=>Qt(this,void 0,void 0,function*(){Es(this,Ma,!1),Es(this,Yl,void 0),Es(this,bo,void 0),yield Fe(this,wn,"f").features[HY].disconnect(),this.emit("disconnect")}))})}signIn(e){return Qt(this,void 0,void 0,function*(){return Fe(this,er,"m",Aa).call(this,()=>Qt(this,void 0,void 0,function*(){var n;if(Fe(this,ko,"f")!==Ze.Installed&&Fe(this,ko,"f")!==Ze.Loadable)throw new Go;Es(this,Ma,!0);try{const r=yield Fe(this,wn,"f").features[Nc].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new Qo(r instanceof Error&&r.message||"Unknown error",r)}finally{Es(this,Ma,!1)}}))})}signMessage(e){return Qt(this,void 0,void 0,function*(){return yield Fe(this,er,"m",Aa).call(this,()=>Qt(this,void 0,void 0,function*(){const n=Fe(this,er,"m",Fy).call(this);try{return(yield Fe(this,wn,"f").features[Co].signMessage({account:n,message:e}))[0].signature}catch(r){throw new mm(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return Qt(this,void 0,void 0,function*(){return yield Fe(this,er,"m",Aa).call(this,()=>Qt(this,void 0,void 0,function*(){const s=Fe(this,er,"m",Fy).call(this);try{let i=function(){let o;switch(n.commitment){case"confirmed":case"finalized":case"processed":o=n.commitment;break;default:o="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=o;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(o==="finalized"?2:o==="confirmed"?1:0)?a:o};if(Jr in Fe(this,wn,"f").features){const o=fj(Fe(this,wn,"f").currentAuthorization.chain),[a]=(yield Fe(this,wn,"f").features[Jr].signAndSendTransaction({account:s,transaction:e.serialize(),chain:o,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(l=>Cx(l.signature));return a}else{const[o]=yield Fe(this,er,"m",x0).call(this,[e]);if(QY(o))return yield n.sendTransaction(o);{const a=o.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:i()}))}}}catch(i){throw new Ui(i==null?void 0:i.message,i)}}))})}signTransaction(e){return Qt(this,void 0,void 0,function*(){return yield Fe(this,er,"m",Aa).call(this,()=>Qt(this,void 0,void 0,function*(){const[n]=yield Fe(this,er,"m",x0).call(this,[e]);return n}))})}signAllTransactions(e){return Qt(this,void 0,void 0,function*(){return yield Fe(this,er,"m",Aa).call(this,()=>Qt(this,void 0,void 0,function*(){return yield Fe(this,er,"m",x0).call(this,e)}))})}}wn=new WeakMap,Ma=new WeakMap,ko=new WeakMap,v0=new WeakMap,bo=new WeakMap,Yl=new WeakMap,Yb=new WeakMap,er=new WeakSet,Zb=function(e=!1){return Qt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Fe(this,er,"m",Aa).call(this,()=>Qt(this,void 0,void 0,function*(){if(Fe(this,ko,"f")!==Ze.Installed&&Fe(this,ko,"f")!==Ze.Loadable)throw new Go;Es(this,Ma,!0);try{yield Fe(this,wn,"f").features[Qb].connect({silent:e})}catch(n){throw new Qo(n instanceof Error&&n.message||"Unknown error",n)}finally{Es(this,Ma,!1)}}))})},hj=function(){Fe(this,ko,"f")!==Ze.Installed&&this.emit("readyStateChange",Es(this,ko,Ze.Installed))},Fy=function(){if(!Fe(this,wn,"f").isAuthorized||!Fe(this,bo,"f"))throw new Zt;return Fe(this,bo,"f")},x0=function(e){return Qt(this,void 0,void 0,function*(){const n=Fe(this,er,"m",Fy).call(this);try{if(xn in Fe(this,wn,"f").features)return Fe(this,wn,"f").features[xn].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(s=>{const i=s.signedTransaction,a=i[0]*GY+1;return sv.deserializeMessageVersion(i.slice(a,i.length))==="legacy"?gi.from(i):bl.deserialize(i)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new ms(r==null?void 0:r.message,r)}})},Aa=function(e){return Qt(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class ZY extends YY{constructor(e){var n;const r=fj((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new DY({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Qt(this,void 0,void 0,function*(){const s=yield e.authorizationResultCache.get();return s&&"chain"in s?s:s?Object.assign(Object.assign({},s),{chain:r}):void 0}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:$Y(),onWalletNotFound:()=>Qt(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class XY extends ZY{}function JY(){return{select(t){return Qt(this,void 0,void 0,function*(){return t[0]})}}}function eZ(){return WY()}function tZ(t){return Qt(this,void 0,void 0,function*(){return zY()})}function nZ(){return tZ}var rZ=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},sZ=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},b0;function iZ(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new oZ(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class oZ extends Event{get detail(){return rZ(this,b0,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),b0.set(this,void 0),sZ(this,b0,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}b0=new WeakMap;function aZ(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function lZ(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const u=t.charAt(c),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=c}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let u=0,f=0,p=0;const m=c.length;for(;p!==m&&c[p]===0;)p++,u++;const v=(m-p)*i+1>>>0,g=new Uint8Array(v);for(;p!==m;){let b=c[p],x=0;for(let S=v-1;(b!==0||x<f)&&S!==-1;S--,x++)b+=256*g[S]>>>0,g[S]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");f=x,p++}let w=v-f;for(;w!==v&&g[w]===0;)w++;let _=r.repeat(u);for(;w<v;++w)_+=t.charAt(g[w]);return _}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let u=0,f=0,p=0;for(;c[u]===r;)f++,u++;const m=(c.length-u)*s+1>>>0,v=new Uint8Array(m);for(;u<c.length;){const b=c.charCodeAt(u);if(b>255)return;let x=e[b];if(x===255)return;let S=0;for(let D=m-1;(x!==0||S<p)&&D!==-1;D--,S++)x+=n*v[D]>>>0,v[D]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");p=S,u++}let g=m-p;for(;g!==m&&v[g]===0;)g++;const w=new Uint8Array(f+(m-g));let _=f;for(;g!==m;)w[_++]=v[g++];return w}function l(c){const u=a(c);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var cZ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const uZ=lZ(cZ);var ke=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},zn=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},pr,us,dc,hc,Zl,Af,Uy,xt,Vy,Xb,E0,Jb,Kf,eE,I2,A2,N2,C2;class dZ extends OD{get name(){return ke(this,xt,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return ke(this,xt,"f").icon}get readyState(){return ke(this,Vy,"f")}get publicKey(){return ke(this,dc,"f")}get connecting(){return ke(this,hc,"f")}get supportedTransactionVersions(){return ke(this,Uy,"f")}get wallet(){return ke(this,xt,"f")}get standard(){return!0}constructor({wallet:e}){super(),pr.add(this),us.set(this,void 0),dc.set(this,void 0),hc.set(this,void 0),Zl.set(this,void 0),Af.set(this,void 0),Uy.set(this,void 0),xt.set(this,void 0),Vy.set(this,typeof window>"u"||typeof document>"u"?Ze.Unsupported:Ze.Installed),eE.set(this,n=>{if("accounts"in n){const r=ke(this,xt,"f").accounts[0];ke(this,us,"f")&&!ke(this,Zl,"f")&&r!==ke(this,us,"f")&&(r?ke(this,pr,"m",E0).call(this,r):(this.emit("error",new av),ke(this,pr,"m",Jb).call(this)))}"features"in n&&ke(this,pr,"m",Kf).call(this)}),zn(this,xt,e,"f"),zn(this,us,null,"f"),zn(this,dc,null,"f"),zn(this,hc,!1,"f"),zn(this,Zl,!1,"f"),zn(this,Af,ke(this,xt,"f").features[uv].on("change",ke(this,eE,"f")),"f"),ke(this,pr,"m",Kf).call(this)}destroy(){zn(this,us,null,"f"),zn(this,dc,null,"f"),zn(this,hc,!1,"f"),zn(this,Zl,!1,"f");const e=ke(this,Af,"f");e&&(zn(this,Af,null,"f"),e())}async autoConnect(){return ke(this,pr,"m",Xb).call(this,{silent:!0})}async connect(){return ke(this,pr,"m",Xb).call(this)}async disconnect(){if(Ly in ke(this,xt,"f").features)try{zn(this,Zl,!0,"f"),await ke(this,xt,"f").features[Ly].disconnect()}catch(e){this.emit("error",new pm(e==null?void 0:e.message,e))}finally{zn(this,Zl,!1,"f")}ke(this,pr,"m",Jb).call(this)}async sendTransaction(e,n,r={}){try{const s=ke(this,us,"f");if(!s)throw new Zt;let i;if(Jr in ke(this,xt,"f").features)if(s.features.includes(Jr))i=Jr;else if(xn in ke(this,xt,"f").features&&s.features.includes(xn))i=xn;else throw new Xa;else if(xn in ke(this,xt,"f").features){if(!s.features.includes(xn))throw new Xa;i=xn}else throw new lc;const o=PQ(n.rpcEndpoint);if(!s.chains.includes(o))throw new Ui;try{const{signers:a,...l}=r;let c;if(Vi(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===Jr){const[u]=await ke(this,xt,"f").features[Jr].signAndSendTransaction({account:s,chain:o,transaction:c,options:{preflightCommitment:bx(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return uZ.encode(u.signature)}else{const[u]=await ke(this,xt,"f").features[xn].signTransaction({account:s,chain:o,transaction:c,options:{preflightCommitment:bx(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(u.signedTransaction,{...l,preflightCommitment:bx(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof Jn?a:new Ui(a==null?void 0:a.message,a)}}catch(s){throw this.emit("error",s),s}}}us=new WeakMap,dc=new WeakMap,hc=new WeakMap,Zl=new WeakMap,Af=new WeakMap,Uy=new WeakMap,xt=new WeakMap,Vy=new WeakMap,eE=new WeakMap,pr=new WeakSet,Xb=async function(e){try{if(this.connected||this.connecting)return;if(ke(this,Vy,"f")!==Ze.Installed)throw new Go;if(zn(this,hc,!0,"f"),!ke(this,xt,"f").accounts.length)try{await ke(this,xt,"f").features[cv].connect(e)}catch(r){throw new Qo(r==null?void 0:r.message,r)}const n=ke(this,xt,"f").accounts[0];if(!n)throw new Xa;ke(this,pr,"m",E0).call(this,n)}catch(n){throw this.emit("error",n),n}finally{zn(this,hc,!1,"f")}},E0=function(e){let n;try{n=new Oe(e.address)}catch(r){throw new El(r==null?void 0:r.message,r)}zn(this,us,e,"f"),zn(this,dc,n,"f"),ke(this,pr,"m",Kf).call(this),this.emit("connect",n)},Jb=function(){zn(this,us,null,"f"),zn(this,dc,null,"f"),ke(this,pr,"m",Kf).call(this),this.emit("disconnect")},Kf=function(){var n,r;const e=Jr in ke(this,xt,"f").features?ke(this,xt,"f").features[Jr].supportedTransactionVersions:ke(this,xt,"f").features[xn].supportedTransactionVersions;zn(this,Uy,aZ(e,["legacy"])?null:new Set(e),"f"),xn in ke(this,xt,"f").features&&((n=ke(this,us,"f"))!=null&&n.features.includes(xn))?(this.signTransaction=ke(this,pr,"m",I2),this.signAllTransactions=ke(this,pr,"m",A2)):(delete this.signTransaction,delete this.signAllTransactions),Co in ke(this,xt,"f").features&&((r=ke(this,us,"f"))!=null&&r.features.includes(Co))?this.signMessage=ke(this,pr,"m",N2):delete this.signMessage,Nc in ke(this,xt,"f").features?this.signIn=ke(this,pr,"m",C2):delete this.signIn},I2=async function(e){try{const n=ke(this,us,"f");if(!n)throw new Zt;if(!(xn in ke(this,xt,"f").features))throw new lc;if(!n.features.includes(xn))throw new Xa;try{const s=(await ke(this,xt,"f").features[xn].signTransaction({account:n,transaction:Vi(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Vi(e)?bl.deserialize(s):gi.from(s)}catch(r){throw r instanceof Jn?r:new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},A2=async function(e){try{const n=ke(this,us,"f");if(!n)throw new Zt;if(!(xn in ke(this,xt,"f").features))throw new lc;if(!n.features.includes(xn))throw new Xa;try{const r=await ke(this,xt,"f").features[xn].signTransaction(...e.map(s=>({account:n,transaction:Vi(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((s,i)=>{const o=r[i].signedTransaction;return Vi(s)?bl.deserialize(o):gi.from(o)})}catch(r){throw new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},N2=async function(e){try{const n=ke(this,us,"f");if(!n)throw new Zt;if(!(Co in ke(this,xt,"f").features))throw new lc;if(!n.features.includes(Co))throw new Xa;try{return(await ke(this,xt,"f").features[Co].signMessage({account:n,message:e}))[0].signature}catch(r){throw new mm(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},C2=async function(e={}){try{if(!(Nc in ke(this,xt,"f").features))throw new lc;let n;try{[n]=await ke(this,xt,"f").features[Nc].signIn(e)}catch(r){throw new m2(r==null?void 0:r.message,r)}if(!n)throw new m2;return ke(this,pr,"m",E0).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const hZ=VG;var fZ=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},pZ=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},S0;let Ts;const gv=new Set;function mZ(t){Gf=void 0,gv.add(t)}function gZ(t){Gf=void 0,gv.delete(t)}const sd={};function yZ(){if(Ts||(Ts=Object.freeze({register:k2,get:wZ,on:vZ}),typeof window>"u"))return Ts;const t=Object.freeze({register:k2});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new xZ(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Ts}function k2(...t){var e;return t=t.filter(n=>!gv.has(n)),t.length?(t.forEach(n=>mZ(n)),(e=sd.register)==null||e.forEach(n=>tE(()=>n(...t))),function(){var r;t.forEach(s=>gZ(s)),(r=sd.unregister)==null||r.forEach(s=>tE(()=>s(...t)))}):()=>{}}let Gf;function wZ(){return Gf||(Gf=[...gv]),Gf}function vZ(t,e){var n;return(n=sd[t])!=null&&n.push(e)||(sd[t]=[e]),function(){var s;sd[t]=(s=sd[t])==null?void 0:s.filter(i=>e!==i)}}function tE(t){try{t()}catch(e){console.error(e)}}class xZ extends Event{get detail(){return fZ(this,S0,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),S0.set(this,void 0),pZ(this,S0,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}S0=new WeakMap;function _Z(){if(Ts||(Ts=yZ(),typeof window>"u"))return Ts;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),Ts;const{register:e}=Ts,n=(...r)=>r.forEach(s=>tE(()=>s({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),Ts}return n(...t),Ts}function bZ(t){const e=R2(()=>new Set),{get:n,on:r}=R2(()=>_Z()),[s,i]=k.useState(()=>M2(n()));k.useEffect(()=>{const a=[r("register",(...l)=>i(c=>[...c,...M2(l)])),r("unregister",(...l)=>i(c=>c.filter(u=>l.some(f=>f===u.wallet))))];return()=>a.forEach(l=>l())},[r]);const o=EZ(s);return k.useEffect(()=>{if(!o)return;const a=new Set(s);new Set(o.filter(c=>!a.has(c))).forEach(c=>c.destroy())},[o,s]),k.useEffect(()=>()=>s.forEach(a=>a.destroy()),[]),k.useMemo(()=>[...s,...t.filter(({name:a})=>s.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[s,t,e])}function R2(t){const e=k.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function EZ(t){const e=k.useRef(void 0);return k.useEffect(()=>{e.current=t}),e.current}function M2(t){return t.filter(hZ).map(e=>new dZ({wallet:e}))}var xd;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(xd||(xd={}));function SZ(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function TZ({adapters:t,userAgentString:e}){return t.some(n=>n.name!==_0&&n.readyState===Ze.Installed)?xd.DESKTOP_WEB:e&&/android/i.test(e)&&!SZ(e)?xd.MOBILE_WEB:xd.DESKTOP_WEB}function IZ(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function AZ({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:i,onError:o,onSelectWallet:a}){const l=k.useRef(!1),[c,u]=k.useState(!1),f=k.useRef(!1),[p,m]=k.useState(!1),[v,g]=k.useState(()=>(n==null?void 0:n.publicKey)??null),[w,_]=k.useState(()=>(n==null?void 0:n.connected)??!1),b=k.useRef(o);k.useEffect(()=>(b.current=o,()=>{b.current=void 0}),[o]);const x=k.useRef((I,O)=>(r.current||(b.current?b.current(I,O):(console.error(I,O),I instanceof Go&&typeof window<"u"&&O&&window.open(O.url,"_blank"))),I)),[S,D]=k.useState(()=>e.map(I=>({adapter:I,readyState:I.readyState})).filter(({readyState:I})=>I!==Ze.Unsupported));k.useEffect(()=>{D(O=>e.map((z,L)=>{const j=O[L];return j&&j.adapter===z&&j.readyState===z.readyState?j:{adapter:z,readyState:z.readyState}}).filter(({readyState:z})=>z!==Ze.Unsupported));function I(O){D(z=>{const L=z.findIndex(({adapter:H})=>H===this);if(L===-1)return z;const{adapter:j}=z[L];return[...z.slice(0,L),{adapter:j,readyState:O},...z.slice(L+1)].filter(({readyState:H})=>H!==Ze.Unsupported)})}return e.forEach(O=>O.on("readyStateChange",I,O)),()=>{e.forEach(O=>O.off("readyStateChange",I,O))}},[n,e]);const F=k.useMemo(()=>S.find(I=>I.adapter===n)??null,[n,S]);k.useEffect(()=>{if(!n)return;const I=L=>{g(L),l.current=!1,u(!1),_(!0),f.current=!1,m(!1)},O=()=>{r.current||(g(null),l.current=!1,u(!1),_(!1),f.current=!1,m(!1))},z=L=>{x.current(L,n)};return n.on("connect",I),n.on("disconnect",O),n.on("error",z),()=>{n.off("connect",I),n.off("disconnect",O),n.off("error",z),O()}},[n,r]);const M=k.useRef(!1);k.useEffect(()=>()=>{M.current=!1},[n]),k.useEffect(()=>{M.current||l.current||w||!s||!((F==null?void 0:F.readyState)===Ze.Installed||(F==null?void 0:F.readyState)===Ze.Loadable)||(l.current=!0,u(!0),M.current=!0,async function(){try{await s()}catch{i()}finally{u(!1),l.current=!1}}())},[w,s,i,F]);const R=k.useCallback(async(I,O,z)=>{if(!n)throw x.current(new g2);if(!w)throw x.current(new Zt,n);return await n.sendTransaction(I,O,z)},[n,w]),U=k.useMemo(()=>n&&"signTransaction"in n?async I=>{if(!w)throw x.current(new Zt,n);return await n.signTransaction(I)}:void 0,[n,w]),W=k.useMemo(()=>n&&"signAllTransactions"in n?async I=>{if(!w)throw x.current(new Zt,n);return await n.signAllTransactions(I)}:void 0,[n,w]),$=k.useMemo(()=>n&&"signMessage"in n?async I=>{if(!w)throw x.current(new Zt,n);return await n.signMessage(I)}:void 0,[n,w]),q=k.useMemo(()=>n&&"signIn"in n?async I=>await n.signIn(I):void 0,[n]),N=k.useCallback(async()=>{if(l.current||f.current||F!=null&&F.adapter.connected)return;if(!F)throw x.current(new g2);const{adapter:I,readyState:O}=F;if(!(O===Ze.Installed||O===Ze.Loadable))throw x.current(new Go,I);l.current=!0,u(!0);try{await I.connect()}catch(z){throw i(),z}finally{u(!1),l.current=!1}},[i,F]),y=k.useCallback(async()=>{if(!f.current&&n){f.current=!0,m(!0);try{await n.disconnect()}finally{m(!1),f.current=!1}}},[n]);return ce.createElement(jD.Provider,{value:{autoConnect:!!s,wallets:S,wallet:F,publicKey:v,connected:w,connecting:c,disconnecting:p,select:a,connect:N,disconnect:y,sendTransaction:R,signTransaction:U,signAllTransactions:W,signMessage:$,signIn:q}},t)}let kx;function NZ(){var t;return kx===void 0&&(kx=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),kx}function P2(t){const e=NZ();return TZ({adapters:t,userAgentString:e})===xd.MOBILE_WEB}function CZ(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function kZ({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:s}){const{connection:i}=PD(),o=bZ(e),a=k.useMemo(()=>{if(!P2(o))return null;const b=o.find(x=>x.name===_0);return b||new XY({addressSelector:JY(),appIdentity:{uri:CZ()},authorizationResultCache:eZ(),cluster:IZ(i==null?void 0:i.rpcEndpoint),onWalletNotFound:nZ()})},[o,i==null?void 0:i.rpcEndpoint]),l=k.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[c,u]=WG(r,null),f=k.useMemo(()=>l.find(b=>b.name===c)??null,[l,c]),p=k.useCallback(b=>{c!==b&&(f&&f.name!==_0&&f.disconnect(),u(b))},[f,u,c]);k.useEffect(()=>{if(!f)return;function b(){g.current||u(null)}return f.on("disconnect",b),()=>{f.off("disconnect",b)}},[f,o,u,c]);const m=k.useRef(!1),v=k.useMemo(()=>{if(!(!n||!f))return async()=>{(n===!0||await n(f))&&(m.current?await f.connect():await f.autoConnect())}},[n,f]),g=k.useRef(!1);k.useEffect(()=>{if(c===_0&&P2(o)){g.current=!1;return}function b(){g.current=!0}return window.addEventListener("beforeunload",b),()=>{window.removeEventListener("beforeunload",b)}},[o,c]);const w=k.useCallback(()=>{f&&p(null)},[f,p]),_=k.useCallback(b=>{m.current=!0,p(b)},[p]);return ce.createElement(AZ,{wallets:l,adapter:f,isUnloadingRef:g,onAutoConnectRequest:v,onConnectError:w,onError:s,onSelectWallet:_},t)}const pj={setVisible(t){console.error(mj("call","setVisible"))},visible:!1};Object.defineProperty(pj,"visible",{get(){return console.error(mj("read","visible")),!1}});function mj(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const gj=k.createContext(pj);function yj(){return k.useContext(gj)}function RZ({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:s,disconnecting:i,publicKey:o,select:a,wallet:l,wallets:c}=gm();let u;r?u="connecting":n?u="connected":i?u="disconnecting":l?u="has-wallet":u="no-wallet";const f=k.useCallback(()=>{e().catch(()=>{})},[e]),p=k.useCallback(()=>{s().catch(()=>{})},[s]),m=k.useCallback(()=>{t({onSelectWallet:a,wallets:c})},[t,a,c]);return{buttonState:u,onConnect:u==="has-wallet"?f:void 0,onDisconnect:u!=="disconnecting"&&u!=="no-wallet"?p:void 0,onSelectWallet:m,publicKey:o??void 0,walletIcon:l==null?void 0:l.adapter.icon,walletName:l==null?void 0:l.adapter.name}}const wj=t=>ce.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&ce.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&ce.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),vj=({wallet:t,...e})=>t&&ce.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function MZ({walletIcon:t,walletName:e,...n}){return ce.createElement(wj,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?ce.createElement(vj,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function PZ({children:t,labels:e,...n}){const{setVisible:r}=yj(),{buttonState:s,onConnect:i,onDisconnect:o,publicKey:a,walletIcon:l,walletName:c}=RZ({onSelectWallet(){r(!0)}}),[u,f]=k.useState(!1),[p,m]=k.useState(!1),v=k.useRef(null);k.useEffect(()=>{const w=_=>{const b=v.current;!b||b.contains(_.target)||m(!1)};return document.addEventListener("mousedown",w),document.addEventListener("touchstart",w),()=>{document.removeEventListener("mousedown",w),document.removeEventListener("touchstart",w)}},[]);const g=k.useMemo(()=>{if(t)return t;if(a){const w=a.toBase58();return w.slice(0,4)+".."+w.slice(-4)}else return s==="connecting"||s==="has-wallet"?e[s]:e["no-wallet"]},[s,t,e,a]);return ce.createElement("div",{className:"wallet-adapter-dropdown"},ce.createElement(MZ,{...n,"aria-expanded":p,style:{pointerEvents:p?"none":"auto",...n.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":i&&i();break;case"connected":m(!0);break}},walletIcon:l,walletName:c},g),ce.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${p&&"wallet-adapter-dropdown-list-active"}`,ref:v,role:"menu"},a?ce.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),f(!0),setTimeout(()=>f(!1),400)},role:"menuitem"},u?e.copied:e["copy-address"]):null,ce.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),m(!1)},role:"menuitem"},e["change-wallet"]),o?ce.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),m(!1)},role:"menuitem"},e.disconnect):null))}const O2=({id:t,children:e,expanded:n=!1})=>{const r=k.useRef(null),s=k.useRef(!0),i="height 250ms ease-out",o=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return k.useLayoutEffect(()=>{n?o():a()},[n]),k.useLayoutEffect(()=>{const l=r.current;if(!l)return;function c(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function u(f){l&&f.target===l&&f.propertyName==="height"&&c()}return s.current&&(c(),s.current=!1),l.addEventListener("transitionend",u),()=>l.removeEventListener("transitionend",u)},[n]),ce.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:s.current?void 0:i}},e)},Rx=({handleClick:t,tabIndex:e,wallet:n})=>ce.createElement("li",null,ce.createElement(wj,{onClick:t,startIcon:ce.createElement(vj,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===Ze.Installed&&ce.createElement("span",null,"Detected"))),OZ=()=>ce.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ce.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),ce.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),ce.createElement("g",{clipPath:"url(#clip0_880_5115)"},ce.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),ce.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),ce.createElement("defs",null,ce.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},ce.createElement("stop",{stopColor:"#9945FF"}),ce.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ce.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ce.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ce.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ce.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ce.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},ce.createElement("stop",{stopColor:"#9945FF"}),ce.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ce.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ce.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ce.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ce.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ce.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},ce.createElement("stop",{stopColor:"#9945FF"}),ce.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ce.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ce.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ce.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ce.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ce.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},ce.createElement("stop",{stopColor:"#9945FF"}),ce.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ce.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ce.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ce.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ce.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ce.createElement("clipPath",{id:"clip0_880_5115"},ce.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),LZ=({className:t="",container:e="body"})=>{const n=k.useRef(null),{wallets:r,select:s}=gm(),{setVisible:i}=yj(),[o,a]=k.useState(!1),[l,c]=k.useState(!1),[u,f]=k.useState(null),[p,m]=k.useMemo(()=>{const x=[],S=[];for(const D of r)D.readyState===Ze.Installed?x.push(D):S.push(D);return x.length?[x,S]:[S,[]]},[r]),v=k.useCallback(()=>{c(!1),setTimeout(()=>i(!1),150)},[i]),g=k.useCallback(x=>{x.preventDefault(),v()},[v]),w=k.useCallback((x,S)=>{s(S),g(x)},[s,g]),_=k.useCallback(()=>a(!o),[o]),b=k.useCallback(x=>{const S=n.current;if(!S)return;const D=S.querySelectorAll("button"),F=D[0],M=D[D.length-1];x.shiftKey?document.activeElement===F&&(M.focus(),x.preventDefault()):document.activeElement===M&&(F.focus(),x.preventDefault())},[n]);return k.useLayoutEffect(()=>{const x=D=>{D.key==="Escape"?v():D.key==="Tab"&&b(D)},{overflow:S}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",x,!1),()=>{document.body.style.overflow=S,window.removeEventListener("keydown",x,!1)}},[v,b]),k.useLayoutEffect(()=>f(document.querySelector(e)),[e]),u&&Pl.createPortal(ce.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},ce.createElement("div",{className:"wallet-adapter-modal-container"},ce.createElement("div",{className:"wallet-adapter-modal-wrapper"},ce.createElement("button",{onClick:g,className:"wallet-adapter-modal-button-close"},ce.createElement("svg",{width:"14",height:"14"},ce.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),p.length?ce.createElement(ce.Fragment,null,ce.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),ce.createElement("ul",{className:"wallet-adapter-modal-list"},p.map(x=>ce.createElement(Rx,{key:x.adapter.name,handleClick:S=>w(S,x.adapter.name),wallet:x})),m.length?ce.createElement(O2,{expanded:o,id:"wallet-adapter-modal-collapse"},m.map(x=>ce.createElement(Rx,{key:x.adapter.name,handleClick:S=>w(S,x.adapter.name),tabIndex:o?0:-1,wallet:x}))):null),m.length?ce.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:_,tabIndex:0},ce.createElement("span",null,o?"Less ":"More ","options"),ce.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},ce.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):ce.createElement(ce.Fragment,null,ce.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),ce.createElement("div",{className:"wallet-adapter-modal-middle"},ce.createElement(OZ,null)),m.length?ce.createElement(ce.Fragment,null,ce.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:_,tabIndex:0},ce.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),ce.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},ce.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),ce.createElement(O2,{expanded:o,id:"wallet-adapter-modal-collapse"},ce.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(x=>ce.createElement(Rx,{key:x.adapter.name,handleClick:S=>w(S,x.adapter.name),tabIndex:o?0:-1,wallet:x}))))):null))),ce.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:g})),u)},DZ=({children:t,...e})=>{const[n,r]=k.useState(!1);return ce.createElement(gj.Provider,{value:{visible:n,setVisible:r}},t,n&&ce.createElement(LZ,{...e}))},jZ={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function zy(t){return ce.createElement(PZ,{...t,labels:jZ})}const BZ="modulepreload",FZ=function(t){return"/"+t},L2={},yv=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=FZ(l),l in L2)return;L2[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":BZ,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var QT={exports:{}},_d=typeof Reflect=="object"?Reflect:null,D2=_d&&typeof _d.apply=="function"?_d.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},T0;_d&&typeof _d.ownKeys=="function"?T0=_d.ownKeys:Object.getOwnPropertySymbols?T0=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:T0=function(e){return Object.getOwnPropertyNames(e)};function UZ(t){console&&console.warn&&console.warn(t)}var xj=Number.isNaN||function(e){return e!==e};function jt(){jt.init.call(this)}QT.exports=jt;QT.exports.once=$Z;jt.EventEmitter=jt;jt.prototype._events=void 0;jt.prototype._eventsCount=0;jt.prototype._maxListeners=void 0;var j2=10;function wv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(jt,"defaultMaxListeners",{enumerable:!0,get:function(){return j2},set:function(t){if(typeof t!="number"||t<0||xj(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");j2=t}});jt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};jt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||xj(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function _j(t){return t._maxListeners===void 0?jt.defaultMaxListeners:t._maxListeners}jt.prototype.getMaxListeners=function(){return _j(this)};jt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=i[e];if(l===void 0)return!1;if(typeof l=="function")D2(l,this,n);else for(var c=l.length,u=Ij(l,c),r=0;r<c;++r)D2(u[r],this,n);return!0};function bj(t,e,n,r){var s,i,o;if(wv(n),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),o===void 0)o=i[e]=n,++t._eventsCount;else if(typeof o=="function"?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=_j(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,UZ(a)}return t}jt.prototype.addListener=function(e,n){return bj(this,e,n,!1)};jt.prototype.on=jt.prototype.addListener;jt.prototype.prependListener=function(e,n){return bj(this,e,n,!0)};function VZ(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ej(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=VZ.bind(r);return s.listener=n,r.wrapFn=s,s}jt.prototype.once=function(e,n){return wv(n),this.on(e,Ej(this,e,n)),this};jt.prototype.prependOnceListener=function(e,n){return wv(n),this.prependListener(e,Ej(this,e,n)),this};jt.prototype.removeListener=function(e,n){var r,s,i,o,a;if(wv(n),s=this._events,s===void 0)return this;if(r=s[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():zZ(r,i),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};jt.prototype.off=jt.prototype.removeListener;jt.prototype.removeAllListeners=function(e){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(e,n[s]);return this};function Sj(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?WZ(s):Ij(s,s.length)}jt.prototype.listeners=function(e){return Sj(this,e,!0)};jt.prototype.rawListeners=function(e){return Sj(this,e,!1)};jt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Tj.call(t,e)};jt.prototype.listenerCount=Tj;function Tj(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}jt.prototype.eventNames=function(){return this._eventsCount>0?T0(this._events):[]};function Ij(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function zZ(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function WZ(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function $Z(t,e){return new Promise(function(n,r){function s(o){t.removeListener(e,i),r(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}Aj(t,e,i,{once:!0}),e!=="error"&&HZ(t,s,{once:!0})})}function HZ(t,e,n){typeof t.on=="function"&&Aj(t,"error",e,n)}function Aj(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){r.once&&t.removeEventListener(e,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var qZ=QT.exports;const Bde=ra(qZ),KZ={},Nj=(t,e)=>{KZ[t]=e},vv=t=>{class e extends Error{constructor(s,i,o){super(s||t,o);an(this,"cause");if(Object.setPrototypeOf(this,e.prototype),this.name=t,i)for(const a in i)this[a]=i[a];if(o&&GZ(o)&&"cause"in o&&!this.cause){const a=o.cause;this.cause=a,"stack"in a&&(this.stack=this.stack+`
CAUSE: `+a.stack)}}}return e};function GZ(t){return typeof t=="object"}const Fde=vv("DisconnectedDevice"),Ude=vv("DisconnectedDeviceDuringOperation"),Vde=vv("TransportOpenUserCancelled"),zde=vv("TransportRaceCondition");var B2;(function(t){t.Unknown="Unknown",t.LocationServicesDisabled="LocationServicesDisabled",t.LocationServicesUnauthorized="LocationServicesUnauthorized",t.BluetoothScanStartFailed="BluetoothScanStartFailed"})(B2||(B2={}));class QZ extends Error{constructor(n,r){const s="TransportError";super(n||s);an(this,"id");this.name=s,this.message=n,this.stack=new Error(n).stack,this.id=r}}Nj("TransportError",t=>new QZ(t.message,t.id));const Qf={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function YZ(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}class wm extends Error{constructor(n,{canBeMappedToChildError:r=!0}={}){const s=Object.keys(Qf).find(l=>Qf[l]===n)||"UNKNOWN_ERROR",i=YZ(n)||s,o=n.toString(16),a=`Ledger device: ${i} (0x${o})`;super(a);an(this,"statusCode");an(this,"statusText");if(this.name="TransportStatusError",this.statusCode=n,this.statusText=s,Object.setPrototypeOf(this,wm.prototype),r&&n===Qf.LOCKED_DEVICE)return new YT(a)}}class YT extends wm{constructor(e){super(Qf.LOCKED_DEVICE,{canBeMappedToChildError:!1}),e&&(this.message=e),this.name="LockedDeviceError",Object.setPrototypeOf(this,YT.prototype)}}Nj("TransportStatusError",t=>new wm(t.statusCode));let Cj=0;const Na=[],Wde=(t,e,n)=>{const r={type:t,id:String(++Cj),date:new Date};e&&(r.message=e),kj(r)},ZZ=({type:t,message:e,data:n,context:r})=>{const s={type:t,id:String(++Cj),date:new Date};e&&(s.message=e),n&&(s.data=n),r&&(s.context=r),kj(s)};class I0{constructor(e,n){this.type=e,this.context=n}trace(e,n){ZZ({type:this.type,message:e,data:n,context:this.context})}getContext(){return this.context}setContext(e){this.context=e}updateContext(e){this.context=Object.assign(Object.assign({},this.context),e)}getType(){return this.type}setType(e){this.type=e}withType(e){return new I0(e,this.context)}withContext(e){return new I0(this.type,e)}withUpdatedContext(e){return new I0(this.type,Object.assign(Object.assign({},this.context),e))}}const XZ=t=>(Na.push(t),()=>{const e=Na.indexOf(t);e!==-1&&(Na[e]=Na[Na.length-1],Na.pop())});function kj(t){for(let e=0;e<Na.length;e++)try{Na[e](t)}catch(n){console.error(n)}}typeof window<"u"&&(window.__ledgerLogsListen=XZ);function JZ(t,e){const r=Buffer.alloc(17);let s=r.writeUInt8(4,0);return s=r.writeUInt32BE(Mg(44),s),s=r.writeUInt32BE(Mg(501),s),s=r.writeUInt32BE(Mg(t),s),r.writeUInt32BE(Mg(e),s),r}const eX=1<<31>>>0;function Mg(t){return(t|eX)>>>0}const tX=5,nX=6,rX=0,sX=1,iX=1,oX=2,Pg=255,F2=224;async function aX(t,e){const n=await Rj(t,tX,rX,e);return new Oe(n)}async function lX(t,e,n){const r=Buffer.alloc(1);r.writeUInt8(1,0);const s=Vi(e)?e.message.serialize():e.serializeMessage(),i=Buffer.concat([r,n,s]);return await Rj(t,nX,sX,i)}async function Rj(t,e,n,r){let s=0,i=0;if(r.length>Pg)for(;r.length-i>Pg;){const l=r.slice(i,i+Pg);if((await t.send(F2,e,n,s|oX,l)).length!==2)throw new wm(Qf.INCORRECT_DATA);s|=iX,i+=Pg}const o=r.slice(i),a=await t.send(F2,e,n,s,o);return a.slice(0,a.length-2)}const cX="Ledger";class uX extends DD{constructor(e={}){super(),this.name=cX,this.url="https://ledger.com",this.icon="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzUgMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0ibTIzLjU4OCAwaC0xNnYyMS41ODNoMjEuNnYtMTZhNS41ODUgNS41ODUgMCAwIDAgLTUuNi01LjU4M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5KSIvPjxwYXRoIGQ9Im04LjM0MiAwaC0yLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCAtNS41ODUgNS41ODV2Mi43NTdoOC4zNDJ6Ii8+PHBhdGggZD0ibTAgNy41OWg4LjM0MnY4LjM0MmgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUuNzM5KSIvPjxwYXRoIGQ9Im0xNS4xOCAyMy40NTFoMi43NTdhNS41ODUgNS41ODUgMCAwIDAgNS41ODUtNS42di0yLjY3MWgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMS40NzggMTEuNDc4KSIvPjxwYXRoIGQ9Im03LjU5IDE1LjE4aDguMzQydjguMzQyaC04LjM0MnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5IDExLjQ3OCkiLz48cGF0aCBkPSJtMCAxNS4xOHYyLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCA1LjU4NSA1LjU4NWgyLjc1N3YtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDExLjQ3OCkiLz48L2c+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"||typeof navigator>"u"||!navigator.hid?Ze.Unsupported:Ze.Loadable,this._disconnected=()=>{const n=this._transport;n&&(n.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null,this.emit("error",new av),this.emit("disconnect"))},this._derivationPath=e.derivationPath||JZ(0,0),this._connecting=!1,this._transport=null,this._publicKey=null}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Ze.Loadable)throw new Go;this._connecting=!0;let e;try{e=(await yv(async()=>{const{default:s}=await import("./TransportWebHID-C2rgxYB8.js");return{default:s}},[])).default}catch(s){throw new WT(s==null?void 0:s.message,s)}let n;try{n=await e.create()}catch(s){throw new Qo(s==null?void 0:s.message,s)}let r;try{r=await aX(n,this._derivationPath)}catch(s){throw new El(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),this._transport=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._transport;if(e){e.off("disconnect",this._disconnected),this._transport=null,this._publicKey=null;try{await e.close()}catch(n){this.emit("error",new pm(n==null?void 0:n.message,n))}}this.emit("disconnect")}async signTransaction(e){try{const n=this._transport,r=this._publicKey;if(!n||!r)throw new Zt;try{const s=await lX(n,e,this._derivationPath);e.addSignature(r,s)}catch(s){throw new ms(s==null?void 0:s.message,s)}return e}catch(n){throw this.emit("error",n),n}}}const dX="Phantom";class hX extends lv{constructor(e={}){super(),this.name=dX,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Ze.Unsupported:Ze.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new av),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new Oe(n.toBytes())}catch(s){this.emit("error",new El(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Ze.Unsupported&&(Rb()?(this._readyState=Ze.Loadable,this.emit("readyStateChange",this._readyState)):LD(()=>{var n,r,s;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(s=window.solana)!=null&&s.isPhantom?(this._readyState=Ze.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Ze.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===Ze.Loadable){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${s}?ref=${i}`;return}if(this.readyState!==Ze.Installed)throw new Go;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(s){throw new Qo(s==null?void 0:s.message,s)}if(!n.publicKey)throw new Xa;let r;try{r=new Oe(n.publicKey.toBytes())}catch(s){throw new El(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new pm(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new Zt;try{const{signers:i,...o}=r;Vi(e)?i!=null&&i.length&&e.sign(i):(e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await s.signAndSendTransaction(e,o);return a}catch(i){throw i instanceof Jn?i:new Ui(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signTransaction(e)||e}catch(r){throw new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signAllTransactions(e)||e}catch(r){throw new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Zt;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new mm(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const fX="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var kt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},pX=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},A0,fc,nE,rE,sE,Dr,iE,Mj,Pj,oE,aE,lE,cE,uE;class mX{constructor(){A0.add(this),fc.set(this,{}),nE.set(this,"1.0.0"),rE.set(this,"MetaMask"),sE.set(this,fX),Dr.set(this,null),iE.set(this,(e,n)=>{var r;return(r=kt(this,fc,"f")[e])!=null&&r.push(n)||(kt(this,fc,"f")[e]=[n]),()=>kt(this,A0,"m",Pj).call(this,e,n)}),oE.set(this,async()=>{if(!kt(this,Dr,"f")){let e;try{e=(await yv(async()=>{const{default:n}=await import("./index-BST8a0Ea.js");return{default:n}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}pX(this,Dr,new e,"f"),kt(this,Dr,"f").on("standard_change",n=>kt(this,A0,"m",Mj).call(this,"change",n))}return this.accounts.length||await kt(this,Dr,"f").connect(),{accounts:this.accounts}}),aE.set(this,async()=>{kt(this,Dr,"f")&&await kt(this,Dr,"f").disconnect()}),lE.set(this,async(...e)=>{if(!kt(this,Dr,"f"))throw new Zt;return await kt(this,Dr,"f").standardSignAndSendTransaction(...e)}),cE.set(this,async(...e)=>{if(!kt(this,Dr,"f"))throw new Zt;return await kt(this,Dr,"f").standardSignTransaction(...e)}),uE.set(this,async(...e)=>{if(!kt(this,Dr,"f"))throw new Zt;return await kt(this,Dr,"f").standardSignMessage(...e)})}get version(){return kt(this,nE,"f")}get name(){return kt(this,rE,"f")}get icon(){return kt(this,sE,"f")}get chains(){return[Np,ej,tj]}get features(){return{[cv]:{version:"1.0.0",connect:kt(this,oE,"f")},[Ly]:{version:"1.0.0",disconnect:kt(this,aE,"f")},[uv]:{version:"1.0.0",on:kt(this,iE,"f")},[Jr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:kt(this,lE,"f")},[xn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:kt(this,cE,"f")},[Co]:{version:"1.0.0",signMessage:kt(this,uE,"f")}}}get accounts(){return kt(this,Dr,"f")?kt(this,Dr,"f").standardAccounts:[]}}fc=new WeakMap,nE=new WeakMap,rE=new WeakMap,sE=new WeakMap,Dr=new WeakMap,iE=new WeakMap,oE=new WeakMap,aE=new WeakMap,lE=new WeakMap,cE=new WeakMap,uE=new WeakMap,A0=new WeakSet,Mj=function(e,...n){var r;(r=kt(this,fc,"f")[e])==null||r.forEach(s=>s.apply(null,n))},Pj=function(e,n){var r;kt(this,fc,"f")[e]=(r=kt(this,fc,"f")[e])==null?void 0:r.filter(s=>n!==s)};let U2=!1;function gX(){U2||(iZ(new mX),U2=!0)}async function yX(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var i,o;const s=r.data;(s==null?void 0:s.target)==="metamask-inpage"&&((i=s.data)==null?void 0:i.name)==="metamask-provider"&&(((o=s.data.data)==null?void 0:o.id)===t?(window.removeEventListener("message",n),s.data.data.error||gX()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const wX="Solflare";class vX extends lv{constructor(e={}){super(),this.name=wX,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Ze.Unsupported:Ze.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new av),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new Oe(n.toBytes())}catch(s){this.emit("error",new El(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==Ze.Unsupported&&(LD(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=Ze.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),yX())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===Ze.Loadable&&Rb()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Ze.Loadable&&this._readyState!==Ze.Installed)throw new Go;if(this.readyState===Ze.Loadable&&Rb()){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${s}?ref=${i}`;return}let e;try{e=(await yv(async()=>{const{default:s}=await import("./index-C-oMs5sp.js");return{default:s}},[])).default}catch(s){throw new WT(s==null?void 0:s.message,s)}let n;try{n=new e({network:this._config.network})}catch(s){throw new lc(s==null?void 0:s.message,s)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(s){throw new Qo(s==null?void 0:s.message,s)}if(!n.publicKey)throw new Qo;let r;try{r=new Oe(n.publicKey.toBytes())}catch(s){throw new El(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new pm(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new Zt;try{const{signers:i,...o}=r;return Vi(e)?i!=null&&i.length&&e.sign(i):(e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment,await s.signAndSendTransaction(e,o)}catch(i){throw i instanceof Jn?i:new Ui(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signTransaction(e)||e}catch(r){throw new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signAllTransactions(e)||e}catch(r){throw new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signMessage(e,"utf8")}catch(r){throw new mm(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const xX="Torus";class _X extends lv{constructor({params:e={showTorusButton:!1}}={params:{showTorusButton:!1}}){super(),this.name=xX,this.url="https://tor.us",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMyAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuNSIgY3k9IjE2IiByPSIxNiIgZmlsbD0iIzAzNjRGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjIxODYgOS40OTIxOUMxMC40NTM5IDkuNDkyMTkgOS44MzM5OCAxMC4xMTIxIDkuODMzOTggMTAuODc2OFYxMi40ODk4QzkuODMzOTggMTMuMjU0NSAxMC40NTM5IDEzLjg3NDQgMTEuMjE4NiAxMy44NzQ0SDEzLjY2ODRWMjIuODk3NkMxMy42Njg0IDIzLjY2MjMgMTQuMjg4MyAyNC4yODIyIDE1LjA1MyAyNC4yODIySDE2LjY2NkMxNy40MzA3IDI0LjI4MjIgMTguMDUwNiAyMy42NjIzIDE4LjA1MDYgMjIuODk3NlYxMi41MDE1QzE4LjA1MDYgMTIuNDk3NiAxOC4wNTA2IDEyLjQ5MzcgMTguMDUwNiAxMi40ODk4VjEwLjg3NjhDMTguMDUwNiAxMC4xMTIxIDE3LjQzMDcgOS40OTIxOSAxNi42NjYgOS40OTIxOUgxNS4wNTNIMTEuMjE4NloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yMS4zMzc2IDEzLjg3NDRDMjIuNTQ3NyAxMy44NzQ0IDIzLjUyODcgMTIuODkzNCAyMy41Mjg3IDExLjY4MzNDMjMuNTI4NyAxMC40NzMyIDIyLjU0NzcgOS40OTIxOSAyMS4zMzc2IDkuNDkyMTlDMjAuMTI3NSA5LjQ5MjE5IDE5LjE0NjUgMTAuNDczMiAxOS4xNDY1IDExLjY4MzNDMTkuMTQ2NSAxMi44OTM0IDIwLjEyNzUgMTMuODc0NCAyMS4zMzc2IDEzLjg3NDRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Ze.Unsupported:Ze.Loadable,this._connecting=!1,this._wallet=null,this._publicKey=null,this._params=e}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isLoggedIn)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Ze.Loadable)throw new Go;this._connecting=!0;let e;try{e=(await yv(async()=>{const{default:i}=await import("./solanaEmbed.esm-BNiTFFf4.js");return{default:i}},[])).default}catch(i){throw new WT(i==null?void 0:i.message,i)}let n;try{n=window.torus||new e}catch(i){throw new lc(i==null?void 0:i.message,i)}if(!n.isInitialized)try{await n.init(this._params)}catch(i){throw new Qo(i==null?void 0:i.message,i)}let r;try{r=await n.login()}catch(i){throw new Xa(i==null?void 0:i.message,i)}let s;try{s=new Oe(r[0])}catch(i){throw new El(i==null?void 0:i.message,i)}this._wallet=n,this._publicKey=s,this.emit("connect",s)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){this._wallet=null,this._publicKey=null;try{e.isLoggedIn&&await e.cleanUp()}catch(n){this.emit("error",new pm(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new Zt;try{const{signers:i,...o}=r;e=await this.prepareTransaction(e,n,o),i!=null&&i.length&&e.partialSign(...i),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await s.signAndSendTransaction(e,o);return a}catch(i){throw i instanceof Jn?i:new Ui(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signTransaction(e)||e}catch(r){throw new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signAllTransactions(e)||e}catch(r){throw new ms(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Zt;try{return await n.signMessage(e)}catch(r){throw new mm(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const bX=({children:t})=>{const e="mainnet-beta",n=k.useMemo(()=>{const s="https://solana-api.projectserum.com";return console.log("[Wallet Context] Network:",e),console.log("[Wallet Context] RPC Endpoint:",s),s},[e]),r=k.useMemo(()=>[new hX,new vX,new _X,new uX],[]);return d.jsx(FG,{endpoint:n,children:d.jsx(kZ,{wallets:r,autoConnect:!0,children:d.jsx(DZ,{children:t})})})},EX=rm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),xv=k.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,role:"alert",className:We(EX({variant:e}),t),...n}));xv.displayName="Alert";const SX=k.forwardRef(({className:t,...e},n)=>d.jsx("h5",{ref:n,className:We("mb-1 font-medium leading-none tracking-tight",t),...e}));SX.displayName="AlertTitle";const _v=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("text-sm [&_p]:leading-relaxed",t),...e}));_v.displayName="AlertDescription";const TX=rm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),yn=k.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?V9:"button";return d.jsx(o,{className:We(TX({variant:e,size:n,className:t})),ref:i,...s})});yn.displayName="Button";class V2 extends k.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleRetry=()=>{this.setState({hasError:!1,error:void 0})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"flex items-center justify-center min-h-[200px] p-4",children:d.jsx("div",{className:"max-w-md w-full",children:d.jsx(xv,{variant:"destructive",children:d.jsx(_v,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsx("p",{className:"font-semibold",children:"Something went wrong"}),d.jsx("p",{className:"text-sm",children:((e=this.state.error)==null?void 0:e.message)||"An unexpected error occurred"}),d.jsx(yn,{onClick:this.handleRetry,variant:"outline",size:"sm",className:"w-full",children:"Try again"})]})})})})}):this.props.children}}function Oj(){const[t,e]=k.useState(!1),{connected:n}=gm(),[r,s]=Jp(),i=a=>r===a,o=[{href:"/",label:"Home",icon:tT},{href:"/campaigns",label:"Browse",icon:EC},{href:"/create-campaign",label:"Create",icon:dl}];return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed top-0 left-0 right-0 h-20 bg-gray-900/30 backdrop-blur-xl border-b border-gray-800/50 z-40"}),d.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50",children:[d.jsx("nav",{className:"container mx-auto px-6",children:d.jsxs("div",{className:"flex justify-between items-center h-20",children:[d.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:()=>s("/"),children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-xl blur-lg"}),d.jsx("div",{className:"relative bg-gradient-to-r from-purple-600 to-pink-600 p-2 rounded-xl",children:d.jsx(wO,{className:"h-6 w-6 text-white transition-transform group-hover:rotate-12"})})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-2xl font-black bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Wendex"}),d.jsx("span",{className:"text-xs text-purple-400 font-medium -mt-1",children:"CROWDFUNDING"})]})]}),d.jsx("div",{className:"hidden lg:flex items-center space-x-1",children:o.map(a=>{const l=a.icon;return d.jsxs("a",{href:a.href,className:`relative flex items-center space-x-2 px-6 py-3 rounded-xl font-medium transition-all duration-300 group ${i(a.href)?"text-white bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,onClick:c=>{c.preventDefault(),s(a.href)},children:[d.jsx(l,{className:"w-4 h-4"}),d.jsx("span",{children:a.label}),i(a.href)&&d.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-purple-400 rounded-full"})]},a.href)})}),d.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[d.jsxs("button",{className:"relative px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl overflow-hidden group transition-all duration-300 hover:shadow-2xl hover:shadow-purple-600/25 hover:scale-105",onClick:()=>s("/create-campaign"),children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-700 to-pink-700 opacity-0 group-hover:opacity-100 transition-opacity"}),d.jsxs("div",{className:"relative flex items-center space-x-2",children:[d.jsx(dl,{className:"w-4 h-4"}),d.jsx("span",{children:"Launch Campaign"})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-xl blur-lg"}),d.jsx(zy,{className:"relative !bg-gray-900/50 !border !border-gray-700 !text-white hover:!bg-gray-800/50 hover:!border-gray-600 !rounded-xl !font-medium !px-6 !py-3 !backdrop-blur-sm !transition-all"})]})]}),d.jsx("button",{className:"lg:hidden relative p-3 rounded-xl bg-gray-900/50 border border-gray-700 text-gray-300 hover:text-white hover:bg-gray-800/50 transition-all",onClick:()=>e(!t),children:t?d.jsx(sT,{className:"h-5 w-5"}):d.jsx(EC,{className:"h-5 w-5"})})]})}),t&&d.jsx("div",{className:"lg:hidden mt-2 mx-6 mb-6",children:d.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-xl border border-gray-800 rounded-2xl p-6 space-y-4",children:[o.map(a=>{const l=a.icon;return d.jsxs("a",{href:a.href,className:`flex items-center space-x-3 p-4 rounded-xl transition-all ${i(a.href)?"bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"}`,onClick:c=>{c.preventDefault(),s(a.href),e(!1)},children:[d.jsx(l,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:a.label})]},a.href)}),d.jsxs("div",{className:"pt-4 border-t border-gray-800 space-y-3",children:[d.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 p-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all",onClick:()=>{s("/create-campaign"),e(!1)},children:[d.jsx(dl,{className:"w-5 h-5"}),d.jsx("span",{children:"Launch Campaign"})]}),d.jsx("div",{className:"px-2",children:d.jsx(zy,{className:"!w-full !bg-gray-800/50 !border !border-gray-700 !text-white hover:!bg-gray-700/50 !rounded-xl !font-medium !px-6 !py-3"})})]})]})})]})]})}function Lj(t,e){return function(){return t.apply(e,arguments)}}const{toString:IX}=Object.prototype,{getPrototypeOf:ZT}=Object,{iterator:bv,toStringTag:Dj}=Symbol,Ev=(t=>e=>{const n=IX.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ai=t=>(t=t.toLowerCase(),e=>Ev(e)===t),Sv=t=>e=>typeof e===t,{isArray:Nh}=Array,Cp=Sv("undefined");function AX(t){return t!==null&&!Cp(t)&&t.constructor!==null&&!Cp(t.constructor)&&vs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const jj=Ai("ArrayBuffer");function NX(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&jj(t.buffer),e}const CX=Sv("string"),vs=Sv("function"),Bj=Sv("number"),Tv=t=>t!==null&&typeof t=="object",kX=t=>t===!0||t===!1,N0=t=>{if(Ev(t)!=="object")return!1;const e=ZT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Dj in t)&&!(bv in t)},RX=Ai("Date"),MX=Ai("File"),PX=Ai("Blob"),OX=Ai("FileList"),LX=t=>Tv(t)&&vs(t.pipe),DX=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||vs(t.append)&&((e=Ev(t))==="formdata"||e==="object"&&vs(t.toString)&&t.toString()==="[object FormData]"))},jX=Ai("URLSearchParams"),[BX,FX,UX,VX]=["ReadableStream","Request","Response","Headers"].map(Ai),zX=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vm(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Nh(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function Fj(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const pc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,Uj=t=>!Cp(t)&&t!==pc;function dE(){const{caseless:t}=Uj(this)&&this||{},e={},n=(r,s)=>{const i=t&&Fj(e,s)||s;N0(e[i])&&N0(r)?e[i]=dE(e[i],r):N0(r)?e[i]=dE({},r):Nh(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&vm(arguments[r],n);return e}const WX=(t,e,n,{allOwnKeys:r}={})=>(vm(e,(s,i)=>{n&&vs(s)?t[i]=Lj(s,n):t[i]=s},{allOwnKeys:r}),t),$X=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),HX=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},qX=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&ZT(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},KX=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},GX=t=>{if(!t)return null;if(Nh(t))return t;let e=t.length;if(!Bj(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},QX=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ZT(Uint8Array)),YX=(t,e)=>{const r=(t&&t[bv]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},ZX=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},XX=Ai("HTMLFormElement"),JX=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),z2=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),eJ=Ai("RegExp"),Vj=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};vm(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},tJ=t=>{Vj(t,(e,n)=>{if(vs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(vs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},nJ=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Nh(t)?r(t):r(String(t).split(e)),n},rJ=()=>{},sJ=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function iJ(t){return!!(t&&vs(t.append)&&t[Dj]==="FormData"&&t[bv])}const oJ=t=>{const e=new Array(10),n=(r,s)=>{if(Tv(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Nh(r)?[]:{};return vm(r,(o,a)=>{const l=n(o,s+1);!Cp(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},aJ=Ai("AsyncFunction"),lJ=t=>t&&(Tv(t)||vs(t))&&vs(t.then)&&vs(t.catch),zj=((t,e)=>t?setImmediate:e?((n,r)=>(pc.addEventListener("message",({source:s,data:i})=>{s===pc&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),pc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",vs(pc.postMessage)),cJ=typeof queueMicrotask<"u"?queueMicrotask.bind(pc):typeof process<"u"&&process.nextTick||zj,uJ=t=>t!=null&&vs(t[bv]),re={isArray:Nh,isArrayBuffer:jj,isBuffer:AX,isFormData:DX,isArrayBufferView:NX,isString:CX,isNumber:Bj,isBoolean:kX,isObject:Tv,isPlainObject:N0,isReadableStream:BX,isRequest:FX,isResponse:UX,isHeaders:VX,isUndefined:Cp,isDate:RX,isFile:MX,isBlob:PX,isRegExp:eJ,isFunction:vs,isStream:LX,isURLSearchParams:jX,isTypedArray:QX,isFileList:OX,forEach:vm,merge:dE,extend:WX,trim:zX,stripBOM:$X,inherits:HX,toFlatObject:qX,kindOf:Ev,kindOfTest:Ai,endsWith:KX,toArray:GX,forEachEntry:YX,matchAll:ZX,isHTMLForm:XX,hasOwnProperty:z2,hasOwnProp:z2,reduceDescriptors:Vj,freezeMethods:tJ,toObjectSet:nJ,toCamelCase:JX,noop:rJ,toFiniteNumber:sJ,findKey:Fj,global:pc,isContextDefined:Uj,isSpecCompliantForm:iJ,toJSONObject:oJ,isAsyncFn:aJ,isThenable:lJ,setImmediate:zj,asap:cJ,isIterable:uJ};function nt(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}re.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const Wj=nt.prototype,$j={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{$j[t]={value:t}});Object.defineProperties(nt,$j);Object.defineProperty(Wj,"isAxiosError",{value:!0});nt.from=(t,e,n,r,s,i)=>{const o=Object.create(Wj);return re.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),nt.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const dJ=null;function hE(t){return re.isPlainObject(t)||re.isArray(t)}function Hj(t){return re.endsWith(t,"[]")?t.slice(0,-2):t}function W2(t,e,n){return t?t.concat(e).map(function(s,i){return s=Hj(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function hJ(t){return re.isArray(t)&&!t.some(hE)}const fJ=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Iv(t,e,n){if(!re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=re.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!re.isUndefined(w[g])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(s))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(re.isDate(v))return v.toISOString();if(!l&&re.isBlob(v))throw new nt("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(v)||re.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,g,w){let _=v;if(v&&!w&&typeof v=="object"){if(re.endsWith(g,"{}"))g=r?g:g.slice(0,-2),v=JSON.stringify(v);else if(re.isArray(v)&&hJ(v)||(re.isFileList(v)||re.endsWith(g,"[]"))&&(_=re.toArray(v)))return g=Hj(g),_.forEach(function(x,S){!(re.isUndefined(x)||x===null)&&e.append(o===!0?W2([g],S,i):o===null?g:g+"[]",c(x))}),!1}return hE(v)?!0:(e.append(W2(w,g,i),c(v)),!1)}const f=[],p=Object.assign(fJ,{defaultVisitor:u,convertValue:c,isVisitable:hE});function m(v,g){if(!re.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(v),re.forEach(v,function(_,b){(!(re.isUndefined(_)||_===null)&&s.call(e,_,re.isString(b)?b.trim():b,g,p))===!0&&m(_,g?g.concat(b):[b])}),f.pop()}}if(!re.isObject(t))throw new TypeError("data must be an object");return m(t),e}function $2(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function XT(t,e){this._pairs=[],t&&Iv(t,this,e)}const qj=XT.prototype;qj.append=function(e,n){this._pairs.push([e,n])};qj.toString=function(e){const n=e?function(r){return e.call(this,r,$2)}:$2;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function pJ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kj(t,e,n){if(!e)return t;const r=n&&n.encode||pJ;re.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=re.isURLSearchParams(e)?e.toString():new XT(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class H2{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Gj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mJ=typeof URLSearchParams<"u"?URLSearchParams:XT,gJ=typeof FormData<"u"?FormData:null,yJ=typeof Blob<"u"?Blob:null,wJ={isBrowser:!0,classes:{URLSearchParams:mJ,FormData:gJ,Blob:yJ},protocols:["http","https","file","blob","url","data"]},JT=typeof window<"u"&&typeof document<"u",fE=typeof navigator=="object"&&navigator||void 0,vJ=JT&&(!fE||["ReactNative","NativeScript","NS"].indexOf(fE.product)<0),xJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_J=JT&&window.location.href||"http://localhost",bJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:JT,hasStandardBrowserEnv:vJ,hasStandardBrowserWebWorkerEnv:xJ,navigator:fE,origin:_J},Symbol.toStringTag,{value:"Module"})),zr={...bJ,...wJ};function EJ(t,e){return Iv(t,new zr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return zr.isNode&&re.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function SJ(t){return re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function TJ(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function Qj(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&re.isArray(s)?s.length:o,l?(re.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!re.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&re.isArray(s[o])&&(s[o]=TJ(s[o])),!a)}if(re.isFormData(t)&&re.isFunction(t.entries)){const n={};return re.forEachEntry(t,(r,s)=>{e(SJ(r),s,n,0)}),n}return null}function IJ(t,e,n){if(re.isString(t))try{return(e||JSON.parse)(t),re.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const xm={transitional:Gj,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=re.isObject(e);if(i&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return s?JSON.stringify(Qj(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return EJ(e,this.formSerializer).toString();if((a=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Iv(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),IJ(e)):e}],transformResponse:[function(e){const n=this.transitional||xm.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?nt.from(a,nt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zr.classes.FormData,Blob:zr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],t=>{xm.headers[t]={}});const AJ=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NJ=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&AJ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},q2=Symbol("internals");function af(t){return t&&String(t).trim().toLowerCase()}function C0(t){return t===!1||t==null?t:re.isArray(t)?t.map(C0):String(t)}function CJ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const kJ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Mx(t,e,n,r,s){if(re.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function RJ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function MJ(t,e){const n=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let xs=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const u=af(l);if(!u)throw new Error("header name must be a non-empty string");const f=re.findKey(s,u);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||l]=C0(a))}const o=(a,l)=>re.forEach(a,(c,u)=>i(c,u,l));if(re.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(re.isString(e)&&(e=e.trim())&&!kJ(e))o(NJ(e),n);else if(re.isObject(e)&&re.isIterable(e)){let a={},l,c;for(const u of e){if(!re.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?re.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=af(e),e){const r=re.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return CJ(s);if(re.isFunction(n))return n.call(this,s,r);if(re.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=af(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Mx(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=af(o),o){const a=re.findKey(r,o);a&&(!n||Mx(r,r[a],a,n))&&(delete r[a],s=!0)}}return re.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Mx(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return re.forEach(this,(s,i)=>{const o=re.findKey(r,i);if(o){n[o]=C0(s),delete n[i];return}const a=e?RJ(i):String(i).trim();a!==i&&delete n[i],n[a]=C0(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return re.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&re.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[q2]=this[q2]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=af(o);r[a]||(MJ(s,o),r[a]=!0)}return re.isArray(e)?e.forEach(i):i(e),this}};xs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(xs.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});re.freezeMethods(xs);function Px(t,e){const n=this||xm,r=e||n,s=xs.from(r.headers);let i=r.data;return re.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Yj(t){return!!(t&&t.__CANCEL__)}function Ch(t,e,n){nt.call(this,t??"canceled",nt.ERR_CANCELED,e,n),this.name="CanceledError"}re.inherits(Ch,nt,{__CANCEL__:!0});function Zj(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new nt("Request failed with status code "+n.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function PJ(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function OJ(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[s]=l,r[s]=c;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const m=u&&c-u;return m?Math.round(p*1e3/m):void 0}}function LJ(t,e){let n=0,r=1e3/e,s,i;const o=(c,u=Date.now())=>{n=u,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?o(c,u):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const Wy=(t,e,n=3)=>{let r=0;const s=OJ(50,250);return LJ(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),u=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},K2=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},G2=t=>(...e)=>re.asap(()=>t(...e)),DJ=zr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,zr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(zr.origin),zr.navigator&&/(msie|trident)/i.test(zr.navigator.userAgent)):()=>!0,jJ=zr.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];re.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),re.isString(r)&&o.push("path="+r),re.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function BJ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function FJ(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Xj(t,e,n){let r=!BJ(e);return t&&(r||n==!1)?FJ(t,e):e}const Q2=t=>t instanceof xs?{...t}:t;function Vc(t,e){e=e||{};const n={};function r(c,u,f,p){return re.isPlainObject(c)&&re.isPlainObject(u)?re.merge.call({caseless:p},c,u):re.isPlainObject(u)?re.merge({},u):re.isArray(u)?u.slice():u}function s(c,u,f,p){if(re.isUndefined(u)){if(!re.isUndefined(c))return r(void 0,c,f,p)}else return r(c,u,f,p)}function i(c,u){if(!re.isUndefined(u))return r(void 0,u)}function o(c,u){if(re.isUndefined(u)){if(!re.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,f)=>s(Q2(c),Q2(u),f,!0)};return re.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=l[u]||s,p=f(t[u],e[u],u);re.isUndefined(p)&&f!==a||(n[u]=p)}),n}const Jj=t=>{const e=Vc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=xs.from(o),e.url=Kj(Xj(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(re.isFormData(n)){if(zr.hasStandardBrowserEnv||zr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(zr.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&DJ(e.url))){const c=s&&i&&jJ.read(i);c&&o.set(s,c)}return e},UJ=typeof XMLHttpRequest<"u",VJ=UJ&&function(t){return new Promise(function(n,r){const s=Jj(t);let i=s.data;const o=xs.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,f,p,m,v;function g(){m&&m(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function _(){if(!w)return;const x=xs.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:x,config:t,request:w};Zj(function(M){n(M),g()},function(M){r(M),g()},D),w=null}"onloadend"in w?w.onloadend=_:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(_)},w.onabort=function(){w&&(r(new nt("Request aborted",nt.ECONNABORTED,t,w)),w=null)},w.onerror=function(){r(new nt("Network Error",nt.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const D=s.transitional||Gj;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new nt(S,D.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,t,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&re.forEach(o.toJSON(),function(S,D){w.setRequestHeader(D,S)}),re.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),a&&a!=="json"&&(w.responseType=s.responseType),c&&([p,v]=Wy(c,!0),w.addEventListener("progress",p)),l&&w.upload&&([f,m]=Wy(l),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(u=x=>{w&&(r(!x||x.type?new Ch(null,t,w):x),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const b=PJ(s.url);if(b&&zr.protocols.indexOf(b)===-1){r(new nt("Unsupported protocol "+b+":",nt.ERR_BAD_REQUEST,t));return}w.send(i||null)})},zJ=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof nt?u:new Ch(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new nt(`timeout ${e} of ms exceeded`,nt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>re.asap(a),l}},WJ=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},$J=async function*(t,e){for await(const n of HJ(t))yield*WJ(n,e)},HJ=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Y2=(t,e,n,r)=>{const s=$J(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){a(),l.close();return}let f=u.byteLength;if(n){let p=i+=f;n(p)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Av=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",e3=Av&&typeof ReadableStream=="function",qJ=Av&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),t3=(t,...e)=>{try{return!!t(...e)}catch{return!1}},KJ=e3&&t3(()=>{let t=!1;const e=new Request(zr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Z2=64*1024,pE=e3&&t3(()=>re.isReadableStream(new Response("").body)),$y={stream:pE&&(t=>t.body)};Av&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!$y[e]&&($y[e]=re.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new nt(`Response type '${e}' is not supported`,nt.ERR_NOT_SUPPORT,r)})})})(new Response);const GJ=async t=>{if(t==null)return 0;if(re.isBlob(t))return t.size;if(re.isSpecCompliantForm(t))return(await new Request(zr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(re.isArrayBufferView(t)||re.isArrayBuffer(t))return t.byteLength;if(re.isURLSearchParams(t)&&(t=t+""),re.isString(t))return(await qJ(t)).byteLength},QJ=async(t,e)=>{const n=re.toFiniteNumber(t.getContentLength());return n??GJ(e)},YJ=Av&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:p}=Jj(t);c=c?(c+"").toLowerCase():"text";let m=zJ([s,i&&i.toAbortSignal()],o),v;const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let w;try{if(l&&KJ&&n!=="get"&&n!=="head"&&(w=await QJ(u,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),F;if(re.isFormData(r)&&(F=D.headers.get("content-type"))&&u.setContentType(F),D.body){const[M,R]=K2(w,Wy(G2(l)));r=Y2(D.body,Z2,M,R)}}re.isString(f)||(f=f?"include":"omit");const _="credentials"in Request.prototype;v=new Request(e,{...p,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:_?f:void 0});let b=await fetch(v);const x=pE&&(c==="stream"||c==="response");if(pE&&(a||x&&g)){const D={};["status","statusText","headers"].forEach(U=>{D[U]=b[U]});const F=re.toFiniteNumber(b.headers.get("content-length")),[M,R]=a&&K2(F,Wy(G2(a),!0))||[];b=new Response(Y2(b.body,Z2,M,()=>{R&&R(),g&&g()}),D)}c=c||"text";let S=await $y[re.findKey($y,c)||"text"](b,t);return!x&&g&&g(),await new Promise((D,F)=>{Zj(D,F,{data:S,headers:xs.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:v})})}catch(_){throw g&&g(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new nt("Network Error",nt.ERR_NETWORK,t,v),{cause:_.cause||_}):nt.from(_,_&&_.code,t,v)}}),mE={http:dJ,xhr:VJ,fetch:YJ};re.forEach(mE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const X2=t=>`- ${t}`,ZJ=t=>re.isFunction(t)||t===null||t===!1,n3={getAdapter:t=>{t=re.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!ZJ(n)&&(r=mE[(o=String(n)).toLowerCase()],r===void 0))throw new nt(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(X2).join(`
`):" "+X2(i[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:mE};function Ox(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ch(null,t)}function J2(t){return Ox(t),t.headers=xs.from(t.headers),t.data=Px.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),n3.getAdapter(t.adapter||xm.adapter)(t).then(function(r){return Ox(t),r.data=Px.call(t,t.transformResponse,r),r.headers=xs.from(r.headers),r},function(r){return Yj(r)||(Ox(t),r&&r.response&&(r.response.data=Px.call(t,t.transformResponse,r.response),r.response.headers=xs.from(r.response.headers))),Promise.reject(r)})}const r3="1.9.0",Nv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Nv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const ek={};Nv.transitional=function(e,n,r){function s(i,o){return"[Axios v"+r3+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new nt(s(o," has been removed"+(n?" in "+n:"")),nt.ERR_DEPRECATED);return n&&!ek[o]&&(ek[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};Nv.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function XJ(t,e,n){if(typeof t!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new nt("option "+i+" must be "+l,nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new nt("Unknown option "+i,nt.ERR_BAD_OPTION)}}const k0={assertOptions:XJ,validators:Nv},Mi=k0.validators;let Cc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new H2,response:new H2}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Vc(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&k0.assertOptions(r,{silentJSONParsing:Mi.transitional(Mi.boolean),forcedJSONParsing:Mi.transitional(Mi.boolean),clarifyTimeoutError:Mi.transitional(Mi.boolean)},!1),s!=null&&(re.isFunction(s)?n.paramsSerializer={serialize:s}:k0.assertOptions(s,{encode:Mi.function,serialize:Mi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),k0.assertOptions(n,{baseUrl:Mi.spelling("baseURL"),withXsrfToken:Mi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&re.merge(i.common,i[n.method]);i&&re.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=xs.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,f=0,p;if(!l){const v=[J2.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,c),p=v.length,u=Promise.resolve(n);f<p;)u=u.then(v[f++],v[f++]);return u}p=a.length;let m=n;for(f=0;f<p;){const v=a[f++],g=a[f++];try{m=v(m)}catch(w){g.call(this,w);break}}try{u=J2.call(this,m)}catch(v){return Promise.reject(v)}for(f=0,p=c.length;f<p;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=Vc(this.defaults,e);const n=Xj(e.baseURL,e.url,e.allowAbsoluteUrls);return Kj(n,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){Cc.prototype[e]=function(n,r){return this.request(Vc(r||{},{method:e,url:n,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(Vc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Cc.prototype[e]=n(),Cc.prototype[e+"Form"]=n(!0)});let JJ=class s3{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Ch(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new s3(function(s){e=s}),cancel:e}}};function eee(t){return function(n){return t.apply(null,n)}}function tee(t){return re.isObject(t)&&t.isAxiosError===!0}const gE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gE).forEach(([t,e])=>{gE[e]=t});function i3(t){const e=new Cc(t),n=Lj(Cc.prototype.request,e);return re.extend(n,Cc.prototype,e,{allOwnKeys:!0}),re.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return i3(Vc(t,s))},n}const lt=i3(xm);lt.Axios=Cc;lt.CanceledError=Ch;lt.CancelToken=JJ;lt.isCancel=Yj;lt.VERSION=r3;lt.toFormData=Iv;lt.AxiosError=nt;lt.Cancel=lt.CanceledError;lt.all=function(e){return Promise.all(e)};lt.spread=eee;lt.isAxiosError=tee;lt.mergeConfig=Vc;lt.AxiosHeaders=xs;lt.formToJSON=t=>Qj(re.isHTMLForm(t)?new FormData(t):t);lt.getAdapter=n3.getAdapter;lt.HttpStatusCode=gE;lt.default=lt;const{Axios:qde,AxiosError:Kde,CanceledError:Gde,isCancel:Qde,CancelToken:Yde,VERSION:Zde,all:Xde,Cancel:Jde,isAxiosError:ehe,spread:the,toFormData:nhe,AxiosHeaders:rhe,HttpStatusCode:she,formToJSON:ihe,getAdapter:ohe,mergeConfig:ahe}=lt,nee="/api",lf=lt.create({baseURL:nee,headers:{"Content-Type":"application/json"}}),Lx=t=>{var e,n,r,s,i,o,a,l,c,u;return{...t,id:t.id,tokenMetadata:{name:((e=t.tokenMetadata)==null?void 0:e.name)||t.tokenName||"Unknown Token",symbol:((n=t.tokenMetadata)==null?void 0:n.symbol)||t.tokenSymbol||"UNKNOWN",description:((r=t.tokenMetadata)==null?void 0:r.description)||t.description||"",image:((s=t.tokenMetadata)==null?void 0:s.image)||t.logoUrl||"",verified:((i=t.tokenMetadata)==null?void 0:i.verified)||!1},logoUrl:t.logoUrl||((o=t.tokenMetadata)==null?void 0:o.image)||"/placeholder-token.png",tokenLogoUrl:t.tokenLogoUrl||t.logoUrl||((a=t.tokenMetadata)==null?void 0:a.image)||"/placeholder-token.png",bannerUrl:t.bannerUrl||"/placeholder-banner.jpg",contractAddress:t.contractAddress||t.tokenAddress,tokenAddress:t.contractAddress||t.tokenAddress,creatorAddress:t.createdBy||t.creatorAddress,contributorCount:t.contributorCount||0,socialLinks:t.socialLinks||{},postFundingAction:t.postFundingAction||{type:"none"},trending:t.trending||!1,featured:t.featured||!1,createdAt:(l=t.createdAt)!=null&&l._seconds?new Date(t.createdAt._seconds*1e3):new Date(t.createdAt),updatedAt:(c=t.updatedAt)!=null&&c._seconds?new Date(t.updatedAt._seconds*1e3):new Date(t.updatedAt),deadline:(u=t.deadline)!=null&&u._seconds?new Date(t.deadline._seconds*1e3):new Date(t.deadline)}},lh={create:async t=>{const e=await lf.post("/campaigns",t);return e.data.success&&e.data.campaign&&(e.data.campaign=Lx(e.data.campaign)),e.data},list:async t=>{const e=await lf.get("/campaigns",{params:t});return e.data.success&&e.data.campaigns&&(e.data.campaigns=e.data.campaigns.map(Lx)),e.data},get:async t=>{const e=await lf.get(`/campaigns/${t}`);return e.data.success&&e.data.campaign&&(e.data.campaign=Lx(e.data.campaign)),e.data},getContributions:async t=>(await lf.get(`/campaigns/${t}/contributions`)).data,contribute:async(t,e)=>(await lf.post(`/campaigns/${t}/contribute`,e)).data};function ree(){var i,o;const[,t]=Jp(),{data:e}=To({queryKey:["campaigns-stats"],queryFn:()=>lh.list({status:"active"})}),n=((i=e==null?void 0:e.campaigns)==null?void 0:i.length)||0,r=((o=e==null?void 0:e.campaigns)==null?void 0:o.reduce((a,l)=>a+l.currentAmount,0))||0,s=[{label:"Active Campaigns",value:n.toString(),icon:rT},{label:"Total Raised",value:r>0?`$${(r/1e3).toFixed(1)}K`:"$0",icon:nT},{label:"Contributors",value:"0",icon:Ww}];return d.jsxs("section",{className:"relative overflow-hidden bg-dark-radial min-h-screen flex items-center pt-20 pb-20",children:[d.jsx("div",{className:"absolute inset-0 grid-pattern opacity-10"}),d.jsx("div",{className:"absolute top-20 left-1/4 w-72 h-72 bg-purple-600/15 rounded-full blur-3xl"}),d.jsx("div",{className:"absolute bottom-20 right-1/4 w-72 h-72 bg-pink-600/15 rounded-full blur-3xl"}),d.jsx("div",{className:"container mx-auto px-6 relative z-10 max-w-7xl",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[d.jsxs("div",{className:"space-y-10",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"inline-flex items-center px-5 py-3 rounded-full bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30 text-purple-300 text-sm font-medium backdrop-blur-sm",children:[d.jsx(dl,{className:"w-4 h-4 mr-2"}),"Community Crowdfunding Platform"]}),d.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-black leading-tight",children:[d.jsx("span",{className:"block text-white mb-2",children:"Fund Your Token's"}),d.jsx("span",{className:"block animated-gradient bg-clip-text text-transparent",children:"DexScreener Success"})]}),d.jsx("p",{className:"text-xl md:text-2xl text-gray-400 leading-relaxed max-w-xl",children:"Join the decentralized crowdfunding platform that helps Solana tokens get Enhanced Info, advertising, and boosts on DexScreener through community support."})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[d.jsxs("button",{className:"btn-dark-primary group text-lg px-8 py-4",onClick:()=>t("/campaigns"),children:["Browse Campaigns",d.jsx(pO,{className:"ml-3 h-6 w-6 inline transition-transform group-hover:translate-x-2"})]}),d.jsx("button",{className:"btn-dark-secondary text-lg px-8 py-4",onClick:()=>t("/create-campaign"),children:"Start a Campaign"})]}),d.jsx("div",{className:"grid grid-cols-3 gap-8 pt-12 mt-12 border-t border-gray-800",children:s.map(a=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:a.value}),d.jsx("div",{className:"text-base text-gray-400",children:a.label})]},a.label))})]}),d.jsx("div",{className:"relative lg:ml-16 mt-12 lg:mt-0",children:d.jsxs("div",{className:"relative max-w-lg mx-auto",children:[d.jsx("div",{className:"absolute -top-8 -left-8 card-dark p-6 hover-lift-dark z-20",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-600/20 to-emerald-600/20 flex items-center justify-center backdrop-blur-sm",children:d.jsx(sm,{className:"w-6 h-6 text-green-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-base font-semibold text-white",children:"Enhanced Info"}),d.jsx("p",{className:"text-sm text-gray-400",children:"$299 Target"})]})]})}),d.jsx("div",{className:"absolute -bottom-8 -right-8 card-dark p-6 hover-lift-dark z-20",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600/20 to-pink-600/20 flex items-center justify-center backdrop-blur-sm",children:d.jsx(mO,{className:"w-6 h-6 text-purple-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-base font-semibold text-white",children:"Token Boosted"}),d.jsx("p",{className:"text-sm text-gray-400",children:"+450% Visibility"})]})]})}),d.jsx("div",{className:"card-dark p-10 glow-purple relative z-10",children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-white",children:"Example Campaign"}),d.jsx("p",{className:"text-base text-gray-400 mt-1",children:"Enhanced Token Info"})]}),d.jsx("div",{className:"badge-dark badge-dark-active px-4 py-2",children:"Active"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between text-base",children:[d.jsx("span",{className:"text-gray-400",children:"Progress"}),d.jsx("span",{className:"font-bold text-white text-xl",children:"$0 / $299"})]}),d.jsx("div",{className:"progress-dark",children:d.jsx("div",{className:"progress-dark-bar",style:{width:"0%"}})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-6 border-t border-gray-800",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"0"}),d.jsx("p",{className:"text-base text-gray-400 mt-2",children:"Contributors"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"30d"}),d.jsx("p",{className:"text-base text-gray-400 mt-2",children:"Time Left"})]})]}),d.jsx("button",{className:"w-full btn-dark-primary text-lg py-4 mt-8",children:"View Campaign"})]})})]})})]})})]})}const see=[{icon:rT,title:"Enhanced Token Info",description:"Get your token verified with enhanced information on DexScreener for increased visibility and trust.",gradient:"from-purple-500 to-indigo-600"},{icon:dl,title:"Token Boosts",description:"Boost your token's ranking on DexScreener to reach more traders and increase exposure.",gradient:"from-yellow-500 to-orange-600"},{icon:sm,title:"Secure Escrow",description:"All funds are held in secure escrow wallets until campaign goals are met, ensuring transparency.",gradient:"from-green-500 to-emerald-600"},{icon:Ww,title:"Community Powered",description:"Rally your community to crowdfund DexScreener services together, making premium features accessible.",gradient:"from-blue-500 to-cyan-600"},{icon:Lz,title:"Real-time Tracking",description:"Monitor campaign progress in real-time with transparent contribution tracking and updates.",gradient:"from-pink-500 to-rose-600"},{icon:wO,title:"Instant Activation",description:"Services are automatically purchased and activated once funding goals are reached.",gradient:"from-indigo-500 to-purple-600"}];function iee(){return d.jsx("section",{className:"py-24 bg-dark-gradient",children:d.jsxs("div",{className:"container mx-auto px-6",children:[d.jsxs("div",{className:"text-center space-y-6 mb-20",children:[d.jsxs("h2",{className:"heading-dark-1",children:["Everything You Need to",d.jsx("span",{className:"block bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Boost Your Token"})]}),d.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto leading-relaxed",children:"Leverage the power of community crowdfunding to unlock premium DexScreener features for your token"})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:see.map((t,e)=>{const n=t.icon;return d.jsx("div",{className:"card-dark hover:scale-105 transition-all duration-300 group",children:d.jsxs("div",{className:"p-8 space-y-6",children:[d.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-r ${t.gradient} flex items-center justify-center shadow-lg`,children:d.jsx(n,{className:"w-8 h-8 text-white"})}),d.jsx("h3",{className:"text-2xl font-bold text-white group-hover:text-purple-300 transition-colors",children:t.title}),d.jsx("p",{className:"text-gray-400 leading-relaxed text-lg",children:t.description})]})},e)})})]})})}function oee(){const t=()=>{console.log("Get started clicked")},e=()=>{console.log("Learn more clicked")};return d.jsx("section",{className:"py-20 bg-dark-gradient",children:d.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:d.jsxs("div",{className:"space-y-8",children:[d.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white",children:"Ready to Transform DeFi Funding?"}),d.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Join thousands of innovators and investors building the future of decentralized finance through our crowdfunding platform."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsxs("button",{onClick:t,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl font-semibold hover:from-purple-700 hover:to-indigo-700 transition-all duration-200 shadow-xl flex items-center justify-center",children:[d.jsx(pO,{className:"mr-2",size:18}),"Get Started Today"]}),d.jsxs("button",{onClick:e,className:"px-8 py-4 border-2 border-purple-500 text-purple-400 rounded-xl font-semibold hover:bg-purple-500 hover:text-white transition-all duration-200 flex items-center justify-center",children:[d.jsx(Oz,{className:"mr-2",size:18}),"Learn More"]})]})]})})})}var o3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tk=ce.createContext&&ce.createContext(o3),aee=["attr","size","title"];function lee(t,e){if(t==null)return{};var n=cee(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(this,arguments)}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){uee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uee(t,e,n){return e=dee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dee(t){var e=hee(t,"string");return typeof e=="symbol"?e:e+""}function hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a3(t){return t&&t.map((e,n)=>ce.createElement(e.tag,qy({key:n},e.attr),a3(e.child)))}function Cv(t){return e=>ce.createElement(fee,Hy({attr:qy({},t.attr)},e),a3(t.child))}function fee(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=lee(t,aee),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ce.createElement("svg",Hy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:qy(qy({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&ce.createElement("title",null,i),t.children)};return tk!==void 0?ce.createElement(tk.Consumer,null,n=>e(n)):e(o3)}function pee(t){return Cv({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(t)}function mee(t){return Cv({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function gee(t){return Cv({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(t)}function yee(t){return Cv({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function l3(){return d.jsx("footer",{className:"bg-gray-800 text-white py-16",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-crypto rounded-lg flex items-center justify-center",children:d.jsx(tT,{className:"text-white text-sm",size:16})}),d.jsx("span",{className:"text-xl font-bold",children:"Wendex"})]}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"The leading DexScreener-integrated crowdfunding platform for innovative DeFi projects and their supporters."}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(yee,{size:20})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(pee,{size:20})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(gee,{size:20})}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(mee,{size:20})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Platform"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Browse Projects"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Submit Project"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Analytics"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Governance"})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Resources"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Documentation"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"API Reference"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Smart Contracts"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Security"})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Company"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"About Us"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Careers"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Press Kit"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})})]})]})]}),d.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-6 mt-12",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("div",{className:"text-red-400 mt-1",children:"⚠️"}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-red-400 font-bold text-lg mb-2",children:"IMPORTANT LEGAL DISCLAIMER"}),d.jsxs("div",{className:"text-gray-300 text-sm space-y-2 leading-relaxed",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"NO REFUNDS:"})," All contributions are final and non-refundable. We do not provide refunds under any circumstances, regardless of campaign success or failure."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"PUMP.FUN RISKS:"})," If campaigns reach their target but tokens fail to graduate from Pump.fun to Raydium, NO services will be provided and NO refunds issued."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"PLATFORM USE:"})," Only use official contribute buttons. Direct wallet transfers are not supported and will result in permanent loss of funds."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"NO GUARANTEES:"})," We provide no guarantees about token performance, campaign success, or service delivery. Invest only what you can afford to lose completely."]})]})]})]})}),d.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[d.jsx("p",{className:"text-gray-400 text-sm",children:"© 2024 Wendex. All rights reserved."}),d.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),d.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookie Policy"})]})]})]})})}function wee(){return d.jsxs("div",{className:"min-h-screen bg-dark-gradient",children:[d.jsx("div",{className:"bg-red-600 text-white py-2 px-4",children:d.jsx("div",{className:"max-w-7xl mx-auto text-center",children:d.jsxs("p",{className:"text-sm font-medium",children:["⚠️ ",d.jsx("strong",{children:"IMPORTANT:"})," All contributions are FINAL and NON-REFUNDABLE. No refunds provided under any circumstances. Read full disclaimer before contributing."]})})}),d.jsx(Oj,{}),d.jsx(ree,{}),d.jsx(iee,{}),d.jsx(oee,{}),d.jsx(l3,{})]})}const ur=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ur.displayName="Card";const jr=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("flex flex-col space-y-1.5 p-6",t),...e}));jr.displayName="CardHeader";const Br=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("text-2xl font-semibold leading-none tracking-tight",t),...e}));Br.displayName="CardTitle";const vee=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("text-sm text-muted-foreground",t),...e}));vee.displayName="CardDescription";const dr=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("p-6 pt-0",t),...e}));dr.displayName="CardContent";const xee=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:We("flex items-center p-6 pt-0",t),...e}));xee.displayName="CardFooter";function _ee(){return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:d.jsx(ur,{className:"w-full max-w-md mx-4",children:d.jsxs(dr,{className:"pt-6",children:[d.jsxs("div",{className:"flex mb-4 gap-2",children:[d.jsx(vf,{className:"h-8 w-8 text-red-500"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),d.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function as(t){try{if(!t)return new Date;if(t&&typeof t=="object"&&"toDate"in t&&typeof t.toDate=="function"){const e=t.toDate();return cf(e)?e:new Date}if(t&&typeof t=="object"&&"seconds"in t){const e=new Date(t.seconds*1e3+(t.nanoseconds||0)/1e6);return cf(e)?e:new Date}if(t instanceof Date)return cf(t)?t:new Date;if(typeof t=="number"){const e=t>1e10?new Date(t):new Date(t*1e3);return cf(e)?e:new Date}if(typeof t=="string"){const e=new Date(t);return cf(e)?e:new Date}return new Date}catch(e){return console.warn("Timestamp conversion error:",e,"Input:",t),new Date}}function cf(t){return t instanceof Date&&!isNaN(t.getTime())}function bee(t,e={}){try{const n=as(t),r={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",...e};return n.toLocaleDateString("en-US",r)}catch(n){return console.warn("Timestamp formatting error:",n),"Invalid Date"}}function Eee(t){try{const e=as(t),n=new Date,r=e.getTime()-n.getTime();if(r<=0)return"Expired";const s=Math.floor(r/1e3),i=Math.floor(s/60),o=Math.floor(i/60),a=Math.floor(o/24);return a>0?`${a} day${a===1?"":"s"} left`:o>0?`${o} hour${o===1?"":"s"} left`:i>0?`${i} minute${i===1?"":"s"} left`:`${s} second${s===1?"":"s"} left`}catch(e){return console.warn("Time remaining calculation error:",e),"Unknown"}}function See(t){try{const e=as(t),n=new Date,r=e.getTime()-n.getTime(),s=r<=0,i=bee(e,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),o=Eee(t);let a="low";if(s)a="high";else{const l=Math.floor(r/864e5);l<=1?a="high":l<=7&&(a="medium")}return{formatted:i,timeRemaining:o,isExpired:s,urgency:a}}catch(e){return console.warn("Campaign deadline formatting error:",e),{formatted:"Invalid Date",timeRemaining:"Unknown",isExpired:!0,urgency:"high"}}}const Dx=({campaign:t,featured:e=!1,showStats:n=!0,size:r="medium",interactive:s=!0,onLike:i,onShare:o,className:a=""})=>{var b,x,S;const[,l]=Jp(),[c,u]=k.useState(!1),[f,p]=k.useState(!1),m=k.useMemo(()=>{const D=Math.min(t.currentAmount/t.targetAmount*100,100),F=See(t.deadline||t.createdAt),M=F.isExpired,R=F.timeRemaining;return{progress:D,isExpired:M,timeRemaining:R,urgency:F.urgency,isNearlyFunded:D>=80,isFunded:D>=100,fundingVelocity:t.currentAmount/Math.max(1,Math.floor((Date.now()-new Date(t.createdAt).getTime())/(24*60*60*1e3)))}},[t]),v=k.useMemo(()=>{var F;switch(((F=t.postFundingAction)==null?void 0:F.type)||"none"){case"boosts":return{icon:dl,color:"from-yellow-500 to-orange-600",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",label:"With Boosts"};case"advertising":return{icon:Qz,color:"from-purple-500 to-indigo-600",bgColor:"bg-purple-500/20",textColor:"text-purple-400",label:"With Advertising"};default:return{icon:sm,color:"from-green-500 to-emerald-600",bgColor:"bg-green-500/20",textColor:"text-green-400",label:"Enhanced Info"}}},[(b=t.postFundingAction)==null?void 0:b.type]),g=k.useMemo(()=>{switch(r){case"small":return{cardHeight:"h-full min-h-[320px]",bannerHeight:"h-24",logoSize:"w-12 h-12",titleSize:"text-base",descriptionLines:"line-clamp-2",padding:"p-4"};case"large":return{cardHeight:"h-full min-h-[420px]",bannerHeight:"h-32",logoSize:"w-16 h-16",titleSize:"text-xl",descriptionLines:"line-clamp-3",padding:"p-6"};default:return{cardHeight:"h-full min-h-[380px]",bannerHeight:"h-28",logoSize:"w-14 h-14",titleSize:"text-lg",descriptionLines:"line-clamp-2",padding:"p-4"}}},[r]),w=k.useMemo(()=>m.isFunded?{label:"Funded",variant:"default",className:"bg-green-500 text-white"}:m.isExpired?{label:"Expired",variant:"destructive",className:"bg-red-500 text-white"}:t.status==="processing"?{label:"Processing",variant:"secondary",className:"bg-blue-500 text-white"}:{label:"Active",variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500/50"},[m,t.status]),_=k.useCallback(D=>{if(!s)return;const F=D.target;F.closest("button")||F.closest('[role="button"]')||l(`/campaign/${t.id}`)},[s,l,t.id]);return k.useCallback(D=>{D.stopPropagation(),u(!c),i==null||i(t.id)},[c,i,t.id]),k.useCallback(D=>{D.stopPropagation(),o==null||o(t)},[o,t]),v.icon,d.jsxs("div",{className:`
        ${g.cardHeight} 
        bg-gray-900 border border-gray-800 rounded-2xl overflow-hidden
        ${e?"ring-2 ring-purple-500":""}
        ${s?"cursor-pointer hover:scale-105 hover:shadow-2xl hover:border-purple-500/50":""}
        transition-all duration-300 group shadow-xl
        ${a}
      `,onClick:_,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[d.jsx("div",{className:"absolute top-4 right-4 z-20",children:d.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${t.status==="active"?"bg-green-500 text-white":t.status==="funded"?"bg-blue-500 text-white":"bg-red-500 text-white"}`,children:w.label})}),d.jsx("div",{className:"h-32 bg-gradient-to-r from-purple-600 to-indigo-600 relative",children:t.bannerUrl&&t.bannerUrl!=="/placeholder-banner.jpg"?d.jsx("img",{src:t.bannerUrl,alt:`${t.tokenMetadata.name} banner`,className:"w-full h-full object-cover opacity-90",onError:D=>{D.currentTarget.style.display="none"}}):null}),d.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-4 mb-4 -mt-8 relative z-10",children:[d.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-gray-900 shadow-2xl bg-gradient-to-r from-purple-500 to-indigo-600 flex items-center justify-center overflow-hidden",children:t.logoUrl&&t.logoUrl!=="/placeholder-token.png"?d.jsx("img",{src:t.logoUrl,alt:t.tokenMetadata.name,className:"w-full h-full object-cover",onError:D=>{D.currentTarget.style.display="none"}}):d.jsx("div",{className:"text-white font-bold text-2xl",children:((x=t.tokenMetadata.symbol)==null?void 0:x.slice(0,2))||"TK"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-1 truncate",children:((S=t.tokenMetadata)==null?void 0:S.name)||t.tokenName||"Unknown Token"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("span",{className:"px-2 py-1 bg-purple-600 text-white text-sm font-medium rounded",children:["$",t.tokenMetadata.symbol]}),t.tokenMetadata.verified&&d.jsx(xf,{className:"w-4 h-4 text-blue-400"})]})]})]}),d.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:t.description}),d.jsxs("div",{className:"space-y-3 mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("span",{className:"text-2xl font-bold text-white",children:["$",t.currentAmount.toFixed(0)]}),d.jsxs("span",{className:"text-gray-400",children:["of $",t.targetAmount.toFixed(0)]})]}),d.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2",children:d.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(m.progress,100)}%`}})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-bold text-white",children:t.contributorCount||0}),d.jsx("div",{className:"text-xs text-gray-500",children:"Contributors"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-sm font-bold text-purple-400",children:[m.progress.toFixed(0),"%"]}),d.jsx("div",{className:"text-xs text-gray-500",children:"Funded"})]}),d.jsxs("div",{children:[d.jsx("div",{className:`text-sm font-bold ${m.urgency==="high"?"text-red-400":m.urgency==="medium"?"text-yellow-400":"text-green-400"}`,children:m.timeRemaining.split(" ")[0]}),d.jsx("div",{className:"text-xs text-gray-500",children:"Days Left"})]})]})]}),d.jsx("div",{className:"flex-1"}),d.jsx("button",{className:`w-full py-3 rounded-xl font-semibold transition-all duration-200 ${m.isFunded?"bg-green-600 hover:bg-green-700 text-white":m.isExpired?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white hover:scale-105"}`,disabled:m.isExpired,onClick:D=>{D.stopPropagation(),l(`/campaign/${t.id}`)},children:m.isFunded?"View Campaign":m.isExpired?"Expired":"Contribute Now"})]})]})};function rk(t,[e,n]){return Math.min(n,Math.max(e,t))}var Tee=k.createContext(void 0);function eI(t){const e=k.useContext(Tee);return t||e||"ltr"}var jx=0;function c3(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sk()),document.body.insertAdjacentElement("beforeend",t[1]??sk()),jx++,()=>{jx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jx--}},[])}function sk(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Bx="focusScope.autoFocusOnMount",Fx="focusScope.autoFocusOnUnmount",ik={bubbles:!1,cancelable:!0},Iee="FocusScope",tI=k.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=k.useState(null),c=ti(s),u=ti(i),f=k.useRef(null),p=Dt(e,g=>l(g)),m=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(r){let g=function(x){if(m.paused||!a)return;const S=x.target;a.contains(S)?f.current=S:Ea(f.current,{select:!0})},w=function(x){if(m.paused||!a)return;const S=x.relatedTarget;S!==null&&(a.contains(S)||Ea(f.current,{select:!0}))},_=function(x){if(document.activeElement===document.body)for(const D of x)D.removedNodes.length>0&&Ea(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const b=new MutationObserver(_);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),b.disconnect()}}},[r,a,m.paused]),k.useEffect(()=>{if(a){ak.add(m);const g=document.activeElement;if(!a.contains(g)){const _=new CustomEvent(Bx,ik);a.addEventListener(Bx,c),a.dispatchEvent(_),_.defaultPrevented||(Aee(Mee(u3(a)),{select:!0}),document.activeElement===g&&Ea(a))}return()=>{a.removeEventListener(Bx,c),setTimeout(()=>{const _=new CustomEvent(Fx,ik);a.addEventListener(Fx,u),a.dispatchEvent(_),_.defaultPrevented||Ea(g??document.body,{select:!0}),a.removeEventListener(Fx,u),ak.remove(m)},0)}}},[a,c,u,m]);const v=k.useCallback(g=>{if(!n&&!r||m.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(w&&_){const b=g.currentTarget,[x,S]=Nee(b);x&&S?!g.shiftKey&&_===S?(g.preventDefault(),n&&Ea(x,{select:!0})):g.shiftKey&&_===x&&(g.preventDefault(),n&&Ea(S,{select:!0})):_===b&&g.preventDefault()}},[n,r,m.paused]);return d.jsx(Je.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});tI.displayName=Iee;function Aee(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ea(r,{select:e}),document.activeElement!==n)return}function Nee(t){const e=u3(t),n=ok(e,t),r=ok(e.reverse(),t);return[n,r]}function u3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ok(t,e){for(const n of t)if(!Cee(n,{upTo:e}))return n}function Cee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function kee(t){return t instanceof HTMLInputElement&&"select"in t}function Ea(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&kee(t)&&e&&t.select()}}var ak=Ree();function Ree(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=lk(t,e),t.unshift(e)},remove(e){var n;t=lk(t,e),(n=t[0])==null||n.resume()}}}function lk(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Mee(t){return t.filter(e=>e.tagName!=="A")}function d3(t){const e=k.useRef({value:t,previous:t});return k.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Pee=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Cu=new WeakMap,Og=new WeakMap,Lg={},Ux=0,h3=function(t){return t&&(t.host||h3(t.parentNode))},Oee=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=h3(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Lee=function(t,e,n,r){var s=Oee(e,Array.isArray(t)?t:[t]);Lg[n]||(Lg[n]=new WeakMap);var i=Lg[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))u(p);else try{var m=p.getAttribute(r),v=m!==null&&m!=="false",g=(Cu.get(p)||0)+1,w=(i.get(p)||0)+1;Cu.set(p,g),i.set(p,w),o.push(p),g===1&&v&&Og.set(p,!0),w===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return u(e),a.clear(),Ux++,function(){o.forEach(function(f){var p=Cu.get(f)-1,m=i.get(f)-1;Cu.set(f,p),i.set(f,m),p||(Og.has(f)||f.removeAttribute(r),Og.delete(f)),m||f.removeAttribute(n)}),Ux--,Ux||(Cu=new WeakMap,Cu=new WeakMap,Og=new WeakMap,Lg={})}},f3=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Pee(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Lee(r,s,n,"aria-hidden")):function(){return null}},Fi=function(){return Fi=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fi.apply(this,arguments)};function _m(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Dee(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var R0="right-scroll-bar-position",M0="width-before-scroll-bar",jee="with-scroll-bars-hidden",Bee="--removed-body-scroll-bar-size";function Vx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Fee(t,e){var n=k.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Uee=typeof window<"u"?k.useLayoutEffect:k.useEffect,ck=new WeakMap;function Vee(t,e){var n=Fee(null,function(r){return t.forEach(function(s){return Vx(s,r)})});return Uee(function(){var r=ck.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Vx(a,null)}),i.forEach(function(a){s.has(a)||Vx(a,o)})}ck.set(n,t)},[t]),n}function zee(t){return t}function Wee(t,e){e===void 0&&(e=zee);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function $ee(t){t===void 0&&(t={});var e=Wee(null);return e.options=Fi({async:!0,ssr:!1},t),e}var p3=function(t){var e=t.sideCar,n=_m(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,Fi({},n))};p3.isSideCarExport=!0;function Hee(t,e){return t.useMedium(e),p3}var m3=$ee(),zx=function(){},kv=k.forwardRef(function(t,e){var n=k.useRef(null),r=k.useState({onScrollCapture:zx,onWheelCapture:zx,onTouchMoveCapture:zx}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,p=t.sideCar,m=t.noRelative,v=t.noIsolation,g=t.inert,w=t.allowPinchZoom,_=t.as,b=_===void 0?"div":_,x=t.gapMode,S=_m(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=p,F=Vee([n,e]),M=Fi(Fi({},S),s);return k.createElement(k.Fragment,null,u&&k.createElement(D,{sideCar:m3,removeScrollBar:c,shards:f,noRelative:m,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:x}),o?k.cloneElement(k.Children.only(a),Fi(Fi({},M),{ref:F})):k.createElement(b,Fi({},M,{className:l,ref:F}),a))});kv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kv.classNames={fullWidth:M0,zeroRight:R0};var qee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Kee(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=qee();return e&&t.setAttribute("nonce",e),t}function Gee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Qee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Yee=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Kee())&&(Gee(e,n),Qee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Zee=function(){var t=Yee();return function(e,n){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},g3=function(){var t=Zee(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Xee={left:0,top:0,right:0,gap:0},Wx=function(t){return parseInt(t||"",10)||0},Jee=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Wx(n),Wx(r),Wx(s)]},ete=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Xee;var e=Jee(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},tte=g3(),bd="data-scroll-locked",nte=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(jee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(bd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(R0,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(M0,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(R0," .").concat(R0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(M0," .").concat(M0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bd,`] {
    `).concat(Bee,": ").concat(a,`px;
  }
`)},uk=function(){var t=parseInt(document.body.getAttribute(bd)||"0",10);return isFinite(t)?t:0},rte=function(){k.useEffect(function(){return document.body.setAttribute(bd,(uk()+1).toString()),function(){var t=uk()-1;t<=0?document.body.removeAttribute(bd):document.body.setAttribute(bd,t.toString())}},[])},ste=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;rte();var i=k.useMemo(function(){return ete(s)},[s]);return k.createElement(tte,{styles:nte(i,!e,s,n?"":"!important")})},yE=!1;if(typeof window<"u")try{var Dg=Object.defineProperty({},"passive",{get:function(){return yE=!0,!0}});window.addEventListener("test",Dg,Dg),window.removeEventListener("test",Dg,Dg)}catch{yE=!1}var ku=yE?{passive:!1}:!1,ite=function(t){return t.tagName==="TEXTAREA"},y3=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!ite(t)&&n[e]==="visible")},ote=function(t){return y3(t,"overflowY")},ate=function(t){return y3(t,"overflowX")},dk=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=w3(t,r);if(s){var i=v3(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},lte=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},cte=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},w3=function(t,e){return t==="v"?ote(e):ate(e)},v3=function(t,e){return t==="v"?lte(e):cte(e)},ute=function(t,e){return t==="h"&&e==="rtl"?-1:1},dte=function(t,e,n,r,s){var i=ute(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,f=0,p=0;do{var m=v3(t,a),v=m[0],g=m[1],w=m[2],_=g-w-i*v;(v||_)&&w3(t,a)&&(f+=_,p+=v),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(f)<1||!u&&Math.abs(p)<1)&&(c=!0),c},jg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hk=function(t){return[t.deltaX,t.deltaY]},fk=function(t){return t&&"current"in t?t.current:t},hte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pte=0,Ru=[];function mte(t){var e=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),s=k.useState(pte++)[0],i=k.useState(g3)[0],o=k.useRef(t);k.useEffect(function(){o.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Dee([t.lockRef.current],(t.shards||[]).map(fk),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=k.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var _=jg(g),b=n.current,x="deltaX"in g?g.deltaX:b[0]-_[0],S="deltaY"in g?g.deltaY:b[1]-_[1],D,F=g.target,M=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in g&&M==="h"&&F.type==="range")return!1;var R=dk(M,F);if(!R)return!0;if(R?D=M:(D=M==="v"?"h":"v",R=dk(M,F)),!R)return!1;if(!r.current&&"changedTouches"in g&&(x||S)&&(r.current=D),!D)return!0;var U=r.current||D;return dte(U,w,g,U==="h"?x:S)},[]),l=k.useCallback(function(g){var w=g;if(!(!Ru.length||Ru[Ru.length-1]!==i)){var _="deltaY"in w?hk(w):jg(w),b=e.current.filter(function(D){return D.name===w.type&&(D.target===w.target||w.target===D.shadowParent)&&hte(D.delta,_)})[0];if(b&&b.should){w.cancelable&&w.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(fk).filter(Boolean).filter(function(D){return D.contains(w.target)}),S=x.length>0?a(w,x[0]):!o.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),c=k.useCallback(function(g,w,_,b){var x={name:g,delta:w,target:_,should:b,shadowParent:gte(_)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(S){return S!==x})},1)},[]),u=k.useCallback(function(g){n.current=jg(g),r.current=void 0},[]),f=k.useCallback(function(g){c(g.type,hk(g),g.target,a(g,t.lockRef.current))},[]),p=k.useCallback(function(g){c(g.type,jg(g),g.target,a(g,t.lockRef.current))},[]);k.useEffect(function(){return Ru.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ku),document.addEventListener("touchmove",l,ku),document.addEventListener("touchstart",u,ku),function(){Ru=Ru.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,ku),document.removeEventListener("touchmove",l,ku),document.removeEventListener("touchstart",u,ku)}},[]);var m=t.removeScrollBar,v=t.inert;return k.createElement(k.Fragment,null,v?k.createElement(i,{styles:fte(s)}):null,m?k.createElement(ste,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function gte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const yte=Hee(m3,mte);var nI=k.forwardRef(function(t,e){return k.createElement(kv,Fi({},t,{ref:e,sideCar:yte}))});nI.classNames=kv.classNames;var wte=[" ","Enter","ArrowUp","ArrowDown"],vte=[" ","Enter"],zc="Select",[Rv,Mv,xte]=ZS(zc),[kh,lhe]=eo(zc,[xte,Kw]),Pv=Kw(),[_te,Ll]=kh(zc),[bte,Ete]=kh(zc),x3=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:p,required:m,form:v}=t,g=Pv(e),[w,_]=k.useState(null),[b,x]=k.useState(null),[S,D]=k.useState(!1),F=eI(c),[M,R]=Fc({prop:r,defaultProp:s??!1,onChange:i,caller:zc}),[U,W]=Fc({prop:o,defaultProp:a,onChange:l,caller:zc}),$=k.useRef(null),q=w?v||!!w.closest("form"):!0,[N,y]=k.useState(new Set),I=Array.from(N).map(O=>O.props.value).join(";");return d.jsx(FW,{...g,children:d.jsxs(_te,{required:m,scope:e,trigger:w,onTriggerChange:_,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:S,onValueNodeHasChildrenChange:D,contentId:hl(),value:U,onValueChange:W,open:M,onOpenChange:R,dir:F,triggerPointerDownPosRef:$,disabled:p,children:[d.jsx(Rv.Provider,{scope:e,children:d.jsx(bte,{scope:t.__scopeSelect,onNativeOptionAdd:k.useCallback(O=>{y(z=>new Set(z).add(O))},[]),onNativeOptionRemove:k.useCallback(O=>{y(z=>{const L=new Set(z);return L.delete(O),L})},[]),children:n})}),q?d.jsxs($3,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:U,onChange:O=>W(O.target.value),disabled:p,form:v,children:[U===void 0?d.jsx("option",{value:""}):null,Array.from(N)]},I):null]})})};x3.displayName=zc;var _3="SelectTrigger",b3=k.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Pv(n),o=Ll(_3,n),a=o.disabled||r,l=Dt(e,o.onTriggerChange),c=Mv(n),u=k.useRef("touch"),[f,p,m]=q3(g=>{const w=c().filter(x=>!x.disabled),_=w.find(x=>x.value===o.value),b=K3(w,g,_);b!==void 0&&o.onValueChange(b.value)}),v=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return d.jsx(ZO,{asChild:!0,...i,children:d.jsx(Je.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":H3(o.value)?"":void 0,...s,ref:l,onClick:Ve(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&v(g)}),onPointerDown:Ve(s.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Ve(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(w&&g.key===" ")&&wte.includes(g.key)&&(v(),g.preventDefault())})})})});b3.displayName=_3;var E3="SelectValue",S3=k.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Ll(E3,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,f=Dt(e,l.onValueNodeChange);return Sr(()=>{c(u)},[c,u]),d.jsx(Je.span,{...a,ref:f,style:{pointerEvents:"none"},children:H3(l.value)?d.jsx(d.Fragment,{children:o}):i})});S3.displayName=E3;var Ste="SelectIcon",T3=k.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(Je.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});T3.displayName=Ste;var Tte="SelectPortal",I3=t=>d.jsx(Uw,{asChild:!0,...t});I3.displayName=Tte;var Wc="SelectContent",A3=k.forwardRef((t,e)=>{const n=Ll(Wc,t.__scopeSelect),[r,s]=k.useState();if(Sr(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Pl.createPortal(d.jsx(N3,{scope:t.__scopeSelect,children:d.jsx(Rv.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(C3,{...t,ref:e})});A3.displayName=Wc;var ai=10,[N3,Dl]=kh(Wc),Ite="SelectContentImpl",Ate=Yd("SelectContent.RemoveScroll"),C3=k.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:w,..._}=t,b=Ll(Wc,n),[x,S]=k.useState(null),[D,F]=k.useState(null),M=Dt(e,le=>S(le)),[R,U]=k.useState(null),[W,$]=k.useState(null),q=Mv(n),[N,y]=k.useState(!1),I=k.useRef(!1);k.useEffect(()=>{if(x)return f3(x)},[x]),c3();const O=k.useCallback(le=>{const[ye,...Te]=q().map(_e=>_e.ref.current),[Re]=Te.slice(-1),Ee=document.activeElement;for(const _e of le)if(_e===Ee||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===ye&&D&&(D.scrollTop=0),_e===Re&&D&&(D.scrollTop=D.scrollHeight),_e==null||_e.focus(),document.activeElement!==Ee))return},[q,D]),z=k.useCallback(()=>O([R,x]),[O,R,x]);k.useEffect(()=>{N&&z()},[N,z]);const{onOpenChange:L,triggerPointerDownPosRef:j}=b;k.useEffect(()=>{if(x){let le={x:0,y:0};const ye=Re=>{var Ee,_e;le={x:Math.abs(Math.round(Re.pageX)-(((Ee=j.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((_e=j.current)==null?void 0:_e.y)??0))}},Te=Re=>{le.x<=10&&le.y<=10?Re.preventDefault():x.contains(Re.target)||L(!1),document.removeEventListener("pointermove",ye),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Te,{capture:!0})}}},[x,L,j]),k.useEffect(()=>{const le=()=>L(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[L]);const[H,B]=q3(le=>{const ye=q().filter(Ee=>!Ee.disabled),Te=ye.find(Ee=>Ee.ref.current===document.activeElement),Re=K3(ye,le,Te);Re&&setTimeout(()=>Re.ref.current.focus())}),T=k.useCallback((le,ye,Te)=>{const Re=!I.current&&!Te;(b.value!==void 0&&b.value===ye||Re)&&(U(le),Re&&(I.current=!0))},[b.value]),K=k.useCallback(()=>x==null?void 0:x.focus(),[x]),ae=k.useCallback((le,ye,Te)=>{const Re=!I.current&&!Te;(b.value!==void 0&&b.value===ye||Re)&&$(le)},[b.value]),ue=r==="popper"?wE:k3,he=ue===wE?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:w}:{};return d.jsx(N3,{scope:n,content:x,viewport:D,onViewportChange:F,itemRefCallback:T,selectedItem:R,onItemLeave:K,itemTextRefCallback:ae,focusSelectedItem:z,selectedItemText:W,position:r,isPositioned:N,searchRef:H,children:d.jsx(nI,{as:Ate,allowPinchZoom:!0,children:d.jsx(tI,{asChild:!0,trapped:b.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Ve(s,le=>{var ye;(ye=b.trigger)==null||ye.focus({preventScroll:!0}),le.preventDefault()}),children:d.jsx(tm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:d.jsx(ue,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:le=>le.preventDefault(),..._,...he,onPlaced:()=>y(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ve(_.onKeyDown,le=>{const ye=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ye&&le.key.length===1&&B(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Re=q().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Ee=le.target,_e=Re.indexOf(Ee);Re=Re.slice(_e+1)}setTimeout(()=>O(Re)),le.preventDefault()}})})})})})})});C3.displayName=Ite;var Nte="SelectItemAlignedPosition",k3=k.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ll(Wc,n),o=Dl(Wc,n),[a,l]=k.useState(null),[c,u]=k.useState(null),f=Dt(e,M=>u(M)),p=Mv(n),m=k.useRef(!1),v=k.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:_,focusSelectedItem:b}=o,x=k.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&w&&_){const M=i.trigger.getBoundingClientRect(),R=c.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),W=_.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=W.left-R.left,_e=U.left-Ee,He=M.left-_e,Me=M.width+He,Ge=Math.max(Me,R.width),zt=window.innerWidth-ai,at=rk(_e,[ai,Math.max(ai,zt-Ge)]);a.style.minWidth=Me+"px",a.style.left=at+"px"}else{const Ee=R.right-W.right,_e=window.innerWidth-U.right-Ee,He=window.innerWidth-M.right-_e,Me=M.width+He,Ge=Math.max(Me,R.width),zt=window.innerWidth-ai,at=rk(_e,[ai,Math.max(ai,zt-Ge)]);a.style.minWidth=Me+"px",a.style.right=at+"px"}const $=p(),q=window.innerHeight-ai*2,N=g.scrollHeight,y=window.getComputedStyle(c),I=parseInt(y.borderTopWidth,10),O=parseInt(y.paddingTop,10),z=parseInt(y.borderBottomWidth,10),L=parseInt(y.paddingBottom,10),j=I+O+N+L+z,H=Math.min(w.offsetHeight*5,j),B=window.getComputedStyle(g),T=parseInt(B.paddingTop,10),K=parseInt(B.paddingBottom,10),ae=M.top+M.height/2-ai,ue=q-ae,he=w.offsetHeight/2,le=w.offsetTop+he,ye=I+O+le,Te=j-ye;if(ye<=ae){const Ee=$.length>0&&w===$[$.length-1].ref.current;a.style.bottom="0px";const _e=c.clientHeight-g.offsetTop-g.offsetHeight,He=Math.max(ue,he+(Ee?K:0)+_e+z),Me=ye+He;a.style.height=Me+"px"}else{const Ee=$.length>0&&w===$[0].ref.current;a.style.top="0px";const He=Math.max(ae,I+g.offsetTop+(Ee?T:0)+he)+Te;a.style.height=He+"px",g.scrollTop=ye-ae+g.offsetTop}a.style.margin=`${ai}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=q+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,a,c,g,w,_,i.dir,r]);Sr(()=>x(),[x]);const[S,D]=k.useState();Sr(()=>{c&&D(window.getComputedStyle(c).zIndex)},[c]);const F=k.useCallback(M=>{M&&v.current===!0&&(x(),b==null||b(),v.current=!1)},[x,b]);return d.jsx(kte,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:F,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:d.jsx(Je.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});k3.displayName=Nte;var Cte="SelectPopperPosition",wE=k.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ai,...i}=t,o=Pv(n);return d.jsx(XO,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wE.displayName=Cte;var[kte,rI]=kh(Wc,{}),vE="SelectViewport",R3=k.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Dl(vE,n),o=rI(vE,n),a=Dt(e,i.onViewportChange),l=k.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Rv.Slot,{scope:n,children:d.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ve(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const m=Math.abs(l.current-u.scrollTop);if(m>0){const v=window.innerHeight-ai*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),_=Math.max(g,w);if(_<v){const b=_+m,x=Math.min(v,b),S=b-x;f.style.height=x+"px",f.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});R3.displayName=vE;var M3="SelectGroup",[Rte,Mte]=kh(M3),Pte=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=hl();return d.jsx(Rte,{scope:n,id:s,children:d.jsx(Je.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Pte.displayName=M3;var P3="SelectLabel",O3=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Mte(P3,n);return d.jsx(Je.div,{id:s.id,...r,ref:e})});O3.displayName=P3;var Ky="SelectItem",[Ote,L3]=kh(Ky),D3=k.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ll(Ky,n),l=Dl(Ky,n),c=a.value===r,[u,f]=k.useState(i??""),[p,m]=k.useState(!1),v=Dt(e,b=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,b,r,s)}),g=hl(),w=k.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(Ote,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:k.useCallback(b=>{f(x=>x||((b==null?void 0:b.textContent)??"").trim())},[]),children:d.jsx(Rv.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:d.jsx(Je.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:Ve(o.onFocus,()=>m(!0)),onBlur:Ve(o.onBlur,()=>m(!1)),onClick:Ve(o.onClick,()=>{w.current!=="mouse"&&_()}),onPointerUp:Ve(o.onPointerUp,()=>{w.current==="mouse"&&_()}),onPointerDown:Ve(o.onPointerDown,b=>{w.current=b.pointerType}),onPointerMove:Ve(o.onPointerMove,b=>{var x;w.current=b.pointerType,s?(x=l.onItemLeave)==null||x.call(l):w.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ve(o.onPointerLeave,b=>{var x;b.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:Ve(o.onKeyDown,b=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(vte.includes(b.key)&&_(),b.key===" "&&b.preventDefault())})})})})});D3.displayName=Ky;var Nf="SelectItemText",j3=k.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ll(Nf,n),a=Dl(Nf,n),l=L3(Nf,n),c=Ete(Nf,n),[u,f]=k.useState(null),p=Dt(e,_=>f(_),l.onItemTextChange,_=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,_,l.value,l.disabled)}),m=u==null?void 0:u.textContent,v=k.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=c;return Sr(()=>(g(v),()=>w(v)),[g,w,v]),d.jsxs(d.Fragment,{children:[d.jsx(Je.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Pl.createPortal(i.children,o.valueNode):null]})});j3.displayName=Nf;var B3="SelectItemIndicator",F3=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return L3(B3,n).isSelected?d.jsx(Je.span,{"aria-hidden":!0,...r,ref:e}):null});F3.displayName=B3;var xE="SelectScrollUpButton",U3=k.forwardRef((t,e)=>{const n=Dl(xE,t.__scopeSelect),r=rI(xE,t.__scopeSelect),[s,i]=k.useState(!1),o=Dt(e,r.onScrollButtonChange);return Sr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(z3,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});U3.displayName=xE;var _E="SelectScrollDownButton",V3=k.forwardRef((t,e)=>{const n=Dl(_E,t.__scopeSelect),r=rI(_E,t.__scopeSelect),[s,i]=k.useState(!1),o=Dt(e,r.onScrollButtonChange);return Sr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(z3,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});V3.displayName=_E;var z3=k.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Dl("SelectScrollButton",n),o=k.useRef(null),a=Mv(n),l=k.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return k.useEffect(()=>()=>l(),[l]),Sr(()=>{var u;const c=a().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(Je.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ve(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ve(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ve(s.onPointerLeave,()=>{l()})})}),Lte="SelectSeparator",W3=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(Je.div,{"aria-hidden":!0,...r,ref:e})});W3.displayName=Lte;var bE="SelectArrow",Dte=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Pv(n),i=Ll(bE,n),o=Dl(bE,n);return i.open&&o.position==="popper"?d.jsx(JO,{...s,...r,ref:e}):null});Dte.displayName=bE;var jte="SelectBubbleInput",$3=k.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=k.useRef(null),i=Dt(r,s),o=d3(e);return k.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const f=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(f)}},[o,e]),d.jsx(Je.select,{...n,style:{...H4,...n.style},ref:i,defaultValue:e})});$3.displayName=jte;function H3(t){return t===""||t===void 0}function q3(t){const e=ti(t),n=k.useRef(""),r=k.useRef(0),s=k.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=k.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function K3(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Bte(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Bte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Fte=x3,G3=b3,Ute=S3,Vte=T3,zte=I3,Q3=A3,Wte=R3,Y3=O3,Z3=D3,$te=j3,Hte=F3,X3=U3,J3=V3,e5=W3;const Cf=Fte,kf=Ute,id=k.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(G3,{ref:r,className:We("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(Vte,{asChild:!0,children:d.jsx(gO,{className:"h-4 w-4 opacity-50"})})]}));id.displayName=G3.displayName;const t5=k.forwardRef(({className:t,...e},n)=>d.jsx(X3,{ref:n,className:We("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(Bz,{className:"h-4 w-4"})}));t5.displayName=X3.displayName;const n5=k.forwardRef(({className:t,...e},n)=>d.jsx(J3,{ref:n,className:We("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(gO,{className:"h-4 w-4"})}));n5.displayName=J3.displayName;const od=k.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(zte,{children:d.jsxs(Q3,{ref:s,className:We("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(t5,{}),d.jsx(Wte,{className:We("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(n5,{})]})}));od.displayName=Q3.displayName;const qte=k.forwardRef(({className:t,...e},n)=>d.jsx(Y3,{ref:n,className:We("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));qte.displayName=Y3.displayName;const vn=k.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(Z3,{ref:r,className:We("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Hte,{children:d.jsx(jz,{className:"h-4 w-4"})})}),d.jsx($te,{children:e})]}));vn.displayName=Z3.displayName;const Kte=k.forwardRef(({className:t,...e},n)=>d.jsx(e5,{ref:n,className:We("-mx-1 my-1 h-px bg-muted",t),...e}));Kte.displayName=e5.displayName;var $x="rovingFocusGroup.onEntryFocus",Gte={bubbles:!1,cancelable:!0},bm="RovingFocusGroup",[EE,r5,Qte]=ZS(bm),[Yte,s5]=eo(bm,[Qte]),[Zte,Xte]=Yte(bm),i5=k.forwardRef((t,e)=>d.jsx(EE.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(EE.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Jte,{...t,ref:e})})}));i5.displayName=bm;var Jte=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,p=k.useRef(null),m=Dt(e,p),v=eI(i),[g,w]=Fc({prop:o,defaultProp:a??null,onChange:l,caller:bm}),[_,b]=k.useState(!1),x=ti(c),S=r5(n),D=k.useRef(!1),[F,M]=k.useState(0);return k.useEffect(()=>{const R=p.current;if(R)return R.addEventListener($x,x),()=>R.removeEventListener($x,x)},[x]),d.jsx(Zte,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:g,onItemFocus:k.useCallback(R=>w(R),[w]),onItemShiftTab:k.useCallback(()=>b(!0),[]),onFocusableItemAdd:k.useCallback(()=>M(R=>R+1),[]),onFocusableItemRemove:k.useCallback(()=>M(R=>R-1),[]),children:d.jsx(Je.div,{tabIndex:_||F===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Ve(t.onMouseDown,()=>{D.current=!0}),onFocus:Ve(t.onFocus,R=>{const U=!D.current;if(R.target===R.currentTarget&&U&&!_){const W=new CustomEvent($x,Gte);if(R.currentTarget.dispatchEvent(W),!W.defaultPrevented){const $=S().filter(O=>O.focusable),q=$.find(O=>O.active),N=$.find(O=>O.id===g),I=[q,N,...$].filter(Boolean).map(O=>O.ref.current);l5(I,u)}}D.current=!1}),onBlur:Ve(t.onBlur,()=>b(!1))})})}),o5="RovingFocusGroupItem",a5=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=hl(),c=i||l,u=Xte(o5,n),f=u.currentTabStopId===c,p=r5(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:g}=u;return k.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),d.jsx(EE.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:d.jsx(Je.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Ve(t.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:Ve(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ve(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const _=nne(w,u.orientation,u.dir);if(_!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=p().filter(S=>S.focusable).map(S=>S.ref.current);if(_==="last")x.reverse();else if(_==="prev"||_==="next"){_==="prev"&&x.reverse();const S=x.indexOf(w.currentTarget);x=u.loop?rne(x,S+1):x.slice(S+1)}setTimeout(()=>l5(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});a5.displayName=o5;var ene={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tne(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function nne(t,e,n){const r=tne(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ene[r]}function l5(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function rne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var sne=i5,ine=a5,Ov="Tabs",[one,che]=eo(Ov,[s5]),c5=s5(),[ane,sI]=one(Ov),u5=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=eI(a),[f,p]=Fc({prop:r,onChange:s,defaultProp:i??"",caller:Ov});return d.jsx(ane,{scope:n,baseId:hl(),value:f,onValueChange:p,orientation:o,dir:u,activationMode:l,children:d.jsx(Je.div,{dir:u,"data-orientation":o,...c,ref:e})})});u5.displayName=Ov;var d5="TabsList",h5=k.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=sI(d5,n),o=c5(n);return d.jsx(sne,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(Je.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});h5.displayName=d5;var f5="TabsTrigger",p5=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=sI(f5,n),a=c5(n),l=y5(o.baseId,r),c=w5(o.baseId,r),u=r===o.value;return d.jsx(ine,{asChild:!0,...a,focusable:!s,active:u,children:d.jsx(Je.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Ve(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ve(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ve(t.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!s&&f&&o.onValueChange(r)})})})});p5.displayName=f5;var m5="TabsContent",g5=k.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=sI(m5,n),l=y5(a.baseId,r),c=w5(a.baseId,r),u=r===a.value,f=k.useRef(u);return k.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(Jc,{present:s||u,children:({present:p})=>d.jsx(Je.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});g5.displayName=m5;function y5(t,e){return`${t}-trigger-${e}`}function w5(t,e){return`${t}-content-${e}`}var lne=u5,v5=h5,x5=p5,_5=g5;const b5=lne,iI=k.forwardRef(({className:t,...e},n)=>d.jsx(v5,{ref:n,className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));iI.displayName=v5.displayName;const Ro=k.forwardRef(({className:t,...e},n)=>d.jsx(x5,{ref:n,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ro.displayName=x5.displayName;const Mo=k.forwardRef(({className:t,...e},n)=>d.jsx(_5,{ref:n,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Mo.displayName=_5.displayName;function Ed({children:t}){return d.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[d.jsx(Oj,{}),d.jsx("main",{className:"flex-grow pt-20",children:t}),d.jsx(l3,{})]})}function cne(){const[,t]=Jp(),[e,n]=k.useState(""),[r,s]=k.useState("all"),[i,o]=k.useState("all"),{data:a,isLoading:l,error:c}=To({queryKey:["campaigns",i,r],queryFn:()=>lh.list({status:i!=="all"?i:void 0,campaignType:r!=="all"?r:void 0}),refetchInterval:3e4}),f=((a==null?void 0:a.campaigns)||[]).filter(g=>{var w,_;if(e){const b=e.toLowerCase();return(((w=g.tokenMetadata)==null?void 0:w.name)||g.tokenName||"").toLowerCase().includes(b)||(((_=g.tokenMetadata)==null?void 0:_.symbol)||g.tokenSymbol||"").toLowerCase().includes(b)||(g.contractAddress||g.tokenAddress||"").toLowerCase().includes(b)}return!0}),p=f.filter(g=>g.status!=="active"?!1:new Date(g.deadline)>new Date),m=f.filter(g=>g.status==="funded"||g.status==="completed"),v=f.filter(g=>g.status==="failed"||g.status==="cancelled"?!0:g.status==="active"?new Date(g.deadline)<=new Date:!1);return d.jsx(Ed,{children:d.jsx("div",{className:"min-h-screen bg-dark-gradient",children:d.jsxs("div",{className:"container mx-auto px-6 py-12 space-y-8",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"heading-dark-1",children:"Active Campaigns"}),d.jsx("p",{className:"text-lg text-gray-400 mt-2",children:"Browse and contribute to DexScreener service crowdfunding campaigns"})]}),d.jsxs("button",{onClick:()=>t("/create-campaign"),className:"btn-dark-primary",children:[d.jsx(Hz,{className:"mr-2 h-4 w-4 inline"}),"Create Campaign"]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(qz,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),d.jsx("input",{placeholder:"Search by token name, symbol, or address...",value:e,onChange:g=>n(g.target.value),className:"input-dark pl-10 w-full"})]}),d.jsxs(Cf,{value:r,onValueChange:s,children:[d.jsx(id,{className:"w-full sm:w-[180px] bg-gray-900/50 border-gray-800 text-gray-300",children:d.jsx(kf,{placeholder:"Campaign Type"})}),d.jsxs(od,{children:[d.jsx(vn,{value:"all",children:"All Types"}),d.jsx(vn,{value:"enhanced_token_info",children:"Enhanced Info"}),d.jsx(vn,{value:"advertising",children:"Advertising"}),d.jsx(vn,{value:"boost",children:"Boost"})]})]})]}),l?d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx(vp,{className:"h-8 w-8 animate-spin text-purple-400"})}):c?d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"Failed to load campaigns. Please try again."})}):d.jsxs(b5,{defaultValue:"active",className:"w-full",children:[d.jsxs(iI,{className:"grid w-full grid-cols-3 bg-gray-900/50 border border-gray-800",children:[d.jsxs(Ro,{value:"active",className:"data-[state=active]:bg-purple-600/20 data-[state=active]:text-white text-gray-400",children:["Active (",p.length,")"]}),d.jsxs(Ro,{value:"funded",className:"data-[state=active]:bg-purple-600/20 data-[state=active]:text-white text-gray-400",children:["Funded (",m.length,")"]}),d.jsxs(Ro,{value:"failed",className:"data-[state=active]:bg-purple-600/20 data-[state=active]:text-white text-gray-400",children:["Failed (",v.length,")"]})]}),d.jsx(Mo,{value:"active",className:"mt-6",children:p.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 auto-rows-fr",children:p.map(g=>d.jsx(Dx,{campaign:g},g.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"No active campaigns found."})})}),d.jsx(Mo,{value:"funded",className:"mt-6",children:m.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 auto-rows-fr",children:m.map(g=>d.jsx(Dx,{campaign:g},g.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"No funded campaigns yet."})})}),d.jsx(Mo,{value:"failed",className:"mt-6",children:v.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 auto-rows-fr",children:v.map(g=>d.jsx(Dx,{campaign:g},g.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"No failed campaigns."})})})]})]})})})}class une{constructor(){this.ws=null,this.reconnectInterval=5e3,this.shouldReconnect=!0,this.listeners=new Map;const e=window.location.protocol==="https:"?"wss:":"ws:";this.url=`${e}//${window.location.host}/ws`}connect(){var e;if(((e=this.ws)==null?void 0:e.readyState)!==WebSocket.OPEN){try{this.ws=new WebSocket(this.url)}catch(n){console.error("WebSocket connection failed:",n);return}this.ws.onopen=()=>{console.log("WebSocket connected"),this.emit("connected",null)},this.ws.onmessage=n=>{try{const r=JSON.parse(n.data);this.handleMessage(r)}catch(r){console.error("WebSocket message parse error:",r)}},this.ws.onerror=n=>{console.error("WebSocket error:",n),this.emit("error",n)},this.ws.onclose=()=>{console.log("WebSocket disconnected"),this.emit("disconnected",null),this.shouldReconnect&&setTimeout(()=>this.connect(),this.reconnectInterval)}}}disconnect(){this.shouldReconnect=!1,this.ws&&(this.ws.close(),this.ws=null)}send(e){var n;((n=this.ws)==null?void 0:n.readyState)===WebSocket.OPEN?this.ws.send(JSON.stringify(e)):console.warn("WebSocket is not connected")}subscribeToCampaign(e){this.send({type:"subscribe",campaignId:e})}unsubscribeFromCampaign(e){this.send({type:"unsubscribe",campaignId:e})}on(e,n){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(n)}off(e,n){var r;(r=this.listeners.get(e))==null||r.delete(n)}emit(e,n){var r;(r=this.listeners.get(e))==null||r.forEach(s=>s(n))}handleMessage(e){switch(e.type){case"connected":console.log("WebSocket client ID:",e.clientId);break;case"campaign_update":this.emit("campaign_update",e.campaign);break;case"new_contribution":this.emit("new_contribution",e.contribution);break;case"pong":break;default:console.log("Unknown message type:",e.type)}}}const Ca=new une;var Lv="Dialog",[E5,uhe]=eo(Lv),[dne,Ni]=E5(Lv),S5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=k.useRef(null),l=k.useRef(null),[c,u]=Fc({prop:r,defaultProp:s??!1,onChange:i,caller:Lv});return d.jsx(dne,{scope:e,triggerRef:a,contentRef:l,contentId:hl(),titleId:hl(),descriptionId:hl(),open:c,onOpenChange:u,onOpenToggle:k.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};S5.displayName=Lv;var T5="DialogTrigger",hne=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ni(T5,n),i=Dt(e,s.triggerRef);return d.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":lI(s.open),...r,ref:i,onClick:Ve(t.onClick,s.onOpenToggle)})});hne.displayName=T5;var oI="DialogPortal",[fne,I5]=E5(oI,{forceMount:void 0}),A5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Ni(oI,e);return d.jsx(fne,{scope:e,forceMount:n,children:k.Children.map(r,o=>d.jsx(Jc,{present:n||i.open,children:d.jsx(Uw,{asChild:!0,container:s,children:o})}))})};A5.displayName=oI;var Gy="DialogOverlay",N5=k.forwardRef((t,e)=>{const n=I5(Gy,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ni(Gy,t.__scopeDialog);return i.modal?d.jsx(Jc,{present:r||i.open,children:d.jsx(mne,{...s,ref:e})}):null});N5.displayName=Gy;var pne=Yd("DialogOverlay.RemoveScroll"),mne=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ni(Gy,n);return d.jsx(nI,{as:pne,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Je.div,{"data-state":lI(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),$c="DialogContent",C5=k.forwardRef((t,e)=>{const n=I5($c,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ni($c,t.__scopeDialog);return d.jsx(Jc,{present:r||i.open,children:i.modal?d.jsx(gne,{...s,ref:e}):d.jsx(yne,{...s,ref:e})})});C5.displayName=$c;var gne=k.forwardRef((t,e)=>{const n=Ni($c,t.__scopeDialog),r=k.useRef(null),s=Dt(e,n.contentRef,r);return k.useEffect(()=>{const i=r.current;if(i)return f3(i)},[]),d.jsx(k5,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ve(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ve(t.onFocusOutside,i=>i.preventDefault())})}),yne=k.forwardRef((t,e)=>{const n=Ni($c,t.__scopeDialog),r=k.useRef(!1),s=k.useRef(!1);return d.jsx(k5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),k5=k.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Ni($c,n),l=k.useRef(null),c=Dt(e,l);return c3(),d.jsxs(d.Fragment,{children:[d.jsx(tI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(tm,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":lI(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(wne,{titleId:a.titleId}),d.jsx(xne,{contentRef:l,descriptionId:a.descriptionId})]})]})}),aI="DialogTitle",R5=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ni(aI,n);return d.jsx(Je.h2,{id:s.titleId,...r,ref:e})});R5.displayName=aI;var M5="DialogDescription",P5=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ni(M5,n);return d.jsx(Je.p,{id:s.descriptionId,...r,ref:e})});P5.displayName=M5;var O5="DialogClose",L5=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ni(O5,n);return d.jsx(Je.button,{type:"button",...r,ref:e,onClick:Ve(t.onClick,()=>s.onOpenChange(!1))})});L5.displayName=O5;function lI(t){return t?"open":"closed"}var D5="DialogTitleWarning",[dhe,j5]=F9(D5,{contentName:$c,titleName:aI,docsSlug:"dialog"}),wne=({titleId:t})=>{const e=j5(D5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},vne="DialogDescriptionWarning",xne=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${j5(vne).contentName}}.`;return k.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},_ne=S5,bne=A5,B5=N5,F5=C5,U5=R5,V5=P5,Ene=L5;const SE=_ne,Sne=bne,z5=k.forwardRef(({className:t,...e},n)=>d.jsx(B5,{ref:n,className:We("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));z5.displayName=B5.displayName;const Qy=k.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(Sne,{children:[d.jsx(z5,{}),d.jsxs(F5,{ref:r,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(Ene,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(sT,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qy.displayName=F5.displayName;const Yy=({className:t,...e})=>d.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Yy.displayName="DialogHeader";const Zy=({className:t,...e})=>d.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Zy.displayName="DialogFooter";const Xy=k.forwardRef(({className:t,...e},n)=>d.jsx(U5,{ref:n,className:We("text-lg font-semibold leading-none tracking-tight",t),...e}));Xy.displayName=U5.displayName;const Jy=k.forwardRef(({className:t,...e},n)=>d.jsx(V5,{ref:n,className:We("text-sm text-muted-foreground",t),...e}));Jy.displayName=V5.displayName;const ad=k.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ad.displayName="Input";var Tne="Label",W5=k.forwardRef((t,e)=>d.jsx(Je.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));W5.displayName=Tne;var $5=W5;const Ine=rm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pn=k.forwardRef(({className:t,...e},n)=>d.jsx($5,{ref:n,className:We(Ine(),t),...e}));Pn.displayName=$5.displayName;function Ane({campaign:t,isOpen:e,onClose:n,onSuccess:r}){const{publicKey:s,sendTransaction:i}=gm(),{connection:o}=PD(),{toast:a}=em(),[l,c]=k.useState(""),[u,f]=k.useState(!1),[p,m]=k.useState(null),[v,g]=k.useState(!1),w=async()=>{var b,x,S,D,F;if(!s){m("Please connect your wallet first");return}if(!v){m("Please read and accept the disclaimer before contributing");return}const _=parseFloat(l);if(isNaN(_)||_<.01){m("Minimum contribution is 0.01 SOL");return}f(!0),m(null);try{console.log("Starting SOL contribution transaction...");const M=new Oe(t.walletAddress),R=_*p2;console.log("Transfer details:",{from:s.toString(),to:M.toString(),amount:_,lamports:R});const U=await o.getBalance(s),W=R+5e3;if(U<W)throw new Error(`Insufficient SOL balance. You need at least ${(W/p2).toFixed(4)} SOL (including transaction fees).`);const $=new gi,{blockhash:q}=await o.getLatestBlockhash();$.recentBlockhash=q,$.feePayer=s;const N=Tp.transfer({fromPubkey:s,toPubkey:M,lamports:R});$.add(N),console.log("Sending SOL transaction...");const y=await i($,o);console.log("Transaction sent:",y),await o.confirmTransaction(y,"confirmed"),console.log("Transaction confirmed"),await lh.contribute(t.id,{contributorAddress:s.toString(),amount:_,transactionHash:y}),a({title:"Contribution Successful!",description:`You contributed ${_} SOL to ${t.tokenName}`}),r==null||r(),n()}catch(M){console.error("Contribution error:",M);let R="Failed to process contribution";(b=M.message)!=null&&b.includes("User rejected the request")?R="Transaction was cancelled by user":(x=M.message)!=null&&x.includes("Insufficient funds")||(S=M.message)!=null&&S.includes("Insufficient SOL")||(D=M.message)!=null&&D.includes("SOL")?R=M.message:(F=M.message)!=null&&F.includes("simulation failed")?R="Transaction simulation failed. Please check your SOL balance and try again.":M.message&&(R=M.message),m(R)}finally{f(!1)}};return d.jsx(SE,{open:e,onOpenChange:n,children:d.jsxs(Qy,{className:"sm:max-w-[425px] bg-gray-900 border-gray-800 text-white",children:[d.jsxs(Yy,{children:[d.jsxs(Xy,{className:"text-xl font-bold text-white",children:["Contribute to ",t.tokenName]}),d.jsxs(Jy,{className:"text-gray-400",children:["Support this campaign by contributing SOL. Your contribution will help reach the $",t.targetAmount," goal."]})]}),d.jsxs("div",{className:"space-y-6",children:[p&&d.jsx(xv,{variant:"destructive",className:"bg-red-500/10 border-red-500/30 text-red-400",children:d.jsx(_v,{children:p})}),!s&&d.jsx("div",{className:"card-dark p-4 border border-purple-500/30 bg-purple-500/10",children:d.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[d.jsx(fb,{className:"h-8 w-8 text-purple-400"}),d.jsx("p",{className:"text-purple-400 font-medium text-center",children:"Connect your wallet to contribute"}),d.jsx(zy,{className:"!bg-gradient-to-r !from-purple-600 !to-pink-600 !text-white hover:!from-purple-700 hover:!to-pink-700 !font-semibold !py-2 !px-4 !rounded-lg !transition-all !duration-200"})]})}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Pn,{className:"text-gray-300 font-medium",children:"Campaign Progress"}),d.jsxs("div",{className:"card-dark p-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-lg font-semibold text-white",children:["$",t.currentAmount.toFixed(2)]}),d.jsxs("span",{className:"text-gray-400",children:["of $",t.targetAmount.toFixed(2)," USD"]})]}),d.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 mb-2",children:d.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(t.currentAmount/t.targetAmount*100,100)}%`}})}),d.jsxs("p",{className:"text-sm text-gray-400",children:[(t.currentAmount/t.targetAmount*100).toFixed(1),"% funded"]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Pn,{htmlFor:"amount",className:"text-gray-300 font-medium",children:"Contribution Amount (SOL)"}),d.jsx(ad,{id:"amount",type:"number",placeholder:"Enter amount in SOL",value:l,onChange:_=>c(_.target.value),min:"0.01",step:"0.01",className:"input-dark"}),d.jsxs("div",{className:"space-y-1 text-sm",children:[d.jsx("p",{className:"text-gray-500",children:"Minimum contribution: 0.01 SOL"}),l&&parseFloat(l)>0&&d.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[d.jsx("div",{className:"text-blue-400 font-medium mb-1",children:"Fee Breakdown:"}),d.jsxs("div",{className:"text-gray-300 space-y-1",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Your contribution:"}),d.jsxs("span",{children:[parseFloat(l).toFixed(4)," SOL"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Platform fee (5%):"}),d.jsxs("span",{children:[(parseFloat(l)*.05).toFixed(4)," SOL"]})]}),d.jsxs("div",{className:"flex justify-between border-t border-blue-500/30 pt-1 font-semibold",children:[d.jsx("span",{children:"Total to campaign:"}),d.jsxs("span",{children:[(parseFloat(l)*.95).toFixed(4)," SOL"]})]})]})]})]})]}),d.jsx("div",{className:"space-y-3",children:d.jsx("div",{className:"card-dark p-4 border border-amber-500/30 bg-amber-500/10",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(AlertCircle,{className:"h-5 w-5 text-amber-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-amber-400 font-medium mb-1",children:"Important Notice"}),d.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Use only the contribute button above. Direct wallet transfers are not supported and will result in loss of funds with no refunds possible."})]})]})})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"card-dark p-6 border border-red-500/30 bg-red-500/10",children:[d.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[d.jsx(vO,{className:"h-6 w-6 text-red-400 mt-0.5 flex-shrink-0"}),d.jsx("div",{children:d.jsx("h3",{className:"text-red-400 font-bold text-lg mb-2",children:"IMPORTANT DISCLAIMER - READ CAREFULLY"})})]}),d.jsxs("div",{className:"space-y-3 text-sm text-gray-300 leading-relaxed",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"font-semibold text-red-300",children:"⚠️ NO REFUNDS POLICY:"}),d.jsx("p",{children:"All contributions are FINAL and NON-REFUNDABLE under any circumstances. Once you contribute, your SOL cannot be returned regardless of campaign outcome."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"font-semibold text-red-300",children:"⚠️ PUMP.FUN GRADUATION RISK:"}),d.jsx("p",{children:"If this campaign reaches its target but the token fails to graduate from Pump.fun to Raydium, NO DexScreener services will be provided and NO refunds will be issued. This is beyond our control."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"font-semibold text-red-300",children:"⚠️ CONTRIBUTE BUTTON ONLY:"}),d.jsx("p",{children:"You MUST use the contribute button above. Direct wallet transfers are NOT supported and will result in permanent loss of funds with no recovery possible."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"font-semibold text-red-300",children:"⚠️ PLATFORM FEES:"}),d.jsx("p",{children:"A platform fee is added to all contributions to support site operations. This fee is non-refundable."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"font-semibold text-red-300",children:"⚠️ NO GUARANTEES:"}),d.jsx("p",{children:"We provide no guarantees about campaign success, token performance, or service delivery. Contribute only what you can afford to lose completely."})]})]})]}),d.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[d.jsx("input",{type:"checkbox",id:"disclaimer-accept",checked:v,onChange:_=>g(_.target.checked),className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"disclaimer-accept",className:"text-gray-300 text-sm leading-relaxed cursor-pointer",children:[d.jsx("span",{className:"font-semibold text-white",children:"I have read and understand the disclaimer above."})," I acknowledge that all contributions are final and non-refundable, regardless of campaign or token outcome. I understand the risks associated with cryptocurrency and Pump.fun tokens."]})]})]})]}),d.jsxs(Zy,{className:"gap-3 pt-6",children:[d.jsx(yn,{variant:"outline",onClick:n,disabled:u,className:"bg-gray-800 border-gray-700 text-gray-300 hover:bg-gray-700 hover:text-white",children:"Cancel"}),d.jsx(yn,{onClick:w,disabled:u||!s||!l||!v,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:u?d.jsxs(d.Fragment,{children:[d.jsx(vp,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):s?v?`Contribute ${l||"0"} SOL`:"Accept Disclaimer to Continue":d.jsxs(d.Fragment,{children:[d.jsx(fb,{className:"mr-2 h-4 w-4"}),"Connect Wallet First"]})})]})]})})}const Nne=rm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Sa({className:t,variant:e,...n}){return d.jsx("div",{className:We(Nne({variant:e}),t),...n})}function Vt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Sl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const H5=6048e5,Cne=864e5,Bg=43200,pk=1440;let kne={};function Em(){return kne}function kp(t,e){var a,l,c,u;const n=Em(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=Vt(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function ew(t){return kp(t,{weekStartsOn:1})}function q5(t){const e=Vt(t),n=e.getFullYear(),r=Sl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=ew(r),i=Sl(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=ew(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function mk(t){const e=Vt(t);return e.setHours(0,0,0,0),e}function tw(t){const e=Vt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Rne(t,e){const n=mk(t),r=mk(e),s=+n-tw(n),i=+r-tw(r);return Math.round((s-i)/Cne)}function Mne(t){const e=q5(t),n=Sl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ew(n)}function P0(t,e){const n=Vt(t),r=Vt(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function Pne(t){return Sl(t,Date.now())}function One(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Lne(t){if(!One(t)&&typeof t!="number")return!1;const e=Vt(t);return!isNaN(Number(e))}function Dne(t,e){const n=Vt(t),r=Vt(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function jne(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Bne(t,e){return+Vt(t)-+Vt(e)}function Fne(t){const e=Vt(t);return e.setHours(23,59,59,999),e}function Une(t){const e=Vt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Vne(t){const e=Vt(t);return+Fne(e)==+Une(e)}function zne(t,e){const n=Vt(t),r=Vt(e),s=P0(n,r),i=Math.abs(Dne(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=P0(n,r)===-s;Vne(Vt(t))&&i===1&&P0(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function Wne(t,e,n){const r=Bne(t,e)/1e3;return jne(n==null?void 0:n.roundingMethod)(r)}function $ne(t){const e=Vt(t),n=Sl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Hne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qne=(t,e,n)=>{let r;const s=Hne[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Hx(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Kne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yne={date:Hx({formats:Kne,defaultWidth:"full"}),time:Hx({formats:Gne,defaultWidth:"full"}),dateTime:Hx({formats:Qne,defaultWidth:"full"})},Zne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xne=(t,e,n,r)=>Zne[t];function uf(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Jne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ere={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ire=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ore={ordinalNumber:ire,era:uf({values:Jne,defaultWidth:"wide"}),quarter:uf({values:ere,defaultWidth:"wide",argumentCallback:t=>t-1}),month:uf({values:tre,defaultWidth:"wide"}),day:uf({values:nre,defaultWidth:"wide"}),dayPeriod:uf({values:rre,defaultWidth:"wide",formattingValues:sre,defaultFormattingWidth:"wide"})};function df(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?lre(a,f=>f.test(o)):are(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function are(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function lre(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function cre(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const ure=/^(\d+)(th|st|nd|rd)?/i,dre=/\d+/i,hre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fre={any:[/^b/i,/^(a|c)/i]},pre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mre={any:[/1/i,/2/i,/3/i,/4/i]},gre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_re={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bre={ordinalNumber:cre({matchPattern:ure,parsePattern:dre,valueCallback:t=>parseInt(t,10)}),era:df({matchPatterns:hre,defaultMatchWidth:"wide",parsePatterns:fre,defaultParseWidth:"any"}),quarter:df({matchPatterns:pre,defaultMatchWidth:"wide",parsePatterns:mre,defaultParseWidth:"any",valueCallback:t=>t+1}),month:df({matchPatterns:gre,defaultMatchWidth:"wide",parsePatterns:yre,defaultParseWidth:"any"}),day:df({matchPatterns:wre,defaultMatchWidth:"wide",parsePatterns:vre,defaultParseWidth:"any"}),dayPeriod:df({matchPatterns:xre,defaultMatchWidth:"any",parsePatterns:_re,defaultParseWidth:"any"})},K5={code:"en-US",formatDistance:qne,formatLong:Yne,formatRelative:Xne,localize:ore,match:bre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ere(t){const e=Vt(t);return Rne(e,$ne(e))+1}function Sre(t){const e=Vt(t),n=+ew(e)-+Mne(e);return Math.round(n/H5)+1}function G5(t,e){var u,f,p,m;const n=Vt(t),r=n.getFullYear(),s=Em(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=Sl(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=kp(o,e),l=Sl(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=kp(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Tre(t,e){var a,l,c,u;const n=Em(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=G5(t,e),i=Sl(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),kp(i,e)}function Ire(t,e){const n=Vt(t),r=+kp(n,e)-+Tre(n,e);return Math.round(r/H5)+1}function Rt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ya={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Rt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Rt(n+1,2)},d(t,e){return Rt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Rt(t.getHours()%12||12,e.length)},H(t,e){return Rt(t.getHours(),e.length)},m(t,e){return Rt(t.getMinutes(),e.length)},s(t,e){return Rt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Rt(s,e.length)}},Mu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gk={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ya.y(t,e)},Y:function(t,e,n,r){const s=G5(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Rt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Rt(i,e.length)},R:function(t,e){const n=q5(t);return Rt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Rt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Rt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Rt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ya.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Rt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Ire(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Rt(s,e.length)},I:function(t,e,n){const r=Sre(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Rt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ya.d(t,e)},D:function(t,e,n){const r=Ere(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Rt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Rt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Rt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Rt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Mu.noon:r===0?s=Mu.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Mu.evening:r>=12?s=Mu.afternoon:r>=4?s=Mu.morning:s=Mu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ya.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ya.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Rt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Rt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ya.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ya.s(t,e)},S:function(t,e){return ya.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return wk(r);case"XXXX":case"XX":return Xl(r);case"XXXXX":case"XXX":default:return Xl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return wk(r);case"xxxx":case"xx":return Xl(r);case"xxxxx":case"xxx":default:return Xl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yk(r,":");case"OOOO":default:return"GMT"+Xl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yk(r,":");case"zzzz":default:return"GMT"+Xl(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Rt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Rt(r,e.length)}};function yk(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Rt(i,2)}function wk(t,e){return t%60===0?(t>0?"-":"+")+Rt(Math.abs(t)/60,2):Xl(t,e)}function Xl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Rt(Math.trunc(r/60),2),i=Rt(r%60,2);return n+s+e+i}const vk=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Q5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Are=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return vk(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",vk(r,e)).replace("{{time}}",Q5(s,e))},Nre={p:Q5,P:Are},Cre=/^D+$/,kre=/^Y+$/,Rre=["D","DD","YY","YYYY"];function Mre(t){return Cre.test(t)}function Pre(t){return kre.test(t)}function Ore(t,e,n){const r=Lre(t,e,n);if(console.warn(r),Rre.includes(t))throw new RangeError(r)}function Lre(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Dre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bre=/^'([^]*?)'?$/,Fre=/''/g,Ure=/[a-zA-Z]/;function Jl(t,e,n){var u,f,p,m;const r=Em(),s=r.locale??K5,i=r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,a=Vt(t);if(!Lne(a))throw new RangeError("Invalid time value");let l=e.match(jre).map(v=>{const g=v[0];if(g==="p"||g==="P"){const w=Nre[g];return w(v,s.formatLong)}return v}).join("").match(Dre).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:Vre(v)};if(gk[g])return{isToken:!0,value:v};if(g.match(Ure))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(v=>{if(!v.isToken)return v.value;const g=v.value;(Pre(g)||Mre(g))&&Ore(g,e,String(t));const w=gk[g[0]];return w(a,g,s.localize,c)}).join("")}function Vre(t){const e=t.match(Bre);return e?e[1].replace(Fre,"'"):t}function zre(t,e,n){const r=Em(),s=(n==null?void 0:n.locale)??r.locale??K5,i=2520,o=P0(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let l,c;o>0?(l=Vt(e),c=Vt(t)):(l=Vt(t),c=Vt(e));const u=Wne(c,l),f=(tw(c)-tw(l))/1e3,p=Math.round((u-f)/60);let m;if(p<2)return n!=null&&n.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,a):u<10?s.formatDistance("lessThanXSeconds",10,a):u<20?s.formatDistance("lessThanXSeconds",20,a):u<40?s.formatDistance("halfAMinute",0,a):u<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):p===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",p,a);if(p<45)return s.formatDistance("xMinutes",p,a);if(p<90)return s.formatDistance("aboutXHours",1,a);if(p<pk){const v=Math.round(p/60);return s.formatDistance("aboutXHours",v,a)}else{if(p<i)return s.formatDistance("xDays",1,a);if(p<Bg){const v=Math.round(p/pk);return s.formatDistance("xDays",v,a)}else if(p<Bg*2)return m=Math.round(p/Bg),s.formatDistance("aboutXMonths",m,a)}if(m=zne(c,l),m<12){const v=Math.round(p/Bg);return s.formatDistance("xMonths",v,a)}else{const v=m%12,g=Math.trunc(m/12);return v<3?s.formatDistance("aboutXYears",g,a):v<9?s.formatDistance("overXYears",g,a):s.formatDistance("almostXYears",g+1,a)}}function xk(t,e){return zre(t,Pne(t),e)}function Wre(){var g,w,_,b,x;const{id:t}=E4(),{toast:e}=em(),[n,r]=k.useState(!1),{data:s,isLoading:i,error:o,refetch:a}=To({queryKey:["campaign",t],queryFn:()=>lh.get(t),enabled:!!t}),{data:l,refetch:c}=To({queryKey:["contributions",t],queryFn:()=>lh.getContributions(t),enabled:!!t});if(k.useEffect(()=>{if(!t)return;Ca.subscribeToCampaign(t);const S=F=>{F.id===t&&a()},D=F=>{F.campaignId===t&&(c(),a())};return Ca.on("campaign_update",S),Ca.on("new_contribution",D),()=>{Ca.unsubscribeFromCampaign(t),Ca.off("campaign_update",S),Ca.off("new_contribution",D)}},[t,a,c]),i)return d.jsx(Ed,{children:d.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:d.jsx(vp,{className:"h-8 w-8 animate-spin"})})});if(o||!(s!=null&&s.success))return d.jsx(Ed,{children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Campaign Not Found"}),d.jsx("p",{className:"text-muted-foreground",children:"The campaign you're looking for doesn't exist."})]})});const u=s.campaign,f=(l==null?void 0:l.contributions)||[],p=u.currentAmount/u.targetAmount*100,m=new Date(u.deadline)>new Date?xk(new Date(u.deadline),{addSuffix:!0}):"Ended",v=S=>{navigator.clipboard.writeText(S),e({title:"Address Copied",description:"Address copied to clipboard"})};return d.jsx(Ed,{children:d.jsxs("div",{className:"min-h-screen bg-dark-gradient",children:[d.jsx("div",{className:"container mx-auto px-6 py-12 space-y-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"card-dark overflow-hidden",children:[u.bannerUrl&&u.bannerUrl!=="/placeholder-banner.jpg"&&d.jsx("div",{className:"h-48 bg-gradient-to-r from-purple-600 to-indigo-600 relative",children:d.jsx("img",{src:u.bannerUrl,alt:`${((g=u.tokenMetadata)==null?void 0:g.name)||u.tokenName} banner`,className:"w-full h-full object-cover opacity-90",onError:S=>{S.currentTarget.style.display="none"}})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[u.tokenLogoUrl&&d.jsx("img",{src:u.tokenLogoUrl,alt:u.tokenSymbol,className:"w-20 h-20 rounded-full border-2 border-gray-700"}),d.jsxs("div",{children:[d.jsx("h1",{className:"heading-dark-1",children:((w=u.tokenMetadata)==null?void 0:w.name)||u.tokenName}),d.jsxs("p",{className:"text-xl text-purple-400 font-semibold",children:["$",((_=u.tokenMetadata)==null?void 0:_.symbol)||u.tokenSymbol]})]})]}),d.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${u.status==="active"?"bg-green-500/20 text-green-400":u.status==="funded"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:u.status})]}),d.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:u.description}),d.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Campaign Type"}),d.jsx("p",{className:"text-white font-medium",children:u.campaignType?u.campaignType.split("_").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" "):"Enhanced Token Info"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),d.jsx("p",{className:"text-white font-medium",children:u.createdAt&&!isNaN(new Date(u.createdAt).getTime())?Jl(new Date(u.createdAt),"PPP"):"Unknown"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Token Address"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("code",{className:"text-sm bg-gray-800 px-3 py-2 rounded text-gray-300 flex-1",children:u.tokenAddress||u.contractAddress||"Unknown"}),d.jsx("button",{className:"text-gray-400 hover:text-white transition-colors p-2",onClick:()=>v(u.tokenAddress||u.contractAddress),children:d.jsx($1,{className:"h-4 w-4"})})]}),d.jsxs("a",{href:`https://dexscreener.com/solana/${u.tokenAddress||u.contractAddress}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-purple-400 hover:text-purple-300 transition-colors",children:["View on DexScreener",d.jsx(H1,{className:"h-4 w-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Campaign Creator"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("code",{className:"text-sm bg-gray-800 px-3 py-2 rounded text-gray-300 flex-1",children:[((b=u.creatorAddress)==null?void 0:b.slice(0,8))||"Unknown","...",(x=u.creatorAddress)==null?void 0:x.slice(-8)]}),d.jsx("button",{className:"text-gray-400 hover:text-white transition-colors p-2",onClick:()=>v(u.creatorAddress),children:d.jsx($1,{className:"h-4 w-4"})})]}),d.jsxs("a",{href:`https://solscan.io/account/${u.creatorAddress}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-blue-400 hover:text-blue-300 transition-colors",children:["View Creator on Solscan",d.jsx(H1,{className:"h-4 w-4"})]})]})]})]})]}),d.jsxs("div",{className:"card-dark",children:[d.jsx("div",{className:"border-b border-gray-800",children:d.jsxs("div",{className:"flex space-x-8 px-6",children:[d.jsx("button",{className:"py-4 px-2 border-b-2 border-purple-500 text-purple-400 font-medium",children:"Contributions"}),d.jsx("button",{className:"py-4 px-2 text-gray-400 hover:text-gray-300",children:"Chat"})]})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Recent Contributors"}),d.jsxs("p",{className:"text-gray-400",children:[f.length," total contributions"]})]}),f.length>0?d.jsx("div",{className:"space-y-4",children:f.map(S=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(fb,{className:"h-5 w-5 text-purple-400"}),d.jsxs("div",{children:[d.jsxs("code",{className:"text-sm text-gray-300",children:[S.contributorAddress.slice(0,8),"...",S.contributorAddress.slice(-6)]}),d.jsx("p",{className:"text-xs text-gray-500",children:S.timestamp&&!isNaN(new Date(S.timestamp).getTime())?xk(new Date(S.timestamp),{addSuffix:!0}):"Just now"})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-lg font-semibold text-white",children:["$",S.amount.toFixed(2)]}),d.jsx("div",{className:`text-xs px-2 py-1 rounded ${S.status==="confirmed"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:S.status})]})]},S.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-400",children:"No contributions yet. Be the first to support this campaign!"})})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"card-dark",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Funding Progress"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-end",children:[d.jsxs("span",{className:"text-3xl font-bold text-white",children:["$",u.currentAmount.toFixed(0)]}),d.jsxs("span",{className:"text-gray-400",children:["of $",u.targetAmount.toFixed(0)]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"w-full bg-gray-800 rounded-full h-3",children:d.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(p,100)}%`}})}),d.jsxs("p",{className:"text-sm text-gray-400",children:[p.toFixed(1),"% funded"]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 py-6 border-t border-gray-800 mt-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center mb-2",children:[d.jsx(Ww,{className:"h-5 w-5 mr-2 text-blue-400"}),d.jsx("span",{className:"text-xl font-bold text-white",children:f.length})]}),d.jsx("p",{className:"text-sm text-gray-400",children:"Contributors"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center mb-2",children:[d.jsx(yO,{className:"h-5 w-5 mr-2 text-purple-400"}),d.jsx("span",{className:"text-xl font-bold text-white",children:m})]}),d.jsx("p",{className:"text-sm text-gray-400",children:"Time left"})]})]}),u.status==="active"&&d.jsxs("button",{className:"w-full btn-dark-primary mt-6",onClick:()=>r(!0),children:[d.jsx(nT,{className:"mr-2 h-5 w-5"}),"Contribute Now"]}),d.jsxs("div",{className:"space-y-4 pt-6 border-t border-gray-800 mt-6 bg-gray-800/30 -mx-6 px-6 pb-6",children:[d.jsx("p",{className:"text-lg font-bold text-white",children:"Campaign Wallet"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("code",{className:"text-sm bg-gray-800 p-4 rounded-lg flex-1 text-gray-300 font-mono break-all",children:u.walletAddress}),d.jsx("button",{className:"text-gray-400 hover:text-white transition-colors p-3 bg-gray-700 hover:bg-gray-600 rounded-lg",onClick:()=>v(u.walletAddress),children:d.jsx($1,{className:"h-5 w-5"})})]}),d.jsxs("a",{href:`https://solscan.io/account/${u.walletAddress}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-base text-blue-400 hover:text-blue-300 transition-colors font-medium",children:["View Wallet on Solscan",d.jsx(H1,{className:"h-5 w-5"})]})]})]})}),u.status==="completed"&&u.serviceDetails&&d.jsxs(ur,{children:[d.jsx(jr,{children:d.jsx(Br,{children:"Service Status"})}),d.jsxs(dr,{children:[d.jsx(Sa,{className:"mb-2",children:"Active"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"The DexScreener service has been successfully purchased and activated."})]})]})]})]})}),d.jsx(Ane,{campaign:u,isOpen:n,onClose:()=>r(!1),onSuccess:()=>{a(),c()}})]})})}class $re{constructor(){this.rateLimitDelay=100,this.lastRequestTime=0,this.requestQueue=[],this.isProcessingQueue=!1,this.apiKey="",this.baseUrl="https://api.helius.xyz",console.log("Client-side Helius service initialized - using server proxy for all operations")}async enforceRateLimit(){const n=Date.now()-this.lastRequestTime;n<this.rateLimitDelay&&await new Promise(r=>setTimeout(r,this.rateLimitDelay-n)),this.lastRequestTime=Date.now()}async queueRequest(e){return new Promise((n,r)=>{this.requestQueue.push(async()=>{try{await this.enforceRateLimit();const s=await e();n(s)}catch(s){r(s)}}),this.processQueue()})}async processQueue(){if(!(this.isProcessingQueue||this.requestQueue.length===0)){for(this.isProcessingQueue=!0;this.requestQueue.length>0;){const e=this.requestQueue.shift();if(e)try{await e()}catch(n){console.error("Queued request failed:",n)}}this.isProcessingQueue=!1}}async makeRequest(e,n,r=3){const s=`${this.baseUrl}/?api-key=${this.apiKey}`;for(let i=1;i<=r;i++)try{return await lt.post(s,n,{headers:{"Content-Type":"application/json"},timeout:1e4})}catch(o){const a=o;if(a.response&&a.response.status>=400&&a.response.status<500||i===r)throw o;const l=Math.min(1e3*Math.pow(2,i-1),5e3);await new Promise(c=>setTimeout(c,l))}throw new Error("Max retries exceeded")}async validateToken(e){console.log("[Client Helius API] ========== START TOKEN VALIDATION =========="),console.log(`[Client Helius API] Validating token: ${e}`),console.log("[Client Helius API] Using server proxy for all Helius operations");try{return!e||e.length<32||e.length>44?(console.log("[Client Helius API] ERROR: Invalid address format"),console.log("[Client Helius API] Address length:",e.length),{isValid:!1,error:"Invalid Solana address format",contractAddress:e}):(console.log("[Client Helius API] Calling server endpoint for real Helius data"),await this.validateTokenViaServer(e))}catch(n){return console.error("[Client Helius API] Token validation error:",n),console.error("[Client Helius API] Error stack:",n.stack),console.log("[Client Helius API] ========== END TOKEN VALIDATION ERROR =========="),{isValid:!1,error:"Token validation failed",contractAddress:e}}}async validateTokenViaServer(e){var n,r,s,i,o,a;try{console.log("[Client Helius API] Making request to server endpoint"),console.log("[Client Helius API] POST /api/helius/validate-token"),console.log("[Client Helius API] Request body:",{contractAddress:e});const l=await lt.post("/api/helius/validate-token",{contractAddress:e},{headers:{"Content-Type":"application/json"},timeout:15e3});return console.log("[Client Helius API] Server response status:",l.status),console.log("[Client Helius API] Server response data:",JSON.stringify(l.data,null,2)),l.data&&l.data.isValid?(console.log("[Client Helius API] Token validated successfully via server"),console.log("[Client Helius API] ========== END TOKEN VALIDATION SUCCESS =========="),l.data):(console.log("[Client Helius API] Server returned invalid token"),console.log("[Client Helius API] ========== END TOKEN VALIDATION INVALID =========="),l.data)}catch(l){return console.error("[Client Helius API] Server request failed:",l),console.error("[Client Helius API] Error response:",(n=l.response)==null?void 0:n.data),console.error("[Client Helius API] Error status:",(r=l.response)==null?void 0:r.status),console.log("[Client Helius API] NO FALLBACK - Returning error"),console.log("[Client Helius API] ========== END TOKEN VALIDATION SERVER ERROR =========="),{isValid:!1,error:((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||"Server validation failed",contractAddress:e,details:(a=(o=l.response)==null?void 0:o.data)==null?void 0:a.details}}}async validateTokenWithHelius(e){var n,r,s,i,o,a;try{console.log(`[Client Helius API] Fetching token metadata from Helius API for: ${e}`);const l=`https://api.helius.xyz/v0/token-metadata?api-key=${this.apiKey}`,c={mintAccounts:[e]};console.log("[Client Helius API] Making request to:",l.replace(this.apiKey,"API_KEY_HIDDEN")),console.log("[Client Helius API] Request payload:",c);const u=await lt.post(l,c,{headers:{"Content-Type":"application/json"},timeout:1e4});if(console.log("[Client Helius API] Response status:",u.status),console.log("[Client Helius API] Response data:",u.data),u.data&&Array.isArray(u.data)&&u.data.length>0){const f=u.data[0];console.log("[Client Helius API] Token data found:",f);const p=f.onChainMetadata,m=f.offChainMetadata;if(!p&&!m)return{isValid:!1,error:"Token metadata not found",contractAddress:e};const v={name:(m==null?void 0:m.name)||((n=p==null?void 0:p.data)==null?void 0:n.name)||"Unknown Token",symbol:(m==null?void 0:m.symbol)||((r=p==null?void 0:p.data)==null?void 0:r.symbol)||"UNKNOWN",description:(m==null?void 0:m.description)||((s=p==null?void 0:p.data)==null?void 0:s.uri)||"",image:(m==null?void 0:m.image)||"",supply:p!=null&&p.supply?parseInt(p.supply.toString()):void 0,decimals:(p==null?void 0:p.decimals)||9,verified:(p==null?void 0:p.primarySaleHappened)||!1,mintAuthority:p==null?void 0:p.mintAuthority,freezeAuthority:p==null?void 0:p.freezeAuthority};if(m!=null&&m.attributes){const g={};m.attributes.forEach(w=>{w.trait_type==="website"&&(g.website=w.value),w.trait_type==="twitter"&&(g.twitter=w.value),w.trait_type==="telegram"&&(g.telegram=w.value),w.trait_type==="discord"&&(g.discord=w.value)}),Object.keys(g).length>0&&(v.socialLinks=g,v.extensions=g)}return console.log("[Client Helius API] Token validated successfully:",v),{isValid:!0,metadata:v,exists:!0,contractAddress:e}}return console.log("[Client Helius API] No token data in response array"),{isValid:!1,error:"Token not found in Helius database",contractAddress:e}}catch(l){return console.error("[Client Helius API] Token metadata API error:",l),console.error("[Client Helius API] Error response:",(i=l.response)==null?void 0:i.data),{isValid:!1,error:((a=(o=l.response)==null?void 0:o.data)==null?void 0:a.error)||l.message||"Failed to fetch token metadata",contractAddress:e}}}parseTokenMetadata(e){var o,a,l,c,u,f,p;const n=e.content,r=n.metadata,s=e.token_info,i=this.extractSocialLinks(r.description||"",r.external_url);return{name:r.name||"Unknown Token",symbol:r.symbol||"UNKNOWN",description:r.description,image:r.image||((a=(o=n.files)==null?void 0:o[0])==null?void 0:a.uri),supply:s?parseInt(s.supply):(l=e.supply)==null?void 0:l.print_current_supply,decimals:(s==null?void 0:s.decimals)||9,verified:((c=e.royalty)==null?void 0:c.primary_sale_happened)||!1,mintAuthority:(u=e.authorities.find(m=>m.scopes.includes("mint")))==null?void 0:u.address,freezeAuthority:(f=e.authorities.find(m=>m.scopes.includes("freeze")))==null?void 0:f.address,creators:e.creators||((p=r.properties)==null?void 0:p.creators),attributes:r.attributes,socialLinks:i,extensions:i}}extractSocialLinks(e,n){const r={};n&&(n.includes("twitter.com")||n.includes("x.com")?r.twitter=n:n.includes("t.me")||n.includes("telegram")?r.telegram=n:n.includes("discord")?r.discord=n:r.website=n);const s=/https?:\/\/[^\s]+/g,i=e.match(s)||[];for(const o of i)(o.includes("twitter.com")||o.includes("x.com"))&&!r.twitter?r.twitter=o:(o.includes("t.me")||o.includes("telegram"))&&!r.telegram?r.telegram=o:o.includes("discord")&&!r.discord?r.discord=o:!r.website&&!o.includes("twitter")&&!o.includes("telegram")&&!o.includes("discord")&&(r.website=o);return r}async getTokenBalance(e,n){try{return this.apiKey?await this.queueRequest(async()=>{const s=(await this.makeRequest("",{jsonrpc:"2.0",id:"get-token-balance",method:"getTokenAccountsByOwner",params:[e,{mint:n},{encoding:"jsonParsed"}]})).data.result.value;return s.length===0?0:s.reduce((o,a)=>o+parseInt(a.amount),0)/Math.pow(10,s[0].decimals||9)}):(console.warn("Token balance lookup requires Helius API key"),0)}catch(r){return console.error("Token balance lookup error:",r),0}}async getTokenAnalytics(e){try{return this.apiKey?await this.queueRequest(async()=>({holderCount:0,transactionCount:0,volume24h:0,marketCap:0,price:0})):{}}catch(n){return console.error("Token analytics error:",n),{}}}async checkExistingCampaign(e){return!1}async validateTokenBatch(e){return(await Promise.allSettled(e.map(r=>this.validateToken(r)))).map((r,s)=>r.status==="fulfilled"?r.value:{isValid:!1,error:"Batch validation failed",contractAddress:e[s]})}async healthCheck(){const e=Date.now();try{return this.apiKey?(await this.makeRequest("",{jsonrpc:"2.0",id:"health-check",method:"getVersion"}),{healthy:!0,latency:Date.now()-e}):{healthy:!1,error:"API key not configured"}}catch(n){return{healthy:!1,latency:Date.now()-e,error:n instanceof Error?n.message:"Unknown error"}}}}const Hre=new $re;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qre=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Z5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[u],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Y5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qre(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new Kre;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Kre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gre=function(t){const e=Y5(t);return Z5.encodeByteArray(e,!0)},nw=function(t){return Gre(t).replace(/\./g,"")},X5=function(t){try{return Z5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yre=()=>Qre().__FIREBASE_DEFAULTS__,Zre=()=>{if(typeof process>"u"||typeof import.meta.env>"u")return;const t=import.meta.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xre=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&X5(t[1]);return e&&JSON.parse(e)},Dv=()=>{try{return Yre()||Zre()||Xre()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},J5=t=>{var e,n;return(n=(e=Dv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},e6=t=>{const e=J5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},t6=()=>{var t;return(t=Dv())===null||t===void 0?void 0:t.config},n6=t=>{var e;return(e=Dv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nw(JSON.stringify(n)),nw(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ese(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qr())}function tse(){var t;const e=(t=Dv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function nse(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rse(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sse(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ise(){const t=qr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ose(){return!tse()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ase(){try{return typeof indexedDB=="object"}catch{return!1}}function lse(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cse="FirebaseError";class oo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cse,Object.setPrototypeOf(this,oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sm.prototype.create)}}class Sm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?use(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new oo(s,a,r)}}function use(t,e){return t.replace(dse,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const dse=/\{\$([^}]+)}/g;function hse(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rw(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(_k(i)&&_k(o)){if(!rw(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function _k(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fse(t,e){const n=new pse(t,e);return n.subscribe.bind(n)}class pse{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mse(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=qx),s.error===void 0&&(s.error=qx),s.complete===void 0&&(s.complete=qx);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mse(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){return t&&t._delegate?t._delegate:t}class Tl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jre;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wse(e))try{this.getOrInitializeService({instanceIdentifier:ec})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ec){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ec){return this.instances.has(e)}getOptions(e=ec){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yse(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ec){return this.component?this.component.multipleInstances?e:ec:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yse(t){return t===ec?void 0:t}function wse(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gse(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pt||(pt={}));const xse={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},_se=pt.INFO,bse={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},Ese=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=bse[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cI{constructor(e){this.name=e,this._logLevel=_se,this._logHandler=Ese,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xse[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const Sse=(t,e)=>e.some(n=>t instanceof n);let bk,Ek;function Tse(){return bk||(bk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ise(){return Ek||(Ek=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s6=new WeakMap,TE=new WeakMap,i6=new WeakMap,Kx=new WeakMap,uI=new WeakMap;function Ase(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ml(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&s6.set(n,t)}).catch(()=>{}),uI.set(e,t),e}function Nse(t){if(TE.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});TE.set(t,e)}let IE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return TE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||i6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ml(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Cse(t){IE=t(IE)}function kse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gx(this),e,...n);return i6.set(r,e.sort?e.sort():[e]),ml(r)}:Ise().includes(t)?function(...e){return t.apply(Gx(this),e),ml(s6.get(this))}:function(...e){return ml(t.apply(Gx(this),e))}}function Rse(t){return typeof t=="function"?kse(t):(t instanceof IDBTransaction&&Nse(t),Sse(t,Tse())?new Proxy(t,IE):t)}function ml(t){if(t instanceof IDBRequest)return Ase(t);if(Kx.has(t))return Kx.get(t);const e=Rse(t);return e!==t&&(Kx.set(t,e),uI.set(e,t)),e}const Gx=t=>uI.get(t);function Mse(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ml(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ml(o.result),l.oldVersion,l.newVersion,ml(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Pse=["get","getKey","getAll","getAllKeys","count"],Ose=["put","add","delete","clear"],Qx=new Map;function Sk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qx.get(e))return Qx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Ose.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Pse.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Qx.set(e,i),i}Cse(t=>({...t,get:(e,n,r)=>Sk(e,n)||t.get(e,n,r),has:(e,n)=>!!Sk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dse(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Dse(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const AE="@firebase/app",Tk="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new cI("@firebase/app"),jse="@firebase/app-compat",Bse="@firebase/analytics-compat",Fse="@firebase/analytics",Use="@firebase/app-check-compat",Vse="@firebase/app-check",zse="@firebase/auth",Wse="@firebase/auth-compat",$se="@firebase/database",Hse="@firebase/data-connect",qse="@firebase/database-compat",Kse="@firebase/functions",Gse="@firebase/functions-compat",Qse="@firebase/installations",Yse="@firebase/installations-compat",Zse="@firebase/messaging",Xse="@firebase/messaging-compat",Jse="@firebase/performance",eie="@firebase/performance-compat",tie="@firebase/remote-config",nie="@firebase/remote-config-compat",rie="@firebase/storage",sie="@firebase/storage-compat",iie="@firebase/firestore",oie="@firebase/vertexai-preview",aie="@firebase/firestore-compat",lie="firebase",cie="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="[DEFAULT]",uie={[AE]:"fire-core",[jse]:"fire-core-compat",[Fse]:"fire-analytics",[Bse]:"fire-analytics-compat",[Vse]:"fire-app-check",[Use]:"fire-app-check-compat",[zse]:"fire-auth",[Wse]:"fire-auth-compat",[$se]:"fire-rtdb",[Hse]:"fire-data-connect",[qse]:"fire-rtdb-compat",[Kse]:"fire-fn",[Gse]:"fire-fn-compat",[Qse]:"fire-iid",[Yse]:"fire-iid-compat",[Zse]:"fire-fcm",[Xse]:"fire-fcm-compat",[Jse]:"fire-perf",[eie]:"fire-perf-compat",[tie]:"fire-rc",[nie]:"fire-rc-compat",[rie]:"fire-gcs",[sie]:"fire-gcs-compat",[iie]:"fire-fst",[aie]:"fire-fst-compat",[oie]:"fire-vertex","fire-js":"fire-js",[lie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map,die=new Map,CE=new Map;function Ik(t,e){try{t.container.addComponent(e)}catch(n){Xo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hc(t){const e=t.name;if(CE.has(e))return Xo.debug(`There were multiple attempts to register component ${e}.`),!1;CE.set(e,t);for(const n of sw.values())Ik(n,t);for(const n of die.values())Ik(n,t);return!0}function jv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function el(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gl=new Sm("app","Firebase",hie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fie{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=cie;function o6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:NE,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw gl.create("bad-app-name",{appName:String(s)});if(n||(n=t6()),!n)throw gl.create("no-options");const i=sw.get(s);if(i){if(rw(n,i.options)&&rw(r,i.config))return i;throw gl.create("duplicate-app",{appName:s})}const o=new vse(s);for(const l of CE.values())o.addComponent(l);const a=new fie(n,r,o);return sw.set(s,a),a}function dI(t=NE){const e=sw.get(t);if(!e&&t===NE&&t6())return o6();if(!e)throw gl.create("no-app",{appName:t});return e}function Hi(t,e,n){var r;let s=(r=uie[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xo.warn(a.join(" "));return}Hc(new Tl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pie="firebase-heartbeat-database",mie=1,Rp="firebase-heartbeat-store";let Yx=null;function a6(){return Yx||(Yx=Mse(pie,mie,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rp)}catch(n){console.warn(n)}}}}).catch(t=>{throw gl.create("idb-open",{originalErrorMessage:t.message})})),Yx}async function gie(t){try{const n=(await a6()).transaction(Rp),r=await n.objectStore(Rp).get(l6(t));return await n.done,r}catch(e){if(e instanceof oo)Xo.warn(e.message);else{const n=gl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xo.warn(n.message)}}}async function Ak(t,e){try{const r=(await a6()).transaction(Rp,"readwrite");await r.objectStore(Rp).put(e,l6(t)),await r.done}catch(n){if(n instanceof oo)Xo.warn(n.message);else{const r=gl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xo.warn(r.message)}}}function l6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yie=1024,wie=30*24*60*60*1e3;class vie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _ie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Nk();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=wie}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Xo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Nk(),{heartbeatsToSend:r,unsentEntries:s}=xie(this._heartbeatsCache.heartbeats),i=nw(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Xo.warn(n),""}}}function Nk(){return new Date().toISOString().substring(0,10)}function xie(t,e=yie){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ck(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ck(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _ie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ase()?lse().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gie(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ak(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ak(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ck(t){return nw(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bie(t){Hc(new Tl("platform-logger",e=>new Lse(e),"PRIVATE")),Hc(new Tl("heartbeat",e=>new vie(e),"PRIVATE")),Hi(AE,Tk,t),Hi(AE,Tk,"esm2017"),Hi("fire-js","")}bie("");var kk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kc,c6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function U(){}U.prototype=R.prototype,M.D=R.prototype,M.prototype=new U,M.prototype.constructor=M,M.C=function(W,$,q){for(var N=Array(arguments.length-2),y=2;y<arguments.length;y++)N[y-2]=arguments[y];return R.prototype[$].apply(W,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,R,U){U||(U=0);var W=Array(16);if(typeof R=="string")for(var $=0;16>$;++$)W[$]=R.charCodeAt(U++)|R.charCodeAt(U++)<<8|R.charCodeAt(U++)<<16|R.charCodeAt(U++)<<24;else for($=0;16>$;++$)W[$]=R[U++]|R[U++]<<8|R[U++]<<16|R[U++]<<24;R=M.g[0],U=M.g[1],$=M.g[2];var q=M.g[3],N=R+(q^U&($^q))+W[0]+3614090360&4294967295;R=U+(N<<7&4294967295|N>>>25),N=q+($^R&(U^$))+W[1]+3905402710&4294967295,q=R+(N<<12&4294967295|N>>>20),N=$+(U^q&(R^U))+W[2]+606105819&4294967295,$=q+(N<<17&4294967295|N>>>15),N=U+(R^$&(q^R))+W[3]+3250441966&4294967295,U=$+(N<<22&4294967295|N>>>10),N=R+(q^U&($^q))+W[4]+4118548399&4294967295,R=U+(N<<7&4294967295|N>>>25),N=q+($^R&(U^$))+W[5]+1200080426&4294967295,q=R+(N<<12&4294967295|N>>>20),N=$+(U^q&(R^U))+W[6]+2821735955&4294967295,$=q+(N<<17&4294967295|N>>>15),N=U+(R^$&(q^R))+W[7]+4249261313&4294967295,U=$+(N<<22&4294967295|N>>>10),N=R+(q^U&($^q))+W[8]+1770035416&4294967295,R=U+(N<<7&4294967295|N>>>25),N=q+($^R&(U^$))+W[9]+2336552879&4294967295,q=R+(N<<12&4294967295|N>>>20),N=$+(U^q&(R^U))+W[10]+4294925233&4294967295,$=q+(N<<17&4294967295|N>>>15),N=U+(R^$&(q^R))+W[11]+2304563134&4294967295,U=$+(N<<22&4294967295|N>>>10),N=R+(q^U&($^q))+W[12]+1804603682&4294967295,R=U+(N<<7&4294967295|N>>>25),N=q+($^R&(U^$))+W[13]+4254626195&4294967295,q=R+(N<<12&4294967295|N>>>20),N=$+(U^q&(R^U))+W[14]+2792965006&4294967295,$=q+(N<<17&4294967295|N>>>15),N=U+(R^$&(q^R))+W[15]+1236535329&4294967295,U=$+(N<<22&4294967295|N>>>10),N=R+($^q&(U^$))+W[1]+4129170786&4294967295,R=U+(N<<5&4294967295|N>>>27),N=q+(U^$&(R^U))+W[6]+3225465664&4294967295,q=R+(N<<9&4294967295|N>>>23),N=$+(R^U&(q^R))+W[11]+643717713&4294967295,$=q+(N<<14&4294967295|N>>>18),N=U+(q^R&($^q))+W[0]+3921069994&4294967295,U=$+(N<<20&4294967295|N>>>12),N=R+($^q&(U^$))+W[5]+3593408605&4294967295,R=U+(N<<5&4294967295|N>>>27),N=q+(U^$&(R^U))+W[10]+38016083&4294967295,q=R+(N<<9&4294967295|N>>>23),N=$+(R^U&(q^R))+W[15]+3634488961&4294967295,$=q+(N<<14&4294967295|N>>>18),N=U+(q^R&($^q))+W[4]+3889429448&4294967295,U=$+(N<<20&4294967295|N>>>12),N=R+($^q&(U^$))+W[9]+568446438&4294967295,R=U+(N<<5&4294967295|N>>>27),N=q+(U^$&(R^U))+W[14]+3275163606&4294967295,q=R+(N<<9&4294967295|N>>>23),N=$+(R^U&(q^R))+W[3]+4107603335&4294967295,$=q+(N<<14&4294967295|N>>>18),N=U+(q^R&($^q))+W[8]+1163531501&4294967295,U=$+(N<<20&4294967295|N>>>12),N=R+($^q&(U^$))+W[13]+2850285829&4294967295,R=U+(N<<5&4294967295|N>>>27),N=q+(U^$&(R^U))+W[2]+4243563512&4294967295,q=R+(N<<9&4294967295|N>>>23),N=$+(R^U&(q^R))+W[7]+1735328473&4294967295,$=q+(N<<14&4294967295|N>>>18),N=U+(q^R&($^q))+W[12]+2368359562&4294967295,U=$+(N<<20&4294967295|N>>>12),N=R+(U^$^q)+W[5]+4294588738&4294967295,R=U+(N<<4&4294967295|N>>>28),N=q+(R^U^$)+W[8]+2272392833&4294967295,q=R+(N<<11&4294967295|N>>>21),N=$+(q^R^U)+W[11]+1839030562&4294967295,$=q+(N<<16&4294967295|N>>>16),N=U+($^q^R)+W[14]+4259657740&4294967295,U=$+(N<<23&4294967295|N>>>9),N=R+(U^$^q)+W[1]+2763975236&4294967295,R=U+(N<<4&4294967295|N>>>28),N=q+(R^U^$)+W[4]+1272893353&4294967295,q=R+(N<<11&4294967295|N>>>21),N=$+(q^R^U)+W[7]+4139469664&4294967295,$=q+(N<<16&4294967295|N>>>16),N=U+($^q^R)+W[10]+3200236656&4294967295,U=$+(N<<23&4294967295|N>>>9),N=R+(U^$^q)+W[13]+681279174&4294967295,R=U+(N<<4&4294967295|N>>>28),N=q+(R^U^$)+W[0]+3936430074&4294967295,q=R+(N<<11&4294967295|N>>>21),N=$+(q^R^U)+W[3]+3572445317&4294967295,$=q+(N<<16&4294967295|N>>>16),N=U+($^q^R)+W[6]+76029189&4294967295,U=$+(N<<23&4294967295|N>>>9),N=R+(U^$^q)+W[9]+3654602809&4294967295,R=U+(N<<4&4294967295|N>>>28),N=q+(R^U^$)+W[12]+3873151461&4294967295,q=R+(N<<11&4294967295|N>>>21),N=$+(q^R^U)+W[15]+530742520&4294967295,$=q+(N<<16&4294967295|N>>>16),N=U+($^q^R)+W[2]+3299628645&4294967295,U=$+(N<<23&4294967295|N>>>9),N=R+($^(U|~q))+W[0]+4096336452&4294967295,R=U+(N<<6&4294967295|N>>>26),N=q+(U^(R|~$))+W[7]+1126891415&4294967295,q=R+(N<<10&4294967295|N>>>22),N=$+(R^(q|~U))+W[14]+2878612391&4294967295,$=q+(N<<15&4294967295|N>>>17),N=U+(q^($|~R))+W[5]+4237533241&4294967295,U=$+(N<<21&4294967295|N>>>11),N=R+($^(U|~q))+W[12]+1700485571&4294967295,R=U+(N<<6&4294967295|N>>>26),N=q+(U^(R|~$))+W[3]+2399980690&4294967295,q=R+(N<<10&4294967295|N>>>22),N=$+(R^(q|~U))+W[10]+4293915773&4294967295,$=q+(N<<15&4294967295|N>>>17),N=U+(q^($|~R))+W[1]+2240044497&4294967295,U=$+(N<<21&4294967295|N>>>11),N=R+($^(U|~q))+W[8]+1873313359&4294967295,R=U+(N<<6&4294967295|N>>>26),N=q+(U^(R|~$))+W[15]+4264355552&4294967295,q=R+(N<<10&4294967295|N>>>22),N=$+(R^(q|~U))+W[6]+2734768916&4294967295,$=q+(N<<15&4294967295|N>>>17),N=U+(q^($|~R))+W[13]+1309151649&4294967295,U=$+(N<<21&4294967295|N>>>11),N=R+($^(U|~q))+W[4]+4149444226&4294967295,R=U+(N<<6&4294967295|N>>>26),N=q+(U^(R|~$))+W[11]+3174756917&4294967295,q=R+(N<<10&4294967295|N>>>22),N=$+(R^(q|~U))+W[2]+718787259&4294967295,$=q+(N<<15&4294967295|N>>>17),N=U+(q^($|~R))+W[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+($+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+$&4294967295,M.g[3]=M.g[3]+q&4294967295}r.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var U=R-this.blockSize,W=this.B,$=this.h,q=0;q<R;){if($==0)for(;q<=U;)s(this,M,q),q+=this.blockSize;if(typeof M=="string"){for(;q<R;)if(W[$++]=M.charCodeAt(q++),$==this.blockSize){s(this,W),$=0;break}}else for(;q<R;)if(W[$++]=M[q++],$==this.blockSize){s(this,W),$=0;break}}this.h=$,this.o+=R},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var U=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=U&255,U/=256;for(this.u(M),M=Array(16),R=U=0;4>R;++R)for(var W=0;32>W;W+=8)M[U++]=this.g[R]>>>W&255;return M};function i(M,R){var U=a;return Object.prototype.hasOwnProperty.call(U,M)?U[M]:U[M]=R(M)}function o(M,R){this.h=R;for(var U=[],W=!0,$=M.length-1;0<=$;$--){var q=M[$]|0;W&&q==R||(U[$]=q,W=!1)}this.g=U}var a={};function l(M){return-128<=M&&128>M?i(M,function(R){return new o([R|0],0>R?-1:0)}):new o([M|0],0>M?-1:0)}function c(M){if(isNaN(M)||!isFinite(M))return f;if(0>M)return w(c(-M));for(var R=[],U=1,W=0;M>=U;W++)R[W]=M/U|0,U*=4294967296;return new o(R,0)}function u(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return w(u(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=c(Math.pow(R,8)),W=f,$=0;$<M.length;$+=8){var q=Math.min(8,M.length-$),N=parseInt(M.substring($,$+q),R);8>q?(q=c(Math.pow(R,q)),W=W.j(q).add(c(N))):(W=W.j(U),W=W.add(c(N)))}return W}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-w(this).m();for(var M=0,R=1,U=0;U<this.g.length;U++){var W=this.i(U);M+=(0<=W?W:4294967296+W)*R,R*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(v(this))return"0";if(g(this))return"-"+w(this).toString(M);for(var R=c(Math.pow(M,6)),U=this,W="";;){var $=S(U,R).g;U=_(U,$.j(R));var q=((0<U.g.length?U.g[0]:U.h)>>>0).toString(M);if(U=$,v(U))return q+W;for(;6>q.length;)q="0"+q;W=q+W}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function v(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function g(M){return M.h==-1}t.l=function(M){return M=_(this,M),g(M)?-1:v(M)?0:1};function w(M){for(var R=M.g.length,U=[],W=0;W<R;W++)U[W]=~M.g[W];return new o(U,~M.h).add(p)}t.abs=function(){return g(this)?w(this):this},t.add=function(M){for(var R=Math.max(this.g.length,M.g.length),U=[],W=0,$=0;$<=R;$++){var q=W+(this.i($)&65535)+(M.i($)&65535),N=(q>>>16)+(this.i($)>>>16)+(M.i($)>>>16);W=N>>>16,q&=65535,N&=65535,U[$]=N<<16|q}return new o(U,U[U.length-1]&-2147483648?-1:0)};function _(M,R){return M.add(w(R))}t.j=function(M){if(v(this)||v(M))return f;if(g(this))return g(M)?w(this).j(w(M)):w(w(this).j(M));if(g(M))return w(this.j(w(M)));if(0>this.l(m)&&0>M.l(m))return c(this.m()*M.m());for(var R=this.g.length+M.g.length,U=[],W=0;W<2*R;W++)U[W]=0;for(W=0;W<this.g.length;W++)for(var $=0;$<M.g.length;$++){var q=this.i(W)>>>16,N=this.i(W)&65535,y=M.i($)>>>16,I=M.i($)&65535;U[2*W+2*$]+=N*I,b(U,2*W+2*$),U[2*W+2*$+1]+=q*I,b(U,2*W+2*$+1),U[2*W+2*$+1]+=N*y,b(U,2*W+2*$+1),U[2*W+2*$+2]+=q*y,b(U,2*W+2*$+2)}for(W=0;W<R;W++)U[W]=U[2*W+1]<<16|U[2*W];for(W=R;W<2*R;W++)U[W]=0;return new o(U,0)};function b(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function x(M,R){this.g=M,this.h=R}function S(M,R){if(v(R))throw Error("division by zero");if(v(M))return new x(f,f);if(g(M))return R=S(w(M),R),new x(w(R.g),w(R.h));if(g(R))return R=S(M,w(R)),new x(w(R.g),R.h);if(30<M.g.length){if(g(M)||g(R))throw Error("slowDivide_ only works with positive integers.");for(var U=p,W=R;0>=W.l(M);)U=D(U),W=D(W);var $=F(U,1),q=F(W,1);for(W=F(W,2),U=F(U,2);!v(W);){var N=q.add(W);0>=N.l(M)&&($=$.add(U),q=N),W=F(W,1),U=F(U,1)}return R=_(M,$.j(R)),new x($,R)}for($=f;0<=M.l(R);){for(U=Math.max(1,Math.floor(M.m()/R.m())),W=Math.ceil(Math.log(U)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),q=c(U),N=q.j(R);g(N)||0<N.l(M);)U-=W,q=c(U),N=q.j(R);v(q)&&(q=p),$=$.add(q),M=_(M,N)}return new x($,M)}t.A=function(M){return S(this,M).h},t.and=function(M){for(var R=Math.max(this.g.length,M.g.length),U=[],W=0;W<R;W++)U[W]=this.i(W)&M.i(W);return new o(U,this.h&M.h)},t.or=function(M){for(var R=Math.max(this.g.length,M.g.length),U=[],W=0;W<R;W++)U[W]=this.i(W)|M.i(W);return new o(U,this.h|M.h)},t.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),U=[],W=0;W<R;W++)U[W]=this.i(W)^M.i(W);return new o(U,this.h^M.h)};function D(M){for(var R=M.g.length+1,U=[],W=0;W<R;W++)U[W]=M.i(W)<<1|M.i(W-1)>>>31;return new o(U,M.h)}function F(M,R){var U=R>>5;R%=32;for(var W=M.g.length-U,$=[],q=0;q<W;q++)$[q]=0<R?M.i(q+U)>>>R|M.i(q+U+1)<<32-R:M.i(q+U);return new o($,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,c6=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,kc=o}).apply(typeof kk<"u"?kk:typeof self<"u"?self:typeof window<"u"?window:{});var Fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u6,Rf,d6,O0,kE,h6,f6,p6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,E,P){return h==Array.prototype||h==Object.prototype||(h[E]=P.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fg=="object"&&Fg];for(var E=0;E<h.length;++E){var P=h[E];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function s(h,E){if(E)e:{var P=r;h=h.split(".");for(var G=0;G<h.length-1;G++){var J=h[G];if(!(J in P))break e;P=P[J]}h=h[h.length-1],G=P[h],E=E(G),E!=G&&E!=null&&e(P,h,{configurable:!0,writable:!0,value:E})}}function i(h,E){h instanceof String&&(h+="");var P=0,G=!1,J={next:function(){if(!G&&P<h.length){var se=P++;return{value:E(se,h[se]),done:!1}}return G=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}s("Array.prototype.values",function(h){return h||function(){return i(this,function(E,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var E=typeof h;return E=E!="object"?E:h?Array.isArray(h)?"array":E:"null",E=="array"||E=="object"&&typeof h.length=="number"}function c(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function u(h,E,P){return h.call.apply(h.bind,arguments)}function f(h,E,P){if(!h)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,G),h.apply(E,J)}}return function(){return h.apply(E,arguments)}}function p(h,E,P){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,p.apply(null,arguments)}function m(h,E){var P=Array.prototype.slice.call(arguments,1);return function(){var G=P.slice();return G.push.apply(G,arguments),h.apply(this,G)}}function v(h,E){function P(){}P.prototype=E.prototype,h.aa=E.prototype,h.prototype=new P,h.prototype.constructor=h,h.Qb=function(G,J,se){for(var ve=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)ve[Ut-2]=arguments[Ut];return E.prototype[J].apply(G,ve)}}function g(h){const E=h.length;if(0<E){const P=Array(E);for(let G=0;G<E;G++)P[G]=h[G];return P}return[]}function w(h,E){for(let P=1;P<arguments.length;P++){const G=arguments[P];if(l(G)){const J=h.length||0,se=G.length||0;h.length=J+se;for(let ve=0;ve<se;ve++)h[J+ve]=G[ve]}else h.push(G)}}class _{constructor(E,P){this.i=E,this.j=P,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(h){return/^[\s\xa0]*$/.test(h)}function x(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function S(h){return S[" "](h),h}S[" "]=function(){};var D=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function F(h,E,P){for(const G in h)E.call(P,h[G],G,h)}function M(h,E){for(const P in h)E.call(void 0,h[P],P,h)}function R(h){const E={};for(const P in h)E[P]=h[P];return E}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(h,E){let P,G;for(let J=1;J<arguments.length;J++){G=arguments[J];for(P in G)h[P]=G[P];for(let se=0;se<U.length;se++)P=U[se],Object.prototype.hasOwnProperty.call(G,P)&&(h[P]=G[P])}}function $(h){var E=1;h=h.split(":");const P=[];for(;0<E&&h.length;)P.push(h.shift()),E--;return h.length&&P.push(h.join(":")),P}function q(h){a.setTimeout(()=>{throw h},0)}function N(){var h=j;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class y{constructor(){this.h=this.g=null}add(E,P){const G=I.get();G.set(E,P),this.h?this.h.next=G:this.g=G,this.h=G}}var I=new _(()=>new O,h=>h.reset());class O{constructor(){this.next=this.g=this.h=null}set(E,P){this.h=E,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let z,L=!1,j=new y,H=()=>{const h=a.Promise.resolve(void 0);z=()=>{h.then(B)}};var B=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(P){q(P)}var E=I;E.j(h),100>E.h&&(E.h++,h.next=E.g,E.g=h)}L=!1};function T(){this.s=this.s,this.C=this.C}T.prototype.s=!1,T.prototype.ma=function(){this.s||(this.s=!0,this.N())},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const P=()=>{};a.addEventListener("test",P,E),a.removeEventListener("test",P,E)}catch{}return h}();function ue(h,E){if(K.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var P=this.type=h.type,G=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget){if(D){e:{try{S(E.nodeName);var J=!0;break e}catch{}J=!1}J||(E=null)}}else P=="mouseover"?E=h.fromElement:P=="mouseout"&&(E=h.toElement);this.relatedTarget=E,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:he[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ue.aa.h.call(this)}}v(ue,K);var he={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),ye=0;function Te(h,E,P,G,J){this.listener=h,this.proxy=null,this.src=E,this.type=P,this.capture=!!G,this.ha=J,this.key=++ye,this.da=this.fa=!1}function Re(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ee(h){this.src=h,this.g={},this.h=0}Ee.prototype.add=function(h,E,P,G,J){var se=h.toString();h=this.g[se],h||(h=this.g[se]=[],this.h++);var ve=He(h,E,G,J);return-1<ve?(E=h[ve],P||(E.fa=!1)):(E=new Te(E,this.src,se,!!G,J),E.fa=P,h.push(E)),E};function _e(h,E){var P=E.type;if(P in h.g){var G=h.g[P],J=Array.prototype.indexOf.call(G,E,void 0),se;(se=0<=J)&&Array.prototype.splice.call(G,J,1),se&&(Re(E),h.g[P].length==0&&(delete h.g[P],h.h--))}}function He(h,E,P,G){for(var J=0;J<h.length;++J){var se=h[J];if(!se.da&&se.listener==E&&se.capture==!!P&&se.ha==G)return J}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),Ge={};function zt(h,E,P,G,J){if(Array.isArray(E)){for(var se=0;se<E.length;se++)zt(h,E[se],P,G,J);return null}return P=Fn(P),h&&h[le]?h.K(E,P,c(G)?!!G.capture:!1,J):at(h,E,P,!1,G,J)}function at(h,E,P,G,J,se){if(!E)throw Error("Invalid event type");var ve=c(J)?!!J.capture:!!J,Ut=Tt(h);if(Ut||(h[Me]=Ut=new Ee(h)),P=Ut.add(E,P,G,ve,se),P.proxy)return P;if(G=Et(),P.proxy=G,G.src=h,G.listener=P,h.addEventListener)ae||(J=ve),J===void 0&&(J=!1),h.addEventListener(E.toString(),G,J);else if(h.attachEvent)h.attachEvent(oe(E.toString()),G);else if(h.addListener&&h.removeListener)h.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Et(){function h(P){return E.call(h.src,h.listener,P)}const E=At;return h}function or(h,E,P,G,J){if(Array.isArray(E))for(var se=0;se<E.length;se++)or(h,E[se],P,G,J);else G=c(G)?!!G.capture:!!G,P=Fn(P),h&&h[le]?(h=h.i,E=String(E).toString(),E in h.g&&(se=h.g[E],P=He(se,P,G,J),-1<P&&(Re(se[P]),Array.prototype.splice.call(se,P,1),se.length==0&&(delete h.g[E],h.h--)))):h&&(h=Tt(h))&&(E=h.g[E.toString()],h=-1,E&&(h=He(E,P,G,J)),(P=-1<h?E[h]:null)&&wt(P))}function wt(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[le])_e(E.i,h);else{var P=h.type,G=h.proxy;E.removeEventListener?E.removeEventListener(P,G,h.capture):E.detachEvent?E.detachEvent(oe(P),G):E.addListener&&E.removeListener&&E.removeListener(G),(P=Tt(E))?(_e(P,h),P.h==0&&(P.src=null,E[Me]=null)):Re(h)}}}function oe(h){return h in Ge?Ge[h]:Ge[h]="on"+h}function At(h,E){if(h.da)h=!0;else{E=new ue(E,this);var P=h.listener,G=h.ha||h.src;h.fa&&wt(h),h=P.call(G,E)}return h}function Tt(h){return h=h[Me],h instanceof Ee?h:null}var Nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fn(h){return typeof h=="function"?h:(h[Nt]||(h[Nt]=function(E){return h.handleEvent(E)}),h[Nt])}function ot(){T.call(this),this.i=new Ee(this),this.M=this,this.F=null}v(ot,T),ot.prototype[le]=!0,ot.prototype.removeEventListener=function(h,E,P,G){or(this,h,E,P,G)};function V(h,E){var P,G=h.F;if(G)for(P=[];G;G=G.F)P.push(G);if(h=h.M,G=E.type||E,typeof E=="string")E=new K(E,h);else if(E instanceof K)E.target=E.target||h;else{var J=E;E=new K(G,h),W(E,J)}if(J=!0,P)for(var se=P.length-1;0<=se;se--){var ve=E.g=P[se];J=A(ve,G,!0,E)&&J}if(ve=E.g=h,J=A(ve,G,!0,E)&&J,J=A(ve,G,!1,E)&&J,P)for(se=0;se<P.length;se++)ve=E.g=P[se],J=A(ve,G,!1,E)&&J}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var h=this.i,E;for(E in h.g){for(var P=h.g[E],G=0;G<P.length;G++)Re(P[G]);delete h.g[E],h.h--}}this.F=null},ot.prototype.K=function(h,E,P,G){return this.i.add(String(h),E,!1,P,G)},ot.prototype.L=function(h,E,P,G){return this.i.add(String(h),E,!0,P,G)};function A(h,E,P,G){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();for(var J=!0,se=0;se<E.length;++se){var ve=E[se];if(ve&&!ve.da&&ve.capture==P){var Ut=ve.listener,ar=ve.ha||ve.src;ve.fa&&_e(h.i,ve),J=Ut.call(ar,G)!==!1&&J}}return J&&!G.defaultPrevented}function C(h,E,P){if(typeof h=="function")P&&(h=p(h,P));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(h,E||0)}function Q(h){h.g=C(()=>{h.g=null,h.i&&(h.i=!1,Q(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class Z extends T{constructor(E,P){super(),this.m=E,this.l=P,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function X(h){T.call(this),this.h=h,this.g={}}v(X,T);var ne=[];function tt(h){F(h.g,function(E,P){this.g.hasOwnProperty(P)&&wt(E)},h),h.g={}}X.prototype.N=function(){X.aa.N.call(this),tt(this)},X.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=a.JSON.stringify,Ke=a.JSON.parse,Bt=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Be(){}Be.prototype.h=null;function hn(h){return h.h||(h.h=h.i())}function jh(){}var Wt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function on(){K.call(this,"d")}v(on,K);function lu(){K.call(this,"c")}v(lu,K);var Ot={},fn=null;function Bl(){return fn=fn||new ot}Ot.La="serverreachability";function pn(h){K.call(this,Ot.La,h)}v(pn,K);function $t(h){const E=Bl();V(E,new pn(E))}Ot.STAT_EVENT="statevent";function Bh(h,E){K.call(this,Ot.STAT_EVENT,h),this.stat=E}v(Bh,K);function dt(h){const E=Bl();V(E,new Bh(E,h))}Ot.Ma="timingevent";function mn(h,E){K.call(this,Ot.Ma,h),this.size=E}v(mn,K);function ia(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},E)}function Ht(){this.g=!0}Ht.prototype.xa=function(){this.g=!1};function An(h,E,P,G,J,se){h.info(function(){if(h.g)if(se)for(var ve="",Ut=se.split("&"),ar=0;ar<Ut.length;ar++){var vt=Ut[ar].split("=");if(1<vt.length){var Ir=vt[0];vt=vt[1];var Ar=Ir.split("_");ve=2<=Ar.length&&Ar[1]=="type"?ve+(Ir+"="+vt+"&"):ve+(Ir+"=redacted&")}}else ve=null;else ve=se;return"XMLHTTP REQ ("+G+") [attempt "+J+"]: "+E+`
`+P+`
`+ve})}function Fm(h,E,P,G,J,se,ve){h.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+J+"]: "+E+`
`+P+`
`+se+" "+ve})}function Ft(h,E,P,G){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+Um(h,P)+(G?" "+G:"")})}function Nn(h,E){h.info(function(){return"TIMEOUT: "+E})}Ht.prototype.info=function(){};function Um(h,E){if(!h.g)return E;if(!E)return null;try{var P=JSON.parse(E);if(P){for(h=0;h<P.length;h++)if(Array.isArray(P[h])){var G=P[h];if(!(2>G.length)){var J=G[1];if(Array.isArray(J)&&!(1>J.length)){var se=J[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ve=1;ve<J.length;ve++)J[ve]=""}}}}return qe(P)}catch{return E}}var Xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cu;function Jt(){}v(Jt,Be),Jt.prototype.g=function(){return new XMLHttpRequest},Jt.prototype.i=function(){return{}},cu=new Jt;function Ct(h,E,P,G){this.j=h,this.i=E,this.l=P,this.R=G||1,this.U=new X(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uu}function uu(){this.i=null,this.g="",this.h=!1}var du={},Fl={};function Ul(h,E,P){h.L=1,h.v=Wm(uo(E)),h.m=P,h.P=!0,hu(h,null)}function hu(h,E){h.F=Date.now(),oa(h),h.A=uo(h.v);var P=h.A,G=h.R;Array.isArray(G)||(G=[String(G)]),_A(P.i,"t",G),h.C=0,P=h.j.J,h.h=new uu,h.g=FA(h.j,P?E:null,!h.m),0<h.O&&(h.M=new Z(p(h.Y,h,h.g),h.O)),E=h.U,P=h.g,G=h.ca;var J="readystatechange";Array.isArray(J)||(J&&(ne[0]=J.toString()),J=ne);for(var se=0;se<J.length;se++){var ve=zt(P,J[se],G||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,E)):(h.u="GET",h.g.ea(h.A,h.u,null,E)),$t(),An(h.i,h.u,h.A,h.l,h.R,h.m)}Ct.prototype.ca=function(h){h=h.target;const E=this.M;E&&ho(h)==3?E.j():this.Y(h)},Ct.prototype.Y=function(h){try{if(h==this.g)e:{const Ar=ho(this.g);var E=this.g.Ba();const xu=this.g.Z();if(!(3>Ar)&&(Ar!=3||this.g&&(this.h.h||this.g.oa()||NA(this.g)))){this.J||Ar!=4||E==7||(E==8||0>=xu?$t(3):$t(2)),Vl(this);var P=this.g.Z();this.X=P;t:if(fu(this)){var G=NA(this.g);h="";var J=G.length,se=ho(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ni(this),co(this);var ve="";break t}this.h.i=new a.TextDecoder}for(E=0;E<J;E++)this.h.h=!0,h+=this.h.i.decode(G[E],{stream:!(se&&E==J-1)});G.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=P==200,Fm(this.i,this.u,this.A,this.l,this.R,Ar,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Ut,ar=this.g;if((Ut=ar.g?ar.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Ut)){var vt=Ut;break t}}vt=null}if(P=vt)Ft(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zl(this,P);else{this.o=!1,this.s=3,dt(12),ni(this),co(this);break e}}if(this.P){P=!0;let ri;for(;!this.J&&this.C<ve.length;)if(ri=Fh(this,ve),ri==Fl){Ar==4&&(this.s=4,dt(14),P=!1),Ft(this.i,this.l,null,"[Incomplete Response]");break}else if(ri==du){this.s=4,dt(15),Ft(this.i,this.l,ve,"[Invalid Chunk]"),P=!1;break}else Ft(this.i,this.l,ri,null),zl(this,ri);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ar!=4||ve.length!=0||this.h.h||(this.s=1,dt(16),P=!1),this.o=this.o&&P,!P)Ft(this.i,this.l,ve,"[Invalid Chunked Response]"),ni(this),co(this);else if(0<ve.length&&!this.W){this.W=!0;var Ir=this.j;Ir.g==this&&Ir.ba&&!Ir.M&&(Ir.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),l1(Ir),Ir.M=!0,dt(11))}}else Ft(this.i,this.l,ve,null),zl(this,ve);Ar==4&&ni(this),this.o&&!this.J&&(Ar==4?LA(this.j,this):(this.o=!1,oa(this)))}else F8(this.g),P==400&&0<ve.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),ni(this),co(this)}}}catch{}finally{}};function fu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Fh(h,E){var P=h.C,G=E.indexOf(`
`,P);return G==-1?Fl:(P=Number(E.substring(P,G)),isNaN(P)?du:(G+=1,G+P>E.length?Fl:(E=E.slice(G,G+P),h.C=G+P,E)))}Ct.prototype.cancel=function(){this.J=!0,ni(this)};function oa(h){h.S=Date.now()+h.I,pu(h,h.I)}function pu(h,E){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ia(p(h.ba,h),E)}function Vl(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Ct.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Nn(this.i,this.A),this.L!=2&&($t(),dt(17)),ni(this),this.s=2,co(this)):pu(this,this.S-h)};function co(h){h.j.G==0||h.J||LA(h.j,h)}function ni(h){Vl(h);var E=h.M;E&&typeof E.ma=="function"&&E.ma(),h.M=null,tt(h.U),h.g&&(E=h.g,h.g=null,E.abort(),E.ma())}function zl(h,E){try{var P=h.j;if(P.G!=0&&(P.g==h||Wl(P.h,h))){if(!h.K&&Wl(P.h,h)&&P.G==3){try{var G=P.Da.g.parse(E)}catch{G=null}if(Array.isArray(G)&&G.length==3){var J=G;if(J[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<h.F)Qm(P),Km(P);else break e;a1(P),dt(18)}}else P.za=J[1],0<P.za-P.T&&37500>J[2]&&P.F&&P.v==0&&!P.C&&(P.C=ia(p(P.Za,P),6e3));if(1>=yu(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else ql(P,11)}else if((h.K||P.g==h)&&Qm(P),!b(E))for(J=P.Da.g.parse(E),E=0;E<J.length;E++){let vt=J[E];if(P.T=vt[0],vt=vt[1],P.G==2)if(vt[0]=="c"){P.K=vt[1],P.ia=vt[2];const Ir=vt[3];Ir!=null&&(P.la=Ir,P.j.info("VER="+P.la));const Ar=vt[4];Ar!=null&&(P.Aa=Ar,P.j.info("SVER="+P.Aa));const xu=vt[5];xu!=null&&typeof xu=="number"&&0<xu&&(G=1.5*xu,P.L=G,P.j.info("backChannelRequestTimeoutMs_="+G)),G=P;const ri=h.g;if(ri){const Zm=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zm){var se=G.h;se.g||Zm.indexOf("spdy")==-1&&Zm.indexOf("quic")==-1&&Zm.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&($l(se,se.h),se.h=null))}if(G.D){const c1=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;c1&&(G.ya=c1,en(G.I,G.D,c1))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-h.F,P.j.info("Handshake RTT: "+P.R+"ms")),G=P;var ve=h;if(G.qa=BA(G,G.J?G.ia:null,G.W),ve.K){fA(G.h,ve);var Ut=ve,ar=G.L;ar&&(Ut.I=ar),Ut.B&&(Vl(Ut),oa(Ut)),G.g=ve}else PA(G);0<P.i.length&&Gm(P)}else vt[0]!="stop"&&vt[0]!="close"||ql(P,7);else P.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?ql(P,7):o1(P):vt[0]!="noop"&&P.l&&P.l.ta(vt),P.v=0)}}$t(4)}catch{}}var Uh=class{constructor(h,E){this.g=h,this.map=E}};function mu(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gu(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function yu(h){return h.h?1:h.g?h.g.size:0}function Wl(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function $l(h,E){h.g?h.g.add(E):h.h=E}function fA(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}mu.prototype.cancel=function(){if(this.i=pA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function pA(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const P of h.g.values())E=E.concat(P.D);return E}return g(h.i)}function S8(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var E=[],P=h.length,G=0;G<P;G++)E.push(h[G]);return E}E=[],P=0;for(G in h)E[P++]=h[G];return E}function T8(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var E=[];h=h.length;for(var P=0;P<h;P++)E.push(P);return E}E=[],P=0;for(const G in h)E[P++]=G;return E}}}function mA(h,E){if(h.forEach&&typeof h.forEach=="function")h.forEach(E,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,E,void 0);else for(var P=T8(h),G=S8(h),J=G.length,se=0;se<J;se++)E.call(void 0,G[se],P&&P[se],h)}var gA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function I8(h,E){if(h){h=h.split("&");for(var P=0;P<h.length;P++){var G=h[P].indexOf("="),J=null;if(0<=G){var se=h[P].substring(0,G);J=h[P].substring(G+1)}else se=h[P];E(se,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Hl(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Hl){this.h=h.h,Vm(this,h.j),this.o=h.o,this.g=h.g,zm(this,h.s),this.l=h.l;var E=h.i,P=new Wh;P.i=E.i,E.g&&(P.g=new Map(E.g),P.h=E.h),yA(this,P),this.m=h.m}else h&&(E=String(h).match(gA))?(this.h=!1,Vm(this,E[1]||"",!0),this.o=Vh(E[2]||""),this.g=Vh(E[3]||"",!0),zm(this,E[4]),this.l=Vh(E[5]||"",!0),yA(this,E[6]||"",!0),this.m=Vh(E[7]||"")):(this.h=!1,this.i=new Wh(null,this.h))}Hl.prototype.toString=function(){var h=[],E=this.j;E&&h.push(zh(E,wA,!0),":");var P=this.g;return(P||E=="file")&&(h.push("//"),(E=this.o)&&h.push(zh(E,wA,!0),"@"),h.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&h.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&h.push("/"),h.push(zh(P,P.charAt(0)=="/"?C8:N8,!0))),(P=this.i.toString())&&h.push("?",P),(P=this.m)&&h.push("#",zh(P,R8)),h.join("")};function uo(h){return new Hl(h)}function Vm(h,E,P){h.j=P?Vh(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function zm(h,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);h.s=E}else h.s=null}function yA(h,E,P){E instanceof Wh?(h.i=E,M8(h.i,h.h)):(P||(E=zh(E,k8)),h.i=new Wh(E,h.h))}function en(h,E,P){h.i.set(E,P)}function Wm(h){return en(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Vh(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function zh(h,E,P){return typeof h=="string"?(h=encodeURI(h).replace(E,A8),P&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function A8(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var wA=/[#\/\?@]/g,N8=/[#\?:]/g,C8=/[#\?]/g,k8=/[#\?@]/g,R8=/#/g;function Wh(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function aa(h){h.g||(h.g=new Map,h.h=0,h.i&&I8(h.i,function(E,P){h.add(decodeURIComponent(E.replace(/\+/g," ")),P)}))}t=Wh.prototype,t.add=function(h,E){aa(this),this.i=null,h=wu(this,h);var P=this.g.get(h);return P||this.g.set(h,P=[]),P.push(E),this.h+=1,this};function vA(h,E){aa(h),E=wu(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function xA(h,E){return aa(h),E=wu(h,E),h.g.has(E)}t.forEach=function(h,E){aa(this),this.g.forEach(function(P,G){P.forEach(function(J){h.call(E,J,G,this)},this)},this)},t.na=function(){aa(this);const h=Array.from(this.g.values()),E=Array.from(this.g.keys()),P=[];for(let G=0;G<E.length;G++){const J=h[G];for(let se=0;se<J.length;se++)P.push(E[G])}return P},t.V=function(h){aa(this);let E=[];if(typeof h=="string")xA(this,h)&&(E=E.concat(this.g.get(wu(this,h))));else{h=Array.from(this.g.values());for(let P=0;P<h.length;P++)E=E.concat(h[P])}return E},t.set=function(h,E){return aa(this),this.i=null,h=wu(this,h),xA(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},t.get=function(h,E){return h?(h=this.V(h),0<h.length?String(h[0]):E):E};function _A(h,E,P){vA(h,E),0<P.length&&(h.i=null,h.g.set(wu(h,E),g(P)),h.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(var P=0;P<E.length;P++){var G=E[P];const se=encodeURIComponent(String(G)),ve=this.V(G);for(G=0;G<ve.length;G++){var J=se;ve[G]!==""&&(J+="="+encodeURIComponent(String(ve[G]))),h.push(J)}}return this.i=h.join("&")};function wu(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function M8(h,E){E&&!h.j&&(aa(h),h.i=null,h.g.forEach(function(P,G){var J=G.toLowerCase();G!=J&&(vA(this,G),_A(this,J,P))},h)),h.j=E}function P8(h,E){const P=new Ht;if(a.Image){const G=new Image;G.onload=m(la,P,"TestLoadImage: loaded",!0,E,G),G.onerror=m(la,P,"TestLoadImage: error",!1,E,G),G.onabort=m(la,P,"TestLoadImage: abort",!1,E,G),G.ontimeout=m(la,P,"TestLoadImage: timeout",!1,E,G),a.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=h}else E(!1)}function O8(h,E){const P=new Ht,G=new AbortController,J=setTimeout(()=>{G.abort(),la(P,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:G.signal}).then(se=>{clearTimeout(J),se.ok?la(P,"TestPingServer: ok",!0,E):la(P,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(J),la(P,"TestPingServer: error",!1,E)})}function la(h,E,P,G,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),G(P)}catch{}}function L8(){this.g=new Bt}function D8(h,E,P){const G=P||"";try{mA(h,function(J,se){let ve=J;c(J)&&(ve=qe(J)),E.push(G+se+"="+encodeURIComponent(ve))})}catch(J){throw E.push(G+"type="+encodeURIComponent("_badmap")),J}}function $m(h){this.l=h.Ub||null,this.j=h.eb||!1}v($m,Be),$m.prototype.g=function(){return new Hm(this.l,this.j)},$m.prototype.i=function(h){return function(){return h}}({});function Hm(h,E){ot.call(this),this.D=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Hm,ot),t=Hm.prototype,t.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=E,this.readyState=1,Hh(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(E.body=h),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$h(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Hh(this)),this.g&&(this.readyState=3,Hh(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bA(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function bA(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?$h(this):Hh(this),this.readyState==3&&bA(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,$h(this))},t.Qa=function(h){this.g&&(this.response=h,$h(this))},t.ga=function(){this.g&&$h(this)};function $h(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Hh(h)}t.setRequestHeader=function(h,E){this.u.append(h,E)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var P=E.next();!P.done;)P=P.value,h.push(P[0]+": "+P[1]),P=E.next();return h.join(`\r
`)};function Hh(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Hm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function EA(h){let E="";return F(h,function(P,G){E+=G,E+=":",E+=P,E+=`\r
`}),E}function i1(h,E,P){e:{for(G in P){var G=!1;break e}G=!0}G||(P=EA(P),typeof h=="string"?P!=null&&encodeURIComponent(String(P)):en(h,E,P))}function Cn(h){ot.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Cn,ot);var j8=/^https?$/i,B8=["POST","PUT"];t=Cn.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,E,P,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cu.g(),this.v=this.o?hn(this.o):hn(cu),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(se){SA(this,se);return}if(h=P||"",P=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var J in G)P.set(J,G[J]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const se of G.keys())P.set(se,G.get(se));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(P.keys()).find(se=>se.toLowerCase()=="content-type"),J=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(B8,E,void 0))||G||J||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ve]of P)this.g.setRequestHeader(se,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{AA(this),this.u=!0,this.g.send(h),this.u=!1}catch(se){SA(this,se)}};function SA(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.m=5,TA(h),qm(h)}function TA(h){h.A||(h.A=!0,V(h,"complete"),V(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,V(this,"complete"),V(this,"abort"),qm(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qm(this,!0)),Cn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?IA(this):this.bb())},t.bb=function(){IA(this)};function IA(h){if(h.h&&typeof o<"u"&&(!h.v[1]||ho(h)!=4||h.Z()!=2)){if(h.u&&ho(h)==4)C(h.Ea,0,h);else if(V(h,"readystatechange"),ho(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var P;if(!(P=E)){var G;if(G=ve===0){var J=String(h.D).match(gA)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),G=!j8.test(J?J.toLowerCase():"")}P=G}if(P)V(h,"complete"),V(h,"success");else{h.m=6;try{var se=2<ho(h)?h.g.statusText:""}catch{se=""}h.l=se+" ["+h.Z()+"]",TA(h)}}finally{qm(h)}}}}function qm(h,E){if(h.g){AA(h);const P=h.g,G=h.v[0]?()=>{}:null;h.g=null,h.v=null,E||V(h,"ready");try{P.onreadystatechange=G}catch{}}}function AA(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ho(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ho(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),Ke(E)}};function NA(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function F8(h){const E={};h=(h.g&&2<=ho(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<h.length;G++){if(b(h[G]))continue;var P=$(h[G]);const J=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const se=E[J]||[];E[J]=se,se.push(P)}M(E,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qh(h,E,P){return P&&P.internalChannelParams&&P.internalChannelParams[h]||E}function CA(h){this.Aa=0,this.i=[],this.j=new Ht,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qh("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qh("baseRetryDelayMs",5e3,h),this.cb=qh("retryDelaySeedMs",1e4,h),this.Wa=qh("forwardChannelMaxRetries",2,h),this.wa=qh("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new mu(h&&h.concurrentRequestLimit),this.Da=new L8,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=CA.prototype,t.la=8,t.G=1,t.connect=function(h,E,P,G){dt(0),this.W=h,this.H=E||{},P&&G!==void 0&&(this.H.OSID=P,this.H.OAID=G),this.F=this.X,this.I=BA(this,null,this.W),Gm(this)};function o1(h){if(kA(h),h.G==3){var E=h.U++,P=uo(h.I);if(en(P,"SID",h.K),en(P,"RID",E),en(P,"TYPE","terminate"),Kh(h,P),E=new Ct(h,h.j,E),E.L=2,E.v=Wm(uo(P)),P=!1,a.navigator&&a.navigator.sendBeacon)try{P=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!P&&a.Image&&(new Image().src=E.v,P=!0),P||(E.g=FA(E.j,null),E.g.ea(E.v)),E.F=Date.now(),oa(E)}jA(h)}function Km(h){h.g&&(l1(h),h.g.cancel(),h.g=null)}function kA(h){Km(h),h.u&&(a.clearTimeout(h.u),h.u=null),Qm(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Gm(h){if(!gu(h.h)&&!h.s){h.s=!0;var E=h.Ga;z||H(),L||(z(),L=!0),j.add(E,h),h.B=0}}function U8(h,E){return yu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=E.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ia(p(h.Ga,h,E),DA(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const J=new Ct(this,this.j,h);let se=this.o;if(this.S&&(se?(se=R(se),W(se,this.S)):se=this.S),this.m!==null||this.O||(J.H=se,se=null),this.P)e:{for(var E=0,P=0;P<this.i.length;P++){t:{var G=this.i[P];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(E+=G,4096<E){E=P;break e}if(E===4096||P===this.i.length-1){E=P+1;break e}}E=1e3}else E=1e3;E=MA(this,J,E),P=uo(this.I),en(P,"RID",h),en(P,"CVER",22),this.D&&en(P,"X-HTTP-Session-Id",this.D),Kh(this,P),se&&(this.O?E="headers="+encodeURIComponent(String(EA(se)))+"&"+E:this.m&&i1(P,this.m,se)),$l(this.h,J),this.Ua&&en(P,"TYPE","init"),this.P?(en(P,"$req",E),en(P,"SID","null"),J.T=!0,Ul(J,P,null)):Ul(J,P,E),this.G=2}}else this.G==3&&(h?RA(this,h):this.i.length==0||gu(this.h)||RA(this))};function RA(h,E){var P;E?P=E.l:P=h.U++;const G=uo(h.I);en(G,"SID",h.K),en(G,"RID",P),en(G,"AID",h.T),Kh(h,G),h.m&&h.o&&i1(G,h.m,h.o),P=new Ct(h,h.j,P,h.B+1),h.m===null&&(P.H=h.o),E&&(h.i=E.D.concat(h.i)),E=MA(h,P,1e3),P.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),$l(h.h,P),Ul(P,G,E)}function Kh(h,E){h.H&&F(h.H,function(P,G){en(E,G,P)}),h.l&&mA({},function(P,G){en(E,G,P)})}function MA(h,E,P){P=Math.min(h.i.length,P);var G=h.l?p(h.l.Na,h.l,h):null;e:{var J=h.i;let se=-1;for(;;){const ve=["count="+P];se==-1?0<P?(se=J[0].g,ve.push("ofs="+se)):se=0:ve.push("ofs="+se);let Ut=!0;for(let ar=0;ar<P;ar++){let vt=J[ar].g;const Ir=J[ar].map;if(vt-=se,0>vt)se=Math.max(0,J[ar].g-100),Ut=!1;else try{D8(Ir,ve,"req"+vt+"_")}catch{G&&G(Ir)}}if(Ut){G=ve.join("&");break e}}}return h=h.i.splice(0,P),E.D=h,G}function PA(h){if(!h.g&&!h.u){h.Y=1;var E=h.Fa;z||H(),L||(z(),L=!0),j.add(E,h),h.v=0}}function a1(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ia(p(h.Fa,h),DA(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,OA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ia(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Km(this),OA(this))};function l1(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function OA(h){h.g=new Ct(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var E=uo(h.qa);en(E,"RID","rpc"),en(E,"SID",h.K),en(E,"AID",h.T),en(E,"CI",h.F?"0":"1"),!h.F&&h.ja&&en(E,"TO",h.ja),en(E,"TYPE","xmlhttp"),Kh(h,E),h.m&&h.o&&i1(E,h.m,h.o),h.L&&(h.g.I=h.L);var P=h.g;h=h.ia,P.L=1,P.v=Wm(uo(E)),P.m=null,P.P=!0,hu(P,h)}t.Za=function(){this.C!=null&&(this.C=null,Km(this),a1(this),dt(19))};function Qm(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function LA(h,E){var P=null;if(h.g==E){Qm(h),l1(h),h.g=null;var G=2}else if(Wl(h.h,E))P=E.D,fA(h.h,E),G=1;else return;if(h.G!=0){if(E.o)if(G==1){P=E.m?E.m.length:0,E=Date.now()-E.F;var J=h.B;G=Bl(),V(G,new mn(G,P)),Gm(h)}else PA(h);else if(J=E.s,J==3||J==0&&0<E.X||!(G==1&&U8(h,E)||G==2&&a1(h)))switch(P&&0<P.length&&(E=h.h,E.i=E.i.concat(P)),J){case 1:ql(h,5);break;case 4:ql(h,10);break;case 3:ql(h,6);break;default:ql(h,2)}}}function DA(h,E){let P=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(P*=2),P*E}function ql(h,E){if(h.j.info("Error code "+E),E==2){var P=p(h.fb,h),G=h.Xa;const J=!G;G=new Hl(G||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vm(G,"https"),Wm(G),J?P8(G.toString(),P):O8(G.toString(),P)}else dt(2);h.G=0,h.l&&h.l.sa(E),jA(h),kA(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function jA(h){if(h.G=0,h.ka=[],h.l){const E=pA(h.h);(E.length!=0||h.i.length!=0)&&(w(h.ka,E),w(h.ka,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.ra()}}function BA(h,E,P){var G=P instanceof Hl?uo(P):new Hl(P);if(G.g!="")E&&(G.g=E+"."+G.g),zm(G,G.s);else{var J=a.location;G=J.protocol,E=E?E+"."+J.hostname:J.hostname,J=+J.port;var se=new Hl(null);G&&Vm(se,G),E&&(se.g=E),J&&zm(se,J),P&&(se.l=P),G=se}return P=h.D,E=h.ya,P&&E&&en(G,P,E),en(G,"VER",h.la),Kh(h,G),G}function FA(h,E,P){if(E&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Ca&&!h.pa?new Cn(new $m({eb:P})):new Cn(h.pa),E.Ha(h.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function UA(){}t=UA.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ym(){}Ym.prototype.g=function(h,E){return new _s(h,E)};function _s(h,E){ot.call(this),this.g=new CA(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(h?h["X-WebChannel-Client-Profile"]=E.va:h={"X-WebChannel-Client-Profile":E.va}),this.g.S=h,(h=E&&E.Sb)&&!b(h)&&(this.g.m=h),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!b(E)&&(this.g.D=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new vu(this)}v(_s,ot),_s.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_s.prototype.close=function(){o1(this.g)},_s.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var P={};P.__data__=h,h=P}else this.u&&(P={},P.__data__=qe(h),h=P);E.i.push(new Uh(E.Ya++,h)),E.G==3&&Gm(E)},_s.prototype.N=function(){this.g.l=null,delete this.j,o1(this.g),delete this.g,_s.aa.N.call(this)};function VA(h){on.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const P in E){h=P;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}v(VA,on);function zA(){lu.call(this),this.status=1}v(zA,lu);function vu(h){this.g=h}v(vu,UA),vu.prototype.ua=function(){V(this.g,"a")},vu.prototype.ta=function(h){V(this.g,new VA(h))},vu.prototype.sa=function(h){V(this.g,new zA)},vu.prototype.ra=function(){V(this.g,"b")},Ym.prototype.createWebChannel=Ym.prototype.g,_s.prototype.send=_s.prototype.o,_s.prototype.open=_s.prototype.m,_s.prototype.close=_s.prototype.close,p6=function(){return new Ym},f6=function(){return Bl()},h6=Ot,kE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xt.NO_ERROR=0,Xt.TIMEOUT=8,Xt.HTTP_ERROR=6,O0=Xt,gn.COMPLETE="complete",d6=gn,jh.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Rf=jh,Cn.prototype.listenOnce=Cn.prototype.L,Cn.prototype.getLastError=Cn.prototype.Ka,Cn.prototype.getLastErrorCode=Cn.prototype.Ba,Cn.prototype.getStatus=Cn.prototype.Z,Cn.prototype.getResponseJson=Cn.prototype.Oa,Cn.prototype.getResponseText=Cn.prototype.oa,Cn.prototype.send=Cn.prototype.ea,Cn.prototype.setWithCredentials=Cn.prototype.Ha,u6=Cn}).apply(typeof Fg<"u"?Fg:typeof self<"u"?self:typeof window<"u"?window:{});const Rk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new cI("@firebase/firestore");function hf(){return qc.logLevel}function Ne(t,...e){if(qc.logLevel<=pt.DEBUG){const n=e.map(hI);qc.debug(`Firestore (${Rh}): ${t}`,...n)}}function Jo(t,...e){if(qc.logLevel<=pt.ERROR){const n=e.map(hI);qc.error(`Firestore (${Rh}): ${t}`,...n)}}function ch(t,...e){if(qc.logLevel<=pt.WARN){const n=e.map(hI);qc.warn(`Firestore (${Rh}): ${t}`,...n)}}function hI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t="Unexpected state"){const e=`FIRESTORE (${Rh}) INTERNAL ASSERTION FAILED: `+t;throw Jo(e),new Error(e)}function yt(t,e){t||ze()}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends oo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Eie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ur.UNAUTHENTICATED))}shutdown(){}}class Sie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Tie{constructor(e){this.t=e,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt(typeof r.accessToken=="string"),new m6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string"),new Ur(e)}}class Iie{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Aie{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Iie(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nie{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cie{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){yt(this.o===void 0);const r=i=>{i.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string"),this.R=n.token,new Nie(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=kie(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function _t(t,e){return t<e?-1:t>e?1:0}function uh(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xn.fromMillis(Date.now())}static fromDate(e){return Xn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Xn(0,0))}static max(){return new $e(new Xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(),r===void 0?r=e.length-n:r>e.length-n&&ze(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Lt extends Mp{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Lt(n)}static emptyPath(){return new Lt([])}}const Rie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends Mp{construct(e,n,r){return new wr(e,n,r)}static isValidIdentifier(e){return Rie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new we(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new we(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new we(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new we(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(n)}static emptyPath(){return new wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Lt.fromString(e))}static fromName(e){return new Le(Lt.fromString(e).popFirst(5))}static empty(){return new Le(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Lt(e.slice()))}}function Mie(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=$e.fromTimestamp(r===1e9?new Xn(n+1,0):new Xn(n,r));return new Il(s,Le.empty(),e)}function Pie(t){return new Il(t.readTime,t.key,-1)}class Il{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Il($e.min(),Le.empty(),-1)}static max(){return new Il($e.max(),Le.empty(),-1)}}function Oie(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:_t(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Die{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Im(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==Lie)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.reject(n)}static resolve(e){return new pe((n,r)=>{n(e)})}static reject(e){return new pe((n,r)=>{r(e)})}static waitFor(e){return new pe((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=pe.resolve(!1);for(const r of e)n=n.next(s=>s?pe.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new pe((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new pe((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function jie(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Am(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fI.oe=-1;function Nm(t){return t==null}function iw(t){return t===0&&1/t==-1/0}function Bie(t){return typeof t=="number"&&Number.isInteger(t)&&!iw(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function iu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n){this.comparator=e,this.root=n||gr.EMPTY}insert(e,n){return new In(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new In(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ug(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ug(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ug(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ug(this.root,e,this.comparator,!0)}}class Ug{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gr{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??gr.RED,this.left=s??gr.EMPTY,this.right=i??gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new gr(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return gr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1;gr.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(e,n,r,s,i){return this}insert(e,n,r){return new gr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.comparator=e,this.data=new In(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pk(this.data.getIterator())}getIteratorFrom(e){return new Pk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new br(this.comparator);return n.data=e,n}}class Pk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new Ms([])}unionWith(e){let n=new br(wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ms(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new w6("Invalid base64 string: "+i):i}}(e);return new Tr(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const Fie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Al(t){if(yt(!!t),typeof t=="string"){let e=0;const n=Fie.exec(t);if(yt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dn(t.seconds),nanos:Dn(t.nanos)}}function Dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kc(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pI(t){const e=t.mapValue.fields.__previous_value__;return Bv(e)?pI(e):e}function Pp(t){const e=Al(t.mapValue.fields.__local_write_time__.timestampValue);return new Xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uie{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Op{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Op("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Op&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg={mapValue:{}};function Gc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bv(t)?4:zie(t)?9007199254740991:Vie(t)?10:11:ze()}function Xi(t,e){if(t===e)return!0;const n=Gc(t);if(n!==Gc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pp(t).isEqual(Pp(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Al(s.timestampValue),a=Al(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Kc(s.bytesValue).isEqual(Kc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Dn(s.geoPointValue.latitude)===Dn(i.geoPointValue.latitude)&&Dn(s.geoPointValue.longitude)===Dn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Dn(s.integerValue)===Dn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Dn(s.doubleValue),a=Dn(i.doubleValue);return o===a?iw(o)===iw(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return uh(t.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Mk(o)!==Mk(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xi(o[l],a[l])))return!1;return!0}(t,e);default:return ze()}}function Lp(t,e){return(t.values||[]).find(n=>Xi(n,e))!==void 0}function dh(t,e){if(t===e)return 0;const n=Gc(t),r=Gc(e);if(n!==r)return _t(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _t(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Dn(i.integerValue||i.doubleValue),l=Dn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Ok(t.timestampValue,e.timestampValue);case 4:return Ok(Pp(t),Pp(e));case 5:return _t(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Kc(i),l=Kc(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=_t(a[c],l[c]);if(u!==0)return u}return _t(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=_t(Dn(i.latitude),Dn(o.latitude));return a!==0?a:_t(Dn(i.longitude),Dn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Lk(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const f=i.fields||{},p=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(l=p.value)===null||l===void 0?void 0:l.arrayValue,g=_t(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:Lk(m,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Vg.mapValue&&o===Vg.mapValue)return 0;if(i===Vg.mapValue)return 1;if(o===Vg.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const p=_t(l[f],u[f]);if(p!==0)return p;const m=dh(a[l[f]],c[u[f]]);if(m!==0)return m}return _t(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ze()}}function Ok(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _t(t,e);const n=Al(t),r=Al(e),s=_t(n.seconds,r.seconds);return s!==0?s:_t(n.nanos,r.nanos)}function Lk(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=dh(n[s],r[s]);if(i)return i}return _t(n.length,r.length)}function hh(t){return RE(t)}function RE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Al(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Kc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=RE(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${RE(n.fields[o])}`;return s+"}"}(t.mapValue):ze()}function ow(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ME(t){return!!t&&"integerValue"in t}function mI(t){return!!t&&"arrayValue"in t}function Dk(t){return!!t&&"nullValue"in t}function jk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function L0(t){return!!t&&"mapValue"in t}function Vie(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Yf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return iu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zie(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.value=e}static empty(){return new es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!L0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yf(n)}setAll(e){let n=wr.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Yf(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());L0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];L0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){iu(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new es(Yf(this.value))}}function v6(t){const e=[];return iu(t.fields,(n,r)=>{const s=new wr([n]);if(L0(r)){const i=v6(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ms(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new sr(e,0,$e.min(),$e.min(),$e.min(),es.empty(),0)}static newFoundDocument(e,n,r,s){return new sr(e,1,n,$e.min(),r,s,0)}static newNoDocument(e,n){return new sr(e,2,n,$e.min(),$e.min(),es.empty(),0)}static newUnknownDocument(e,n){return new sr(e,3,n,$e.min(),$e.min(),es.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function Bk(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Le.comparator(Le.fromName(o.referenceValue),n.key):r=dh(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{}class Hn extends x6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hie(e,n,r):n==="array-contains"?new Gie(e,r):n==="in"?new Qie(e,r):n==="not-in"?new Yie(e,r):n==="array-contains-any"?new Zie(e,r):new Hn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qie(e,r):new Kie(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(dh(n,this.value)):n!==null&&Gc(this.value)===Gc(n)&&this.matchesComparison(dh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends x6{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ii(e,n)}matches(e){return _6(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _6(t){return t.op==="and"}function b6(t){return $ie(t)&&_6(t)}function $ie(t){for(const e of t.filters)if(e instanceof Ii)return!1;return!0}function PE(t){if(t instanceof Hn)return t.field.canonicalString()+t.op.toString()+hh(t.value);if(b6(t))return t.filters.map(e=>PE(e)).join(",");{const e=t.filters.map(n=>PE(n)).join(",");return`${t.op}(${e})`}}function E6(t,e){return t instanceof Hn?function(r,s){return s instanceof Hn&&r.op===s.op&&r.field.isEqual(s.field)&&Xi(r.value,s.value)}(t,e):t instanceof Ii?function(r,s){return s instanceof Ii&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&E6(o,s.filters[a]),!0):!1}(t,e):void ze()}function S6(t){return t instanceof Hn?function(n){return`${n.field.canonicalString()} ${n.op} ${hh(n.value)}`}(t):t instanceof Ii?function(n){return n.op.toString()+" {"+n.getFilters().map(S6).join(" ,")+"}"}(t):"Filter"}class Hie extends Hn{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class qie extends Hn{constructor(e,n){super(e,"in",n),this.keys=T6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Kie extends Hn{constructor(e,n){super(e,"not-in",n),this.keys=T6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function T6(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Le.fromName(r.referenceValue))}class Gie extends Hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mI(n)&&Lp(n.arrayValue,this.value)}}class Qie extends Hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lp(this.value.arrayValue,n)}}class Yie extends Hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Lp(this.value.arrayValue,n)}}class Zie extends Hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Uk(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Xie(t,e,n,r,s,i,o)}function gI(t){const e=Ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>PE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Nm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hh(r)).join(",")),e.ue=n}return e.ue}function yI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!E6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fk(t.startAt,e.startAt)&&Fk(t.endAt,e.endAt)}function OE(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Jie(t,e,n,r,s,i,o,a){return new ou(t,e,n,r,s,i,o,a)}function Fv(t){return new ou(t)}function Vk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wI(t){return t.collectionGroup!==null}function Sd(t){const e=Ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new br(wr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Dp(i,r))}),n.has(wr.keyField().canonicalString())||e.ce.push(new Dp(wr.keyField(),r))}return e.ce}function Ki(t){const e=Ye(t);return e.le||(e.le=eoe(e,Sd(t))),e.le}function eoe(t,e){if(t.limitType==="F")return Uk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Dp(s.field,i)});const n=t.endAt?new fh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fh(t.startAt.position,t.startAt.inclusive):null;return Uk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function LE(t,e){const n=t.filters.concat([e]);return new ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function aw(t,e,n){return new ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uv(t,e){return yI(Ki(t),Ki(e))&&t.limitType===e.limitType}function I6(t){return`${gI(Ki(t))}|lt:${t.limitType}`}function zu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>S6(s)).join(", ")}]`),Nm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>hh(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>hh(s)).join(",")),`Target(${r})`}(Ki(t))}; limitType=${t.limitType})`}function Vv(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Le.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Sd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Bk(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Sd(r),s)||r.endAt&&!function(o,a,l){const c=Bk(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Sd(r),s))}(t,e)}function toe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function A6(t){return(e,n)=>{let r=!1;for(const s of Sd(t)){const i=noe(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function noe(t,e,n){const r=t.field.isKeyField()?Le.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?dh(l,c):ze()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){iu(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return y6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const roe=new In(Le.comparator);function ea(){return roe}const N6=new In(Le.comparator);function Mf(...t){let e=N6;for(const n of t)e=e.insert(n.key,n);return e}function C6(t){let e=N6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mc(){return Zf()}function k6(){return Zf()}function Zf(){return new Mh(t=>t.toString(),(t,e)=>t.isEqual(e))}const soe=new In(Le.comparator),ioe=new br(Le.comparator);function ht(...t){let e=ioe;for(const n of t)e=e.add(n);return e}const ooe=new br(_t);function aoe(){return ooe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iw(e)?"-0":e}}function R6(t){return{integerValue:""+t}}function M6(t,e){return Bie(e)?R6(e):vI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this._=void 0}}function loe(t,e,n){return t instanceof jp?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Bv(i)&&(i=pI(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Bp?O6(t,e):t instanceof Fp?L6(t,e):function(s,i){const o=P6(s,i),a=zk(o)+zk(s.Pe);return ME(o)&&ME(s.Pe)?R6(a):vI(s.serializer,a)}(t,e)}function coe(t,e,n){return t instanceof Bp?O6(t,e):t instanceof Fp?L6(t,e):n}function P6(t,e){return t instanceof Up?function(r){return ME(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class jp extends zv{}class Bp extends zv{constructor(e){super(),this.elements=e}}function O6(t,e){const n=D6(e);for(const r of t.elements)n.some(s=>Xi(s,r))||n.push(r);return{arrayValue:{values:n}}}class Fp extends zv{constructor(e){super(),this.elements=e}}function L6(t,e){let n=D6(e);for(const r of t.elements)n=n.filter(s=>!Xi(s,r));return{arrayValue:{values:n}}}class Up extends zv{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function zk(t){return Dn(t.integerValue||t.doubleValue)}function D6(t){return mI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n){this.field=e,this.transform=n}}function uoe(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Bp&&s instanceof Bp||r instanceof Fp&&s instanceof Fp?uh(r.elements,s.elements,Xi):r instanceof Up&&s instanceof Up?Xi(r.Pe,s.Pe):r instanceof jp&&s instanceof jp}(t.transform,e.transform)}class doe{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function D0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wv{}function B6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $v(t.key,vr.none()):new Cm(t.key,t.data,vr.none());{const n=t.data,r=es.empty();let s=new br(wr.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new jl(t.key,r,new Ms(s.toArray()),vr.none())}}function hoe(t,e,n){t instanceof Cm?function(s,i,o){const a=s.value.clone(),l=$k(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof jl?function(s,i,o){if(!D0(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=$k(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(F6(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xf(t,e,n,r){return t instanceof Cm?function(i,o,a,l){if(!D0(i.precondition,o))return a;const c=i.value.clone(),u=Hk(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof jl?function(i,o,a,l){if(!D0(i.precondition,o))return a;const c=Hk(i.fieldTransforms,l,o),u=o.data;return u.setAll(F6(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return D0(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function foe(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=P6(r.transform,s||null);i!=null&&(n===null&&(n=es.empty()),n.set(r.field,i))}return n||null}function Wk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&uh(r,s,(i,o)=>uoe(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cm extends Wv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class jl extends Wv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function F6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $k(t,e,n){const r=new Map;yt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,coe(o,a,n[s]))}return r}function Hk(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,loe(i,o,e))}return r}class $v extends Wv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U6 extends Wv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&hoe(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=k6();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=B6(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ht())}isEqual(e){return this.batchId===e.batchId&&uh(this.mutations,e.mutations,(n,r)=>Wk(n,r))&&uh(this.baseMutations,e.baseMutations,(n,r)=>Wk(n,r))}}class xI{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){yt(e.mutations.length===r.length);let s=function(){return soe}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new xI(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class moe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un,mt;function V6(t){switch(t){default:return ze();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function z6(t){if(t===void 0)return Jo("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Un.OK:return ie.OK;case Un.CANCELLED:return ie.CANCELLED;case Un.UNKNOWN:return ie.UNKNOWN;case Un.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Un.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Un.INTERNAL:return ie.INTERNAL;case Un.UNAVAILABLE:return ie.UNAVAILABLE;case Un.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Un.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Un.NOT_FOUND:return ie.NOT_FOUND;case Un.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Un.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Un.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Un.ABORTED:return ie.ABORTED;case Un.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Un.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Un.DATA_LOSS:return ie.DATA_LOSS;default:return ze()}}(mt=Un||(Un={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yoe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const woe=new kc([4294967295,4294967295],0);function qk(t){const e=yoe().encode(t),n=new c6;return n.update(e),new Uint8Array(n.digest())}function Kk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new kc([n,r],0),new kc([s,i],0)]}class _I{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pf(`Invalid padding: ${n}`);if(r<0)throw new Pf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pf(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=kc.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(kc.fromNumber(r)));return s.compare(woe)===1&&(s=new kc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=qk(e),[r,s]=Kk(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new _I(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=qk(e),[r,s]=Kk(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,km.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hv($e.min(),s,new In(_t),ea(),ht())}}class km{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new km(r,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class W6{constructor(e,n){this.targetId=e,this.me=n}}class $6{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Gk{constructor(){this.fe=0,this.ge=Yk(),this.pe=Tr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ht(),n=ht(),r=ht();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ze()}}),new km(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Yk()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class voe{constructor(e){this.Le=e,this.Be=new Map,this.ke=ea(),this.qe=Qk(),this.Qe=new In(_t)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ze()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(OE(i))if(r===0){const o=new Le(i.path);this.Ue(n,o,sr.newNoDocument(o,$e.min()))}else yt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Kc(r).toUint8Array()}catch(l){if(l instanceof w6)return ch("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _I(o,s,i)}catch(l){return ch(l instanceof Pf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&OE(a.target)){const l=new Le(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,sr.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ht();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Hv(e,n,this.Qe,this.ke,r);return this.ke=ea(),this.qe=Qk(),this.Qe=new In(_t),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Gk,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new br(_t),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Gk),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Qk(){return new In(Le.comparator)}function Yk(){return new In(Le.comparator)}const xoe={asc:"ASCENDING",desc:"DESCENDING"},_oe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},boe={and:"AND",or:"OR"};class Eoe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function DE(t,e){return t.useProto3Json||Nm(e)?e:{value:e}}function lw(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Soe(t,e){return lw(t,e.toTimestamp())}function Ls(t){return yt(!!t),$e.fromTimestamp(function(n){const r=Al(n);return new Xn(r.seconds,r.nanos)}(t))}function bI(t,e){return jE(t,e).canonicalString()}function jE(t,e){const n=function(s){return new Lt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function q6(t){const e=Lt.fromString(t);return yt(X6(e)),e}function cw(t,e){return bI(t.databaseId,e.path)}function Jf(t,e){const n=q6(e);if(n.get(1)!==t.databaseId.projectId)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le(G6(n))}function K6(t,e){return bI(t.databaseId,e)}function Toe(t){const e=q6(t);return e.length===4?Lt.emptyPath():G6(e)}function BE(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function G6(t){return yt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Zk(t,e,n){return{name:cw(t,e),fields:n.value.mapValue.fields}}function Ioe(t,e){return"found"in e?function(r,s){yt(!!s.found),s.found.name,s.found.updateTime;const i=Jf(r,s.found.name),o=Ls(s.found.updateTime),a=s.found.createTime?Ls(s.found.createTime):$e.min(),l=new es({mapValue:{fields:s.found.fields}});return sr.newFoundDocument(i,o,a,l)}(t,e):"missing"in e?function(r,s){yt(!!s.missing),yt(!!s.readTime);const i=Jf(r,s.missing),o=Ls(s.readTime);return sr.newNoDocument(i,o)}(t,e):ze()}function Aoe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(yt(u===void 0||typeof u=="string"),Tr.fromBase64String(u||"")):(yt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Tr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?ie.UNKNOWN:z6(c.code);return new we(u,c.message||"")}(o);n=new $6(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Jf(t,r.document.name),i=Ls(r.document.updateTime),o=r.document.createTime?Ls(r.document.createTime):$e.min(),a=new es({mapValue:{fields:r.document.fields}}),l=sr.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new j0(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Jf(t,r.document),i=r.readTime?Ls(r.readTime):$e.min(),o=sr.newNoDocument(s,i),a=r.removedTargetIds||[];n=new j0([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Jf(t,r.document),i=r.removedTargetIds||[];n=new j0([],i,s,null)}else{if(!("filter"in e))return ze();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new goe(s,i),a=r.targetId;n=new W6(a,o)}}return n}function Q6(t,e){let n;if(e instanceof Cm)n={update:Zk(t,e.key,e.value)};else if(e instanceof $v)n={delete:cw(t,e.key)};else if(e instanceof jl)n={update:Zk(t,e.key,e.data),updateMask:Doe(e.fieldMask)};else{if(!(e instanceof U6))return ze();n={verify:cw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof jp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Up)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ze()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Soe(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ze()}(t,e.precondition)),n}function Noe(t,e){return t&&t.length>0?(yt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Ls(s.updateTime):Ls(i);return o.isEqual($e.min())&&(o=Ls(i)),new doe(o,s.transformResults||[])}(n,e))):[]}function Coe(t,e){return{documents:[K6(t,e.path)]}}function koe(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=K6(t,s);const i=function(c){if(c.length!==0)return Z6(Ii.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:Wu(p.field),direction:Poe(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=DE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function Roe(t){let e=Toe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){yt(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(f){const p=Y6(f);return p instanceof Ii&&b6(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(v){return new Dp($u(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Nm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new fh(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new fh(m,p)}(n.endAt)),Jie(e,s,o,i,a,"F",l,c)}function Moe(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Y6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$u(n.unaryFilter.field);return Hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=$u(n.unaryFilter.field);return Hn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$u(n.unaryFilter.field);return Hn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$u(n.unaryFilter.field);return Hn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(t):t.fieldFilter!==void 0?function(n){return Hn.create($u(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ii.create(n.compositeFilter.filters.map(r=>Y6(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ze()}}(n.compositeFilter.op))}(t):ze()}function Poe(t){return xoe[t]}function Ooe(t){return _oe[t]}function Loe(t){return boe[t]}function Wu(t){return{fieldPath:t.canonicalString()}}function $u(t){return wr.fromServerFormat(t.fieldPath)}function Z6(t){return t instanceof Hn?function(n){if(n.op==="=="){if(jk(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NAN"}};if(Dk(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jk(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NOT_NAN"}};if(Dk(n.value))return{unaryFilter:{field:Wu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(n.field),op:Ooe(n.op),value:n.value}}}(t):t instanceof Ii?function(n){const r=n.getFilters().map(s=>Z6(s));return r.length===1?r[0]:{compositeFilter:{op:Loe(n.op),filters:r}}}(t):ze()}function Doe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function X6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r,s,i=$e.min(),o=$e.min(),a=Tr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class joe{constructor(e){this.ct=e}}function Boe(t){const e=Roe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?aw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(){this.un=new Uoe}addToCollectionParentIndex(e,n){return this.un.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(Il.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(Il.min())}updateCollectionGroup(e,n,r){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class Uoe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new br(Lt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new br(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ph(0)}static kn(){return new ph(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Voe{constructor(){this.changes=new Mh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zoe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Woe{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Xf(r.mutation,s,Ms.empty(),Xn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ht()){const s=mc();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Mf();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ht()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ea();const o=Zf(),a=function(){return Zf()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof jl)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Xf(u.mutation,c,u.mutation.getFieldMask(),Xn.now())):o.set(c.key,Ms.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new zoe(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Zf();let s=new In((o,a)=>o-a),i=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Ms.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(s.get(a.batchId)||ht()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=k6();u.forEach(p=>{if(!i.has(p)){const m=B6(n.get(p),r.get(p));m!==null&&f.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return pe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):pe.resolve(mc());let a=-1,l=i;return o.next(c=>pe.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(u)?pe.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ht())).next(u=>({batchId:a,changes:C6(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next(r=>{let s=Mf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Mf();return this.indexManager.getCollectionParents(e,i).next(a=>pe.forEach(a,l=>{const c=function(f,p){return new ou(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,sr.newInvalidDocument(u)))});let a=Mf();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Xf(u.mutation,c,Ms.empty(),Xn.now()),Vv(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $oe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return pe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ls(s.createTime)}}(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:Boe(s.bundledQuery),readTime:Ls(s.readTime)}}(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hoe{constructor(){this.overlays=new In(Le.comparator),this.Ir=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mc();return pe.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),pe.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),pe.resolve()}getOverlaysForCollection(e,n,r){const s=mc(),i=n.length+1,o=new Le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return pe.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new In((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=mc(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=mc(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return pe.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new moe(n,r));let i=this.Ir.get(n);i===void 0&&(i=ht(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qoe{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.Tr=new br(nr.Er),this.dr=new br(nr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new nr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new nr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Le(new Lt([])),r=new nr(n,e),s=new nr(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Le(new Lt([])),r=new nr(n,e),s=new nr(n,e+1);let i=ht();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new nr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Le.comparator(e.key,n.key)||_t(e.wr,n.wr)}static Ar(e,n){return _t(e.wr,n.wr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Koe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new br(nr.Er)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new poe(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new nr(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return pe.resolve(o)}lookupMutationBatch(e,n){return pe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return pe.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nr(n,0),s=new nr(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),pe.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new br(_t);return n.forEach(s=>{const i=new nr(s,0),o=new nr(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),pe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Le.isDocumentKey(i)||(i=i.child(""));const o=new nr(new Le(i),0);let a=new br(_t);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),pe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){yt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return pe.forEach(n.mutations,s=>{const i=new nr(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new nr(n,0),s=this.br.firstAfterOrEqual(r);return pe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Goe{constructor(e){this.Mr=e,this.docs=function(){return new In(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return pe.resolve(r?r.document.mutableCopy():sr.newInvalidDocument(n))}getEntries(e,n){let r=ea();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():sr.newInvalidDocument(s))}),pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ea();const o=n.path,a=new Le(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Oie(Pie(u),r)<=0||(s.has(u.key)||Vv(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return pe.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ze()}Or(e,n){return pe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Qoe(this)}getSize(e){return pe.resolve(this.size)}}class Qoe extends Voe{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),pe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yoe{constructor(e){this.persistence=e,this.Nr=new Mh(n=>gI(n),yI),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new EI,this.targetCount=0,this.kr=ph.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),pe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ph(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Kn(n),pe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),pe.waitFor(i).next(()=>s)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return pe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),pe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),pe.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return pe.resolve(r)}containsKey(e,n){return pe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{constructor(e,n){this.qr={},this.overlays={},this.Qr=new fI(0),this.Kr=!1,this.Kr=!0,this.$r=new qoe,this.referenceDelegate=e(this),this.Ur=new Yoe(this),this.indexManager=new Foe,this.remoteDocumentCache=function(s){return new Goe(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new joe(n),this.Gr=new $oe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hoe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Koe(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const s=new Xoe(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return pe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Xoe extends Die{constructor(e){super(),this.currentSequenceNumber=e}}class SI{constructor(e){this.persistence=e,this.Jr=new EI,this.Yr=null}static Zr(e){return new SI(e)}get Xr(){if(this.Yr)return this.Yr;throw ze()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),pe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Xr,r=>{const s=Le.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,$e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return pe.or([()=>pe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ht(),s=ht();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new TI(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eae{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ose()?8:jie(qr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Joe;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(hf()<=pt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",zu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pe.resolve()):(hf()<=pt.DEBUG&&Ne("QueryEngine","Query:",zu(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(hf()<=pt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",zu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):pe.resolve())}Yi(e,n){if(Vk(n))return pe.resolve(null);let r=Ki(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=aw(n,null,"F"),r=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ht(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,aw(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return Vk(n)||s.isEqual($e.min())?pe.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?pe.resolve(null):(hf()<=pt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zu(n)),this.rs(e,o,n,Mie(s,-1)).next(a=>a))})}ts(e,n){let r=new br(A6(e));return n.forEach((s,i)=>{Vv(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return hf()<=pt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",zu(n)),this.Ji.getDocumentsMatchingQuery(e,n,Il.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new In(_t),this._s=new Mh(i=>gI(i),yI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Woe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function nae(t,e,n,r){return new tae(t,e,n,r)}async function J6(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ht();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function rae(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,p=f.keys();let m=pe.resolve();return p.forEach(v=>{m=m.next(()=>u.getEntry(l,v)).next(g=>{const w=c.docVersions.get(v);yt(w!==null),g.version.compareTo(w)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ht();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function eB(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function sae(t,e){const n=Ye(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,f)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Tr.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(f,m),function(g,w,_){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,u)&&a.push(n.Ur.updateTargetData(i,m))});let l=ea(),c=ht();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(iae(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual($e.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return pe.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function iae(t,e,n){let r=ht(),s=ht();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ea();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual($e.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function oae(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aae(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,pe.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new tl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function FE(t,e,n){const r=Ye(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Am(o))throw o;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Xk(t,e,n){const r=Ye(t);let s=$e.min(),i=ht();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=Ye(l),p=f._s.get(u);return p!==void 0?pe.resolve(f.os.get(p)):f.Ur.getTargetData(c,u)}(r,o,Ki(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:$e.min(),n?i:ht())).next(a=>(lae(r,toe(e),a),{documents:a,Ts:i})))}function lae(t,e,n){let r=t.us.get(e)||$e.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Jk{constructor(){this.activeTargetIds=aoe()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cae{constructor(){this.so=new Jk,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Jk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uae{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zg=null;function Zx(){return zg===null?zg=function(){return 268435456+Math.round(2147483648*Math.random())}():zg++,"0x"+zg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hae{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="WebChannelConnection";class fae extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Zx(),l=this.xo(n,r.toUriEncodedString());Ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(u=>(Ne("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ch("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=dae[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Zx();return new Promise((o,a)=>{const l=new u6;l.setWithCredentials(!0),l.listenOnce(d6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case O0.NO_ERROR:const u=l.getResponseJson();Ne(Lr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case O0.TIMEOUT:Ne(Lr,`RPC '${e}' ${i} timed out`),a(new we(ie.DEADLINE_EXCEEDED,"Request time out"));break;case O0.HTTP_ERROR:const f=l.getStatus();if(Ne(Lr,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(_)>=0?_:ie.UNKNOWN}(m.status);a(new we(v,m.message))}else a(new we(ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new we(ie.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{Ne(Lr,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);Ne(Lr,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Zx(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=p6(),a=f6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");Ne(Lr,`Creating RPC '${e}' stream ${s}: ${u}`,l);const f=o.createWebChannel(u,l);let p=!1,m=!1;const v=new hae({Io:w=>{m?Ne(Lr,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(p||(Ne(Lr,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Ne(Lr,`RPC '${e}' stream ${s} sending:`,w),f.send(w))},To:()=>f.close()}),g=(w,_,b)=>{w.listen(_,x=>{try{b(x)}catch(S){setTimeout(()=>{throw S},0)}})};return g(f,Rf.EventType.OPEN,()=>{m||(Ne(Lr,`RPC '${e}' stream ${s} transport opened.`),v.yo())}),g(f,Rf.EventType.CLOSE,()=>{m||(m=!0,Ne(Lr,`RPC '${e}' stream ${s} transport closed`),v.So())}),g(f,Rf.EventType.ERROR,w=>{m||(m=!0,ch(Lr,`RPC '${e}' stream ${s} transport errored:`,w),v.So(new we(ie.UNAVAILABLE,"The operation could not be completed")))}),g(f,Rf.EventType.MESSAGE,w=>{var _;if(!m){const b=w.data[0];yt(!!b);const x=b,S=x.error||((_=x[0])===null||_===void 0?void 0:_.error);if(S){Ne(Lr,`RPC '${e}' stream ${s} received error:`,S);const D=S.status;let F=function(U){const W=Un[U];if(W!==void 0)return z6(W)}(D),M=S.message;F===void 0&&(F=ie.INTERNAL,M="Unknown error status: "+D+" with message "+S.message),m=!0,v.So(new we(F,M)),f.close()}else Ne(Lr,`RPC '${e}' stream ${s} received:`,b),v.bo(b)}}),g(a,h6.STAT_EVENT,w=>{w.stat===kE.PROXY?Ne(Lr,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===kE.NOPROXY&&Ne(Lr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Xx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t){return new Eoe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new II(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Jo(n.toString()),Jo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new we(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pae extends tB{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Aoe(this.serializer,e),r=function(i){if(!("targetChange"in i))return $e.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?$e.min():o.readTime?Ls(o.readTime):$e.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=BE(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=OE(l)?{documents:Coe(i,l)}:{query:koe(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=H6(i,o.resumeToken);const c=DE(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo($e.min())>0){a.readTime=lw(i,o.snapshotVersion.toTimestamp());const c=DE(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Moe(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=BE(this.serializer),n.removeTarget=e,this.a_(n)}}class mae extends tB{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return yt(!!e.streamToken),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Noe(e.writeResults,e.commitTime),r=Ls(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=BE(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Q6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,jE(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new we(ie.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,jE(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(ie.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class yae{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jo(n),this.D_=!1):Ne("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wae{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{au(this)&&(Ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ye(l);c.L_.add(4),await Rm(c),c.q_.set("Unknown"),c.L_.delete(4),await Kv(c)}(this))})}),this.q_=new yae(r,s)}}async function Kv(t){if(au(t))for(const e of t.B_)await e(!0)}async function Rm(t){for(const e of t.B_)await e(!1)}function nB(t,e){const n=Ye(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),kI(n)?CI(n):Ph(n).r_()&&NI(n,e))}function AI(t,e){const n=Ye(t),r=Ph(n);n.N_.delete(e),r.r_()&&rB(n,e),n.N_.size===0&&(r.r_()?r.o_():au(n)&&n.q_.set("Unknown"))}function NI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ph(t).A_(e)}function rB(t,e){t.Q_.xe(e),Ph(t).R_(e)}function CI(t){t.Q_=new voe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ph(t).start(),t.q_.v_()}function kI(t){return au(t)&&!Ph(t).n_()&&t.N_.size>0}function au(t){return Ye(t).L_.size===0}function sB(t){t.Q_=void 0}async function vae(t){t.q_.set("Online")}async function xae(t){t.N_.forEach((e,n)=>{NI(t,e)})}async function _ae(t,e){sB(t),kI(t)?(t.q_.M_(e),CI(t)):t.q_.set("Unknown")}async function bae(t,e,n){if(t.q_.set("Online"),e instanceof $6&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uw(t,r)}else if(e instanceof j0?t.Q_.Ke(e):e instanceof W6?t.Q_.He(e):t.Q_.We(e),!n.isEqual($e.min()))try{const r=await eB(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(Tr.EMPTY_BYTE_STRING,u.snapshotVersion)),rB(i,l);const f=new tl(u.target,l,c,u.sequenceNumber);NI(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),await uw(t,r)}}async function uw(t,e,n){if(!Am(e))throw e;t.L_.add(1),await Rm(t),t.q_.set("Offline"),n||(n=()=>eB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Kv(t)})}function iB(t,e){return e().catch(n=>uw(t,n,e))}async function Gv(t){const e=Ye(t),n=Nl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Eae(e);)try{const s=await oae(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Sae(e,s)}catch(s){await uw(e,s)}oB(e)&&aB(e)}function Eae(t){return au(t)&&t.O_.length<10}function Sae(t,e){t.O_.push(e);const n=Nl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function oB(t){return au(t)&&!Nl(t).n_()&&t.O_.length>0}function aB(t){Nl(t).start()}async function Tae(t){Nl(t).p_()}async function Iae(t){const e=Nl(t);for(const n of t.O_)e.m_(n.mutations)}async function Aae(t,e,n){const r=t.O_.shift(),s=xI.from(r,e,n);await iB(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gv(t)}async function Nae(t,e){e&&Nl(t).V_&&await async function(r,s){if(function(o){return V6(o)&&o!==ie.ABORTED}(s.code)){const i=r.O_.shift();Nl(r).s_(),await iB(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gv(r)}}(t,e),oB(t)&&aB(t)}async function tR(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=au(n);n.L_.add(3),await Rm(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Kv(n)}async function Cae(t,e){const n=Ye(t);e?(n.L_.delete(2),await Kv(n)):e||(n.L_.add(2),await Rm(n),n.q_.set("Unknown"))}function Ph(t){return t.K_||(t.K_=function(n,r,s){const i=Ye(n);return i.w_(),new pae(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:vae.bind(null,t),Ro:xae.bind(null,t),mo:_ae.bind(null,t),d_:bae.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),kI(t)?CI(t):t.q_.set("Unknown")):(await t.K_.stop(),sB(t))})),t.K_}function Nl(t){return t.U_||(t.U_=function(n,r,s){const i=Ye(n);return i.w_(),new mae(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Tae.bind(null,t),mo:Nae.bind(null,t),f_:Iae.bind(null,t),g_:Aae.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Gv(t)):(await t.U_.stop(),t.O_.length>0&&(Ne("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new RI(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function MI(t,e){if(Jo("AsyncQueue",`${e}: ${t}`),Am(t))return new we(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=Mf(),this.sortedSet=new In(this.comparator)}static emptySet(e){return new Td(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Td)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Td;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.W_=new In(Le.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ze():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class mh{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new mh(e,n,Td.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kae{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Rae{constructor(){this.queries=rR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ye(n),i=s.queries;s.queries=rR(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new we(ie.ABORTED,"Firestore shutting down"))}}function rR(){return new Mh(t=>I6(t),Uv)}async function PI(t,e){const n=Ye(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new kae,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=MI(o,`Initialization of query '${zu(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&LI(n)}async function OI(t,e){const n=Ye(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Mae(t,e){const n=Ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&LI(n)}function Pae(t,e,n){const r=Ye(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function LI(t){t.Y_.forEach(e=>{e.next()})}var UE,sR;(sR=UE||(UE={})).ea="default",sR.Cache="cache";class DI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new mh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=mh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==UE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.key=e}}class cB{constructor(e){this.key=e}}class Oae{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ht(),this.mutatedKeys=ht(),this.Aa=A6(e),this.Ra=new Td(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new nR,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,f)=>{const p=s.get(u),m=Vv(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;p&&m?p.data.isEqual(m.data)?v!==g&&(r.track({type:3,doc:m}),w=!0):this.ga(p,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),w=!0):p&&!m&&(r.track({type:1,doc:p}),w=!0,(l||c)&&(a=!0)),w&&(m?(o=o.add(m),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,f)=>function(m,v){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return g(m)-g(v)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new mh(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nR,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ht(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new cB(r))}),this.da.forEach(r=>{e.has(r)||n.push(new lB(r))}),n}ba(e){this.Ta=e.Ts,this.da=ht();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return mh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Lae{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Dae{constructor(e){this.key=e,this.va=!1}}class jae{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Mh(a=>I6(a),Uv),this.Ma=new Map,this.xa=new Set,this.Oa=new In(Le.comparator),this.Na=new Map,this.La=new EI,this.Ba={},this.ka=new Map,this.qa=ph.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Bae(t,e,n=!0){const r=mB(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await uB(r,e,n,!0),s}async function Fae(t,e){const n=mB(t);await uB(n,e,!0,!1)}async function uB(t,e,n,r){const s=await aae(t.localStore,Ki(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Uae(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&nB(t.remoteStore,s),a}async function Uae(t,e,n,r,s){t.Ka=(f,p,m)=>async function(g,w,_,b){let x=w.view.ma(_);x.ns&&(x=await Xk(g.localStore,w.query,!1).then(({documents:M})=>w.view.ma(M,x)));const S=b&&b.targetChanges.get(w.targetId),D=b&&b.targetMismatches.get(w.targetId)!=null,F=w.view.applyChanges(x,g.isPrimaryClient,S,D);return oR(g,w.targetId,F.wa),F.snapshot}(t,f,p,m);const i=await Xk(t.localStore,e,!0),o=new Oae(e,i.Ts),a=o.ma(i.documents),l=km.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);oR(t,n,c.wa);const u=new Lae(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Vae(t,e,n){const r=Ye(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Uv(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await FE(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&AI(r.remoteStore,s.targetId),VE(r,s.targetId)}).catch(Im)):(VE(r,s.targetId),await FE(r.localStore,s.targetId,!0))}async function zae(t,e){const n=Ye(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),AI(n.remoteStore,r.targetId))}async function Wae(t,e,n){const r=Yae(t);try{const s=await function(o,a){const l=Ye(o),c=Xn.now(),u=a.reduce((m,v)=>m.add(v.key),ht());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=ea(),g=ht();return l.cs.getEntries(m,u).next(w=>{v=w,v.forEach((_,b)=>{b.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(w=>{f=w;const _=[];for(const b of a){const x=foe(b,f.get(b.key).overlayedDocument);x!=null&&_.push(new jl(b.key,x,v6(x.value.mapValue),vr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,_,a)}).next(w=>{p=w;const _=w.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,w.batchId,_)})}).then(()=>({batchId:p.batchId,changes:C6(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new In(_t)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Mm(r,s.changes),await Gv(r.remoteStore)}catch(s){const i=MI(s,"Failed to persist write");n.reject(i)}}async function dB(t,e){const n=Ye(t);try{const r=await sae(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(yt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?yt(o.va):s.removedDocuments.size>0&&(yt(o.va),o.va=!1))}),await Mm(n,r,e)}catch(r){await Im(r)}}function iR(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ye(o);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const p of f.j_)p.Z_(a)&&(c=!0)}),c&&LI(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $ae(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new In(Le.comparator);o=o.insert(i,sr.newNoDocument(i,$e.min()));const a=ht().add(i),l=new Hv($e.min(),new Map,new In(_t),o,a);await dB(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),jI(r)}else await FE(r.localStore,e,!1).then(()=>VE(r,e,n)).catch(Im)}async function Hae(t,e){const n=Ye(t),r=e.batch.batchId;try{const s=await rae(n.localStore,e);fB(n,r,null),hB(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mm(n,s)}catch(s){await Im(s)}}async function qae(t,e,n){const r=Ye(t);try{const s=await function(o,a){const l=Ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(yt(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);fB(r,e,n),hB(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mm(r,s)}catch(s){await Im(s)}}function hB(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function fB(t,e,n){const r=Ye(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function VE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||pB(t,r)})}function pB(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(AI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),jI(t))}function oR(t,e,n){for(const r of n)r instanceof lB?(t.La.addReference(r.key,e),Kae(t,r)):r instanceof cB?(Ne("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||pB(t,r.key)):ze()}function Kae(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ne("SyncEngine","New document in limbo: "+n),t.xa.add(r),jI(t))}function jI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Le(Lt.fromString(e)),r=t.qa.next();t.Na.set(r,new Dae(n)),t.Oa=t.Oa.insert(n,r),nB(t.remoteStore,new tl(Ki(Fv(n.path)),r,"TargetPurposeLimboResolution",fI.oe))}}async function Mm(t,e,n){const r=Ye(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=TI.Wi(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const u=Ye(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>pe.forEach(c,p=>pe.forEach(p.$i,m=>u.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>pe.forEach(p.Ui,m=>u.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Am(f))throw f;Ne("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=u.os.get(p),v=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(v);u.os=u.os.insert(p,g)}}}(r.localStore,i))}async function Gae(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=await J6(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new we(ie.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mm(n,r.hs)}}function Qae(t,e){const n=Ye(t),r=n.Na.get(e);if(r&&r.va)return ht().add(r.key);{let s=ht();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function mB(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$ae.bind(null,e),e.Ca.d_=Mae.bind(null,e.eventManager),e.Ca.$a=Pae.bind(null,e.eventManager),e}function Yae(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qae.bind(null,e),e}class dw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qv(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return nae(this.persistence,new eae,e.initialUser,this.serializer)}Ga(e){return new Zoe(SI.Zr,this.serializer)}Wa(e){return new cae}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dw.provider={build:()=>new dw};class zE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gae.bind(null,this.syncEngine),await Cae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Rae}()}createDatastore(e){const n=qv(e.databaseInfo.databaseId),r=function(i){return new fae(i)}(e.databaseInfo);return function(i,o,a,l){return new gae(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new wae(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>iR(this.syncEngine,n,0),function(){return eR.D()?new eR:new uae}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const f=new jae(s,i,o,a,l,c);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ye(s);Ne("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Rm(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zE.provider={build:()=>new zE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Jo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zae{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new we(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const o=Ye(s),a={documents:i.map(f=>cw(o.serializer,f))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,Lt.emptyPath(),a,i.length),c=new Map;l.forEach(f=>{const p=Ioe(o.serializer,f);c.set(p.key.toString(),p)});const u=[];return i.forEach(f=>{const p=c.get(f.toString());yt(!!p),u.push(p)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $v(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=Le.fromPath(r);this.mutations.push(new U6(s,this.precondition(s)))}),await async function(r,s){const i=Ye(r),o={writes:s.map(a=>Q6(i.serializer,a))};await i.Mo("Commit",i.serializer.databaseId,Lt.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ze();n=$e.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new we(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual($e.min())?vr.exists(!1):vr.updateTime(n):vr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual($e.min()))throw new we(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(n)}return vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xae{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new II(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new Zae(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.lu(s)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Nm(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!V6(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jae{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ur.UNAUTHENTICATED,this.clientId=g6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Ne("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ne("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=MI(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jx(t,e){t.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await J6(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ele(t);Ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>tR(e.remoteStore,s)),t._onlineComponents=e}async function ele(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ch("Error using user provided cache. Falling back to memory cache: "+n),await Jx(t,new dw)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),await Jx(t,new dw);return t._offlineComponents}async function FI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),await aR(t,t._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),await aR(t,new zE))),t._onlineComponents}function tle(t){return FI(t).then(e=>e.syncEngine)}function nle(t){return FI(t).then(e=>e.datastore)}async function hw(t){const e=await FI(t),n=e.eventManager;return n.onListen=Bae.bind(null,e.syncEngine),n.onUnlisten=Vae.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Fae.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zae.bind(null,e.syncEngine),n}function rle(t,e,n={}){const r=new qi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new BI({next:p=>{u.Za(),o.enqueueAndForget(()=>OI(i,f));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new we(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new we(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new DI(Fv(a.path),u,{includeMetadataChanges:!0,_a:!0});return PI(i,f)}(await hw(t),t.asyncQueue,e,n,r)),r.promise}function sle(t,e,n={}){const r=new qi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new BI({next:p=>{u.Za(),o.enqueueAndForget(()=>OI(i,f)),p.fromCache&&l.source==="server"?c.reject(new we(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new DI(a,u,{includeMetadataChanges:!0,_a:!0});return PI(i,f)}(await hw(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(t,e,n){if(!n)throw new we(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ile(t,e,n,r){if(e===!0&&r===!0)throw new we(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cR(t){if(!Le.isDocumentKey(t))throw new we(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uR(t){if(Le.isDocumentKey(t))throw new we(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze()}function Xs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qv(t);throw new we(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ole(t,e){if(e<=0)throw new we(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ile("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gB((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new we(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dR({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Eie;switch(r.type){case"firstParty":return new Aie(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lR.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),lR.delete(n),r.terminate())}(this),Promise.resolve()}}function ale(t,e,n,r={}){var s;const i=(t=Xs(t,Yv))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ch("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ur.MOCK_USER;else{a=r6(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new we(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ur(c)}t._authCredentials=new Sie(new m6(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class $r{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $r(this.firestore,e,this._key)}}class yl extends ao{constructor(e,n,r){super(e,n,Fv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $r(this.firestore,null,new Le(e))}withConverter(e){return new yl(this.firestore,e,this._path)}}function os(t,e,...n){if(t=Bn(t),yB("collection","path",e),t instanceof Yv){const r=Lt.fromString(e,...n);return uR(r),new yl(t,null,r)}{if(!(t instanceof $r||t instanceof yl))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return uR(r),new yl(t.firestore,null,r)}}function ii(t,e,...n){if(t=Bn(t),arguments.length===1&&(e=g6.newId()),yB("doc","path",e),t instanceof Yv){const r=Lt.fromString(e,...n);return cR(r),new $r(t,null,new Le(r))}{if(!(t instanceof $r||t instanceof yl))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return cR(r),new $r(t.firestore,t instanceof yl?t.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new II(this,"async_queue_retry"),this.Vu=()=>{const r=Xx();r&&Ne("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Xx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Xx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new qi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Am(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Jo("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=RI.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ze()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function fR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Cl extends Yv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new hR,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hR(e),this._firestoreClient=void 0,await e}}}function lle(t,e){const n=typeof t=="object"?t:dI(),r=typeof t=="string"?t:"(default)",s=jv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=e6("firestore");i&&ale(s,...i)}return s}function Oh(t){if(t._terminated)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cle(t),t._firestoreClient}function cle(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new Uie(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,gB(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Jae(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qc(Tr.fromBase64String(e))}catch(n){throw new we(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qc(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ule=/^__.*__$/;class dle{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new jl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cm(e,this.data,n,this.fieldTransforms)}}class wB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new jl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze()}}class zI{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new zI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return fw(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(vB(this.Cu)&&ule.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class hle{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qv(e)}Qu(e,n,r,s=!1){return new zI({Cu:e,methodName:n,qu:r,path:wr.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Om(t){const e=t._freezeSettings(),n=qv(t._databaseId);return new hle(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xB(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);KI("Data must be an object, but it was:",o,r);const a=bB(r,o);let l,c;if(i.merge)l=new Ms(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const p=WE(e,f,n);if(!o.contains(p))throw new we(ie.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);SB(u,p)||u.push(p)}l=new Ms(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new dle(new es(a),l,c)}class Zv extends Pm{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zv}}class WI extends Pm{_toFieldTransform(e){return new j6(e.path,new jp)}isEqual(e){return e instanceof WI}}class $I extends Pm{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Up(e.serializer,M6(e.serializer,this.$u));return new j6(e.path,n)}isEqual(e){return e instanceof $I&&this.$u===e.$u}}function HI(t,e,n,r){const s=t.Qu(1,e,n);KI("Data must be an object, but it was:",s,r);const i=[],o=es.empty();iu(r,(l,c)=>{const u=GI(e,l,n);c=Bn(c);const f=s.Nu(u);if(c instanceof Zv)i.push(u);else{const p=Lm(c,f);p!=null&&(i.push(u),o.set(u,p))}});const a=new Ms(i);return new wB(o,a,s.fieldTransforms)}function qI(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[WE(e,r,n)],l=[s];if(i.length%2!=0)throw new we(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(WE(e,i[p])),l.push(i[p+1]);const c=[],u=es.empty();for(let p=a.length-1;p>=0;--p)if(!SB(c,a[p])){const m=a[p];let v=l[p];v=Bn(v);const g=o.Nu(m);if(v instanceof Zv)c.push(m);else{const w=Lm(v,g);w!=null&&(c.push(m),u.set(m,w))}}const f=new Ms(c);return new wB(u,f,o.fieldTransforms)}function _B(t,e,n,r=!1){return Lm(n,t.Qu(r?4:3,e))}function Lm(t,e){if(EB(t=Bn(t)))return KI("Unsupported field value:",e,t),bB(t,e);if(t instanceof Pm)return function(r,s){if(!vB(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Lm(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return M6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Xn.fromDate(r);return{timestampValue:lw(s.serializer,i)}}if(r instanceof Xn){const i=new Xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lw(s.serializer,i)}}if(r instanceof UI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qc)return{bytesValue:H6(s.serializer,r._byteString)};if(r instanceof $r){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bI(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof VI)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return vI(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Qv(r)}`)}(t,e)}function bB(t,e){const n={};return y6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):iu(t,(r,s)=>{const i=Lm(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function EB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xn||t instanceof UI||t instanceof Qc||t instanceof $r||t instanceof Pm||t instanceof VI)}function KI(t,e,n){if(!EB(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Qv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function WE(t,e,n){if((e=Bn(e))instanceof Lh)return e._internalPath;if(typeof e=="string")return GI(t,e);throw fw("Field path arguments must be of type string or ",t,!1,void 0,n)}const fle=new RegExp("[~\\*/\\[\\]]");function GI(t,e,n){if(e.search(fle)>=0)throw fw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lh(...e.split("."))._internalPath}catch{throw fw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fw(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new we(ie.INVALID_ARGUMENT,a+t+l)}function SB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ple(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ple extends Vp{data(){return super.data()}}function Xv(t,e){return typeof e=="string"?GI(t,e):e instanceof Lh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QI{}class Jv extends QI{}function wa(t,e,...n){let r=[];e instanceof QI&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof YI).length,a=i.filter(l=>l instanceof e1).length;if(o>1||o>0&&a>0)throw new we(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class e1 extends Jv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new e1(e,n,r)}_apply(e){const n=this._parse(e);return IB(e._query,n),new ao(e.firestore,e.converter,LE(e._query,n))}_parse(e){const n=Om(e.firestore);return function(i,o,a,l,c,u,f){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new we(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){gR(f,u);const m=[];for(const v of f)m.push(mR(l,i,v));p={arrayValue:{values:m}}}else p=mR(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||gR(f,u),p=_B(a,o,f,u==="in"||u==="not-in");return Hn.create(c,u,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function va(t,e,n){const r=e,s=Xv("where",t);return e1._create(s,r,n)}class YI extends QI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new YI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)IB(o,l),o=LE(o,l)}(e._query,n),new ao(e.firestore,e.converter,LE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ZI extends Jv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ZI(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new we(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new we(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dp(i,o)}(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ou(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Wg(t,e="asc"){const n=e,r=Xv("orderBy",t);return ZI._create(r,n)}class XI extends Jv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new XI(e,n,r)}_apply(e){return new ao(e.firestore,e.converter,aw(e._query,this._limit,this._limitType))}}function Pu(t){return ole("limit",t),XI._create("limit",t,"F")}class JI extends Jv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new JI(e,n,r)}_apply(e){const n=mle(e,this.type,this._docOrFields,this._inclusive);return new ao(e.firestore,e.converter,function(s,i){return new ou(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function pR(...t){return JI._create("startAfter",t,!1)}function mle(t,e,n,r){if(n[0]=Bn(n[0]),n[0]instanceof Vp)return function(i,o,a,l,c){if(!l)throw new we(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const f of Sd(i))if(f.field.isKeyField())u.push(ow(o,l.key));else{const p=l.data.field(f.field);if(Bv(p))throw new we(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const m=f.field.canonicalString();throw new we(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}u.push(p)}return new fh(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Om(t.firestore);return function(o,a,l,c,u,f){const p=o.explicitOrderBy;if(u.length>p.length)throw new we(ie.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let v=0;v<u.length;v++){const g=u[v];if(p[v].field.isKeyField()){if(typeof g!="string")throw new we(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof g}`);if(!wI(o)&&g.indexOf("/")!==-1)throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${g}' contains a slash.`);const w=o.path.child(Lt.fromString(g));if(!Le.isDocumentKey(w))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const _=new Le(w);m.push(ow(a,_))}else{const w=_B(l,c,g);m.push(w)}}return new fh(m,f)}(t._query,t.firestore._databaseId,s,e,n,r)}}function mR(t,e,n){if(typeof(n=Bn(n))=="string"){if(n==="")throw new we(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wI(e)&&n.indexOf("/")!==-1)throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lt.fromString(n));if(!Le.isDocumentKey(r))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ow(t,new Le(r))}if(n instanceof $r)return ow(t,n._key);throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qv(n)}.`)}function gR(t,e){if(!Array.isArray(t)||t.length===0)throw new we(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IB(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new we(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AB{convertValue(e,n="none"){switch(Gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return iu(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Dn(o.doubleValue));return new VI(i)}convertGeoPoint(e){return new UI(Dn(e.latitude),Dn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pp(e));default:return null}}convertTimestamp(e){const n=Al(e);return new Xn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);yt(X6(r));const s=new Op(r.get(1),r.get(3)),i=new Le(r.popFirst(5));return s.isEqual(n)||Jo(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class gle extends AB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eA extends Vp{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new B0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class B0 extends eA{data(e={}){return super.data(e)}}class CB{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ld(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new B0(this._firestore,this._userDataWriter,r.key,r,new ld(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new B0(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ld(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new B0(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ld(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:yle(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yle(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wle(t){t=Xs(t,$r);const e=Xs(t.firestore,Cl);return rle(Oh(e),t._key).then(n=>RB(e,t,n))}class t1 extends AB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,n)}}function go(t){t=Xs(t,ao);const e=Xs(t.firestore,Cl),n=Oh(e),r=new t1(e);return TB(t._query),sle(n,t._query).then(s=>new CB(e,r,t,s))}function vle(t,e,n,...r){t=Xs(t,$r);const s=Xs(t.firestore,Cl),i=Om(s);let o;return o=typeof(e=Bn(e))=="string"||e instanceof Lh?qI(i,"updateDoc",t._key,e,n,r):HI(i,"updateDoc",t._key,e),kB(s,[o.toMutation(t._key,vr.exists(!0))])}function yR(t,...e){var n,r,s;t=Bn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||fR(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(fR(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,u;if(t instanceof $r)c=Xs(t.firestore,Cl),u=Fv(t._key.path),l={next:f=>{e[o]&&e[o](RB(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Xs(t,ao);c=Xs(f.firestore,Cl),u=f._query;const p=new t1(c);l={next:m=>{e[o]&&e[o](new CB(c,p,f,m))},error:e[o+1],complete:e[o+2]},TB(t._query)}return function(p,m,v,g){const w=new BI(g),_=new DI(m,w,v);return p.asyncQueue.enqueueAndForget(async()=>PI(await hw(p),_)),()=>{w.Za(),p.asyncQueue.enqueueAndForget(async()=>OI(await hw(p),_))}}(Oh(c),u,a,l)}function kB(t,e){return function(r,s){const i=new qi;return r.asyncQueue.enqueueAndForget(async()=>Wae(await tle(r),s,i)),i.promise}(Oh(t),e)}function RB(t,e,n){const r=n.docs.get(e._key),s=new t1(t);return new eA(t,s,e._key,r,new ld(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xle={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _le{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Om(e)}set(e,n,r){this._verifyNotCommitted();const s=Pa(e,this._firestore),i=NB(s.converter,n,r),o=xB(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,vr.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Pa(e,this._firestore);let o;return o=typeof(n=Bn(n))=="string"||n instanceof Lh?qI(this._dataReader,"WriteBatch.update",i._key,n,r,s):HI(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Pa(e,this._firestore);return this._mutations=this._mutations.concat(new $v(n._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pa(t,e){if((t=Bn(t)).firestore!==e)throw new we(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ble extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Om(n)}get(n){const r=Pa(n,this._firestore),s=new gle(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return ze();const o=i[0];if(o.isFoundDocument())return new Vp(this._firestore,s,o.key,o,r.converter);if(o.isNoDocument())return new Vp(this._firestore,s,r._key,null,r.converter);throw ze()})}set(n,r,s){const i=Pa(n,this._firestore),o=NB(i.converter,r,s),a=xB(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const o=Pa(n,this._firestore);let a;return a=typeof(r=Bn(r))=="string"||r instanceof Lh?qI(this._dataReader,"Transaction.update",o._key,r,s,i):HI(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Pa(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Pa(e,this._firestore),r=new t1(this._firestore);return super.get(e).then(s=>new eA(this._firestore,r,n._key,s._document,new ld(!1,!1),n.converter))}}function e_(t,e,n){t=Xs(t,Cl);const r=Object.assign(Object.assign({},xle),n);return function(i){if(i.maxAttempts<1)throw new we(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,a){const l=new qi;return i.asyncQueue.enqueueAndForget(async()=>{const c=await nle(i);new Xae(i.asyncQueue,c,a,o,l).au()}),l.promise}(Oh(t),s=>e(new ble(t,s)),r)}function Ws(){return new WI("serverTimestamp")}function ff(t){return new $I("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){return Oh(t=Xs(t,Cl)),new _le(t,e=>kB(t,e))}(function(e,n=!0){(function(s){Rh=s})(su),Hc(new Tl("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Cl(new Tie(r.getProvider("auth-internal")),new Cie(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new we(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Op(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Hi(Rk,"4.7.3",e),Hi(Rk,"4.7.3","esm2017")})();var Ele="firebase",Sle="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi(Ele,Sle,"app");function MB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tle=MB,PB=new Sm("auth","Firebase",MB());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new cI("@firebase/auth");function Ile(t,...e){pw.logLevel<=pt.WARN&&pw.warn(`Auth (${su}): ${t}`,...e)}function F0(t,...e){pw.logLevel<=pt.ERROR&&pw.error(`Auth (${su}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t,...e){throw tA(t,...e)}function Gi(t,...e){return tA(t,...e)}function OB(t,e,n){const r=Object.assign(Object.assign({},Tle()),{[e]:n});return new Sm("auth","Firebase",r).create(e,{appName:t.name})}function Rc(t){return OB(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PB.create(t,...e)}function Qe(t,e,...n){if(!t)throw tA(e,...n)}function Lo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw F0(e),new Error(e)}function na(t,e){t||Lo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ale(){return vR()==="http:"||vR()==="https:"}function vR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nle(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ale()||rse()||"connection"in navigator)?navigator.onLine:!0}function Cle(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.shortDelay=e,this.longDelay=n,na(n>e,"Short delay should be less than long delay!"),this.isMobile=ese()||sse()}get(){return Nle()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e){na(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kle={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rle=new Dm(3e4,6e4);function rA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Dh(t,e,n,r,s={}){return DB(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Tm(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return nse()||(c.referrerPolicy="no-referrer"),LB.fetch()(jB(t,t.config.apiHost,n,a),c)})}async function DB(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kle),e);try{const s=new Ple(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $g(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $g(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw $g(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw $g(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw OB(t,u,c);ta(t,u)}}catch(s){if(s instanceof oo)throw s;ta(t,"network-request-failed",{message:String(s)})}}async function Mle(t,e,n,r,s={}){const i=await Dh(t,e,n,r,s);return"mfaPendingCredential"in i&&ta(t,"multi-factor-auth-required",{_serverResponse:i}),i}function jB(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?nA(t.config,s):`${t.config.apiScheme}://${s}`}class Ple{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gi(this.auth,"network-request-failed")),Rle.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $g(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Gi(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ole(t,e){return Dh(t,"POST","/v1/accounts:delete",e)}async function BB(t,e){return Dh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lle(t,e=!1){const n=Bn(t),r=await n.getIdToken(e),s=sA(r);Qe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ep(t_(s.auth_time)),issuedAtTime:ep(t_(s.iat)),expirationTime:ep(t_(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function t_(t){return Number(t)*1e3}function sA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return F0("JWT malformed, contained fewer than 3 sections"),null;try{const s=X5(n);return s?JSON.parse(s):(F0("Failed to decode base64 JWT payload"),null)}catch(s){return F0("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function xR(t){const e=sA(t);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof oo&&Dle(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Dle({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jle{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ep(this.lastLoginAt),this.creationTime=ep(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(t){var e;const n=t.auth,r=await t.getIdToken(),s=await zp(t,BB(n,{idToken:r}));Qe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?FB(i.providerUserInfo):[],a=Fle(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new HE(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function Ble(t){const e=Bn(t);await mw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fle(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function FB(t){return t.map(e=>{var{providerId:n}=e,r=_m(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ule(t,e){const n=await DB(t,{},async()=>{const r=Tm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=jB(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",LB.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Vle(t,e){return Dh(t,"POST","/v2/accounts:revokeToken",rA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const n=xR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Ule(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Id;return r&&(Qe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Qe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Qe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Id,this.toJSON())}_performRefresh(){return Lo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t,e){Qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Do{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=_m(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jle(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new HE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await zp(this,this.stsTokenManager.getToken(this.auth,e));return Qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lle(this,e)}reload(){return Ble(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Do(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(el(this.auth.app))return Promise.reject(Rc(this.auth));const e=await this.getIdToken();return await zp(this,Ole(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:S,isAnonymous:D,providerData:F,stsTokenManager:M}=n;Qe(x&&M,e,"internal-error");const R=Id.fromJSON(this.name,M);Qe(typeof x=="string",e,"internal-error"),xa(f,e.name),xa(p,e.name),Qe(typeof S=="boolean",e,"internal-error"),Qe(typeof D=="boolean",e,"internal-error"),xa(m,e.name),xa(v,e.name),xa(g,e.name),xa(w,e.name),xa(_,e.name),xa(b,e.name);const U=new Do({uid:x,auth:e,email:p,emailVerified:S,displayName:f,isAnonymous:D,photoURL:v,phoneNumber:m,tenantId:g,stsTokenManager:R,createdAt:_,lastLoginAt:b});return F&&Array.isArray(F)&&(U.providerData=F.map(W=>Object.assign({},W))),w&&(U._redirectEventId=w),U}static async _fromIdTokenResponse(e,n,r=!1){const s=new Id;s.updateFromServerResponse(n);const i=new Do({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await mw(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Qe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?FB(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Id;a.updateFromIdToken(r);const l=new Do({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new HE(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Map;function jo(t){na(t instanceof Function,"Expected a class definition");let e=_R.get(t);return e?(na(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_R.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UB.type="NONE";const bR=UB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t,e,n){return`firebase:${t}:${e}:${n}`}class Ad{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=U0(this.userKey,s.apiKey,i),this.fullPersistenceKey=U0("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Do._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ad(jo(bR),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||jo(bR);const o=U0(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const f=Do._fromJSON(e,u);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ad(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ad(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($B(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qB(e))return"Blackberry";if(KB(e))return"Webos";if(zB(e))return"Safari";if((e.includes("chrome/")||WB(e))&&!e.includes("edge/"))return"Chrome";if(HB(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VB(t=qr()){return/firefox\//i.test(t)}function zB(t=qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WB(t=qr()){return/crios\//i.test(t)}function $B(t=qr()){return/iemobile/i.test(t)}function HB(t=qr()){return/android/i.test(t)}function qB(t=qr()){return/blackberry/i.test(t)}function KB(t=qr()){return/webos/i.test(t)}function iA(t=qr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zle(t=qr()){var e;return iA(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Wle(){return ise()&&document.documentMode===10}function GB(t=qr()){return iA(t)||HB(t)||KB(t)||qB(t)||/windows phone/i.test(t)||$B(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t,e=[]){let n;switch(t){case"Browser":n=ER(qr());break;case"Worker":n=`${ER(qr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${su}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $le{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hle(t,e={}){return Dh(t,"GET","/v2/passwordPolicy",rA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qle=6;class Kle{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:qle,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gle{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SR(this),this.idTokenSubscription=new SR(this),this.beforeStateQueue=new $le(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jo(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ad.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await BB(this,{idToken:e}),r=await Do._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(el(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mw(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cle()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(el(this.app))return Promise.reject(Rc(this));const n=e?Bn(e):null;return n&&Qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return el(this.app)?Promise.reject(Rc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return el(this.app)?Promise.reject(Rc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Hle(this),n=new Kle(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Vle(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jo(e)||this._popupRedirectResolver;Qe(n,this,"argument-error"),this.redirectPersistenceManager=await Ad.create(this,[jo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ile(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oA(t){return Bn(t)}class SR{constructor(e){this.auth=e,this.observer=null,this.addObserver=fse(n=>this.observer=n)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aA={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qle(t){aA=t}function Yle(t){return aA.loadJS(t)}function Zle(){return aA.gapiScript}function Xle(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jle(t,e){const n=jv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(rw(i,e??{}))return s;ta(s,"already-initialized")}return n.initialize({options:e})}function ece(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tce(t,e,n){const r=oA(t);Qe(r._canInitEmulator,r,"emulator-config-failed"),Qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=YB(e),{host:o,port:a}=nce(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),rce()}function YB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nce(t){const e=YB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:TR(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:TR(o)}}}function TR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rce(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Lo("not implemented")}_getIdTokenResponse(e){return Lo("not implemented")}_linkToIdToken(e,n){return Lo("not implemented")}_getReauthenticationResolver(e){return Lo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(t,e){return Mle(t,"POST","/v1/accounts:signInWithIdp",rA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sce="http://localhost";class Yc extends ZB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ta("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=_m(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Yc(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Nd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Nd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Nd(e,n)}buildRequest(){const e={requestUri:sce,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends XB{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends jm{constructor(){super("facebook.com")}static credential(e){return Yc._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends jm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yc._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return La.credential(n,r)}catch{return null}}}La.GOOGLE_SIGN_IN_METHOD="google.com";La.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends jm{constructor(){super("github.com")}static credential(e){return Yc._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Da.credential(e.oauthAccessToken)}catch{return null}}}Da.GITHUB_SIGN_IN_METHOD="github.com";Da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends jm{constructor(){super("twitter.com")}static credential(e,n){return Yc._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ja.credential(n,r)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Do._fromIdTokenResponse(e,r,s),o=IR(r);return new gh({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=IR(r);return new gh({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function IR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw extends oo{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gw.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gw(e,n,r,s)}}function JB(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gw._fromErrorAndOperation(t,i,e,r):i})}async function ice(t,e,n=!1){const r=await zp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oce(t,e,n=!1){const{auth:r}=t;if(el(r.app))return Promise.reject(Rc(r));const s="reauthenticate";try{const i=await zp(t,JB(r,s,e,t),n);Qe(i.idToken,r,"internal-error");const o=sA(i.idToken);Qe(o,r,"internal-error");const{sub:a}=o;return Qe(t.uid===a,r,"user-mismatch"),gh._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ta(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ace(t,e,n=!1){if(el(t.app))return Promise.reject(Rc(t));const r="signIn",s=await JB(t,r,e),i=await gh._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function lce(t,e,n,r){return Bn(t).onIdTokenChanged(e,n,r)}function cce(t,e,n){return Bn(t).beforeAuthStateChanged(e,n)}const yw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yw,"1"),this.storage.removeItem(yw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uce=1e3,dce=10;class t8 extends e8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Wle()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,dce):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t8.type="LOCAL";const hce=t8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8 extends e8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n8.type="SESSION";const r8=n8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fce(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new n1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await fce(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pce{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=lA("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function mce(t){Qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function gce(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yce(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wce(){return s8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8="firebaseLocalStorageDb",vce=1,ww="firebaseLocalStorage",o8="fbase_key";class Bm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function r1(t,e){return t.transaction([ww],e?"readwrite":"readonly").objectStore(ww)}function xce(){const t=indexedDB.deleteDatabase(i8);return new Bm(t).toPromise()}function qE(){const t=indexedDB.open(i8,vce);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ww,{keyPath:o8})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ww)?e(r):(r.close(),await xce(),e(await qE()))})})}async function AR(t,e,n){const r=r1(t,!0).put({[o8]:e,value:n});return new Bm(r).toPromise()}async function _ce(t,e){const n=r1(t,!1).get(e),r=await new Bm(n).toPromise();return r===void 0?null:r.value}function NR(t,e){const n=r1(t,!0).delete(e);return new Bm(n).toPromise()}const bce=800,Ece=3;class a8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ece)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=n1._getInstance(wce()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gce(),!this.activeServiceWorker)return;this.sender=new pce(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qE();return await AR(e,yw,"1"),await NR(e,yw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>AR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_ce(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>NR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=r1(s,!1).getAll();return new Bm(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a8.type="LOCAL";const Sce=a8;new Dm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tce(t,e){return e?jo(e):(Qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA extends ZB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Nd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Nd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ice(t){return ace(t.auth,new cA(t),t.bypassAuthState)}function Ace(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),oce(n,new cA(t),t.bypassAuthState)}async function Nce(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),ice(n,new cA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ice;case"linkViaPopup":case"linkViaRedirect":return Nce;case"reauthViaPopup":case"reauthViaRedirect":return Ace;default:ta(this.auth,"internal-error")}}resolve(e){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cce=new Dm(2e3,1e4);class cd extends l8{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,cd.currentPopupAction&&cd.currentPopupAction.cancel(),cd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){na(this.filter.length===1,"Popup operations only handle one event");const e=lA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Cce.get())};e()}}cd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kce="pendingRedirect",V0=new Map;class Rce extends l8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=V0.get(this.auth._key());if(!e){try{const r=await Mce(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}V0.set(this.auth._key(),e)}return this.bypassAuthState||V0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mce(t,e){const n=Lce(e),r=Oce(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Pce(t,e){V0.set(t._key(),e)}function Oce(t){return jo(t._redirectPersistence)}function Lce(t){return U0(kce,t.config.apiKey,t.name)}async function Dce(t,e,n=!1){if(el(t.app))return Promise.reject(Rc(t));const r=oA(t),s=Tce(r,e),o=await new Rce(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jce=10*60*1e3;class Bce{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Fce(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!c8(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jce&&this.cachedEventUids.clear(),this.cachedEventUids.has(CR(e))}saveEventToCache(e){this.cachedEventUids.add(CR(e)),this.lastProcessedEventTime=Date.now()}}function CR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function c8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Fce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uce(t,e={}){return Dh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zce=/^https?/;async function Wce(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Uce(t);for(const n of e)try{if($ce(n))return}catch{}ta(t,"unauthorized-domain")}function $ce(t){const e=$E(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zce.test(n))return!1;if(Vce.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hce=new Dm(3e4,6e4);function kR(){const t=Qi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qce(t){return new Promise((e,n)=>{var r,s,i;function o(){kR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kR(),n(Gi(t,"network-request-failed"))},timeout:Hce.get()})}if(!((s=(r=Qi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Qi().gapi)===null||i===void 0)&&i.load)o();else{const a=Xle("iframefcb");return Qi()[a]=()=>{gapi.load?o():n(Gi(t,"network-request-failed"))},Yle(`${Zle()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw z0=null,e})}let z0=null;function Kce(t){return z0=z0||qce(t),z0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gce=new Dm(5e3,15e3),Qce="__/auth/iframe",Yce="emulator/auth/iframe",Zce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jce(t){const e=t.config;Qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nA(e,Yce):`https://${t.config.authDomain}/${Qce}`,r={apiKey:e.apiKey,appName:t.name,v:su},s=Xce.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Tm(r).slice(1)}`}async function eue(t){const e=await Kce(t),n=Qi().gapi;return Qe(n,t,"internal-error"),e.open({where:document.body,url:Jce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zce,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Gi(t,"network-request-failed"),a=Qi().setTimeout(()=>{i(o)},Gce.get());function l(){Qi().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nue=500,rue=600,sue="_blank",iue="http://localhost";class RR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oue(t,e,n,r=nue,s=rue){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},tue),{width:r.toString(),height:s.toString(),top:i,left:o}),c=qr().toLowerCase();n&&(a=WB(c)?sue:n),VB(c)&&(e=e||iue,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(zle(c)&&a!=="_self")return aue(e||"",a),new RR(null);const f=window.open(e||"",a,u);Qe(f,t,"popup-blocked");try{f.focus()}catch{}return new RR(f)}function aue(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lue="__/auth/handler",cue="emulator/auth/handler",uue=encodeURIComponent("fac");async function MR(t,e,n,r,s,i){Qe(t.config.authDomain,t,"auth-domain-config-required"),Qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:su,eventId:s};if(e instanceof XB){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hse(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof jm){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${uue}=${encodeURIComponent(l)}`:"";return`${due(t)}?${Tm(a).slice(1)}${c}`}function due({config:t}){return t.emulator?nA(t,cue):`https://${t.authDomain}/${lue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="webStorageSupport";class hue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r8,this._completeRedirectFn=Dce,this._overrideRedirectResult=Pce}async _openPopup(e,n,r,s){var i;na((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await MR(e,n,r,$E(),s);return oue(e,o,lA())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await MR(e,n,r,$E(),s);return mce(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(na(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eue(e),r=new Bce(e);return n.register("authEvent",s=>(Qe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(n_,{type:n_},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[n_];o!==void 0&&n(!!o),ta(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Wce(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GB()||zB()||iA()}}const fue=hue;var PR="@firebase/auth",OR="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gue(t){Hc(new Tl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Qe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QB(t)},c=new Gle(r,s,i,l);return ece(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hc(new Tl("auth-internal",e=>{const n=oA(e.getProvider("auth").getImmediate());return(r=>new pue(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(PR,OR,mue(t)),Hi(PR,OR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yue=5*60,wue=n6("authIdTokenMaxAge")||yue;let LR=null;const vue=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wue)return;const s=n==null?void 0:n.token;LR!==s&&(LR=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xue(t=dI()){const e=jv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jle(t,{popupRedirectResolver:fue,persistence:[Sce,hce,r8]}),r=n6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=vue(i.toString());cce(n,o,()=>o(n.currentUser)),lce(n,a=>o(a))}}const s=J5("auth");return s&&tce(n,`http://${s}`),n}function _ue(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Qle({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Gi("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",_ue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gue("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8="firebasestorage.googleapis.com",bue="storageBucket",Eue=2*60*1e3,Sue=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends oo{constructor(e,n,r=0){super(r_(e),`Firebase Storage: ${n} (${r_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return r_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ji;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ji||(Ji={}));function r_(t){return"storage/"+t}function Tue(){const t="An unknown error occurred, please check the error payload for server response.";return new lo(Ji.UNKNOWN,t)}function Iue(){return new lo(Ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Aue(){return new lo(Ji.CANCELED,"User canceled the upload/download.")}function Nue(t){return new lo(Ji.INVALID_URL,"Invalid URL '"+t+"'.")}function Cue(t){return new lo(Ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function DR(t){return new lo(Ji.INVALID_ARGUMENT,t)}function d8(){return new lo(Ji.APP_DELETED,"The Firebase app was deleted.")}function kue(t){return new lo(Ji.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yi.makeFromUrl(e,n)}catch{return new yi(e,"")}if(r.path==="")return r;throw Cue(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${u}/b/${s}/o${p}`,"i"),v={bucket:1,path:3},g=n===u8?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",_=new RegExp(`^https?://${g}/${s}/${w}`,"i"),x=[{regex:a,indices:l,postModify:i},{regex:m,indices:v,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<x.length;S++){const D=x[S],F=D.regex.exec(e);if(F){const M=F[D.indices.bucket];let R=F[D.indices.path];R||(R=""),r=new yi(M,R),D.postModify(r);break}}if(r==null)throw Nue(e);return r}}class Rue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mue(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...w){c||(c=!0,e.apply(null,w))}function f(w){s=setTimeout(()=>{s=null,t(m,l())},w)}function p(){i&&clearTimeout(i)}function m(w,..._){if(c){p();return}if(w){p(),u.call(null,w,..._);return}if(l()||o){p(),u.call(null,w,..._);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,f(x)}let v=!1;function g(w){v||(v=!0,p(),!c&&(s!==null?(w||(a=2),clearTimeout(s),f(0)):w||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function Pue(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oue(t){return t!==void 0}function jR(t,e,n,r){if(r<e)throw DR(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw DR(`Invalid value for '${t}'. Expected ${n} or less.`)}function Lue(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var vw;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vw||(vw={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Due(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jue{constructor(e,n,r,s,i,o,a,l,c,u,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Hg(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===vw.NO_ERROR,l=i.getStatus();if(!a||Due(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===vw.ABORT;r(!1,new Hg(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Hg(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Oue(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Tue();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?d8():Aue();o(l)}else{const l=Iue();o(l)}};this.canceled_?n(!1,new Hg(!1,null,!0)):this.backoffId_=Mue(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Pue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Bue(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Fue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Uue(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Vue(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zue(t,e,n,r,s,i,o=!0){const a=Lue(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Uue(c,e),Bue(c,n),Fue(c,i),Vue(c,r),new jue(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wue(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $ue(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n){this._service=e,n instanceof yi?this._location=n:this._location=yi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xw(e,n)}get root(){const e=new yi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $ue(this._location.path)}get storage(){return this._service}get parent(){const e=Wue(this._location.path);if(e===null)return null;const n=new yi(this._location.bucket,e);return new xw(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw kue(e)}}function BR(t,e){const n=e==null?void 0:e[bue];return n==null?null:yi.makeFromBucketSpec(n,t)}function Hue(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:r6(s,t.app.options.projectId))}class que{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=u8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Eue,this._maxUploadRetryTime=Sue,this._requests=new Set,s!=null?this._bucket=yi.makeFromBucketSpec(s,this._host):this._bucket=BR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yi.makeFromBucketSpec(this._url,e):this._bucket=BR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xw(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Rue(d8());{const o=zue(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const FR="@firebase/storage",UR="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8="storage";function Kue(t=dI(),e){t=Bn(t);const r=jv(t,h8).getImmediate({identifier:e}),s=e6("storage");return s&&Gue(r,...s),r}function Gue(t,e,n,r={}){Hue(t,e,n,r)}function Que(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new que(n,r,s,e,su)}function Yue(){Hc(new Tl(h8,Que,"PUBLIC").setMultipleInstances(!0)),Hi(FR,UR,""),Hi(FR,UR,"esm2017")}Yue();const Zue={apiKey:"AIzaSyBkK6RmHqSU9rivBUJ2sJ5VVqFgCoOBmso",authDomain:"wendex-7438c.firebaseapp.com",projectId:"wendex-7438c",storageBucket:"wendex-7438c.firebasestorage.app",messagingSenderId:"682166033434",appId:"1:682166033434:web:f29e18b1b8f94170029498"},uA=o6(Zue),Kt=lle(uA);xue(uA);Kue(uA);const Gt={CAMPAIGNS:"campaigns",CONTRIBUTIONS:"contributions",USERS:"users",TRANSACTIONS:"transactions",ANALYTICS:"analytics"};class Xue{constructor(){this.cache=new Map,this.cacheDefaultTTL=5*60*1e3,this.subscribers=new Map,setInterval(()=>this.cleanupCache(),6e4)}getCacheKey(e,n,r){return`${e}:${n||"query"}:${r||"default"}`}setCache(e,n,r=this.cacheDefaultTTL){this.cache.set(e,{data:n,timestamp:Date.now(),ttl:r})}getCache(e){const n=this.cache.get(e);return n?Date.now()-n.timestamp>n.ttl?(this.cache.delete(e),null):n.data:null}cleanupCache(){const e=Date.now();for(const[n,r]of this.cache.entries())e-r.timestamp>r.ttl&&this.cache.delete(n)}invalidateCache(e){for(const n of this.cache.keys())n.includes(e)&&this.cache.delete(n)}async createCampaign(e){try{const n=wa(os(Kt,Gt.CAMPAIGNS),va("contractAddress","==",e.contractAddress));if(!(await go(n)).empty)throw new Error("Campaign already exists for this contract address");const s=await e_(Kt,async i=>{let o=null,a=null;e.createdBy&&(a=ii(Kt,Gt.USERS,e.createdBy),o=await i.get(a));const l=ii(os(Kt,Gt.CAMPAIGNS)),c={...e,createdAt:Ws(),updatedAt:Ws()};return i.set(l,c),e.createdBy&&a&&(o&&o.exists()?i.update(a,{campaignsCreated:ff(1),updatedAt:Ws()}):i.set(a,{id:e.createdBy,campaignsCreated:1,createdAt:Ws(),updatedAt:Ws(),profile:{displayName:null,avatar:null,bio:null}})),l.id});return this.invalidateCache(Gt.CAMPAIGNS),s}catch(n){throw console.error("Campaign creation error:",n),new Error(`Failed to create campaign: ${n.message}`)}}async getCampaigns(e={}){try{const{limit:n=20,orderBy:r="createdAt",orderDirection:s="desc",startAfter:i,filters:o=[]}=e,a=this.getCacheKey(Gt.CAMPAIGNS,void 0,JSON.stringify({pageLimit:n,orderField:r,orderDirection:s,filters:o}));if(!i){const g=this.getCache(a);if(g)return g}const l=[];o.forEach(g=>{l.push(va(g.field,g.operator,g.value))}),l.push(Wg(r,s)),i&&l.push(pR(i)),l.push(Pu(n+1));const c=wa(os(Kt,Gt.CAMPAIGNS),...l),u=await go(c),f=[];let p=null,m=!1;u.docs.forEach((g,w)=>{if(w<n){const _=g.data();f.push({id:g.id,..._,createdAt:as(_.createdAt),updatedAt:as(_.updatedAt)}),p=g}else m=!0});const v={data:f,lastDoc:p,hasMore:m};return i||this.setCache(a,v),v}catch(n){throw console.error("Get campaigns error:",n),new Error("Failed to fetch campaigns")}}async getCampaign(e){try{const n=this.getCacheKey(Gt.CAMPAIGNS,e),r=this.getCache(n);if(r)return r;const s=ii(Kt,Gt.CAMPAIGNS,e),i=await wle(s);if(!i.exists())return null;const o=i.data(),a={id:i.id,...o,createdAt:as(o.createdAt),updatedAt:as(o.updatedAt)};return this.setCache(n,a),a}catch(n){throw console.error("Get campaign error:",n),new Error("Failed to fetch campaign")}}async updateCampaign(e,n){try{const r=ii(Kt,Gt.CAMPAIGNS,e),s={...n,updatedAt:Ws()};await vle(r,s),this.invalidateCache(Gt.CAMPAIGNS)}catch(r){throw console.error("Update campaign error:",r),new Error("Failed to update campaign")}}async createContribution(e){try{return await e_(Kt,async n=>{const r=ii(os(Kt,Gt.CONTRIBUTIONS)),s={...e,createdAt:Ws()};n.set(r,s);const i=ii(Kt,Gt.CAMPAIGNS,e.campaignId);if(n.update(i,{currentAmount:ff(e.amount),contributorCount:ff(1),updatedAt:Ws()}),e.userId){const o=ii(Kt,Gt.USERS,e.userId);n.update(o,{totalContributed:ff(e.amount),campaignsSupported:ff(1),updatedAt:Ws()})}return r.id})}catch(n){throw console.error("Contribution creation error:",n),new Error("Failed to create contribution")}}async getCampaignContributions(e,n={}){try{const{limit:r=50,orderBy:s="createdAt",orderDirection:i="desc",startAfter:o}=n,a=[va("campaignId","==",e),Wg(s,i)];o&&a.push(pR(o)),a.push(Pu(r+1));const l=wa(os(Kt,Gt.CONTRIBUTIONS),...a),c=await go(l),u=[];let f=null,p=!1;return c.docs.forEach((m,v)=>{if(v<r){const g=m.data();u.push({id:m.id,...g,createdAt:as(g.createdAt)}),f=m}else p=!0}),{data:u,lastDoc:f,hasMore:p}}catch(r){throw console.error("Get campaign contributions error:",r),new Error("Failed to fetch campaign contributions")}}async batchUpdateCampaigns(e){try{const n=wR(Kt);e.forEach(({id:r,data:s})=>{const i=ii(Kt,Gt.CAMPAIGNS,r);n.update(i,{...s,updatedAt:Ws()})}),await n.commit(),this.invalidateCache(Gt.CAMPAIGNS)}catch(n){throw console.error("Batch update campaigns error:",n),new Error("Failed to batch update campaigns")}}async batchCreateContributions(e){try{const n=wR(Kt),r=[];return e.forEach(s=>{const i=ii(os(Kt,Gt.CONTRIBUTIONS));n.set(i,{...s,createdAt:Ws()}),r.push(i.id)}),await n.commit(),r}catch(n){throw console.error("Batch create contributions error:",n),new Error("Failed to batch create contributions")}}subscribeToCampaign(e,n){const r=ii(Kt,Gt.CAMPAIGNS,e),s=yR(r,o=>{if(o.exists()){const a=o.data(),l={id:o.id,...a,createdAt:as(a.createdAt),updatedAt:as(a.updatedAt)},c=this.getCacheKey(Gt.CAMPAIGNS,e);this.setCache(c,l),n(l)}else n(null)},o=>{console.error("Campaign subscription error:",o),n(null)}),i=`campaign:${e}`;return this.subscribers.set(i,s),()=>{s(),this.subscribers.delete(i)}}subscribeToActiveCampaigns(e,n=[]){const r=[va("status","==","active"),Wg("createdAt","desc"),Pu(50)];n.forEach(o=>{r.push(va(o.field,o.operator,o.value))});const s=wa(os(Kt,Gt.CAMPAIGNS),...r);return yR(s,o=>{const a=[];o.docs.forEach(l=>{const c=l.data();a.push({id:l.id,...c,createdAt:as(c.createdAt),updatedAt:as(c.updatedAt)})}),e(a)},o=>{console.error("Active campaigns subscription error:",o),e([])})}async getPlatformStats(){try{const e=this.getCacheKey("stats","platform"),n=this.getCache(e);if(n)return n;const[r,s,i]=await Promise.all([go(os(Kt,Gt.CAMPAIGNS)),go(wa(os(Kt,Gt.CAMPAIGNS),va("status","==","active"))),go(os(Kt,Gt.CONTRIBUTIONS))]);let o=0,a=0;i.docs.forEach(c=>{const u=c.data();u.status==="confirmed"&&(o+=u.amount||0,a++)});const l={totalCampaigns:r.size,activeCampaigns:s.size,totalFunded:o,totalContributions:a};return this.setCache(e,l,5*60*1e3),l}catch(e){throw console.error("Get platform stats error:",e),new Error("Failed to fetch platform statistics")}}async checkContractAddressExists(e){try{console.log("[Database Service] Checking if contract address exists:",e);const n=wa(os(Kt,Gt.CAMPAIGNS),va("contractAddress","==",e),Pu(1));console.log("[Database Service] Executing Firestore query...");const r=await go(n),s=!r.empty;return console.log("[Database Service] Query result - exists:",s,"docs count:",r.size),s}catch(n){return console.error("[Database Service] Contract address check error:",n),console.log("[Database Service] Returning false due to error"),!1}}async searchCampaigns(e,n={}){try{const r=e.toLowerCase(),s=wa(os(Kt,Gt.CAMPAIGNS),va("status","==","active"),Wg("createdAt","desc"),Pu(n.limit||20)),i=await go(s),o=[];return i.docs.forEach(a=>{var m,v,g,w,_;const l=a.data(),c={id:a.id,...l,createdAt:as(l.createdAt),updatedAt:as(l.updatedAt)},u=((v=(m=c.tokenMetadata)==null?void 0:m.name)==null?void 0:v.toLowerCase())||"",f=((w=(g=c.tokenMetadata)==null?void 0:g.symbol)==null?void 0:w.toLowerCase())||"",p=((_=c.description)==null?void 0:_.toLowerCase())||"";(u.includes(r)||f.includes(r)||p.includes(r))&&o.push(c)}),o}catch(r){return console.error("Search campaigns error:",r),[]}}cleanup(){this.subscribers.forEach(e=>{e()}),this.subscribers.clear(),this.cache.clear()}async healthCheck(){const e=Date.now();try{const n=wa(os(Kt,Gt.CAMPAIGNS),Pu(1));await go(n);const r=!0;let s=!1;try{const o=ii(os(Kt,"health-check"));await e_(Kt,async a=>{a.set(o,{test:!0,timestamp:Ws()}),a.delete(o)}),s=!0}catch(o){console.warn("Write test failed:",o)}const i=Date.now()-e;return{healthy:r,canRead:r,canWrite:s,latency:i,cacheSize:this.cache.size,activeSubscriptions:this.subscribers.size}}catch{return{healthy:!1,canRead:!1,canWrite:!1,latency:Date.now()-e,cacheSize:this.cache.size,activeSubscriptions:this.subscribers.size}}}}const Jue=new Xue;class ede{async uploadImage(e,n,r){try{if(e.size>5242880)throw new Error("File size exceeds 5MB limit");if(!e.type.startsWith("image/"))throw new Error("File must be an image");const i=await this.convertToBase64(e),o=Date.now(),a=Math.random().toString(36).substring(2),l=r?`campaigns/${r}/${n}/${o}_${a}`:`${n}/${o}_${a}`;return{url:i,path:l}}catch(s){throw console.error("Image upload error:",s),new Error(`Failed to upload image: ${s.message}`)}}convertToBase64(e){return new Promise((n,r)=>{const s=document.createElement("canvas"),i=s.getContext("2d"),o=new Image;o.onload=()=>{const l=Math.min(800/o.width,800/o.height);s.width=o.width*l,s.height=o.height*l,i==null||i.drawImage(o,0,0,s.width,s.height);const c=s.toDataURL("image/jpeg",.7);n(c)},o.onerror=r,o.src=URL.createObjectURL(e)})}async uploadLogo(e,n){return new Promise((r,s)=>{const i=new Image;i.onload=async()=>{const o=i.width/i.height;if(o<.8||o>1.2){s(new Error("Logo image should have a square aspect ratio (1:1)"));return}try{const a=await this.uploadImage(e,"logos",n);r(a)}catch(a){s(a)}},i.onerror=()=>{s(new Error("Failed to load image for validation"))},i.src=URL.createObjectURL(e)})}async uploadBanner(e,n){return new Promise((r,s)=>{const i=new Image;i.onload=async()=>{const o=i.width/i.height;if(o<2.8||o>3.2){s(new Error("Banner image should have a 3:1 aspect ratio"));return}try{const a=await this.uploadImage(e,"banners",n);r(a)}catch(a){s(a)}},i.onerror=()=>{s(new Error("Failed to load image for validation"))},i.src=URL.createObjectURL(e)})}}const VR=new ede,tde=()=>{var D;const[,t]=Jp(),{publicKey:e,connected:n}=gm(),{toast:r}=em(),[s,i]=k.useState({contractAddress:"",tokenMetadata:null,logoImage:null,bannerImage:null,duration:24,socialLinks:{}}),[o,a]=k.useState(!1),[l,c]=k.useState(null),[u,f]=k.useState(!1),[p,m]=k.useState(0),[v,g]=k.useState(null),w=k.useCallback(nde(async F=>{if(console.log("[Campaign Form] validateToken called with:",F),!F||F.length<32){console.log("[Campaign Form] Address too short, clearing metadata"),i(M=>({...M,tokenMetadata:null})),c(null);return}console.log("[Campaign Form] Starting validation process..."),a(!0),c(null);try{console.log("[Campaign Form] Checking if campaign exists...");const M=await Jue.checkContractAddressExists(F);if(console.log("[Campaign Form] Campaign exists check result:",M),M){console.log("[Campaign Form] Campaign already exists, showing error"),c("A campaign already exists for this token"),i(U=>({...U,tokenMetadata:null}));return}console.log("[Campaign Form] Calling heliusService.validateToken...");const R=await Hre.validateToken(F);console.log("[Campaign Form] Helius validation result:",R),R.isValid&&R.metadata?(console.log("[Campaign Form] Token is valid, setting metadata:",R.metadata),i(U=>({...U,tokenMetadata:R.metadata})),R.metadata.extensions&&(console.log("[Campaign Form] Auto-populating social links:",R.metadata.extensions),i(U=>{var W,$,q;return{...U,socialLinks:{twitter:((W=R.metadata.extensions)==null?void 0:W.twitter)||"",telegram:(($=R.metadata.extensions)==null?void 0:$.telegram)||"",website:((q=R.metadata.extensions)==null?void 0:q.website)||""}}})),console.log("[Campaign Form] Validation successful, clearing error"),c(null)):(console.log("[Campaign Form] Token validation failed:",R.error),c(R.error||"Invalid token contract"),i(U=>({...U,tokenMetadata:null})))}catch(M){console.error("[Campaign Form] Token validation error:",M),c("Failed to validate token. Please try again."),i(R=>({...R,tokenMetadata:null}))}finally{console.log("[Campaign Form] Validation process complete, setting isValidatingToken to false"),a(!1)}},500),[]);k.useEffect(()=>{w(s.contractAddress)},[s.contractAddress,w]);const _=F=>M=>{i(R=>({...R,socialLinks:{...R.socialLinks,[F]:M.target.value}}))},b=F=>M=>{var W;const R=(W=M.target.files)==null?void 0:W[0];if(!R)return;if(R.size>5*1024*1024){r({title:"File too large",description:"Please choose an image smaller than 5MB",variant:"destructive"});return}if(!R.type.startsWith("image/")){r({title:"Invalid file type",description:"Please choose an image file",variant:"destructive"});return}const U=new Image;U.onload=()=>{const $=U.width/U.height;if(F==="logo"){if($<.8||$>1.2){r({title:"Invalid aspect ratio",description:"Logo image should be square (1:1 aspect ratio)",variant:"destructive"});return}}else if(F==="banner"&&($<2.8||$>3.2)){r({title:"Invalid aspect ratio",description:"Banner image should have a 3:1 aspect ratio",variant:"destructive"});return}i(q=>({...q,[`${F}Image`]:R}))},U.onerror=()=>{r({title:"Invalid image",description:"Failed to load the selected image",variant:"destructive"})},U.src=URL.createObjectURL(R)},x=s.tokenMetadata&&s.logoImage&&s.bannerImage&&!o&&!u,S=async()=>{if(console.log("[Campaign Creation] Starting campaign creation process"),!e||!n||!s.tokenMetadata){g("Please connect your wallet first");return}f(!0),m(0),g(null);try{console.log("[Campaign Creation] Step 1: Uploading images"),m(50);const F=await VR.uploadLogo(s.logoImage),M=await VR.uploadBanner(s.bannerImage);console.log("[Campaign Creation] Images uploaded:",{logoUrl:F.url,bannerUrl:M.url}),console.log("[Campaign Creation] Step 2: Creating campaign via API"),m(75);const R={tokenAddress:s.contractAddress,tokenName:s.tokenMetadata.name,tokenSymbol:s.tokenMetadata.symbol,tokenLogoUrl:F.url,bannerUrl:M.url,campaignType:"enhanced_token_info",targetAmount:299,deadline:new Date(Date.now()+s.duration*60*60*1e3),description:`Community crowdfunding campaign to purchase Enhanced Token Info for ${s.tokenMetadata.name} (${s.tokenMetadata.symbol})`,creatorAddress:e.toString()},U=await lh.create(R);if(!U.success)throw new Error("Failed to create campaign");m(100),setTimeout(()=>{t(`/campaign/${U.campaign.id}`)},1e3)}catch(F){console.error("Campaign creation error:",F),g(F instanceof Error?F.message:"Failed to create campaign")}finally{f(!1)}};return n?d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h2",{className:"heading-dark-2",children:"Create Campaign"}),d.jsx("p",{className:"text-gray-400 text-lg",children:"Fund Enhanced Token Info for your favorite Solana token"})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-base font-semibold text-white",children:"Token Contract Address"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Enter Solana token contract address...",value:s.contractAddress,onChange:F=>i(M=>({...M,contractAddress:F.target.value})),className:"input-dark w-full pr-12"}),o&&d.jsx(vp,{className:"absolute right-4 top-4 h-5 w-5 animate-spin text-purple-400"})]}),l&&d.jsx("div",{className:"card-dark p-4 border border-red-500/30 bg-red-500/10",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(vf,{className:"h-5 w-5 text-red-400 flex-shrink-0"}),d.jsx("p",{className:"text-red-400 text-sm",children:l})]})}),s.tokenMetadata&&d.jsx("div",{className:"card-dark p-6 border border-purple-500/30 bg-gradient-to-r from-purple-600/10 to-pink-600/10",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[s.tokenMetadata.image&&d.jsx("img",{src:s.tokenMetadata.image,alt:s.tokenMetadata.name,className:"w-16 h-16 rounded-full border-2 border-gray-700"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.jsx("span",{className:"text-xl font-bold text-white",children:s.tokenMetadata.name}),d.jsx("div",{className:"badge-dark badge-dark-active",children:s.tokenMetadata.symbol}),s.tokenMetadata.verified&&d.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-green-500/20 text-green-400 border border-green-500/50 rounded-lg",children:[d.jsx(xf,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm font-medium",children:"Verified"})]})]}),d.jsxs("p",{className:"text-gray-400",children:["Supply: ",((D=s.tokenMetadata.supply)==null?void 0:D.toLocaleString())||"Unknown"]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Contract: ",s.contractAddress]})]})]})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[d.jsx(Wz,{className:"h-6 w-6 mr-3 text-purple-400"}),"Social Links (Optional)"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-base font-medium text-gray-300",children:"Twitter"}),d.jsx("input",{type:"url",placeholder:"https://twitter.com/...",value:s.socialLinks.twitter||"",onChange:_("twitter"),className:"input-dark w-full"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-base font-medium text-gray-300",children:"Telegram"}),d.jsx("input",{type:"url",placeholder:"https://t.me/...",value:s.socialLinks.telegram||"",onChange:_("telegram"),className:"input-dark w-full"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-base font-medium text-gray-300",children:"Website"}),d.jsx("input",{type:"url",placeholder:"https://example.com",value:s.socialLinks.website||"",onChange:_("website"),className:"input-dark w-full"})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[d.jsx(Vz,{className:"h-6 w-6 mr-3 text-purple-400"}),"Campaign Images"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx("div",{className:"space-y-3",children:d.jsx("label",{className:"block",children:d.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-300
                  ${s.logoImage?"border-purple-500 bg-purple-500/10":"border-gray-700 hover:border-purple-500/50 hover:bg-purple-500/5"}`,children:[d.jsx("input",{type:"file",accept:"image/*",onChange:b("logo"),className:"sr-only"}),s.logoImage?d.jsxs("div",{className:"space-y-3",children:[d.jsx(xf,{className:"h-10 w-10 mx-auto text-purple-400"}),d.jsx("p",{className:"text-base font-medium text-white",children:s.logoImage.name}),d.jsx("p",{className:"text-sm text-gray-400",children:"Click to change"})]}):d.jsxs("div",{className:"space-y-3",children:[d.jsx(SC,{className:"h-10 w-10 mx-auto text-gray-400"}),d.jsx("p",{className:"text-base font-medium text-white",children:"Logo Image (1:1)"}),d.jsx("p",{className:"text-sm text-gray-400",children:"Square image, max 5MB"})]})]})})}),d.jsx("div",{className:"space-y-3",children:d.jsx("label",{className:"block",children:d.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-300
                  ${s.bannerImage?"border-purple-500 bg-purple-500/10":"border-gray-700 hover:border-purple-500/50 hover:bg-purple-500/5"}`,children:[d.jsx("input",{type:"file",accept:"image/*",onChange:b("banner"),className:"sr-only"}),s.bannerImage?d.jsxs("div",{className:"space-y-3",children:[d.jsx(xf,{className:"h-10 w-10 mx-auto text-purple-400"}),d.jsx("p",{className:"text-base font-medium text-white",children:s.bannerImage.name}),d.jsx("p",{className:"text-sm text-gray-400",children:"Click to change"})]}):d.jsxs("div",{className:"space-y-3",children:[d.jsx(SC,{className:"h-10 w-10 mx-auto text-gray-400"}),d.jsx("p",{className:"text-base font-medium text-white",children:"Banner Image (3:1)"}),d.jsx("p",{className:"text-sm text-gray-400",children:"Wide image, max 5MB"})]})]})})})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[d.jsx(yO,{className:"h-6 w-6 mr-3 text-purple-400"}),"Campaign Duration"]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[4,8,12,24].map(F=>d.jsx("button",{type:"button",onClick:()=>i(M=>({...M,duration:F})),className:`p-4 rounded-xl border-2 transition-all duration-200 ${s.duration===F?"border-purple-500 bg-purple-500/20 text-white":"border-gray-700 bg-gray-800/50 text-gray-400 hover:border-purple-500/50 hover:text-gray-300"}`,children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold mb-1",children:F}),d.jsxs("div",{className:"text-sm",children:["Hour",F!==1?"s":""]})]})},F))}),d.jsx("div",{className:"card-dark p-4 border border-yellow-500/30 bg-yellow-500/10",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(vf,{className:"h-5 w-5 text-yellow-400 flex-shrink-0"}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:["Selected duration: ",d.jsxs("strong",{className:"text-white",children:[s.duration," hours"]}),". Campaign will end at ",new Date(Date.now()+s.duration*60*60*1e3).toLocaleString(),"."]})]})})]}),d.jsx("div",{className:"card-dark p-6 border border-blue-500/30 bg-blue-500/10",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(vf,{className:"h-6 w-6 text-blue-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-blue-400 font-medium mb-2",children:"Campaign Information"}),d.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["Your campaign will raise ",d.jsx("strong",{className:"text-white",children:"$299 USD"})," to purchase Enhanced Token Info on DexScreener. The campaign will run for ",d.jsxs("strong",{className:"text-white",children:[s.duration," hours"]})," or until fully funded."]})]})]})}),u&&d.jsxs("div",{className:"card-dark p-8 space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-lg font-semibold text-white",children:"Creating Campaign..."}),d.jsxs("span",{className:"text-base text-purple-400 font-medium",children:[p,"%"]})]}),d.jsx("div",{className:"progress-dark",children:d.jsx("div",{className:"progress-dark-bar",style:{width:`${p}%`}})}),d.jsxs("p",{className:"text-base text-gray-400",children:[p<=25&&"Generating secure campaign wallet...",p>25&&p<=50&&"Uploading images...",p>50&&p<=75&&"Creating campaign...",p>75&&"Finalizing..."]})]}),v&&d.jsx("div",{className:"card-dark p-6 border border-red-500/30 bg-red-500/10",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(vf,{className:"h-6 w-6 text-red-400 flex-shrink-0"}),d.jsx("p",{className:"text-red-400 text-base",children:v})]})}),d.jsx("button",{onClick:S,disabled:!x||u,className:`w-full btn-dark-primary text-lg py-4 ${!x||u?"opacity-50 cursor-not-allowed":""}`,children:u?d.jsxs(d.Fragment,{children:[d.jsx(vp,{className:"h-5 w-5 mr-3 animate-spin"}),"Creating Campaign..."]}):d.jsxs(d.Fragment,{children:["Create Campaign",d.jsx(xf,{className:"h-5 w-5 ml-3"})]})})]})]}):d.jsx("div",{className:"min-h-screen bg-dark-gradient flex items-center justify-center p-4",children:d.jsxs("div",{className:"card-dark max-w-md w-full p-8 text-center space-y-8 glow-purple",children:[d.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center",children:d.jsx(sm,{className:"h-8 w-8 text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Connect Your Wallet"}),d.jsx("p",{className:"text-gray-400 text-lg",children:"Connect your Solana wallet to create a campaign"})]}),d.jsx(zy,{className:"!bg-gradient-to-r !from-purple-600 !to-pink-600 !text-white hover:!from-purple-700 hover:!to-pink-700 !font-semibold !py-4 !px-8 !rounded-xl !transition-all !duration-200 w-full !text-lg"})]})})};function nde(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>t(...r),e)}}const rde=k.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:We("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));rde.displayName="Textarea";var dA="Progress",hA=100,[sde,ghe]=eo(dA),[ide,ode]=sde(dA),f8=k.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=ade,...o}=t;(s||s===0)&&!zR(s)&&console.error(lde(`${s}`,"Progress"));const a=zR(s)?s:hA;r!==null&&!WR(r,a)&&console.error(cde(`${r}`,"Progress"));const l=WR(r,a)?r:null,c=_w(l)?i(l,a):void 0;return d.jsx(ide,{scope:n,value:l,max:a,children:d.jsx(Je.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":_w(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":g8(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});f8.displayName=dA;var p8="ProgressIndicator",m8=k.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=ode(p8,n);return d.jsx(Je.div,{"data-state":g8(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});m8.displayName=p8;function ade(t,e){return`${Math.round(t/e*100)}%`}function g8(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function _w(t){return typeof t=="number"}function zR(t){return _w(t)&&!isNaN(t)&&t>0}function WR(t,e){return _w(t)&&!isNaN(t)&&t<=e&&t>=0}function lde(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hA}\`.`}function cde(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hA} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var y8=f8,ude=m8;const W0=k.forwardRef(({className:t,value:e,...n},r)=>d.jsx(y8,{ref:r,className:We("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:d.jsx(ude,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));W0.displayName=y8.displayName;function dde(){return d.jsx(Ed,{children:d.jsx("div",{className:"min-h-screen bg-dark-gradient",children:d.jsx("div",{className:"container mx-auto py-8 max-w-4xl px-6",children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"heading-dark-1",children:"Create Campaign"}),d.jsx("p",{className:"text-gray-400 mt-2 text-lg",children:"Start a crowdfunding campaign to purchase DexScreener services for your favorite token"})]}),d.jsx("div",{className:"card-dark p-6 border border-purple-500/30",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(zz,{className:"h-5 w-5 text-purple-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-purple-400 font-medium mb-2",children:"Important Information"}),d.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Campaign funds are held in a unique Solana wallet. Once the target is reached, the service will be automatically purchased. If the deadline passes without reaching the target, all contributors will be refunded."})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx("div",{className:"card-dark p-6 hover-lift-dark",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"heading-dark-3",children:"Enhanced Token Info"}),d.jsx("p",{className:"text-purple-400 font-semibold",children:"$299 USDC"})]}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Add detailed token information, social links, and descriptions to DexScreener"})]})}),d.jsx("div",{className:"card-dark p-6 hover-lift-dark",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"heading-dark-3",children:"Token Advertising"}),d.jsx("p",{className:"text-blue-400 font-semibold",children:"Custom Budget"})]}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Promote your token with banner ads and featured placements on DexScreener"})]})}),d.jsx("div",{className:"card-dark p-6 hover-lift-dark",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"heading-dark-3",children:"DexScreener Boost"}),d.jsx("p",{className:"text-green-400 font-semibold",children:"Variable Pricing"})]}),d.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Boost your token's visibility with trending placement and increased exposure"})]})})]}),d.jsx("div",{className:"card-dark p-8 glow-purple",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"heading-dark-2",children:"Campaign Details"}),d.jsx("p",{className:"text-gray-400 mt-2",children:"Fill in the information below to create your crowdfunding campaign"})]}),d.jsx(tde,{})]})})]})})})})}const $0=k.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:We("w-full caption-bottom text-sm",t),...e})}));$0.displayName="Table";const H0=k.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:We("[&_tr]:border-b",t),...e}));H0.displayName="TableHeader";const q0=k.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:We("[&_tr:last-child]:border-0",t),...e}));q0.displayName="TableBody";const hde=k.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:We("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));hde.displayName="TableFooter";const tc=k.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:We("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));tc.displayName="TableRow";const qn=k.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:We("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));qn.displayName="TableHead";const Kn=k.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:We("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Kn.displayName="TableCell";const fde=k.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:We("mt-4 text-sm text-muted-foreground",t),...e}));fde.displayName="TableCaption";var s1="Switch",[pde,yhe]=eo(s1),[mde,gde]=pde(s1),w8=k.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...f}=t,[p,m]=k.useState(null),v=Dt(e,x=>m(x)),g=k.useRef(!1),w=p?u||!!p.closest("form"):!0,[_,b]=Fc({prop:s,defaultProp:i??!1,onChange:c,caller:s1});return d.jsxs(mde,{scope:n,checked:_,disabled:a,children:[d.jsx(Je.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":b8(_),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:v,onClick:Ve(t.onClick,x=>{b(S=>!S),w&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),w&&d.jsx(_8,{control:p,bubbles:!g.current,name:r,value:l,checked:_,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});w8.displayName=s1;var v8="SwitchThumb",x8=k.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=gde(v8,n);return d.jsx(Je.span,{"data-state":b8(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});x8.displayName=v8;var yde="SwitchBubbleInput",_8=k.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=k.useRef(null),a=Dt(o,i),l=d3(n),c=VO(e);return k.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&m){const v=new Event("click",{bubbles:r});m.call(u,n),u.dispatchEvent(v)}},[l,n,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_8.displayName=yde;function b8(t){return t?"checked":"unchecked"}var E8=w8,wde=x8;const Of=k.forwardRef(({className:t,...e},n)=>d.jsx(E8,{className:We("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:d.jsx(wde,{className:We("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Of.displayName=E8.displayName;const bs={getStats:()=>lt.get("/api/admin/stats"),getCampaigns:t=>lt.get("/api/admin/campaigns",{params:t}),getUsers:t=>lt.get("/api/admin/users",{params:t}),getTransactions:t=>lt.get("/api/admin/transactions",{params:t}),getSystemHealth:()=>lt.get("/api/admin/health"),updateCampaignStatus:(t,e)=>lt.put(`/api/admin/campaigns/${t}/status`,{status:e}),triggerRefund:t=>lt.post(`/api/admin/campaigns/${t}/refund`),banUser:t=>lt.post(`/api/admin/users/${t}/ban`),unbanUser:t=>lt.post(`/api/admin/users/${t}/unban`),triggerPurchase:t=>lt.post(`/api/admin/campaigns/${t}/purchase`),exportData:(t,e)=>lt.get(`/api/admin/export/${t}`,{params:e,responseType:"blob"}),reconcileBalances:()=>lt.post("/api/admin/reconcile"),pausePlatform:()=>lt.post("/api/admin/platform/pause"),resumePlatform:()=>lt.post("/api/admin/platform/resume")};function vde(){var T,K,ae,ue,he,le,ye,Te,Re,Ee,_e,He,Me,Ge,zt,at,Et,or,wt;const{toast:t}=em(),e=YS(),[n,r]=k.useState(null),[s,i]=k.useState(null),[o,a]=k.useState(!1),[l,c]=k.useState(!1),[u,f]=k.useState({}),[p,m]=k.useState({}),[v,g]=k.useState({}),[w,_]=k.useState("7d"),[b,x]=k.useState(!1),{data:S,isLoading:D}=To({queryKey:["admin-stats",w],queryFn:()=>bs.getStats(),refetchInterval:3e4}),{data:F,isLoading:M}=To({queryKey:["admin-campaigns",u],queryFn:()=>bs.getCampaigns(u),refetchInterval:6e4}),{data:R,isLoading:U}=To({queryKey:["admin-users",p],queryFn:()=>bs.getUsers(p),refetchInterval:3e5}),{data:W,isLoading:$}=To({queryKey:["admin-transactions",v],queryFn:()=>bs.getTransactions(v),refetchInterval:3e4}),{data:q}=To({queryKey:["admin-health"],queryFn:()=>bs.getSystemHealth(),refetchInterval:1e4}),N=Su({mutationFn:({campaignId:oe,status:At})=>bs.updateCampaignStatus(oe,At),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Campaign updated successfully"})},onError:oe=>{t({title:"Update failed",description:oe.message,variant:"destructive"})}}),y=Su({mutationFn:oe=>bs.triggerRefund(oe),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Refund initiated successfully"})},onError:oe=>{t({title:"Refund failed",description:oe.message,variant:"destructive"})}}),I=Su({mutationFn:oe=>bs.banUser(oe),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-users"]}),t({title:"User banned successfully"})},onError:oe=>{t({title:"Ban failed",description:oe.message,variant:"destructive"})}}),O=Su({mutationFn:oe=>bs.triggerPurchase(oe),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Purchase triggered successfully"})},onError:oe=>{t({title:"Purchase trigger failed",description:oe.message,variant:"destructive"})}}),z=Su({mutationFn:()=>bs.reconcileBalances(),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-campaigns"]}),t({title:"Balance reconciliation completed"})},onError:oe=>{t({title:"Reconciliation failed",description:oe.message,variant:"destructive"})}}),L=Su({mutationFn:oe=>oe==="pause"?bs.pausePlatform():bs.resumePlatform(),onSuccess:(oe,At)=>{x(At==="pause"),t({title:`Platform ${At==="pause"?"paused":"resumed"} successfully`,variant:At==="pause"?"destructive":"default"})},onError:oe=>{t({title:"Platform control failed",description:oe.message,variant:"destructive"})}}),j=async oe=>{try{const At=await bs.exportData(oe,{dateRange:w}),Tt=new Blob([At.data],{type:"text/csv"}),Nt=window.URL.createObjectURL(Tt),Fn=document.createElement("a");Fn.href=Nt,Fn.download=`wendex_${oe}_${Jl(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(Fn),Fn.click(),window.URL.revokeObjectURL(Nt),document.body.removeChild(Fn),t({title:`${oe} data exported successfully`})}catch(At){t({title:"Export failed",description:At.message,variant:"destructive"})}},H=oe=>{const At={active:"bg-green-500",funded:"bg-blue-500",completed:"bg-purple-500",failed:"bg-red-500",cancelled:"bg-gray-500",refunding:"bg-orange-500"};return d.jsx(Sa,{className:At[oe]||"bg-gray-500",children:oe})},B=oe=>{const At={healthy:"text-green-500",degraded:"text-yellow-500",down:"text-red-500"};return d.jsx("span",{className:At[oe],children:oe})};return d.jsx(Ed,{children:d.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Comprehensive platform management and monitoring"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(yn,{variant:b?"default":"destructive",onClick:()=>L.mutate(b?"resume":"pause"),children:[b?d.jsx(bC,{className:"mr-2 h-4 w-4"}):d.jsx(W1,{className:"mr-2 h-4 w-4"}),b?"Resume Platform":"Pause Platform"]}),d.jsxs(yn,{variant:"outline",onClick:()=>z.mutate(),children:[d.jsx(q1,{className:"mr-2 h-4 w-4"}),"Reconcile Balances"]})]})]}),b&&d.jsxs(xv,{variant:"destructive",children:[d.jsx(vO,{className:"h-4 w-4"}),d.jsx(_v,{children:"Platform is currently paused. New campaigns and contributions are disabled."})]}),d.jsxs(ur,{children:[d.jsx(jr,{children:d.jsxs(Br,{className:"flex items-center gap-2",children:[d.jsx($z,{className:"h-5 w-5"}),"System Health"]})}),d.jsxs(dr,{children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx(Kz,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"API"}),d.jsx("div",{children:B(((T=q==null?void 0:q.data)==null?void 0:T.apiStatus)||"unknown")})]}),d.jsxs("div",{className:"text-center",children:[d.jsx(xC,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"Database"}),d.jsx("div",{children:B(((K=q==null?void 0:q.data)==null?void 0:K.dbStatus)||"unknown")})]}),d.jsxs("div",{className:"text-center",children:[d.jsx(Uz,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"Blockchain"}),d.jsx("div",{children:B(((ae=q==null?void 0:q.data)==null?void 0:ae.blockchainStatus)||"unknown")})]}),d.jsxs("div",{className:"text-center",children:[d.jsx(dl,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("div",{className:"font-semibold",children:"Webhooks"}),d.jsx("div",{children:B(((ue=q==null?void 0:q.data)==null?void 0:ue.webhookStatus)||"unknown")})]})]}),(q==null?void 0:q.data)&&d.jsxs("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:["Response Time: ",q.data.responseTime,"ms | Error Rate: ",q.data.errorRate.toFixed(2),"% | Last Update: ",Jl(new Date(q.data.lastUpdate),"HH:mm:ss")]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs(ur,{children:[d.jsxs(jr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Br,{className:"text-sm font-medium",children:"Total Campaigns"}),d.jsx(Pz,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(dr,{children:[d.jsx("div",{className:"text-2xl font-bold",children:((he=S==null?void 0:S.data)==null?void 0:he.totalCampaigns)||0}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[((le=S==null?void 0:S.data)==null?void 0:le.activeCampaigns)||0," active"]})]})]}),d.jsxs(ur,{children:[d.jsxs(jr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Br,{className:"text-sm font-medium",children:"Total Funded"}),d.jsx(nT,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(dr,{children:[d.jsxs("div",{className:"text-2xl font-bold",children:["$",((Te=(ye=S==null?void 0:S.data)==null?void 0:ye.totalFunded)==null?void 0:Te.toLocaleString())||0]}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",((Ee=(Re=S==null?void 0:S.data)==null?void 0:Re.avgCampaignSize)==null?void 0:Ee.toFixed(0))||0," avg campaign"]})]})]}),d.jsxs(ur,{children:[d.jsxs(jr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Br,{className:"text-sm font-medium",children:"Contributors"}),d.jsx(Ww,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(dr,{children:[d.jsx("div",{className:"text-2xl font-bold",children:((_e=S==null?void 0:S.data)==null?void 0:_e.totalContributors)||0}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique addresses"})]})]}),d.jsxs(ur,{children:[d.jsxs(jr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Br,{className:"text-sm font-medium",children:"Success Rate"}),d.jsx(rT,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(dr,{children:[d.jsxs("div",{className:"text-2xl font-bold",children:[((Me=(He=S==null?void 0:S.data)==null?void 0:He.successRate)==null?void 0:Me.toFixed(1))||0,"%"]}),d.jsx(W0,{value:((Ge=S==null?void 0:S.data)==null?void 0:Ge.successRate)||0,className:"mt-2"})]})]})]}),d.jsxs(b5,{defaultValue:"campaigns",className:"w-full",children:[d.jsxs(iI,{className:"grid w-full grid-cols-5",children:[d.jsx(Ro,{value:"campaigns",children:"Campaigns"}),d.jsx(Ro,{value:"users",children:"Users"}),d.jsx(Ro,{value:"transactions",children:"Transactions"}),d.jsx(Ro,{value:"analytics",children:"Analytics"}),d.jsx(Ro,{value:"settings",children:"Settings"})]}),d.jsx(Mo,{value:"campaigns",className:"space-y-4",children:d.jsxs(ur,{children:[d.jsx(jr,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(Br,{children:"Campaign Management"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(yn,{variant:"outline",onClick:()=>j("campaigns"),children:[d.jsx(vg,{className:"mr-2 h-4 w-4"}),"Export"]}),d.jsxs(Cf,{value:u.status||"all",onValueChange:oe=>f({...u,status:oe==="all"?void 0:oe}),children:[d.jsx(id,{className:"w-32",children:d.jsx(kf,{placeholder:"Status"})}),d.jsxs(od,{children:[d.jsx(vn,{value:"all",children:"All Status"}),d.jsx(vn,{value:"active",children:"Active"}),d.jsx(vn,{value:"funded",children:"Funded"}),d.jsx(vn,{value:"completed",children:"Completed"}),d.jsx(vn,{value:"failed",children:"Failed"})]})]})]})]})}),d.jsx(dr,{children:d.jsxs($0,{children:[d.jsx(H0,{children:d.jsxs(tc,{children:[d.jsx(qn,{children:"Token"}),d.jsx(qn,{children:"Type"}),d.jsx(qn,{children:"Progress"}),d.jsx(qn,{children:"Status"}),d.jsx(qn,{children:"Created"}),d.jsx(qn,{children:"Actions"})]})}),d.jsx(q0,{children:(zt=F==null?void 0:F.data)==null?void 0:zt.map(oe=>d.jsxs(tc,{children:[d.jsx(Kn,{children:d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:oe.tokenName}),d.jsx("div",{className:"text-sm text-muted-foreground",children:oe.tokenSymbol})]})}),d.jsx(Kn,{children:oe.campaignType.replace("_"," ")}),d.jsx(Kn,{children:d.jsxs("div",{className:"w-24",children:[d.jsx(W0,{value:oe.currentAmount/oe.targetAmount*100,className:"h-2"}),d.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["$",oe.currentAmount.toFixed(0)," / $",oe.targetAmount.toFixed(0)]})]})}),d.jsx(Kn,{children:H(oe.status)}),d.jsx(Kn,{children:Jl(new Date(oe.createdAt),"MMM dd")}),d.jsx(Kn,{children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(yn,{size:"sm",variant:"outline",onClick:()=>{r(oe),a(!0)},children:d.jsx(_C,{className:"h-3 w-3"})}),oe.status==="funded"&&d.jsx(yn,{size:"sm",variant:"outline",onClick:()=>O.mutate(oe.id),children:d.jsx(dl,{className:"h-3 w-3"})}),["active","funded"].includes(oe.status)&&d.jsx(yn,{size:"sm",variant:"outline",onClick:()=>y.mutate(oe.id),children:d.jsx(q1,{className:"h-3 w-3"})})]})})]},oe.id))})]})})]})}),d.jsx(Mo,{value:"users",className:"space-y-4",children:d.jsxs(ur,{children:[d.jsx(jr,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(Br,{children:"User Management"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(yn,{variant:"outline",onClick:()=>j("users"),children:[d.jsx(vg,{className:"mr-2 h-4 w-4"}),"Export"]}),d.jsxs(Cf,{value:p.status||"all",onValueChange:oe=>m({...p,status:oe==="all"?void 0:oe}),children:[d.jsx(id,{className:"w-32",children:d.jsx(kf,{placeholder:"Status"})}),d.jsxs(od,{children:[d.jsx(vn,{value:"all",children:"All Users"}),d.jsx(vn,{value:"active",children:"Active"}),d.jsx(vn,{value:"flagged",children:"Flagged"}),d.jsx(vn,{value:"banned",children:"Banned"})]})]})]})]})}),d.jsx(dr,{children:d.jsxs($0,{children:[d.jsx(H0,{children:d.jsxs(tc,{children:[d.jsx(qn,{children:"Address"}),d.jsx(qn,{children:"Contributed"}),d.jsx(qn,{children:"Campaigns"}),d.jsx(qn,{children:"Risk Score"}),d.jsx(qn,{children:"Status"}),d.jsx(qn,{children:"Actions"})]})}),d.jsx(q0,{children:(at=R==null?void 0:R.data)==null?void 0:at.map(oe=>d.jsxs(tc,{children:[d.jsx(Kn,{children:d.jsxs("code",{className:"text-xs",children:[oe.address.slice(0,8),"...",oe.address.slice(-6)]})}),d.jsxs(Kn,{children:["$",oe.totalContributed.toLocaleString()]}),d.jsx(Kn,{children:oe.campaignsSupported}),d.jsx(Kn,{children:d.jsx(Sa,{variant:oe.riskScore>75?"destructive":oe.riskScore>50?"secondary":"default",children:oe.riskScore})}),d.jsx(Kn,{children:H(oe.status)}),d.jsx(Kn,{children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx(yn,{size:"sm",variant:"outline",onClick:()=>{i(oe),c(!0)},children:d.jsx(_C,{className:"h-3 w-3"})}),oe.status==="active"&&d.jsx(yn,{size:"sm",variant:"outline",onClick:()=>I.mutate(oe.address),children:d.jsx(W1,{className:"h-3 w-3"})})]})})]},oe.address))})]})})]})}),d.jsx(Mo,{value:"transactions",className:"space-y-4",children:d.jsxs(ur,{children:[d.jsx(jr,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(Br,{children:"Transaction Monitoring"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(yn,{variant:"outline",onClick:()=>j("transactions"),children:[d.jsx(vg,{className:"mr-2 h-4 w-4"}),"Export"]}),d.jsxs(Cf,{value:v.type||"all",onValueChange:oe=>g({...v,type:oe==="all"?void 0:oe}),children:[d.jsx(id,{className:"w-32",children:d.jsx(kf,{placeholder:"Type"})}),d.jsxs(od,{children:[d.jsx(vn,{value:"all",children:"All Types"}),d.jsx(vn,{value:"contribution",children:"Contributions"}),d.jsx(vn,{value:"refund",children:"Refunds"}),d.jsx(vn,{value:"service_purchase",children:"Purchases"})]})]})]})]})}),d.jsx(dr,{children:d.jsxs($0,{children:[d.jsx(H0,{children:d.jsxs(tc,{children:[d.jsx(qn,{children:"Signature"}),d.jsx(qn,{children:"Type"}),d.jsx(qn,{children:"Amount"}),d.jsx(qn,{children:"Status"}),d.jsx(qn,{children:"Time"}),d.jsx(qn,{children:"Method"})]})}),d.jsx(q0,{children:(Et=W==null?void 0:W.data)==null?void 0:Et.map(oe=>d.jsxs(tc,{children:[d.jsx(Kn,{children:d.jsxs("code",{className:"text-xs",children:[oe.signature.slice(0,8),"...",oe.signature.slice(-6)]})}),d.jsx(Kn,{children:oe.type.replace("_"," ")}),d.jsxs(Kn,{children:["$",oe.amount.toFixed(2)]}),d.jsx(Kn,{children:H(oe.status)}),d.jsx(Kn,{children:Jl(new Date(oe.timestamp),"MMM dd HH:mm")}),d.jsx(Kn,{children:d.jsx(Sa,{variant:"outline",children:oe.verificationMethod})})]},oe.id))})]})})]})}),d.jsx(Mo,{value:"analytics",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(ur,{children:[d.jsx(jr,{children:d.jsxs(Br,{className:"flex items-center gap-2",children:[d.jsx(mO,{className:"h-5 w-5"}),"Platform Revenue"]})}),d.jsxs(dr,{children:[d.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",((wt=(or=S==null?void 0:S.data)==null?void 0:or.platformFees)==null?void 0:wt.toLocaleString())||0]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"2% fee on successful campaigns"})]})]}),d.jsxs(ur,{children:[d.jsx(jr,{children:d.jsxs(Br,{className:"flex items-center gap-2",children:[d.jsx(Dz,{className:"h-5 w-5"}),"Campaign Types"]})}),d.jsx(dr,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Enhanced Token Info"}),d.jsx(Sa,{children:"65%"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Advertising"}),d.jsx(Sa,{children:"25%"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Boost"}),d.jsx(Sa,{children:"10%"})]})]})})]}),d.jsxs(ur,{className:"md:col-span-2",children:[d.jsx(jr,{children:d.jsxs(Br,{className:"flex items-center gap-2",children:[d.jsx(tT,{className:"h-5 w-5"}),"Performance Metrics"]})}),d.jsx(dr,{children:d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"98.5%"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:"156ms"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Response"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"99.2%"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Payment Success"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"4.2s"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Tx Confirmation"})]})]})})]})]})}),d.jsx(Mo,{value:"settings",className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(ur,{children:[d.jsx(jr,{children:d.jsxs(Br,{className:"flex items-center gap-2",children:[d.jsx(Gz,{className:"h-5 w-5"}),"Platform Controls"]})}),d.jsxs(dr,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Pn,{htmlFor:"platform-pause",children:"Platform Status"}),d.jsx(Of,{id:"platform-pause",checked:!b,onCheckedChange:oe=>L.mutate(oe?"resume":"pause")})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Pn,{htmlFor:"new-campaigns",children:"Allow New Campaigns"}),d.jsx(Of,{id:"new-campaigns",defaultChecked:!0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Pn,{htmlFor:"contributions",children:"Allow Contributions"}),d.jsx(Of,{id:"contributions",defaultChecked:!0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Pn,{htmlFor:"auto-purchase",children:"Auto Purchase Services"}),d.jsx(Of,{id:"auto-purchase",defaultChecked:!0})]})]})]}),d.jsxs(ur,{children:[d.jsx(jr,{children:d.jsxs(Br,{className:"flex items-center gap-2",children:[d.jsx(sm,{className:"h-5 w-5"}),"Security Settings"]})}),d.jsxs(dr,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Pn,{htmlFor:"min-contribution",children:"Minimum Contribution (USDC)"}),d.jsx(ad,{id:"min-contribution",type:"number",defaultValue:"5"})]}),d.jsxs("div",{children:[d.jsx(Pn,{htmlFor:"max-contribution",children:"Maximum Contribution (USDC)"}),d.jsx(ad,{id:"max-contribution",type:"number",defaultValue:"10000"})]}),d.jsxs("div",{children:[d.jsx(Pn,{htmlFor:"platform-fee",children:"Platform Fee (%)"}),d.jsx(ad,{id:"platform-fee",type:"number",defaultValue:"2",step:"0.1"})]}),d.jsxs("div",{children:[d.jsx(Pn,{htmlFor:"fraud-threshold",children:"Fraud Detection Threshold"}),d.jsx(ad,{id:"fraud-threshold",type:"number",defaultValue:"75"})]})]})]}),d.jsxs(ur,{className:"md:col-span-2",children:[d.jsx(jr,{children:d.jsxs(Br,{className:"flex items-center gap-2",children:[d.jsx(xC,{className:"h-5 w-5"}),"System Maintenance"]})}),d.jsx(dr,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs(yn,{variant:"outline",onClick:()=>z.mutate(),disabled:z.isPending,children:[d.jsx(q1,{className:"mr-2 h-4 w-4"}),"Reconcile All Balances"]}),d.jsxs(yn,{variant:"outline",children:[d.jsx(vg,{className:"mr-2 h-4 w-4"}),"Backup Database"]}),d.jsxs(yn,{variant:"outline",children:[d.jsx(Fz,{className:"mr-2 h-4 w-4"}),"Generate Report"]})]})})]})]})})]}),d.jsx(SE,{open:o,onOpenChange:a,children:d.jsxs(Qy,{className:"max-w-2xl",children:[d.jsxs(Yy,{children:[d.jsx(Xy,{children:"Campaign Details"}),d.jsxs(Jy,{children:["Detailed information and management for ",n==null?void 0:n.tokenName]})]}),n&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(Pn,{children:"Token Address"}),d.jsx("code",{className:"block text-xs bg-muted p-2 rounded",children:n.creatorAddress})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"Creator"}),d.jsx("code",{className:"block text-xs bg-muted p-2 rounded",children:n.creatorAddress})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"Progress"}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(W0,{value:n.currentAmount/n.targetAmount*100}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",n.currentAmount," / $",n.targetAmount]})]})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"Contributors"}),d.jsx("div",{className:"text-lg font-semibold",children:n.contributorCount})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Cf,{value:n.status,onValueChange:oe=>N.mutate({campaignId:n.id,status:oe}),children:[d.jsx(id,{className:"w-40",children:d.jsx(kf,{})}),d.jsxs(od,{children:[d.jsx(vn,{value:"active",children:"Active"}),d.jsx(vn,{value:"funded",children:"Funded"}),d.jsx(vn,{value:"completed",children:"Completed"}),d.jsx(vn,{value:"failed",children:"Failed"}),d.jsx(vn,{value:"cancelled",children:"Cancelled"})]})]}),d.jsx(yn,{variant:"outline",onClick:()=>O.mutate(n.id),children:"Trigger Purchase"}),d.jsx(yn,{variant:"outline",onClick:()=>y.mutate(n.id),children:"Process Refunds"})]})]}),d.jsx(Zy,{children:d.jsx(yn,{variant:"outline",onClick:()=>a(!1),children:"Close"})})]})}),d.jsx(SE,{open:l,onOpenChange:c,children:d.jsxs(Qy,{className:"max-w-2xl",children:[d.jsxs(Yy,{children:[d.jsx(Xy,{children:"User Details"}),d.jsx(Jy,{children:"User activity and risk assessment"})]}),s&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(Pn,{children:"Wallet Address"}),d.jsx("code",{className:"block text-xs bg-muted p-2 rounded",children:s.address})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"Risk Score"}),d.jsxs(Sa,{variant:s.riskScore>75?"destructive":s.riskScore>50?"secondary":"default",className:"text-lg",children:[s.riskScore,"/100"]})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"Total Contributed"}),d.jsxs("div",{className:"text-lg font-semibold",children:["$",s.totalContributed.toLocaleString()]})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"Campaigns Supported"}),d.jsx("div",{className:"text-lg font-semibold",children:s.campaignsSupported})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"First Activity"}),d.jsx("div",{className:"text-sm",children:Jl(new Date(s.firstContribution),"PPP")})]}),d.jsxs("div",{children:[d.jsx(Pn,{children:"Last Activity"}),d.jsx("div",{className:"text-sm",children:Jl(new Date(s.lastActivity),"PPP")})]})]}),d.jsxs("div",{className:"flex gap-2",children:[s.status==="active"&&d.jsxs(yn,{variant:"destructive",onClick:()=>I.mutate(s.address),children:[d.jsx(W1,{className:"mr-2 h-4 w-4"}),"Ban User"]}),s.status==="banned"&&d.jsxs(yn,{variant:"outline",onClick:()=>I.mutate(s.address),children:[d.jsx(bC,{className:"mr-2 h-4 w-4"}),"Unban User"]})]})]}),d.jsx(Zy,{children:d.jsx(yn,{variant:"outline",onClick:()=>c(!1),children:"Close"})})]})})]})})}function xde(){return d.jsxs(XV,{children:[d.jsx(Eu,{path:"/",component:wee}),d.jsx(Eu,{path:"/campaigns",component:cne}),d.jsx(Eu,{path:"/campaign/:id",component:Wre}),d.jsx(Eu,{path:"/create-campaign",component:dde}),d.jsx(Eu,{path:"/admin",component:vde}),d.jsx(Eu,{component:_ee})]})}function _de(){return k.useEffect(()=>(Ca.connect(),()=>{Ca.disconnect()}),[]),d.jsx(V2,{children:d.jsx(v9,{client:P9,children:d.jsx(bX,{children:d.jsxs(r$,{children:[d.jsx(R7,{}),d.jsx(V2,{children:d.jsx(xde,{})})]})})})})}document.documentElement.classList.remove("dark");document.documentElement.classList.add("light");localStorage.setItem("theme","light");f4(document.getElementById("root")).render(d.jsx(_de,{}));export{Bde as C,Ude as D,jT as E,I0 as L,Oe as P,Qf as S,gi as T,bl as V,QZ as a,Xe as b,_i as c,wm as d,qZ as e,zde as f,ra as g,Vde as h,Fde as i,Jr as j,xn as k,Wde as l,Co as m,tH as r,NL as s};
